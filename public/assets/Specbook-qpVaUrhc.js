import{D as _e,h as Oe,i as Fe,l as i,j as Cs,k as Ss,E as Vs,z as P,F as Es,G as As}from"./index-C0VNQ5Cr.js";import{g as _s,r as u,R as ke,b as Vt}from"./vendor-react-DN7YJcfR.js";import{X as Ot,C as Ls,y as js,U as Bs,z as Is,i as Yt,T as jt,P as or}from"./vendor-ui-D8A9iq7X.js";import"./vendor-data-DrLf5NIQ.js";import"./vendor-date-DbWJ9m7c.js";import"./vendor-calendar-DjAQlTCo.js";const We={getItemImage:async t=>{const n=await Fe.get(`/specbook/item/${t}/image`);return{image_url:n.data.image_url,sub_images:n.data.sub_images||[]}},getLibraryMeta:async()=>(await Fe.get("/specbook/library/meta")).data,getCategories:async()=>(await Fe.get("/specbook/categories")).data,getProjectMeta:async t=>(await Fe.get(`/specbook/project/${t}/meta`)).data,getItemById:async t=>{try{return(await Fe.get(`/specbook/item/${t}`)).data}catch{return null}},updateCategories:async t=>{await Fe.put("/specbook/categories",{categories:t})},createItemBase64:async t=>(await Fe.post("/specbook/base64",t)).data,updateItemBase64:async(t,n)=>(await Fe.put(`/specbook/base64/${t}`,n)).data,deleteItem:async t=>{await Fe.delete(`/specbook/${t}`)},updateSubImages:async(t,n)=>{await Fe.put(`/specbook/${t}/sub-images`,{sub_images:n})},reorderItems:async t=>{await Fe.put("/specbook/reorder",{items:t})}},q={getItemImage:async t=>{if(Oe()){console.log("[specbookService] Using Firestore for image");const n=await _e.getItemImage(String(t));return n||{image_url:null,sub_images:[]}}return console.log("[specbookService] Using Railway API for image"),We.getItemImage(t)},getLibraryMeta:async()=>Oe()?_e.getLibraryMeta():We.getLibraryMeta(),getCategories:async()=>Oe()?_e.getCategories():We.getCategories(),getProjectMeta:async t=>Oe()?_e.getProjectMeta(t):We.getProjectMeta(t),getItemById:async t=>Oe()?_e.getItemById(String(t)):We.getItemById(t),updateCategories:async t=>Oe()?(console.log("[specbookService] Using Firestore for updateCategories"),_e.updateCategories(t)):(console.log("[specbookService] Using Railway API for updateCategories"),We.updateCategories(t)),createItemBase64:async t=>Oe()?(console.log("[specbookService] Using Firestore for createItemBase64"),_e.createItemBase64(t)):(console.log("[specbookService] Using Railway API for createItemBase64"),We.createItemBase64(t)),updateItemBase64:async(t,n)=>Oe()?(console.log("[specbookService] Using Firestore for updateItemBase64"),_e.updateItemBase64(t,n)):(console.log("[specbookService] Using Railway API for updateItemBase64"),We.updateItemBase64(t,n)),deleteItem:async t=>Oe()?(console.log("[specbookService] Using Firestore for deleteItem"),_e.deleteItem(t)):(console.log("[specbookService] Using Railway API for deleteItem"),We.deleteItem(t)),updateSubImages:async(t,n)=>Oe()?(console.log("[specbookService] Using Firestore for updateSubImages"),_e.updateSubImages(t,n)):(console.log("[specbookService] Using Railway API for updateSubImages"),We.updateSubImages(t,n)),reorderItems:async t=>Oe()?(console.log("[specbookService] Using Firestore for reorderItems"),_e.reorderItems(t)):(console.log("[specbookService] Using Railway API for reorderItems"),We.reorderItems(t)),subscribeToLibraryItems:_e.subscribeToLibraryItems,subscribeToProjectItems:_e.subscribeToProjectItems};var yn=function(t,n){return yn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])},yn(t,n)};function Rs(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");yn(t,n);function e(){this.constructor=t}t.prototype=n===null?Object.create(n):(e.prototype=n.prototype,new e)}var se=function(){return se=Object.assign||function(n){for(var e,r=1,s=arguments.length;r<s;r++){e=arguments[r];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a])}return n},se.apply(this,arguments)};var ir=!1,ct,kn,Dn,Ft,Wt,Ar,$t,wn,Cn,Sn,_r,Vn,En,Lr,jr;function ye(){if(!ir){ir=!0;var t=navigator.userAgent,n=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(t),e=/(Mac OS X)|(Windows)|(Linux)/.exec(t);if(Vn=/\b(iPhone|iP[ao]d)/.exec(t),En=/\b(iP[ao]d)/.exec(t),Sn=/Android/i.exec(t),Lr=/FBAN\/\w+;/i.exec(t),jr=/Mobile/i.exec(t),_r=!!/Win64/.exec(t),n){ct=n[1]?parseFloat(n[1]):n[5]?parseFloat(n[5]):NaN,ct&&document&&document.documentMode&&(ct=document.documentMode);var r=/(?:Trident\/(\d+.\d+))/.exec(t);Ar=r?parseFloat(r[1])+4:ct,kn=n[2]?parseFloat(n[2]):NaN,Dn=n[3]?parseFloat(n[3]):NaN,Ft=n[4]?parseFloat(n[4]):NaN,Ft?(n=/(?:Chrome\/(\d+\.\d+))/.exec(t),Wt=n&&n[1]?parseFloat(n[1]):NaN):Wt=NaN}else ct=kn=Dn=Wt=Ft=NaN;if(e){if(e[1]){var s=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(t);$t=s?parseFloat(s[1].replace("_",".")):!0}else $t=!1;wn=!!e[2],Cn=!!e[3]}else $t=wn=Cn=!1}}var An={ie:function(){return ye()||ct},ieCompatibilityMode:function(){return ye()||Ar>ct},ie64:function(){return An.ie()&&_r},firefox:function(){return ye()||kn},opera:function(){return ye()||Dn},webkit:function(){return ye()||Ft},safari:function(){return An.webkit()},chrome:function(){return ye()||Wt},windows:function(){return ye()||wn},osx:function(){return ye()||$t},linux:function(){return ye()||Cn},iphone:function(){return ye()||Vn},mobile:function(){return ye()||Vn||En||Sn||jr},nativeApp:function(){return ye()||Lr},android:function(){return ye()||Sn},ipad:function(){return ye()||En}},Us=An,Hs=!!(typeof window<"u"&&window.document&&window.document.createElement),Ms={canUseDOM:Hs},Ps=Ms,Br=Ps,Ir;Br.canUseDOM&&(Ir=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function Ts(t,n){if(!Br.canUseDOM||n&&!("addEventListener"in document))return!1;var e="on"+t,r=e in document;if(!r){var s=document.createElement("div");s.setAttribute(e,"return;"),r=typeof s[e]=="function"}return!r&&Ir&&t==="wheel"&&(r=document.implementation.hasFeature("Events.wheel","3.0")),r}var zs=Ts,Os=Us,Fs=zs,ar=10,lr=40,cr=800;function Rr(t){var n=0,e=0,r=0,s=0;return"detail"in t&&(e=t.detail),"wheelDelta"in t&&(e=-t.wheelDelta/120),"wheelDeltaY"in t&&(e=-t.wheelDeltaY/120),"wheelDeltaX"in t&&(n=-t.wheelDeltaX/120),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(n=e,e=0),r=n*ar,s=e*ar,"deltaY"in t&&(s=t.deltaY),"deltaX"in t&&(r=t.deltaX),(r||s)&&t.deltaMode&&(t.deltaMode==1?(r*=lr,s*=lr):(r*=cr,s*=cr)),r&&!n&&(n=r<1?-1:1),s&&!e&&(e=s<1?-1:1),{spinX:n,spinY:e,pixelX:r,pixelY:s}}Rr.getEventType=function(){return Os.firefox()?"DOMMouseScroll":Fs("wheel")?"wheel":"mousewheel"};var Ws=Rr,$s=Ws;const Xs=_s($s);function Ys(t,n,e,r,s,a){a===void 0&&(a=0);var c=ht(t,n,a),d=c.width,m=c.height,p=Math.min(d,e),f=Math.min(m,r);return p>f*s?{width:f*s,height:f}:{width:p,height:p/s}}function Zs(t){return t.width>t.height?t.width/t.naturalWidth:t.height/t.naturalHeight}function St(t,n,e,r,s){s===void 0&&(s=0);var a=ht(n.width,n.height,s),c=a.width,d=a.height;return{x:dr(t.x,c,e.width,r),y:dr(t.y,d,e.height,r)}}function dr(t,n,e,r){var s=n*r/2-e/2;return Jt(t,-s,s)}function ur(t,n){return Math.sqrt(Math.pow(t.y-n.y,2)+Math.pow(t.x-n.x,2))}function mr(t,n){return Math.atan2(n.y-t.y,n.x-t.x)*180/Math.PI}function Gs(t,n,e,r,s,a,c){a===void 0&&(a=0),c===void 0&&(c=!0);var d=c?qs:Ks,m=ht(n.width,n.height,a),p=ht(n.naturalWidth,n.naturalHeight,a),f={x:d(100,((m.width-e.width/s)/2-t.x/s)/m.width*100),y:d(100,((m.height-e.height/s)/2-t.y/s)/m.height*100),width:d(100,e.width/m.width*100/s),height:d(100,e.height/m.height*100/s)},g=Math.round(d(p.width,f.width*p.width/100)),x=Math.round(d(p.height,f.height*p.height/100)),v=p.width>=p.height*r,k=v?{width:Math.round(x*r),height:x}:{width:g,height:Math.round(g/r)},N=se(se({},k),{x:Math.round(d(p.width-k.width,f.x*p.width/100)),y:Math.round(d(p.height-k.height,f.y*p.height/100))});return{croppedAreaPercentages:f,croppedAreaPixels:N}}function qs(t,n){return Math.min(t,Math.max(0,n))}function Ks(t,n){return n}function Js(t,n,e,r,s,a){var c=ht(n.width,n.height,e),d=Jt(r.width/c.width*(100/t.width),s,a),m={x:d*c.width/2-r.width/2-c.width*d*(t.x/100),y:d*c.height/2-r.height/2-c.height*d*(t.y/100)};return{crop:m,zoom:d}}function Qs(t,n,e){var r=Zs(n);return e.height>e.width?e.height/(t.height*r):e.width/(t.width*r)}function eo(t,n,e,r,s,a){e===void 0&&(e=0);var c=ht(n.naturalWidth,n.naturalHeight,e),d=Jt(Qs(t,n,r),s,a),m=r.height>r.width?r.height/t.height:r.width/t.width,p={x:((c.width-t.width)/2-t.x)*m,y:((c.height-t.height)/2-t.y)*m};return{crop:p,zoom:d}}function pr(t,n){return{x:(n.x+t.x)/2,y:(n.y+t.y)/2}}function to(t){return t*Math.PI/180}function ht(t,n,e){var r=to(e);return{width:Math.abs(Math.cos(r)*t)+Math.abs(Math.sin(r)*n),height:Math.abs(Math.sin(r)*t)+Math.abs(Math.cos(r)*n)}}function Jt(t,n,e){return Math.min(Math.max(t,n),e)}function Pt(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return t.filter(function(e){return typeof e=="string"&&e.length>0}).join(" ").trim()}var no=`.reactEasyCrop_Container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  user-select: none;
  touch-action: none;
  cursor: move;
  display: flex;
  justify-content: center;
  align-items: center;
}

.reactEasyCrop_Image,
.reactEasyCrop_Video {
  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */
}

.reactEasyCrop_Contain {
  max-width: 100%;
  max-height: 100%;
  margin: auto;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.reactEasyCrop_Cover_Horizontal {
  width: 100%;
  height: auto;
}
.reactEasyCrop_Cover_Vertical {
  width: auto;
  height: 100%;
}

.reactEasyCrop_CropArea {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-sizing: border-box;
  box-shadow: 0 0 0 9999em;
  color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

.reactEasyCrop_CropAreaRound {
  border-radius: 50%;
}

.reactEasyCrop_CropAreaGrid::before {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 0;
  bottom: 0;
  left: 33.33%;
  right: 33.33%;
  border-top: 0;
  border-bottom: 0;
}

.reactEasyCrop_CropAreaGrid::after {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 33.33%;
  bottom: 33.33%;
  left: 0;
  right: 0;
  border-left: 0;
  border-right: 0;
}
`,ro=1,so=3,oo=1,io=function(t){Rs(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;return e.cropperRef=u.createRef(),e.imageRef=u.createRef(),e.videoRef=u.createRef(),e.containerPosition={x:0,y:0},e.containerRef=null,e.styleRef=null,e.containerRect=null,e.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},e.dragStartPosition={x:0,y:0},e.dragStartCrop={x:0,y:0},e.gestureZoomStart=0,e.gestureRotationStart=0,e.isTouching=!1,e.lastPinchDistance=0,e.lastPinchRotation=0,e.rafDragTimeout=null,e.rafPinchTimeout=null,e.wheelTimer=null,e.currentDoc=typeof document<"u"?document:null,e.currentWindow=typeof window<"u"?window:null,e.resizeObserver=null,e.previousCropSize=null,e.isInitialized=!1,e.state={cropSize:null,hasWheelJustStarted:!1,mediaObjectFit:void 0},e.initResizeObserver=function(){if(!(typeof window.ResizeObserver>"u"||!e.containerRef)){var r=!0;e.resizeObserver=new window.ResizeObserver(function(s){if(r){r=!1;return}e.computeSizes()}),e.resizeObserver.observe(e.containerRef)}},e.preventZoomSafari=function(r){return r.preventDefault()},e.cleanEvents=function(){e.currentDoc&&(e.currentDoc.removeEventListener("mousemove",e.onMouseMove),e.currentDoc.removeEventListener("mouseup",e.onDragStopped),e.currentDoc.removeEventListener("touchmove",e.onTouchMove),e.currentDoc.removeEventListener("touchend",e.onDragStopped),e.currentDoc.removeEventListener("gesturechange",e.onGestureChange),e.currentDoc.removeEventListener("gestureend",e.onGestureEnd),e.currentDoc.removeEventListener("scroll",e.onScroll))},e.clearScrollEvent=function(){e.containerRef&&e.containerRef.removeEventListener("wheel",e.onWheel),e.wheelTimer&&clearTimeout(e.wheelTimer)},e.onMediaLoad=function(){var r=e.computeSizes();r&&(e.previousCropSize=r,e.emitCropData(),e.setInitialCrop(r),e.isInitialized=!0),e.props.onMediaLoaded&&e.props.onMediaLoaded(e.mediaSize)},e.setInitialCrop=function(r){if(e.props.initialCroppedAreaPercentages){var s=Js(e.props.initialCroppedAreaPercentages,e.mediaSize,e.props.rotation,r,e.props.minZoom,e.props.maxZoom),a=s.crop,c=s.zoom;e.props.onCropChange(a),e.props.onZoomChange&&e.props.onZoomChange(c)}else if(e.props.initialCroppedAreaPixels){var d=eo(e.props.initialCroppedAreaPixels,e.mediaSize,e.props.rotation,r,e.props.minZoom,e.props.maxZoom),a=d.crop,c=d.zoom;e.props.onCropChange(a),e.props.onZoomChange&&e.props.onZoomChange(c)}},e.computeSizes=function(){var r,s,a,c,d,m,p=e.imageRef.current||e.videoRef.current;if(p&&e.containerRef){e.containerRect=e.containerRef.getBoundingClientRect(),e.saveContainerPosition();var f=e.containerRect.width/e.containerRect.height,g=((r=e.imageRef.current)===null||r===void 0?void 0:r.naturalWidth)||((s=e.videoRef.current)===null||s===void 0?void 0:s.videoWidth)||0,x=((a=e.imageRef.current)===null||a===void 0?void 0:a.naturalHeight)||((c=e.videoRef.current)===null||c===void 0?void 0:c.videoHeight)||0,v=p.offsetWidth<g||p.offsetHeight<x,k=g/x,N=void 0;if(v)switch(e.state.mediaObjectFit){default:case"contain":N=f>k?{width:e.containerRect.height*k,height:e.containerRect.height}:{width:e.containerRect.width,height:e.containerRect.width/k};break;case"horizontal-cover":N={width:e.containerRect.width,height:e.containerRect.width/k};break;case"vertical-cover":N={width:e.containerRect.height*k,height:e.containerRect.height};break}else N={width:p.offsetWidth,height:p.offsetHeight};e.mediaSize=se(se({},N),{naturalWidth:g,naturalHeight:x}),e.props.setMediaSize&&e.props.setMediaSize(e.mediaSize);var D=e.props.cropSize?e.props.cropSize:Ys(e.mediaSize.width,e.mediaSize.height,e.containerRect.width,e.containerRect.height,e.props.aspect,e.props.rotation);return(((d=e.state.cropSize)===null||d===void 0?void 0:d.height)!==D.height||((m=e.state.cropSize)===null||m===void 0?void 0:m.width)!==D.width)&&e.props.onCropSizeChange&&e.props.onCropSizeChange(D),e.setState({cropSize:D},e.recomputeCropPosition),e.props.setCropSize&&e.props.setCropSize(D),D}},e.saveContainerPosition=function(){if(e.containerRef){var r=e.containerRef.getBoundingClientRect();e.containerPosition={x:r.left,y:r.top}}},e.onMouseDown=function(r){e.currentDoc&&(r.preventDefault(),e.currentDoc.addEventListener("mousemove",e.onMouseMove),e.currentDoc.addEventListener("mouseup",e.onDragStopped),e.saveContainerPosition(),e.onDragStart(n.getMousePoint(r)))},e.onMouseMove=function(r){return e.onDrag(n.getMousePoint(r))},e.onScroll=function(r){e.currentDoc&&(r.preventDefault(),e.saveContainerPosition())},e.onTouchStart=function(r){e.currentDoc&&(e.isTouching=!0,!(e.props.onTouchRequest&&!e.props.onTouchRequest(r))&&(e.currentDoc.addEventListener("touchmove",e.onTouchMove,{passive:!1}),e.currentDoc.addEventListener("touchend",e.onDragStopped),e.saveContainerPosition(),r.touches.length===2?e.onPinchStart(r):r.touches.length===1&&e.onDragStart(n.getTouchPoint(r.touches[0]))))},e.onTouchMove=function(r){r.preventDefault(),r.touches.length===2?e.onPinchMove(r):r.touches.length===1&&e.onDrag(n.getTouchPoint(r.touches[0]))},e.onGestureStart=function(r){e.currentDoc&&(r.preventDefault(),e.currentDoc.addEventListener("gesturechange",e.onGestureChange),e.currentDoc.addEventListener("gestureend",e.onGestureEnd),e.gestureZoomStart=e.props.zoom,e.gestureRotationStart=e.props.rotation)},e.onGestureChange=function(r){if(r.preventDefault(),!e.isTouching){var s=n.getMousePoint(r),a=e.gestureZoomStart-1+r.scale;if(e.setNewZoom(a,s,{shouldUpdatePosition:!0}),e.props.onRotationChange){var c=e.gestureRotationStart+r.rotation;e.props.onRotationChange(c)}}},e.onGestureEnd=function(r){e.cleanEvents()},e.onDragStart=function(r){var s,a,c=r.x,d=r.y;e.dragStartPosition={x:c,y:d},e.dragStartCrop=se({},e.props.crop),(a=(s=e.props).onInteractionStart)===null||a===void 0||a.call(s)},e.onDrag=function(r){var s=r.x,a=r.y;e.currentWindow&&(e.rafDragTimeout&&e.currentWindow.cancelAnimationFrame(e.rafDragTimeout),e.rafDragTimeout=e.currentWindow.requestAnimationFrame(function(){if(e.state.cropSize&&!(s===void 0||a===void 0)){var c=s-e.dragStartPosition.x,d=a-e.dragStartPosition.y,m={x:e.dragStartCrop.x+c,y:e.dragStartCrop.y+d},p=e.props.restrictPosition?St(m,e.mediaSize,e.state.cropSize,e.props.zoom,e.props.rotation):m;e.props.onCropChange(p)}}))},e.onDragStopped=function(){var r,s;e.isTouching=!1,e.cleanEvents(),e.emitCropData(),(s=(r=e.props).onInteractionEnd)===null||s===void 0||s.call(r)},e.onWheel=function(r){if(e.currentWindow&&!(e.props.onWheelRequest&&!e.props.onWheelRequest(r))){r.preventDefault();var s=n.getMousePoint(r),a=Xs(r).pixelY,c=e.props.zoom-a*e.props.zoomSpeed/200;e.setNewZoom(c,s,{shouldUpdatePosition:!0}),e.state.hasWheelJustStarted||e.setState({hasWheelJustStarted:!0},function(){var d,m;return(m=(d=e.props).onInteractionStart)===null||m===void 0?void 0:m.call(d)}),e.wheelTimer&&clearTimeout(e.wheelTimer),e.wheelTimer=e.currentWindow.setTimeout(function(){return e.setState({hasWheelJustStarted:!1},function(){var d,m;return(m=(d=e.props).onInteractionEnd)===null||m===void 0?void 0:m.call(d)})},250)}},e.getPointOnContainer=function(r,s){var a=r.x,c=r.y;if(!e.containerRect)throw new Error("The Cropper is not mounted");return{x:e.containerRect.width/2-(a-s.x),y:e.containerRect.height/2-(c-s.y)}},e.getPointOnMedia=function(r){var s=r.x,a=r.y,c=e.props,d=c.crop,m=c.zoom;return{x:(s+d.x)/m,y:(a+d.y)/m}},e.setNewZoom=function(r,s,a){var c=a===void 0?{}:a,d=c.shouldUpdatePosition,m=d===void 0?!0:d;if(!(!e.state.cropSize||!e.props.onZoomChange)){var p=Jt(r,e.props.minZoom,e.props.maxZoom);if(m){var f=e.getPointOnContainer(s,e.containerPosition),g=e.getPointOnMedia(f),x={x:g.x*p-f.x,y:g.y*p-f.y},v=e.props.restrictPosition?St(x,e.mediaSize,e.state.cropSize,p,e.props.rotation):x;e.props.onCropChange(v)}e.props.onZoomChange(p)}},e.getCropData=function(){if(!e.state.cropSize)return null;var r=e.props.restrictPosition?St(e.props.crop,e.mediaSize,e.state.cropSize,e.props.zoom,e.props.rotation):e.props.crop;return Gs(r,e.mediaSize,e.state.cropSize,e.getAspect(),e.props.zoom,e.props.rotation,e.props.restrictPosition)},e.emitCropData=function(){var r=e.getCropData();if(r){var s=r.croppedAreaPercentages,a=r.croppedAreaPixels;e.props.onCropComplete&&e.props.onCropComplete(s,a),e.props.onCropAreaChange&&e.props.onCropAreaChange(s,a)}},e.emitCropAreaChange=function(){var r=e.getCropData();if(r){var s=r.croppedAreaPercentages,a=r.croppedAreaPixels;e.props.onCropAreaChange&&e.props.onCropAreaChange(s,a)}},e.recomputeCropPosition=function(){var r,s;if(e.state.cropSize){var a=e.props.crop;if(e.isInitialized&&(!((r=e.previousCropSize)===null||r===void 0)&&r.width)&&(!((s=e.previousCropSize)===null||s===void 0)&&s.height)){var c=Math.abs(e.previousCropSize.width-e.state.cropSize.width)>1e-6||Math.abs(e.previousCropSize.height-e.state.cropSize.height)>1e-6;if(c){var d=e.state.cropSize.width/e.previousCropSize.width,m=e.state.cropSize.height/e.previousCropSize.height;a={x:e.props.crop.x*d,y:e.props.crop.y*m}}}var p=e.props.restrictPosition?St(a,e.mediaSize,e.state.cropSize,e.props.zoom,e.props.rotation):a;e.previousCropSize=e.state.cropSize,e.props.onCropChange(p),e.emitCropData()}},e.onKeyDown=function(r){var s,a,c=e.props,d=c.crop,m=c.onCropChange,p=c.keyboardStep,f=c.zoom,g=c.rotation,x=p;if(e.state.cropSize){r.shiftKey&&(x*=.2);var v=se({},d);switch(r.key){case"ArrowUp":v.y-=x,r.preventDefault();break;case"ArrowDown":v.y+=x,r.preventDefault();break;case"ArrowLeft":v.x-=x,r.preventDefault();break;case"ArrowRight":v.x+=x,r.preventDefault();break;default:return}e.props.restrictPosition&&(v=St(v,e.mediaSize,e.state.cropSize,f,g)),r.repeat||(a=(s=e.props).onInteractionStart)===null||a===void 0||a.call(s),m(v)}},e.onKeyUp=function(r){var s,a;switch(r.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":r.preventDefault();break;default:return}e.emitCropData(),(a=(s=e.props).onInteractionEnd)===null||a===void 0||a.call(s)},e}return n.prototype.componentDidMount=function(){!this.currentDoc||!this.currentWindow||(this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.initResizeObserver(),typeof window.ResizeObserver>"u"&&this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.currentDoc.addEventListener("scroll",this.onScroll),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=no,this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef),this.props.setCropperRef&&this.props.setCropperRef(this.cropperRef))},n.prototype.componentWillUnmount=function(){var e,r;!this.currentDoc||!this.currentWindow||(typeof window.ResizeObserver>"u"&&this.currentWindow.removeEventListener("resize",this.computeSizes),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&((r=this.styleRef.parentNode)===null||r===void 0||r.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent())},n.prototype.componentDidUpdate=function(e){var r,s,a,c,d,m,p,f,g;e.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):e.aspect!==this.props.aspect?this.computeSizes():e.objectFit!==this.props.objectFit?this.computeSizes():e.zoom!==this.props.zoom?this.recomputeCropPosition():((r=e.cropSize)===null||r===void 0?void 0:r.height)!==((s=this.props.cropSize)===null||s===void 0?void 0:s.height)||((a=e.cropSize)===null||a===void 0?void 0:a.width)!==((c=this.props.cropSize)===null||c===void 0?void 0:c.width)?this.computeSizes():(((d=e.crop)===null||d===void 0?void 0:d.x)!==((m=this.props.crop)===null||m===void 0?void 0:m.x)||((p=e.crop)===null||p===void 0?void 0:p.y)!==((f=this.props.crop)===null||f===void 0?void 0:f.y))&&this.emitCropAreaChange(),e.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),e.video!==this.props.video&&((g=this.videoRef.current)===null||g===void 0||g.load());var x=this.getObjectFit();x!==this.state.mediaObjectFit&&this.setState({mediaObjectFit:x},this.computeSizes)},n.prototype.getAspect=function(){var e=this.props,r=e.cropSize,s=e.aspect;return r?r.width/r.height:s},n.prototype.getObjectFit=function(){var e,r,s,a;if(this.props.objectFit==="cover"){var c=this.imageRef.current||this.videoRef.current;if(c&&this.containerRef){this.containerRect=this.containerRef.getBoundingClientRect();var d=this.containerRect.width/this.containerRect.height,m=((e=this.imageRef.current)===null||e===void 0?void 0:e.naturalWidth)||((r=this.videoRef.current)===null||r===void 0?void 0:r.videoWidth)||0,p=((s=this.imageRef.current)===null||s===void 0?void 0:s.naturalHeight)||((a=this.videoRef.current)===null||a===void 0?void 0:a.videoHeight)||0,f=m/p;return f<d?"horizontal-cover":"vertical-cover"}return"horizontal-cover"}return this.props.objectFit},n.prototype.onPinchStart=function(e){var r=n.getTouchPoint(e.touches[0]),s=n.getTouchPoint(e.touches[1]);this.lastPinchDistance=ur(r,s),this.lastPinchRotation=mr(r,s),this.onDragStart(pr(r,s))},n.prototype.onPinchMove=function(e){var r=this;if(!(!this.currentDoc||!this.currentWindow)){var s=n.getTouchPoint(e.touches[0]),a=n.getTouchPoint(e.touches[1]),c=pr(s,a);this.onDrag(c),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var d=ur(s,a),m=r.props.zoom*(d/r.lastPinchDistance);r.setNewZoom(m,c,{shouldUpdatePosition:!1}),r.lastPinchDistance=d;var p=mr(s,a),f=r.props.rotation+(p-r.lastPinchRotation);r.props.onRotationChange&&r.props.onRotationChange(f),r.lastPinchRotation=p})}},n.prototype.render=function(){var e=this,r,s=this.props,a=s.image,c=s.video,d=s.mediaProps,m=s.cropperProps,p=s.transform,f=s.crop,g=f.x,x=f.y,v=s.rotation,k=s.zoom,N=s.cropShape,D=s.showGrid,w=s.roundCropAreaPixels,C=s.style,V=C.containerStyle,j=C.cropAreaStyle,B=C.mediaStyle,R=s.classes,E=R.containerClassName,A=R.cropAreaClassName,S=R.mediaClassName,O=(r=this.state.mediaObjectFit)!==null&&r!==void 0?r:this.getObjectFit();return u.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(ae){return e.containerRef=ae},"data-testid":"container",style:V,className:Pt("reactEasyCrop_Container",E)},a?u.createElement("img",se({alt:"",className:Pt("reactEasyCrop_Image",O==="contain"&&"reactEasyCrop_Contain",O==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",O==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",S)},d,{src:a,ref:this.imageRef,style:se(se({},B),{transform:p||"translate(".concat(g,"px, ").concat(x,"px) rotate(").concat(v,"deg) scale(").concat(k,")")}),onLoad:this.onMediaLoad})):c&&u.createElement("video",se({autoPlay:!0,playsInline:!0,loop:!0,muted:!0,className:Pt("reactEasyCrop_Video",O==="contain"&&"reactEasyCrop_Contain",O==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",O==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",S)},d,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:se(se({},B),{transform:p||"translate(".concat(g,"px, ").concat(x,"px) rotate(").concat(v,"deg) scale(").concat(k,")")}),controls:!1}),(Array.isArray(c)?c:[{src:c}]).map(function(U){return u.createElement("source",se({key:U.src},U))})),this.state.cropSize&&u.createElement("div",se({ref:this.cropperRef,style:se(se({},j),{width:w?Math.round(this.state.cropSize.width):this.state.cropSize.width,height:w?Math.round(this.state.cropSize.height):this.state.cropSize.height}),tabIndex:0,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,"data-testid":"cropper",className:Pt("reactEasyCrop_CropArea",N==="round"&&"reactEasyCrop_CropAreaRound",D&&"reactEasyCrop_CropAreaGrid",A)},m)))},n.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:so,minZoom:ro,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},cropperProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0,keyboardStep:oo},n.getMousePoint=function(e){return{x:Number(e.clientX),y:Number(e.clientY)}},n.getTouchPoint=function(e){return{x:Number(e.clientX),y:Number(e.clientY)}},n}(u.Component);const ao=t=>new Promise((n,e)=>{const r=new Image;r.addEventListener("load",()=>n(r)),r.addEventListener("error",s=>e(s)),r.crossOrigin="anonymous",r.src=t});async function lo(t,n,e=0){const r=await ao(t),s=document.createElement("canvas"),a=s.getContext("2d");if(!a)throw new Error("No 2d context");const c=e*Math.PI/180,d=Math.abs(Math.sin(c)),m=Math.abs(Math.cos(c)),p=r.width*m+r.height*d,f=r.width*d+r.height*m;s.width=n.width,s.height=n.height,a.fillStyle="#FFFFFF",a.fillRect(0,0,s.width,s.height);const g=document.createElement("canvas"),x=g.getContext("2d");if(!x)throw new Error("No 2d context");const v=Math.max(n.width,n.height)*2;g.width=p+v*2,g.height=f+v*2,x.fillStyle="#FFFFFF",x.fillRect(0,0,g.width,g.height),x.translate(g.width/2,g.height/2),x.rotate(c),x.translate(-r.width/2,-r.height/2),x.drawImage(r,0,0);const k=(g.width-p)/2,N=(g.height-f)/2;return a.drawImage(g,n.x+k,n.y+N,n.width,n.height,0,0,n.width,n.height),s.toDataURL("image/jpeg",.9)}const co=({image:t,onCropComplete:n,onCancel:e,aspectRatio:r=1})=>{const[s,a]=u.useState({x:0,y:0}),[c,d]=u.useState(1),[m,p]=u.useState(0),[f,g]=u.useState(null),x=u.useCallback(w=>{a(w)},[]),v=u.useCallback(w=>{d(w)},[]),k=u.useCallback((w,C)=>{g(C)},[]),N=()=>{p(w=>(w+90)%360)},D=async()=>{if(f)try{const w=await lo(t,f,m);n(w)}catch(w){console.error("Error cropping image:",w)}};return i.jsxDEV("div",{className:"fixed inset-0 bg-black/80 z-50 flex flex-col",children:[i.jsxDEV("div",{className:"flex items-center justify-between p-4 bg-black/50",children:[i.jsxDEV("button",{onClick:e,className:"p-2 text-white hover:bg-white/20 rounded-full transition-colors",children:i.jsxDEV(Ot,{className:"w-6 h-6"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ImageCropper.tsx",lineNumber:142,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ImageCropper.tsx",lineNumber:138,columnNumber:9},void 0),i.jsxDEV("span",{className:"text-white font-medium",children:"이미지 자르기 (1:1)"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ImageCropper.tsx",lineNumber:144,columnNumber:9},void 0),i.jsxDEV("button",{onClick:D,className:"p-2 text-white hover:bg-white/20 rounded-full transition-colors",children:i.jsxDEV(Ls,{className:"w-6 h-6"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ImageCropper.tsx",lineNumber:149,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ImageCropper.tsx",lineNumber:145,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ImageCropper.tsx",lineNumber:137,columnNumber:7},void 0),i.jsxDEV("div",{className:"flex-1 relative",children:i.jsxDEV(io,{image:t,crop:s,zoom:c,rotation:m,aspect:r,onCropChange:x,onZoomChange:v,onCropComplete:k,cropShape:"rect",showGrid:!0,minZoom:.5,maxZoom:3,zoomSpeed:.05,restrictPosition:!1,style:{containerStyle:{backgroundColor:"#000"},mediaStyle:{backgroundColor:"#FFFFFF"}}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ImageCropper.tsx",lineNumber:155,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ImageCropper.tsx",lineNumber:154,columnNumber:7},void 0),i.jsxDEV("div",{className:"p-4 bg-black/50",children:i.jsxDEV("div",{className:"flex items-center justify-center gap-6",children:[i.jsxDEV("button",{onClick:N,className:"p-3 text-white hover:bg-white/20 rounded-full transition-colors",title:"90도 회전",children:i.jsxDEV(js,{className:"w-6 h-6"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ImageCropper.tsx",lineNumber:190,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ImageCropper.tsx",lineNumber:185,columnNumber:11},void 0),i.jsxDEV("div",{className:"flex items-center gap-3 flex-1 max-w-xs",children:[i.jsxDEV("span",{className:"text-white text-sm",children:"-"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ImageCropper.tsx",lineNumber:195,columnNumber:13},void 0),i.jsxDEV("input",{type:"range",min:.5,max:3,step:.05,value:c,onChange:w=>d(Number(w.target.value)),className:"w-full h-2 bg-white/30 rounded-lg appearance-none cursor-pointer accent-white"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ImageCropper.tsx",lineNumber:196,columnNumber:13},void 0),i.jsxDEV("span",{className:"text-white text-sm",children:"+"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ImageCropper.tsx",lineNumber:205,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ImageCropper.tsx",lineNumber:194,columnNumber:11},void 0),i.jsxDEV("span",{className:"text-white text-xs min-w-[40px] text-center",children:[Math.round(c*100),"%"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ImageCropper.tsx",lineNumber:207,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ImageCropper.tsx",lineNumber:183,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ImageCropper.tsx",lineNumber:182,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ImageCropper.tsx",lineNumber:135,columnNumber:5},void 0)};function uo(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return u.useMemo(()=>r=>{n.forEach(s=>s(r))},n)}const Qt=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function bt(t){const n=Object.prototype.toString.call(t);return n==="[object Window]"||n==="[object global]"}function Hn(t){return"nodeType"in t}function De(t){var n,e;return t?bt(t)?t:Hn(t)&&(n=(e=t.ownerDocument)==null?void 0:e.defaultView)!=null?n:window:window}function Mn(t){const{Document:n}=De(t);return t instanceof n}function Ut(t){return bt(t)?!1:t instanceof De(t).HTMLElement}function Ur(t){return t instanceof De(t).SVGElement}function vt(t){return t?bt(t)?t.document:Hn(t)?Mn(t)?t:Ut(t)||Ur(t)?t.ownerDocument:document:document:document}const Ze=Qt?u.useLayoutEffect:u.useEffect;function Pn(t){const n=u.useRef(t);return Ze(()=>{n.current=t}),u.useCallback(function(){for(var e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return n.current==null?void 0:n.current(...r)},[])}function mo(){const t=u.useRef(null),n=u.useCallback((r,s)=>{t.current=setInterval(r,s)},[]),e=u.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[n,e]}function Bt(t,n){n===void 0&&(n=[t]);const e=u.useRef(t);return Ze(()=>{e.current!==t&&(e.current=t)},n),e}function Ht(t,n){const e=u.useRef();return u.useMemo(()=>{const r=t(e.current);return e.current=r,r},[...n])}function Zt(t){const n=Pn(t),e=u.useRef(null),r=u.useCallback(s=>{s!==e.current&&(n==null||n(s,e.current)),e.current=s},[]);return[e,r]}function _n(t){const n=u.useRef();return u.useEffect(()=>{n.current=t},[t]),n.current}let fn={};function Mt(t,n){return u.useMemo(()=>{if(n)return n;const e=fn[t]==null?0:fn[t]+1;return fn[t]=e,t+"-"+e},[t,n])}function Hr(t){return function(n){for(var e=arguments.length,r=new Array(e>1?e-1:0),s=1;s<e;s++)r[s-1]=arguments[s];return r.reduce((a,c)=>{const d=Object.entries(c);for(const[m,p]of d){const f=a[m];f!=null&&(a[m]=f+t*p)}return a},{...n})}}const gt=Hr(1),It=Hr(-1);function po(t){return"clientX"in t&&"clientY"in t}function Tn(t){if(!t)return!1;const{KeyboardEvent:n}=De(t.target);return n&&t instanceof n}function fo(t){if(!t)return!1;const{TouchEvent:n}=De(t.target);return n&&t instanceof n}function Ln(t){if(fo(t)){if(t.touches&&t.touches.length){const{clientX:n,clientY:e}=t.touches[0];return{x:n,y:e}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:n,clientY:e}=t.changedTouches[0];return{x:n,y:e}}}return po(t)?{x:t.clientX,y:t.clientY}:null}const dt=Object.freeze({Translate:{toString(t){if(!t)return;const{x:n,y:e}=t;return"translate3d("+(n?Math.round(n):0)+"px, "+(e?Math.round(e):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:n,scaleY:e}=t;return"scaleX("+n+") scaleY("+e+")"}},Transform:{toString(t){if(t)return[dt.Translate.toString(t),dt.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:n,duration:e,easing:r}=t;return n+" "+e+"ms "+r}}}),fr="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function go(t){return t.matches(fr)?t:t.querySelector(fr)}const ho={display:"none"};function bo(t){let{id:n,value:e}=t;return ke.createElement("div",{id:n,style:ho},e)}function vo(t){let{id:n,announcement:e,ariaLiveType:r="assertive"}=t;const s={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return ke.createElement("div",{id:n,style:s,role:"status","aria-live":r,"aria-atomic":!0},e)}function xo(){const[t,n]=u.useState("");return{announce:u.useCallback(r=>{r!=null&&n(r)},[]),announcement:t}}const Mr=u.createContext(null);function No(t){const n=u.useContext(Mr);u.useEffect(()=>{if(!n)throw new Error("useDndMonitor must be used within a children of <DndContext>");return n(t)},[t,n])}function yo(){const[t]=u.useState(()=>new Set),n=u.useCallback(r=>(t.add(r),()=>t.delete(r)),[t]);return[u.useCallback(r=>{let{type:s,event:a}=r;t.forEach(c=>{var d;return(d=c[s])==null?void 0:d.call(c,a)})},[t]),n]}const ko={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},Do={onDragStart(t){let{active:n}=t;return"Picked up draggable item "+n.id+"."},onDragOver(t){let{active:n,over:e}=t;return e?"Draggable item "+n.id+" was moved over droppable area "+e.id+".":"Draggable item "+n.id+" is no longer over a droppable area."},onDragEnd(t){let{active:n,over:e}=t;return e?"Draggable item "+n.id+" was dropped over droppable area "+e.id:"Draggable item "+n.id+" was dropped."},onDragCancel(t){let{active:n}=t;return"Dragging was cancelled. Draggable item "+n.id+" was dropped."}};function wo(t){let{announcements:n=Do,container:e,hiddenTextDescribedById:r,screenReaderInstructions:s=ko}=t;const{announce:a,announcement:c}=xo(),d=Mt("DndLiveRegion"),[m,p]=u.useState(!1);if(u.useEffect(()=>{p(!0)},[]),No(u.useMemo(()=>({onDragStart(g){let{active:x}=g;a(n.onDragStart({active:x}))},onDragMove(g){let{active:x,over:v}=g;n.onDragMove&&a(n.onDragMove({active:x,over:v}))},onDragOver(g){let{active:x,over:v}=g;a(n.onDragOver({active:x,over:v}))},onDragEnd(g){let{active:x,over:v}=g;a(n.onDragEnd({active:x,over:v}))},onDragCancel(g){let{active:x,over:v}=g;a(n.onDragCancel({active:x,over:v}))}}),[a,n])),!m)return null;const f=ke.createElement(ke.Fragment,null,ke.createElement(bo,{id:r,value:s.draggable}),ke.createElement(vo,{id:d,announcement:c}));return e?Vt.createPortal(f,e):f}var ee;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(ee||(ee={}));function Gt(){}function gr(t,n){return u.useMemo(()=>({sensor:t,options:n??{}}),[t,n])}function Co(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return u.useMemo(()=>[...n].filter(r=>r!=null),[...n])}const $e=Object.freeze({x:0,y:0});function Pr(t,n){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function Tr(t,n){let{data:{value:e}}=t,{data:{value:r}}=n;return e-r}function So(t,n){let{data:{value:e}}=t,{data:{value:r}}=n;return r-e}function hr(t){let{left:n,top:e,height:r,width:s}=t;return[{x:n,y:e},{x:n+s,y:e},{x:n,y:e+r},{x:n+s,y:e+r}]}function zr(t,n){if(!t||t.length===0)return null;const[e]=t;return e[n]}function br(t,n,e){return n===void 0&&(n=t.left),e===void 0&&(e=t.top),{x:n+t.width*.5,y:e+t.height*.5}}const gn=t=>{let{collisionRect:n,droppableRects:e,droppableContainers:r}=t;const s=br(n,n.left,n.top),a=[];for(const c of r){const{id:d}=c,m=e.get(d);if(m){const p=Pr(br(m),s);a.push({id:d,data:{droppableContainer:c,value:p}})}}return a.sort(Tr)},Vo=t=>{let{collisionRect:n,droppableRects:e,droppableContainers:r}=t;const s=hr(n),a=[];for(const c of r){const{id:d}=c,m=e.get(d);if(m){const p=hr(m),f=s.reduce((x,v,k)=>x+Pr(p[k],v),0),g=Number((f/4).toFixed(4));a.push({id:d,data:{droppableContainer:c,value:g}})}}return a.sort(Tr)};function Eo(t,n){const e=Math.max(n.top,t.top),r=Math.max(n.left,t.left),s=Math.min(n.left+n.width,t.left+t.width),a=Math.min(n.top+n.height,t.top+t.height),c=s-r,d=a-e;if(r<s&&e<a){const m=n.width*n.height,p=t.width*t.height,f=c*d,g=f/(m+p-f);return Number(g.toFixed(4))}return 0}const Ao=t=>{let{collisionRect:n,droppableRects:e,droppableContainers:r}=t;const s=[];for(const a of r){const{id:c}=a,d=e.get(c);if(d){const m=Eo(d,n);m>0&&s.push({id:c,data:{droppableContainer:a,value:m}})}}return s.sort(So)};function _o(t,n,e){return{...t,scaleX:n&&e?n.width/e.width:1,scaleY:n&&e?n.height/e.height:1}}function Or(t,n){return t&&n?{x:t.left-n.left,y:t.top-n.top}:$e}function Lo(t){return function(e){for(var r=arguments.length,s=new Array(r>1?r-1:0),a=1;a<r;a++)s[a-1]=arguments[a];return s.reduce((c,d)=>({...c,top:c.top+t*d.y,bottom:c.bottom+t*d.y,left:c.left+t*d.x,right:c.right+t*d.x}),{...e})}}const jo=Lo(1);function Bo(t){if(t.startsWith("matrix3d(")){const n=t.slice(9,-1).split(/, /);return{x:+n[12],y:+n[13],scaleX:+n[0],scaleY:+n[5]}}else if(t.startsWith("matrix(")){const n=t.slice(7,-1).split(/, /);return{x:+n[4],y:+n[5],scaleX:+n[0],scaleY:+n[3]}}return null}function Io(t,n,e){const r=Bo(n);if(!r)return t;const{scaleX:s,scaleY:a,x:c,y:d}=r,m=t.left-c-(1-s)*parseFloat(e),p=t.top-d-(1-a)*parseFloat(e.slice(e.indexOf(" ")+1)),f=s?t.width/s:t.width,g=a?t.height/a:t.height;return{width:f,height:g,top:p,right:m+f,bottom:p+g,left:m}}const Ro={ignoreTransform:!1};function xt(t,n){n===void 0&&(n=Ro);let e=t.getBoundingClientRect();if(n.ignoreTransform){const{transform:p,transformOrigin:f}=De(t).getComputedStyle(t);p&&(e=Io(e,p,f))}const{top:r,left:s,width:a,height:c,bottom:d,right:m}=e;return{top:r,left:s,width:a,height:c,bottom:d,right:m}}function vr(t){return xt(t,{ignoreTransform:!0})}function Uo(t){const n=t.innerWidth,e=t.innerHeight;return{top:0,left:0,right:n,bottom:e,width:n,height:e}}function Ho(t,n){return n===void 0&&(n=De(t).getComputedStyle(t)),n.position==="fixed"}function Mo(t,n){n===void 0&&(n=De(t).getComputedStyle(t));const e=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(s=>{const a=n[s];return typeof a=="string"?e.test(a):!1})}function en(t,n){const e=[];function r(s){if(n!=null&&e.length>=n||!s)return e;if(Mn(s)&&s.scrollingElement!=null&&!e.includes(s.scrollingElement))return e.push(s.scrollingElement),e;if(!Ut(s)||Ur(s)||e.includes(s))return e;const a=De(t).getComputedStyle(s);return s!==t&&Mo(s,a)&&e.push(s),Ho(s,a)?e:r(s.parentNode)}return t?r(t):e}function Fr(t){const[n]=en(t,1);return n??null}function hn(t){return!Qt||!t?null:bt(t)?t:Hn(t)?Mn(t)||t===vt(t).scrollingElement?window:Ut(t)?t:null:null}function Wr(t){return bt(t)?t.scrollX:t.scrollLeft}function $r(t){return bt(t)?t.scrollY:t.scrollTop}function jn(t){return{x:Wr(t),y:$r(t)}}var oe;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(oe||(oe={}));function Xr(t){return!Qt||!t?!1:t===document.scrollingElement}function Yr(t){const n={x:0,y:0},e=Xr(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},r={x:t.scrollWidth-e.width,y:t.scrollHeight-e.height},s=t.scrollTop<=n.y,a=t.scrollLeft<=n.x,c=t.scrollTop>=r.y,d=t.scrollLeft>=r.x;return{isTop:s,isLeft:a,isBottom:c,isRight:d,maxScroll:r,minScroll:n}}const Po={x:.2,y:.2};function To(t,n,e,r,s){let{top:a,left:c,right:d,bottom:m}=e;r===void 0&&(r=10),s===void 0&&(s=Po);const{isTop:p,isBottom:f,isLeft:g,isRight:x}=Yr(t),v={x:0,y:0},k={x:0,y:0},N={height:n.height*s.y,width:n.width*s.x};return!p&&a<=n.top+N.height?(v.y=oe.Backward,k.y=r*Math.abs((n.top+N.height-a)/N.height)):!f&&m>=n.bottom-N.height&&(v.y=oe.Forward,k.y=r*Math.abs((n.bottom-N.height-m)/N.height)),!x&&d>=n.right-N.width?(v.x=oe.Forward,k.x=r*Math.abs((n.right-N.width-d)/N.width)):!g&&c<=n.left+N.width&&(v.x=oe.Backward,k.x=r*Math.abs((n.left+N.width-c)/N.width)),{direction:v,speed:k}}function zo(t){if(t===document.scrollingElement){const{innerWidth:a,innerHeight:c}=window;return{top:0,left:0,right:a,bottom:c,width:a,height:c}}const{top:n,left:e,right:r,bottom:s}=t.getBoundingClientRect();return{top:n,left:e,right:r,bottom:s,width:t.clientWidth,height:t.clientHeight}}function Zr(t){return t.reduce((n,e)=>gt(n,jn(e)),$e)}function Oo(t){return t.reduce((n,e)=>n+Wr(e),0)}function Fo(t){return t.reduce((n,e)=>n+$r(e),0)}function Wo(t,n){if(n===void 0&&(n=xt),!t)return;const{top:e,left:r,bottom:s,right:a}=n(t);Fr(t)&&(s<=0||a<=0||e>=window.innerHeight||r>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const $o=[["x",["left","right"],Oo],["y",["top","bottom"],Fo]];class zn{constructor(n,e){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=en(e),s=Zr(r);this.rect={...n},this.width=n.width,this.height=n.height;for(const[a,c,d]of $o)for(const m of c)Object.defineProperty(this,m,{get:()=>{const p=d(r),f=s[a]-p;return this.rect[m]+f},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Et{constructor(n){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(e=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...e)})},this.target=n}add(n,e,r){var s;(s=this.target)==null||s.addEventListener(n,e,r),this.listeners.push([n,e,r])}}function Xo(t){const{EventTarget:n}=De(t);return t instanceof n?t:vt(t)}function bn(t,n){const e=Math.abs(t.x),r=Math.abs(t.y);return typeof n=="number"?Math.sqrt(e**2+r**2)>n:"x"in n&&"y"in n?e>n.x&&r>n.y:"x"in n?e>n.x:"y"in n?r>n.y:!1}var He;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(He||(He={}));function xr(t){t.preventDefault()}function Yo(t){t.stopPropagation()}var H;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(H||(H={}));const Gr={start:[H.Space,H.Enter],cancel:[H.Esc],end:[H.Space,H.Enter,H.Tab]},Zo=(t,n)=>{let{currentCoordinates:e}=n;switch(t.code){case H.Right:return{...e,x:e.x+25};case H.Left:return{...e,x:e.x-25};case H.Down:return{...e,y:e.y+25};case H.Up:return{...e,y:e.y-25}}};class On{constructor(n){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=n;const{event:{target:e}}=n;this.props=n,this.listeners=new Et(vt(e)),this.windowListeners=new Et(De(e)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(He.Resize,this.handleCancel),this.windowListeners.add(He.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(He.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:n,onStart:e}=this.props,r=n.node.current;r&&Wo(r),e($e)}handleKeyDown(n){if(Tn(n)){const{active:e,context:r,options:s}=this.props,{keyboardCodes:a=Gr,coordinateGetter:c=Zo,scrollBehavior:d="smooth"}=s,{code:m}=n;if(a.end.includes(m)){this.handleEnd(n);return}if(a.cancel.includes(m)){this.handleCancel(n);return}const{collisionRect:p}=r.current,f=p?{x:p.left,y:p.top}:$e;this.referenceCoordinates||(this.referenceCoordinates=f);const g=c(n,{active:e,context:r.current,currentCoordinates:f});if(g){const x=It(g,f),v={x:0,y:0},{scrollableAncestors:k}=r.current;for(const N of k){const D=n.code,{isTop:w,isRight:C,isLeft:V,isBottom:j,maxScroll:B,minScroll:R}=Yr(N),E=zo(N),A={x:Math.min(D===H.Right?E.right-E.width/2:E.right,Math.max(D===H.Right?E.left:E.left+E.width/2,g.x)),y:Math.min(D===H.Down?E.bottom-E.height/2:E.bottom,Math.max(D===H.Down?E.top:E.top+E.height/2,g.y))},S=D===H.Right&&!C||D===H.Left&&!V,O=D===H.Down&&!j||D===H.Up&&!w;if(S&&A.x!==g.x){const U=N.scrollLeft+x.x,ae=D===H.Right&&U<=B.x||D===H.Left&&U>=R.x;if(ae&&!x.y){N.scrollTo({left:U,behavior:d});return}ae?v.x=N.scrollLeft-U:v.x=D===H.Right?N.scrollLeft-B.x:N.scrollLeft-R.x,v.x&&N.scrollBy({left:-v.x,behavior:d});break}else if(O&&A.y!==g.y){const U=N.scrollTop+x.y,ae=D===H.Down&&U<=B.y||D===H.Up&&U>=R.y;if(ae&&!x.x){N.scrollTo({top:U,behavior:d});return}ae?v.y=N.scrollTop-U:v.y=D===H.Down?N.scrollTop-B.y:N.scrollTop-R.y,v.y&&N.scrollBy({top:-v.y,behavior:d});break}}this.handleMove(n,gt(It(g,this.referenceCoordinates),v))}}}handleMove(n,e){const{onMove:r}=this.props;n.preventDefault(),r(e)}handleEnd(n){const{onEnd:e}=this.props;n.preventDefault(),this.detach(),e()}handleCancel(n){const{onCancel:e}=this.props;n.preventDefault(),this.detach(),e()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}On.activators=[{eventName:"onKeyDown",handler:(t,n,e)=>{let{keyboardCodes:r=Gr,onActivation:s}=n,{active:a}=e;const{code:c}=t.nativeEvent;if(r.start.includes(c)){const d=a.activatorNode.current;return d&&t.target!==d?!1:(t.preventDefault(),s==null||s({event:t.nativeEvent}),!0)}return!1}}];function Nr(t){return!!(t&&"distance"in t)}function yr(t){return!!(t&&"delay"in t)}class Fn{constructor(n,e,r){var s;r===void 0&&(r=Xo(n.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=n,this.events=e;const{event:a}=n,{target:c}=a;this.props=n,this.events=e,this.document=vt(c),this.documentListeners=new Et(this.document),this.listeners=new Et(r),this.windowListeners=new Et(De(c)),this.initialCoordinates=(s=Ln(a))!=null?s:$e,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:n,props:{options:{activationConstraint:e,bypassActivationConstraint:r}}}=this;if(this.listeners.add(n.move.name,this.handleMove,{passive:!1}),this.listeners.add(n.end.name,this.handleEnd),n.cancel&&this.listeners.add(n.cancel.name,this.handleCancel),this.windowListeners.add(He.Resize,this.handleCancel),this.windowListeners.add(He.DragStart,xr),this.windowListeners.add(He.VisibilityChange,this.handleCancel),this.windowListeners.add(He.ContextMenu,xr),this.documentListeners.add(He.Keydown,this.handleKeydown),e){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(yr(e)){this.timeoutId=setTimeout(this.handleStart,e.delay),this.handlePending(e);return}if(Nr(e)){this.handlePending(e);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(n,e){const{active:r,onPending:s}=this.props;s(r,n,this.initialCoordinates,e)}handleStart(){const{initialCoordinates:n}=this,{onStart:e}=this.props;n&&(this.activated=!0,this.documentListeners.add(He.Click,Yo,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(He.SelectionChange,this.removeTextSelection),e(n))}handleMove(n){var e;const{activated:r,initialCoordinates:s,props:a}=this,{onMove:c,options:{activationConstraint:d}}=a;if(!s)return;const m=(e=Ln(n))!=null?e:$e,p=It(s,m);if(!r&&d){if(Nr(d)){if(d.tolerance!=null&&bn(p,d.tolerance))return this.handleCancel();if(bn(p,d.distance))return this.handleStart()}if(yr(d)&&bn(p,d.tolerance))return this.handleCancel();this.handlePending(d,p);return}n.cancelable&&n.preventDefault(),c(m)}handleEnd(){const{onAbort:n,onEnd:e}=this.props;this.detach(),this.activated||n(this.props.active),e()}handleCancel(){const{onAbort:n,onCancel:e}=this.props;this.detach(),this.activated||n(this.props.active),e()}handleKeydown(n){n.code===H.Esc&&this.handleCancel()}removeTextSelection(){var n;(n=this.document.getSelection())==null||n.removeAllRanges()}}const Go={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Wn extends Fn{constructor(n){const{event:e}=n,r=vt(e.target);super(n,Go,r)}}Wn.activators=[{eventName:"onPointerDown",handler:(t,n)=>{let{nativeEvent:e}=t,{onActivation:r}=n;return!e.isPrimary||e.button!==0?!1:(r==null||r({event:e}),!0)}}];const qo={move:{name:"mousemove"},end:{name:"mouseup"}};var Bn;(function(t){t[t.RightClick=2]="RightClick"})(Bn||(Bn={}));class Ko extends Fn{constructor(n){super(n,qo,vt(n.event.target))}}Ko.activators=[{eventName:"onMouseDown",handler:(t,n)=>{let{nativeEvent:e}=t,{onActivation:r}=n;return e.button===Bn.RightClick?!1:(r==null||r({event:e}),!0)}}];const vn={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class Jo extends Fn{constructor(n){super(n,vn)}static setup(){return window.addEventListener(vn.move.name,n,{capture:!1,passive:!1}),function(){window.removeEventListener(vn.move.name,n)};function n(){}}}Jo.activators=[{eventName:"onTouchStart",handler:(t,n)=>{let{nativeEvent:e}=t,{onActivation:r}=n;const{touches:s}=e;return s.length>1?!1:(r==null||r({event:e}),!0)}}];var At;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(At||(At={}));var qt;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(qt||(qt={}));function Qo(t){let{acceleration:n,activator:e=At.Pointer,canScroll:r,draggingRect:s,enabled:a,interval:c=5,order:d=qt.TreeOrder,pointerCoordinates:m,scrollableAncestors:p,scrollableAncestorRects:f,delta:g,threshold:x}=t;const v=ti({delta:g,disabled:!a}),[k,N]=mo(),D=u.useRef({x:0,y:0}),w=u.useRef({x:0,y:0}),C=u.useMemo(()=>{switch(e){case At.Pointer:return m?{top:m.y,bottom:m.y,left:m.x,right:m.x}:null;case At.DraggableRect:return s}},[e,s,m]),V=u.useRef(null),j=u.useCallback(()=>{const R=V.current;if(!R)return;const E=D.current.x*w.current.x,A=D.current.y*w.current.y;R.scrollBy(E,A)},[]),B=u.useMemo(()=>d===qt.TreeOrder?[...p].reverse():p,[d,p]);u.useEffect(()=>{if(!a||!p.length||!C){N();return}for(const R of B){if((r==null?void 0:r(R))===!1)continue;const E=p.indexOf(R),A=f[E];if(!A)continue;const{direction:S,speed:O}=To(R,A,C,n,x);for(const U of["x","y"])v[U][S[U]]||(O[U]=0,S[U]=0);if(O.x>0||O.y>0){N(),V.current=R,k(j,c),D.current=O,w.current=S;return}}D.current={x:0,y:0},w.current={x:0,y:0},N()},[n,j,r,N,a,c,JSON.stringify(C),JSON.stringify(v),k,p,B,f,JSON.stringify(x)])}const ei={x:{[oe.Backward]:!1,[oe.Forward]:!1},y:{[oe.Backward]:!1,[oe.Forward]:!1}};function ti(t){let{delta:n,disabled:e}=t;const r=_n(n);return Ht(s=>{if(e||!r||!s)return ei;const a={x:Math.sign(n.x-r.x),y:Math.sign(n.y-r.y)};return{x:{[oe.Backward]:s.x[oe.Backward]||a.x===-1,[oe.Forward]:s.x[oe.Forward]||a.x===1},y:{[oe.Backward]:s.y[oe.Backward]||a.y===-1,[oe.Forward]:s.y[oe.Forward]||a.y===1}}},[e,n,r])}function ni(t,n){const e=n!=null?t.get(n):void 0,r=e?e.node.current:null;return Ht(s=>{var a;return n==null?null:(a=r??s)!=null?a:null},[r,n])}function ri(t,n){return u.useMemo(()=>t.reduce((e,r)=>{const{sensor:s}=r,a=s.activators.map(c=>({eventName:c.eventName,handler:n(c.handler,r)}));return[...e,...a]},[]),[t,n])}var Rt;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(Rt||(Rt={}));var In;(function(t){t.Optimized="optimized"})(In||(In={}));const kr=new Map;function si(t,n){let{dragging:e,dependencies:r,config:s}=n;const[a,c]=u.useState(null),{frequency:d,measure:m,strategy:p}=s,f=u.useRef(t),g=D(),x=Bt(g),v=u.useCallback(function(w){w===void 0&&(w=[]),!x.current&&c(C=>C===null?w:C.concat(w.filter(V=>!C.includes(V))))},[x]),k=u.useRef(null),N=Ht(w=>{if(g&&!e)return kr;if(!w||w===kr||f.current!==t||a!=null){const C=new Map;for(let V of t){if(!V)continue;if(a&&a.length>0&&!a.includes(V.id)&&V.rect.current){C.set(V.id,V.rect.current);continue}const j=V.node.current,B=j?new zn(m(j),j):null;V.rect.current=B,B&&C.set(V.id,B)}return C}return w},[t,a,e,g,m]);return u.useEffect(()=>{f.current=t},[t]),u.useEffect(()=>{g||v()},[e,g]),u.useEffect(()=>{a&&a.length>0&&c(null)},[JSON.stringify(a)]),u.useEffect(()=>{g||typeof d!="number"||k.current!==null||(k.current=setTimeout(()=>{v(),k.current=null},d))},[d,g,v,...r]),{droppableRects:N,measureDroppableContainers:v,measuringScheduled:a!=null};function D(){switch(p){case Rt.Always:return!1;case Rt.BeforeDragging:return e;default:return!e}}}function qr(t,n){return Ht(e=>t?e||(typeof n=="function"?n(t):t):null,[n,t])}function oi(t,n){return qr(t,n)}function ii(t){let{callback:n,disabled:e}=t;const r=Pn(n),s=u.useMemo(()=>{if(e||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:a}=window;return new a(r)},[r,e]);return u.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function tn(t){let{callback:n,disabled:e}=t;const r=Pn(n),s=u.useMemo(()=>{if(e||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:a}=window;return new a(r)},[e]);return u.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function ai(t){return new zn(xt(t),t)}function Dr(t,n,e){n===void 0&&(n=ai);const[r,s]=u.useState(null);function a(){s(m=>{if(!t)return null;if(t.isConnected===!1){var p;return(p=m??e)!=null?p:null}const f=n(t);return JSON.stringify(m)===JSON.stringify(f)?m:f})}const c=ii({callback(m){if(t)for(const p of m){const{type:f,target:g}=p;if(f==="childList"&&g instanceof HTMLElement&&g.contains(t)){a();break}}}}),d=tn({callback:a});return Ze(()=>{a(),t?(d==null||d.observe(t),c==null||c.observe(document.body,{childList:!0,subtree:!0})):(d==null||d.disconnect(),c==null||c.disconnect())},[t]),r}function li(t){const n=qr(t);return Or(t,n)}const wr=[];function ci(t){const n=u.useRef(t),e=Ht(r=>t?r&&r!==wr&&t&&n.current&&t.parentNode===n.current.parentNode?r:en(t):wr,[t]);return u.useEffect(()=>{n.current=t},[t]),e}function di(t){const[n,e]=u.useState(null),r=u.useRef(t),s=u.useCallback(a=>{const c=hn(a.target);c&&e(d=>d?(d.set(c,jn(c)),new Map(d)):null)},[]);return u.useEffect(()=>{const a=r.current;if(t!==a){c(a);const d=t.map(m=>{const p=hn(m);return p?(p.addEventListener("scroll",s,{passive:!0}),[p,jn(p)]):null}).filter(m=>m!=null);e(d.length?new Map(d):null),r.current=t}return()=>{c(t),c(a)};function c(d){d.forEach(m=>{const p=hn(m);p==null||p.removeEventListener("scroll",s)})}},[s,t]),u.useMemo(()=>t.length?n?Array.from(n.values()).reduce((a,c)=>gt(a,c),$e):Zr(t):$e,[t,n])}function Cr(t,n){n===void 0&&(n=[]);const e=u.useRef(null);return u.useEffect(()=>{e.current=null},n),u.useEffect(()=>{const r=t!==$e;r&&!e.current&&(e.current=t),!r&&e.current&&(e.current=null)},[t]),e.current?It(t,e.current):$e}function ui(t){u.useEffect(()=>{if(!Qt)return;const n=t.map(e=>{let{sensor:r}=e;return r.setup==null?void 0:r.setup()});return()=>{for(const e of n)e==null||e()}},t.map(n=>{let{sensor:e}=n;return e}))}function mi(t,n){return u.useMemo(()=>t.reduce((e,r)=>{let{eventName:s,handler:a}=r;return e[s]=c=>{a(c,n)},e},{}),[t,n])}function Kr(t){return u.useMemo(()=>t?Uo(t):null,[t])}const Sr=[];function pi(t,n){n===void 0&&(n=xt);const[e]=t,r=Kr(e?De(e):null),[s,a]=u.useState(Sr);function c(){a(()=>t.length?t.map(m=>Xr(m)?r:new zn(n(m),m)):Sr)}const d=tn({callback:c});return Ze(()=>{d==null||d.disconnect(),c(),t.forEach(m=>d==null?void 0:d.observe(m))},[t]),s}function fi(t){if(!t)return null;if(t.children.length>1)return t;const n=t.children[0];return Ut(n)?n:t}function gi(t){let{measure:n}=t;const[e,r]=u.useState(null),s=u.useCallback(p=>{for(const{target:f}of p)if(Ut(f)){r(g=>{const x=n(f);return g?{...g,width:x.width,height:x.height}:x});break}},[n]),a=tn({callback:s}),c=u.useCallback(p=>{const f=fi(p);a==null||a.disconnect(),f&&(a==null||a.observe(f)),r(f?n(f):null)},[n,a]),[d,m]=Zt(c);return u.useMemo(()=>({nodeRef:d,rect:e,setRef:m}),[e,d,m])}const hi=[{sensor:Wn,options:{}},{sensor:On,options:{}}],bi={current:{}},Xt={draggable:{measure:vr},droppable:{measure:vr,strategy:Rt.WhileDragging,frequency:In.Optimized},dragOverlay:{measure:xt}};class _t extends Map{get(n){var e;return n!=null&&(e=super.get(n))!=null?e:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(n=>{let{disabled:e}=n;return!e})}getNodeFor(n){var e,r;return(e=(r=this.get(n))==null?void 0:r.node.current)!=null?e:void 0}}const vi={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new _t,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Gt},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Xt,measureDroppableContainers:Gt,windowRect:null,measuringScheduled:!1},xi={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Gt,draggableNodes:new Map,over:null,measureDroppableContainers:Gt},nn=u.createContext(xi),Jr=u.createContext(vi);function Ni(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new _t}}}function yi(t,n){switch(n.type){case ee.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:n.initialCoordinates,active:n.active}};case ee.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:n.coordinates.x-t.draggable.initialCoordinates.x,y:n.coordinates.y-t.draggable.initialCoordinates.y}}};case ee.DragEnd:case ee.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case ee.RegisterDroppable:{const{element:e}=n,{id:r}=e,s=new _t(t.droppable.containers);return s.set(r,e),{...t,droppable:{...t.droppable,containers:s}}}case ee.SetDroppableDisabled:{const{id:e,key:r,disabled:s}=n,a=t.droppable.containers.get(e);if(!a||r!==a.key)return t;const c=new _t(t.droppable.containers);return c.set(e,{...a,disabled:s}),{...t,droppable:{...t.droppable,containers:c}}}case ee.UnregisterDroppable:{const{id:e,key:r}=n,s=t.droppable.containers.get(e);if(!s||r!==s.key)return t;const a=new _t(t.droppable.containers);return a.delete(e),{...t,droppable:{...t.droppable,containers:a}}}default:return t}}function ki(t){let{disabled:n}=t;const{active:e,activatorEvent:r,draggableNodes:s}=u.useContext(nn),a=_n(r),c=_n(e==null?void 0:e.id);return u.useEffect(()=>{if(!n&&!r&&a&&c!=null){if(!Tn(a)||document.activeElement===a.target)return;const d=s.get(c);if(!d)return;const{activatorNode:m,node:p}=d;if(!m.current&&!p.current)return;requestAnimationFrame(()=>{for(const f of[m.current,p.current]){if(!f)continue;const g=go(f);if(g){g.focus();break}}})}},[r,n,s,c,a]),null}function Di(t,n){let{transform:e,...r}=n;return t!=null&&t.length?t.reduce((s,a)=>a({transform:s,...r}),e):e}function wi(t){return u.useMemo(()=>({draggable:{...Xt.draggable,...t==null?void 0:t.draggable},droppable:{...Xt.droppable,...t==null?void 0:t.droppable},dragOverlay:{...Xt.dragOverlay,...t==null?void 0:t.dragOverlay}}),[t==null?void 0:t.draggable,t==null?void 0:t.droppable,t==null?void 0:t.dragOverlay])}function Ci(t){let{activeNode:n,measure:e,initialRect:r,config:s=!0}=t;const a=u.useRef(!1),{x:c,y:d}=typeof s=="boolean"?{x:s,y:s}:s;Ze(()=>{if(!c&&!d||!n){a.current=!1;return}if(a.current||!r)return;const p=n==null?void 0:n.node.current;if(!p||p.isConnected===!1)return;const f=e(p),g=Or(f,r);if(c||(g.x=0),d||(g.y=0),a.current=!0,Math.abs(g.x)>0||Math.abs(g.y)>0){const x=Fr(p);x&&x.scrollBy({top:g.y,left:g.x})}},[n,c,d,r,e])}const Qr=u.createContext({...$e,scaleX:1,scaleY:1});var st;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(st||(st={}));const xn=u.memo(function(n){var e,r,s,a;let{id:c,accessibility:d,autoScroll:m=!0,children:p,sensors:f=hi,collisionDetection:g=Ao,measuring:x,modifiers:v,...k}=n;const N=u.useReducer(yi,void 0,Ni),[D,w]=N,[C,V]=yo(),[j,B]=u.useState(st.Uninitialized),R=j===st.Initialized,{draggable:{active:E,nodes:A,translate:S},droppable:{containers:O}}=D,U=E!=null?A.get(E):null,ae=u.useRef({initial:null,translated:null}),I=u.useMemo(()=>{var K;return E!=null?{id:E,data:(K=U==null?void 0:U.data)!=null?K:bi,rect:ae}:null},[E,U]),$=u.useRef(null),[Ke,Le]=u.useState(null),[F,Je]=u.useState(null),_=Bt(k,Object.values(k)),le=Mt("DndDescribedBy",c),Y=u.useMemo(()=>O.getEnabled(),[O]),te=wi(x),{droppableRects:Me,measureDroppableContainers:Pe,measuringScheduled:ot}=si(Y,{dragging:R,dependencies:[S.x,S.y],config:te.droppable}),pe=ni(A,E),fe=u.useMemo(()=>F?Ln(F):null,[F]),ne=on(),ve=oi(pe,te.draggable.measure);Ci({activeNode:E!=null?A.get(E):null,config:ne.layoutShiftCompensation,initialRect:ve,measure:te.draggable.measure});const T=Dr(pe,te.draggable.measure,ve),xe=Dr(pe?pe.parentElement:null),we=u.useRef({activatorEvent:null,active:null,activeNode:pe,collisionRect:null,collisions:null,droppableRects:Me,draggableNodes:A,draggingNode:null,draggingNodeRect:null,droppableContainers:O,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),z=O.getNodeFor((e=we.current.over)==null?void 0:e.id),je=gi({measure:te.dragOverlay.measure}),re=(r=je.nodeRef.current)!=null?r:pe,Ne=R?(s=je.rect)!=null?s:T:null,it=!!(je.nodeRef.current&&je.rect),Xe=li(it?null:T),Ye=Kr(re?De(re):null),Ce=ci(R?z??pe:null),ce=pi(Ce),Qe=Di(v,{transform:{x:S.x-Xe.x,y:S.y-Xe.y,scaleX:1,scaleY:1},activatorEvent:F,active:I,activeNodeRect:T,containerNodeRect:xe,draggingNodeRect:Ne,over:we.current.over,overlayNodeRect:je.rect,scrollableAncestors:Ce,scrollableAncestorRects:ce,windowRect:Ye}),rn=fe?gt(fe,S):null,ut=di(Ce),sn=Cr(ut),Nt=Cr(ut,[T]),G=gt(Qe,sn),Z=Ne?jo(Ne,Qe):null,de=I&&Z?g({active:I,collisionRect:Z,droppableRects:Me,droppableContainers:Y,pointerCoordinates:rn}):null,ue=zr(de,"id"),[Be,mt]=u.useState(null),pt=it?Qe:gt(Qe,Nt),yt=_o(pt,(a=Be==null?void 0:Be.rect)!=null?a:null,T),at=u.useRef(null),Ge=u.useCallback((K,ge)=>{let{sensor:me,options:Te}=ge;if($.current==null)return;const he=A.get($.current);if(!he)return;const J=K.nativeEvent,be=new me({active:$.current,activeNode:he,event:J,options:Te,context:we,onAbort(X){if(!A.get(X))return;const{onDragAbort:Ve}=_.current,Ee={id:X};Ve==null||Ve(Ee),C({type:"onDragAbort",event:Ee})},onPending(X,Ie,Ve,Ee){if(!A.get(X))return;const{onDragPending:nt}=_.current,ze={id:X,constraint:Ie,initialCoordinates:Ve,offset:Ee};nt==null||nt(ze),C({type:"onDragPending",event:ze})},onStart(X){const Ie=$.current;if(Ie==null)return;const Ve=A.get(Ie);if(!Ve)return;const{onDragStart:Ee}=_.current,tt={activatorEvent:J,active:{id:Ie,data:Ve.data,rect:ae}};Vt.unstable_batchedUpdates(()=>{Ee==null||Ee(tt),B(st.Initializing),w({type:ee.DragStart,initialCoordinates:X,active:Ie}),C({type:"onDragStart",event:tt}),Le(at.current),Je(J)})},onMove(X){w({type:ee.DragMove,coordinates:X})},onEnd:Se(ee.DragEnd),onCancel:Se(ee.DragCancel)});at.current=be;function Se(X){return async function(){const{active:Ve,collisions:Ee,over:tt,scrollAdjustedTranslate:nt}=we.current;let ze=null;if(Ve&&nt){const{cancelDrop:ie}=_.current;ze={activatorEvent:J,active:Ve,collisions:Ee,delta:nt,over:tt},X===ee.DragEnd&&typeof ie=="function"&&await Promise.resolve(ie(ze))&&(X=ee.DragCancel)}$.current=null,Vt.unstable_batchedUpdates(()=>{w({type:X}),B(st.Uninitialized),mt(null),Le(null),Je(null),at.current=null;const ie=X===ee.DragEnd?"onDragEnd":"onDragCancel";if(ze){const Re=_.current[ie];Re==null||Re(ze),C({type:ie,event:ze})}})}}},[A]),kt=u.useCallback((K,ge)=>(me,Te)=>{const he=me.nativeEvent,J=A.get(Te);if($.current!==null||!J||he.dndKit||he.defaultPrevented)return;const be={active:J};K(me,ge.options,be)===!0&&(he.dndKit={capturedBy:ge.sensor},$.current=Te,Ge(me,ge))},[A,Ge]),qe=ri(f,kt);ui(f),Ze(()=>{T&&j===st.Initializing&&B(st.Initialized)},[T,j]),u.useEffect(()=>{const{onDragMove:K}=_.current,{active:ge,activatorEvent:me,collisions:Te,over:he}=we.current;if(!ge||!me)return;const J={active:ge,activatorEvent:me,collisions:Te,delta:{x:G.x,y:G.y},over:he};Vt.unstable_batchedUpdates(()=>{K==null||K(J),C({type:"onDragMove",event:J})})},[G.x,G.y]),u.useEffect(()=>{const{active:K,activatorEvent:ge,collisions:me,droppableContainers:Te,scrollAdjustedTranslate:he}=we.current;if(!K||$.current==null||!ge||!he)return;const{onDragOver:J}=_.current,be=Te.get(ue),Se=be&&be.rect.current?{id:be.id,rect:be.rect.current,data:be.data,disabled:be.disabled}:null,X={active:K,activatorEvent:ge,collisions:me,delta:{x:he.x,y:he.y},over:Se};Vt.unstable_batchedUpdates(()=>{mt(Se),J==null||J(X),C({type:"onDragOver",event:X})})},[ue]),Ze(()=>{we.current={activatorEvent:F,active:I,activeNode:pe,collisionRect:Z,collisions:de,droppableRects:Me,draggableNodes:A,draggingNode:re,draggingNodeRect:Ne,droppableContainers:O,over:Be,scrollableAncestors:Ce,scrollAdjustedTranslate:G},ae.current={initial:Ne,translated:Z}},[I,pe,de,Z,A,re,Ne,Me,O,Be,Ce,G]),Qo({...ne,delta:S,draggingRect:Z,pointerCoordinates:rn,scrollableAncestors:Ce,scrollableAncestorRects:ce});const ft=u.useMemo(()=>({active:I,activeNode:pe,activeNodeRect:T,activatorEvent:F,collisions:de,containerNodeRect:xe,dragOverlay:je,draggableNodes:A,droppableContainers:O,droppableRects:Me,over:Be,measureDroppableContainers:Pe,scrollableAncestors:Ce,scrollableAncestorRects:ce,measuringConfiguration:te,measuringScheduled:ot,windowRect:Ye}),[I,pe,T,F,de,xe,je,A,O,Me,Be,Pe,Ce,ce,te,ot,Ye]),et=u.useMemo(()=>({activatorEvent:F,activators:qe,active:I,activeNodeRect:T,ariaDescribedById:{draggable:le},dispatch:w,draggableNodes:A,over:Be,measureDroppableContainers:Pe}),[F,qe,I,T,w,le,A,Be,Pe]);return ke.createElement(Mr.Provider,{value:V},ke.createElement(nn.Provider,{value:et},ke.createElement(Jr.Provider,{value:ft},ke.createElement(Qr.Provider,{value:yt},p)),ke.createElement(ki,{disabled:(d==null?void 0:d.restoreFocus)===!1})),ke.createElement(wo,{...d,hiddenTextDescribedById:le}));function on(){const K=(Ke==null?void 0:Ke.autoScrollEnabled)===!1,ge=typeof m=="object"?m.enabled===!1:m===!1,me=R&&!K&&!ge;return typeof m=="object"?{...m,enabled:me}:{enabled:me}}}),Si=u.createContext(null),Vr="button",Vi="Draggable";function Ei(t){let{id:n,data:e,disabled:r=!1,attributes:s}=t;const a=Mt(Vi),{activators:c,activatorEvent:d,active:m,activeNodeRect:p,ariaDescribedById:f,draggableNodes:g,over:x}=u.useContext(nn),{role:v=Vr,roleDescription:k="draggable",tabIndex:N=0}=s??{},D=(m==null?void 0:m.id)===n,w=u.useContext(D?Qr:Si),[C,V]=Zt(),[j,B]=Zt(),R=mi(c,n),E=Bt(e);Ze(()=>(g.set(n,{id:n,key:a,node:C,activatorNode:j,data:E}),()=>{const S=g.get(n);S&&S.key===a&&g.delete(n)}),[g,n]);const A=u.useMemo(()=>({role:v,tabIndex:N,"aria-disabled":r,"aria-pressed":D&&v===Vr?!0:void 0,"aria-roledescription":k,"aria-describedby":f.draggable}),[r,v,N,D,k,f.draggable]);return{active:m,activatorEvent:d,activeNodeRect:p,attributes:A,isDragging:D,listeners:r?void 0:R,node:C,over:x,setNodeRef:V,setActivatorNodeRef:B,transform:w}}function Ai(){return u.useContext(Jr)}const _i="Droppable",Li={timeout:25};function ji(t){let{data:n,disabled:e=!1,id:r,resizeObserverConfig:s}=t;const a=Mt(_i),{active:c,dispatch:d,over:m,measureDroppableContainers:p}=u.useContext(nn),f=u.useRef({disabled:e}),g=u.useRef(!1),x=u.useRef(null),v=u.useRef(null),{disabled:k,updateMeasurementsFor:N,timeout:D}={...Li,...s},w=Bt(N??r),C=u.useCallback(()=>{if(!g.current){g.current=!0;return}v.current!=null&&clearTimeout(v.current),v.current=setTimeout(()=>{p(Array.isArray(w.current)?w.current:[w.current]),v.current=null},D)},[D]),V=tn({callback:C,disabled:k||!c}),j=u.useCallback((A,S)=>{V&&(S&&(V.unobserve(S),g.current=!1),A&&V.observe(A))},[V]),[B,R]=Zt(j),E=Bt(n);return u.useEffect(()=>{!V||!B.current||(V.disconnect(),g.current=!1,V.observe(B.current))},[B,V]),u.useEffect(()=>(d({type:ee.RegisterDroppable,element:{id:r,key:a,disabled:e,node:B,rect:x,data:E}}),()=>d({type:ee.UnregisterDroppable,key:a,id:r})),[r]),u.useEffect(()=>{e!==f.current.disabled&&(d({type:ee.SetDroppableDisabled,id:r,key:a,disabled:e}),f.current.disabled=e)},[r,a,e,d]),{active:c,rect:x,isOver:(m==null?void 0:m.id)===r,node:B,over:m,setNodeRef:R}}function Lt(t,n,e){const r=t.slice();return r.splice(e<0?r.length+e:e,0,r.splice(n,1)[0]),r}function Bi(t,n){return t.reduce((e,r,s)=>{const a=n.get(r);return a&&(e[s]=a),e},Array(t.length))}function Tt(t){return t!==null&&t>=0}function Ii(t,n){if(t===n)return!0;if(t.length!==n.length)return!1;for(let e=0;e<t.length;e++)if(t[e]!==n[e])return!1;return!0}function Ri(t){return typeof t=="boolean"?{draggable:t,droppable:t}:t}const $n=t=>{let{rects:n,activeIndex:e,overIndex:r,index:s}=t;const a=Lt(n,r,e),c=n[s],d=a[s];return!d||!c?null:{x:d.left-c.left,y:d.top-c.top,scaleX:d.width/c.width,scaleY:d.height/c.height}},zt={scaleX:1,scaleY:1},Er=t=>{var n;let{activeIndex:e,activeNodeRect:r,index:s,rects:a,overIndex:c}=t;const d=(n=a[e])!=null?n:r;if(!d)return null;if(s===e){const p=a[c];return p?{x:0,y:e<c?p.top+p.height-(d.top+d.height):p.top-d.top,...zt}:null}const m=Ui(a,s,e);return s>e&&s<=c?{x:0,y:-d.height-m,...zt}:s<e&&s>=c?{x:0,y:d.height+m,...zt}:{x:0,y:0,...zt}};function Ui(t,n,e){const r=t[n],s=t[n-1],a=t[n+1];return r?e<n?s?r.top-(s.top+s.height):a?a.top-(r.top+r.height):0:a?a.top-(r.top+r.height):s?r.top-(s.top+s.height):0:0}const es="Sortable",ts=ke.createContext({activeIndex:-1,containerId:es,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:$n,disabled:{draggable:!1,droppable:!1}});function Nn(t){let{children:n,id:e,items:r,strategy:s=$n,disabled:a=!1}=t;const{active:c,dragOverlay:d,droppableRects:m,over:p,measureDroppableContainers:f}=Ai(),g=Mt(es,e),x=d.rect!==null,v=u.useMemo(()=>r.map(R=>typeof R=="object"&&"id"in R?R.id:R),[r]),k=c!=null,N=c?v.indexOf(c.id):-1,D=p?v.indexOf(p.id):-1,w=u.useRef(v),C=!Ii(v,w.current),V=D!==-1&&N===-1||C,j=Ri(a);Ze(()=>{C&&k&&f(v)},[C,v,k,f]),u.useEffect(()=>{w.current=v},[v]);const B=u.useMemo(()=>({activeIndex:N,containerId:g,disabled:j,disableTransforms:V,items:v,overIndex:D,useDragOverlay:x,sortedRects:Bi(v,m),strategy:s}),[N,g,j.draggable,j.droppable,V,v,D,m,x,s]);return ke.createElement(ts.Provider,{value:B},n)}const Hi=t=>{let{id:n,items:e,activeIndex:r,overIndex:s}=t;return Lt(e,r,s).indexOf(n)},Mi=t=>{let{containerId:n,isSorting:e,wasDragging:r,index:s,items:a,newIndex:c,previousItems:d,previousContainerId:m,transition:p}=t;return!p||!r||d!==a&&s===c?!1:e?!0:c!==s&&n===m},Pi={duration:200,easing:"ease"},ns="transform",Ti=dt.Transition.toString({property:ns,duration:0,easing:"linear"}),zi={roleDescription:"sortable"};function Oi(t){let{disabled:n,index:e,node:r,rect:s}=t;const[a,c]=u.useState(null),d=u.useRef(e);return Ze(()=>{if(!n&&e!==d.current&&r.current){const m=s.current;if(m){const p=xt(r.current,{ignoreTransform:!0}),f={x:m.left-p.left,y:m.top-p.top,scaleX:m.width/p.width,scaleY:m.height/p.height};(f.x||f.y)&&c(f)}}e!==d.current&&(d.current=e)},[n,e,r,s]),u.useEffect(()=>{a&&c(null)},[a]),a}function Xn(t){let{animateLayoutChanges:n=Mi,attributes:e,disabled:r,data:s,getNewIndex:a=Hi,id:c,strategy:d,resizeObserverConfig:m,transition:p=Pi}=t;const{items:f,containerId:g,activeIndex:x,disabled:v,disableTransforms:k,sortedRects:N,overIndex:D,useDragOverlay:w,strategy:C}=u.useContext(ts),V=Fi(r,v),j=f.indexOf(c),B=u.useMemo(()=>({sortable:{containerId:g,index:j,items:f},...s}),[g,s,j,f]),R=u.useMemo(()=>f.slice(f.indexOf(c)),[f,c]),{rect:E,node:A,isOver:S,setNodeRef:O}=ji({id:c,data:B,disabled:V.droppable,resizeObserverConfig:{updateMeasurementsFor:R,...m}}),{active:U,activatorEvent:ae,activeNodeRect:I,attributes:$,setNodeRef:Ke,listeners:Le,isDragging:F,over:Je,setActivatorNodeRef:_,transform:le}=Ei({id:c,data:B,attributes:{...zi,...e},disabled:V.draggable}),Y=uo(O,Ke),te=!!U,Me=te&&!k&&Tt(x)&&Tt(D),Pe=!w&&F,ot=Pe&&Me?le:null,fe=Me?ot??(d??C)({rects:N,activeNodeRect:I,activeIndex:x,overIndex:D,index:j}):null,ne=Tt(x)&&Tt(D)?a({id:c,items:f,activeIndex:x,overIndex:D}):j,ve=U==null?void 0:U.id,T=u.useRef({activeId:ve,items:f,newIndex:ne,containerId:g}),xe=f!==T.current.items,we=n({active:U,containerId:g,isDragging:F,isSorting:te,id:c,index:j,items:f,newIndex:T.current.newIndex,previousItems:T.current.items,previousContainerId:T.current.containerId,transition:p,wasDragging:T.current.activeId!=null}),z=Oi({disabled:!we,index:j,node:A,rect:E});return u.useEffect(()=>{te&&T.current.newIndex!==ne&&(T.current.newIndex=ne),g!==T.current.containerId&&(T.current.containerId=g),f!==T.current.items&&(T.current.items=f)},[te,ne,g,f]),u.useEffect(()=>{if(ve===T.current.activeId)return;if(ve&&!T.current.activeId){T.current.activeId=ve;return}const re=setTimeout(()=>{T.current.activeId=ve},50);return()=>clearTimeout(re)},[ve]),{active:U,activeIndex:x,attributes:$,data:B,rect:E,index:j,newIndex:ne,items:f,isOver:S,isSorting:te,isDragging:F,listeners:Le,node:A,overIndex:D,over:Je,setNodeRef:Y,setActivatorNodeRef:_,setDroppableNodeRef:O,setDraggableNodeRef:Ke,transform:z??fe,transition:je()};function je(){if(z||xe&&T.current.newIndex===j)return Ti;if(!(Pe&&!Tn(ae)||!p)&&(te||we))return dt.Transition.toString({...p,property:ns})}}function Fi(t,n){var e,r;return typeof t=="boolean"?{draggable:t,droppable:!1}:{draggable:(e=t==null?void 0:t.draggable)!=null?e:n.draggable,droppable:(r=t==null?void 0:t.droppable)!=null?r:n.droppable}}function Kt(t){if(!t)return!1;const n=t.data.current;return!!(n&&"sortable"in n&&typeof n.sortable=="object"&&"containerId"in n.sortable&&"items"in n.sortable&&"index"in n.sortable)}const Wi=[H.Down,H.Right,H.Up,H.Left],$i=(t,n)=>{let{context:{active:e,collisionRect:r,droppableRects:s,droppableContainers:a,over:c,scrollableAncestors:d}}=n;if(Wi.includes(t.code)){if(t.preventDefault(),!e||!r)return;const m=[];a.getEnabled().forEach(g=>{if(!g||g!=null&&g.disabled)return;const x=s.get(g.id);if(x)switch(t.code){case H.Down:r.top<x.top&&m.push(g);break;case H.Up:r.top>x.top&&m.push(g);break;case H.Left:r.left>x.left&&m.push(g);break;case H.Right:r.left<x.left&&m.push(g);break}});const p=Vo({collisionRect:r,droppableRects:s,droppableContainers:m});let f=zr(p,"id");if(f===(c==null?void 0:c.id)&&p.length>1&&(f=p[1].id),f!=null){const g=a.get(e.id),x=a.get(f),v=x?s.get(x.id):null,k=x==null?void 0:x.node.current;if(k&&v&&g&&x){const D=en(k).some((R,E)=>d[E]!==R),w=rs(g,x),C=Xi(g,x),V=D||!w?{x:0,y:0}:{x:C?r.width-v.width:0,y:C?r.height-v.height:0},j={x:v.left,y:v.top};return V.x&&V.y?j:It(j,V)}}}};function rs(t,n){return!Kt(t)||!Kt(n)?!1:t.data.current.sortable.containerId===n.data.current.sortable.containerId}function Xi(t,n){return!Kt(t)||!Kt(n)||!rs(t,n)?!1:t.data.current.sortable.index<n.data.current.sortable.index}const Rn=t=>{if(!t)return"";const n=t.split(",").map(d=>d.trim());if(n.length===0)return"";if(n.length===1)return n[0]==="하이엔드"?"하이":n[0];const e=["알뜰","기본","고급","하이엔드"],r=n.sort((d,m)=>e.indexOf(d)-e.indexOf(m)),s=r[0],a=r[r.length-1];return`${s}-${a==="하이엔드"?"하이":a}`},Yi=t=>[...t].sort((n,e)=>{var a,c;const r=parseInt(((a=n.price)==null?void 0:a.replace(/[^0-9]/g,""))||"0",10);return parseInt(((c=e.price)==null?void 0:c.replace(/[^0-9]/g,""))||"0",10)-r}),Un=t=>{if(!t)return"";const n=t.split(",").map(e=>e.trim());return n.includes("하이엔드")?"bg-purple-100 text-purple-700":n.includes("고급")?"bg-blue-100 text-blue-700":n.includes("기본")?"bg-green-100 text-green-700":n.includes("알뜰")?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700"},Zi=({id:t,fileData:n,index:e,onDelete:r,onFileClick:s})=>{const{attributes:a,listeners:c,setNodeRef:d,transform:m,transition:p,isDragging:f}=Xn({id:t}),g={transform:dt.Transform.toString(m),transition:p,opacity:f?.5:1,zIndex:f?100:1},x=n.includes("|")&&!n.startsWith("data:image"),v=x?n.split("|")[0]:"",k=x?n.split("|")[1]:n,N=k.startsWith("https://storage.googleapis.com/")&&(k.includes(".jpg")||k.includes(".jpeg")||k.includes(".png")||k.includes(".gif")||k.includes(".webp")),D=k.startsWith("data:image")||N,w=k.startsWith("data:application/pdf"),C=k.includes("wordprocessingml")||k.includes("msword"),V=k.includes("spreadsheetml")||k.includes("ms-excel"),j=k.includes("presentationml")||k.includes("ms-powerpoint"),B=k.includes("application/zip"),R=k.startsWith("data:text/plain"),E=v.endsWith(".hwp")||k.includes("x-hwp"),A=v.toLowerCase().endsWith(".dwg")||k.includes("autocad")||k.includes("vnd.dwg"),S=v.toLowerCase().endsWith(".dxf"),O=v.toLowerCase().endsWith(".skp"),U=v.toLowerCase().endsWith(".3dm"),I=w?{color:"text-red-600",label:"PDF"}:C?{color:"text-blue-600",label:"DOC"}:V?{color:"text-green-600",label:"XLS"}:j?{color:"text-orange-600",label:"PPT"}:B?{color:"text-yellow-600",label:"ZIP"}:R?{color:"text-gray-600",label:"TXT"}:E?{color:"text-sky-600",label:"HWP"}:A?{color:"text-purple-600",label:"DWG"}:S?{color:"text-violet-600",label:"DXF"}:O?{color:"text-amber-600",label:"SKP"}:U?{color:"text-teal-600",label:"3DM"}:{color:"text-gray-600",label:"FILE"};return i.jsxDEV("div",{ref:d,style:g,className:"relative group",...a,children:[i.jsxDEV("div",{className:`aspect-square bg-gray-100 rounded-lg overflow-hidden border-2 transition-colors ${f?"border-blue-500":"border-gray-200 hover:border-blue-400 cursor-pointer"}`,onClick:()=>!f&&s(k,v,D,w),children:D?i.jsxDEV("img",{src:k,alt:`상세 이미지 ${e+1}`,className:"w-full h-full object-contain pointer-events-none",draggable:!1},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:178,columnNumber:11},void 0):i.jsxDEV("div",{className:`w-full h-full flex flex-col items-center justify-center ${I.color} pointer-events-none`,children:[i.jsxDEV("svg",{className:"h-12 w-12 mb-2",fill:"currentColor",viewBox:"0 0 24 24",children:[i.jsxDEV("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6z"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:187,columnNumber:15},void 0),i.jsxDEV("path",{d:"M14 2v6h6"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:188,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:186,columnNumber:13},void 0),i.jsxDEV("span",{className:"text-xs font-bold",children:I.label},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:190,columnNumber:13},void 0),v&&i.jsxDEV("span",{className:"text-xs text-gray-500 mt-1 px-2 truncate max-w-full",children:v.length>15?v.slice(0,12)+"...":v},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:192,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:185,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:171,columnNumber:7},void 0),i.jsxDEV("div",{...c,className:"absolute top-2 left-2 p-1.5 bg-gray-700 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity hover:bg-gray-800 z-10 cursor-grab active:cursor-grabbing",title:"드래그하여 순서 변경",children:i.jsxDEV("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 8h16M4 16h16"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:207,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:206,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:201,columnNumber:7},void 0),i.jsxDEV("button",{onClick:$=>{$.stopPropagation(),r(e)},onPointerDown:$=>$.stopPropagation(),className:"absolute top-2 right-2 p-1.5 bg-gray-700 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity hover:bg-gray-800 z-10",children:i.jsxDEV(jt,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:220,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:212,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:164,columnNumber:5},void 0)},Gi=({item:t,onEdit:n,onDelete:e,onImageClick:r})=>{const{attributes:s,listeners:a,setNodeRef:c,transform:d,transition:m,isDragging:p}=Xn({id:t.id}),f={transform:dt.Transform.toString(d),transition:m,opacity:p?.5:1};return i.jsxDEV("div",{ref:c,style:f,...s,...a,className:"bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow border border-gray-200 overflow-hidden flex flex-col group relative cursor-move",children:[i.jsxDEV("div",{className:"w-full aspect-square bg-gray-100 flex-shrink-0 relative",children:[t.image_url?i.jsxDEV("img",{src:t.image_url,alt:t.name,className:"w-full h-full object-contain block cursor-pointer",loading:"lazy",onClick:g=>{g.stopPropagation(),r(t)},onPointerDown:g=>g.stopPropagation()},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:265,columnNumber:11},void 0):i.jsxDEV("div",{className:"w-full h-full flex items-center justify-center text-gray-400 text-xs",children:"이미지 없음"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:277,columnNumber:11},void 0),i.jsxDEV("div",{className:"absolute top-2 right-2 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[i.jsxDEV("button",{onClick:g=>{g.stopPropagation(),n(t)},onPointerDown:g=>g.stopPropagation(),className:"p-1.5 bg-white text-gray-700 hover:bg-gray-100 rounded-md shadow-md transition-colors",title:"수정",children:i.jsxDEV(Yt,{className:"w-3.5 h-3.5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:293,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:284,columnNumber:11},void 0),i.jsxDEV("button",{onClick:g=>{g.stopPropagation(),e(t.id)},onPointerDown:g=>g.stopPropagation(),className:"p-1.5 bg-white text-rose-600 hover:bg-rose-50 rounded-md shadow-md transition-colors",title:"삭제",children:i.jsxDEV(jt,{className:"w-3.5 h-3.5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:304,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:295,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:283,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:263,columnNumber:7},void 0),i.jsxDEV("div",{className:"p-2 pt-1.5 flex flex-col flex-1",children:[i.jsxDEV("div",{className:"flex items-start justify-between mb-1",children:[i.jsxDEV("div",{className:"flex items-center gap-1.5",children:[i.jsxDEV("span",{className:"inline-block px-1.5 py-0.5 text-xs bg-gray-100 text-gray-700 rounded",children:t.category},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:313,columnNumber:13},void 0),t.brand&&i.jsxDEV("span",{className:"text-xs text-gray-500",children:t.brand},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:317,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:312,columnNumber:11},void 0),t.grade&&i.jsxDEV("span",{className:`hidden md:inline-block px-1 py-0.5 text-[10px] rounded ${Un(t.grade)}`,children:Rn(t.grade)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:321,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:311,columnNumber:9},void 0),i.jsxDEV("div",{className:"flex items-baseline justify-between gap-1 mt-auto",children:[i.jsxDEV("div",{className:"flex items-baseline gap-1 min-w-0",children:i.jsxDEV("h3",{className:"font-semibold text-xs text-gray-900 truncate",children:t.name},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:328,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:327,columnNumber:11},void 0),t.price&&i.jsxDEV("span",{className:"hidden md:inline text-xs text-gray-900 font-medium flex-shrink-0",children:[t.price,"원"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:331,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:326,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:310,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:254,columnNumber:5},void 0)},qi=({category:t,onRemove:n,onEdit:e})=>{const{attributes:r,listeners:s,setNodeRef:a,transform:c,transition:d,isDragging:m}=Xn({id:t}),p={transform:dt.Transform.toString(c),transition:d,opacity:m?.5:1};return i.jsxDEV("div",{ref:a,style:p,className:"flex items-center justify-between p-3 hover:bg-gray-50 border-b border-gray-100 last:border-b-0 bg-white",children:[i.jsxDEV("div",{className:"flex items-center gap-2 flex-1 cursor-grab active:cursor-grabbing",...r,...s,children:i.jsxDEV("span",{className:"text-sm text-gray-900",children:t},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:375,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:370,columnNumber:7},void 0),t!=="전체"&&i.jsxDEV("div",{className:"flex items-center gap-1",children:[i.jsxDEV("button",{onClick:f=>{f.stopPropagation(),f.preventDefault(),e(t)},className:"text-gray-600 hover:text-gray-800 transition-colors p-1",title:"수정",type:"button",children:i.jsxDEV(Yt,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:389,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:379,columnNumber:11},void 0),i.jsxDEV("button",{onClick:f=>{f.stopPropagation(),f.preventDefault(),n(t)},className:"text-red-500 hover:text-red-700 transition-colors p-1",title:"삭제",type:"button",children:i.jsxDEV(jt,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:401,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:391,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:378,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:365,columnNumber:5},void 0)},ra=()=>{var rr;const{user:t}=Cs(),n=Ss(),e=(t==null?void 0:t.name)==="안팀",{libraryItems:r,libraryLoaded:s,categories:a,categoriesLoaded:c,getLibraryItems:d,loadProjectItems:m,preloadLibrary:p,invalidateLibrary:f,invalidateProject:g,addItemToCache:x,updateItemInCache:v,removeItemFromCache:k}=Vs(),[N,D]=u.useState(()=>{if(e)return"project";const o=localStorage.getItem("specBook_lastView");return o==="library"||o==="project"?o:localStorage.getItem("specBook_lastProject")?"project":"library"}),[w,C]=u.useState([]),[V,j]=u.useState([]),[B,R]=u.useState([]),[E,A]=u.useState([]),[S,O]=u.useState(()=>localStorage.getItem("specBook_lastCategory")||"전체"),[U,ae]=u.useState([]),[I,$]=u.useState(()=>{const o=localStorage.getItem("specBook_lastProject");return o?Number(o):null}),[Ke,Le]=u.useState(!1),[F,Je]=u.useState(null),[_,le]=u.useState({name:"",category:"",brand:"",price:"",grades:["기본"],imageData:null}),[Y,te]=u.useState([]),[Me,Pe]=u.useState(!1),[ot,pe]=u.useState(!1),[fe,ne]=u.useState([]),[ve,T]=u.useState(""),[xe,we]=u.useState(!1),[z,je]=u.useState(null),[re,Ne]=u.useState([]),[it,Xe]=u.useState(null),[Ye,Ce]=u.useState(0),[ce,Qe]=u.useState([]),[rn,ut]=u.useState(!1),[sn,Nt]=u.useState(!1),[G,Z]=u.useState(1),[de,ue]=u.useState({x:0,y:0}),[Be,mt]=u.useState(!1),[pt,yt]=u.useState({x:0,y:0}),[at,Ge]=u.useState(null),[kt,qe]=u.useState(null),[ft,et]=u.useState(!1),[on,K]=u.useState(0),[ge,me]=u.useState(!1),[Te,he]=u.useState(null),[J,be]=u.useState(!1),[Se,X]=u.useState(null),[Ie,Ve]=u.useState(null),[Ee,tt]=u.useState(!1),nt=u.useRef(null),ze=u.useRef(null),ie=u.useRef(null),Re=u.useRef([]),Ue=u.useRef(!0),[Yn,Dt]=u.useState(null),[an,wt]=u.useState(!1),ln=Co(gr(Wn),gr(On,{coordinateGetter:$i})),Zn=(o,l)=>{const h=o.clientX-l.clientX,b=o.clientY-l.clientY;return Math.sqrt(h*h+b*b)},Gn=(o,l)=>({x:(o.clientX+l.clientX)/2,y:(o.clientY+l.clientY)/2});u.useEffect(()=>(Ue.current=!0,()=>{Ue.current=!1}),[]),u.useEffect(()=>{ss(),Ct()},[c,a,s,r]),u.useEffect(()=>{os()},[n]),u.useEffect(()=>{lt()},[N,S,I,Y,s,r]),u.useEffect(()=>{N==="project"&&I&&rt()},[N,I]),u.useEffect(()=>{I&&localStorage.setItem("specBook_lastProject",String(I))},[I]),u.useEffect(()=>{localStorage.setItem("specBook_lastView",N)},[N]),u.useEffect(()=>{localStorage.setItem("specBook_lastCategory",S)},[S]);const ss=async()=>{if(c&&a.length>0){A(a);return}try{const o=await q.getCategories();A(o)}catch(o){console.error("카테고리 로드 실패:",o)}},os=async()=>{try{const o=n.map(l=>({id:l.id,title:l.name}));console.log("프로젝트 목록 로드됨:",o.length,"개",o),ae(o),e&&o.length>0&&!I&&($(o[0].id),D("project"))}catch(o){console.error("프로젝트 로드 실패:",o)}},Ct=async(o=!1)=>{if(!o&&s&&r.length>0){Ue.current&&j(r);return}try{const l=await q.getLibraryMeta();Ue.current&&(j(l),o&&f())}catch(l){console.error("전체 라이브러리 아이템 로드 실패:",l)}},rt=async()=>{if(I)try{const o=await q.getProjectMeta(I);R(o)}catch(o){console.error("전체 프로젝트 아이템 로드 실패:",o)}},lt=async(o=!1)=>{try{if(N==="library"){if(!o&&s&&r.length>0){const b=d(S!=="전체"?S:void 0,Y.length>0?Y:void 0);if(Ue.current){const L=b.slice(0,20);C(L),Le(!1),b.length>20&&requestAnimationFrame(()=>{Ue.current&&C(b)})}return}w.length===0&&Le(!0);const l={};S!=="전체"&&(l.category=S),Y.length>0&&(l.grades=Y.join(","));const h=await q.getLibraryMeta();if(Ue.current){let b=h;S!=="전체"&&(b=b.filter(W=>W.category===S)),Y.length>0&&(b=b.filter(W=>{if(!W.grade)return!1;const Q=W.grade.split(",").map(Ae=>Ae.trim());return Y.some(Ae=>Q.includes(Ae))}));const y=Yi(b),L=20,M=y.slice(0,L);C(M),Le(!1),y.length>L&&requestAnimationFrame(()=>{Ue.current&&C(y)})}}else{if(!I){C([]),Le(!1);return}w.length===0&&Le(!0);const l={};S!=="전체"&&(l.category=S),Y.length>0&&(l.grades=Y.join(","));const h=await q.getProjectMeta(I);if(Ue.current){let b=h;S!=="전체"&&(b=b.filter(W=>W.category===S)),Y.length>0&&(b=b.filter(W=>{if(!W.grade)return!1;const Q=W.grade.split(",").map(Ae=>Ae.trim());return Y.some(Ae=>Q.includes(Ae))}));const y=b,L=20,M=y.slice(0,L);C(M),Le(!1),y.length>L&&requestAnimationFrame(()=>{Ue.current&&C(y)})}}}catch(l){console.error("스펙북 아이템 로드 실패:",l),Ue.current&&P.error("스펙북 아이템을 불러오는데 실패했습니다")}finally{Ue.current&&Le(!1)}},is=o=>N==="library"?o==="전체"?V.length:V.filter(l=>l.category===o).length:o==="전체"?B.length:B.filter(l=>l.category===o).length,as=o=>{o.preventDefault(),Pe(!1);const l=o.dataTransfer.files[0];if(l&&l.type.startsWith("image/")){const h=new FileReader;h.onload=b=>{var y;Dt((y=b.target)==null?void 0:y.result),wt(!0)},h.readAsDataURL(l)}},qn=o=>{var h;if(an||xe)return;const l=(h=o.clipboardData)==null?void 0:h.items;if(l){for(let b=0;b<l.length;b++)if(l[b].type.indexOf("image")!==-1){const y=l[b].getAsFile();if(y){const L=new FileReader;L.onload=M=>{var W;Dt((W=M.target)==null?void 0:W.result),wt(!0)},L.readAsDataURL(y)}}}};u.useEffect(()=>(document.addEventListener("paste",qn),()=>document.removeEventListener("paste",qn)),[_,an,xe]);const ls=o=>{const l=o.replace(/[^\d]/g,"");return l?l.replace(/\B(?=(\d{3})+(?!\d))/g,","):""},cs=o=>{const l=ls(o.target.value);le({..._,price:l})},ds=async o=>{var l,h;if(o.preventDefault(),!Ee){if(!_.name||!_.category){P.error("제품명과 카테고리는 필수입니다");return}if(_.grades.length===0){P.error("최소 하나의 등급을 선택해주세요");return}tt(!0);try{const b=_.grades.join(",");if(F){const y={name:_.name,category:_.category,brand:_.brand,price:_.price,grade:b,description:"",imageData:_.imageData,projectId:F.project_id,isLibrary:F.is_library===1};await q.updateItemBase64(F.id,{name:y.name,category:y.category,brand:y.brand,price:y.price,grade:y.grade,description:y.description,image:y.imageData||void 0,project_id:y.projectId,is_library:y.isLibrary?1:0}),P.success("스펙북 아이템이 수정되었습니다")}else{const y={name:_.name,category:_.category,brand:_.brand,price:_.price,grade:b,description:"",imageData:_.imageData,projectId:null,isLibrary:!0};await q.createItemBase64({name:y.name,category:y.category,brand:y.brand,price:y.price,grade:y.grade,description:y.description,image:y.imageData||void 0,project_id:y.projectId,is_library:y.isLibrary?1:0}),P.success("스펙북 아이템이 추가되었습니다")}Je(null),le({name:"",category:S!=="전체"?S:"",brand:"",price:"",grades:["기본"],imageData:null}),f(),await p(),lt(!0),Ct(!0),N==="project"&&I&&(g(I),rt())}catch(b){console.error("스펙북 아이템 저장 실패:",b),P.error(((h=(l=b.response)==null?void 0:l.data)==null?void 0:h.error)||"저장에 실패했습니다")}finally{tt(!1)}}},cn=o=>{Je(o);const l=o.grade?o.grade.includes(",")?o.grade.split(","):[o.grade]:["기본"];le({name:o.name,category:o.category,brand:o.brand,price:o.price,grades:l,imageData:null}),window.scrollTo({top:0,behavior:"smooth"})},dn=async o=>{if(confirm("정말 삭제하시겠습니까?"))try{await q.deleteItem(o),P.success("스펙북 아이템이 삭제되었습니다"),lt(),N==="library"?Ct():N==="project"&&I&&rt()}catch(l){console.error("삭제 실패:",l),P.error("삭제에 실패했습니다")}},us=()=>{Je(null),le({name:"",category:S!=="전체"?S:"",brand:"",price:"",grades:["기본"],imageData:null})},ms=o=>{le({..._,imageData:o}),wt(!1),Dt(null)},ps=()=>{wt(!1),Dt(null)},un=o=>{z&&z.id!==o.id&&(ie.current&&(clearTimeout(ie.current),ie.current=null),JSON.stringify(re)!==JSON.stringify(Re.current)&&q.updateSubImages(z.id,re).catch(h=>{console.error("기존 아이템 Sub 이미지 저장 실패:",h)})),je(o),Ne([]),Re.current=[],we(!0),q.getItemById(o.id).then(l=>{if(!l)return;let h=l.sub_images||[];if(!l.is_library&&h.length===0){const b=V.find(y=>y.name===l.name&&y.category===l.category);if(b){q.getItemById(b.id).then(y=>{if(!y)return;const L=y.sub_images||[];L.length>0&&(Ne([...L]),Re.current=[...L],q.updateSubImages(o.id,L).catch(M=>{console.error("프로젝트 아이템에 sub_images 동기화 실패:",M)}))}).catch(y=>{console.error("라이브러리 아이템 sub_images 조회 실패:",y)});return}}Ne([...h]),Re.current=[...h]}).catch(l=>{console.error("아이템 sub_images 조회 실패:",l)})},fs=o=>{const l=Array.from(o.target.files||[]);mn(l)},mn=o=>{const l=["image/","application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/zip","application/x-hwp","text/plain","application/acad","application/x-autocad","image/vnd.dwg"],h=[".hwp",".dwg",".skp",".3dm",".dxf"];o.forEach(b=>{const y=b.name.toLowerCase().slice(b.name.lastIndexOf("."));if(l.some(M=>M.endsWith("/")?b.type.startsWith(M):b.type===M)||h.includes(y)){const M=new FileReader;M.onload=W=>{var sr;const Q=(sr=W.target)==null?void 0:sr.result,Ae=b.type.startsWith("image/")?Q:`${b.name}|${Q}`;Ne(ws=>[...ws,Ae])},M.readAsDataURL(b)}else P.error(`지원하지 않는 파일 형식입니다: ${b.name}`)})},gs=o=>{o.preventDefault(),o.stopPropagation(),ut(!1);const l=Array.from(o.dataTransfer.files);mn(l)},Kn=o=>{var b;if(!xe)return;const l=(b=o.clipboardData)==null?void 0:b.items;if(!l)return;const h=[];for(let y=0;y<l.length;y++)if(l[y].type.indexOf("image")!==-1){const L=l[y].getAsFile();L&&h.push(L)}h.length>0&&(mn(h),P.success(`${h.length}개의 이미지가 추가되었습니다`))};u.useEffect(()=>{if(xe)return document.addEventListener("paste",Kn),()=>document.removeEventListener("paste",Kn)},[xe]);const pn=u.useCallback(async(o,l,h=!1)=>{Nt(!0);try{await q.updateSubImages(o,l),Re.current=[...l],h&&P.success("저장되었습니다");try{f(),lt(!0),Ct(!0),N==="project"&&I&&rt()}catch(b){console.error("데이터 새로고침 실패:",b)}}catch(b){console.error("Sub 이미지 저장 실패:",b),P.error("상세 이미지 저장에 실패했습니다")}finally{Nt(!1)}},[N,I,lt,Ct,rt,f]);u.useEffect(()=>{if(!z||!xe||!(JSON.stringify(re)!==JSON.stringify(Re.current)))return;const l=z.id,h=[...re];return ie.current&&clearTimeout(ie.current),ie.current=setTimeout(async()=>{(z==null?void 0:z.id)===l&&await pn(l,h)},200),()=>{ie.current&&clearTimeout(ie.current)}},[re,z==null?void 0:z.id,xe,pn]);const hs=o=>{Ne(l=>l.filter((h,b)=>b!==o))},bs=o=>{const{active:l,over:h}=o;h&&l.id!==h.id&&Ne(b=>{const y=b.findIndex((M,W)=>`subimg-${W}`===l.id),L=b.findIndex((M,W)=>`subimg-${W}`===h.id);return Lt(b,y,L)})},vs=(o,l,h,b)=>{if(h){const y=[];z!=null&&z.image_url&&y.push(z.image_url),re.forEach(M=>{const Q=M.includes("|")&&!M.startsWith("data:image")?M.split("|")[1]:M,Ae=Q.startsWith("https://storage.googleapis.com/")&&(Q.includes(".jpg")||Q.includes(".jpeg")||Q.includes(".png")||Q.includes(".gif")||Q.includes(".webp"));(Q.startsWith("data:image")||Ae)&&y.push(Q)}),Qe(y);const L=y.indexOf(o);Ce(L>=0?L:0),Xe(o)}else if(b){const y=window.open();y&&y.document.write(`
          <html>
            <head><title>${l||"PDF 파일"}</title></head>
            <body style="margin:0;padding:0;overflow:hidden;">
              <iframe src="${o}" style="width:100%;height:100vh;border:none;"></iframe>
            </body>
          </html>
        `)}else{const y=document.createElement("a");y.href=o,y.download=l||"file",y.click()}},Jn=()=>{if(ce.length<=1)return;const o=Ye>0?Ye-1:ce.length-1;Ce(o),Xe(ce[o]),Z(1),ue({x:0,y:0})},Qn=()=>{if(ce.length<=1)return;const o=Ye<ce.length-1?Ye+1:0;Ce(o),Xe(ce[o]),Z(1),ue({x:0,y:0})};u.useEffect(()=>{if(!it)return;const o=l=>{l.key==="ArrowLeft"?(l.preventDefault(),Jn()):l.key==="ArrowRight"?(l.preventDefault(),Qn()):l.key==="Escape"&&(l.preventDefault(),Xe(null),Z(1),ue({x:0,y:0}),Qe([]))};return window.addEventListener("keydown",o),()=>window.removeEventListener("keydown",o)},[it,Ye,ce]);const er=async()=>{if(ie.current){clearTimeout(ie.current),ie.current=null;const o=z==null?void 0:z.id,l=[...re],h=[...Re.current||[]];JSON.stringify(l)!==JSON.stringify(h)&&o&&await pn(o,l,!0)}we(!1),je(null),Ne([]),Re.current=[],Nt(!1)},xs=async o=>{const{active:l,over:h}=o;if(!h||l.id===h.id)return;const b=w.findIndex(L=>L.id===l.id),y=w.findIndex(L=>L.id===h.id);if(b!==-1&&y!==-1){const L=Lt(w,b,y);C(L);try{await q.reorderItems(L.map((M,W)=>({id:M.id,display_order:W}))),P.success("아이템 순서가 업데이트되었습니다")}catch(M){console.error("순서 업데이트 실패:",M),P.error("순서 업데이트 실패"),lt()}}},Ns=()=>{ne([...E]),pe(!0)},tr=()=>{pe(!1),T("")},nr=async()=>{if(!ve.trim()){P.error("카테고리 이름을 입력하세요");return}if(fe.includes(ve.trim())){P.error("이미 존재하는 카테고리입니다");return}const o=[...fe,ve.trim()];ne(o),T("");try{await q.updateCategories(o),A(o),P.success("카테고리가 추가되었습니다")}catch(l){console.error("카테고리 추가 저장 실패:",l),P.error("카테고리 추가 저장에 실패했습니다"),ne(E)}},ys=async o=>{if(o==="전체"){P.error("전체 카테고리는 수정할 수 없습니다");return}const l=window.prompt("새 카테고리 이름을 입력하세요",o);if(!l||!l.trim()||l.trim()===o)return;if(fe.includes(l.trim())){P.error("이미 존재하는 카테고리입니다");return}const h=fe.map(b=>b===o?l.trim():b);ne(h);try{await q.updateCategories(h),A(h),P.success("카테고리 이름이 변경되었습니다")}catch(b){console.error("카테고리 수정 저장 실패:",b),P.error("카테고리 수정 저장에 실패했습니다"),ne(E)}},ks=async o=>{if(o==="전체"){P.error("전체 카테고리는 삭제할 수 없습니다");return}const l=fe.filter(h=>h!==o);ne(l);try{await q.updateCategories(l),A(l),P.success("카테고리가 삭제되었습니다")}catch(h){console.error("카테고리 삭제 저장 실패:",h),P.error("카테고리 삭제 저장에 실패했습니다"),ne(E)}},Ds=async o=>{const{active:l,over:h}=o;if(h&&l.id!==h.id){const b=fe.indexOf(l.id),y=fe.indexOf(h.id),L=Lt(fe,b,y);ne(L);try{await q.updateCategories(L),A(L),P.success("카테고리 순서가 변경되었습니다")}catch(M){console.error("카테고리 순서 저장 실패:",M),P.error("카테고리 순서 저장에 실패했습니다"),ne(E)}}};return i.jsxDEV("div",{className:"flex flex-col h-[calc(100vh-120px)] bg-gray-50",children:[i.jsxDEV("div",{className:"specbook-container flex-1 flex flex-col md:flex-row gap-4 md:gap-6 overflow-hidden",children:[i.jsxDEV("div",{className:"specbook-sidebar hidden md:flex flex-col gap-4 w-80 lg:w-96 flex-shrink-0",children:[i.jsxDEV("div",{className:"specbook-form bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden flex flex-col",children:i.jsxDEV("form",{onSubmit:ds,className:"flex flex-col pt-3",children:[i.jsxDEV("div",{className:"flex flex-col sm:flex-row gap-3 px-3",children:[i.jsxDEV("div",{onDragOver:o=>{o.preventDefault(),Pe(!0)},onDragLeave:()=>Pe(!1),onDrop:as,className:`w-full sm:w-48 aspect-square flex-shrink-0 border-2 border-dashed rounded-lg flex items-center justify-center cursor-pointer transition-colors ${Me?"border-gray-500 bg-gray-50":"border-gray-300 hover:border-gray-400"}`,onClick:()=>{var o;return(o=nt.current)==null?void 0:o.click()},children:[_.imageData||F!=null&&F.image_url?i.jsxDEV("img",{src:_.imageData||(F==null?void 0:F.image_url)||"",alt:"Preview",className:"w-full h-full object-contain rounded-lg"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1524,columnNumber:23},void 0):i.jsxDEV("div",{className:"text-center",children:[i.jsxDEV(Bs,{className:"w-8 h-8 mx-auto mb-1 text-gray-400"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1531,columnNumber:25},void 0),i.jsxDEV("p",{className:"text-sm text-gray-500",children:"이미지"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1532,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1530,columnNumber:23},void 0),i.jsxDEV("input",{ref:nt,type:"file",accept:"image/*",onChange:o=>{var h;const l=(h=o.target.files)==null?void 0:h[0];if(l){const b=new FileReader;b.onload=y=>{var L;Dt((L=y.target)==null?void 0:L.result),wt(!0)},b.readAsDataURL(l)}o.target.value=""},className:"hidden"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1535,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1511,columnNumber:19},void 0),i.jsxDEV("div",{className:"flex-1 flex flex-col gap-2",children:[i.jsxDEV("div",{className:"space-y-1.5",children:[i.jsxDEV("select",{value:_.category,onChange:o=>le({..._,category:o.target.value}),className:"w-full px-2 py-1.5 text-xs border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-gray-500",required:!0,children:[i.jsxDEV("option",{value:"",children:"카테고리"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1566,columnNumber:25},void 0),E.filter(o=>o!=="전체").map(o=>i.jsxDEV("option",{value:o,children:o},o,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1568,columnNumber:27},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1560,columnNumber:23},void 0),i.jsxDEV("input",{type:"text",value:_.brand,onChange:o=>le({..._,brand:o.target.value}),className:"w-full px-2 py-1.5 text-xs border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-gray-500",placeholder:"브랜드"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1572,columnNumber:23},void 0),i.jsxDEV("input",{type:"text",value:_.name,onChange:o=>le({..._,name:o.target.value}),className:"w-full px-2 py-1.5 text-xs border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-gray-500",placeholder:"제품명",required:!0},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1580,columnNumber:23},void 0),i.jsxDEV("div",{className:"relative",children:[i.jsxDEV("input",{type:"text",value:_.price,onChange:cs,className:"w-full px-2 py-1.5 text-xs border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-gray-500 pr-8",placeholder:"가격"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1590,columnNumber:25},void 0),i.jsxDEV("span",{className:"absolute right-2 top-1/2 -translate-y-1/2 text-xs text-gray-500",children:"원"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1597,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1589,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1559,columnNumber:21},void 0),i.jsxDEV("div",{className:"flex gap-1",children:["알뜰","기본","고급","하이"].map((o,l)=>{const h=l===3?"하이엔드":o;return i.jsxDEV("button",{type:"button",onClick:()=>{_.grades.includes(h)?le({..._,grades:_.grades.filter(b=>b!==h)}):le({..._,grades:[..._.grades,h]})},className:`flex-1 px-1 py-1 text-xs font-medium rounded transition-colors ${_.grades.includes(h)?h==="하이엔드"?"bg-violet-500 text-white":h==="고급"?"bg-sky-500 text-white":h==="기본"?"bg-emerald-500 text-white":"bg-amber-400 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:o},h,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1606,columnNumber:27},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1602,columnNumber:21},void 0),i.jsxDEV("div",{className:"flex gap-1.5 mt-3",children:[i.jsxDEV("button",{type:"submit",disabled:Ee,className:"flex-1 px-3 py-1.5 text-xs bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors disabled:opacity-50",children:Ee?"저장 중...":F?"수정":"추가"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1633,columnNumber:23},void 0),F&&i.jsxDEV("button",{type:"button",onClick:us,className:"px-3 py-1.5 text-xs bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",children:"취소"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1641,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1632,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1558,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1509,columnNumber:17},void 0),i.jsxDEV("div",{className:"p-3 pt-0"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1654,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1507,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1506,columnNumber:11},void 0),i.jsxDEV("div",{className:"specbook-grade-filter bg-white rounded-lg shadow-sm p-4 border border-gray-200",children:i.jsxDEV("div",{className:"flex items-center gap-3",children:[i.jsxDEV("h3",{className:"text-sm font-semibold text-gray-900 mr-3",children:"등급 필터"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1661,columnNumber:15},void 0),i.jsxDEV("div",{className:"flex gap-2 flex-1",children:[["알뜰","기본","고급","하이엔드"].map(o=>i.jsxDEV("button",{onClick:()=>{Y.includes(o)?te(Y.filter(l=>l!==o)):te([...Y,o])},className:`px-3 py-1.5 rounded text-xs font-medium transition-colors whitespace-nowrap ${Y.includes(o)?o==="하이엔드"?"bg-violet-500 text-white":o==="고급"?"bg-sky-500 text-white":o==="기본"?"bg-emerald-500 text-white":"bg-amber-400 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:o},o,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1664,columnNumber:19},void 0)),Y.length>0&&i.jsxDEV("button",{onClick:()=>te([]),className:"px-3 py-1.5 rounded text-xs font-medium bg-gray-200 text-gray-700 hover:bg-gray-300 transition-colors whitespace-nowrap",children:"초기화"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1686,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1662,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1660,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1659,columnNumber:11},void 0),i.jsxDEV("div",{className:"specbook-category bg-white rounded-lg shadow-sm p-4 border border-gray-200",children:[i.jsxDEV("div",{className:"flex items-center justify-between mb-3",children:[i.jsxDEV("h3",{className:"text-sm font-semibold text-gray-900",children:["카테고리",N==="project"&&I&&i.jsxDEV("span",{className:"ml-1 text-gray-600",children:["(",(rr=U.find(o=>o.id===I))==null?void 0:rr.title,")"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1703,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1700,columnNumber:15},void 0),i.jsxDEV("button",{onClick:Ns,className:"p-1 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded transition-colors",title:"카테고리 편집",children:i.jsxDEV(Is,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1713,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1708,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1699,columnNumber:13},void 0),i.jsxDEV("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:E.map(o=>{const l=is(o),h=(N==="library"||N==="project"&&I)&&l>0;return i.jsxDEV("button",{onClick:()=>O(o),className:`px-2 py-1.5 rounded text-xs font-medium transition-colors ${S===o?"bg-gray-800 text-white":"bg-gray-50 text-gray-700 hover:bg-gray-100"}`,children:[o,h&&i.jsxDEV("span",{className:`ml-1 ${S===o?"text-gray-300":"text-gray-400"}`,children:["(",l,")"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1734,columnNumber:23},void 0)]},o,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1723,columnNumber:19},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1716,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1698,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1504,columnNumber:9},void 0),N==="library"?i.jsxDEV("div",{className:"specbook-main flex-1 flex flex-col overflow-hidden pr-4 pt-3",children:[i.jsxDEV("div",{className:"mb-4 px-4",children:i.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 gap-2 lg:gap-4",children:[!e&&i.jsxDEV("button",{onClick:()=>{D("library"),$(null)},className:`col-span-1 lg:col-span-1 h-9 rounded-lg font-medium transition-colors text-xs md:text-sm flex items-center justify-center ${N==="library"?"bg-gray-800 text-white":"bg-gray-200 text-gray-700"}`,children:"스펙 라이브러리"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1755,columnNumber:17},void 0),i.jsxDEV("select",{value:N==="library"?"":I||"",onChange:o=>{o.target.value?(D("project"),$(Number(o.target.value))):e||(D("library"),$(null))},className:`specbook-header-project-select col-span-1 lg:col-span-1 ${e?"":"lg:col-start-4"} h-9 border border-gray-300 rounded-lg focus:outline-none bg-white text-xs md:text-sm px-1 md:px-2`,children:[!e&&i.jsxDEV("option",{value:"",children:"프로젝트 선택"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1778,columnNumber:35},void 0),U.map(o=>i.jsxDEV("option",{value:o.id,children:o.title},o.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1780,columnNumber:19},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1765,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1753,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1752,columnNumber:11},void 0),i.jsxDEV("div",{className:"specbook-content flex-1 flex flex-col md:flex-row overflow-hidden",children:[i.jsxDEV("div",{className:"specbook-library w-full md:w-1/2 flex flex-col overflow-hidden pb-4 md:pr-3",children:i.jsxDEV("div",{className:"flex-1 overflow-y-auto bg-gray-50 rounded-lg p-4",children:Ke?i.jsxDEV("div",{className:"flex items-center justify-center h-full",children:i.jsxDEV("div",{className:"text-gray-500",children:"로딩 중..."},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1794,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1793,columnNumber:13},void 0):w.length===0?i.jsxDEV("div",{className:"flex items-center justify-center h-full text-gray-500 text-sm",children:"등록된 스펙북 아이템이 없습니다"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1797,columnNumber:13},void 0):i.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-3 gap-4",children:w.map(o=>i.jsxDEV("div",{draggable:!0,onDragStart:l=>{be(!0),l.dataTransfer.setData("itemId",o.id.toString()),l.dataTransfer.effectAllowed="copy"},onDragEnd:()=>{be(!1),X(null)},className:"bg-white rounded-lg shadow-sm hover:shadow-md transition-all border border-gray-200 overflow-hidden cursor-grab active:cursor-grabbing flex flex-col group relative",children:[i.jsxDEV("div",{className:"w-full aspect-square bg-gray-100 relative",onMouseDown:l=>{X({x:l.clientX,y:l.clientY})},onClick:l=>{!J&&Se&&Math.sqrt(Math.pow(l.clientX-Se.x,2)+Math.pow(l.clientY-Se.y,2))<5&&un(o),X(null)},children:o.image_url?i.jsxDEV("img",{src:o.image_url,alt:o.name,className:"w-full h-full object-contain pointer-events-none",loading:"lazy",draggable:!1},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1837,columnNumber:23},void 0):i.jsxDEV("div",{className:"w-full h-full flex items-center justify-center text-gray-400 text-xs pointer-events-none",children:"이미지 없음"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1845,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1817,columnNumber:19},void 0),i.jsxDEV("div",{className:"absolute top-2 right-2 flex gap-1 md:opacity-0 md:group-hover:opacity-100 transition-opacity pointer-events-auto",children:[i.jsxDEV("button",{onClick:l=>{l.stopPropagation(),cn(o)},onPointerDown:l=>l.stopPropagation(),className:"p-1.5 bg-white text-gray-700 hover:bg-gray-100 rounded-md shadow-md transition-colors cursor-pointer",title:"수정",children:i.jsxDEV(Yt,{className:"w-3.5 h-3.5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1860,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1851,columnNumber:21},void 0),i.jsxDEV("button",{onClick:l=>{l.stopPropagation(),dn(o.id)},onPointerDown:l=>l.stopPropagation(),className:"p-1.5 bg-white text-rose-600 hover:bg-rose-50 rounded-md shadow-md transition-colors cursor-pointer",title:"삭제",children:i.jsxDEV(jt,{className:"w-3.5 h-3.5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1871,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1862,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1850,columnNumber:19},void 0),i.jsxDEV("div",{className:"p-2 pt-1.5 flex flex-col flex-1",children:[i.jsxDEV("div",{className:"flex items-start justify-between mb-1",children:[i.jsxDEV("div",{className:"flex items-center gap-1.5",children:[i.jsxDEV("span",{className:"inline-block px-1.5 py-0.5 text-xs bg-gray-100 text-gray-700 rounded",children:o.category},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1877,columnNumber:25},void 0),o.brand&&i.jsxDEV("span",{className:"text-xs text-gray-500",children:o.brand},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1881,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1876,columnNumber:23},void 0),o.grade&&i.jsxDEV("span",{className:`hidden md:inline-block px-1.5 py-0.5 text-xs rounded ${Un(o.grade)}`,children:Rn(o.grade)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1885,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1875,columnNumber:21},void 0),i.jsxDEV("div",{className:"flex items-baseline justify-between gap-1 mt-auto",children:[i.jsxDEV("div",{className:"flex items-baseline gap-1 min-w-0",children:i.jsxDEV("h3",{className:"font-semibold text-xs text-gray-900 truncate",children:o.name},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1892,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1891,columnNumber:23},void 0),o.price&&i.jsxDEV("span",{className:"hidden md:inline text-xs text-gray-900 font-medium flex-shrink-0",children:[o.price,"원"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1895,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1890,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1874,columnNumber:19},void 0)]},o.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1803,columnNumber:17},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1801,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1791,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1790,columnNumber:13},void 0),i.jsxDEV("div",{className:"hidden md:block w-px bg-gray-300 self-stretch"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1906,columnNumber:13},void 0),i.jsxDEV("div",{className:"specbook-drop-zone hidden md:flex w-1/2 flex-col overflow-hidden pl-3 pb-4",children:[i.jsxDEV("div",{className:"mb-2 text-sm font-medium text-gray-700 flex items-center gap-2",children:[i.jsxDEV("span",{children:"프로젝트에 드래그하여 추가"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1910,columnNumber:17},void 0),J&&i.jsxDEV("span",{className:"text-xs text-blue-600 animate-pulse",children:"드래그 중..."},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1912,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1909,columnNumber:15},void 0),i.jsxDEV("div",{className:"flex-1 overflow-y-auto bg-gray-50 rounded-lg p-3",children:U.length===0?i.jsxDEV("div",{className:"flex items-center justify-center h-full text-gray-400 text-sm",children:"등록된 프로젝트가 없습니다"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1917,columnNumber:19},void 0):i.jsxDEV("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-2",children:U.map(o=>i.jsxDEV("div",{className:`p-3 bg-white rounded-lg border-2 transition-all cursor-pointer ${J?"border-dashed border-blue-300 hover:border-blue-500 hover:bg-blue-50":"border-gray-200 hover:border-gray-300 hover:shadow-sm"}`,onDragOver:l=>{l.preventDefault(),l.dataTransfer.dropEffect="copy",l.currentTarget.classList.add("bg-blue-100","border-blue-500","scale-[1.02]")},onDragLeave:l=>{l.currentTarget.classList.remove("bg-blue-100","border-blue-500","scale-[1.02]")},onDrop:async l=>{l.preventDefault(),l.currentTarget.classList.remove("bg-blue-100","border-blue-500","scale-[1.02]");const h=l.dataTransfer.getData("itemId");if(h)try{const b=V.find(y=>y.id===Number(h));b&&(await Es(As.SPECBOOK_ITEMS,{name:b.name,category:b.category,brand:b.brand,price:b.price,image_url:b.image_url,sub_images:b.sub_images||[],description:b.description,grade:b.grade||"",project_id:o.id,is_library:0,display_order:0}),P.success(`"${o.title}"에 아이템이 추가되었습니다`),rt())}catch(b){console.error("아이템 추가 실패:",b),P.error("아이템 추가 실패")}},onClick:()=>{D("project"),$(o.id)},children:i.jsxDEV("div",{className:"flex items-center gap-2",children:[i.jsxDEV("div",{className:"w-3 h-3 rounded-full flex-shrink-0",style:{backgroundColor:o.colorCode||"#3B82F6"}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1975,columnNumber:27},void 0),i.jsxDEV("div",{className:"flex-1 min-w-0",children:[i.jsxDEV("div",{className:"font-medium text-gray-900 text-sm truncate",children:o.title},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1980,columnNumber:29},void 0),i.jsxDEV("div",{className:"text-xs text-gray-500",children:[B.filter(l=>l.project_id===o.id).length,"개 아이템"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1981,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1979,columnNumber:27},void 0),J&&i.jsxDEV("div",{className:"text-blue-500",children:i.jsxDEV("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1988,columnNumber:33},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1987,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1986,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1974,columnNumber:25},void 0)},o.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1923,columnNumber:23},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1921,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1915,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1908,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1788,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1750,columnNumber:11},void 0):i.jsxDEV("div",{className:"specbook-main flex-1 flex flex-col overflow-hidden pr-4 pt-3",children:[i.jsxDEV("div",{className:"mb-4 px-4",children:i.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 gap-2 lg:gap-4",children:[!e&&i.jsxDEV("button",{onClick:()=>{D("library"),$(null)},className:"col-span-1 lg:col-span-1 h-9 rounded-lg font-medium transition-colors bg-gray-200 text-gray-700 text-xs md:text-sm flex items-center justify-center",children:"스펙 라이브러리"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2008,columnNumber:19},void 0),i.jsxDEV("select",{value:N==="library"?"":I||"",onChange:o=>{o.target.value?(D("project"),$(Number(o.target.value))):e||(D("library"),$(null))},className:`specbook-header-project-select col-span-1 lg:col-span-1 ${e?"":"lg:col-start-4"} h-9 border border-gray-300 rounded-lg focus:outline-none bg-white text-xs md:text-sm px-1 md:px-2`,children:[!e&&i.jsxDEV("option",{value:"",children:"프로젝트 선택"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2031,columnNumber:37},void 0),U.map(o=>i.jsxDEV("option",{value:o.id,children:o.title},o.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2033,columnNumber:21},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2018,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2006,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2005,columnNumber:13},void 0),i.jsxDEV("div",{className:"specbook-content flex-1 flex flex-col md:flex-row overflow-hidden gap-4",children:[!e&&i.jsxDEV("div",{className:"specbook-library hidden md:flex md:w-1/2 flex-col overflow-hidden pb-4 md:pr-3",children:i.jsxDEV("div",{className:"flex-1 overflow-y-auto bg-gray-50 rounded-lg p-4",children:i.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-3 gap-4",children:V.filter(o=>S==="전체"||o.category===S).map(o=>i.jsxDEV("div",{draggable:!0,onDragStart:l=>{be(!0),l.dataTransfer.setData("itemId",o.id.toString()),l.dataTransfer.effectAllowed="copy"},onDragEnd:()=>{be(!1),X(null)},className:"bg-white rounded-lg shadow-sm hover:shadow-md transition-all border border-gray-200 overflow-hidden cursor-grab active:cursor-grabbing flex flex-col group relative",children:[i.jsxDEV("div",{className:"w-full aspect-square bg-gray-100 relative",onMouseDown:l=>{X({x:l.clientX,y:l.clientY})},onClick:l=>{!J&&Se&&Math.sqrt(Math.pow(l.clientX-Se.x,2)+Math.pow(l.clientY-Se.y,2))<5&&un(o),X(null)},children:o.image_url?i.jsxDEV("img",{src:o.image_url,alt:o.name,className:"w-full h-full object-contain pointer-events-none",loading:"lazy",draggable:!1},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2085,columnNumber:29},void 0):i.jsxDEV("div",{className:"w-full h-full flex items-center justify-center text-gray-400 text-xs pointer-events-none",children:"이미지 없음"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2093,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2065,columnNumber:25},void 0),i.jsxDEV("div",{className:"absolute top-2 right-2 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-auto",children:[i.jsxDEV("button",{onClick:l=>{l.stopPropagation(),cn(o)},onPointerDown:l=>l.stopPropagation(),className:"p-1.5 bg-white text-gray-700 hover:bg-gray-100 rounded-md shadow-md transition-colors cursor-pointer",title:"수정",children:i.jsxDEV(Yt,{className:"w-3.5 h-3.5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2108,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2099,columnNumber:27},void 0),i.jsxDEV("button",{onClick:l=>{l.stopPropagation(),dn(o.id)},onPointerDown:l=>l.stopPropagation(),className:"p-1.5 bg-white text-rose-600 hover:bg-rose-50 rounded-md shadow-md transition-colors cursor-pointer",title:"삭제",children:i.jsxDEV(jt,{className:"w-3.5 h-3.5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2119,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2110,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2098,columnNumber:25},void 0),i.jsxDEV("div",{className:"p-2 pt-1.5 flex flex-col flex-1",children:[i.jsxDEV("div",{className:"flex items-start justify-between mb-1",children:[i.jsxDEV("div",{className:"flex items-center gap-1.5",children:[i.jsxDEV("span",{className:"inline-block px-1.5 py-0.5 text-xs bg-gray-100 text-gray-700 rounded",children:o.category},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2125,columnNumber:31},void 0),o.brand&&i.jsxDEV("span",{className:"text-xs text-gray-500",children:o.brand},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2129,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2124,columnNumber:29},void 0),o.grade&&i.jsxDEV("span",{className:`hidden md:inline-block px-1.5 py-0.5 text-xs rounded ${Un(o.grade)}`,children:Rn(o.grade)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2133,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2123,columnNumber:27},void 0),i.jsxDEV("div",{className:"flex items-baseline justify-between gap-1 mt-auto",children:[i.jsxDEV("div",{className:"flex items-baseline gap-1 min-w-0",children:i.jsxDEV("h3",{className:"font-semibold text-xs text-gray-900 truncate",children:o.name},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2140,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2139,columnNumber:29},void 0),o.price&&i.jsxDEV("span",{className:"hidden md:inline text-xs text-gray-900 font-medium flex-shrink-0",children:[o.price,"원"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2143,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2138,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2122,columnNumber:25},void 0)]},o.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2051,columnNumber:23},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2047,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2045,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2044,columnNumber:17},void 0),!e&&i.jsxDEV("div",{className:"hidden md:block w-px bg-gray-300 self-stretch"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2156,columnNumber:15},void 0),i.jsxDEV("div",{className:`specbook-project w-full ${e?"":"md:w-1/2"} flex flex-col overflow-hidden ${e?"":"md:pl-3"} pb-4`,children:[i.jsxDEV("div",{className:"specbook-drop-project-select hidden mb-2",children:i.jsxDEV("select",{value:I||"",onChange:o=>{o.target.value?(D("project"),$(Number(o.target.value))):e||(D("library"),$(null))},className:"w-full h-9 border border-gray-300 rounded-lg focus:outline-none bg-white text-sm px-3",children:[!e&&i.jsxDEV("option",{value:"",children:"프로젝트 선택"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2175,columnNumber:37},void 0),U.map(o=>i.jsxDEV("option",{value:o.id,children:o.title},o.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2177,columnNumber:21},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2162,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2161,columnNumber:15},void 0),i.jsxDEV("div",{className:"flex-1 overflow-y-auto bg-gray-50 rounded-lg p-4",onDragOver:o=>{o.preventDefault(),o.dataTransfer.dropEffect="copy"},onDrop:async o=>{o.preventDefault();const l=o.dataTransfer.getData("itemId");if(l&&I)try{const h=V.find(b=>b.id===Number(l));h&&(await q.createItemBase64({name:h.name,category:h.category,brand:h.brand,price:h.price,description:h.description,sub_images:h.sub_images,grade:h.grade,is_library:0,project_id:I,display_order:w.length}),P.success("아이템이 프로젝트에 추가되었습니다"),lt(),rt())}catch(h){console.error("아이템 추가 실패:",h),P.error("아이템 추가 실패")}},children:Ke?i.jsxDEV("div",{className:"flex items-center justify-center h-full",children:i.jsxDEV("div",{className:"text-gray-500",children:"로딩 중..."},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2222,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2221,columnNumber:19},void 0):w.length===0?i.jsxDEV("div",{className:"flex items-center justify-center h-full text-gray-600 text-sm",children:[i.jsxDEV("span",{className:"specbook-drop-text-landscape",children:"좌측에서 아이템을 드래그하여 추가하세요"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2226,columnNumber:21},void 0),i.jsxDEV("span",{className:"specbook-drop-text-portrait",children:"상단에서 아이템을 드래그하여 추가하세요"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2227,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2225,columnNumber:19},void 0):i.jsxDEV(xn,{sensors:ln,collisionDetection:gn,onDragEnd:xs,children:i.jsxDEV(Nn,{items:w.filter(o=>S==="전체"||o.category===S).map(o=>o.id),strategy:Er,children:i.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-3 gap-4",children:w.filter(o=>S==="전체"||o.category===S).map(o=>i.jsxDEV(Gi,{item:o,onEdit:cn,onDelete:dn,onImageClick:un},o.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2245,columnNumber:29},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2241,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2235,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2230,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2183,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2159,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2041,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2003,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1502,columnNumber:7},void 0),ot&&i.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:i.jsxDEV("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md mx-4",children:[i.jsxDEV("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[i.jsxDEV("h2",{className:"text-lg font-bold text-gray-900",children:"카테고리 관리"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2269,columnNumber:15},void 0),i.jsxDEV("button",{onClick:tr,className:"text-gray-500 hover:text-gray-700 transition-colors",children:i.jsxDEV(Ot,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2274,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2270,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2268,columnNumber:13},void 0),i.jsxDEV("div",{className:"p-4",children:[i.jsxDEV("div",{className:"mb-4",children:i.jsxDEV("div",{className:"flex gap-2",children:[i.jsxDEV("input",{type:"text",value:ve,onChange:o=>T(o.target.value),onKeyPress:o=>{o.key==="Enter"&&nr()},className:"flex-1 px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",placeholder:"카테고리 이름 입력"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2282,columnNumber:19},void 0),i.jsxDEV("button",{onClick:nr,className:"px-4 py-2 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors flex items-center gap-1",children:[i.jsxDEV(or,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2298,columnNumber:21},void 0),"추가"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2294,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2281,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2280,columnNumber:15},void 0),i.jsxDEV("div",{className:"mb-4",children:[i.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"카테고리 목록 (드래그하여 순서 변경)"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2306,columnNumber:17},void 0),i.jsxDEV("div",{className:"max-h-120 overflow-y-auto border border-gray-200 rounded-lg",children:i.jsxDEV(xn,{sensors:ln,collisionDetection:gn,onDragEnd:Ds,children:i.jsxDEV(Nn,{items:fe,strategy:Er,children:fe.map(o=>i.jsxDEV(qi,{category:o,onRemove:ks,onEdit:ys},o,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2320,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2315,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2310,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2309,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2305,columnNumber:15},void 0),i.jsxDEV("div",{className:"flex justify-center",children:i.jsxDEV("button",{onClick:tr,className:"px-6 py-2 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors",children:"닫기"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2334,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2333,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2278,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2267,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2266,columnNumber:9},void 0),xe&&z&&i.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:o=>{o.target===o.currentTarget&&er()},children:i.jsxDEV("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-6xl max-h-[90vh] overflow-hidden flex flex-col",children:[i.jsxDEV("div",{className:"flex items-center justify-between p-4 md:p-6 border-b border-gray-200",children:[i.jsxDEV("div",{children:[i.jsxDEV("h2",{className:"text-xl font-bold text-gray-900",children:z.name},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2361,columnNumber:17},void 0),i.jsxDEV("p",{className:"text-xs text-gray-500 mt-1",children:"드래그 앤 드롭 또는 Ctrl+V로 이미지/PDF를 추가할 수 있습니다"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2362,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2360,columnNumber:15},void 0),i.jsxDEV("button",{onClick:er,className:"text-gray-500 hover:text-gray-700 transition-colors",children:i.jsxDEV(Ot,{className:"h-6 w-6"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2370,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2366,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2359,columnNumber:13},void 0),i.jsxDEV("div",{className:"flex-1 overflow-y-auto p-4 md:p-6",onDragOver:o=>{o.preventDefault(),ut(!0)},onDragLeave:o=>{o.preventDefault(),ut(!1)},onDrop:gs,children:[i.jsxDEV("input",{ref:ze,type:"file",accept:"image/*,application/pdf,.doc,.docx,.xls,.xlsx,.ppt,.pptx,.hwp,.txt,.zip,.dwg,.skp,.3dm,.dxf",multiple:!0,onChange:fs,className:"hidden"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2388,columnNumber:15},void 0),i.jsxDEV("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:[z.image_url&&i.jsxDEV("div",{className:"relative group",children:[i.jsxDEV("div",{className:"aspect-square bg-gray-100 rounded-lg overflow-hidden border-2 border-blue-500 cursor-pointer hover:border-blue-600 transition-colors",onClick:()=>{const o=[z.image_url];re.forEach(l=>{const b=l.includes("|")&&!l.startsWith("data:image")?l.split("|")[1]:l;b.startsWith("data:image")&&o.push(b)}),Qe(o),Ce(0),Xe(z.image_url)},children:i.jsxDEV("img",{src:z.image_url,alt:"메인 이미지",className:"w-full h-full object-contain"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2419,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2402,columnNumber:21},void 0),i.jsxDEV("div",{className:"absolute top-2 left-2 bg-blue-500 text-white text-xs font-bold px-2 py-1 rounded",children:"메인"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2425,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2401,columnNumber:19},void 0),i.jsxDEV(xn,{sensors:ln,collisionDetection:gn,onDragEnd:bs,children:i.jsxDEV(Nn,{items:re.map((o,l)=>`subimg-${l}`),strategy:$n,children:re.map((o,l)=>i.jsxDEV(Zi,{id:`subimg-${l}`,fileData:o,index:l,onDelete:hs,onFileClick:vs},`subimg-${l}`,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2442,columnNumber:23},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2437,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2432,columnNumber:17},void 0),i.jsxDEV("div",{onClick:()=>{var o;return(o=ze.current)==null?void 0:o.click()},className:"aspect-square border-2 border-dashed border-gray-300 rounded-lg flex items-center justify-center cursor-pointer hover:border-gray-400 hover:bg-gray-50 transition-colors",children:i.jsxDEV(or,{className:"h-12 w-12 text-gray-400"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2459,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2455,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2398,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2375,columnNumber:13},void 0),i.jsxDEV("div",{className:"flex items-center justify-center p-4 border-t border-gray-200 bg-gray-50",children:i.jsxDEV("div",{className:"flex items-center gap-4",children:[i.jsxDEV("p",{className:"text-sm text-gray-600",children:["총 ",(z.image_url?1:0)+re.length,"개의 파일"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2468,columnNumber:17},void 0),sn&&i.jsxDEV("p",{className:"text-sm text-blue-600 flex items-center gap-2",children:[i.jsxDEV("svg",{className:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[i.jsxDEV("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2474,columnNumber:23},void 0),i.jsxDEV("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2475,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2473,columnNumber:21},void 0),"저장 중..."]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2472,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2467,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2466,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2357,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2348,columnNumber:9},void 0),it&&i.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-[60] overflow-hidden",onClick:o=>{o.target===o.currentTarget&&(Xe(null),Z(1),ue({x:0,y:0}),Ge(null),qe(null),et(!1))},onWheel:o=>{o.preventDefault();const l=o.deltaY>0?-.1:.1;Z(h=>Math.max(.5,Math.min(5,h+l)))},children:[i.jsxDEV("div",{className:"absolute top-4 right-4 flex flex-col gap-2",children:[i.jsxDEV("button",{onClick:()=>{Xe(null),Z(1),ue({x:0,y:0}),Ge(null),qe(null),et(!1)},className:"p-2 bg-white bg-opacity-10 hover:bg-opacity-20 rounded-full transition-colors",children:i.jsxDEV(Ot,{className:"h-6 w-6 text-white"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2519,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2508,columnNumber:13},void 0),i.jsxDEV("button",{onClick:o=>{o.stopPropagation(),Z(l=>Math.min(5,l+.5))},className:"p-2 bg-white bg-opacity-10 hover:bg-opacity-20 rounded-full transition-colors",title:"확대 (+)",children:i.jsxDEV("svg",{className:"h-6 w-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v6m3-3H7"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2530,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2529,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2521,columnNumber:13},void 0),i.jsxDEV("button",{onClick:o=>{o.stopPropagation(),Z(l=>Math.max(.5,l-.5))},className:"p-2 bg-white bg-opacity-10 hover:bg-opacity-20 rounded-full transition-colors",title:"축소 (-)",children:i.jsxDEV("svg",{className:"h-6 w-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM13 10H7"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2542,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2541,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2533,columnNumber:13},void 0),i.jsxDEV("button",{onClick:o=>{o.stopPropagation(),Z(1),ue({x:0,y:0})},className:"p-2 bg-white bg-opacity-10 hover:bg-opacity-20 rounded-full transition-colors",title:"초기화",children:i.jsxDEV("svg",{className:"h-6 w-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2555,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2554,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2545,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2507,columnNumber:11},void 0),i.jsxDEV("div",{className:"absolute top-4 left-4 flex items-center gap-3",children:[i.jsxDEV("div",{className:"bg-white bg-opacity-10 text-white px-3 py-2 rounded-lg text-sm",children:[Math.round(G*100),"%"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2562,columnNumber:13},void 0),ce.length>1&&i.jsxDEV("div",{className:"bg-white bg-opacity-10 text-white px-3 py-2 rounded-lg text-sm",children:[Ye+1," / ",ce.length]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2566,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2561,columnNumber:11},void 0),ce.length>1&&i.jsxDEV(i.Fragment,{children:[i.jsxDEV("button",{onClick:o=>{o.stopPropagation(),Jn()},className:"absolute left-4 top-1/2 -translate-y-1/2 p-3 bg-white bg-opacity-10 hover:bg-opacity-30 rounded-full transition-colors z-10",title:"이전 이미지 (←)",children:i.jsxDEV("svg",{className:"h-8 w-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2585,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2584,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2576,columnNumber:15},void 0),i.jsxDEV("button",{onClick:o=>{o.stopPropagation(),Qn()},className:"absolute right-4 top-1/2 -translate-y-1/2 p-3 bg-white bg-opacity-10 hover:bg-opacity-30 rounded-full transition-colors z-10",title:"다음 이미지 (→)",children:i.jsxDEV("svg",{className:"h-8 w-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2599,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2598,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2590,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2574,columnNumber:13},void 0),ce.length>1&&i.jsxDEV("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 bg-white bg-opacity-10 text-white px-4 py-2 rounded-lg text-sm",children:"← → 키보드로 이동 | ESC 닫기"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2607,columnNumber:13},void 0),i.jsxDEV("div",{className:"w-full h-full flex items-center justify-center overflow-hidden",onMouseDown:o=>{G>1&&(mt(!0),yt({x:o.clientX-de.x,y:o.clientY-de.y}))},onMouseMove:o=>{Be&&G>1&&ue({x:o.clientX-pt.x,y:o.clientY-pt.y})},onMouseUp:()=>mt(!1),onMouseLeave:()=>mt(!1),onTouchStart:o=>{if(o.touches.length===2){o.preventDefault(),et(!0);const l=Zn(o.touches[0],o.touches[1]),h=Gn(o.touches[0],o.touches[1]);Ge(l),qe(h)}else if(o.touches.length===1&&G>1&&!ft){const l=o.touches[0];yt({x:l.clientX-de.x,y:l.clientY-de.y})}},onTouchMove:o=>{if(o.touches.length===2){o.preventDefault(),et(!0);const l=Zn(o.touches[0],o.touches[1]),h=Gn(o.touches[0],o.touches[1]);if(at&&kt){const b=l/at,y=Math.max(.5,Math.min(5,G*b)),L=h.x-kt.x,M=h.y-kt.y,W=y/G,Q=de.x*W+L,Ae=de.y*W+M;Z(y),ue({x:Q,y:Ae})}Ge(l),qe(h)}else if(o.touches.length===1&&G>1&&!ft){o.preventDefault();const l=o.touches[0];ue({x:l.clientX-pt.x,y:l.clientY-pt.y})}},onTouchEnd:o=>{if(o.touches.length===0){const l=Date.now(),h=o.changedTouches[0],b={x:h.clientX,y:h.clientY};if(l-on<300&&Ie&&Math.abs(b.x-Ie.x)<30&&Math.abs(b.y-Ie.y)<30&&!ft){if(G===1){const M=o.currentTarget.getBoundingClientRect(),W=b.x-M.left-M.width/2,Q=b.y-M.top-M.height/2;Z(2.5),ue({x:-W*1.5,y:-Q*1.5})}else Z(1),ue({x:0,y:0});K(0),Ve(null)}else K(l),Ve(b);Ge(null),qe(null),et(!1)}else if(o.touches.length===1&&ft){Ge(null),qe(null),et(!1);const l=o.touches[0];yt({x:l.clientX-de.x,y:l.clientY-de.y})}},onDoubleClick:o=>{o.stopPropagation();const l=o.currentTarget.getBoundingClientRect(),h=o.clientX-l.left-l.width/2,b=o.clientY-l.top-l.height/2;G===1?(Z(2.5),ue({x:-h*1.5,y:-b*1.5})):(Z(1),ue({x:0,y:0}))},children:i.jsxDEV("img",{src:it,alt:"원본 이미지",style:{transform:`scale(${G}) translate(${de.x/G}px, ${de.y/G}px)`,transformOrigin:"center center",transition:Be||at!==null?"none":"transform 0.25s cubic-bezier(0.2, 0, 0, 1)",maxWidth:"100%",maxHeight:"100%",objectFit:"contain",cursor:G>1?Be?"grabbing":"grab":"pointer",userSelect:"none",touchAction:"none"},draggable:!1},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2751,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2613,columnNumber:11},void 0),i.jsxDEV("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 bg-white bg-opacity-10 text-white px-4 py-2 rounded-lg text-xs text-center",children:"마우스 휠 또는 두 손가락으로 확대/축소 | 드래그로 이동 | 더블클릭으로 2배 확대/초기화"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2770,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2488,columnNumber:9},void 0),ge&&Te&&i.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:i.jsxDEV("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[i.jsxDEV("h3",{className:"text-lg font-semibold mb-4",children:"프로젝트 선택"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2780,columnNumber:13},void 0),i.jsxDEV("p",{className:"text-sm text-gray-600 mb-4",children:"아이템을 추가할 프로젝트를 선택하세요"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2781,columnNumber:13},void 0),i.jsxDEV("div",{className:"max-h-96 overflow-y-auto space-y-2 mb-6",children:U.map(o=>i.jsxDEV("button",{onClick:async()=>{try{const l=V.find(h=>h.id===Te);l&&(await q.createItemBase64({name:l.name,category:l.category,brand:l.brand,price:l.price,description:l.description,sub_images:l.sub_images,grade:l.grade,is_library:0,project_id:o.id}),P.success(`"${o.title}"에 아이템이 추가되었습니다`),rt())}catch(l){console.error("아이템 추가 실패:",l),P.error("아이템 추가 실패")}finally{me(!1),he(null)}},className:"w-full px-4 py-3 text-left border border-gray-200 rounded-lg hover:bg-blue-50 hover:border-blue-300 transition-colors",children:i.jsxDEV("div",{className:"font-medium text-gray-900",children:o.title},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2816,columnNumber:19},void 0)},o.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2786,columnNumber:17},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2784,columnNumber:13},void 0),i.jsxDEV("button",{onClick:()=>{me(!1),he(null)},className:"w-full px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"취소"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2820,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2779,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2778,columnNumber:9},void 0),an&&Yn&&i.jsxDEV(co,{image:Yn,onCropComplete:ms,onCancel:ps,aspectRatio:1},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2835,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1497,columnNumber:5},void 0)};export{ra as default};
