var q0=e=>{throw TypeError(e)};var JC=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var pm=(e,t,r)=>t.has(e)||q0("Cannot "+r);var re=(e,t,r)=>(pm(e,t,"read from private field"),r?r.call(e):t.get(e)),We=(e,t,r)=>t.has(e)?q0("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Oe=(e,t,r,n)=>(pm(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),qt=(e,t,r)=>(pm(e,t,"access private method"),r);var Du=(e,t,r,n)=>({set _(s){Oe(e,t,s,r)},get _(){return re(e,t,n)}});var pse=JC((Rse,zd)=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}})();var Vr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function fr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Yc(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var xN={exports:{}},Uf={},bN={exports:{}},Le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qc=Symbol.for("react.element"),ZC=Symbol.for("react.portal"),e2=Symbol.for("react.fragment"),t2=Symbol.for("react.strict_mode"),r2=Symbol.for("react.profiler"),n2=Symbol.for("react.provider"),s2=Symbol.for("react.context"),a2=Symbol.for("react.forward_ref"),i2=Symbol.for("react.suspense"),o2=Symbol.for("react.memo"),l2=Symbol.for("react.lazy"),K0=Symbol.iterator;function c2(e){return e===null||typeof e!="object"?null:(e=K0&&e[K0]||e["@@iterator"],typeof e=="function"?e:null)}var wN={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},NN=Object.assign,SN={};function Io(e,t,r){this.props=e,this.context=t,this.refs=SN,this.updater=r||wN}Io.prototype.isReactComponent={};Io.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Io.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function jN(){}jN.prototype=Io.prototype;function ly(e,t,r){this.props=e,this.context=t,this.refs=SN,this.updater=r||wN}var cy=ly.prototype=new jN;cy.constructor=ly;NN(cy,Io.prototype);cy.isPureReactComponent=!0;var G0=Array.isArray,_N=Object.prototype.hasOwnProperty,uy={current:null},DN={key:!0,ref:!0,__self:!0,__source:!0};function kN(e,t,r){var n,s={},a=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(a=""+t.key),t)_N.call(t,n)&&!DN.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:qc,type:e,key:a,ref:i,props:s,_owner:uy.current}}function u2(e,t){return{$$typeof:qc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function dy(e){return typeof e=="object"&&e!==null&&e.$$typeof===qc}function d2(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var X0=/\/+/g;function gm(e,t){return typeof e=="object"&&e!==null&&e.key!=null?d2(""+e.key):t.toString(36)}function fd(e,t,r,n,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(a){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case qc:case ZC:i=!0}}if(i)return i=e,s=s(i),e=n===""?"."+gm(i,0):n,G0(s)?(r="",e!=null&&(r=e.replace(X0,"$&/")+"/"),fd(s,t,r,"",function(u){return u})):s!=null&&(dy(s)&&(s=u2(s,r+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(X0,"$&/")+"/")+e)),t.push(s)),1;if(i=0,n=n===""?".":n+":",G0(e))for(var l=0;l<e.length;l++){a=e[l];var c=n+gm(a,l);i+=fd(a,t,r,c,s)}else if(c=c2(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=n+gm(a,l++),i+=fd(a,t,r,c,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function ku(e,t,r){if(e==null)return e;var n=[],s=0;return fd(e,n,"","",function(a){return t.call(r,a,s++)}),n}function f2(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var hr={current:null},hd={transition:null},h2={ReactCurrentDispatcher:hr,ReactCurrentBatchConfig:hd,ReactCurrentOwner:uy};function EN(){throw Error("act(...) is not supported in production builds of React.")}Le.Children={map:ku,forEach:function(e,t,r){ku(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return ku(e,function(){t++}),t},toArray:function(e){return ku(e,function(t){return t})||[]},only:function(e){if(!dy(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Le.Component=Io;Le.Fragment=e2;Le.Profiler=r2;Le.PureComponent=ly;Le.StrictMode=t2;Le.Suspense=i2;Le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=h2;Le.act=EN;Le.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=NN({},e.props),s=e.key,a=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,i=uy.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)_N.call(t,c)&&!DN.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:qc,type:e.type,key:s,ref:a,props:n,_owner:i}};Le.createContext=function(e){return e={$$typeof:s2,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:n2,_context:e},e.Consumer=e};Le.createElement=kN;Le.createFactory=function(e){var t=kN.bind(null,e);return t.type=e,t};Le.createRef=function(){return{current:null}};Le.forwardRef=function(e){return{$$typeof:a2,render:e}};Le.isValidElement=dy;Le.lazy=function(e){return{$$typeof:l2,_payload:{_status:-1,_result:e},_init:f2}};Le.memo=function(e,t){return{$$typeof:o2,type:e,compare:t===void 0?null:t}};Le.startTransition=function(e){var t=hd.transition;hd.transition={};try{e()}finally{hd.transition=t}};Le.unstable_act=EN;Le.useCallback=function(e,t){return hr.current.useCallback(e,t)};Le.useContext=function(e){return hr.current.useContext(e)};Le.useDebugValue=function(){};Le.useDeferredValue=function(e){return hr.current.useDeferredValue(e)};Le.useEffect=function(e,t){return hr.current.useEffect(e,t)};Le.useId=function(){return hr.current.useId()};Le.useImperativeHandle=function(e,t,r){return hr.current.useImperativeHandle(e,t,r)};Le.useInsertionEffect=function(e,t){return hr.current.useInsertionEffect(e,t)};Le.useLayoutEffect=function(e,t){return hr.current.useLayoutEffect(e,t)};Le.useMemo=function(e,t){return hr.current.useMemo(e,t)};Le.useReducer=function(e,t,r){return hr.current.useReducer(e,t,r)};Le.useRef=function(e){return hr.current.useRef(e)};Le.useState=function(e){return hr.current.useState(e)};Le.useSyncExternalStore=function(e,t,r){return hr.current.useSyncExternalStore(e,t,r)};Le.useTransition=function(){return hr.current.useTransition()};Le.version="18.3.1";bN.exports=Le;var N=bN.exports;const F=fr(N);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m2=N,p2=Symbol.for("react.element"),g2=Symbol.for("react.fragment"),y2=Object.prototype.hasOwnProperty,v2=m2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,x2={key:!0,ref:!0,__self:!0,__source:!0};function CN(e,t,r){var n,s={},a=null,i=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)y2.call(t,n)&&!x2.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:p2,type:e,key:a,ref:i,props:s,_owner:v2.current}}Uf.Fragment=g2;Uf.jsx=CN;Uf.jsxs=CN;xN.exports=Uf;var o=xN.exports,TN={exports:{}},$r={},PN={exports:{}},AN={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(te,U){var oe=te.length;te.push(U);e:for(;0<oe;){var V=oe-1>>>1,W=te[V];if(0<s(W,U))te[V]=U,te[oe]=W,oe=V;else break e}}function r(te){return te.length===0?null:te[0]}function n(te){if(te.length===0)return null;var U=te[0],oe=te.pop();if(oe!==U){te[0]=oe;e:for(var V=0,W=te.length,T=W>>>1;V<T;){var R=2*(V+1)-1,X=te[R],le=R+1,de=te[le];if(0>s(X,oe))le<W&&0>s(de,X)?(te[V]=de,te[le]=oe,V=le):(te[V]=X,te[R]=oe,V=R);else if(le<W&&0>s(de,oe))te[V]=de,te[le]=oe,V=le;else break e}}return U}function s(te,U){var oe=te.sortIndex-U.sortIndex;return oe!==0?oe:te.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var c=[],u=[],d=1,f=null,h=3,g=!1,m=!1,p=!1,w=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(te){for(var U=r(u);U!==null;){if(U.callback===null)n(u);else if(U.startTime<=te)n(u),U.sortIndex=U.expirationTime,t(c,U);else break;U=r(u)}}function b(te){if(p=!1,x(te),!m)if(r(c)!==null)m=!0,Z(_);else{var U=r(u);U!==null&&he(b,U.startTime-te)}}function _(te,U){m=!1,p&&(p=!1,y(C),C=-1),g=!0;var oe=h;try{for(x(U),f=r(c);f!==null&&(!(f.expirationTime>U)||te&&!Y());){var V=f.callback;if(typeof V=="function"){f.callback=null,h=f.priorityLevel;var W=V(f.expirationTime<=U);U=e.unstable_now(),typeof W=="function"?f.callback=W:f===r(c)&&n(c),x(U)}else n(c);f=r(c)}if(f!==null)var T=!0;else{var R=r(u);R!==null&&he(b,R.startTime-U),T=!1}return T}finally{f=null,h=oe,g=!1}}var S=!1,E=null,C=-1,M=5,$=-1;function Y(){return!(e.unstable_now()-$<M)}function J(){if(E!==null){var te=e.unstable_now();$=te;var U=!0;try{U=E(!0,te)}finally{U?G():(S=!1,E=null)}}else S=!1}var G;if(typeof v=="function")G=function(){v(J)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,ce=se.port2;se.port1.onmessage=J,G=function(){ce.postMessage(null)}}else G=function(){w(J,0)};function Z(te){E=te,S||(S=!0,G())}function he(te,U){C=w(function(){te(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(te){te.callback=null},e.unstable_continueExecution=function(){m||g||(m=!0,Z(_))},e.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<te?Math.floor(1e3/te):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(te){switch(h){case 1:case 2:case 3:var U=3;break;default:U=h}var oe=h;h=U;try{return te()}finally{h=oe}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(te,U){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var oe=h;h=te;try{return U()}finally{h=oe}},e.unstable_scheduleCallback=function(te,U,oe){var V=e.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?V+oe:V):oe=V,te){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=oe+W,te={id:d++,callback:U,priorityLevel:te,startTime:oe,expirationTime:W,sortIndex:-1},oe>V?(te.sortIndex=oe,t(u,te),r(c)===null&&te===r(u)&&(p?(y(C),C=-1):p=!0,he(b,oe-V))):(te.sortIndex=W,t(c,te),m||g||(m=!0,Z(_))),te},e.unstable_shouldYield=Y,e.unstable_wrapCallback=function(te){var U=h;return function(){var oe=h;h=U;try{return te.apply(this,arguments)}finally{h=oe}}}})(AN);PN.exports=AN;var b2=PN.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w2=N,Or=b2;function fe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ON=new Set,tc={};function Di(e,t){wo(e,t),wo(e+"Capture",t)}function wo(e,t){for(tc[e]=t,e=0;e<t.length;e++)ON.add(t[e])}var js=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xp=Object.prototype.hasOwnProperty,N2=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Q0={},J0={};function S2(e){return xp.call(J0,e)?!0:xp.call(Q0,e)?!1:N2.test(e)?J0[e]=!0:(Q0[e]=!0,!1)}function j2(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function _2(e,t,r,n){if(t===null||typeof t>"u"||j2(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function mr(e,t,r,n,s,a,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var Vt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Vt[e]=new mr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Vt[t]=new mr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Vt[e]=new mr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Vt[e]=new mr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Vt[e]=new mr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Vt[e]=new mr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Vt[e]=new mr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Vt[e]=new mr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Vt[e]=new mr(e,5,!1,e.toLowerCase(),null,!1,!1)});var fy=/[\-:]([a-z])/g;function hy(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(fy,hy);Vt[t]=new mr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(fy,hy);Vt[t]=new mr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(fy,hy);Vt[t]=new mr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Vt[e]=new mr(e,1,!1,e.toLowerCase(),null,!1,!1)});Vt.xlinkHref=new mr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Vt[e]=new mr(e,1,!1,e.toLowerCase(),null,!0,!0)});function my(e,t,r,n){var s=Vt.hasOwnProperty(t)?Vt[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(_2(t,r,s,n)&&(r=null),n||s===null?S2(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Os=w2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Eu=Symbol.for("react.element"),Ui=Symbol.for("react.portal"),Hi=Symbol.for("react.fragment"),py=Symbol.for("react.strict_mode"),bp=Symbol.for("react.profiler"),MN=Symbol.for("react.provider"),$N=Symbol.for("react.context"),gy=Symbol.for("react.forward_ref"),wp=Symbol.for("react.suspense"),Np=Symbol.for("react.suspense_list"),yy=Symbol.for("react.memo"),Gs=Symbol.for("react.lazy"),RN=Symbol.for("react.offscreen"),Z0=Symbol.iterator;function fl(e){return e===null||typeof e!="object"?null:(e=Z0&&e[Z0]||e["@@iterator"],typeof e=="function"?e:null)}var yt=Object.assign,ym;function Ol(e){if(ym===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);ym=t&&t[1]||""}return`
`+ym+e}var vm=!1;function xm(e,t){if(!e||vm)return"";vm=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),a=n.stack.split(`
`),i=s.length-1,l=a.length-1;1<=i&&0<=l&&s[i]!==a[l];)l--;for(;1<=i&&0<=l;i--,l--)if(s[i]!==a[l]){if(i!==1||l!==1)do if(i--,l--,0>l||s[i]!==a[l]){var c=`
`+s[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=l);break}}}finally{vm=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Ol(e):""}function D2(e){switch(e.tag){case 5:return Ol(e.type);case 16:return Ol("Lazy");case 13:return Ol("Suspense");case 19:return Ol("SuspenseList");case 0:case 2:case 15:return e=xm(e.type,!1),e;case 11:return e=xm(e.type.render,!1),e;case 1:return e=xm(e.type,!0),e;default:return""}}function Sp(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Hi:return"Fragment";case Ui:return"Portal";case bp:return"Profiler";case py:return"StrictMode";case wp:return"Suspense";case Np:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case $N:return(e.displayName||"Context")+".Consumer";case MN:return(e._context.displayName||"Context")+".Provider";case gy:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case yy:return t=e.displayName||null,t!==null?t:Sp(e.type)||"Memo";case Gs:t=e._payload,e=e._init;try{return Sp(e(t))}catch{}}return null}function k2(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Sp(t);case 8:return t===py?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Na(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function LN(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function E2(e){var t=LN(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){n=""+i,a.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Cu(e){e._valueTracker||(e._valueTracker=E2(e))}function IN(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=LN(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Vd(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function jp(e,t){var r=t.checked;return yt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function ex(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Na(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function FN(e,t){t=t.checked,t!=null&&my(e,"checked",t,!1)}function _p(e,t){FN(e,t);var r=Na(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Dp(e,t.type,r):t.hasOwnProperty("defaultValue")&&Dp(e,t.type,Na(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function tx(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Dp(e,t,r){(t!=="number"||Vd(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Ml=Array.isArray;function ro(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Na(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function kp(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(fe(91));return yt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function rx(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(fe(92));if(Ml(r)){if(1<r.length)throw Error(fe(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Na(r)}}function WN(e,t){var r=Na(t.value),n=Na(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function nx(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function BN(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ep(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?BN(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Tu,UN=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Tu=Tu||document.createElement("div"),Tu.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Tu.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function rc(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Wl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},C2=["Webkit","ms","Moz","O"];Object.keys(Wl).forEach(function(e){C2.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Wl[t]=Wl[e]})});function HN(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Wl.hasOwnProperty(e)&&Wl[e]?(""+t).trim():t+"px"}function zN(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=HN(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var T2=yt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Cp(e,t){if(t){if(T2[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(fe(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(fe(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(fe(61))}if(t.style!=null&&typeof t.style!="object")throw Error(fe(62))}}function Tp(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pp=null;function vy(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ap=null,no=null,so=null;function sx(e){if(e=Xc(e)){if(typeof Ap!="function")throw Error(fe(280));var t=e.stateNode;t&&(t=qf(t),Ap(e.stateNode,e.type,t))}}function VN(e){no?so?so.push(e):so=[e]:no=e}function YN(){if(no){var e=no,t=so;if(so=no=null,sx(e),t)for(e=0;e<t.length;e++)sx(t[e])}}function qN(e,t){return e(t)}function KN(){}var bm=!1;function GN(e,t,r){if(bm)return e(t,r);bm=!0;try{return qN(e,t,r)}finally{bm=!1,(no!==null||so!==null)&&(KN(),YN())}}function nc(e,t){var r=e.stateNode;if(r===null)return null;var n=qf(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(fe(231,t,typeof r));return r}var Op=!1;if(js)try{var hl={};Object.defineProperty(hl,"passive",{get:function(){Op=!0}}),window.addEventListener("test",hl,hl),window.removeEventListener("test",hl,hl)}catch{Op=!1}function P2(e,t,r,n,s,a,i,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Bl=!1,Yd=null,qd=!1,Mp=null,A2={onError:function(e){Bl=!0,Yd=e}};function O2(e,t,r,n,s,a,i,l,c){Bl=!1,Yd=null,P2.apply(A2,arguments)}function M2(e,t,r,n,s,a,i,l,c){if(O2.apply(this,arguments),Bl){if(Bl){var u=Yd;Bl=!1,Yd=null}else throw Error(fe(198));qd||(qd=!0,Mp=u)}}function ki(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function XN(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ax(e){if(ki(e)!==e)throw Error(fe(188))}function $2(e){var t=e.alternate;if(!t){if(t=ki(e),t===null)throw Error(fe(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var a=s.alternate;if(a===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===r)return ax(s),e;if(a===n)return ax(s),t;a=a.sibling}throw Error(fe(188))}if(r.return!==n.return)r=s,n=a;else{for(var i=!1,l=s.child;l;){if(l===r){i=!0,r=s,n=a;break}if(l===n){i=!0,n=s,r=a;break}l=l.sibling}if(!i){for(l=a.child;l;){if(l===r){i=!0,r=a,n=s;break}if(l===n){i=!0,n=a,r=s;break}l=l.sibling}if(!i)throw Error(fe(189))}}if(r.alternate!==n)throw Error(fe(190))}if(r.tag!==3)throw Error(fe(188));return r.stateNode.current===r?e:t}function QN(e){return e=$2(e),e!==null?JN(e):null}function JN(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=JN(e);if(t!==null)return t;e=e.sibling}return null}var ZN=Or.unstable_scheduleCallback,ix=Or.unstable_cancelCallback,R2=Or.unstable_shouldYield,L2=Or.unstable_requestPaint,St=Or.unstable_now,I2=Or.unstable_getCurrentPriorityLevel,xy=Or.unstable_ImmediatePriority,eS=Or.unstable_UserBlockingPriority,Kd=Or.unstable_NormalPriority,F2=Or.unstable_LowPriority,tS=Or.unstable_IdlePriority,Hf=null,Kn=null;function W2(e){if(Kn&&typeof Kn.onCommitFiberRoot=="function")try{Kn.onCommitFiberRoot(Hf,e,void 0,(e.current.flags&128)===128)}catch{}}var gn=Math.clz32?Math.clz32:H2,B2=Math.log,U2=Math.LN2;function H2(e){return e>>>=0,e===0?32:31-(B2(e)/U2|0)|0}var Pu=64,Au=4194304;function $l(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Gd(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,a=e.pingedLanes,i=r&268435455;if(i!==0){var l=i&~s;l!==0?n=$l(l):(a&=i,a!==0&&(n=$l(a)))}else i=r&~s,i!==0?n=$l(i):a!==0&&(n=$l(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-gn(t),s=1<<r,n|=e[r],t&=~s;return n}function z2(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function V2(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-gn(a),l=1<<i,c=s[i];c===-1?(!(l&r)||l&n)&&(s[i]=z2(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function $p(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function rS(){var e=Pu;return Pu<<=1,!(Pu&4194240)&&(Pu=64),e}function wm(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Kc(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-gn(t),e[t]=r}function Y2(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-gn(r),a=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~a}}function by(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-gn(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var Xe=0;function nS(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var sS,wy,aS,iS,oS,Rp=!1,Ou=[],fa=null,ha=null,ma=null,sc=new Map,ac=new Map,Qs=[],q2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ox(e,t){switch(e){case"focusin":case"focusout":fa=null;break;case"dragenter":case"dragleave":ha=null;break;case"mouseover":case"mouseout":ma=null;break;case"pointerover":case"pointerout":sc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ac.delete(t.pointerId)}}function ml(e,t,r,n,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[s]},t!==null&&(t=Xc(t),t!==null&&wy(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function K2(e,t,r,n,s){switch(t){case"focusin":return fa=ml(fa,e,t,r,n,s),!0;case"dragenter":return ha=ml(ha,e,t,r,n,s),!0;case"mouseover":return ma=ml(ma,e,t,r,n,s),!0;case"pointerover":var a=s.pointerId;return sc.set(a,ml(sc.get(a)||null,e,t,r,n,s)),!0;case"gotpointercapture":return a=s.pointerId,ac.set(a,ml(ac.get(a)||null,e,t,r,n,s)),!0}return!1}function lS(e){var t=Ga(e.target);if(t!==null){var r=ki(t);if(r!==null){if(t=r.tag,t===13){if(t=XN(r),t!==null){e.blockedOn=t,oS(e.priority,function(){aS(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function md(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Lp(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Pp=n,r.target.dispatchEvent(n),Pp=null}else return t=Xc(r),t!==null&&wy(t),e.blockedOn=r,!1;t.shift()}return!0}function lx(e,t,r){md(e)&&r.delete(t)}function G2(){Rp=!1,fa!==null&&md(fa)&&(fa=null),ha!==null&&md(ha)&&(ha=null),ma!==null&&md(ma)&&(ma=null),sc.forEach(lx),ac.forEach(lx)}function pl(e,t){e.blockedOn===t&&(e.blockedOn=null,Rp||(Rp=!0,Or.unstable_scheduleCallback(Or.unstable_NormalPriority,G2)))}function ic(e){function t(s){return pl(s,e)}if(0<Ou.length){pl(Ou[0],e);for(var r=1;r<Ou.length;r++){var n=Ou[r];n.blockedOn===e&&(n.blockedOn=null)}}for(fa!==null&&pl(fa,e),ha!==null&&pl(ha,e),ma!==null&&pl(ma,e),sc.forEach(t),ac.forEach(t),r=0;r<Qs.length;r++)n=Qs[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Qs.length&&(r=Qs[0],r.blockedOn===null);)lS(r),r.blockedOn===null&&Qs.shift()}var ao=Os.ReactCurrentBatchConfig,Xd=!0;function X2(e,t,r,n){var s=Xe,a=ao.transition;ao.transition=null;try{Xe=1,Ny(e,t,r,n)}finally{Xe=s,ao.transition=a}}function Q2(e,t,r,n){var s=Xe,a=ao.transition;ao.transition=null;try{Xe=4,Ny(e,t,r,n)}finally{Xe=s,ao.transition=a}}function Ny(e,t,r,n){if(Xd){var s=Lp(e,t,r,n);if(s===null)Pm(e,t,n,Qd,r),ox(e,n);else if(K2(s,e,t,r,n))n.stopPropagation();else if(ox(e,n),t&4&&-1<q2.indexOf(e)){for(;s!==null;){var a=Xc(s);if(a!==null&&sS(a),a=Lp(e,t,r,n),a===null&&Pm(e,t,n,Qd,r),a===s)break;s=a}s!==null&&n.stopPropagation()}else Pm(e,t,n,null,r)}}var Qd=null;function Lp(e,t,r,n){if(Qd=null,e=vy(n),e=Ga(e),e!==null)if(t=ki(e),t===null)e=null;else if(r=t.tag,r===13){if(e=XN(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qd=e,null}function cS(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(I2()){case xy:return 1;case eS:return 4;case Kd:case F2:return 16;case tS:return 536870912;default:return 16}default:return 16}}var oa=null,Sy=null,pd=null;function uS(){if(pd)return pd;var e,t=Sy,r=t.length,n,s="value"in oa?oa.value:oa.textContent,a=s.length;for(e=0;e<r&&t[e]===s[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===s[a-n];n++);return pd=s.slice(e,1<n?1-n:void 0)}function gd(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Mu(){return!0}function cx(){return!1}function Rr(e){function t(r,n,s,a,i){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=a,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Mu:cx,this.isPropagationStopped=cx,this}return yt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Mu)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Mu)},persist:function(){},isPersistent:Mu}),t}var Fo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jy=Rr(Fo),Gc=yt({},Fo,{view:0,detail:0}),J2=Rr(Gc),Nm,Sm,gl,zf=yt({},Gc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_y,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==gl&&(gl&&e.type==="mousemove"?(Nm=e.screenX-gl.screenX,Sm=e.screenY-gl.screenY):Sm=Nm=0,gl=e),Nm)},movementY:function(e){return"movementY"in e?e.movementY:Sm}}),ux=Rr(zf),Z2=yt({},zf,{dataTransfer:0}),eT=Rr(Z2),tT=yt({},Gc,{relatedTarget:0}),jm=Rr(tT),rT=yt({},Fo,{animationName:0,elapsedTime:0,pseudoElement:0}),nT=Rr(rT),sT=yt({},Fo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),aT=Rr(sT),iT=yt({},Fo,{data:0}),dx=Rr(iT),oT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function uT(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=cT[e])?!!t[e]:!1}function _y(){return uT}var dT=yt({},Gc,{key:function(e){if(e.key){var t=oT[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=gd(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?lT[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_y,charCode:function(e){return e.type==="keypress"?gd(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?gd(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),fT=Rr(dT),hT=yt({},zf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fx=Rr(hT),mT=yt({},Gc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_y}),pT=Rr(mT),gT=yt({},Fo,{propertyName:0,elapsedTime:0,pseudoElement:0}),yT=Rr(gT),vT=yt({},zf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),xT=Rr(vT),bT=[9,13,27,32],Dy=js&&"CompositionEvent"in window,Ul=null;js&&"documentMode"in document&&(Ul=document.documentMode);var wT=js&&"TextEvent"in window&&!Ul,dS=js&&(!Dy||Ul&&8<Ul&&11>=Ul),hx=" ",mx=!1;function fS(e,t){switch(e){case"keyup":return bT.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hS(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var zi=!1;function NT(e,t){switch(e){case"compositionend":return hS(t);case"keypress":return t.which!==32?null:(mx=!0,hx);case"textInput":return e=t.data,e===hx&&mx?null:e;default:return null}}function ST(e,t){if(zi)return e==="compositionend"||!Dy&&fS(e,t)?(e=uS(),pd=Sy=oa=null,zi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return dS&&t.locale!=="ko"?null:t.data;default:return null}}var jT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function px(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!jT[e.type]:t==="textarea"}function mS(e,t,r,n){VN(n),t=Jd(t,"onChange"),0<t.length&&(r=new jy("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Hl=null,oc=null;function _T(e){_S(e,0)}function Vf(e){var t=qi(e);if(IN(t))return e}function DT(e,t){if(e==="change")return t}var pS=!1;if(js){var _m;if(js){var Dm="oninput"in document;if(!Dm){var gx=document.createElement("div");gx.setAttribute("oninput","return;"),Dm=typeof gx.oninput=="function"}_m=Dm}else _m=!1;pS=_m&&(!document.documentMode||9<document.documentMode)}function yx(){Hl&&(Hl.detachEvent("onpropertychange",gS),oc=Hl=null)}function gS(e){if(e.propertyName==="value"&&Vf(oc)){var t=[];mS(t,oc,e,vy(e)),GN(_T,t)}}function kT(e,t,r){e==="focusin"?(yx(),Hl=t,oc=r,Hl.attachEvent("onpropertychange",gS)):e==="focusout"&&yx()}function ET(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Vf(oc)}function CT(e,t){if(e==="click")return Vf(t)}function TT(e,t){if(e==="input"||e==="change")return Vf(t)}function PT(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var xn=typeof Object.is=="function"?Object.is:PT;function lc(e,t){if(xn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!xp.call(t,s)||!xn(e[s],t[s]))return!1}return!0}function vx(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function xx(e,t){var r=vx(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=vx(r)}}function yS(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?yS(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function vS(){for(var e=window,t=Vd();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Vd(e.document)}return t}function ky(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function AT(e){var t=vS(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&yS(r.ownerDocument.documentElement,r)){if(n!==null&&ky(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,a=Math.min(n.start,s);n=n.end===void 0?a:Math.min(n.end,s),!e.extend&&a>n&&(s=n,n=a,a=s),s=xx(r,a);var i=xx(r,n);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var OT=js&&"documentMode"in document&&11>=document.documentMode,Vi=null,Ip=null,zl=null,Fp=!1;function bx(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Fp||Vi==null||Vi!==Vd(n)||(n=Vi,"selectionStart"in n&&ky(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),zl&&lc(zl,n)||(zl=n,n=Jd(Ip,"onSelect"),0<n.length&&(t=new jy("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Vi)))}function $u(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Yi={animationend:$u("Animation","AnimationEnd"),animationiteration:$u("Animation","AnimationIteration"),animationstart:$u("Animation","AnimationStart"),transitionend:$u("Transition","TransitionEnd")},km={},xS={};js&&(xS=document.createElement("div").style,"AnimationEvent"in window||(delete Yi.animationend.animation,delete Yi.animationiteration.animation,delete Yi.animationstart.animation),"TransitionEvent"in window||delete Yi.transitionend.transition);function Yf(e){if(km[e])return km[e];if(!Yi[e])return e;var t=Yi[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in xS)return km[e]=t[r];return e}var bS=Yf("animationend"),wS=Yf("animationiteration"),NS=Yf("animationstart"),SS=Yf("transitionend"),jS=new Map,wx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ka(e,t){jS.set(e,t),Di(t,[e])}for(var Em=0;Em<wx.length;Em++){var Cm=wx[Em],MT=Cm.toLowerCase(),$T=Cm[0].toUpperCase()+Cm.slice(1);ka(MT,"on"+$T)}ka(bS,"onAnimationEnd");ka(wS,"onAnimationIteration");ka(NS,"onAnimationStart");ka("dblclick","onDoubleClick");ka("focusin","onFocus");ka("focusout","onBlur");ka(SS,"onTransitionEnd");wo("onMouseEnter",["mouseout","mouseover"]);wo("onMouseLeave",["mouseout","mouseover"]);wo("onPointerEnter",["pointerout","pointerover"]);wo("onPointerLeave",["pointerout","pointerover"]);Di("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Di("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Di("onBeforeInput",["compositionend","keypress","textInput","paste"]);Di("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Di("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Di("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),RT=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rl));function Nx(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,M2(n,t,void 0,e),e.currentTarget=null}function _S(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var i=n.length-1;0<=i;i--){var l=n[i],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&s.isPropagationStopped())break e;Nx(s,l,u),a=c}else for(i=0;i<n.length;i++){if(l=n[i],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&s.isPropagationStopped())break e;Nx(s,l,u),a=c}}}if(qd)throw e=Mp,qd=!1,Mp=null,e}function st(e,t){var r=t[zp];r===void 0&&(r=t[zp]=new Set);var n=e+"__bubble";r.has(n)||(DS(t,e,2,!1),r.add(n))}function Tm(e,t,r){var n=0;t&&(n|=4),DS(r,e,n,t)}var Ru="_reactListening"+Math.random().toString(36).slice(2);function cc(e){if(!e[Ru]){e[Ru]=!0,ON.forEach(function(r){r!=="selectionchange"&&(RT.has(r)||Tm(r,!1,e),Tm(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ru]||(t[Ru]=!0,Tm("selectionchange",!1,t))}}function DS(e,t,r,n){switch(cS(t)){case 1:var s=X2;break;case 4:s=Q2;break;default:s=Ny}r=s.bind(null,t,r,e),s=void 0,!Op||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Pm(e,t,r,n,s){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(i===4)for(i=n.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;i=i.return}for(;l!==null;){if(i=Ga(l),i===null)return;if(c=i.tag,c===5||c===6){n=a=i;continue e}l=l.parentNode}}n=n.return}GN(function(){var u=a,d=vy(r),f=[];e:{var h=jS.get(e);if(h!==void 0){var g=jy,m=e;switch(e){case"keypress":if(gd(r)===0)break e;case"keydown":case"keyup":g=fT;break;case"focusin":m="focus",g=jm;break;case"focusout":m="blur",g=jm;break;case"beforeblur":case"afterblur":g=jm;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=ux;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=eT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=pT;break;case bS:case wS:case NS:g=nT;break;case SS:g=yT;break;case"scroll":g=J2;break;case"wheel":g=xT;break;case"copy":case"cut":case"paste":g=aT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=fx}var p=(t&4)!==0,w=!p&&e==="scroll",y=p?h!==null?h+"Capture":null:h;p=[];for(var v=u,x;v!==null;){x=v;var b=x.stateNode;if(x.tag===5&&b!==null&&(x=b,y!==null&&(b=nc(v,y),b!=null&&p.push(uc(v,b,x)))),w)break;v=v.return}0<p.length&&(h=new g(h,m,null,r,d),f.push({event:h,listeners:p}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",h&&r!==Pp&&(m=r.relatedTarget||r.fromElement)&&(Ga(m)||m[_s]))break e;if((g||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,g?(m=r.relatedTarget||r.toElement,g=u,m=m?Ga(m):null,m!==null&&(w=ki(m),m!==w||m.tag!==5&&m.tag!==6)&&(m=null)):(g=null,m=u),g!==m)){if(p=ux,b="onMouseLeave",y="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(p=fx,b="onPointerLeave",y="onPointerEnter",v="pointer"),w=g==null?h:qi(g),x=m==null?h:qi(m),h=new p(b,v+"leave",g,r,d),h.target=w,h.relatedTarget=x,b=null,Ga(d)===u&&(p=new p(y,v+"enter",m,r,d),p.target=x,p.relatedTarget=w,b=p),w=b,g&&m)t:{for(p=g,y=m,v=0,x=p;x;x=Mi(x))v++;for(x=0,b=y;b;b=Mi(b))x++;for(;0<v-x;)p=Mi(p),v--;for(;0<x-v;)y=Mi(y),x--;for(;v--;){if(p===y||y!==null&&p===y.alternate)break t;p=Mi(p),y=Mi(y)}p=null}else p=null;g!==null&&Sx(f,h,g,p,!1),m!==null&&w!==null&&Sx(f,w,m,p,!0)}}e:{if(h=u?qi(u):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var _=DT;else if(px(h))if(pS)_=TT;else{_=ET;var S=kT}else(g=h.nodeName)&&g.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(_=CT);if(_&&(_=_(e,u))){mS(f,_,r,d);break e}S&&S(e,h,u),e==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&Dp(h,"number",h.value)}switch(S=u?qi(u):window,e){case"focusin":(px(S)||S.contentEditable==="true")&&(Vi=S,Ip=u,zl=null);break;case"focusout":zl=Ip=Vi=null;break;case"mousedown":Fp=!0;break;case"contextmenu":case"mouseup":case"dragend":Fp=!1,bx(f,r,d);break;case"selectionchange":if(OT)break;case"keydown":case"keyup":bx(f,r,d)}var E;if(Dy)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else zi?fS(e,r)&&(C="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(C="onCompositionStart");C&&(dS&&r.locale!=="ko"&&(zi||C!=="onCompositionStart"?C==="onCompositionEnd"&&zi&&(E=uS()):(oa=d,Sy="value"in oa?oa.value:oa.textContent,zi=!0)),S=Jd(u,C),0<S.length&&(C=new dx(C,e,null,r,d),f.push({event:C,listeners:S}),E?C.data=E:(E=hS(r),E!==null&&(C.data=E)))),(E=wT?NT(e,r):ST(e,r))&&(u=Jd(u,"onBeforeInput"),0<u.length&&(d=new dx("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=E))}_S(f,t)})}function uc(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Jd(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=nc(e,r),a!=null&&n.unshift(uc(e,a,s)),a=nc(e,t),a!=null&&n.push(uc(e,a,s))),e=e.return}return n}function Mi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Sx(e,t,r,n,s){for(var a=t._reactName,i=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=nc(r,a),c!=null&&i.unshift(uc(r,c,l))):s||(c=nc(r,a),c!=null&&i.push(uc(r,c,l)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var LT=/\r\n?/g,IT=/\u0000|\uFFFD/g;function jx(e){return(typeof e=="string"?e:""+e).replace(LT,`
`).replace(IT,"")}function Lu(e,t,r){if(t=jx(t),jx(e)!==t&&r)throw Error(fe(425))}function Zd(){}var Wp=null,Bp=null;function Up(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Hp=typeof setTimeout=="function"?setTimeout:void 0,FT=typeof clearTimeout=="function"?clearTimeout:void 0,_x=typeof Promise=="function"?Promise:void 0,WT=typeof queueMicrotask=="function"?queueMicrotask:typeof _x<"u"?function(e){return _x.resolve(null).then(e).catch(BT)}:Hp;function BT(e){setTimeout(function(){throw e})}function Am(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),ic(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);ic(t)}function pa(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Dx(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Wo=Math.random().toString(36).slice(2),Bn="__reactFiber$"+Wo,dc="__reactProps$"+Wo,_s="__reactContainer$"+Wo,zp="__reactEvents$"+Wo,UT="__reactListeners$"+Wo,HT="__reactHandles$"+Wo;function Ga(e){var t=e[Bn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[_s]||r[Bn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Dx(e);e!==null;){if(r=e[Bn])return r;e=Dx(e)}return t}e=r,r=e.parentNode}return null}function Xc(e){return e=e[Bn]||e[_s],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function qi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(fe(33))}function qf(e){return e[dc]||null}var Vp=[],Ki=-1;function Ea(e){return{current:e}}function ot(e){0>Ki||(e.current=Vp[Ki],Vp[Ki]=null,Ki--)}function tt(e,t){Ki++,Vp[Ki]=e.current,e.current=t}var Sa={},tr=Ea(Sa),br=Ea(!1),hi=Sa;function No(e,t){var r=e.type.contextTypes;if(!r)return Sa;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in r)s[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function wr(e){return e=e.childContextTypes,e!=null}function ef(){ot(br),ot(tr)}function kx(e,t,r){if(tr.current!==Sa)throw Error(fe(168));tt(tr,t),tt(br,r)}function kS(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(fe(108,k2(e)||"Unknown",s));return yt({},r,n)}function tf(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Sa,hi=tr.current,tt(tr,e),tt(br,br.current),!0}function Ex(e,t,r){var n=e.stateNode;if(!n)throw Error(fe(169));r?(e=kS(e,t,hi),n.__reactInternalMemoizedMergedChildContext=e,ot(br),ot(tr),tt(tr,e)):ot(br),tt(br,r)}var hs=null,Kf=!1,Om=!1;function ES(e){hs===null?hs=[e]:hs.push(e)}function zT(e){Kf=!0,ES(e)}function Ca(){if(!Om&&hs!==null){Om=!0;var e=0,t=Xe;try{var r=hs;for(Xe=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}hs=null,Kf=!1}catch(s){throw hs!==null&&(hs=hs.slice(e+1)),ZN(xy,Ca),s}finally{Xe=t,Om=!1}}return null}var Gi=[],Xi=0,rf=null,nf=0,Wr=[],Br=0,mi=null,ps=1,gs="";function za(e,t){Gi[Xi++]=nf,Gi[Xi++]=rf,rf=e,nf=t}function CS(e,t,r){Wr[Br++]=ps,Wr[Br++]=gs,Wr[Br++]=mi,mi=e;var n=ps;e=gs;var s=32-gn(n)-1;n&=~(1<<s),r+=1;var a=32-gn(t)+s;if(30<a){var i=s-s%5;a=(n&(1<<i)-1).toString(32),n>>=i,s-=i,ps=1<<32-gn(t)+s|r<<s|n,gs=a+e}else ps=1<<a|r<<s|n,gs=e}function Ey(e){e.return!==null&&(za(e,1),CS(e,1,0))}function Cy(e){for(;e===rf;)rf=Gi[--Xi],Gi[Xi]=null,nf=Gi[--Xi],Gi[Xi]=null;for(;e===mi;)mi=Wr[--Br],Wr[Br]=null,gs=Wr[--Br],Wr[Br]=null,ps=Wr[--Br],Wr[Br]=null}var Ar=null,Pr=null,ft=!1,dn=null;function TS(e,t){var r=Yr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Cx(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ar=e,Pr=pa(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ar=e,Pr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=mi!==null?{id:ps,overflow:gs}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Yr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Ar=e,Pr=null,!0):!1;default:return!1}}function Yp(e){return(e.mode&1)!==0&&(e.flags&128)===0}function qp(e){if(ft){var t=Pr;if(t){var r=t;if(!Cx(e,t)){if(Yp(e))throw Error(fe(418));t=pa(r.nextSibling);var n=Ar;t&&Cx(e,t)?TS(n,r):(e.flags=e.flags&-4097|2,ft=!1,Ar=e)}}else{if(Yp(e))throw Error(fe(418));e.flags=e.flags&-4097|2,ft=!1,Ar=e}}}function Tx(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ar=e}function Iu(e){if(e!==Ar)return!1;if(!ft)return Tx(e),ft=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Up(e.type,e.memoizedProps)),t&&(t=Pr)){if(Yp(e))throw PS(),Error(fe(418));for(;t;)TS(e,t),t=pa(t.nextSibling)}if(Tx(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(fe(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Pr=pa(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Pr=null}}else Pr=Ar?pa(e.stateNode.nextSibling):null;return!0}function PS(){for(var e=Pr;e;)e=pa(e.nextSibling)}function So(){Pr=Ar=null,ft=!1}function Ty(e){dn===null?dn=[e]:dn.push(e)}var VT=Os.ReactCurrentBatchConfig;function yl(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(fe(309));var n=r.stateNode}if(!n)throw Error(fe(147,e));var s=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(i){var l=s.refs;i===null?delete l[a]:l[a]=i},t._stringRef=a,t)}if(typeof e!="string")throw Error(fe(284));if(!r._owner)throw Error(fe(290,e))}return e}function Fu(e,t){throw e=Object.prototype.toString.call(t),Error(fe(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Px(e){var t=e._init;return t(e._payload)}function AS(e){function t(y,v){if(e){var x=y.deletions;x===null?(y.deletions=[v],y.flags|=16):x.push(v)}}function r(y,v){if(!e)return null;for(;v!==null;)t(y,v),v=v.sibling;return null}function n(y,v){for(y=new Map;v!==null;)v.key!==null?y.set(v.key,v):y.set(v.index,v),v=v.sibling;return y}function s(y,v){return y=xa(y,v),y.index=0,y.sibling=null,y}function a(y,v,x){return y.index=x,e?(x=y.alternate,x!==null?(x=x.index,x<v?(y.flags|=2,v):x):(y.flags|=2,v)):(y.flags|=1048576,v)}function i(y){return e&&y.alternate===null&&(y.flags|=2),y}function l(y,v,x,b){return v===null||v.tag!==6?(v=Wm(x,y.mode,b),v.return=y,v):(v=s(v,x),v.return=y,v)}function c(y,v,x,b){var _=x.type;return _===Hi?d(y,v,x.props.children,b,x.key):v!==null&&(v.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Gs&&Px(_)===v.type)?(b=s(v,x.props),b.ref=yl(y,v,x),b.return=y,b):(b=Sd(x.type,x.key,x.props,null,y.mode,b),b.ref=yl(y,v,x),b.return=y,b)}function u(y,v,x,b){return v===null||v.tag!==4||v.stateNode.containerInfo!==x.containerInfo||v.stateNode.implementation!==x.implementation?(v=Bm(x,y.mode,b),v.return=y,v):(v=s(v,x.children||[]),v.return=y,v)}function d(y,v,x,b,_){return v===null||v.tag!==7?(v=li(x,y.mode,b,_),v.return=y,v):(v=s(v,x),v.return=y,v)}function f(y,v,x){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Wm(""+v,y.mode,x),v.return=y,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Eu:return x=Sd(v.type,v.key,v.props,null,y.mode,x),x.ref=yl(y,null,v),x.return=y,x;case Ui:return v=Bm(v,y.mode,x),v.return=y,v;case Gs:var b=v._init;return f(y,b(v._payload),x)}if(Ml(v)||fl(v))return v=li(v,y.mode,x,null),v.return=y,v;Fu(y,v)}return null}function h(y,v,x,b){var _=v!==null?v.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return _!==null?null:l(y,v,""+x,b);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Eu:return x.key===_?c(y,v,x,b):null;case Ui:return x.key===_?u(y,v,x,b):null;case Gs:return _=x._init,h(y,v,_(x._payload),b)}if(Ml(x)||fl(x))return _!==null?null:d(y,v,x,b,null);Fu(y,x)}return null}function g(y,v,x,b,_){if(typeof b=="string"&&b!==""||typeof b=="number")return y=y.get(x)||null,l(v,y,""+b,_);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Eu:return y=y.get(b.key===null?x:b.key)||null,c(v,y,b,_);case Ui:return y=y.get(b.key===null?x:b.key)||null,u(v,y,b,_);case Gs:var S=b._init;return g(y,v,x,S(b._payload),_)}if(Ml(b)||fl(b))return y=y.get(x)||null,d(v,y,b,_,null);Fu(v,b)}return null}function m(y,v,x,b){for(var _=null,S=null,E=v,C=v=0,M=null;E!==null&&C<x.length;C++){E.index>C?(M=E,E=null):M=E.sibling;var $=h(y,E,x[C],b);if($===null){E===null&&(E=M);break}e&&E&&$.alternate===null&&t(y,E),v=a($,v,C),S===null?_=$:S.sibling=$,S=$,E=M}if(C===x.length)return r(y,E),ft&&za(y,C),_;if(E===null){for(;C<x.length;C++)E=f(y,x[C],b),E!==null&&(v=a(E,v,C),S===null?_=E:S.sibling=E,S=E);return ft&&za(y,C),_}for(E=n(y,E);C<x.length;C++)M=g(E,y,C,x[C],b),M!==null&&(e&&M.alternate!==null&&E.delete(M.key===null?C:M.key),v=a(M,v,C),S===null?_=M:S.sibling=M,S=M);return e&&E.forEach(function(Y){return t(y,Y)}),ft&&za(y,C),_}function p(y,v,x,b){var _=fl(x);if(typeof _!="function")throw Error(fe(150));if(x=_.call(x),x==null)throw Error(fe(151));for(var S=_=null,E=v,C=v=0,M=null,$=x.next();E!==null&&!$.done;C++,$=x.next()){E.index>C?(M=E,E=null):M=E.sibling;var Y=h(y,E,$.value,b);if(Y===null){E===null&&(E=M);break}e&&E&&Y.alternate===null&&t(y,E),v=a(Y,v,C),S===null?_=Y:S.sibling=Y,S=Y,E=M}if($.done)return r(y,E),ft&&za(y,C),_;if(E===null){for(;!$.done;C++,$=x.next())$=f(y,$.value,b),$!==null&&(v=a($,v,C),S===null?_=$:S.sibling=$,S=$);return ft&&za(y,C),_}for(E=n(y,E);!$.done;C++,$=x.next())$=g(E,y,C,$.value,b),$!==null&&(e&&$.alternate!==null&&E.delete($.key===null?C:$.key),v=a($,v,C),S===null?_=$:S.sibling=$,S=$);return e&&E.forEach(function(J){return t(y,J)}),ft&&za(y,C),_}function w(y,v,x,b){if(typeof x=="object"&&x!==null&&x.type===Hi&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Eu:e:{for(var _=x.key,S=v;S!==null;){if(S.key===_){if(_=x.type,_===Hi){if(S.tag===7){r(y,S.sibling),v=s(S,x.props.children),v.return=y,y=v;break e}}else if(S.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Gs&&Px(_)===S.type){r(y,S.sibling),v=s(S,x.props),v.ref=yl(y,S,x),v.return=y,y=v;break e}r(y,S);break}else t(y,S);S=S.sibling}x.type===Hi?(v=li(x.props.children,y.mode,b,x.key),v.return=y,y=v):(b=Sd(x.type,x.key,x.props,null,y.mode,b),b.ref=yl(y,v,x),b.return=y,y=b)}return i(y);case Ui:e:{for(S=x.key;v!==null;){if(v.key===S)if(v.tag===4&&v.stateNode.containerInfo===x.containerInfo&&v.stateNode.implementation===x.implementation){r(y,v.sibling),v=s(v,x.children||[]),v.return=y,y=v;break e}else{r(y,v);break}else t(y,v);v=v.sibling}v=Bm(x,y.mode,b),v.return=y,y=v}return i(y);case Gs:return S=x._init,w(y,v,S(x._payload),b)}if(Ml(x))return m(y,v,x,b);if(fl(x))return p(y,v,x,b);Fu(y,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,v!==null&&v.tag===6?(r(y,v.sibling),v=s(v,x),v.return=y,y=v):(r(y,v),v=Wm(x,y.mode,b),v.return=y,y=v),i(y)):r(y,v)}return w}var jo=AS(!0),OS=AS(!1),sf=Ea(null),af=null,Qi=null,Py=null;function Ay(){Py=Qi=af=null}function Oy(e){var t=sf.current;ot(sf),e._currentValue=t}function Kp(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function io(e,t){af=e,Py=Qi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(xr=!0),e.firstContext=null)}function Kr(e){var t=e._currentValue;if(Py!==e)if(e={context:e,memoizedValue:t,next:null},Qi===null){if(af===null)throw Error(fe(308));Qi=e,af.dependencies={lanes:0,firstContext:e}}else Qi=Qi.next=e;return t}var Xa=null;function My(e){Xa===null?Xa=[e]:Xa.push(e)}function MS(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,My(t)):(r.next=s.next,s.next=r),t.interleaved=r,Ds(e,n)}function Ds(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Xs=!1;function $y(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $S(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function bs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ga(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,ze&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Ds(e,r)}return s=n.interleaved,s===null?(t.next=t,My(n)):(t.next=s.next,s.next=t),n.interleaved=t,Ds(e,r)}function yd(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,by(e,r)}}function Ax(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?s=a=i:a=a.next=i,r=r.next}while(r!==null);a===null?s=a=t:a=a.next=t}else s=a=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function of(e,t,r,n){var s=e.updateQueue;Xs=!1;var a=s.firstBaseUpdate,i=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,i===null?a=u:i.next=u,i=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==i&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(a!==null){var f=s.baseState;i=0,d=u=c=null,l=a;do{var h=l.lane,g=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var m=e,p=l;switch(h=t,g=r,p.tag){case 1:if(m=p.payload,typeof m=="function"){f=m.call(g,f,h);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=p.payload,h=typeof m=="function"?m.call(g,f,h):m,h==null)break e;f=yt({},f,h);break e;case 2:Xs=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else g={eventTime:g,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=g,c=f):d=d.next=g,i|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);gi|=i,e.lanes=i,e.memoizedState=f}}function Ox(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(fe(191,s));s.call(n)}}}var Qc={},Gn=Ea(Qc),fc=Ea(Qc),hc=Ea(Qc);function Qa(e){if(e===Qc)throw Error(fe(174));return e}function Ry(e,t){switch(tt(hc,t),tt(fc,e),tt(Gn,Qc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ep(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ep(t,e)}ot(Gn),tt(Gn,t)}function _o(){ot(Gn),ot(fc),ot(hc)}function RS(e){Qa(hc.current);var t=Qa(Gn.current),r=Ep(t,e.type);t!==r&&(tt(fc,e),tt(Gn,r))}function Ly(e){fc.current===e&&(ot(Gn),ot(fc))}var pt=Ea(0);function lf(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Mm=[];function Iy(){for(var e=0;e<Mm.length;e++)Mm[e]._workInProgressVersionPrimary=null;Mm.length=0}var vd=Os.ReactCurrentDispatcher,$m=Os.ReactCurrentBatchConfig,pi=0,gt=null,At=null,Wt=null,cf=!1,Vl=!1,mc=0,YT=0;function Kt(){throw Error(fe(321))}function Fy(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!xn(e[r],t[r]))return!1;return!0}function Wy(e,t,r,n,s,a){if(pi=a,gt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,vd.current=e===null||e.memoizedState===null?XT:QT,e=r(n,s),Vl){a=0;do{if(Vl=!1,mc=0,25<=a)throw Error(fe(301));a+=1,Wt=At=null,t.updateQueue=null,vd.current=JT,e=r(n,s)}while(Vl)}if(vd.current=uf,t=At!==null&&At.next!==null,pi=0,Wt=At=gt=null,cf=!1,t)throw Error(fe(300));return e}function By(){var e=mc!==0;return mc=0,e}function $n(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wt===null?gt.memoizedState=Wt=e:Wt=Wt.next=e,Wt}function Gr(){if(At===null){var e=gt.alternate;e=e!==null?e.memoizedState:null}else e=At.next;var t=Wt===null?gt.memoizedState:Wt.next;if(t!==null)Wt=t,At=e;else{if(e===null)throw Error(fe(310));At=e,e={memoizedState:At.memoizedState,baseState:At.baseState,baseQueue:At.baseQueue,queue:At.queue,next:null},Wt===null?gt.memoizedState=Wt=e:Wt=Wt.next=e}return Wt}function pc(e,t){return typeof t=="function"?t(e):t}function Rm(e){var t=Gr(),r=t.queue;if(r===null)throw Error(fe(311));r.lastRenderedReducer=e;var n=At,s=n.baseQueue,a=r.pending;if(a!==null){if(s!==null){var i=s.next;s.next=a.next,a.next=i}n.baseQueue=s=a,r.pending=null}if(s!==null){a=s.next,n=n.baseState;var l=i=null,c=null,u=a;do{var d=u.lane;if((pi&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,i=n):c=c.next=f,gt.lanes|=d,gi|=d}u=u.next}while(u!==null&&u!==a);c===null?i=n:c.next=l,xn(n,t.memoizedState)||(xr=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do a=s.lane,gt.lanes|=a,gi|=a,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Lm(e){var t=Gr(),r=t.queue;if(r===null)throw Error(fe(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,a=t.memoizedState;if(s!==null){r.pending=null;var i=s=s.next;do a=e(a,i.action),i=i.next;while(i!==s);xn(a,t.memoizedState)||(xr=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function LS(){}function IS(e,t){var r=gt,n=Gr(),s=t(),a=!xn(n.memoizedState,s);if(a&&(n.memoizedState=s,xr=!0),n=n.queue,Uy(BS.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||Wt!==null&&Wt.memoizedState.tag&1){if(r.flags|=2048,gc(9,WS.bind(null,r,n,s,t),void 0,null),Bt===null)throw Error(fe(349));pi&30||FS(r,t,s)}return s}function FS(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=gt.updateQueue,t===null?(t={lastEffect:null,stores:null},gt.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function WS(e,t,r,n){t.value=r,t.getSnapshot=n,US(t)&&HS(e)}function BS(e,t,r){return r(function(){US(t)&&HS(e)})}function US(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!xn(e,r)}catch{return!0}}function HS(e){var t=Ds(e,1);t!==null&&yn(t,e,1,-1)}function Mx(e){var t=$n();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:pc,lastRenderedState:e},t.queue=e,e=e.dispatch=GT.bind(null,gt,e),[t.memoizedState,e]}function gc(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=gt.updateQueue,t===null?(t={lastEffect:null,stores:null},gt.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function zS(){return Gr().memoizedState}function xd(e,t,r,n){var s=$n();gt.flags|=e,s.memoizedState=gc(1|t,r,void 0,n===void 0?null:n)}function Gf(e,t,r,n){var s=Gr();n=n===void 0?null:n;var a=void 0;if(At!==null){var i=At.memoizedState;if(a=i.destroy,n!==null&&Fy(n,i.deps)){s.memoizedState=gc(t,r,a,n);return}}gt.flags|=e,s.memoizedState=gc(1|t,r,a,n)}function $x(e,t){return xd(8390656,8,e,t)}function Uy(e,t){return Gf(2048,8,e,t)}function VS(e,t){return Gf(4,2,e,t)}function YS(e,t){return Gf(4,4,e,t)}function qS(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function KS(e,t,r){return r=r!=null?r.concat([e]):null,Gf(4,4,qS.bind(null,t,e),r)}function Hy(){}function GS(e,t){var r=Gr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Fy(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function XS(e,t){var r=Gr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Fy(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function QS(e,t,r){return pi&21?(xn(r,t)||(r=rS(),gt.lanes|=r,gi|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,xr=!0),e.memoizedState=r)}function qT(e,t){var r=Xe;Xe=r!==0&&4>r?r:4,e(!0);var n=$m.transition;$m.transition={};try{e(!1),t()}finally{Xe=r,$m.transition=n}}function JS(){return Gr().memoizedState}function KT(e,t,r){var n=va(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},ZS(e))ej(t,r);else if(r=MS(e,t,r,n),r!==null){var s=dr();yn(r,e,n,s),tj(r,t,n)}}function GT(e,t,r){var n=va(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(ZS(e))ej(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var i=t.lastRenderedState,l=a(i,r);if(s.hasEagerState=!0,s.eagerState=l,xn(l,i)){var c=t.interleaved;c===null?(s.next=s,My(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=MS(e,t,s,n),r!==null&&(s=dr(),yn(r,e,n,s),tj(r,t,n))}}function ZS(e){var t=e.alternate;return e===gt||t!==null&&t===gt}function ej(e,t){Vl=cf=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function tj(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,by(e,r)}}var uf={readContext:Kr,useCallback:Kt,useContext:Kt,useEffect:Kt,useImperativeHandle:Kt,useInsertionEffect:Kt,useLayoutEffect:Kt,useMemo:Kt,useReducer:Kt,useRef:Kt,useState:Kt,useDebugValue:Kt,useDeferredValue:Kt,useTransition:Kt,useMutableSource:Kt,useSyncExternalStore:Kt,useId:Kt,unstable_isNewReconciler:!1},XT={readContext:Kr,useCallback:function(e,t){return $n().memoizedState=[e,t===void 0?null:t],e},useContext:Kr,useEffect:$x,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,xd(4194308,4,qS.bind(null,t,e),r)},useLayoutEffect:function(e,t){return xd(4194308,4,e,t)},useInsertionEffect:function(e,t){return xd(4,2,e,t)},useMemo:function(e,t){var r=$n();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=$n();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=KT.bind(null,gt,e),[n.memoizedState,e]},useRef:function(e){var t=$n();return e={current:e},t.memoizedState=e},useState:Mx,useDebugValue:Hy,useDeferredValue:function(e){return $n().memoizedState=e},useTransition:function(){var e=Mx(!1),t=e[0];return e=qT.bind(null,e[1]),$n().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=gt,s=$n();if(ft){if(r===void 0)throw Error(fe(407));r=r()}else{if(r=t(),Bt===null)throw Error(fe(349));pi&30||FS(n,t,r)}s.memoizedState=r;var a={value:r,getSnapshot:t};return s.queue=a,$x(BS.bind(null,n,a,e),[e]),n.flags|=2048,gc(9,WS.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=$n(),t=Bt.identifierPrefix;if(ft){var r=gs,n=ps;r=(n&~(1<<32-gn(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=mc++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=YT++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},QT={readContext:Kr,useCallback:GS,useContext:Kr,useEffect:Uy,useImperativeHandle:KS,useInsertionEffect:VS,useLayoutEffect:YS,useMemo:XS,useReducer:Rm,useRef:zS,useState:function(){return Rm(pc)},useDebugValue:Hy,useDeferredValue:function(e){var t=Gr();return QS(t,At.memoizedState,e)},useTransition:function(){var e=Rm(pc)[0],t=Gr().memoizedState;return[e,t]},useMutableSource:LS,useSyncExternalStore:IS,useId:JS,unstable_isNewReconciler:!1},JT={readContext:Kr,useCallback:GS,useContext:Kr,useEffect:Uy,useImperativeHandle:KS,useInsertionEffect:VS,useLayoutEffect:YS,useMemo:XS,useReducer:Lm,useRef:zS,useState:function(){return Lm(pc)},useDebugValue:Hy,useDeferredValue:function(e){var t=Gr();return At===null?t.memoizedState=e:QS(t,At.memoizedState,e)},useTransition:function(){var e=Lm(pc)[0],t=Gr().memoizedState;return[e,t]},useMutableSource:LS,useSyncExternalStore:IS,useId:JS,unstable_isNewReconciler:!1};function sn(e,t){if(e&&e.defaultProps){t=yt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Gp(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:yt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Xf={isMounted:function(e){return(e=e._reactInternals)?ki(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=dr(),s=va(e),a=bs(n,s);a.payload=t,r!=null&&(a.callback=r),t=ga(e,a,s),t!==null&&(yn(t,e,s,n),yd(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=dr(),s=va(e),a=bs(n,s);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=ga(e,a,s),t!==null&&(yn(t,e,s,n),yd(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=dr(),n=va(e),s=bs(r,n);s.tag=2,t!=null&&(s.callback=t),t=ga(e,s,n),t!==null&&(yn(t,e,n,r),yd(t,e,n))}};function Rx(e,t,r,n,s,a,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,i):t.prototype&&t.prototype.isPureReactComponent?!lc(r,n)||!lc(s,a):!0}function rj(e,t,r){var n=!1,s=Sa,a=t.contextType;return typeof a=="object"&&a!==null?a=Kr(a):(s=wr(t)?hi:tr.current,n=t.contextTypes,a=(n=n!=null)?No(e,s):Sa),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Xf,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function Lx(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Xf.enqueueReplaceState(t,t.state,null)}function Xp(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},$y(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=Kr(a):(a=wr(t)?hi:tr.current,s.context=No(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Gp(e,t,a,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Xf.enqueueReplaceState(s,s.state,null),of(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Do(e,t){try{var r="",n=t;do r+=D2(n),n=n.return;while(n);var s=r}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function Im(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Qp(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var ZT=typeof WeakMap=="function"?WeakMap:Map;function nj(e,t,r){r=bs(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){ff||(ff=!0,og=n),Qp(e,t)},r}function sj(e,t,r){r=bs(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){Qp(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){Qp(e,t),typeof n!="function"&&(ya===null?ya=new Set([this]):ya.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function Ix(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new ZT;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=hP.bind(null,e,t,r),t.then(e,e))}function Fx(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Wx(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=bs(-1,1),t.tag=2,ga(r,t,1))),r.lanes|=1),e)}var eP=Os.ReactCurrentOwner,xr=!1;function or(e,t,r,n){t.child=e===null?OS(t,null,r,n):jo(t,e.child,r,n)}function Bx(e,t,r,n,s){r=r.render;var a=t.ref;return io(t,s),n=Wy(e,t,r,n,a,s),r=By(),e!==null&&!xr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,ks(e,t,s)):(ft&&r&&Ey(t),t.flags|=1,or(e,t,n,s),t.child)}function Ux(e,t,r,n,s){if(e===null){var a=r.type;return typeof a=="function"&&!Qy(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,aj(e,t,a,n,s)):(e=Sd(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&s)){var i=a.memoizedProps;if(r=r.compare,r=r!==null?r:lc,r(i,n)&&e.ref===t.ref)return ks(e,t,s)}return t.flags|=1,e=xa(a,n),e.ref=t.ref,e.return=t,t.child=e}function aj(e,t,r,n,s){if(e!==null){var a=e.memoizedProps;if(lc(a,n)&&e.ref===t.ref)if(xr=!1,t.pendingProps=n=a,(e.lanes&s)!==0)e.flags&131072&&(xr=!0);else return t.lanes=e.lanes,ks(e,t,s)}return Jp(e,t,r,n,s)}function ij(e,t,r){var n=t.pendingProps,s=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},tt(Zi,Cr),Cr|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,tt(Zi,Cr),Cr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,tt(Zi,Cr),Cr|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,tt(Zi,Cr),Cr|=n;return or(e,t,s,r),t.child}function oj(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Jp(e,t,r,n,s){var a=wr(r)?hi:tr.current;return a=No(t,a),io(t,s),r=Wy(e,t,r,n,a,s),n=By(),e!==null&&!xr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,ks(e,t,s)):(ft&&n&&Ey(t),t.flags|=1,or(e,t,r,s),t.child)}function Hx(e,t,r,n,s){if(wr(r)){var a=!0;tf(t)}else a=!1;if(io(t,s),t.stateNode===null)bd(e,t),rj(t,r,n),Xp(t,r,n,s),n=!0;else if(e===null){var i=t.stateNode,l=t.memoizedProps;i.props=l;var c=i.context,u=r.contextType;typeof u=="object"&&u!==null?u=Kr(u):(u=wr(r)?hi:tr.current,u=No(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==n||c!==u)&&Lx(t,i,n,u),Xs=!1;var h=t.memoizedState;i.state=h,of(t,n,i,s),c=t.memoizedState,l!==n||h!==c||br.current||Xs?(typeof d=="function"&&(Gp(t,r,d,n),c=t.memoizedState),(l=Xs||Rx(t,r,l,n,h,c,u))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),i.props=n,i.state=c,i.context=u,n=l):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,$S(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:sn(t.type,l),i.props=u,f=t.pendingProps,h=i.context,c=r.contextType,typeof c=="object"&&c!==null?c=Kr(c):(c=wr(r)?hi:tr.current,c=No(t,c));var g=r.getDerivedStateFromProps;(d=typeof g=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==f||h!==c)&&Lx(t,i,n,c),Xs=!1,h=t.memoizedState,i.state=h,of(t,n,i,s);var m=t.memoizedState;l!==f||h!==m||br.current||Xs?(typeof g=="function"&&(Gp(t,r,g,n),m=t.memoizedState),(u=Xs||Rx(t,r,u,n,h,m,c)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,m,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,m,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=m),i.props=n,i.state=m,i.context=c,n=u):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Zp(e,t,r,n,a,s)}function Zp(e,t,r,n,s,a){oj(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return s&&Ex(t,r,!1),ks(e,t,a);n=t.stateNode,eP.current=t;var l=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=jo(t,e.child,null,a),t.child=jo(t,null,l,a)):or(e,t,l,a),t.memoizedState=n.state,s&&Ex(t,r,!0),t.child}function lj(e){var t=e.stateNode;t.pendingContext?kx(e,t.pendingContext,t.pendingContext!==t.context):t.context&&kx(e,t.context,!1),Ry(e,t.containerInfo)}function zx(e,t,r,n,s){return So(),Ty(s),t.flags|=256,or(e,t,r,n),t.child}var eg={dehydrated:null,treeContext:null,retryLane:0};function tg(e){return{baseLanes:e,cachePool:null,transitions:null}}function cj(e,t,r){var n=t.pendingProps,s=pt.current,a=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),tt(pt,s&1),e===null)return qp(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,a?(n=t.mode,a=t.child,i={mode:"hidden",children:i},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=i):a=Zf(i,n,0,null),e=li(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=tg(r),t.memoizedState=eg,e):zy(t,i));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return tP(e,t,i,n,l,s,r);if(a){a=n.fallback,i=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(i&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=xa(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?a=xa(l,a):(a=li(a,i,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,i=e.child.memoizedState,i=i===null?tg(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},a.memoizedState=i,a.childLanes=e.childLanes&~r,t.memoizedState=eg,n}return a=e.child,e=a.sibling,n=xa(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function zy(e,t){return t=Zf({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Wu(e,t,r,n){return n!==null&&Ty(n),jo(t,e.child,null,r),e=zy(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function tP(e,t,r,n,s,a,i){if(r)return t.flags&256?(t.flags&=-257,n=Im(Error(fe(422))),Wu(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,s=t.mode,n=Zf({mode:"visible",children:n.children},s,0,null),a=li(a,s,i,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&jo(t,e.child,null,i),t.child.memoizedState=tg(i),t.memoizedState=eg,a);if(!(t.mode&1))return Wu(e,t,i,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,a=Error(fe(419)),n=Im(a,n,void 0),Wu(e,t,i,n)}if(l=(i&e.childLanes)!==0,xr||l){if(n=Bt,n!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|i)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,Ds(e,s),yn(n,e,s,-1))}return Xy(),n=Im(Error(fe(421))),Wu(e,t,i,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=mP.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,Pr=pa(s.nextSibling),Ar=t,ft=!0,dn=null,e!==null&&(Wr[Br++]=ps,Wr[Br++]=gs,Wr[Br++]=mi,ps=e.id,gs=e.overflow,mi=t),t=zy(t,n.children),t.flags|=4096,t)}function Vx(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Kp(e.return,t,r)}function Fm(e,t,r,n,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=s)}function uj(e,t,r){var n=t.pendingProps,s=n.revealOrder,a=n.tail;if(or(e,t,n.children,r),n=pt.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Vx(e,r,t);else if(e.tag===19)Vx(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(tt(pt,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&lf(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Fm(t,!1,s,r,a);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&lf(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Fm(t,!0,r,null,a);break;case"together":Fm(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function bd(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ks(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),gi|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(fe(153));if(t.child!==null){for(e=t.child,r=xa(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=xa(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function rP(e,t,r){switch(t.tag){case 3:lj(t),So();break;case 5:RS(t);break;case 1:wr(t.type)&&tf(t);break;case 4:Ry(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;tt(sf,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(tt(pt,pt.current&1),t.flags|=128,null):r&t.child.childLanes?cj(e,t,r):(tt(pt,pt.current&1),e=ks(e,t,r),e!==null?e.sibling:null);tt(pt,pt.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return uj(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),tt(pt,pt.current),n)break;return null;case 22:case 23:return t.lanes=0,ij(e,t,r)}return ks(e,t,r)}var dj,rg,fj,hj;dj=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};rg=function(){};fj=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Qa(Gn.current);var a=null;switch(r){case"input":s=jp(e,s),n=jp(e,n),a=[];break;case"select":s=yt({},s,{value:void 0}),n=yt({},n,{value:void 0}),a=[];break;case"textarea":s=kp(e,s),n=kp(e,n),a=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Zd)}Cp(r,n);var i;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(i in l)l.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(tc.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(a||(a=[]),a.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(tc.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&st("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}r&&(a=a||[]).push("style",r);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};hj=function(e,t,r,n){r!==n&&(t.flags|=4)};function vl(e,t){if(!ft)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Gt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function nP(e,t,r){var n=t.pendingProps;switch(Cy(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gt(t),null;case 1:return wr(t.type)&&ef(),Gt(t),null;case 3:return n=t.stateNode,_o(),ot(br),ot(tr),Iy(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Iu(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,dn!==null&&(ug(dn),dn=null))),rg(e,t),Gt(t),null;case 5:Ly(t);var s=Qa(hc.current);if(r=t.type,e!==null&&t.stateNode!=null)fj(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(fe(166));return Gt(t),null}if(e=Qa(Gn.current),Iu(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[Bn]=t,n[dc]=a,e=(t.mode&1)!==0,r){case"dialog":st("cancel",n),st("close",n);break;case"iframe":case"object":case"embed":st("load",n);break;case"video":case"audio":for(s=0;s<Rl.length;s++)st(Rl[s],n);break;case"source":st("error",n);break;case"img":case"image":case"link":st("error",n),st("load",n);break;case"details":st("toggle",n);break;case"input":ex(n,a),st("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},st("invalid",n);break;case"textarea":rx(n,a),st("invalid",n)}Cp(r,a),s=null;for(var i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="children"?typeof l=="string"?n.textContent!==l&&(a.suppressHydrationWarning!==!0&&Lu(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&Lu(n.textContent,l,e),s=["children",""+l]):tc.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&st("scroll",n)}switch(r){case"input":Cu(n),tx(n,a,!0);break;case"textarea":Cu(n),nx(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=Zd)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=BN(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),r==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[Bn]=t,e[dc]=n,dj(e,t,!1,!1),t.stateNode=e;e:{switch(i=Tp(r,n),r){case"dialog":st("cancel",e),st("close",e),s=n;break;case"iframe":case"object":case"embed":st("load",e),s=n;break;case"video":case"audio":for(s=0;s<Rl.length;s++)st(Rl[s],e);s=n;break;case"source":st("error",e),s=n;break;case"img":case"image":case"link":st("error",e),st("load",e),s=n;break;case"details":st("toggle",e),s=n;break;case"input":ex(e,n),s=jp(e,n),st("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=yt({},n,{value:void 0}),st("invalid",e);break;case"textarea":rx(e,n),s=kp(e,n),st("invalid",e);break;default:s=n}Cp(r,s),l=s;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?zN(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&UN(e,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&rc(e,c):typeof c=="number"&&rc(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(tc.hasOwnProperty(a)?c!=null&&a==="onScroll"&&st("scroll",e):c!=null&&my(e,a,c,i))}switch(r){case"input":Cu(e),tx(e,n,!1);break;case"textarea":Cu(e),nx(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Na(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?ro(e,!!n.multiple,a,!1):n.defaultValue!=null&&ro(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Zd)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Gt(t),null;case 6:if(e&&t.stateNode!=null)hj(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(fe(166));if(r=Qa(hc.current),Qa(Gn.current),Iu(t)){if(n=t.stateNode,r=t.memoizedProps,n[Bn]=t,(a=n.nodeValue!==r)&&(e=Ar,e!==null))switch(e.tag){case 3:Lu(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Lu(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Bn]=t,t.stateNode=n}return Gt(t),null;case 13:if(ot(pt),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ft&&Pr!==null&&t.mode&1&&!(t.flags&128))PS(),So(),t.flags|=98560,a=!1;else if(a=Iu(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(fe(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(fe(317));a[Bn]=t}else So(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Gt(t),a=!1}else dn!==null&&(ug(dn),dn=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||pt.current&1?Mt===0&&(Mt=3):Xy())),t.updateQueue!==null&&(t.flags|=4),Gt(t),null);case 4:return _o(),rg(e,t),e===null&&cc(t.stateNode.containerInfo),Gt(t),null;case 10:return Oy(t.type._context),Gt(t),null;case 17:return wr(t.type)&&ef(),Gt(t),null;case 19:if(ot(pt),a=t.memoizedState,a===null)return Gt(t),null;if(n=(t.flags&128)!==0,i=a.rendering,i===null)if(n)vl(a,!1);else{if(Mt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=lf(e),i!==null){for(t.flags|=128,vl(a,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,i=a.alternate,i===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,a.type=i.type,e=i.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return tt(pt,pt.current&1|2),t.child}e=e.sibling}a.tail!==null&&St()>ko&&(t.flags|=128,n=!0,vl(a,!1),t.lanes=4194304)}else{if(!n)if(e=lf(i),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),vl(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!ft)return Gt(t),null}else 2*St()-a.renderingStartTime>ko&&r!==1073741824&&(t.flags|=128,n=!0,vl(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(r=a.last,r!==null?r.sibling=i:t.child=i,a.last=i)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=St(),t.sibling=null,r=pt.current,tt(pt,n?r&1|2:r&1),t):(Gt(t),null);case 22:case 23:return Gy(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Cr&1073741824&&(Gt(t),t.subtreeFlags&6&&(t.flags|=8192)):Gt(t),null;case 24:return null;case 25:return null}throw Error(fe(156,t.tag))}function sP(e,t){switch(Cy(t),t.tag){case 1:return wr(t.type)&&ef(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return _o(),ot(br),ot(tr),Iy(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ly(t),null;case 13:if(ot(pt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(fe(340));So()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ot(pt),null;case 4:return _o(),null;case 10:return Oy(t.type._context),null;case 22:case 23:return Gy(),null;case 24:return null;default:return null}}var Bu=!1,Jt=!1,aP=typeof WeakSet=="function"?WeakSet:Set,_e=null;function Ji(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){xt(e,t,n)}else r.current=null}function ng(e,t,r){try{r()}catch(n){xt(e,t,n)}}var Yx=!1;function iP(e,t){if(Wp=Xd,e=vS(),ky(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var i=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var g;f!==r||s!==0&&f.nodeType!==3||(l=i+s),f!==a||n!==0&&f.nodeType!==3||(c=i+n),f.nodeType===3&&(i+=f.nodeValue.length),(g=f.firstChild)!==null;)h=f,f=g;for(;;){if(f===e)break t;if(h===r&&++u===s&&(l=i),h===a&&++d===n&&(c=i),(g=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=g}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Bp={focusedElem:e,selectionRange:r},Xd=!1,_e=t;_e!==null;)if(t=_e,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,_e=e;else for(;_e!==null;){t=_e;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var p=m.memoizedProps,w=m.memoizedState,y=t.stateNode,v=y.getSnapshotBeforeUpdate(t.elementType===t.type?p:sn(t.type,p),w);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(fe(163))}}catch(b){xt(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,_e=e;break}_e=t.return}return m=Yx,Yx=!1,m}function Yl(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&ng(t,r,a)}s=s.next}while(s!==n)}}function Qf(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function sg(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function mj(e){var t=e.alternate;t!==null&&(e.alternate=null,mj(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Bn],delete t[dc],delete t[zp],delete t[UT],delete t[HT])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function pj(e){return e.tag===5||e.tag===3||e.tag===4}function qx(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||pj(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ag(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Zd));else if(n!==4&&(e=e.child,e!==null))for(ag(e,t,r),e=e.sibling;e!==null;)ag(e,t,r),e=e.sibling}function ig(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(ig(e,t,r),e=e.sibling;e!==null;)ig(e,t,r),e=e.sibling}var Ut=null,cn=!1;function Ws(e,t,r){for(r=r.child;r!==null;)gj(e,t,r),r=r.sibling}function gj(e,t,r){if(Kn&&typeof Kn.onCommitFiberUnmount=="function")try{Kn.onCommitFiberUnmount(Hf,r)}catch{}switch(r.tag){case 5:Jt||Ji(r,t);case 6:var n=Ut,s=cn;Ut=null,Ws(e,t,r),Ut=n,cn=s,Ut!==null&&(cn?(e=Ut,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Ut.removeChild(r.stateNode));break;case 18:Ut!==null&&(cn?(e=Ut,r=r.stateNode,e.nodeType===8?Am(e.parentNode,r):e.nodeType===1&&Am(e,r),ic(e)):Am(Ut,r.stateNode));break;case 4:n=Ut,s=cn,Ut=r.stateNode.containerInfo,cn=!0,Ws(e,t,r),Ut=n,cn=s;break;case 0:case 11:case 14:case 15:if(!Jt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var a=s,i=a.destroy;a=a.tag,i!==void 0&&(a&2||a&4)&&ng(r,t,i),s=s.next}while(s!==n)}Ws(e,t,r);break;case 1:if(!Jt&&(Ji(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){xt(r,t,l)}Ws(e,t,r);break;case 21:Ws(e,t,r);break;case 22:r.mode&1?(Jt=(n=Jt)||r.memoizedState!==null,Ws(e,t,r),Jt=n):Ws(e,t,r);break;default:Ws(e,t,r)}}function Kx(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new aP),t.forEach(function(n){var s=pP.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function nn(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var a=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 5:Ut=l.stateNode,cn=!1;break e;case 3:Ut=l.stateNode.containerInfo,cn=!0;break e;case 4:Ut=l.stateNode.containerInfo,cn=!0;break e}l=l.return}if(Ut===null)throw Error(fe(160));gj(a,i,s),Ut=null,cn=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){xt(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)yj(t,e),t=t.sibling}function yj(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(nn(t,e),An(e),n&4){try{Yl(3,e,e.return),Qf(3,e)}catch(p){xt(e,e.return,p)}try{Yl(5,e,e.return)}catch(p){xt(e,e.return,p)}}break;case 1:nn(t,e),An(e),n&512&&r!==null&&Ji(r,r.return);break;case 5:if(nn(t,e),An(e),n&512&&r!==null&&Ji(r,r.return),e.flags&32){var s=e.stateNode;try{rc(s,"")}catch(p){xt(e,e.return,p)}}if(n&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,i=r!==null?r.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&FN(s,a),Tp(l,i);var u=Tp(l,a);for(i=0;i<c.length;i+=2){var d=c[i],f=c[i+1];d==="style"?zN(s,f):d==="dangerouslySetInnerHTML"?UN(s,f):d==="children"?rc(s,f):my(s,d,f,u)}switch(l){case"input":_p(s,a);break;case"textarea":WN(s,a);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var g=a.value;g!=null?ro(s,!!a.multiple,g,!1):h!==!!a.multiple&&(a.defaultValue!=null?ro(s,!!a.multiple,a.defaultValue,!0):ro(s,!!a.multiple,a.multiple?[]:"",!1))}s[dc]=a}catch(p){xt(e,e.return,p)}}break;case 6:if(nn(t,e),An(e),n&4){if(e.stateNode===null)throw Error(fe(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(p){xt(e,e.return,p)}}break;case 3:if(nn(t,e),An(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{ic(t.containerInfo)}catch(p){xt(e,e.return,p)}break;case 4:nn(t,e),An(e);break;case 13:nn(t,e),An(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(qy=St())),n&4&&Kx(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Jt=(u=Jt)||d,nn(t,e),Jt=u):nn(t,e),An(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(_e=e,d=e.child;d!==null;){for(f=_e=d;_e!==null;){switch(h=_e,g=h.child,h.tag){case 0:case 11:case 14:case 15:Yl(4,h,h.return);break;case 1:Ji(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(p){xt(n,r,p)}}break;case 5:Ji(h,h.return);break;case 22:if(h.memoizedState!==null){Xx(f);continue}}g!==null?(g.return=h,_e=g):Xx(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=f.stateNode,c=f.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=HN("display",i))}catch(p){xt(e,e.return,p)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(p){xt(e,e.return,p)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:nn(t,e),An(e),n&4&&Kx(e);break;case 21:break;default:nn(t,e),An(e)}}function An(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(pj(r)){var n=r;break e}r=r.return}throw Error(fe(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(rc(s,""),n.flags&=-33);var a=qx(e);ig(e,a,s);break;case 3:case 4:var i=n.stateNode.containerInfo,l=qx(e);ag(e,l,i);break;default:throw Error(fe(161))}}catch(c){xt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function oP(e,t,r){_e=e,vj(e)}function vj(e,t,r){for(var n=(e.mode&1)!==0;_e!==null;){var s=_e,a=s.child;if(s.tag===22&&n){var i=s.memoizedState!==null||Bu;if(!i){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Jt;l=Bu;var u=Jt;if(Bu=i,(Jt=c)&&!u)for(_e=s;_e!==null;)i=_e,c=i.child,i.tag===22&&i.memoizedState!==null?Qx(s):c!==null?(c.return=i,_e=c):Qx(s);for(;a!==null;)_e=a,vj(a),a=a.sibling;_e=s,Bu=l,Jt=u}Gx(e)}else s.subtreeFlags&8772&&a!==null?(a.return=s,_e=a):Gx(e)}}function Gx(e){for(;_e!==null;){var t=_e;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Jt||Qf(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Jt)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:sn(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Ox(t,a,n);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Ox(t,i,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&ic(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(fe(163))}Jt||t.flags&512&&sg(t)}catch(h){xt(t,t.return,h)}}if(t===e){_e=null;break}if(r=t.sibling,r!==null){r.return=t.return,_e=r;break}_e=t.return}}function Xx(e){for(;_e!==null;){var t=_e;if(t===e){_e=null;break}var r=t.sibling;if(r!==null){r.return=t.return,_e=r;break}_e=t.return}}function Qx(e){for(;_e!==null;){var t=_e;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Qf(4,t)}catch(c){xt(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){xt(t,s,c)}}var a=t.return;try{sg(t)}catch(c){xt(t,a,c)}break;case 5:var i=t.return;try{sg(t)}catch(c){xt(t,i,c)}}}catch(c){xt(t,t.return,c)}if(t===e){_e=null;break}var l=t.sibling;if(l!==null){l.return=t.return,_e=l;break}_e=t.return}}var lP=Math.ceil,df=Os.ReactCurrentDispatcher,Vy=Os.ReactCurrentOwner,qr=Os.ReactCurrentBatchConfig,ze=0,Bt=null,Ct=null,zt=0,Cr=0,Zi=Ea(0),Mt=0,yc=null,gi=0,Jf=0,Yy=0,ql=null,yr=null,qy=0,ko=1/0,ds=null,ff=!1,og=null,ya=null,Uu=!1,la=null,hf=0,Kl=0,lg=null,wd=-1,Nd=0;function dr(){return ze&6?St():wd!==-1?wd:wd=St()}function va(e){return e.mode&1?ze&2&&zt!==0?zt&-zt:VT.transition!==null?(Nd===0&&(Nd=rS()),Nd):(e=Xe,e!==0||(e=window.event,e=e===void 0?16:cS(e.type)),e):1}function yn(e,t,r,n){if(50<Kl)throw Kl=0,lg=null,Error(fe(185));Kc(e,r,n),(!(ze&2)||e!==Bt)&&(e===Bt&&(!(ze&2)&&(Jf|=r),Mt===4&&Js(e,zt)),Nr(e,n),r===1&&ze===0&&!(t.mode&1)&&(ko=St()+500,Kf&&Ca()))}function Nr(e,t){var r=e.callbackNode;V2(e,t);var n=Gd(e,e===Bt?zt:0);if(n===0)r!==null&&ix(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&ix(r),t===1)e.tag===0?zT(Jx.bind(null,e)):ES(Jx.bind(null,e)),WT(function(){!(ze&6)&&Ca()}),r=null;else{switch(nS(n)){case 1:r=xy;break;case 4:r=eS;break;case 16:r=Kd;break;case 536870912:r=tS;break;default:r=Kd}r=Dj(r,xj.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function xj(e,t){if(wd=-1,Nd=0,ze&6)throw Error(fe(327));var r=e.callbackNode;if(oo()&&e.callbackNode!==r)return null;var n=Gd(e,e===Bt?zt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=mf(e,n);else{t=n;var s=ze;ze|=2;var a=wj();(Bt!==e||zt!==t)&&(ds=null,ko=St()+500,oi(e,t));do try{dP();break}catch(l){bj(e,l)}while(!0);Ay(),df.current=a,ze=s,Ct!==null?t=0:(Bt=null,zt=0,t=Mt)}if(t!==0){if(t===2&&(s=$p(e),s!==0&&(n=s,t=cg(e,s))),t===1)throw r=yc,oi(e,0),Js(e,n),Nr(e,St()),r;if(t===6)Js(e,n);else{if(s=e.current.alternate,!(n&30)&&!cP(s)&&(t=mf(e,n),t===2&&(a=$p(e),a!==0&&(n=a,t=cg(e,a))),t===1))throw r=yc,oi(e,0),Js(e,n),Nr(e,St()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(fe(345));case 2:Va(e,yr,ds);break;case 3:if(Js(e,n),(n&130023424)===n&&(t=qy+500-St(),10<t)){if(Gd(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){dr(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Hp(Va.bind(null,e,yr,ds),t);break}Va(e,yr,ds);break;case 4:if(Js(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var i=31-gn(n);a=1<<i,i=t[i],i>s&&(s=i),n&=~a}if(n=s,n=St()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*lP(n/1960))-n,10<n){e.timeoutHandle=Hp(Va.bind(null,e,yr,ds),n);break}Va(e,yr,ds);break;case 5:Va(e,yr,ds);break;default:throw Error(fe(329))}}}return Nr(e,St()),e.callbackNode===r?xj.bind(null,e):null}function cg(e,t){var r=ql;return e.current.memoizedState.isDehydrated&&(oi(e,t).flags|=256),e=mf(e,t),e!==2&&(t=yr,yr=r,t!==null&&ug(t)),e}function ug(e){yr===null?yr=e:yr.push.apply(yr,e)}function cP(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],a=s.getSnapshot;s=s.value;try{if(!xn(a(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Js(e,t){for(t&=~Yy,t&=~Jf,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-gn(t),n=1<<r;e[r]=-1,t&=~n}}function Jx(e){if(ze&6)throw Error(fe(327));oo();var t=Gd(e,0);if(!(t&1))return Nr(e,St()),null;var r=mf(e,t);if(e.tag!==0&&r===2){var n=$p(e);n!==0&&(t=n,r=cg(e,n))}if(r===1)throw r=yc,oi(e,0),Js(e,t),Nr(e,St()),r;if(r===6)throw Error(fe(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Va(e,yr,ds),Nr(e,St()),null}function Ky(e,t){var r=ze;ze|=1;try{return e(t)}finally{ze=r,ze===0&&(ko=St()+500,Kf&&Ca())}}function yi(e){la!==null&&la.tag===0&&!(ze&6)&&oo();var t=ze;ze|=1;var r=qr.transition,n=Xe;try{if(qr.transition=null,Xe=1,e)return e()}finally{Xe=n,qr.transition=r,ze=t,!(ze&6)&&Ca()}}function Gy(){Cr=Zi.current,ot(Zi)}function oi(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,FT(r)),Ct!==null)for(r=Ct.return;r!==null;){var n=r;switch(Cy(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&ef();break;case 3:_o(),ot(br),ot(tr),Iy();break;case 5:Ly(n);break;case 4:_o();break;case 13:ot(pt);break;case 19:ot(pt);break;case 10:Oy(n.type._context);break;case 22:case 23:Gy()}r=r.return}if(Bt=e,Ct=e=xa(e.current,null),zt=Cr=t,Mt=0,yc=null,Yy=Jf=gi=0,yr=ql=null,Xa!==null){for(t=0;t<Xa.length;t++)if(r=Xa[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,a=r.pending;if(a!==null){var i=a.next;a.next=s,n.next=i}r.pending=n}Xa=null}return e}function bj(e,t){do{var r=Ct;try{if(Ay(),vd.current=uf,cf){for(var n=gt.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}cf=!1}if(pi=0,Wt=At=gt=null,Vl=!1,mc=0,Vy.current=null,r===null||r.return===null){Mt=1,yc=t,Ct=null;break}e:{var a=e,i=r.return,l=r,c=t;if(t=zt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=Fx(i);if(g!==null){g.flags&=-257,Wx(g,i,l,a,t),g.mode&1&&Ix(a,u,t),t=g,c=u;var m=t.updateQueue;if(m===null){var p=new Set;p.add(c),t.updateQueue=p}else m.add(c);break e}else{if(!(t&1)){Ix(a,u,t),Xy();break e}c=Error(fe(426))}}else if(ft&&l.mode&1){var w=Fx(i);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Wx(w,i,l,a,t),Ty(Do(c,l));break e}}a=c=Do(c,l),Mt!==4&&(Mt=2),ql===null?ql=[a]:ql.push(a),a=i;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var y=nj(a,c,t);Ax(a,y);break e;case 1:l=c;var v=a.type,x=a.stateNode;if(!(a.flags&128)&&(typeof v.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(ya===null||!ya.has(x)))){a.flags|=65536,t&=-t,a.lanes|=t;var b=sj(a,l,t);Ax(a,b);break e}}a=a.return}while(a!==null)}Sj(r)}catch(_){t=_,Ct===r&&r!==null&&(Ct=r=r.return);continue}break}while(!0)}function wj(){var e=df.current;return df.current=uf,e===null?uf:e}function Xy(){(Mt===0||Mt===3||Mt===2)&&(Mt=4),Bt===null||!(gi&268435455)&&!(Jf&268435455)||Js(Bt,zt)}function mf(e,t){var r=ze;ze|=2;var n=wj();(Bt!==e||zt!==t)&&(ds=null,oi(e,t));do try{uP();break}catch(s){bj(e,s)}while(!0);if(Ay(),ze=r,df.current=n,Ct!==null)throw Error(fe(261));return Bt=null,zt=0,Mt}function uP(){for(;Ct!==null;)Nj(Ct)}function dP(){for(;Ct!==null&&!R2();)Nj(Ct)}function Nj(e){var t=_j(e.alternate,e,Cr);e.memoizedProps=e.pendingProps,t===null?Sj(e):Ct=t,Vy.current=null}function Sj(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=sP(r,t),r!==null){r.flags&=32767,Ct=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Mt=6,Ct=null;return}}else if(r=nP(r,t,Cr),r!==null){Ct=r;return}if(t=t.sibling,t!==null){Ct=t;return}Ct=t=e}while(t!==null);Mt===0&&(Mt=5)}function Va(e,t,r){var n=Xe,s=qr.transition;try{qr.transition=null,Xe=1,fP(e,t,r,n)}finally{qr.transition=s,Xe=n}return null}function fP(e,t,r,n){do oo();while(la!==null);if(ze&6)throw Error(fe(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(fe(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(Y2(e,a),e===Bt&&(Ct=Bt=null,zt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Uu||(Uu=!0,Dj(Kd,function(){return oo(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=qr.transition,qr.transition=null;var i=Xe;Xe=1;var l=ze;ze|=4,Vy.current=null,iP(e,r),yj(r,e),AT(Bp),Xd=!!Wp,Bp=Wp=null,e.current=r,oP(r),L2(),ze=l,Xe=i,qr.transition=a}else e.current=r;if(Uu&&(Uu=!1,la=e,hf=s),a=e.pendingLanes,a===0&&(ya=null),W2(r.stateNode),Nr(e,St()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(ff)throw ff=!1,e=og,og=null,e;return hf&1&&e.tag!==0&&oo(),a=e.pendingLanes,a&1?e===lg?Kl++:(Kl=0,lg=e):Kl=0,Ca(),null}function oo(){if(la!==null){var e=nS(hf),t=qr.transition,r=Xe;try{if(qr.transition=null,Xe=16>e?16:e,la===null)var n=!1;else{if(e=la,la=null,hf=0,ze&6)throw Error(fe(331));var s=ze;for(ze|=4,_e=e.current;_e!==null;){var a=_e,i=a.child;if(_e.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(_e=u;_e!==null;){var d=_e;switch(d.tag){case 0:case 11:case 15:Yl(8,d,a)}var f=d.child;if(f!==null)f.return=d,_e=f;else for(;_e!==null;){d=_e;var h=d.sibling,g=d.return;if(mj(d),d===u){_e=null;break}if(h!==null){h.return=g,_e=h;break}_e=g}}}var m=a.alternate;if(m!==null){var p=m.child;if(p!==null){m.child=null;do{var w=p.sibling;p.sibling=null,p=w}while(p!==null)}}_e=a}}if(a.subtreeFlags&2064&&i!==null)i.return=a,_e=i;else e:for(;_e!==null;){if(a=_e,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Yl(9,a,a.return)}var y=a.sibling;if(y!==null){y.return=a.return,_e=y;break e}_e=a.return}}var v=e.current;for(_e=v;_e!==null;){i=_e;var x=i.child;if(i.subtreeFlags&2064&&x!==null)x.return=i,_e=x;else e:for(i=v;_e!==null;){if(l=_e,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Qf(9,l)}}catch(_){xt(l,l.return,_)}if(l===i){_e=null;break e}var b=l.sibling;if(b!==null){b.return=l.return,_e=b;break e}_e=l.return}}if(ze=s,Ca(),Kn&&typeof Kn.onPostCommitFiberRoot=="function")try{Kn.onPostCommitFiberRoot(Hf,e)}catch{}n=!0}return n}finally{Xe=r,qr.transition=t}}return!1}function Zx(e,t,r){t=Do(r,t),t=nj(e,t,1),e=ga(e,t,1),t=dr(),e!==null&&(Kc(e,1,t),Nr(e,t))}function xt(e,t,r){if(e.tag===3)Zx(e,e,r);else for(;t!==null;){if(t.tag===3){Zx(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ya===null||!ya.has(n))){e=Do(r,e),e=sj(t,e,1),t=ga(t,e,1),e=dr(),t!==null&&(Kc(t,1,e),Nr(t,e));break}}t=t.return}}function hP(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=dr(),e.pingedLanes|=e.suspendedLanes&r,Bt===e&&(zt&r)===r&&(Mt===4||Mt===3&&(zt&130023424)===zt&&500>St()-qy?oi(e,0):Yy|=r),Nr(e,t)}function jj(e,t){t===0&&(e.mode&1?(t=Au,Au<<=1,!(Au&130023424)&&(Au=4194304)):t=1);var r=dr();e=Ds(e,t),e!==null&&(Kc(e,t,r),Nr(e,r))}function mP(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),jj(e,r)}function pP(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(fe(314))}n!==null&&n.delete(t),jj(e,r)}var _j;_j=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||br.current)xr=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return xr=!1,rP(e,t,r);xr=!!(e.flags&131072)}else xr=!1,ft&&t.flags&1048576&&CS(t,nf,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;bd(e,t),e=t.pendingProps;var s=No(t,tr.current);io(t,r),s=Wy(null,t,n,e,s,r);var a=By();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,wr(n)?(a=!0,tf(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,$y(t),s.updater=Xf,t.stateNode=s,s._reactInternals=t,Xp(t,n,e,r),t=Zp(null,t,n,!0,a,r)):(t.tag=0,ft&&a&&Ey(t),or(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(bd(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=yP(n),e=sn(n,e),s){case 0:t=Jp(null,t,n,e,r);break e;case 1:t=Hx(null,t,n,e,r);break e;case 11:t=Bx(null,t,n,e,r);break e;case 14:t=Ux(null,t,n,sn(n.type,e),r);break e}throw Error(fe(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:sn(n,s),Jp(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:sn(n,s),Hx(e,t,n,s,r);case 3:e:{if(lj(t),e===null)throw Error(fe(387));n=t.pendingProps,a=t.memoizedState,s=a.element,$S(e,t),of(t,n,null,r);var i=t.memoizedState;if(n=i.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=Do(Error(fe(423)),t),t=zx(e,t,n,r,s);break e}else if(n!==s){s=Do(Error(fe(424)),t),t=zx(e,t,n,r,s);break e}else for(Pr=pa(t.stateNode.containerInfo.firstChild),Ar=t,ft=!0,dn=null,r=OS(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(So(),n===s){t=ks(e,t,r);break e}or(e,t,n,r)}t=t.child}return t;case 5:return RS(t),e===null&&qp(t),n=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,i=s.children,Up(n,s)?i=null:a!==null&&Up(n,a)&&(t.flags|=32),oj(e,t),or(e,t,i,r),t.child;case 6:return e===null&&qp(t),null;case 13:return cj(e,t,r);case 4:return Ry(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=jo(t,null,n,r):or(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:sn(n,s),Bx(e,t,n,s,r);case 7:return or(e,t,t.pendingProps,r),t.child;case 8:return or(e,t,t.pendingProps.children,r),t.child;case 12:return or(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,a=t.memoizedProps,i=s.value,tt(sf,n._currentValue),n._currentValue=i,a!==null)if(xn(a.value,i)){if(a.children===s.children&&!br.current){t=ks(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){i=a.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=bs(-1,r&-r),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),Kp(a.return,r,t),l.lanes|=r;break}c=c.next}}else if(a.tag===10)i=a.type===t.type?null:a.child;else if(a.tag===18){if(i=a.return,i===null)throw Error(fe(341));i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),Kp(i,r,t),i=a.sibling}else i=a.child;if(i!==null)i.return=a;else for(i=a;i!==null;){if(i===t){i=null;break}if(a=i.sibling,a!==null){a.return=i.return,i=a;break}i=i.return}a=i}or(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,io(t,r),s=Kr(s),n=n(s),t.flags|=1,or(e,t,n,r),t.child;case 14:return n=t.type,s=sn(n,t.pendingProps),s=sn(n.type,s),Ux(e,t,n,s,r);case 15:return aj(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:sn(n,s),bd(e,t),t.tag=1,wr(n)?(e=!0,tf(t)):e=!1,io(t,r),rj(t,n,s),Xp(t,n,s,r),Zp(null,t,n,!0,e,r);case 19:return uj(e,t,r);case 22:return ij(e,t,r)}throw Error(fe(156,t.tag))};function Dj(e,t){return ZN(e,t)}function gP(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yr(e,t,r,n){return new gP(e,t,r,n)}function Qy(e){return e=e.prototype,!(!e||!e.isReactComponent)}function yP(e){if(typeof e=="function")return Qy(e)?1:0;if(e!=null){if(e=e.$$typeof,e===gy)return 11;if(e===yy)return 14}return 2}function xa(e,t){var r=e.alternate;return r===null?(r=Yr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Sd(e,t,r,n,s,a){var i=2;if(n=e,typeof e=="function")Qy(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Hi:return li(r.children,s,a,t);case py:i=8,s|=8;break;case bp:return e=Yr(12,r,t,s|2),e.elementType=bp,e.lanes=a,e;case wp:return e=Yr(13,r,t,s),e.elementType=wp,e.lanes=a,e;case Np:return e=Yr(19,r,t,s),e.elementType=Np,e.lanes=a,e;case RN:return Zf(r,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case MN:i=10;break e;case $N:i=9;break e;case gy:i=11;break e;case yy:i=14;break e;case Gs:i=16,n=null;break e}throw Error(fe(130,e==null?e:typeof e,""))}return t=Yr(i,r,t,s),t.elementType=e,t.type=n,t.lanes=a,t}function li(e,t,r,n){return e=Yr(7,e,n,t),e.lanes=r,e}function Zf(e,t,r,n){return e=Yr(22,e,n,t),e.elementType=RN,e.lanes=r,e.stateNode={isHidden:!1},e}function Wm(e,t,r){return e=Yr(6,e,null,t),e.lanes=r,e}function Bm(e,t,r){return t=Yr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function vP(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wm(0),this.expirationTimes=wm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wm(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Jy(e,t,r,n,s,a,i,l,c){return e=new vP(e,t,r,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Yr(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},$y(a),e}function xP(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ui,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function kj(e){if(!e)return Sa;e=e._reactInternals;e:{if(ki(e)!==e||e.tag!==1)throw Error(fe(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(wr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(fe(171))}if(e.tag===1){var r=e.type;if(wr(r))return kS(e,r,t)}return t}function Ej(e,t,r,n,s,a,i,l,c){return e=Jy(r,n,!0,e,s,a,i,l,c),e.context=kj(null),r=e.current,n=dr(),s=va(r),a=bs(n,s),a.callback=t??null,ga(r,a,s),e.current.lanes=s,Kc(e,s,n),Nr(e,n),e}function eh(e,t,r,n){var s=t.current,a=dr(),i=va(s);return r=kj(r),t.context===null?t.context=r:t.pendingContext=r,t=bs(a,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=ga(s,t,i),e!==null&&(yn(e,s,i,a),yd(e,s,i)),i}function pf(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function eb(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Zy(e,t){eb(e,t),(e=e.alternate)&&eb(e,t)}function bP(){return null}var Cj=typeof reportError=="function"?reportError:function(e){console.error(e)};function ev(e){this._internalRoot=e}th.prototype.render=ev.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(fe(409));eh(e,t,null,null)};th.prototype.unmount=ev.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;yi(function(){eh(null,e,null,null)}),t[_s]=null}};function th(e){this._internalRoot=e}th.prototype.unstable_scheduleHydration=function(e){if(e){var t=iS();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Qs.length&&t!==0&&t<Qs[r].priority;r++);Qs.splice(r,0,e),r===0&&lS(e)}};function tv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function rh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function tb(){}function wP(e,t,r,n,s){if(s){if(typeof n=="function"){var a=n;n=function(){var u=pf(i);a.call(u)}}var i=Ej(t,n,e,0,null,!1,!1,"",tb);return e._reactRootContainer=i,e[_s]=i.current,cc(e.nodeType===8?e.parentNode:e),yi(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=pf(c);l.call(u)}}var c=Jy(e,0,!1,null,null,!1,!1,"",tb);return e._reactRootContainer=c,e[_s]=c.current,cc(e.nodeType===8?e.parentNode:e),yi(function(){eh(t,c,r,n)}),c}function nh(e,t,r,n,s){var a=r._reactRootContainer;if(a){var i=a;if(typeof s=="function"){var l=s;s=function(){var c=pf(i);l.call(c)}}eh(t,i,e,s)}else i=wP(r,t,e,s,n);return pf(i)}sS=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=$l(t.pendingLanes);r!==0&&(by(t,r|1),Nr(t,St()),!(ze&6)&&(ko=St()+500,Ca()))}break;case 13:yi(function(){var n=Ds(e,1);if(n!==null){var s=dr();yn(n,e,1,s)}}),Zy(e,1)}};wy=function(e){if(e.tag===13){var t=Ds(e,134217728);if(t!==null){var r=dr();yn(t,e,134217728,r)}Zy(e,134217728)}};aS=function(e){if(e.tag===13){var t=va(e),r=Ds(e,t);if(r!==null){var n=dr();yn(r,e,t,n)}Zy(e,t)}};iS=function(){return Xe};oS=function(e,t){var r=Xe;try{return Xe=e,t()}finally{Xe=r}};Ap=function(e,t,r){switch(t){case"input":if(_p(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=qf(n);if(!s)throw Error(fe(90));IN(n),_p(n,s)}}}break;case"textarea":WN(e,r);break;case"select":t=r.value,t!=null&&ro(e,!!r.multiple,t,!1)}};qN=Ky;KN=yi;var NP={usingClientEntryPoint:!1,Events:[Xc,qi,qf,VN,YN,Ky]},xl={findFiberByHostInstance:Ga,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},SP={bundleType:xl.bundleType,version:xl.version,rendererPackageName:xl.rendererPackageName,rendererConfig:xl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Os.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=QN(e),e===null?null:e.stateNode},findFiberByHostInstance:xl.findFiberByHostInstance||bP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hu.isDisabled&&Hu.supportsFiber)try{Hf=Hu.inject(SP),Kn=Hu}catch{}}$r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=NP;$r.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!tv(t))throw Error(fe(200));return xP(e,t,null,r)};$r.createRoot=function(e,t){if(!tv(e))throw Error(fe(299));var r=!1,n="",s=Cj;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Jy(e,1,!1,null,null,r,!1,n,s),e[_s]=t.current,cc(e.nodeType===8?e.parentNode:e),new ev(t)};$r.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(fe(188)):(e=Object.keys(e).join(","),Error(fe(268,e)));return e=QN(t),e=e===null?null:e.stateNode,e};$r.flushSync=function(e){return yi(e)};$r.hydrate=function(e,t,r){if(!rh(t))throw Error(fe(200));return nh(null,e,t,!0,r)};$r.hydrateRoot=function(e,t,r){if(!tv(e))throw Error(fe(405));var n=r!=null&&r.hydratedSources||null,s=!1,a="",i=Cj;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=Ej(t,null,e,1,r??null,s,!1,a,i),e[_s]=t.current,cc(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new th(t)};$r.render=function(e,t,r){if(!rh(t))throw Error(fe(200));return nh(null,e,t,!1,r)};$r.unmountComponentAtNode=function(e){if(!rh(e))throw Error(fe(40));return e._reactRootContainer?(yi(function(){nh(null,null,e,!1,function(){e._reactRootContainer=null,e[_s]=null})}),!0):!1};$r.unstable_batchedUpdates=Ky;$r.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!rh(r))throw Error(fe(200));if(e==null||e._reactInternals===void 0)throw Error(fe(38));return nh(e,t,r,!1,n)};$r.version="18.3.1-next-f1338f8080-20240426";function Tj(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Tj)}catch(e){console.error(e)}}Tj(),TN.exports=$r;var Pj=TN.exports;const Aj=fr(Pj);var Oj,rb=Pj;Oj=rb.createRoot,rb.hydrateRoot;/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var nb="popstate";function jP(e={}){function t(n,s){let{pathname:a,search:i,hash:l}=n.location;return dg("",{pathname:a,search:i,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:vc(s)}return DP(t,r,null,e)}function ht(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function bn(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function _P(){return Math.random().toString(36).substring(2,10)}function sb(e,t){return{usr:e.state,key:e.key,idx:t}}function dg(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Bo(t):t,state:r,key:t&&t.key||n||_P()}}function vc({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Bo(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function DP(e,t,r,n={}){let{window:s=document.defaultView,v5Compat:a=!1}=n,i=s.history,l="POP",c=null,u=d();u==null&&(u=0,i.replaceState({...i.state,idx:u},""));function d(){return(i.state||{idx:null}).idx}function f(){l="POP";let w=d(),y=w==null?null:w-u;u=w,c&&c({action:l,location:p.location,delta:y})}function h(w,y){l="PUSH";let v=dg(p.location,w,y);u=d()+1;let x=sb(v,u),b=p.createHref(v);try{i.pushState(x,"",b)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;s.location.assign(b)}a&&c&&c({action:l,location:p.location,delta:1})}function g(w,y){l="REPLACE";let v=dg(p.location,w,y);u=d();let x=sb(v,u),b=p.createHref(v);i.replaceState(x,"",b),a&&c&&c({action:l,location:p.location,delta:0})}function m(w){return kP(w)}let p={get action(){return l},get location(){return e(s,i)},listen(w){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(nb,f),c=w,()=>{s.removeEventListener(nb,f),c=null}},createHref(w){return t(s,w)},createURL:m,encodeLocation(w){let y=m(w);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:g,go(w){return i.go(w)}};return p}function kP(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),ht(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:vc(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function Mj(e,t,r="/"){return EP(e,t,r,!1)}function EP(e,t,r,n){let s=typeof t=="string"?Bo(t):t,a=Es(s.pathname||"/",r);if(a==null)return null;let i=$j(e);CP(i);let l=null;for(let c=0;l==null&&c<i.length;++c){let u=WP(a);l=IP(i[c],u,n)}return l}function $j(e,t=[],r=[],n="",s=!1){let a=(i,l,c=s,u)=>{let d={relativePath:u===void 0?i.path||"":u,caseSensitive:i.caseSensitive===!0,childrenIndex:l,route:i};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(n)&&c)return;ht(d.relativePath.startsWith(n),`Absolute route path "${d.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(n.length)}let f=ws([n,d.relativePath]),h=r.concat(d);i.children&&i.children.length>0&&(ht(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),$j(i.children,t,h,f,c)),!(i.path==null&&!i.index)&&t.push({path:f,score:RP(f,i.index),routesMeta:h})};return e.forEach((i,l)=>{var c;if(i.path===""||!((c=i.path)!=null&&c.includes("?")))a(i,l);else for(let u of Rj(i.path))a(i,l,!0,u)}),t}function Rj(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return s?[a,""]:[a];let i=Rj(n.join("/")),l=[];return l.push(...i.map(c=>c===""?a:[a,c].join("/"))),s&&l.push(...i),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function CP(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:LP(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var TP=/^:[\w-]+$/,PP=3,AP=2,OP=1,MP=10,$P=-2,ab=e=>e==="*";function RP(e,t){let r=e.split("/"),n=r.length;return r.some(ab)&&(n+=$P),t&&(n+=AP),r.filter(s=>!ab(s)).reduce((s,a)=>s+(TP.test(a)?PP:a===""?OP:MP),n)}function LP(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function IP(e,t,r=!1){let{routesMeta:n}=e,s={},a="/",i=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=a==="/"?t:t.slice(a.length)||"/",f=gf({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f&&u&&r&&!n[n.length-1].route.index&&(f=gf({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(s,f.params),i.push({params:s,pathname:ws([a,f.pathname]),pathnameBase:zP(ws([a,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(a=ws([a,f.pathnameBase]))}return i}function gf(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=FP(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let a=s[0],i=a.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,{paramName:d,isOptional:f},h)=>{if(d==="*"){let m=l[h]||"";i=a.slice(0,a.length-m.length).replace(/(.)\/+$/,"$1")}const g=l[h];return f&&!g?u[d]=void 0:u[d]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:i,pattern:e}}function FP(e,t=!1,r=!0){bn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function WP(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return bn(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Es(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function BP(e,t="/"){let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?Bo(e):e;return{pathname:r?r.startsWith("/")?r:UP(r,t):t,search:VP(n),hash:YP(s)}}function UP(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Um(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function HP(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function rv(e){let t=HP(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function nv(e,t,r,n=!1){let s;typeof e=="string"?s=Bo(e):(s={...e},ht(!s.pathname||!s.pathname.includes("?"),Um("?","pathname","search",s)),ht(!s.pathname||!s.pathname.includes("#"),Um("#","pathname","hash",s)),ht(!s.search||!s.search.includes("#"),Um("#","search","hash",s)));let a=e===""||s.pathname==="",i=a?"/":s.pathname,l;if(i==null)l=r;else{let f=t.length-1;if(!n&&i.startsWith("..")){let h=i.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=BP(s,l),u=i&&i!=="/"&&i.endsWith("/"),d=(a||i===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}var ws=e=>e.join("/").replace(/\/\/+/g,"/"),zP=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),VP=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,YP=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function qP(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var Lj=["POST","PUT","PATCH","DELETE"];new Set(Lj);var KP=["GET",...Lj];new Set(KP);var Uo=N.createContext(null);Uo.displayName="DataRouter";var sh=N.createContext(null);sh.displayName="DataRouterState";N.createContext(!1);var Ij=N.createContext({isTransitioning:!1});Ij.displayName="ViewTransition";var GP=N.createContext(new Map);GP.displayName="Fetchers";var XP=N.createContext(null);XP.displayName="Await";var _n=N.createContext(null);_n.displayName="Navigation";var Jc=N.createContext(null);Jc.displayName="Location";var Dn=N.createContext({outlet:null,matches:[],isDataRoute:!1});Dn.displayName="Route";var sv=N.createContext(null);sv.displayName="RouteError";function QP(e,{relative:t}={}){ht(Ho(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=N.useContext(_n),{hash:s,pathname:a,search:i}=Zc(e,{relative:t}),l=a;return r!=="/"&&(l=a==="/"?r:ws([r,a])),n.createHref({pathname:l,search:i,hash:s})}function Ho(){return N.useContext(Jc)!=null}function Ms(){return ht(Ho(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(Jc).location}var Fj="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Wj(e){N.useContext(_n).static||N.useLayoutEffect(e)}function ah(){let{isDataRoute:e}=N.useContext(Dn);return e?fA():JP()}function JP(){ht(Ho(),"useNavigate() may be used only in the context of a <Router> component.");let e=N.useContext(Uo),{basename:t,navigator:r}=N.useContext(_n),{matches:n}=N.useContext(Dn),{pathname:s}=Ms(),a=JSON.stringify(rv(n)),i=N.useRef(!1);return Wj(()=>{i.current=!0}),N.useCallback((c,u={})=>{if(bn(i.current,Fj),!i.current)return;if(typeof c=="number"){r.go(c);return}let d=nv(c,JSON.parse(a),s,u.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:ws([t,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[t,r,a,s,e])}var ZP=N.createContext(null);function eA(e){let t=N.useContext(Dn).outlet;return N.useMemo(()=>t&&N.createElement(ZP.Provider,{value:e},t),[t,e])}function Zc(e,{relative:t}={}){let{matches:r}=N.useContext(Dn),{pathname:n}=Ms(),s=JSON.stringify(rv(r));return N.useMemo(()=>nv(e,JSON.parse(s),n,t==="path"),[e,s,n,t])}function tA(e,t){return Bj(e,t)}function Bj(e,t,r,n,s){var v;ht(Ho(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=N.useContext(_n),{matches:i}=N.useContext(Dn),l=i[i.length-1],c=l?l.params:{},u=l?l.pathname:"/",d=l?l.pathnameBase:"/",f=l&&l.route;{let x=f&&f.path||"";Uj(u,!f||x.endsWith("*")||x.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${x}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${x}"> to <Route path="${x==="/"?"*":`${x}/*`}">.`)}let h=Ms(),g;if(t){let x=typeof t=="string"?Bo(t):t;ht(d==="/"||((v=x.pathname)==null?void 0:v.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${x.pathname}" was given in the \`location\` prop.`),g=x}else g=h;let m=g.pathname||"/",p=m;if(d!=="/"){let x=d.replace(/^\//,"").split("/");p="/"+m.replace(/^\//,"").split("/").slice(x.length).join("/")}let w=Mj(e,{pathname:p});bn(f||w!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),bn(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let y=iA(w&&w.map(x=>Object.assign({},x,{params:Object.assign({},c,x.params),pathname:ws([d,a.encodeLocation?a.encodeLocation(x.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?d:ws([d,a.encodeLocation?a.encodeLocation(x.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:x.pathnameBase])})),i,r,n,s);return t&&y?N.createElement(Jc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},y):y}function rA(){let e=dA(),t=qP(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:n},a={padding:"2px 4px",backgroundColor:n},i=null;return console.error("Error handled by React Router default ErrorBoundary:",e),i=N.createElement(N.Fragment,null,N.createElement("p",null,"💿 Hey developer 👋"),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:a},"ErrorBoundary")," or"," ",N.createElement("code",{style:a},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},t),r?N.createElement("pre",{style:s},r):null,i)}var nA=N.createElement(rA,null),sA=class extends N.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?N.createElement(Dn.Provider,{value:this.props.routeContext},N.createElement(sv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function aA({routeContext:e,match:t,children:r}){let n=N.useContext(Uo);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),N.createElement(Dn.Provider,{value:e},r)}function iA(e,t=[],r=null,n=null,s=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let a=e,i=r==null?void 0:r.errors;if(i!=null){let u=a.findIndex(d=>d.route.id&&(i==null?void 0:i[d.route.id])!==void 0);ht(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),a=a.slice(0,Math.min(a.length,u+1))}let l=!1,c=-1;if(r)for(let u=0;u<a.length;u++){let d=a[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:f,errors:h}=r,g=d.route.loader&&!f.hasOwnProperty(d.route.id)&&(!h||h[d.route.id]===void 0);if(d.route.lazy||g){l=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((u,d,f)=>{let h,g=!1,m=null,p=null;r&&(h=i&&d.route.id?i[d.route.id]:void 0,m=d.route.errorElement||nA,l&&(c<0&&f===0?(Uj("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,p=null):c===f&&(g=!0,p=d.route.hydrateFallbackElement||null)));let w=t.concat(a.slice(0,f+1)),y=()=>{let v;return h?v=m:g?v=p:d.route.Component?v=N.createElement(d.route.Component,null):d.route.element?v=d.route.element:v=u,N.createElement(aA,{match:d,routeContext:{outlet:u,matches:w,isDataRoute:r!=null},children:v})};return r&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?N.createElement(sA,{location:r.location,revalidation:r.revalidation,component:m,error:h,children:y(),routeContext:{outlet:null,matches:w,isDataRoute:!0},unstable_onError:n}):y()},null)}function av(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function oA(e){let t=N.useContext(Uo);return ht(t,av(e)),t}function lA(e){let t=N.useContext(sh);return ht(t,av(e)),t}function cA(e){let t=N.useContext(Dn);return ht(t,av(e)),t}function iv(e){let t=cA(e),r=t.matches[t.matches.length-1];return ht(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function uA(){return iv("useRouteId")}function dA(){var n;let e=N.useContext(sv),t=lA("useRouteError"),r=iv("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function fA(){let{router:e}=oA("useNavigate"),t=iv("useNavigate"),r=N.useRef(!1);return Wj(()=>{r.current=!0}),N.useCallback(async(s,a={})=>{bn(r.current,Fj),r.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...a}))},[e,t])}var ib={};function Uj(e,t,r){!t&&!ib[e]&&(ib[e]=!0,bn(!1,r))}N.memo(hA);function hA({routes:e,future:t,state:r,unstable_onError:n}){return Bj(e,void 0,r,n,t)}function mA({to:e,replace:t,state:r,relative:n}){ht(Ho(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=N.useContext(_n);bn(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=N.useContext(Dn),{pathname:i}=Ms(),l=ah(),c=nv(e,rv(a),i,n==="path"),u=JSON.stringify(c);return N.useEffect(()=>{l(JSON.parse(u),{replace:t,state:r,relative:n})},[l,u,n,t,r]),null}function pA(e){return eA(e.context)}function ar(e){ht(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function gA({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:s,static:a=!1}){ht(!Ho(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let i=e.replace(/^\/*/,"/"),l=N.useMemo(()=>({basename:i,navigator:s,static:a,future:{}}),[i,s,a]);typeof r=="string"&&(r=Bo(r));let{pathname:c="/",search:u="",hash:d="",state:f=null,key:h="default"}=r,g=N.useMemo(()=>{let m=Es(c,i);return m==null?null:{location:{pathname:m,search:u,hash:d,state:f,key:h},navigationType:n}},[i,c,u,d,f,h,n]);return bn(g!=null,`<Router basename="${i}"> is not able to match the URL "${c}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),g==null?null:N.createElement(_n.Provider,{value:l},N.createElement(Jc.Provider,{children:t,value:g}))}function yA({children:e,location:t}){return tA(fg(e),t)}function fg(e,t=[]){let r=[];return N.Children.forEach(e,(n,s)=>{if(!N.isValidElement(n))return;let a=[...t,s];if(n.type===N.Fragment){r.push.apply(r,fg(n.props.children,a));return}ht(n.type===ar,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ht(!n.props.index||!n.props.children,"An index route cannot have child routes.");let i={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=fg(n.props.children,a)),r.push(i)}),r}var jd="get",_d="application/x-www-form-urlencoded";function ih(e){return e!=null&&typeof e.tagName=="string"}function vA(e){return ih(e)&&e.tagName.toLowerCase()==="button"}function xA(e){return ih(e)&&e.tagName.toLowerCase()==="form"}function bA(e){return ih(e)&&e.tagName.toLowerCase()==="input"}function wA(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function NA(e,t){return e.button===0&&(!t||t==="_self")&&!wA(e)}var zu=null;function SA(){if(zu===null)try{new FormData(document.createElement("form"),0),zu=!1}catch{zu=!0}return zu}var jA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Hm(e){return e!=null&&!jA.has(e)?(bn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${_d}"`),null):e}function _A(e,t){let r,n,s,a,i;if(xA(e)){let l=e.getAttribute("action");n=l?Es(l,t):null,r=e.getAttribute("method")||jd,s=Hm(e.getAttribute("enctype"))||_d,a=new FormData(e)}else if(vA(e)||bA(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||l.getAttribute("action");if(n=c?Es(c,t):null,r=e.getAttribute("formmethod")||l.getAttribute("method")||jd,s=Hm(e.getAttribute("formenctype"))||Hm(l.getAttribute("enctype"))||_d,a=new FormData(l,e),!SA()){let{name:u,type:d,value:f}=e;if(d==="image"){let h=u?`${u}.`:"";a.append(`${h}x`,"0"),a.append(`${h}y`,"0")}else u&&a.append(u,f)}}else{if(ih(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=jd,n=null,s=_d,i=e}return a&&s==="text/plain"&&(i=a,a=void 0),{action:n,method:r.toLowerCase(),encType:s,formData:a,body:i}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ov(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function DA(e,t,r){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname=`_root.${r}`:t&&Es(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function kA(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function EA(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function CA(e,t,r){let n=await Promise.all(e.map(async s=>{let a=t.routes[s.route.id];if(a){let i=await kA(a,r);return i.links?i.links():[]}return[]}));return OA(n.flat(1).filter(EA).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function ob(e,t,r,n,s,a){let i=(c,u)=>r[u]?c.route.id!==r[u].route.id:!0,l=(c,u)=>{var d;return r[u].pathname!==c.pathname||((d=r[u].route.path)==null?void 0:d.endsWith("*"))&&r[u].params["*"]!==c.params["*"]};return a==="assets"?t.filter((c,u)=>i(c,u)||l(c,u)):a==="data"?t.filter((c,u)=>{var f;let d=n.routes[c.route.id];if(!d||!d.hasLoader)return!1;if(i(c,u)||l(c,u))return!0;if(c.route.shouldRevalidate){let h=c.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((f=r[0])==null?void 0:f.params)||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function TA(e,t,{includeHydrateFallback:r}={}){return PA(e.map(n=>{let s=t.routes[n.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),r&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function PA(e){return[...new Set(e)]}function AA(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function OA(e,t){let r=new Set;return new Set(t),e.reduce((n,s)=>{let a=JSON.stringify(AA(s));return r.has(a)||(r.add(a),n.push({key:a,link:s})),n},[])}function Hj(){let e=N.useContext(Uo);return ov(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function MA(){let e=N.useContext(sh);return ov(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var lv=N.createContext(void 0);lv.displayName="FrameworkContext";function zj(){let e=N.useContext(lv);return ov(e,"You must render this element inside a <HydratedRouter> element"),e}function $A(e,t){let r=N.useContext(lv),[n,s]=N.useState(!1),[a,i]=N.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:f}=t,h=N.useRef(null);N.useEffect(()=>{if(e==="render"&&i(!0),e==="viewport"){let p=y=>{y.forEach(v=>{i(v.isIntersecting)})},w=new IntersectionObserver(p,{threshold:.5});return h.current&&w.observe(h.current),()=>{w.disconnect()}}},[e]),N.useEffect(()=>{if(n){let p=setTimeout(()=>{i(!0)},100);return()=>{clearTimeout(p)}}},[n]);let g=()=>{s(!0)},m=()=>{s(!1),i(!1)};return r?e!=="intent"?[a,h,{}]:[a,h,{onFocus:bl(l,g),onBlur:bl(c,m),onMouseEnter:bl(u,g),onMouseLeave:bl(d,m),onTouchStart:bl(f,g)}]:[!1,h,{}]}function bl(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function RA({page:e,...t}){let{router:r}=Hj(),n=N.useMemo(()=>Mj(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?N.createElement(IA,{page:e,matches:n,...t}):null}function LA(e){let{manifest:t,routeModules:r}=zj(),[n,s]=N.useState([]);return N.useEffect(()=>{let a=!1;return CA(e,t,r).then(i=>{a||s(i)}),()=>{a=!0}},[e,t,r]),n}function IA({page:e,matches:t,...r}){let n=Ms(),{manifest:s,routeModules:a}=zj(),{basename:i}=Hj(),{loaderData:l,matches:c}=MA(),u=N.useMemo(()=>ob(e,t,c,s,n,"data"),[e,t,c,s,n]),d=N.useMemo(()=>ob(e,t,c,s,n,"assets"),[e,t,c,s,n]),f=N.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let m=new Set,p=!1;if(t.forEach(y=>{var x;let v=s.routes[y.route.id];!v||!v.hasLoader||(!u.some(b=>b.route.id===y.route.id)&&y.route.id in l&&((x=a[y.route.id])!=null&&x.shouldRevalidate)||v.hasClientLoader?p=!0:m.add(y.route.id))}),m.size===0)return[];let w=DA(e,i,"data");return p&&m.size>0&&w.searchParams.set("_routes",t.filter(y=>m.has(y.route.id)).map(y=>y.route.id).join(",")),[w.pathname+w.search]},[i,l,n,s,u,t,e,a]),h=N.useMemo(()=>TA(d,s),[d,s]),g=LA(d);return N.createElement(N.Fragment,null,f.map(m=>N.createElement("link",{key:m,rel:"prefetch",as:"fetch",href:m,...r})),h.map(m=>N.createElement("link",{key:m,rel:"modulepreload",href:m,...r})),g.map(({key:m,link:p})=>N.createElement("link",{key:m,nonce:r.nonce,...p})))}function FA(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var Vj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Vj&&(window.__reactRouterVersion="7.9.4")}catch{}function WA({basename:e,children:t,window:r}){let n=N.useRef();n.current==null&&(n.current=jP({window:r,v5Compat:!0}));let s=n.current,[a,i]=N.useState({action:s.action,location:s.location}),l=N.useCallback(c=>{N.startTransition(()=>i(c))},[i]);return N.useLayoutEffect(()=>s.listen(l),[s,l]),N.createElement(gA,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:s})}var Yj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qj=N.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:s,reloadDocument:a,replace:i,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f,...h},g){let{basename:m}=N.useContext(_n),p=typeof u=="string"&&Yj.test(u),w,y=!1;if(typeof u=="string"&&p&&(w=u,Vj))try{let M=new URL(window.location.href),$=u.startsWith("//")?new URL(M.protocol+u):new URL(u),Y=Es($.pathname,m);$.origin===M.origin&&Y!=null?u=Y+$.search+$.hash:y=!0}catch{bn(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let v=QP(u,{relative:s}),[x,b,_]=$A(n,h),S=HA(u,{replace:i,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:f});function E(M){t&&t(M),M.defaultPrevented||S(M)}let C=N.createElement("a",{...h,..._,href:w||v,onClick:y||a?t:E,ref:FA(g,b),target:c,"data-discover":!p&&r==="render"?"true":void 0});return x&&!p?N.createElement(N.Fragment,null,C,N.createElement(RA,{page:v})):C});qj.displayName="Link";var hg=N.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:s=!1,style:a,to:i,viewTransition:l,children:c,...u},d){let f=Zc(i,{relative:u.relative}),h=Ms(),g=N.useContext(sh),{navigator:m,basename:p}=N.useContext(_n),w=g!=null&&KA(f)&&l===!0,y=m.encodeLocation?m.encodeLocation(f).pathname:f.pathname,v=h.pathname,x=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;r||(v=v.toLowerCase(),x=x?x.toLowerCase():null,y=y.toLowerCase()),x&&p&&(x=Es(x,p)||x);const b=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let _=v===y||!s&&v.startsWith(y)&&v.charAt(b)==="/",S=x!=null&&(x===y||!s&&x.startsWith(y)&&x.charAt(y.length)==="/"),E={isActive:_,isPending:S,isTransitioning:w},C=_?t:void 0,M;typeof n=="function"?M=n(E):M=[n,_?"active":null,S?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let $=typeof a=="function"?a(E):a;return N.createElement(qj,{...u,"aria-current":C,className:M,ref:d,style:$,to:i,viewTransition:l},typeof c=="function"?c(E):c)});hg.displayName="NavLink";var BA=N.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:s,state:a,method:i=jd,action:l,onSubmit:c,relative:u,preventScrollReset:d,viewTransition:f,...h},g)=>{let m=YA(),p=qA(l,{relative:u}),w=i.toLowerCase()==="get"?"get":"post",y=typeof l=="string"&&Yj.test(l),v=x=>{if(c&&c(x),x.defaultPrevented)return;x.preventDefault();let b=x.nativeEvent.submitter,_=(b==null?void 0:b.getAttribute("formmethod"))||i;m(b||x.currentTarget,{fetcherKey:t,method:_,navigate:r,replace:s,state:a,relative:u,preventScrollReset:d,viewTransition:f})};return N.createElement("form",{ref:g,method:w,action:p,onSubmit:n?c:v,...h,"data-discover":!y&&e==="render"?"true":void 0})});BA.displayName="Form";function UA(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Kj(e){let t=N.useContext(Uo);return ht(t,UA(e)),t}function HA(e,{target:t,replace:r,state:n,preventScrollReset:s,relative:a,viewTransition:i}={}){let l=ah(),c=Ms(),u=Zc(e,{relative:a});return N.useCallback(d=>{if(NA(d,t)){d.preventDefault();let f=r!==void 0?r:vc(c)===vc(u);l(e,{replace:f,state:n,preventScrollReset:s,relative:a,viewTransition:i})}},[c,l,u,r,n,t,e,s,a,i])}var zA=0,VA=()=>`__${String(++zA)}__`;function YA(){let{router:e}=Kj("useSubmit"),{basename:t}=N.useContext(_n),r=uA();return N.useCallback(async(n,s={})=>{let{action:a,method:i,encType:l,formData:c,body:u}=_A(n,t);if(s.navigate===!1){let d=s.fetcherKey||VA();await e.fetch(d,r,s.action||a,{preventScrollReset:s.preventScrollReset,formData:c,body:u,formMethod:s.method||i,formEncType:s.encType||l,flushSync:s.flushSync})}else await e.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:c,body:u,formMethod:s.method||i,formEncType:s.encType||l,replace:s.replace,state:s.state,fromRouteId:r,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,r])}function qA(e,{relative:t}={}){let{basename:r}=N.useContext(_n),n=N.useContext(Dn);ht(n,"useFormAction must be used inside a RouteContext");let[s]=n.matches.slice(-1),a={...Zc(e||".",{relative:t})},i=Ms();if(e==null){a.search=i.search;let l=new URLSearchParams(a.search),c=l.getAll("index");if(c.some(d=>d==="")){l.delete("index"),c.filter(f=>f).forEach(f=>l.append("index",f));let d=l.toString();a.search=d?`?${d}`:""}}return(!e||e===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(a.pathname=a.pathname==="/"?r:ws([r,a.pathname])),vc(a)}function KA(e,{relative:t}={}){let r=N.useContext(Ij);ht(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=Kj("useViewTransitionState"),s=Zc(e,{relative:t});if(!r.isTransitioning)return!1;let a=Es(r.currentLocation.pathname,n)||r.currentLocation.pathname,i=Es(r.nextLocation.pathname,n)||r.nextLocation.pathname;return gf(s.pathname,i)!=null||gf(s.pathname,a)!=null}var oh=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},GA={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},ta,oy,uN,XA=(uN=class{constructor(){We(this,ta,GA);We(this,oy,!1)}setTimeoutProvider(e){Oe(this,ta,e)}setTimeout(e,t){return re(this,ta).setTimeout(e,t)}clearTimeout(e){re(this,ta).clearTimeout(e)}setInterval(e,t){return re(this,ta).setInterval(e,t)}clearInterval(e){re(this,ta).clearInterval(e)}},ta=new WeakMap,oy=new WeakMap,uN),mg=new XA;function QA(e){setTimeout(e,0)}var lh=typeof window>"u"||"Deno"in globalThis;function an(){}function JA(e,t){return typeof e=="function"?e(t):e}function ZA(e){return typeof e=="number"&&e>=0&&e!==1/0}function eO(e,t){return Math.max(e+(t||0)-Date.now(),0)}function pg(e,t){return typeof e=="function"?e(t):e}function tO(e,t){return typeof e=="function"?e(t):e}function lb(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:a,queryKey:i,stale:l}=e;if(i){if(n){if(t.queryHash!==cv(i,t.options))return!1}else if(!bc(t.queryKey,i))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||a&&!a(t))}function cb(e,t){const{exact:r,status:n,predicate:s,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(r){if(xc(t.options.mutationKey)!==xc(a))return!1}else if(!bc(t.options.mutationKey,a))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function cv(e,t){return((t==null?void 0:t.queryKeyHashFn)||xc)(e)}function xc(e){return JSON.stringify(e,(t,r)=>gg(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function bc(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>bc(e[r],t[r])):!1}var rO=Object.prototype.hasOwnProperty;function Gj(e,t){if(e===t)return e;const r=ub(e)&&ub(t);if(!r&&!(gg(e)&&gg(t)))return t;const s=(r?e:Object.keys(e)).length,a=r?t:Object.keys(t),i=a.length,l=r?new Array(i):{};let c=0;for(let u=0;u<i;u++){const d=r?u:a[u],f=e[d],h=t[d];if(f===h){l[d]=f,(r?u<s:rO.call(e,d))&&c++;continue}if(f===null||h===null||typeof f!="object"||typeof h!="object"){l[d]=h;continue}const g=Gj(f,h);l[d]=g,g===f&&c++}return s===i&&c===s?e:l}function ub(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function gg(e){if(!db(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!db(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function db(e){return Object.prototype.toString.call(e)==="[object Object]"}function nO(e){return new Promise(t=>{mg.setTimeout(t,e)})}function sO(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?Gj(e,t):t}function aO(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function iO(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var uv=Symbol();function Xj(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===uv?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var ti,ra,ho,dN,oO=(dN=class extends oh{constructor(){super();We(this,ti);We(this,ra);We(this,ho);Oe(this,ho,t=>{if(!lh&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){re(this,ra)||this.setEventListener(re(this,ho))}onUnsubscribe(){var t;this.hasListeners()||((t=re(this,ra))==null||t.call(this),Oe(this,ra,void 0))}setEventListener(t){var r;Oe(this,ho,t),(r=re(this,ra))==null||r.call(this),Oe(this,ra,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){re(this,ti)!==t&&(Oe(this,ti,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof re(this,ti)=="boolean"?re(this,ti):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},ti=new WeakMap,ra=new WeakMap,ho=new WeakMap,dN),Qj=new oO;function lO(){let e,t;const r=new Promise((s,a)=>{e=s,t=a});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}var cO=QA;function uO(){let e=[],t=0,r=l=>{l()},n=l=>{l()},s=cO;const a=l=>{t?e.push(l):s(()=>{r(l)})},i=()=>{const l=e;e=[],l.length&&s(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||i()}return c},batchCalls:l=>(...c)=>{a(()=>{l(...c)})},schedule:a,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{s=l}}}var cr=uO(),mo,na,po,fN,dO=(fN=class extends oh{constructor(){super();We(this,mo,!0);We(this,na);We(this,po);Oe(this,po,t=>{if(!lh&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){re(this,na)||this.setEventListener(re(this,po))}onUnsubscribe(){var t;this.hasListeners()||((t=re(this,na))==null||t.call(this),Oe(this,na,void 0))}setEventListener(t){var r;Oe(this,po,t),(r=re(this,na))==null||r.call(this),Oe(this,na,t(this.setOnline.bind(this)))}setOnline(t){re(this,mo)!==t&&(Oe(this,mo,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return re(this,mo)}},mo=new WeakMap,na=new WeakMap,po=new WeakMap,fN),yf=new dO;function fO(e){return Math.min(1e3*2**e,3e4)}function Jj(e){return(e??"online")==="online"?yf.isOnline():!0}var yg=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Zj(e){let t=!1,r=0,n;const s=lO(),a=()=>s.status!=="pending",i=p=>{var w;if(!a()){const y=new yg(p);h(y),(w=e.onCancel)==null||w.call(e,y)}},l=()=>{t=!0},c=()=>{t=!1},u=()=>Qj.isFocused()&&(e.networkMode==="always"||yf.isOnline())&&e.canRun(),d=()=>Jj(e.networkMode)&&e.canRun(),f=p=>{a()||(n==null||n(),s.resolve(p))},h=p=>{a()||(n==null||n(),s.reject(p))},g=()=>new Promise(p=>{var w;n=y=>{(a()||u())&&p(y)},(w=e.onPause)==null||w.call(e)}).then(()=>{var p;n=void 0,a()||(p=e.onContinue)==null||p.call(e)}),m=()=>{if(a())return;let p;const w=r===0?e.initialPromise:void 0;try{p=w??e.fn()}catch(y){p=Promise.reject(y)}Promise.resolve(p).then(f).catch(y=>{var S;if(a())return;const v=e.retry??(lh?0:3),x=e.retryDelay??fO,b=typeof x=="function"?x(r,y):x,_=v===!0||typeof v=="number"&&r<v||typeof v=="function"&&v(r,y);if(t||!_){h(y);return}r++,(S=e.onFail)==null||S.call(e,r,y),nO(b).then(()=>u()?void 0:g()).then(()=>{t?h(y):m()})})};return{promise:s,status:()=>s.status,cancel:i,continue:()=>(n==null||n(),s),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?m():g().then(m),s)}}var ri,hN,e_=(hN=class{constructor(){We(this,ri)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),ZA(this.gcTime)&&Oe(this,ri,mg.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(lh?1/0:5*60*1e3))}clearGcTimeout(){re(this,ri)&&(mg.clearTimeout(re(this,ri)),Oe(this,ri,void 0))}},ri=new WeakMap,hN),ni,go,Ir,si,Ft,Hc,ai,on,us,mN,hO=(mN=class extends e_{constructor(t){super();We(this,on);We(this,ni);We(this,go);We(this,Ir);We(this,si);We(this,Ft);We(this,Hc);We(this,ai);Oe(this,ai,!1),Oe(this,Hc,t.defaultOptions),this.setOptions(t.options),this.observers=[],Oe(this,si,t.client),Oe(this,Ir,re(this,si).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Oe(this,ni,fb(this.options)),this.state=t.state??re(this,ni),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=re(this,Ft))==null?void 0:t.promise}setOptions(t){if(this.options={...re(this,Hc),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=fb(this.options);r.data!==void 0&&(this.setData(r.data,{updatedAt:r.dataUpdatedAt,manual:!0}),Oe(this,ni,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&re(this,Ir).remove(this)}setData(t,r){const n=sO(this.state.data,t,this.options);return qt(this,on,us).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){qt(this,on,us).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,s;const r=(n=re(this,Ft))==null?void 0:n.promise;return(s=re(this,Ft))==null||s.cancel(t),r?r.then(an).catch(an):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(re(this,ni))}isActive(){return this.observers.some(t=>tO(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===uv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>pg(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!eO(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=re(this,Ft))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=re(this,Ft))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),re(this,Ir).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(re(this,Ft)&&(re(this,ai)?re(this,Ft).cancel({revert:!0}):re(this,Ft).cancelRetry()),this.scheduleGc()),re(this,Ir).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||qt(this,on,us).call(this,{type:"invalidate"})}async fetch(t,r){var c,u,d,f,h,g,m,p,w,y,v,x;if(this.state.fetchStatus!=="idle"&&((c=re(this,Ft))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(re(this,Ft))return re(this,Ft).continueRetry(),re(this,Ft).promise}if(t&&this.setOptions(t),!this.options.queryFn){const b=this.observers.find(_=>_.options.queryFn);b&&this.setOptions(b.options)}const n=new AbortController,s=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(Oe(this,ai,!0),n.signal)})},a=()=>{const b=Xj(this.options,r),S=(()=>{const E={client:re(this,si),queryKey:this.queryKey,meta:this.meta};return s(E),E})();return Oe(this,ai,!1),this.options.persister?this.options.persister(b,S,this):b(S)},l=(()=>{const b={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:re(this,si),state:this.state,fetchFn:a};return s(b),b})();(u=this.options.behavior)==null||u.onFetch(l,this),Oe(this,go,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&qt(this,on,us).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta}),Oe(this,Ft,Zj({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,onCancel:b=>{b instanceof yg&&b.revert&&this.setState({...re(this,go),fetchStatus:"idle"}),n.abort()},onFail:(b,_)=>{qt(this,on,us).call(this,{type:"failed",failureCount:b,error:_})},onPause:()=>{qt(this,on,us).call(this,{type:"pause"})},onContinue:()=>{qt(this,on,us).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const b=await re(this,Ft).start();if(b===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(b),(g=(h=re(this,Ir).config).onSuccess)==null||g.call(h,b,this),(p=(m=re(this,Ir).config).onSettled)==null||p.call(m,b,this.state.error,this),b}catch(b){if(b instanceof yg){if(b.silent)return re(this,Ft).promise;if(b.revert){if(this.state.data===void 0)throw b;return this.state.data}}throw qt(this,on,us).call(this,{type:"error",error:b}),(y=(w=re(this,Ir).config).onError)==null||y.call(w,b,this),(x=(v=re(this,Ir).config).onSettled)==null||x.call(v,this.state.data,b,this),b}finally{this.scheduleGc()}}},ni=new WeakMap,go=new WeakMap,Ir=new WeakMap,si=new WeakMap,Ft=new WeakMap,Hc=new WeakMap,ai=new WeakMap,on=new WeakSet,us=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...mO(n.data,this.options),fetchMeta:t.meta??null};case"success":const s={...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Oe(this,go,t.manual?s:void 0),s;case"error":const a=t.error;return{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),cr.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),re(this,Ir).notify({query:this,type:"updated",action:t})})},mN);function mO(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Jj(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function fb(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}function hb(e){return{onFetch:(t,r)=>{var d,f,h,g,m;const n=t.options,s=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,a=((g=t.state.data)==null?void 0:g.pages)||[],i=((m=t.state.data)==null?void 0:m.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let p=!1;const w=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(t.signal.aborted?p=!0:t.signal.addEventListener("abort",()=>{p=!0}),t.signal)})},y=Xj(t.options,t.fetchOptions),v=async(x,b,_)=>{if(p)return Promise.reject();if(b==null&&x.pages.length)return Promise.resolve(x);const E=(()=>{const Y={client:t.client,queryKey:t.queryKey,pageParam:b,direction:_?"backward":"forward",meta:t.options.meta};return w(Y),Y})(),C=await y(E),{maxPages:M}=t.options,$=_?iO:aO;return{pages:$(x.pages,C,M),pageParams:$(x.pageParams,b,M)}};if(s&&a.length){const x=s==="backward",b=x?pO:mb,_={pages:a,pageParams:i},S=b(n,_);l=await v(_,S,x)}else{const x=e??a.length;do{const b=c===0?i[0]??n.initialPageParam:mb(n,l);if(c>0&&b==null)break;l=await v(l,b),c++}while(c<x)}return l};t.options.persister?t.fetchFn=()=>{var p,w;return(w=(p=t.options).persister)==null?void 0:w.call(p,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function mb(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function pO(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var zc,In,ir,ii,Fn,Ys,pN,gO=(pN=class extends e_{constructor(t){super();We(this,Fn);We(this,zc);We(this,In);We(this,ir);We(this,ii);Oe(this,zc,t.client),this.mutationId=t.mutationId,Oe(this,ir,t.mutationCache),Oe(this,In,[]),this.state=t.state||yO(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){re(this,In).includes(t)||(re(this,In).push(t),this.clearGcTimeout(),re(this,ir).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Oe(this,In,re(this,In).filter(r=>r!==t)),this.scheduleGc(),re(this,ir).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){re(this,In).length||(this.state.status==="pending"?this.scheduleGc():re(this,ir).remove(this))}continue(){var t;return((t=re(this,ii))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,l,c,u,d,f,h,g,m,p,w,y,v,x,b,_,S,E,C,M;const r=()=>{qt(this,Fn,Ys).call(this,{type:"continue"})},n={client:re(this,zc),meta:this.options.meta,mutationKey:this.options.mutationKey};Oe(this,ii,Zj({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:($,Y)=>{qt(this,Fn,Ys).call(this,{type:"failed",failureCount:$,error:Y})},onPause:()=>{qt(this,Fn,Ys).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>re(this,ir).canRun(this)}));const s=this.state.status==="pending",a=!re(this,ii).canStart();try{if(s)r();else{qt(this,Fn,Ys).call(this,{type:"pending",variables:t,isPaused:a}),await((l=(i=re(this,ir).config).onMutate)==null?void 0:l.call(i,t,this,n));const Y=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,t,n));Y!==this.state.context&&qt(this,Fn,Ys).call(this,{type:"pending",context:Y,variables:t,isPaused:a})}const $=await re(this,ii).start();return await((f=(d=re(this,ir).config).onSuccess)==null?void 0:f.call(d,$,t,this.state.context,this,n)),await((g=(h=this.options).onSuccess)==null?void 0:g.call(h,$,t,this.state.context,n)),await((p=(m=re(this,ir).config).onSettled)==null?void 0:p.call(m,$,null,this.state.variables,this.state.context,this,n)),await((y=(w=this.options).onSettled)==null?void 0:y.call(w,$,null,t,this.state.context,n)),qt(this,Fn,Ys).call(this,{type:"success",data:$}),$}catch($){try{throw await((x=(v=re(this,ir).config).onError)==null?void 0:x.call(v,$,t,this.state.context,this,n)),await((_=(b=this.options).onError)==null?void 0:_.call(b,$,t,this.state.context,n)),await((E=(S=re(this,ir).config).onSettled)==null?void 0:E.call(S,void 0,$,this.state.variables,this.state.context,this,n)),await((M=(C=this.options).onSettled)==null?void 0:M.call(C,void 0,$,t,this.state.context,n)),$}finally{qt(this,Fn,Ys).call(this,{type:"error",error:$})}}finally{re(this,ir).runNext(this)}}},zc=new WeakMap,In=new WeakMap,ir=new WeakMap,ii=new WeakMap,Fn=new WeakSet,Ys=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),cr.batch(()=>{re(this,In).forEach(n=>{n.onMutationUpdate(t)}),re(this,ir).notify({mutation:this,type:"updated",action:t})})},pN);function yO(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ms,ln,Vc,gN,vO=(gN=class extends oh{constructor(t={}){super();We(this,ms);We(this,ln);We(this,Vc);this.config=t,Oe(this,ms,new Set),Oe(this,ln,new Map),Oe(this,Vc,0)}build(t,r,n){const s=new gO({client:t,mutationCache:this,mutationId:++Du(this,Vc)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){re(this,ms).add(t);const r=Vu(t);if(typeof r=="string"){const n=re(this,ln).get(r);n?n.push(t):re(this,ln).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(re(this,ms).delete(t)){const r=Vu(t);if(typeof r=="string"){const n=re(this,ln).get(r);if(n)if(n.length>1){const s=n.indexOf(t);s!==-1&&n.splice(s,1)}else n[0]===t&&re(this,ln).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=Vu(t);if(typeof r=="string"){const n=re(this,ln).get(r),s=n==null?void 0:n.find(a=>a.state.status==="pending");return!s||s===t}else return!0}runNext(t){var n;const r=Vu(t);if(typeof r=="string"){const s=(n=re(this,ln).get(r))==null?void 0:n.find(a=>a!==t&&a.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){cr.batch(()=>{re(this,ms).forEach(t=>{this.notify({type:"removed",mutation:t})}),re(this,ms).clear(),re(this,ln).clear()})}getAll(){return Array.from(re(this,ms))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>cb(r,n))}findAll(t={}){return this.getAll().filter(r=>cb(t,r))}notify(t){cr.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return cr.batch(()=>Promise.all(t.map(r=>r.continue().catch(an))))}},ms=new WeakMap,ln=new WeakMap,Vc=new WeakMap,gN);function Vu(e){var t;return(t=e.options.scope)==null?void 0:t.id}var Wn,yN,xO=(yN=class extends oh{constructor(t={}){super();We(this,Wn);this.config=t,Oe(this,Wn,new Map)}build(t,r,n){const s=r.queryKey,a=r.queryHash??cv(s,r);let i=this.get(a);return i||(i=new hO({client:t,queryKey:s,queryHash:a,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(i)),i}add(t){re(this,Wn).has(t.queryHash)||(re(this,Wn).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=re(this,Wn).get(t.queryHash);r&&(t.destroy(),r===t&&re(this,Wn).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){cr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return re(this,Wn).get(t)}getAll(){return[...re(this,Wn).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>lb(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>lb(t,n)):r}notify(t){cr.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){cr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){cr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Wn=new WeakMap,yN),vt,sa,aa,yo,vo,ia,xo,bo,vN,bO=(vN=class{constructor(e={}){We(this,vt);We(this,sa);We(this,aa);We(this,yo);We(this,vo);We(this,ia);We(this,xo);We(this,bo);Oe(this,vt,e.queryCache||new xO),Oe(this,sa,e.mutationCache||new vO),Oe(this,aa,e.defaultOptions||{}),Oe(this,yo,new Map),Oe(this,vo,new Map),Oe(this,ia,0)}mount(){Du(this,ia)._++,re(this,ia)===1&&(Oe(this,xo,Qj.subscribe(async e=>{e&&(await this.resumePausedMutations(),re(this,vt).onFocus())})),Oe(this,bo,yf.subscribe(async e=>{e&&(await this.resumePausedMutations(),re(this,vt).onOnline())})))}unmount(){var e,t;Du(this,ia)._--,re(this,ia)===0&&((e=re(this,xo))==null||e.call(this),Oe(this,xo,void 0),(t=re(this,bo))==null||t.call(this),Oe(this,bo,void 0))}isFetching(e){return re(this,vt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return re(this,sa).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=re(this,vt).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=re(this,vt).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(pg(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return re(this,vt).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=re(this,vt).get(n.queryHash),a=s==null?void 0:s.state.data,i=JA(t,a);if(i!==void 0)return re(this,vt).build(this,n).setData(i,{...r,manual:!0})}setQueriesData(e,t,r){return cr.batch(()=>re(this,vt).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=re(this,vt).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=re(this,vt);cr.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=re(this,vt);return cr.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=cr.batch(()=>re(this,vt).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(an).catch(an)}invalidateQueries(e,t={}){return cr.batch(()=>(re(this,vt).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=cr.batch(()=>re(this,vt).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let a=s.fetch(void 0,r);return r.throwOnError||(a=a.catch(an)),s.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(n).then(an)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=re(this,vt).build(this,t);return r.isStaleByTime(pg(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(an).catch(an)}fetchInfiniteQuery(e){return e.behavior=hb(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(an).catch(an)}ensureInfiniteQueryData(e){return e.behavior=hb(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return yf.isOnline()?re(this,sa).resumePausedMutations():Promise.resolve()}getQueryCache(){return re(this,vt)}getMutationCache(){return re(this,sa)}getDefaultOptions(){return re(this,aa)}setDefaultOptions(e){Oe(this,aa,e)}setQueryDefaults(e,t){re(this,yo).set(xc(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...re(this,yo).values()],r={};return t.forEach(n=>{bc(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){re(this,vo).set(xc(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...re(this,vo).values()],r={};return t.forEach(n=>{bc(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...re(this,aa).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=cv(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===uv&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...re(this,aa).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){re(this,vt).clear(),re(this,sa).clear()}},vt=new WeakMap,sa=new WeakMap,aa=new WeakMap,yo=new WeakMap,vo=new WeakMap,ia=new WeakMap,xo=new WeakMap,bo=new WeakMap,vN),wO=N.createContext(void 0),NO=({client:e,children:t})=>(N.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),o.jsx(wO.Provider,{value:e,children:t}));let SO={data:""},jO=e=>{if(typeof window=="object"){let t=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(e||document.head).appendChild(t),t.firstChild}return e||SO},_O=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,DO=/\/\*[^]*?\*\/|  +/g,pb=/\n+/g,Zs=(e,t)=>{let r="",n="",s="";for(let a in e){let i=e[a];a[0]=="@"?a[1]=="i"?r=a+" "+i+";":n+=a[1]=="f"?Zs(i,a):a+"{"+Zs(i,a[1]=="k"?"":t)+"}":typeof i=="object"?n+=Zs(i,t?t.replace(/([^,])+/g,l=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):a):i!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=Zs.p?Zs.p(a,i):a+":"+i+";")}return r+(t&&s?t+"{"+s+"}":s)+n},as={},t_=e=>{if(typeof e=="object"){let t="";for(let r in e)t+=r+t_(e[r]);return t}return e},kO=(e,t,r,n,s)=>{let a=t_(e),i=as[a]||(as[a]=(c=>{let u=0,d=11;for(;u<c.length;)d=101*d+c.charCodeAt(u++)>>>0;return"go"+d})(a));if(!as[i]){let c=a!==e?e:(u=>{let d,f,h=[{}];for(;d=_O.exec(u.replace(DO,""));)d[4]?h.shift():d[3]?(f=d[3].replace(pb," ").trim(),h.unshift(h[0][f]=h[0][f]||{})):h[0][d[1]]=d[2].replace(pb," ").trim();return h[0]})(e);as[i]=Zs(s?{["@keyframes "+i]:c}:c,r?"":"."+i)}let l=r&&as.g?as.g:null;return r&&(as.g=as[i]),((c,u,d,f)=>{f?u.data=u.data.replace(f,c):u.data.indexOf(c)===-1&&(u.data=d?c+u.data:u.data+c)})(as[i],t,n,l),i},EO=(e,t,r)=>e.reduce((n,s,a)=>{let i=t[a];if(i&&i.call){let l=i(r),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;i=c?"."+c:l&&typeof l=="object"?l.props?"":Zs(l,""):l===!1?"":l}return n+s+(i??"")},"");function ch(e){let t=this||{},r=e.call?e(t.p):e;return kO(r.unshift?r.raw?EO(r,[].slice.call(arguments,1),t.p):r.reduce((n,s)=>Object.assign(n,s&&s.call?s(t.p):s),{}):r,jO(t.target),t.g,t.o,t.k)}let r_,vg,xg;ch.bind({g:1});let Cs=ch.bind({k:1});function CO(e,t,r,n){Zs.p=t,r_=e,vg=r,xg=n}function Ta(e,t){let r=this||{};return function(){let n=arguments;function s(a,i){let l=Object.assign({},a),c=l.className||s.className;r.p=Object.assign({theme:vg&&vg()},l),r.o=/ *go\d+/.test(c),l.className=ch.apply(r,n)+(c?" "+c:"");let u=e;return e[0]&&(u=l.as||e,delete l.as),xg&&u[0]&&xg(l),r_(u,l)}return s}}var TO=e=>typeof e=="function",vf=(e,t)=>TO(e)?e(t):e,PO=(()=>{let e=0;return()=>(++e).toString()})(),n_=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),AO=20,dv="default",s_=(e,t)=>{let{toastLimit:r}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,r)};case 1:return{...e,toasts:e.toasts.map(i=>i.id===t.toast.id?{...i,...t.toast}:i)};case 2:let{toast:n}=t;return s_(e,{type:e.toasts.find(i=>i.id===n.id)?1:0,toast:n});case 3:let{toastId:s}=t;return{...e,toasts:e.toasts.map(i=>i.id===s||s===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(i=>i.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let a=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+a}))}}},Dd=[],a_={toasts:[],pausedAt:void 0,settings:{toastLimit:AO}},Yn={},i_=(e,t=dv)=>{Yn[t]=s_(Yn[t]||a_,e),Dd.forEach(([r,n])=>{r===t&&n(Yn[t])})},o_=e=>Object.keys(Yn).forEach(t=>i_(e,t)),OO=e=>Object.keys(Yn).find(t=>Yn[t].toasts.some(r=>r.id===e)),uh=(e=dv)=>t=>{i_(t,e)},MO={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},$O=(e={},t=dv)=>{let[r,n]=N.useState(Yn[t]||a_),s=N.useRef(Yn[t]);N.useEffect(()=>(s.current!==Yn[t]&&n(Yn[t]),Dd.push([t,n]),()=>{let i=Dd.findIndex(([l])=>l===t);i>-1&&Dd.splice(i,1)}),[t]);let a=r.toasts.map(i=>{var l,c,u;return{...e,...e[i.type],...i,removeDelay:i.removeDelay||((l=e[i.type])==null?void 0:l.removeDelay)||(e==null?void 0:e.removeDelay),duration:i.duration||((c=e[i.type])==null?void 0:c.duration)||(e==null?void 0:e.duration)||MO[i.type],style:{...e.style,...(u=e[i.type])==null?void 0:u.style,...i.style}}});return{...r,toasts:a}},RO=(e,t="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...r,id:(r==null?void 0:r.id)||PO()}),eu=e=>(t,r)=>{let n=RO(t,e,r);return uh(n.toasterId||OO(n.id))({type:2,toast:n}),n.id},Ot=(e,t)=>eu("blank")(e,t);Ot.error=eu("error");Ot.success=eu("success");Ot.loading=eu("loading");Ot.custom=eu("custom");Ot.dismiss=(e,t)=>{let r={type:3,toastId:e};t?uh(t)(r):o_(r)};Ot.dismissAll=e=>Ot.dismiss(void 0,e);Ot.remove=(e,t)=>{let r={type:4,toastId:e};t?uh(t)(r):o_(r)};Ot.removeAll=e=>Ot.remove(void 0,e);Ot.promise=(e,t,r)=>{let n=Ot.loading(t.loading,{...r,...r==null?void 0:r.loading});return typeof e=="function"&&(e=e()),e.then(s=>{let a=t.success?vf(t.success,s):void 0;return a?Ot.success(a,{id:n,...r,...r==null?void 0:r.success}):Ot.dismiss(n),s}).catch(s=>{let a=t.error?vf(t.error,s):void 0;a?Ot.error(a,{id:n,...r,...r==null?void 0:r.error}):Ot.dismiss(n)}),e};var LO=1e3,IO=(e,t="default")=>{let{toasts:r,pausedAt:n}=$O(e,t),s=N.useRef(new Map).current,a=N.useCallback((f,h=LO)=>{if(s.has(f))return;let g=setTimeout(()=>{s.delete(f),i({type:4,toastId:f})},h);s.set(f,g)},[]);N.useEffect(()=>{if(n)return;let f=Date.now(),h=r.map(g=>{if(g.duration===1/0)return;let m=(g.duration||0)+g.pauseDuration-(f-g.createdAt);if(m<0){g.visible&&Ot.dismiss(g.id);return}return setTimeout(()=>Ot.dismiss(g.id,t),m)});return()=>{h.forEach(g=>g&&clearTimeout(g))}},[r,n,t]);let i=N.useCallback(uh(t),[t]),l=N.useCallback(()=>{i({type:5,time:Date.now()})},[i]),c=N.useCallback((f,h)=>{i({type:1,toast:{id:f,height:h}})},[i]),u=N.useCallback(()=>{n&&i({type:6,time:Date.now()})},[n,i]),d=N.useCallback((f,h)=>{let{reverseOrder:g=!1,gutter:m=8,defaultPosition:p}=h||{},w=r.filter(x=>(x.position||p)===(f.position||p)&&x.height),y=w.findIndex(x=>x.id===f.id),v=w.filter((x,b)=>b<y&&x.visible).length;return w.filter(x=>x.visible).slice(...g?[v+1]:[0,v]).reduce((x,b)=>x+(b.height||0)+m,0)},[r]);return N.useEffect(()=>{r.forEach(f=>{if(f.dismissed)a(f.id,f.removeDelay);else{let h=s.get(f.id);h&&(clearTimeout(h),s.delete(f.id))}})},[r,a]),{toasts:r,handlers:{updateHeight:c,startPause:l,endPause:u,calculateOffset:d}}},FO=Cs`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,WO=Cs`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,BO=Cs`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,UO=Ta("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${FO} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${WO} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${BO} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,HO=Cs`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,zO=Ta("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${HO} 1s linear infinite;
`,VO=Cs`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,YO=Cs`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,qO=Ta("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${VO} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${YO} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,KO=Ta("div")`
  position: absolute;
`,GO=Ta("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,XO=Cs`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,QO=Ta("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${XO} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,JO=({toast:e})=>{let{icon:t,type:r,iconTheme:n}=e;return t!==void 0?typeof t=="string"?N.createElement(QO,null,t):t:r==="blank"?null:N.createElement(GO,null,N.createElement(zO,{...n}),r!=="loading"&&N.createElement(KO,null,r==="error"?N.createElement(UO,{...n}):N.createElement(qO,{...n})))},ZO=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,eM=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,tM="0%{opacity:0;} 100%{opacity:1;}",rM="0%{opacity:1;} 100%{opacity:0;}",nM=Ta("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,sM=Ta("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,aM=(e,t)=>{let r=e.includes("top")?1:-1,[n,s]=n_()?[tM,rM]:[ZO(r),eM(r)];return{animation:t?`${Cs(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Cs(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},iM=N.memo(({toast:e,position:t,style:r,children:n})=>{let s=e.height?aM(e.position||t||"top-center",e.visible):{opacity:0},a=N.createElement(JO,{toast:e}),i=N.createElement(sM,{...e.ariaProps},vf(e.message,e));return N.createElement(nM,{className:e.className,style:{...s,...r,...e.style}},typeof n=="function"?n({icon:a,message:i}):N.createElement(N.Fragment,null,a,i))});CO(N.createElement);var oM=({id:e,className:t,style:r,onHeightUpdate:n,children:s})=>{let a=N.useCallback(i=>{if(i){let l=()=>{let c=i.getBoundingClientRect().height;n(e,c)};l(),new MutationObserver(l).observe(i,{subtree:!0,childList:!0,characterData:!0})}},[e,n]);return N.createElement("div",{ref:a,className:t,style:r},s)},lM=(e,t)=>{let r=e.includes("top"),n=r?{top:0}:{bottom:0},s=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:n_()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(r?1:-1)}px)`,...n,...s}},cM=ch`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Yu=16,uM=({reverseOrder:e,position:t="top-center",toastOptions:r,gutter:n,children:s,toasterId:a,containerStyle:i,containerClassName:l})=>{let{toasts:c,handlers:u}=IO(r,a);return N.createElement("div",{"data-rht-toaster":a||"",style:{position:"fixed",zIndex:9999,top:Yu,left:Yu,right:Yu,bottom:Yu,pointerEvents:"none",...i},className:l,onMouseEnter:u.startPause,onMouseLeave:u.endPause},c.map(d=>{let f=d.position||t,h=u.calculateOffset(d,{reverseOrder:e,gutter:n,defaultPosition:t}),g=lM(f,h);return N.createElement(oM,{id:d.id,key:d.id,onHeightUpdate:u.updateHeight,className:d.visible?cM:"",style:g},d.type==="custom"?vf(d.message,d):s?s(d):N.createElement(iM,{toast:d,position:f}))}))},ne=Ot;const Zn=Object.create(null);Zn.open="0";Zn.close="1";Zn.ping="2";Zn.pong="3";Zn.message="4";Zn.upgrade="5";Zn.noop="6";const kd=Object.create(null);Object.keys(Zn).forEach(e=>{kd[Zn[e]]=e});const bg={type:"error",data:"parser error"},l_=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",c_=typeof ArrayBuffer=="function",u_=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,fv=({type:e,data:t},r,n)=>l_&&t instanceof Blob?r?n(t):gb(t,n):c_&&(t instanceof ArrayBuffer||u_(t))?r?n(t):gb(new Blob([t]),n):n(Zn[e]+(t||"")),gb=(e,t)=>{const r=new FileReader;return r.onload=function(){const n=r.result.split(",")[1];t("b"+(n||""))},r.readAsDataURL(e)};function yb(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let zm;function dM(e,t){if(l_&&e.data instanceof Blob)return e.data.arrayBuffer().then(yb).then(t);if(c_&&(e.data instanceof ArrayBuffer||u_(e.data)))return t(yb(e.data));fv(e,!1,r=>{zm||(zm=new TextEncoder),t(zm.encode(r))})}const vb="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ll=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<vb.length;e++)Ll[vb.charCodeAt(e)]=e;const fM=e=>{let t=e.length*.75,r=e.length,n,s=0,a,i,l,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const u=new ArrayBuffer(t),d=new Uint8Array(u);for(n=0;n<r;n+=4)a=Ll[e.charCodeAt(n)],i=Ll[e.charCodeAt(n+1)],l=Ll[e.charCodeAt(n+2)],c=Ll[e.charCodeAt(n+3)],d[s++]=a<<2|i>>4,d[s++]=(i&15)<<4|l>>2,d[s++]=(l&3)<<6|c&63;return u},hM=typeof ArrayBuffer=="function",hv=(e,t)=>{if(typeof e!="string")return{type:"message",data:d_(e,t)};const r=e.charAt(0);return r==="b"?{type:"message",data:mM(e.substring(1),t)}:kd[r]?e.length>1?{type:kd[r],data:e.substring(1)}:{type:kd[r]}:bg},mM=(e,t)=>{if(hM){const r=fM(e);return d_(r,t)}else return{base64:!0,data:e}},d_=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},f_="",pM=(e,t)=>{const r=e.length,n=new Array(r);let s=0;e.forEach((a,i)=>{fv(a,!1,l=>{n[i]=l,++s===r&&t(n.join(f_))})})},gM=(e,t)=>{const r=e.split(f_),n=[];for(let s=0;s<r.length;s++){const a=hv(r[s],t);if(n.push(a),a.type==="error")break}return n};function yM(){return new TransformStream({transform(e,t){dM(e,r=>{const n=r.length;let s;if(n<126)s=new Uint8Array(1),new DataView(s.buffer).setUint8(0,n);else if(n<65536){s=new Uint8Array(3);const a=new DataView(s.buffer);a.setUint8(0,126),a.setUint16(1,n)}else{s=new Uint8Array(9);const a=new DataView(s.buffer);a.setUint8(0,127),a.setBigUint64(1,BigInt(n))}e.data&&typeof e.data!="string"&&(s[0]|=128),t.enqueue(s),t.enqueue(r)})}})}let Vm;function qu(e){return e.reduce((t,r)=>t+r.length,0)}function Ku(e,t){if(e[0].length===t)return e.shift();const r=new Uint8Array(t);let n=0;for(let s=0;s<t;s++)r[s]=e[0][n++],n===e[0].length&&(e.shift(),n=0);return e.length&&n<e[0].length&&(e[0]=e[0].slice(n)),r}function vM(e,t){Vm||(Vm=new TextDecoder);const r=[];let n=0,s=-1,a=!1;return new TransformStream({transform(i,l){for(r.push(i);;){if(n===0){if(qu(r)<1)break;const c=Ku(r,1);a=(c[0]&128)===128,s=c[0]&127,s<126?n=3:s===126?n=1:n=2}else if(n===1){if(qu(r)<2)break;const c=Ku(r,2);s=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),n=3}else if(n===2){if(qu(r)<8)break;const c=Ku(r,8),u=new DataView(c.buffer,c.byteOffset,c.length),d=u.getUint32(0);if(d>Math.pow(2,21)-1){l.enqueue(bg);break}s=d*Math.pow(2,32)+u.getUint32(4),n=3}else{if(qu(r)<s)break;const c=Ku(r,s);l.enqueue(hv(a?c:Vm.decode(c),t)),n=0}if(s===0||s>e){l.enqueue(bg);break}}}})}const h_=4;function Tt(e){if(e)return xM(e)}function xM(e){for(var t in Tt.prototype)e[t]=Tt.prototype[t];return e}Tt.prototype.on=Tt.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};Tt.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return r.fn=t,this.on(e,r),this};Tt.prototype.off=Tt.prototype.removeListener=Tt.prototype.removeAllListeners=Tt.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+e];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var n,s=0;s<r.length;s++)if(n=r[s],n===t||n.fn===t){r.splice(s,1);break}return r.length===0&&delete this._callbacks["$"+e],this};Tt.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),r=this._callbacks["$"+e],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(r){r=r.slice(0);for(var n=0,s=r.length;n<s;++n)r[n].apply(this,t)}return this};Tt.prototype.emitReserved=Tt.prototype.emit;Tt.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};Tt.prototype.hasListeners=function(e){return!!this.listeners(e).length};const dh=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,r)=>r(t,0),Ur=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),bM="arraybuffer";function m_(e,...t){return t.reduce((r,n)=>(e.hasOwnProperty(n)&&(r[n]=e[n]),r),{})}const wM=Ur.setTimeout,NM=Ur.clearTimeout;function fh(e,t){t.useNativeTimers?(e.setTimeoutFn=wM.bind(Ur),e.clearTimeoutFn=NM.bind(Ur)):(e.setTimeoutFn=Ur.setTimeout.bind(Ur),e.clearTimeoutFn=Ur.clearTimeout.bind(Ur))}const SM=1.33;function jM(e){return typeof e=="string"?_M(e):Math.ceil((e.byteLength||e.size)*SM)}function _M(e){let t=0,r=0;for(let n=0,s=e.length;n<s;n++)t=e.charCodeAt(n),t<128?r+=1:t<2048?r+=2:t<55296||t>=57344?r+=3:(n++,r+=4);return r}function p_(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function DM(e){let t="";for(let r in e)e.hasOwnProperty(r)&&(t.length&&(t+="&"),t+=encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t}function kM(e){let t={},r=e.split("&");for(let n=0,s=r.length;n<s;n++){let a=r[n].split("=");t[decodeURIComponent(a[0])]=decodeURIComponent(a[1])}return t}class EM extends Error{constructor(t,r,n){super(t),this.description=r,this.context=n,this.type="TransportError"}}class mv extends Tt{constructor(t){super(),this.writable=!1,fh(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,r,n){return super.emitReserved("error",new EM(t,r,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const r=hv(t,this.socket.binaryType);this.onPacket(r)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,r={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(r)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const r=DM(t);return r.length?"?"+r:""}}class CM extends mv{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const r=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let n=0;this._polling&&(n++,this.once("pollComplete",function(){--n||r()})),this.writable||(n++,this.once("drain",function(){--n||r()}))}else r()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const r=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};gM(t,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,pM(t,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",r=this.query||{};return this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=p_()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.createUri(t,r)}}let g_=!1;try{g_=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const TM=g_;function PM(){}class AM extends CM{constructor(t){if(super(t),typeof location<"u"){const r=location.protocol==="https:";let n=location.port;n||(n=r?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||n!==t.port}}doWrite(t,r){const n=this.request({method:"POST",data:t});n.on("success",r),n.on("error",(s,a)=>{this.onError("xhr post error",s,a)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(r,n)=>{this.onError("xhr poll error",r,n)}),this.pollXhr=t}}class Xn extends Tt{constructor(t,r,n){super(),this.createRequest=t,fh(this,n),this._opts=n,this._method=n.method||"GET",this._uri=r,this._data=n.data!==void 0?n.data:null,this._create()}_create(){var t;const r=m_(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(r);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let s in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(s)&&n.setRequestHeader(s,this._opts.extraHeaders[s])}}catch{}if(this._method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var s;n.readyState===3&&((s=this._opts.cookieJar)===null||s===void 0||s.parseCookies(n.getResponseHeader("set-cookie"))),n.readyState===4&&(n.status===200||n.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof n.status=="number"?n.status:0)},0))},n.send(this._data)}catch(s){this.setTimeoutFn(()=>{this._onError(s)},0);return}typeof document<"u"&&(this._index=Xn.requestsCount++,Xn.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=PM,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Xn.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}Xn.requestsCount=0;Xn.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",xb);else if(typeof addEventListener=="function"){const e="onpagehide"in Ur?"pagehide":"unload";addEventListener(e,xb,!1)}}function xb(){for(let e in Xn.requests)Xn.requests.hasOwnProperty(e)&&Xn.requests[e].abort()}const OM=function(){const e=y_({xdomain:!1});return e&&e.responseType!==null}();class MM extends AM{constructor(t){super(t);const r=t&&t.forceBase64;this.supportsBinary=OM&&!r}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new Xn(y_,this.uri(),t)}}function y_(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||TM))return new XMLHttpRequest}catch{}if(!t)try{return new Ur[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const v_=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class $M extends mv{get name(){return"websocket"}doOpen(){const t=this.uri(),r=this.opts.protocols,n=v_?{}:m_(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,r,n)}catch(s){return this.emitReserved("error",s)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const n=t[r],s=r===t.length-1;fv(n,this.supportsBinary,a=>{try{this.doWrite(n,a)}catch{}s&&dh(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",r=this.query||{};return this.opts.timestampRequests&&(r[this.opts.timestampParam]=p_()),this.supportsBinary||(r.b64=1),this.createUri(t,r)}}const Ym=Ur.WebSocket||Ur.MozWebSocket;class RM extends $M{createSocket(t,r,n){return v_?new Ym(t,r,n):r?new Ym(t,r):new Ym(t)}doWrite(t,r){this.ws.send(r)}}class LM extends mv{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const r=vM(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=t.readable.pipeThrough(r).getReader(),s=yM();s.readable.pipeTo(t.writable),this._writer=s.writable.getWriter();const a=()=>{n.read().then(({done:l,value:c})=>{l||(this.onPacket(c),a())}).catch(l=>{})};a();const i={type:"open"};this.query.sid&&(i.data=`{"sid":"${this.query.sid}"}`),this._writer.write(i).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const n=t[r],s=r===t.length-1;this._writer.write(n).then(()=>{s&&dh(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const IM={websocket:RM,webtransport:LM,polling:MM},FM=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,WM=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function wg(e){if(e.length>8e3)throw"URI too long";const t=e,r=e.indexOf("["),n=e.indexOf("]");r!=-1&&n!=-1&&(e=e.substring(0,r)+e.substring(r,n).replace(/:/g,";")+e.substring(n,e.length));let s=FM.exec(e||""),a={},i=14;for(;i--;)a[WM[i]]=s[i]||"";return r!=-1&&n!=-1&&(a.source=t,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a.pathNames=BM(a,a.path),a.queryKey=UM(a,a.query),a}function BM(e,t){const r=/\/{2,9}/g,n=t.replace(r,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&n.splice(0,1),t.slice(-1)=="/"&&n.splice(n.length-1,1),n}function UM(e,t){const r={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,s,a){s&&(r[s]=a)}),r}const Ng=typeof addEventListener=="function"&&typeof removeEventListener=="function",Ed=[];Ng&&addEventListener("offline",()=>{Ed.forEach(e=>e())},!1);class ba extends Tt{constructor(t,r){if(super(),this.binaryType=bM,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(r=t,t=null),t){const n=wg(t);r.hostname=n.host,r.secure=n.protocol==="https"||n.protocol==="wss",r.port=n.port,n.query&&(r.query=n.query)}else r.host&&(r.hostname=wg(r.host).host);fh(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(n=>{const s=n.prototype.name;this.transports.push(s),this._transportsByName[s]=n}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=kM(this.opts.query)),Ng&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Ed.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const r=Object.assign({},this.opts.query);r.EIO=h_,r.transport=t,this.id&&(r.sid=this.id);const n=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](n)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&ba.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const r=this.createTransport(t);r.open(),this.setTransport(r)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",ba.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const r=new Error("server error");r.code=t.data,this._onError(r);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let n=0;n<this.writeBuffer.length;n++){const s=this.writeBuffer[n].data;if(s&&(r+=jM(s)),n>0&&r>this._maxPayload)return this.writeBuffer.slice(0,n);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,dh(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,r,n){return this._sendPacket("message",t,r,n),this}send(t,r,n){return this._sendPacket("message",t,r,n),this}_sendPacket(t,r,n,s){if(typeof r=="function"&&(s=r,r=void 0),typeof n=="function"&&(s=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const a={type:t,data:r,options:n};this.emitReserved("packetCreate",a),this.writeBuffer.push(a),s&&this.once("flush",s),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),t()},n=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():t()}):this.upgrading?n():t()),this}_onError(t){if(ba.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Ng&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const n=Ed.indexOf(this._offlineEventListener);n!==-1&&Ed.splice(n,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,r),this.writeBuffer=[],this._prevBufferLen=0}}}ba.protocol=h_;class HM extends ba{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let r=this.createTransport(t),n=!1;ba.priorWebsocketSuccess=!1;const s=()=>{n||(r.send([{type:"ping",data:"probe"}]),r.once("packet",f=>{if(!n)if(f.type==="pong"&&f.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;ba.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(d(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const h=new Error("probe error");h.transport=r.name,this.emitReserved("upgradeError",h)}}))};function a(){n||(n=!0,d(),r.close(),r=null)}const i=f=>{const h=new Error("probe error: "+f);h.transport=r.name,a(),this.emitReserved("upgradeError",h)};function l(){i("transport closed")}function c(){i("socket closed")}function u(f){r&&f.name!==r.name&&a()}const d=()=>{r.removeListener("open",s),r.removeListener("error",i),r.removeListener("close",l),this.off("close",c),this.off("upgrading",u)};r.once("open",s),r.once("error",i),r.once("close",l),this.once("close",c),this.once("upgrading",u),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{n||r.open()},200):r.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const r=[];for(let n=0;n<t.length;n++)~this.transports.indexOf(t[n])&&r.push(t[n]);return r}}let zM=class extends HM{constructor(t,r={}){const n=typeof t=="object"?t:r;(!n.transports||n.transports&&typeof n.transports[0]=="string")&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map(s=>IM[s]).filter(s=>!!s)),super(t,n)}};function VM(e,t="",r){let n=e;r=r||typeof location<"u"&&location,e==null&&(e=r.protocol+"//"+r.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=r.protocol+e:e=r.host+e),/^(https?|wss?):\/\//.test(e)||(typeof r<"u"?e=r.protocol+"//"+e:e="https://"+e),n=wg(e)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const a=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+a+":"+n.port+t,n.href=n.protocol+"://"+a+(r&&r.port===n.port?"":":"+n.port),n}const YM=typeof ArrayBuffer=="function",qM=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,x_=Object.prototype.toString,KM=typeof Blob=="function"||typeof Blob<"u"&&x_.call(Blob)==="[object BlobConstructor]",GM=typeof File=="function"||typeof File<"u"&&x_.call(File)==="[object FileConstructor]";function pv(e){return YM&&(e instanceof ArrayBuffer||qM(e))||KM&&e instanceof Blob||GM&&e instanceof File}function Cd(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let r=0,n=e.length;r<n;r++)if(Cd(e[r]))return!0;return!1}if(pv(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return Cd(e.toJSON(),!0);for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&Cd(e[r]))return!0;return!1}function XM(e){const t=[],r=e.data,n=e;return n.data=Sg(r,t),n.attachments=t.length,{packet:n,buffers:t}}function Sg(e,t){if(!e)return e;if(pv(e)){const r={_placeholder:!0,num:t.length};return t.push(e),r}else if(Array.isArray(e)){const r=new Array(e.length);for(let n=0;n<e.length;n++)r[n]=Sg(e[n],t);return r}else if(typeof e=="object"&&!(e instanceof Date)){const r={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=Sg(e[n],t));return r}return e}function QM(e,t){return e.data=jg(e.data,t),delete e.attachments,e}function jg(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let r=0;r<e.length;r++)e[r]=jg(e[r],t);else if(typeof e=="object")for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(e[r]=jg(e[r],t));return e}const JM=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],ZM=5;var Be;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(Be||(Be={}));class e${constructor(t){this.replacer=t}encode(t){return(t.type===Be.EVENT||t.type===Be.ACK)&&Cd(t)?this.encodeAsBinary({type:t.type===Be.EVENT?Be.BINARY_EVENT:Be.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let r=""+t.type;return(t.type===Be.BINARY_EVENT||t.type===Be.BINARY_ACK)&&(r+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(r+=t.nsp+","),t.id!=null&&(r+=t.id),t.data!=null&&(r+=JSON.stringify(t.data,this.replacer)),r}encodeAsBinary(t){const r=XM(t),n=this.encodeAsString(r.packet),s=r.buffers;return s.unshift(n),s}}function bb(e){return Object.prototype.toString.call(e)==="[object Object]"}class gv extends Tt{constructor(t){super(),this.reviver=t}add(t){let r;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(t);const n=r.type===Be.BINARY_EVENT;n||r.type===Be.BINARY_ACK?(r.type=n?Be.EVENT:Be.ACK,this.reconstructor=new t$(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(pv(t)||t.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(t),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let r=0;const n={type:Number(t.charAt(0))};if(Be[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===Be.BINARY_EVENT||n.type===Be.BINARY_ACK){const a=r+1;for(;t.charAt(++r)!=="-"&&r!=t.length;);const i=t.substring(a,r);if(i!=Number(i)||t.charAt(r)!=="-")throw new Error("Illegal attachments");n.attachments=Number(i)}if(t.charAt(r+1)==="/"){const a=r+1;for(;++r&&!(t.charAt(r)===","||r===t.length););n.nsp=t.substring(a,r)}else n.nsp="/";const s=t.charAt(r+1);if(s!==""&&Number(s)==s){const a=r+1;for(;++r;){const i=t.charAt(r);if(i==null||Number(i)!=i){--r;break}if(r===t.length)break}n.id=Number(t.substring(a,r+1))}if(t.charAt(++r)){const a=this.tryParse(t.substr(r));if(gv.isPayloadValid(n.type,a))n.data=a;else throw new Error("invalid payload")}return n}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,r){switch(t){case Be.CONNECT:return bb(r);case Be.DISCONNECT:return r===void 0;case Be.CONNECT_ERROR:return typeof r=="string"||bb(r);case Be.EVENT:case Be.BINARY_EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&JM.indexOf(r[0])===-1);case Be.ACK:case Be.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class t${constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const r=QM(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const r$=Object.freeze(Object.defineProperty({__proto__:null,Decoder:gv,Encoder:e$,get PacketType(){return Be},protocol:ZM},Symbol.toStringTag,{value:"Module"}));function un(e,t,r){return e.on(t,r),function(){e.off(t,r)}}const n$=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class b_ extends Tt{constructor(t,r,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=r,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[un(t,"open",this.onopen.bind(this)),un(t,"packet",this.onpacket.bind(this)),un(t,"error",this.onerror.bind(this)),un(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...r){var n,s,a;if(n$.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(r.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const i={type:Be.EVENT,data:r};if(i.options={},i.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const d=this.ids++,f=r.pop();this._registerAckCallback(d,f),i.id=d}const l=(s=(n=this.io.engine)===null||n===void 0?void 0:n.transport)===null||s===void 0?void 0:s.writable,c=this.connected&&!(!((a=this.io.engine)===null||a===void 0)&&a._hasPingExpired());return this.flags.volatile&&!l||(c?(this.notifyOutgoingListeners(i),this.packet(i)):this.sendBuffer.push(i)),this.flags={},this}_registerAckCallback(t,r){var n;const s=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(s===void 0){this.acks[t]=r;return}const a=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let l=0;l<this.sendBuffer.length;l++)this.sendBuffer[l].id===t&&this.sendBuffer.splice(l,1);r.call(this,new Error("operation has timed out"))},s),i=(...l)=>{this.io.clearTimeoutFn(a),r.apply(this,l)};i.withError=!0,this.acks[t]=i}emitWithAck(t,...r){return new Promise((n,s)=>{const a=(i,l)=>i?s(i):n(l);a.withError=!0,r.push(a),this.emit(t,...r)})}_addToQueue(t){let r;typeof t[t.length-1]=="function"&&(r=t.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((s,...a)=>n!==this._queue[0]?void 0:(s!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),r&&r(s)):(this._queue.shift(),r&&r(null,...a)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const r=this._queue[0];r.pending&&!t||(r.pending=!0,r.tryCount++,this.flags=r.flags,this.emit.apply(this,r.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:Be.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,r),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(n=>String(n.id)===t)){const n=this.acks[t];delete this.acks[t],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case Be.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Be.EVENT:case Be.BINARY_EVENT:this.onevent(t);break;case Be.ACK:case Be.BINARY_ACK:this.onack(t);break;case Be.DISCONNECT:this.ondisconnect();break;case Be.CONNECT_ERROR:this.destroy();const n=new Error(t.data.message);n.data=t.data.data,this.emitReserved("connect_error",n);break}}onevent(t){const r=t.data||[];t.id!=null&&r.push(this.ack(t.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const n of r)n.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const r=this;let n=!1;return function(...s){n||(n=!0,r.packet({type:Be.ACK,id:t,data:s}))}}onack(t){const r=this.acks[t.id];typeof r=="function"&&(delete this.acks[t.id],r.withError&&t.data.unshift(null),r.apply(this,t.data))}onconnect(t,r){this.id=t,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Be.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const r=this._anyListeners;for(let n=0;n<r.length;n++)if(t===r[n])return r.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const r=this._anyOutgoingListeners;for(let n=0;n<r.length;n++)if(t===r[n])return r.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const n of r)n.apply(this,t.data)}}}function zo(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}zo.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),r=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+r:e-r}return Math.min(e,this.max)|0};zo.prototype.reset=function(){this.attempts=0};zo.prototype.setMin=function(e){this.ms=e};zo.prototype.setMax=function(e){this.max=e};zo.prototype.setJitter=function(e){this.jitter=e};class _g extends Tt{constructor(t,r){var n;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(r=t,t=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,fh(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((n=r.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new zo({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=t;const s=r.parser||r$;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var r;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(r=this.backoff)===null||r===void 0||r.setMin(t),this)}randomizationFactor(t){var r;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(r=this.backoff)===null||r===void 0||r.setJitter(t),this)}reconnectionDelayMax(t){var r;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(r=this.backoff)===null||r===void 0||r.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new zM(this.uri,this.opts);const r=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const s=un(r,"open",function(){n.onopen(),t&&t()}),a=l=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",l),t?t(l):this.maybeReconnectOnOpen()},i=un(r,"error",a);if(this._timeout!==!1){const l=this._timeout,c=this.setTimeoutFn(()=>{s(),a(new Error("timeout")),r.close()},l);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(s),this.subs.push(i),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(un(t,"ping",this.onping.bind(this)),un(t,"data",this.ondata.bind(this)),un(t,"error",this.onerror.bind(this)),un(t,"close",this.onclose.bind(this)),un(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(r){this.onclose("parse error",r)}}ondecoded(t){dh(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,r){let n=this.nsps[t];return n?this._autoConnect&&!n.active&&n.connect():(n=new b_(this,t,r),this.nsps[t]=n),n}_destroy(t){const r=Object.keys(this.nsps);for(const n of r)if(this.nsps[n].active)return;this._close()}_packet(t){const r=this.encoder.encode(t);for(let n=0;n<r.length;n++)this.engine.write(r[n],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,r){var n;this.cleanup(),(n=this.engine)===null||n===void 0||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(s=>{s?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",s)):t.onreconnect()}))},r);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const wl={};function Td(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const r=VM(e,t.path||"/socket.io"),n=r.source,s=r.id,a=r.path,i=wl[s]&&a in wl[s].nsps,l=t.forceNew||t["force new connection"]||t.multiplex===!1||i;let c;return l?c=new _g(n,t):(wl[s]||(wl[s]=new _g(n,t)),c=wl[s]),r.query&&!t.query&&(t.query=r.queryKey),c.socket(r.path,t)}Object.assign(Td,{Manager:_g,Socket:b_,io:Td,connect:Td});function w_(e,t){return function(){return e.apply(t,arguments)}}const{toString:s$}=Object.prototype,{getPrototypeOf:yv}=Object,{iterator:hh,toStringTag:N_}=Symbol,mh=(e=>t=>{const r=s$.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),kn=e=>(e=e.toLowerCase(),t=>mh(t)===e),ph=e=>t=>typeof t===e,{isArray:Vo}=Array,Eo=ph("undefined");function tu(e){return e!==null&&!Eo(e)&&e.constructor!==null&&!Eo(e.constructor)&&Sr(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const S_=kn("ArrayBuffer");function a$(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&S_(e.buffer),t}const i$=ph("string"),Sr=ph("function"),j_=ph("number"),ru=e=>e!==null&&typeof e=="object",o$=e=>e===!0||e===!1,Pd=e=>{if(mh(e)!=="object")return!1;const t=yv(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(N_ in e)&&!(hh in e)},l$=e=>{if(!ru(e)||tu(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},c$=kn("Date"),u$=kn("File"),d$=kn("Blob"),f$=kn("FileList"),h$=e=>ru(e)&&Sr(e.pipe),m$=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Sr(e.append)&&((t=mh(e))==="formdata"||t==="object"&&Sr(e.toString)&&e.toString()==="[object FormData]"))},p$=kn("URLSearchParams"),[g$,y$,v$,x$]=["ReadableStream","Request","Response","Headers"].map(kn),b$=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function nu(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,s;if(typeof e!="object"&&(e=[e]),Vo(e))for(n=0,s=e.length;n<s;n++)t.call(null,e[n],n,e);else{if(tu(e))return;const a=r?Object.getOwnPropertyNames(e):Object.keys(e),i=a.length;let l;for(n=0;n<i;n++)l=a[n],t.call(null,e[l],l,e)}}function __(e,t){if(tu(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,s;for(;n-- >0;)if(s=r[n],t===s.toLowerCase())return s;return null}const Ja=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,D_=e=>!Eo(e)&&e!==Ja;function Dg(){const{caseless:e,skipUndefined:t}=D_(this)&&this||{},r={},n=(s,a)=>{const i=e&&__(r,a)||a;Pd(r[i])&&Pd(s)?r[i]=Dg(r[i],s):Pd(s)?r[i]=Dg({},s):Vo(s)?r[i]=s.slice():(!t||!Eo(s))&&(r[i]=s)};for(let s=0,a=arguments.length;s<a;s++)arguments[s]&&nu(arguments[s],n);return r}const w$=(e,t,r,{allOwnKeys:n}={})=>(nu(t,(s,a)=>{r&&Sr(s)?e[a]=w_(s,r):e[a]=s},{allOwnKeys:n}),e),N$=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),S$=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},j$=(e,t,r,n)=>{let s,a,i;const l={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),a=s.length;a-- >0;)i=s[a],(!n||n(i,e,t))&&!l[i]&&(t[i]=e[i],l[i]=!0);e=r!==!1&&yv(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},_$=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},D$=e=>{if(!e)return null;if(Vo(e))return e;let t=e.length;if(!j_(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},k$=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&yv(Uint8Array)),E$=(e,t)=>{const n=(e&&e[hh]).call(e);let s;for(;(s=n.next())&&!s.done;){const a=s.value;t.call(e,a[0],a[1])}},C$=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},T$=kn("HTMLFormElement"),P$=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,s){return n.toUpperCase()+s}),wb=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),A$=kn("RegExp"),k_=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};nu(r,(s,a)=>{let i;(i=t(s,a,e))!==!1&&(n[a]=i||s)}),Object.defineProperties(e,n)},O$=e=>{k_(e,(t,r)=>{if(Sr(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(Sr(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},M$=(e,t)=>{const r={},n=s=>{s.forEach(a=>{r[a]=!0})};return Vo(e)?n(e):n(String(e).split(t)),r},$$=()=>{},R$=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function L$(e){return!!(e&&Sr(e.append)&&e[N_]==="FormData"&&e[hh])}const I$=e=>{const t=new Array(10),r=(n,s)=>{if(ru(n)){if(t.indexOf(n)>=0)return;if(tu(n))return n;if(!("toJSON"in n)){t[s]=n;const a=Vo(n)?[]:{};return nu(n,(i,l)=>{const c=r(i,s+1);!Eo(c)&&(a[l]=c)}),t[s]=void 0,a}}return n};return r(e,0)},F$=kn("AsyncFunction"),W$=e=>e&&(ru(e)||Sr(e))&&Sr(e.then)&&Sr(e.catch),E_=((e,t)=>e?setImmediate:t?((r,n)=>(Ja.addEventListener("message",({source:s,data:a})=>{s===Ja&&a===r&&n.length&&n.shift()()},!1),s=>{n.push(s),Ja.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Sr(Ja.postMessage)),B$=typeof queueMicrotask<"u"?queueMicrotask.bind(Ja):typeof process<"u"&&process.nextTick||E_,U$=e=>e!=null&&Sr(e[hh]),Q={isArray:Vo,isArrayBuffer:S_,isBuffer:tu,isFormData:m$,isArrayBufferView:a$,isString:i$,isNumber:j_,isBoolean:o$,isObject:ru,isPlainObject:Pd,isEmptyObject:l$,isReadableStream:g$,isRequest:y$,isResponse:v$,isHeaders:x$,isUndefined:Eo,isDate:c$,isFile:u$,isBlob:d$,isRegExp:A$,isFunction:Sr,isStream:h$,isURLSearchParams:p$,isTypedArray:k$,isFileList:f$,forEach:nu,merge:Dg,extend:w$,trim:b$,stripBOM:N$,inherits:S$,toFlatObject:j$,kindOf:mh,kindOfTest:kn,endsWith:_$,toArray:D$,forEachEntry:E$,matchAll:C$,isHTMLForm:T$,hasOwnProperty:wb,hasOwnProp:wb,reduceDescriptors:k_,freezeMethods:O$,toObjectSet:M$,toCamelCase:P$,noop:$$,toFiniteNumber:R$,findKey:__,global:Ja,isContextDefined:D_,isSpecCompliantForm:L$,toJSONObject:I$,isAsyncFn:F$,isThenable:W$,setImmediate:E_,asap:B$,isIterable:U$};function $e(e,t,r,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),s&&(this.response=s,this.status=s.status?s.status:null)}Q.inherits($e,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Q.toJSONObject(this.config),code:this.code,status:this.status}}});const C_=$e.prototype,T_={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{T_[e]={value:e}});Object.defineProperties($e,T_);Object.defineProperty(C_,"isAxiosError",{value:!0});$e.from=(e,t,r,n,s,a)=>{const i=Object.create(C_);Q.toFlatObject(e,i,function(d){return d!==Error.prototype},u=>u!=="isAxiosError");const l=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return $e.call(i,l,c,r,n,s),e&&i.cause==null&&Object.defineProperty(i,"cause",{value:e,configurable:!0}),i.name=e&&e.name||"Error",a&&Object.assign(i,a),i};const H$=null;function kg(e){return Q.isPlainObject(e)||Q.isArray(e)}function P_(e){return Q.endsWith(e,"[]")?e.slice(0,-2):e}function Nb(e,t,r){return e?e.concat(t).map(function(s,a){return s=P_(s),!r&&a?"["+s+"]":s}).join(r?".":""):t}function z$(e){return Q.isArray(e)&&!e.some(kg)}const V$=Q.toFlatObject(Q,{},null,function(t){return/^is[A-Z]/.test(t)});function gh(e,t,r){if(!Q.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=Q.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(p,w){return!Q.isUndefined(w[p])});const n=r.metaTokens,s=r.visitor||d,a=r.dots,i=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&Q.isSpecCompliantForm(t);if(!Q.isFunction(s))throw new TypeError("visitor must be a function");function u(m){if(m===null)return"";if(Q.isDate(m))return m.toISOString();if(Q.isBoolean(m))return m.toString();if(!c&&Q.isBlob(m))throw new $e("Blob is not supported. Use a Buffer instead.");return Q.isArrayBuffer(m)||Q.isTypedArray(m)?c&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function d(m,p,w){let y=m;if(m&&!w&&typeof m=="object"){if(Q.endsWith(p,"{}"))p=n?p:p.slice(0,-2),m=JSON.stringify(m);else if(Q.isArray(m)&&z$(m)||(Q.isFileList(m)||Q.endsWith(p,"[]"))&&(y=Q.toArray(m)))return p=P_(p),y.forEach(function(x,b){!(Q.isUndefined(x)||x===null)&&t.append(i===!0?Nb([p],b,a):i===null?p:p+"[]",u(x))}),!1}return kg(m)?!0:(t.append(Nb(w,p,a),u(m)),!1)}const f=[],h=Object.assign(V$,{defaultVisitor:d,convertValue:u,isVisitable:kg});function g(m,p){if(!Q.isUndefined(m)){if(f.indexOf(m)!==-1)throw Error("Circular reference detected in "+p.join("."));f.push(m),Q.forEach(m,function(y,v){(!(Q.isUndefined(y)||y===null)&&s.call(t,y,Q.isString(v)?v.trim():v,p,h))===!0&&g(y,p?p.concat(v):[v])}),f.pop()}}if(!Q.isObject(e))throw new TypeError("data must be an object");return g(e),t}function Sb(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function vv(e,t){this._pairs=[],e&&gh(e,this,t)}const A_=vv.prototype;A_.append=function(t,r){this._pairs.push([t,r])};A_.toString=function(t){const r=t?function(n){return t.call(this,n,Sb)}:Sb;return this._pairs.map(function(s){return r(s[0])+"="+r(s[1])},"").join("&")};function Y$(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function O_(e,t,r){if(!t)return e;const n=r&&r.encode||Y$;Q.isFunction(r)&&(r={serialize:r});const s=r&&r.serialize;let a;if(s?a=s(t,r):a=Q.isURLSearchParams(t)?t.toString():new vv(t,r).toString(n),a){const i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class jb{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Q.forEach(this.handlers,function(n){n!==null&&t(n)})}}const M_={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},q$=typeof URLSearchParams<"u"?URLSearchParams:vv,K$=typeof FormData<"u"?FormData:null,G$=typeof Blob<"u"?Blob:null,X$={isBrowser:!0,classes:{URLSearchParams:q$,FormData:K$,Blob:G$},protocols:["http","https","file","blob","url","data"]},xv=typeof window<"u"&&typeof document<"u",Eg=typeof navigator=="object"&&navigator||void 0,Q$=xv&&(!Eg||["ReactNative","NativeScript","NS"].indexOf(Eg.product)<0),J$=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Z$=xv&&window.location.href||"http://localhost",eR=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:xv,hasStandardBrowserEnv:Q$,hasStandardBrowserWebWorkerEnv:J$,navigator:Eg,origin:Z$},Symbol.toStringTag,{value:"Module"})),Zt={...eR,...X$};function tR(e,t){return gh(e,new Zt.classes.URLSearchParams,{visitor:function(r,n,s,a){return Zt.isNode&&Q.isBuffer(r)?(this.append(n,r.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...t})}function rR(e){return Q.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function nR(e){const t={},r=Object.keys(e);let n;const s=r.length;let a;for(n=0;n<s;n++)a=r[n],t[a]=e[a];return t}function $_(e){function t(r,n,s,a){let i=r[a++];if(i==="__proto__")return!0;const l=Number.isFinite(+i),c=a>=r.length;return i=!i&&Q.isArray(s)?s.length:i,c?(Q.hasOwnProp(s,i)?s[i]=[s[i],n]:s[i]=n,!l):((!s[i]||!Q.isObject(s[i]))&&(s[i]=[]),t(r,n,s[i],a)&&Q.isArray(s[i])&&(s[i]=nR(s[i])),!l)}if(Q.isFormData(e)&&Q.isFunction(e.entries)){const r={};return Q.forEachEntry(e,(n,s)=>{t(rR(n),s,r,0)}),r}return null}function sR(e,t,r){if(Q.isString(e))try{return(t||JSON.parse)(e),Q.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const su={transitional:M_,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",s=n.indexOf("application/json")>-1,a=Q.isObject(t);if(a&&Q.isHTMLForm(t)&&(t=new FormData(t)),Q.isFormData(t))return s?JSON.stringify($_(t)):t;if(Q.isArrayBuffer(t)||Q.isBuffer(t)||Q.isStream(t)||Q.isFile(t)||Q.isBlob(t)||Q.isReadableStream(t))return t;if(Q.isArrayBufferView(t))return t.buffer;if(Q.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return tR(t,this.formSerializer).toString();if((l=Q.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return gh(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return a||s?(r.setContentType("application/json",!1),sR(t)):t}],transformResponse:[function(t){const r=this.transitional||su.transitional,n=r&&r.forcedJSONParsing,s=this.responseType==="json";if(Q.isResponse(t)||Q.isReadableStream(t))return t;if(t&&Q.isString(t)&&(n&&!this.responseType||s)){const i=!(r&&r.silentJSONParsing)&&s;try{return JSON.parse(t,this.parseReviver)}catch(l){if(i)throw l.name==="SyntaxError"?$e.from(l,$e.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Zt.classes.FormData,Blob:Zt.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Q.forEach(["delete","get","head","post","put","patch"],e=>{su.headers[e]={}});const aR=Q.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),iR=e=>{const t={};let r,n,s;return e&&e.split(`
`).forEach(function(i){s=i.indexOf(":"),r=i.substring(0,s).trim().toLowerCase(),n=i.substring(s+1).trim(),!(!r||t[r]&&aR[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},_b=Symbol("internals");function Nl(e){return e&&String(e).trim().toLowerCase()}function Ad(e){return e===!1||e==null?e:Q.isArray(e)?e.map(Ad):String(e)}function oR(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const lR=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function qm(e,t,r,n,s){if(Q.isFunction(n))return n.call(this,t,r);if(s&&(t=r),!!Q.isString(t)){if(Q.isString(n))return t.indexOf(n)!==-1;if(Q.isRegExp(n))return n.test(t)}}function cR(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function uR(e,t){const r=Q.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(s,a,i){return this[n].call(this,t,s,a,i)},configurable:!0})})}let jr=class{constructor(t){t&&this.set(t)}set(t,r,n){const s=this;function a(l,c,u){const d=Nl(c);if(!d)throw new Error("header name must be a non-empty string");const f=Q.findKey(s,d);(!f||s[f]===void 0||u===!0||u===void 0&&s[f]!==!1)&&(s[f||c]=Ad(l))}const i=(l,c)=>Q.forEach(l,(u,d)=>a(u,d,c));if(Q.isPlainObject(t)||t instanceof this.constructor)i(t,r);else if(Q.isString(t)&&(t=t.trim())&&!lR(t))i(iR(t),r);else if(Q.isObject(t)&&Q.isIterable(t)){let l={},c,u;for(const d of t){if(!Q.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[u=d[0]]=(c=l[u])?Q.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}i(l,r)}else t!=null&&a(r,t,n);return this}get(t,r){if(t=Nl(t),t){const n=Q.findKey(this,t);if(n){const s=this[n];if(!r)return s;if(r===!0)return oR(s);if(Q.isFunction(r))return r.call(this,s,n);if(Q.isRegExp(r))return r.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=Nl(t),t){const n=Q.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||qm(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let s=!1;function a(i){if(i=Nl(i),i){const l=Q.findKey(n,i);l&&(!r||qm(n,n[l],l,r))&&(delete n[l],s=!0)}}return Q.isArray(t)?t.forEach(a):a(t),s}clear(t){const r=Object.keys(this);let n=r.length,s=!1;for(;n--;){const a=r[n];(!t||qm(this,this[a],a,t,!0))&&(delete this[a],s=!0)}return s}normalize(t){const r=this,n={};return Q.forEach(this,(s,a)=>{const i=Q.findKey(n,a);if(i){r[i]=Ad(s),delete r[a];return}const l=t?cR(a):String(a).trim();l!==a&&delete r[a],r[l]=Ad(s),n[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return Q.forEach(this,(n,s)=>{n!=null&&n!==!1&&(r[s]=t&&Q.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(s=>n.set(s)),n}static accessor(t){const n=(this[_b]=this[_b]={accessors:{}}).accessors,s=this.prototype;function a(i){const l=Nl(i);n[l]||(uR(s,i),n[l]=!0)}return Q.isArray(t)?t.forEach(a):a(t),this}};jr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Q.reduceDescriptors(jr.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});Q.freezeMethods(jr);function Km(e,t){const r=this||su,n=t||r,s=jr.from(n.headers);let a=n.data;return Q.forEach(e,function(l){a=l.call(r,a,s.normalize(),t?t.status:void 0)}),s.normalize(),a}function R_(e){return!!(e&&e.__CANCEL__)}function Yo(e,t,r){$e.call(this,e??"canceled",$e.ERR_CANCELED,t,r),this.name="CanceledError"}Q.inherits(Yo,$e,{__CANCEL__:!0});function L_(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new $e("Request failed with status code "+r.status,[$e.ERR_BAD_REQUEST,$e.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function dR(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function fR(e,t){e=e||10;const r=new Array(e),n=new Array(e);let s=0,a=0,i;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),d=n[a];i||(i=u),r[s]=c,n[s]=u;let f=a,h=0;for(;f!==s;)h+=r[f++],f=f%e;if(s=(s+1)%e,s===a&&(a=(a+1)%e),u-i<t)return;const g=d&&u-d;return g?Math.round(h*1e3/g):void 0}}function hR(e,t){let r=0,n=1e3/t,s,a;const i=(u,d=Date.now())=>{r=d,s=null,a&&(clearTimeout(a),a=null),e(...u)};return[(...u)=>{const d=Date.now(),f=d-r;f>=n?i(u,d):(s=u,a||(a=setTimeout(()=>{a=null,i(s)},n-f)))},()=>s&&i(s)]}const xf=(e,t,r=3)=>{let n=0;const s=fR(50,250);return hR(a=>{const i=a.loaded,l=a.lengthComputable?a.total:void 0,c=i-n,u=s(c),d=i<=l;n=i;const f={loaded:i,total:l,progress:l?i/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&d?(l-i)/u:void 0,event:a,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(f)},r)},Db=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},kb=e=>(...t)=>Q.asap(()=>e(...t)),mR=Zt.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Zt.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Zt.origin),Zt.navigator&&/(msie|trident)/i.test(Zt.navigator.userAgent)):()=>!0,pR=Zt.hasStandardBrowserEnv?{write(e,t,r,n,s,a){const i=[e+"="+encodeURIComponent(t)];Q.isNumber(r)&&i.push("expires="+new Date(r).toGMTString()),Q.isString(n)&&i.push("path="+n),Q.isString(s)&&i.push("domain="+s),a===!0&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function gR(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function yR(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function I_(e,t,r){let n=!gR(t);return e&&(n||r==!1)?yR(e,t):t}const Eb=e=>e instanceof jr?{...e}:e;function vi(e,t){t=t||{};const r={};function n(u,d,f,h){return Q.isPlainObject(u)&&Q.isPlainObject(d)?Q.merge.call({caseless:h},u,d):Q.isPlainObject(d)?Q.merge({},d):Q.isArray(d)?d.slice():d}function s(u,d,f,h){if(Q.isUndefined(d)){if(!Q.isUndefined(u))return n(void 0,u,f,h)}else return n(u,d,f,h)}function a(u,d){if(!Q.isUndefined(d))return n(void 0,d)}function i(u,d){if(Q.isUndefined(d)){if(!Q.isUndefined(u))return n(void 0,u)}else return n(void 0,d)}function l(u,d,f){if(f in t)return n(u,d);if(f in e)return n(void 0,u)}const c={url:a,method:a,data:a,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:l,headers:(u,d,f)=>s(Eb(u),Eb(d),f,!0)};return Q.forEach(Object.keys({...e,...t}),function(d){const f=c[d]||s,h=f(e[d],t[d],d);Q.isUndefined(h)&&f!==l||(r[d]=h)}),r}const F_=e=>{const t=vi({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:a,headers:i,auth:l}=t;if(t.headers=i=jr.from(i),t.url=O_(I_(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&i.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),Q.isFormData(r)){if(Zt.hasStandardBrowserEnv||Zt.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(Q.isFunction(r.getHeaders)){const c=r.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([d,f])=>{u.includes(d.toLowerCase())&&i.set(d,f)})}}if(Zt.hasStandardBrowserEnv&&(n&&Q.isFunction(n)&&(n=n(t)),n||n!==!1&&mR(t.url))){const c=s&&a&&pR.read(a);c&&i.set(s,c)}return t},vR=typeof XMLHttpRequest<"u",xR=vR&&function(e){return new Promise(function(r,n){const s=F_(e);let a=s.data;const i=jr.from(s.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=s,d,f,h,g,m;function p(){g&&g(),m&&m(),s.cancelToken&&s.cancelToken.unsubscribe(d),s.signal&&s.signal.removeEventListener("abort",d)}let w=new XMLHttpRequest;w.open(s.method.toUpperCase(),s.url,!0),w.timeout=s.timeout;function y(){if(!w)return;const x=jr.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),_={data:!l||l==="text"||l==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:x,config:e,request:w};L_(function(E){r(E),p()},function(E){n(E),p()},_),w=null}"onloadend"in w?w.onloadend=y:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(y)},w.onabort=function(){w&&(n(new $e("Request aborted",$e.ECONNABORTED,e,w)),w=null)},w.onerror=function(b){const _=b&&b.message?b.message:"Network Error",S=new $e(_,$e.ERR_NETWORK,e,w);S.event=b||null,n(S),w=null},w.ontimeout=function(){let b=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const _=s.transitional||M_;s.timeoutErrorMessage&&(b=s.timeoutErrorMessage),n(new $e(b,_.clarifyTimeoutError?$e.ETIMEDOUT:$e.ECONNABORTED,e,w)),w=null},a===void 0&&i.setContentType(null),"setRequestHeader"in w&&Q.forEach(i.toJSON(),function(b,_){w.setRequestHeader(_,b)}),Q.isUndefined(s.withCredentials)||(w.withCredentials=!!s.withCredentials),l&&l!=="json"&&(w.responseType=s.responseType),u&&([h,m]=xf(u,!0),w.addEventListener("progress",h)),c&&w.upload&&([f,g]=xf(c),w.upload.addEventListener("progress",f),w.upload.addEventListener("loadend",g)),(s.cancelToken||s.signal)&&(d=x=>{w&&(n(!x||x.type?new Yo(null,e,w):x),w.abort(),w=null)},s.cancelToken&&s.cancelToken.subscribe(d),s.signal&&(s.signal.aborted?d():s.signal.addEventListener("abort",d)));const v=dR(s.url);if(v&&Zt.protocols.indexOf(v)===-1){n(new $e("Unsupported protocol "+v+":",$e.ERR_BAD_REQUEST,e));return}w.send(a||null)})},bR=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,s;const a=function(u){if(!s){s=!0,l();const d=u instanceof Error?u:this.reason;n.abort(d instanceof $e?d:new Yo(d instanceof Error?d.message:d))}};let i=t&&setTimeout(()=>{i=null,a(new $e(`timeout ${t} of ms exceeded`,$e.ETIMEDOUT))},t);const l=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(a):u.removeEventListener("abort",a)}),e=null)};e.forEach(u=>u.addEventListener("abort",a));const{signal:c}=n;return c.unsubscribe=()=>Q.asap(l),c}},wR=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,s;for(;n<r;)s=n+t,yield e.slice(n,s),n=s},NR=async function*(e,t){for await(const r of SR(e))yield*wR(r,t)},SR=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},Cb=(e,t,r,n)=>{const s=NR(e,t);let a=0,i,l=c=>{i||(i=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await s.next();if(u){l(),c.close();return}let f=d.byteLength;if(r){let h=a+=f;r(h)}c.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(c){return l(c),s.return()}},{highWaterMark:2})},Tb=64*1024,{isFunction:Gu}=Q,jR=(({Request:e,Response:t})=>({Request:e,Response:t}))(Q.global),{ReadableStream:Pb,TextEncoder:Ab}=Q.global,Ob=(e,...t)=>{try{return!!e(...t)}catch{return!1}},_R=e=>{e=Q.merge.call({skipUndefined:!0},jR,e);const{fetch:t,Request:r,Response:n}=e,s=t?Gu(t):typeof fetch=="function",a=Gu(r),i=Gu(n);if(!s)return!1;const l=s&&Gu(Pb),c=s&&(typeof Ab=="function"?(m=>p=>m.encode(p))(new Ab):async m=>new Uint8Array(await new r(m).arrayBuffer())),u=a&&l&&Ob(()=>{let m=!1;const p=new r(Zt.origin,{body:new Pb,method:"POST",get duplex(){return m=!0,"half"}}).headers.has("Content-Type");return m&&!p}),d=i&&l&&Ob(()=>Q.isReadableStream(new n("").body)),f={stream:d&&(m=>m.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(m=>{!f[m]&&(f[m]=(p,w)=>{let y=p&&p[m];if(y)return y.call(p);throw new $e(`Response type '${m}' is not supported`,$e.ERR_NOT_SUPPORT,w)})});const h=async m=>{if(m==null)return 0;if(Q.isBlob(m))return m.size;if(Q.isSpecCompliantForm(m))return(await new r(Zt.origin,{method:"POST",body:m}).arrayBuffer()).byteLength;if(Q.isArrayBufferView(m)||Q.isArrayBuffer(m))return m.byteLength;if(Q.isURLSearchParams(m)&&(m=m+""),Q.isString(m))return(await c(m)).byteLength},g=async(m,p)=>{const w=Q.toFiniteNumber(m.getContentLength());return w??h(p)};return async m=>{let{url:p,method:w,data:y,signal:v,cancelToken:x,timeout:b,onDownloadProgress:_,onUploadProgress:S,responseType:E,headers:C,withCredentials:M="same-origin",fetchOptions:$}=F_(m),Y=t||fetch;E=E?(E+"").toLowerCase():"text";let J=bR([v,x&&x.toAbortSignal()],b),G=null;const se=J&&J.unsubscribe&&(()=>{J.unsubscribe()});let ce;try{if(S&&u&&w!=="get"&&w!=="head"&&(ce=await g(C,y))!==0){let V=new r(p,{method:"POST",body:y,duplex:"half"}),W;if(Q.isFormData(y)&&(W=V.headers.get("content-type"))&&C.setContentType(W),V.body){const[T,R]=Db(ce,xf(kb(S)));y=Cb(V.body,Tb,T,R)}}Q.isString(M)||(M=M?"include":"omit");const Z=a&&"credentials"in r.prototype,he={...$,signal:J,method:w.toUpperCase(),headers:C.normalize().toJSON(),body:y,duplex:"half",credentials:Z?M:void 0};G=a&&new r(p,he);let te=await(a?Y(G,$):Y(p,he));const U=d&&(E==="stream"||E==="response");if(d&&(_||U&&se)){const V={};["status","statusText","headers"].forEach(X=>{V[X]=te[X]});const W=Q.toFiniteNumber(te.headers.get("content-length")),[T,R]=_&&Db(W,xf(kb(_),!0))||[];te=new n(Cb(te.body,Tb,T,()=>{R&&R(),se&&se()}),V)}E=E||"text";let oe=await f[Q.findKey(f,E)||"text"](te,m);return!U&&se&&se(),await new Promise((V,W)=>{L_(V,W,{data:oe,headers:jr.from(te.headers),status:te.status,statusText:te.statusText,config:m,request:G})})}catch(Z){throw se&&se(),Z&&Z.name==="TypeError"&&/Load failed|fetch/i.test(Z.message)?Object.assign(new $e("Network Error",$e.ERR_NETWORK,m,G),{cause:Z.cause||Z}):$e.from(Z,Z&&Z.code,m,G)}}},DR=new Map,W_=e=>{let t=e?e.env:{};const{fetch:r,Request:n,Response:s}=t,a=[n,s,r];let i=a.length,l=i,c,u,d=DR;for(;l--;)c=a[l],u=d.get(c),u===void 0&&d.set(c,u=l?new Map:_R(t)),d=u;return u};W_();const Cg={http:H$,xhr:xR,fetch:{get:W_}};Q.forEach(Cg,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Mb=e=>`- ${e}`,kR=e=>Q.isFunction(e)||e===null||e===!1,B_={getAdapter:(e,t)=>{e=Q.isArray(e)?e:[e];const{length:r}=e;let n,s;const a={};for(let i=0;i<r;i++){n=e[i];let l;if(s=n,!kR(n)&&(s=Cg[(l=String(n)).toLowerCase()],s===void 0))throw new $e(`Unknown adapter '${l}'`);if(s&&(Q.isFunction(s)||(s=s.get(t))))break;a[l||"#"+i]=s}if(!s){const i=Object.entries(a).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let l=r?i.length>1?`since :
`+i.map(Mb).join(`
`):" "+Mb(i[0]):"as no adapter specified";throw new $e("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return s},adapters:Cg};function Gm(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Yo(null,e)}function $b(e){return Gm(e),e.headers=jr.from(e.headers),e.data=Km.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),B_.getAdapter(e.adapter||su.adapter,e)(e).then(function(n){return Gm(e),n.data=Km.call(e,e.transformResponse,n),n.headers=jr.from(n.headers),n},function(n){return R_(n)||(Gm(e),n&&n.response&&(n.response.data=Km.call(e,e.transformResponse,n.response),n.response.headers=jr.from(n.response.headers))),Promise.reject(n)})}const U_="1.12.2",yh={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{yh[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const Rb={};yh.transitional=function(t,r,n){function s(a,i){return"[Axios v"+U_+"] Transitional option '"+a+"'"+i+(n?". "+n:"")}return(a,i,l)=>{if(t===!1)throw new $e(s(i," has been removed"+(r?" in "+r:"")),$e.ERR_DEPRECATED);return r&&!Rb[i]&&(Rb[i]=!0,console.warn(s(i," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(a,i,l):!0}};yh.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function ER(e,t,r){if(typeof e!="object")throw new $e("options must be an object",$e.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let s=n.length;for(;s-- >0;){const a=n[s],i=t[a];if(i){const l=e[a],c=l===void 0||i(l,a,e);if(c!==!0)throw new $e("option "+a+" must be "+c,$e.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new $e("Unknown option "+a,$e.ERR_BAD_OPTION)}}const Od={assertOptions:ER,validators:yh},On=Od.validators;let ci=class{constructor(t){this.defaults=t||{},this.interceptors={request:new jb,response:new jb}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const a=s.stack?s.stack.replace(/^.+\n/,""):"";try{n.stack?a&&!String(n.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+a):n.stack=a}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=vi(this.defaults,r);const{transitional:n,paramsSerializer:s,headers:a}=r;n!==void 0&&Od.assertOptions(n,{silentJSONParsing:On.transitional(On.boolean),forcedJSONParsing:On.transitional(On.boolean),clarifyTimeoutError:On.transitional(On.boolean)},!1),s!=null&&(Q.isFunction(s)?r.paramsSerializer={serialize:s}:Od.assertOptions(s,{encode:On.function,serialize:On.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Od.assertOptions(r,{baseUrl:On.spelling("baseURL"),withXsrfToken:On.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let i=a&&Q.merge(a.common,a[r.method]);a&&Q.forEach(["delete","get","head","post","put","patch","common"],m=>{delete a[m]}),r.headers=jr.concat(i,a);const l=[];let c=!0;this.interceptors.request.forEach(function(p){typeof p.runWhen=="function"&&p.runWhen(r)===!1||(c=c&&p.synchronous,l.unshift(p.fulfilled,p.rejected))});const u=[];this.interceptors.response.forEach(function(p){u.push(p.fulfilled,p.rejected)});let d,f=0,h;if(!c){const m=[$b.bind(this),void 0];for(m.unshift(...l),m.push(...u),h=m.length,d=Promise.resolve(r);f<h;)d=d.then(m[f++],m[f++]);return d}h=l.length;let g=r;for(;f<h;){const m=l[f++],p=l[f++];try{g=m(g)}catch(w){p.call(this,w);break}}try{d=$b.call(this,g)}catch(m){return Promise.reject(m)}for(f=0,h=u.length;f<h;)d=d.then(u[f++],u[f++]);return d}getUri(t){t=vi(this.defaults,t);const r=I_(t.baseURL,t.url,t.allowAbsoluteUrls);return O_(r,t.params,t.paramsSerializer)}};Q.forEach(["delete","get","head","options"],function(t){ci.prototype[t]=function(r,n){return this.request(vi(n||{},{method:t,url:r,data:(n||{}).data}))}});Q.forEach(["post","put","patch"],function(t){function r(n){return function(a,i,l){return this.request(vi(l||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:a,data:i}))}}ci.prototype[t]=r(),ci.prototype[t+"Form"]=r(!0)});let CR=class H_{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(a){r=a});const n=this;this.promise.then(s=>{if(!n._listeners)return;let a=n._listeners.length;for(;a-- >0;)n._listeners[a](s);n._listeners=null}),this.promise.then=s=>{let a;const i=new Promise(l=>{n.subscribe(l),a=l}).then(s);return i.cancel=function(){n.unsubscribe(a)},i},t(function(a,i,l){n.reason||(n.reason=new Yo(a,i,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new H_(function(s){t=s}),cancel:t}}};function TR(e){return function(r){return e.apply(null,r)}}function PR(e){return Q.isObject(e)&&e.isAxiosError===!0}const Tg={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Tg).forEach(([e,t])=>{Tg[t]=e});function z_(e){const t=new ci(e),r=w_(ci.prototype.request,t);return Q.extend(r,ci.prototype,t,{allOwnKeys:!0}),Q.extend(r,t,null,{allOwnKeys:!0}),r.create=function(s){return z_(vi(e,s))},r}const jt=z_(su);jt.Axios=ci;jt.CanceledError=Yo;jt.CancelToken=CR;jt.isCancel=R_;jt.VERSION=U_;jt.toFormData=gh;jt.AxiosError=$e;jt.Cancel=jt.CanceledError;jt.all=function(t){return Promise.all(t)};jt.spread=TR;jt.isAxiosError=PR;jt.mergeConfig=vi;jt.AxiosHeaders=jr;jt.formToJSON=e=>$_(Q.isHTMLForm(e)?new FormData(e):e);jt.getAdapter=B_.getAdapter;jt.HttpStatusCode=Tg;jt.default=jt;const{Axios:bse,AxiosError:wse,CanceledError:Nse,isCancel:Sse,CancelToken:jse,VERSION:_se,all:Dse,Cancel:kse,isAxiosError:Ese,spread:Cse,toFormData:Tse,AxiosHeaders:Pse,HttpStatusCode:Ase,formToJSON:Ose,getAdapter:Mse,mergeConfig:$se}=jt,AR="/api",Pe=jt.create({baseURL:AR,headers:{"Content-Type":"application/json"}});Pe.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));Pe.interceptors.response.use(e=>e,e=>{var t;return((t=e.response)==null?void 0:t.status)===401&&(localStorage.removeItem("token"),window.location.href="/login"),Promise.reject(e)});const V_=N.createContext(void 0);function OR({children:e}){const[t,r]=N.useState(null),[n,s]=N.useState(!0),a=ah();N.useEffect(()=>{i()},[]);const i=async()=>{try{const d=localStorage.getItem("token");if(!d){s(!1);return}Pe.defaults.headers.common.Authorization=`Bearer ${d}`;const f=await Pe.get("/auth/me");f.data.success&&r(f.data.user)}catch{localStorage.removeItem("token"),delete Pe.defaults.headers.common.Authorization}finally{s(!1)}},l=async(d,f)=>{var h,g;try{const m=await Pe.post("/auth/login",{username:d,password:f}),{token:p,user:w}=m.data;localStorage.setItem("token",p),Pe.defaults.headers.common.Authorization=`Bearer ${p}`,r(w),ne.success(`${w.name}님, 환영합니다!`),a("/")}catch(m){const p=m;throw ne.error(((g=(h=p.response)==null?void 0:h.data)==null?void 0:g.message)||"로그인 실패"),m}},c=()=>{localStorage.removeItem("token"),delete Pe.defaults.headers.common.Authorization,r(null),a("/login"),ne.success("로그아웃되었습니다")},u=d=>{r(d)};return o.jsx(V_.Provider,{value:{user:t,loading:n,login:l,logout:c,updateUser:u},children:e})}function Pa(){const e=N.useContext(V_);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function Y_(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=Y_(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Un(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=Y_(e))&&(n&&(n+=" "),n+=t);return n}/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var MR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $R=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),nt=(e,t)=>{const r=N.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:a=2,absoluteStrokeWidth:i,className:l="",children:c,...u},d)=>N.createElement("svg",{ref:d,...MR,width:s,height:s,stroke:n,strokeWidth:i?Number(a)*24/Number(s):a,className:["lucide",`lucide-${$R(e)}`,l].join(" "),...u},[...t.map(([f,h])=>N.createElement(f,h)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RR=nt("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xm=nt("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LR=nt("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IR=nt("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ca=nt("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FR=nt("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WR=nt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lb=nt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ib=nt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BR=nt("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UR=nt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HR=nt("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eo=nt("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zR=nt("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VR=nt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YR=nt("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wc=nt("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fb=nt("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wb=nt("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q_=nt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bf=nt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xr=nt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bv=nt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qR=nt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KR=nt("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=nt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),GR={},Bb=e=>{let t;const r=new Set,n=(d,f)=>{const h=typeof d=="function"?d(t):d;if(!Object.is(h,t)){const g=t;t=f??(typeof h!="object"||h===null)?h:Object.assign({},t,h),r.forEach(m=>m(t,g))}},s=()=>t,c={setState:n,getState:s,getInitialState:()=>u,subscribe:d=>(r.add(d),()=>r.delete(d)),destroy:()=>{(GR?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},u=t=e(n,s,c);return c},XR=e=>e?Bb(e):Bb;var K_={exports:{}},G_={},X_={exports:{}},Q_={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Co=N;function QR(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var JR=typeof Object.is=="function"?Object.is:QR,ZR=Co.useState,eL=Co.useEffect,tL=Co.useLayoutEffect,rL=Co.useDebugValue;function nL(e,t){var r=t(),n=ZR({inst:{value:r,getSnapshot:t}}),s=n[0].inst,a=n[1];return tL(function(){s.value=r,s.getSnapshot=t,Qm(s)&&a({inst:s})},[e,r,t]),eL(function(){return Qm(s)&&a({inst:s}),e(function(){Qm(s)&&a({inst:s})})},[e]),rL(r),r}function Qm(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!JR(e,r)}catch{return!0}}function sL(e,t){return t()}var aL=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?sL:nL;Q_.useSyncExternalStore=Co.useSyncExternalStore!==void 0?Co.useSyncExternalStore:aL;X_.exports=Q_;var iL=X_.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vh=N,oL=iL;function lL(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var cL=typeof Object.is=="function"?Object.is:lL,uL=oL.useSyncExternalStore,dL=vh.useRef,fL=vh.useEffect,hL=vh.useMemo,mL=vh.useDebugValue;G_.useSyncExternalStoreWithSelector=function(e,t,r,n,s){var a=dL(null);if(a.current===null){var i={hasValue:!1,value:null};a.current=i}else i=a.current;a=hL(function(){function c(g){if(!u){if(u=!0,d=g,g=n(g),s!==void 0&&i.hasValue){var m=i.value;if(s(m,g))return f=m}return f=g}if(m=f,cL(d,g))return m;var p=n(g);return s!==void 0&&s(m,p)?(d=g,m):(d=g,f=p)}var u=!1,d,f,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,n,s]);var l=uL(e,a[0],a[1]);return fL(function(){i.hasValue=!0,i.value=l},[l]),mL(l),l};K_.exports=G_;var pL=K_.exports;const gL=fr(pL),J_={},{useDebugValue:yL}=F,{useSyncExternalStoreWithSelector:vL}=gL;let Ub=!1;const xL=e=>e;function bL(e,t=xL,r){(J_?"production":void 0)!=="production"&&r&&!Ub&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Ub=!0);const n=vL(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return yL(n),n}const wL=e=>{(J_?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?XR(e):e,r=(n,s)=>bL(t,n,s);return Object.assign(r,t),r},Z_=e=>wL,NL={};function SL(e,t){let r;try{r=e()}catch{return}return{getItem:s=>{var a;const i=c=>c===null?null:JSON.parse(c,void 0),l=(a=r.getItem(s))!=null?a:null;return l instanceof Promise?l.then(i):i(l)},setItem:(s,a)=>r.setItem(s,JSON.stringify(a,void 0)),removeItem:s=>r.removeItem(s)}}const Nc=e=>t=>{try{const r=e(t);return r instanceof Promise?r:{then(n){return Nc(n)(r)},catch(n){return this}}}catch(r){return{then(n){return this},catch(n){return Nc(n)(r)}}}},jL=(e,t)=>(r,n,s)=>{let a={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:w=>w,version:0,merge:(w,y)=>({...y,...w}),...t},i=!1;const l=new Set,c=new Set;let u;try{u=a.getStorage()}catch{}if(!u)return e((...w)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),r(...w)},n,s);const d=Nc(a.serialize),f=()=>{const w=a.partialize({...n()});let y;const v=d({state:w,version:a.version}).then(x=>u.setItem(a.name,x)).catch(x=>{y=x});if(y)throw y;return v},h=s.setState;s.setState=(w,y)=>{h(w,y),f()};const g=e((...w)=>{r(...w),f()},n,s);let m;const p=()=>{var w;if(!u)return;i=!1,l.forEach(v=>v(n()));const y=((w=a.onRehydrateStorage)==null?void 0:w.call(a,n()))||void 0;return Nc(u.getItem.bind(u))(a.name).then(v=>{if(v)return a.deserialize(v)}).then(v=>{if(v)if(typeof v.version=="number"&&v.version!==a.version){if(a.migrate)return a.migrate(v.state,v.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return v.state}).then(v=>{var x;return m=a.merge(v,(x=n())!=null?x:g),r(m,!0),f()}).then(()=>{y==null||y(m,void 0),i=!0,c.forEach(v=>v(m))}).catch(v=>{y==null||y(void 0,v)})};return s.persist={setOptions:w=>{a={...a,...w},w.getStorage&&(u=w.getStorage())},clearStorage:()=>{u==null||u.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>p(),hasHydrated:()=>i,onHydrate:w=>(l.add(w),()=>{l.delete(w)}),onFinishHydration:w=>(c.add(w),()=>{c.delete(w)})},p(),m||g},_L=(e,t)=>(r,n,s)=>{let a={storage:SL(()=>localStorage),partialize:p=>p,version:0,merge:(p,w)=>({...w,...p}),...t},i=!1;const l=new Set,c=new Set;let u=a.storage;if(!u)return e((...p)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),r(...p)},n,s);const d=()=>{const p=a.partialize({...n()});return u.setItem(a.name,{state:p,version:a.version})},f=s.setState;s.setState=(p,w)=>{f(p,w),d()};const h=e((...p)=>{r(...p),d()},n,s);s.getInitialState=()=>h;let g;const m=()=>{var p,w;if(!u)return;i=!1,l.forEach(v=>{var x;return v((x=n())!=null?x:h)});const y=((w=a.onRehydrateStorage)==null?void 0:w.call(a,(p=n())!=null?p:h))||void 0;return Nc(u.getItem.bind(u))(a.name).then(v=>{if(v)if(typeof v.version=="number"&&v.version!==a.version){if(a.migrate)return[!0,a.migrate(v.state,v.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,v.state];return[!1,void 0]}).then(v=>{var x;const[b,_]=v;if(g=a.merge(_,(x=n())!=null?x:h),r(g,!0),b)return d()}).then(()=>{y==null||y(g,void 0),g=n(),i=!0,c.forEach(v=>v(g))}).catch(v=>{y==null||y(void 0,v)})};return s.persist={setOptions:p=>{a={...a,...p},p.storage&&(u=p.storage)},clearStorage:()=>{u==null||u.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>m(),hasHydrated:()=>i,onHydrate:p=>(l.add(p),()=>{l.delete(p)}),onFinishHydration:p=>(c.add(p),()=>{c.delete(p)})},a.skipHydration||m(),g||h},DL=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((NL?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),jL(e,t)):_L(e,t),eD=DL,tD=Z_()(eD((e,t)=>({notifications:[],unreadCount:0,addNotification:r=>{const n={...r,id:Date.now().toString()+Math.random().toString(36).substr(2,9),read:!1,createdAt:new Date};e(s=>({notifications:[n,...s.notifications].slice(0,50),unreadCount:s.unreadCount+1}))},markAsRead:r=>{e(n=>({notifications:n.notifications.map(s=>s.id===r?{...s,read:!0}:s),unreadCount:Math.max(0,n.unreadCount-1)}))},markAllAsRead:()=>{e(r=>({notifications:r.notifications.map(n=>({...n,read:!0})),unreadCount:0}))},deleteNotification:r=>{e(n=>{const s=n.notifications.find(i=>i.id===r),a=s&&!s.read;return{notifications:n.notifications.filter(i=>i.id!==r),unreadCount:a?Math.max(0,n.unreadCount-1):n.unreadCount}})},clearAll:()=>{e({notifications:[],unreadCount:0})},getUnreadCount:()=>t().unreadCount}),{name:"notification-storage",partialize:e=>({notifications:e.notifications,unreadCount:e.unreadCount})}));function wn(e){"@babel/helpers - typeof";return wn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wn(e)}function ja(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function qe(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function Ge(e){qe(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||wn(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function kL(e,t){qe(2,arguments);var r=Ge(e),n=ja(t);return isNaN(n)?new Date(NaN):(n&&r.setDate(r.getDate()+n),r)}function EL(e,t){qe(2,arguments);var r=Ge(e).getTime(),n=ja(t);return new Date(r+n)}var CL={};function au(){return CL}function Pg(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function Hb(e){qe(1,arguments);var t=Ge(e);return t.setHours(0,0,0,0),t}function Md(e,t){qe(2,arguments);var r=Ge(e),n=Ge(t),s=r.getTime()-n.getTime();return s<0?-1:s>0?1:s}function rD(e,t){qe(2,arguments);var r=Hb(e),n=Hb(t);return r.getTime()===n.getTime()}function TL(e){return qe(1,arguments),e instanceof Date||wn(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function PL(e){if(qe(1,arguments),!TL(e)&&typeof e!="number")return!1;var t=Ge(e);return!isNaN(Number(t))}function AL(e,t){qe(2,arguments);var r=Ge(e),n=Ge(t),s=r.getFullYear()-n.getFullYear(),a=r.getMonth()-n.getMonth();return s*12+a}function OL(e,t){return qe(2,arguments),Ge(e).getTime()-Ge(t).getTime()}var ML={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}},$L="trunc";function RL(e){return ML[$L]}function LL(e){qe(1,arguments);var t=Ge(e);return t.setHours(23,59,59,999),t}function IL(e){qe(1,arguments);var t=Ge(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function FL(e){qe(1,arguments);var t=Ge(e);return LL(t).getTime()===IL(t).getTime()}function WL(e,t){qe(2,arguments);var r=Ge(e),n=Ge(t),s=Md(r,n),a=Math.abs(AL(r,n)),i;if(a<1)i=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-s*a);var l=Md(r,n)===-s;FL(Ge(e))&&a===1&&Md(e,n)===1&&(l=!1),i=s*(a-Number(l))}return i===0?0:i}function BL(e,t,r){qe(2,arguments);var n=OL(e,t)/1e3;return RL()(n)}function UL(e,t){qe(2,arguments);var r=ja(t);return EL(e,-r)}var HL=864e5;function zL(e){qe(1,arguments);var t=Ge(e),r=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var n=t.getTime(),s=r-n;return Math.floor(s/HL)+1}function wf(e){qe(1,arguments);var t=1,r=Ge(e),n=r.getUTCDay(),s=(n<t?7:0)+n-t;return r.setUTCDate(r.getUTCDate()-s),r.setUTCHours(0,0,0,0),r}function nD(e){qe(1,arguments);var t=Ge(e),r=t.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(r+1,0,4),n.setUTCHours(0,0,0,0);var s=wf(n),a=new Date(0);a.setUTCFullYear(r,0,4),a.setUTCHours(0,0,0,0);var i=wf(a);return t.getTime()>=s.getTime()?r+1:t.getTime()>=i.getTime()?r:r-1}function VL(e){qe(1,arguments);var t=nD(e),r=new Date(0);r.setUTCFullYear(t,0,4),r.setUTCHours(0,0,0,0);var n=wf(r);return n}var YL=6048e5;function qL(e){qe(1,arguments);var t=Ge(e),r=wf(t).getTime()-VL(t).getTime();return Math.round(r/YL)+1}function Nf(e,t){var r,n,s,a,i,l,c,u;qe(1,arguments);var d=au(),f=ja((r=(n=(s=(a=t==null?void 0:t.weekStartsOn)!==null&&a!==void 0?a:t==null||(i=t.locale)===null||i===void 0||(l=i.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&s!==void 0?s:d.weekStartsOn)!==null&&n!==void 0?n:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&r!==void 0?r:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=Ge(e),g=h.getUTCDay(),m=(g<f?7:0)+g-f;return h.setUTCDate(h.getUTCDate()-m),h.setUTCHours(0,0,0,0),h}function sD(e,t){var r,n,s,a,i,l,c,u;qe(1,arguments);var d=Ge(e),f=d.getUTCFullYear(),h=au(),g=ja((r=(n=(s=(a=t==null?void 0:t.firstWeekContainsDate)!==null&&a!==void 0?a:t==null||(i=t.locale)===null||i===void 0||(l=i.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&s!==void 0?s:h.firstWeekContainsDate)!==null&&n!==void 0?n:(c=h.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&r!==void 0?r:1);if(!(g>=1&&g<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var m=new Date(0);m.setUTCFullYear(f+1,0,g),m.setUTCHours(0,0,0,0);var p=Nf(m,t),w=new Date(0);w.setUTCFullYear(f,0,g),w.setUTCHours(0,0,0,0);var y=Nf(w,t);return d.getTime()>=p.getTime()?f+1:d.getTime()>=y.getTime()?f:f-1}function KL(e,t){var r,n,s,a,i,l,c,u;qe(1,arguments);var d=au(),f=ja((r=(n=(s=(a=t==null?void 0:t.firstWeekContainsDate)!==null&&a!==void 0?a:t==null||(i=t.locale)===null||i===void 0||(l=i.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&s!==void 0?s:d.firstWeekContainsDate)!==null&&n!==void 0?n:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&r!==void 0?r:1),h=sD(e,t),g=new Date(0);g.setUTCFullYear(h,0,f),g.setUTCHours(0,0,0,0);var m=Nf(g,t);return m}var GL=6048e5;function XL(e,t){qe(1,arguments);var r=Ge(e),n=Nf(r,t).getTime()-KL(r,t).getTime();return Math.round(n/GL)+1}function Ke(e,t){for(var r=e<0?"-":"",n=Math.abs(e).toString();n.length<t;)n="0"+n;return r+n}var Bs={y:function(t,r){var n=t.getUTCFullYear(),s=n>0?n:1-n;return Ke(r==="yy"?s%100:s,r.length)},M:function(t,r){var n=t.getUTCMonth();return r==="M"?String(n+1):Ke(n+1,2)},d:function(t,r){return Ke(t.getUTCDate(),r.length)},a:function(t,r){var n=t.getUTCHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h:function(t,r){return Ke(t.getUTCHours()%12||12,r.length)},H:function(t,r){return Ke(t.getUTCHours(),r.length)},m:function(t,r){return Ke(t.getUTCMinutes(),r.length)},s:function(t,r){return Ke(t.getUTCSeconds(),r.length)},S:function(t,r){var n=r.length,s=t.getUTCMilliseconds(),a=Math.floor(s*Math.pow(10,n-3));return Ke(a,r.length)}},$i={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},QL={G:function(t,r,n){var s=t.getUTCFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return n.era(s,{width:"abbreviated"});case"GGGGG":return n.era(s,{width:"narrow"});case"GGGG":default:return n.era(s,{width:"wide"})}},y:function(t,r,n){if(r==="yo"){var s=t.getUTCFullYear(),a=s>0?s:1-s;return n.ordinalNumber(a,{unit:"year"})}return Bs.y(t,r)},Y:function(t,r,n,s){var a=sD(t,s),i=a>0?a:1-a;if(r==="YY"){var l=i%100;return Ke(l,2)}return r==="Yo"?n.ordinalNumber(i,{unit:"year"}):Ke(i,r.length)},R:function(t,r){var n=nD(t);return Ke(n,r.length)},u:function(t,r){var n=t.getUTCFullYear();return Ke(n,r.length)},Q:function(t,r,n){var s=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"Q":return String(s);case"QQ":return Ke(s,2);case"Qo":return n.ordinalNumber(s,{unit:"quarter"});case"QQQ":return n.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(s,{width:"wide",context:"formatting"})}},q:function(t,r,n){var s=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"q":return String(s);case"qq":return Ke(s,2);case"qo":return n.ordinalNumber(s,{unit:"quarter"});case"qqq":return n.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(s,{width:"wide",context:"standalone"})}},M:function(t,r,n){var s=t.getUTCMonth();switch(r){case"M":case"MM":return Bs.M(t,r);case"Mo":return n.ordinalNumber(s+1,{unit:"month"});case"MMM":return n.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(s,{width:"wide",context:"formatting"})}},L:function(t,r,n){var s=t.getUTCMonth();switch(r){case"L":return String(s+1);case"LL":return Ke(s+1,2);case"Lo":return n.ordinalNumber(s+1,{unit:"month"});case"LLL":return n.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(s,{width:"wide",context:"standalone"})}},w:function(t,r,n,s){var a=XL(t,s);return r==="wo"?n.ordinalNumber(a,{unit:"week"}):Ke(a,r.length)},I:function(t,r,n){var s=qL(t);return r==="Io"?n.ordinalNumber(s,{unit:"week"}):Ke(s,r.length)},d:function(t,r,n){return r==="do"?n.ordinalNumber(t.getUTCDate(),{unit:"date"}):Bs.d(t,r)},D:function(t,r,n){var s=zL(t);return r==="Do"?n.ordinalNumber(s,{unit:"dayOfYear"}):Ke(s,r.length)},E:function(t,r,n){var s=t.getUTCDay();switch(r){case"E":case"EE":case"EEE":return n.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(s,{width:"short",context:"formatting"});case"EEEE":default:return n.day(s,{width:"wide",context:"formatting"})}},e:function(t,r,n,s){var a=t.getUTCDay(),i=(a-s.weekStartsOn+8)%7||7;switch(r){case"e":return String(i);case"ee":return Ke(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});case"eeee":default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(t,r,n,s){var a=t.getUTCDay(),i=(a-s.weekStartsOn+8)%7||7;switch(r){case"c":return String(i);case"cc":return Ke(i,r.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});case"cccc":default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(t,r,n){var s=t.getUTCDay(),a=s===0?7:s;switch(r){case"i":return String(a);case"ii":return Ke(a,r.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(s,{width:"short",context:"formatting"});case"iiii":default:return n.day(s,{width:"wide",context:"formatting"})}},a:function(t,r,n){var s=t.getUTCHours(),a=s/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(t,r,n){var s=t.getUTCHours(),a;switch(s===12?a=$i.noon:s===0?a=$i.midnight:a=s/12>=1?"pm":"am",r){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(t,r,n){var s=t.getUTCHours(),a;switch(s>=17?a=$i.evening:s>=12?a=$i.afternoon:s>=4?a=$i.morning:a=$i.night,r){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(t,r,n){if(r==="ho"){var s=t.getUTCHours()%12;return s===0&&(s=12),n.ordinalNumber(s,{unit:"hour"})}return Bs.h(t,r)},H:function(t,r,n){return r==="Ho"?n.ordinalNumber(t.getUTCHours(),{unit:"hour"}):Bs.H(t,r)},K:function(t,r,n){var s=t.getUTCHours()%12;return r==="Ko"?n.ordinalNumber(s,{unit:"hour"}):Ke(s,r.length)},k:function(t,r,n){var s=t.getUTCHours();return s===0&&(s=24),r==="ko"?n.ordinalNumber(s,{unit:"hour"}):Ke(s,r.length)},m:function(t,r,n){return r==="mo"?n.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):Bs.m(t,r)},s:function(t,r,n){return r==="so"?n.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):Bs.s(t,r)},S:function(t,r){return Bs.S(t,r)},X:function(t,r,n,s){var a=s._originalDate||t,i=a.getTimezoneOffset();if(i===0)return"Z";switch(r){case"X":return Vb(i);case"XXXX":case"XX":return Ya(i);case"XXXXX":case"XXX":default:return Ya(i,":")}},x:function(t,r,n,s){var a=s._originalDate||t,i=a.getTimezoneOffset();switch(r){case"x":return Vb(i);case"xxxx":case"xx":return Ya(i);case"xxxxx":case"xxx":default:return Ya(i,":")}},O:function(t,r,n,s){var a=s._originalDate||t,i=a.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+zb(i,":");case"OOOO":default:return"GMT"+Ya(i,":")}},z:function(t,r,n,s){var a=s._originalDate||t,i=a.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+zb(i,":");case"zzzz":default:return"GMT"+Ya(i,":")}},t:function(t,r,n,s){var a=s._originalDate||t,i=Math.floor(a.getTime()/1e3);return Ke(i,r.length)},T:function(t,r,n,s){var a=s._originalDate||t,i=a.getTime();return Ke(i,r.length)}};function zb(e,t){var r=e>0?"-":"+",n=Math.abs(e),s=Math.floor(n/60),a=n%60;if(a===0)return r+String(s);var i=t;return r+String(s)+i+Ke(a,2)}function Vb(e,t){if(e%60===0){var r=e>0?"-":"+";return r+Ke(Math.abs(e)/60,2)}return Ya(e,t)}function Ya(e,t){var r=t||"",n=e>0?"-":"+",s=Math.abs(e),a=Ke(Math.floor(s/60),2),i=Ke(s%60,2);return n+a+r+i}var Yb=function(t,r){switch(t){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},aD=function(t,r){switch(t){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},JL=function(t,r){var n=t.match(/(P+)(p+)?/)||[],s=n[1],a=n[2];if(!a)return Yb(t,r);var i;switch(s){case"P":i=r.dateTime({width:"short"});break;case"PP":i=r.dateTime({width:"medium"});break;case"PPP":i=r.dateTime({width:"long"});break;case"PPPP":default:i=r.dateTime({width:"full"});break}return i.replace("{{date}}",Yb(s,r)).replace("{{time}}",aD(a,r))},ZL={p:aD,P:JL},e3=["D","DD"],t3=["YY","YYYY"];function r3(e){return e3.indexOf(e)!==-1}function n3(e){return t3.indexOf(e)!==-1}function qb(e,t,r){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var s3={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},a3=function(t,r,n){var s,a=s3[t];return typeof a=="string"?s=a:r===1?s=a.one:s=a.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+s:s+" ago":s};function lo(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.width?String(t.width):e.defaultWidth,n=e.formats[r]||e.formats[e.defaultWidth];return n}}var i3={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},o3={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},l3={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},c3={date:lo({formats:i3,defaultWidth:"full"}),time:lo({formats:o3,defaultWidth:"full"}),dateTime:lo({formats:l3,defaultWidth:"full"})},u3={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},d3=function(t,r,n,s){return u3[t]};function Hn(e){return function(t,r){var n=r!=null&&r.context?String(r.context):"standalone",s;if(n==="formatting"&&e.formattingValues){var a=e.defaultFormattingWidth||e.defaultWidth,i=r!=null&&r.width?String(r.width):a;s=e.formattingValues[i]||e.formattingValues[a]}else{var l=e.defaultWidth,c=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[c]||e.values[l]}var u=e.argumentCallback?e.argumentCallback(t):t;return s[u]}}var f3={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},h3={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},m3={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},p3={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},g3={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},y3={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},v3=function(t,r){var n=Number(t),s=n%100;if(s>20||s<10)switch(s%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},x3={ordinalNumber:v3,era:Hn({values:f3,defaultWidth:"wide"}),quarter:Hn({values:h3,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:Hn({values:m3,defaultWidth:"wide"}),day:Hn({values:p3,defaultWidth:"wide"}),dayPeriod:Hn({values:g3,defaultWidth:"wide",formattingValues:y3,defaultFormattingWidth:"wide"})};function zn(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],a=t.match(s);if(!a)return null;var i=a[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?w3(l,function(f){return f.test(i)}):b3(l,function(f){return f.test(i)}),u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;var d=t.slice(i.length);return{value:u,rest:d}}}function b3(e,t){for(var r in e)if(e.hasOwnProperty(r)&&t(e[r]))return r}function w3(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return r}function iD(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.match(e.matchPattern);if(!n)return null;var s=n[0],a=t.match(e.parsePattern);if(!a)return null;var i=e.valueCallback?e.valueCallback(a[0]):a[0];i=r.valueCallback?r.valueCallback(i):i;var l=t.slice(s.length);return{value:i,rest:l}}}var N3=/^(\d+)(th|st|nd|rd)?/i,S3=/\d+/i,j3={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},_3={any:[/^b/i,/^(a|c)/i]},D3={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},k3={any:[/1/i,/2/i,/3/i,/4/i]},E3={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},C3={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},T3={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},P3={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},A3={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},O3={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},M3={ordinalNumber:iD({matchPattern:N3,parsePattern:S3,valueCallback:function(t){return parseInt(t,10)}}),era:zn({matchPatterns:j3,defaultMatchWidth:"wide",parsePatterns:_3,defaultParseWidth:"any"}),quarter:zn({matchPatterns:D3,defaultMatchWidth:"wide",parsePatterns:k3,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:zn({matchPatterns:E3,defaultMatchWidth:"wide",parsePatterns:C3,defaultParseWidth:"any"}),day:zn({matchPatterns:T3,defaultMatchWidth:"wide",parsePatterns:P3,defaultParseWidth:"any"}),dayPeriod:zn({matchPatterns:A3,defaultMatchWidth:"any",parsePatterns:O3,defaultParseWidth:"any"})},oD={code:"en-US",formatDistance:a3,formatLong:c3,formatRelative:d3,localize:x3,match:M3,options:{weekStartsOn:0,firstWeekContainsDate:1}},$3=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,R3=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,L3=/^'([^]*?)'?$/,I3=/''/g,F3=/[a-zA-Z]/;function Ce(e,t,r){var n,s,a,i,l,c,u,d,f,h,g,m,p,w,y,v,x,b;qe(2,arguments);var _=String(t),S=au(),E=(n=(s=r==null?void 0:r.locale)!==null&&s!==void 0?s:S.locale)!==null&&n!==void 0?n:oD,C=ja((a=(i=(l=(c=r==null?void 0:r.firstWeekContainsDate)!==null&&c!==void 0?c:r==null||(u=r.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&l!==void 0?l:S.firstWeekContainsDate)!==null&&i!==void 0?i:(f=S.locale)===null||f===void 0||(h=f.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&a!==void 0?a:1);if(!(C>=1&&C<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var M=ja((g=(m=(p=(w=r==null?void 0:r.weekStartsOn)!==null&&w!==void 0?w:r==null||(y=r.locale)===null||y===void 0||(v=y.options)===null||v===void 0?void 0:v.weekStartsOn)!==null&&p!==void 0?p:S.weekStartsOn)!==null&&m!==void 0?m:(x=S.locale)===null||x===void 0||(b=x.options)===null||b===void 0?void 0:b.weekStartsOn)!==null&&g!==void 0?g:0);if(!(M>=0&&M<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!E.localize)throw new RangeError("locale must contain localize property");if(!E.formatLong)throw new RangeError("locale must contain formatLong property");var $=Ge(e);if(!PL($))throw new RangeError("Invalid time value");var Y=Pg($),J=UL($,Y),G={firstWeekContainsDate:C,weekStartsOn:M,locale:E,_originalDate:$},se=_.match(R3).map(function(ce){var Z=ce[0];if(Z==="p"||Z==="P"){var he=ZL[Z];return he(ce,E.formatLong)}return ce}).join("").match($3).map(function(ce){if(ce==="''")return"'";var Z=ce[0];if(Z==="'")return W3(ce);var he=QL[Z];if(he)return!(r!=null&&r.useAdditionalWeekYearTokens)&&n3(ce)&&qb(ce,t,String(e)),!(r!=null&&r.useAdditionalDayOfYearTokens)&&r3(ce)&&qb(ce,t,String(e)),he(J,ce,E.localize,G);if(Z.match(F3))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Z+"`");return ce}).join("");return se}function W3(e){var t=e.match(L3);return t?t[1].replace(I3,"'"):e}function lD(e,t){if(e==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}function B3(e){return lD({},e)}var Kb=1440,U3=2520,Jm=43200,H3=86400;function z3(e,t,r){var n,s;qe(2,arguments);var a=au(),i=(n=(s=r==null?void 0:r.locale)!==null&&s!==void 0?s:a.locale)!==null&&n!==void 0?n:oD;if(!i.formatDistance)throw new RangeError("locale must contain formatDistance property");var l=Md(e,t);if(isNaN(l))throw new RangeError("Invalid time value");var c=lD(B3(r),{addSuffix:!!(r!=null&&r.addSuffix),comparison:l}),u,d;l>0?(u=Ge(t),d=Ge(e)):(u=Ge(e),d=Ge(t));var f=BL(d,u),h=(Pg(d)-Pg(u))/1e3,g=Math.round((f-h)/60),m;if(g<2)return r!=null&&r.includeSeconds?f<5?i.formatDistance("lessThanXSeconds",5,c):f<10?i.formatDistance("lessThanXSeconds",10,c):f<20?i.formatDistance("lessThanXSeconds",20,c):f<40?i.formatDistance("halfAMinute",0,c):f<60?i.formatDistance("lessThanXMinutes",1,c):i.formatDistance("xMinutes",1,c):g===0?i.formatDistance("lessThanXMinutes",1,c):i.formatDistance("xMinutes",g,c);if(g<45)return i.formatDistance("xMinutes",g,c);if(g<90)return i.formatDistance("aboutXHours",1,c);if(g<Kb){var p=Math.round(g/60);return i.formatDistance("aboutXHours",p,c)}else{if(g<U3)return i.formatDistance("xDays",1,c);if(g<Jm){var w=Math.round(g/Kb);return i.formatDistance("xDays",w,c)}else if(g<H3)return m=Math.round(g/Jm),i.formatDistance("aboutXMonths",m,c)}if(m=WL(d,u),m<12){var y=Math.round(g/Jm);return i.formatDistance("xMonths",y,c)}else{var v=m%12,x=Math.floor(m/12);return v<3?i.formatDistance("aboutXYears",x,c):v<9?i.formatDistance("overXYears",x,c):i.formatDistance("almostXYears",x+1,c)}}function V3(e,t){return qe(1,arguments),z3(e,Date.now(),t)}function Y3(e){return qe(1,arguments),Ge(e).getTime()>Date.now()}function Ag(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function wv(e,t){if(e){if(typeof e=="string")return Ag(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ag(e,t):void 0}}function q3(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Sf(e,t){return Sf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Sf(e,t)}function rr(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Sf(e,t)}function jf(e){return jf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},jf(e)}function cD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cD=function(){return!!e})()}function K3(e,t){if(t&&(wn(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return q3(e)}function Rt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function G3(e,t){if(wn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uD(e){var t=G3(e,"string");return wn(t)=="symbol"?t:t+""}function Gb(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,uD(n.key),n)}}function Lt(e,t,r){return t&&Gb(e.prototype,t),r&&Gb(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ka(e,t,r){return(t=uD(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xb(e){return qe(1,arguments),rD(e,Date.now())}function X3(e){return qe(1,arguments),rD(e,kL(Date.now(),1))}var Q3={lessThanXSeconds:{one:"1초 미만",other:"{{count}}초 미만"},xSeconds:{one:"1초",other:"{{count}}초"},halfAMinute:"30초",lessThanXMinutes:{one:"1분 미만",other:"{{count}}분 미만"},xMinutes:{one:"1분",other:"{{count}}분"},aboutXHours:{one:"약 1시간",other:"약 {{count}}시간"},xHours:{one:"1시간",other:"{{count}}시간"},xDays:{one:"1일",other:"{{count}}일"},aboutXWeeks:{one:"약 1주",other:"약 {{count}}주"},xWeeks:{one:"1주",other:"{{count}}주"},aboutXMonths:{one:"약 1개월",other:"약 {{count}}개월"},xMonths:{one:"1개월",other:"{{count}}개월"},aboutXYears:{one:"약 1년",other:"약 {{count}}년"},xYears:{one:"1년",other:"{{count}}년"},overXYears:{one:"1년 이상",other:"{{count}}년 이상"},almostXYears:{one:"거의 1년",other:"거의 {{count}}년"}},J3=function(t,r,n){var s,a=Q3[t];return typeof a=="string"?s=a:r===1?s=a.one:s=a.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?s+" 후":s+" 전":s},Z3={full:"y년 M월 d일 EEEE",long:"y년 M월 d일",medium:"y.MM.dd",short:"y.MM.dd"},eI={full:"a H시 mm분 ss초 zzzz",long:"a H:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},tI={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},rI={date:lo({formats:Z3,defaultWidth:"full"}),time:lo({formats:eI,defaultWidth:"full"}),dateTime:lo({formats:tI,defaultWidth:"full"})},nI={lastWeek:"'지난' eeee p",yesterday:"'어제' p",today:"'오늘' p",tomorrow:"'내일' p",nextWeek:"'다음' eeee p",other:"P"},sI=function(t,r,n,s){return nI[t]},aI={narrow:["BC","AD"],abbreviated:["BC","AD"],wide:["기원전","서기"]},iI={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1분기","2분기","3분기","4분기"]},oI={narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],abbreviated:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],wide:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"]},lI={narrow:["일","월","화","수","목","금","토"],short:["일","월","화","수","목","금","토"],abbreviated:["일","월","화","수","목","금","토"],wide:["일요일","월요일","화요일","수요일","목요일","금요일","토요일"]},cI={narrow:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"},abbreviated:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"},wide:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"}},uI={narrow:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"},abbreviated:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"},wide:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"}},dI=function(t,r){var n=Number(t),s=String(r==null?void 0:r.unit);switch(s){case"minute":case"second":return String(n);case"date":return n+"일";default:return n+"번째"}},fI={ordinalNumber:dI,era:Hn({values:aI,defaultWidth:"wide"}),quarter:Hn({values:iI,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:Hn({values:oI,defaultWidth:"wide"}),day:Hn({values:lI,defaultWidth:"wide"}),dayPeriod:Hn({values:cI,defaultWidth:"wide",formattingValues:uI,defaultFormattingWidth:"wide"})},hI=/^(\d+)(일|번째)?/i,mI=/\d+/i,pI={narrow:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(기원전|서기)/i},gI={any:[/^(bc|기원전)/i,/^(ad|서기)/i]},yI={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234]사?분기/i},vI={any:[/1/i,/2/i,/3/i,/4/i]},xI={narrow:/^(1[012]|[123456789])/,abbreviated:/^(1[012]|[123456789])월/i,wide:/^(1[012]|[123456789])월/i},bI={any:[/^1월?$/,/^2/,/^3/,/^4/,/^5/,/^6/,/^7/,/^8/,/^9/,/^10/,/^11/,/^12/]},wI={narrow:/^[일월화수목금토]/,short:/^[일월화수목금토]/,abbreviated:/^[일월화수목금토]/,wide:/^[일월화수목금토]요일/},NI={any:[/^일/,/^월/,/^화/,/^수/,/^목/,/^금/,/^토/]},SI={any:/^(am|pm|오전|오후|자정|정오|아침|저녁|밤)/i},jI={any:{am:/^(am|오전)/i,pm:/^(pm|오후)/i,midnight:/^자정/i,noon:/^정오/i,morning:/^아침/i,afternoon:/^오후/i,evening:/^저녁/i,night:/^밤/i}},_I={ordinalNumber:iD({matchPattern:hI,parsePattern:mI,valueCallback:function(t){return parseInt(t,10)}}),era:zn({matchPatterns:pI,defaultMatchWidth:"wide",parsePatterns:gI,defaultParseWidth:"any"}),quarter:zn({matchPatterns:yI,defaultMatchWidth:"wide",parsePatterns:vI,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:zn({matchPatterns:xI,defaultMatchWidth:"wide",parsePatterns:bI,defaultParseWidth:"any"}),day:zn({matchPatterns:wI,defaultMatchWidth:"wide",parsePatterns:NI,defaultParseWidth:"any"}),dayPeriod:zn({matchPatterns:SI,defaultMatchWidth:"any",parsePatterns:jI,defaultParseWidth:"any"})},Qe={code:"ko",formatDistance:J3,formatLong:rI,formatRelative:sI,localize:fI,match:_I,options:{weekStartsOn:0,firstWeekContainsDate:1}};const DI=({isOpen:e,onClose:t})=>{const r=ah(),{notifications:n,unreadCount:s,markAsRead:a,markAllAsRead:i,deleteNotification:l,clearAll:c}=tD();if(!e)return null;const u=h=>{switch(h){case"payment":return o.jsx(HR,{className:"h-5 w-5"});case"as_request":return o.jsx(KR,{className:"h-5 w-5"});case"schedule":return o.jsx(ca,{className:"h-5 w-5"});case"work_request":return o.jsx(LR,{className:"h-5 w-5"});default:return o.jsx(Xm,{className:"h-5 w-5"})}},d=h=>{switch(h){case"payment":return"text-green-600 bg-green-50";case"as_request":return"text-yellow-600 bg-yellow-50";case"schedule":return"text-blue-600 bg-blue-50";case"work_request":return"text-purple-600 bg-purple-50";default:return"text-gray-600 bg-gray-50"}},f=h=>{a(h.id),h.link&&(r(h.link),t())};return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-25 z-40",onClick:t}),o.jsxs("div",{className:"fixed right-0 top-16 h-[calc(100vh-4rem)] w-full sm:w-96 bg-white shadow-2xl z-50 flex flex-col",children:[o.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Xm,{className:"h-5 w-5 text-gray-900"}),o.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"알림"}),s>0&&o.jsx("span",{className:"px-2 py-0.5 bg-gray-900 text-white text-xs font-bold rounded-full",children:s})]}),o.jsx("button",{onClick:t,className:"p-1 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx(rt,{className:"h-5 w-5 text-gray-600"})})]}),n.length>0&&o.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-gray-50 border-b border-gray-200",children:[s>0&&o.jsxs("button",{onClick:i,className:"flex items-center gap-1 text-xs text-gray-600 hover:text-gray-900",children:[o.jsx(WR,{className:"h-3 w-3"}),"모두 읽음"]}),o.jsxs("button",{onClick:c,className:"flex items-center gap-1 text-xs text-gray-600 hover:text-red-600 ml-auto",children:[o.jsx(Xr,{className:"h-3 w-3"}),"전체 삭제"]})]}),o.jsx("div",{className:"flex-1 overflow-y-auto",children:n.length===0?o.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center p-8",children:[o.jsx(Xm,{className:"h-12 w-12 text-gray-300 mb-3"}),o.jsx("p",{className:"text-sm text-gray-500",children:"알림이 없습니다"})]}):o.jsx("div",{className:"divide-y divide-gray-100",children:n.map(h=>o.jsx("div",{className:`p-4 hover:bg-gray-50 transition-colors cursor-pointer ${h.read?"":"bg-blue-50"}`,onClick:()=>f(h),children:o.jsxs("div",{className:"flex gap-3",children:[o.jsx("div",{className:`flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center ${d(h.type)}`,children:u(h.type)}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-start justify-between gap-2",children:[o.jsx("p",{className:`text-sm font-semibold ${h.read?"text-gray-700":"text-gray-900"}`,children:h.title}),!h.read&&o.jsx("span",{className:"flex-shrink-0 w-2 h-2 bg-blue-600 rounded-full mt-1"})]}),o.jsx("p",{className:"text-xs text-gray-600 mt-1 line-clamp-2",children:h.message}),o.jsx("p",{className:"text-xs text-gray-400 mt-1",children:V3(new Date(h.createdAt),{addSuffix:!0,locale:Qe})})]}),o.jsx("button",{onClick:g=>{g.stopPropagation(),l(h.id)},className:"flex-shrink-0 p-1 hover:bg-gray-200 rounded transition-colors",children:o.jsx(rt,{className:"h-4 w-4 text-gray-400"})})]})},h.id))})})]})]})},qs={getAllWorkRequests:async()=>(await Pe.get("/workrequests")).data,getWorkRequestById:async e=>(await Pe.get(`/workrequests/${e}`)).data,createWorkRequest:async e=>{console.log("[workRequestService.createWorkRequest] Input data:",e);const t={project:e.project,requestType:e.requestType,description:e.description,requestDate:e.requestDate instanceof Date?e.requestDate.toISOString():e.requestDate,dueDate:e.dueDate instanceof Date?e.dueDate.toISOString():e.dueDate,requestedBy:e.requestedBy,assignedTo:e.assignedTo,priority:e.priority||"medium",status:e.status||"pending",notes:e.notes||""};return console.log("[workRequestService.createWorkRequest] Sending to backend:",t),(await Pe.post("/workrequests",t)).data},updateWorkRequest:async(e,t)=>{console.log("[workRequestService.updateWorkRequest] Input data:",t);const r={};return t.project!==void 0&&(r.project=t.project),t.requestType!==void 0&&(r.requestType=t.requestType),t.description!==void 0&&(r.description=t.description),t.requestDate!==void 0&&(r.requestDate=t.requestDate instanceof Date?t.requestDate.toISOString():t.requestDate),t.dueDate!==void 0&&(r.dueDate=t.dueDate instanceof Date?t.dueDate.toISOString():t.dueDate),t.requestedBy!==void 0&&(r.requestedBy=t.requestedBy),t.assignedTo!==void 0&&(r.assignedTo=t.assignedTo),t.priority!==void 0&&(r.priority=t.priority),t.status!==void 0&&(r.status=t.status),t.notes!==void 0&&(r.notes=t.notes),t.completedDate!==void 0&&(r.completedDate=t.completedDate instanceof Date?t.completedDate.toISOString():t.completedDate),console.log("[workRequestService.updateWorkRequest] Sending to backend:",r),(await Pe.put(`/workrequests/${e}`,r)).data},deleteWorkRequest:async e=>{await Pe.delete(`/workrequests/${e}`)}},Ks={getAllPayments:async()=>(await Pe.get("/payments")).data,getPaymentById:async e=>(await Pe.get(`/payments/${e}`)).data,createPayment:async e=>{var n,s,a;const t={project_id:e.projectId,request_type:e.category,vendor_name:e.process||"",description:e.purpose||"",amount:e.amount,account_holder:((n=e.bankInfo)==null?void 0:n.accountHolder)||"",bank_name:((s=e.bankInfo)==null?void 0:s.bankName)||"",account_number:((a=e.bankInfo)==null?void 0:a.accountNumber)||"",notes:e.notes||"",itemName:e.itemName||"",materialAmount:e.materialAmount||0,laborAmount:e.laborAmount||0,originalLaborAmount:e.originalLaborAmount||0,applyTaxDeduction:e.applyTaxDeduction||!1,includesVAT:e.includesVAT||!1};return console.log("[paymentService.createPayment] Sending to backend:",t),(await Pe.post("/payments",t)).data},updatePayment:async(e,t)=>{const r={};return t.purpose!==void 0&&(r.description=t.purpose),t.amount!==void 0&&(r.amount=t.amount),t.process!==void 0&&(r.vendor_name=t.process),t.category!==void 0&&(r.request_type=t.category),t.itemName!==void 0&&(r.itemName=t.itemName),t.materialAmount!==void 0&&(r.materialAmount=t.materialAmount),t.laborAmount!==void 0&&(r.laborAmount=t.laborAmount),t.originalLaborAmount!==void 0&&(r.originalLaborAmount=t.originalLaborAmount),t.applyTaxDeduction!==void 0&&(r.applyTaxDeduction=t.applyTaxDeduction),t.includesVAT!==void 0&&(r.includesVAT=t.includesVAT),t.notes!==void 0&&(r.notes=t.notes),t.bankInfo!==void 0&&(t.bankInfo.accountHolder&&(r.account_holder=t.bankInfo.accountHolder),t.bankInfo.bankName&&(r.bank_name=t.bankInfo.bankName),t.bankInfo.accountNumber&&(r.account_number=t.bankInfo.accountNumber)),(await Pe.put(`/payments/${e}`,r)).data},updatePaymentStatus:async(e,t)=>(await Pe.put(`/payments/${e}/status`,{status:t})).data,deletePayment:async e=>{await Pe.delete(`/payments/${e}`)}},Il={getAllASRequests:async()=>(await Pe.get("/as-requests")).data,getASRequestById:async e=>(await Pe.get(`/as-requests/${e}`)).data,createASRequest:async e=>(await Pe.post("/as-requests",e)).data,updateASRequest:async(e,t)=>(await Pe.put(`/as-requests/${e}`,t)).data,deleteASRequest:async e=>{await Pe.delete(`/as-requests/${e}`)}},kI=()=>{var x,b;const{user:e,logout:t}=Pa(),[r,n]=N.useState(!1),[s,a]=N.useState(!1),i=Ms(),{unreadCount:l}=tD(),[c,u]=N.useState(0),[d,f]=N.useState(0),[h,g]=N.useState(0),m=[{name:"담당업무",href:"/dashboard"},{name:"프로젝트",href:"/projects"},{name:"일정관리",href:"/schedule"},{name:"AS 관리",href:"/after-service",...h>0&&{badge:h}},{name:"추가내역",href:"/additional-work"},{name:"공사대금",href:"/construction-payment",roles:["admin","manager"]},{name:"협력업체",href:"/contractors"},{name:"업무요청",href:"/work-request",...c>0&&{badge:c}},{name:"실행내역",href:"/execution-history"},{name:"결제요청",href:"/payments",...d>0&&{badge:d}},{name:"견적문의",href:"/quote-inquiry",roles:["admin","manager"]}];N.useEffect(()=>{const _=async()=>{if(e)try{const C=(await qs.getAllWorkRequests()).filter(M=>M.assignedTo===e.name&&M.status==="pending").length;u(C)}catch(E){console.error("Failed to load pending work requests:",E)}};_();const S=setInterval(_,3e4);return()=>clearInterval(S)},[e]),N.useEffect(()=>{const _=async()=>{if(e)try{const C=(await Ks.getAllPayments()).filter(M=>M.status==="pending").length;f(C)}catch(E){console.error("Failed to load pending payments:",E)}};_();const S=setInterval(_,3e4);return()=>clearInterval(S)},[e]),N.useEffect(()=>{const _=async()=>{if(e)try{const C=(await Il.getAllASRequests()).filter(M=>M.status==="in-progress").length;g(C)}catch(E){console.error("Failed to load in-progress AS requests:",E)}};_();const S=setInterval(_,3e4);return()=>clearInterval(S)},[e]);const p=m.filter(_=>!_.roles||_.roles.includes((e==null?void 0:e.role)||"")),w=((x=m.find(_=>_.href===i.pathname))==null?void 0:x.name)||"",v=(()=>{const _=i.pathname;return["/projects","/schedule","/after-service","/additional-work","/construction-payment","/contractors","/work-request","/payments"].includes(_)?()=>{const E=new CustomEvent("headerAddButtonClick");window.dispatchEvent(E)}:null})();return o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[o.jsxs("div",{className:Un("fixed inset-0 z-40 lg:hidden",r?"block":"hidden"),children:[o.jsx("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-50",onClick:()=>n(!1)}),o.jsxs("div",{className:"fixed inset-y-0 left-0 flex w-64 flex-col bg-white",children:[o.jsxs("div",{className:"flex h-16 items-center justify-between px-6 border-b border-gray-200",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"HV LAB"}),o.jsx("button",{onClick:()=>n(!1),className:"text-sm text-gray-600 hover:text-gray-900",children:"✕"})]}),o.jsx("nav",{className:"flex-1 space-y-1 px-4 py-4",children:p.map(_=>o.jsx(hg,{to:_.href,className:({isActive:S})=>Un("block px-4 py-3 text-sm font-medium border-l-2 transition-colors relative",S?"border-gray-900 bg-gray-50 text-gray-900":"border-transparent text-gray-600 hover:border-gray-400 hover:bg-gray-50"),onClick:()=>n(!1),children:o.jsxs("span",{className:"flex items-center justify-between",children:[o.jsx("span",{children:_.name}),_.badge&&_.badge>0&&o.jsx("span",{className:"ml-2 inline-flex items-center justify-center px-2 py-0.5 text-xs font-bold leading-none text-white bg-red-600 rounded-full",children:_.badge>99?"99+":_.badge})]})},_.name))}),o.jsx("div",{className:"border-t border-gray-200 px-4 py-4",children:o.jsx("button",{onClick:t,className:"w-full px-4 py-3 text-sm font-medium text-gray-600 hover:bg-gray-50 text-left",children:"로그아웃"})})]})]}),o.jsx("div",{className:"hidden lg:fixed lg:inset-y-0 lg:flex lg:w-64 lg:flex-col",children:o.jsxs("div",{className:"flex flex-col bg-white border-r border-gray-200",children:[o.jsx("div",{className:"flex h-16 items-center px-6 border-b border-gray-200",children:o.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"HV LAB"})}),o.jsx("nav",{className:"flex-1 space-y-1 px-4 py-4",children:p.map(_=>o.jsx(hg,{to:_.href,className:({isActive:S})=>Un("block px-4 py-3 text-sm font-medium border-l-2 transition-colors relative",S?"border-gray-900 bg-gray-50 text-gray-900":"border-transparent text-gray-600 hover:border-gray-400 hover:bg-gray-50"),children:o.jsxs("span",{className:"flex items-center justify-between",children:[o.jsx("span",{children:_.name}),_.badge&&_.badge>0&&o.jsx("span",{className:"ml-2 inline-flex items-center justify-center px-2 py-0.5 text-xs font-bold leading-none text-white bg-red-600 rounded-full",children:_.badge>99?"99+":_.badge})]})},_.name))}),o.jsx("div",{className:"border-t border-gray-200 px-4 py-4",children:o.jsx("button",{onClick:t,className:"w-full px-4 py-3 text-sm font-medium text-gray-600 hover:bg-gray-50 text-left",children:"로그아웃"})})]})}),o.jsxs("div",{className:"lg:pl-64",children:[o.jsx("header",{className:"sticky top-0 z-30 bg-white border-b border-gray-200",children:o.jsxs("div",{className:"flex items-center justify-between px-4 py-3 sm:px-6 lg:px-8",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("button",{onClick:()=>n(!0),className:"lg:hidden p-2 text-gray-600 hover:text-gray-900 -ml-2","aria-label":"메뉴 열기",children:o.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),w&&o.jsx("h1",{className:"text-lg font-bold text-gray-900 lg:hidden",children:w}),o.jsx("div",{className:"hidden lg:block w-0"})]}),o.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-6 ml-auto",children:[v&&o.jsx("button",{onClick:v,className:"lg:hidden p-2 text-gray-900 hover:text-gray-700","aria-label":"추가",children:o.jsx(q_,{className:"h-6 w-6"})}),o.jsxs("button",{onClick:()=>a(!s),className:"hidden sm:block relative p-2 text-gray-600 hover:text-gray-900 transition-colors","aria-label":"알림",children:[o.jsx("svg",{className:"h-5 w-5 sm:h-6 sm:w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),l>0&&o.jsx("span",{className:"absolute top-1 right-1 flex items-center justify-center h-4 w-4 bg-red-600 text-white text-[10px] font-bold rounded-full",children:l>9?"9+":l})]}),o.jsxs("div",{className:"hidden sm:flex items-center space-x-2 sm:space-x-3",children:[o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"text-sm font-medium text-gray-900",children:e==null?void 0:e.name}),o.jsx("p",{className:"text-xs text-gray-500",children:e==null?void 0:e.role})]}),o.jsx("div",{className:"h-8 w-8 sm:h-9 sm:w-9 bg-gray-900 text-white flex items-center justify-center text-xs font-bold rounded-full",children:(b=e==null?void 0:e.name)==null?void 0:b.substring(0,1)})]})]})]})}),o.jsx("main",{className:"py-[10px] md:py-6 lg:py-8",children:o.jsx("div",{className:"px-3 sm:px-4 md:px-6 lg:px-8",children:o.jsx(pA,{})})})]}),o.jsx(DI,{isOpen:s,onClose:()=>a(!1)})]})},Xu={getAllSchedules:async()=>(await Pe.get("/schedules")).data,getScheduleById:async e=>(await Pe.get(`/schedules/${e}`)).data,createSchedule:async e=>(await Pe.post("/schedules",{project:e.project,title:e.title,type:e.type||"other",phase:e.phase||"기타",startDate:e.startDate,endDate:e.endDate,allDay:e.allDay!==void 0?e.allDay:!0,assignedTo:e.assignedTo||[],description:e.description,location:e.location,priority:e.priority||"medium",progress:e.progress||0,isCompleted:e.isCompleted||!1,asRequestId:e.asRequestId,time:e.time})).data,updateSchedule:async(e,t)=>(await Pe.put(`/schedules/${e}`,t)).data,deleteSchedule:async e=>{await Pe.delete(`/schedules/${e}`)}},Qu={getAllProjects:async()=>(await Pe.get("/projects")).data,getProjectById:async e=>(await Pe.get(`/projects/${e}`)).data,createProject:async e=>{const t={name:e.name,client:typeof e.client=="string"?e.client:e.client.name,location:typeof e.location=="string"?e.location:e.location.address,status:e.status||"planning",manager:e.manager,description:e.description||""};if(e.startDate){const n=typeof e.startDate=="string"?new Date(e.startDate):e.startDate;t.startDate=n.toISOString().split("T")[0]}if(e.endDate){const n=typeof e.endDate=="string"?new Date(e.endDate):e.endDate;t.endDate=n.toISOString().split("T")[0]}return console.log("[projectService.createProject] Sending to backend:",t),(await Pe.post("/projects",t)).data},updateProject:async(e,t)=>{var n;const r={};if(t.name!==void 0&&(r.name=t.name),t.client!==void 0&&(r.client=typeof t.client=="string"?t.client:t.client.name),t.location!==void 0&&(r.location=typeof t.location=="string"?t.location:t.location.address),t.startDate!==void 0)if(typeof t.startDate=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(t.startDate))r.startDate=t.startDate;else{const s=typeof t.startDate=="string"?new Date(t.startDate):t.startDate;r.startDate=s.toISOString().split("T")[0]}if(t.endDate!==void 0)if(typeof t.endDate=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(t.endDate))r.endDate=t.endDate;else{const s=typeof t.endDate=="string"?new Date(t.endDate):t.endDate;r.endDate=s.toISOString().split("T")[0]}t.status!==void 0&&(r.status=t.status),t.manager!==void 0&&(r.manager=t.manager),t.description!==void 0&&(r.description=t.description),t.meetingNotes!==void 0&&(r.meetingNotes=t.meetingNotes),t.customerRequests!==void 0&&(r.customerRequests=t.customerRequests),t.entrancePassword!==void 0&&(r.entrancePassword=t.entrancePassword),t.sitePassword!==void 0&&(r.sitePassword=t.sitePassword),console.log("[projectService.updateProject] Sending to backend:",r);try{return(await Pe.put(`/projects/${e}`,r)).data}catch(s){const a=s;throw console.error("[projectService.updateProject] Error:",s),console.error("[projectService.updateProject] Error response:",(n=a.response)==null?void 0:n.data),s}},deleteProject:async e=>{await Pe.delete(`/projects/${e}`)}},ys={getAllContractors:async()=>(await Pe.get("/contractors")).data,getContractorById:async e=>(await Pe.get(`/contractors/${e}`)).data,createContractor:async e=>(await Pe.post("/contractors",e)).data,updateContractor:async(e,t)=>(await Pe.put(`/contractors/${e}`,t)).data,deleteContractor:async e=>{await Pe.delete(`/contractors/${e}`)}},Ju={getAllConstructionPayments:async()=>(await Pe.get("/construction-payments")).data,getConstructionPaymentById:async e=>(await Pe.get(`/construction-payments/${e}`)).data,createConstructionPayment:async e=>(await Pe.post("/construction-payments",e)).data,updateConstructionPayment:async(e,t)=>(await Pe.put(`/construction-payments/${e}`,t)).data,deleteConstructionPayment:async e=>{await Pe.delete(`/construction-payments/${e}`)}},Zr=Z_()(eD(e=>({projects:[],schedules:[],payments:[],contractors:[],constructionPayments:[],asRequests:[],executionRecords:[],setProjects:t=>e({projects:t}),addProject:t=>e(r=>{const n={id:t.id,project:t.name,client:t.client,totalAmount:t.contractAmount,vatType:"percentage",vatPercentage:100,vatAmount:0,payments:[]};return{projects:[t,...r.projects],constructionPayments:[n,...r.constructionPayments]}}),updateProject:(t,r)=>e(n=>({projects:n.projects.map(s=>s.id===t?{...s,...r}:s)})),deleteProject:t=>e(r=>({projects:r.projects.filter(n=>n.id!==t),constructionPayments:r.constructionPayments.filter(n=>n.id!==t)})),setSchedules:t=>e({schedules:t}),addSchedule:t=>e(r=>({schedules:[t,...r.schedules]})),updateSchedule:(t,r)=>e(n=>({schedules:n.schedules.map(s=>s.id===t?{...s,...r}:s)})),deleteSchedule:t=>e(r=>({schedules:r.schedules.filter(n=>n.id!==t)})),setPayments:t=>e({payments:t}),addPayment:t=>e(r=>({payments:[t,...r.payments]})),updatePayment:(t,r)=>e(n=>({payments:n.payments.map(s=>s.id===t?{...s,...r}:s)})),deletePayment:t=>e(r=>({payments:r.payments.filter(n=>n.id!==t)})),setContractors:t=>e({contractors:t}),addContractor:t=>e(r=>({contractors:[t,...r.contractors]})),updateContractor:(t,r)=>e(n=>({contractors:n.contractors.map(s=>s.id===t?{...s,...r}:s)})),deleteContractor:t=>e(r=>({contractors:r.contractors.filter(n=>n.id!==t)})),setConstructionPayments:t=>e({constructionPayments:t}),addConstructionPayment:t=>e(r=>({constructionPayments:[t,...r.constructionPayments]})),updateConstructionPayment:(t,r)=>e(n=>({constructionPayments:n.constructionPayments.map(s=>s.id===t?{...s,...r}:s)})),deleteConstructionPayment:t=>e(r=>({constructionPayments:r.constructionPayments.filter(n=>n.id!==t)})),setASRequests:t=>e({asRequests:t}),addASRequest:t=>e(r=>({asRequests:[t,...r.asRequests]})),updateASRequest:(t,r)=>e(n=>({asRequests:n.asRequests.map(s=>s.id===t?{...s,...r}:s)})),deleteASRequest:t=>e(r=>({asRequests:r.asRequests.filter(n=>n.id!==t)})),setExecutionRecords:t=>e({executionRecords:t}),addExecutionRecord:t=>e(r=>({executionRecords:[t,...r.executionRecords]})),updateExecutionRecord:(t,r)=>e(n=>({executionRecords:n.executionRecords.map(s=>s.id===t?{...s,...r}:s)})),deleteExecutionRecord:t=>e(r=>({executionRecords:r.executionRecords.filter(n=>n.id!==t)})),loadPaymentsFromAPI:async()=>{try{const r=(await Ks.getAllPayments()).map(n=>({id:String(n.id),project:n.project_name,purpose:n.description,process:n.vendor_name,itemName:n.item_name||"",amount:n.amount,materialAmount:n.material_amount||0,laborAmount:n.labor_amount||0,originalLaborAmount:n.original_labor_amount||0,applyTaxDeduction:n.apply_tax_deduction===1,includesVAT:n.includes_vat===1,category:n.request_type,status:n.status,urgency:"normal",requestedBy:n.requester_name,requestDate:new Date(n.created_at),approvalDate:n.approved_at?new Date(n.approved_at):void 0,bankInfo:{accountHolder:n.account_holder||"",bankName:n.bank_name||"",accountNumber:n.account_number||""},attachments:[],notes:n.notes||""}));e({payments:r})}catch(t){throw console.error("Failed to load payments from API:",t),t}},addPaymentToAPI:async t=>{try{const r={projectId:t.project,purpose:t.purpose,process:t.process,itemName:t.itemName,amount:t.amount,category:t.category,urgency:t.urgency,requestedBy:t.requestedBy,bankInfo:t.bankInfo,notes:t.notes,attachments:[],materialAmount:t.materialAmount||0,laborAmount:t.laborAmount||0,originalLaborAmount:t.originalLaborAmount||0,applyTaxDeduction:t.applyTaxDeduction||!1,includesVAT:t.includesVAT||!1};console.log("[addPaymentToAPI] Sending payment data:",r),await Ks.createPayment(r);const s=(await Ks.getAllPayments()).map(a=>({id:String(a.id),project:a.project_name,purpose:a.description,process:a.vendor_name,itemName:a.item_name||"",amount:a.amount,materialAmount:a.material_amount||0,laborAmount:a.labor_amount||0,originalLaborAmount:a.original_labor_amount||0,applyTaxDeduction:a.apply_tax_deduction===1,includesVAT:a.includes_vat===1,category:a.request_type,status:a.status,urgency:"normal",requestedBy:a.requester_name,requestDate:new Date(a.created_at),approvalDate:a.approved_at?new Date(a.approved_at):void 0,bankInfo:{accountHolder:a.account_holder||"",bankName:a.bank_name||"",accountNumber:a.account_number||""},attachments:[],notes:a.notes||""}));e({payments:s})}catch(r){throw console.error("Failed to add payment to API:",r),r}},updatePaymentInAPI:async(t,r)=>{try{r.status&&Object.keys(r).length===1?await Ks.updatePaymentStatus(t,r.status):await Ks.updatePayment(t,{projectId:r.project,purpose:r.purpose,process:r.process,itemName:r.itemName,amount:r.amount,category:r.category,urgency:r.urgency,bankInfo:r.bankInfo,notes:r.notes});const s=(await Ks.getAllPayments()).map(a=>({id:String(a.id),project:a.project_name,purpose:a.description,process:a.vendor_name,itemName:a.item_name||"",amount:a.amount,materialAmount:a.material_amount||0,laborAmount:a.labor_amount||0,originalLaborAmount:a.original_labor_amount||0,applyTaxDeduction:a.apply_tax_deduction===1,includesVAT:a.includes_vat===1,category:a.request_type,status:a.status,urgency:"normal",requestedBy:a.requester_name,requestDate:new Date(a.created_at),approvalDate:a.approved_at?new Date(a.approved_at):void 0,bankInfo:{accountHolder:a.account_holder||"",bankName:a.bank_name||"",accountNumber:a.account_number||""},attachments:[],notes:a.notes||""}));e({payments:s})}catch(n){throw console.error("Failed to update payment in API:",n),n}},deletePaymentFromAPI:async t=>{try{await Ks.deletePayment(t),e(r=>({payments:r.payments.filter(n=>n.id!==t)}))}catch(r){throw console.error("Failed to delete payment from API:",r),r}},loadSchedulesFromAPI:async()=>{try{const t=await Xu.getAllSchedules();console.log("🟣 LOAD SCHEDULES - Raw API response sample:",t[0]);const r=t.map(n=>{var a;console.log("🟣 Processing schedule:",{id:n._id,title:n.title,assigneeNames:n.assigneeNames,assignedTo:n.assignedTo,assignedToType:typeof n.assignedTo,assignedToLength:Array.isArray(n.assignedTo)?n.assignedTo.length:"not array"});const s=n.assigneeNames||((a=n.assignedTo)==null?void 0:a.map(i=>typeof i=="object"?i.name:i))||[];return console.log("🟣 Final attendees:",s),{id:n._id,title:n.title,start:new Date(n.startDate),end:new Date(n.endDate),type:n.type,project:typeof n.project=="object"?n.project.name:n.project,location:n.location,attendees:s,description:n.description,time:n.time}});e({schedules:r})}catch(t){throw console.error("Failed to load schedules from API:",t),t}},addScheduleToAPI:async t=>{var r;try{console.log("🚀 addScheduleToAPI - Input schedule:",{project:t.project,attendees:t.attendees,title:t.title});const n=await Xu.createSchedule({project:t.project||"",title:t.title,type:t.type,startDate:t.start,endDate:t.end,allDay:!t.time||t.time==="-",location:t.location,assignedTo:t.attendees||[],description:t.description,asRequestId:t.asRequestId,time:t.time});console.log("🚀 addScheduleToAPI - API Response:",{id:n._id,assigneeNames:n.assigneeNames,assignedTo:n.assignedTo,project:n.project});const s=t.attendees||[];let a=n.assigneeNames||((r=n.assignedTo)==null?void 0:r.map(l=>typeof l=="object"?l.name:l))||[];s.length>0&&a.length>s.length&&(console.log("⚠️ Server added extra attendees, filtering to match request:",{requested:s,serverReturned:a}),a=s);const i={id:n._id,title:n.title,start:new Date(n.startDate),end:new Date(n.endDate),type:n.type,project:typeof n.project=="object"?n.project.name:n.project,location:n.location,attendees:a,description:n.description,time:n.time};console.log("🚀 addScheduleToAPI - Final schedule attendees:",i.attendees),e(l=>({schedules:[i,...l.schedules]}))}catch(n){throw console.error("Failed to add schedule to API:",n),n}},updateScheduleInAPI:async(t,r)=>{var n,s,a;try{console.log("📤 updateScheduleInAPI called with:",{id:t,updatedSchedule:r});const i=await Xu.updateSchedule(t,{project:r.project,title:r.title,type:r.type,startDate:r.start,endDate:r.end,location:r.location,description:r.description,assignedTo:r.attendees||[],time:r.time});console.log("✅ updateScheduleInAPI response:",i);const l={id:i._id,title:i.title,start:new Date(i.startDate),end:new Date(i.endDate),type:i.type,project:typeof i.project=="object"?i.project.name:i.project,location:i.location,attendees:i.assigneeNames||((n=i.assignedTo)==null?void 0:n.map(c=>typeof c=="object"?c.name:c))||[],description:i.description,time:i.time};e(c=>({schedules:c.schedules.map(u=>u.id===t?l:u)}))}catch(i){throw console.error("Failed to update schedule in API:",i),console.error("Error details:",{message:i instanceof Error?i.message:"Unknown error",response:i&&typeof i=="object"&&"response"in i?(s=i.response)==null?void 0:s.data:void 0,status:i&&typeof i=="object"&&"response"in i?(a=i.response)==null?void 0:a.status:void 0}),i}},deleteScheduleFromAPI:async t=>{try{await Xu.deleteSchedule(t),e(r=>({schedules:r.schedules.filter(n=>n.id!==t)}))}catch(r){throw console.error("Failed to delete schedule from API:",r),r}},loadProjectsFromAPI:async()=>{try{const r=(await Qu.getAllProjects()).map(n=>{var s,a;return{id:n._id||n.id,name:n.name,client:typeof n.client=="object"?n.client.name:n.client||"미등록",location:typeof n.location=="object"?n.location.address:n.location||n.address||"미등록",status:n.status==="inProgress"?"in-progress":n.status==="onHold"?"on-hold":n.status,progress:n.progress||0,startDate:n.startDate||n.start_date?new Date(n.startDate||n.start_date):void 0,endDate:n.endDate||n.end_date?new Date(n.endDate||n.end_date):void 0,contractAmount:n.budget||n.contractAmount||0,spent:n.actualCost||n.spent||0,manager:n.manager||"미지정",team:[],description:n.description||"",meetingNotes:((s=n.meetingNotes)==null?void 0:s.map(i=>({id:i.id,content:i.content,date:new Date(i.date)})))||[],customerRequests:((a=n.customerRequests)==null?void 0:a.map(i=>({id:i.id,content:i.content,completed:i.completed,createdAt:new Date(i.createdAt)})))||[],entrancePassword:n.entrancePassword||"",sitePassword:n.sitePassword||""}});e({projects:r})}catch(t){throw console.error("Failed to load projects from API:",t),t}},addProjectToAPI:async t=>{var r,n;try{const s=await Qu.createProject({name:t.name,client:t.client,location:t.location,startDate:t.startDate,endDate:t.endDate,status:t.status,contractAmount:t.contractAmount,spent:t.spent,manager:t.manager,team:t.team,progress:t.progress,description:t.description}),a={id:s._id||s.id,name:s.name,client:typeof s.client=="object"?s.client.name:s.client||"미등록",location:typeof s.location=="object"?s.location.address:s.location||s.address||"미등록",status:s.status==="inProgress"?"in-progress":s.status==="onHold"?"on-hold":s.status,progress:s.progress||0,startDate:s.startDate||s.start_date?new Date(s.startDate||s.start_date):void 0,endDate:s.endDate||s.end_date?new Date(s.endDate||s.end_date):void 0,contractAmount:s.budget||s.contractAmount||0,spent:s.actualCost||s.spent||0,manager:s.manager||"미지정",team:[],description:s.description||"",meetingNotes:((r=s.meetingNotes)==null?void 0:r.map(i=>({id:i.id,content:i.content,date:new Date(i.date)})))||[],customerRequests:((n=s.customerRequests)==null?void 0:n.map(i=>({id:i.id,content:i.content,completed:i.completed,createdAt:new Date(i.createdAt)})))||[],entrancePassword:s.entrancePassword||"",sitePassword:s.sitePassword||""};e(i=>({projects:[a,...i.projects]}))}catch(s){throw console.error("Failed to add project to API:",s),s}},updateProjectInAPI:async(t,r)=>{var n,s;try{const a=await Qu.updateProject(t,r),i={id:a._id||a.id,name:a.name,client:typeof a.client=="object"?a.client.name:a.client||"미등록",location:typeof a.location=="object"?a.location.address:a.location||a.address||"미등록",status:a.status==="inProgress"?"in-progress":a.status==="onHold"?"on-hold":a.status,progress:a.progress||0,startDate:a.startDate||a.start_date?new Date(a.startDate||a.start_date):void 0,endDate:a.endDate||a.end_date?new Date(a.endDate||a.end_date):void 0,contractAmount:a.budget||a.contractAmount||0,spent:a.actualCost||a.spent||0,manager:a.manager||"미지정",team:[],description:a.description||"",meetingNotes:((n=a.meetingNotes)==null?void 0:n.map(l=>({id:l.id,content:l.content,date:new Date(l.date)})))||[],customerRequests:((s=a.customerRequests)==null?void 0:s.map(l=>({id:l.id,content:l.content,completed:l.completed,createdAt:new Date(l.createdAt)})))||[],entrancePassword:a.entrancePassword||"",sitePassword:a.sitePassword||""};e(l=>({projects:l.projects.map(c=>c.id===t?i:c)}))}catch(a){throw console.error("Failed to update project in API:",a),a}},deleteProjectFromAPI:async t=>{try{await Qu.deleteProject(t),e(r=>({projects:r.projects.filter(n=>n.id!==t)}))}catch(r){throw console.error("Failed to delete project from API:",r),r}},loadContractorsFromAPI:async()=>{try{const r=(await ys.getAllContractors()).map(n=>({id:n._id,rank:n.rank,companyName:n.companyName,name:n.name,process:n.process,contact:n.contact,accountNumber:n.accountNumber,notes:n.notes,createdAt:new Date(n.createdAt),updatedAt:new Date(n.updatedAt)}));e({contractors:r})}catch(t){throw console.error("Failed to load contractors from API:",t),t}},addContractorToAPI:async t=>{try{const r=await ys.createContractor({rank:t.rank,companyName:t.companyName,name:t.name,process:t.process,contact:t.contact,accountNumber:t.accountNumber,notes:t.notes}),n={id:r._id,rank:r.rank,companyName:r.companyName,name:r.name,process:r.process,contact:r.contact,accountNumber:r.accountNumber,notes:r.notes,createdAt:new Date(r.createdAt),updatedAt:new Date(r.updatedAt)};e(s=>({contractors:[n,...s.contractors]}))}catch(r){throw console.error("Failed to add contractor to API:",r),r}},updateContractorInAPI:async(t,r)=>{try{const n=await ys.updateContractor(t,{rank:r.rank,companyName:r.companyName,name:r.name,process:r.process,contact:r.contact,accountNumber:r.accountNumber,notes:r.notes}),s={id:n._id,rank:n.rank,companyName:n.companyName,name:n.name,process:n.process,contact:n.contact,accountNumber:n.accountNumber,notes:n.notes,createdAt:new Date(n.createdAt),updatedAt:new Date(n.updatedAt)};e(a=>({contractors:a.contractors.map(i=>i.id===t?s:i)}))}catch(n){throw console.error("Failed to update contractor in API:",n),n}},deleteContractorFromAPI:async t=>{try{await ys.deleteContractor(t),e(r=>({contractors:r.contractors.filter(n=>n.id!==t)}))}catch(r){throw console.error("Failed to delete contractor from API:",r),r}},loadConstructionPaymentsFromAPI:async()=>{try{const r=(await Ju.getAllConstructionPayments()).map(n=>{var a;let s;return n.expectedPaymentDates&&(s={contract:n.expectedPaymentDates.contract?new Date(n.expectedPaymentDates.contract):void 0,start:n.expectedPaymentDates.start?new Date(n.expectedPaymentDates.start):void 0,middle:n.expectedPaymentDates.middle?new Date(n.expectedPaymentDates.middle):void 0,final:n.expectedPaymentDates.final?new Date(n.expectedPaymentDates.final):void 0}),{id:n._id,project:n.project,client:n.client,totalAmount:n.totalAmount,vatType:n.vatType,vatPercentage:n.vatPercentage,vatAmount:n.vatAmount,expectedPaymentDates:s,payments:((a=n.payments)==null?void 0:a.map(i=>{var u;const l=i.date?new Date(i.date):new Date,c=isNaN(l.getTime())?new Date:l;return{type:i.type||((u=i.types)==null?void 0:u[0])||"계약금",amount:i.amount,date:c,method:i.method,notes:i.notes}}))||[]}});e({constructionPayments:r})}catch(t){throw console.error("Failed to load construction payments from API:",t),t}},addConstructionPaymentToAPI:async t=>{var r;try{const n=await Ju.createConstructionPayment(t),s={id:n._id,project:n.project,client:n.client,totalAmount:n.totalAmount,vatType:n.vatType,vatPercentage:n.vatPercentage,vatAmount:n.vatAmount,payments:((r=n.payments)==null?void 0:r.map(a=>{var c;const i=a.date?new Date(a.date):new Date,l=isNaN(i.getTime())?new Date:i;return{type:a.type||((c=a.types)==null?void 0:c[0])||"계약금",amount:a.amount,date:l,method:a.method,notes:a.notes}}))||[]};e(a=>({constructionPayments:[s,...a.constructionPayments]}))}catch(n){throw console.error("Failed to add construction payment to API:",n),n}},updateConstructionPaymentInAPI:async(t,r)=>{var n;try{const s=await Ju.updateConstructionPayment(t,r);let a;s.expectedPaymentDates&&(a={contract:s.expectedPaymentDates.contract?new Date(s.expectedPaymentDates.contract):void 0,start:s.expectedPaymentDates.start?new Date(s.expectedPaymentDates.start):void 0,middle:s.expectedPaymentDates.middle?new Date(s.expectedPaymentDates.middle):void 0,final:s.expectedPaymentDates.final?new Date(s.expectedPaymentDates.final):void 0});const i={id:s._id,project:s.project,client:s.client,totalAmount:s.totalAmount,vatType:s.vatType,vatPercentage:s.vatPercentage,vatAmount:s.vatAmount,expectedPaymentDates:a,payments:((n=s.payments)==null?void 0:n.map(l=>{var c;return{type:l.type||((c=l.types)==null?void 0:c[0])||"계약금",amount:l.amount,date:new Date(l.date),method:l.method,notes:l.notes}}))||[]};e(l=>({constructionPayments:l.constructionPayments.map(c=>c.id===t?i:c)}))}catch(s){throw console.error("Failed to update construction payment in API:",s),s}},deleteConstructionPaymentFromAPI:async t=>{try{await Ju.deleteConstructionPayment(t),e(r=>({constructionPayments:r.constructionPayments.filter(n=>n.id!==t)}))}catch(r){throw console.error("Failed to delete construction payment from API:",r),r}},loadASRequestsFromAPI:async()=>{try{const r=(await Il.getAllASRequests()).map(n=>({id:n._id,project:n.project,client:n.client,requestDate:new Date(n.requestDate),siteAddress:n.siteAddress,entrancePassword:n.entrancePassword,description:n.description,scheduledVisitDate:n.scheduledVisitDate?new Date(n.scheduledVisitDate):void 0,scheduledVisitTime:n.scheduledVisitTime,assignedTo:n.assignedTo||[],completionDate:n.completionDate?new Date(n.completionDate):void 0,notes:n.notes,status:n.status||"pending"}));e({asRequests:r})}catch(t){throw console.error("Failed to load AS requests from API:",t),t}},addASRequestToAPI:async t=>{try{const r=await Il.createASRequest(t),n={id:r._id,project:r.project,client:r.client,requestDate:new Date(r.requestDate),siteAddress:r.siteAddress,entrancePassword:r.entrancePassword,description:r.description,scheduledVisitDate:r.scheduledVisitDate?new Date(r.scheduledVisitDate):void 0,scheduledVisitTime:r.scheduledVisitTime,assignedTo:Array.isArray(r.assignedTo)?r.assignedTo:[],completionDate:r.completionDate?new Date(r.completionDate):void 0,notes:r.notes};return e(s=>({asRequests:[n,...s.asRequests]})),n}catch(r){throw console.error("Failed to add AS request to API:",r),r}},updateASRequestInAPI:async(t,r)=>{try{const n=await Il.updateASRequest(t,r),s={id:n._id,project:n.project,client:n.client,requestDate:new Date(n.requestDate),siteAddress:n.siteAddress,entrancePassword:n.entrancePassword,description:n.description,scheduledVisitDate:n.scheduledVisitDate?new Date(n.scheduledVisitDate):void 0,scheduledVisitTime:n.scheduledVisitTime,assignedTo:Array.isArray(n.assignedTo)?n.assignedTo:[],completionDate:n.completionDate?new Date(n.completionDate):void 0,notes:n.notes,status:n.status||"pending"};e(a=>({asRequests:a.asRequests.map(i=>i.id===t?s:i)}))}catch(n){throw console.error("Failed to update AS request in API:",n),n}},deleteASRequestFromAPI:async t=>{try{await Il.deleteASRequest(t),e(r=>({asRequests:r.asRequests.filter(n=>n.id!==t)}))}catch(r){throw console.error("Failed to delete AS request from API:",r),r}}}),{name:"interior-management-storage",storage:{getItem:e=>{var c,u,d,f,h,g,m;const t=localStorage.getItem(e);if(!t)return null;const{state:r}=JSON.parse(t),n=((c=r.projects)==null?void 0:c.map(p=>({...p,startDate:p.startDate?new Date(p.startDate):void 0,endDate:p.endDate?new Date(p.endDate):void 0,contractAmount:p.contractAmount!==void 0?p.contractAmount:p.budget||0})))||[],s=((u=r.constructionPayments)==null?void 0:u.map(p=>{var w;return{...p,vatType:p.vatType||"percentage",vatPercentage:p.vatPercentage??100,vatAmount:p.vatAmount??0,payments:((w=p.payments)==null?void 0:w.map(y=>({...y,date:new Date(y.date)})))||[]}}))||[],a=new Set(s.map(p=>p.id)),i=n.filter(p=>!a.has(p.id)).map(p=>({id:p.id,project:p.name,client:p.client,totalAmount:p.contractAmount||0,vatType:"percentage",vatPercentage:100,vatAmount:0,payments:[]})),l=[...s,...i];return{state:{...r,projects:n,schedules:((d=r.schedules)==null?void 0:d.map(p=>({...p,start:new Date(p.start),end:new Date(p.end)})))||[],payments:((f=r.payments)==null?void 0:f.map(p=>({...p,requestDate:new Date(p.requestDate),approvalDate:p.approvalDate?new Date(p.approvalDate):void 0})))||[],contractors:((h=r.contractors)==null?void 0:h.map(p=>({...p,createdAt:new Date(p.createdAt),updatedAt:new Date(p.updatedAt)})))||[],constructionPayments:l,asRequests:((g=r.asRequests)==null?void 0:g.map(p=>({...p,requestDate:new Date(p.requestDate),scheduledVisitDate:p.scheduledVisitDate?new Date(p.scheduledVisitDate):void 0,completionDate:p.completionDate?new Date(p.completionDate):void 0})))||[],executionRecords:((m=r.executionRecords)==null?void 0:m.map(p=>({...p,date:new Date(p.date),createdAt:new Date(p.createdAt),updatedAt:new Date(p.updatedAt)})))||[]}}},setItem:(e,t)=>{const r=JSON.stringify(t);localStorage.setItem(e,r)},removeItem:e=>localStorage.removeItem(e)}}));var iu=e=>e.type==="checkbox",Za=e=>e instanceof Date,lr=e=>e==null;const dD=e=>typeof e=="object";var Pt=e=>!lr(e)&&!Array.isArray(e)&&dD(e)&&!Za(e),EI=e=>Pt(e)&&e.target?iu(e.target)?e.target.checked:e.target.value:e,CI=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,TI=(e,t)=>e.has(CI(t)),PI=e=>{const t=e.constructor&&e.constructor.prototype;return Pt(t)&&t.hasOwnProperty("isPrototypeOf")},Nv=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function It(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(Nv&&(e instanceof Blob||n))&&(r||Pt(e)))if(t=r?[]:Object.create(Object.getPrototypeOf(e)),!r&&!PI(e))t=e;else for(const s in e)e.hasOwnProperty(s)&&(t[s]=It(e[s]));else return e;return t}var xh=e=>/^\w*$/.test(e),Et=e=>e===void 0,Sv=e=>Array.isArray(e)?e.filter(Boolean):[],jv=e=>Sv(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Ee=(e,t,r)=>{if(!t||!Pt(e))return r;const n=(xh(t)?[t]:jv(t)).reduce((s,a)=>lr(s)?s:s[a],e);return Et(n)||n===e?Et(e[t])?r:e[t]:n},Ln=e=>typeof e=="boolean",ut=(e,t,r)=>{let n=-1;const s=xh(t)?[t]:jv(t),a=s.length,i=a-1;for(;++n<a;){const l=s[n];let c=r;if(n!==i){const u=e[l];c=Pt(u)||Array.isArray(u)?u:isNaN(+s[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const Qb={BLUR:"blur",FOCUS_OUT:"focusout"},fn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},is={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},AI=F.createContext(null);AI.displayName="HookFormContext";var OI=(e,t,r,n=!0)=>{const s={defaultValues:t._defaultValues};for(const a in e)Object.defineProperty(s,a,{get:()=>{const i=a;return t._proxyFormState[i]!==fn.all&&(t._proxyFormState[i]=!n||fn.all),e[i]}});return s};const MI=typeof window<"u"?F.useLayoutEffect:F.useEffect;var Tr=e=>typeof e=="string",$I=(e,t,r,n,s)=>Tr(e)?(n&&t.watch.add(e),Ee(r,e,s)):Array.isArray(e)?e.map(a=>(n&&t.watch.add(a),Ee(r,a))):(n&&(t.watchAll=!0),r),Og=e=>lr(e)||!dD(e);function ea(e,t,r=new WeakSet){if(Og(e)||Og(t))return e===t;if(Za(e)&&Za(t))return e.getTime()===t.getTime();const n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const a of n){const i=e[a];if(!s.includes(a))return!1;if(a!=="ref"){const l=t[a];if(Za(i)&&Za(l)||Pt(i)&&Pt(l)||Array.isArray(i)&&Array.isArray(l)?!ea(i,l,r):i!==l)return!1}}return!0}var RI=(e,t,r,n,s)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:s||!0}}:{},Gl=e=>Array.isArray(e)?e:[e],Jb=()=>{let e=[];return{get observers(){return e},next:s=>{for(const a of e)a.next&&a.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(a=>a!==s)}}),unsubscribe:()=>{e=[]}}};function fD(e,t){const r={};for(const n in e)if(e.hasOwnProperty(n)){const s=e[n],a=t[n];if(s&&Pt(s)&&a){const i=fD(s,a);Pt(i)&&(r[n]=i)}else e[n]&&(r[n]=a)}return r}var gr=e=>Pt(e)&&!Object.keys(e).length,_v=e=>e.type==="file",hn=e=>typeof e=="function",_f=e=>{if(!Nv)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},hD=e=>e.type==="select-multiple",Dv=e=>e.type==="radio",LI=e=>Dv(e)||iu(e),Zm=e=>_f(e)&&e.isConnected;function II(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=Et(e)?n++:e[t[n++]];return e}function FI(e){for(const t in e)if(e.hasOwnProperty(t)&&!Et(e[t]))return!1;return!0}function kt(e,t){const r=Array.isArray(t)?t:xh(t)?[t]:jv(t),n=r.length===1?e:II(e,r),s=r.length-1,a=r[s];return n&&delete n[a],s!==0&&(Pt(n)&&gr(n)||Array.isArray(n)&&FI(n))&&kt(e,r.slice(0,-1)),e}var WI=e=>{for(const t in e)if(hn(e[t]))return!0;return!1};function mD(e){return Array.isArray(e)||Pt(e)&&!WI(e)}function Mg(e,t={}){for(const r in e)mD(e[r])?(t[r]=Array.isArray(e[r])?[]:{},Mg(e[r],t[r])):lr(e[r])||(t[r]=!0);return t}function Wi(e,t,r){r||(r=Mg(t));for(const n in e)mD(e[n])?Et(t)||Og(r[n])?r[n]=Mg(e[n],Array.isArray(e[n])?[]:{}):Wi(e[n],lr(t)?{}:t[n],r[n]):r[n]=!ea(e[n],t[n]);return r}const Zb={value:!1,isValid:!1},ew={value:!0,isValid:!0};var pD=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Et(e[0].attributes.value)?Et(e[0].value)||e[0].value===""?ew:{value:e[0].value,isValid:!0}:ew:Zb}return Zb},gD=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>Et(e)?e:t?e===""?NaN:e&&+e:r&&Tr(e)?new Date(e):n?n(e):e;const tw={isValid:!1,value:null};var yD=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,tw):tw;function rw(e){const t=e.ref;return _v(t)?t.files:Dv(t)?yD(e.refs).value:hD(t)?[...t.selectedOptions].map(({value:r})=>r):iu(t)?pD(e.refs).value:gD(Et(t.value)?e.ref.value:t.value,e)}var BI=(e,t,r,n)=>{const s={};for(const a of e){const i=Ee(t,a);i&&ut(s,a,i._f)}return{criteriaMode:r,names:[...e],fields:s,shouldUseNativeValidation:n}},Df=e=>e instanceof RegExp,Sl=e=>Et(e)?e:Df(e)?e.source:Pt(e)?Df(e.value)?e.value.source:e.value:e,nw=e=>({isOnSubmit:!e||e===fn.onSubmit,isOnBlur:e===fn.onBlur,isOnChange:e===fn.onChange,isOnAll:e===fn.all,isOnTouch:e===fn.onTouched});const sw="AsyncFunction";var UI=e=>!!e&&!!e.validate&&!!(hn(e.validate)&&e.validate.constructor.name===sw||Pt(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===sw)),HI=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),aw=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const Xl=(e,t,r,n)=>{for(const s of r||Object.keys(e)){const a=Ee(e,s);if(a){const{_f:i,...l}=a;if(i){if(i.refs&&i.refs[0]&&t(i.refs[0],s)&&!n)return!0;if(i.ref&&t(i.ref,i.name)&&!n)return!0;if(Xl(l,t))break}else if(Pt(l)&&Xl(l,t))break}}};function iw(e,t,r){const n=Ee(e,r);if(n||xh(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const a=s.join("."),i=Ee(t,a),l=Ee(e,a);if(i&&!Array.isArray(i)&&r!==a)return{name:r};if(l&&l.type)return{name:a,error:l};if(l&&l.root&&l.root.type)return{name:`${a}.root`,error:l.root};s.pop()}return{name:r}}var zI=(e,t,r,n)=>{r(e);const{name:s,...a}=e;return gr(a)||Object.keys(a).length>=Object.keys(t).length||Object.keys(a).find(i=>t[i]===(!n||fn.all))},VI=(e,t,r)=>!e||!t||e===t||Gl(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),YI=(e,t,r,n,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(t||e):(r?n.isOnBlur:s.isOnBlur)?!e:(r?n.isOnChange:s.isOnChange)?e:!0,qI=(e,t)=>!Sv(Ee(e,t)).length&&kt(e,t),KI=(e,t,r)=>{const n=Gl(Ee(e,r));return ut(n,"root",t[r]),ut(e,r,n),e};function ow(e,t,r="validate"){if(Tr(e)||Array.isArray(e)&&e.every(Tr)||Ln(e)&&!e)return{type:r,message:Tr(e)?e:"",ref:t}}var Ri=e=>Pt(e)&&!Df(e)?e:{value:e,message:""},lw=async(e,t,r,n,s,a)=>{const{ref:i,refs:l,required:c,maxLength:u,minLength:d,min:f,max:h,pattern:g,validate:m,name:p,valueAsNumber:w,mount:y}=e._f,v=Ee(r,p);if(!y||t.has(p))return{};const x=l?l[0]:i,b=J=>{s&&x.reportValidity&&(x.setCustomValidity(Ln(J)?"":J||""),x.reportValidity())},_={},S=Dv(i),E=iu(i),C=S||E,M=(w||_v(i))&&Et(i.value)&&Et(v)||_f(i)&&i.value===""||v===""||Array.isArray(v)&&!v.length,$=RI.bind(null,p,n,_),Y=(J,G,se,ce=is.maxLength,Z=is.minLength)=>{const he=J?G:se;_[p]={type:J?ce:Z,message:he,ref:i,...$(J?ce:Z,he)}};if(a?!Array.isArray(v)||!v.length:c&&(!C&&(M||lr(v))||Ln(v)&&!v||E&&!pD(l).isValid||S&&!yD(l).isValid)){const{value:J,message:G}=Tr(c)?{value:!!c,message:c}:Ri(c);if(J&&(_[p]={type:is.required,message:G,ref:x,...$(is.required,G)},!n))return b(G),_}if(!M&&(!lr(f)||!lr(h))){let J,G;const se=Ri(h),ce=Ri(f);if(!lr(v)&&!isNaN(v)){const Z=i.valueAsNumber||v&&+v;lr(se.value)||(J=Z>se.value),lr(ce.value)||(G=Z<ce.value)}else{const Z=i.valueAsDate||new Date(v),he=oe=>new Date(new Date().toDateString()+" "+oe),te=i.type=="time",U=i.type=="week";Tr(se.value)&&v&&(J=te?he(v)>he(se.value):U?v>se.value:Z>new Date(se.value)),Tr(ce.value)&&v&&(G=te?he(v)<he(ce.value):U?v<ce.value:Z<new Date(ce.value))}if((J||G)&&(Y(!!J,se.message,ce.message,is.max,is.min),!n))return b(_[p].message),_}if((u||d)&&!M&&(Tr(v)||a&&Array.isArray(v))){const J=Ri(u),G=Ri(d),se=!lr(J.value)&&v.length>+J.value,ce=!lr(G.value)&&v.length<+G.value;if((se||ce)&&(Y(se,J.message,G.message),!n))return b(_[p].message),_}if(g&&!M&&Tr(v)){const{value:J,message:G}=Ri(g);if(Df(J)&&!v.match(J)&&(_[p]={type:is.pattern,message:G,ref:i,...$(is.pattern,G)},!n))return b(G),_}if(m){if(hn(m)){const J=await m(v,r),G=ow(J,x);if(G&&(_[p]={...G,...$(is.validate,G.message)},!n))return b(G.message),_}else if(Pt(m)){let J={};for(const G in m){if(!gr(J)&&!n)break;const se=ow(await m[G](v,r),x,G);se&&(J={...se,...$(G,se.message)},b(se.message),n&&(_[p]=J))}if(!gr(J)&&(_[p]={ref:x,...J},!n))return _}}return b(!0),_};const GI={mode:fn.onSubmit,reValidateMode:fn.onChange,shouldFocusError:!0};function XI(e={}){let t={...GI,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:hn(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},s=Pt(t.defaultValues)||Pt(t.values)?It(t.defaultValues||t.values)||{}:{},a=t.shouldUnregister?{}:It(s),i={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const h={array:Jb(),state:Jb()},g=t.criteriaMode===fn.all,m=j=>P=>{clearTimeout(u),u=setTimeout(j,P)},p=async j=>{if(!t.disabled&&(d.isValid||f.isValid||j)){const P=t.resolver?gr((await E()).errors):await M(n,!0);P!==r.isValid&&h.state.next({isValid:P})}},w=(j,P)=>{!t.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((j||Array.from(l.mount)).forEach(L=>{L&&(P?ut(r.validatingFields,L,P):kt(r.validatingFields,L))}),h.state.next({validatingFields:r.validatingFields,isValidating:!gr(r.validatingFields)}))},y=(j,P=[],L,K,ee=!0,ie=!0)=>{if(K&&L&&!t.disabled){if(i.action=!0,ie&&Array.isArray(Ee(n,j))){const ye=L(Ee(n,j),K.argA,K.argB);ee&&ut(n,j,ye)}if(ie&&Array.isArray(Ee(r.errors,j))){const ye=L(Ee(r.errors,j),K.argA,K.argB);ee&&ut(r.errors,j,ye),qI(r.errors,j)}if((d.touchedFields||f.touchedFields)&&ie&&Array.isArray(Ee(r.touchedFields,j))){const ye=L(Ee(r.touchedFields,j),K.argA,K.argB);ee&&ut(r.touchedFields,j,ye)}(d.dirtyFields||f.dirtyFields)&&(r.dirtyFields=Wi(s,a)),h.state.next({name:j,isDirty:Y(j,P),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else ut(a,j,P)},v=(j,P)=>{ut(r.errors,j,P),h.state.next({errors:r.errors})},x=j=>{r.errors=j,h.state.next({errors:r.errors,isValid:!1})},b=(j,P,L,K)=>{const ee=Ee(n,j);if(ee){const ie=Ee(a,j,Et(L)?Ee(s,j):L);Et(ie)||K&&K.defaultChecked||P?ut(a,j,P?ie:rw(ee._f)):se(j,ie),i.mount&&p()}},_=(j,P,L,K,ee)=>{let ie=!1,ye=!1;const Se={name:j};if(!t.disabled){if(!L||K){(d.isDirty||f.isDirty)&&(ye=r.isDirty,r.isDirty=Se.isDirty=Y(),ie=ye!==Se.isDirty);const ke=ea(Ee(s,j),P);ye=!!Ee(r.dirtyFields,j),ke?kt(r.dirtyFields,j):ut(r.dirtyFields,j,!0),Se.dirtyFields=r.dirtyFields,ie=ie||(d.dirtyFields||f.dirtyFields)&&ye!==!ke}if(L){const ke=Ee(r.touchedFields,j);ke||(ut(r.touchedFields,j,L),Se.touchedFields=r.touchedFields,ie=ie||(d.touchedFields||f.touchedFields)&&ke!==L)}ie&&ee&&h.state.next(Se)}return ie?Se:{}},S=(j,P,L,K)=>{const ee=Ee(r.errors,j),ie=(d.isValid||f.isValid)&&Ln(P)&&r.isValid!==P;if(t.delayError&&L?(c=m(()=>v(j,L)),c(t.delayError)):(clearTimeout(u),c=null,L?ut(r.errors,j,L):kt(r.errors,j)),(L?!ea(ee,L):ee)||!gr(K)||ie){const ye={...K,...ie&&Ln(P)?{isValid:P}:{},errors:r.errors,name:j};r={...r,...ye},h.state.next(ye)}},E=async j=>{w(j,!0);const P=await t.resolver(a,t.context,BI(j||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return w(j),P},C=async j=>{const{errors:P}=await E(j);if(j)for(const L of j){const K=Ee(P,L);K?ut(r.errors,L,K):kt(r.errors,L)}else r.errors=P;return P},M=async(j,P,L={valid:!0})=>{for(const K in j){const ee=j[K];if(ee){const{_f:ie,...ye}=ee;if(ie){const Se=l.array.has(ie.name),ke=ee._f&&UI(ee._f);ke&&d.validatingFields&&w([ie.name],!0);const Ae=await lw(ee,l.disabled,a,g,t.shouldUseNativeValidation&&!P,Se);if(ke&&d.validatingFields&&w([ie.name]),Ae[ie.name]&&(L.valid=!1,P))break;!P&&(Ee(Ae,ie.name)?Se?KI(r.errors,Ae,ie.name):ut(r.errors,ie.name,Ae[ie.name]):kt(r.errors,ie.name))}!gr(ye)&&await M(ye,P,L)}}return L.valid},$=()=>{for(const j of l.unMount){const P=Ee(n,j);P&&(P._f.refs?P._f.refs.every(L=>!Zm(L)):!Zm(P._f.ref))&&de(j)}l.unMount=new Set},Y=(j,P)=>!t.disabled&&(j&&P&&ut(a,j,P),!ea(oe(),s)),J=(j,P,L)=>$I(j,l,{...i.mount?a:Et(P)?s:Tr(j)?{[j]:P}:P},L,P),G=j=>Sv(Ee(i.mount?a:s,j,t.shouldUnregister?Ee(s,j,[]):[])),se=(j,P,L={})=>{const K=Ee(n,j);let ee=P;if(K){const ie=K._f;ie&&(!ie.disabled&&ut(a,j,gD(P,ie)),ee=_f(ie.ref)&&lr(P)?"":P,hD(ie.ref)?[...ie.ref.options].forEach(ye=>ye.selected=ee.includes(ye.value)):ie.refs?iu(ie.ref)?ie.refs.forEach(ye=>{(!ye.defaultChecked||!ye.disabled)&&(Array.isArray(ee)?ye.checked=!!ee.find(Se=>Se===ye.value):ye.checked=ee===ye.value||!!ee)}):ie.refs.forEach(ye=>ye.checked=ye.value===ee):_v(ie.ref)?ie.ref.value="":(ie.ref.value=ee,ie.ref.type||h.state.next({name:j,values:It(a)})))}(L.shouldDirty||L.shouldTouch)&&_(j,ee,L.shouldTouch,L.shouldDirty,!0),L.shouldValidate&&U(j)},ce=(j,P,L)=>{for(const K in P){if(!P.hasOwnProperty(K))return;const ee=P[K],ie=j+"."+K,ye=Ee(n,ie);(l.array.has(j)||Pt(ee)||ye&&!ye._f)&&!Za(ee)?ce(ie,ee,L):se(ie,ee,L)}},Z=(j,P,L={})=>{const K=Ee(n,j),ee=l.array.has(j),ie=It(P);ut(a,j,ie),ee?(h.array.next({name:j,values:It(a)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&L.shouldDirty&&h.state.next({name:j,dirtyFields:Wi(s,a),isDirty:Y(j,ie)})):K&&!K._f&&!lr(ie)?ce(j,ie,L):se(j,ie,L),aw(j,l)&&h.state.next({...r,name:j}),h.state.next({name:i.mount?j:void 0,values:It(a)})},he=async j=>{i.mount=!0;const P=j.target;let L=P.name,K=!0;const ee=Ee(n,L),ie=ke=>{K=Number.isNaN(ke)||Za(ke)&&isNaN(ke.getTime())||ea(ke,Ee(a,L,ke))},ye=nw(t.mode),Se=nw(t.reValidateMode);if(ee){let ke,Ae;const wt=P.type?rw(ee._f):EI(j),_t=j.type===Qb.BLUR||j.type===Qb.FOCUS_OUT,Er=!HI(ee._f)&&!t.resolver&&!Ee(r.errors,L)&&!ee._f.deps||YI(_t,Ee(r.touchedFields,L),r.isSubmitted,Se,ye),I=aw(L,l,_t);ut(a,L,wt),_t?(!P||!P.readOnly)&&(ee._f.onBlur&&ee._f.onBlur(j),c&&c(0)):ee._f.onChange&&ee._f.onChange(j);const be=_(L,wt,_t),ge=!gr(be)||I;if(!_t&&h.state.next({name:L,type:j.type,values:It(a)}),Er)return(d.isValid||f.isValid)&&(t.mode==="onBlur"?_t&&p():_t||p()),ge&&h.state.next({name:L,...I?{}:be});if(!_t&&I&&h.state.next({...r}),t.resolver){const{errors:we}=await E([L]);if(ie(wt),K){const xe=iw(r.errors,n,L),De=iw(we,n,xe.name||L);ke=De.error,L=De.name,Ae=gr(we)}}else w([L],!0),ke=(await lw(ee,l.disabled,a,g,t.shouldUseNativeValidation))[L],w([L]),ie(wt),K&&(ke?Ae=!1:(d.isValid||f.isValid)&&(Ae=await M(n,!0)));K&&(ee._f.deps&&(!Array.isArray(ee._f.deps)||ee._f.deps.length>0)&&U(ee._f.deps),S(L,Ae,ke,be))}},te=(j,P)=>{if(Ee(r.errors,P)&&j.focus)return j.focus(),1},U=async(j,P={})=>{let L,K;const ee=Gl(j);if(t.resolver){const ie=await C(Et(j)?j:ee);L=gr(ie),K=j?!ee.some(ye=>Ee(ie,ye)):L}else j?(K=(await Promise.all(ee.map(async ie=>{const ye=Ee(n,ie);return await M(ye&&ye._f?{[ie]:ye}:ye)}))).every(Boolean),!(!K&&!r.isValid)&&p()):K=L=await M(n);return h.state.next({...!Tr(j)||(d.isValid||f.isValid)&&L!==r.isValid?{}:{name:j},...t.resolver||!j?{isValid:L}:{},errors:r.errors}),P.shouldFocus&&!K&&Xl(n,te,j?ee:l.mount),K},oe=(j,P)=>{let L={...i.mount?a:s};return P&&(L=fD(P.dirtyFields?r.dirtyFields:r.touchedFields,L)),Et(j)?L:Tr(j)?Ee(L,j):j.map(K=>Ee(L,K))},V=(j,P)=>({invalid:!!Ee((P||r).errors,j),isDirty:!!Ee((P||r).dirtyFields,j),error:Ee((P||r).errors,j),isValidating:!!Ee(r.validatingFields,j),isTouched:!!Ee((P||r).touchedFields,j)}),W=j=>{j&&Gl(j).forEach(P=>kt(r.errors,P)),h.state.next({errors:j?r.errors:{}})},T=(j,P,L)=>{const K=(Ee(n,j,{_f:{}})._f||{}).ref,ee=Ee(r.errors,j)||{},{ref:ie,message:ye,type:Se,...ke}=ee;ut(r.errors,j,{...ke,...P,ref:K}),h.state.next({name:j,errors:r.errors,isValid:!1}),L&&L.shouldFocus&&K&&K.focus&&K.focus()},R=(j,P)=>hn(j)?h.state.subscribe({next:L=>"values"in L&&j(J(void 0,P),L)}):J(j,P,!0),X=j=>h.state.subscribe({next:P=>{VI(j.name,P.name,j.exact)&&zI(P,j.formState||d,D,j.reRenderRoot)&&j.callback({values:{...a},...r,...P,defaultValues:s})}}).unsubscribe,le=j=>(i.mount=!0,f={...f,...j.formState},X({...j,formState:f})),de=(j,P={})=>{for(const L of j?Gl(j):l.mount)l.mount.delete(L),l.array.delete(L),P.keepValue||(kt(n,L),kt(a,L)),!P.keepError&&kt(r.errors,L),!P.keepDirty&&kt(r.dirtyFields,L),!P.keepTouched&&kt(r.touchedFields,L),!P.keepIsValidating&&kt(r.validatingFields,L),!t.shouldUnregister&&!P.keepDefaultValue&&kt(s,L);h.state.next({values:It(a)}),h.state.next({...r,...P.keepDirty?{isDirty:Y()}:{}}),!P.keepIsValid&&p()},pe=({disabled:j,name:P})=>{(Ln(j)&&i.mount||j||l.disabled.has(P))&&(j?l.disabled.add(P):l.disabled.delete(P))},B=(j,P={})=>{let L=Ee(n,j);const K=Ln(P.disabled)||Ln(t.disabled);return ut(n,j,{...L||{},_f:{...L&&L._f?L._f:{ref:{name:j}},name:j,mount:!0,...P}}),l.mount.add(j),L?pe({disabled:Ln(P.disabled)?P.disabled:t.disabled,name:j}):b(j,!0,P.value),{...K?{disabled:P.disabled||t.disabled}:{},...t.progressive?{required:!!P.required,min:Sl(P.min),max:Sl(P.max),minLength:Sl(P.minLength),maxLength:Sl(P.maxLength),pattern:Sl(P.pattern)}:{},name:j,onChange:he,onBlur:he,ref:ee=>{if(ee){B(j,P),L=Ee(n,j);const ie=Et(ee.value)&&ee.querySelectorAll&&ee.querySelectorAll("input,select,textarea")[0]||ee,ye=LI(ie),Se=L._f.refs||[];if(ye?Se.find(ke=>ke===ie):ie===L._f.ref)return;ut(n,j,{_f:{...L._f,...ye?{refs:[...Se.filter(Zm),ie,...Array.isArray(Ee(s,j))?[{}]:[]],ref:{type:ie.type,name:j}}:{ref:ie}}}),b(j,!1,void 0,ie)}else L=Ee(n,j,{}),L._f&&(L._f.mount=!1),(t.shouldUnregister||P.shouldUnregister)&&!(TI(l.array,j)&&i.action)&&l.unMount.add(j)}}},O=()=>t.shouldFocusError&&Xl(n,te,l.mount),q=j=>{Ln(j)&&(h.state.next({disabled:j}),Xl(n,(P,L)=>{const K=Ee(n,L);K&&(P.disabled=K._f.disabled||j,Array.isArray(K._f.refs)&&K._f.refs.forEach(ee=>{ee.disabled=K._f.disabled||j}))},0,!1))},A=(j,P)=>async L=>{let K;L&&(L.preventDefault&&L.preventDefault(),L.persist&&L.persist());let ee=It(a);if(h.state.next({isSubmitting:!0}),t.resolver){const{errors:ie,values:ye}=await E();r.errors=ie,ee=It(ye)}else await M(n);if(l.disabled.size)for(const ie of l.disabled)kt(ee,ie);if(kt(r.errors,"root"),gr(r.errors)){h.state.next({errors:{}});try{await j(ee,L)}catch(ie){K=ie}}else P&&await P({...r.errors},L),O(),setTimeout(O);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:gr(r.errors)&&!K,submitCount:r.submitCount+1,errors:r.errors}),K)throw K},H=(j,P={})=>{Ee(n,j)&&(Et(P.defaultValue)?Z(j,It(Ee(s,j))):(Z(j,P.defaultValue),ut(s,j,It(P.defaultValue))),P.keepTouched||kt(r.touchedFields,j),P.keepDirty||(kt(r.dirtyFields,j),r.isDirty=P.defaultValue?Y(j,It(Ee(s,j))):Y()),P.keepError||(kt(r.errors,j),d.isValid&&p()),h.state.next({...r}))},ae=(j,P={})=>{const L=j?It(j):s,K=It(L),ee=gr(j),ie=ee?s:K;if(P.keepDefaultValues||(s=L),!P.keepValues){if(P.keepDirtyValues){const ye=new Set([...l.mount,...Object.keys(Wi(s,a))]);for(const Se of Array.from(ye))Ee(r.dirtyFields,Se)?ut(ie,Se,Ee(a,Se)):Z(Se,Ee(ie,Se))}else{if(Nv&&Et(j))for(const ye of l.mount){const Se=Ee(n,ye);if(Se&&Se._f){const ke=Array.isArray(Se._f.refs)?Se._f.refs[0]:Se._f.ref;if(_f(ke)){const Ae=ke.closest("form");if(Ae){Ae.reset();break}}}}if(P.keepFieldsRef)for(const ye of l.mount)Z(ye,Ee(ie,ye));else n={}}a=t.shouldUnregister?P.keepDefaultValues?It(s):{}:It(ie),h.array.next({values:{...ie}}),h.state.next({values:{...ie}})}l={mount:P.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},i.mount=!d.isValid||!!P.keepIsValid||!!P.keepDirtyValues,i.watch=!!t.shouldUnregister,h.state.next({submitCount:P.keepSubmitCount?r.submitCount:0,isDirty:ee?!1:P.keepDirty?r.isDirty:!!(P.keepDefaultValues&&!ea(j,s)),isSubmitted:P.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:ee?{}:P.keepDirtyValues?P.keepDefaultValues&&a?Wi(s,a):r.dirtyFields:P.keepDefaultValues&&j?Wi(s,j):P.keepDirty?r.dirtyFields:{},touchedFields:P.keepTouched?r.touchedFields:{},errors:P.keepErrors?r.errors:{},isSubmitSuccessful:P.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:s})},Ne=(j,P)=>ae(hn(j)?j(a):j,P),Ie=(j,P={})=>{const L=Ee(n,j),K=L&&L._f;if(K){const ee=K.refs?K.refs[0]:K.ref;ee.focus&&(ee.focus(),P.shouldSelect&&hn(ee.select)&&ee.select())}},D=j=>{r={...r,...j}},z={control:{register:B,unregister:de,getFieldState:V,handleSubmit:A,setError:T,_subscribe:X,_runSchema:E,_focusError:O,_getWatch:J,_getDirty:Y,_setValid:p,_setFieldArray:y,_setDisabledField:pe,_setErrors:x,_getFieldArray:G,_reset:ae,_resetDefaultValues:()=>hn(t.defaultValues)&&t.defaultValues().then(j=>{Ne(j,t.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:$,_disableForm:q,_subjects:h,_proxyFormState:d,get _fields(){return n},get _formValues(){return a},get _state(){return i},set _state(j){i=j},get _defaultValues(){return s},get _names(){return l},set _names(j){l=j},get _formState(){return r},get _options(){return t},set _options(j){t={...t,...j}}},subscribe:le,trigger:U,register:B,handleSubmit:A,watch:R,setValue:Z,getValues:oe,reset:Ne,resetField:H,clearErrors:W,unregister:de,setError:T,setFocus:Ie,getFieldState:V};return{...z,formControl:z}}function qo(e={}){const t=F.useRef(void 0),r=F.useRef(void 0),[n,s]=F.useState({isDirty:!1,isValidating:!1,isLoading:hn(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:hn(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!hn(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:i,...l}=XI(e);t.current={...l,formState:n}}const a=t.current.control;return a._options=e,MI(()=>{const i=a._subscribe({formState:a._proxyFormState,callback:()=>s({...a._formState}),reRenderRoot:!0});return s(l=>({...l,isReady:!0})),a._formState.isReady=!0,i},[a]),F.useEffect(()=>a._disableForm(e.disabled),[a,e.disabled]),F.useEffect(()=>{e.mode&&(a._options.mode=e.mode),e.reValidateMode&&(a._options.reValidateMode=e.reValidateMode)},[a,e.mode,e.reValidateMode]),F.useEffect(()=>{e.errors&&(a._setErrors(e.errors),a._focusError())},[a,e.errors]),F.useEffect(()=>{e.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[a,e.shouldUnregister]),F.useEffect(()=>{if(a._proxyFormState.isDirty){const i=a._getDirty();i!==n.isDirty&&a._subjects.state.next({isDirty:i})}},[a,n.isDirty]),F.useEffect(()=>{e.values&&!ea(e.values,r.current)?(a._reset(e.values,{keepFieldsRef:!0,...a._options.resetOptions}),r.current=e.values,s(i=>({...i}))):a._resetDefaultValues()},[a,e.values]),F.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),t.current.formState=OI(n,a),t.current}const cw=["상준","신애","재천","민기","재성","재현"],vD=({event:e,slotInfo:t,defaultProjectName:r,onClose:n,onSave:s,onDelete:a})=>{const{register:i,handleSubmit:l,setValue:c,watch:u,formState:{errors:d},reset:f}=qo({defaultValues:{projectId:"",title:"",date:"",description:""}}),{projects:h}=Zr(),[g,m]=N.useState([]),[p,w]=N.useState(""),[y,v]=N.useState(!1),[x,b]=N.useState("오전"),[_,S]=N.useState(9),[E,C]=N.useState(0),[M,$]=N.useState(""),Y=u("projectId");N.useEffect(()=>{if(Y){const U=h.find(oe=>oe.id===Y||oe.id===parseInt(Y)||oe.id.toString()===Y.toString());console.log("🔴 Selected project:",U==null?void 0:U.name),console.log("🔴 Project team:",U==null?void 0:U.team),console.log("🔴 Current selectedMembers:",g)}},[Y,h,g]),N.useEffect(()=>{console.log("🟡 Modal mount - initializing states"),m([]),$(""),w("")},[]),N.useEffect(()=>{if(console.log("🟢 ScheduleModal useEffect triggered:",{hasEvent:!!e,eventId:e==null?void 0:e.id,hasSlotInfo:!!t,hasMergedEvents:!!(e!=null&&e.mergedEventIds)}),e&&e.id){console.log("🟢 ScheduleModal processing event:",{title:e.title,projectId:e.projectId,projectName:e.projectName,start:e.start,assignedTo:e.assignedTo,time:e.time});const U=e.originalTitle||e.title,oe=/ - (오전|오후) \d{1,2}시$/,V=U.replace(oe,"");if(c("title",V,{shouldValidate:!1,shouldDirty:!1}),c("date",Ce(e.start,"yyyy-MM-dd"),{shouldValidate:!1,shouldDirty:!1}),c("description",e.description||"",{shouldValidate:!1,shouldDirty:!1}),e.projectId&&e.projectId!==""&&e.projectId!=="undefined")console.log("🔵 Setting projectId from event:",e.projectId),c("projectId",e.projectId,{shouldValidate:!1,shouldDirty:!1}),$("");else if(e.projectName){const T=h.find(R=>R.name===e.projectName);console.log("🔵 Finding project by name:",e.projectName,"found:",T),T?(console.log("🔵 Setting projectId from found project:",T.id),c("projectId",T.id,{shouldValidate:!1,shouldDirty:!1}),$("")):(console.log("🔵 Project not found, leaving empty"),c("projectId","",{shouldValidate:!1,shouldDirty:!1}),$(""))}else console.log("🔵 No project info, leaving empty"),c("projectId","",{shouldValidate:!1,shouldDirty:!1}),$("");const W=e.assignedTo||e.attendees||[];if(console.log("🟢 Setting selectedMembers to:",W),m(Array.isArray(W)?W:[]),e.time&&e.time!=="-"){console.log("🟢 Setting time from event:",{eventTime:e.time,parsedHours:e.time.split(":")[0],parsedMinutes:e.time.split(":")[1]}),v(!0);const[T,R]=e.time.split(":"),X=parseInt(T,10),le=parseInt(R,10);X>=12?(b("오후"),S(X===12?12:X-12)):(b("오전"),S(X===0?12:X)),C(le),console.log("🟢 Time state set:",{hasTime:!0,period:X>=12?"오후":"오전",hour:X>=12?X===12?12:X-12:X===0?12:X,minute:le})}else console.log("🟢 No time in event, setting hasTime to false"),v(!1),b("오전"),S(9),C(0)}else if(t&&!e&&(console.log("🟢 New schedule from slot:",t),f({projectId:"",title:"",date:Ce(t.start,"yyyy-MM-dd"),description:""}),console.log("🟡 New schedule - resetting selectedMembers to empty array"),m([]),$(""),r)){const U=h.find(oe=>oe.name===r);U&&c("projectId",U.id,{shouldValidate:!1,shouldDirty:!1})}},[e==null?void 0:e.id]);const J=U=>{console.log("🔵 toggleMember called with:",U),console.log("🔵 Current selectedMembers before toggle:",g),m(oe=>{console.log("🔵 Previous members in setState:",oe);const V=oe.includes(U)?oe.filter(W=>W!==U):[...oe,U];return console.log("🔵 Updated members after toggle:",V),V})},G=()=>{const U="HV LAB";g.includes(U)?m(oe=>oe.filter(V=>V!==U)):m(oe=>[...oe,U])},se=()=>{const U="현장팀";g.includes(U)?m(oe=>oe.filter(V=>V!==U)):m(oe=>[...oe,U])},ce=()=>{const U="디자인팀";g.includes(U)?m(oe=>oe.filter(V=>V!==U)):m(oe=>[...oe,U])},Z=()=>{p.trim()&&!g.includes(p.trim())&&(m(U=>[...U,p.trim()]),w(""))},he=U=>{m(oe=>oe.filter(V=>V!==U))},te=async U=>{console.log("🔴 Form onSubmit called with data:",U),console.log("🔴 selectedMembers:",g),console.log("🔴 hasTime state:",y),console.log("🔴 timePeriod:",x,"timeHour:",_,"timeMinute:",E),console.log("🔴 Available projects:",h.map(de=>({id:de.id,name:de.name,idType:typeof de.id}))),console.log("🔴 Merged event IDs:",e==null?void 0:e.mergedEventIds);const oe=/ - (오전|오후) \d{1,2}시$/,V=U.title.replace(oe,"").trim();let W="",T="";if(U.projectId){const de=h.find(pe=>pe.id===U.projectId||pe.id===parseInt(U.projectId)||pe.id.toString()===U.projectId.toString());console.log("🔴 Looking for project with id:",U.projectId,"type:",typeof U.projectId),console.log("🔴 Found project:",de),W=(de==null?void 0:de.name)||"",T=U.projectId}else W="",T="";console.log("🔴 Final projectId:",T,"projectName:",W,"cleanedTitle:",V);const R=new Date(U.date);let X="-";if(y){let de=_;x==="오후"&&_!==12?de=_+12:x==="오전"&&_===12&&(de=0),X=`${de.toString().padStart(2,"0")}:${E.toString().padStart(2,"0")}`,console.log("🔴 Time calculated:",X)}else console.log("🔴 No time set (hasTime is false)");const le={...e,title:V,start:R,end:R,projectId:T,projectName:W,assignedTo:g,description:U.description||"",time:X,mergedEventIds:e==null?void 0:e.mergedEventIds};console.log("🔴 Calling onSave with newEvent:",le);try{await s(le),console.log("🔴 onSave completed successfully")}catch(de){throw console.error("🔴 onSave failed:",de),de}};return console.log("🔶 Rendering ScheduleModal with selectedMembers:",g),o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-3 md:p-4",children:o.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex items-center justify-between p-4 md:p-6 border-b",children:[o.jsx("h2",{className:"text-lg md:text-xl font-semibold",children:e?"일정 수정":"새 일정 추가"}),o.jsx("button",{onClick:n,className:"p-1.5 md:p-2 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx(rt,{className:"h-5 w-5"})})]}),o.jsxs("form",{onSubmit:l(te),className:"p-4 md:p-6 space-y-3 md:space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"프로젝트"}),o.jsxs("select",{...i("projectId"),className:"input w-full",children:[o.jsx("option",{value:""}),h.filter(U=>e!=null&&e.isASVisit?!0:U.status!=="completed").map(U=>o.jsx("option",{value:U.id,children:U.name},U.id))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"일정 제목 *"}),o.jsx("input",{...i("title",{required:"제목을 입력하세요"}),type:"text",className:"input w-full"}),d.title&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(d.title.message)})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"날짜 *"}),o.jsx("input",{...i("date",{required:"날짜를 선택하세요"}),type:"date",className:"input w-full"}),d.date&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(d.date.message)})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"시간"}),o.jsx("div",{className:"mb-2",children:o.jsx("button",{type:"button",onClick:()=>v(!y),className:`px-3 py-1.5 text-xs rounded border transition-colors ${y?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:y?"시간 설정됨":"시간 미설정 (-)"})}),y&&o.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[o.jsxs("div",{className:"flex gap-1",children:[o.jsx("button",{type:"button",onClick:()=>b("오전"),className:`px-3 py-1.5 text-xs rounded border transition-colors ${x==="오전"?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:"오전"}),o.jsx("button",{type:"button",onClick:()=>b("오후"),className:`px-3 py-1.5 text-xs rounded border transition-colors ${x==="오후"?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:"오후"})]}),o.jsx("select",{value:_,onChange:U=>S(parseInt(U.target.value)),className:"flex-1 min-w-[80px] max-w-[120px] px-2 py-1.5 text-sm border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-gray-500",children:[12,1,2,3,4,5,6,7,8,9,10,11].map(U=>o.jsxs("option",{value:U,children:[U,"시"]},U))}),o.jsx("select",{value:E,onChange:U=>C(parseInt(U.target.value)),className:"flex-1 min-w-[80px] max-w-[120px] px-2 py-1.5 text-sm border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-gray-500",children:[0,10,20,30,40,50].map(U=>o.jsxs("option",{value:U,children:[U,"분"]},U))})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"담당자 (중복 선택 가능)"}),o.jsxs("div",{className:"flex flex-wrap gap-1.5 mb-2",children:[o.jsx("button",{type:"button",onClick:G,className:`px-2.5 py-1.5 rounded border transition-colors text-sm ${g.includes("HV LAB")?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:"HV LAB"}),o.jsx("button",{type:"button",onClick:se,className:`px-2.5 py-1.5 rounded border transition-colors text-sm ${g.includes("현장팀")?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:"현장팀"}),o.jsx("button",{type:"button",onClick:ce,className:`px-2.5 py-1.5 rounded border transition-colors text-sm ${g.includes("디자인팀")?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:"디자인팀"}),cw.map(U=>o.jsx("button",{type:"button",onClick:()=>J(U),className:`px-2.5 py-1.5 rounded border transition-colors text-sm ${g.includes(U)?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:U},U)),g.filter(U=>!cw.includes(U)&&U!=="HV LAB"&&U!=="현장팀"&&U!=="디자인팀").map(U=>o.jsxs("button",{type:"button",onClick:()=>he(U),className:"px-2.5 py-1.5 rounded border transition-colors text-sm bg-gray-900 text-white border-gray-900 hover:bg-gray-800",children:[U," ×"]},U))]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"text",value:p,onChange:U=>w(U.target.value),onKeyPress:U=>{U.key==="Enter"&&(U.preventDefault(),Z())},className:"flex-1 px-3 py-1.5 border border-gray-300 rounded-lg text-xs focus:outline-none focus:ring-2 focus:ring-gray-500"}),o.jsx("button",{type:"button",onClick:Z,className:"px-3 py-1.5 bg-gray-100 text-gray-700 rounded-lg text-xs font-medium hover:bg-gray-200 transition-colors",children:"추가"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"설명"}),o.jsx("textarea",{...i("description"),rows:4,className:"input w-full text-sm md:text-base"})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between gap-2 sm:gap-0 pt-4 border-t",children:[o.jsx("div",{children:e&&o.jsxs("button",{type:"button",onClick:()=>{window.confirm("이 일정을 삭제하시겠습니까?")&&a(e.id)},className:"btn btn-outline text-red-600 hover:bg-red-50 flex items-center w-full sm:w-auto justify-center text-sm md:text-base",children:[o.jsx(Xr,{className:"h-4 w-4 mr-2"}),"삭제"]})}),o.jsxs("div",{className:"flex gap-2 sm:space-x-3",children:[o.jsx("button",{type:"button",onClick:n,className:"btn btn-outline flex-1 sm:flex-none text-sm md:text-base",children:"취소"}),o.jsx("button",{type:"submit",className:"btn btn-primary flex-1 sm:flex-none text-sm md:text-base",children:e?"수정":"추가"})]})]})]})]})})},uw=["상준","신애","재천","민기","재성","재현"],QI=()=>{const{schedules:e,loadSchedulesFromAPI:t,addScheduleToAPI:r,deleteScheduleFromAPI:n}=Zr(),{user:s}=Pa(),[a,i]=N.useState(!1),l=s!=null&&s.name?s.name.slice(-2):null,c=f=>{if(!f||f==="-")return"";const[h,g]=f.split(":"),m=parseInt(h,10),p=parseInt(g,10),w=m>=12?"오후":"오전",y=m%12||12;return p>0?`${w} ${y}시 ${p}분`:`${w} ${y}시`},u=l?[l,...uw.filter(f=>f!==l)]:uw,d=f=>{const h=e.filter(p=>p.attendees?!!(p.attendees.includes(f)||p.attendees.includes("HV LAB")||p.attendees.includes("현장팀")&&["재천","민기"].includes(f)||p.attendees.includes("디자인팀")&&["신애","재성","재현"].includes(f)):!1),g=h.filter(p=>Xb(new Date(p.start))),m=h.filter(p=>Y3(new Date(p.start))&&!Xb(new Date(p.start))).sort((p,w)=>new Date(p.start).getTime()-new Date(w.start).getTime()).slice(0,3);return{todaySchedules:g,upcomingSchedules:m,member:f}};return o.jsxs("div",{className:"space-y-3 md:space-y-4",children:[o.jsx("div",{children:o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 md:gap-4",children:u.map(f=>{const{todaySchedules:h,upcomingSchedules:g}=d(f),m=h.length+g.length,p=f===l;return o.jsxs("div",{className:`card p-4 md:p-4 ${p?"ring-1 ring-gray-400":""}`,children:[o.jsxs("div",{className:"flex items-center justify-between mb-4 pb-3 border-b border-gray-200",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("h3",{className:"font-bold text-lg md:text-lg text-gray-900",children:f}),p&&o.jsx("span",{className:"text-xs px-2 py-0.5 bg-gray-100/50 text-gray-900 rounded font-medium",children:"나"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[p&&o.jsx("button",{onClick:()=>i(!0),className:"p-1.5 hover:bg-gray-100 rounded-full transition-colors",title:"일정 추가",children:o.jsx(q_,{className:"h-4 w-4 text-gray-700"})}),o.jsxs("span",{className:`text-xs px-2.5 py-1 ${p&&h.length>0?"bg-amber-100 text-gray-900":"bg-gray-100 text-gray-900"} rounded-full font-semibold whitespace-nowrap`,children:[h.length," 오늘"]}),o.jsxs("span",{className:"text-xs px-2.5 py-1 bg-gray-100 text-gray-700 rounded-full font-semibold whitespace-nowrap",children:[g.length," 예정"]})]})]}),h.length>0&&o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{className:"flex items-center gap-1.5 mb-2",children:[o.jsx(ca,{className:"h-4 w-4 text-gray-900"}),o.jsx("p",{className:"text-xs font-semibold text-gray-900 uppercase",children:"오늘"})]}),o.jsx("div",{className:"space-y-2",children:(()=>{const w=h.reduce((y,v)=>{const x=v.project||"-";return y[x]||(y[x]=[]),y[x].push(v),y},{});return Object.entries(w).map(([y,v])=>{const x=f===l;return o.jsxs("div",{className:`border-l-3 ${x?"border-gray-400":"border-gray-900"} ${x?"bg-amber-50":"bg-gray-50"} rounded-r overflow-hidden`,children:[o.jsx("div",{className:`px-3 py-1.5 ${x?"bg-amber-100":"bg-gray-100"} border-b ${x?"border-amber-200":"border-gray-200"}`,children:o.jsx("span",{className:"text-xs font-semibold text-gray-900",children:y})}),o.jsx("div",{className:"px-3 py-2 space-y-1",children:v.map(b=>{const _=b.time&&b.time!=="-"?` - ${c(b.time)}`:"";return o.jsxs("p",{className:"font-medium text-gray-900 text-sm leading-relaxed",children:["• ",b.title,_]},b.id)})})]},y)})})()})]}),g.length>0&&o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-1.5 mb-2",children:[o.jsx(UR,{className:"h-4 w-4 text-gray-600"}),o.jsx("p",{className:"text-xs font-semibold text-gray-600 uppercase",children:"예정"})]}),o.jsx("div",{className:"space-y-2",children:(()=>{const w=g.reduce((y,v)=>{const x=Ce(new Date(v.start),"MM.dd",{locale:Qe}),b=v.project||"-",_=`${x}|${b}`;return y[_]||(y[_]={date:x,project:b,schedules:[]}),y[_].schedules.push(v),y},{});return Object.values(w).map(({date:y,project:v,schedules:x})=>{const _=x.length>0&&X3(new Date(x[0].start))?`${y} (내일)`:y;return o.jsxs("div",{className:"border-l-3 border-gray-400 bg-gray-50 rounded-r overflow-hidden",children:[o.jsxs("div",{className:"px-3 py-1.5 bg-gray-100 border-b border-gray-200 flex items-center justify-between",children:[o.jsx("span",{className:"text-xs font-semibold text-gray-700",children:v}),o.jsx("span",{className:"text-xs text-gray-500 font-medium",children:_})]}),o.jsx("div",{className:"px-3 py-2 space-y-1",children:x.map(S=>{const E=S.time&&S.time!=="-"?` - ${c(S.time)}`:"";return o.jsxs("p",{className:"font-medium text-gray-900 text-sm leading-relaxed",children:["• ",S.title,E]},S.id)})})]},`${y}-${v}`)})})()})]}),m===0&&o.jsx("div",{className:"text-center py-8 text-gray-400 text-sm",children:"예정된 일정이 없습니다"})]},f)})})}),a&&o.jsx(vD,{event:null,slotInfo:{start:new Date,end:new Date},onClose:()=>i(!1),onSave:async f=>{try{console.log("Dashboard: Adding schedule...",f),await r({id:Date.now().toString(),title:f.title||"",start:f.start||new Date,end:f.end||new Date,type:"other",project:f.projectId||f.projectName||"",location:"",attendees:f.assignedTo||[],description:f.description||"",time:f.time}),console.log("Dashboard: Schedule added successfully"),await t(),console.log("Dashboard: Schedules fetched, closing modal"),i(!1)}catch(h){console.error("Failed to add schedule:",h),alert("일정 추가에 실패했습니다: "+(h instanceof Error?h.message:"알 수 없는 오류"))}},onDelete:async f=>{try{await n(f),await t(),i(!1)}catch(h){console.error("Failed to delete schedule:",h),alert("일정 삭제에 실패했습니다: "+(h instanceof Error?h.message:"알 수 없는 오류"))}}})]})},JI=({value:e,detailValue:t="",onChange:r,onDetailChange:n,placeholder:s="주소 검색",error:a})=>{const[i,l]=N.useState(!1),[c,u]=N.useState(e),[d,f]=N.useState(t),h=N.useRef(null);N.useEffect(()=>{const y=v=>{h.current&&!h.current.contains(v.target)&&l(!1)};return i&&document.addEventListener("mousedown",y),()=>{document.removeEventListener("mousedown",y)}},[i]),N.useEffect(()=>{u(e)},[e]),N.useEffect(()=>{f(t)},[t]);const g=()=>new Promise((y,v)=>{if(window.daum&&window.daum.Postcode){y(!0);return}const x=document.createElement("script");x.src="//t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js",x.async=!0,x.onload=()=>y(!0),x.onerror=()=>v(new Error("Kakao Postcode 스크립트 로드 실패")),document.head.appendChild(x)}),m=y=>{const v=y.roadAddr||y.jibunAddr;u(v),r(v,d),l(!1)},p=y=>{const v=y.target.value;f(v),n&&n(v),c&&r(c,v)},w=async()=>{try{(!window.daum||!window.daum.Postcode)&&await g(),window.daum&&new window.daum.Postcode({oncomplete:function(y){const v={roadAddr:y.roadAddress,jibunAddr:y.jibunAddress||y.autoJibunAddress||"",zipNo:y.zonecode,bdNm:y.buildingName,siNm:y.sido,sggNm:y.sigungu,emdNm:y.bname,rn:y.roadname};m(v)}}).open()}catch(y){console.error("주소 검색 오류:",y),alert("주소 검색 서비스를 사용할 수 없습니다. 직접 입력해주세요.")}};return o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"relative",children:[o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx("input",{type:"text",value:c,onClick:()=>w(),onChange:y=>{u(y.target.value),r(y.target.value,d)},placeholder:s,className:`input pr-8 cursor-pointer ${a?"border-red-500":""}`,readOnly:!0}),o.jsx(bf,{className:"absolute right-2 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400 pointer-events-none"})]}),o.jsx("button",{type:"button",onClick:w,className:"px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg text-sm font-medium transition-colors",children:"주소 검색"})]}),a&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:a})]}),o.jsx("div",{children:o.jsx("input",{type:"text",value:d,onChange:p,placeholder:"상세주소 (동/호수 등)",className:"input",disabled:!c})}),c&&o.jsx("div",{className:"p-3 bg-gray-50 rounded-lg",children:o.jsxs("p",{className:"text-sm text-gray-600",children:[o.jsx("span",{className:"font-medium",children:"전체 주소:"})," ",c,d&&`, ${d}`]})}),o.jsx("div",{id:"address-search-container",style:{display:"none",width:"100%",height:"400px"}})]})},dw=["상준","신애","재천","민기","재성","재현"],ZI=({project:e,onClose:t,onSave:r})=>{const{register:n,handleSubmit:s,setValue:a,reset:i,formState:{errors:l}}=qo({defaultValues:{name:"",client:"",location:"",detailLocation:"",startDate:"",endDate:""}}),[c,u]=N.useState([]),[d,f]=N.useState(""),[h,g]=N.useState(""),[m,p]=N.useState("");N.useEffect(()=>{var b;if(e){const _=e.location?e.location.split(","):["",""],S=((b=_[0])==null?void 0:b.trim())||e.location||"",E=_.length>1?_.slice(1).join(",").trim():"";i({name:e.name,client:e.client||"",location:S,detailLocation:E,startDate:e.startDate?new Date(e.startDate).toISOString().split("T")[0]:"",endDate:e.endDate?new Date(e.endDate).toISOString().split("T")[0]:""}),g(S),p(E);const C=e.manager?e.manager.split(",").map(M=>M.trim()).filter(M=>M&&M!=="미지정"):[];u(C)}else i({name:"",client:"",location:"",detailLocation:"",startDate:"",endDate:""}),g(""),p(""),u([])},[e,i]);const w=b=>{u(_=>_.includes(b)?_.filter(S=>S!==b):[..._,b])},y=()=>{d.trim()&&!c.includes(d.trim())&&(u(b=>[...b,d.trim()]),f(""))},v=b=>{u(_=>_.filter(S=>S!==b))},x=b=>{console.log("📋 ProjectModal onSubmit - Raw form data:",b);const _=h&&m?`${h}, ${m}`:h||b.location,S={name:b.name,client:b.client,location:_,manager:c.join(", "),contractAmount:(e==null?void 0:e.contractAmount)??0,spent:(e==null?void 0:e.spent)??0,status:(e==null?void 0:e.status)??"planning",progress:(e==null?void 0:e.progress)??0,description:(e==null?void 0:e.description)??"",meetingNotes:(e==null?void 0:e.meetingNotes)??[],customerRequests:(e==null?void 0:e.customerRequests)??[],entrancePassword:(e==null?void 0:e.entrancePassword)??"",sitePassword:(e==null?void 0:e.sitePassword)??""};if(b.startDate&&b.startDate!=="")S.startDate=b.startDate,console.log("📅 Setting startDate from form:",b.startDate);else if(e!=null&&e.startDate){const E=typeof e.startDate=="string"&&e.startDate.includes("T")?e.startDate.split("T")[0]:e.startDate;S.startDate=E,console.log("📅 Keeping existing startDate:",S.startDate)}if(b.endDate&&b.endDate!=="")S.endDate=b.endDate,console.log("📅 Setting endDate from form:",b.endDate);else if(e!=null&&e.endDate){const E=typeof e.endDate=="string"&&e.endDate.includes("T")?e.endDate.split("T")[0]:e.endDate;S.endDate=E,console.log("📅 Keeping existing endDate:",S.endDate)}console.log("📋 ProjectModal onSubmit - Final formData:",S),r(S)};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-3 md:p-4",children:o.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex items-center justify-between p-4 md:p-6 border-b sticky top-0 bg-white z-10",children:[o.jsx("h2",{className:"text-lg md:text-xl font-semibold",children:e?"프로젝트 수정":"새 프로젝트"}),o.jsx("button",{onClick:t,className:"p-1.5 md:p-2 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx(rt,{className:"h-5 w-5"})})]}),o.jsxs("form",{onSubmit:s(x),className:"p-4 md:p-6 space-y-4 md:space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"프로젝트명 *"}),o.jsx("input",{...n("name",{required:"프로젝트명을 입력하세요"}),type:"text",className:"input"}),l.name&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(l.name.message)})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"고객명"}),o.jsx("input",{...n("client"),type:"text",className:"input"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"위치 *"}),o.jsx(JI,{value:h,detailValue:m,onChange:(b,_)=>{g(b),p(_||""),a("location",b),a("detailLocation",_||"")},onDetailChange:b=>{p(b),a("detailLocation",b)},placeholder:"클릭하여 주소 검색",required:!0,error:l.location?String(l.location.message):void 0})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"시작일"}),o.jsx("input",{...n("startDate"),type:"date",className:"input"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"종료일"}),o.jsx("input",{...n("endDate"),type:"date",className:"input"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"담당자 (중복 선택 가능)"}),o.jsxs("div",{className:"flex flex-wrap gap-1.5 mb-2",children:[dw.map(b=>o.jsx("button",{type:"button",onClick:()=>w(b),className:`px-2.5 py-1.5 rounded border transition-colors text-sm ${c.includes(b)?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:b},b)),c.filter(b=>!dw.includes(b)).map(b=>o.jsxs("button",{type:"button",onClick:()=>v(b),className:"px-2.5 py-1.5 rounded border transition-colors text-sm bg-gray-900 text-white border-gray-900 hover:bg-gray-800",children:[b," ×"]},b))]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"text",value:d,onChange:b=>f(b.target.value),onKeyPress:b=>{b.key==="Enter"&&(b.preventDefault(),y())},placeholder:"담당자 이름 직접 입력",className:"flex-1 px-3 py-1.5 border border-gray-300 rounded-lg text-xs focus:outline-none focus:ring-2 focus:ring-gray-500"}),o.jsx("button",{type:"button",onClick:y,className:"px-3 py-1.5 bg-gray-100 text-gray-700 rounded-lg text-xs font-medium hover:bg-gray-200 transition-colors",children:"추가"})]})]}),o.jsxs("div",{className:"flex justify-end space-x-2 md:space-x-3 pt-4 border-t",children:[o.jsx("button",{type:"button",onClick:t,className:"btn btn-outline text-sm md:text-base",children:"취소"}),o.jsx("button",{type:"submit",className:"btn btn-primary text-sm md:text-base",children:e?"수정":"생성"})]})]})]})})},eF=({projectName:e,meetingNotes:t,onClose:r,onSave:n,onDelete:s})=>{const[a,i]=N.useState(""),[l,c]=N.useState(new Date().toISOString().split("T")[0]),[u,d]=N.useState(!1),f=()=>{d(!0),i(""),c(new Date().toISOString().split("T")[0])},h=()=>{if(!a.trim()){alert("내용을 입력하세요");return}if(!l){alert("미팅일자를 선택하세요");return}n(a.trim(),new Date(l)),i(""),c(new Date().toISOString().split("T")[0]),d(!1)},g=()=>{i(""),c(new Date().toISOString().split("T")[0]),d(!1)},m=p=>{window.confirm("이 미팅 내용을 삭제하시겠습니까?")&&s(p)};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",onClick:r,children:o.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[80vh] flex flex-col shadow-xl",onClick:p=>p.stopPropagation(),children:[o.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"미팅 내용"}),o.jsx("p",{className:"text-sm text-gray-500 mt-0.5",children:e})]}),o.jsx("button",{onClick:r,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:o.jsx(rt,{className:"h-5 w-5 text-gray-500"})})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[!u&&o.jsx("button",{onClick:f,className:"w-full mb-4 px-4 py-2.5 border border-gray-300 rounded text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:"+ 추가"}),u&&o.jsxs("div",{className:"mb-4 p-4 bg-gray-50 rounded border border-gray-200",children:[o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"미팅일자 *"}),o.jsx("input",{type:"date",value:l,onChange:p=>c(p.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded text-sm focus:outline-none focus:border-gray-900"})]}),o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"미팅 내용 *"}),o.jsx("textarea",{value:a,onChange:p=>i(p.target.value),placeholder:"미팅 내용을 입력하세요",className:"w-full px-3 py-2 border border-gray-300 rounded text-sm focus:outline-none focus:border-gray-900 resize-none",rows:4})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:h,className:"px-4 py-1.5 bg-gray-900 text-white text-sm rounded hover:bg-gray-800 transition-colors",children:"저장"}),o.jsx("button",{onClick:g,className:"px-4 py-1.5 bg-gray-200 text-gray-700 text-sm rounded hover:bg-gray-300 transition-colors",children:"취소"})]})]}),o.jsx("div",{className:"space-y-3",children:t.length===0?o.jsx("div",{className:"text-center py-12 text-gray-400 text-sm",children:"작성된 미팅 내용이 없습니다"}):t.map(p=>o.jsx("div",{className:"p-4 bg-white border border-gray-200 rounded hover:border-gray-300 transition-colors group",children:o.jsxs("div",{className:"flex items-start justify-between gap-3",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-sm text-gray-600 mb-2",children:Ce(new Date(p.date),"yyyy.MM.dd (eee)",{locale:Qe})}),o.jsx("p",{className:"text-sm text-gray-900 whitespace-pre-wrap break-words",children:p.content})]}),o.jsx("button",{onClick:()=>m(p.id),className:"opacity-0 group-hover:opacity-100 px-2 py-1 text-xs text-gray-500 hover:text-red-600 transition-all",children:"삭제"})]})},p.id))})]})]})})},tF=({projectName:e,customerRequests:t,onClose:r,onSave:n,onToggleComplete:s,onDelete:a})=>{const[i,l]=N.useState(""),[c,u]=N.useState(new Date().toISOString().split("T")[0]),[d,f]=N.useState(!1),h=()=>{f(!0),l(""),u(new Date().toISOString().split("T")[0])},g=()=>{if(!i.trim()){alert("내용을 입력하세요");return}if(!c){alert("요청일자를 선택하세요");return}n(i.trim(),new Date(c)),l(""),u(new Date().toISOString().split("T")[0]),f(!1)},m=()=>{l(""),u(new Date().toISOString().split("T")[0]),f(!1)},p=x=>{window.confirm("이 요청사항을 삭제하시겠습니까?")&&a(x)},w=x=>{s(x)},y=t.filter(x=>!x.completed),v=t.filter(x=>x.completed);return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",onClick:r,children:o.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[80vh] flex flex-col shadow-xl",onClick:x=>x.stopPropagation(),children:[o.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"고객 요청사항"}),o.jsx("p",{className:"text-sm text-gray-500 mt-0.5",children:e})]}),o.jsx("button",{onClick:r,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:o.jsx(rt,{className:"h-5 w-5 text-gray-500"})})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[!d&&o.jsx("button",{onClick:h,className:"w-full mb-4 px-4 py-2.5 border border-gray-300 rounded text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:"+ 추가"}),d&&o.jsxs("div",{className:"mb-4 p-4 bg-gray-50 rounded border border-gray-200",children:[o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"요청일자 *"}),o.jsx("input",{type:"date",value:c,onChange:x=>u(x.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded text-sm focus:outline-none focus:border-gray-900"})]}),o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"요청 내용 *"}),o.jsx("textarea",{value:i,onChange:x=>l(x.target.value),placeholder:"고객 요청사항을 입력하세요",className:"w-full px-3 py-2 border border-gray-300 rounded text-sm focus:outline-none focus:border-gray-900 resize-none",rows:3})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:g,className:"px-4 py-1.5 bg-gray-900 text-white text-sm rounded hover:bg-gray-800 transition-colors",children:"저장"}),o.jsx("button",{onClick:m,className:"px-4 py-1.5 bg-gray-200 text-gray-700 text-sm rounded hover:bg-gray-300 transition-colors",children:"취소"})]})]}),o.jsx("div",{className:"space-y-2",children:t.length===0?o.jsx("div",{className:"text-center py-12 text-gray-400 text-sm",children:"등록된 요청사항이 없습니다"}):o.jsxs(o.Fragment,{children:[y.map(x=>o.jsx("div",{className:"p-3 bg-white border border-gray-300 rounded hover:border-gray-400 transition-colors group",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("button",{onClick:()=>w(x.id),className:"mt-0.5 flex-shrink-0",children:o.jsx(BR,{className:"h-4 w-4 text-gray-400"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-sm text-gray-900 whitespace-pre-wrap break-words",children:x.content}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:Ce(new Date(x.createdAt),"yyyy.MM.dd",{locale:Qe})})]}),o.jsx("button",{onClick:()=>p(x.id),className:"opacity-0 group-hover:opacity-100 px-2 py-1 text-xs text-gray-500 hover:text-red-600 transition-all",children:"삭제"})]})},x.id)),v.map(x=>o.jsx("div",{className:"p-3 bg-gray-50 border border-gray-200 rounded hover:border-gray-300 transition-colors group",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("button",{onClick:()=>w(x.id),className:"mt-0.5 flex-shrink-0",children:o.jsx(FR,{className:"h-4 w-4 text-gray-900"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-sm text-gray-500 line-through whitespace-pre-wrap break-words",children:x.content}),o.jsx("p",{className:"text-xs text-gray-400 mt-1",children:Ce(new Date(x.createdAt),"yyyy.MM.dd",{locale:Qe})})]}),o.jsx("button",{onClick:()=>p(x.id),className:"opacity-0 group-hover:opacity-100 px-2 py-1 text-xs text-gray-500 hover:text-red-600 transition-all",children:"삭제"})]})},x.id))]})})]})]})})},rF=({projectName:e,entrancePassword:t,sitePassword:r,onClose:n,onSave:s})=>{const[a,i]=N.useState(t||""),[l,c]=N.useState(r||""),[u,d]=N.useState(!1),f=()=>{d(!0)},h=()=>{s(a,l),d(!1)},g=()=>{i(t||""),c(r||""),d(!1)};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",onClick:n,children:o.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full shadow-xl",onClick:m=>m.stopPropagation(),children:[o.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"비밀번호"}),o.jsx("p",{className:"text-sm text-gray-500 mt-0.5",children:e})]}),o.jsx("button",{onClick:n,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:o.jsx(rt,{className:"h-5 w-5 text-gray-500"})})]}),o.jsxs("div",{className:"p-6 space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"공동현관"}),u?o.jsx("input",{type:"text",value:a,onChange:m=>i(m.target.value),placeholder:"공동현관 비밀번호 입력",className:"w-full px-3 py-2 border border-gray-300 rounded text-sm focus:outline-none focus:border-gray-900"}):o.jsx("div",{className:"px-3 py-2 bg-gray-50 border border-gray-200 rounded",children:a?o.jsx("span",{className:"text-sm font-mono text-gray-900",children:a}):o.jsx("span",{className:"text-sm text-gray-400",children:"미등록"})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"현장"}),u?o.jsx("input",{type:"text",value:l,onChange:m=>c(m.target.value),placeholder:"현장 비밀번호 입력",className:"w-full px-3 py-2 border border-gray-300 rounded text-sm focus:outline-none focus:border-gray-900"}):o.jsx("div",{className:"px-3 py-2 bg-gray-50 border border-gray-200 rounded",children:l?o.jsx("span",{className:"text-sm font-mono text-gray-900",children:l}):o.jsx("span",{className:"text-sm text-gray-400",children:"미등록"})})]})]}),o.jsx("div",{className:"border-t border-gray-200 px-6 py-4 flex gap-2",children:u?o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:h,className:"flex-1 px-4 py-2 bg-gray-900 text-white text-sm rounded hover:bg-gray-800 transition-colors",children:"저장"}),o.jsx("button",{onClick:g,className:"flex-1 px-4 py-2 bg-gray-200 text-gray-700 text-sm rounded hover:bg-gray-300 transition-colors",children:"취소"})]}):o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:f,className:"flex-1 px-4 py-2 bg-gray-200 text-gray-700 text-sm rounded hover:bg-gray-300 transition-colors",children:"수정"}),o.jsx("button",{onClick:n,className:"flex-1 px-4 py-2 bg-gray-900 text-white text-sm rounded hover:bg-gray-800 transition-colors",children:"닫기"})]})})]})})},nF=()=>{const{projects:e,loadProjectsFromAPI:t,addProjectToAPI:r,updateProjectInAPI:n,deleteProjectFromAPI:s}=Zr(),{user:a}=Pa(),[i,l]=N.useState("in-progress"),[c,u]=N.useState("grid"),[d,f]=N.useState(!1),[h,g]=N.useState(null),[m,p]=N.useState(!1),[w,y]=N.useState(!1),[v,x]=N.useState(!1),[b,_]=N.useState(null),S=(B,O)=>`lastViewed_${a==null?void 0:a.id}_${B}_${O}`,E=(B,O)=>{const q=S(B,O),A=localStorage.getItem(q);return A?parseInt(A,10):0},C=(B,O)=>{const q=S(B,O);localStorage.setItem(q,Date.now().toString())},M=(B,O)=>{const q=E(B.id,O);return O==="meeting"?(B.meetingNotes||[]).some(H=>(H.createdAt?new Date(H.createdAt).getTime():new Date(H.date).getTime())>q):(B.customerRequests||[]).some(H=>(H.createdAt?new Date(H.createdAt).getTime():0)>q)};N.useEffect(()=>{t().catch(B=>{console.error("Failed to load projects:",B),ne.error("프로젝트 데이터를 불러오는데 실패했습니다")})},[t]),N.useEffect(()=>{const B=()=>{g(null),f(!0)};return window.addEventListener("headerAddButtonClick",B),()=>window.removeEventListener("headerAddButtonClick",B)},[]);const $=(B,O)=>{if(!B||!O)return 0;const q=new Date,A=new Date(B),H=new Date(O);if(q<A)return 0;if(q>H)return 100;const ae=Math.ceil((H.getTime()-A.getTime())/(1e3*60*60*24)),Ne=Math.ceil((q.getTime()-A.getTime())/(1e3*60*60*24)),Ie=Math.round(Ne/ae*100);return Math.min(100,Math.max(0,Ie))},Y=B=>{g(B),f(!0)},J=async(B,O)=>{if(window.confirm(`"${O}" 프로젝트를 삭제하시겠습니까?

삭제된 내역은 복구할 수 없습니다.`))try{await s(B),ne.success("프로젝트가 삭제되었습니다")}catch(q){console.error("Failed to delete project:",q),ne.error("프로젝트 삭제에 실패했습니다")}},G=async B=>{try{if(h)await n(h.id,B),ne.success("프로젝트가 수정되었습니다");else{const O={id:"",...B,team:B.team||[]};await r(O),ne.success("프로젝트가 추가되었습니다"),l(B.status||"planning")}f(!1),g(null)}catch(O){console.error("Failed to save project:",O),ne.error("프로젝트 저장에 실패했습니다")}},se=async(B,O)=>{try{await n(B,{status:O}),ne.success("상태가 변경되었습니다")}catch(q){console.error("Failed to update project status:",q),ne.error("상태 변경에 실패했습니다")}},ce=B=>{_(B),p(!0),C(B.id,"meeting")},Z=B=>{_(B),y(!0),C(B.id,"request")},he=B=>{_(B),x(!0)},te=async(B,O)=>{if(!b)return;const q=b.entrancePassword,A=b.sitePassword;_({...b,entrancePassword:B,sitePassword:O});try{await n(b.id,{entrancePassword:B,sitePassword:O}),ne.success("비밀번호가 저장되었습니다")}catch(H){console.error("Failed to save passwords:",H),ne.error("비밀번호 저장에 실패했습니다"),_({...b,entrancePassword:q,sitePassword:A})}},U=async(B,O)=>{if(!b)return;const q={id:Date.now().toString(),content:B,date:O,createdAt:new Date},A=[...b.meetingNotes||[],q];_({...b,meetingNotes:A});try{await n(b.id,{meetingNotes:A}),ne.success("미팅 내용이 추가되었습니다")}catch(H){console.error("Failed to save meeting note:",H),ne.error("미팅 내용 저장에 실패했습니다"),_({...b,meetingNotes:b.meetingNotes||[]})}},oe=async(B,O)=>{if(!b)return;const q={id:Date.now().toString(),content:B,completed:!1,createdAt:O},A=[...b.customerRequests||[],q];_({...b,customerRequests:A});try{await n(b.id,{customerRequests:A}),ne.success("고객 요청사항이 추가되었습니다")}catch(H){console.error("Failed to save customer request:",H),ne.error("고객 요청사항 저장에 실패했습니다"),_({...b,customerRequests:b.customerRequests||[]})}},V=async B=>{if(!b)return;const O=b.customerRequests||[],q=O.map(A=>A.id===B?{...A,completed:!A.completed}:A);_({...b,customerRequests:q});try{await n(b.id,{customerRequests:q}),ne.success("요청사항 상태가 변경되었습니다")}catch(A){console.error("Failed to toggle request:",A),ne.error("상태 변경에 실패했습니다"),_({...b,customerRequests:O})}},W=async B=>{if(!b)return;const O=b.meetingNotes||[],q=O.filter(A=>A.id!==B);_({...b,meetingNotes:q});try{await n(b.id,{meetingNotes:q}),ne.success("미팅 내용이 삭제되었습니다")}catch(A){console.error("Failed to delete meeting note:",A),ne.error("삭제에 실패했습니다"),_({...b,meetingNotes:O})}},T=async B=>{if(!b)return;const O=b.customerRequests||[],q=O.filter(A=>A.id!==B);_({...b,customerRequests:q});try{await n(b.id,{customerRequests:q}),ne.success("고객 요청사항이 삭제되었습니다")}catch(A){console.error("Failed to delete customer request:",A),ne.error("삭제에 실패했습니다"),_({...b,customerRequests:O})}},R=({project:B})=>{const q={planning:{label:"공사대기",color:"bg-white text-gray-700 border-gray-300"},"in-progress":{label:"공사진행중",color:"bg-white text-gray-900 border-gray-300"},completed:{label:"공사완료",color:"bg-gray-900 text-white border-gray-900"},"on-hold":{label:"보류",color:"bg-white text-gray-600 border-gray-300"}}[B.status];return o.jsxs("select",{value:B.status,onChange:A=>se(B.id,A.target.value),className:Un("px-2 py-1 text-xs font-medium border rounded cursor-pointer","focus:outline-none focus:ring-2 focus:ring-gray-500",q.color),onClick:A=>A.stopPropagation(),children:[o.jsx("option",{value:"planning",children:"공사대기"}),o.jsx("option",{value:"in-progress",children:"공사진행중"}),o.jsx("option",{value:"completed",children:"공사완료"}),o.jsx("option",{value:"on-hold",children:"보류"})]})},le=(()=>{let B=e;return i!=="all"&&(B=B.filter(O=>O.status===i)),B})(),de={planning:e.filter(B=>B.status==="planning").length,inProgress:e.filter(B=>B.status==="in-progress").length,completed:e.filter(B=>B.status==="completed").length,onHold:e.filter(B=>B.status==="on-hold").length},pe=({project:B})=>{var q,A,H,ae;const O=$(B.startDate,B.endDate);return o.jsxs("div",{className:"card p-3 md:p-4 hover:border-gray-400 transition-colors",children:[o.jsxs("div",{className:"flex items-start justify-between mb-3 md:mb-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-bold text-base md:text-lg text-gray-900",children:B.name}),o.jsxs("p",{className:"text-xs md:text-sm text-gray-600 mt-1",children:[B.client,"님"]})]}),o.jsxs("div",{className:"flex flex-col items-end",children:[o.jsx(R,{project:B}),o.jsx("button",{onClick:()=>Y(B),className:"text-xs text-gray-600 hover:text-gray-900 mt-2",children:"수정"})]})]}),o.jsxs("div",{className:"space-y-1.5 md:space-y-2 mb-3 md:mb-4 text-xs md:text-sm",children:[o.jsxs("div",{className:"text-gray-600",children:["위치: ",B.location]}),o.jsxs("div",{className:"text-gray-600",children:["기간: ",B.startDate&&B.endDate?`${Ce(B.startDate,"MM.dd (eee)",{locale:Qe})} - ${Ce(B.endDate,"MM.dd (eee)",{locale:Qe})}`:"미정"]}),o.jsxs("div",{className:"text-gray-600",children:["담당: ",B.manager]})]}),o.jsxs("div",{className:"mb-3 md:mb-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-1.5 md:mb-2",children:[o.jsx("span",{className:"text-[10px] md:text-xs text-gray-600",children:"진행률 (자동 계산)"}),o.jsxs("span",{className:"text-xs md:text-sm font-medium text-gray-900",children:[O,"%"]})]}),o.jsx("div",{className:"w-full bg-gray-200 h-1",children:o.jsx("div",{className:"bg-gray-900 h-1 transition-all",style:{width:`${O}%`}})})]}),o.jsxs("div",{className:"pt-2 border-t border-gray-200 space-y-2",children:[o.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[o.jsxs("button",{onClick:()=>ce(B),className:"relative px-2 py-1.5 text-xs font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:["미팅내용",(((q=B.meetingNotes)==null?void 0:q.length)||0)>0&&o.jsxs("span",{className:"ml-1 text-[10px] text-gray-500",children:["(",((A=B.meetingNotes)==null?void 0:A.length)||0,")"]}),M(B,"meeting")&&o.jsx("span",{className:"absolute -top-1 -right-1 inline-flex items-center justify-center px-1.5 py-0.5 text-[9px] font-bold leading-none text-white bg-red-500 rounded-full",children:"N"})]}),o.jsxs("button",{onClick:()=>Z(B),className:"relative px-2 py-1.5 text-xs font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:["고객요청",(((H=B.customerRequests)==null?void 0:H.length)||0)>0&&o.jsxs("span",{className:"ml-1 text-[10px] text-gray-500",children:["(",((ae=B.customerRequests)==null?void 0:ae.length)||0,")"]}),M(B,"request")&&o.jsx("span",{className:"absolute -top-1 -right-1 inline-flex items-center justify-center px-1.5 py-0.5 text-[9px] font-bold leading-none text-white bg-red-500 rounded-full",children:"N"})]}),o.jsx("button",{onClick:()=>he(B),className:"px-2 py-1.5 text-xs font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"비밀번호"})]}),((a==null?void 0:a.role)==="admin"||(a==null?void 0:a.role)==="manager")&&o.jsx("div",{className:"flex space-x-2",children:o.jsx("button",{onClick:()=>J(B.id,B.name),className:"text-xs text-rose-600 hover:text-rose-700",children:"삭제"})})]})]})};return o.jsxs("div",{className:"space-y-3 md:space-y-4",children:[o.jsx("div",{className:"border-b border-gray-200",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("nav",{className:"flex space-x-4 md:space-x-8 overflow-x-auto",children:[{id:"planning",label:"공사대기",count:de.planning,color:"text-gray-700"},{id:"in-progress",label:"공사진행중",count:de.inProgress,color:"text-gray-700"},{id:"completed",label:"공사완료",count:de.completed,color:"text-gray-700"},{id:"all",label:"전체",count:e.length,color:"text-gray-600"}].map(B=>o.jsxs("button",{onClick:()=>l(B.id),className:Un("py-3 md:py-4 px-1 border-b-2 font-medium text-xs md:text-sm transition-colors whitespace-nowrap",i===B.id?`border-gray-700 ${B.color}`:"border-transparent text-gray-400 hover:text-gray-700 hover:border-gray-300"),children:[B.label,o.jsx("span",{className:Un("ml-1 md:ml-2 py-0.5 px-1.5 md:px-2 rounded-full text-[10px] md:text-xs font-semibold",i===B.id?"bg-gray-700 text-white":"bg-gray-200 text-gray-600"),children:B.count})]},B.id))}),o.jsxs("div",{className:"flex items-center gap-6 mb-3 md:mb-4",children:[o.jsxs("div",{className:"hidden sm:flex border border-gray-300 overflow-hidden rounded",children:[o.jsx("button",{onClick:()=>u("grid"),className:Un("px-3 md:px-4 py-2 text-xs md:text-sm",c==="grid"?"bg-gray-100":"hover:bg-gray-50"),children:"그리드"}),o.jsx("button",{onClick:()=>u("list"),className:Un("px-3 md:px-4 py-2 text-xs md:text-sm border-l border-gray-300",c==="list"?"bg-gray-100":"hover:bg-gray-50"),children:"리스트"})]}),o.jsx("button",{onClick:()=>{g(null),f(!0)},className:"hidden lg:inline-flex btn btn-primary px-4 py-2",children:"+ 새 프로젝트"})]})]})}),c==="grid"||window.innerWidth<768?o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 md:gap-6",children:le.map(B=>o.jsx(pe,{project:B},B.id))}):o.jsx("div",{className:"bg-white border border-gray-200 overflow-hidden",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"프로젝트"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"고객"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"기간"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"상태"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"진행률"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"액션"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:le.map(B=>{var q,A,H,ae;const O=$(B.startDate,B.endDate);return o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:B.name}),o.jsx("p",{className:"text-sm text-gray-500",children:B.location})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("p",{className:"text-sm",children:[B.client,"님"]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:B.startDate&&B.endDate?o.jsxs(o.Fragment,{children:[Ce(B.startDate,"yyyy.MM.dd (eee)",{locale:Qe})," -",o.jsx("br",{}),Ce(B.endDate,"yyyy.MM.dd (eee)",{locale:Qe})]}):"미정"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx(R,{project:B})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-24 bg-gray-200 h-1 mr-2",children:o.jsx("div",{className:"bg-gray-900 h-1",style:{width:`${O}%`}})}),o.jsxs("span",{className:"text-sm",children:[O,"%"]})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{onClick:()=>ce(B),className:"relative px-3 py-1.5 text-xs font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:["미팅내용",(((q=B.meetingNotes)==null?void 0:q.length)||0)>0&&o.jsxs("span",{className:"ml-1 text-[10px] text-gray-500",children:["(",((A=B.meetingNotes)==null?void 0:A.length)||0,")"]}),M(B,"meeting")&&o.jsx("span",{className:"absolute -top-1 -right-1 inline-flex items-center justify-center px-1.5 py-0.5 text-[9px] font-bold leading-none text-white bg-red-500 rounded-full",children:"N"})]}),o.jsxs("button",{onClick:()=>Z(B),className:"relative px-3 py-1.5 text-xs font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:["고객요청",(((H=B.customerRequests)==null?void 0:H.length)||0)>0&&o.jsxs("span",{className:"ml-1 text-[10px] text-gray-500",children:["(",((ae=B.customerRequests)==null?void 0:ae.length)||0,")"]}),M(B,"request")&&o.jsx("span",{className:"absolute -top-1 -right-1 inline-flex items-center justify-center px-1.5 py-0.5 text-[9px] font-bold leading-none text-white bg-red-500 rounded-full",children:"N"})]}),o.jsx("button",{onClick:()=>he(B),className:"px-3 py-1.5 text-xs font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"비밀번호"})]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("button",{onClick:()=>Y(B),className:"text-xs text-gray-600 hover:text-gray-900",children:"수정"}),((a==null?void 0:a.role)==="admin"||(a==null?void 0:a.role)==="manager")&&o.jsx("button",{onClick:()=>J(B.id,B.name),className:"text-xs text-rose-600 hover:text-rose-700",children:"삭제"})]})]})})]},B.id)})})]})}),d&&o.jsx(ZI,{project:h,onClose:()=>{f(!1),g(null)},onSave:G}),m&&b&&o.jsx(eF,{projectName:b.name,meetingNotes:b.meetingNotes||[],onClose:()=>{p(!1),_(null)},onSave:U,onDelete:W}),w&&b&&o.jsx(tF,{projectName:b.name,customerRequests:b.customerRequests||[],onClose:()=>{y(!1),_(null)},onSave:oe,onToggleComplete:V,onDelete:T}),v&&b&&o.jsx(rF,{projectName:b.name,entrancePassword:b.entrancePassword||"",sitePassword:b.sitePassword||"",onClose:()=>{x(!1),_(null)},onSave:te})]})};function fw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ze(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fw(Object(r),!0).forEach(function(n){Ka(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bh(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function es(e,t){if(e==null)return{};var r,n,s=bh(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function nr(e,t,r){return t=jf(t),K3(e,cD()?Reflect.construct(t,r||[],jf(e).constructor):t.apply(e,r))}function xD(e){if(Array.isArray(e))return e}function sF(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,a,i,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw s}}return l}}function bD(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zr(e,t){return xD(e)||sF(e,t)||wv(e,t)||bD()}function wD(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=wD(e[t]))&&(n&&(n+=" "),n+=r);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}function mt(){for(var e,t,r=0,n="";r<arguments.length;)(e=arguments[r++])&&(t=wD(e))&&(n&&(n+=" "),n+=t);return n}const aF=Object.freeze(Object.defineProperty({__proto__:null,clsx:mt,default:mt},Symbol.toStringTag,{value:"Module"}));function bt(){return bt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bt.apply(null,arguments)}var iF=function(e,t,r,n,s,a,i,l){if(!e){var c;if(t===void 0)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[r,n,s,a,i,l],d=0;c=new Error(t.replace(/%s/g,function(){return u[d++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}},oF=iF;const Sc=fr(oF);var lF=function(){};function cF(e,t){var r={};return Object.keys(e).forEach(function(n){r[$d(n)]=lF}),r}function hw(e,t){return e[t]!==void 0}function $d(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function uF(e){return!!e&&(typeof e!="function"||e.prototype&&e.prototype.isReactComponent)}function dF(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Sf(e,t)}function ND(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);e!=null&&this.setState(e)}function SD(e){function t(r){var n=this.constructor.getDerivedStateFromProps(e,r);return n??null}this.setState(t.bind(this))}function jD(e,t){try{var r=this.props,n=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(r,n)}finally{this.props=r,this.state=n}}ND.__suppressDeprecationWarning=!0;SD.__suppressDeprecationWarning=!0;jD.__suppressDeprecationWarning=!0;function fF(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if(typeof e.getDerivedStateFromProps!="function"&&typeof t.getSnapshotBeforeUpdate!="function")return e;var r=null,n=null,s=null;if(typeof t.componentWillMount=="function"?r="componentWillMount":typeof t.UNSAFE_componentWillMount=="function"&&(r="UNSAFE_componentWillMount"),typeof t.componentWillReceiveProps=="function"?n="componentWillReceiveProps":typeof t.UNSAFE_componentWillReceiveProps=="function"&&(n="UNSAFE_componentWillReceiveProps"),typeof t.componentWillUpdate=="function"?s="componentWillUpdate":typeof t.UNSAFE_componentWillUpdate=="function"&&(s="UNSAFE_componentWillUpdate"),r!==null||n!==null||s!==null){var a=e.displayName||e.name,i=typeof e.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+a+" uses "+i+" but also contains the following legacy lifecycles:"+(r!==null?`
  `+r:"")+(n!==null?`
  `+n:"")+(s!==null?`
  `+s:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof e.getDerivedStateFromProps=="function"&&(t.componentWillMount=ND,t.componentWillReceiveProps=SD),typeof t.getSnapshotBeforeUpdate=="function"){if(typeof t.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=jD;var l=t.componentDidUpdate;t.componentDidUpdate=function(u,d,f){var h=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:f;l.call(this,u,d,h)}}return e}var hF="/Users/jquense/src/uncontrollable/src/uncontrollable.js";function _D(e,t,r){r===void 0&&(r=[]);var n=e.displayName||e.name||"Component",s=uF(e),a=Object.keys(t),i=a.map($d);s||!r.length||Sc(!1);var l=function(u){dF(d,u);function d(){for(var h,g=arguments.length,m=new Array(g),p=0;p<g;p++)m[p]=arguments[p];h=u.call.apply(u,[this].concat(m))||this,h.handlers=Object.create(null),a.forEach(function(y){var v=t[y],x=function(_){if(h.props[v]){var S;h._notifying=!0;for(var E=arguments.length,C=new Array(E>1?E-1:0),M=1;M<E;M++)C[M-1]=arguments[M];(S=h.props)[v].apply(S,[_].concat(C)),h._notifying=!1}h.unmounted||h.setState(function($){var Y,J=$.values;return{values:bt(Object.create(null),J,(Y={},Y[y]=_,Y))}})};h.handlers[v]=x}),r.length&&(h.attachRef=function(y){h.inner=y});var w=Object.create(null);return a.forEach(function(y){w[y]=h.props[$d(y)]}),h.state={values:w,prevProps:{}},h}var f=d.prototype;return f.shouldComponentUpdate=function(){return!this._notifying},d.getDerivedStateFromProps=function(g,m){var p=m.values,w=m.prevProps,y={values:bt(Object.create(null),p),prevProps:{}};return a.forEach(function(v){y.prevProps[v]=g[v],!hw(g,v)&&hw(w,v)&&(y.values[v]=g[$d(v)])}),y},f.componentWillUnmount=function(){this.unmounted=!0},f.render=function(){var g=this,m=this.props,p=m.innerRef,w=bh(m,["innerRef"]);i.forEach(function(v){delete w[v]});var y={};return a.forEach(function(v){var x=g.props[v];y[v]=x!==void 0?x:g.state.values[v]}),F.createElement(e,bt({},w,y,this.handlers,{ref:p||this.attachRef}))},d}(F.Component);fF(l),l.displayName="Uncontrolled("+n+")",l.propTypes=bt({innerRef:function(){}},cF(t)),r.forEach(function(u){l.prototype[u]=function(){var f;return(f=this.inner)[u].apply(f,arguments)}});var c=l;return F.forwardRef&&(c=F.forwardRef(function(u,d){return F.createElement(l,bt({},u,{innerRef:d,__source:{fileName:hF,lineNumber:128},__self:this}))}),c.propTypes=l.propTypes),c.ControlledComponent=e,c.deferControlTo=function(u,d,f){return d===void 0&&(d={}),_D(u,bt({},t,d),f)},c}var DD={exports:{}},mF="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",pF=mF,gF=pF;function kD(){}function ED(){}ED.resetWarningCache=kD;var yF=function(){function e(n,s,a,i,l,c){if(c!==gF){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:ED,resetWarningCache:kD};return r.PropTypes=r,r};DD.exports=yF();var kv=DD.exports;const ve=fr(kv);var kf="milliseconds",jc="seconds",_c="minutes",Dc="hours",xi="day",To="week",kc="month",bi="year",wi="decade",Ni="century",CD={milliseconds:1,seconds:1e3,minutes:60*1e3,hours:60*60*1e3,day:24*60*60*1e3,week:7*24*60*60*1e3},vF={month:1,year:12,decade:10*12,century:100*12};function xF(e){return[31,bF(e),31,30,31,30,31,31,30,31,30,31]}function bF(e){return e%4===0&&e%100!==0||e%400===0?29:28}function Nn(e,t,r){switch(e=new Date(e),r){case kf:case jc:case _c:case Dc:case xi:case To:return wF(e,t*CD[r]);case kc:case bi:case wi:case Ni:return NF(e,t*vF[r])}throw new TypeError('Invalid units: "'+r+'"')}function wF(e,t){var r=new Date(+e+t);return SF(e,r)}function NF(e,t){var r=e.getFullYear(),n=e.getMonth(),s=e.getDate(),a=r*12+n+t,i=Math.trunc(a/12),l=a%12,c=Math.min(s,xF(i)[l]),u=new Date(e);return u.setFullYear(i),u.setDate(1),u.setMonth(l),u.setDate(c),u}function SF(e,t){var r=e.getTimezoneOffset(),n=t.getTimezoneOffset(),s=n-r;return new Date(+t+s*CD.minutes)}function Ec(e,t,r){return Nn(e,-t,r)}function Yt(e,t,r){switch(e=new Date(e),t){case Ni:case wi:case bi:e=Cf(e,0);case kc:e=MD(e,1);case To:case xi:e=Pc(e,0);case Dc:e=Po(e,0);case _c:e=Tc(e,0);case jc:e=Cc(e,0)}return t===wi&&(e=Ec(e,Si(e)%10,"year")),t===Ni&&(e=Ec(e,Si(e)%100,"year")),t===To&&(e=$D(e,0,r)),e}function Ef(e,t,r){switch(e=new Date(e),e=Yt(e,t,r),t){case Ni:case wi:case bi:case kc:case To:e=Nn(e,1,t),e=Ec(e,1,xi),e.setHours(23,59,59,999);break;case xi:e.setHours(23,59,59,999);break;case Dc:case _c:case jc:e=Nn(e,1,t),e=Ec(e,1,kf)}return e}var ou=Go(function(e,t){return e===t}),Ev=Go(function(e,t){return e!==t}),wh=Go(function(e,t){return e>t}),lu=Go(function(e,t){return e>=t}),Cv=Go(function(e,t){return e<t}),Ko=Go(function(e,t){return e<=t});function TD(){return new Date(Math.min.apply(Math,arguments))}function PD(){return new Date(Math.max.apply(Math,arguments))}function AD(e,t,r,n){return n=n||"day",(!t||lu(e,t,n))&&(!r||Ko(e,r,n))}var Cc=Aa("Milliseconds"),Tc=Aa("Seconds"),Po=Aa("Minutes"),Pc=Aa("Hours"),OD=Aa("Day"),MD=Aa("Date"),Cf=Aa("Month"),Si=Aa("FullYear");function jF(e,t){return t===void 0?Si(Yt(e,wi)):Nn(e,t+10,bi)}function _F(e,t){return t===void 0?Si(Yt(e,Ni)):Nn(e,t+100,bi)}function $D(e,t,r){var n=(OD(e)+7-(r||0))%7;return t===void 0?n:Nn(e,t-n,xi)}function DF(e,t,r,n){var s,a,i;switch(r){case kf:case jc:case _c:case Dc:case xi:case To:s=t.getTime()-e.getTime();break;case kc:case bi:case wi:case Ni:s=(Si(t)-Si(e))*12+Cf(t)-Cf(e);break;default:throw new TypeError('Invalid units: "'+r+'"')}switch(r){case kf:a=1;break;case jc:a=1e3;break;case _c:a=1e3*60;break;case Dc:a=1e3*60*60;break;case xi:a=1e3*60*60*24;break;case To:a=1e3*60*60*24*7;break;case kc:a=1;break;case bi:a=12;break;case wi:a=120;break;case Ni:a=1200;break;default:throw new TypeError('Invalid units: "'+r+'"')}return i=s/a,n?i:Math.round(i)}function Aa(e){var t=function(r){switch(r){case"Milliseconds":return 36e5;case"Seconds":return 3600;case"Minutes":return 60;case"Hours":return 1;default:return null}}(e);return function(r,n){if(n===void 0)return r["get"+e]();var s=new Date(r);return s["set"+e](n),t&&s["get"+e]()!=n&&(e==="Hours"||n>=t&&s.getHours()-r.getHours()<Math.floor(n/t))&&s["set"+e](n+t),s}}function Go(e){return function(t,r,n){return e(+Yt(t,n),+Yt(r,n))}}const mw=Object.freeze(Object.defineProperty({__proto__:null,add:Nn,century:_F,date:MD,day:OD,decade:jF,diff:DF,endOf:Ef,eq:ou,gt:wh,gte:lu,hours:Pc,inRange:AD,lt:Cv,lte:Ko,max:PD,milliseconds:Cc,min:TD,minutes:Po,month:Cf,neq:Ev,seconds:Tc,startOf:Yt,subtract:Ec,weekday:$D,year:Si},Symbol.toStringTag,{value:"Module"}));function kF(e){if(Array.isArray(e))return Ag(e)}function RD(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function EF(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rd(e){return kF(e)||RD(e)||wv(e)||EF()}function CF(e,t,r){var n=-1,s=e.length;t<0&&(t=-t>s?0:s+t),r=r>s?s:r,r<0&&(r+=s),s=t>r?0:r-t>>>0,t>>>=0;for(var a=Array(s);++n<s;)a[n]=e[n+t];return a}var LD=CF;function TF(e,t){return e===t||e!==e&&t!==t}var cu=TF,PF=typeof Vr=="object"&&Vr&&Vr.Object===Object&&Vr,ID=PF,AF=ID,OF=typeof self=="object"&&self&&self.Object===Object&&self,MF=AF||OF||Function("return this")(),rs=MF,$F=rs,RF=$F.Symbol,Xo=RF,pw=Xo,FD=Object.prototype,LF=FD.hasOwnProperty,IF=FD.toString,jl=pw?pw.toStringTag:void 0;function FF(e){var t=LF.call(e,jl),r=e[jl];try{e[jl]=void 0;var n=!0}catch{}var s=IF.call(e);return n&&(t?e[jl]=r:delete e[jl]),s}var WF=FF,BF=Object.prototype,UF=BF.toString;function HF(e){return UF.call(e)}var zF=HF,gw=Xo,VF=WF,YF=zF,qF="[object Null]",KF="[object Undefined]",yw=gw?gw.toStringTag:void 0;function GF(e){return e==null?e===void 0?KF:qF:yw&&yw in Object(e)?VF(e):YF(e)}var Qo=GF;function XF(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var $s=XF,QF=Qo,JF=$s,ZF="[object AsyncFunction]",e4="[object Function]",t4="[object GeneratorFunction]",r4="[object Proxy]";function n4(e){if(!JF(e))return!1;var t=QF(e);return t==e4||t==t4||t==ZF||t==r4}var Tv=n4,s4=9007199254740991;function a4(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=s4}var Pv=a4,i4=Tv,o4=Pv;function l4(e){return e!=null&&o4(e.length)&&!i4(e)}var uu=l4,c4=9007199254740991,u4=/^(?:0|[1-9]\d*)$/;function d4(e,t){var r=typeof e;return t=t??c4,!!t&&(r=="number"||r!="symbol"&&u4.test(e))&&e>-1&&e%1==0&&e<t}var Av=d4,f4=cu,h4=uu,m4=Av,p4=$s;function g4(e,t,r){if(!p4(r))return!1;var n=typeof t;return(n=="number"?h4(r)&&m4(t,r.length):n=="string"&&t in r)?f4(r[t],e):!1}var Nh=g4,y4=/\s/;function v4(e){for(var t=e.length;t--&&y4.test(e.charAt(t)););return t}var x4=v4,b4=x4,w4=/^\s+/;function N4(e){return e&&e.slice(0,b4(e)+1).replace(w4,"")}var S4=N4;function j4(e){return e!=null&&typeof e=="object"}var Oa=j4,_4=Qo,D4=Oa,k4="[object Symbol]";function E4(e){return typeof e=="symbol"||D4(e)&&_4(e)==k4}var du=E4,C4=S4,vw=$s,T4=du,xw=NaN,P4=/^[-+]0x[0-9a-f]+$/i,A4=/^0b[01]+$/i,O4=/^0o[0-7]+$/i,M4=parseInt;function $4(e){if(typeof e=="number")return e;if(T4(e))return xw;if(vw(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=vw(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=C4(e);var r=A4.test(e);return r||O4.test(e)?M4(e.slice(2),r?2:8):P4.test(e)?xw:+e}var R4=$4,L4=R4,bw=1/0,I4=17976931348623157e292;function F4(e){if(!e)return e===0?e:0;if(e=L4(e),e===bw||e===-bw){var t=e<0?-1:1;return t*I4}return e===e?e:0}var WD=F4,W4=WD;function B4(e){var t=W4(e),r=t%1;return t===t?r?t-r:t:0}var BD=B4,U4=LD,H4=Nh,z4=BD,V4=Math.ceil,Y4=Math.max;function q4(e,t,r){(r?H4(e,t,r):t===void 0)?t=1:t=Y4(z4(t),0);var n=e==null?0:e.length;if(!n||t<1)return[];for(var s=0,a=0,i=Array(V4(n/t));s<n;)i[a++]=U4(e,s,s+=t);return i}var K4=q4;const G4=fr(K4);function Ma(e){return e&&e.ownerDocument||document}function Ov(e){var t=Ma(e);return t&&t.defaultView||window}function Mv(e,t){return Ov(e).getComputedStyle(e,t)}var X4=/([A-Z])/g;function UD(e){return e.replace(X4,"-$1").toLowerCase()}var Q4=/^ms-/;function Zu(e){return UD(e).replace(Q4,"-ms-")}var J4=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function HD(e){return!!(e&&J4.test(e))}function Ht(e,t){var r="",n="";if(typeof t=="string")return e.style.getPropertyValue(Zu(t))||Mv(e).getPropertyValue(Zu(t));Object.keys(t).forEach(function(s){var a=t[s];!a&&a!==0?e.style.removeProperty(Zu(s)):HD(s)?n+=s+"("+a+") ":r+=Zu(s)+": "+a+";"}),n&&(r+="transform: "+n+";"),e.style.cssText+=";"+r}function Ts(e,t){if(e.contains)return e.contains(t);if(e.compareDocumentPosition)return e===t||!!(e.compareDocumentPosition(t)&16)}const Z4=Object.freeze(Object.defineProperty({__proto__:null,default:Ts},Symbol.toStringTag,{value:"Module"}));function zD(e){return"nodeType"in e&&e.nodeType===document.DOCUMENT_NODE}function Sh(e){return"window"in e&&e.window===e?e:zD(e)&&e.defaultView||!1}function VD(e){var t=e==="pageXOffset"?"scrollLeft":"scrollTop";function r(n,s){var a=Sh(n);if(s===void 0)return a?a[e]:n[t];a?a.scrollTo(a[e],s):n[t]=s}return r}const jh=VD("pageXOffset"),Ao=VD("pageYOffset");function vn(e){var t=Ma(e),r={top:0,left:0,height:0,width:0},n=t&&t.documentElement;return!n||!Ts(n,e)||(e.getBoundingClientRect!==void 0&&(r=e.getBoundingClientRect()),r={top:r.top+Ao(n)-(n.clientTop||0),left:r.left+jh(n)-(n.clientLeft||0),width:r.width,height:r.height}),r}var e5=function(t){return!!t&&"offsetParent"in t};function $v(e){for(var t=Ma(e),r=e&&e.offsetParent;e5(r)&&r.nodeName!=="HTML"&&Ht(r,"position")==="static";)r=r.offsetParent;return r||t.documentElement}var t5=function(t){return t.nodeName&&t.nodeName.toLowerCase()};function _h(e,t){var r={top:0,left:0},n;if(Ht(e,"position")==="fixed")n=e.getBoundingClientRect();else{var s=t||$v(e);n=vn(e),t5(s)!=="html"&&(r=vn(s));var a=String(Ht(s,"borderTopWidth")||0);r.top+=parseInt(a,10)-Ao(s)||0;var i=String(Ht(s,"borderLeftWidth")||0);r.left+=parseInt(i,10)-jh(s)||0}var l=String(Ht(e,"marginTop")||0),c=String(Ht(e,"marginLeft")||0);return bt({},n,{top:n.top-r.top-(parseInt(l,10)||0),left:n.left-r.left-(parseInt(c,10)||0)})}const Rv=!!(typeof window<"u"&&window.document&&window.document.createElement);var ww=new Date().getTime();function r5(e){var t=new Date().getTime(),r=Math.max(0,16-(t-ww)),n=setTimeout(e,r);return ww=t,n}var n5=["","webkit","moz","o","ms"],$g="clearTimeout",Rg=r5,Nw=function(t,r){return t+(t?r[0].toUpperCase()+r.substr(1):r)+"AnimationFrame"};Rv&&n5.some(function(e){var t=Nw(e,"request");return t in window&&($g=Nw(e,"cancel"),Rg=function(n){return window[t](n)}),!!Rg});var Ac=function(t){typeof window[$g]=="function"&&window[$g](t)},fu=Rg,ep;function Dh(e,t){if(!ep){var r=document.body,n=r.matches||r.matchesSelector||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector;ep=function(a,i){return n.call(a,i)}}return ep(e,t)}var s5=Function.prototype.bind.call(Function.prototype.call,[].slice);function kh(e,t){return s5(e.querySelectorAll(t))}var Lg=!1,Ig=!1;try{var tp={get passive(){return Lg=!0},get once(){return Ig=Lg=!0}};Rv&&(window.addEventListener("test",tp,tp),window.removeEventListener("test",tp,!0))}catch{}function Lv(e,t,r,n){if(n&&typeof n!="boolean"&&!Ig){var s=n.once,a=n.capture,i=r;!Ig&&s&&(i=r.__once||function l(c){this.removeEventListener(t,l,a),r.call(this,c)},r.__once=i),e.addEventListener(t,i,Lg?n:a)}e.addEventListener(t,r,n)}function a5(e){const t=N.useRef(e);return N.useEffect(()=>{t.current=e},[e]),t}function Sw(e){const t=a5(e);return N.useCallback(function(...r){return t.current&&t.current(...r)},[t])}function jw(){return N.useState(null)}function i5(){const e=N.useRef(!0),t=N.useRef(()=>e.current);return N.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),t.current}function o5(e){const t=i5();return[e[0],N.useCallback(r=>{if(t())return e[1](r)},[t,e[1]])]}var _r="top",Qr="bottom",Jr="right",Dr="left",Iv="auto",hu=[_r,Qr,Jr,Dr],Oo="start",Oc="end",l5="clippingParents",YD="viewport",_l="popper",c5="reference",_w=hu.reduce(function(e,t){return e.concat([t+"-"+Oo,t+"-"+Oc])},[]),Fv=[].concat(hu,[Iv]).reduce(function(e,t){return e.concat([t,t+"-"+Oo,t+"-"+Oc])},[]),u5="beforeRead",d5="read",f5="afterRead",h5="beforeMain",m5="main",p5="afterMain",g5="beforeWrite",y5="write",v5="afterWrite",x5=[u5,d5,f5,h5,m5,p5,g5,y5,v5];function Qn(e){return e.split("-")[0]}function Mr(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function ji(e){var t=Mr(e).Element;return e instanceof t||e instanceof Element}function Jn(e){var t=Mr(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function Wv(e){if(typeof ShadowRoot>"u")return!1;var t=Mr(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}var ui=Math.max,Tf=Math.min,Mo=Math.round;function Fg(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function qD(){return!/^((?!chrome|android).)*safari/i.test(Fg())}function $o(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!1);var n=e.getBoundingClientRect(),s=1,a=1;t&&Jn(e)&&(s=e.offsetWidth>0&&Mo(n.width)/e.offsetWidth||1,a=e.offsetHeight>0&&Mo(n.height)/e.offsetHeight||1);var i=ji(e)?Mr(e):window,l=i.visualViewport,c=!qD()&&r,u=(n.left+(c&&l?l.offsetLeft:0))/s,d=(n.top+(c&&l?l.offsetTop:0))/a,f=n.width/s,h=n.height/a;return{width:f,height:h,top:d,right:u+f,bottom:d+h,left:u,x:u,y:d}}function Bv(e){var t=$o(e),r=e.offsetWidth,n=e.offsetHeight;return Math.abs(t.width-r)<=1&&(r=t.width),Math.abs(t.height-n)<=1&&(n=t.height),{x:e.offsetLeft,y:e.offsetTop,width:r,height:n}}function KD(e,t){var r=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(r&&Wv(r)){var n=t;do{if(n&&e.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function _a(e){return e?(e.nodeName||"").toLowerCase():null}function Ps(e){return Mr(e).getComputedStyle(e)}function b5(e){return["table","td","th"].indexOf(_a(e))>=0}function $a(e){return((ji(e)?e.ownerDocument:e.document)||window.document).documentElement}function Eh(e){return _a(e)==="html"?e:e.assignedSlot||e.parentNode||(Wv(e)?e.host:null)||$a(e)}function Dw(e){return!Jn(e)||Ps(e).position==="fixed"?null:e.offsetParent}function w5(e){var t=/firefox/i.test(Fg()),r=/Trident/i.test(Fg());if(r&&Jn(e)){var n=Ps(e);if(n.position==="fixed")return null}var s=Eh(e);for(Wv(s)&&(s=s.host);Jn(s)&&["html","body"].indexOf(_a(s))<0;){var a=Ps(s);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||t&&a.willChange==="filter"||t&&a.filter&&a.filter!=="none")return s;s=s.parentNode}return null}function mu(e){for(var t=Mr(e),r=Dw(e);r&&b5(r)&&Ps(r).position==="static";)r=Dw(r);return r&&(_a(r)==="html"||_a(r)==="body"&&Ps(r).position==="static")?t:r||w5(e)||t}function Uv(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Ql(e,t,r){return ui(e,Tf(t,r))}function N5(e,t,r){var n=Ql(e,t,r);return n>r?r:n}function GD(){return{top:0,right:0,bottom:0,left:0}}function XD(e){return Object.assign({},GD(),e)}function QD(e,t){return t.reduce(function(r,n){return r[n]=e,r},{})}var S5=function(t,r){return t=typeof t=="function"?t(Object.assign({},r.rects,{placement:r.placement})):t,XD(typeof t!="number"?t:QD(t,hu))};function j5(e){var t,r=e.state,n=e.name,s=e.options,a=r.elements.arrow,i=r.modifiersData.popperOffsets,l=Qn(r.placement),c=Uv(l),u=[Dr,Jr].indexOf(l)>=0,d=u?"height":"width";if(!(!a||!i)){var f=S5(s.padding,r),h=Bv(a),g=c==="y"?_r:Dr,m=c==="y"?Qr:Jr,p=r.rects.reference[d]+r.rects.reference[c]-i[c]-r.rects.popper[d],w=i[c]-r.rects.reference[c],y=mu(a),v=y?c==="y"?y.clientHeight||0:y.clientWidth||0:0,x=p/2-w/2,b=f[g],_=v-h[d]-f[m],S=v/2-h[d]/2+x,E=Ql(b,S,_),C=c;r.modifiersData[n]=(t={},t[C]=E,t.centerOffset=E-S,t)}}function _5(e){var t=e.state,r=e.options,n=r.element,s=n===void 0?"[data-popper-arrow]":n;s!=null&&(typeof s=="string"&&(s=t.elements.popper.querySelector(s),!s)||KD(t.elements.popper,s)&&(t.elements.arrow=s))}const D5={name:"arrow",enabled:!0,phase:"main",fn:j5,effect:_5,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ro(e){return e.split("-")[1]}var k5={top:"auto",right:"auto",bottom:"auto",left:"auto"};function E5(e,t){var r=e.x,n=e.y,s=t.devicePixelRatio||1;return{x:Mo(r*s)/s||0,y:Mo(n*s)/s||0}}function kw(e){var t,r=e.popper,n=e.popperRect,s=e.placement,a=e.variation,i=e.offsets,l=e.position,c=e.gpuAcceleration,u=e.adaptive,d=e.roundOffsets,f=e.isFixed,h=i.x,g=h===void 0?0:h,m=i.y,p=m===void 0?0:m,w=typeof d=="function"?d({x:g,y:p}):{x:g,y:p};g=w.x,p=w.y;var y=i.hasOwnProperty("x"),v=i.hasOwnProperty("y"),x=Dr,b=_r,_=window;if(u){var S=mu(r),E="clientHeight",C="clientWidth";if(S===Mr(r)&&(S=$a(r),Ps(S).position!=="static"&&l==="absolute"&&(E="scrollHeight",C="scrollWidth")),S=S,s===_r||(s===Dr||s===Jr)&&a===Oc){b=Qr;var M=f&&S===_&&_.visualViewport?_.visualViewport.height:S[E];p-=M-n.height,p*=c?1:-1}if(s===Dr||(s===_r||s===Qr)&&a===Oc){x=Jr;var $=f&&S===_&&_.visualViewport?_.visualViewport.width:S[C];g-=$-n.width,g*=c?1:-1}}var Y=Object.assign({position:l},u&&k5),J=d===!0?E5({x:g,y:p},Mr(r)):{x:g,y:p};if(g=J.x,p=J.y,c){var G;return Object.assign({},Y,(G={},G[b]=v?"0":"",G[x]=y?"0":"",G.transform=(_.devicePixelRatio||1)<=1?"translate("+g+"px, "+p+"px)":"translate3d("+g+"px, "+p+"px, 0)",G))}return Object.assign({},Y,(t={},t[b]=v?p+"px":"",t[x]=y?g+"px":"",t.transform="",t))}function C5(e){var t=e.state,r=e.options,n=r.gpuAcceleration,s=n===void 0?!0:n,a=r.adaptive,i=a===void 0?!0:a,l=r.roundOffsets,c=l===void 0?!0:l,u={placement:Qn(t.placement),variation:Ro(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:s,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,kw(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:i,roundOffsets:c})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,kw(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const T5={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:C5,data:{}};var ed={passive:!0};function P5(e){var t=e.state,r=e.instance,n=e.options,s=n.scroll,a=s===void 0?!0:s,i=n.resize,l=i===void 0?!0:i,c=Mr(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&u.forEach(function(d){d.addEventListener("scroll",r.update,ed)}),l&&c.addEventListener("resize",r.update,ed),function(){a&&u.forEach(function(d){d.removeEventListener("scroll",r.update,ed)}),l&&c.removeEventListener("resize",r.update,ed)}}const A5={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:P5,data:{}};var O5={left:"right",right:"left",bottom:"top",top:"bottom"};function Ld(e){return e.replace(/left|right|bottom|top/g,function(t){return O5[t]})}var M5={start:"end",end:"start"};function Ew(e){return e.replace(/start|end/g,function(t){return M5[t]})}function Hv(e){var t=Mr(e),r=t.pageXOffset,n=t.pageYOffset;return{scrollLeft:r,scrollTop:n}}function zv(e){return $o($a(e)).left+Hv(e).scrollLeft}function $5(e,t){var r=Mr(e),n=$a(e),s=r.visualViewport,a=n.clientWidth,i=n.clientHeight,l=0,c=0;if(s){a=s.width,i=s.height;var u=qD();(u||!u&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:a,height:i,x:l+zv(e),y:c}}function R5(e){var t,r=$a(e),n=Hv(e),s=(t=e.ownerDocument)==null?void 0:t.body,a=ui(r.scrollWidth,r.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),i=ui(r.scrollHeight,r.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),l=-n.scrollLeft+zv(e),c=-n.scrollTop;return Ps(s||r).direction==="rtl"&&(l+=ui(r.clientWidth,s?s.clientWidth:0)-a),{width:a,height:i,x:l,y:c}}function Vv(e){var t=Ps(e),r=t.overflow,n=t.overflowX,s=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+s+n)}function JD(e){return["html","body","#document"].indexOf(_a(e))>=0?e.ownerDocument.body:Jn(e)&&Vv(e)?e:JD(Eh(e))}function Jl(e,t){var r;t===void 0&&(t=[]);var n=JD(e),s=n===((r=e.ownerDocument)==null?void 0:r.body),a=Mr(n),i=s?[a].concat(a.visualViewport||[],Vv(n)?n:[]):n,l=t.concat(i);return s?l:l.concat(Jl(Eh(i)))}function Wg(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function L5(e,t){var r=$o(e,!1,t==="fixed");return r.top=r.top+e.clientTop,r.left=r.left+e.clientLeft,r.bottom=r.top+e.clientHeight,r.right=r.left+e.clientWidth,r.width=e.clientWidth,r.height=e.clientHeight,r.x=r.left,r.y=r.top,r}function Cw(e,t,r){return t===YD?Wg($5(e,r)):ji(t)?L5(t,r):Wg(R5($a(e)))}function I5(e){var t=Jl(Eh(e)),r=["absolute","fixed"].indexOf(Ps(e).position)>=0,n=r&&Jn(e)?mu(e):e;return ji(n)?t.filter(function(s){return ji(s)&&KD(s,n)&&_a(s)!=="body"}):[]}function F5(e,t,r,n){var s=t==="clippingParents"?I5(e):[].concat(t),a=[].concat(s,[r]),i=a[0],l=a.reduce(function(c,u){var d=Cw(e,u,n);return c.top=ui(d.top,c.top),c.right=Tf(d.right,c.right),c.bottom=Tf(d.bottom,c.bottom),c.left=ui(d.left,c.left),c},Cw(e,i,n));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function ZD(e){var t=e.reference,r=e.element,n=e.placement,s=n?Qn(n):null,a=n?Ro(n):null,i=t.x+t.width/2-r.width/2,l=t.y+t.height/2-r.height/2,c;switch(s){case _r:c={x:i,y:t.y-r.height};break;case Qr:c={x:i,y:t.y+t.height};break;case Jr:c={x:t.x+t.width,y:l};break;case Dr:c={x:t.x-r.width,y:l};break;default:c={x:t.x,y:t.y}}var u=s?Uv(s):null;if(u!=null){var d=u==="y"?"height":"width";switch(a){case Oo:c[u]=c[u]-(t[d]/2-r[d]/2);break;case Oc:c[u]=c[u]+(t[d]/2-r[d]/2);break}}return c}function Mc(e,t){t===void 0&&(t={});var r=t,n=r.placement,s=n===void 0?e.placement:n,a=r.strategy,i=a===void 0?e.strategy:a,l=r.boundary,c=l===void 0?l5:l,u=r.rootBoundary,d=u===void 0?YD:u,f=r.elementContext,h=f===void 0?_l:f,g=r.altBoundary,m=g===void 0?!1:g,p=r.padding,w=p===void 0?0:p,y=XD(typeof w!="number"?w:QD(w,hu)),v=h===_l?c5:_l,x=e.rects.popper,b=e.elements[m?v:h],_=F5(ji(b)?b:b.contextElement||$a(e.elements.popper),c,d,i),S=$o(e.elements.reference),E=ZD({reference:S,element:x,placement:s}),C=Wg(Object.assign({},x,E)),M=h===_l?C:S,$={top:_.top-M.top+y.top,bottom:M.bottom-_.bottom+y.bottom,left:_.left-M.left+y.left,right:M.right-_.right+y.right},Y=e.modifiersData.offset;if(h===_l&&Y){var J=Y[s];Object.keys($).forEach(function(G){var se=[Jr,Qr].indexOf(G)>=0?1:-1,ce=[_r,Qr].indexOf(G)>=0?"y":"x";$[G]+=J[ce]*se})}return $}function W5(e,t){t===void 0&&(t={});var r=t,n=r.placement,s=r.boundary,a=r.rootBoundary,i=r.padding,l=r.flipVariations,c=r.allowedAutoPlacements,u=c===void 0?Fv:c,d=Ro(n),f=d?l?_w:_w.filter(function(m){return Ro(m)===d}):hu,h=f.filter(function(m){return u.indexOf(m)>=0});h.length===0&&(h=f);var g=h.reduce(function(m,p){return m[p]=Mc(e,{placement:p,boundary:s,rootBoundary:a,padding:i})[Qn(p)],m},{});return Object.keys(g).sort(function(m,p){return g[m]-g[p]})}function B5(e){if(Qn(e)===Iv)return[];var t=Ld(e);return[Ew(e),t,Ew(t)]}function U5(e){var t=e.state,r=e.options,n=e.name;if(!t.modifiersData[n]._skip){for(var s=r.mainAxis,a=s===void 0?!0:s,i=r.altAxis,l=i===void 0?!0:i,c=r.fallbackPlacements,u=r.padding,d=r.boundary,f=r.rootBoundary,h=r.altBoundary,g=r.flipVariations,m=g===void 0?!0:g,p=r.allowedAutoPlacements,w=t.options.placement,y=Qn(w),v=y===w,x=c||(v||!m?[Ld(w)]:B5(w)),b=[w].concat(x).reduce(function(R,X){return R.concat(Qn(X)===Iv?W5(t,{placement:X,boundary:d,rootBoundary:f,padding:u,flipVariations:m,allowedAutoPlacements:p}):X)},[]),_=t.rects.reference,S=t.rects.popper,E=new Map,C=!0,M=b[0],$=0;$<b.length;$++){var Y=b[$],J=Qn(Y),G=Ro(Y)===Oo,se=[_r,Qr].indexOf(J)>=0,ce=se?"width":"height",Z=Mc(t,{placement:Y,boundary:d,rootBoundary:f,altBoundary:h,padding:u}),he=se?G?Jr:Dr:G?Qr:_r;_[ce]>S[ce]&&(he=Ld(he));var te=Ld(he),U=[];if(a&&U.push(Z[J]<=0),l&&U.push(Z[he]<=0,Z[te]<=0),U.every(function(R){return R})){M=Y,C=!1;break}E.set(Y,U)}if(C)for(var oe=m?3:1,V=function(X){var le=b.find(function(de){var pe=E.get(de);if(pe)return pe.slice(0,X).every(function(B){return B})});if(le)return M=le,"break"},W=oe;W>0;W--){var T=V(W);if(T==="break")break}t.placement!==M&&(t.modifiersData[n]._skip=!0,t.placement=M,t.reset=!0)}}const H5={name:"flip",enabled:!0,phase:"main",fn:U5,requiresIfExists:["offset"],data:{_skip:!1}};function Tw(e,t,r){return r===void 0&&(r={x:0,y:0}),{top:e.top-t.height-r.y,right:e.right-t.width+r.x,bottom:e.bottom-t.height+r.y,left:e.left-t.width-r.x}}function Pw(e){return[_r,Jr,Qr,Dr].some(function(t){return e[t]>=0})}function z5(e){var t=e.state,r=e.name,n=t.rects.reference,s=t.rects.popper,a=t.modifiersData.preventOverflow,i=Mc(t,{elementContext:"reference"}),l=Mc(t,{altBoundary:!0}),c=Tw(i,n),u=Tw(l,s,a),d=Pw(c),f=Pw(u);t.modifiersData[r]={referenceClippingOffsets:c,popperEscapeOffsets:u,isReferenceHidden:d,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":f})}const V5={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:z5};function Y5(e,t,r){var n=Qn(e),s=[Dr,_r].indexOf(n)>=0?-1:1,a=typeof r=="function"?r(Object.assign({},t,{placement:e})):r,i=a[0],l=a[1];return i=i||0,l=(l||0)*s,[Dr,Jr].indexOf(n)>=0?{x:l,y:i}:{x:i,y:l}}function q5(e){var t=e.state,r=e.options,n=e.name,s=r.offset,a=s===void 0?[0,0]:s,i=Fv.reduce(function(d,f){return d[f]=Y5(f,t.rects,a),d},{}),l=i[t.placement],c=l.x,u=l.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=c,t.modifiersData.popperOffsets.y+=u),t.modifiersData[n]=i}const K5={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:q5};function G5(e){var t=e.state,r=e.name;t.modifiersData[r]=ZD({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})}const X5={name:"popperOffsets",enabled:!0,phase:"read",fn:G5,data:{}};function Q5(e){return e==="x"?"y":"x"}function J5(e){var t=e.state,r=e.options,n=e.name,s=r.mainAxis,a=s===void 0?!0:s,i=r.altAxis,l=i===void 0?!1:i,c=r.boundary,u=r.rootBoundary,d=r.altBoundary,f=r.padding,h=r.tether,g=h===void 0?!0:h,m=r.tetherOffset,p=m===void 0?0:m,w=Mc(t,{boundary:c,rootBoundary:u,padding:f,altBoundary:d}),y=Qn(t.placement),v=Ro(t.placement),x=!v,b=Uv(y),_=Q5(b),S=t.modifiersData.popperOffsets,E=t.rects.reference,C=t.rects.popper,M=typeof p=="function"?p(Object.assign({},t.rects,{placement:t.placement})):p,$=typeof M=="number"?{mainAxis:M,altAxis:M}:Object.assign({mainAxis:0,altAxis:0},M),Y=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,J={x:0,y:0};if(S){if(a){var G,se=b==="y"?_r:Dr,ce=b==="y"?Qr:Jr,Z=b==="y"?"height":"width",he=S[b],te=he+w[se],U=he-w[ce],oe=g?-C[Z]/2:0,V=v===Oo?E[Z]:C[Z],W=v===Oo?-C[Z]:-E[Z],T=t.elements.arrow,R=g&&T?Bv(T):{width:0,height:0},X=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:GD(),le=X[se],de=X[ce],pe=Ql(0,E[Z],R[Z]),B=x?E[Z]/2-oe-pe-le-$.mainAxis:V-pe-le-$.mainAxis,O=x?-E[Z]/2+oe+pe+de+$.mainAxis:W+pe+de+$.mainAxis,q=t.elements.arrow&&mu(t.elements.arrow),A=q?b==="y"?q.clientTop||0:q.clientLeft||0:0,H=(G=Y==null?void 0:Y[b])!=null?G:0,ae=he+B-H-A,Ne=he+O-H,Ie=Ql(g?Tf(te,ae):te,he,g?ui(U,Ne):U);S[b]=Ie,J[b]=Ie-he}if(l){var D,k=b==="x"?_r:Dr,z=b==="x"?Qr:Jr,j=S[_],P=_==="y"?"height":"width",L=j+w[k],K=j-w[z],ee=[_r,Dr].indexOf(y)!==-1,ie=(D=Y==null?void 0:Y[_])!=null?D:0,ye=ee?L:j-E[P]-C[P]-ie+$.altAxis,Se=ee?j+E[P]+C[P]-ie-$.altAxis:K,ke=g&&ee?N5(ye,j,Se):Ql(g?ye:L,j,g?Se:K);S[_]=ke,J[_]=ke-j}t.modifiersData[n]=J}}const Z5={name:"preventOverflow",enabled:!0,phase:"main",fn:J5,requiresIfExists:["offset"]};function e6(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function t6(e){return e===Mr(e)||!Jn(e)?Hv(e):e6(e)}function r6(e){var t=e.getBoundingClientRect(),r=Mo(t.width)/e.offsetWidth||1,n=Mo(t.height)/e.offsetHeight||1;return r!==1||n!==1}function n6(e,t,r){r===void 0&&(r=!1);var n=Jn(t),s=Jn(t)&&r6(t),a=$a(t),i=$o(e,s,r),l={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(n||!n&&!r)&&((_a(t)!=="body"||Vv(a))&&(l=t6(t)),Jn(t)?(c=$o(t,!0),c.x+=t.clientLeft,c.y+=t.clientTop):a&&(c.x=zv(a))),{x:i.left+l.scrollLeft-c.x,y:i.top+l.scrollTop-c.y,width:i.width,height:i.height}}function s6(e){var t=new Map,r=new Set,n=[];e.forEach(function(a){t.set(a.name,a)});function s(a){r.add(a.name);var i=[].concat(a.requires||[],a.requiresIfExists||[]);i.forEach(function(l){if(!r.has(l)){var c=t.get(l);c&&s(c)}}),n.push(a)}return e.forEach(function(a){r.has(a.name)||s(a)}),n}function a6(e){var t=s6(e);return x5.reduce(function(r,n){return r.concat(t.filter(function(s){return s.phase===n}))},[])}function i6(e){var t;return function(){return t||(t=new Promise(function(r){Promise.resolve().then(function(){t=void 0,r(e())})})),t}}function o6(e){var t=e.reduce(function(r,n){var s=r[n.name];return r[n.name]=s?Object.assign({},s,n,{options:Object.assign({},s.options,n.options),data:Object.assign({},s.data,n.data)}):n,r},{});return Object.keys(t).map(function(r){return t[r]})}var Aw={placement:"bottom",modifiers:[],strategy:"absolute"};function Ow(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return!t.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function l6(e){e===void 0&&(e={});var t=e,r=t.defaultModifiers,n=r===void 0?[]:r,s=t.defaultOptions,a=s===void 0?Aw:s;return function(l,c,u){u===void 0&&(u=a);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},Aw,a),modifiersData:{},elements:{reference:l,popper:c},attributes:{},styles:{}},f=[],h=!1,g={state:d,setOptions:function(y){var v=typeof y=="function"?y(d.options):y;p(),d.options=Object.assign({},a,d.options,v),d.scrollParents={reference:ji(l)?Jl(l):l.contextElement?Jl(l.contextElement):[],popper:Jl(c)};var x=a6(o6([].concat(n,d.options.modifiers)));return d.orderedModifiers=x.filter(function(b){return b.enabled}),m(),g.update()},forceUpdate:function(){if(!h){var y=d.elements,v=y.reference,x=y.popper;if(Ow(v,x)){d.rects={reference:n6(v,mu(x),d.options.strategy==="fixed"),popper:Bv(x)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function($){return d.modifiersData[$.name]=Object.assign({},$.data)});for(var b=0;b<d.orderedModifiers.length;b++){if(d.reset===!0){d.reset=!1,b=-1;continue}var _=d.orderedModifiers[b],S=_.fn,E=_.options,C=E===void 0?{}:E,M=_.name;typeof S=="function"&&(d=S({state:d,options:C,name:M,instance:g})||d)}}}},update:i6(function(){return new Promise(function(w){g.forceUpdate(),w(d)})}),destroy:function(){p(),h=!0}};if(!Ow(l,c))return g;g.setOptions(u).then(function(w){!h&&u.onFirstUpdate&&u.onFirstUpdate(w)});function m(){d.orderedModifiers.forEach(function(w){var y=w.name,v=w.options,x=v===void 0?{}:v,b=w.effect;if(typeof b=="function"){var _=b({state:d,name:y,instance:g,options:x}),S=function(){};f.push(_||S)}})}function p(){f.forEach(function(w){return w()}),f=[]}return g}}var c6=l6({defaultModifiers:[V5,X5,T5,A5,K5,H5,Z5,D5]}),Mw=function(t){return{position:t,top:"0",left:"0",opacity:"0",pointerEvents:"none"}},u6={name:"applyStyles",enabled:!1},d6={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(t){var r=t.state;return function(){var n=r.elements,s=n.reference,a=n.popper;if("removeAttribute"in s){var i=(s.getAttribute("aria-describedby")||"").split(",").filter(function(l){return l.trim()!==a.id});i.length?s.setAttribute("aria-describedby",i.join(",")):s.removeAttribute("aria-describedby")}}},fn:function(t){var r,n=t.state,s=n.elements,a=s.popper,i=s.reference,l=(r=a.getAttribute("role"))==null?void 0:r.toLowerCase();if(a.id&&l==="tooltip"&&"setAttribute"in i){var c=i.getAttribute("aria-describedby");if(c&&c.split(",").indexOf(a.id)!==-1)return;i.setAttribute("aria-describedby",c?c+","+a.id:a.id)}}},f6=[];function h6(e,t,r){var n=r===void 0?{}:r,s=n.enabled,a=s===void 0?!0:s,i=n.placement,l=i===void 0?"bottom":i,c=n.strategy,u=c===void 0?"absolute":c,d=n.modifiers,f=d===void 0?f6:d,h=bh(n,["enabled","placement","strategy","modifiers"]),g=N.useRef(),m=N.useCallback(function(){var b;(b=g.current)==null||b.update()},[]),p=N.useCallback(function(){var b;(b=g.current)==null||b.forceUpdate()},[]),w=o5(N.useState({placement:l,update:m,forceUpdate:p,attributes:{},styles:{popper:Mw(u),arrow:{}}})),y=w[0],v=w[1],x=N.useMemo(function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(_){var S=_.state,E={},C={};Object.keys(S.elements).forEach(function(M){E[M]=S.styles[M],C[M]=S.attributes[M]}),v({state:S,styles:E,attributes:C,update:m,forceUpdate:p,placement:S.placement})}}},[m,p,v]);return N.useEffect(function(){!g.current||!a||g.current.setOptions({placement:l,strategy:u,modifiers:[].concat(f,[x,u6])})},[u,l,x,a]),N.useEffect(function(){if(!(!a||e==null||t==null))return g.current=c6(e,t,bt({},h,{placement:l,strategy:u,modifiers:[].concat(f,[d6,x])})),function(){g.current!=null&&(g.current.destroy(),g.current=void 0,v(function(b){return bt({},b,{attributes:{},styles:{popper:Mw(u)}})}))}},[a,e,t]),y}function Yv(e,t,r,n){var s=n&&typeof n!="boolean"?n.capture:n;e.removeEventListener(t,r,s),r.__once&&e.removeEventListener(t,r.__once,s)}function qn(e,t,r,n){return Lv(e,t,r,n),function(){Yv(e,t,r,n)}}const m6=Object.freeze(Object.defineProperty({__proto__:null,default:qn},Symbol.toStringTag,{value:"Module"}));var p6=function(){},g6=p6;const y6=fr(g6);function v6(e){return e&&"setState"in e?Aj.findDOMNode(e):e??null}const x6=function(e){return Ma(v6(e))};var b6=27,$w=function(){};function w6(e){return e.button===0}function N6(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}var Rw=function(t){return t&&("current"in t?t.current:t)};function S6(e,t,r){var n=r===void 0?{}:r,s=n.disabled,a=n.clickTrigger,i=a===void 0?"click":a,l=N.useRef(!1),c=t||$w,u=N.useCallback(function(h){var g,m=Rw(e);y6(!!m,"RootClose captured a close event but does not have a ref to compare it to. useRootClose(), should be passed a ref that resolves to a DOM node"),l.current=!m||N6(h)||!w6(h)||!!Ts(m,(g=h.composedPath==null?void 0:h.composedPath()[0])!=null?g:h.target)},[e]),d=Sw(function(h){l.current||c(h)}),f=Sw(function(h){h.keyCode===b6&&c(h)});N.useEffect(function(){if(!(s||e==null)){var h=window.event,g=x6(Rw(e)),m=qn(g,i,u,!0),p=qn(g,i,function(v){if(v===h){h=void 0;return}d(v)}),w=qn(g,"keyup",function(v){if(v===h){h=void 0;return}f(v)}),y=[];return"ontouchstart"in g.documentElement&&(y=[].slice.call(g.body.children).map(function(v){return qn(v,"mousemove",$w)})),function(){m(),p(),w(),y.forEach(function(v){return v()})}}},[e,s,i,u,d,f])}function j6(e){var t={};return Array.isArray(e)?(e==null||e.forEach(function(r){t[r.name]=r}),t):e||t}function _6(e){return e===void 0&&(e={}),Array.isArray(e)?e:Object.keys(e).map(function(t){return e[t].name=t,e[t]})}function D6(e){var t,r,n,s,a=e.enabled,i=e.enableEvents,l=e.placement,c=e.flip,u=e.offset,d=e.fixed,f=e.containerPadding,h=e.arrowElement,g=e.popperConfig,m=g===void 0?{}:g,p=j6(m.modifiers);return bt({},m,{placement:l,enabled:a,strategy:d?"fixed":m.strategy,modifiers:_6(bt({},p,{eventListeners:{enabled:i},preventOverflow:bt({},p.preventOverflow,{options:f?bt({padding:f},(t=p.preventOverflow)==null?void 0:t.options):(r=p.preventOverflow)==null?void 0:r.options}),offset:{options:bt({offset:u},(n=p.offset)==null?void 0:n.options)},arrow:bt({},p.arrow,{enabled:!!h,options:bt({},(s=p.arrow)==null?void 0:s.options,{element:h})}),flip:bt({enabled:!!c},p.flip)}))})}function ek(e){e===void 0&&(e=Ma());try{var t=e.activeElement;return!t||!t.nodeName?null:t}catch{return e.body}}function Ch(e,t){return e.classList?!!t&&e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function Th(e,t){e.classList?e.classList.add(t):Ch(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function Lw(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function Ph(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=Lw(e.className,t):e.setAttribute("class",Lw(e.className&&e.className.baseVal||"",t))}var td;function pu(e){if((!td&&td!==0||e)&&Rv){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),td=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return td}var rp=function(t){var r;return typeof document>"u"?null:t==null?Ma().body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),(r=t)!=null&&r.nodeType&&t||null)};function Iw(e,t){var r=N.useState(function(){return rp(e)}),n=r[0],s=r[1];if(!n){var a=rp(e);a&&s(a)}return N.useEffect(function(){},[t,n]),N.useEffect(function(){var i=rp(e);i!==n&&s(i)},[e,n]),n}const Fw=e=>!e||typeof e=="function"?e:t=>{e.current=t};function k6(e,t){const r=Fw(e),n=Fw(t);return s=>{r&&r(s),n&&n(s)}}function E6(e,t){return N.useMemo(()=>k6(e,t),[e,t])}var qv=F.forwardRef(function(e,t){var r=e.flip,n=e.offset,s=e.placement,a=e.containerPadding,i=a===void 0?5:a,l=e.popperConfig,c=l===void 0?{}:l,u=e.transition,d=jw(),f=d[0],h=d[1],g=jw(),m=g[0],p=g[1],w=E6(h,t),y=Iw(e.container),v=Iw(e.target),x=N.useState(!e.show),b=x[0],_=x[1],S=h6(v,f,D6({placement:s,enableEvents:!!e.show,containerPadding:i||5,flip:r,offset:n,arrowElement:m,popperConfig:c})),E=S.styles,C=S.attributes,M=bh(S,["styles","attributes"]);e.show?b&&_(!1):!e.transition&&!b&&_(!0);var $=function(){_(!0),e.onExited&&e.onExited.apply(e,arguments)},Y=e.show||u&&!b;if(S6(f,e.onHide,{disabled:!e.rootClose||e.rootCloseDisabled,clickTrigger:e.rootCloseEvent}),!Y)return null;var J=e.children(bt({},M,{show:!!e.show,props:bt({},C.popper,{style:E.popper,ref:w}),arrowProps:bt({},C.arrow,{style:E.arrow,ref:p})}));if(u){var G=e.onExit,se=e.onExiting,ce=e.onEnter,Z=e.onEntering,he=e.onEntered;J=F.createElement(u,{in:e.show,appear:!0,onExit:G,onExiting:se,onExited:$,onEnter:ce,onEntering:Z,onEntered:he},J)}return y?Aj.createPortal(J,y):null});qv.displayName="Overlay";qv.propTypes={show:ve.bool,placement:ve.oneOf(Fv),target:ve.any,container:ve.any,flip:ve.bool,children:ve.func.isRequired,containerPadding:ve.number,popperConfig:ve.object,rootClose:ve.bool,rootCloseEvent:ve.oneOf(["click","mousedown"]),rootCloseDisabled:ve.bool,onHide:function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),s=1;s<r;s++)n[s-1]=arguments[s];if(t.rootClose){var a;return(a=ve.func).isRequired.apply(a,[t].concat(n))}return ve.func.apply(ve,[t].concat(n))},transition:ve.elementType,onEnter:ve.func,onEntering:ve.func,onEntered:ve.func,onExit:ve.func,onExiting:ve.func,onExited:ve.func};function C6(){this.__data__=[],this.size=0}var T6=C6,P6=cu;function A6(e,t){for(var r=e.length;r--;)if(P6(e[r][0],t))return r;return-1}var Ah=A6,O6=Ah,M6=Array.prototype,$6=M6.splice;function R6(e){var t=this.__data__,r=O6(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():$6.call(t,r,1),--this.size,!0}var L6=R6,I6=Ah;function F6(e){var t=this.__data__,r=I6(t,e);return r<0?void 0:t[r][1]}var W6=F6,B6=Ah;function U6(e){return B6(this.__data__,e)>-1}var H6=U6,z6=Ah;function V6(e,t){var r=this.__data__,n=z6(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var Y6=V6,q6=T6,K6=L6,G6=W6,X6=H6,Q6=Y6;function Jo(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Jo.prototype.clear=q6;Jo.prototype.delete=K6;Jo.prototype.get=G6;Jo.prototype.has=X6;Jo.prototype.set=Q6;var Oh=Jo,J6=Oh;function Z6(){this.__data__=new J6,this.size=0}var eW=Z6;function tW(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var rW=tW;function nW(e){return this.__data__.get(e)}var sW=nW;function aW(e){return this.__data__.has(e)}var iW=aW,oW=rs,lW=oW["__core-js_shared__"],cW=lW,np=cW,Ww=function(){var e=/[^.]+$/.exec(np&&np.keys&&np.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function uW(e){return!!Ww&&Ww in e}var dW=uW,fW=Function.prototype,hW=fW.toString;function mW(e){if(e!=null){try{return hW.call(e)}catch{}try{return e+""}catch{}}return""}var tk=mW,pW=Tv,gW=dW,yW=$s,vW=tk,xW=/[\\^$.*+?()[\]{}|]/g,bW=/^\[object .+?Constructor\]$/,wW=Function.prototype,NW=Object.prototype,SW=wW.toString,jW=NW.hasOwnProperty,_W=RegExp("^"+SW.call(jW).replace(xW,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function DW(e){if(!yW(e)||gW(e))return!1;var t=pW(e)?_W:bW;return t.test(vW(e))}var kW=DW;function EW(e,t){return e==null?void 0:e[t]}var CW=EW,TW=kW,PW=CW;function AW(e,t){var r=PW(e,t);return TW(r)?r:void 0}var Ei=AW,OW=Ei,MW=rs,$W=OW(MW,"Map"),Kv=$W,RW=Ei,LW=RW(Object,"create"),Mh=LW,Bw=Mh;function IW(){this.__data__=Bw?Bw(null):{},this.size=0}var FW=IW;function WW(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var BW=WW,UW=Mh,HW="__lodash_hash_undefined__",zW=Object.prototype,VW=zW.hasOwnProperty;function YW(e){var t=this.__data__;if(UW){var r=t[e];return r===HW?void 0:r}return VW.call(t,e)?t[e]:void 0}var qW=YW,KW=Mh,GW=Object.prototype,XW=GW.hasOwnProperty;function QW(e){var t=this.__data__;return KW?t[e]!==void 0:XW.call(t,e)}var JW=QW,ZW=Mh,eB="__lodash_hash_undefined__";function tB(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=ZW&&t===void 0?eB:t,this}var rB=tB,nB=FW,sB=BW,aB=qW,iB=JW,oB=rB;function Zo(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Zo.prototype.clear=nB;Zo.prototype.delete=sB;Zo.prototype.get=aB;Zo.prototype.has=iB;Zo.prototype.set=oB;var lB=Zo,Uw=lB,cB=Oh,uB=Kv;function dB(){this.size=0,this.__data__={hash:new Uw,map:new(uB||cB),string:new Uw}}var fB=dB;function hB(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var mB=hB,pB=mB;function gB(e,t){var r=e.__data__;return pB(t)?r[typeof t=="string"?"string":"hash"]:r.map}var $h=gB,yB=$h;function vB(e){var t=yB(this,e).delete(e);return this.size-=t?1:0,t}var xB=vB,bB=$h;function wB(e){return bB(this,e).get(e)}var NB=wB,SB=$h;function jB(e){return SB(this,e).has(e)}var _B=jB,DB=$h;function kB(e,t){var r=DB(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var EB=kB,CB=fB,TB=xB,PB=NB,AB=_B,OB=EB;function el(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}el.prototype.clear=CB;el.prototype.delete=TB;el.prototype.get=PB;el.prototype.has=AB;el.prototype.set=OB;var Gv=el,MB=Oh,$B=Kv,RB=Gv,LB=200;function IB(e,t){var r=this.__data__;if(r instanceof MB){var n=r.__data__;if(!$B||n.length<LB-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new RB(n)}return r.set(e,t),this.size=r.size,this}var FB=IB,WB=Oh,BB=eW,UB=rW,HB=sW,zB=iW,VB=FB;function tl(e){var t=this.__data__=new WB(e);this.size=t.size}tl.prototype.clear=BB;tl.prototype.delete=UB;tl.prototype.get=HB;tl.prototype.has=zB;tl.prototype.set=VB;var Xv=tl,YB="__lodash_hash_undefined__";function qB(e){return this.__data__.set(e,YB),this}var KB=qB;function GB(e){return this.__data__.has(e)}var XB=GB,QB=Gv,JB=KB,ZB=XB;function Pf(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new QB;++t<r;)this.add(e[t])}Pf.prototype.add=Pf.prototype.push=JB;Pf.prototype.has=ZB;var eU=Pf;function tU(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var rU=tU;function nU(e,t){return e.has(t)}var sU=nU,aU=eU,iU=rU,oU=sU,lU=1,cU=2;function uU(e,t,r,n,s,a){var i=r&lU,l=e.length,c=t.length;if(l!=c&&!(i&&c>l))return!1;var u=a.get(e),d=a.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,g=r&cU?new aU:void 0;for(a.set(e,t),a.set(t,e);++f<l;){var m=e[f],p=t[f];if(n)var w=i?n(p,m,f,t,e,a):n(m,p,f,e,t,a);if(w!==void 0){if(w)continue;h=!1;break}if(g){if(!iU(t,function(y,v){if(!oU(g,v)&&(m===y||s(m,y,r,n,a)))return g.push(v)})){h=!1;break}}else if(!(m===p||s(m,p,r,n,a))){h=!1;break}}return a.delete(e),a.delete(t),h}var rk=uU,dU=rs,fU=dU.Uint8Array,nk=fU;function hU(e){var t=-1,r=Array(e.size);return e.forEach(function(n,s){r[++t]=[s,n]}),r}var mU=hU;function pU(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var gU=pU,Hw=Xo,zw=nk,yU=cu,vU=rk,xU=mU,bU=gU,wU=1,NU=2,SU="[object Boolean]",jU="[object Date]",_U="[object Error]",DU="[object Map]",kU="[object Number]",EU="[object RegExp]",CU="[object Set]",TU="[object String]",PU="[object Symbol]",AU="[object ArrayBuffer]",OU="[object DataView]",Vw=Hw?Hw.prototype:void 0,sp=Vw?Vw.valueOf:void 0;function MU(e,t,r,n,s,a,i){switch(r){case OU:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case AU:return!(e.byteLength!=t.byteLength||!a(new zw(e),new zw(t)));case SU:case jU:case kU:return yU(+e,+t);case _U:return e.name==t.name&&e.message==t.message;case EU:case TU:return e==t+"";case DU:var l=xU;case CU:var c=n&wU;if(l||(l=bU),e.size!=t.size&&!c)return!1;var u=i.get(e);if(u)return u==t;n|=NU,i.set(e,t);var d=vU(l(e),l(t),n,s,a,i);return i.delete(e),d;case PU:if(sp)return sp.call(e)==sp.call(t)}return!1}var $U=MU;function RU(e,t){for(var r=-1,n=t.length,s=e.length;++r<n;)e[s+r]=t[r];return e}var Qv=RU,LU=Array.isArray,en=LU,IU=Qv,FU=en;function WU(e,t,r){var n=t(e);return FU(e)?n:IU(n,r(e))}var sk=WU;function BU(e,t){for(var r=-1,n=e==null?0:e.length,s=0,a=[];++r<n;){var i=e[r];t(i,r,e)&&(a[s++]=i)}return a}var UU=BU;function HU(){return[]}var ak=HU,zU=UU,VU=ak,YU=Object.prototype,qU=YU.propertyIsEnumerable,Yw=Object.getOwnPropertySymbols,KU=Yw?function(e){return e==null?[]:(e=Object(e),zU(Yw(e),function(t){return qU.call(e,t)}))}:VU,Jv=KU;function GU(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var XU=GU,QU=Qo,JU=Oa,ZU="[object Arguments]";function eH(e){return JU(e)&&QU(e)==ZU}var tH=eH,qw=tH,rH=Oa,ik=Object.prototype,nH=ik.hasOwnProperty,sH=ik.propertyIsEnumerable,aH=qw(function(){return arguments}())?qw:function(e){return rH(e)&&nH.call(e,"callee")&&!sH.call(e,"callee")},Zv=aH,Af={exports:{}};function iH(){return!1}var oH=iH;Af.exports;(function(e,t){var r=rs,n=oH,s=t&&!t.nodeType&&t,a=s&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===s,l=i?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(Af,Af.exports);var Rh=Af.exports,lH=Qo,cH=Pv,uH=Oa,dH="[object Arguments]",fH="[object Array]",hH="[object Boolean]",mH="[object Date]",pH="[object Error]",gH="[object Function]",yH="[object Map]",vH="[object Number]",xH="[object Object]",bH="[object RegExp]",wH="[object Set]",NH="[object String]",SH="[object WeakMap]",jH="[object ArrayBuffer]",_H="[object DataView]",DH="[object Float32Array]",kH="[object Float64Array]",EH="[object Int8Array]",CH="[object Int16Array]",TH="[object Int32Array]",PH="[object Uint8Array]",AH="[object Uint8ClampedArray]",OH="[object Uint16Array]",MH="[object Uint32Array]",at={};at[DH]=at[kH]=at[EH]=at[CH]=at[TH]=at[PH]=at[AH]=at[OH]=at[MH]=!0;at[dH]=at[fH]=at[jH]=at[hH]=at[_H]=at[mH]=at[pH]=at[gH]=at[yH]=at[vH]=at[xH]=at[bH]=at[wH]=at[NH]=at[SH]=!1;function $H(e){return uH(e)&&cH(e.length)&&!!at[lH(e)]}var RH=$H;function LH(e){return function(t){return e(t)}}var Lh=LH,Of={exports:{}};Of.exports;(function(e,t){var r=ID,n=t&&!t.nodeType&&t,s=n&&!0&&e&&!e.nodeType&&e,a=s&&s.exports===n,i=a&&r.process,l=function(){try{var c=s&&s.require&&s.require("util").types;return c||i&&i.binding&&i.binding("util")}catch{}}();e.exports=l})(Of,Of.exports);var e0=Of.exports,IH=RH,FH=Lh,Kw=e0,Gw=Kw&&Kw.isTypedArray,WH=Gw?FH(Gw):IH,t0=WH,BH=XU,UH=Zv,HH=en,zH=Rh,VH=Av,YH=t0,qH=Object.prototype,KH=qH.hasOwnProperty;function GH(e,t){var r=HH(e),n=!r&&UH(e),s=!r&&!n&&zH(e),a=!r&&!n&&!s&&YH(e),i=r||n||s||a,l=i?BH(e.length,String):[],c=l.length;for(var u in e)(t||KH.call(e,u))&&!(i&&(u=="length"||s&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||VH(u,c)))&&l.push(u);return l}var ok=GH,XH=Object.prototype;function QH(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||XH;return e===r}var r0=QH;function JH(e,t){return function(r){return e(t(r))}}var lk=JH,ZH=lk,ez=ZH(Object.keys,Object),tz=ez,rz=r0,nz=tz,sz=Object.prototype,az=sz.hasOwnProperty;function iz(e){if(!rz(e))return nz(e);var t=[];for(var r in Object(e))az.call(e,r)&&r!="constructor"&&t.push(r);return t}var oz=iz,lz=ok,cz=oz,uz=uu;function dz(e){return uz(e)?lz(e):cz(e)}var gu=dz,fz=sk,hz=Jv,mz=gu;function pz(e){return fz(e,mz,hz)}var ck=pz,Xw=ck,gz=1,yz=Object.prototype,vz=yz.hasOwnProperty;function xz(e,t,r,n,s,a){var i=r&gz,l=Xw(e),c=l.length,u=Xw(t),d=u.length;if(c!=d&&!i)return!1;for(var f=c;f--;){var h=l[f];if(!(i?h in t:vz.call(t,h)))return!1}var g=a.get(e),m=a.get(t);if(g&&m)return g==t&&m==e;var p=!0;a.set(e,t),a.set(t,e);for(var w=i;++f<c;){h=l[f];var y=e[h],v=t[h];if(n)var x=i?n(v,y,h,t,e,a):n(y,v,h,e,t,a);if(!(x===void 0?y===v||s(y,v,r,n,a):x)){p=!1;break}w||(w=h=="constructor")}if(p&&!w){var b=e.constructor,_=t.constructor;b!=_&&"constructor"in e&&"constructor"in t&&!(typeof b=="function"&&b instanceof b&&typeof _=="function"&&_ instanceof _)&&(p=!1)}return a.delete(e),a.delete(t),p}var bz=xz,wz=Ei,Nz=rs,Sz=wz(Nz,"DataView"),jz=Sz,_z=Ei,Dz=rs,kz=_z(Dz,"Promise"),Ez=kz,Cz=Ei,Tz=rs,Pz=Cz(Tz,"Set"),Az=Pz,Oz=Ei,Mz=rs,$z=Oz(Mz,"WeakMap"),Rz=$z,Bg=jz,Ug=Kv,Hg=Ez,zg=Az,Vg=Rz,uk=Qo,rl=tk,Qw="[object Map]",Lz="[object Object]",Jw="[object Promise]",Zw="[object Set]",e1="[object WeakMap]",t1="[object DataView]",Iz=rl(Bg),Fz=rl(Ug),Wz=rl(Hg),Bz=rl(zg),Uz=rl(Vg),qa=uk;(Bg&&qa(new Bg(new ArrayBuffer(1)))!=t1||Ug&&qa(new Ug)!=Qw||Hg&&qa(Hg.resolve())!=Jw||zg&&qa(new zg)!=Zw||Vg&&qa(new Vg)!=e1)&&(qa=function(e){var t=uk(e),r=t==Lz?e.constructor:void 0,n=r?rl(r):"";if(n)switch(n){case Iz:return t1;case Fz:return Qw;case Wz:return Jw;case Bz:return Zw;case Uz:return e1}return t});var Ih=qa,ap=Xv,Hz=rk,zz=$U,Vz=bz,r1=Ih,n1=en,s1=Rh,Yz=t0,qz=1,a1="[object Arguments]",i1="[object Array]",rd="[object Object]",Kz=Object.prototype,o1=Kz.hasOwnProperty;function Gz(e,t,r,n,s,a){var i=n1(e),l=n1(t),c=i?i1:r1(e),u=l?i1:r1(t);c=c==a1?rd:c,u=u==a1?rd:u;var d=c==rd,f=u==rd,h=c==u;if(h&&s1(e)){if(!s1(t))return!1;i=!0,d=!1}if(h&&!d)return a||(a=new ap),i||Yz(e)?Hz(e,t,r,n,s,a):zz(e,t,c,r,n,s,a);if(!(r&qz)){var g=d&&o1.call(e,"__wrapped__"),m=f&&o1.call(t,"__wrapped__");if(g||m){var p=g?e.value():e,w=m?t.value():t;return a||(a=new ap),s(p,w,r,n,a)}}return h?(a||(a=new ap),Vz(e,t,r,n,s,a)):!1}var Xz=Gz,Qz=Xz,l1=Oa;function dk(e,t,r,n,s){return e===t?!0:e==null||t==null||!l1(e)&&!l1(t)?e!==e&&t!==t:Qz(e,t,r,n,dk,s)}var n0=dk,Jz=n0;function Zz(e,t){return Jz(e,t)}var fk=Zz;const e9=fr(fk);function di(e,t){var r=Sh(e);return r?r.innerHeight:t?e.clientHeight:vn(e).height}function yu(e,t,r){e.closest&&!r&&e.closest(t);var n=e;do{if(Dh(n,t))return n;n=n.parentElement}while(n&&n!==r&&n.nodeType===document.ELEMENT_NODE);return null}const t9=Object.freeze(Object.defineProperty({__proto__:null,default:yu},Symbol.toStringTag,{value:"Module"}));function r9(e,t,r,n){for(var s=e.length,a=r+(n?1:-1);n?a--:++a<s;)if(t(e[a],a,e))return a;return-1}var n9=r9,s9=Xv,a9=n0,i9=1,o9=2;function l9(e,t,r,n){var s=r.length,a=s,i=!n;if(e==null)return!a;for(e=Object(e);s--;){var l=r[s];if(i&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++s<a;){l=r[s];var c=l[0],u=e[c],d=l[1];if(i&&l[2]){if(u===void 0&&!(c in e))return!1}else{var f=new s9;if(n)var h=n(u,d,c,e,t,f);if(!(h===void 0?a9(d,u,i9|o9,n,f):h))return!1}}return!0}var c9=l9,u9=$s;function d9(e){return e===e&&!u9(e)}var hk=d9,f9=hk,h9=gu;function m9(e){for(var t=h9(e),r=t.length;r--;){var n=t[r],s=e[n];t[r]=[n,s,f9(s)]}return t}var p9=m9;function g9(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var mk=g9,y9=c9,v9=p9,x9=mk;function b9(e){var t=v9(e);return t.length==1&&t[0][2]?x9(t[0][0],t[0][1]):function(r){return r===e||y9(r,e,t)}}var w9=b9,N9=en,S9=du,j9=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,_9=/^\w*$/;function D9(e,t){if(N9(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||S9(e)?!0:_9.test(e)||!j9.test(e)||t!=null&&e in Object(t)}var s0=D9,pk=Gv,k9="Expected a function";function a0(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(k9);var r=function(){var n=arguments,s=t?t.apply(this,n):n[0],a=r.cache;if(a.has(s))return a.get(s);var i=e.apply(this,n);return r.cache=a.set(s,i)||a,i};return r.cache=new(a0.Cache||pk),r}a0.Cache=pk;var E9=a0,C9=E9,T9=500;function P9(e){var t=C9(e,function(n){return r.size===T9&&r.clear(),n}),r=t.cache;return t}var A9=P9,O9=A9,M9=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,$9=/\\(\\)?/g,R9=O9(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(M9,function(r,n,s,a){t.push(s?a.replace($9,"$1"):n||r)}),t}),L9=R9;function I9(e,t){for(var r=-1,n=e==null?0:e.length,s=Array(n);++r<n;)s[r]=t(e[r],r,e);return s}var i0=I9,c1=Xo,F9=i0,W9=en,B9=du,u1=c1?c1.prototype:void 0,d1=u1?u1.toString:void 0;function gk(e){if(typeof e=="string")return e;if(W9(e))return F9(e,gk)+"";if(B9(e))return d1?d1.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var U9=gk,H9=U9;function z9(e){return e==null?"":H9(e)}var V9=z9,Y9=en,q9=s0,K9=L9,G9=V9;function X9(e,t){return Y9(e)?e:q9(e,t)?[e]:K9(G9(e))}var Fh=X9,Q9=du;function J9(e){if(typeof e=="string"||Q9(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var vu=J9,Z9=Fh,eV=vu;function tV(e,t){t=Z9(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[eV(t[r++])];return r&&r==n?e:void 0}var Wh=tV,rV=Wh;function nV(e,t,r){var n=e==null?void 0:rV(e,t);return n===void 0?r:n}var sV=nV;function aV(e,t){return e!=null&&t in Object(e)}var iV=aV,oV=Fh,lV=Zv,cV=en,uV=Av,dV=Pv,fV=vu;function hV(e,t,r){t=oV(t,e);for(var n=-1,s=t.length,a=!1;++n<s;){var i=fV(t[n]);if(!(a=e!=null&&r(e,i)))break;e=e[i]}return a||++n!=s?a:(s=e==null?0:e.length,!!s&&dV(s)&&uV(i,s)&&(cV(e)||lV(e)))}var mV=hV,pV=iV,gV=mV;function yV(e,t){return e!=null&&gV(e,t,pV)}var vV=yV,xV=n0,bV=sV,wV=vV,NV=s0,SV=hk,jV=mk,_V=vu,DV=1,kV=2;function EV(e,t){return NV(e)&&SV(t)?jV(_V(e),t):function(r){var n=bV(r,e);return n===void 0&&n===t?wV(r,e):xV(t,n,DV|kV)}}var CV=EV;function TV(e){return e}var Bh=TV;function PV(e){return function(t){return t==null?void 0:t[e]}}var AV=PV,OV=Wh;function MV(e){return function(t){return OV(t,e)}}var $V=MV,RV=AV,LV=$V,IV=s0,FV=vu;function WV(e){return IV(e)?RV(FV(e)):LV(e)}var BV=WV,UV=w9,HV=CV,zV=Bh,VV=en,YV=BV;function qV(e){return typeof e=="function"?e:e==null?zV:typeof e=="object"?VV(e)?HV(e[0],e[1]):UV(e):YV(e)}var Uh=qV,KV=n9,GV=Uh,XV=BD,QV=Math.max;function JV(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var s=r==null?0:XV(r);return s<0&&(s=QV(n+s,0)),KV(e,GV(t),s)}var yk=JV;const ZV=fr(yk);var eY=Math.ceil,tY=Math.max;function rY(e,t,r,n){for(var s=-1,a=tY(eY((t-e)/(r||1)),0),i=Array(a);a--;)i[n?a:++s]=e,e+=r;return i}var nY=rY,sY=nY,aY=Nh,ip=WD;function iY(e){return function(t,r,n){return n&&typeof n!="number"&&aY(t,r,n)&&(r=n=void 0),t=ip(t),r===void 0?(r=t,t=0):r=ip(r),n=n===void 0?t<r?1:-1:ip(n),sY(t,r,n,e)}}var oY=iY,lY=oY,cY=lY(),uY=cY;const dY=fr(uY);var f1=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function fY(e,t){return!!(e===t||f1(e)&&f1(t))}function hY(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!fY(e[r],t[r]))return!1;return!0}function vk(e,t){t===void 0&&(t=hY);var r=null;function n(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];if(r&&r.lastThis===this&&t(s,r.lastArgs))return r.lastResult;var i=e.apply(this,s);return r={lastResult:i,lastArgs:s,lastThis:this},i}return n.clear=function(){r=null},n}function $c(e,t){var r=Sh(e);return r?r.innerWidth:t?e.clientWidth:vn(e).width}var h1=Xo,mY=Zv,pY=en,m1=h1?h1.isConcatSpreadable:void 0;function gY(e){return pY(e)||mY(e)||!!(m1&&e&&e[m1])}var yY=gY,vY=Qv,xY=yY;function xk(e,t,r,n,s){var a=-1,i=e.length;for(r||(r=xY),s||(s=[]);++a<i;){var l=e[a];t>0&&r(l)?t>1?xk(l,t-1,r,n,s):vY(s,l):n||(s[s.length]=l)}return s}var bk=xk;function bY(e){return function(t,r,n){for(var s=-1,a=Object(t),i=n(t),l=i.length;l--;){var c=i[e?l:++s];if(r(a[c],c,a)===!1)break}return t}}var wY=bY,NY=wY,SY=NY(),jY=SY,_Y=jY,DY=gu;function kY(e,t){return e&&_Y(e,t,DY)}var o0=kY,EY=uu;function CY(e,t){return function(r,n){if(r==null)return r;if(!EY(r))return e(r,n);for(var s=r.length,a=t?s:-1,i=Object(r);(t?a--:++a<s)&&n(i[a],a,i)!==!1;);return r}}var TY=CY,PY=o0,AY=TY,OY=AY(PY),MY=OY,$Y=MY,RY=uu;function LY(e,t){var r=-1,n=RY(e)?Array(e.length):[];return $Y(e,function(s,a,i){n[++r]=t(s,a,i)}),n}var IY=LY;function FY(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var WY=FY,p1=du;function BY(e,t){if(e!==t){var r=e!==void 0,n=e===null,s=e===e,a=p1(e),i=t!==void 0,l=t===null,c=t===t,u=p1(t);if(!l&&!u&&!a&&e>t||a&&i&&c&&!l&&!u||n&&i&&c||!r&&c||!s)return 1;if(!n&&!a&&!u&&e<t||u&&r&&s&&!n&&!a||l&&r&&s||!i&&s||!c)return-1}return 0}var UY=BY,HY=UY;function zY(e,t,r){for(var n=-1,s=e.criteria,a=t.criteria,i=s.length,l=r.length;++n<i;){var c=HY(s[n],a[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var VY=zY,op=i0,YY=Wh,qY=Uh,KY=IY,GY=WY,XY=Lh,QY=VY,JY=Bh,ZY=en;function e7(e,t,r){t.length?t=op(t,function(a){return ZY(a)?function(i){return YY(i,a.length===1?a[0]:a)}:a}):t=[JY];var n=-1;t=op(t,XY(qY));var s=KY(e,function(a,i,l){var c=op(t,function(u){return u(a)});return{criteria:c,index:++n,value:a}});return GY(s,function(a,i){return QY(a,i,r)})}var t7=e7;function r7(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var n7=r7,s7=n7,g1=Math.max;function a7(e,t,r){return t=g1(t===void 0?e.length-1:t,0),function(){for(var n=arguments,s=-1,a=g1(n.length-t,0),i=Array(a);++s<a;)i[s]=n[t+s];s=-1;for(var l=Array(t+1);++s<t;)l[s]=n[s];return l[t]=r(i),s7(e,this,l)}}var wk=a7;function i7(e){return function(){return e}}var o7=i7,l7=Ei,c7=function(){try{var e=l7(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Nk=c7,u7=o7,y1=Nk,d7=Bh,f7=y1?function(e,t){return y1(e,"toString",{configurable:!0,enumerable:!1,value:u7(t),writable:!0})}:d7,h7=f7,m7=800,p7=16,g7=Date.now;function y7(e){var t=0,r=0;return function(){var n=g7(),s=p7-(n-r);if(r=n,s>0){if(++t>=m7)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var v7=y7,x7=h7,b7=v7,w7=b7(x7),Sk=w7,N7=Bh,S7=wk,j7=Sk;function _7(e,t){return j7(S7(e,t,N7),e+"")}var jk=_7,D7=bk,k7=t7,E7=jk,v1=Nh,C7=E7(function(e,t){if(e==null)return[];var r=t.length;return r>1&&v1(e,t[0],t[1])?t=[]:r>2&&v1(t[0],t[1],t[2])&&(t=[t[0]]),k7(e,D7(t,1),[])}),T7=C7;const P7=fr(T7);function _k(e){return xD(e)||RD(e)||wv(e)||bD()}function A7(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var O7=A7,M7=$s,$7=r0,R7=O7,L7=Object.prototype,I7=L7.hasOwnProperty;function F7(e){if(!M7(e))return R7(e);var t=$7(e),r=[];for(var n in e)n=="constructor"&&(t||!I7.call(e,n))||r.push(n);return r}var W7=F7,B7=ok,U7=W7,H7=uu;function z7(e){return H7(e)?B7(e,!0):U7(e)}var Hh=z7,V7=jk,Y7=cu,q7=Nh,K7=Hh,Dk=Object.prototype,G7=Dk.hasOwnProperty,X7=V7(function(e,t){e=Object(e);var r=-1,n=t.length,s=n>2?t[2]:void 0;for(s&&q7(t[0],t[1],s)&&(n=1);++r<n;)for(var a=t[r],i=K7(a),l=-1,c=i.length;++l<c;){var u=i[l],d=e[u];(d===void 0||Y7(d,Dk[u])&&!G7.call(e,u))&&(e[u]=a[u])}return e}),Q7=X7;const J7=fr(Q7);var x1=Nk;function Z7(e,t,r){t=="__proto__"&&x1?x1(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var l0=Z7,e8=l0,t8=o0,r8=Uh;function n8(e,t){var r={};return t=r8(t),t8(e,function(n,s,a){e8(r,s,t(n,s,a))}),r}var s8=n8;const a8=fr(s8);function i8(e,t){for(var r=-1,n=e==null?0:e.length;++r<n&&t(e[r],r,e)!==!1;);return e}var kk=i8,o8=l0,l8=cu,c8=Object.prototype,u8=c8.hasOwnProperty;function d8(e,t,r){var n=e[t];(!(u8.call(e,t)&&l8(n,r))||r===void 0&&!(t in e))&&o8(e,t,r)}var Ek=d8,f8=Ek,h8=l0;function m8(e,t,r,n){var s=!r;r||(r={});for(var a=-1,i=t.length;++a<i;){var l=t[a],c=n?n(r[l],e[l],l,r,e):void 0;c===void 0&&(c=e[l]),s?h8(r,l,c):f8(r,l,c)}return r}var xu=m8,p8=xu,g8=gu;function y8(e,t){return e&&p8(t,g8(t),e)}var v8=y8,x8=xu,b8=Hh;function w8(e,t){return e&&x8(t,b8(t),e)}var N8=w8,Mf={exports:{}};Mf.exports;(function(e,t){var r=rs,n=t&&!t.nodeType&&t,s=n&&!0&&e&&!e.nodeType&&e,a=s&&s.exports===n,i=a?r.Buffer:void 0,l=i?i.allocUnsafe:void 0;function c(u,d){if(d)return u.slice();var f=u.length,h=l?l(f):new u.constructor(f);return u.copy(h),h}e.exports=c})(Mf,Mf.exports);var S8=Mf.exports;function j8(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}var _8=j8,D8=xu,k8=Jv;function E8(e,t){return D8(e,k8(e),t)}var C8=E8,T8=lk,P8=T8(Object.getPrototypeOf,Object),zh=P8,A8=Qv,O8=zh,M8=Jv,$8=ak,R8=Object.getOwnPropertySymbols,L8=R8?function(e){for(var t=[];e;)A8(t,M8(e)),e=O8(e);return t}:$8,Ck=L8,I8=xu,F8=Ck;function W8(e,t){return I8(e,F8(e),t)}var B8=W8,U8=sk,H8=Ck,z8=Hh;function V8(e){return U8(e,z8,H8)}var Tk=V8,Y8=Object.prototype,q8=Y8.hasOwnProperty;function K8(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&q8.call(e,"index")&&(r.index=e.index,r.input=e.input),r}var G8=K8,b1=nk;function X8(e){var t=new e.constructor(e.byteLength);return new b1(t).set(new b1(e)),t}var c0=X8,Q8=c0;function J8(e,t){var r=t?Q8(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}var Z8=J8,eq=/\w*$/;function tq(e){var t=new e.constructor(e.source,eq.exec(e));return t.lastIndex=e.lastIndex,t}var rq=tq,w1=Xo,N1=w1?w1.prototype:void 0,S1=N1?N1.valueOf:void 0;function nq(e){return S1?Object(S1.call(e)):{}}var sq=nq,aq=c0;function iq(e,t){var r=t?aq(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var oq=iq,lq=c0,cq=Z8,uq=rq,dq=sq,fq=oq,hq="[object Boolean]",mq="[object Date]",pq="[object Map]",gq="[object Number]",yq="[object RegExp]",vq="[object Set]",xq="[object String]",bq="[object Symbol]",wq="[object ArrayBuffer]",Nq="[object DataView]",Sq="[object Float32Array]",jq="[object Float64Array]",_q="[object Int8Array]",Dq="[object Int16Array]",kq="[object Int32Array]",Eq="[object Uint8Array]",Cq="[object Uint8ClampedArray]",Tq="[object Uint16Array]",Pq="[object Uint32Array]";function Aq(e,t,r){var n=e.constructor;switch(t){case wq:return lq(e);case hq:case mq:return new n(+e);case Nq:return cq(e,r);case Sq:case jq:case _q:case Dq:case kq:case Eq:case Cq:case Tq:case Pq:return fq(e,r);case pq:return new n;case gq:case xq:return new n(e);case yq:return uq(e);case vq:return new n;case bq:return dq(e)}}var Oq=Aq,Mq=$s,j1=Object.create,$q=function(){function e(){}return function(t){if(!Mq(t))return{};if(j1)return j1(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}(),Pk=$q,Rq=Pk,Lq=zh,Iq=r0;function Fq(e){return typeof e.constructor=="function"&&!Iq(e)?Rq(Lq(e)):{}}var Wq=Fq,Bq=Ih,Uq=Oa,Hq="[object Map]";function zq(e){return Uq(e)&&Bq(e)==Hq}var Vq=zq,Yq=Vq,qq=Lh,_1=e0,D1=_1&&_1.isMap,Kq=D1?qq(D1):Yq,Gq=Kq,Xq=Ih,Qq=Oa,Jq="[object Set]";function Zq(e){return Qq(e)&&Xq(e)==Jq}var eK=Zq,tK=eK,rK=Lh,k1=e0,E1=k1&&k1.isSet,nK=E1?rK(E1):tK,sK=nK,aK=Xv,iK=kk,oK=Ek,lK=v8,cK=N8,uK=S8,dK=_8,fK=C8,hK=B8,mK=ck,pK=Tk,gK=Ih,yK=G8,vK=Oq,xK=Wq,bK=en,wK=Rh,NK=Gq,SK=$s,jK=sK,_K=gu,DK=Hh,kK=1,EK=2,CK=4,Ak="[object Arguments]",TK="[object Array]",PK="[object Boolean]",AK="[object Date]",OK="[object Error]",Ok="[object Function]",MK="[object GeneratorFunction]",$K="[object Map]",RK="[object Number]",Mk="[object Object]",LK="[object RegExp]",IK="[object Set]",FK="[object String]",WK="[object Symbol]",BK="[object WeakMap]",UK="[object ArrayBuffer]",HK="[object DataView]",zK="[object Float32Array]",VK="[object Float64Array]",YK="[object Int8Array]",qK="[object Int16Array]",KK="[object Int32Array]",GK="[object Uint8Array]",XK="[object Uint8ClampedArray]",QK="[object Uint16Array]",JK="[object Uint32Array]",et={};et[Ak]=et[TK]=et[UK]=et[HK]=et[PK]=et[AK]=et[zK]=et[VK]=et[YK]=et[qK]=et[KK]=et[$K]=et[RK]=et[Mk]=et[LK]=et[IK]=et[FK]=et[WK]=et[GK]=et[XK]=et[QK]=et[JK]=!0;et[OK]=et[Ok]=et[BK]=!1;function Id(e,t,r,n,s,a){var i,l=t&kK,c=t&EK,u=t&CK;if(r&&(i=s?r(e,n,s,a):r(e)),i!==void 0)return i;if(!SK(e))return e;var d=bK(e);if(d){if(i=yK(e),!l)return dK(e,i)}else{var f=gK(e),h=f==Ok||f==MK;if(wK(e))return uK(e,l);if(f==Mk||f==Ak||h&&!s){if(i=c||h?{}:xK(e),!l)return c?hK(e,cK(i,e)):fK(e,lK(i,e))}else{if(!et[f])return s?e:{};i=vK(e,f,l)}}a||(a=new aK);var g=a.get(e);if(g)return g;a.set(e,i),jK(e)?e.forEach(function(w){i.add(Id(w,t,r,w,e,a))}):NK(e)&&e.forEach(function(w,y){i.set(y,Id(w,t,r,y,e,a))});var m=u?c?pK:mK:c?DK:_K,p=d?void 0:m(e);return iK(p||e,function(w,y){p&&(y=w,w=e[y]),oK(i,y,Id(w,t,r,y,e,a))}),i}var ZK=Id;function eG(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var tG=eG,rG=Wh,nG=LD;function sG(e,t){return t.length<2?e:rG(e,nG(t,0,-1))}var aG=sG,iG=Fh,oG=tG,lG=aG,cG=vu;function uG(e,t){return t=iG(t,e),e=lG(e,t),e==null||delete e[cG(oG(t))]}var dG=uG,fG=Qo,hG=zh,mG=Oa,pG="[object Object]",gG=Function.prototype,yG=Object.prototype,$k=gG.toString,vG=yG.hasOwnProperty,xG=$k.call(Object);function bG(e){if(!mG(e)||fG(e)!=pG)return!1;var t=hG(e);if(t===null)return!0;var r=vG.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&$k.call(r)==xG}var wG=bG,NG=wG;function SG(e){return NG(e)?void 0:e}var jG=SG,_G=bk;function DG(e){var t=e==null?0:e.length;return t?_G(e,1):[]}var kG=DG,EG=kG,CG=wk,TG=Sk;function PG(e){return TG(CG(e,void 0,EG),e+"")}var AG=PG,OG=i0,MG=ZK,$G=dG,RG=Fh,LG=xu,IG=jG,FG=AG,WG=Tk,BG=1,UG=2,HG=4,zG=FG(function(e,t){var r={};if(e==null)return r;var n=!1;t=OG(t,function(a){return a=RG(a,e),n||(n=a.length>1),a}),LG(e,WG(e),r),n&&(r=MG(r,BG|UG|HG,IG));for(var s=t.length;s--;)$G(r,t[s]);return r}),VG=zG;const YG=fr(VG);var qG=kk,KG=Pk,GG=o0,XG=Uh,QG=zh,JG=en,ZG=Rh,eX=Tv,tX=$s,rX=t0;function nX(e,t,r){var n=JG(e),s=n||ZG(e)||rX(e);if(t=XG(t),r==null){var a=e&&e.constructor;s?r=n?new a:[]:tX(e)?r=eX(a)?KG(QG(e)):{}:r={}}return(s?qG:GG)(e,function(i,l,c){return t(r,i,l,c)}),r}var sX=nX;const aX=fr(sX);var iX={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(Vr,function(){return function(r,n,s){n.prototype.isBetween=function(a,i,l,c){var u=s(a),d=s(i),f=(c=c||"()")[0]==="(",h=c[1]===")";return(f?this.isAfter(u,l):!this.isBefore(u,l))&&(h?this.isBefore(d,l):!this.isAfter(d,l))||(f?this.isBefore(u,l):!this.isAfter(u,l))&&(h?this.isAfter(d,l):!this.isBefore(d,l))}}})})(iX);var oX={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(Vr,function(){return function(r,n){n.prototype.isSameOrAfter=function(s,a){return this.isSame(s,a)||this.isAfter(s,a)}}})})(oX);var lX={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(Vr,function(){return function(r,n){n.prototype.isSameOrBefore=function(s,a){return this.isSame(s,a)||this.isBefore(s,a)}}})})(lX);var cX={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(Vr,function(){return function(r,n,s){var a=n.prototype,i=function(f){return f&&(f.indexOf?f:f.s)},l=function(f,h,g,m,p){var w=f.name?f:f.$locale(),y=i(w[h]),v=i(w[g]),x=y||v.map(function(_){return _.slice(0,m)});if(!p)return x;var b=w.weekStart;return x.map(function(_,S){return x[(S+(b||0))%7]})},c=function(){return s.Ls[s.locale()]},u=function(f,h){return f.formats[h]||function(g){return g.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(m,p,w){return p||w.slice(1)})}(f.formats[h.toUpperCase()])},d=function(){var f=this;return{months:function(h){return h?h.format("MMMM"):l(f,"months")},monthsShort:function(h){return h?h.format("MMM"):l(f,"monthsShort","months",3)},firstDayOfWeek:function(){return f.$locale().weekStart||0},weekdays:function(h){return h?h.format("dddd"):l(f,"weekdays")},weekdaysMin:function(h){return h?h.format("dd"):l(f,"weekdaysMin","weekdays",2)},weekdaysShort:function(h){return h?h.format("ddd"):l(f,"weekdaysShort","weekdays",3)},longDateFormat:function(h){return u(f.$locale(),h)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};a.localeData=function(){return d.bind(this)()},s.localeData=function(){var f=c();return{firstDayOfWeek:function(){return f.weekStart||0},weekdays:function(){return s.weekdays()},weekdaysShort:function(){return s.weekdaysShort()},weekdaysMin:function(){return s.weekdaysMin()},months:function(){return s.months()},monthsShort:function(){return s.monthsShort()},longDateFormat:function(h){return u(f,h)},meridiem:f.meridiem,ordinal:f.ordinal}},s.months=function(){return l(c(),"months")},s.monthsShort=function(){return l(c(),"monthsShort","months",3)},s.weekdays=function(f){return l(c(),"weekdays",null,null,f)},s.weekdaysShort=function(f){return l(c(),"weekdaysShort","weekdays",3,f)},s.weekdaysMin=function(f){return l(c(),"weekdaysMin","weekdays",2,f)}}})})(cX);var uX={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(Vr,function(){var r={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(n,s,a){var i=s.prototype,l=i.format;a.en.formats=r,i.format=function(c){c===void 0&&(c="YYYY-MM-DDTHH:mm:ssZ");var u=this.$locale().formats,d=function(f,h){return f.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(g,m,p){var w=p&&p.toUpperCase();return m||h[p]||r[p]||h[w].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(y,v,x){return v||x.slice(1)})})}(c,u===void 0?{}:u);return l.call(this,d)}}})})(uX);var dX={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(Vr,function(){return function(r,n,s){var a=function(i,l){if(!l||!l.length||l.length===1&&!l[0]||l.length===1&&Array.isArray(l[0])&&!l[0].length)return null;var c;l.length===1&&l[0].length>0&&(l=l[0]),c=(l=l.filter(function(d){return d}))[0];for(var u=1;u<l.length;u+=1)l[u].isValid()&&!l[u][i](c)||(c=l[u]);return c};s.max=function(){var i=[].slice.call(arguments,0);return a("isAfter",i)},s.min=function(){var i=[].slice.call(arguments,0);return a("isBefore",i)}}})})(dX);var fX={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(Vr,function(){var r="minute",n=/[+-]\d\d(?::?\d\d)?/g,s=/([+-]|\d\d)/g;return function(a,i,l){var c=i.prototype;l.utc=function(p){var w={date:p,utc:!0,args:arguments};return new i(w)},c.utc=function(p){var w=l(this.toDate(),{locale:this.$L,utc:!0});return p?w.add(this.utcOffset(),r):w},c.local=function(){return l(this.toDate(),{locale:this.$L,utc:!1})};var u=c.parse;c.parse=function(p){p.utc&&(this.$u=!0),this.$utils().u(p.$offset)||(this.$offset=p.$offset),u.call(this,p)};var d=c.init;c.init=function(){if(this.$u){var p=this.$d;this.$y=p.getUTCFullYear(),this.$M=p.getUTCMonth(),this.$D=p.getUTCDate(),this.$W=p.getUTCDay(),this.$H=p.getUTCHours(),this.$m=p.getUTCMinutes(),this.$s=p.getUTCSeconds(),this.$ms=p.getUTCMilliseconds()}else d.call(this)};var f=c.utcOffset;c.utcOffset=function(p,w){var y=this.$utils().u;if(y(p))return this.$u?0:y(this.$offset)?f.call(this):this.$offset;if(typeof p=="string"&&(p=function(_){_===void 0&&(_="");var S=_.match(n);if(!S)return null;var E=(""+S[0]).match(s)||["-",0,0],C=E[0],M=60*+E[1]+ +E[2];return M===0?0:C==="+"?M:-M}(p),p===null))return this;var v=Math.abs(p)<=16?60*p:p;if(v===0)return this.utc(w);var x=this.clone();if(w)return x.$offset=v,x.$u=!1,x;var b=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();return(x=this.local().add(v+b,r)).$offset=v,x.$x.$localOffset=b,x};var h=c.format;c.format=function(p){var w=p||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return h.call(this,w)},c.valueOf=function(){var p=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*p},c.isUTC=function(){return!!this.$u},c.toISOString=function(){return this.toDate().toISOString()},c.toString=function(){return this.toDate().toUTCString()};var g=c.toDate;c.toDate=function(p){return p==="s"&&this.$offset?l(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():g.call(this)};var m=c.diff;c.diff=function(p,w,y){if(p&&this.$u===p.$u)return m.call(this,p,w,y);var v=this.local(),x=l(p).local();return m.call(v,x,w,y)}}})})(fX);var hX={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(Vr,function(){return function(r,n){n.prototype.isLeapYear=function(){return this.$y%4==0&&this.$y%100!=0||this.$y%400==0}}})})(hX);function Rn(e){return e.children}var kr={PREVIOUS:"PREV",NEXT:"NEXT",TODAY:"TODAY",DATE:"DATE"},ur={MONTH:"month",WEEK:"week",WORK_WEEK:"work_week",DAY:"day",AGENDA:"agenda"},C1=Object.keys(ur).map(function(e){return ur[e]});ve.oneOfType([ve.string,ve.func]);ve.any;ve.func;ve.oneOfType([ve.arrayOf(ve.oneOf(C1)),ve.objectOf(function(e,t){var r=C1.indexOf(t)!==-1&&typeof e[t]=="boolean";if(r)return null;for(var n=arguments.length,s=new Array(n>2?n-2:0),a=2;a<n;a++)s[a-2]=arguments[a];return ve.elementType.apply(ve,[e,t].concat(s))})]);ve.oneOfType([ve.oneOf(["overlap","no-overlap"]),ve.func]);var T1={seconds:1e3,minutes:1e3*60,hours:1e3*60*60,day:1e3*60*60*24};function Rk(e,t){var r=Yt(e,"month");return Yt(r,"week",t.startOfWeek())}function Lk(e,t){var r=Ef(e,"month");return Ef(r,"week",t.startOfWeek())}function mX(e,t){for(var r=Rk(e,t),n=Lk(e,t),s=[];Ko(r,n,"day");)s.push(r),r=Nn(r,1,"day");return s}function pX(e,t){var r=Yt(e,t);return ou(r,e)?r:Nn(r,1,t)}function gX(e,t){for(var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",n=e,s=[];Ko(n,t,r);)s.push(n),n=Nn(n,1,r);return s}function yX(e,t){return t==null&&e==null?null:(t==null&&(t=new Date),e==null&&(e=new Date),e=Yt(e,"day"),e=Pc(e,Pc(t)),e=Po(e,Po(t)),e=Tc(e,Tc(t)),Cc(e,Cc(t)))}function P1(e){return Pc(e)===0&&Po(e)===0&&Tc(e)===0&&Cc(e)===0}function vX(e,t,r,n){return r==="day"&&(r="date"),Math.abs(mw[r](e,void 0,n)-mw[r](t,void 0,n))}function u0(e,t,r){return!r||r==="milliseconds"?Math.abs(+e-+t):Math.round(Math.abs(+Yt(e,r)/T1[r]-+Yt(t,r)/T1[r]))}var xX=ve.oneOfType([ve.string,ve.func]);function bX(e,t,r,n,s){var a=typeof n=="function"?n(r,s,e):t.call(e,r,n,s);return Sc(a==null||typeof a=="string","`localizer format(..)` must return a string, null, or undefined"),a}function wX(e,t,r){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,t+r,0,0)}function d0(e,t){return e.getTimezoneOffset()-t.getTimezoneOffset()}function NX(e,t){return u0(e,t,"minutes")+d0(e,t)}function SX(e){var t=Yt(e,"day");return u0(t,e,"minutes")+d0(t,e)}function jX(e,t){return Cv(e,t,"day")}function _X(e,t,r){var n=ou(e,t,"minutes");return n?lu(t,r,"minutes"):wh(t,r,"minutes")}function Yg(e,t){return vX(e,t,"day")}function DX(e){var t=e.evtA,r=t.start,n=t.end,s=t.allDay,a=e.evtB,i=a.start,l=a.end,c=a.allDay,u=+Yt(r,"day")-+Yt(i,"day"),d=Yg(r,n),f=Yg(i,l);return u||f-d||!!c-!!s||+r-+i||+n-+l}function kX(e){var t=e.event,r=t.start,n=t.end,s=e.range,a=s.start,i=s.end,l=Yt(r,"day"),c=Ko(l,i,"day"),u=Ev(l,n,"minutes"),d=u?wh(n,a,"minutes"):lu(n,a,"minutes");return c&&d}function EX(e,t){return ou(e,t,"day")}function CX(e,t){return P1(e)&&P1(t)}var TX=Lt(function e(t){var r=this;Rt(this,e),Sc(typeof t.format=="function","date localizer `format(..)` must be a function"),Sc(typeof t.firstOfWeek=="function","date localizer `firstOfWeek(..)` must be a function"),this.propType=t.propType||xX,this.formats=t.formats,this.format=function(){for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return bX.apply(void 0,[r,t.format].concat(s))},this.startOfWeek=t.firstOfWeek,this.merge=t.merge||yX,this.inRange=t.inRange||AD,this.lt=t.lt||Cv,this.lte=t.lte||Ko,this.gt=t.gt||wh,this.gte=t.gte||lu,this.eq=t.eq||ou,this.neq=t.neq||Ev,this.startOf=t.startOf||Yt,this.endOf=t.endOf||Ef,this.add=t.add||Nn,this.range=t.range||gX,this.diff=t.diff||u0,this.ceil=t.ceil||pX,this.min=t.min||TD,this.max=t.max||PD,this.minutes=t.minutes||Po,this.daySpan=t.daySpan||Yg,this.firstVisibleDay=t.firstVisibleDay||Rk,this.lastVisibleDay=t.lastVisibleDay||Lk,this.visibleDays=t.visibleDays||mX,this.getSlotDate=t.getSlotDate||wX,this.getTimezoneOffset=t.getTimezoneOffset||function(n){return n.getTimezoneOffset()},this.getDstOffset=t.getDstOffset||d0,this.getTotalMin=t.getTotalMin||NX,this.getMinutesFromMidnight=t.getMinutesFromMidnight||SX,this.continuesPrior=t.continuesPrior||jX,this.continuesAfter=t.continuesAfter||_X,this.sortEvents=t.sortEvents||DX,this.inEventRange=t.inEventRange||kX,this.isSameDate=t.isSameDate||EX,this.startAndEndAreDateOnly=t.startAndEndAreDateOnly||CX,this.segmentOffset=t.browserTZOffset?t.browserTZOffset():0});function PX(e,t,r,n){var s=Ze(Ze({},e.formats),r);return Ze(Ze({},e),{},{messages:n,startOfWeek:function(){return e.startOfWeek(t)},format:function(i,l){return e.format(i,s[l]||l,t)}})}var AX=function(e){function t(){var r;Rt(this,t);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return r=nr(this,t,[].concat(s)),r.navigate=function(i){r.props.onNavigate(i)},r.view=function(i){r.props.onView(i)},r}return rr(t,e),Lt(t,[{key:"render",value:function(){var n=this.props,s=n.localizer.messages,a=n.label;return F.createElement("div",{className:"rbc-toolbar"},F.createElement("span",{className:"rbc-btn-group"},F.createElement("button",{type:"button",onClick:this.navigate.bind(null,kr.TODAY)},s.today),F.createElement("button",{type:"button",onClick:this.navigate.bind(null,kr.PREVIOUS)},s.previous),F.createElement("button",{type:"button",onClick:this.navigate.bind(null,kr.NEXT)},s.next)),F.createElement("span",{className:"rbc-toolbar-label"},a),F.createElement("span",{className:"rbc-btn-group"},this.viewNamesGroup(s)))}},{key:"viewNamesGroup",value:function(n){var s=this,a=this.props.views,i=this.props.view;if(a.length>1)return a.map(function(l){return F.createElement("button",{type:"button",key:l,className:mt({"rbc-active":i===l}),onClick:s.view.bind(null,l)},n[l])})}}])}(F.Component);function it(e,t){e&&e.apply(null,[].concat(t))}var OX={date:"Date",time:"Time",event:"Event",allDay:"All Day",week:"Week",work_week:"Work Week",day:"Day",month:"Month",previous:"Back",next:"Next",yesterday:"Yesterday",tomorrow:"Tomorrow",today:"Today",agenda:"Agenda",noEventsInRange:"There are no events in this range.",showMore:function(t){return"+".concat(t," more")}};function MX(e){return Ze(Ze({},OX),e)}function $X(e){var t=e.ref,r=e.callback;N.useEffect(function(){var n=function(a){t.current&&!t.current.contains(a.target)&&r()};return document.addEventListener("mousedown",n),function(){document.removeEventListener("mousedown",n)}},[t,r])}var RX=["style","className","event","selected","isAllDay","onSelect","onDoubleClick","onKeyPress","localizer","continuesPrior","continuesAfter","accessors","getters","children","components","slotStart","slotEnd"],Ik=function(e){function t(){return Rt(this,t),nr(this,t,arguments)}return rr(t,e),Lt(t,[{key:"render",value:function(){var n=this.props,s=n.style,a=n.className,i=n.event,l=n.selected,c=n.isAllDay,u=n.onSelect,d=n.onDoubleClick,f=n.onKeyPress,h=n.localizer,g=n.continuesPrior,m=n.continuesAfter,p=n.accessors,w=n.getters,y=n.children,v=n.components,x=v.event,b=v.eventWrapper,_=n.slotStart,S=n.slotEnd,E=es(n,RX);delete E.resizable;var C=p.title(i),M=p.tooltip(i),$=p.end(i),Y=p.start(i),J=p.allDay(i),G=c||J||h.diff(Y,h.ceil($,"day"),"day")>1,se=w.eventProp(i,Y,$,l),ce=F.createElement("div",{className:"rbc-event-content",title:M||void 0},x?F.createElement(x,{event:i,continuesPrior:g,continuesAfter:m,title:C,isAllDay:J,localizer:h,slotStart:_,slotEnd:S}):C);return F.createElement(b,Object.assign({},this.props,{type:"date"}),F.createElement("div",Object.assign({},E,{style:Ze(Ze({},se.style),s),className:mt("rbc-event",a,se.className,{"rbc-selected":l,"rbc-event-allday":G,"rbc-event-continues-prior":g,"rbc-event-continues-after":m}),onClick:function(he){return u&&u(i,he)},onDoubleClick:function(he){return d&&d(i,he)},onKeyDown:function(he){return f&&f(i,he)}}),typeof y=="function"?y(ce):ce))}}])}(F.Component);function Vh(e,t){return!e||t==null?!1:e9(e,t)}function Fk(e,t){var r=e.right-e.left,n=r/t;return n}function Wk(e,t,r,n){var s=Fk(e,n);return r?n-1-Math.floor((t-e.left)/s):Math.floor((t-e.left)/s)}function LX(e,t){var r=t.x,n=t.y;return n>=e.top&&n<=e.bottom&&r>=e.left&&r<=e.right}function IX(e,t,r,n,s){var a=-1,i=-1,l=n-1,c=Fk(t,n),u=Wk(t,r.x,s,n),d=t.top<r.y&&t.bottom>r.y,f=t.top<e.y&&t.bottom>e.y,h=e.y>t.bottom,g=t.top>e.y,m=r.top<t.top&&r.bottom>t.bottom;return m&&(a=0,i=l),d&&(g?(a=0,i=u):h&&(a=u,i=l)),f&&(a=i=s?l-Math.floor((e.x-t.left)/c):Math.floor((e.x-t.left)/c),d?u<a?a=u:i=u:e.y<r.y?i=l:a=0),{startIdx:a,endIdx:i}}function FX(e){var t=e.target,r=e.offset,n=e.container,s=e.box,a=vn(t),i=a.top,l=a.left,c=a.width,u=a.height,d=vn(n),f=d.top,h=d.left,g=d.width,m=d.height,p=vn(s),w=p.width,y=p.height,v=f+m,x=h+g,b=i+y,_=l+w,S=r.x,E=r.y,C=b>v?i-y-E:i+E+u,M=_>x?l+S-w+c:l+S;return{topOffset:C,leftOffset:M}}function WX(e){var t=e.containerRef,r=e.accessors,n=e.getters,s=e.selected,a=e.components,i=e.localizer,l=e.position,c=e.show,u=e.events,d=e.slotStart,f=e.slotEnd,h=e.onSelect,g=e.onDoubleClick,m=e.onKeyPress,p=e.handleDragStart,w=e.popperRef,y=e.target,v=e.offset;$X({ref:w,callback:c}),N.useLayoutEffect(function(){var _=FX({target:y,offset:v,container:t.current,box:w.current}),S=_.topOffset,E=_.leftOffset;w.current.style.top="".concat(S,"px"),w.current.style.left="".concat(E,"px")},[v.x,v.y,y]);var x=l.width,b={minWidth:x+x/2};return F.createElement("div",{style:b,className:"rbc-overlay",ref:w},F.createElement("div",{className:"rbc-overlay-header"},i.format(d,"dayHeaderFormat")),u.map(function(_,S){return F.createElement(Ik,{key:S,type:"popup",localizer:i,event:_,getters:n,onSelect:h,accessors:r,components:a,onDoubleClick:g,onKeyPress:m,continuesPrior:i.lt(r.end(_),d,"day"),continuesAfter:i.gte(r.start(_),f,"day"),slotStart:d,slotEnd:f,selected:Vh(_,s),draggable:!0,onDragStart:function(){return p(_)},onDragEnd:function(){return c()}})}))}var Bk=F.forwardRef(function(e,t){return F.createElement(WX,Object.assign({},e,{popperRef:t}))});Bk.propTypes={accessors:ve.object.isRequired,getters:ve.object.isRequired,selected:ve.object,components:ve.object.isRequired,localizer:ve.object.isRequired,position:ve.object.isRequired,show:ve.func.isRequired,events:ve.array.isRequired,slotStart:ve.instanceOf(Date).isRequired,slotEnd:ve.instanceOf(Date),onSelect:ve.func,onDoubleClick:ve.func,onKeyPress:ve.func,handleDragStart:ve.func,style:ve.object,offset:ve.shape({x:ve.number,y:ve.number})};function BX(e){var t=e.containerRef,r=e.popupOffset,n=r===void 0?5:r,s=e.overlay,a=e.accessors,i=e.localizer,l=e.components,c=e.getters,u=e.selected,d=e.handleSelectEvent,f=e.handleDoubleClickEvent,h=e.handleKeyPressEvent,g=e.handleDragStart,m=e.onHide,p=e.overlayDisplay,w=N.useRef(null);if(!s.position)return null;var y=n;isNaN(n)||(y={x:n,y:n});var v=s.position,x=s.events,b=s.date,_=s.end;return F.createElement(qv,{rootClose:!0,flip:!0,show:!0,placement:"bottom",onHide:m,target:s.target},function(S){var E=S.props;return F.createElement(Bk,Object.assign({},E,{containerRef:t,ref:w,target:s.target,offset:y,accessors:a,getters:c,selected:u,components:l,localizer:i,position:v,show:p,events:x,slotStart:b,slotEnd:_,onSelect:d,onDoubleClick:f,onKeyPress:h,handleDragStart:g}))})}var f0=F.forwardRef(function(e,t){return F.createElement(BX,Object.assign({},e,{containerRef:t}))});f0.propTypes={popupOffset:ve.oneOfType([ve.number,ve.shape({x:ve.number,y:ve.number})]),overlay:ve.shape({position:ve.object,events:ve.array,date:ve.instanceOf(Date),end:ve.instanceOf(Date)}),accessors:ve.object.isRequired,localizer:ve.object.isRequired,components:ve.object.isRequired,getters:ve.object.isRequired,selected:ve.object,handleSelectEvent:ve.func,handleDoubleClickEvent:ve.func,handleKeyPressEvent:ve.func,handleDragStart:ve.func,onHide:ve.func,overlayDisplay:ve.func};function Xt(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document;return qn(r,e,t,{passive:!1})}function UX(e,t,r){return!e||Ts(e,document.elementFromPoint(t,r))}function HX(e,t){var r=t.clientX,n=t.clientY,s=document.elementFromPoint(r,n);return yu(s,".rbc-event",e)}function zX(e,t){var r=t.clientX,n=t.clientY,s=document.elementFromPoint(r,n);return yu(s,".rbc-show-more",e)}function $f(e,t){return!!HX(e,t)}function VX(e,t){return!!zX(e,t)}function Dl(e){var t=e;return e.touches&&e.touches.length&&(t=e.touches[0]),{clientX:t.clientX,clientY:t.clientY,pageX:t.pageX,pageY:t.pageY}}var A1=5,YX=250,Uk=function(){function e(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.global,s=n===void 0?!1:n,a=r.longPressThreshold,i=a===void 0?250:a,l=r.validContainers,c=l===void 0?[]:l;Rt(this,e),this._initialEvent=null,this.selecting=!1,this.isDetached=!1,this.container=t,this.globalMouse=!t||s,this.longPressThreshold=i,this.validContainers=c,this._listeners=Object.create(null),this._handleInitialEvent=this._handleInitialEvent.bind(this),this._handleMoveEvent=this._handleMoveEvent.bind(this),this._handleTerminatingEvent=this._handleTerminatingEvent.bind(this),this._keyListener=this._keyListener.bind(this),this._dropFromOutsideListener=this._dropFromOutsideListener.bind(this),this._dragOverFromOutsideListener=this._dragOverFromOutsideListener.bind(this),this._removeTouchMoveWindowListener=Xt("touchmove",function(){},window),this._removeKeyDownListener=Xt("keydown",this._keyListener),this._removeKeyUpListener=Xt("keyup",this._keyListener),this._removeDropFromOutsideListener=Xt("drop",this._dropFromOutsideListener),this._removeDragOverFromOutsideListener=Xt("dragover",this._dragOverFromOutsideListener),this._addInitialEventListener()}return Lt(e,[{key:"on",value:function(r,n){var s=this._listeners[r]||(this._listeners[r]=[]);return s.push(n),{remove:function(){var i=s.indexOf(n);i!==-1&&s.splice(i,1)}}}},{key:"emit",value:function(r){for(var n=arguments.length,s=new Array(n>1?n-1:0),a=1;a<n;a++)s[a-1]=arguments[a];var i,l=this._listeners[r]||[];return l.forEach(function(c){i===void 0&&(i=c.apply(void 0,s))}),i}},{key:"teardown",value:function(){this._initialEvent=null,this._initialEventData=null,this._selectRect=null,this.selecting=!1,this._lastClickData=null,this.isDetached=!0,this._listeners=Object.create(null),this._removeTouchMoveWindowListener&&this._removeTouchMoveWindowListener(),this._removeInitialEventListener&&this._removeInitialEventListener(),this._removeEndListener&&this._removeEndListener(),this._onEscListener&&this._onEscListener(),this._removeMoveListener&&this._removeMoveListener(),this._removeKeyUpListener&&this._removeKeyUpListener(),this._removeKeyDownListener&&this._removeKeyDownListener(),this._removeDropFromOutsideListener&&this._removeDropFromOutsideListener(),this._removeDragOverFromOutsideListener&&this._removeDragOverFromOutsideListener()}},{key:"isSelected",value:function(r){var n=this._selectRect;return!n||!this.selecting?!1:O1(n,_i(r))}},{key:"filter",value:function(r){var n=this._selectRect;return!n||!this.selecting?[]:r.filter(this.isSelected,this)}},{key:"_addLongPressListener",value:function(r,n){var s=this,a=null,i=null,l=null,c=function(h){a=setTimeout(function(){d(),r(h)},s.longPressThreshold),i=Xt("touchmove",function(){return d()}),l=Xt("touchend",function(){return d()})},u=Xt("touchstart",c),d=function(){a&&clearTimeout(a),i&&i(),l&&l(),a=null,i=null,l=null};return n&&c(n),function(){d(),u()}}},{key:"_addInitialEventListener",value:function(){var r=this,n=Xt("mousedown",function(a){r._removeInitialEventListener(),r._handleInitialEvent(a),r._removeInitialEventListener=Xt("mousedown",r._handleInitialEvent)}),s=Xt("touchstart",function(a){r._removeInitialEventListener(),r._removeInitialEventListener=r._addLongPressListener(r._handleInitialEvent,a)});this._removeInitialEventListener=function(){n(),s()}}},{key:"_dropFromOutsideListener",value:function(r){var n=Dl(r),s=n.pageX,a=n.pageY,i=n.clientX,l=n.clientY;this.emit("dropFromOutside",{x:s,y:a,clientX:i,clientY:l}),r.preventDefault()}},{key:"_dragOverFromOutsideListener",value:function(r){var n=Dl(r),s=n.pageX,a=n.pageY,i=n.clientX,l=n.clientY;this.emit("dragOverFromOutside",{x:s,y:a,clientX:i,clientY:l}),r.preventDefault()}},{key:"_handleInitialEvent",value:function(r){if(this._initialEvent=r,!this.isDetached){var n=Dl(r),s=n.clientX,a=n.clientY,i=n.pageX,l=n.pageY,c=this.container(),u,d;if(!(r.which===3||r.button===2||!UX(c,s,a))){if(!this.globalMouse&&c&&!Ts(c,r.target)){var f=qX(0),h=f.top,g=f.left,m=f.bottom,p=f.right;if(d=_i(c),u=O1({top:d.top-h,left:d.left-g,bottom:d.bottom+m,right:d.right+p},{top:l,left:i}),!u)return}var w=this.emit("beforeSelect",this._initialEventData={isTouch:/^touch/.test(r.type),x:i,y:l,clientX:s,clientY:a});if(w!==!1)switch(r.type){case"mousedown":this._removeEndListener=Xt("mouseup",this._handleTerminatingEvent),this._onEscListener=Xt("keydown",this._handleTerminatingEvent),this._removeMoveListener=Xt("mousemove",this._handleMoveEvent);break;case"touchstart":this._handleMoveEvent(r),this._removeEndListener=Xt("touchend",this._handleTerminatingEvent),this._removeMoveListener=Xt("touchmove",this._handleMoveEvent);break}}}}},{key:"_isWithinValidContainer",value:function(r){var n=r.target,s=this.validContainers;return!s||!s.length||!n?!0:s.some(function(a){return!!n.closest(a)})}},{key:"_handleTerminatingEvent",value:function(r){var n=this.selecting,s=this._selectRect;if(!n&&r.type.includes("key")&&(r=this._initialEvent),this.selecting=!1,this._removeEndListener&&this._removeEndListener(),this._removeMoveListener&&this._removeMoveListener(),this._selectRect=null,this._initialEvent=null,this._initialEventData=null,!!r){var a=!this.container||Ts(this.container(),r.target),i=this._isWithinValidContainer(r);return r.key==="Escape"||!i?this.emit("reset"):!n&&a?this._handleClickEvent(r):n?this.emit("select",s):this.emit("reset")}}},{key:"_handleClickEvent",value:function(r){var n=Dl(r),s=n.pageX,a=n.pageY,i=n.clientX,l=n.clientY,c=new Date().getTime();return this._lastClickData&&c-this._lastClickData.timestamp<YX?(this._lastClickData=null,this.emit("doubleClick",{x:s,y:a,clientX:i,clientY:l})):(this._lastClickData={timestamp:c},this.emit("click",{x:s,y:a,clientX:i,clientY:l}))}},{key:"_handleMoveEvent",value:function(r){if(!(this._initialEventData===null||this.isDetached)){var n=this._initialEventData,s=n.x,a=n.y,i=Dl(r),l=i.pageX,c=i.pageY,u=Math.abs(s-l),d=Math.abs(a-c),f=Math.min(l,s),h=Math.min(c,a),g=this.selecting,m=this.isClick(l,c);m&&!g&&!(u||d)||(!g&&!m&&this.emit("selectStart",this._initialEventData),m||(this.selecting=!0,this._selectRect={top:h,left:f,x:l,y:c,right:f+u,bottom:h+d},this.emit("selecting",this._selectRect)),r.preventDefault())}}},{key:"_keyListener",value:function(r){this.ctrl=r.metaKey||r.ctrlKey}},{key:"isClick",value:function(r,n){var s=this._initialEventData,a=s.x,i=s.y,l=s.isTouch;return!l&&Math.abs(r-a)<=A1&&Math.abs(n-i)<=A1}}])}();function qX(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return wn(e)!=="object"&&(e={top:e,left:e,right:e,bottom:e}),e}function O1(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,n=_i(e),s=n.top,a=n.left,i=n.right,l=i===void 0?a:i,c=n.bottom,u=c===void 0?s:c,d=_i(t),f=d.top,h=d.left,g=d.right,m=g===void 0?h:g,p=d.bottom,w=p===void 0?f:p;return!(u-r<f||s+r>w||l-r<h||a+r>m)}function _i(e){if(!e.getBoundingClientRect)return e;var t=e.getBoundingClientRect(),r=t.left+M1("left"),n=t.top+M1("top");return{top:n,left:r,right:(e.offsetWidth||0)+r,bottom:(e.offsetHeight||0)+n}}function M1(e){if(e==="left")return window.pageXOffset||document.body.scrollLeft||0;if(e==="top")return window.pageYOffset||document.body.scrollTop||0}var KX=function(e){function t(r,n){var s;return Rt(this,t),s=nr(this,t,[r,n]),s.state={selecting:!1},s.containerRef=N.createRef(),s}return rr(t,e),Lt(t,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"componentDidUpdate",value:function(n){!n.selectable&&this.props.selectable&&this._selectable(),n.selectable&&!this.props.selectable&&this._teardownSelectable()}},{key:"render",value:function(){var n=this.props,s=n.range,a=n.getNow,i=n.getters,l=n.date,c=n.components.dateCellWrapper,u=n.localizer,d=this.state,f=d.selecting,h=d.startIdx,g=d.endIdx,m=a();return F.createElement("div",{className:"rbc-row-bg",ref:this.containerRef},s.map(function(p,w){var y=f&&w>=h&&w<=g,v=i.dayProp(p),x=v.className,b=v.style;return F.createElement(c,{key:w,value:p,range:s},F.createElement("div",{style:b,className:mt("rbc-day-bg",x,y&&"rbc-selected-cell",u.isSameDate(p,m)&&"rbc-today",l&&u.neq(l,p,"month")&&"rbc-off-range-bg")}))}))}},{key:"_selectable",value:function(){var n=this,s=this.containerRef.current,a=this._selector=new Uk(this.props.container,{longPressThreshold:this.props.longPressThreshold}),i=function(c,u){if(!$f(s,c)&&!VX(s,c)){var d=_i(s),f=n.props,h=f.range,g=f.rtl;if(LX(d,c)){var m=Wk(d,c.x,g,h.length);n._selectSlot({startIdx:m,endIdx:m,action:u,box:c})}}n._initial={},n.setState({selecting:!1})};a.on("selecting",function(l){var c=n.props,u=c.range,d=c.rtl,f=-1,h=-1;if(n.state.selecting||(it(n.props.onSelectStart,[l]),n._initial={x:l.x,y:l.y}),a.isSelected(s)){var g=_i(s),m=IX(n._initial,g,l,u.length,d);f=m.startIdx,h=m.endIdx}n.setState({selecting:!0,startIdx:f,endIdx:h})}),a.on("beforeSelect",function(l){if(n.props.selectable==="ignoreEvents")return!$f(n.containerRef.current,l)}),a.on("click",function(l){return i(l,"click")}),a.on("doubleClick",function(l){return i(l,"doubleClick")}),a.on("select",function(l){n._selectSlot(Ze(Ze({},n.state),{},{action:"select",bounds:l})),n._initial={},n.setState({selecting:!1}),it(n.props.onSelectEnd,[n.state])})}},{key:"_teardownSelectable",value:function(){this._selector&&(this._selector.teardown(),this._selector=null)}},{key:"_selectSlot",value:function(n){var s=n.endIdx,a=n.startIdx,i=n.action,l=n.bounds,c=n.box;s!==-1&&a!==-1&&this.props.onSelectSlot&&this.props.onSelectSlot({start:a,end:s,action:i,bounds:l,box:c,resourceId:this.props.resourceId})}}])}(F.Component),Fr={propTypes:{slotMetrics:ve.object.isRequired,selected:ve.object,isAllDay:ve.bool,accessors:ve.object.isRequired,localizer:ve.object.isRequired,components:ve.object.isRequired,getters:ve.object.isRequired,onSelect:ve.func,onDoubleClick:ve.func,onKeyPress:ve.func},defaultProps:{segments:[],selected:{}},renderEvent:function(t,r){var n=t.selected;t.isAllDay;var s=t.accessors,a=t.getters,i=t.onSelect,l=t.onDoubleClick,c=t.onKeyPress,u=t.localizer,d=t.slotMetrics,f=t.components,h=t.resizable,g=d.continuesPrior(r),m=d.continuesAfter(r);return F.createElement(Ik,{event:r,getters:a,localizer:u,accessors:s,components:f,onSelect:i,onDoubleClick:l,onKeyPress:c,continuesPrior:g,continuesAfter:m,slotStart:d.first,slotEnd:d.last,selected:Vh(r,n),resizable:h})},renderSpan:function(t,r,n){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:" ",a=Math.abs(r)/t*100+"%";return F.createElement("div",{key:n,className:"rbc-row-segment",style:{WebkitFlexBasis:a,flexBasis:a,maxWidth:a}},s)}},Hk=function(e){function t(){return Rt(this,t),nr(this,t,arguments)}return rr(t,e),Lt(t,[{key:"render",value:function(){var n=this,s=this.props,a=s.segments,i=s.slotMetrics.slots,l=s.className,c=1;return F.createElement("div",{className:mt(l,"rbc-row")},a.reduce(function(u,d,f){var h=d.event,g=d.left,m=d.right,p=d.span,w="_lvl_"+f,y=g-c,v=Fr.renderEvent(n.props,h);return y&&u.push(Fr.renderSpan(i,y,"".concat(w,"_gap"))),u.push(Fr.renderSpan(i,p,w,v)),c=m+1,u},[]))}}])}(F.Component);Hk.defaultProps=Ze({},Fr.defaultProps);function zk(e){var t=e.dateRange,r=e.unit,n=r===void 0?"day":r,s=e.localizer;return{first:t[0],last:s.add(t[t.length-1],1,n)}}function GX(e,t,r,n){var s=zk({dateRange:t,localizer:n}),a=s.first,i=s.last,l=n.diff(a,i,"day"),c=n.max(n.startOf(r.start(e),"day"),a),u=n.min(n.ceil(r.end(e),"day"),i),d=ZV(t,function(h){return n.isSameDate(h,c)}),f=n.diff(c,u,"day");return f=Math.min(f,l),f=Math.max(f-n.segmentOffset,1),{event:e,span:f,left:d+1,right:Math.max(d+f,1)}}function qg(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0,r,n,s,a=[],i=[];for(r=0;r<e.length;r++){for(s=e[r],n=0;n<a.length&&XX(s,a[n]);n++);n>=t?i.push(s):(a[n]||(a[n]=[])).push(s)}for(r=0;r<a.length;r++)a[r].sort(function(l,c){return l.left-c.left});return{levels:a,extra:i}}function Rc(e,t,r,n,s){var a={start:n.start(e),end:n.end(e)},i={start:t,end:r};return s.inEventRange({event:a,range:i})}function XX(e,t){return t.some(function(r){return r.left<=e.right&&r.right>=e.left})}function QX(e,t,r){var n=Rd(e),s=[],a=[];n.forEach(function(c){var u=t.start(c),d=t.end(c);r.daySpan(u,d)>1?s.push(c):a.push(c)});var i=s.sort(function(c,u){return Kg(c,u,t,r)}),l=a.sort(function(c,u){return Kg(c,u,t,r)});return[].concat(Rd(i),Rd(l))}function Kg(e,t,r,n){var s={start:r.start(e),end:r.end(e),allDay:r.allDay(e)},a={start:r.start(t),end:r.end(t),allDay:r.allDay(t)};return n.sortEvents({evtA:s,evtB:a})}var Gg=function(t,r){return t.left<=r&&t.right>=r},lp=function(t,r){return t.filter(function(n){return Gg(n,r)}).map(function(n){return n.event})},Vk=function(e){function t(){return Rt(this,t),nr(this,t,arguments)}return rr(t,e),Lt(t,[{key:"render",value:function(){for(var n=this.props,s=n.segments,a=n.slotMetrics.slots,i=qg(s).levels[0],l=1,c=1,u=[];l<=a;){var d="_lvl_"+l,f=i.filter(function(b){return Gg(b,l)})[0]||{},h=f.event,g=f.left,m=f.right,p=f.span;if(!h){var w=this.getHiddenEventsForSlot(s,l);if(w.length>0){var y=l-c;y&&u.push(Fr.renderSpan(a,y,d+"_gap")),u.push(Fr.renderSpan(a,1,d,this.renderShowMore(s,l))),c=l=l+1;continue}l++;continue}var v=Math.max(0,g-c);if(this.canRenderSlotEvent(g,p)){var x=Fr.renderEvent(this.props,h);v&&u.push(Fr.renderSpan(a,v,d+"_gap")),u.push(Fr.renderSpan(a,p,d,x)),c=l=m+1}else v&&u.push(Fr.renderSpan(a,v,d+"_gap")),u.push(Fr.renderSpan(a,1,d,this.renderShowMore(s,l))),c=l=l+1}return F.createElement("div",{className:"rbc-row"},u)}},{key:"getHiddenEventsForSlot",value:function(n,s){var a=lp(n,s),i=qg(n).levels[0],l=i.filter(function(c){return Gg(c,s)}).map(function(c){return c.event});return a.filter(function(c){return!l.some(function(u){return u===c})})}},{key:"canRenderSlotEvent",value:function(n,s){var a=this.props.segments;return dY(n,n+s).every(function(i){var l=lp(a,i).length;return l===1})}},{key:"renderShowMore",value:function(n,s){var a=this,i=this.props,l=i.localizer,c=i.slotMetrics,u=i.components,d=c.getEventsForSlot(s),f=lp(n,s),h=f.length;if(u!=null&&u.showMore){var g=u.showMore,m=c.getDateForSlot(s-1);return h?F.createElement(g,{localizer:l,slotDate:m,slot:s,count:h,events:d,remainingEvents:f}):!1}return h?F.createElement("button",{type:"button",key:"sm_"+s,className:mt("rbc-button-link","rbc-show-more"),onClick:function(w){return a.showMore(s,w)}},l.messages.showMore(h,f,d)):!1}},{key:"showMore",value:function(n,s){s.preventDefault(),s.stopPropagation(),this.props.onShowMore(n,s.target)}}])}(F.Component);Vk.defaultProps=Ze({},Fr.defaultProps);var JX=function(t){var r=t.children;return F.createElement("div",{className:"rbc-row-content-scroll-container"},r)},ZX=function(t,r){return t.left<=r&&t.right>=r},eQ=function(t,r){return t[0].range===r[0].range&&t[0].events===r[0].events};function Yk(){return vk(function(e){for(var t=e.range,r=e.events,n=e.maxRows,s=e.minRows,a=e.accessors,i=e.localizer,l=zk({dateRange:t,localizer:i}),c=l.first,u=l.last,d=r.map(function(p){return GX(p,t,a,i)}),f=qg(d,Math.max(n-1,1)),h=f.levels,g=f.extra,m=g.length>0?s-1:s;h.length<m;)h.push([]);return{first:c,last:u,levels:h,extra:g,range:t,slots:t.length,clone:function(w){var y=Yk();return y(Ze(Ze({},e),w))},getDateForSlot:function(w){return t[w]},getSlotForDate:function(w){return t.find(function(y){return i.isSameDate(y,w)})},getEventsForSlot:function(w){return d.filter(function(y){return ZX(y,w)}).map(function(y){return y.event})},continuesPrior:function(w){return i.continuesPrior(a.start(w),c)},continuesAfter:function(w){var y=a.start(w),v=a.end(w);return i.continuesAfter(y,v,u)}}},eQ)}var Lc=function(e){function t(){var r;Rt(this,t);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return r=nr(this,t,[].concat(s)),r.handleSelectSlot=function(i){var l=r.props,c=l.range,u=l.onSelectSlot;u(c.slice(i.start,i.end+1),i)},r.handleShowMore=function(i,l){var c=r.props,u=c.range,d=c.onShowMore,f=r.slotMetrics(r.props),h=kh(r.containerRef.current,".rbc-row-bg")[0],g;h&&(g=h.children[i-1]);var m=f.getEventsForSlot(i);d(m,u[i-1],g,i,l)},r.getContainer=function(){var i=r.props.container;return i?i():r.containerRef.current},r.renderHeadingCell=function(i,l){var c=r.props,u=c.renderHeader,d=c.getNow,f=c.localizer;return u({date:i,key:"header_".concat(l),className:mt("rbc-date-cell",f.isSameDate(i,d())&&"rbc-now")})},r.renderDummy=function(){var i=r.props,l=i.className,c=i.range,u=i.renderHeader,d=i.showAllEvents;return F.createElement("div",{className:l,ref:r.containerRef},F.createElement("div",{className:mt("rbc-row-content",d&&"rbc-row-content-scrollable")},u&&F.createElement("div",{className:"rbc-row",ref:r.headingRowRef},c.map(r.renderHeadingCell)),F.createElement("div",{className:"rbc-row",ref:r.eventRowRef},F.createElement("div",{className:"rbc-row-segment"},F.createElement("div",{className:"rbc-event"},F.createElement("div",{className:"rbc-event-content"}," "))))))},r.containerRef=N.createRef(),r.headingRowRef=N.createRef(),r.eventRowRef=N.createRef(),r.slotMetrics=Yk(),r}return rr(t,e),Lt(t,[{key:"getRowLimit",value:function(){var n,s=di(this.eventRowRef.current),a=(n=this.headingRowRef)!==null&&n!==void 0&&n.current?di(this.headingRowRef.current):0,i=di(this.containerRef.current)-a;return Math.max(Math.floor(i/s),1)}},{key:"render",value:function(){var n=this.props,s=n.date,a=n.rtl,i=n.range,l=n.className,c=n.selected,u=n.selectable,d=n.renderForMeasure,f=n.accessors,h=n.getters,g=n.components,m=n.getNow,p=n.renderHeader,w=n.onSelect,y=n.localizer,v=n.onSelectStart,x=n.onSelectEnd,b=n.onDoubleClick,_=n.onKeyPress,S=n.resourceId,E=n.longPressThreshold,C=n.isAllDay,M=n.resizable,$=n.showAllEvents;if(d)return this.renderDummy();var Y=this.slotMetrics(this.props),J=Y.levels,G=Y.extra,se=$?JX:Rn,ce=g.weekWrapper,Z={selected:c,accessors:f,getters:h,localizer:y,components:g,onSelect:w,onDoubleClick:b,onKeyPress:_,resourceId:S,slotMetrics:Y,resizable:M};return F.createElement("div",{className:l,role:"rowgroup",ref:this.containerRef},F.createElement(KX,{localizer:y,date:s,getNow:m,rtl:a,range:i,selectable:u,container:this.getContainer,getters:h,onSelectStart:v,onSelectEnd:x,onSelectSlot:this.handleSelectSlot,components:g,longPressThreshold:E,resourceId:S}),F.createElement("div",{className:mt("rbc-row-content",$&&"rbc-row-content-scrollable"),role:"row"},p&&F.createElement("div",{className:"rbc-row ",ref:this.headingRowRef},i.map(this.renderHeadingCell)),F.createElement(se,null,F.createElement(ce,Object.assign({isAllDay:C},Z,{rtl:this.props.rtl}),J.map(function(he,te){return F.createElement(Hk,Object.assign({key:te,segments:he},Z))}),!!G.length&&F.createElement(Vk,Object.assign({segments:G,onShowMore:this.handleShowMore},Z))))))}}])}(F.Component);Lc.defaultProps={minRows:0,maxRows:1/0};var h0=function(t){var r=t.label;return F.createElement("span",{role:"columnheader","aria-sort":"none"},r)},tQ=function(t){var r=t.label,n=t.drilldownView,s=t.onDrillDown;return n?F.createElement("button",{type:"button",className:"rbc-button-link",onClick:s},r):F.createElement("span",null,r)},rQ=["date","className"],nQ=function(t,r,n,s,a){return t.filter(function(i){return Rc(i,r,n,s,a)})},Yh=function(e){function t(){var r;Rt(this,t);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return r=nr(this,t,[].concat(s)),r.getContainer=function(){return r.containerRef.current},r.renderWeek=function(i,l){var c=r.props,u=c.events,d=c.components,f=c.selectable,h=c.getNow,g=c.selected,m=c.date,p=c.localizer,w=c.longPressThreshold,y=c.accessors,v=c.getters,x=c.showAllEvents,b=r.state,_=b.needLimitMeasure,S=b.rowLimit,E=nQ(Rd(u),i[0],i[i.length-1],y,p),C=QX(E,y,p);return F.createElement(Lc,{key:l,ref:l===0?r.slotRowRef:void 0,container:r.getContainer,className:"rbc-month-row",getNow:h,date:m,range:i,events:C,maxRows:x?1/0:S,selected:g,selectable:f,components:d,accessors:y,getters:v,localizer:p,renderHeader:r.readerDateHeading,renderForMeasure:_,onShowMore:r.handleShowMore,onSelect:r.handleSelectEvent,onDoubleClick:r.handleDoubleClickEvent,onKeyPress:r.handleKeyPressEvent,onSelectSlot:r.handleSelectSlot,longPressThreshold:w,rtl:r.props.rtl,resizable:r.props.resizable,showAllEvents:x})},r.readerDateHeading=function(i){var l=i.date,c=i.className,u=es(i,rQ),d=r.props,f=d.date,h=d.getDrilldownView,g=d.localizer,m=g.neq(f,l,"month"),p=g.isSameDate(l,f),w=h(l),y=g.format(l,"dateFormat"),v=r.props.components.dateHeader||tQ;return F.createElement("div",Object.assign({},u,{className:mt(c,m&&"rbc-off-range",p&&"rbc-current"),role:"cell"}),F.createElement(v,{label:y,date:l,drilldownView:w,isOffRange:m,onDrillDown:function(b){return r.handleHeadingClick(l,w,b)}}))},r.handleSelectSlot=function(i,l){r._pendingSelection=r._pendingSelection.concat(i),clearTimeout(r._selectTimer),r._selectTimer=setTimeout(function(){return r.selectDates(l)})},r.handleHeadingClick=function(i,l,c){c.preventDefault(),r.clearSelection(),it(r.props.onDrillDown,[i,l])},r.handleSelectEvent=function(){r.clearSelection();for(var i=arguments.length,l=new Array(i),c=0;c<i;c++)l[c]=arguments[c];it(r.props.onSelectEvent,l)},r.handleDoubleClickEvent=function(){r.clearSelection();for(var i=arguments.length,l=new Array(i),c=0;c<i;c++)l[c]=arguments[c];it(r.props.onDoubleClickEvent,l)},r.handleKeyPressEvent=function(){r.clearSelection();for(var i=arguments.length,l=new Array(i),c=0;c<i;c++)l[c]=arguments[c];it(r.props.onKeyPressEvent,l)},r.handleShowMore=function(i,l,c,u,d){var f=r.props,h=f.popup,g=f.onDrillDown,m=f.onShowMore,p=f.getDrilldownView,w=f.doShowMoreDrillDown;if(r.clearSelection(),h){var y=_h(c,r.containerRef.current);r.setState({overlay:{date:l,events:i,position:y,target:d}})}else w&&it(g,[l,p(l)||ur.DAY]);it(m,[i,l,u])},r.overlayDisplay=function(){r.setState({overlay:null})},r.state={rowLimit:5,needLimitMeasure:!0,date:null},r.containerRef=N.createRef(),r.slotRowRef=N.createRef(),r._bgRows=[],r._pendingSelection=[],r}return rr(t,e),Lt(t,[{key:"componentDidMount",value:function(){var n=this,s;this.state.needLimitMeasure&&this.measureRowLimit(this.props),window.addEventListener("resize",this._resizeListener=function(){s||fu(function(){s=!1,n.setState({needLimitMeasure:!0})})},!1)}},{key:"componentDidUpdate",value:function(){this.state.needLimitMeasure&&this.measureRowLimit(this.props)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._resizeListener,!1)}},{key:"render",value:function(){var n=this.props,s=n.date,a=n.localizer,i=n.className,l=a.visibleDays(s,a),c=G4(l,7);return this._weekCount=c.length,F.createElement("div",{className:mt("rbc-month-view",i),role:"table","aria-label":"Month View",ref:this.containerRef},F.createElement("div",{className:"rbc-row rbc-month-header",role:"row"},this.renderHeaders(c[0])),c.map(this.renderWeek),this.props.popup&&this.renderOverlay())}},{key:"renderHeaders",value:function(n){var s=this.props,a=s.localizer,i=s.components,l=n[0],c=n[n.length-1],u=i.header||h0;return a.range(l,c,"day").map(function(d,f){return F.createElement("div",{key:"header_"+f,className:"rbc-header"},F.createElement(u,{date:d,localizer:a,label:a.format(d,"weekdayFormat")}))})}},{key:"renderOverlay",value:function(){var n,s,a=this,i=(n=(s=this.state)===null||s===void 0?void 0:s.overlay)!==null&&n!==void 0?n:{},l=this.props,c=l.accessors,u=l.localizer,d=l.components,f=l.getters,h=l.selected,g=l.popupOffset,m=l.handleDragStart,p=function(){return a.setState({overlay:null})};return F.createElement(f0,{overlay:i,accessors:c,localizer:u,components:d,getters:f,selected:h,popupOffset:g,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:m,show:!!i.position,overlayDisplay:this.overlayDisplay,onHide:p})}},{key:"measureRowLimit",value:function(){this.setState({needLimitMeasure:!1,rowLimit:this.slotRowRef.current.getRowLimit()})}},{key:"selectDates",value:function(n){var s=this._pendingSelection.slice();this._pendingSelection=[],s.sort(function(l,c){return+l-+c});var a=new Date(s[0]),i=new Date(s[s.length-1]);i.setDate(s[s.length-1].getDate()+1),it(this.props.onSelectSlot,{slots:s,start:a,end:i,action:n.action,bounds:n.bounds,box:n.box})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}}],[{key:"getDerivedStateFromProps",value:function(n,s){var a=n.date,i=n.localizer;return{date:a,needLimitMeasure:i.neq(a,s.date,"month")}}}])}(F.Component);Yh.range=function(e,t){var r=t.localizer,n=r.firstVisibleDay(e,r),s=r.lastVisibleDay(e,r);return{start:n,end:s}};Yh.navigate=function(e,t,r){var n=r.localizer;switch(t){case kr.PREVIOUS:return n.add(e,-1,"month");case kr.NEXT:return n.add(e,1,"month");default:return e}};Yh.title=function(e,t){var r=t.localizer;return r.format(e,"monthHeaderFormat")};var $1=function(t){var r=t.min,n=t.max,s=t.step,a=t.slots,i=t.localizer;return"".concat(+i.startOf(r,"minutes"))+"".concat(+i.startOf(n,"minutes"))+"".concat(s,"-").concat(a)};function m0(e){for(var t=e.min,r=e.max,n=e.step,s=e.timeslots,a=e.localizer,i=$1({step:n,localizer:a}),l=1+a.getTotalMin(t,r),c=a.getMinutesFromMidnight(t),u=Math.ceil((l-1)/(n*s)),d=u*s,f=new Array(u),h=new Array(d),g=0;g<u;g++){f[g]=new Array(s);for(var m=0;m<s;m++){var p=g*s+m,w=p*n;h[p]=f[g][m]=a.getSlotDate(t,c,w)}}var y=h.length*n;h.push(a.getSlotDate(t,c,y));function v(x){var b=a.diff(t,x,"minutes")+a.getDstOffset(t,x);return Math.min(b,l)}return{groups:f,update:function(b){return $1(b)!==i?m0(b):this},dateIsInGroup:function(b,_){var S=f[_+1];return a.inRange(b,f[_][0],S?S[0]:r,"minutes")},nextSlot:function(b){var _=h[Math.min(h.findIndex(function(S){return S===b||a.eq(S,b)})+1,h.length-1)];return a.eq(_,b)&&(_=a.add(b,n,"minutes")),_},closestSlotToPosition:function(b){var _=Math.min(h.length-1,Math.max(0,Math.floor(b*d)));return h[_]},closestSlotFromPoint:function(b,_){var S=Math.abs(_.top-_.bottom);return this.closestSlotToPosition((b.y-_.top)/S)},closestSlotFromDate:function(b){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(a.lt(b,t,"minutes"))return h[0];if(a.gt(b,r,"minutes"))return h[h.length-1];var S=a.diff(t,b,"minutes");return h[(S-S%n)/n+_]},startsBeforeDay:function(b){return a.lt(b,t,"day")},startsAfterDay:function(b){return a.gt(b,r,"day")},startsBefore:function(b){return a.lt(a.merge(t,b),t,"minutes")},startsAfter:function(b){return a.gt(a.merge(r,b),r,"minutes")},getRange:function(b,_,S,E){S||(b=a.min(r,a.max(t,b))),E||(_=a.min(r,a.max(t,_)));var C=v(b),M=v(_),$=M>n*d&&!a.eq(r,_)?(C-n)/(n*d)*100:C/(n*d)*100;return{top:$,height:M/(n*d)*100-$,start:v(b),startDate:b,end:v(_),endDate:_}},getCurrentTimePosition:function(b){var _=v(b),S=_/(n*d)*100;return S}}}var sQ=function(){function e(t,r){var n=r.accessors,s=r.slotMetrics;Rt(this,e);var a=s.getRange(n.start(t),n.end(t)),i=a.start,l=a.startDate,c=a.end,u=a.endDate,d=a.top,f=a.height;this.start=i,this.end=c,this.startMs=+l,this.endMs=+u,this.top=d,this.height=f,this.data=t}return Lt(e,[{key:"_width",get:function(){if(this.rows){var r=this.rows.reduce(function(s,a){return Math.max(s,a.leaves.length+1)},0)+1;return 100/r}if(this.leaves){var n=100-this.container._width;return n/(this.leaves.length+1)}return this.row._width}},{key:"width",get:function(){var r=this._width,n=Math.min(100,this._width*1.7);if(this.rows)return n;if(this.leaves)return this.leaves.length>0?n:r;var s=this.row.leaves,a=s.indexOf(this);return a===s.length-1?r:n}},{key:"xOffset",get:function(){if(this.rows)return 0;if(this.leaves)return this.container._width;var r=this.row,n=r.leaves,s=r.xOffset,a=r._width,i=n.indexOf(this)+1;return s+i*a}}])}();function aQ(e,t,r){return Math.abs(t.start-e.start)<r||t.start>e.start&&t.start<e.end}function iQ(e){for(var t=P7(e,["startMs",function(l){return-l.endMs}]),r=[];t.length>0;){var n=t.shift();r.push(n);for(var s=0;s<t.length;s++){var a=t[s];if(!(n.endMs>a.startMs)){if(s>0){var i=t.splice(s,1)[0];r.push(i)}break}}}return r}function qk(e){for(var t=e.events,r=e.minimumStartDifference,n=e.slotMetrics,s=e.accessors,a=t.map(function(d){return new sQ(d,{slotMetrics:n,accessors:s})}),i=iQ(a),l=[],c=function(){var f=i[u],h=l.find(function(p){return p.end>f.start||Math.abs(f.start-p.start)<r});if(!h)return f.rows=[],l.push(f),1;f.container=h;for(var g=null,m=h.rows.length-1;!g&&m>=0;m--)aQ(h.rows[m],f,r)&&(g=h.rows[m]);g?(g.leaves.push(f),f.row=g):(f.leaves=[],h.rows.push(f))},u=0;u<i.length;u++)c();return i.map(function(d){return{event:d.data,style:{top:d.top,height:d.height,width:d.width,xOffset:Math.max(0,d.xOffset)}}})}function Kk(e,t,r){for(var n=0;n<e.friends.length;++n)if(!(r.indexOf(e.friends[n])>-1)){t=t>e.friends[n].idx?t:e.friends[n].idx,r.push(e.friends[n]);var s=Kk(e.friends[n],t,r);t=t>s?t:s}return t}function oQ(e){var t=e.events,r=e.minimumStartDifference,n=e.slotMetrics,s=e.accessors,a=qk({events:t,minimumStartDifference:r,slotMetrics:n,accessors:s});a.sort(function(ce,Z){return ce=ce.style,Z=Z.style,ce.top!==Z.top?ce.top>Z.top?1:-1:ce.height!==Z.height?ce.top+ce.height<Z.top+Z.height?1:-1:0});for(var i=0;i<a.length;++i)a[i].friends=[],delete a[i].style.left,delete a[i].style.left,delete a[i].idx,delete a[i].size;for(var l=0;l<a.length-1;++l)for(var c=a[l],u=c.style.top,d=c.style.top+c.style.height,f=l+1;f<a.length;++f){var h=a[f],g=h.style.top,m=h.style.top+h.style.height;(g>=u&&m<=d||m>u&&m<=d||g>=u&&g<d)&&(c.friends.push(h),h.friends.push(c))}for(var p=0;p<a.length;++p){for(var w=a[p],y=[],v=0;v<100;++v)y.push(1);for(var x=0;x<w.friends.length;++x)w.friends[x].idx!==void 0&&(y[w.friends[x].idx]=0);w.idx=y.indexOf(1)}for(var b=0;b<a.length;++b){var _=0;if(!a[b].size){var S=[],E=Kk(a[b],0,S);_=100/(E+1),a[b].size=_;for(var C=0;C<S.length;++C)S[C].size=_}}for(var M=0;M<a.length;++M){var $=a[M];$.style.left=$.idx*$.size;for(var Y=0,J=0;J<$.friends.length;++J){var G=$.friends[J].idx;Y=Y>G?Y:G}Y<=$.idx&&($.size=100-$.idx*$.size);var se=$.idx===0?0:3;$.style.width="calc(".concat($.size,"% - ").concat(se,"px)"),$.style.height="calc(".concat($.style.height,"% - 2px)"),$.style.xOffset="calc(".concat($.style.left,"% + ").concat(se,"px)")}return a}var R1={overlap:qk,"no-overlap":oQ};function lQ(e){return!!(e&&e.constructor&&e.call&&e.apply)}function cQ(e){e.events,e.minimumStartDifference,e.slotMetrics,e.accessors;var t=e.dayLayoutAlgorithm,r=t;return t in R1&&(r=R1[t]),lQ(r)?r.apply(this,arguments):[]}var Gk=function(e){function t(){return Rt(this,t),nr(this,t,arguments)}return rr(t,e),Lt(t,[{key:"render",value:function(){var n=this.props,s=n.renderSlot,a=n.resource,i=n.group,l=n.getters,c=n.components,u=c===void 0?{}:c,d=u.timeSlotWrapper,f=d===void 0?Rn:d,h=l?l.slotGroupProp(i):{};return F.createElement("div",Object.assign({className:"rbc-timeslot-group"},h),i.map(function(g,m){var p=l?l.slotProp(g,a):{};return F.createElement(f,{key:m,value:g,resource:a},F.createElement("div",Object.assign({},p,{className:mt("rbc-time-slot",p.className)}),s&&s(g,m)))}))}}])}(N.Component);function nd(e){return typeof e=="string"?e:e+"%"}function uQ(e){var t=e.style,r=e.className,n=e.event,s=e.accessors,a=e.rtl,i=e.selected,l=e.label,c=e.continuesPrior,u=e.continuesAfter,d=e.getters,f=e.onClick,h=e.onDoubleClick,g=e.isBackgroundEvent,m=e.onKeyPress,p=e.components,w=p.event,y=p.eventWrapper,v=s.title(n),x=s.tooltip(n),b=s.end(n),_=s.start(n),S=d.eventProp(n,_,b,i),E=[F.createElement("div",{key:"1",className:"rbc-event-label"},l),F.createElement("div",{key:"2",className:"rbc-event-content"},w?F.createElement(w,{event:n,title:v}):v)],C=t.height,M=t.top,$=t.width,Y=t.xOffset,J=Ze(Ze({},S.style),{},Ka({top:nd(M),height:nd(C),width:nd($)},a?"right":"left",nd(Y)));return F.createElement(y,Object.assign({type:"time"},e),F.createElement("div",{role:"button",tabIndex:0,onClick:f,onDoubleClick:h,style:J,onKeyDown:m,title:x?(typeof l=="string"?l+": ":"")+x:void 0,className:mt(g?"rbc-background-event":"rbc-event",r,S.className,{"rbc-selected":i,"rbc-event-continues-earlier":c,"rbc-event-continues-later":u})},E))}var dQ=function(t){var r=t.children,n=t.className,s=t.style,a=t.innerRef;return F.createElement("div",{className:n,style:s,ref:a},r)},fQ=F.forwardRef(function(e,t){return F.createElement(dQ,Object.assign({},e,{innerRef:t}))}),hQ=["dayProp"],mQ=["eventContainerWrapper","timeIndicatorWrapper"],Xk=function(e){function t(){var r;Rt(this,t);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return r=nr(this,t,[].concat(s)),r.state={selecting:!1,timeIndicatorPosition:null},r.intervalTriggered=!1,r.renderEvents=function(i){var l=i.events,c=i.isBackgroundEvent,u=r.props,d=u.rtl,f=u.selected,h=u.accessors,g=u.localizer,m=u.getters,p=u.components,w=u.step,y=u.timeslots,v=u.dayLayoutAlgorithm,x=u.resizable,b=r,_=b.slotMetrics,S=g.messages,E=cQ({events:l,accessors:h,slotMetrics:_,minimumStartDifference:Math.ceil(w*y/2),dayLayoutAlgorithm:v});return E.map(function(C,M){var $,Y=C.event,J=C.style,G=h.end(Y),se=h.start(Y),ce=($=h.eventId(Y))!==null&&$!==void 0?$:"evt_"+M,Z="eventTimeRangeFormat",he,te=_.startsBeforeDay(se),U=_.startsAfterDay(G);te?Z="eventTimeRangeEndFormat":U&&(Z="eventTimeRangeStartFormat"),te&&U?he=S.allDay:he=g.format({start:se,end:G},Z);var oe=te||_.startsBefore(se),V=U||_.startsAfter(G);return F.createElement(uQ,{style:J,event:Y,label:he,key:ce,getters:m,rtl:d,components:p,continuesPrior:oe,continuesAfter:V,accessors:h,resource:r.props.resource,selected:Vh(Y,f),onClick:function(T){return r._select(Ze(Ze(Ze({},Y),r.props.resource&&{sourceResource:r.props.resource}),c&&{isBackgroundEvent:!0}),T)},onDoubleClick:function(T){return r._doubleClick(Y,T)},isBackgroundEvent:c,onKeyPress:function(T){return r._keyPress(Y,T)},resizable:x})})},r._selectable=function(){var i=r.containerRef.current,l=r.props,c=l.longPressThreshold,u=l.localizer,d=r._selector=new Uk(function(){return i},{longPressThreshold:c}),f=function(p){var w=r.props.onSelecting,y=r.state||{},v=h(p),x=v.startDate,b=v.endDate;w&&(u.eq(y.startDate,x,"minutes")&&u.eq(y.endDate,b,"minutes")||w({start:x,end:b,resourceId:r.props.resource})===!1)||(r.state.start!==v.start||r.state.end!==v.end||r.state.selecting!==v.selecting)&&r.setState(v)},h=function(p){var w=r.slotMetrics.closestSlotFromPoint(p,_i(i));r.state.selecting||(r._initialSlot=w);var y=r._initialSlot;u.lte(y,w)?w=r.slotMetrics.nextSlot(w):u.gt(y,w)&&(y=r.slotMetrics.nextSlot(y));var v=r.slotMetrics.getRange(u.min(y,w),u.max(y,w));return Ze(Ze({},v),{},{selecting:!0,top:"".concat(v.top,"%"),height:"".concat(v.height,"%")})},g=function(p,w){if(!$f(r.containerRef.current,p)){var y=h(p),v=y.startDate,x=y.endDate;r._selectSlot({startDate:v,endDate:x,action:w,box:p})}r.setState({selecting:!1})};d.on("selecting",f),d.on("selectStart",f),d.on("beforeSelect",function(m){if(r.props.selectable==="ignoreEvents")return!$f(r.containerRef.current,m)}),d.on("click",function(m){return g(m,"click")}),d.on("doubleClick",function(m){return g(m,"doubleClick")}),d.on("select",function(m){r.state.selecting&&(r._selectSlot(Ze(Ze({},r.state),{},{action:"select",bounds:m})),r.setState({selecting:!1}))}),d.on("reset",function(){r.state.selecting&&r.setState({selecting:!1})})},r._teardownSelectable=function(){r._selector&&(r._selector.teardown(),r._selector=null)},r._selectSlot=function(i){for(var l=i.startDate,c=i.endDate,u=i.action,d=i.bounds,f=i.box,h=l,g=[];r.props.localizer.lte(h,c);)g.push(h),h=new Date(+h+r.props.step*60*1e3);it(r.props.onSelectSlot,{slots:g,start:l,end:c,resourceId:r.props.resource,action:u,bounds:d,box:f})},r._select=function(){for(var i=arguments.length,l=new Array(i),c=0;c<i;c++)l[c]=arguments[c];it(r.props.onSelectEvent,l)},r._doubleClick=function(){for(var i=arguments.length,l=new Array(i),c=0;c<i;c++)l[c]=arguments[c];it(r.props.onDoubleClickEvent,l)},r._keyPress=function(){for(var i=arguments.length,l=new Array(i),c=0;c<i;c++)l[c]=arguments[c];it(r.props.onKeyPressEvent,l)},r.slotMetrics=m0(r.props),r.containerRef=N.createRef(),r}return rr(t,e),Lt(t,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable(),this.props.isNow&&this.setTimeIndicatorPositionUpdateInterval()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable(),this.clearTimeIndicatorInterval()}},{key:"componentDidUpdate",value:function(n,s){this.props.selectable&&!n.selectable&&this._selectable(),!this.props.selectable&&n.selectable&&this._teardownSelectable();var a=this.props,i=a.getNow,l=a.isNow,c=a.localizer,u=a.date,d=a.min,f=a.max,h=c.neq(n.getNow(),i(),"minutes");if(n.isNow!==l||h){if(this.clearTimeIndicatorInterval(),l){var g=!h&&c.eq(n.date,u,"minutes")&&s.timeIndicatorPosition===this.state.timeIndicatorPosition;this.setTimeIndicatorPositionUpdateInterval(g)}}else l&&(c.neq(n.min,d,"minutes")||c.neq(n.max,f,"minutes"))&&this.positionTimeIndicator()}},{key:"setTimeIndicatorPositionUpdateInterval",value:function(){var n=this,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;!this.intervalTriggered&&!s&&this.positionTimeIndicator(),this._timeIndicatorTimeout=window.setTimeout(function(){n.intervalTriggered=!0,n.positionTimeIndicator(),n.setTimeIndicatorPositionUpdateInterval()},6e4)}},{key:"clearTimeIndicatorInterval",value:function(){this.intervalTriggered=!1,window.clearTimeout(this._timeIndicatorTimeout)}},{key:"positionTimeIndicator",value:function(){var n=this.props,s=n.min,a=n.max,i=n.getNow,l=i();if(l>=s&&l<=a){var c=this.slotMetrics.getCurrentTimePosition(l);this.intervalTriggered=!0,this.setState({timeIndicatorPosition:c})}else this.clearTimeIndicatorInterval()}},{key:"render",value:function(){var n=this.props,s=n.date,a=n.max,i=n.rtl,l=n.isNow,c=n.resource,u=n.accessors,d=n.localizer,f=n.getters,h=f.dayProp,g=es(f,hQ),m=n.components,p=m.eventContainerWrapper,w=m.timeIndicatorWrapper,y=es(m,mQ);this.slotMetrics=this.slotMetrics.update(this.props);var v=this.slotMetrics,x=this.state,b=x.selecting,_=x.top,S=x.height,E=x.startDate,C=x.endDate,M={start:E,end:C},$=h(a,c),Y=$.className,J=$.style,G={className:"rbc-current-time-indicator",style:{top:"".concat(this.state.timeIndicatorPosition,"%")}},se=y.dayColumnWrapper||fQ;return F.createElement(se,{ref:this.containerRef,date:s,style:J,className:mt(Y,"rbc-day-slot","rbc-time-column",l&&"rbc-now",l&&"rbc-today",b&&"rbc-slot-selecting"),slotMetrics:v,resource:c},v.groups.map(function(ce,Z){return F.createElement(Gk,{key:Z,group:ce,resource:c,getters:g,components:y})}),F.createElement(p,{localizer:d,resource:c,accessors:u,getters:g,components:y,slotMetrics:v},F.createElement("div",{className:mt("rbc-events-container",i&&"rtl")},this.renderEvents({events:this.props.backgroundEvents,isBackgroundEvent:!0}),this.renderEvents({events:this.props.events}))),b&&F.createElement("div",{className:"rbc-slot-selection",style:{top:_,height:S}},F.createElement("span",null,d.format(M,"selectRangeFormat"))),l&&this.intervalTriggered&&F.createElement(w,G,F.createElement("div",G)))}}])}(F.Component);Xk.defaultProps={dragThroughEvents:!0,timeslots:2};var Qk=function(t){var r=t.label;return F.createElement(F.Fragment,null,r)},pQ=function(e){function t(){var r;Rt(this,t);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return r=nr(this,t,[].concat(s)),r.handleHeaderClick=function(i,l,c){c.preventDefault(),it(r.props.onDrillDown,[i,l])},r.renderRow=function(i){var l=r.props,c=l.events,u=l.rtl,d=l.selectable,f=l.getNow,h=l.range,g=l.getters,m=l.localizer,p=l.accessors,w=l.components,y=l.resizable,v=p.resourceId(i),x=i?c.filter(function(b){return p.resource(b)===v}):c;return F.createElement(Lc,{isAllDay:!0,rtl:u,getNow:f,minRows:2,maxRows:r.props.allDayMaxRows+1,range:h,events:x,resourceId:v,className:"rbc-allday-cell",selectable:d,selected:r.props.selected,components:w,accessors:p,getters:g,localizer:m,onSelect:r.props.onSelectEvent,onShowMore:r.props.onShowMore,onDoubleClick:r.props.onDoubleClickEvent,onKeyPress:r.props.onKeyPressEvent,onSelectSlot:r.props.onSelectSlot,longPressThreshold:r.props.longPressThreshold,resizable:y})},r}return rr(t,e),Lt(t,[{key:"renderHeaderCells",value:function(n){var s=this,a=this.props,i=a.localizer,l=a.getDrilldownView,c=a.getNow,u=a.getters.dayProp,d=a.components.header,f=d===void 0?h0:d,h=c();return n.map(function(g,m){var p=l(g),w=i.format(g,"dayFormat"),y=u(g),v=y.className,x=y.style,b=F.createElement(f,{date:g,label:w,localizer:i});return F.createElement("div",{key:m,style:x,className:mt("rbc-header",v,i.isSameDate(g,h)&&"rbc-today")},p?F.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(S){return s.handleHeaderClick(g,p,S)}},b):F.createElement("span",null,b))})}},{key:"render",value:function(){var n=this,s=this.props,a=s.width,i=s.rtl,l=s.resources,c=s.range,u=s.events,d=s.getNow,f=s.accessors,h=s.selectable,g=s.components,m=s.getters,p=s.scrollRef,w=s.localizer,y=s.isOverflowing,v=s.components,x=v.timeGutterHeader,b=v.resourceHeader,_=b===void 0?Qk:b,S=s.resizable,E={};y&&(E[i?"marginLeft":"marginRight"]="".concat(pu()-1,"px"));var C=l.groupEvents(u);return F.createElement("div",{style:E,ref:p,className:mt("rbc-time-header",y&&"rbc-overflowing")},F.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:a,minWidth:a,maxWidth:a}},x&&F.createElement(x,null)),l.map(function(M,$){var Y=zr(M,2),J=Y[0],G=Y[1];return F.createElement("div",{className:"rbc-time-header-content",key:J||$},G&&F.createElement("div",{className:"rbc-row rbc-row-resource",key:"resource_".concat($)},F.createElement("div",{className:"rbc-header"},F.createElement(_,{index:$,label:f.resourceTitle(G),resource:G}))),F.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(c.length<=1?" rbc-time-header-cell-single-day":"")},n.renderHeaderCells(c)),F.createElement(Lc,{isAllDay:!0,rtl:i,getNow:d,minRows:2,maxRows:n.props.allDayMaxRows+1,range:c,events:C.get(J)||[],resourceId:G&&J,className:"rbc-allday-cell",selectable:h,selected:n.props.selected,components:g,accessors:f,getters:m,localizer:w,onSelect:n.props.onSelectEvent,onShowMore:n.props.onShowMore,onDoubleClick:n.props.onDoubleClickEvent,onKeyDown:n.props.onKeyPressEvent,onSelectSlot:n.props.onSelectSlot,longPressThreshold:n.props.longPressThreshold,resizable:S}))}))}}])}(F.Component),gQ=function(e){function t(){var r;Rt(this,t);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return r=nr(this,t,[].concat(s)),r.handleHeaderClick=function(i,l,c){c.preventDefault(),it(r.props.onDrillDown,[i,l])},r}return rr(t,e),Lt(t,[{key:"renderHeaderCells",value:function(n){var s=this,a=this.props,i=a.localizer,l=a.getDrilldownView,c=a.getNow,u=a.getters.dayProp,d=a.components,f=d.header,h=f===void 0?h0:f,g=d.resourceHeader,m=g===void 0?Qk:g,p=a.resources,w=a.accessors,y=a.events,v=a.rtl,x=a.selectable,b=a.components,_=a.getters,S=a.resizable,E=c(),C=p.groupEvents(y);return n.map(function(M,$){var Y=l(M),J=i.format(M,"dayFormat"),G=u(M),se=G.className,ce=G.style,Z=F.createElement(h,{date:M,label:J,localizer:i});return F.createElement("div",{key:$,className:"rbc-time-header-content rbc-resource-grouping"},F.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(n.length<=1?" rbc-time-header-cell-single-day":"")},F.createElement("div",{style:ce,className:mt("rbc-header",se,i.isSameDate(M,E)&&"rbc-today")},Y?F.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(te){return s.handleHeaderClick(M,Y,te)}},Z):F.createElement("span",null,Z))),F.createElement("div",{className:"rbc-row"},p.map(function(he,te){var U=zr(he,2),oe=U[0],V=U[1];return F.createElement("div",{key:"resource_".concat(oe,"_").concat(te),className:mt("rbc-header",se,i.isSameDate(M,E)&&"rbc-today")},F.createElement(m,{index:te,label:w.resourceTitle(V),resource:V}))})),F.createElement("div",{className:"rbc-row rbc-m-b-negative-3 rbc-h-full"},p.map(function(he,te){var U=zr(he,2),oe=U[0],V=U[1],W=(C.get(oe)||[]).filter(function(T){return i.isSameDate(T.start,M)||i.isSameDate(T.end,M)});return F.createElement(Lc,{key:"resource_".concat(oe,"_").concat(te),isAllDay:!0,rtl:v,getNow:c,minRows:2,maxRows:s.props.allDayMaxRows+1,range:[M],events:W,resourceId:V&&oe,className:"rbc-allday-cell",selectable:x,selected:s.props.selected,components:b,accessors:w,getters:_,localizer:i,onSelect:s.props.onSelectEvent,onShowMore:s.props.onShowMore,onDoubleClick:s.props.onDoubleClickEvent,onKeyDown:s.props.onKeyPressEvent,onSelectSlot:s.props.onSelectSlot,longPressThreshold:s.props.longPressThreshold,resizable:S})})))})}},{key:"render",value:function(){var n=this.props,s=n.width,a=n.rtl,i=n.range,l=n.scrollRef,c=n.isOverflowing,u=n.components.timeGutterHeader,d={};return c&&(d[a?"marginLeft":"marginRight"]="".concat(pu()-1,"px")),F.createElement("div",{style:d,ref:l,className:mt("rbc-time-header",c&&"rbc-overflowing")},F.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:s,minWidth:s,maxWidth:s}},u&&F.createElement(u,null)),this.renderHeaderCells(i))}}])}(F.Component);function yQ(e){var t=e.min,r=e.max,n=e.localizer;return n.getTimezoneOffset(t)!==n.getTimezoneOffset(r)?{start:n.add(t,-1,"day"),end:n.add(r,-1,"day")}:{start:t,end:r}}var vQ=function(t){var r=t.min,n=t.max,s=t.timeslots,a=t.step,i=t.localizer,l=t.getNow,c=t.resource,u=t.components,d=t.getters,f=t.gutterRef,h=u.timeGutterWrapper,g=N.useMemo(function(){return yQ({min:r,max:n,localizer:i})},[r==null?void 0:r.toISOString(),n==null?void 0:n.toISOString(),i]),m=g.start,p=g.end,w=N.useState(m0({min:m,max:p,timeslots:s,step:a,localizer:i})),y=zr(w,2),v=y[0],x=y[1];N.useEffect(function(){v&&x(v.update({min:m,max:p,timeslots:s,step:a,localizer:i}))},[m==null?void 0:m.toISOString(),p==null?void 0:p.toISOString(),s,a]);var b=N.useCallback(function(_,S){if(S)return null;var E=v.dateIsInGroup(l(),S);return F.createElement("span",{className:mt("rbc-label",E&&"rbc-now")},i.format(_,"timeGutterFormat"))},[v,i,l]);return F.createElement(h,{slotMetrics:v},F.createElement("div",{className:"rbc-time-gutter rbc-time-column",ref:f},v.groups.map(function(_,S){return F.createElement(Gk,{key:S,group:_,resource:c,components:u,renderSlot:b,getters:d})})))},xQ=F.forwardRef(function(e,t){return F.createElement(vQ,Object.assign({gutterRef:t},e))}),cp={};function bQ(e,t){return{map:function(n){return e?e.map(function(s,a){return n([t.resourceId(s),s],a)}):[n([cp,null],0)]},groupEvents:function(n){var s=new Map;return e?(n.forEach(function(a){var i=t.resource(a)||cp;if(Array.isArray(i))i.forEach(function(c){var u=s.get(c)||[];u.push(a),s.set(c,u)});else{var l=s.get(i)||[];l.push(a),s.set(i,l)}}),s):(s.set(cp,n),s)}}}var nl=function(e){function t(r){var n;return Rt(this,t),n=nr(this,t,[r]),n.handleScroll=function(s){n.scrollRef.current&&(n.scrollRef.current.scrollLeft=s.target.scrollLeft)},n.handleResize=function(){Ac(n.rafHandle),n.rafHandle=fu(n.checkOverflow)},n.handleKeyPressEvent=function(){n.clearSelection();for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];it(n.props.onKeyPressEvent,a)},n.handleSelectEvent=function(){n.clearSelection();for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];it(n.props.onSelectEvent,a)},n.handleDoubleClickEvent=function(){n.clearSelection();for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];it(n.props.onDoubleClickEvent,a)},n.handleShowMore=function(s,a,i,l,c){var u=n.props,d=u.popup,f=u.onDrillDown,h=u.onShowMore,g=u.getDrilldownView,m=u.doShowMoreDrillDown;if(n.clearSelection(),d){var p=_h(i,n.containerRef.current);n.setState({overlay:{date:a,events:s,position:Ze(Ze({},p),{},{width:"200px"}),target:c}})}else m&&it(f,[a,g(a)||ur.DAY]);it(h,[s,a,l])},n.handleSelectAllDaySlot=function(s,a){var i=n.props.onSelectSlot,l=new Date(s[0]),c=new Date(s[s.length-1]);c.setDate(s[s.length-1].getDate()+1),it(i,{slots:s,start:l,end:c,action:a.action,resourceId:a.resourceId})},n.overlayDisplay=function(){n.setState({overlay:null})},n.checkOverflow=function(){if(!n._updatingOverflow){var s=n.contentRef.current;if(s!=null&&s.scrollHeight){var a=s.scrollHeight>s.clientHeight;n.state.isOverflowing!==a&&(n._updatingOverflow=!0,n.setState({isOverflowing:a},function(){n._updatingOverflow=!1}))}}},n.memoizedResources=vk(function(s,a){return bQ(s,a)}),n.state={gutterWidth:void 0,isOverflowing:null},n.scrollRef=F.createRef(),n.contentRef=F.createRef(),n.containerRef=F.createRef(),n._scrollRatio=null,n.gutterRef=N.createRef(),n}return rr(t,e),Lt(t,[{key:"getSnapshotBeforeUpdate",value:function(){return this.checkOverflow(),null}},{key:"componentDidMount",value:function(){this.props.width==null&&this.measureGutter(),this.calculateScroll(),this.applyScroll(),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),Ac(this.rafHandle),this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest)}},{key:"componentDidUpdate",value:function(){this.applyScroll()}},{key:"renderDayColumn",value:function(n,s,a,i,l,c,u,d,f,h){var g=this.props,m=g.min,p=g.max,w=(i.get(s)||[]).filter(function(v){return c.inRange(n,u.start(v),u.end(v),"day")}),y=(l.get(s)||[]).filter(function(v){return c.inRange(n,u.start(v),u.end(v),"day")});return F.createElement(Xk,Object.assign({},this.props,{localizer:c,min:c.merge(n,m),max:c.merge(n,p),resource:a&&s,components:d,isNow:c.isSameDate(n,h),key:"".concat(s,"-").concat(n),date:n,events:w,backgroundEvents:y,dayLayoutAlgorithm:f}))}},{key:"renderResourcesFirst",value:function(n,s,a,i,l,c,u,d,f){var h=this;return s.map(function(g){var m=zr(g,2),p=m[0],w=m[1];return n.map(function(y){return h.renderDayColumn(y,p,w,a,i,l,c,d,f,u)})})}},{key:"renderRangeFirst",value:function(n,s,a,i,l,c,u,d,f){var h=this;return n.map(function(g){return F.createElement("div",{style:{display:"flex",minHeight:"100%",flex:1},key:g},s.map(function(m){var p=zr(m,2),w=p[0],y=p[1];return F.createElement("div",{style:{flex:1},key:c.resourceId(y)},h.renderDayColumn(g,w,y,a,i,l,c,d,f,u))}))})}},{key:"renderEvents",value:function(n,s,a,i){var l=this.props,c=l.accessors,u=l.localizer,d=l.resourceGroupingLayout,f=l.components,h=l.dayLayoutAlgorithm,g=this.memoizedResources(this.props.resources,c),m=g.groupEvents(s),p=g.groupEvents(a);return d?this.renderRangeFirst(n,g,m,p,u,c,i,f,h):this.renderResourcesFirst(n,g,m,p,u,c,i,f,h)}},{key:"render",value:function(){var n,s=this.props,a=s.events,i=s.backgroundEvents,l=s.range,c=s.width,u=s.rtl,d=s.selected,f=s.getNow,h=s.resources,g=s.components,m=s.accessors,p=s.getters,w=s.localizer,y=s.min,v=s.max,x=s.showMultiDayTimes,b=s.longPressThreshold,_=s.resizable,S=s.resourceGroupingLayout;c=c||this.state.gutterWidth;var E=l[0],C=l[l.length-1];this.slots=l.length;var M=[],$=[],Y=[];a.forEach(function(G){if(Rc(G,E,C,m,w)){var se=m.start(G),ce=m.end(G);m.allDay(G)||w.startAndEndAreDateOnly(se,ce)||!x&&!w.isSameDate(se,ce)?M.push(G):$.push(G)}}),i.forEach(function(G){Rc(G,E,C,m,w)&&Y.push(G)}),M.sort(function(G,se){return Kg(G,se,m,w)});var J={range:l,events:M,width:c,rtl:u,getNow:f,localizer:w,selected:d,allDayMaxRows:this.props.showAllEvents?1/0:(n=this.props.allDayMaxRows)!==null&&n!==void 0?n:1/0,resources:this.memoizedResources(h,m),selectable:this.props.selectable,accessors:m,getters:p,components:g,scrollRef:this.scrollRef,isOverflowing:this.state.isOverflowing,longPressThreshold:b,onSelectSlot:this.handleSelectAllDaySlot,onSelectEvent:this.handleSelectEvent,onShowMore:this.handleShowMore,onDoubleClickEvent:this.props.onDoubleClickEvent,onKeyPressEvent:this.props.onKeyPressEvent,onDrillDown:this.props.onDrillDown,getDrilldownView:this.props.getDrilldownView,resizable:_};return F.createElement("div",{className:mt("rbc-time-view",h&&"rbc-time-view-resources"),ref:this.containerRef},h&&h.length>1&&S?F.createElement(gQ,J):F.createElement(pQ,J),this.props.popup&&this.renderOverlay(),F.createElement("div",{ref:this.contentRef,className:"rbc-time-content",onScroll:this.handleScroll},F.createElement(xQ,{date:E,ref:this.gutterRef,localizer:w,min:w.merge(E,y),max:w.merge(E,v),step:this.props.step,getNow:this.props.getNow,timeslots:this.props.timeslots,components:g,className:"rbc-time-gutter",getters:p}),this.renderEvents(l,$,Y,f())))}},{key:"renderOverlay",value:function(){var n,s,a=this,i=(n=(s=this.state)===null||s===void 0?void 0:s.overlay)!==null&&n!==void 0?n:{},l=this.props,c=l.accessors,u=l.localizer,d=l.components,f=l.getters,h=l.selected,g=l.popupOffset,m=l.handleDragStart,p=function(){return a.setState({overlay:null})};return F.createElement(f0,{overlay:i,accessors:c,localizer:u,components:d,getters:f,selected:h,popupOffset:g,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:m,show:!!i.position,overlayDisplay:this.overlayDisplay,onHide:p})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}},{key:"measureGutter",value:function(){var n=this;this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest),this.measureGutterAnimationFrameRequest=window.requestAnimationFrame(function(){var s,a=(s=n.gutterRef)!==null&&s!==void 0&&s.current?$c(n.gutterRef.current):void 0;a&&n.state.gutterWidth!==a&&n.setState({gutterWidth:a})})}},{key:"applyScroll",value:function(){if(this._scrollRatio!=null&&this.props.enableAutoScroll===!0){var n=this.contentRef.current;n.scrollTop=n.scrollHeight*this._scrollRatio,this._scrollRatio=null}}},{key:"calculateScroll",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,s=n.min,a=n.max,i=n.scrollToTime,l=n.localizer,c=l.diff(l.merge(i,s),i,"milliseconds"),u=l.diff(s,a,"milliseconds");this._scrollRatio=c/u}}])}(N.Component);nl.defaultProps={step:30,timeslots:2,resourceGroupingLayout:!1};var wQ=["date","localizer","min","max","scrollToTime","enableAutoScroll"],qh=function(e){function t(){return Rt(this,t),nr(this,t,arguments)}return rr(t,e),Lt(t,[{key:"render",value:function(){var n=this.props,s=n.date,a=n.localizer,i=n.min,l=i===void 0?a.startOf(new Date,"day"):i,c=n.max,u=c===void 0?a.endOf(new Date,"day"):c,d=n.scrollToTime,f=d===void 0?a.startOf(new Date,"day"):d,h=n.enableAutoScroll,g=h===void 0?!0:h,m=es(n,wQ),p=t.range(s,{localizer:a});return F.createElement(nl,Object.assign({},m,{range:p,eventOffset:10,localizer:a,min:l,max:u,scrollToTime:f,enableAutoScroll:g}))}}])}(F.Component);qh.range=function(e,t){var r=t.localizer;return[r.startOf(e,"day")]};qh.navigate=function(e,t,r){var n=r.localizer;switch(t){case kr.PREVIOUS:return n.add(e,-1,"day");case kr.NEXT:return n.add(e,1,"day");default:return e}};qh.title=function(e,t){var r=t.localizer;return r.format(e,"dayHeaderFormat")};var NQ=["date","localizer","min","max","scrollToTime","enableAutoScroll"],Da=function(e){function t(){return Rt(this,t),nr(this,t,arguments)}return rr(t,e),Lt(t,[{key:"render",value:function(){var n=this.props,s=n.date,a=n.localizer,i=n.min,l=i===void 0?a.startOf(new Date,"day"):i,c=n.max,u=c===void 0?a.endOf(new Date,"day"):c,d=n.scrollToTime,f=d===void 0?a.startOf(new Date,"day"):d,h=n.enableAutoScroll,g=h===void 0?!0:h,m=es(n,NQ),p=t.range(s,this.props);return F.createElement(nl,Object.assign({},m,{range:p,eventOffset:15,localizer:a,min:l,max:u,scrollToTime:f,enableAutoScroll:g}))}}])}(F.Component);Da.defaultProps=nl.defaultProps;Da.navigate=function(e,t,r){var n=r.localizer;switch(t){case kr.PREVIOUS:return n.add(e,-1,"week");case kr.NEXT:return n.add(e,1,"week");default:return e}};Da.range=function(e,t){var r=t.localizer,n=r.startOfWeek(),s=r.startOf(e,"week",n),a=r.endOf(e,"week",n);return r.range(s,a)};Da.title=function(e,t){var r=t.localizer,n=Da.range(e,{localizer:r}),s=_k(n),a=s[0],i=s.slice(1);return r.format({start:a,end:i.pop()},"dayRangeHeaderFormat")};var SQ=["date","localizer","min","max","scrollToTime","enableAutoScroll"];function p0(e,t){return Da.range(e,t).filter(function(r){return[6,0].indexOf(r.getDay())===-1})}var bu=function(e){function t(){return Rt(this,t),nr(this,t,arguments)}return rr(t,e),Lt(t,[{key:"render",value:function(){var n=this.props,s=n.date,a=n.localizer,i=n.min,l=i===void 0?a.startOf(new Date,"day"):i,c=n.max,u=c===void 0?a.endOf(new Date,"day"):c,d=n.scrollToTime,f=d===void 0?a.startOf(new Date,"day"):d,h=n.enableAutoScroll,g=h===void 0?!0:h,m=es(n,SQ),p=p0(s,this.props);return F.createElement(nl,Object.assign({},m,{range:p,eventOffset:15,localizer:a,min:l,max:u,scrollToTime:f,enableAutoScroll:g}))}}])}(F.Component);bu.defaultProps=nl.defaultProps;bu.range=p0;bu.navigate=Da.navigate;bu.title=function(e,t){var r=t.localizer,n=p0(e,{localizer:r}),s=_k(n),a=s[0],i=s.slice(1);return r.format({start:a,end:i.pop()},"dayRangeHeaderFormat")};var Kh=30;function Gh(e){var t=e.accessors,r=e.components,n=e.date,s=e.events,a=e.getters,i=e.length,l=i===void 0?Kh:i,c=e.localizer,u=e.onDoubleClickEvent,d=e.onSelectEvent,f=e.selected,h=N.useRef(null),g=N.useRef(null),m=N.useRef(null),p=N.useRef(null),w=N.useRef(null);N.useEffect(function(){x()});var y=function(C,M,$){var Y=r.event,J=r.date;return M=M.filter(function(G){return Rc(G,c.startOf(C,"day"),c.endOf(C,"day"),t,c)}),M.map(function(G,se){var ce=t.title(G),Z=t.end(G),he=t.start(G),te=a.eventProp(G,he,Z,Vh(G,f)),U=se===0&&c.format(C,"agendaDateFormat"),oe=se===0?F.createElement("td",{rowSpan:M.length,className:"rbc-agenda-date-cell"},J?F.createElement(J,{day:C,label:U}):U):!1;return F.createElement("tr",{key:$+"_"+se,className:te.className,style:te.style},oe,F.createElement("td",{className:"rbc-agenda-time-cell"},v(C,G)),F.createElement("td",{className:"rbc-agenda-event-cell",onClick:function(W){return d&&d(G,W)},onDoubleClick:function(W){return u&&u(G,W)}},Y?F.createElement(Y,{event:G,title:ce}):ce))},[])},v=function(C,M){var $="",Y=r.time,J=c.messages.allDay,G=t.end(M),se=t.start(M);return t.allDay(M)||(c.eq(se,G)?J=c.format(se,"agendaTimeFormat"):c.isSameDate(se,G)?J=c.format({start:se,end:G},"agendaTimeRangeFormat"):c.isSameDate(C,se)?J=c.format(se,"agendaTimeFormat"):c.isSameDate(C,G)&&(J=c.format(G,"agendaTimeFormat"))),c.gt(C,se,"day")&&($="rbc-continues-prior"),c.lt(C,G,"day")&&($+=" rbc-continues-after"),F.createElement("span",{className:$.trim()},Y?F.createElement(Y,{event:M,day:C,label:J}):J)},x=function(){if(w.current){var C=h.current,M=w.current.firstChild;if(M){var $=p.current.scrollHeight>p.current.clientHeight,Y=[],J=Y;Y=[$c(M.children[0]),$c(M.children[1])],(J[0]!==Y[0]||J[1]!==Y[1])&&(g.current.style.width=Y[0]+"px",m.current.style.width=Y[1]+"px"),$?(Th(C,"rbc-header-overflowing"),C.style.marginRight=pu()+"px"):Ph(C,"rbc-header-overflowing")}}},b=c.messages,_=c.add(n,l,"day"),S=c.range(n,_,"day");return s=s.filter(function(E){return Rc(E,c.startOf(n,"day"),c.endOf(_,"day"),t,c)}),s.sort(function(E,C){return+t.start(E)-+t.start(C)}),F.createElement("div",{className:"rbc-agenda-view"},s.length!==0?F.createElement(F.Fragment,null,F.createElement("table",{ref:h,className:"rbc-agenda-table"},F.createElement("thead",null,F.createElement("tr",null,F.createElement("th",{className:"rbc-header",ref:g},b.date),F.createElement("th",{className:"rbc-header",ref:m},b.time),F.createElement("th",{className:"rbc-header"},b.event)))),F.createElement("div",{className:"rbc-agenda-content",ref:p},F.createElement("table",{className:"rbc-agenda-table"},F.createElement("tbody",{ref:w},S.map(function(E,C){return y(E,s,C)}))))):F.createElement("span",{className:"rbc-agenda-empty"},b.noEventsInRange))}Gh.range=function(e,t){var r=t.length,n=r===void 0?Kh:r,s=t.localizer,a=s.add(e,n,"day");return{start:e,end:a}};Gh.navigate=function(e,t,r){var n=r.length,s=n===void 0?Kh:n,a=r.localizer;switch(t){case kr.PREVIOUS:return a.add(e,-s,"day");case kr.NEXT:return a.add(e,s,"day");default:return e}};Gh.title=function(e,t){var r=t.length,n=r===void 0?Kh:r,s=t.localizer,a=s.add(e,n,"day");return s.format({start:e,end:a},"agendaHeaderFormat")};var Fd=Ka(Ka(Ka(Ka(Ka({},ur.MONTH,Yh),ur.WEEK,Da),ur.WORK_WEEK,bu),ur.DAY,qh),ur.AGENDA,Gh),jQ=["action","date","today"];function _Q(e,t){var r=t.action,n=t.date,s=t.today,a=es(t,jQ);switch(e=typeof e=="string"?Fd[e]:e,r){case kr.TODAY:n=s||new Date;break;case kr.DATE:break;default:Sc(e&&typeof e.navigate=="function","Calendar View components must implement a static `.navigate(date, action)` method.s"),n=e.navigate(n,r,a)}return n}function DQ(e,t){var r=null;return typeof t=="function"?r=t(e):typeof t=="string"&&wn(e)==="object"&&e!=null&&t in e&&(r=e[t]),r}var os=function(t){return function(r){return DQ(r,t)}},kQ=["view","date","getNow","onNavigate"],EQ=["view","toolbar","events","backgroundEvents","resourceGroupingLayout","style","className","elementProps","date","getNow","length","showMultiDayTimes","onShowMore","doShowMoreDrillDown","components","formats","messages","culture"];function Jk(e){if(Array.isArray(e))return e;for(var t=[],r=0,n=Object.entries(e);r<n.length;r++){var s=zr(n[r],2),a=s[0],i=s[1];i&&t.push(a)}return t}function CQ(e,t){var r=t.views,n=Jk(r);return n.indexOf(e)!==-1}var Zk=function(e){function t(){var r;Rt(this,t);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return r=nr(this,t,[].concat(s)),r.getViews=function(){var i=r.props.views;return Array.isArray(i)?aX(i,function(l,c){return l[c]=Fd[c]},{}):wn(i)==="object"?a8(i,function(l,c){return l===!0?Fd[c]:l}):Fd},r.getView=function(){var i=r.getViews();return i[r.props.view]},r.getDrilldownView=function(i){var l=r.props,c=l.view,u=l.drilldownView,d=l.getDrilldownView;return d?d(i,c,Object.keys(r.getViews())):u},r.handleRangeChange=function(i,l,c){var u=r.props,d=u.onRangeChange,f=u.localizer;d&&l.range&&d(l.range(i,{localizer:f}),c)},r.handleNavigate=function(i,l){var c=r.props,u=c.view,d=c.date,f=c.getNow,h=c.onNavigate,g=es(c,kQ),m=r.getView(),p=f();d=_Q(m,Ze(Ze({},g),{},{action:i,date:l||d||p,today:p})),h(d,u,i),r.handleRangeChange(d,m)},r.handleViewChange=function(i){i!==r.props.view&&CQ(i,r.props)&&r.props.onView(i);var l=r.getViews();r.handleRangeChange(r.props.date||r.props.getNow(),l[i],i)},r.handleSelectEvent=function(){for(var i=arguments.length,l=new Array(i),c=0;c<i;c++)l[c]=arguments[c];it(r.props.onSelectEvent,l)},r.handleDoubleClickEvent=function(){for(var i=arguments.length,l=new Array(i),c=0;c<i;c++)l[c]=arguments[c];it(r.props.onDoubleClickEvent,l)},r.handleKeyPressEvent=function(){for(var i=arguments.length,l=new Array(i),c=0;c<i;c++)l[c]=arguments[c];it(r.props.onKeyPressEvent,l)},r.handleSelectSlot=function(i){it(r.props.onSelectSlot,i)},r.handleDrillDown=function(i,l){var c=r.props.onDrillDown;if(c){c(i,l,r.drilldownView);return}l&&r.handleViewChange(l),r.handleNavigate(kr.DATE,i)},r.state={context:t.getContext(r.props)},r}return rr(t,e),Lt(t,[{key:"render",value:function(){var n=this.props,s=n.view,a=n.toolbar,i=n.events,l=n.backgroundEvents,c=n.resourceGroupingLayout,u=n.style,d=n.className,f=n.elementProps,h=n.date,g=n.getNow,m=n.length,p=n.showMultiDayTimes,w=n.onShowMore,y=n.doShowMoreDrillDown;n.components,n.formats,n.messages,n.culture;var v=es(n,EQ);h=h||g();var x=this.getView(),b=this.state.context,_=b.accessors,S=b.components,E=b.getters,C=b.localizer,M=b.viewNames,$=S.toolbar||AX,Y=x.title(h,{localizer:C,length:m});return F.createElement("div",Object.assign({},f,{className:mt(d,"rbc-calendar",v.rtl&&"rbc-rtl"),style:u}),a&&F.createElement($,{date:h,view:s,views:M,label:Y,onView:this.handleViewChange,onNavigate:this.handleNavigate,localizer:C}),F.createElement(x,Object.assign({},v,{events:i,backgroundEvents:l,date:h,getNow:g,length:m,localizer:C,getters:E,components:S,accessors:_,showMultiDayTimes:p,getDrilldownView:this.getDrilldownView,onNavigate:this.handleNavigate,onDrillDown:this.handleDrillDown,onSelectEvent:this.handleSelectEvent,onDoubleClickEvent:this.handleDoubleClickEvent,onKeyPressEvent:this.handleKeyPressEvent,onSelectSlot:this.handleSelectSlot,onShowMore:w,doShowMoreDrillDown:y,resourceGroupingLayout:c})))}}],[{key:"getDerivedStateFromProps",value:function(n){return{context:t.getContext(n)}}},{key:"getContext",value:function(n){var s=n.startAccessor,a=n.endAccessor,i=n.allDayAccessor,l=n.tooltipAccessor,c=n.titleAccessor,u=n.resourceAccessor,d=n.resourceIdAccessor,f=n.resourceTitleAccessor,h=n.eventIdAccessor,g=n.eventPropGetter,m=n.backgroundEventPropGetter,p=n.slotPropGetter,w=n.slotGroupPropGetter,y=n.dayPropGetter,v=n.view,x=n.views,b=n.localizer,_=n.culture,S=n.messages,E=S===void 0?{}:S,C=n.components,M=C===void 0?{}:C,$=n.formats,Y=$===void 0?{}:$,J=Jk(x),G=MX(E);return{viewNames:J,localizer:PX(b,_,Y,G),getters:{eventProp:function(){return g&&g.apply(void 0,arguments)||{}},backgroundEventProp:function(){return m&&m.apply(void 0,arguments)||{}},slotProp:function(){return p&&p.apply(void 0,arguments)||{}},slotGroupProp:function(){return w&&w.apply(void 0,arguments)||{}},dayProp:function(){return y&&y.apply(void 0,arguments)||{}}},components:J7(M[v]||{},YG(M,J),{eventWrapper:Rn,backgroundEventWrapper:Rn,eventContainerWrapper:Rn,dateCellWrapper:Rn,weekWrapper:Rn,timeSlotWrapper:Rn,timeGutterWrapper:Rn,timeIndicatorWrapper:Rn}),accessors:{start:os(s),end:os(a),allDay:os(i),tooltip:os(l),title:os(c),resource:os(u),resourceId:os(d),resourceTitle:os(f),eventId:os(h)}}}}])}(F.Component);Zk.defaultProps={events:[],backgroundEvents:[],elementProps:{},popup:!1,toolbar:!0,view:ur.MONTH,views:[ur.MONTH,ur.WEEK,ur.DAY,ur.AGENDA],step:30,length:30,allDayMaxRows:1/0,doShowMoreDrillDown:!0,drilldownView:ur.DAY,titleAccessor:"title",tooltipAccessor:"title",allDayAccessor:"allDay",startAccessor:"start",endAccessor:"end",resourceAccessor:"resourceId",resourceIdAccessor:"id",resourceTitleAccessor:"title",eventIdAccessor:"id",longPressThreshold:250,getNow:function(){return new Date},dayLayoutAlgorithm:"overlap"};var TQ=_D(Zk,{view:"onView",date:"onNavigate",selected:"onSelectEvent"}),PQ=function(t,r,n){var s=t.start,a=t.end;return n.format(s,"MMMM DD",r)+" – "+n.format(a,n.eq(s,a,"month")?"DD":"MMMM DD",r)},AQ=function(t,r,n){var s=t.start,a=t.end;return n.format(s,"L",r)+" – "+n.format(a,"L",r)},up=function(t,r,n){var s=t.start,a=t.end;return n.format(s,"LT",r)+" – "+n.format(a,"LT",r)},OQ=function(t,r,n){var s=t.start;return n.format(s,"LT",r)+" – "},MQ=function(t,r,n){var s=t.end;return" – "+n.format(s,"LT",r)},$Q={dateFormat:"DD",dayFormat:"DD ddd",weekdayFormat:"ddd",selectRangeFormat:up,eventTimeRangeFormat:up,eventTimeRangeStartFormat:OQ,eventTimeRangeEndFormat:MQ,timeGutterFormat:"LT",monthHeaderFormat:"MMMM YYYY",dayHeaderFormat:"dddd MMM DD",dayRangeHeaderFormat:PQ,agendaHeaderFormat:AQ,agendaDateFormat:"ddd MMM DD",agendaTimeFormat:"LT",agendaTimeRangeFormat:up};function Us(e){var t=e&&e.toLowerCase();return t==="FullYear"?t="year":t||(t=void 0),t}function RQ(e){var t=function(W,T){return T?W.locale(T):W};function r(V){return e(V).toDate().getTimezoneOffset()}function n(V,W){var T,R,X=e(V).local(),le=e(W).local();if(!e.tz)return X.toDate().getTimezoneOffset()-le.toDate().getTimezoneOffset();var de=(T=X==null||(R=X._z)===null||R===void 0?void 0:R.name)!==null&&T!==void 0?T:e.tz.guess(),pe=e.tz.zone(de).utcOffset(+X),B=e.tz.zone(de).utcOffset(+le);return pe-B}function s(V){var W=e(V).startOf("day");return n(W,V)}function a(V,W,T){var R=Us(T),X=R?e(V).startOf(R):e(V),le=R?e(W).startOf(R):e(W);return[X,le,R]}function i(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,W=arguments.length>1?arguments[1]:void 0,T=Us(W);return T?e(V).startOf(T).toDate():e(V).toDate()}function l(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,W=arguments.length>1?arguments[1]:void 0,T=Us(W);return T?e(V).endOf(T).toDate():e(V).toDate()}function c(V,W,T){var R=a(V,W,T),X=zr(R,3),le=X[0],de=X[1],pe=X[2];return le.isSame(de,pe)}function u(V,W,T){return!c(V,W,T)}function d(V,W,T){var R=a(V,W,T),X=zr(R,3),le=X[0],de=X[1],pe=X[2];return le.isAfter(de,pe)}function f(V,W,T){var R=a(V,W,T),X=zr(R,3),le=X[0],de=X[1],pe=X[2];return le.isBefore(de,pe)}function h(V,W,T){var R=a(V,W,T),X=zr(R,3),le=X[0],de=X[1],pe=X[2];return le.isSameOrBefore(de,pe)}function g(V,W,T){var R=a(V,W,T),X=zr(R,3),le=X[0],de=X[1],pe=X[2];return le.isSameOrBefore(de,pe)}function m(V,W,T){var R=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"day",X=Us(R),le=e(V),de=e(W),pe=e(T);return le.isBetween(de,pe,X,"[]")}function p(V,W){var T=e(V),R=e(W),X=e.min(T,R);return X.toDate()}function w(V,W){var T=e(V),R=e(W),X=e.max(T,R);return X.toDate()}function y(V,W){if(!V&&!W)return null;var T=e(W).format("HH:mm:ss"),R=e(V).startOf("day").format("MM/DD/YYYY");return e("".concat(R," ").concat(T),"MM/DD/YYYY HH:mm:ss").toDate()}function v(V,W,T){var R=Us(T);return e(V).add(W,R).toDate()}function x(V,W){for(var T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",R=Us(T),X=e(V).toDate(),le=[];g(X,W);)le.push(X),X=v(X,1,R);return le}function b(V,W){var T=Us(W),R=i(V,T);return c(R,V)?R:v(R,1,T)}function _(V,W){var T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",R=Us(T),X=e(V),le=e(W);return le.diff(X,R)}function S(V){var W=e(V);return W.minutes()}function E(V){var W=V?e.localeData(V):e.localeData();return W?W.firstDayOfWeek():0}function C(V){return e(V).startOf("month").startOf("week").toDate()}function M(V){return e(V).endOf("month").endOf("week").toDate()}function $(V){for(var W=C(V),T=M(V),R=[];g(W,T);)R.push(W),W=v(W,1,"d");return R}function Y(V,W,T){return e(V).startOf("day").minute(W+T).toDate()}function J(V,W){return _(V,W,"minutes")}function G(V){var W=e(V).startOf("day"),T=e(V);return T.diff(W,"minutes")+s(V)}function se(V,W){var T=e(V),R=e(W);return T.isBefore(R,"day")}function ce(V,W,T){var R=e(W),X=e(T);return R.isSameOrAfter(X,"minutes")}function Z(V,W){var T=e(V),R=e(W),X=e.duration(R.diff(T));return X.days()}function he(V){var W=V.evtA,T=W.start,R=W.end,X=W.allDay,le=V.evtB,de=le.start,pe=le.end,B=le.allDay,O=+i(T,"day")-+i(de,"day"),q=Z(T,R),A=Z(de,pe);return O||A-q||!!B-!!X||+T-+de||+R-+pe}function te(V){var W=V.event,T=W.start,R=W.end,X=V.range,le=X.start,de=X.end,pe=e(T).startOf("day"),B=e(R),O=e(le),q=e(de),A=pe.isSameOrBefore(q,"day"),H=!pe.isSame(B,"minutes"),ae=H?B.isAfter(O,"minutes"):B.isSameOrAfter(O,"minutes");return A&&ae}function U(V,W){var T=e(V),R=e(W);return T.isSame(R,"day")}function oe(){var V=new Date,W=/-/.test(V.toString())?"-":"",T=V.getTimezoneOffset(),R=Number("".concat(W).concat(Math.abs(T))),X=e().utcOffset();return X>R?1:0}return new TX({formats:$Q,firstOfWeek:E,firstVisibleDay:C,lastVisibleDay:M,visibleDays:$,format:function(W,T,R){return t(e(W),R).format(T)},lt:f,lte:g,gt:d,gte:h,eq:c,neq:u,merge:y,inRange:m,startOf:i,endOf:l,range:x,add:v,diff:_,ceil:b,min:p,max:w,minutes:S,getSlotDate:Y,getTimezoneOffset:r,getDstOffset:n,getTotalMin:J,getMinutesFromMidnight:G,continuesPrior:se,continuesAfter:ce,sortEvents:he,inEventRange:te,isSameDate:U,daySpan:Z,browserTZOffset:oe})}var g0={},eE={exports:{}};(function(e){function t(r){return r&&r.__esModule?r:{default:r}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(eE);var sr=eE.exports,y0={},tE={exports:{}},rE={exports:{}},nE={exports:{}},sE={exports:{}};(function(e){function t(r){"@babel/helpers - typeof";return e.exports=t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(sE);var sl=sE.exports,aE={exports:{}};(function(e){var t=sl.default;function r(n,s){if(t(n)!="object"||!n)return n;var a=n[Symbol.toPrimitive];if(a!==void 0){var i=a.call(n,s||"default");if(t(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(n)}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports})(aE);var LQ=aE.exports;(function(e){var t=sl.default,r=LQ;function n(s){var a=r(s,"string");return t(a)=="symbol"?a:a+""}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports})(nE);var iE=nE.exports;(function(e){var t=iE;function r(n,s,a){return(s=t(s))in n?Object.defineProperty(n,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[s]=a,n}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports})(rE);var oE=rE.exports;(function(e){var t=oE;function r(s,a){var i=Object.keys(s);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(s);a&&(l=l.filter(function(c){return Object.getOwnPropertyDescriptor(s,c).enumerable})),i.push.apply(i,l)}return i}function n(s){for(var a=1;a<arguments.length;a++){var i=arguments[a]!=null?arguments[a]:{};a%2?r(Object(i),!0).forEach(function(l){t(s,l,i[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach(function(l){Object.defineProperty(s,l,Object.getOwnPropertyDescriptor(i,l))})}return s}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports})(tE);var Ra=tE.exports,lE={exports:{}},cE={exports:{}};(function(e){function t(r,n){if(r==null)return{};var s={};for(var a in r)if({}.hasOwnProperty.call(r,a)){if(n.indexOf(a)!==-1)continue;s[a]=r[a]}return s}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(cE);var IQ=cE.exports;(function(e){var t=IQ;function r(n,s){if(n==null)return{};var a,i,l=t(n,s);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(n);for(i=0;i<c.length;i++)a=c[i],s.indexOf(a)===-1&&{}.propertyIsEnumerable.call(n,a)&&(l[a]=n[a])}return l}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports})(lE);var v0=lE.exports,uE={exports:{}};(function(e){function t(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(uE);var Ci=uE.exports,dE={exports:{}};(function(e){var t=iE;function r(s,a){for(var i=0;i<a.length;i++){var l=a[i];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(s,t(l.key),l)}}function n(s,a,i){return a&&r(s.prototype,a),i&&r(s,i),Object.defineProperty(s,"prototype",{writable:!1}),s}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports})(dE);var Ti=dE.exports,fE={exports:{}},hE={exports:{}};(function(e){function t(r){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(hE);var FQ=hE.exports,mE={exports:{}};(function(e){function t(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(e.exports=t=function(){return!!r},e.exports.__esModule=!0,e.exports.default=e.exports)()}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(mE);var WQ=mE.exports,pE={exports:{}},gE={exports:{}};(function(e){function t(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(gE);var BQ=gE.exports;(function(e){var t=sl.default,r=BQ;function n(s,a){if(a&&(t(a)=="object"||typeof a=="function"))return a;if(a!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return r(s)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports})(pE);var UQ=pE.exports;(function(e){var t=FQ,r=WQ,n=UQ;function s(a,i,l){return i=t(i),n(a,r()?Reflect.construct(i,l||[],t(a).constructor):i.apply(a,l))}e.exports=s,e.exports.__esModule=!0,e.exports.default=e.exports})(fE);var al=fE.exports,yE={exports:{}},vE={exports:{}};(function(e){function t(r,n){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},e.exports.__esModule=!0,e.exports.default=e.exports,t(r,n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(vE);var HQ=vE.exports;(function(e){var t=HQ;function r(n,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(s&&s.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),s&&t(n,s)}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports})(yE);var il=yE.exports;const wu=Yc(aF);var mn={},Lo={};Object.defineProperty(Lo,"__esModule",{value:!0});Lo.views=Lo.navigate=void 0;Lo.navigate={PREVIOUS:"PREV",NEXT:"NEXT",TODAY:"TODAY",DATE:"DATE"};Lo.views={MONTH:"month",WEEK:"week",WORK_WEEK:"work_week",DAY:"day",AGENDA:"agenda"};var zQ=sr.default;Object.defineProperty(mn,"__esModule",{value:!0});mn.views=mn.dateRangeFormat=mn.dateFormat=mn.accessor=mn.DayLayoutAlgorithmPropType=void 0;var vr=zQ(kv),L1=Lo,I1=Object.keys(L1.views).map(function(e){return L1.views[e]});mn.accessor=vr.default.oneOfType([vr.default.string,vr.default.func]);mn.dateFormat=vr.default.any;mn.dateRangeFormat=vr.default.func;mn.views=vr.default.oneOfType([vr.default.arrayOf(vr.default.oneOf(I1)),vr.default.objectOf(function(e,t){var r=I1.indexOf(t)!==-1&&typeof e[t]=="boolean";if(r)return null;for(var n=arguments.length,s=new Array(n>2?n-2:0),a=2;a<n;a++)s[a-2]=arguments[a];return vr.default.elementType.apply(vr.default,[e,t].concat(s))})]);mn.DayLayoutAlgorithmPropType=vr.default.oneOfType([vr.default.oneOf(["overlap","no-overlap"]),vr.default.func]);var Xh={},ol={},VQ=sr.default;Object.defineProperty(ol,"__esModule",{value:!0});ol.accessor=xE;ol.wrapAccessor=void 0;var YQ=VQ(sl);function xE(e,t){var r=null;return typeof t=="function"?r=t(e):typeof t=="string"&&(0,YQ.default)(e)==="object"&&e!=null&&t in e&&(r=e[t]),r}ol.wrapAccessor=function(t){return function(r){return xE(r,t)}};var Pi={},qQ=sr.default;Object.defineProperty(Pi,"__esModule",{value:!0});Pi.DnDContext=void 0;var KQ=qQ(N);Pi.DnDContext=KQ.default.createContext();var Ai=sr.default;Object.defineProperty(Xh,"__esModule",{value:!0});Xh.default=void 0;var GQ=Ai(Ra),XQ=Ai(Ci),QQ=Ai(Ti),JQ=Ai(al),ZQ=Ai(il),Li=Ai(N),F1=Ai(wu),W1=ol,eJ=Pi,bE=function(e){function t(){var r;(0,XQ.default)(this,t);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return r=(0,JQ.default)(this,t,[].concat(s)),r.handleResizeUp=function(i){i.button===0&&r.context.draggable.onBeginAction(r.props.event,"resize","UP")},r.handleResizeDown=function(i){i.button===0&&r.context.draggable.onBeginAction(r.props.event,"resize","DOWN")},r.handleResizeLeft=function(i){i.button===0&&r.context.draggable.onBeginAction(r.props.event,"resize","LEFT")},r.handleResizeRight=function(i){i.button===0&&r.context.draggable.onBeginAction(r.props.event,"resize","RIGHT")},r.handleStartDragging=function(i){var l;if(i.button===0){var c=(l=i.target.getAttribute("class"))===null||l===void 0?void 0:l.includes("rbc-addons-dnd-resize");if(!c){var u=(0,GQ.default)({},r.props.event);u.sourceResource=r.props.resource,r.context.draggable.onBeginAction(r.props.event,"move")}}},r}return(0,ZQ.default)(t,e),(0,QQ.default)(t,[{key:"renderAnchor",value:function(n){var s=n==="Up"||n==="Down"?"ns":"ew";return Li.default.createElement("div",{className:"rbc-addons-dnd-resize-".concat(s,"-anchor"),onMouseDown:this["handleResize".concat(n)]},Li.default.createElement("div",{className:"rbc-addons-dnd-resize-".concat(s,"-icon")}))}},{key:"render",value:function(){var n=this.props,s=n.event,a=n.type,i=n.continuesPrior,l=n.continuesAfter,c=n.resizable,u=this.props.children;if(s.__isPreview)return Li.default.cloneElement(u,{className:(0,F1.default)(u.props.className,"rbc-addons-dnd-drag-preview")});var d=this.context.draggable,f=d.draggableAccessor,h=d.resizableAccessor,g=f?!!(0,W1.accessor)(s,f):!0;if(!g)return u;var m=c&&(h?!!(0,W1.accessor)(s,h):!0);if(m||g){var p={onMouseDown:this.handleStartDragging,onTouchStart:this.handleStartDragging};if(m){var w=null,y=null;a==="date"?(w=!i&&this.renderAnchor("Left"),y=!l&&this.renderAnchor("Right")):(w=!i&&this.renderAnchor("Up"),y=!l&&this.renderAnchor("Down")),p.children=Li.default.createElement("div",{className:"rbc-addons-dnd-resizable"},w,u.props.children,y)}d.dragAndDropAction.interacting&&d.dragAndDropAction.event===s&&(p.className=(0,F1.default)(u.props.className,"rbc-addons-dnd-dragged-event")),u=Li.default.cloneElement(u,p)}return u}}])}(Li.default.Component);bE.contextType=eJ.DnDContext;Xh.default=bE;var Qh={},wE={exports:{}};(function(e){var t=sl.default;function r(n,s){if(typeof WeakMap=="function")var a=new WeakMap,i=new WeakMap;return(e.exports=r=function(c,u){if(!u&&c&&c.__esModule)return c;var d,f,h={__proto__:null,default:c};if(c===null||t(c)!="object"&&typeof c!="function")return h;if(d=u?i:a){if(d.has(c))return d.get(c);d.set(c,h)}for(var g in c)g!=="default"&&{}.hasOwnProperty.call(c,g)&&((f=(d=Object.defineProperty)&&Object.getOwnPropertyDescriptor(c,g))&&(f.get||f.set)?d(h,g,f):h[g]=c[g]);return h},e.exports.__esModule=!0,e.exports.default=e.exports)(n,s)}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports})(wE);var NE=wE.exports;function x0(e,t,r,n){if(r===void 0&&(r=!1),n===void 0&&(n=!0),e){var s=document.createEvent("HTMLEvents");s.initEvent(t,r,n),e.dispatchEvent(s)}}function tJ(e){var t=Ht(e,"transitionDuration")||"",r=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*r}function rJ(e,t,r){r===void 0&&(r=5);var n=!1,s=setTimeout(function(){n||x0(e,"transitionend",!0)},t+r),a=qn(e,"transitionend",function(){n=!0},{once:!0});return function(){clearTimeout(s),a()}}function b0(e,t,r,n){r==null&&(r=tJ(e)||0);var s=rJ(e,r,n),a=qn(e,"transitionend",t);return function(){s(),a()}}var B1={transition:"","transition-duration":"","transition-delay":"","transition-timing-function":""};function U1(e){var t=e.node,r=e.properties,n=e.duration,s=n===void 0?200:n,a=e.easing,i=e.callback,l=[],c={},u="";Object.keys(r).forEach(function(h){var g=r[h];HD(h)?u+=h+"("+g+") ":(c[h]=g,l.push(UD(h)))}),u&&(c.transform=u,l.push("transform"));function d(h){h.target===h.currentTarget&&(Ht(t,B1),i&&i.call(this,h))}s>0&&(c.transition=l.join(", "),c["transition-duration"]=s/1e3+"s",c["transition-delay"]="0s",c["transition-timing-function"]=a||"linear");var f=b0(t,d,s);return t.clientLeft,Ht(t,c),{cancel:function(){f(),Ht(t,B1)}}}function SE(e,t,r,n,s){if(!("nodeType"in e))return U1(e);if(!t)throw new Error("must include properties to animate");return typeof n=="function"&&(s=n,n=""),U1({node:e,properties:t,duration:r,easing:n,callback:s})}function jE(e,t,r){if(e){if(typeof r>"u")return e.getAttribute(t);!r&&r!==""?e.removeAttribute(t):e.setAttribute(t,String(r))}}function _E(e){return e?Array.from(e.children):[]}function DE(e){if(e){for(;e.firstChild;)e.removeChild(e.firstChild);return e}return null}var nJ=Function.prototype.bind.call(Function.prototype.call,[].slice);function kE(e){return e?nJ(e.childNodes):[]}function EE(e,t){return function(n){var s=n.currentTarget,a=n.target,i=kh(s,e);i.some(function(l){return Ts(l,a)})&&t.call(this,n)}}function CE(e,t){return e&&t&&t.parentNode?(t.nextSibling?t.parentNode.insertBefore(e,t.nextSibling):t.parentNode.appendChild(e),e):null}var sJ=/^(?:input|select|textarea|button)$/i;function TE(e){return e?sJ.test(e.nodeName):!1}function PE(e){return e?!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length):!1}function AE(e,t,r){t===void 0&&(t=null),r===void 0&&(r=null);for(var n=[];e;e=e.nextElementSibling)if(e!==t){if(r&&Dh(e,r))break;n.push(e)}return n}function OE(e,t){return AE(e,e,t)}function aJ(e,t){var r=null,n=[];for(r=e?e[t]:null;r&&r.nodeType!==9;)n.push(r),r=r[t]||null;return n}function ME(e){return aJ(e,"parentElement")}function $E(e,t){return e&&t?(t.firstElementChild?t.insertBefore(e,t.firstElementChild):t.appendChild(e),e):null}function RE(e){return e&&e.parentNode?(e.parentNode.removeChild(e),e):null}function w0(e,t){var r=Ht(e,"position"),n=r==="absolute",s=e.ownerDocument;if(r==="fixed")return s||document;for(;(e=e.parentNode)&&!zD(e);){var a=n&&Ht(e,"position")==="static",i=(Ht(e,"overflow")||"")+(Ht(e,"overflow-y")||"")+Ht(e,"overflow-x");if(!a&&/(auto|scroll)/.test(i)&&(t||di(e)<e.scrollHeight))return e}return s||document}function LE(e,t){var r=vn(e),n={top:0,left:0};if(e){var s=t||w0(e),a=Sh(s),i=Ao(s),l=di(s,!0);a||(n=vn(s)),r={top:r.top-n.top,left:r.left-n.left,height:r.height,width:r.width};var c=r.height,u=r.top+(a?0:i),d=u+c;i=i>u?u:d>i+l?d-l:i;var f=fu(function(){return Ao(s,i)});return function(){return Ac(f)}}}function IE(e){return AE(e&&e.parentElement?e.parentElement.firstElementChild:null,e)}var iJ=/&nbsp;/gi,oJ=/\xA0/g,lJ=/\s+([^\s])/gm;function FE(e,t,r){t===void 0&&(t=!0),r===void 0&&(r=!0);var n="";return e&&(n=(e.textContent||"").replace(iJ," ").replace(oJ," "),t&&(n=n.trim()),r&&(n=n.replace(lJ," $1"))),n}function WE(e,t){e.classList?e.classList.toggle(t):Ch(e,t)?Ph(e,t):Th(e,t)}const cJ={addEventListener:Lv,removeEventListener:Yv,triggerEvent:x0,animate:SE,filter:EE,listen:qn,style:Ht,getComputedStyle:Mv,attribute:jE,activeElement:ek,ownerDocument:Ma,ownerWindow:Ov,requestAnimationFrame:fu,cancelAnimationFrame:Ac,matches:Dh,height:di,width:$c,offset:vn,offsetParent:$v,position:_h,contains:Ts,scrollbarSize:pu,scrollLeft:jh,scrollParent:w0,scrollTo:LE,scrollTop:Ao,querySelectorAll:kh,closest:yu,addClass:Th,removeClass:Ph,hasClass:Ch,toggleClass:WE,transitionEnd:b0,childNodes:kE,childElements:_E,nextUntil:OE,parents:ME,siblings:IE,clear:DE,insertAfter:CE,isInput:TE,isVisible:PE,prepend:$E,remove:RE,text:FE},uJ=Object.freeze(Object.defineProperty({__proto__:null,activeElement:ek,addClass:Th,addEventListener:Lv,animate:SE,attribute:jE,cancelAnimationFrame:Ac,childElements:_E,childNodes:kE,clear:DE,closest:yu,contains:Ts,default:cJ,filter:EE,getComputedStyle:Mv,hasClass:Ch,height:di,insertAfter:CE,isInput:TE,isVisible:PE,listen:qn,matches:Dh,nextUntil:OE,offset:vn,offsetParent:$v,ownerDocument:Ma,ownerWindow:Ov,parents:ME,position:_h,prepend:$E,querySelectorAll:kh,remove:RE,removeClass:Ph,removeEventListener:Yv,requestAnimationFrame:fu,scrollLeft:jh,scrollParent:w0,scrollTo:LE,scrollTop:Ao,scrollbarSize:pu,siblings:IE,style:Ht,text:FE,toggleClass:WE,transitionEnd:b0,triggerEvent:x0,width:$c},Symbol.toStringTag,{value:"Module"})),dJ=Yc(uJ);var Xg={exports:{}};(function(e,t){t.__esModule=!0,t.default=n;var r=Function.prototype.bind.call(Function.prototype.call,[].slice);function n(s,a){return r(s.querySelectorAll(a))}e.exports=t.default})(Xg,Xg.exports);var fJ=Xg.exports,En={};const hJ=Yc(Z4),mJ=Yc(t9),pJ=Yc(m6);var ll=sr.default;Object.defineProperty(En,"__esModule",{value:!0});En.default=void 0;En.getBoundsForNode=Ic;En.getEventNodeFromPoint=UE;En.getShowMoreNodeFromPoint=HE;En.isEvent=wJ;En.isShowMore=NJ;En.objectsCollide=Jg;var gJ=ll(sl),yJ=ll(Ci),vJ=ll(Ti),Qg=ll(hJ),BE=ll(mJ),xJ=ll(pJ);function Qt(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document;return(0,xJ.default)(r,e,t,{passive:!1})}function bJ(e,t,r){return!e||(0,Qg.default)(e,document.elementFromPoint(t,r))}function UE(e,t){var r=t.clientX,n=t.clientY,s=document.elementFromPoint(r,n);return(0,BE.default)(s,".rbc-event",e)}function HE(e,t){var r=t.clientX,n=t.clientY,s=document.elementFromPoint(r,n);return(0,BE.default)(s,".rbc-show-more",e)}function wJ(e,t){return!!UE(e,t)}function NJ(e,t){return!!HE(e,t)}function kl(e){var t=e;return e.touches&&e.touches.length&&(t=e.touches[0]),{clientX:t.clientX,clientY:t.clientY,pageX:t.pageX,pageY:t.pageY}}var H1=5,SJ=250,jJ=function(){function e(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.global,s=n===void 0?!1:n,a=r.longPressThreshold,i=a===void 0?250:a,l=r.validContainers,c=l===void 0?[]:l;(0,yJ.default)(this,e),this._initialEvent=null,this.selecting=!1,this.isDetached=!1,this.container=t,this.globalMouse=!t||s,this.longPressThreshold=i,this.validContainers=c,this._listeners=Object.create(null),this._handleInitialEvent=this._handleInitialEvent.bind(this),this._handleMoveEvent=this._handleMoveEvent.bind(this),this._handleTerminatingEvent=this._handleTerminatingEvent.bind(this),this._keyListener=this._keyListener.bind(this),this._dropFromOutsideListener=this._dropFromOutsideListener.bind(this),this._dragOverFromOutsideListener=this._dragOverFromOutsideListener.bind(this),this._removeTouchMoveWindowListener=Qt("touchmove",function(){},window),this._removeKeyDownListener=Qt("keydown",this._keyListener),this._removeKeyUpListener=Qt("keyup",this._keyListener),this._removeDropFromOutsideListener=Qt("drop",this._dropFromOutsideListener),this._removeDragOverFromOutsideListener=Qt("dragover",this._dragOverFromOutsideListener),this._addInitialEventListener()}return(0,vJ.default)(e,[{key:"on",value:function(r,n){var s=this._listeners[r]||(this._listeners[r]=[]);return s.push(n),{remove:function(){var i=s.indexOf(n);i!==-1&&s.splice(i,1)}}}},{key:"emit",value:function(r){for(var n=arguments.length,s=new Array(n>1?n-1:0),a=1;a<n;a++)s[a-1]=arguments[a];var i,l=this._listeners[r]||[];return l.forEach(function(c){i===void 0&&(i=c.apply(void 0,s))}),i}},{key:"teardown",value:function(){this._initialEvent=null,this._initialEventData=null,this._selectRect=null,this.selecting=!1,this._lastClickData=null,this.isDetached=!0,this._listeners=Object.create(null),this._removeTouchMoveWindowListener&&this._removeTouchMoveWindowListener(),this._removeInitialEventListener&&this._removeInitialEventListener(),this._removeEndListener&&this._removeEndListener(),this._onEscListener&&this._onEscListener(),this._removeMoveListener&&this._removeMoveListener(),this._removeKeyUpListener&&this._removeKeyUpListener(),this._removeKeyDownListener&&this._removeKeyDownListener(),this._removeDropFromOutsideListener&&this._removeDropFromOutsideListener(),this._removeDragOverFromOutsideListener&&this._removeDragOverFromOutsideListener()}},{key:"isSelected",value:function(r){var n=this._selectRect;return!n||!this.selecting?!1:Jg(n,Ic(r))}},{key:"filter",value:function(r){var n=this._selectRect;return!n||!this.selecting?[]:r.filter(this.isSelected,this)}},{key:"_addLongPressListener",value:function(r,n){var s=this,a=null,i=null,l=null,c=function(h){a=setTimeout(function(){d(),r(h)},s.longPressThreshold),i=Qt("touchmove",function(){return d()}),l=Qt("touchend",function(){return d()})},u=Qt("touchstart",c),d=function(){a&&clearTimeout(a),i&&i(),l&&l(),a=null,i=null,l=null};return n&&c(n),function(){d(),u()}}},{key:"_addInitialEventListener",value:function(){var r=this,n=Qt("mousedown",function(a){r._removeInitialEventListener(),r._handleInitialEvent(a),r._removeInitialEventListener=Qt("mousedown",r._handleInitialEvent)}),s=Qt("touchstart",function(a){r._removeInitialEventListener(),r._removeInitialEventListener=r._addLongPressListener(r._handleInitialEvent,a)});this._removeInitialEventListener=function(){n(),s()}}},{key:"_dropFromOutsideListener",value:function(r){var n=kl(r),s=n.pageX,a=n.pageY,i=n.clientX,l=n.clientY;this.emit("dropFromOutside",{x:s,y:a,clientX:i,clientY:l}),r.preventDefault()}},{key:"_dragOverFromOutsideListener",value:function(r){var n=kl(r),s=n.pageX,a=n.pageY,i=n.clientX,l=n.clientY;this.emit("dragOverFromOutside",{x:s,y:a,clientX:i,clientY:l}),r.preventDefault()}},{key:"_handleInitialEvent",value:function(r){if(this._initialEvent=r,!this.isDetached){var n=kl(r),s=n.clientX,a=n.clientY,i=n.pageX,l=n.pageY,c=this.container(),u,d;if(!(r.which===3||r.button===2||!bJ(c,s,a))){if(!this.globalMouse&&c&&!(0,Qg.default)(c,r.target)){var f=_J(0),h=f.top,g=f.left,m=f.bottom,p=f.right;if(d=Ic(c),u=Jg({top:d.top-h,left:d.left-g,bottom:d.bottom+m,right:d.right+p},{top:l,left:i}),!u)return}var w=this.emit("beforeSelect",this._initialEventData={isTouch:/^touch/.test(r.type),x:i,y:l,clientX:s,clientY:a});if(w!==!1)switch(r.type){case"mousedown":this._removeEndListener=Qt("mouseup",this._handleTerminatingEvent),this._onEscListener=Qt("keydown",this._handleTerminatingEvent),this._removeMoveListener=Qt("mousemove",this._handleMoveEvent);break;case"touchstart":this._handleMoveEvent(r),this._removeEndListener=Qt("touchend",this._handleTerminatingEvent),this._removeMoveListener=Qt("touchmove",this._handleMoveEvent);break}}}}},{key:"_isWithinValidContainer",value:function(r){var n=r.target,s=this.validContainers;return!s||!s.length||!n?!0:s.some(function(a){return!!n.closest(a)})}},{key:"_handleTerminatingEvent",value:function(r){var n=this.selecting,s=this._selectRect;if(!n&&r.type.includes("key")&&(r=this._initialEvent),this.selecting=!1,this._removeEndListener&&this._removeEndListener(),this._removeMoveListener&&this._removeMoveListener(),this._selectRect=null,this._initialEvent=null,this._initialEventData=null,!!r){var a=!this.container||(0,Qg.default)(this.container(),r.target),i=this._isWithinValidContainer(r);return r.key==="Escape"||!i?this.emit("reset"):!n&&a?this._handleClickEvent(r):n?this.emit("select",s):this.emit("reset")}}},{key:"_handleClickEvent",value:function(r){var n=kl(r),s=n.pageX,a=n.pageY,i=n.clientX,l=n.clientY,c=new Date().getTime();return this._lastClickData&&c-this._lastClickData.timestamp<SJ?(this._lastClickData=null,this.emit("doubleClick",{x:s,y:a,clientX:i,clientY:l})):(this._lastClickData={timestamp:c},this.emit("click",{x:s,y:a,clientX:i,clientY:l}))}},{key:"_handleMoveEvent",value:function(r){if(!(this._initialEventData===null||this.isDetached)){var n=this._initialEventData,s=n.x,a=n.y,i=kl(r),l=i.pageX,c=i.pageY,u=Math.abs(s-l),d=Math.abs(a-c),f=Math.min(l,s),h=Math.min(c,a),g=this.selecting,m=this.isClick(l,c);m&&!g&&!(u||d)||(!g&&!m&&this.emit("selectStart",this._initialEventData),m||(this.selecting=!0,this._selectRect={top:h,left:f,x:l,y:c,right:f+u,bottom:h+d},this.emit("selecting",this._selectRect)),r.preventDefault())}}},{key:"_keyListener",value:function(r){this.ctrl=r.metaKey||r.ctrlKey}},{key:"isClick",value:function(r,n){var s=this._initialEventData,a=s.x,i=s.y,l=s.isTouch;return!l&&Math.abs(r-a)<=H1&&Math.abs(n-i)<=H1}}])}();function _J(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return(0,gJ.default)(e)!=="object"&&(e={top:e,left:e,right:e,bottom:e}),e}function Jg(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,n=Ic(e),s=n.top,a=n.left,i=n.right,l=i===void 0?a:i,c=n.bottom,u=c===void 0?s:c,d=Ic(t),f=d.top,h=d.left,g=d.right,m=g===void 0?h:g,p=d.bottom,w=p===void 0?f:p;return!(u-r<f||s+r>w||l-r<h||a+r>m)}function Ic(e){if(!e.getBoundingClientRect)return e;var t=e.getBoundingClientRect(),r=t.left+z1("left"),n=t.top+z1("top");return{top:n,left:r,right:(e.offsetWidth||0)+r,bottom:(e.offsetHeight||0)+n}}function z1(e){if(e==="left")return window.pageXOffset||document.body.scrollLeft||0;if(e==="top")return window.pageYOffset||document.body.scrollTop||0}En.default=jJ;var Jh={},Zh=sr.default;Object.defineProperty(Jh,"__esModule",{value:!0});Jh.default=void 0;var DJ=Zh(oE),V1=Zh(Ra),kJ=Zh(wu),El=Zh(N);function sd(e){return typeof e=="string"?e:e+"%"}function EJ(e){var t=e.style,r=e.className,n=e.event,s=e.accessors,a=e.rtl,i=e.selected,l=e.label,c=e.continuesPrior,u=e.continuesAfter,d=e.getters,f=e.onClick,h=e.onDoubleClick,g=e.isBackgroundEvent,m=e.onKeyPress,p=e.components,w=p.event,y=p.eventWrapper,v=s.title(n),x=s.tooltip(n),b=s.end(n),_=s.start(n),S=d.eventProp(n,_,b,i),E=[El.default.createElement("div",{key:"1",className:"rbc-event-label"},l),El.default.createElement("div",{key:"2",className:"rbc-event-content"},w?El.default.createElement(w,{event:n,title:v}):v)],C=t.height,M=t.top,$=t.width,Y=t.xOffset,J=(0,V1.default)((0,V1.default)({},S.style),{},(0,DJ.default)({top:sd(M),height:sd(C),width:sd($)},a?"right":"left",sd(Y)));return El.default.createElement(y,Object.assign({type:"time"},e),El.default.createElement("div",{role:"button",tabIndex:0,onClick:f,onDoubleClick:h,style:J,onKeyDown:m,title:x?(typeof l=="string"?l+": ":"")+x:void 0,className:(0,kJ.default)(g?"rbc-background-event":"rbc-event",r,S.className,{"rbc-selected":i,"rbc-event-continues-earlier":c,"rbc-event-continues-later":u})},E))}Jh.default=EJ;var Rs={},zE=sr.default;Object.defineProperty(Rs,"__esModule",{value:!0});Rs.dragAccessors=void 0;Rs.eventTimes=RJ;Rs.mergeComponents=MJ;Rs.pointInColumn=$J;var CJ=zE(Ra),TJ=zE(v0),Y1=ol,PJ=N,AJ=["children"];Rs.dragAccessors={start:(0,Y1.wrapAccessor)(function(e){return e.start}),end:(0,Y1.wrapAccessor)(function(e){return e.end})};function OJ(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=function(a){var i=a.children,l=(0,TJ.default)(a,AJ);return t.filter(Boolean).reduceRight(function(c,u){return(0,PJ.createElement)(u,l,c)},i)};return n}function MJ(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,r=Object.keys(t),n=(0,CJ.default)({},e);return r.forEach(function(s){n[s]=e[s]?OJ(e[s],t[s]):t[s]}),n}function $J(e,t){var r=e.left,n=e.right,s=e.top,a=t.x,i=t.y;return a<n+10&&a>r&&i>s}function RJ(e,t,r){var n=t.start(e),s=t.end(e),a=r.eq(n,s,"minutes")&&r.diff(n,s,"minutes")===0;a&&(s=r.add(s,1,"day"));var i=r.diff(n,s,"milliseconds");return{start:n,end:s,duration:i}}var LJ=NE.default,La=sr.default;Object.defineProperty(Qh,"__esModule",{value:!0});Qh.default=void 0;var Hs=La(Ra),IJ=La(Ci),FJ=La(Ti),WJ=La(al),BJ=La(il),dp=dJ,UJ=La(fJ),Ua=La(N),HJ=Pi,zs=LJ(En),zJ=La(Jh),ls=Rs,VE=function(e){function t(){var r;(0,IJ.default)(this,t);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return r=(0,WJ.default)(this,t,[].concat(s)),r.handleMove=function(i,l){if(!(0,ls.pointInColumn)(l,i))return r.reset();var c=r.context.draggable.dragAndDropAction.event,u=r.props,d=u.accessors,f=u.slotMetrics,h=f.closestSlotFromPoint({y:i.y-r.eventOffsetTop,x:i.x},l),g=(0,ls.eventTimes)(c,d,r.props.localizer),m=g.duration,p=r.props.localizer.add(h,m,"milliseconds");r.update(c,f.getRange(h,p,!1,!0))},r.handleDropFromOutside=function(i,l){var c=r.props,u=c.slotMetrics,d=c.resource,f=u.closestSlotFromPoint({y:i.y,x:i.x},l),h=r._calculateDnDEnd(f);r.context.draggable.onDropFromOutside({start:f,end:h,allDay:!1,resource:d}),r.reset()},r.handleDragOverFromOutside=function(i,l){var c=r.props.slotMetrics,u=c.closestSlotFromPoint({y:i.y,x:i.x},l),d=r._calculateDnDEnd(u),f=r.context.draggable.dragFromOutsideItem();r.update(f,c.getRange(u,d,!1,!0))},r._calculateDnDEnd=function(i){var l=r.props,c=l.accessors,u=l.slotMetrics,d=l.localizer,f=r.context.draggable.dragFromOutsideItem(),h=(0,ls.eventTimes)(f,c,d),g=h.duration,m=u.nextSlot(i),p=!isNaN(g);if(p){var w=d.add(i,g,"milliseconds");m=new Date(Math.max(w,m))}return m},r.updateParentScroll=function(i,l){setTimeout(function(){var c=(0,UJ.default)(l,".rbc-addons-dnd-drag-preview")[0];c&&(c.offsetTop<i.scrollTop?(0,dp.scrollTop)(i,Math.max(c.offsetTop,0)):c.offsetTop+c.offsetHeight>i.scrollTop+i.clientHeight&&(0,dp.scrollTop)(i,Math.min(c.offsetTop-i.offsetHeight+c.offsetHeight,i.scrollHeight)))})},r._selectable=function(){var i=r.ref.current,l=i.children[0],c=!1,u=r._selector=new zs.default(function(){return i.closest(".rbc-time-view")}),d=(0,dp.scrollParent)(i);u.on("beforeSelect",function(f){var h=r.context.draggable.dragAndDropAction;if(!h.action)return!1;if(h.action==="resize")return(0,ls.pointInColumn)((0,zs.getBoundsForNode)(l),f);var g=(0,zs.getEventNodeFromPoint)(l,f);if(!g)return!1;r.eventOffsetTop=f.y-(0,zs.getBoundsForNode)(g).top}),u.on("selecting",function(f){var h=(0,zs.getBoundsForNode)(l),g=r.context.draggable.dragAndDropAction;g.action==="move"&&(r.updateParentScroll(d,l),r.handleMove(f,h)),g.action==="resize"&&(r.updateParentScroll(d,l),r.handleResize(f,h))}),u.on("dropFromOutside",function(f){if(r.context.draggable.onDropFromOutside){var h=(0,zs.getBoundsForNode)(l);(0,ls.pointInColumn)(h,f)&&r.handleDropFromOutside(f,h)}}),u.on("dragOverFromOutside",function(f){var h=r.context.draggable.dragFromOutsideItem?r.context.draggable.dragFromOutsideItem():null;if(h){var g=(0,zs.getBoundsForNode)(l);if(!(0,ls.pointInColumn)(g,f))return r.reset();r.handleDragOverFromOutside(f,g)}}),u.on("selectStart",function(){c=!0,r.context.draggable.onStart()}),u.on("select",function(f){var h=(0,zs.getBoundsForNode)(l);c=!1;var g=r.context.draggable.dragAndDropAction;if(g.action==="resize")r.handleInteractionEnd();else{if(!r.state.event||!(0,ls.pointInColumn)(h,f))return;r.handleInteractionEnd()}}),u.on("click",function(){c&&r.reset(),r.context.draggable.onEnd(null)}),u.on("reset",function(){r.reset(),r.context.draggable.onEnd(null)})},r.handleInteractionEnd=function(){var i=r.props.resource,l=r.state.event;r.reset(),r.context.draggable.onEnd({start:l.start,end:l.end,resourceId:i})},r._teardownSelectable=function(){r._selector&&(r._selector.teardown(),r._selector=null)},r.state={},r.ref=Ua.default.createRef(),r}return(0,BJ.default)(t,e),(0,FJ.default)(t,[{key:"componentDidMount",value:function(){this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"reset",value:function(){this.state.event&&this.setState({event:null,top:null,height:null})}},{key:"update",value:function(n,s){var a=s.startDate,i=s.endDate,l=s.top,c=s.height,u=this.state.event;u&&a===u.start&&i===u.end||this.setState({top:l,height:c,event:(0,Hs.default)((0,Hs.default)({},n),{},{start:a,end:i})})}},{key:"handleResize",value:function(n,s){var a=this.props,i=a.accessors,l=a.slotMetrics,c=a.localizer,u=this.context.draggable.dragAndDropAction,d=u.event,f=u.direction,h=l.closestSlotFromPoint(n,s),g=(0,ls.eventTimes)(d,i,c),m=g.start,p=g.end,w;if(f==="UP"){var y=c.min(h,l.closestSlotFromDate(p,-1));w=l.getRange(y,p),w=(0,Hs.default)((0,Hs.default)({},w),{},{endDate:p})}else if(f==="DOWN"){var v=c.max(h,l.closestSlotFromDate(m));w=l.getRange(m,v),w=(0,Hs.default)((0,Hs.default)({},w),{},{startDate:m})}this.update(d,w)}},{key:"renderContent",value:function(){var n=this.props,s=n.children,a=n.accessors,i=n.components,l=n.getters,c=n.slotMetrics,u=n.localizer,d=this.state,f=d.event,h=d.top,g=d.height;if(!f)return s;var m=s.props.children,p=f.start,w=f.end,y,v="eventTimeRangeFormat",x=c.startsBeforeDay(p),b=c.startsAfterDay(w);return x?v="eventTimeRangeEndFormat":b&&(v="eventTimeRangeStartFormat"),x&&b?y=u.messages.allDay:y=u.format({start:p,end:w},v),Ua.default.cloneElement(s,{children:Ua.default.createElement(Ua.default.Fragment,null,m,f&&Ua.default.createElement(zJ.default,{event:f,label:y,className:"rbc-addons-dnd-drag-preview",style:{top:h,height:g,width:100},getters:l,components:i,accessors:(0,Hs.default)((0,Hs.default)({},a),ls.dragAccessors),continuesPrior:x,continuesAfter:b}))})}},{key:"render",value:function(){return Ua.default.createElement("div",{ref:this.ref},this.renderContent())}}])}(Ua.default.Component);VE.contextType=HJ.DnDContext;Qh.default=VE;var em={},YE={exports:{}},qE={exports:{}},KE={exports:{}};(function(e){function t(r,n){(n==null||n>r.length)&&(n=r.length);for(var s=0,a=Array(n);s<n;s++)a[s]=r[s];return a}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(KE);var GE=KE.exports;(function(e){var t=GE;function r(n){if(Array.isArray(n))return t(n)}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports})(qE);var VJ=qE.exports,XE={exports:{}};(function(e){function t(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(XE);var YJ=XE.exports,QE={exports:{}};(function(e){var t=GE;function r(n,s){if(n){if(typeof n=="string")return t(n,s);var a={}.toString.call(n).slice(8,-1);return a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set"?Array.from(n):a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?t(n,s):void 0}}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports})(QE);var qJ=QE.exports,JE={exports:{}};(function(e){function t(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(JE);var KJ=JE.exports;(function(e){var t=VJ,r=YJ,n=qJ,s=KJ;function a(i){return t(i)||r(i)||n(i)||s()}e.exports=a,e.exports.__esModule=!0,e.exports.default=e.exports})(YE);var ZE=YE.exports,tm={},rm={},nm={},Ia=sr.default;Object.defineProperty(nm,"__esModule",{value:!0});nm.default=void 0;var q1=Ia(Ra),GJ=Ia(v0),XJ=Ia(Ci),QJ=Ia(Ti),JJ=Ia(al),ZJ=Ia(il),Cl=Ia(N),eZ=Ia(wu),tZ=["style","className","event","selected","isAllDay","onSelect","onDoubleClick","onKeyPress","localizer","continuesPrior","continuesAfter","accessors","getters","children","components","slotStart","slotEnd"],rZ=function(e){function t(){return(0,XJ.default)(this,t),(0,JJ.default)(this,t,arguments)}return(0,ZJ.default)(t,e),(0,QJ.default)(t,[{key:"render",value:function(){var n=this.props,s=n.style,a=n.className,i=n.event,l=n.selected,c=n.isAllDay,u=n.onSelect,d=n.onDoubleClick,f=n.onKeyPress,h=n.localizer,g=n.continuesPrior,m=n.continuesAfter,p=n.accessors,w=n.getters,y=n.children,v=n.components,x=v.event,b=v.eventWrapper,_=n.slotStart,S=n.slotEnd,E=(0,GJ.default)(n,tZ);delete E.resizable;var C=p.title(i),M=p.tooltip(i),$=p.end(i),Y=p.start(i),J=p.allDay(i),G=c||J||h.diff(Y,h.ceil($,"day"),"day")>1,se=w.eventProp(i,Y,$,l),ce=Cl.default.createElement("div",{className:"rbc-event-content",title:M||void 0},x?Cl.default.createElement(x,{event:i,continuesPrior:g,continuesAfter:m,title:C,isAllDay:J,localizer:h,slotStart:_,slotEnd:S}):C);return Cl.default.createElement(b,Object.assign({},this.props,{type:"date"}),Cl.default.createElement("div",Object.assign({},E,{style:(0,q1.default)((0,q1.default)({},se.style),s),className:(0,eZ.default)("rbc-event",a,se.className,{"rbc-selected":l,"rbc-event-allday":G,"rbc-event-continues-prior":g,"rbc-event-continues-after":m}),onClick:function(he){return u&&u(i,he)},onDoubleClick:function(he){return d&&d(i,he)},onKeyDown:function(he){return f&&f(i,he)}}),typeof y=="function"?y(ce):ce))}}])}(Cl.default.Component);nm.default=rZ;var Fa={},nZ=sr.default;Object.defineProperty(Fa,"__esModule",{value:!0});Fa.dateCellSelection=oZ;Fa.getSlotAtX=eC;Fa.isSelected=aZ;Fa.pointInBox=iZ;Fa.slotWidth=N0;var sZ=nZ(fk);function aZ(e,t){return!e||t==null?!1:(0,sZ.default)(e,t)}function N0(e,t){var r=e.right-e.left,n=r/t;return n}function eC(e,t,r,n){var s=N0(e,n);return r?n-1-Math.floor((t-e.left)/s):Math.floor((t-e.left)/s)}function iZ(e,t){var r=t.x,n=t.y;return n>=e.top&&n<=e.bottom&&r>=e.left&&r<=e.right}function oZ(e,t,r,n,s){var a=-1,i=-1,l=n-1,c=N0(t,n),u=eC(t,r.x,s,n),d=t.top<r.y&&t.bottom>r.y,f=t.top<e.y&&t.bottom>e.y,h=e.y>t.bottom,g=t.top>e.y,m=r.top<t.top&&r.bottom>t.bottom;return m&&(a=0,i=l),d&&(g?(a=0,i=u):h&&(a=u,i=l)),f&&(a=i=s?l-Math.floor((e.x-t.left)/c):Math.floor((e.x-t.left)/c),d?u<a?a=u:i=u:e.y<r.y?i=l:a=0),{startIdx:a,endIdx:i}}var S0=sr.default;Object.defineProperty(rm,"__esModule",{value:!0});rm.default=void 0;var Mn=S0(kv),K1=S0(N),lZ=S0(nm),cZ=Fa;rm.default={propTypes:{slotMetrics:Mn.default.object.isRequired,selected:Mn.default.object,isAllDay:Mn.default.bool,accessors:Mn.default.object.isRequired,localizer:Mn.default.object.isRequired,components:Mn.default.object.isRequired,getters:Mn.default.object.isRequired,onSelect:Mn.default.func,onDoubleClick:Mn.default.func,onKeyPress:Mn.default.func},defaultProps:{segments:[],selected:{}},renderEvent:function(t,r){var n=t.selected;t.isAllDay;var s=t.accessors,a=t.getters,i=t.onSelect,l=t.onDoubleClick,c=t.onKeyPress,u=t.localizer,d=t.slotMetrics,f=t.components,h=t.resizable,g=d.continuesPrior(r),m=d.continuesAfter(r);return K1.default.createElement(lZ.default,{event:r,getters:a,localizer:u,accessors:s,components:f,onSelect:i,onDoubleClick:l,onKeyPress:c,continuesPrior:g,continuesAfter:m,slotStart:d.first,slotEnd:d.last,selected:(0,cZ.isSelected)(r,n),resizable:h})},renderSpan:function(t,r,n){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:" ",a=Math.abs(r)/t*100+"%";return K1.default.createElement("div",{key:n,className:"rbc-row-segment",style:{WebkitFlexBasis:a,flexBasis:a,maxWidth:a}},s)}};var Wa=sr.default;Object.defineProperty(tm,"__esModule",{value:!0});tm.default=void 0;var uZ=Wa(Ra),dZ=Wa(Ci),fZ=Wa(Ti),hZ=Wa(al),mZ=Wa(il),pZ=Wa(wu),G1=Wa(N),Wd=Wa(rm),tC=function(e){function t(){return(0,dZ.default)(this,t),(0,hZ.default)(this,t,arguments)}return(0,mZ.default)(t,e),(0,fZ.default)(t,[{key:"render",value:function(){var n=this,s=this.props,a=s.segments,i=s.slotMetrics.slots,l=s.className,c=1;return G1.default.createElement("div",{className:(0,pZ.default)(l,"rbc-row")},a.reduce(function(u,d,f){var h=d.event,g=d.left,m=d.right,p=d.span,w="_lvl_"+f,y=g-c,v=Wd.default.renderEvent(n.props,h);return y&&u.push(Wd.default.renderSpan(i,y,"".concat(w,"_gap"))),u.push(Wd.default.renderSpan(i,p,w,v)),c=m+1,u},[]))}}])}(G1.default.Component);tC.defaultProps=(0,uZ.default)({},Wd.default.defaultProps);tm.default=tC;var Ls={},rC=sr.default;Object.defineProperty(Ls,"__esModule",{value:!0});Ls.endOfRange=nC;Ls.eventLevels=vZ;Ls.eventSegments=yZ;Ls.inRange=xZ;Ls.segsOverlap=sC;Ls.sortEvents=Zg;Ls.sortWeekEvents=bZ;var fp=rC(ZE),gZ=rC(yk);function nC(e){var t=e.dateRange,r=e.unit,n=r===void 0?"day":r,s=e.localizer;return{first:t[0],last:s.add(t[t.length-1],1,n)}}function yZ(e,t,r,n){var s=nC({dateRange:t,localizer:n}),a=s.first,i=s.last,l=n.diff(a,i,"day"),c=n.max(n.startOf(r.start(e),"day"),a),u=n.min(n.ceil(r.end(e),"day"),i),d=(0,gZ.default)(t,function(h){return n.isSameDate(h,c)}),f=n.diff(c,u,"day");return f=Math.min(f,l),f=Math.max(f-n.segmentOffset,1),{event:e,span:f,left:d+1,right:Math.max(d+f,1)}}function vZ(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0,r,n,s,a=[],i=[];for(r=0;r<e.length;r++){for(s=e[r],n=0;n<a.length&&sC(s,a[n]);n++);n>=t?i.push(s):(a[n]||(a[n]=[])).push(s)}for(r=0;r<a.length;r++)a[r].sort(function(l,c){return l.left-c.left});return{levels:a,extra:i}}function xZ(e,t,r,n,s){var a={start:n.start(e),end:n.end(e)},i={start:t,end:r};return s.inEventRange({event:a,range:i})}function sC(e,t){return t.some(function(r){return r.left<=e.right&&r.right>=e.left})}function bZ(e,t,r){var n=(0,fp.default)(e),s=[],a=[];n.forEach(function(c){var u=t.start(c),d=t.end(c);r.daySpan(u,d)>1?s.push(c):a.push(c)});var i=s.sort(function(c,u){return Zg(c,u,t,r)}),l=a.sort(function(c,u){return Zg(c,u,t,r)});return[].concat((0,fp.default)(i),(0,fp.default)(l))}function Zg(e,t,r,n){var s={start:r.start(e),end:r.end(e),allDay:r.allDay(e)},a={start:r.start(t),end:r.end(t),allDay:r.allDay(t)};return n.sortEvents({evtA:s,evtB:a})}var wZ=NE.default,Ba=sr.default;Object.defineProperty(em,"__esModule",{value:!0});em.default=void 0;var ad=Ba(Ra),NZ=Ba(ZE),SZ=Ba(Ci),jZ=Ba(Ti),_Z=Ba(al),DZ=Ba(il),id=Ba(N),kZ=Ba(tm),Ii=wZ(En),EZ=Ls,Vs=Fa,od=Rs,CZ=Pi,aC=function(e){function t(){var r;(0,SZ.default)(this,t);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return r=(0,_Z.default)(this,t,[].concat(s)),r.handleMove=function(i,l,c){if(!(0,Vs.pointInBox)(l,i))return r.reset();var u=r.context.draggable.dragAndDropAction.event||c,d=r.props,f=d.accessors,h=d.slotMetrics,g=d.rtl,m=d.localizer,p=(0,Vs.getSlotAtX)(l,i.x,g,h.slots),w=h.getDateForSlot(p),y=(0,od.eventTimes)(u,f,m),v=y.start,x=y.duration;v=m.merge(w,v);var b=m.add(v,x,"milliseconds");r.update(u,v,b)},r.handleDropFromOutside=function(i,l){if(r.context.draggable.onDropFromOutside){var c=r.props,u=c.slotMetrics,d=c.rtl,f=c.localizer,h=(0,Vs.getSlotAtX)(l,i.x,d,u.slots),g=u.getDateForSlot(h);r.context.draggable.onDropFromOutside({start:g,end:f.add(g,1,"day"),allDay:!1})}},r.handleDragOverFromOutside=function(i,l){var c=r.context.draggable.dragFromOutsideItem?r.context.draggable.dragFromOutsideItem():null;c&&r.handleMove(i,l,c)},r._selectable=function(){var i=r.ref.current.closest(".rbc-month-row, .rbc-allday-cell"),l=i.closest(".rbc-month-view, .rbc-time-view"),c=i.classList.contains("rbc-month-row"),u=r._selector=new Ii.default(function(){return l},{validContainers:(0,NZ.default)(c?[]:[".rbc-day-slot",".rbc-allday-cell"])});u.on("beforeSelect",function(d){var f=r.props.isAllDay,h=r.context.draggable.dragAndDropAction.action,g=(0,Ii.getBoundsForNode)(i),m=(0,Vs.pointInBox)(g,d);return h==="move"||h==="resize"&&(!f||m)}),u.on("selecting",function(d){var f=(0,Ii.getBoundsForNode)(i),h=r.context.draggable.dragAndDropAction;h.action==="move"&&r.handleMove(d,f),h.action==="resize"&&r.handleResize(d,f)}),u.on("selectStart",function(){return r.context.draggable.onStart()}),u.on("select",function(d){var f=(0,Ii.getBoundsForNode)(i);r.state.segment&&((0,Vs.pointInBox)(f,d)?r.handleInteractionEnd():r.reset())}),u.on("dropFromOutside",function(d){if(r.context.draggable.onDropFromOutside){var f=(0,Ii.getBoundsForNode)(i);(0,Vs.pointInBox)(f,d)&&r.handleDropFromOutside(d,f)}}),u.on("dragOverFromOutside",function(d){if(r.context.draggable.dragFromOutsideItem){var f=(0,Ii.getBoundsForNode)(i);r.handleDragOverFromOutside(d,f)}}),u.on("click",function(){return r.context.draggable.onEnd(null)}),u.on("reset",function(){r.reset(),r.context.draggable.onEnd(null)})},r.handleInteractionEnd=function(){var i=r.props,l=i.resourceId,c=i.isAllDay,u=r.state.segment.event;r.reset(),r.context.draggable.onEnd({start:u.start,end:u.end,resourceId:l,isAllDay:c})},r._teardownSelectable=function(){r._selector&&(r._selector.teardown(),r._selector=null)},r.state={},r.ref=id.default.createRef(),r}return(0,DZ.default)(t,e),(0,jZ.default)(t,[{key:"componentDidMount",value:function(){this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"reset",value:function(){this.state.segment&&this.setState({segment:null})}},{key:"update",value:function(n,s,a){var i=(0,EZ.eventSegments)((0,ad.default)((0,ad.default)({},n),{},{end:a,start:s,__isPreview:!0}),this.props.slotMetrics.range,od.dragAccessors,this.props.localizer),l=this.state.segment;l&&i.span===l.span&&i.left===l.left&&i.right===l.right||this.setState({segment:i})}},{key:"handleResize",value:function(n,s){var a=this.context.draggable.dragAndDropAction,i=a.event,l=a.direction,c=this.props,u=c.accessors,d=c.slotMetrics,f=c.rtl,h=c.localizer,g=(0,od.eventTimes)(i,u,h),m=g.start,p=g.end,w=(0,Vs.getSlotAtX)(s,n.x,f,d.slots),y=d.getDateForSlot(w),v=(0,Vs.pointInBox)(s,n);if(l==="RIGHT"){if(v){if(d.last<m)return this.reset();h.eq(h.startOf(p,"day"),p)?p=h.add(y,1,"day"):p=y}else if(h.inRange(m,d.first,d.last)||s.bottom<n.y&&+d.first>+m)p=h.add(d.last,1,"milliseconds");else{this.setState({segment:null});return}var x=u.end(i);p=h.merge(p,x),h.lt(p,m)&&(p=x)}else if(l==="LEFT"){if(v){if(d.first>p)return this.reset();m=y}else if(h.inRange(p,d.first,d.last)||s.top>n.y&&h.lt(d.last,p))m=h.add(d.first,-1,"milliseconds");else{this.reset();return}var b=u.start(i);m=h.merge(m,b),h.gt(m,p)&&(m=b)}this.update(i,m,p)}},{key:"render",value:function(){var n=this.props,s=n.children,a=n.accessors,i=this.state.segment;return id.default.createElement("div",{ref:this.ref,className:"rbc-addons-dnd-row-body"},s,i&&id.default.createElement(kZ.default,Object.assign({},this.props,{selected:null,className:"rbc-addons-dnd-drag-row",segments:[i],accessors:(0,ad.default)((0,ad.default)({},a),od.dragAccessors)})))}}])}(id.default.Component);aC.contextType=CZ.DnDContext;em.default=aC;var Cn=sr.default;Object.defineProperty(y0,"__esModule",{value:!0});y0.default=UZ;var ld=Cn(Ra),TZ=Cn(v0),PZ=Cn(Ci),AZ=Cn(Ti),OZ=Cn(al),MZ=Cn(il),hp=Cn(N),$Z=Cn(wu),RZ=Cn(Xh),LZ=Cn(Qh),IZ=Cn(em),FZ=Rs,WZ=Pi,BZ=["selectable","elementProps","components"];function UZ(e){var t=function(r){function n(){var s;(0,PZ.default)(this,n);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return s=(0,OZ.default)(this,n,[].concat(i)),s.defaultOnDragOver=function(c){c.preventDefault()},s.handleBeginAction=function(c,u,d){s.setState({event:c,action:u,direction:d});var f=s.props.onDragStart;f&&f({event:c,action:u,direction:d})},s.handleInteractionStart=function(){s.state.interacting===!1&&s.setState({interacting:!0})},s.handleInteractionEnd=function(c){var u=s.state,d=u.action,f=u.event;if(d&&(s.setState({action:null,event:null,interacting:!1,direction:null}),c!=null)){c.event=f;var h=s.props,g=h.onEventDrop,m=h.onEventResize;d==="move"&&g&&g(c),d==="resize"&&m&&m(c)}},s.state={interacting:!1},s}return(0,MZ.default)(n,r),(0,AZ.default)(n,[{key:"getDnDContextValue",value:function(){return{draggable:{onStart:this.handleInteractionStart,onEnd:this.handleInteractionEnd,onBeginAction:this.handleBeginAction,onDropFromOutside:this.props.onDropFromOutside,dragFromOutsideItem:this.props.dragFromOutsideItem,draggableAccessor:this.props.draggableAccessor,resizableAccessor:this.props.resizableAccessor,dragAndDropAction:this.state}}}},{key:"render",value:function(){var a=this.props,i=a.selectable,l=a.elementProps,c=a.components,u=(0,TZ.default)(a,BZ),d=this.state.interacting;delete u.onEventDrop,delete u.onEventResize,u.selectable=i?"ignoreEvents":!1,this.components=(0,FZ.mergeComponents)(c,{eventWrapper:RZ.default,eventContainerWrapper:LZ.default,weekWrapper:IZ.default});var f=this.props.onDropFromOutside?(0,ld.default)((0,ld.default)({},l),{},{onDragOver:this.props.onDragOver||this.defaultOnDragOver}):l;u.className=(0,$Z.default)(u.className,"rbc-addons-dnd",!!d&&"rbc-addons-dnd-is-dragging");var h=this.getDnDContextValue();return hp.default.createElement(WZ.DnDContext.Provider,{value:h},hp.default.createElement(e,Object.assign({},u,{elementProps:f,components:this.components})))}}])}(hp.default.Component);return t.defaultProps=(0,ld.default)((0,ld.default)({},e.defaultProps),{},{draggableAccessor:null,resizableAccessor:null,resizable:!0}),t}var HZ=sr.default;Object.defineProperty(g0,"__esModule",{value:!0});var iC=g0.default=void 0,zZ=HZ(y0);iC=g0.default=zZ.default;//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var oC;function ue(){return oC.apply(null,arguments)}function VZ(e){oC=e}function Sn(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function fi(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function Ve(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function j0(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var t;for(t in e)if(Ve(e,t))return!1;return!0}function pr(e){return e===void 0}function As(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function Nu(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function lC(e,t){var r=[],n,s=e.length;for(n=0;n<s;++n)r.push(t(e[n],n));return r}function ua(e,t){for(var r in t)Ve(t,r)&&(e[r]=t[r]);return Ve(t,"toString")&&(e.toString=t.toString),Ve(t,"valueOf")&&(e.valueOf=t.valueOf),e}function ns(e,t,r,n){return PC(e,t,r,n,!0).utc()}function YZ(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function Re(e){return e._pf==null&&(e._pf=YZ()),e._pf}var ey;Array.prototype.some?ey=Array.prototype.some:ey=function(e){var t=Object(this),r=t.length>>>0,n;for(n=0;n<r;n++)if(n in t&&e.call(this,t[n],n,t))return!0;return!1};function _0(e){var t=null,r=!1,n=e._d&&!isNaN(e._d.getTime());if(n&&(t=Re(e),r=ey.call(t.parsedDateParts,function(s){return s!=null}),n=t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&r),e._strict&&(n=n&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=n;else return n;return e._isValid}function sm(e){var t=ns(NaN);return e!=null?ua(Re(t),e):Re(t).userInvalidated=!0,t}var X1=ue.momentProperties=[],mp=!1;function D0(e,t){var r,n,s,a=X1.length;if(pr(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),pr(t._i)||(e._i=t._i),pr(t._f)||(e._f=t._f),pr(t._l)||(e._l=t._l),pr(t._strict)||(e._strict=t._strict),pr(t._tzm)||(e._tzm=t._tzm),pr(t._isUTC)||(e._isUTC=t._isUTC),pr(t._offset)||(e._offset=t._offset),pr(t._pf)||(e._pf=Re(t)),pr(t._locale)||(e._locale=t._locale),a>0)for(r=0;r<a;r++)n=X1[r],s=t[n],pr(s)||(e[n]=s);return e}function Su(e){D0(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),mp===!1&&(mp=!0,ue.updateOffset(this),mp=!1)}function jn(e){return e instanceof Su||e!=null&&e._isAMomentObject!=null}function cC(e){ue.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+e)}function tn(e,t){var r=!0;return ua(function(){if(ue.deprecationHandler!=null&&ue.deprecationHandler(null,e),r){var n=[],s,a,i,l=arguments.length;for(a=0;a<l;a++){if(s="",typeof arguments[a]=="object"){s+=`
[`+a+"] ";for(i in arguments[0])Ve(arguments[0],i)&&(s+=i+": "+arguments[0][i]+", ");s=s.slice(0,-2)}else s=arguments[a];n.push(s)}cC(e+`
Arguments: `+Array.prototype.slice.call(n).join("")+`
`+new Error().stack),r=!1}return t.apply(this,arguments)},t)}var Q1={};function uC(e,t){ue.deprecationHandler!=null&&ue.deprecationHandler(e,t),Q1[e]||(cC(t),Q1[e]=!0)}ue.suppressDeprecationWarnings=!1;ue.deprecationHandler=null;function ss(e){return typeof Function<"u"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function qZ(e){var t,r;for(r in e)Ve(e,r)&&(t=e[r],ss(t)?this[r]=t:this["_"+r]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function ty(e,t){var r=ua({},e),n;for(n in t)Ve(t,n)&&(fi(e[n])&&fi(t[n])?(r[n]={},ua(r[n],e[n]),ua(r[n],t[n])):t[n]!=null?r[n]=t[n]:delete r[n]);for(n in e)Ve(e,n)&&!Ve(t,n)&&fi(e[n])&&(r[n]=ua({},r[n]));return r}function k0(e){e!=null&&this.set(e)}var ry;Object.keys?ry=Object.keys:ry=function(e){var t,r=[];for(t in e)Ve(e,t)&&r.push(t);return r};var KZ={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function GZ(e,t,r){var n=this._calendar[e]||this._calendar.sameElse;return ss(n)?n.call(t,r):n}function ts(e,t,r){var n=""+Math.abs(e),s=t-n.length,a=e>=0;return(a?r?"+":"":"-")+Math.pow(10,Math.max(0,s)).toString().substr(1)+n}var E0=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,cd=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,pp={},co={};function Te(e,t,r,n){var s=n;typeof n=="string"&&(s=function(){return this[n]()}),e&&(co[e]=s),t&&(co[t[0]]=function(){return ts(s.apply(this,arguments),t[1],t[2])}),r&&(co[r]=function(){return this.localeData().ordinal(s.apply(this,arguments),e)})}function XZ(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function QZ(e){var t=e.match(E0),r,n;for(r=0,n=t.length;r<n;r++)co[t[r]]?t[r]=co[t[r]]:t[r]=XZ(t[r]);return function(s){var a="",i;for(i=0;i<n;i++)a+=ss(t[i])?t[i].call(s,e):t[i];return a}}function Bd(e,t){return e.isValid()?(t=dC(t,e.localeData()),pp[t]=pp[t]||QZ(t),pp[t](e)):e.localeData().invalidDate()}function dC(e,t){var r=5;function n(s){return t.longDateFormat(s)||s}for(cd.lastIndex=0;r>=0&&cd.test(e);)e=e.replace(cd,n),cd.lastIndex=0,r-=1;return e}var JZ={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function ZZ(e){var t=this._longDateFormat[e],r=this._longDateFormat[e.toUpperCase()];return t||!r?t:(this._longDateFormat[e]=r.match(E0).map(function(n){return n==="MMMM"||n==="MM"||n==="DD"||n==="dddd"?n.slice(1):n}).join(""),this._longDateFormat[e])}var eee="Invalid date";function tee(){return this._invalidDate}var ree="%d",nee=/\d{1,2}/;function see(e){return this._ordinal.replace("%d",e)}var aee={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function iee(e,t,r,n){var s=this._relativeTime[r];return ss(s)?s(e,t,r,n):s.replace(/%d/i,e)}function oee(e,t){var r=this._relativeTime[e>0?"future":"past"];return ss(r)?r(t):r.replace(/%s/i,t)}var J1={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function rn(e){return typeof e=="string"?J1[e]||J1[e.toLowerCase()]:void 0}function C0(e){var t={},r,n;for(n in e)Ve(e,n)&&(r=rn(n),r&&(t[r]=e[n]));return t}var lee={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function cee(e){var t=[],r;for(r in e)Ve(e,r)&&t.push({unit:r,priority:lee[r]});return t.sort(function(n,s){return n.priority-s.priority}),t}var fC=/\d/,Lr=/\d\d/,hC=/\d{3}/,T0=/\d{4}/,am=/[+-]?\d{6}/,ct=/\d\d?/,mC=/\d\d\d\d?/,pC=/\d\d\d\d\d\d?/,im=/\d{1,3}/,P0=/\d{1,4}/,om=/[+-]?\d{1,6}/,cl=/\d+/,lm=/[+-]?\d+/,uee=/Z|[+-]\d\d:?\d\d/gi,cm=/Z|[+-]\d\d(?::?\d\d)?/gi,dee=/[+-]?\d+(\.\d{1,3})?/,ju=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,ul=/^[1-9]\d?/,A0=/^([1-9]\d|\d)/,Rf;Rf={};function je(e,t,r){Rf[e]=ss(t)?t:function(n,s){return n&&r?r:t}}function fee(e,t){return Ve(Rf,e)?Rf[e](t._strict,t._locale):new RegExp(hee(e))}function hee(e){return Ns(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,r,n,s,a){return r||n||s||a}))}function Ns(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Hr(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function Fe(e){var t=+e,r=0;return t!==0&&isFinite(t)&&(r=Hr(t)),r}var ny={};function Je(e,t){var r,n=t,s;for(typeof e=="string"&&(e=[e]),As(t)&&(n=function(a,i){i[t]=Fe(a)}),s=e.length,r=0;r<s;r++)ny[e[r]]=n}function _u(e,t){Je(e,function(r,n,s,a){s._w=s._w||{},t(r,s._w,s,a)})}function mee(e,t,r){t!=null&&Ve(ny,e)&&ny[e](t,r._a,r,e)}function um(e){return e%4===0&&e%100!==0||e%400===0}var er=0,vs=1,Vn=2,$t=3,pn=4,xs=5,ei=6,pee=7,gee=8;Te("Y",0,0,function(){var e=this.year();return e<=9999?ts(e,4):"+"+e});Te(0,["YY",2],0,function(){return this.year()%100});Te(0,["YYYY",4],0,"year");Te(0,["YYYYY",5],0,"year");Te(0,["YYYYYY",6,!0],0,"year");je("Y",lm);je("YY",ct,Lr);je("YYYY",P0,T0);je("YYYYY",om,am);je("YYYYYY",om,am);Je(["YYYYY","YYYYYY"],er);Je("YYYY",function(e,t){t[er]=e.length===2?ue.parseTwoDigitYear(e):Fe(e)});Je("YY",function(e,t){t[er]=ue.parseTwoDigitYear(e)});Je("Y",function(e,t){t[er]=parseInt(e,10)});function Zl(e){return um(e)?366:365}ue.parseTwoDigitYear=function(e){return Fe(e)+(Fe(e)>68?1900:2e3)};var gC=dl("FullYear",!0);function yee(){return um(this.year())}function dl(e,t){return function(r){return r!=null?(yC(this,e,r),ue.updateOffset(this,t),this):Fc(this,e)}}function Fc(e,t){if(!e.isValid())return NaN;var r=e._d,n=e._isUTC;switch(t){case"Milliseconds":return n?r.getUTCMilliseconds():r.getMilliseconds();case"Seconds":return n?r.getUTCSeconds():r.getSeconds();case"Minutes":return n?r.getUTCMinutes():r.getMinutes();case"Hours":return n?r.getUTCHours():r.getHours();case"Date":return n?r.getUTCDate():r.getDate();case"Day":return n?r.getUTCDay():r.getDay();case"Month":return n?r.getUTCMonth():r.getMonth();case"FullYear":return n?r.getUTCFullYear():r.getFullYear();default:return NaN}}function yC(e,t,r){var n,s,a,i,l;if(!(!e.isValid()||isNaN(r))){switch(n=e._d,s=e._isUTC,t){case"Milliseconds":return void(s?n.setUTCMilliseconds(r):n.setMilliseconds(r));case"Seconds":return void(s?n.setUTCSeconds(r):n.setSeconds(r));case"Minutes":return void(s?n.setUTCMinutes(r):n.setMinutes(r));case"Hours":return void(s?n.setUTCHours(r):n.setHours(r));case"Date":return void(s?n.setUTCDate(r):n.setDate(r));case"FullYear":break;default:return}a=r,i=e.month(),l=e.date(),l=l===29&&i===1&&!um(a)?28:l,s?n.setUTCFullYear(a,i,l):n.setFullYear(a,i,l)}}function vee(e){return e=rn(e),ss(this[e])?this[e]():this}function xee(e,t){if(typeof e=="object"){e=C0(e);var r=cee(e),n,s=r.length;for(n=0;n<s;n++)this[r[n].unit](e[r[n].unit])}else if(e=rn(e),ss(this[e]))return this[e](t);return this}function bee(e,t){return(e%t+t)%t}var Nt;Array.prototype.indexOf?Nt=Array.prototype.indexOf:Nt=function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};function O0(e,t){if(isNaN(e)||isNaN(t))return NaN;var r=bee(t,12);return e+=(t-r)/12,r===1?um(e)?29:28:31-r%7%2}Te("M",["MM",2],"Mo",function(){return this.month()+1});Te("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)});Te("MMMM",0,0,function(e){return this.localeData().months(this,e)});je("M",ct,ul);je("MM",ct,Lr);je("MMM",function(e,t){return t.monthsShortRegex(e)});je("MMMM",function(e,t){return t.monthsRegex(e)});Je(["M","MM"],function(e,t){t[vs]=Fe(e)-1});Je(["MMM","MMMM"],function(e,t,r,n){var s=r._locale.monthsParse(e,n,r._strict);s!=null?t[vs]=s:Re(r).invalidMonth=e});var wee="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),vC="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),xC=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Nee=ju,See=ju;function jee(e,t){return e?Sn(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||xC).test(t)?"format":"standalone"][e.month()]:Sn(this._months)?this._months:this._months.standalone}function _ee(e,t){return e?Sn(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[xC.test(t)?"format":"standalone"][e.month()]:Sn(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function Dee(e,t,r){var n,s,a,i=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)a=ns([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(a,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(a,"").toLocaleLowerCase();return r?t==="MMM"?(s=Nt.call(this._shortMonthsParse,i),s!==-1?s:null):(s=Nt.call(this._longMonthsParse,i),s!==-1?s:null):t==="MMM"?(s=Nt.call(this._shortMonthsParse,i),s!==-1?s:(s=Nt.call(this._longMonthsParse,i),s!==-1?s:null)):(s=Nt.call(this._longMonthsParse,i),s!==-1?s:(s=Nt.call(this._shortMonthsParse,i),s!==-1?s:null))}function kee(e,t,r){var n,s,a;if(this._monthsParseExact)return Dee.call(this,e,t,r);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(s=ns([2e3,n]),r&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(s,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(s,"").replace(".","")+"$","i")),!r&&!this._monthsParse[n]&&(a="^"+this.months(s,"")+"|^"+this.monthsShort(s,""),this._monthsParse[n]=new RegExp(a.replace(".",""),"i")),r&&t==="MMMM"&&this._longMonthsParse[n].test(e))return n;if(r&&t==="MMM"&&this._shortMonthsParse[n].test(e))return n;if(!r&&this._monthsParse[n].test(e))return n}}function bC(e,t){if(!e.isValid())return e;if(typeof t=="string"){if(/^\d+$/.test(t))t=Fe(t);else if(t=e.localeData().monthsParse(t),!As(t))return e}var r=t,n=e.date();return n=n<29?n:Math.min(n,O0(e.year(),r)),e._isUTC?e._d.setUTCMonth(r,n):e._d.setMonth(r,n),e}function wC(e){return e!=null?(bC(this,e),ue.updateOffset(this,!0),this):Fc(this,"Month")}function Eee(){return O0(this.year(),this.month())}function Cee(e){return this._monthsParseExact?(Ve(this,"_monthsRegex")||NC.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(Ve(this,"_monthsShortRegex")||(this._monthsShortRegex=Nee),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function Tee(e){return this._monthsParseExact?(Ve(this,"_monthsRegex")||NC.call(this),e?this._monthsStrictRegex:this._monthsRegex):(Ve(this,"_monthsRegex")||(this._monthsRegex=See),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function NC(){function e(c,u){return u.length-c.length}var t=[],r=[],n=[],s,a,i,l;for(s=0;s<12;s++)a=ns([2e3,s]),i=Ns(this.monthsShort(a,"")),l=Ns(this.months(a,"")),t.push(i),r.push(l),n.push(l),n.push(i);t.sort(e),r.sort(e),n.sort(e),this._monthsRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}function Pee(e,t,r,n,s,a,i){var l;return e<100&&e>=0?(l=new Date(e+400,t,r,n,s,a,i),isFinite(l.getFullYear())&&l.setFullYear(e)):l=new Date(e,t,r,n,s,a,i),l}function Wc(e){var t,r;return e<100&&e>=0?(r=Array.prototype.slice.call(arguments),r[0]=e+400,t=new Date(Date.UTC.apply(null,r)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function Lf(e,t,r){var n=7+t-r,s=(7+Wc(e,0,n).getUTCDay()-t)%7;return-s+n-1}function SC(e,t,r,n,s){var a=(7+r-n)%7,i=Lf(e,n,s),l=1+7*(t-1)+a+i,c,u;return l<=0?(c=e-1,u=Zl(c)+l):l>Zl(e)?(c=e+1,u=l-Zl(e)):(c=e,u=l),{year:c,dayOfYear:u}}function Bc(e,t,r){var n=Lf(e.year(),t,r),s=Math.floor((e.dayOfYear()-n-1)/7)+1,a,i;return s<1?(i=e.year()-1,a=s+Ss(i,t,r)):s>Ss(e.year(),t,r)?(a=s-Ss(e.year(),t,r),i=e.year()+1):(i=e.year(),a=s),{week:a,year:i}}function Ss(e,t,r){var n=Lf(e,t,r),s=Lf(e+1,t,r);return(Zl(e)-n+s)/7}Te("w",["ww",2],"wo","week");Te("W",["WW",2],"Wo","isoWeek");je("w",ct,ul);je("ww",ct,Lr);je("W",ct,ul);je("WW",ct,Lr);_u(["w","ww","W","WW"],function(e,t,r,n){t[n.substr(0,1)]=Fe(e)});function Aee(e){return Bc(e,this._week.dow,this._week.doy).week}var Oee={dow:0,doy:6};function Mee(){return this._week.dow}function $ee(){return this._week.doy}function Ree(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function Lee(e){var t=Bc(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}Te("d",0,"do","day");Te("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)});Te("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)});Te("dddd",0,0,function(e){return this.localeData().weekdays(this,e)});Te("e",0,0,"weekday");Te("E",0,0,"isoWeekday");je("d",ct);je("e",ct);je("E",ct);je("dd",function(e,t){return t.weekdaysMinRegex(e)});je("ddd",function(e,t){return t.weekdaysShortRegex(e)});je("dddd",function(e,t){return t.weekdaysRegex(e)});_u(["dd","ddd","dddd"],function(e,t,r,n){var s=r._locale.weekdaysParse(e,n,r._strict);s!=null?t.d=s:Re(r).invalidWeekday=e});_u(["d","e","E"],function(e,t,r,n){t[n]=Fe(e)});function Iee(e,t){return typeof e!="string"?e:isNaN(e)?(e=t.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function Fee(e,t){return typeof e=="string"?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function M0(e,t){return e.slice(t,7).concat(e.slice(0,t))}var Wee="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),jC="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Bee="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Uee=ju,Hee=ju,zee=ju;function Vee(e,t){var r=Sn(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===!0?M0(r,this._week.dow):e?r[e.day()]:r}function Yee(e){return e===!0?M0(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function qee(e){return e===!0?M0(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Kee(e,t,r){var n,s,a,i=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)a=ns([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(a,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(a,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(a,"").toLocaleLowerCase();return r?t==="dddd"?(s=Nt.call(this._weekdaysParse,i),s!==-1?s:null):t==="ddd"?(s=Nt.call(this._shortWeekdaysParse,i),s!==-1?s:null):(s=Nt.call(this._minWeekdaysParse,i),s!==-1?s:null):t==="dddd"?(s=Nt.call(this._weekdaysParse,i),s!==-1||(s=Nt.call(this._shortWeekdaysParse,i),s!==-1)?s:(s=Nt.call(this._minWeekdaysParse,i),s!==-1?s:null)):t==="ddd"?(s=Nt.call(this._shortWeekdaysParse,i),s!==-1||(s=Nt.call(this._weekdaysParse,i),s!==-1)?s:(s=Nt.call(this._minWeekdaysParse,i),s!==-1?s:null)):(s=Nt.call(this._minWeekdaysParse,i),s!==-1||(s=Nt.call(this._weekdaysParse,i),s!==-1)?s:(s=Nt.call(this._shortWeekdaysParse,i),s!==-1?s:null))}function Gee(e,t,r){var n,s,a;if(this._weekdaysParseExact)return Kee.call(this,e,t,r);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++){if(s=ns([2e3,1]).day(n),r&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(s,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(s,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(s,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[n]||(a="^"+this.weekdays(s,"")+"|^"+this.weekdaysShort(s,"")+"|^"+this.weekdaysMin(s,""),this._weekdaysParse[n]=new RegExp(a.replace(".",""),"i")),r&&t==="dddd"&&this._fullWeekdaysParse[n].test(e))return n;if(r&&t==="ddd"&&this._shortWeekdaysParse[n].test(e))return n;if(r&&t==="dd"&&this._minWeekdaysParse[n].test(e))return n;if(!r&&this._weekdaysParse[n].test(e))return n}}function Xee(e){if(!this.isValid())return e!=null?this:NaN;var t=Fc(this,"Day");return e!=null?(e=Iee(e,this.localeData()),this.add(e-t,"d")):t}function Qee(e){if(!this.isValid())return e!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function Jee(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var t=Fee(e,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function Zee(e){return this._weekdaysParseExact?(Ve(this,"_weekdaysRegex")||$0.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(Ve(this,"_weekdaysRegex")||(this._weekdaysRegex=Uee),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function ete(e){return this._weekdaysParseExact?(Ve(this,"_weekdaysRegex")||$0.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(Ve(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Hee),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function tte(e){return this._weekdaysParseExact?(Ve(this,"_weekdaysRegex")||$0.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(Ve(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=zee),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function $0(){function e(d,f){return f.length-d.length}var t=[],r=[],n=[],s=[],a,i,l,c,u;for(a=0;a<7;a++)i=ns([2e3,1]).day(a),l=Ns(this.weekdaysMin(i,"")),c=Ns(this.weekdaysShort(i,"")),u=Ns(this.weekdays(i,"")),t.push(l),r.push(c),n.push(u),s.push(l),s.push(c),s.push(u);t.sort(e),r.sort(e),n.sort(e),s.sort(e),this._weekdaysRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function R0(){return this.hours()%12||12}function rte(){return this.hours()||24}Te("H",["HH",2],0,"hour");Te("h",["hh",2],0,R0);Te("k",["kk",2],0,rte);Te("hmm",0,0,function(){return""+R0.apply(this)+ts(this.minutes(),2)});Te("hmmss",0,0,function(){return""+R0.apply(this)+ts(this.minutes(),2)+ts(this.seconds(),2)});Te("Hmm",0,0,function(){return""+this.hours()+ts(this.minutes(),2)});Te("Hmmss",0,0,function(){return""+this.hours()+ts(this.minutes(),2)+ts(this.seconds(),2)});function _C(e,t){Te(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}_C("a",!0);_C("A",!1);function DC(e,t){return t._meridiemParse}je("a",DC);je("A",DC);je("H",ct,A0);je("h",ct,ul);je("k",ct,ul);je("HH",ct,Lr);je("hh",ct,Lr);je("kk",ct,Lr);je("hmm",mC);je("hmmss",pC);je("Hmm",mC);je("Hmmss",pC);Je(["H","HH"],$t);Je(["k","kk"],function(e,t,r){var n=Fe(e);t[$t]=n===24?0:n});Je(["a","A"],function(e,t,r){r._isPm=r._locale.isPM(e),r._meridiem=e});Je(["h","hh"],function(e,t,r){t[$t]=Fe(e),Re(r).bigHour=!0});Je("hmm",function(e,t,r){var n=e.length-2;t[$t]=Fe(e.substr(0,n)),t[pn]=Fe(e.substr(n)),Re(r).bigHour=!0});Je("hmmss",function(e,t,r){var n=e.length-4,s=e.length-2;t[$t]=Fe(e.substr(0,n)),t[pn]=Fe(e.substr(n,2)),t[xs]=Fe(e.substr(s)),Re(r).bigHour=!0});Je("Hmm",function(e,t,r){var n=e.length-2;t[$t]=Fe(e.substr(0,n)),t[pn]=Fe(e.substr(n))});Je("Hmmss",function(e,t,r){var n=e.length-4,s=e.length-2;t[$t]=Fe(e.substr(0,n)),t[pn]=Fe(e.substr(n,2)),t[xs]=Fe(e.substr(s))});function nte(e){return(e+"").toLowerCase().charAt(0)==="p"}var ste=/[ap]\.?m?\.?/i,ate=dl("Hours",!0);function ite(e,t,r){return e>11?r?"pm":"PM":r?"am":"AM"}var kC={calendar:KZ,longDateFormat:JZ,invalidDate:eee,ordinal:ree,dayOfMonthOrdinalParse:nee,relativeTime:aee,months:wee,monthsShort:vC,week:Oee,weekdays:Wee,weekdaysMin:Bee,weekdaysShort:jC,meridiemParse:ste},dt={},Tl={},Uc;function ote(e,t){var r,n=Math.min(e.length,t.length);for(r=0;r<n;r+=1)if(e[r]!==t[r])return r;return n}function Z1(e){return e&&e.toLowerCase().replace("_","-")}function lte(e){for(var t=0,r,n,s,a;t<e.length;){for(a=Z1(e[t]).split("-"),r=a.length,n=Z1(e[t+1]),n=n?n.split("-"):null;r>0;){if(s=dm(a.slice(0,r).join("-")),s)return s;if(n&&n.length>=r&&ote(a,n)>=r-1)break;r--}t++}return Uc}function cte(e){return!!(e&&e.match("^[^/\\\\]*$"))}function dm(e){var t=null,r;if(dt[e]===void 0&&typeof zd<"u"&&zd&&zd.exports&&cte(e))try{t=Uc._abbr,r=require,r("./locale/"+e),wa(t)}catch{dt[e]=null}return dt[e]}function wa(e,t){var r;return e&&(pr(t)?r=Is(e):r=L0(e,t),r?Uc=r:typeof console<"u"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),Uc._abbr}function L0(e,t){if(t!==null){var r,n=kC;if(t.abbr=e,dt[e]!=null)uC("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=dt[e]._config;else if(t.parentLocale!=null)if(dt[t.parentLocale]!=null)n=dt[t.parentLocale]._config;else if(r=dm(t.parentLocale),r!=null)n=r._config;else return Tl[t.parentLocale]||(Tl[t.parentLocale]=[]),Tl[t.parentLocale].push({name:e,config:t}),null;return dt[e]=new k0(ty(n,t)),Tl[e]&&Tl[e].forEach(function(s){L0(s.name,s.config)}),wa(e),dt[e]}else return delete dt[e],null}function ute(e,t){if(t!=null){var r,n,s=kC;dt[e]!=null&&dt[e].parentLocale!=null?dt[e].set(ty(dt[e]._config,t)):(n=dm(e),n!=null&&(s=n._config),t=ty(s,t),n==null&&(t.abbr=e),r=new k0(t),r.parentLocale=dt[e],dt[e]=r),wa(e)}else dt[e]!=null&&(dt[e].parentLocale!=null?(dt[e]=dt[e].parentLocale,e===wa()&&wa(e)):dt[e]!=null&&delete dt[e]);return dt[e]}function Is(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Uc;if(!Sn(e)){if(t=dm(e),t)return t;e=[e]}return lte(e)}function dte(){return ry(dt)}function I0(e){var t,r=e._a;return r&&Re(e).overflow===-2&&(t=r[vs]<0||r[vs]>11?vs:r[Vn]<1||r[Vn]>O0(r[er],r[vs])?Vn:r[$t]<0||r[$t]>24||r[$t]===24&&(r[pn]!==0||r[xs]!==0||r[ei]!==0)?$t:r[pn]<0||r[pn]>59?pn:r[xs]<0||r[xs]>59?xs:r[ei]<0||r[ei]>999?ei:-1,Re(e)._overflowDayOfYear&&(t<er||t>Vn)&&(t=Vn),Re(e)._overflowWeeks&&t===-1&&(t=pee),Re(e)._overflowWeekday&&t===-1&&(t=gee),Re(e).overflow=t),e}var fte=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,hte=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,mte=/Z|[+-]\d\d(?::?\d\d)?/,ud=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],gp=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],pte=/^\/?Date\((-?\d+)/i,gte=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,yte={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function EC(e){var t,r,n=e._i,s=fte.exec(n)||hte.exec(n),a,i,l,c,u=ud.length,d=gp.length;if(s){for(Re(e).iso=!0,t=0,r=u;t<r;t++)if(ud[t][1].exec(s[1])){i=ud[t][0],a=ud[t][2]!==!1;break}if(i==null){e._isValid=!1;return}if(s[3]){for(t=0,r=d;t<r;t++)if(gp[t][1].exec(s[3])){l=(s[2]||" ")+gp[t][0];break}if(l==null){e._isValid=!1;return}}if(!a&&l!=null){e._isValid=!1;return}if(s[4])if(mte.exec(s[4]))c="Z";else{e._isValid=!1;return}e._f=i+(l||"")+(c||""),W0(e)}else e._isValid=!1}function vte(e,t,r,n,s,a){var i=[xte(e),vC.indexOf(t),parseInt(r,10),parseInt(n,10),parseInt(s,10)];return a&&i.push(parseInt(a,10)),i}function xte(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function bte(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function wte(e,t,r){if(e){var n=jC.indexOf(e),s=new Date(t[0],t[1],t[2]).getDay();if(n!==s)return Re(r).weekdayMismatch=!0,r._isValid=!1,!1}return!0}function Nte(e,t,r){if(e)return yte[e];if(t)return 0;var n=parseInt(r,10),s=n%100,a=(n-s)/100;return a*60+s}function CC(e){var t=gte.exec(bte(e._i)),r;if(t){if(r=vte(t[4],t[3],t[2],t[5],t[6],t[7]),!wte(t[1],r,e))return;e._a=r,e._tzm=Nte(t[8],t[9],t[10]),e._d=Wc.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),Re(e).rfc2822=!0}else e._isValid=!1}function Ste(e){var t=pte.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}if(EC(e),e._isValid===!1)delete e._isValid;else return;if(CC(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:ue.createFromInputFallback(e)}ue.createFromInputFallback=tn("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function Bi(e,t,r){return e??t??r}function jte(e){var t=new Date(ue.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function F0(e){var t,r,n=[],s,a,i;if(!e._d){for(s=jte(e),e._w&&e._a[Vn]==null&&e._a[vs]==null&&_te(e),e._dayOfYear!=null&&(i=Bi(e._a[er],s[er]),(e._dayOfYear>Zl(i)||e._dayOfYear===0)&&(Re(e)._overflowDayOfYear=!0),r=Wc(i,0,e._dayOfYear),e._a[vs]=r.getUTCMonth(),e._a[Vn]=r.getUTCDate()),t=0;t<3&&e._a[t]==null;++t)e._a[t]=n[t]=s[t];for(;t<7;t++)e._a[t]=n[t]=e._a[t]==null?t===2?1:0:e._a[t];e._a[$t]===24&&e._a[pn]===0&&e._a[xs]===0&&e._a[ei]===0&&(e._nextDay=!0,e._a[$t]=0),e._d=(e._useUTC?Wc:Pee).apply(null,n),a=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[$t]=24),e._w&&typeof e._w.d<"u"&&e._w.d!==a&&(Re(e).weekdayMismatch=!0)}}function _te(e){var t,r,n,s,a,i,l,c,u;t=e._w,t.GG!=null||t.W!=null||t.E!=null?(a=1,i=4,r=Bi(t.GG,e._a[er],Bc(lt(),1,4).year),n=Bi(t.W,1),s=Bi(t.E,1),(s<1||s>7)&&(c=!0)):(a=e._locale._week.dow,i=e._locale._week.doy,u=Bc(lt(),a,i),r=Bi(t.gg,e._a[er],u.year),n=Bi(t.w,u.week),t.d!=null?(s=t.d,(s<0||s>6)&&(c=!0)):t.e!=null?(s=t.e+a,(t.e<0||t.e>6)&&(c=!0)):s=a),n<1||n>Ss(r,a,i)?Re(e)._overflowWeeks=!0:c!=null?Re(e)._overflowWeekday=!0:(l=SC(r,n,s,a,i),e._a[er]=l.year,e._dayOfYear=l.dayOfYear)}ue.ISO_8601=function(){};ue.RFC_2822=function(){};function W0(e){if(e._f===ue.ISO_8601){EC(e);return}if(e._f===ue.RFC_2822){CC(e);return}e._a=[],Re(e).empty=!0;var t=""+e._i,r,n,s,a,i,l=t.length,c=0,u,d;for(s=dC(e._f,e._locale).match(E0)||[],d=s.length,r=0;r<d;r++)a=s[r],n=(t.match(fee(a,e))||[])[0],n&&(i=t.substr(0,t.indexOf(n)),i.length>0&&Re(e).unusedInput.push(i),t=t.slice(t.indexOf(n)+n.length),c+=n.length),co[a]?(n?Re(e).empty=!1:Re(e).unusedTokens.push(a),mee(a,n,e)):e._strict&&!n&&Re(e).unusedTokens.push(a);Re(e).charsLeftOver=l-c,t.length>0&&Re(e).unusedInput.push(t),e._a[$t]<=12&&Re(e).bigHour===!0&&e._a[$t]>0&&(Re(e).bigHour=void 0),Re(e).parsedDateParts=e._a.slice(0),Re(e).meridiem=e._meridiem,e._a[$t]=Dte(e._locale,e._a[$t],e._meridiem),u=Re(e).era,u!==null&&(e._a[er]=e._locale.erasConvertYear(u,e._a[er])),F0(e),I0(e)}function Dte(e,t,r){var n;return r==null?t:e.meridiemHour!=null?e.meridiemHour(t,r):(e.isPM!=null&&(n=e.isPM(r),n&&t<12&&(t+=12),!n&&t===12&&(t=0)),t)}function kte(e){var t,r,n,s,a,i,l=!1,c=e._f.length;if(c===0){Re(e).invalidFormat=!0,e._d=new Date(NaN);return}for(s=0;s<c;s++)a=0,i=!1,t=D0({},e),e._useUTC!=null&&(t._useUTC=e._useUTC),t._f=e._f[s],W0(t),_0(t)&&(i=!0),a+=Re(t).charsLeftOver,a+=Re(t).unusedTokens.length*10,Re(t).score=a,l?a<n&&(n=a,r=t):(n==null||a<n||i)&&(n=a,r=t,i&&(l=!0));ua(e,r||t)}function Ete(e){if(!e._d){var t=C0(e._i),r=t.day===void 0?t.date:t.day;e._a=lC([t.year,t.month,r,t.hour,t.minute,t.second,t.millisecond],function(n){return n&&parseInt(n,10)}),F0(e)}}function Cte(e){var t=new Su(I0(TC(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function TC(e){var t=e._i,r=e._f;return e._locale=e._locale||Is(e._l),t===null||r===void 0&&t===""?sm({nullInput:!0}):(typeof t=="string"&&(e._i=t=e._locale.preparse(t)),jn(t)?new Su(I0(t)):(Nu(t)?e._d=t:Sn(r)?kte(e):r?W0(e):Tte(e),_0(e)||(e._d=null),e))}function Tte(e){var t=e._i;pr(t)?e._d=new Date(ue.now()):Nu(t)?e._d=new Date(t.valueOf()):typeof t=="string"?Ste(e):Sn(t)?(e._a=lC(t.slice(0),function(r){return parseInt(r,10)}),F0(e)):fi(t)?Ete(e):As(t)?e._d=new Date(t):ue.createFromInputFallback(e)}function PC(e,t,r,n,s){var a={};return(t===!0||t===!1)&&(n=t,t=void 0),(r===!0||r===!1)&&(n=r,r=void 0),(fi(e)&&j0(e)||Sn(e)&&e.length===0)&&(e=void 0),a._isAMomentObject=!0,a._useUTC=a._isUTC=s,a._l=r,a._i=e,a._f=t,a._strict=n,Cte(a)}function lt(e,t,r,n){return PC(e,t,r,n,!1)}var Pte=tn("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=lt.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:sm()}),Ate=tn("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=lt.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:sm()});function AC(e,t){var r,n;if(t.length===1&&Sn(t[0])&&(t=t[0]),!t.length)return lt();for(r=t[0],n=1;n<t.length;++n)(!t[n].isValid()||t[n][e](r))&&(r=t[n]);return r}function Ote(){var e=[].slice.call(arguments,0);return AC("isBefore",e)}function Mte(){var e=[].slice.call(arguments,0);return AC("isAfter",e)}var $te=function(){return Date.now?Date.now():+new Date},Pl=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Rte(e){var t,r=!1,n,s=Pl.length;for(t in e)if(Ve(e,t)&&!(Nt.call(Pl,t)!==-1&&(e[t]==null||!isNaN(e[t]))))return!1;for(n=0;n<s;++n)if(e[Pl[n]]){if(r)return!1;parseFloat(e[Pl[n]])!==Fe(e[Pl[n]])&&(r=!0)}return!0}function Lte(){return this._isValid}function Ite(){return Tn(NaN)}function fm(e){var t=C0(e),r=t.year||0,n=t.quarter||0,s=t.month||0,a=t.week||t.isoWeek||0,i=t.day||0,l=t.hour||0,c=t.minute||0,u=t.second||0,d=t.millisecond||0;this._isValid=Rte(t),this._milliseconds=+d+u*1e3+c*6e4+l*1e3*60*60,this._days=+i+a*7,this._months=+s+n*3+r*12,this._data={},this._locale=Is(),this._bubble()}function Ud(e){return e instanceof fm}function sy(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function Fte(e,t,r){var n=Math.min(e.length,t.length),s=Math.abs(e.length-t.length),a=0,i;for(i=0;i<n;i++)Fe(e[i])!==Fe(t[i])&&a++;return a+s}function OC(e,t){Te(e,0,0,function(){var r=this.utcOffset(),n="+";return r<0&&(r=-r,n="-"),n+ts(~~(r/60),2)+t+ts(~~r%60,2)})}OC("Z",":");OC("ZZ","");je("Z",cm);je("ZZ",cm);Je(["Z","ZZ"],function(e,t,r){r._useUTC=!0,r._tzm=B0(cm,e)});var Wte=/([\+\-]|\d\d)/gi;function B0(e,t){var r=(t||"").match(e),n,s,a;return r===null?null:(n=r[r.length-1]||[],s=(n+"").match(Wte)||["-",0,0],a=+(s[1]*60)+Fe(s[2]),a===0?0:s[0]==="+"?a:-a)}function U0(e,t){var r,n;return t._isUTC?(r=t.clone(),n=(jn(e)||Nu(e)?e.valueOf():lt(e).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+n),ue.updateOffset(r,!1),r):lt(e).local()}function ay(e){return-Math.round(e._d.getTimezoneOffset())}ue.updateOffset=function(){};function Bte(e,t,r){var n=this._offset||0,s;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=B0(cm,e),e===null)return this}else Math.abs(e)<16&&!r&&(e=e*60);return!this._isUTC&&t&&(s=ay(this)),this._offset=e,this._isUTC=!0,s!=null&&this.add(s,"m"),n!==e&&(!t||this._changeInProgress?RC(this,Tn(e-n,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,ue.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?n:ay(this)}function Ute(e,t){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function Hte(e){return this.utcOffset(0,e)}function zte(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(ay(this),"m")),this}function Vte(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=B0(uee,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function Yte(e){return this.isValid()?(e=e?lt(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function qte(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Kte(){if(!pr(this._isDSTShifted))return this._isDSTShifted;var e={},t;return D0(e,this),e=TC(e),e._a?(t=e._isUTC?ns(e._a):lt(e._a),this._isDSTShifted=this.isValid()&&Fte(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Gte(){return this.isValid()?!this._isUTC:!1}function Xte(){return this.isValid()?this._isUTC:!1}function MC(){return this.isValid()?this._isUTC&&this._offset===0:!1}var Qte=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Jte=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Tn(e,t){var r=e,n=null,s,a,i;return Ud(e)?r={ms:e._milliseconds,d:e._days,M:e._months}:As(e)||!isNaN(+e)?(r={},t?r[t]=+e:r.milliseconds=+e):(n=Qte.exec(e))?(s=n[1]==="-"?-1:1,r={y:0,d:Fe(n[Vn])*s,h:Fe(n[$t])*s,m:Fe(n[pn])*s,s:Fe(n[xs])*s,ms:Fe(sy(n[ei]*1e3))*s}):(n=Jte.exec(e))?(s=n[1]==="-"?-1:1,r={y:Ha(n[2],s),M:Ha(n[3],s),w:Ha(n[4],s),d:Ha(n[5],s),h:Ha(n[6],s),m:Ha(n[7],s),s:Ha(n[8],s)}):r==null?r={}:typeof r=="object"&&("from"in r||"to"in r)&&(i=Zte(lt(r.from),lt(r.to)),r={},r.ms=i.milliseconds,r.M=i.months),a=new fm(r),Ud(e)&&Ve(e,"_locale")&&(a._locale=e._locale),Ud(e)&&Ve(e,"_isValid")&&(a._isValid=e._isValid),a}Tn.fn=fm.prototype;Tn.invalid=Ite;function Ha(e,t){var r=e&&parseFloat(e.replace(",","."));return(isNaN(r)?0:r)*t}function eN(e,t){var r={};return r.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(r.months,"M").isAfter(t)&&--r.months,r.milliseconds=+t-+e.clone().add(r.months,"M"),r}function Zte(e,t){var r;return e.isValid()&&t.isValid()?(t=U0(t,e),e.isBefore(t)?r=eN(e,t):(r=eN(t,e),r.milliseconds=-r.milliseconds,r.months=-r.months),r):{milliseconds:0,months:0}}function $C(e,t){return function(r,n){var s,a;return n!==null&&!isNaN(+n)&&(uC(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),a=r,r=n,n=a),s=Tn(r,n),RC(this,s,e),this}}function RC(e,t,r,n){var s=t._milliseconds,a=sy(t._days),i=sy(t._months);e.isValid()&&(n=n??!0,i&&bC(e,Fc(e,"Month")+i*r),a&&yC(e,"Date",Fc(e,"Date")+a*r),s&&e._d.setTime(e._d.valueOf()+s*r),n&&ue.updateOffset(e,a||i))}var ere=$C(1,"add"),tre=$C(-1,"subtract");function LC(e){return typeof e=="string"||e instanceof String}function rre(e){return jn(e)||Nu(e)||LC(e)||As(e)||sre(e)||nre(e)||e===null||e===void 0}function nre(e){var t=fi(e)&&!j0(e),r=!1,n=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],s,a,i=n.length;for(s=0;s<i;s+=1)a=n[s],r=r||Ve(e,a);return t&&r}function sre(e){var t=Sn(e),r=!1;return t&&(r=e.filter(function(n){return!As(n)&&LC(e)}).length===0),t&&r}function are(e){var t=fi(e)&&!j0(e),r=!1,n=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],s,a;for(s=0;s<n.length;s+=1)a=n[s],r=r||Ve(e,a);return t&&r}function ire(e,t){var r=e.diff(t,"days",!0);return r<-6?"sameElse":r<-1?"lastWeek":r<0?"lastDay":r<1?"sameDay":r<2?"nextDay":r<7?"nextWeek":"sameElse"}function ore(e,t){arguments.length===1&&(arguments[0]?rre(arguments[0])?(e=arguments[0],t=void 0):are(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var r=e||lt(),n=U0(r,this).startOf("day"),s=ue.calendarFormat(this,n)||"sameElse",a=t&&(ss(t[s])?t[s].call(this,r):t[s]);return this.format(a||this.localeData().calendar(s,this,lt(r)))}function lre(){return new Su(this)}function cre(e,t){var r=jn(e)?e:lt(e);return this.isValid()&&r.isValid()?(t=rn(t)||"millisecond",t==="millisecond"?this.valueOf()>r.valueOf():r.valueOf()<this.clone().startOf(t).valueOf()):!1}function ure(e,t){var r=jn(e)?e:lt(e);return this.isValid()&&r.isValid()?(t=rn(t)||"millisecond",t==="millisecond"?this.valueOf()<r.valueOf():this.clone().endOf(t).valueOf()<r.valueOf()):!1}function dre(e,t,r,n){var s=jn(e)?e:lt(e),a=jn(t)?t:lt(t);return this.isValid()&&s.isValid()&&a.isValid()?(n=n||"()",(n[0]==="("?this.isAfter(s,r):!this.isBefore(s,r))&&(n[1]===")"?this.isBefore(a,r):!this.isAfter(a,r))):!1}function fre(e,t){var r=jn(e)?e:lt(e),n;return this.isValid()&&r.isValid()?(t=rn(t)||"millisecond",t==="millisecond"?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf())):!1}function hre(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function mre(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function pre(e,t,r){var n,s,a;if(!this.isValid())return NaN;if(n=U0(e,this),!n.isValid())return NaN;switch(s=(n.utcOffset()-this.utcOffset())*6e4,t=rn(t),t){case"year":a=Hd(this,n)/12;break;case"month":a=Hd(this,n);break;case"quarter":a=Hd(this,n)/3;break;case"second":a=(this-n)/1e3;break;case"minute":a=(this-n)/6e4;break;case"hour":a=(this-n)/36e5;break;case"day":a=(this-n-s)/864e5;break;case"week":a=(this-n-s)/6048e5;break;default:a=this-n}return r?a:Hr(a)}function Hd(e,t){if(e.date()<t.date())return-Hd(t,e);var r=(t.year()-e.year())*12+(t.month()-e.month()),n=e.clone().add(r,"months"),s,a;return t-n<0?(s=e.clone().add(r-1,"months"),a=(t-n)/(n-s)):(s=e.clone().add(r+1,"months"),a=(t-n)/(s-n)),-(r+a)||0}ue.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";ue.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function gre(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function yre(e){if(!this.isValid())return null;var t=e!==!0,r=t?this.clone().utc():this;return r.year()<0||r.year()>9999?Bd(r,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):ss(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",Bd(r,"Z")):Bd(r,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function vre(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="",r,n,s,a;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),r="["+e+'("]',n=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",s="-MM-DD[T]HH:mm:ss.SSS",a=t+'[")]',this.format(r+n+s+a)}function xre(e){e||(e=this.isUtc()?ue.defaultFormatUtc:ue.defaultFormat);var t=Bd(this,e);return this.localeData().postformat(t)}function bre(e,t){return this.isValid()&&(jn(e)&&e.isValid()||lt(e).isValid())?Tn({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function wre(e){return this.from(lt(),e)}function Nre(e,t){return this.isValid()&&(jn(e)&&e.isValid()||lt(e).isValid())?Tn({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function Sre(e){return this.to(lt(),e)}function IC(e){var t;return e===void 0?this._locale._abbr:(t=Is(e),t!=null&&(this._locale=t),this)}var FC=tn("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function WC(){return this._locale}var If=1e3,uo=60*If,Ff=60*uo,BC=(365*400+97)*24*Ff;function fo(e,t){return(e%t+t)%t}function UC(e,t,r){return e<100&&e>=0?new Date(e+400,t,r)-BC:new Date(e,t,r).valueOf()}function HC(e,t,r){return e<100&&e>=0?Date.UTC(e+400,t,r)-BC:Date.UTC(e,t,r)}function jre(e){var t,r;if(e=rn(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(r=this._isUTC?HC:UC,e){case"year":t=r(this.year(),0,1);break;case"quarter":t=r(this.year(),this.month()-this.month()%3,1);break;case"month":t=r(this.year(),this.month(),1);break;case"week":t=r(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=r(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=fo(t+(this._isUTC?0:this.utcOffset()*uo),Ff);break;case"minute":t=this._d.valueOf(),t-=fo(t,uo);break;case"second":t=this._d.valueOf(),t-=fo(t,If);break}return this._d.setTime(t),ue.updateOffset(this,!0),this}function _re(e){var t,r;if(e=rn(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(r=this._isUTC?HC:UC,e){case"year":t=r(this.year()+1,0,1)-1;break;case"quarter":t=r(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=r(this.year(),this.month()+1,1)-1;break;case"week":t=r(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=r(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=Ff-fo(t+(this._isUTC?0:this.utcOffset()*uo),Ff)-1;break;case"minute":t=this._d.valueOf(),t+=uo-fo(t,uo)-1;break;case"second":t=this._d.valueOf(),t+=If-fo(t,If)-1;break}return this._d.setTime(t),ue.updateOffset(this,!0),this}function Dre(){return this._d.valueOf()-(this._offset||0)*6e4}function kre(){return Math.floor(this.valueOf()/1e3)}function Ere(){return new Date(this.valueOf())}function Cre(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function Tre(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function Pre(){return this.isValid()?this.toISOString():null}function Are(){return _0(this)}function Ore(){return ua({},Re(this))}function Mre(){return Re(this).overflow}function $re(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}Te("N",0,0,"eraAbbr");Te("NN",0,0,"eraAbbr");Te("NNN",0,0,"eraAbbr");Te("NNNN",0,0,"eraName");Te("NNNNN",0,0,"eraNarrow");Te("y",["y",1],"yo","eraYear");Te("y",["yy",2],0,"eraYear");Te("y",["yyy",3],0,"eraYear");Te("y",["yyyy",4],0,"eraYear");je("N",H0);je("NN",H0);je("NNN",H0);je("NNNN",Yre);je("NNNNN",qre);Je(["N","NN","NNN","NNNN","NNNNN"],function(e,t,r,n){var s=r._locale.erasParse(e,n,r._strict);s?Re(r).era=s:Re(r).invalidEra=e});je("y",cl);je("yy",cl);je("yyy",cl);je("yyyy",cl);je("yo",Kre);Je(["y","yy","yyy","yyyy"],er);Je(["yo"],function(e,t,r,n){var s;r._locale._eraYearOrdinalRegex&&(s=e.match(r._locale._eraYearOrdinalRegex)),r._locale.eraYearOrdinalParse?t[er]=r._locale.eraYearOrdinalParse(e,s):t[er]=parseInt(e,10)});function Rre(e,t){var r,n,s,a=this._eras||Is("en")._eras;for(r=0,n=a.length;r<n;++r){switch(typeof a[r].since){case"string":s=ue(a[r].since).startOf("day"),a[r].since=s.valueOf();break}switch(typeof a[r].until){case"undefined":a[r].until=1/0;break;case"string":s=ue(a[r].until).startOf("day").valueOf(),a[r].until=s.valueOf();break}}return a}function Lre(e,t,r){var n,s,a=this.eras(),i,l,c;for(e=e.toUpperCase(),n=0,s=a.length;n<s;++n)if(i=a[n].name.toUpperCase(),l=a[n].abbr.toUpperCase(),c=a[n].narrow.toUpperCase(),r)switch(t){case"N":case"NN":case"NNN":if(l===e)return a[n];break;case"NNNN":if(i===e)return a[n];break;case"NNNNN":if(c===e)return a[n];break}else if([i,l,c].indexOf(e)>=0)return a[n]}function Ire(e,t){var r=e.since<=e.until?1:-1;return t===void 0?ue(e.since).year():ue(e.since).year()+(t-e.offset)*r}function Fre(){var e,t,r,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e)if(r=this.clone().startOf("day").valueOf(),n[e].since<=r&&r<=n[e].until||n[e].until<=r&&r<=n[e].since)return n[e].name;return""}function Wre(){var e,t,r,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e)if(r=this.clone().startOf("day").valueOf(),n[e].since<=r&&r<=n[e].until||n[e].until<=r&&r<=n[e].since)return n[e].narrow;return""}function Bre(){var e,t,r,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e)if(r=this.clone().startOf("day").valueOf(),n[e].since<=r&&r<=n[e].until||n[e].until<=r&&r<=n[e].since)return n[e].abbr;return""}function Ure(){var e,t,r,n,s=this.localeData().eras();for(e=0,t=s.length;e<t;++e)if(r=s[e].since<=s[e].until?1:-1,n=this.clone().startOf("day").valueOf(),s[e].since<=n&&n<=s[e].until||s[e].until<=n&&n<=s[e].since)return(this.year()-ue(s[e].since).year())*r+s[e].offset;return this.year()}function Hre(e){return Ve(this,"_erasNameRegex")||z0.call(this),e?this._erasNameRegex:this._erasRegex}function zre(e){return Ve(this,"_erasAbbrRegex")||z0.call(this),e?this._erasAbbrRegex:this._erasRegex}function Vre(e){return Ve(this,"_erasNarrowRegex")||z0.call(this),e?this._erasNarrowRegex:this._erasRegex}function H0(e,t){return t.erasAbbrRegex(e)}function Yre(e,t){return t.erasNameRegex(e)}function qre(e,t){return t.erasNarrowRegex(e)}function Kre(e,t){return t._eraYearOrdinalRegex||cl}function z0(){var e=[],t=[],r=[],n=[],s,a,i,l,c,u=this.eras();for(s=0,a=u.length;s<a;++s)i=Ns(u[s].name),l=Ns(u[s].abbr),c=Ns(u[s].narrow),t.push(i),e.push(l),r.push(c),n.push(i),n.push(l),n.push(c);this._erasRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+r.join("|")+")","i")}Te(0,["gg",2],0,function(){return this.weekYear()%100});Te(0,["GG",2],0,function(){return this.isoWeekYear()%100});function hm(e,t){Te(0,[e,e.length],0,t)}hm("gggg","weekYear");hm("ggggg","weekYear");hm("GGGG","isoWeekYear");hm("GGGGG","isoWeekYear");je("G",lm);je("g",lm);je("GG",ct,Lr);je("gg",ct,Lr);je("GGGG",P0,T0);je("gggg",P0,T0);je("GGGGG",om,am);je("ggggg",om,am);_u(["gggg","ggggg","GGGG","GGGGG"],function(e,t,r,n){t[n.substr(0,2)]=Fe(e)});_u(["gg","GG"],function(e,t,r,n){t[n]=ue.parseTwoDigitYear(e)});function Gre(e){return zC.call(this,e,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function Xre(e){return zC.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Qre(){return Ss(this.year(),1,4)}function Jre(){return Ss(this.isoWeekYear(),1,4)}function Zre(){var e=this.localeData()._week;return Ss(this.year(),e.dow,e.doy)}function ene(){var e=this.localeData()._week;return Ss(this.weekYear(),e.dow,e.doy)}function zC(e,t,r,n,s){var a;return e==null?Bc(this,n,s).year:(a=Ss(e,n,s),t>a&&(t=a),tne.call(this,e,t,r,n,s))}function tne(e,t,r,n,s){var a=SC(e,t,r,n,s),i=Wc(a.year,0,a.dayOfYear);return this.year(i.getUTCFullYear()),this.month(i.getUTCMonth()),this.date(i.getUTCDate()),this}Te("Q",0,"Qo","quarter");je("Q",fC);Je("Q",function(e,t){t[vs]=(Fe(e)-1)*3});function rne(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}Te("D",["DD",2],"Do","date");je("D",ct,ul);je("DD",ct,Lr);je("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient});Je(["D","DD"],Vn);Je("Do",function(e,t){t[Vn]=Fe(e.match(ct)[0])});var VC=dl("Date",!0);Te("DDD",["DDDD",3],"DDDo","dayOfYear");je("DDD",im);je("DDDD",hC);Je(["DDD","DDDD"],function(e,t,r){r._dayOfYear=Fe(e)});function nne(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}Te("m",["mm",2],0,"minute");je("m",ct,A0);je("mm",ct,Lr);Je(["m","mm"],pn);var sne=dl("Minutes",!1);Te("s",["ss",2],0,"second");je("s",ct,A0);je("ss",ct,Lr);Je(["s","ss"],xs);var ane=dl("Seconds",!1);Te("S",0,0,function(){return~~(this.millisecond()/100)});Te(0,["SS",2],0,function(){return~~(this.millisecond()/10)});Te(0,["SSS",3],0,"millisecond");Te(0,["SSSS",4],0,function(){return this.millisecond()*10});Te(0,["SSSSS",5],0,function(){return this.millisecond()*100});Te(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});Te(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});Te(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});Te(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});je("S",im,fC);je("SS",im,Lr);je("SSS",im,hC);var da,YC;for(da="SSSS";da.length<=9;da+="S")je(da,cl);function ine(e,t){t[ei]=Fe(("0."+e)*1e3)}for(da="S";da.length<=9;da+="S")Je(da,ine);YC=dl("Milliseconds",!1);Te("z",0,0,"zoneAbbr");Te("zz",0,0,"zoneName");function one(){return this._isUTC?"UTC":""}function lne(){return this._isUTC?"Coordinated Universal Time":""}var me=Su.prototype;me.add=ere;me.calendar=ore;me.clone=lre;me.diff=pre;me.endOf=_re;me.format=xre;me.from=bre;me.fromNow=wre;me.to=Nre;me.toNow=Sre;me.get=vee;me.invalidAt=Mre;me.isAfter=cre;me.isBefore=ure;me.isBetween=dre;me.isSame=fre;me.isSameOrAfter=hre;me.isSameOrBefore=mre;me.isValid=Are;me.lang=FC;me.locale=IC;me.localeData=WC;me.max=Ate;me.min=Pte;me.parsingFlags=Ore;me.set=xee;me.startOf=jre;me.subtract=tre;me.toArray=Cre;me.toObject=Tre;me.toDate=Ere;me.toISOString=yre;me.inspect=vre;typeof Symbol<"u"&&Symbol.for!=null&&(me[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});me.toJSON=Pre;me.toString=gre;me.unix=kre;me.valueOf=Dre;me.creationData=$re;me.eraName=Fre;me.eraNarrow=Wre;me.eraAbbr=Bre;me.eraYear=Ure;me.year=gC;me.isLeapYear=yee;me.weekYear=Gre;me.isoWeekYear=Xre;me.quarter=me.quarters=rne;me.month=wC;me.daysInMonth=Eee;me.week=me.weeks=Ree;me.isoWeek=me.isoWeeks=Lee;me.weeksInYear=Zre;me.weeksInWeekYear=ene;me.isoWeeksInYear=Qre;me.isoWeeksInISOWeekYear=Jre;me.date=VC;me.day=me.days=Xee;me.weekday=Qee;me.isoWeekday=Jee;me.dayOfYear=nne;me.hour=me.hours=ate;me.minute=me.minutes=sne;me.second=me.seconds=ane;me.millisecond=me.milliseconds=YC;me.utcOffset=Bte;me.utc=Hte;me.local=zte;me.parseZone=Vte;me.hasAlignedHourOffset=Yte;me.isDST=qte;me.isLocal=Gte;me.isUtcOffset=Xte;me.isUtc=MC;me.isUTC=MC;me.zoneAbbr=one;me.zoneName=lne;me.dates=tn("dates accessor is deprecated. Use date instead.",VC);me.months=tn("months accessor is deprecated. Use month instead",wC);me.years=tn("years accessor is deprecated. Use year instead",gC);me.zone=tn("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Ute);me.isDSTShifted=tn("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Kte);function cne(e){return lt(e*1e3)}function une(){return lt.apply(null,arguments).parseZone()}function qC(e){return e}var Ye=k0.prototype;Ye.calendar=GZ;Ye.longDateFormat=ZZ;Ye.invalidDate=tee;Ye.ordinal=see;Ye.preparse=qC;Ye.postformat=qC;Ye.relativeTime=iee;Ye.pastFuture=oee;Ye.set=qZ;Ye.eras=Rre;Ye.erasParse=Lre;Ye.erasConvertYear=Ire;Ye.erasAbbrRegex=zre;Ye.erasNameRegex=Hre;Ye.erasNarrowRegex=Vre;Ye.months=jee;Ye.monthsShort=_ee;Ye.monthsParse=kee;Ye.monthsRegex=Tee;Ye.monthsShortRegex=Cee;Ye.week=Aee;Ye.firstDayOfYear=$ee;Ye.firstDayOfWeek=Mee;Ye.weekdays=Vee;Ye.weekdaysMin=qee;Ye.weekdaysShort=Yee;Ye.weekdaysParse=Gee;Ye.weekdaysRegex=Zee;Ye.weekdaysShortRegex=ete;Ye.weekdaysMinRegex=tte;Ye.isPM=nte;Ye.meridiem=ite;function Wf(e,t,r,n){var s=Is(),a=ns().set(n,t);return s[r](a,e)}function KC(e,t,r){if(As(e)&&(t=e,e=void 0),e=e||"",t!=null)return Wf(e,t,r,"month");var n,s=[];for(n=0;n<12;n++)s[n]=Wf(e,n,r,"month");return s}function V0(e,t,r,n){typeof e=="boolean"?(As(t)&&(r=t,t=void 0),t=t||""):(t=e,r=t,e=!1,As(t)&&(r=t,t=void 0),t=t||"");var s=Is(),a=e?s._week.dow:0,i,l=[];if(r!=null)return Wf(t,(r+a)%7,n,"day");for(i=0;i<7;i++)l[i]=Wf(t,(i+a)%7,n,"day");return l}function dne(e,t){return KC(e,t,"months")}function fne(e,t){return KC(e,t,"monthsShort")}function hne(e,t,r){return V0(e,t,r,"weekdays")}function mne(e,t,r){return V0(e,t,r,"weekdaysShort")}function pne(e,t,r){return V0(e,t,r,"weekdaysMin")}wa("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,r=Fe(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+r}});ue.lang=tn("moment.lang is deprecated. Use moment.locale instead.",wa);ue.langData=tn("moment.langData is deprecated. Use moment.localeData instead.",Is);var cs=Math.abs;function gne(){var e=this._data;return this._milliseconds=cs(this._milliseconds),this._days=cs(this._days),this._months=cs(this._months),e.milliseconds=cs(e.milliseconds),e.seconds=cs(e.seconds),e.minutes=cs(e.minutes),e.hours=cs(e.hours),e.months=cs(e.months),e.years=cs(e.years),this}function GC(e,t,r,n){var s=Tn(t,r);return e._milliseconds+=n*s._milliseconds,e._days+=n*s._days,e._months+=n*s._months,e._bubble()}function yne(e,t){return GC(this,e,t,1)}function vne(e,t){return GC(this,e,t,-1)}function tN(e){return e<0?Math.floor(e):Math.ceil(e)}function xne(){var e=this._milliseconds,t=this._days,r=this._months,n=this._data,s,a,i,l,c;return e>=0&&t>=0&&r>=0||e<=0&&t<=0&&r<=0||(e+=tN(iy(r)+t)*864e5,t=0,r=0),n.milliseconds=e%1e3,s=Hr(e/1e3),n.seconds=s%60,a=Hr(s/60),n.minutes=a%60,i=Hr(a/60),n.hours=i%24,t+=Hr(i/24),c=Hr(XC(t)),r+=c,t-=tN(iy(c)),l=Hr(r/12),r%=12,n.days=t,n.months=r,n.years=l,this}function XC(e){return e*4800/146097}function iy(e){return e*146097/4800}function bne(e){if(!this.isValid())return NaN;var t,r,n=this._milliseconds;if(e=rn(e),e==="month"||e==="quarter"||e==="year")switch(t=this._days+n/864e5,r=this._months+XC(t),e){case"month":return r;case"quarter":return r/3;case"year":return r/12}else switch(t=this._days+Math.round(iy(this._months)),e){case"week":return t/7+n/6048e5;case"day":return t+n/864e5;case"hour":return t*24+n/36e5;case"minute":return t*1440+n/6e4;case"second":return t*86400+n/1e3;case"millisecond":return Math.floor(t*864e5)+n;default:throw new Error("Unknown unit "+e)}}function Fs(e){return function(){return this.as(e)}}var QC=Fs("ms"),wne=Fs("s"),Nne=Fs("m"),Sne=Fs("h"),jne=Fs("d"),_ne=Fs("w"),Dne=Fs("M"),kne=Fs("Q"),Ene=Fs("y"),Cne=QC;function Tne(){return Tn(this)}function Pne(e){return e=rn(e),this.isValid()?this[e+"s"]():NaN}function Oi(e){return function(){return this.isValid()?this._data[e]:NaN}}var Ane=Oi("milliseconds"),One=Oi("seconds"),Mne=Oi("minutes"),$ne=Oi("hours"),Rne=Oi("days"),Lne=Oi("months"),Ine=Oi("years");function Fne(){return Hr(this.days()/7)}var fs=Math.round,to={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Wne(e,t,r,n,s){return s.relativeTime(t||1,!!r,e,n)}function Bne(e,t,r,n){var s=Tn(e).abs(),a=fs(s.as("s")),i=fs(s.as("m")),l=fs(s.as("h")),c=fs(s.as("d")),u=fs(s.as("M")),d=fs(s.as("w")),f=fs(s.as("y")),h=a<=r.ss&&["s",a]||a<r.s&&["ss",a]||i<=1&&["m"]||i<r.m&&["mm",i]||l<=1&&["h"]||l<r.h&&["hh",l]||c<=1&&["d"]||c<r.d&&["dd",c];return r.w!=null&&(h=h||d<=1&&["w"]||d<r.w&&["ww",d]),h=h||u<=1&&["M"]||u<r.M&&["MM",u]||f<=1&&["y"]||["yy",f],h[2]=t,h[3]=+e>0,h[4]=n,Wne.apply(null,h)}function Une(e){return e===void 0?fs:typeof e=="function"?(fs=e,!0):!1}function Hne(e,t){return to[e]===void 0?!1:t===void 0?to[e]:(to[e]=t,e==="s"&&(to.ss=t-1),!0)}function zne(e,t){if(!this.isValid())return this.localeData().invalidDate();var r=!1,n=to,s,a;return typeof e=="object"&&(t=e,e=!1),typeof e=="boolean"&&(r=e),typeof t=="object"&&(n=Object.assign({},to,t),t.s!=null&&t.ss==null&&(n.ss=t.s-1)),s=this.localeData(),a=Bne(this,!r,n,s),r&&(a=s.pastFuture(+this,a)),s.postformat(a)}var yp=Math.abs;function Fi(e){return(e>0)-(e<0)||+e}function mm(){if(!this.isValid())return this.localeData().invalidDate();var e=yp(this._milliseconds)/1e3,t=yp(this._days),r=yp(this._months),n,s,a,i,l=this.asSeconds(),c,u,d,f;return l?(n=Hr(e/60),s=Hr(n/60),e%=60,n%=60,a=Hr(r/12),r%=12,i=e?e.toFixed(3).replace(/\.?0+$/,""):"",c=l<0?"-":"",u=Fi(this._months)!==Fi(l)?"-":"",d=Fi(this._days)!==Fi(l)?"-":"",f=Fi(this._milliseconds)!==Fi(l)?"-":"",c+"P"+(a?u+a+"Y":"")+(r?u+r+"M":"")+(t?d+t+"D":"")+(s||n||e?"T":"")+(s?f+s+"H":"")+(n?f+n+"M":"")+(e?f+i+"S":"")):"P0D"}var He=fm.prototype;He.isValid=Lte;He.abs=gne;He.add=yne;He.subtract=vne;He.as=bne;He.asMilliseconds=QC;He.asSeconds=wne;He.asMinutes=Nne;He.asHours=Sne;He.asDays=jne;He.asWeeks=_ne;He.asMonths=Dne;He.asQuarters=kne;He.asYears=Ene;He.valueOf=Cne;He._bubble=xne;He.clone=Tne;He.get=Pne;He.milliseconds=Ane;He.seconds=One;He.minutes=Mne;He.hours=$ne;He.days=Rne;He.weeks=Fne;He.months=Lne;He.years=Ine;He.humanize=zne;He.toISOString=mm;He.toString=mm;He.toJSON=mm;He.locale=IC;He.localeData=WC;He.toIsoString=tn("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",mm);He.lang=FC;Te("X",0,0,"unix");Te("x",0,0,"valueOf");je("x",lm);je("X",dee);Je("X",function(e,t,r){r._d=new Date(parseFloat(e)*1e3)});Je("x",function(e,t,r){r._d=new Date(Fe(e))});//! moment.js
ue.version="2.30.1";VZ(lt);ue.fn=me;ue.min=Ote;ue.max=Mte;ue.now=$te;ue.utc=ns;ue.unix=cne;ue.months=dne;ue.isDate=Nu;ue.locale=wa;ue.invalid=sm;ue.duration=Tn;ue.isMoment=jn;ue.weekdays=hne;ue.parseZone=une;ue.localeData=Is;ue.isDuration=Ud;ue.monthsShort=fne;ue.weekdaysMin=pne;ue.defineLocale=L0;ue.updateLocale=ute;ue.locales=dte;ue.weekdaysShort=mne;ue.normalizeUnits=rn;ue.relativeTimeRounding=Une;ue.relativeTimeThreshold=Hne;ue.calendarFormat=ire;ue.prototype=me;ue.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};ue.updateLocale("ko",{months:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],monthsShort:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],weekdays:["일요일","월요일","화요일","수요일","목요일","금요일","토요일"],weekdaysShort:["일","월","화","수","목","금","토"],weekdaysMin:["일","월","화","수","목","금","토"],longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY년 MMMM D일",LLL:"YYYY년 MMMM D일 A h:mm",LLLL:"YYYY년 MMMM D일 dddd A h:mm"},meridiem:e=>e<12?"오전":"오후",week:{dow:0,doy:1}});ue.locale("ko");const Vne=RQ(ue),Yne=iC(TQ),rN=["#F3F4F6","#F3F4F6","#F3F4F6","#F3F4F6","#F3F4F6","#F3F4F6","#F3F4F6","#F3F4F6","#F3F4F6","#F3F4F6","#F3F4F6","#F3F4F6","#F3F4F6","#F3F4F6","#F3F4F6","#F3F4F6"],ec={"2025-01-01":"신정","2025-01-28":"설날 연휴","2025-01-29":"설날","2025-01-30":"설날 연휴","2025-03-01":"삼일절","2025-03-03":"대체공휴일","2025-05-05":"어린이날","2025-05-06":"부처님오신날","2025-06-06":"현충일","2025-08-15":"광복절","2025-10-03":"개천절","2025-10-05":"추석 연휴","2025-10-06":"추석","2025-10-07":"추석 연휴","2025-10-08":"대체공휴일","2025-10-09":"한글날","2025-12-25":"성탄절"},qne=F.memo(({date:e,label:t,filteredEvents:r,selectedDate:n,user:s,isMobileView:a})=>{const i=ue(e).format("YYYY-MM-DD"),l=ec[i],c=!!ec[i],u=n&&ue(e).isSame(n,"day"),d=r.filter(_=>ue(_.start).isSame(e,"day")),f=d.length,h=d.filter(_=>_.assignedTo&&_.assignedTo.includes((s==null?void 0:s.name)||"")).length,g=f-h,m=t.replace(/^0/,""),p=e.getDay()===0,w=e.getDay()===6;let y="#000000";c||p?y="#dc2626":w&&(y="#3b82f6");const v=ue(e).isSame(ue(),"day"),x=m.length===2,b=a?{backgroundColor:"transparent",color:y,borderRadius:"50%",width:"30px",height:"30px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",fontWeight:v?"700":"400",border:u?"1px solid #1f2937":"1px solid transparent",boxSizing:"border-box",gap:"1px"}:{color:y,fontWeight:v?"700":"400",paddingLeft:x?"0px":"4px"};return o.jsx("div",{className:a?"flex flex-col items-center":"flex items-center gap-2",style:{overflow:"visible",position:"relative",zIndex:10},children:a?o.jsxs("span",{style:b,children:[o.jsx("span",{style:{fontSize:"13px",lineHeight:"1"},children:m}),f>0&&o.jsxs("div",{className:"flex gap-0.5",style:{minHeight:"4px",marginTop:"1px"},children:[Array.from({length:h}).map((_,S)=>o.jsx("div",{style:{width:"4px",height:"4px",borderRadius:"50%",backgroundColor:"#66BB6A",flexShrink:0}},`user-${S}`)),Array.from({length:g}).map((_,S)=>o.jsx("div",{style:{width:"4px",height:"4px",borderRadius:"50%",backgroundColor:"#757575",flexShrink:0}},`other-${S}`))]})]}):o.jsxs(o.Fragment,{children:[o.jsx("span",{style:b,children:m}),l&&o.jsx("span",{className:"text-xs font-medium",style:{color:"#ef4444"},children:l})]})})}),nN=e=>{if(!e)return"";if(e.includes("_")){const t=e.split("_"),r=t[0].substring(0,2),n=t[t.length-1];return`${r}_${n}`}return e},Kne=F.memo(({event:e,user:t})=>{const r=e.assignedTo||[],[n,s]=N.useState(window.innerWidth>=768&&window.innerWidth<1024),[a,i]=N.useState(!1),l=t!=null&&t.name?t.name.slice(-2):null,c=l&&["재천","민기"].includes(l),u=l&&["신애","재성","재현"].includes(l);return N.useEffect(()=>{const d=()=>{s(window.innerWidth>=768&&window.innerWidth<1024)};return window.addEventListener("resize",d),()=>window.removeEventListener("resize",d)},[]),n?o.jsxs("div",{className:"w-full relative block",onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),style:{padding:"2px 4px",minHeight:"40px",display:"flex",flexDirection:"column",justifyContent:"flex-start"},children:[o.jsxs("div",{className:"flex items-center justify-between w-full",style:{fontSize:"11px",opacity:.8,marginBottom:"2px"},children:[!e.isASVisit&&e.projectName&&o.jsxs("span",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:"60%",flexShrink:0},children:["[",nN(e.projectName),"]"]}),r.length>0&&o.jsx("span",{style:{flexShrink:0,fontSize:"11px"},children:r.map((d,f)=>{const h=d==="HV LAB"||d==="현장팀"&&c||d==="디자인팀"&&u||d===(t==null?void 0:t.name);return o.jsxs(F.Fragment,{children:[o.jsx("span",{style:{fontWeight:h?"bold":"normal"},children:d}),f<r.length-1&&"·"]},d)})})]}),o.jsx("div",{style:{fontWeight:500,fontSize:"12px",lineHeight:"1.4",overflow:"hidden",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",wordBreak:"keep-all",textOverflow:"ellipsis"},title:e.title,children:e.title}),a&&o.jsxs("div",{className:"absolute z-50 bg-gray-900 text-white text-xs rounded p-2 shadow-lg",style:{bottom:"100%",left:"0",marginBottom:"4px",minWidth:"200px",maxWidth:"300px"},children:[o.jsx("div",{className:"font-semibold mb-1",children:e.title}),e.projectName&&o.jsxs("div",{className:"opacity-90",children:["프로젝트: ",e.projectName]}),r.length>0&&o.jsxs("div",{className:"opacity-90 mt-1",children:["담당자: ",r.join(", ")]})]})]}):o.jsxs("div",{className:"flex items-center justify-between w-full gap-1.5 overflow-hidden",children:[o.jsxs("div",{className:"flex items-center gap-1.5 overflow-hidden flex-1",children:[!e.isASVisit&&e.projectName&&o.jsxs("span",{className:"text-xs opacity-70 flex-shrink-0",children:["[",nN(e.projectName),"]"]}),o.jsx("span",{className:"font-medium truncate",children:e.title})]}),r.length>0&&o.jsx("span",{className:"text-xs opacity-80 flex-shrink-0 ml-auto",children:r.map((d,f)=>{const h=d==="HV LAB"||d==="현장팀"&&c||d==="디자인팀"&&u||d===(t==null?void 0:t.name);return o.jsxs(F.Fragment,{children:[o.jsx("span",{className:h?"font-bold":"",children:d}),f<r.length-1&&"·"]},d)})})]})}),Gne=()=>{const{schedules:e,loadSchedulesFromAPI:t,addScheduleToAPI:r,updateScheduleInAPI:n,deleteScheduleFromAPI:s,projects:a,asRequests:i,updateASRequestInAPI:l,constructionPayments:c,updateConstructionPaymentInAPI:u}=Zr(),{user:d}=Pa(),f=d!=null&&d.name?d.name.slice(-2):null;console.log("👤 Current user:",d==null?void 0:d.name,"Short name:",f),N.useEffect(()=>{t().catch(D=>{console.error("Failed to load schedules:",D),ne.error("일정을 불러오는데 실패했습니다")})},[t]);const h=D=>{const k=a.findIndex(z=>z.name===D);return k>=0?rN[k%rN.length]:"#e8e2ea"},g=D=>{if(!D||D==="-")return"";const[k,z]=D.split(":"),j=parseInt(k,10),P=parseInt(z,10),L=j>=12?"오후":"오전",K=j>12?j-12:j===0?12:j;return P===0?`${L} ${K}시`:`${L} ${K}시 ${P}분`},m=e.filter(D=>!D.asRequestId).map(D=>{const k=D.project==="비공개"?"[개인일정]":D.project,z=a.find(ie=>ie.name===D.project),j=D.time,P=j&&j!=="-"?` - ${g(j)}`:"",L=D.attendees||[],K=L.includes("상준")||L.includes((d==null?void 0:d.name)||"")||f&&L.includes(f),ee=K?new Date(D.start.getTime()-216e5):D.start;return K&&console.log(`✅ User schedule found: ${D.title}, attendees:`,L),{id:D.id,title:D.title+P,originalTitle:D.title,start:ee,end:D.end,projectId:(z==null?void 0:z.id)||"",projectName:k||"",type:D.type||"other",phase:"",assignedTo:L,priority:"medium",allDay:!j||j==="-",color:h(D.project||""),isASVisit:!1,time:j,description:D.description}}),p=i.filter(D=>D.scheduledVisitDate).map(D=>{const k=D.scheduledVisitTime,z=k&&k!=="-"?` - ${g(k)}`:"",j=a.find(L=>L.name===D.project),P=`[AS] ${D.project}`;return{id:`as-${D.id}`,title:P+z,originalTitle:P,start:D.scheduledVisitDate,end:D.scheduledVisitDate,projectId:(j==null?void 0:j.id)||"",projectName:D.project,type:"as_visit",phase:"",assignedTo:D.assignedTo||[],priority:"high",allDay:!k||k==="-",color:"#FEF3C7",isASVisit:!0,time:k,description:D.description}}),w=(d==null?void 0:d.role)==="manager"?c.flatMap(D=>{var L,K,ee,ie,ye,Se,ke,Ae;const k=a.find(wt=>wt.name===D.project);if(!k){const wt=[],_t=D.totalAmount+(D.vatType==="percentage"?D.totalAmount*(D.vatPercentage/100):D.vatAmount),Er=new Set(D.payments.flatMap(I=>{var be;return((be=I.type)==null?void 0:be.split(", ").map(ge=>ge.trim()))||[]}));return!Er.has("계약금")&&((L=D.expectedPaymentDates)!=null&&L.contract)&&wt.push({id:`payment-${D.id}-contract`,title:`[수금일정] ${D.project} - 계약금`,originalTitle:`[수금일정] ${D.project} - 계약금`,start:new Date(D.expectedPaymentDates.contract),end:new Date(D.expectedPaymentDates.contract),projectId:"",projectName:D.project,type:"expected_payment",phase:"",assignedTo:[],priority:"medium",allDay:!0,color:"#DBEAFE",isExpectedPayment:!0,description:`계약금 (10%): ${Math.round(_t*.1).toLocaleString()}원`}),!Er.has("착수금")&&((K=D.expectedPaymentDates)!=null&&K.start)&&wt.push({id:`payment-${D.id}-start`,title:`[수금일정] ${D.project} - 착수금`,originalTitle:`[수금일정] ${D.project} - 착수금`,start:new Date(D.expectedPaymentDates.start),end:new Date(D.expectedPaymentDates.start),projectId:"",projectName:D.project,type:"expected_payment",phase:"",assignedTo:[],priority:"medium",allDay:!0,color:"#DBEAFE",isExpectedPayment:!0,description:`착수금 (40%): ${Math.round(_t*.4).toLocaleString()}원`}),!Er.has("중도금")&&((ee=D.expectedPaymentDates)!=null&&ee.middle)&&wt.push({id:`payment-${D.id}-middle`,title:`[수금일정] ${D.project} - 중도금`,originalTitle:`[수금일정] ${D.project} - 중도금`,start:new Date(D.expectedPaymentDates.middle),end:new Date(D.expectedPaymentDates.middle),projectId:"",projectName:D.project,type:"expected_payment",phase:"",assignedTo:[],priority:"medium",allDay:!0,color:"#DBEAFE",isExpectedPayment:!0,description:`중도금 (40%): ${Math.round(_t*.4).toLocaleString()}원`}),!Er.has("잔금")&&((ie=D.expectedPaymentDates)!=null&&ie.final)&&wt.push({id:`payment-${D.id}-final`,title:`[수금일정] ${D.project} - 잔금`,originalTitle:`[수금일정] ${D.project} - 잔금`,start:new Date(D.expectedPaymentDates.final),end:new Date(D.expectedPaymentDates.final),projectId:"",projectName:D.project,type:"expected_payment",phase:"",assignedTo:[],priority:"medium",allDay:!0,color:"#DBEAFE",isExpectedPayment:!0,description:`잔금 (10%): ${Math.round(_t*.1).toLocaleString()}원`}),wt}if(!k.startDate||!k.endDate)return[];const z=D.totalAmount+(D.vatType==="percentage"?D.totalAmount*(D.vatPercentage/100):D.vatAmount),j=new Set(D.payments.flatMap(wt=>{var _t;return((_t=wt.type)==null?void 0:_t.split(", ").map(Er=>Er.trim()))||[]})),P=[];return!j.has("계약금")&&((ye=D.expectedPaymentDates)!=null&&ye.contract)&&P.push({id:`payment-${D.id}-contract`,title:`[수금일정] ${D.project} - 계약금`,originalTitle:`[수금일정] ${D.project} - 계약금`,start:new Date(D.expectedPaymentDates.contract),end:new Date(D.expectedPaymentDates.contract),projectId:k.id||"",projectName:D.project,type:"expected_payment",phase:"",assignedTo:[],priority:"medium",allDay:!0,color:"#DBEAFE",isExpectedPayment:!0,description:`계약금 (10%): ${Math.round(z*.1).toLocaleString()}원`}),!j.has("착수금")&&((Se=D.expectedPaymentDates)!=null&&Se.start)&&P.push({id:`payment-${D.id}-start`,title:`[수금일정] ${D.project} - 착수금`,originalTitle:`[수금일정] ${D.project} - 착수금`,start:new Date(D.expectedPaymentDates.start),end:new Date(D.expectedPaymentDates.start),projectId:k.id||"",projectName:D.project,type:"expected_payment",phase:"",assignedTo:[],priority:"medium",allDay:!0,color:"#DBEAFE",isExpectedPayment:!0,description:`착수금 (40%): ${Math.round(z*.4).toLocaleString()}원`}),!j.has("중도금")&&((ke=D.expectedPaymentDates)!=null&&ke.middle)&&P.push({id:`payment-${D.id}-middle`,title:`[수금일정] ${D.project} - 중도금`,originalTitle:`[수금일정] ${D.project} - 중도금`,start:new Date(D.expectedPaymentDates.middle),end:new Date(D.expectedPaymentDates.middle),projectId:k.id||"",projectName:D.project,type:"expected_payment",phase:"",assignedTo:[],priority:"medium",allDay:!0,color:"#DBEAFE",isExpectedPayment:!0,description:`중도금 (40%): ${Math.round(z*.4).toLocaleString()}원`}),!j.has("잔금")&&((Ae=D.expectedPaymentDates)!=null&&Ae.final)&&P.push({id:`payment-${D.id}-final`,title:`[수금일정] ${D.project} - 잔금`,originalTitle:`[수금일정] ${D.project} - 잔금`,start:new Date(D.expectedPaymentDates.final),end:new Date(D.expectedPaymentDates.final),projectId:k.id||"",projectName:D.project,type:"expected_payment",phase:"",assignedTo:[],priority:"medium",allDay:!0,color:"#DBEAFE",isExpectedPayment:!0,description:`잔금 (10%): ${Math.round(z*.1).toLocaleString()}원`}),P}):[],y=[...m,...p,...w],x=(D=>{const k=new Map;D.forEach(j=>{if(j.isASVisit||j.isExpectedPayment){const P=`single_${j.id}`;k.set(P,[j])}else{const P=j.start.toISOString().split("T")[0],L=[...j.assignedTo].sort().join(","),K=`${P}_${j.projectName}_${L}`;k.has(K)||k.set(K,[]),k.get(K).push(j)}});const z=[];return k.forEach(j=>{if(j.length===1)z.push(j[0]);else{const P=j[0],L=j.map(Ae=>Ae.originalTitle||Ae.title),K=[...new Set(L)],ee=j.filter(Ae=>Ae.time&&Ae.time!=="-").map(Ae=>Ae.time),ie=ee.length>0?` - ${ee.join(", ")}`:"",ye=j.map(Ae=>{const wt=Ae.originalTitle||Ae.title;return wt.startsWith(P.projectName+" - ")?wt.substring(P.projectName.length+3):wt}),Se=[...new Set(ye)],ke={...P,id:j[0].id,title:`${Se.join(", ")}${ie}`,originalTitle:K.join(", "),description:j.map(Ae=>Ae.description||Ae.originalTitle||Ae.title).join(`
`),assignedTo:[...new Set(j.flatMap(Ae=>Ae.assignedTo))],mergedEventIds:j.map(Ae=>Ae.id)};z.push(ke)}}),z.sort((j,P)=>j.start.getTime()-P.start.getTime())})(y),[b,_]=N.useState("month"),[S,E]=N.useState(new Date),[C,M]=N.useState(!1),[$,Y]=N.useState(null),[J,G]=N.useState(null),[se,ce]=N.useState("all"),[Z,he]=N.useState(window.innerWidth<768?new Date:null),te=se==="all"?x:x.filter(D=>D.projectName===se);N.useEffect(()=>{const D=()=>{document.querySelectorAll(".rbc-show-more, .rbc-button-link").forEach(K=>{K.style.display="none",K.style.visibility="hidden",K.style.pointerEvents="none"}),document.querySelectorAll('.rbc-overlay, .rbc-overlay-header, .rbc-popup, [class*="rbc-overlay"]').forEach(K=>{K.style.display="none",K.style.visibility="hidden",K.style.opacity="0",K.style.pointerEvents="none",K.style.position="absolute",K.style.left="-9999px",K.style.top="-9999px",K.style.zIndex="-1"})};D();const k=new MutationObserver(D),z=document.querySelector(".rbc-calendar");z&&k.observe(z,{childList:!0,subtree:!0});const j=new MutationObserver(D);return j.observe(document.body,{childList:!0,subtree:!0}),()=>{k.disconnect(),j.disconnect()}},[b,S]);const[U,oe]=N.useState({date:null,projectId:"",title:""}),V=F.useRef(!1),W=F.useRef(null),T=D=>{V.current=!0,W.current&&clearTimeout(W.current);const k={...D,title:D.originalTitle||D.title};G(null),Y(k),M(!0),W.current=setTimeout(()=>{V.current=!1,W.current=null},1500)},R=async({event:D,start:k,end:z})=>{try{if(D.isASVisit||D.isExpectedPayment){ne.error("AS 방문 및 수금일정은 이동할 수 없습니다");return}if(D.mergedEventIds&&D.mergedEventIds.length>0){const j=Math.floor((k.getTime()-D.start.getTime())/864e5);for(const P of D.mergedEventIds){const L=e.find(K=>K.id===P);if(L){const K=new Date(L.start),ee=new Date(L.end);K.setDate(K.getDate()+j),ee.setDate(ee.getDate()+j),await n(P,{start:K,end:ee})}}ne.success("일정이 이동되었습니다")}else await n(D.id,{start:k,end:z}),ne.success("일정이 이동되었습니다")}catch(j){console.error("Failed to move event:",j),ne.error("일정 이동에 실패했습니다")}},X=D=>{if(V.current)return;const k=window.innerWidth,z=k<768,j=k>=768&&k<1024;if(z){if(D.start){he(D.start);const L=document.querySelector(".md\\:hidden.mt-3.bg-white");L&&L.scrollIntoView({behavior:"smooth",block:"nearest"})}return}const P=D.action==="click"||D.action==="select";j&&!P||z||(G(D),Y(null),M(!0))},le=async()=>{if(!U.projectId||!U.title.trim()){alert("프로젝트와 제목을 입력하세요");return}const D=a.find(k=>k.id===U.projectId);if(!(!D||!U.date))try{await r({id:Date.now().toString(),title:U.title,start:U.date,end:U.date,type:"other",project:D.name,location:"",attendees:[],description:""}),oe({date:null,projectId:"",title:""}),he(null),ne.success("일정이 추가되었습니다")}catch(k){console.error("Failed to add schedule:",k),ne.error("일정 추가에 실패했습니다")}},de=D=>{let k=D.color||"#E0E7FF",z="#1f2937";if(D.isASVisit)k="#E8F5E9",z="#1f2937";else{const j=D.assignedTo&&D.assignedTo.includes("HV LAB"),P=D.assignedTo&&D.assignedTo.includes("현장팀")&&f&&["재천","민기"].includes(f),L=D.assignedTo&&D.assignedTo.includes("디자인팀")&&f&&["신애","재성","재현"].includes(f);D.assignedTo&&D.assignedTo.includes((d==null?void 0:d.name)||"")||j||P||L?(k="#FEF3C7",z="#1f2937"):D.color||(k="#e8e2ea")}return{style:{backgroundColor:k,"--event-bg-color":k,borderRadius:"6px",color:z,border:"none",display:"block",fontSize:"0.8125rem",padding:"4px 8px",fontWeight:"500",boxShadow:"0 1px 2px rgba(0,0,0,0.05)",overflow:"hidden"}}},pe=F.useCallback(D=>{const k=ue(D).format("YYYY-MM-DD"),z=!!ec[k],j=Z&&ue(D).isSame(Z,"day");let P="";return j&&(P+="selected-date "),z&&(P+="holiday-date "),{className:P.trim(),style:{}}},[Z]),[B,O]=N.useState(window.innerWidth<768);N.useEffect(()=>{const D=()=>{O(window.innerWidth<768)};return window.addEventListener("resize",D),()=>window.removeEventListener("resize",D)},[]),N.useEffect(()=>{const D=()=>{const k=Z||new Date;G({start:k,end:k}),Y(null),M(!0)};return window.addEventListener("headerAddButtonClick",D),()=>window.removeEventListener("headerAddButtonClick",D)},[Z]);const q=F.useCallback(({date:D,label:k})=>o.jsx(qne,{date:D,label:k,filteredEvents:te,selectedDate:Z,user:d,isMobileView:B}),[te,Z,d,B]),A=F.useCallback(({event:D})=>o.jsx(Kne,{event:D,user:d}),[d]),H=({onNavigate:D})=>{const[k,z]=F.useState(!1),[j,P]=F.useState(ue(S).year()),[L,K]=F.useState(ue(S).month()),ee=window.innerWidth<768,ie=()=>{P(ue(S).year()),K(ue(S).month()),z(!0)},ye=()=>{E(ue().year(j).month(L).toDate()),z(!1)};return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:`flex flex-col bg-white border-b border-gray-200 ${ee?"px-2 py-1.5":"px-3 md:px-5 pt-2 md:pt-3 pb-0"}`,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-1 md:space-x-1.5",children:[o.jsx("button",{onClick:()=>D("PREV"),className:"px-2 md:px-3 py-1 md:py-1.5 text-2xl md:text-3xl text-gray-700 hover:bg-gray-100 rounded-lg transition-colors font-bold",children:"‹"}),o.jsx("div",{className:"text-base md:text-lg font-bold text-gray-900 hover:bg-gray-50 px-2 md:px-3 py-0.5 md:py-1 rounded-lg transition-colors cursor-pointer",onClick:ie,children:o.jsx("span",{children:ue(S).format("YYYY년 MM월")})}),o.jsx("button",{onClick:()=>D("NEXT"),className:"px-2 md:px-3 py-1 md:py-1.5 text-2xl md:text-3xl text-gray-700 hover:bg-gray-100 rounded-lg transition-colors font-bold",children:"›"})]}),o.jsxs("select",{className:"px-3 md:px-4 py-1 md:py-1.5 bg-white text-gray-700 rounded-lg text-xs md:text-sm font-medium focus:outline-none focus:ring-2 focus:ring-gray-300 border border-gray-300",value:se,onChange:Se=>ce(Se.target.value),style:{appearance:"none",backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%236b7280'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 0.5rem center",backgroundSize:"1.25rem",paddingRight:"2.5rem"},children:[o.jsx("option",{value:"all",children:"전체 프로젝트"}),a.filter(Se=>Se.status!=="completed").map(Se=>o.jsx("option",{value:Se.name,children:Se.name},Se.id))]})]})}),k&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-lg w-full max-w-sm shadow-xl",children:[o.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[o.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"월 선택"}),o.jsx("button",{onClick:()=>z(!1),className:"p-1 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),o.jsx("div",{className:"p-4 border-b border-gray-200",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("button",{onClick:()=>P(j-1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),o.jsxs("span",{className:"text-xl font-bold text-gray-900",children:[j,"년"]}),o.jsx("button",{onClick:()=>P(j+1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})}),o.jsx("div",{className:"p-4",children:o.jsx("div",{className:"grid grid-cols-3 gap-2",children:[1,2,3,4,5,6,7,8,9,10,11,12].map(Se=>{const ke=L===Se-1,Ae=ue().year()===j&&ue().month()===Se-1;return o.jsxs("button",{onClick:()=>K(Se-1),className:`py-3 px-4 rounded-lg text-sm font-medium transition-colors ${ke?"bg-gray-900 text-white":Ae?"bg-gray-100 text-gray-900 border-2 border-gray-900":"bg-gray-50 text-gray-700 hover:bg-gray-100"}`,children:[Se,"월"]},Se)})})}),o.jsxs("div",{className:"p-4 border-t border-gray-200 flex gap-2",children:[o.jsx("button",{onClick:()=>{E(new Date),z(!1)},className:"flex-1 py-2 px-4 bg-gray-100 text-gray-900 rounded-lg text-sm font-medium hover:bg-gray-200 transition-colors",children:"오늘"}),o.jsx("button",{onClick:ye,className:"flex-1 py-2 px-4 bg-gray-900 text-white rounded-lg text-sm font-medium hover:bg-gray-800 transition-colors",children:"확인"})]})]})})]})},ae=()=>null,Ne=N.useMemo(()=>({toolbar:H,event:A,month:{dateHeader:q,showMore:ae}}),[q,A]),Ie=F.useMemo(()=>{if(!Z)return[];const k=[...te.filter(z=>ue(z.start).isSame(Z,"day"))].sort((z,j)=>{const P=z.assignedTo&&z.assignedTo.includes("HV LAB"),L=z.assignedTo&&z.assignedTo.includes("현장팀")&&f&&["재천","민기"].includes(f),K=z.assignedTo&&z.assignedTo.includes("디자인팀")&&f&&["신애","재성","재현"].includes(f),ee=z.assignedTo&&f&&z.assignedTo.includes(f)||z.assignedTo&&(d==null?void 0:d.name)&&z.assignedTo.includes(d.name)||P||L||K,ie=j.assignedTo&&j.assignedTo.includes("HV LAB"),ye=j.assignedTo&&j.assignedTo.includes("현장팀")&&f&&["재천","민기"].includes(f),Se=j.assignedTo&&j.assignedTo.includes("디자인팀")&&f&&["신애","재성","재현"].includes(f),ke=j.assignedTo&&f&&j.assignedTo.includes(f)||j.assignedTo&&(d==null?void 0:d.name)&&j.assignedTo.includes(d.name)||ie||ye||Se;return ee&&!ke?-1:!ee&&ke?1:new Date(z.start).getTime()-new Date(j.start).getTime()});return console.log("Sorted events:",k.map(z=>({title:z.title,assignedTo:z.assignedTo,user:d==null?void 0:d.name,userShort:f}))),k},[Z,te,d,f]);return N.useEffect(()=>{const k=setTimeout(()=>{(B?document.querySelectorAll(".rbc-month-view td.rbc-date-cell"):document.querySelectorAll(".rbc-date-cell")).forEach(j=>{const P=j.querySelector("button");let L=P==null?void 0:P.textContent;if(!L){const ye=j.querySelector("span");L=ye==null?void 0:ye.textContent}if(!L||isNaN(parseInt(L)))return;const K=ue(S).date(parseInt(L)),ee=te.filter(ye=>ue(ye.start).isSame(K,"day"));ee.length>0?j.setAttribute("data-event-count",ee.length.toString()):j.removeAttribute("data-event-count");const ie=K.clone().toDate();if(Z&&ue(ie).isSame(Z,"day")?j.classList.add("selected-date"):j.classList.remove("selected-date"),B){const ye=j,Se=ye._mobileClickHandler;Se&&j.removeEventListener("click",Se);const ke=Ae=>{if(Ae.target.closest(".rbc-event"))return;const _t=K.clone().toDate();he(_t);const Er=document.querySelector(".md\\:hidden.mt-3.bg-white");Er&&Er.scrollIntoView({behavior:"smooth",block:"nearest"})};ye._mobileClickHandler=ke,j.addEventListener("click",ke,!0),j.style.cursor="pointer",j.style.touchAction="manipulation"}})},200);return()=>{clearTimeout(k),B&&document.querySelectorAll(".rbc-month-view td.rbc-date-cell").forEach(j=>{const P=j,L=P._mobileClickHandler;L&&(j.removeEventListener("click",L),delete P._mobileClickHandler)})}},[te,S,B,Z]),o.jsxs("div",{className:"space-y-3 md:space-y-2",children:[U.date&&o.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-3 md:p-4",children:o.jsxs("div",{className:"flex flex-col md:flex-row items-stretch md:items-center gap-2 md:gap-3",children:[o.jsx("div",{className:"text-xs md:text-sm font-semibold text-gray-900 md:min-w-[80px]",children:ue(U.date).format("MM월 DD일")}),o.jsx("select",{value:U.projectId,onChange:D=>oe({...U,projectId:D.target.value}),className:"px-3 md:px-4 py-2 border border-gray-300 rounded-lg text-xs md:text-sm focus:outline-none focus:ring-2 focus:ring-gray-500",children:a.filter(D=>D.status!=="completed").map(D=>o.jsx("option",{value:D.id,children:D.name},D.id))}),o.jsx("input",{type:"text",value:U.title,onChange:D=>oe({...U,title:D.target.value}),onKeyPress:D=>{D.key==="Enter"&&le()},placeholder:"일정 제목을 입력하세요...",className:"flex-1 px-3 md:px-4 py-2 border border-gray-300 rounded-lg text-xs md:text-sm focus:outline-none focus:ring-2 focus:ring-gray-500",autoFocus:!0}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:le,className:"flex-1 md:flex-none px-4 md:px-5 py-2 bg-gray-900 text-white text-xs md:text-sm font-medium rounded-lg hover:bg-gray-800 transition-colors",children:"저장"}),o.jsx("button",{onClick:()=>{oe({date:null,projectId:"",title:""}),he(null)},className:"flex-1 md:flex-none px-4 md:px-5 py-2 bg-white border border-gray-300 text-gray-700 text-xs md:text-sm font-medium rounded-lg hover:bg-gray-50 transition-colors",children:"취소"})]})]})}),o.jsxs("div",{className:"flex flex-col md:block",children:[o.jsx("div",{className:"bg-white border border-gray-300 rounded-lg overflow-hidden calendar-container",style:{borderWidth:"0.5px"},children:o.jsx(Yne,{localizer:Vne,events:te,startAccessor:"start",endAccessor:"end",view:b,onView:_,date:S,onNavigate:E,onSelectEvent:T,onSelectSlot:X,onEventDrop:R,onEventResize:R,draggableAccessor:D=>!D.isASVisit&&!D.isExpectedPayment,resizable:!1,selectable:!0,longPressThreshold:0,eventPropGetter:de,dayPropGetter:pe,components:Ne,popup:!1,doShowMoreDrillDown:!1,onShowMore:()=>{},showAllEvents:!0,messages:{today:"오늘",previous:"이전",next:"다음",month:"월",week:"주",day:"일",agenda:"일정목록",date:"날짜",time:"시간",event:"일정",noEventsInRange:"이 기간에 일정이 없습니다",showMore:D=>`+${D} 더보기`}},`calendar-${(Z==null?void 0:Z.getTime())||"no-selection"}`)}),Z&&o.jsxs("div",{className:"md:hidden mt-3 bg-white border border-gray-200 rounded-lg overflow-hidden",children:[o.jsxs("div",{className:"flex items-center justify-between p-3 border-b border-gray-200 bg-gray-50",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("p",{className:"text-sm font-semibold text-gray-900",children:ue(Z).format("MM월 DD일 dddd")}),ec[ue(Z).format("YYYY-MM-DD")]&&o.jsx("span",{className:"text-xs font-medium px-2 py-0.5 rounded-full bg-red-50 text-red-600",children:ec[ue(Z).format("YYYY-MM-DD")]})]}),o.jsx("button",{onClick:()=>he(null),className:"p-1 hover:bg-gray-200 rounded-full transition-colors",children:o.jsx("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),o.jsx("div",{className:"max-h-[35vh] overflow-y-auto",children:Ie.length===0?o.jsx("div",{className:"p-4 text-center",children:o.jsx("p",{className:"text-sm text-gray-500",children:"일정이 없습니다"})}):o.jsx("div",{className:"divide-y divide-gray-100",children:Ie.map(D=>{const k=D.assignedTo&&D.assignedTo.includes("HV LAB"),z=D.assignedTo&&D.assignedTo.includes("현장팀")&&f&&["재천","민기"].includes(f),j=D.assignedTo&&D.assignedTo.includes("디자인팀")&&f&&["신애","재성","재현"].includes(f),L=D.assignedTo&&(D.assignedTo.includes((d==null?void 0:d.name)||"")||f&&D.assignedTo.includes(f))||k||z||j,K=!D.color&&!L;return o.jsx("div",{onClick:()=>{const ee={...D,title:D.originalTitle||D.title};T(ee)},className:`p-3 transition-colors cursor-pointer ${L?"bg-yellow-50 hover:bg-yellow-100 active:bg-yellow-200":K?"hover:bg-purple-50 active:bg-purple-100":"hover:bg-gray-50 active:bg-gray-100"}`,style:K?{backgroundColor:"#f3f0f5"}:void 0,children:o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx("div",{className:"w-1 h-full rounded-full flex-shrink-0",style:{backgroundColor:L?"#FEF3C7":D.color||"#e8e2ea",minHeight:"28px"}}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-sm font-semibold text-gray-900 truncate",children:D.title}),D.projectName&&o.jsx("p",{className:"text-xs text-gray-600 mt-0.5",children:D.projectName}),D.assignedTo&&D.assignedTo.length>0&&o.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:["신애","재성","재현"].every(ye=>D.assignedTo.includes(ye))?"디자인팀":D.assignedTo.join(", ")})]}),o.jsx("svg",{className:"w-4 h-4 text-gray-400 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})},D.id)})})})]})]}),C&&o.jsx(vD,{event:$,slotInfo:J,defaultProjectName:se!=="all"?se:void 0,onClose:()=>{M(!1),Y(null),G(null)},onSave:async D=>{console.log("📤 Schedule.tsx onSave called with newEvent:",D);try{if($)if($.id.startsWith("payment-")){const k=$.id.split("-"),z=k[1],j=k[2],P=c.find(L=>L.id===z);if(P){const L={...P.expectedPaymentDates};L[j]=D.start,await u(z,{expectedPaymentDates:L}),ne.success("수금 일정이 수정되었습니다")}}else{console.log("📤 Updating schedule with projectId:",D.projectId,"projectName:",D.projectName);let k=D.title;const z=/ - (오전|오후) \d{1,2}시( \d{1,2}분)?$/;if(k=k.replace(z,""),$.mergedEventIds&&$.mergedEventIds.length>0){console.log("📤 Updating merged schedules:",$.mergedEventIds);const j=($.originalTitle||$.title).split(", "),P=k.split(", ");for(let L=0;L<$.mergedEventIds.length;L++){const K=$.mergedEventIds[L],ee=P[L]||j[L]||k;await n(K,{title:ee.trim(),start:D.start,end:D.end,type:"other",project:D.projectId||D.projectName,location:"",attendees:D.assignedTo||[],description:D.description,time:D.time})}ne.success(`${$.mergedEventIds.length}개의 일정이 수정되었습니다`)}else await n($.id,{title:k,start:D.start,end:D.end,type:"other",project:D.projectId||D.projectName,location:"",attendees:D.assignedTo||[],description:D.description,time:D.time}),ne.success("일정이 수정되었습니다");await t()}else console.log("📤 Adding schedule with projectId:",D.projectId,"projectName:",D.projectName),await r({id:Date.now().toString(),title:D.title,start:D.start,end:D.end,type:"other",project:D.projectId||D.projectName,location:"",attendees:D.assignedTo||[],description:D.description,time:D.time}),ne.success("일정이 추가되었습니다");M(!1)}catch(k){console.error("Failed to save schedule:",k),ne.error("일정 저장에 실패했습니다")}},onDelete:async D=>{try{if(D.startsWith("payment-")){const k=D.split("-"),z=k[1],j=k[2],P=c.find(L=>L.id===z);if(P){const L={...P.expectedPaymentDates};delete L[j],await u(z,{expectedPaymentDates:L}),ne.success("수금 일정이 삭제되었습니다")}}else if(D.startsWith("as-")){const k=D.replace("as-","");await l(k,{scheduledVisitDate:null,scheduledVisitTime:null}),ne.success("AS 방문 일정이 삭제되었습니다")}else{const k=x.find(z=>z.id===D);if(k!=null&&k.mergedEventIds&&k.mergedEventIds.length>0){console.log("Deleting merged schedules:",k.mergedEventIds);for(const z of k.mergedEventIds)await s(z);ne.success(`${k.mergedEventIds.length}개의 일정이 삭제되었습니다`)}else await s(D),ne.success("일정이 삭제되었습니다")}M(!1)}catch(k){console.error("Failed to delete schedule:",k),ne.error("일정 삭제에 실패했습니다")}}})]})},sN=["상준","신애","재천","민기","재성","재현"],Xne=({request:e,onClose:t,onSave:r})=>{const{register:n,handleSubmit:s,setValue:a,formState:{errors:i}}=qo(),{projects:l}=Zr(),[c,u]=N.useState([]),[d,f]=N.useState(""),[h,g]=N.useState("오전"),[m,p]=N.useState(9),[w,y]=N.useState(0),v=l.filter(E=>E.status==="completed");N.useEffect(()=>{if(e){if(a("project",e.project),a("client",e.client),a("siteAddress",e.siteAddress),a("entrancePassword",e.entrancePassword),a("description",e.description),e.requestDate&&a("requestDate",e.requestDate.toISOString().split("T")[0]),e.scheduledVisitDate&&a("scheduledVisitDate",e.scheduledVisitDate.toISOString().split("T")[0]),e.scheduledVisitTime){const[E,C]=e.scheduledVisitTime.split(":"),M=parseInt(E,10),$=parseInt(C,10);M>=12?(g("오후"),p(M===12?12:M-12)):(g("오전"),p(M===0?12:M)),y($)}u(e.assignedTo||[])}else u([]),g("오전"),p(9),y(0)},[e,a]);const x=E=>{u(C=>C.includes(E)?C.filter(M=>M!==E):[...C,E])},b=()=>{d.trim()&&!c.includes(d.trim())&&(u(E=>[...E,d.trim()]),f(""))},_=E=>{u(C=>C.filter(M=>M!==E))},S=E=>{let C=m;h==="오후"&&m!==12?C=m+12:h==="오전"&&m===12&&(C=0);const M=`${C.toString().padStart(2,"0")}:${w.toString().padStart(2,"0")}`,$={...E,requestDate:new Date(E.requestDate),scheduledVisitDate:E.scheduledVisitDate?new Date(E.scheduledVisitDate):void 0,scheduledVisitTime:M,assignedTo:c};r($)};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b sticky top-0 bg-white z-10",children:[o.jsx("h2",{className:"text-xl font-semibold",children:e?"AS 요청 수정":"AS 요청 추가"}),o.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx(rt,{className:"h-5 w-5"})})]}),o.jsxs("form",{onSubmit:s(S),className:"p-6 space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"프로젝트명 * (공사완료 현장)"}),o.jsxs("select",{...n("project",{required:"프로젝트를 선택하세요"}),className:"input",onChange:E=>{const C=v.find(M=>M.name===E.target.value);C&&(a("client",C.client),a("siteAddress",C.location),a("entrancePassword",C.entrancePassword||""))},children:[o.jsx("option",{value:"",children:"선택하세요"}),v.map(E=>o.jsx("option",{value:E.name,children:E.name},E.id))]}),i.project&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(i.project.message)}),v.length===0&&o.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"공사완료된 프로젝트가 없습니다"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"고객명 *"}),o.jsx("input",{...n("client",{required:"고객명을 입력하세요"}),type:"text",className:"input"}),i.client&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(i.client.message)})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"현장주소 *"}),o.jsx("input",{...n("siteAddress",{required:"현장주소를 입력하세요"}),type:"text",className:"input"}),i.siteAddress&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(i.siteAddress.message)})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"공동현관 비밀번호"}),o.jsx("input",{...n("entrancePassword"),type:"text",className:"input"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"내용"}),o.jsx("textarea",{...n("description"),rows:3,className:"input"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"담당자 (중복 선택 가능)"}),o.jsxs("div",{className:"flex flex-wrap gap-1.5 mb-2",children:[sN.map(E=>o.jsx("button",{type:"button",onClick:()=>x(E),className:`px-2.5 py-1.5 rounded border transition-colors text-sm ${c.includes(E)?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:E},E)),c.filter(E=>!sN.includes(E)).map(E=>o.jsxs("button",{type:"button",onClick:()=>_(E),className:"px-2.5 py-1.5 rounded border transition-colors text-sm bg-gray-900 text-white border-gray-900 hover:bg-gray-800",children:[E," ×"]},E))]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"text",value:d,onChange:E=>f(E.target.value),onKeyPress:E=>{E.key==="Enter"&&(E.preventDefault(),b())},className:"flex-1 px-3 py-1.5 border border-gray-300 rounded-lg text-xs focus:outline-none focus:ring-2 focus:ring-gray-500"}),o.jsx("button",{type:"button",onClick:b,className:"px-3 py-1.5 bg-gray-100 text-gray-700 rounded-lg text-xs font-medium hover:bg-gray-200 transition-colors",children:"추가"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"요청일"}),o.jsx("input",{...n("requestDate"),type:"date",className:"input"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"방문예정일"}),o.jsx("input",{...n("scheduledVisitDate"),type:"date",className:"input"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"방문 시간"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("div",{className:"flex gap-1",children:[o.jsx("button",{type:"button",onClick:()=>g("오전"),className:`px-3 py-1.5 text-xs rounded border transition-colors ${h==="오전"?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:"오전"}),o.jsx("button",{type:"button",onClick:()=>g("오후"),className:`px-3 py-1.5 text-xs rounded border transition-colors ${h==="오후"?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:"오후"})]}),o.jsx("select",{value:m,onChange:E=>p(parseInt(E.target.value)),className:"px-2 py-1.5 text-sm border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-gray-500",children:[12,1,2,3,4,5,6,7,8,9,10,11].map(E=>o.jsxs("option",{value:E,children:[E,"시"]},E))}),o.jsx("select",{value:w,onChange:E=>y(parseInt(E.target.value)),className:"px-2 py-1.5 text-sm border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-gray-500",children:[0,10,20,30,40,50].map(E=>o.jsxs("option",{value:E,children:[E,"분"]},E))})]})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[o.jsx("button",{type:"button",onClick:t,className:"btn btn-outline",children:"취소"}),o.jsx("button",{type:"submit",className:"btn btn-primary",children:e?"수정":"추가"})]})]})]})})},Qne=e=>{if(!e)return"";const[t]=e.split(":"),r=parseInt(t,10),n=r>=12?"오후":"오전",s=r>12?r-12:r===0?12:r;return`${n} ${s}시`},Jne=()=>{var pe,B,O,q;const{asRequests:e,loadASRequestsFromAPI:t,addASRequestToAPI:r,updateASRequestInAPI:n,deleteASRequestFromAPI:s}=Zr(),a=e,[i,l]=N.useState(""),[c,u]=N.useState(!1),[d,f]=N.useState(null),[h,g]=N.useState("active"),[m,p]=N.useState(null),w=N.useRef(null),[y,v]=N.useState(null),[x,b]=N.useState(!1),[_,S]=N.useState(!1),[E,C]=N.useState(""),[M,$]=N.useState(null);N.useEffect(()=>{t().catch(A=>{console.error("Failed to load AS requests:",A),ne.error("AS 요청 데이터를 불러오는데 실패했습니다")})},[t]),N.useEffect(()=>{const A=()=>{Y()};return window.addEventListener("headerAddButtonClick",A),()=>window.removeEventListener("headerAddButtonClick",A)},[]),N.useEffect(()=>{var A,H;m&&w.current&&((H=(A=w.current).showPicker)==null||H.call(A))},[m]);const Y=()=>{f(null),u(!0)},J=async A=>{try{if(d)await n(d.id,A),ne.success("AS 요청이 수정되었습니다");else{const H={id:"",...A};await r(H),ne.success("AS 요청이 추가되었습니다")}u(!1)}catch(H){console.error("Failed to save AS request:",H),ne.error("AS 요청 저장에 실패했습니다")}},G=A=>{f(A),u(!0)},se=async(A,H)=>{if(window.confirm(`"${H}" AS 요청을 삭제하시겠습니까?

삭제된 내역은 복구할 수 없습니다.`))try{await s(A),ne.success("AS 요청이 삭제되었습니다")}catch(ae){console.error("Failed to delete AS request:",ae),ne.error("AS 요청 삭제에 실패했습니다")}},ce=(A,H)=>{p({requestId:A,field:H})},Z=async A=>{if(!m)return;const H=new Date(A);if(!isNaN(H.getTime()))try{await n(m.requestId,{[m.field]:H}),p(null)}catch(ae){console.error("Failed to update date:",ae),ne.error("날짜 수정에 실패했습니다"),p(null)}},he=N.useCallback(A=>{var ae;if(!y){ne.error("먼저 AS 요청을 선택해주세요");return}const H=(ae=A.clipboardData)==null?void 0:ae.items;if(H){for(let Ne=0;Ne<H.length;Ne++)if(H[Ne].type.indexOf("image")!==-1){A.preventDefault();const Ie=H[Ne].getAsFile();if(Ie){const D=new FileReader;D.onload=k=>{var P;const z=(P=k.target)==null?void 0:P.result,j=a.find(L=>L.id===y);if(j){const L=[...j.images||[],z];n(y,{images:L}),ne.success("이미지가 추가되었습니다")}},D.readAsDataURL(Ie)}}}},[y,a,n]);N.useEffect(()=>(document.addEventListener("paste",he),()=>document.removeEventListener("paste",he)),[he]);const te=A=>{var Ie;if(!y){ne.error("먼저 AS 요청을 선택해주세요");return}const H=Array.from(((Ie=A.target)==null?void 0:Ie.files)||[]),ae=[],Ne=H.filter(D=>D.type.startsWith("image/"));Ne.length!==0&&Ne.forEach(D=>{const k=new FileReader;k.onload=z=>{var P;const j=(P=z.target)==null?void 0:P.result;if(ae.push(j),ae.length===Ne.length){const L=a.find(K=>K.id===y);if(L){const K=[...L.images||[],...ae];n(y,{images:K}),ne.success(`${ae.length}개의 이미지가 추가되었습니다`),(M==null?void 0:M.requestId)===y&&$({...M,images:K})}}},k.readAsDataURL(D)})},U=A=>{var ae;if(!y)return;const H=a.find(Ne=>Ne.id===y);if(H){const Ne=((ae=H.images)==null?void 0:ae.filter((Ie,D)=>D!==A))||[];n(y,{images:Ne})}},oe=A=>{C(A),S(!0)},V=async(A,H)=>{const ae=a.find(Ne=>Ne.id===A);if(!(!ae||!ae.images)&&window.confirm("이 이미지를 삭제하시겠습니까?"))try{const Ne=ae.images.filter((Ie,D)=>D!==H);await n(A,{images:Ne}),(M==null?void 0:M.requestId)===A&&$({...M,images:Ne}),ne.success("이미지가 삭제되었습니다")}catch(Ne){console.error("Failed to remove image:",Ne),ne.error("이미지 삭제에 실패했습니다")}},W=A=>{A.preventDefault(),b(!0)},T=A=>{A.preventDefault(),b(!1)},R=A=>{if(A.preventDefault(),b(!1),!y){ne.error("먼저 AS 요청을 선택해주세요");return}const H=Array.from(A.dataTransfer.files),ae=[],Ne=H.filter(Ie=>Ie.type.startsWith("image/"));Ne.length!==0&&Ne.forEach(Ie=>{const D=new FileReader;D.onload=k=>{var j;const z=(j=k.target)==null?void 0:j.result;if(ae.push(z),ae.length===Ne.length){const P=a.find(L=>L.id===y);if(P){const L=[...P.images||[],...ae];n(y,{images:L}),ne.success(`${ae.length}개의 이미지가 추가되었습니다`),(M==null?void 0:M.requestId)===y&&$({...M,images:L})}}},D.readAsDataURL(Ie)})},X=async(A,H)=>{try{const ae={status:H};H==="completed"?ae.completionDate=new Date:H==="pending"?ae.completionDate=void 0:H==="revisit"&&(ae.scheduledVisitDate=void 0,ae.completionDate=void 0),await n(A,ae);const Ne=H==="completed"?"AS 완료":H==="revisit"?"재방문 필요":"진행중";ne.success(`상태가 "${Ne}"으로 변경되었습니다`)}catch(ae){console.error("Failed to update status:",ae),ne.error("상태 변경에 실패했습니다")}},le=A=>{const H={pending:{label:"대기중",color:"bg-gray-100 text-gray-700 border-gray-300"},completed:{label:"AS 완료",color:"bg-green-100 text-green-700 border-green-300"},revisit:{label:"재방문",color:"bg-orange-100 text-orange-700 border-orange-300"}},ae=H[A]||H.pending;return o.jsx("span",{className:`px-2 py-1 text-xs font-medium border rounded ${ae.color}`,children:ae.label})},de=a.filter(A=>{const H=A.project.toLowerCase().includes(i.toLowerCase())||A.client.toLowerCase().includes(i.toLowerCase())||A.description.toLowerCase().includes(i.toLowerCase());return h==="completed"?H&&A.status==="completed":H&&A.status!=="completed"});return o.jsxs("div",{className:"space-y-3 md:space-y-4",onDragOver:W,onDragLeave:T,onDrop:R,children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{className:"flex items-center gap-2",children:o.jsx("span",{className:"text-sm text-gray-500",children:"프로젝트를 선택하면 이미지를 드래그하여 추가할 수 있습니다"})}),o.jsx("button",{onClick:Y,className:"btn btn-primary px-4 py-2",children:"+ AS 요청"})]}),o.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:te,className:"hidden",id:"as-image-file-input"}),o.jsx("div",{className:"border-b border-gray-200",children:o.jsxs("nav",{className:"flex space-x-4 md:space-x-8",children:[o.jsxs("button",{onClick:()=>g("active"),className:`py-3 md:py-4 px-1 border-b-2 font-medium text-xs md:text-sm transition-colors whitespace-nowrap ${h==="active"?"border-gray-700 text-gray-700":"border-transparent text-gray-400 hover:text-gray-700 hover:border-gray-300"}`,children:["진행중",o.jsx("span",{className:`ml-1 md:ml-2 py-0.5 px-1.5 md:px-2 rounded-full text-[10px] md:text-xs font-semibold ${h==="active"?"bg-gray-700 text-white":"bg-gray-200 text-gray-600"}`,children:a.filter(A=>A.status!=="completed").length})]}),o.jsxs("button",{onClick:()=>g("completed"),className:`py-3 md:py-4 px-1 border-b-2 font-medium text-xs md:text-sm transition-colors whitespace-nowrap ${h==="completed"?"border-gray-700 text-gray-700":"border-transparent text-gray-400 hover:text-gray-700 hover:border-gray-300"}`,children:["AS 완료",o.jsx("span",{className:`ml-1 md:ml-2 py-0.5 px-1.5 md:px-2 rounded-full text-[10px] md:text-xs font-semibold ${h==="completed"?"bg-gray-700 text-white":"bg-gray-200 text-gray-600"}`,children:a.filter(A=>A.status==="completed").length})]})]})}),o.jsx("div",{children:o.jsx("input",{type:"text",placeholder:"검색...",value:i,onChange:A=>l(A.target.value),className:"w-full px-3 md:px-4 py-2 text-sm md:text-base border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-600 focus:border-transparent"})}),o.jsx("div",{className:"lg:hidden grid grid-cols-1 md:grid-cols-2 gap-3",children:de.map(A=>o.jsxs("div",{className:"card p-3 md:p-4 hover:border-gray-400 transition-colors",children:[o.jsxs("div",{className:"flex items-start justify-between mb-3",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"flex items-center gap-2 mb-1",children:le(A.status)}),o.jsx("h3",{className:"font-bold text-base text-gray-900",children:A.project}),o.jsxs("p",{className:"text-sm text-gray-600 mt-0.5",children:[A.client,"님"]})]}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx("button",{onClick:()=>setSelectedRequestForImage(y===A.id?null:A.id),className:`p-1 -mt-1 ${y===A.id?"text-blue-600":"text-gray-600 hover:text-gray-700"}`,title:"이미지 첨부",children:o.jsx(eo,{className:"h-4 w-4"})}),o.jsx("button",{onClick:()=>G(A),className:"text-gray-600 hover:text-gray-700 p-1 -mt-1",children:o.jsx(wc,{className:"h-4 w-4"})}),o.jsx("button",{onClick:()=>se(A.id,A.project),className:"text-rose-600 hover:text-rose-700 p-1 -mt-1",children:o.jsx(Xr,{className:"h-4 w-4"})})]})]}),o.jsxs("div",{className:"space-y-2 text-sm",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500",children:"현장주소"}),o.jsx("p",{className:"text-gray-900 mt-0.5",children:A.siteAddress})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500",children:"AS 내용"}),o.jsx("p",{className:"text-gray-900 mt-0.5",children:A.description})]}),A.assignedTo&&A.assignedTo.length>0&&o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500",children:"담당자"}),o.jsx("p",{className:"text-gray-900 mt-0.5",children:A.assignedTo.join(", ")})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-2 pt-2",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"요청일"}),o.jsxs("div",{className:"relative inline-block",children:[(m==null?void 0:m.requestId)===A.id&&(m==null?void 0:m.field)==="requestDate"&&o.jsx("input",{ref:w,type:"date",defaultValue:Ce(A.requestDate,"yyyy-MM-dd"),onChange:H=>Z(H.target.value),onBlur:()=>p(null),className:"absolute left-0 top-0 w-auto h-auto opacity-0 z-50",style:{pointerEvents:"auto"}}),o.jsxs("button",{onClick:()=>ce(A.id,"requestDate"),className:"flex items-center space-x-1 text-xs text-gray-900 hover:text-gray-600 transition-colors",children:[o.jsx(ca,{className:"h-3 w-3"}),o.jsx("span",{children:Ce(A.requestDate,"MM.dd (eee)",{locale:Qe})})]})]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"방문예정일"}),o.jsxs("div",{className:"relative inline-block",children:[(m==null?void 0:m.requestId)===A.id&&(m==null?void 0:m.field)==="scheduledVisitDate"&&o.jsx("input",{ref:w,type:"date",defaultValue:A.scheduledVisitDate?Ce(A.scheduledVisitDate,"yyyy-MM-dd"):"",onChange:H=>Z(H.target.value),onBlur:()=>p(null),className:"absolute left-0 top-0 w-auto h-auto opacity-0 z-50",style:{pointerEvents:"auto"}}),o.jsxs("button",{onClick:()=>ce(A.id,"scheduledVisitDate"),className:"flex items-center space-x-1 text-xs text-gray-900 hover:text-gray-600 transition-colors",children:[o.jsx(ca,{className:"h-3 w-3"}),o.jsxs("span",{children:[A.scheduledVisitDate?Ce(A.scheduledVisitDate,"MM.dd (eee)",{locale:Qe}):"미정",A.scheduledVisitTime&&` ${Qne(A.scheduledVisitTime)}`]})]})]})]})]}),A.status!=="completed"&&o.jsxs("div",{className:"flex gap-2 mt-3 pt-3 border-t border-gray-100",children:[o.jsx("button",{onClick:()=>X(A.id,"completed"),className:"flex-1 px-3 py-2 text-xs font-medium bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",children:"AS 완료"}),o.jsx("button",{onClick:()=>X(A.id,"revisit"),className:"flex-1 px-3 py-2 text-xs font-medium bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",children:"재방문"})]}),A.status==="completed"&&o.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-100",children:[o.jsx("button",{onClick:()=>X(A.id,"pending"),className:"w-full px-3 py-2 text-xs font-medium bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors mb-2",children:"진행중으로 변경"}),o.jsx("p",{className:"text-xs text-gray-500 text-center",children:A.completionDate&&`완료일: ${Ce(A.completionDate,"yyyy.MM.dd",{locale:Qe})}`})]}),A.images&&A.images.length>0&&o.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-100",children:[o.jsxs("p",{className:"text-xs text-gray-500 mb-2",children:["첨부 이미지 (",A.images.length,")"]}),o.jsx("div",{className:"grid grid-cols-3 gap-2",children:A.images.map((H,ae)=>o.jsx("img",{src:H,alt:`AS 이미지 ${ae+1}`,className:"w-full h-20 object-cover rounded cursor-pointer hover:opacity-75",onClick:()=>oe(H)},ae))})]})]})]},A.id))}),o.jsxs("div",{className:"hidden lg:flex gap-4",children:[o.jsx("div",{className:"w-2/3 grid grid-cols-2 gap-3 overflow-y-auto max-h-[calc(100vh-200px)] pr-2 content-start",children:de.map(A=>o.jsxs("div",{className:`bg-white border rounded-lg p-4 hover:shadow-md transition-all cursor-pointer ${y===A.id?"border-blue-500 shadow-md":"border-gray-200"}`,onClick:()=>v(y===A.id?null:A.id),children:[o.jsxs("div",{className:"flex items-start justify-between mb-2",children:[o.jsxs("div",{className:"flex items-start gap-2 flex-1 min-w-0",children:[le(A.status),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"font-semibold text-sm text-gray-900 truncate",title:A.project,children:A.project}),o.jsxs("p",{className:"text-xs text-gray-600",children:[A.client,"님"]})]})]}),o.jsxs("div",{className:"flex items-center gap-0.5 flex-shrink-0",children:[A.images&&A.images.length>0&&o.jsxs("button",{onClick:H=>{H.stopPropagation(),v(A.id)},className:"flex items-center gap-0.5 px-1.5 py-0.5 bg-gray-100 hover:bg-gray-200 rounded text-xs",children:[o.jsx(eo,{className:"h-3 w-3"}),o.jsx("span",{className:"text-[10px]",children:A.images.length})]}),o.jsx("button",{onClick:H=>{H.stopPropagation(),G(A)},className:"p-1 text-gray-600 hover:text-gray-700 hover:bg-gray-50 rounded",children:o.jsx(wc,{className:"h-3.5 w-3.5"})}),o.jsx("button",{onClick:H=>{H.stopPropagation(),se(A.id,A.project)},className:"p-1 text-rose-600 hover:text-rose-700 hover:bg-rose-50 rounded",children:o.jsx(Xr,{className:"h-3.5 w-3.5"})})]})]}),o.jsxs("div",{className:"space-y-2 mb-2",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-[10px] text-gray-500",children:"현장주소"}),o.jsx("p",{className:"text-xs text-gray-900 line-clamp-1",title:A.siteAddress,children:A.siteAddress})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-[10px] text-gray-500",children:"AS 내용"}),o.jsx("p",{className:"text-xs text-gray-900 line-clamp-2",title:A.description,children:A.description})]}),A.assignedTo&&A.assignedTo.length>0&&o.jsxs("div",{children:[o.jsx("p",{className:"text-[10px] text-gray-500",children:"담당자"}),o.jsx("p",{className:"text-xs text-gray-900",children:A.assignedTo.join(", ")})]})]}),o.jsxs("div",{className:"pt-2 border-t border-gray-100",children:[o.jsx("div",{className:"flex items-center justify-between mb-2",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-[10px] text-gray-500",children:"요청일"}),o.jsxs("div",{className:"relative inline-block",children:[(m==null?void 0:m.requestId)===A.id&&(m==null?void 0:m.field)==="requestDate"&&o.jsx("input",{ref:w,type:"date",defaultValue:Ce(A.requestDate,"yyyy-MM-dd"),onChange:H=>Z(H.target.value),onBlur:()=>p(null),className:"absolute left-0 top-0 w-auto h-auto opacity-0 z-50",style:{pointerEvents:"auto"}}),o.jsxs("button",{onClick:H=>{H.stopPropagation(),ce(A.id,"requestDate")},className:"flex items-center gap-0.5 text-xs text-gray-700 hover:text-gray-900",children:[o.jsx(ca,{className:"h-3 w-3"}),o.jsx("span",{children:Ce(A.requestDate,"MM.dd",{locale:Qe})})]})]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-[10px] text-gray-500",children:"방문예정"}),o.jsxs("div",{className:"relative inline-block",children:[(m==null?void 0:m.requestId)===A.id&&(m==null?void 0:m.field)==="scheduledVisitDate"&&o.jsx("input",{ref:w,type:"date",defaultValue:A.scheduledVisitDate?Ce(A.scheduledVisitDate,"yyyy-MM-dd"):"",onChange:H=>Z(H.target.value),onBlur:()=>p(null),className:"absolute left-0 top-0 w-auto h-auto opacity-0 z-50",style:{pointerEvents:"auto"}}),o.jsxs("button",{onClick:H=>{H.stopPropagation(),ce(A.id,"scheduledVisitDate")},className:"flex items-center gap-0.5 text-xs text-gray-700 hover:text-gray-900",children:[o.jsx(ca,{className:"h-3 w-3"}),o.jsx("span",{className:"truncate max-w-[60px]",title:A.scheduledVisitDate?Ce(A.scheduledVisitDate,"MM.dd (eee)",{locale:Qe}):"미정",children:A.scheduledVisitDate?Ce(A.scheduledVisitDate,"MM.dd",{locale:Qe}):"미정"})]})]})]})]})}),o.jsx("div",{className:"flex items-center gap-1",children:A.status!=="completed"?o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:H=>{H.stopPropagation(),X(A.id,"completed")},className:"flex-1 px-2 py-1 text-[11px] font-medium text-white bg-green-600 hover:bg-green-700 rounded transition-colors",children:"완료"}),o.jsx("button",{onClick:H=>{H.stopPropagation(),X(A.id,"revisit")},className:"flex-1 px-2 py-1 text-[11px] font-medium text-gray-700 bg-gray-200 hover:bg-gray-300 rounded transition-colors",children:"재방문"})]}):o.jsx("button",{onClick:H=>{H.stopPropagation(),X(A.id,"pending")},className:"w-full px-2 py-1 text-[11px] font-medium text-gray-700 bg-gray-200 hover:bg-gray-300 rounded transition-colors",children:"진행중으로"})})]})]},A.id))}),o.jsx("div",{className:"w-1/3 bg-white border border-gray-200 rounded-lg p-4 max-h-[80vh] overflow-y-auto",children:y?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center justify-between mb-4 sticky top-0 bg-white pb-2 border-b",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-gray-900",children:((pe=a.find(A=>A.id===y))==null?void 0:pe.project)||""}),o.jsxs("p",{className:"text-sm text-gray-500",children:["이미지 (",((O=(B=a.find(A=>A.id===y))==null?void 0:B.images)==null?void 0:O.length)||0,")"]})]}),o.jsx("button",{onClick:()=>v(null),className:"text-gray-400 hover:text-gray-600",children:o.jsx(rt,{className:"h-5 w-5"})})]}),(q=a.find(A=>A.id===y))!=null&&q.images&&a.find(A=>A.id===y).images.length>0?o.jsx("div",{className:"grid grid-cols-2 gap-3",children:a.find(A=>A.id===y).images.map((A,H)=>o.jsxs("div",{className:"relative group",children:[o.jsx("img",{src:A,alt:`AS 이미지 ${H+1}`,className:"w-full h-40 object-cover rounded-lg cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>oe(A)}),o.jsx("button",{onClick:()=>V(y,H),className:"absolute top-2 right-2 bg-red-500 text-white p-1 rounded opacity-0 group-hover:opacity-100 transition-opacity",title:"이미지 삭제",children:o.jsx(rt,{className:"h-3 w-3"})})]},H))}):o.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-gray-400",children:[o.jsx(eo,{className:"h-12 w-12 mb-2"}),o.jsx("p",{className:"text-sm",children:"이미지가 없습니다"}),o.jsx("p",{className:"text-xs mt-2",children:"이미지를 드래그하여 추가하세요"})]})]}):o.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-400",children:[o.jsx(eo,{className:"h-16 w-16 mb-3"}),o.jsx("p",{className:"text-sm font-medium",children:"프로젝트를 선택하세요"}),o.jsx("p",{className:"text-xs mt-2",children:"테이블에서 프로젝트를 클릭한 후"}),o.jsx("p",{className:"text-xs",children:"이미지를 드래그하여 추가할 수 있습니다"})]})})]}),c&&o.jsx(Xne,{request:d,onClose:()=>u(!1),onSave:J}),y&&x&&o.jsxs("div",{className:"fixed inset-0 bg-blue-500 bg-opacity-20 z-50 pointer-events-none flex items-center justify-center",children:[o.jsx("div",{className:"bg-white rounded-lg shadow-lg p-6",children:o.jsx("p",{className:"text-lg font-semibold text-gray-900",children:"이미지를 여기에 놓으세요"})}),(()=>{const A=a.find(ae=>ae.id===y),H=(A==null?void 0:A.images)||[];return H.length>0?o.jsxs("div",{className:"space-y-2",children:[o.jsx("div",{className:"grid grid-cols-3 gap-2 max-h-48 overflow-y-auto",children:H.map((ae,Ne)=>o.jsxs("div",{className:"relative group",children:[o.jsx("img",{src:ae,alt:`이미지 ${Ne+1}`,className:"w-full h-20 object-cover rounded cursor-pointer hover:opacity-75",onClick:()=>oe(ae)}),o.jsx("button",{onClick:()=>U(Ne),className:"absolute -top-1 -right-1 p-1 bg-red-500 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:o.jsx(rt,{className:"h-3 w-3"})})]},Ne))}),o.jsx("button",{onClick:()=>{var ae;return(ae=document.getElementById("as-image-file-input"))==null?void 0:ae.click()},className:"w-full py-2 text-sm text-gray-700 bg-gray-100 hover:bg-gray-200 rounded transition-colors",children:"+ 이미지 추가"})]}):o.jsx("label",{htmlFor:"as-image-file-input",className:"block cursor-pointer",children:o.jsxs("div",{className:`border-2 border-dashed rounded-lg p-6 text-center transition-colors ${x?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400"}`,children:[o.jsx(bv,{className:"h-8 w-8 mx-auto text-gray-400 mb-2"}),o.jsx("p",{className:"text-sm font-medium text-gray-700",children:"클릭하여 선택"}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"드래그 또는 Ctrl+V로 붙여넣기"})]})})})()]}),_&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-90",onClick:()=>S(!1),children:o.jsxs("div",{className:"relative max-w-[90vw] max-h-[90vh]",children:[o.jsx("button",{onClick:A=>{A.stopPropagation(),S(!1)},className:"absolute -top-10 right-0 text-white hover:text-gray-300 transition-colors",children:o.jsx(rt,{className:"h-8 w-8"})}),o.jsx("img",{src:E,alt:"원본 이미지",className:"max-w-full max-h-[90vh] object-contain",onClick:A=>A.stopPropagation()})]})})]})},Zne=({work:e,onClose:t,onSave:r})=>{const{register:n,handleSubmit:s,setValue:a,formState:{errors:i}}=qo(),{projects:l}=Zr();N.useEffect(()=>{if(e)a("project",e.project),a("description",e.description),a("amount",e.amount),a("date",e.date.toISOString().split("T")[0]),a("notes",e.notes||"");else{const u=new Date().toISOString().split("T")[0];a("date",u)}},[e,a]);const c=u=>{const d={...u,amount:Number(u.amount),date:new Date(u.date)};r(d)};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b sticky top-0 bg-white z-10",children:[o.jsx("h2",{className:"text-xl font-semibold",children:e?"추가내역 수정":"추가내역 등록"}),o.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx(rt,{className:"h-5 w-5"})})]}),o.jsxs("form",{onSubmit:s(c),className:"p-6 space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"프로젝트명 *"}),o.jsxs("select",{...n("project",{required:"프로젝트를 선택하세요"}),className:"input",children:[o.jsx("option",{value:"",children:"선택하세요"}),l.map(u=>o.jsx("option",{value:u.name,children:u.name},u.id))]}),i.project&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(i.project.message)})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"내용 *"}),o.jsx("textarea",{...n("description",{required:"추가내역 내용을 입력하세요"}),rows:3,className:"input",placeholder:"추가 공사 내용을 입력하세요 (예: 거실 조명 추가 설치)"}),i.description&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(i.description.message)})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"금액 (원) *"}),o.jsx("input",{...n("amount",{required:"금액을 입력하세요",min:{value:0,message:"금액은 0 이상이어야 합니다"}}),type:"number",className:"input",placeholder:"예: 500000"}),i.amount&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(i.amount.message)})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"일자 *"}),o.jsx("input",{...n("date",{required:"일자를 선택하세요"}),type:"date",className:"input"}),i.date&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(i.date.message)})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"비고"}),o.jsx("textarea",{...n("notes"),rows:2,className:"input",placeholder:"추가 메모 (선택사항)"})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[o.jsx("button",{type:"button",onClick:t,className:"btn btn-outline",children:"취소"}),o.jsx("button",{type:"submit",className:"btn btn-primary",children:e?"수정":"등록"})]})]})]})})},Fl={getAllAdditionalWorks:async()=>(await Pe.get("/additional-works")).data,getAdditionalWorkById:async e=>(await Pe.get(`/additional-works/${e}`)).data,createAdditionalWork:async e=>{const t={project:e.project,description:e.description,amount:e.amount,work_date:e.date instanceof Date?e.date.toISOString().split("T")[0]:e.date,notes:e.notes||""};return console.log("[additionalWorkService.createAdditionalWork] Sending to backend:",t),(await Pe.post("/additional-works",t)).data},updateAdditionalWork:async(e,t)=>{const r={};return t.project!==void 0&&(r.project=t.project),t.description!==void 0&&(r.description=t.description),t.amount!==void 0&&(r.amount=t.amount),t.date!==void 0&&(r.work_date=t.date instanceof Date?t.date.toISOString().split("T")[0]:t.date),t.notes!==void 0&&(r.notes=t.notes),console.log("[additionalWorkService.updateAdditionalWork] Sending to backend:",r),(await Pe.put(`/additional-works/${e}`,r)).data},deleteAdditionalWork:async e=>{await Pe.delete(`/additional-works/${e}`)}},ese=()=>{const[e,t]=N.useState([]),[r,n]=N.useState(!1),[s,a]=N.useState(null),[i,l]=N.useState(""),[c,u]=N.useState(new Set);N.useEffect(()=>{d()},[]),N.useEffect(()=>{const x=()=>{f()};return window.addEventListener("headerAddButtonClick",x),()=>window.removeEventListener("headerAddButtonClick",x)},[]);const d=async()=>{try{const x=await Fl.getAllAdditionalWorks();t(x.map(b=>({id:b._id,project:b.project,description:b.description,amount:b.amount,date:new Date(b.date),notes:b.notes})))}catch(x){console.error("Failed to load additional works:",x),ne.error("추가내역 데이터를 불러오는데 실패했습니다")}},f=()=>{a(null),n(!0)},h=x=>{a(x),n(!0)},g=async(x,b)=>{if(window.confirm(`"${b}" 추가내역을 삭제하시겠습니까?

삭제된 내역은 복구할 수 없습니다.`))try{await Fl.deleteAdditionalWork(x),await d(),ne.success("추가내역이 삭제되었습니다")}catch(_){console.error("Failed to delete additional work:",_),ne.error("추가내역 삭제에 실패했습니다")}},m=async x=>{try{s?(await Fl.updateAdditionalWork(s.id,x),ne.success("추가내역이 수정되었습니다")):(await Fl.createAdditionalWork(x),ne.success("추가내역이 추가되었습니다")),await d(),n(!1)}catch(b){console.error("Failed to save additional work:",b),ne.error("추가내역 저장에 실패했습니다")}},p=e.filter(x=>{var _,S;return(((_=x.project)==null?void 0:_.toLowerCase())||"").includes(i.toLowerCase())||(((S=x.description)==null?void 0:S.toLowerCase())||"").includes(i.toLowerCase())}),w=p.reduce((x,b)=>{const _=x.find(S=>S.projectName===b.project);return _?(_.works.push(b),_.totalAmount+=b.amount):x.push({projectName:b.project,works:[b],totalAmount:b.amount}),x},[]);w.sort((x,b)=>x.projectName.localeCompare(b.projectName)),w.forEach(x=>{x.works.sort((b,_)=>_.date.getTime()-b.date.getTime())});const y=x=>{const b=new Set(c);b.has(x)?b.delete(x):b.add(x),u(b)},v=w.reduce((x,b)=>x+b.totalAmount,0);return o.jsxs("div",{className:"space-y-3 md:space-y-4",children:[o.jsx("div",{className:"flex items-center justify-end",children:o.jsx("button",{onClick:f,className:"hidden lg:inline-flex btn btn-primary px-4 py-2",children:"+ 추가내역"})}),o.jsx("div",{children:o.jsx("input",{type:"text",placeholder:"검색...",value:i,onChange:x=>l(x.target.value),className:"w-full px-3 md:px-4 py-2 text-sm md:text-base border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-600 focus:border-transparent"})}),w.length>0&&o.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4 md:p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm md:text-base text-gray-600",children:"전체 추가내역 합계"}),o.jsxs("p",{className:"text-xl md:text-2xl font-bold text-gray-900 mt-1",children:[v.toLocaleString(),"원"]})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("p",{className:"text-sm text-gray-600",children:[w.length,"개 프로젝트"]}),o.jsxs("p",{className:"text-sm text-gray-600",children:[p.length,"건"]})]})]})}),o.jsxs("div",{className:"md:hidden space-y-4",children:[w.map(x=>o.jsxs("div",{className:"card overflow-hidden",children:[o.jsxs("button",{onClick:()=>y(x.projectName),className:"w-full p-4 flex items-center justify-between bg-gray-50 hover:bg-gray-100 transition-colors",children:[o.jsxs("div",{className:"flex-1 text-left",children:[o.jsx("h3",{className:"font-bold text-base text-gray-900",children:x.projectName}),o.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[x.works.length,"건 · ",x.totalAmount.toLocaleString(),"원"]})]}),c.has(x.projectName)?o.jsx(Ib,{className:"h-5 w-5 text-gray-600"}):o.jsx(Lb,{className:"h-5 w-5 text-gray-600"})]}),c.has(x.projectName)&&o.jsx("div",{className:"divide-y divide-gray-200",children:x.works.map(b=>o.jsxs("div",{className:"p-3 hover:bg-gray-50 transition-colors",children:[o.jsxs("div",{className:"flex items-start justify-between mb-2",children:[o.jsx("p",{className:"text-sm text-gray-600",children:Ce(b.date,"yyyy.MM.dd (eee)",{locale:Qe})}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx("button",{onClick:()=>h(b),className:"text-gray-600 hover:text-gray-700 p-1",children:o.jsx(wc,{className:"h-4 w-4"})}),o.jsx("button",{onClick:()=>g(b.id,b.project),className:"text-rose-600 hover:text-rose-700 p-1",children:o.jsx(Xr,{className:"h-4 w-4"})})]})]}),o.jsxs("div",{className:"space-y-2 text-sm",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500",children:"내용"}),o.jsx("p",{className:"text-gray-900 mt-0.5",children:b.description})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500",children:"금액"}),o.jsxs("p",{className:"text-gray-900 mt-0.5 font-medium",children:[b.amount.toLocaleString(),"원"]})]}),b.notes&&o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500",children:"비고"}),o.jsx("p",{className:"text-gray-900 mt-0.5",children:b.notes})]})]})]},b.id))})]},x.projectName)),w.length===0&&o.jsx("div",{className:"text-center py-8 text-gray-500",children:"추가내역이 없습니다"})]}),o.jsxs("div",{className:"hidden md:block space-y-4",children:[w.map(x=>o.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:[o.jsxs("button",{onClick:()=>y(x.projectName),className:"w-full px-6 py-4 flex items-center justify-between bg-gray-50 hover:bg-gray-100 transition-colors",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("h3",{className:"font-bold text-lg text-gray-900",children:x.projectName}),o.jsxs("span",{className:"text-sm text-gray-600",children:[x.works.length,"건"]})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"text-sm text-gray-500",children:"프로젝트 합계"}),o.jsxs("p",{className:"text-lg font-bold text-gray-900",children:[x.totalAmount.toLocaleString(),"원"]})]}),c.has(x.projectName)?o.jsx(Ib,{className:"h-5 w-5 text-gray-600"}):o.jsx(Lb,{className:"h-5 w-5 text-gray-600"})]})]}),c.has(x.projectName)&&o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"일자"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"내용"}),o.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"금액"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"비고"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"수정"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"삭제"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:x.works.map(b=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("p",{className:"text-sm text-gray-900",children:Ce(b.date,"yyyy.MM.dd (eee)",{locale:Qe})})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("p",{className:"text-sm text-gray-900",children:b.description})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:o.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[b.amount.toLocaleString(),"원"]})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("p",{className:"text-sm text-gray-900",children:b.notes||"-"})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:o.jsx("button",{onClick:()=>h(b),className:"text-gray-600 hover:text-gray-700 transition-colors",children:o.jsx(wc,{className:"h-4 w-4"})})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:o.jsx("button",{onClick:()=>g(b.id,b.project),className:"text-rose-600 hover:text-rose-700 transition-colors",children:o.jsx(Xr,{className:"h-4 w-4"})})})]},b.id))})]})]},x.projectName)),w.length===0&&o.jsx("div",{className:"text-center py-8 text-gray-500 bg-white border border-gray-200 rounded-lg",children:"추가내역이 없습니다"})]}),r&&o.jsx(Zne,{work:s,onClose:()=>n(!1),onSave:m})]})},tse=()=>{const{projects:e,constructionPayments:t,loadConstructionPaymentsFromAPI:r,addConstructionPaymentToAPI:n,updateConstructionPaymentInAPI:s,deleteConstructionPaymentFromAPI:a,executionRecords:i,payments:l}=Zr(),[c,u]=N.useState(t),[d,f]=N.useState([]);N.useEffect(()=>{console.log("💰 ConstructionPayment: Loading payments from API..."),r().then(()=>{console.log("💰 ConstructionPayment: Payments loaded successfully")}).catch(O=>{console.error("💰 ConstructionPayment: Failed to load construction payments:",O),ne.error("공사대금 데이터를 불러오는데 실패했습니다")})},[r]),N.useEffect(()=>{console.log("💰 ConstructionPayment: Loading additional works from API..."),Fl.getAllAdditionalWorks().then(O=>{console.log("💰 ConstructionPayment: Additional works loaded:",O),f(O.map(q=>({_id:q._id,project:q.project,amount:q.amount})))}).catch(O=>{console.error("💰 ConstructionPayment: Failed to load additional works:",O)})},[]),N.useEffect(()=>{const O=()=>{Z()};return window.addEventListener("headerAddButtonClick",O),()=>window.removeEventListener("headerAddButtonClick",O)},[]),N.useEffect(()=>{console.log("💰 ConstructionPayment: Syncing with dataStore"),console.log("💰 constructionPayments:",t),console.log("💰 projects:",e);const O=e.map(H=>H.name);console.log("💰 Valid project names:",O);const q=t.filter(H=>O.includes(H.project));console.log("💰 Valid records after filtering:",q);const A=q.map(H=>({...H,vatType:H.vatType||"percentage",vatPercentage:H.vatPercentage??100,vatAmount:H.vatAmount??0,payments:H.payments.map(ae=>{var Ne;return{...ae,type:ae.type||((Ne=ae.types)==null?void 0:Ne[0])||"계약금"}})}));if(console.log("💰 Normalized records:",A),q.length<t.length){const H=t.filter(ae=>!O.includes(ae.project));H.forEach(async ae=>{try{await a(ae.id)}catch(Ne){console.error("Failed to delete orphaned record:",Ne)}}),console.log("Removed orphaned construction payment records:",H.map(ae=>`${ae.project} (${ae.id})`))}u(A)},[t,e,a]);const[h,g]=N.useState(""),[m,p]=N.useState(null),[w,y]=N.useState(!1),[v,x]=N.useState(!1),[b,_]=N.useState(null),[S,E]=N.useState("remaining"),[C,M]=N.useState({projectId:"",totalAmount:0,vatType:"percentage",vatPercentage:100,vatAmount:0}),[$,Y]=N.useState({types:[],percentage:0,amount:0,date:"",method:"계좌이체",notes:""}),J={계약금:10,착수금:40,중도금:40,잔금:10,추가금:0},G=O=>O.reduce((q,A)=>q+(J[A]||0),0),se=(O,q)=>{const A=m?e.find(Ne=>Ne.name===m.project):null;if(!A||O.length===0||!A.startDate||!A.endDate)return"";const H=new Date(A.startDate),ae=new Date(A.endDate);if(isNaN(H.getTime())||isNaN(ae.getTime())||O.includes("계약금"))return"";if(O.includes("착수금")){const Ne=new Date(H);return Ne.setDate(Ne.getDate()-7),Ce(Ne,"yyyy-MM-dd")}else if(O.includes("중도금")){const Ne=H.getTime()+(ae.getTime()-H.getTime())/2;return Ce(new Date(Ne),"yyyy-MM-dd")}else if(O.includes("잔금")||O.includes("추가금"))return Ce(ae,"yyyy-MM-dd");return""},ce=O=>{const q=e.find(z=>z.name===O.project);if(!q)return[];if(!q.startDate||!q.endDate)return[];const A=V(O),H=new Date(q.startDate),ae=new Date(q.endDate);if(isNaN(H.getTime())||isNaN(ae.getTime()))return[];const Ne=[];Ne.push({type:"계약금",date:null,amount:Math.round(A*.1),percentage:10,status:"pending"});const Ie=new Date(H);Ie.setDate(Ie.getDate()-7),Ne.push({type:"착수금",date:Ie,amount:Math.round(A*.4),percentage:40,status:Ie<=new Date?"overdue":"pending"});const D=H.getTime()+(ae.getTime()-H.getTime())/2,k=new Date(D);return Ne.push({type:"중도금",date:k,amount:Math.round(A*.4),percentage:40,status:k<=new Date?"overdue":"pending"}),Ne.push({type:"잔금",date:ae,amount:Math.round(A*.1),percentage:10,status:ae<=new Date?"overdue":"pending"}),O.payments.forEach(z=>{var P;(((P=z.type)==null?void 0:P.split(", "))||[]).forEach(L=>{const K=Ne.find(ee=>ee.type===L.trim());K&&(K.status="completed",K.actualDate=z.date,K.actualAmount=z.amount)})}),Ne},Z=()=>{y(!0)},he=async()=>{console.log("💰 handleSaveProject called"),console.log("💰 newProject:",C),console.log("💰 projects:",e);const O=e.find(q=>q.id===C.projectId||q.id===parseInt(C.projectId)||q.id.toString()===C.projectId.toString());if(console.log("💰 selectedProject:",O),console.log("💰 totalAmount:",C.totalAmount,"type:",typeof C.totalAmount),!O){alert("프로젝트를 선택하세요");return}if(C.totalAmount<=0){alert("총 공사금액을 입력하세요 (0보다 커야 합니다)");return}try{const q={id:"",project_id:O.id,project:O.name,client:O.client,totalAmount:C.totalAmount,vatType:C.vatType,vatPercentage:C.vatPercentage,vatAmount:C.vatAmount,payments:[]};console.log("📤 Sending to API:",q),await n(q),ne.success("프로젝트가 추가되었습니다"),y(!1),M({projectId:"",totalAmount:0,vatType:"percentage",vatPercentage:100,vatAmount:0})}catch(q){console.error("Failed to add construction payment:",q),ne.error("프로젝트 추가에 실패했습니다")}},te=()=>{_(null),Y({types:[],percentage:0,amount:0,date:"",method:"계좌이체",notes:""}),x(!0)},U=O=>{const q=m==null?void 0:m.payments[O];if(!q)return;_(O);const A=q.type?q.type.split(",").map(H=>H.trim()):[];Y({types:A,percentage:G(A),amount:q.amount,date:Ce(q.date,"yyyy-MM-dd"),method:q.method,notes:q.notes||""}),x(!0)},oe=async()=>{if(!m||!$.date||$.amount<=0||$.types.length===0){alert("모든 필드를 입력하세요");return}try{let O;b!==null?O=m.payments.map((H,ae)=>ae===b?{type:$.types.join(", "),amount:$.amount,date:new Date($.date),method:$.method,notes:$.notes}:H):O=[...m.payments,{type:$.types.join(", "),amount:$.amount,date:new Date($.date),method:$.method,notes:$.notes}];const q={...m,payments:O};await s(m.id,q),ne.success(b!==null?"입금이 수정되었습니다":"입금이 추가되었습니다");const A=c.map(H=>H.id===m.id?q:H);u(A),p(q),x(!1),_(null),Y({types:[],percentage:0,amount:0,date:"",method:"계좌이체",notes:""})}catch(O){console.error("Failed to save payment:",O),ne.error("입금 저장에 실패했습니다")}},V=O=>{const q=O.totalAmount;if(O.vatType==="amount")return q+(O.vatAmount||0);{const A=q*((O.vatPercentage??100)/100)*.1;return q+A}},W=O=>{const q=pe(O.project),A=O.totalAmount+q;if(O.vatType==="amount")return A+(O.vatAmount||0);{const H=A*((O.vatPercentage??100)/100)*.1;return A+H}},T=O=>O.vatType==="amount"?O.vatAmount||0:O.totalAmount*((O.vatPercentage??100)/100)*.1,R=O=>{if(!m)return 0;const q=V(m);return Math.round(q*O/100)},X=O=>O.payments.reduce((q,A)=>q+A.amount,0),le=O=>W(O)-X(O),de=O=>{const q=i.filter(H=>H.project===O).reduce((H,ae)=>H+(ae.totalAmount||0),0),A=l.filter(H=>(H.status==="approved"||H.status==="completed")&&H.project===O).reduce((H,ae)=>H+ae.amount,0);return q+A},pe=O=>d.filter(q=>q.project===O).reduce((q,A)=>q+A.amount,0),B=c.filter(O=>(O.project||"").toLowerCase().includes(h.toLowerCase())||(O.client||"").toLowerCase().includes(h.toLowerCase())).filter(O=>{if(S==="all")return!0;const q=le(O);return S==="completed"?q===0:S==="remaining"?q>0:!0});return o.jsxs("div",{className:"space-y-3 md:space-y-4",children:[o.jsx("div",{className:"flex items-center justify-end",children:o.jsx("button",{onClick:Z,className:"hidden lg:inline-flex btn btn-primary px-4 py-2",children:"+ 프로젝트"})}),o.jsx("div",{className:"border-b border-gray-200",children:o.jsx("nav",{className:"flex space-x-4 md:space-x-8 overflow-x-auto",children:[{id:"remaining",label:"미수금",count:c.filter(O=>le(O)>0).length},{id:"completed",label:"완납",count:c.filter(O=>le(O)===0).length},{id:"all",label:"전체",count:c.length}].map(O=>o.jsxs("button",{onClick:()=>E(O.id),className:`py-3 md:py-4 px-1 border-b-2 font-medium text-xs md:text-sm transition-colors whitespace-nowrap ${S===O.id?"border-gray-700 text-gray-700":"border-transparent text-gray-400 hover:text-gray-700 hover:border-gray-300"}`,children:[O.label,o.jsx("span",{className:`ml-1 md:ml-2 py-0.5 px-1.5 md:px-2 rounded-full text-[10px] md:text-xs font-semibold ${S===O.id?"bg-gray-700 text-white":"bg-gray-200 text-gray-600"}`,children:O.count})]},O.id))})}),o.jsx("div",{children:o.jsx("input",{type:"text",placeholder:"프로젝트 또는 고객명 검색...",value:h,onChange:O=>g(O.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-600 focus:border-transparent"})}),o.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:B.map(O=>{const q=X(O),A=le(O),H=V(O),ae=q/H*100;return o.jsxs("div",{className:"card hover:border-gray-400 transition-colors",children:[o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("h3",{className:"font-bold text-lg text-gray-900",children:O.project}),o.jsx("button",{onClick:()=>p(O),className:"text-sm text-gray-600 hover:text-gray-800",children:"상세보기"})]}),o.jsxs("p",{className:"text-sm text-gray-600",children:[O.client,"님"]})]}),o.jsxs("div",{className:"mb-4 space-y-2",children:[o.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[o.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"순수 공사금액"}),o.jsxs("p",{className:"text-lg font-bold text-gray-900",children:["₩",O.totalAmount.toLocaleString()]})]}),o.jsxs("div",{className:"p-3 bg-gray-50 border border-gray-200 rounded-lg",children:[o.jsx("div",{className:"flex items-center justify-between mb-1",children:o.jsxs("p",{className:"text-xs text-gray-700",children:["총 계약금액 (부가세 ",O.vatType==="percentage"?`${O.vatPercentage??100}%`:`₩${(O.vatAmount||0).toLocaleString()}`," 포함)"]})}),o.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["₩",H.toLocaleString()]})]})]}),o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-sm text-gray-600",children:"수령률"}),o.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[ae.toFixed(1),"%"]})]}),o.jsx("div",{className:"w-full bg-gray-200 h-2 rounded-full",children:o.jsx("div",{className:"bg-gray-600 h-2 rounded-full transition-all",style:{width:`${ae}%`}})})]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-4",children:[o.jsxs("div",{className:"p-3 bg-gray-50 border border-gray-200 rounded-lg",children:[o.jsx("p",{className:"text-xs text-gray-700 mb-1",children:"수령금액"}),o.jsxs("p",{className:"text-base font-bold text-gray-800",children:["₩",q.toLocaleString()]})]}),o.jsxs("div",{className:"p-3 bg-gray-50 border border-gray-200 rounded-lg",children:[o.jsx("p",{className:"text-xs text-gray-700 mb-1",children:"실행내역 합계"}),o.jsxs("p",{className:"text-base font-bold text-gray-800",children:["₩",de(O.project).toLocaleString()]})]}),o.jsxs("div",{className:"p-3 bg-gray-50 border border-gray-200 rounded-lg",children:[o.jsx("p",{className:"text-xs text-gray-700 mb-1",children:"추가내역 합계"}),o.jsxs("p",{className:"text-base font-bold text-gray-800",children:["₩",pe(O.project).toLocaleString()]})]}),o.jsxs("div",{className:"p-3 bg-gray-50 border border-gray-200 rounded-lg",children:[o.jsx("p",{className:"text-xs text-gray-700 mb-1",children:"미수금"}),o.jsxs("p",{className:"text-base font-bold text-gray-800",children:["₩",A.toLocaleString()]})]})]}),O.payments.length>0&&o.jsxs("div",{className:"border-t pt-4",children:[o.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"최근 입금"}),O.payments.slice(-2).reverse().map((Ne,Ie)=>o.jsxs("div",{className:"flex items-center justify-between text-sm mb-1",children:[o.jsxs("span",{className:"text-gray-700",children:[Ne.type||"미분류"," - ",Ce(Ne.date,"MM/dd")]}),o.jsxs("span",{className:"font-medium text-gray-900",children:["₩",Ne.amount.toLocaleString()]})]},Ie))]})]},O.id)})}),m&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-lg max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsx("div",{className:"p-6 border-b",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold",children:m.project}),o.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[m.client,"님"]})]}),o.jsx("button",{onClick:()=>p(null),className:"p-2 hover:bg-gray-100 rounded-lg",children:"✕"})]})}),o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h3",{className:"text-lg font-semibold mb-4",children:"수금 일정"}),o.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[o.jsx("div",{className:"space-y-3",children:ce(m).map((O,q)=>{var ae;const H={계약금:"contract",착수금:"start",중도금:"middle",잔금:"final"}[O.type];return o.jsxs("div",{className:"flex items-center justify-between gap-3",children:[o.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[o.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded ${O.status==="completed"?"bg-green-100 text-green-800":O.status==="overdue"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:O.type}),O.status!=="completed"?o.jsx("input",{type:"date",value:(ae=m.expectedPaymentDates)!=null&&ae[H]?Ce(new Date(m.expectedPaymentDates[H]),"yyyy-MM-dd"):O.date?Ce(O.date,"yyyy-MM-dd"):"",onChange:async Ne=>{const Ie=Ne.target.value?new Date(Ne.target.value):null,D={...m.expectedPaymentDates,[H]:Ie},k={...m,expectedPaymentDates:D};p(k);try{await s(m.id,{expectedPaymentDates:D});const z=c.map(j=>j.id===m.id?k:j);u(z),ne.success("수금 일정이 수정되었습니다")}catch(z){console.error("Failed to update payment date:",z),ne.error("일정 수정에 실패했습니다")}},className:"px-3 py-1.5 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-gray-600"}):o.jsxs("span",{className:"text-sm text-gray-700",children:[O.date?Ce(O.date,"yyyy년 MM월 dd일"):"날짜 미정",O.actualDate&&o.jsxs("span",{className:"text-green-600 ml-2",children:["(실제: ",Ce(O.actualDate,"MM/dd"),")"]})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["₩",O.amount.toLocaleString(),o.jsxs("span",{className:"text-xs text-gray-500 ml-1",children:["(",O.percentage,"%)"]})]}),O.status==="completed"&&O.actualAmount&&o.jsxs("p",{className:"text-xs text-green-600",children:["실제: ₩",O.actualAmount.toLocaleString()]})]})]},q)})}),o.jsx("div",{className:"mt-4 pt-3 border-t border-gray-200",children:o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-600",children:"예상 총액"}),o.jsxs("span",{className:"font-bold text-gray-900",children:["₩",V(m).toLocaleString()]})]})})]})]}),o.jsxs("div",{className:"space-y-4 mb-6",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"p-4 bg-gray-50 border border-gray-300 rounded-lg",children:[o.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"순수 공사금액 (₩)"}),o.jsx("input",{type:"number",value:m.totalAmount||"",onChange:async O=>{const q=O.target.value===""?0:Number(O.target.value),A={...m,totalAmount:q};p(A);try{await s(m.id,A);const H=c.map(ae=>ae.id===m.id?A:ae);u(H)}catch(H){console.error("Failed to update total amount:",H),ne.error("금액 수정에 실패했습니다")}},className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-lg font-bold focus:outline-none focus:ring-2 focus:ring-gray-600 focus:border-transparent",placeholder:"50000000",min:"0"}),o.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"부가세를 제외한 순수 공사금액"})]}),o.jsxs("div",{className:"p-4 bg-gray-50 border border-gray-200 rounded-lg",children:[o.jsxs("p",{className:"text-xs text-gray-700 mb-1",children:["총 계약금액 (부가세 ",m.vatType==="percentage"?`${m.vatPercentage??100}%`:`₩${(m.vatAmount||0).toLocaleString()}`," 포함)"]}),o.jsxs("p",{className:"text-xl font-bold text-gray-900",children:["₩",V(m).toLocaleString()]})]})]}),o.jsxs("div",{className:"p-4 bg-gray-50 border border-gray-300 rounded-lg",children:[o.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"부가세 입력 방식"}),o.jsxs("div",{className:"flex gap-2 mb-3",children:[o.jsx("button",{type:"button",onClick:async()=>{const O={...m,vatType:"percentage"};p(O);try{await s(m.id,O);const q=c.map(A=>A.id===m.id?O:A);u(q)}catch(q){console.error("Failed to update VAT type:",q),ne.error("부가세 방식 변경에 실패했습니다")}},className:`flex-1 px-3 py-2 text-sm border rounded-lg font-medium transition-colors ${m.vatType==="percentage"?"border-gray-900 bg-gray-900 text-white":"border-gray-300 bg-white text-gray-700 hover:border-gray-400"}`,children:"비율 (%)"}),o.jsx("button",{type:"button",onClick:async()=>{const O={...m,vatType:"amount"};p(O);try{await s(m.id,O);const q=c.map(A=>A.id===m.id?O:A);u(q)}catch(q){console.error("Failed to update VAT type:",q),ne.error("부가세 방식 변경에 실패했습니다")}},className:`flex-1 px-3 py-2 text-sm border rounded-lg font-medium transition-colors ${m.vatType==="amount"?"border-gray-900 bg-gray-900 text-white":"border-gray-300 bg-white text-gray-700 hover:border-gray-400"}`,children:"금액 (₩)"})]}),m.vatType==="percentage"&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"부가세 발행 비율 (%)"}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("input",{type:"number",value:m.vatPercentage,onChange:async O=>{const q=Number(O.target.value),A={...m,vatPercentage:q};p(A);try{await s(m.id,A);const H=c.map(ae=>ae.id===m.id?A:ae);u(H)}catch(H){console.error("Failed to update VAT percentage:",H),ne.error("부가세 비율 수정에 실패했습니다")}},className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-gray-600 focus:border-transparent",placeholder:"100",min:"0",max:"100"}),o.jsx("div",{className:"text-xs text-gray-600",children:o.jsxs("p",{children:["부가세: ₩",T(m).toLocaleString()]})})]}),o.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"0%: 부가세 없음 | 100%: 전체 금액에 부가세 발행 | 50%: 절반만 부가세 발행"})]}),m.vatType==="amount"&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"부가세 발행 금액 (₩)"}),o.jsx("input",{type:"number",value:m.vatAmount,onChange:async O=>{const q=Number(O.target.value),A={...m,vatAmount:q};p(A);try{await s(m.id,A);const H=c.map(ae=>ae.id===m.id?A:ae);u(H)}catch(H){console.error("Failed to update VAT amount:",H),ne.error("부가세 금액 수정에 실패했습니다")}},className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-gray-600 focus:border-transparent",placeholder:"5000000",min:"0"}),o.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"부가세로 발행할 금액을 직접 입력하세요"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[o.jsx("p",{className:"text-xs text-gray-700 mb-1",children:"수령금액"}),o.jsxs("p",{className:"text-lg font-bold text-gray-800",children:["₩",X(m).toLocaleString()]})]}),o.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[o.jsx("p",{className:"text-xs text-gray-700 mb-1",children:"실행내역 합계"}),o.jsxs("p",{className:"text-lg font-bold text-gray-800",children:["₩",de(m.project).toLocaleString()]})]}),o.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[o.jsx("p",{className:"text-xs text-gray-700 mb-1",children:"추가내역 합계"}),o.jsxs("p",{className:"text-lg font-bold text-gray-800",children:["₩",pe(m.project).toLocaleString()]})]}),o.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[o.jsx("p",{className:"text-xs text-gray-700 mb-1",children:"미수금"}),o.jsxs("p",{className:"text-lg font-bold text-gray-800",children:["₩",le(m).toLocaleString()]})]})]})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"text-lg font-semibold",children:"입금 내역"}),o.jsx("button",{onClick:te,className:"btn btn-primary btn-sm",children:"+ 입금 추가"})]}),o.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"구분"}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"금액"}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"입금일"}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"방법"}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"비고"}),o.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"수정"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:m.payments.map((O,q)=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-4 py-3",children:o.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-gray-100 text-gray-800 rounded",children:O.type||"미분류"})}),o.jsxs("td",{className:"px-4 py-3 font-medium text-gray-900",children:["₩",O.amount.toLocaleString()]}),o.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:Ce(O.date,"yyyy년 MM월 dd일")}),o.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:O.method}),o.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:O.notes||"-"}),o.jsx("td",{className:"px-4 py-3 text-center",children:o.jsx("button",{onClick:()=>U(q),className:"text-gray-600 hover:text-gray-700 transition-colors",children:o.jsx(wc,{className:"h-4 w-4"})})})]},q))})]})})]})]}),o.jsxs("div",{className:"p-6 border-t flex justify-between",children:[o.jsx("button",{onClick:async()=>{if(m&&window.confirm(`이 공사대금 기록을 삭제하시겠습니까?
삭제된 데이터는 복구할 수 없습니다.`))try{await a(m.id),ne.success("공사대금이 삭제되었습니다"),p(null)}catch(O){console.error("Failed to delete construction payment:",O),ne.error("삭제에 실패했습니다")}},className:"btn btn-outline text-red-600 hover:bg-red-50 hover:border-red-300",children:"삭제"}),o.jsx("button",{onClick:()=>p(null),className:"btn btn-outline",children:"닫기"})]})]})}),w&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full",children:[o.jsx("div",{className:"p-6 border-b",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h2",{className:"text-xl font-semibold",children:"새 프로젝트 추가"}),o.jsx("button",{onClick:()=>y(!1),className:"p-2 hover:bg-gray-100 rounded-lg",children:o.jsx(rt,{className:"h-5 w-5"})})]})}),o.jsxs("div",{className:"p-6 space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"프로젝트 선택 *"}),o.jsxs("select",{value:C.projectId,onChange:O=>M({...C,projectId:O.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-600 focus:border-transparent",children:[o.jsx("option",{value:"",children:"선택하세요"}),e.map(O=>o.jsxs("option",{value:O.id,children:[O.name," - ",O.client]},O.id))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"총 공사금액 *"}),o.jsx("input",{type:"number",value:C.totalAmount||"",onChange:O=>M({...C,totalAmount:Number(O.target.value)}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-600 focus:border-transparent",placeholder:"50000000"}),o.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"순수 공사금액 (부가세 제외)"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"부가세 입력 방식 *"}),o.jsxs("div",{className:"flex gap-2 mb-3",children:[o.jsx("button",{type:"button",onClick:()=>M({...C,vatType:"percentage"}),className:`flex-1 px-3 py-2 text-sm border rounded-lg font-medium transition-colors ${C.vatType==="percentage"?"border-gray-900 bg-gray-900 text-white":"border-gray-300 bg-white text-gray-700 hover:border-gray-400"}`,children:"비율 (%)"}),o.jsx("button",{type:"button",onClick:()=>M({...C,vatType:"amount"}),className:`flex-1 px-3 py-2 text-sm border rounded-lg font-medium transition-colors ${C.vatType==="amount"?"border-gray-900 bg-gray-900 text-white":"border-gray-300 bg-white text-gray-700 hover:border-gray-400"}`,children:"금액 (₩)"})]}),C.vatType==="percentage"&&o.jsxs("div",{children:[o.jsx("input",{type:"number",value:C.vatPercentage??100,onChange:O=>{const q=O.target.value===""?100:Number(O.target.value);M({...C,vatPercentage:q})},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-600 focus:border-transparent",placeholder:"100",min:"0",max:"100"}),o.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"0%: 부가세 없음 | 100%: 전체 금액에 부가세 발행 | 50%: 절반만 부가세 발행"})]}),C.vatType==="amount"&&o.jsxs("div",{children:[o.jsx("input",{type:"number",value:C.vatAmount??0,onChange:O=>{const q=O.target.value===""?0:Number(O.target.value);M({...C,vatAmount:q})},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-600 focus:border-transparent",placeholder:"5000000",min:"0"}),o.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"부가세로 발행할 금액을 직접 입력하세요"})]}),C.totalAmount>0&&o.jsxs("div",{className:"mt-2 p-3 bg-gray-50 border border-gray-200 rounded-lg",children:[o.jsx("p",{className:"text-xs text-gray-700 mb-1",children:"총 계약금액 (부가세 포함)"}),o.jsxs("p",{className:"text-xl font-bold text-gray-900",children:["₩",(C.totalAmount+(C.vatType==="percentage"?C.totalAmount*((C.vatPercentage??100)/100)*.1:C.vatAmount??0)).toLocaleString()]}),o.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:["= 공사금액 ₩",C.totalAmount.toLocaleString()," + 부가세 ₩",(C.vatType==="percentage"?C.totalAmount*((C.vatPercentage??100)/100)*.1:C.vatAmount??0).toLocaleString()]})]})]})]}),o.jsxs("div",{className:"p-6 border-t flex justify-end space-x-3",children:[o.jsx("button",{onClick:()=>y(!1),className:"btn btn-outline",children:"취소"}),o.jsx("button",{onClick:he,className:"btn btn-primary",children:"추가"})]})]})}),v&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full",children:[o.jsx("div",{className:"p-6 border-b",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h2",{className:"text-xl font-semibold",children:b!==null?"입금 수정":"입금 추가"}),o.jsx("button",{onClick:()=>{x(!1),_(null)},className:"p-2 hover:bg-gray-100 rounded-lg",children:o.jsx(rt,{className:"h-5 w-5"})})]})}),o.jsxs("div",{className:"p-6 space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"구분 * (중복 선택 가능)"}),o.jsx("div",{className:"space-y-2",children:["계약금","착수금","중도금","잔금","추가금"].map(O=>{const q=J[O];return o.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:$.types.includes(O),onChange:A=>{let H;A.target.checked?H=[...$.types,O]:H=$.types.filter(D=>D!==O);const ae=G(H),Ne=R(ae),Ie=se(H);Y({...$,types:H,percentage:ae,amount:Ne,date:Ie||$.date})},className:"w-4 h-4 text-gray-900 border-gray-300 rounded focus:ring-gray-600"}),o.jsxs("span",{className:"text-sm text-gray-900",children:[O,o.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:["(",q,"%)"]}),O==="계약금"&&o.jsx("span",{className:"text-xs text-gray-400 ml-1",children:"(날짜 직접 입력)"}),O==="착수금"&&o.jsx("span",{className:"text-xs text-gray-400 ml-1",children:"(공사 시작 1주일 전)"}),O==="중도금"&&o.jsx("span",{className:"text-xs text-gray-400 ml-1",children:"(공사 중간)"}),O==="잔금"&&o.jsx("span",{className:"text-xs text-gray-400 ml-1",children:"(공사 종료일)"}),O==="추가금"&&o.jsx("span",{className:"text-xs text-gray-400 ml-1",children:"(공사 종료일)"})]})]},O)})}),$.types.length>0&&o.jsx("div",{className:"mt-2 p-2 bg-gray-50 border border-gray-200 rounded",children:o.jsxs("p",{className:"text-xs text-gray-700",children:["선택된 구분: ",$.types.join(" + ")," = 총 ",$.percentage,"%"]})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"결제 방법 *"}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{type:"button",onClick:()=>Y({...$,method:"계좌이체"}),className:`flex-1 px-4 py-3 border-2 rounded-lg font-medium transition-colors ${$.method==="계좌이체"?"border-gray-900 bg-gray-900 text-white":"border-gray-300 bg-white text-gray-700 hover:border-gray-400"}`,children:"계좌이체"}),o.jsx("button",{type:"button",onClick:()=>Y({...$,method:"현금"}),className:`flex-1 px-4 py-3 border-2 rounded-lg font-medium transition-colors ${$.method==="현금"?"border-gray-900 bg-gray-900 text-white":"border-gray-300 bg-white text-gray-700 hover:border-gray-400"}`,children:"현금"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"계약금액 대비 비율 (%)"}),o.jsx("input",{type:"number",value:$.percentage||"",onChange:O=>{const q=Number(O.target.value),A=R(q);Y({...$,percentage:q,amount:A})},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-600 focus:border-transparent",placeholder:"10",min:"0",max:"100"}),m&&$.percentage>0&&o.jsxs("div",{className:"mt-2 p-3 bg-gray-50 border border-gray-200 rounded-lg",children:[o.jsx("p",{className:"text-xs text-gray-700 mb-1",children:"계산 방식"}),o.jsxs("p",{className:"text-xs text-gray-900",children:["총 계약금액(부가세 ",m.vatPercentage,"% 포함) ₩",V(m).toLocaleString()," × ",$.percentage,"%"]}),o.jsxs("p",{className:"text-sm font-bold text-gray-900 mt-1",children:["= ₩",R($.percentage).toLocaleString()]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"입금 금액 *"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"number",value:$.amount||"",onChange:O=>Y({...$,amount:Number(O.target.value)}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-600 focus:border-transparent",placeholder:"5000000",min:"0"}),o.jsx("p",{className:"mt-1 text-xs text-gray-500",children:$.percentage>0?"위의 비율에 따라 자동 계산되었지만 직접 수정 가능합니다":"입금 금액을 직접 입력하세요"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"입금일 *"}),o.jsx("input",{type:"date",value:$.date,onChange:O=>Y({...$,date:O.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-600 focus:border-transparent"}),o.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"구분 선택 시 자동으로 날짜가 입력되며, 직접 수정 가능합니다"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"비고"}),o.jsx("textarea",{value:$.notes,onChange:O=>Y({...$,notes:O.target.value}),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-600 focus:border-transparent",placeholder:"추가 메모를 입력하세요"})]})]}),o.jsxs("div",{className:"p-6 border-t flex justify-between",children:[o.jsx("div",{children:b!==null&&o.jsx("button",{onClick:async()=>{if(m&&window.confirm("이 입금 내역을 삭제하시겠습니까?"))try{const O=m.payments.filter((H,ae)=>ae!==b),q={...m,payments:O};await s(m.id,{payments:O}),p(q);const A=c.map(H=>H.id===m.id?q:H);u(A),x(!1),_(null),ne.success("입금 내역이 삭제되었습니다")}catch(O){console.error("Failed to delete payment:",O),ne.error("삭제에 실패했습니다")}},className:"btn btn-outline text-red-600 hover:bg-red-50 hover:border-red-300",children:"삭제"})}),o.jsxs("div",{className:"flex space-x-3",children:[o.jsx("button",{onClick:()=>{x(!1),_(null)},className:"btn btn-outline",children:"취소"}),o.jsx("button",{onClick:oe,className:"btn btn-primary",children:b!==null?"수정":"추가"})]})]})]})})]})},Bf=["대표이사","부사장","전무","상무","이사","실장","부장","차장","과장","대리","주임","사원","팀장","소장","대표","사장","회장","반장","현장","본부장","팀원","파트장","조장","감독","기사","수석","책임"],dd=e=>{const t=e.replace(/님$/g,"").trim(),r=t.split(" ");if(r.length>=2){const n=r[r.length-1];for(const s of Bf)if(n===s)return s}for(const n of Bf)if(t.endsWith(n))return n;return""},vp=e=>{if(!e)return e;const t=e.replace(/님$/g,"").trim(),r=t.split(" ");if(r.length>=2){const n=r[r.length-1];for(const s of Bf)if(n===s)return r.slice(0,-1).join(" ").trim()}for(const n of Bf)if(t.endsWith(n))return t.substring(0,t.length-n.length).trim();return t};function rse(){const[e,t]=N.useState([]),[r,n]=N.useState(!0),[s,a]=N.useState(null),[i,l]=N.useState(!1),[c,u]=N.useState(null),[d,f]=N.useState(""),[h,g]=N.useState({rank:"",companyName:"",name:"",position:"",process:"",contact:"",bankName:"",accountNumber:"",notes:""});N.useEffect(()=>{m()},[]),N.useEffect(()=>{const S=()=>{p()};return window.addEventListener("headerAddButtonClick",S),()=>window.removeEventListener("headerAddButtonClick",S)},[]);const m=async()=>{var S,E;try{n(!0),a(null);const C=await ys.getAllContractors();t(C.map(M=>({id:M._id,rank:M.rank,companyName:M.companyName,name:M.name,position:M.position,process:M.process,contact:M.contact,accountNumber:M.accountNumber,notes:M.notes,createdAt:new Date(M.createdAt),updatedAt:new Date(M.updatedAt)})))}catch(C){console.error("Failed to load contractors:",C);const M=C instanceof Error&&((E=(S=C.response)==null?void 0:S.data)==null?void 0:E.message);a(M||"협력업체 목록을 불러오는데 실패했습니다.")}finally{n(!1)}},p=S=>{if(S){u(S);let E="",C=S.accountNumber||"";if(S.accountNumber){const Y=["KB국민은행","신한은행","우리은행","하나은행","NH농협은행","IBK기업은행","KEB하나은행","SC제일은행","한국씨티은행","부산은행","대구은행","경남은행","광주은행","전북은행","제주은행","산업은행","수협은행","우체국","새마을금고","신협","저축은행","카카오뱅크","케이뱅크","토스뱅크","NH투자증권","미래에셋증권","한국투자증권","키움증권","삼성증권","KB증권","신한투자증권","하이투자증권"];for(const J of Y)if(S.accountNumber.startsWith(J)){E=J,C=S.accountNumber.substring(J.length).trim();break}}let M=S.name,$=S.position||"";$||($=dd(S.name),M=vp(S.name)),g({rank:S.rank||"",companyName:S.companyName||"",name:M,position:$,process:S.process,contact:S.contact||"",bankName:E,accountNumber:C,notes:S.notes||""})}else u(null),g({rank:"",companyName:"",name:"",position:"",process:"",contact:"",bankName:"",accountNumber:"",notes:""});l(!0)},w=()=>{l(!1),u(null),g({rank:"",companyName:"",name:"",position:"",process:"",contact:"",bankName:"",accountNumber:"",notes:""})},y=async S=>{var C,M;S.preventDefault();const E=h.bankName&&h.accountNumber?`${h.bankName} ${h.accountNumber}`:h.accountNumber;try{const $={rank:h.rank,companyName:h.companyName,name:h.name,position:h.position,process:h.process,contact:h.contact,accountNumber:E,notes:h.notes};c?await ys.updateContractor(c.id,$):await ys.createContractor($),await m(),w()}catch($){console.error("Failed to save contractor:",$);const Y=$ instanceof Error&&((M=(C=$.response)==null?void 0:C.data)==null?void 0:M.message);alert(Y||"협력업체 저장에 실패했습니다.")}},v=async S=>{var E,C;if(window.confirm("정말 이 협력업체를 삭제하시겠습니까?"))try{await ys.deleteContractor(S),await m()}catch(M){console.error("Failed to delete contractor:",M);const $=M instanceof Error&&((C=(E=M.response)==null?void 0:E.data)==null?void 0:C.message);alert($||"협력업체 삭제에 실패했습니다.")}},x=()=>"border-gray-200 text-gray-600 bg-gray-50",b=S=>S?S==="1순위"?1:S==="1순위(ㅁㅇ)"?2:S==="2순위"?3:S==="2순위(ㅁㅇ)"?4:S==="3순위"?5:S==="3순위(ㅁㅇ)"?6:S==="신규"?100:S==="불용"?200:999:999,_=e.filter(S=>S.name.toLowerCase().includes(d.toLowerCase())||S.process.toLowerCase().includes(d.toLowerCase())||S.accountNumber.toLowerCase().includes(d.toLowerCase())||S.contact&&S.contact.toLowerCase().includes(d.toLowerCase())||S.rank&&S.rank.toLowerCase().includes(d.toLowerCase())||S.companyName&&S.companyName.toLowerCase().includes(d.toLowerCase())).sort((S,E)=>{const C=b(S.rank)-b(E.rank);if(C!==0)return C;const M=S.process.localeCompare(E.process,"ko");return M!==0?M:S.name.localeCompare(E.name,"ko")});return o.jsxs("div",{className:"space-y-3 md:space-y-4",children:[o.jsx("div",{className:"flex items-center justify-end",children:o.jsx("button",{onClick:()=>p(),className:"hidden lg:inline-flex btn btn-primary px-4 py-2",children:"+ 새 협력업체"})}),o.jsxs("div",{className:"relative",children:[o.jsx(bf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4 md:w-5 md:h-5"}),o.jsx("input",{type:"text",placeholder:"업체명, 공정, 계좌번호로 검색...",value:d,onChange:S=>f(S.target.value),className:"w-full pl-9 md:pl-10 pr-4 py-2 text-sm md:text-base border border-gray-200 rounded-lg focus:ring-2 focus:ring-gray-400 focus:border-transparent"})]}),o.jsx("div",{className:"hidden md:block bg-white rounded-lg border border-gray-200 overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"평가"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"공정"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"협력업체 이름"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"이름"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"직책"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"연락처"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"계좌번호"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"비고"}),o.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"작업"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r?o.jsx("tr",{children:o.jsx("td",{colSpan:9,className:"px-6 py-12 text-center",children:o.jsx("p",{className:"text-gray-500",children:"로딩 중..."})})}):s?o.jsx("tr",{children:o.jsx("td",{colSpan:9,className:"px-6 py-12 text-center",children:o.jsxs("div",{className:"space-y-4",children:[o.jsx("p",{className:"text-red-500",children:s}),o.jsx("button",{onClick:m,className:"inline-block px-6 py-3 bg-gray-900 text-white rounded-lg hover:bg-gray-800 transition-colors",children:"다시 시도"})]})})}):_.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:9,className:"px-6 py-12 text-center",children:o.jsx("p",{className:"text-gray-500",children:d?"검색 결과가 없습니다.":"등록된 협력업체가 없습니다."})})}):_.map(S=>o.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("span",{className:`px-2 py-1 text-xs font-medium border rounded ${x(S.rank)}`,children:S.rank||"-"})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("span",{className:"text-xs font-medium text-gray-700",children:S.process})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("div",{className:"text-sm text-gray-900",children:S.companyName||"-"})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("div",{className:"font-medium text-gray-900",children:vp(S.name)})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("div",{className:"text-sm text-gray-900",children:S.position||dd(S.name)||"-"})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("div",{className:"text-sm text-gray-900",children:S.contact||"-"})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("div",{className:"text-sm text-gray-900",children:S.accountNumber})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("div",{className:"text-sm text-gray-500 max-w-xs truncate",children:S.notes||"-"})}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[o.jsx("button",{onClick:()=>p(S),className:"text-gray-600 hover:text-gray-900 mr-3",children:o.jsx(Fb,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>v(S.id),className:"text-red-600 hover:text-red-900",children:o.jsx(Xr,{className:"w-4 h-4"})})]})]},S.id))})]})})}),o.jsx("div",{className:"md:hidden space-y-3",children:r?o.jsx("div",{className:"text-center py-12 text-gray-500 text-sm",children:"로딩 중..."}):s?o.jsxs("div",{className:"text-center py-12 space-y-4",children:[o.jsx("p",{className:"text-red-500 text-sm",children:s}),o.jsx("button",{onClick:m,className:"inline-block px-4 py-2 bg-gray-900 text-white rounded-lg hover:bg-gray-800 transition-colors text-sm",children:"다시 시도"})]}):_.length===0?o.jsx("div",{className:"text-center py-12 text-gray-500 text-sm",children:d?"검색 결과가 없습니다.":"등록된 협력업체가 없습니다."}):_.map(S=>o.jsxs("div",{className:"card p-3 space-y-2",children:[o.jsxs("div",{className:"flex items-start justify-between mb-2",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[S.rank&&o.jsx("span",{className:`px-1.5 py-0.5 text-[10px] font-medium border rounded ${x(S.rank)}`,children:S.rank}),o.jsx("span",{className:"px-1.5 py-0.5 text-[10px] font-medium text-gray-700 bg-gray-100 rounded",children:S.process})]}),S.companyName&&o.jsx("p",{className:"text-xs text-gray-600 mb-0.5",children:S.companyName}),o.jsx("p",{className:"font-semibold text-gray-900 text-sm",children:vp(S.name)})]}),o.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[o.jsx("button",{onClick:()=>p(S),className:"p-1.5 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded",children:o.jsx(Fb,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>v(S.id),className:"p-1.5 text-red-600 hover:text-red-900 hover:bg-red-50 rounded",children:o.jsx(Xr,{className:"w-4 h-4"})})]})]}),o.jsxs("div",{className:"space-y-1 text-xs",children:[(S.position||dd(S.name))&&o.jsxs("div",{className:"flex items-start",children:[o.jsx("span",{className:"text-gray-500 w-14 flex-shrink-0",children:"직책:"}),o.jsx("span",{className:"text-gray-900",children:S.position||dd(S.name)})]}),S.contact&&o.jsxs("div",{className:"flex items-start",children:[o.jsx("span",{className:"text-gray-500 w-14 flex-shrink-0",children:"연락처:"}),o.jsx("span",{className:"text-gray-900",children:S.contact})]}),o.jsxs("div",{className:"flex items-start",children:[o.jsx("span",{className:"text-gray-500 w-14 flex-shrink-0",children:"계좌:"}),o.jsx("span",{className:"text-gray-900 break-all",children:S.accountNumber})]}),S.notes&&o.jsxs("div",{className:"flex items-start",children:[o.jsx("span",{className:"text-gray-500 w-14 flex-shrink-0",children:"비고:"}),o.jsx("span",{className:"text-gray-600",children:S.notes})]})]})]},S.id))}),i&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:o.jsx("div",{className:"bg-white rounded-lg max-w-md w-full max-h-[90vh] overflow-y-auto",children:o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900",children:c?"협력업체 수정":"새 협력업체 등록"}),o.jsx("button",{onClick:w,className:"text-gray-400 hover:text-gray-600",children:o.jsx(rt,{className:"w-6 h-6"})})]}),o.jsxs("form",{onSubmit:y,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"평가 순위"}),o.jsxs("select",{value:h.rank,onChange:S=>g({...h,rank:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-400 focus:border-transparent",children:[o.jsx("option",{value:"",children:"선택하세요"}),o.jsx("option",{value:"1순위",children:"1순위"}),o.jsx("option",{value:"2순위",children:"2순위"}),o.jsx("option",{value:"3순위",children:"3순위"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"협력업체 이름"}),o.jsx("input",{type:"text",value:h.companyName,onChange:S=>g({...h,companyName:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-400 focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["이름 ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",required:!0,value:h.name,onChange:S=>g({...h,name:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-400 focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"직책"}),o.jsx("input",{type:"text",value:h.position,onChange:S=>g({...h,position:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-400 focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["공정 ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",required:!0,value:h.process,onChange:S=>g({...h,process:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-400 focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"연락처"}),o.jsx("input",{type:"text",value:h.contact,onChange:S=>g({...h,contact:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-400 focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"은행명"}),o.jsxs("select",{value:h.bankName,onChange:S=>g({...h,bankName:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-400 focus:border-transparent",children:[o.jsx("option",{value:"",children:"선택하세요"}),o.jsxs("optgroup",{label:"시중은행",children:[o.jsx("option",{value:"KB국민은행",children:"KB국민은행"}),o.jsx("option",{value:"신한은행",children:"신한은행"}),o.jsx("option",{value:"우리은행",children:"우리은행"}),o.jsx("option",{value:"하나은행",children:"하나은행"}),o.jsx("option",{value:"NH농협은행",children:"NH농협은행"}),o.jsx("option",{value:"IBK기업은행",children:"IBK기업은행"}),o.jsx("option",{value:"KEB하나은행",children:"KEB하나은행"}),o.jsx("option",{value:"SC제일은행",children:"SC제일은행"}),o.jsx("option",{value:"한국씨티은행",children:"한국씨티은행"})]}),o.jsxs("optgroup",{label:"지방은행",children:[o.jsx("option",{value:"부산은행",children:"부산은행"}),o.jsx("option",{value:"대구은행",children:"대구은행"}),o.jsx("option",{value:"경남은행",children:"경남은행"}),o.jsx("option",{value:"광주은행",children:"광주은행"}),o.jsx("option",{value:"전북은행",children:"전북은행"}),o.jsx("option",{value:"제주은행",children:"제주은행"})]}),o.jsxs("optgroup",{label:"특수은행",children:[o.jsx("option",{value:"산업은행",children:"산업은행"}),o.jsx("option",{value:"수협은행",children:"수협은행"}),o.jsx("option",{value:"우체국",children:"우체국"}),o.jsx("option",{value:"새마을금고",children:"새마을금고"}),o.jsx("option",{value:"신협",children:"신협"}),o.jsx("option",{value:"저축은행",children:"저축은행"})]}),o.jsxs("optgroup",{label:"인터넷은행",children:[o.jsx("option",{value:"카카오뱅크",children:"카카오뱅크"}),o.jsx("option",{value:"케이뱅크",children:"케이뱅크"}),o.jsx("option",{value:"토스뱅크",children:"토스뱅크"})]}),o.jsxs("optgroup",{label:"증권사",children:[o.jsx("option",{value:"NH투자증권",children:"NH투자증권"}),o.jsx("option",{value:"미래에셋증권",children:"미래에셋증권"}),o.jsx("option",{value:"한국투자증권",children:"한국투자증권"}),o.jsx("option",{value:"키움증권",children:"키움증권"}),o.jsx("option",{value:"삼성증권",children:"삼성증권"}),o.jsx("option",{value:"KB증권",children:"KB증권"}),o.jsx("option",{value:"신한투자증권",children:"신한투자증권"}),o.jsx("option",{value:"하이투자증권",children:"하이투자증권"})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"계좌번호"}),o.jsx("input",{type:"text",value:h.accountNumber,onChange:S=>g({...h,accountNumber:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-400 focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"비고"}),o.jsx("textarea",{value:h.notes,onChange:S=>g({...h,notes:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-400 focus:border-transparent",rows:3})]}),o.jsxs("div",{className:"flex space-x-3 pt-4",children:[o.jsx("button",{type:"button",onClick:w,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"취소"}),o.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-gray-700 text-white rounded-lg hover:bg-gray-800 transition-colors",children:c?"수정":"등록"})]})]})]})})})]})}const aN=["상준","신애","재천","민기","재성","재현","디자인팀","현장팀"],nse=({request:e,onClose:t,onSave:r})=>{const{projects:n}=Zr(),{user:s}=Pa(),a=()=>{const y=new Date,v=y.getFullYear(),x=String(y.getMonth()+1).padStart(2,"0"),b=String(y.getDate()).padStart(2,"0");return`${v}-${x}-${b}`},{register:i,handleSubmit:l,formState:{errors:c},watch:u,setValue:d}=qo({defaultValues:{project:(e==null?void 0:e.project)||"",requestType:(e==null?void 0:e.requestType)||"",requestDate:e!=null&&e.requestDate?Ce(e.requestDate,"yyyy-MM-dd"):a(),dueDate:e!=null&&e.dueDate?Ce(e.dueDate,"yyyy-MM-dd"):Ce(new Date(Date.now()+3*24*60*60*1e3),"yyyy-MM-dd"),requestedBy:(e==null?void 0:e.requestedBy)||"",assignedTo:(e==null?void 0:e.assignedTo)||"",description:(e==null?void 0:e.description)||""}}),[f,h]=N.useState((e==null?void 0:e.priority)==="high"),[g,m]=N.useState(""),p=u("requestType");N.useEffect(()=>{h((e==null?void 0:e.priority)==="high"),!e&&(s!=null&&s.name)&&d("requestedBy",s.name)},[e,s,d]);const w=y=>{console.log("📝 WorkRequestModal onSubmit - Raw data:",y);const v={...y,requestType:y.requestType==="직접입력"?g:y.requestType,requestDate:new Date(y.requestDate),dueDate:new Date(y.dueDate),status:(e==null?void 0:e.status)||"pending",priority:f?"high":"medium",completedDate:y.completedDate?new Date(y.completedDate):void 0};console.log("📝 WorkRequestModal onSubmit - Processed formData:",v),r(v)};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] flex flex-col",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b flex-shrink-0",children:[o.jsx("h2",{className:"text-xl font-semibold",children:e?"업무요청 수정":"새 업무요청"}),o.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx(rt,{className:"h-5 w-5"})})]}),o.jsxs("form",{onSubmit:l(w),className:"p-6 space-y-4 overflow-y-auto flex-1",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"프로젝트"}),o.jsxs("select",{...i("project"),className:"input w-full",children:[o.jsx("option",{value:""}),n.filter(y=>y.status!=="completed").map(y=>o.jsx("option",{value:y.name,children:y.name},y.id))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"요청유형"}),o.jsxs("select",{...i("requestType"),className:"input w-full",children:[o.jsx("option",{value:""}),o.jsx("option",{value:"3D모델링",children:"3D모델링"}),o.jsx("option",{value:"철거도면",children:"철거도면"}),o.jsx("option",{value:"설비도면",children:"설비도면"}),o.jsx("option",{value:"에어컨 배치도",children:"에어컨 배치도"}),o.jsx("option",{value:"디퓨저 배치도",children:"디퓨저 배치도"}),o.jsx("option",{value:"스프링클러 배치도",children:"스프링클러 배치도"}),o.jsx("option",{value:"전기도면",children:"전기도면"}),o.jsx("option",{value:"목공도면",children:"목공도면"}),o.jsx("option",{value:"디테일도면",children:"디테일도면"}),o.jsx("option",{value:"금속도면",children:"금속도면"}),o.jsx("option",{value:"가구도면",children:"가구도면"}),o.jsx("option",{value:"세라믹도면",children:"세라믹도면"}),o.jsx("option",{value:"트렌치유가",children:"트렌치유가"}),o.jsx("option",{value:"욕실장",children:"욕실장"}),o.jsx("option",{value:"발주",children:"발주"}),o.jsx("option",{value:"마감",children:"마감"}),o.jsx("option",{value:"직접입력",children:"직접입력"})]}),p==="직접입력"&&o.jsx("input",{type:"text",value:g,onChange:y=>m(y.target.value),placeholder:"요청유형을 직접 입력하세요",className:"input w-full mt-2"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"요청내용"}),o.jsx("textarea",{...i("description"),rows:4,className:"input w-full",placeholder:"상세한 요청 내용을 입력하세요"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"요청일 *"}),o.jsx("input",{...i("requestDate",{required:"요청일을 선택하세요"}),type:"date",className:"input w-full",style:{position:"relative"}}),c.requestDate&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(c.requestDate.message)})]}),o.jsxs("div",{className:"relative",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"마감일 *"}),o.jsx("input",{...i("dueDate",{required:"마감일을 선택하세요"}),type:"date",className:"input w-full",style:{position:"relative"}}),c.dueDate&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(c.dueDate.message)})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"요청자 *"}),o.jsxs("select",{...i("requestedBy",{required:"요청자를 선택하세요"}),className:"input w-full",children:[o.jsx("option",{value:"",children:"선택하세요"}),aN.map(y=>o.jsx("option",{value:y,children:y},y))]}),c.requestedBy&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(c.requestedBy.message)})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"담당자 *"}),o.jsxs("select",{...i("assignedTo",{required:"담당자를 선택하세요"}),className:"input w-full",children:[o.jsx("option",{value:"",children:"선택하세요"}),aN.map(y=>o.jsx("option",{value:y,children:y},y))]}),c.assignedTo&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(c.assignedTo.message)})]})]}),o.jsx("div",{children:o.jsxs("button",{type:"button",onClick:()=>h(!f),className:`flex items-center gap-2 px-4 py-3 rounded-lg border-2 transition-all w-full ${f?"bg-rose-50 border-rose-500 text-rose-700":"bg-white border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[o.jsx(RR,{className:`h-5 w-5 ${f?"text-rose-600":"text-gray-400"}`}),o.jsx("span",{className:"font-medium",children:f?"긴급 업무입니다":"긴급 업무로 표시"})]})}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[o.jsx("button",{type:"button",onClick:t,className:"btn btn-outline",children:"취소"}),o.jsx("button",{type:"submit",className:"btn btn-primary",children:e?"수정":"추가"})]})]})]})})},iN=["상준","신애","재천","민기","재성","재현"],sse=()=>{const{addScheduleToAPI:e,deleteScheduleFromAPI:t,updateScheduleInAPI:r,schedules:n,projects:s,fetchSchedules:a}=Zr(),[i,l]=N.useState([]),[c,u]=N.useState(!1),[d,f]=N.useState(null),[h,g]=N.useState(""),[m,p]=N.useState("pending"),[w,y]=N.useState("all"),[v,x]=N.useState(null),[b,_]=N.useState(null),S=N.useRef(null);N.useEffect(()=>{E()},[]),N.useEffect(()=>{const T=()=>{f(null),u(!0)};return window.addEventListener("headerAddButtonClick",T),()=>window.removeEventListener("headerAddButtonClick",T)},[]);const E=async()=>{try{const R=(await qs.getAllWorkRequests()).map(X=>({id:X._id,project:X.project,requestType:X.requestType,description:X.description,requestDate:new Date(X.requestDate),dueDate:new Date(X.dueDate),requestedBy:X.requestedBy,assignedTo:X.assignedTo,status:X.status,priority:X.priority,notes:X.notes,completedDate:X.completedDate?new Date(X.completedDate):void 0}));l(R)}catch(T){console.error("Failed to load work requests:",T),ne.error("업무요청을 불러오는데 실패했습니다")}};N.useEffect(()=>{var T,R;v&&S.current&&((R=(T=S.current).showPicker)==null||R.call(T))},[v]),N.useEffect(()=>{const T=()=>{b&&_(null)};if(b)return document.addEventListener("click",T),()=>document.removeEventListener("click",T)},[b]);const C=async(T,R)=>{if(window.confirm(`"${R}" 업무요청을 삭제하시겠습니까?

삭제된 내역은 복구할 수 없습니다.`))try{const X=i.find(le=>le.id===T);if(await qs.deleteWorkRequest(T),X){let le="";X.project?le=X.requestType?`[업무요청] ${X.requestType}`:`[업무요청] ${X.description.substring(0,20)}`:le=X.description;const de=n.filter(pe=>{const B=pe.start&&new Date(pe.start).toDateString()===X.dueDate.toDateString(),O=pe.title===le;return B&&O});for(const pe of de)try{await t(pe.id),console.log("✅ Related schedule deleted:",pe.id)}catch(B){console.error("Failed to delete related schedule:",B)}await a()}l(i.filter(le=>le.id!==T)),ne.success("업무요청이 삭제되었습니다")}catch(X){console.error("Failed to delete work request:",X),ne.error("업무요청 삭제에 실패했습니다")}},M=T=>{f(T),u(!0)},$=async T=>{console.log("💾 handleSave called with data:",T),console.log("💾 selectedRequest:",d);try{if(d){console.log("✏️ Update mode - selectedRequest.id:",d.id);const R=await qs.updateWorkRequest(d.id,{project:T.project,requestType:T.requestType,description:T.description,requestDate:T.requestDate,dueDate:T.dueDate,requestedBy:T.requestedBy,assignedTo:T.assignedTo,status:T.status,priority:T.priority,notes:T.notes,completedDate:T.completedDate}),X={id:R._id,project:R.project,requestType:R.requestType,description:R.description,requestDate:new Date(R.requestDate),dueDate:new Date(R.dueDate),requestedBy:R.requestedBy,assignedTo:R.assignedTo,status:R.status,priority:R.priority,notes:R.notes,completedDate:R.completedDate?new Date(R.completedDate):void 0};let le="";R.project?le=R.requestType?`[업무요청] ${R.requestType}`:`[업무요청] ${R.description.substring(0,20)}`:le=R.description,console.log("🔍 Looking for schedule with title:",le),console.log("🔍 Looking for schedule on date:",R.dueDate),console.log("🔍 All schedules on same date:",n.filter(pe=>pe.start&&new Date(pe.start).toDateString()===new Date(R.dueDate).toDateString()).map(pe=>({id:pe.id,title:pe.title,start:pe.start})));const de=n.find(pe=>{const B=pe.start&&new Date(pe.start).toDateString()===new Date(R.dueDate).toDateString(),O=pe.title===le;return console.log(`🔍 Checking schedule ${pe.id}: date=${B}, title=${O}, s.title="${pe.title}", expected="${le}"`),B&&O});if(console.log("🔍 Found schedule?",de?`Yes: ${de.id}`:"No"),de){console.log("✅ Found related schedule:",de.id);try{let pe=null,B="";if(R.project){const q=s.find(A=>A.name===R.project);pe=q?q.id:de.project,B=R.requestType?`[업무요청] ${R.requestType}`:`[업무요청] ${R.description.substring(0,20)}`}else B=R.description,pe=de.project;const O=R.assignedTo==="디자인팀"?["신애","재성","재현"]:[R.assignedTo];console.log("📝 Updating schedule with attendees:",O),await r(de.id,{title:B,start:new Date(R.dueDate),end:new Date(R.dueDate),project:pe,attendees:O,description:`${R.description}

담당자: ${R.assignedTo}
요청자: ${R.requestedBy}
우선순위: ${R.priority}
${R.notes||""}`}),console.log("✅ Related schedule updated successfully")}catch(pe){console.error("❌ Failed to update related schedule:",pe)}}else console.warn("⚠️ No related schedule found for work request ID:",R._id),console.warn("⚠️ Expected title:",le),console.warn("⚠️ Expected date:",new Date(R.dueDate).toDateString());l(i.map(pe=>pe.id===d.id?X:pe)),ne.success("업무요청이 수정되었습니다")}else{console.log("🔵 Creating work request with data:",T);const R=await qs.createWorkRequest({project:T.project,requestType:T.requestType,description:T.description||"",requestDate:T.requestDate,dueDate:T.dueDate,requestedBy:T.requestedBy,assignedTo:T.assignedTo,status:T.status||"pending",priority:T.priority||"medium",notes:T.notes,completedDate:T.completedDate});console.log("🟢 Backend response:",R);const X={id:R._id,project:R.project,requestType:R.requestType,description:R.description,requestDate:new Date(R.requestDate),dueDate:new Date(R.dueDate),requestedBy:R.requestedBy,assignedTo:R.assignedTo,status:R.status,priority:R.priority,notes:R.notes,completedDate:R.completedDate?new Date(R.completedDate):void 0};try{let le=null,de="";if(R.project){const B=s.find(O=>O.name===R.project);if(le=B?B.id:null,!le)throw console.warn("⚠️ Project not found for work request:",R.project),new Error("Project not found");de=R.requestType?`[업무요청] ${R.requestType}`:`[업무요청] ${R.description.substring(0,20)}`}else de=R.description;const pe=R.assignedTo==="디자인팀"?["신애","재성","재현"]:[R.assignedTo];await e({id:`workrequest-${R._id}`,title:de,start:new Date(R.dueDate),end:new Date(R.dueDate),type:"other",project:le,location:"",attendees:pe,description:`${R.description}

담당자: ${R.assignedTo}
요청자: ${R.requestedBy}
우선순위: ${R.priority}
${R.notes||""}`}),console.log("✅ Schedule created:",de,"with project ID:",le)}catch(le){console.error("Failed to create schedule:",le)}l([X,...i]),ne.success("업무요청이 추가되었습니다")}u(!1),f(null)}catch(R){console.error("Failed to save work request:",R),ne.error("업무요청 저장에 실패했습니다")}},Y=(T,R)=>{x({requestId:T,field:R})},J=async T=>{if(!v)return;const R=new Date(T);if(!isNaN(R.getTime()))try{if(!i.find(le=>le.id===v.requestId))return;await qs.updateWorkRequest(v.requestId,{[v.field]:R}),l(i.map(le=>le.id===v.requestId?{...le,[v.field]:R}:le)),x(null),ne.success("날짜가 수정되었습니다")}catch(X){console.error("Failed to update date:",X),ne.error("날짜 수정에 실패했습니다"),x(null)}},G=(T,R)=>{_({requestId:T,field:R})},se=async T=>{if(b)try{await qs.updateWorkRequest(b.requestId,{[b.field]:T}),l(i.map(R=>R.id===b.requestId?{...R,[b.field]:T}:R)),_(null),ne.success("담당자가 수정되었습니다")}catch(R){console.error("Failed to update person:",R),ne.error("담당자 수정에 실패했습니다"),_(null)}},ce=async(T,R)=>{try{const X=R==="completed"?new Date:void 0;if(await qs.updateWorkRequest(T,{status:R,completedDate:X}),l(i.map(de=>de.id===T?{...de,status:R,completedDate:X}:de)),R==="completed"){const de=i.find(pe=>pe.id===T);if(de){const pe=n.find(B=>B.id===`workrequest-${T}`||B.title.includes("[업무요청]")&&B.project===de.project);if(pe)try{await t(pe.id),console.log("✅ Related schedule deleted on completion:",pe.id)}catch(B){console.error("Failed to delete related schedule:",B)}}}const le={pending:"대기","in-progress":"진행중",completed:"완료"};ne.success(`상태가 ${le[R]}로 변경되었습니다`)}catch(X){console.error("Failed to update status:",X),ne.error("상태 변경에 실패했습니다")}},Z=T=>{const X={pending:{label:"대기",color:"bg-gray-100 text-gray-700 border-gray-300"},"in-progress":{label:"진행중",color:"bg-gray-100 text-gray-800 border-gray-300"},completed:{label:"완료",color:"bg-gray-900 text-white border-gray-900"},cancelled:{label:"취소",color:"bg-gray-100 text-gray-500 border-gray-300"}}[T];return o.jsx("span",{className:`px-3 py-1 text-xs font-medium border ${X.color}`,children:X.label})},he=T=>{const X={low:{label:"낮음",color:"text-gray-600",bg:"",border:""},medium:{label:"보통",color:"text-gray-600",bg:"",border:""},high:{label:"긴급",color:"text-rose-700",bg:"bg-rose-50",border:"border border-rose-300"}}[T];return o.jsx("span",{className:`inline-flex items-center px-2 py-0.5 text-xs font-semibold rounded ${X.color} ${X.bg} ${X.border}`,children:X.label})},te=T=>{const R=new Date;R.setHours(0,0,0,0);const X=new Date(T);X.setHours(0,0,0,0);const le=X.getTime()-R.getTime();return Math.ceil(le/(1e3*60*60*24))},U=T=>{const R=te(T);return R<0?o.jsxs("span",{className:"inline-flex items-center px-2 py-1 text-xs font-bold bg-gray-100 text-gray-700 border border-gray-300 rounded",children:["D+",Math.abs(R)]}):R===0?o.jsx("span",{className:"inline-flex items-center px-2 py-1 text-xs font-bold bg-gray-900 text-white border border-gray-900 rounded",children:"D-Day"}):R<=3?o.jsxs("span",{className:"inline-flex items-center px-2 py-1 text-xs font-bold bg-gray-100 text-gray-700 border border-gray-300 rounded",children:["D-",R]}):R<=7?o.jsxs("span",{className:"inline-flex items-center px-2 py-1 text-xs font-bold bg-gray-100 text-gray-700 border border-gray-300 rounded",children:["D-",R]}):o.jsxs("span",{className:"inline-flex items-center px-2 py-1 text-xs font-medium bg-gray-100 text-gray-700 border border-gray-300 rounded",children:["D-",R]})},V=(()=>{let T=i;return m!=="all"&&(T=T.filter(R=>R.status===m)),h&&(T=T.filter(R=>R.project.toLowerCase().includes(h.toLowerCase())||R.requestType.toLowerCase().includes(h.toLowerCase())||R.description.toLowerCase().includes(h.toLowerCase()))),w!=="all"&&(T=T.filter(R=>R.priority===w)),T})(),W={pending:i.filter(T=>T.status==="pending").length,inProgress:i.filter(T=>T.status==="in-progress").length,completed:i.filter(T=>T.status==="completed").length,total:i.length};return o.jsxs("div",{className:"space-y-3 md:space-y-4",children:[o.jsx("div",{className:"flex items-center justify-end",children:o.jsx("button",{onClick:()=>{f(null),u(!0)},className:"hidden lg:inline-flex btn btn-primary px-4 py-2 ml-auto",children:"+ 새 업무요청"})}),o.jsx("div",{className:"border-b border-gray-200",children:o.jsx("nav",{className:"flex space-x-4 md:space-x-8 overflow-x-auto",children:[{id:"pending",label:"대기",count:W.pending,color:"text-gray-700"},{id:"in-progress",label:"진행중",count:W.inProgress,color:"text-gray-700"},{id:"completed",label:"완료",count:W.completed,color:"text-gray-700"},{id:"all",label:"전체",count:W.total,color:"text-gray-600"}].map(T=>o.jsxs("button",{onClick:()=>p(T.id),className:Un("py-3 md:py-4 px-1 border-b-2 font-medium text-xs md:text-sm transition-colors whitespace-nowrap",m===T.id?`border-gray-700 ${T.color}`:"border-transparent text-gray-400 hover:text-gray-700 hover:border-gray-300"),children:[T.label,T.count>0&&o.jsx("span",{className:Un("ml-1 md:ml-2 py-0.5 px-1.5 md:px-2 rounded-full text-[10px] md:text-xs font-semibold",m===T.id?"bg-gray-700 text-white":"bg-gray-200 text-gray-600"),children:T.count})]},T.id))})}),o.jsxs("div",{className:"hidden md:flex flex-col sm:flex-row sm:items-center space-y-2 sm:space-y-0 sm:space-x-2 md:space-x-4",children:[o.jsx("input",{type:"text",placeholder:"검색...",value:h,onChange:T=>g(T.target.value),className:"flex-1 px-3 md:px-4 py-2 text-sm md:text-base border border-gray-300 rounded-lg focus:outline-none focus:border-gray-900"}),o.jsxs("select",{value:w,onChange:T=>y(T.target.value),className:"px-3 md:px-4 py-2 text-sm md:text-base border border-gray-300 rounded-lg focus:outline-none focus:border-gray-900",children:[o.jsx("option",{value:"all",children:"모든 우선순위"}),o.jsx("option",{value:"high",children:"긴급"}),o.jsx("option",{value:"medium",children:"보통"}),o.jsx("option",{value:"low",children:"낮음"})]})]}),o.jsx("div",{className:"md:hidden space-y-3",children:V.map(T=>o.jsxs("div",{className:`card p-3 hover:border-gray-400 transition-colors ${T.priority==="high"?"border-2 border-rose-200 bg-rose-50/30":""}`,children:[o.jsxs("div",{className:"flex items-start justify-between mb-2",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[Z(T.status),U(T.dueDate),T.priority==="high"&&he(T.priority)]}),o.jsx("h3",{className:"font-bold text-base text-gray-900",children:T.project}),o.jsx("p",{className:"text-xs text-gray-600 mt-0.5",children:T.requestType})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:()=>M(T),className:"text-xs text-gray-600 hover:text-gray-900 px-2 py-1",children:"수정"}),o.jsx("button",{onClick:()=>C(T.id,T.project),className:"text-gray-600 hover:text-gray-700 p-1",children:o.jsx(Xr,{className:"h-4 w-4"})})]})]}),o.jsxs("div",{className:"space-y-2 text-sm border-t border-gray-100 pt-2",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500",children:"요청 내용"}),o.jsx("p",{className:"text-gray-900 mt-0.5",children:T.description})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-500",children:"요청자"}),o.jsx("p",{className:"text-gray-900 font-medium mt-0.5",children:T.requestedBy})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-500",children:"담당자"}),o.jsx("p",{className:"text-gray-900 font-medium mt-0.5",children:T.assignedTo})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-2 pt-1",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"요청일"}),o.jsx("p",{className:"text-xs text-gray-900",children:Ce(T.requestDate,"MM.dd (eee)",{locale:Qe})})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"마감일"}),o.jsx("p",{className:"text-xs text-gray-900",children:Ce(T.dueDate,"MM.dd (eee)",{locale:Qe})})]})]}),o.jsx("div",{className:"flex items-center justify-between pt-1",children:o.jsxs("div",{className:"text-xs",children:[o.jsx("span",{className:"text-gray-500",children:"우선순위: "}),he(T.priority)]})})]}),o.jsxs("div",{className:"flex gap-2 mt-3 pt-3 border-t border-gray-100",children:[T.status==="pending"&&o.jsx("button",{onClick:()=>ce(T.id,"in-progress"),className:"flex-1 px-3 py-2 text-xs font-semibold text-white rounded-lg transition-colors bg-gray-600 hover:bg-gray-700",children:"수락"}),T.status==="in-progress"&&o.jsx("button",{onClick:()=>ce(T.id,"completed"),className:"flex-1 px-3 py-2 text-xs font-semibold bg-gray-900 text-white rounded-lg hover:bg-gray-800 transition-colors",children:"완료"}),T.status==="completed"&&o.jsx("div",{className:"flex-1 text-center text-xs text-gray-500 py-2",children:"완료된 업무입니다"})]})]},T.id))}),o.jsx("div",{className:"hidden md:block bg-white border border-gray-200 overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"프로젝트"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"요청유형"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"내용"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"요청자"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"담당자"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"요청일"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"마감일"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"D-day"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"우선순위"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"상태"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"액션"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",style:{overflow:"visible"},children:V.map(T=>o.jsxs("tr",{className:`hover:bg-gray-50 ${T.priority==="high"?"bg-rose-50/30":""}`,style:{overflow:"visible"},children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("p",{className:"font-medium text-gray-900",children:T.project})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("p",{className:"text-sm text-gray-900",children:T.requestType})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("p",{className:"text-sm text-gray-900",children:T.description})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",style:{overflow:"visible"},children:o.jsxs("div",{className:"relative inline-block",children:[o.jsx("button",{onClick:R=>{R.stopPropagation(),G(T.id,"requestedBy")},className:"text-sm text-gray-900 hover:text-gray-600 hover:underline transition-colors",children:T.requestedBy}),(b==null?void 0:b.requestId)===T.id&&(b==null?void 0:b.field)==="requestedBy"&&o.jsx("div",{onClick:R=>R.stopPropagation(),className:"absolute left-0 top-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg z-50 min-w-[100px]",children:iN.map(R=>o.jsx("button",{onClick:()=>se(R),className:`block w-full text-left px-4 py-2 text-sm hover:bg-gray-100 transition-colors first:rounded-t-lg last:rounded-b-lg ${R===T.requestedBy?"bg-gray-50 font-medium":""}`,children:R},R))})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",style:{overflow:"visible"},children:o.jsxs("div",{className:"relative inline-block",children:[o.jsx("button",{onClick:R=>{R.stopPropagation(),G(T.id,"assignedTo")},className:"text-sm text-gray-900 hover:text-gray-600 hover:underline transition-colors",children:T.assignedTo}),(b==null?void 0:b.requestId)===T.id&&(b==null?void 0:b.field)==="assignedTo"&&o.jsx("div",{onClick:R=>R.stopPropagation(),className:"absolute left-0 top-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg z-50 min-w-[100px]",children:iN.map(R=>o.jsx("button",{onClick:()=>se(R),className:`block w-full text-left px-4 py-2 text-sm hover:bg-gray-100 transition-colors first:rounded-t-lg last:rounded-b-lg ${R===T.assignedTo?"bg-gray-50 font-medium":""}`,children:R},R))})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("div",{className:"relative inline-block",children:[(v==null?void 0:v.requestId)===T.id&&(v==null?void 0:v.field)==="requestDate"&&o.jsx("input",{ref:S,type:"date",defaultValue:Ce(T.requestDate,"yyyy-MM-dd"),onChange:R=>J(R.target.value),onBlur:()=>x(null),className:"absolute left-0 top-0 w-auto h-auto opacity-0 z-50",style:{pointerEvents:"auto"}}),o.jsxs("button",{onClick:()=>Y(T.id,"requestDate"),className:"flex items-center space-x-2 text-sm text-gray-900 hover:text-gray-600 transition-colors",children:[o.jsx(ca,{className:"h-4 w-4"}),o.jsx("span",{children:Ce(T.requestDate,"yyyy.MM.dd (eee)",{locale:Qe})})]})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("div",{className:"relative inline-block",children:[(v==null?void 0:v.requestId)===T.id&&(v==null?void 0:v.field)==="dueDate"&&o.jsx("input",{ref:S,type:"date",defaultValue:Ce(T.dueDate,"yyyy-MM-dd"),onChange:R=>J(R.target.value),onBlur:()=>x(null),className:"absolute left-0 top-0 w-auto h-auto opacity-0 z-50",style:{pointerEvents:"auto"}}),o.jsxs("button",{onClick:()=>Y(T.id,"dueDate"),className:"flex items-center space-x-2 text-sm text-gray-900 hover:text-gray-600 transition-colors",children:[o.jsx(ca,{className:"h-4 w-4"}),o.jsx("span",{children:Ce(T.dueDate,"yyyy.MM.dd (eee)",{locale:Qe})})]})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:U(T.dueDate)}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:he(T.priority)}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:Z(T.status)}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[T.status==="pending"&&o.jsx("button",{onClick:()=>ce(T.id,"in-progress"),className:"px-3 py-1 text-xs font-semibold text-white rounded transition-colors bg-gray-600 hover:bg-gray-700",children:"수락"}),T.status==="in-progress"&&o.jsx("button",{onClick:()=>ce(T.id,"completed"),className:"px-3 py-1 text-xs font-semibold bg-gray-900 text-white rounded hover:bg-gray-800 transition-colors",children:"완료"}),o.jsx("button",{onClick:()=>M(T),className:"text-xs text-gray-600 hover:text-gray-900",children:"수정"}),o.jsx("button",{onClick:()=>C(T.id,T.project),className:"text-gray-600 hover:text-gray-700",children:o.jsx(Xr,{className:"h-4 w-4"})})]})})]},T.id))})]})}),c&&o.jsx(nse,{request:d,onClose:()=>{u(!1),f(null)},onSave:$})]})},oN=["가설","철거","설비/미장","전기","목공","조명","가구","마루","타일","욕실","필름","도배","도장","창호","에어컨","기타"],ase=()=>{const{payments:e,executionRecords:t,loadPaymentsFromAPI:r,addExecutionRecord:n,deleteExecutionRecord:s,updateExecutionRecord:a,projects:i}=Zr(),{user:l}=Pa(),[c,u]=N.useState(""),[d,f]=N.useState(null),[h,g]=N.useState(!1),[m,p]=N.useState(!1),[w,y]=N.useState(!1),[v,x]=N.useState(!1),[b,_]=N.useState(!1),[S,E]=N.useState(""),[C,M]=N.useState("form"),[$,Y]=N.useState(!1),[J,G]=N.useState(!1),se=N.useRef(null),[ce,Z]=N.useState([]),[he,te]=N.useState(()=>{const k=localStorage.getItem("paymentRecordImages");return k?JSON.parse(k):{}}),[U,oe]=N.useState(()=>{const k=localStorage.getItem("hiddenPaymentIds");return k?JSON.parse(k):[]}),V=()=>{const k=localStorage.getItem("lastSelectedProject"),z=i.filter(j=>j.status!=="completed");return k&&z.some(j=>j.name===k)?k:z.length>0?z[0].name:""},[W,T]=N.useState({project:"",date:Ce(new Date,"yyyy-MM-dd"),process:"",itemName:"",materialCost:"",laborCost:"",images:[]});N.useEffect(()=>{r().catch(z=>{console.error("Failed to load payments:",z)});const k=()=>{Y(window.innerWidth<1024)};if(k(),window.addEventListener("resize",k),i.length>0&&!W.project){const z=V();z&&(T(j=>({...j,project:z})),localStorage.setItem("lastSelectedProject",z))}return()=>window.removeEventListener("resize",k)},[r,i]),N.useEffect(()=>{localStorage.setItem("paymentRecordImages",JSON.stringify(he))},[he]),N.useEffect(()=>{localStorage.setItem("hiddenPaymentIds",JSON.stringify(U))},[U]),N.useEffect(()=>{if(W.itemName&&W.itemName.trim().length>=1){const k=W.itemName.trim().toLowerCase(),z=[...t].sort((P,L)=>new Date(L.date).getTime()-new Date(P.date).getTime()).map(P=>P.itemName).filter(P=>P&&P.toLowerCase().includes(k)),j=Array.from(new Set(z));Z(j.slice(0,10))}else Z([])},[W.itemName,t]);const R=N.useCallback(k=>{var j;if(!d){ne.error("먼저 실행내역을 선택해주세요");return}const z=(j=k.clipboardData)==null?void 0:j.items;if(z){for(let P=0;P<z.length;P++)if(z[P].type.indexOf("image")!==-1){k.preventDefault();const L=z[P].getAsFile();if(L){const K=new FileReader;K.onload=ee=>{var Se;const ie=(Se=ee.target)==null?void 0:Se.result,ye=t.find(ke=>ke.id===d);if(ye){const ke=[...ye.images||[],ie];a(d,{images:ke})}else te(ke=>({...ke,[d]:[...ke[d]||[],ie]}));ne.success("이미지가 추가되었습니다")},K.readAsDataURL(L)}}}},[d,t,a]);N.useEffect(()=>(document.addEventListener("paste",R),()=>document.removeEventListener("paste",R)),[R]);const X=e.filter(k=>(k.status==="approved"||k.status==="completed")&&!t.some(z=>z.paymentId===k.id)&&!U.includes(k.id)).map(k=>{const z=k.materialAmount||0,j=k.laborAmount||0,P=k.amount||0;let L=z,K=j,ee=0;return z===0&&j===0&&P>0?k.includesVAT?(L=Math.round(P/1.1),ee=P-L):(L=P,ee=0):k.includesVAT?(z>0&&(L=Math.round(z/1.1)),j>0&&(K=Math.round(j/1.1)),ee=P-(L+K)):ee=0,{id:k.id,type:"payment",project:k.project,author:k.requestedBy||"-",date:k.requestDate,process:k.process||"-",itemName:k.itemName||k.purpose||"-",materialCost:L,laborCost:K,vatAmount:ee,totalAmount:P,images:he[k.id]||[],notes:k.notes}}),le=t.map(k=>({...k,type:"manual"})),de=[...X,...le].sort((k,z)=>new Date(z.date).getTime()-new Date(k.date).getTime()),pe=de.filter(k=>{var P,L;const z=W.project===""||k.project===W.project,j=c===""||((P=k.itemName)==null?void 0:P.toLowerCase().includes(c.toLowerCase()))||((L=k.process)==null?void 0:L.toLowerCase().includes(c.toLowerCase()));return z&&j}),B=pe.reduce((k,z)=>(k.material+=z.materialCost||0,k.labor+=z.laborCost||0,k.vat+=z.vatAmount||0,k.total+=z.totalAmount||0,k),{material:0,labor:0,vat:0,total:0}),O=()=>{if(!W.project){ne.error("프로젝트를 선택해주세요");return}const k=new Date;let z=Number(W.materialCost)||0,j=Number(W.laborCost)||0,P=0,L=0;if(m){const ee=z+j,ie=Math.round(ee/1.1);if(P=ee-ie,ee>0){const ye=z/ee,Se=j/ee;z=Math.round(ie*ye),j=Math.round(ie*Se)}L=ee}else P=0,L=z+j;const K={id:`exec_${Date.now()}`,project:W.project,author:(l==null?void 0:l.name)||"알 수 없음",date:new Date(W.date),process:W.process,itemName:W.itemName,materialCost:z,laborCost:j,vatAmount:P,totalAmount:L,images:W.images,notes:"",createdAt:k,updatedAt:k};n(K),ne.success("실행내역이 추가되었습니다"),T(ee=>({project:ee.project,date:Ce(new Date,"yyyy-MM-dd"),process:"",itemName:"",materialCost:"",laborCost:"",images:[]})),p(!1),y(!1)},q=()=>{const k={};return pe.forEach(z=>{const j=z.process||"기타";k[j]||(k[j]={materialCost:0,laborCost:0,vatAmount:0,totalAmount:0}),k[j].materialCost+=z.materialCost||0,k[j].laborCost+=z.laborCost||0,k[j].vatAmount+=z.vatAmount||0,k[j].totalAmount+=z.totalAmount||0}),Object.entries(k).sort((z,j)=>j[1].totalAmount-z[1].totalAmount)},A=k=>{var L;if(!d){ne.error("먼저 실행내역을 선택해주세요");return}const z=Array.from(((L=k.target)==null?void 0:L.files)||[]),j=[],P=z.filter(K=>K.type.startsWith("image/"));P.length!==0&&P.forEach(K=>{const ee=new FileReader;ee.onload=ie=>{var Se;const ye=(Se=ie.target)==null?void 0:Se.result;if(j.push(ye),j.length===P.length){const ke=t.find(Ae=>Ae.id===d);if(ke){const Ae=[...ke.images||[],...j];a(d,{images:Ae})}else te(Ae=>({...Ae,[d]:[...Ae[d]||[],...j]}));ne.success(`${j.length}개의 이미지가 추가되었습니다`)}},ee.readAsDataURL(K)})},H=k=>{var j;if(!d)return;const z=t.find(P=>P.id===d);if(z){const P=((j=z.images)==null?void 0:j.filter((L,K)=>K!==k))||[];a(d,{images:P})}else te(P=>{var L;return{...P,[d]:((L=P[d])==null?void 0:L.filter((K,ee)=>ee!==k))||[]}})},ae=k=>{E(k),_(!0)},Ne=k=>{k.preventDefault(),g(!0)},Ie=k=>{k.preventDefault(),g(!1)},D=k=>{if(k.preventDefault(),g(!1),!d){ne.error("먼저 실행내역을 선택해주세요");return}const z=Array.from(k.dataTransfer.files),j=[],P=z.filter(L=>L.type.startsWith("image/"));P.length!==0&&P.forEach(L=>{const K=new FileReader;K.onload=ee=>{var ye;const ie=(ye=ee.target)==null?void 0:ye.result;if(j.push(ie),j.length===P.length){const Se=t.find(ke=>ke.id===d);if(Se){const ke=[...Se.images||[],...j];a(d,{images:ke})}else te(ke=>({...ke,[d]:[...ke[d]||[],...j]}));ne.success(`${j.length}개의 이미지가 추가되었습니다`)}},K.readAsDataURL(L)})};return o.jsxs("div",{className:"space-y-3 md:space-y-4",children:[o.jsxs("div",{className:"lg:hidden mb-4",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"프로젝트"}),o.jsx("select",{value:W.project,onChange:k=>{T({...W,project:k.target.value}),k.target.value&&localStorage.setItem("lastSelectedProject",k.target.value)},className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",children:i.filter(k=>k.status!=="completed").map(k=>o.jsx("option",{value:k.name,children:k.name},k.id))})]}),o.jsx("div",{className:"lg:hidden border-b border-gray-200 mb-4",children:o.jsxs("nav",{className:"flex space-x-4",children:[o.jsx("button",{onClick:()=>M("form"),className:`py-2 px-1 border-b-2 font-medium text-sm ${C==="form"?"border-gray-900 text-gray-900":"border-transparent text-gray-500"}`,children:"입력"}),o.jsx("button",{onClick:()=>M("list"),className:`py-2 px-1 border-b-2 font-medium text-sm ${C==="list"?"border-gray-900 text-gray-900":"border-transparent text-gray-500"}`,children:"내역"}),o.jsx("button",{onClick:()=>M("image"),className:`py-2 px-1 border-b-2 font-medium text-sm ${C==="image"?"border-gray-900 text-gray-900":"border-transparent text-gray-500"}`,children:"이미지"})]})}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-4",children:[o.jsx("div",{className:`lg:col-span-2 bg-white rounded-lg border p-4 overflow-y-auto ${C!=="form"?"hidden lg:block":""}`,children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"hidden lg:block",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"프로젝트 *"}),o.jsx("select",{value:W.project,onChange:k=>{T({...W,project:k.target.value}),k.target.value&&localStorage.setItem("lastSelectedProject",k.target.value)},className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",children:i.filter(k=>k.status!=="completed").map(k=>o.jsx("option",{value:k.name,children:k.name},k.id))})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["날짜 ",W.date&&`(${Ce(new Date(W.date),"E",{locale:Qe})})`]}),o.jsx("input",{type:"date",value:W.date,onChange:k=>T({...W,date:k.target.value}),className:"w-full px-3 py-2 border rounded-lg bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500 cursor-pointer text-gray-900",style:{WebkitAppearance:"none",MozAppearance:"none",appearance:"none",backgroundColor:"white",backgroundImage:"none"}})]}),o.jsxs("div",{className:"relative",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"공정"}),o.jsx("button",{ref:se,type:"button",onClick:()=>G(!0),className:"w-full px-3 py-2 border rounded-lg text-left bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500",children:W.process||o.jsx("span",{className:"text-gray-400",children:"선택하세요"})})]})]}),o.jsxs("div",{className:"relative",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"항목명"}),o.jsx("input",{type:"text",value:W.itemName,onChange:k=>T({...W,itemName:k.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"}),ce.length>0&&o.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:ce.map((k,z)=>o.jsx("button",{type:"button",onClick:()=>{T({...W,itemName:k}),Z([])},className:"w-full px-3 py-2 text-left hover:bg-gray-50 text-sm",children:o.jsx("div",{className:"font-medium text-gray-900",children:k})},z))})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"자재비"}),o.jsx("input",{type:"number",value:W.materialCost,onChange:k=>T({...W,materialCost:k.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"인건비"}),o.jsx("input",{type:"number",value:W.laborCost,onChange:k=>T({...W,laborCost:k.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",id:"includeVat",checked:m,onChange:k=>{k.target.checked&&y(!1),p(k.target.checked)},className:"h-4 w-4 text-gray-600 focus:ring-gray-500 border-gray-300 rounded"}),o.jsx("label",{htmlFor:"includeVat",className:"ml-2 block text-sm text-gray-700",children:"부가세 포함 (10%)"})]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",id:"includeTaxDeduction",checked:w,onChange:k=>{k.target.checked&&p(!1),y(k.target.checked)},className:"h-4 w-4 text-gray-600 focus:ring-gray-500 border-gray-300 rounded"}),o.jsx("label",{htmlFor:"includeTaxDeduction",className:"ml-2 block text-sm text-gray-700",children:"3.3% 세금공제"})]})]}),o.jsx("div",{className:"pt-2 border-t",children:o.jsxs("div",{className:"flex justify-between items-baseline",children:[o.jsx("span",{className:"font-medium",children:"총액"}),o.jsxs("div",{className:"text-right",children:[(m||w)&&o.jsxs("span",{className:"text-xs text-gray-500 mr-2",children:["(",m&&"부가세 포함",w&&"3.3% 세금공제",")"]}),o.jsxs("span",{className:"font-semibold",children:[(()=>{const k=(Number(W.materialCost)||0)+(Number(W.laborCost)||0);return(w?Math.round(k*.967):k).toLocaleString()})(),"원"]})]})]})}),o.jsx("div",{className:"my-6 lg:my-[50px]",children:o.jsx("button",{onClick:O,className:"w-full py-2 bg-gray-900 text-white rounded-lg hover:bg-gray-800",children:"내역추가"})})]}),o.jsxs("div",{className:"hidden lg:block bg-gray-50 rounded-lg p-4 space-y-2",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-gray-600",children:"자재비 총합:"}),o.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[B.material.toLocaleString(),"원"]})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-gray-600",children:"인건비 총합:"}),o.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[B.labor.toLocaleString(),"원"]})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-gray-600",children:"부가세 총합:"}),o.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[B.vat.toLocaleString(),"원"]})]}),o.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-gray-200",children:[o.jsx("span",{className:"text-sm font-bold text-gray-900",children:"총 합계:"}),o.jsxs("span",{className:"text-base font-bold text-gray-900",children:[B.total.toLocaleString(),"원"]})]})]})]})}),o.jsxs("div",{className:`lg:col-span-7 bg-white rounded-lg border overflow-hidden flex flex-col ${C!=="list"?"hidden lg:flex":""}`,children:[o.jsx("div",{className:"flex-1 overflow-auto",children:pe.length>0?o.jsxs(o.Fragment,{children:[o.jsxs("table",{className:"hidden lg:table w-full",children:[o.jsx("thead",{className:"bg-gray-50 sticky top-0",children:o.jsxs("tr",{className:"text-left text-xs text-gray-700 border-b",children:[o.jsx("th",{className:"px-3 py-3 font-medium w-[12%]",children:"작성자"}),o.jsx("th",{className:"px-3 py-3 font-medium w-[15%]",children:"날짜"}),o.jsx("th",{className:"px-3 py-3 font-medium w-[10%]",children:"공정"}),o.jsx("th",{className:"px-3 py-3 font-medium w-[23%]",children:"항목명"}),o.jsx("th",{className:"px-3 py-3 font-medium text-right w-[10%]",children:"자재비"}),o.jsx("th",{className:"px-3 py-3 font-medium text-right w-[10%]",children:"인건비"}),o.jsx("th",{className:"px-3 py-3 font-medium text-right w-[10%]",children:"부가세"}),o.jsx("th",{className:"px-3 py-3 font-medium text-right w-[10%]",children:"총액"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-200",children:pe.map(k=>o.jsxs("tr",{className:`hover:bg-gray-50 cursor-pointer text-sm ${d===k.id?"bg-blue-50":""}`,onClick:()=>f(k.id),children:[o.jsx("td",{className:"px-3 py-3 text-gray-600",children:k.author||"-"}),o.jsx("td",{className:"px-3 py-3 text-gray-600",children:Ce(new Date(k.date),"yyyy-MM-dd (EEE)",{locale:Qe})}),o.jsx("td",{className:"px-3 py-3 text-gray-600",children:k.process||"-"}),o.jsx("td",{className:"px-3 py-3 font-medium",children:k.itemName}),o.jsx("td",{className:"px-3 py-3 text-right",children:(k.materialCost||0).toLocaleString()}),o.jsx("td",{className:"px-3 py-3 text-right",children:(k.laborCost||0).toLocaleString()}),o.jsx("td",{className:"px-3 py-3 text-right",children:(k.vatAmount||0).toLocaleString()}),o.jsxs("td",{className:"px-3 py-3 text-right font-semibold",children:[(k.totalAmount||0).toLocaleString(),"원"]})]},k.id))})]}),o.jsx("div",{className:"lg:hidden space-y-3 p-3",children:pe.map(k=>o.jsxs("div",{className:`border rounded-lg p-4 ${d===k.id?"bg-blue-50 border-blue-300":"bg-white"}`,onClick:()=>f(k.id),children:[o.jsxs("div",{className:"flex justify-between items-start mb-2",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"font-medium text-gray-900",children:k.itemName}),o.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[k.process||"-"," • ",k.author||"-"]})]}),o.jsxs("p",{className:"text-sm font-bold text-gray-900",children:["₩",(k.totalAmount||0).toLocaleString()]})]}),o.jsx("div",{className:"text-xs text-gray-500",children:Ce(new Date(k.date),"yyyy.MM.dd (EEE)",{locale:Qe})}),o.jsxs("div",{className:"mt-2 pt-2 border-t grid grid-cols-3 gap-2 text-xs",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"자재비"}),o.jsxs("p",{className:"font-medium",children:["₩",(k.materialCost||0).toLocaleString()]})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"인건비"}),o.jsxs("p",{className:"font-medium",children:["₩",(k.laborCost||0).toLocaleString()]})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"부가세"}),o.jsxs("p",{className:"font-medium",children:["₩",(k.vatAmount||0).toLocaleString()]})]})]})]},k.id))})]}):o.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:"실행내역이 없습니다"})}),o.jsxs("div",{className:"border-t bg-gray-50 p-3",children:[C==="list"&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"lg:hidden mb-3",children:o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"text",placeholder:"검색...",value:c,onChange:k=>u(k.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 text-sm"}),o.jsx(bf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"})]})}),o.jsxs("div",{className:"lg:hidden bg-white rounded-lg p-3 mb-3 space-y-2 border",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-gray-600",children:"자재비 총합:"}),o.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[B.material.toLocaleString(),"원"]})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-gray-600",children:"인건비 총합:"}),o.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[B.labor.toLocaleString(),"원"]})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-gray-600",children:"부가세 총합:"}),o.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[B.vat.toLocaleString(),"원"]})]}),o.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-gray-200",children:[o.jsx("span",{className:"text-sm font-bold text-gray-900",children:"총 합계:"}),o.jsxs("span",{className:"text-base font-bold text-gray-900",children:[B.total.toLocaleString(),"원"]})]})]})]}),o.jsxs("div",{className:"flex flex-col lg:flex-row items-stretch lg:items-center gap-3",children:[o.jsx("div",{className:"hidden lg:block flex-1 lg:max-w-sm",children:o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"text",placeholder:"검색...",value:c,onChange:k=>u(k.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 text-sm lg:text-base"}),o.jsx(bf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"})]})}),o.jsxs("div",{className:"flex items-center justify-between lg:justify-end gap-2",children:[d&&o.jsx("button",{onClick:()=>{const k=t.find(j=>j.id===d),z=de.find(j=>j.id===d);k?confirm("선택한 실행내역을 삭제하시겠습니까?")&&(s(d),f(null),ne.success("실행내역이 삭제되었습니다")):(z==null?void 0:z.type)==="payment"?confirm(`이 결제요청을 실행내역에서 숨기시겠습니까?
(결제요청 자체는 삭제되지 않습니다)`)&&(oe(j=>[...j,d]),f(null),ne.success("결제요청이 실행내역에서 숨겨졌습니다")):ne.error("삭제할 수 없는 항목입니다")},className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"삭제",children:o.jsx(Xr,{className:"h-5 w-5"})}),o.jsx("button",{onClick:()=>x(!0),className:"px-3 py-2 text-sm lg:text-base lg:px-4 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 hover:border-gray-400 transition-all duration-200 font-medium whitespace-nowrap",children:"공정별 합계"})]})]})]})]}),o.jsxs("div",{className:`lg:col-span-3 bg-white rounded-lg border flex flex-col overflow-hidden ${C!=="image"?"hidden lg:flex":""}`,onDragOver:Ne,onDragLeave:Ie,onDrop:D,children:[o.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:A,className:"hidden",id:"image-file-input"}),$&&d&&C==="image"&&(()=>{const k=de.find(z=>z.id===d);return k?o.jsx("div",{className:"border-b bg-gray-50 p-3",children:o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"font-medium text-gray-900 text-sm",children:k.itemName}),o.jsxs("p",{className:"text-xs text-gray-500 mt-0.5",children:[k.process||"-"," • ",Ce(new Date(k.date),"yyyy.MM.dd",{locale:Qe})]})]}),o.jsxs("p",{className:"text-sm font-bold text-gray-900",children:["₩",(k.totalAmount||0).toLocaleString()]})]})}):null})(),o.jsx("div",{className:"flex-1 overflow-y-auto p-4 relative",onClick:k=>{var j;const z=k.target;!z.closest("img")&&!z.closest("button")&&d&&(()=>{const L=t.find(K=>K.id===d);return(L==null?void 0:L.images)||he[d]||[]})().length>0&&((j=document.getElementById("image-file-input"))==null||j.click())},children:d?(()=>{const k=t.find(j=>j.id===d),z=(k==null?void 0:k.images)||he[d]||[];return z.length>0?o.jsx("div",{className:"grid grid-cols-1 gap-3",children:z.map((j,P)=>o.jsxs("div",{className:"relative group border rounded-lg overflow-hidden",children:[o.jsx("img",{src:j,alt:`증빙 ${P+1}`,className:"w-full h-auto cursor-pointer hover:opacity-90 transition-opacity",onClick:L=>{L.stopPropagation(),ae(j)}}),o.jsx("button",{onClick:L=>{L.stopPropagation(),H(P)},className:"absolute top-2 right-2 p-1.5 bg-red-500 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:o.jsx(rt,{className:"h-4 w-4"})})]},P))}):o.jsx("label",{htmlFor:"image-file-input",className:"h-full flex items-center justify-center cursor-pointer",children:o.jsxs("div",{className:`w-full h-full min-h-[200px] border-2 border-dashed rounded-lg p-6 text-center transition-colors flex flex-col items-center justify-center ${h?"border-gray-500 bg-gray-50":"border-gray-300 hover:border-gray-400"}`,children:[o.jsx(bv,{className:"h-10 w-10 mx-auto text-gray-400 mb-2"}),o.jsx("p",{className:"text-sm font-medium text-gray-700",children:"클릭하여 선택"}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"또는 이미지를 드래그하거나 Ctrl+V로 붙여넣기"})]})})})():o.jsx("div",{className:"h-full flex items-center justify-center min-h-[200px]",children:o.jsxs("div",{className:"text-center text-gray-400",children:[o.jsx(eo,{className:"h-12 w-12 mx-auto mb-2"}),o.jsx("p",{className:"text-sm",children:"실행내역을 선택하세요"})]})})})]})]}),v&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-end lg:items-center justify-center bg-black bg-opacity-50",children:o.jsxs("div",{className:"bg-white rounded-t-2xl lg:rounded-lg w-full lg:max-w-4xl max-h-[85vh] lg:max-h-[80vh] overflow-hidden lg:m-4",children:[o.jsxs("div",{className:"flex items-center justify-between p-4 lg:p-6 border-b",children:[o.jsx("h2",{className:"text-lg lg:text-xl font-bold text-gray-900",children:"공정별 합계"}),o.jsx("button",{onClick:()=>x(!1),className:"p-1.5 lg:p-2 hover:bg-gray-100 rounded-full",children:o.jsx(rt,{className:"h-5 w-5 text-gray-500"})})]}),o.jsx("div",{className:"p-4 lg:p-6 overflow-y-auto max-h-[calc(85vh-120px)] lg:max-h-[calc(80vh-120px)]",children:q().length>0?o.jsxs(o.Fragment,{children:[o.jsxs("table",{className:"hidden lg:table w-full",children:[o.jsx("thead",{className:"bg-gray-100",children:o.jsxs("tr",{className:"text-left text-sm text-gray-700",children:[o.jsx("th",{className:"px-4 py-3 font-medium",children:"공정"}),o.jsx("th",{className:"px-4 py-3 font-medium text-right",children:"자재비"}),o.jsx("th",{className:"px-4 py-3 font-medium text-right",children:"인건비"}),o.jsx("th",{className:"px-4 py-3 font-medium text-right",children:"부가세"}),o.jsx("th",{className:"px-4 py-3 font-medium text-right",children:"총액"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-200",children:q().map(([k,z])=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-4 py-3 font-medium text-gray-700",children:k}),o.jsx("td",{className:"px-4 py-3 text-right",children:z.materialCost.toLocaleString()}),o.jsx("td",{className:"px-4 py-3 text-right",children:z.laborCost.toLocaleString()}),o.jsx("td",{className:"px-4 py-3 text-right",children:z.vatAmount.toLocaleString()}),o.jsxs("td",{className:"px-4 py-3 text-right font-semibold",children:[z.totalAmount.toLocaleString(),"원"]})]},k))}),o.jsx("tfoot",{className:"bg-gray-100 border-t-2 border-gray-300",children:o.jsxs("tr",{children:[o.jsx("td",{className:"px-4 py-3 font-bold text-gray-700",children:"총합계"}),o.jsx("td",{className:"px-4 py-3 text-right font-bold",children:B.material.toLocaleString()}),o.jsx("td",{className:"px-4 py-3 text-right font-bold",children:B.labor.toLocaleString()}),o.jsx("td",{className:"px-4 py-3 text-right font-bold",children:B.vat.toLocaleString()}),o.jsxs("td",{className:"px-4 py-3 text-right font-bold text-gray-900",children:[B.total.toLocaleString(),"원"]})]})})]}),o.jsxs("div",{className:"lg:hidden space-y-3",children:[q().map(([k,z])=>o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[o.jsxs("div",{className:"flex justify-between items-start mb-3",children:[o.jsx("h3",{className:"font-semibold text-gray-900",children:k}),o.jsxs("span",{className:"text-lg font-bold text-gray-900",children:["₩",z.totalAmount.toLocaleString()]})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-2 text-sm",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-500 text-xs",children:"자재비"}),o.jsxs("p",{className:"font-medium",children:["₩",z.materialCost.toLocaleString()]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-500 text-xs",children:"인건비"}),o.jsxs("p",{className:"font-medium",children:["₩",z.laborCost.toLocaleString()]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-500 text-xs",children:"부가세"}),o.jsxs("p",{className:"font-medium",children:["₩",z.vatAmount.toLocaleString()]})]})]})]},k)),o.jsxs("div",{className:"bg-gray-900 text-white rounded-lg p-4 mt-4",children:[o.jsxs("div",{className:"flex justify-between items-start mb-3",children:[o.jsx("h3",{className:"font-bold text-white",children:"총합계"}),o.jsxs("span",{className:"text-xl font-bold",children:["₩",B.total.toLocaleString()]})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-2 text-sm",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-300 text-xs",children:"자재비"}),o.jsxs("p",{className:"font-semibold",children:["₩",B.material.toLocaleString()]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-300 text-xs",children:"인건비"}),o.jsxs("p",{className:"font-semibold",children:["₩",B.labor.toLocaleString()]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-300 text-xs",children:"부가세"}),o.jsxs("p",{className:"font-semibold",children:["₩",B.vat.toLocaleString()]})]})]})]})]})]}):o.jsx("div",{className:"text-center py-8 text-gray-500",children:"표시할 데이터가 없습니다."})})]})}),J&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"lg:hidden fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:o.jsxs("div",{className:"bg-white rounded-lg w-full max-w-md mx-4 max-h-[80vh] overflow-hidden",children:[o.jsxs("div",{className:"flex items-center justify-between p-3 border-b",children:[o.jsx("h2",{className:"text-base font-bold text-gray-900",children:"공정 선택"}),o.jsx("button",{onClick:()=>G(!1),className:"p-1 hover:bg-gray-100 rounded-full",children:o.jsx(rt,{className:"h-4 w-4 text-gray-500"})})]}),o.jsxs("div",{className:"p-3 overflow-y-auto max-h-[calc(80vh-100px)]",children:[o.jsx("div",{className:"grid grid-cols-2 gap-2 mb-2",children:oN.map(k=>o.jsx("button",{onClick:()=>{T({...W,process:k}),G(!1)},className:`p-2 text-sm text-center border rounded-lg transition-all ${W.process===k?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:border-gray-400 hover:bg-gray-50"}`,children:k},k))}),o.jsx("button",{onClick:()=>{T({...W,process:""}),G(!1)},className:"w-full p-2 text-sm text-center border-2 border-dashed border-gray-300 rounded-lg hover:border-gray-400 hover:bg-gray-50 text-gray-500",children:"선택 안함"})]})]})}),o.jsx("div",{className:"hidden lg:block fixed inset-0 z-40",onClick:()=>G(!1),children:o.jsxs("div",{onClick:k=>k.stopPropagation(),className:"absolute bg-white rounded-lg shadow-xl border border-gray-200",style:{top:se.current?`${se.current.getBoundingClientRect().bottom+window.scrollY+4}px`:"50%",left:se.current?`${se.current.getBoundingClientRect().left+window.scrollX}px`:"50%"},children:[o.jsxs("div",{className:"flex items-center justify-between p-2 border-b",children:[o.jsx("h2",{className:"text-sm font-bold text-gray-900",children:"공정 선택"}),o.jsx("button",{onClick:()=>G(!1),className:"p-1 hover:bg-gray-100 rounded-full",children:o.jsx(rt,{className:"h-3 w-3 text-gray-500"})})]}),o.jsxs("div",{className:"p-2",children:[o.jsx("div",{className:"grid grid-cols-4 gap-1.5 mb-2",children:oN.map(k=>o.jsx("button",{onClick:()=>{T({...W,process:k}),G(!1)},className:`p-1.5 text-xs text-center border rounded-lg transition-all whitespace-nowrap ${W.process===k?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:border-gray-400 hover:bg-gray-50"}`,children:k},k))}),o.jsx("button",{onClick:()=>{T({...W,process:""}),G(!1)},className:"w-full p-1.5 text-xs text-center border-2 border-dashed border-gray-300 rounded-lg hover:border-gray-400 hover:bg-gray-50 text-gray-500",children:"선택 안함"})]})]})})]}),b&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-90",onClick:()=>_(!1),children:o.jsxs("div",{className:"relative max-w-[90vw] max-h-[90vh]",children:[o.jsx("button",{onClick:k=>{k.stopPropagation(),_(!1)},className:"absolute -top-10 right-0 text-white hover:text-gray-300 transition-colors",children:o.jsx(rt,{className:"h-8 w-8"})}),o.jsx("img",{src:S,alt:"원본 이미지",className:"max-w-full max-h-[90vh] object-contain",onClick:k=>k.stopPropagation()})]})})]})},lN=["대표이사","부사장","전무","상무","이사","실장","부장","차장","과장","대리","주임","사원","팀장","소장","대표","사장","회장","반장","현장","본부장","팀원","파트장","조장","감독","기사","수석","책임"],Al=e=>{if(!e)return e;const t=e.replace(/님$/g,"").trim(),r=t.split(" ");if(r.length>=2){const n=r[r.length-1];for(const s of lN)if(n===s)return r.slice(0,-1).join(" ").trim()}for(const n of lN)if(t.endsWith(n))return t.substring(0,t.length-n.length).trim();return t},cN=["가설","철거","설비/미장","전기","목공","조명","가구","마루","타일","욕실","필름","도배","도장","창호","에어컨","기타"],ise=()=>{const{payments:e,loadPaymentsFromAPI:t,addPaymentToAPI:r,deletePaymentFromAPI:n,updatePaymentInAPI:s,projects:a}=Zr(),{user:i}=Pa(),[l,c]=N.useState(""),[u,d]=N.useState(null),[f,h]=N.useState(null),[g,m]=N.useState(!1),[p,w]=N.useState(!1),[y,v]=N.useState(!1),[x,b]=N.useState(!1),[_,S]=N.useState(""),[E,C]=N.useState("form"),[M,$]=N.useState(!1),[Y,J]=N.useState(!1),G=N.useRef(null),[se,ce]=N.useState("pending"),[Z,he]=N.useState("all"),[te,U]=N.useState(!1),[oe,V]=N.useState(null),[W,T]=N.useState([]),[R,X]=N.useState([]),[le,de]=N.useState(null),[pe,B]=N.useState([]),[O,q]=N.useState([]),[A,H]=N.useState(!1),[ae,Ne]=N.useState(()=>{const I=localStorage.getItem("paymentRecordImages");return I?JSON.parse(I):{}}),Ie=()=>{const I=localStorage.getItem("lastSelectedProject"),be=a.filter(ge=>ge.status!=="completed");return I&&be.some(ge=>ge.name===I)?I:be.length>0?be[0].name:""},[D,k]=N.useState({project:"",date:Ce(new Date,"yyyy-MM-dd"),process:"",itemName:"",materialCost:"",laborCost:"",amount:"",accountHolder:"",bankName:"",accountNumber:"",images:[]});N.useEffect(()=>{(async()=>{try{const be=await ys.getAllContractors();T(be.map(ge=>({id:ge._id||ge.id,rank:ge.rank,companyName:ge.companyName,name:ge.name,process:ge.process,contact:ge.contact,accountNumber:ge.accountNumber,bankName:ge.bankName,notes:ge.notes,createdAt:new Date(ge.createdAt),updatedAt:new Date(ge.updatedAt)})))}catch(be){console.error("Failed to load contractors:",be)}})()},[]),N.useEffect(()=>{t().catch(be=>{console.error("Failed to load payments:",be)});const I=()=>{$(window.innerWidth<1024)};if(I(),window.addEventListener("resize",I),a.length>0&&!D.project){const be=Ie();be&&(k(ge=>({...ge,project:be})),localStorage.setItem("lastSelectedProject",be))}return()=>window.removeEventListener("resize",I)},[t,a]),N.useEffect(()=>{if(D.process){const I=new Set(e.filter(we=>{var xe;return we.status==="completed"&&((xe=we.bankInfo)==null?void 0:xe.accountHolder)}).map(we=>we.bankInfo.accountHolder.trim().toLowerCase())),ge=W.filter(we=>{if(!(we.process.toLowerCase().includes(D.process.toLowerCase())||D.process.toLowerCase().includes(we.process.toLowerCase())))return!1;const De=we.accountNumber&&we.accountNumber.trim()!=="",Me=we.name.trim().toLowerCase(),Ue=I.has(Me);return De||Ue}).sort((we,xe)=>{const De=we.accountNumber&&we.accountNumber.trim()!=="",Me=xe.accountNumber&&xe.accountNumber.trim()!=="";return De&&!Me?-1:!De&&Me?1:0});X(ge)}else X([])},[D.process,W,e]),N.useEffect(()=>{if(D.accountHolder&&D.accountHolder.trim().length>=1){const I=D.accountHolder.trim().toLowerCase(),be=new Map;let ge=null;if(le){const xe=W.find(De=>(De.id||De._id)===le);xe&&xe.accountNumber&&xe.bankName&&(ge=`${Al(xe.name).trim()}_${xe.bankName}_${xe.accountNumber}`)}e.filter(xe=>{var De,Me,Ue;return xe.status==="completed"&&((De=xe.bankInfo)==null?void 0:De.accountHolder)&&((Me=xe.bankInfo)==null?void 0:Me.bankName)&&((Ue=xe.bankInfo)==null?void 0:Ue.accountNumber)}).forEach(xe=>{const De=xe.bankInfo.accountHolder.trim(),Me=De.toLowerCase();if(Me.includes(I)||I.includes(Me)){const Ue=`${De}_${xe.bankInfo.bankName}_${xe.bankInfo.accountNumber}`;Ue!==ge&&!be.has(Ue)&&be.set(Ue,{accountHolder:De,bankName:xe.bankInfo.bankName,accountNumber:xe.bankInfo.accountNumber})}}),W.forEach(xe=>{if((xe.id||xe._id)!==le&&xe.accountNumber&&xe.bankName){const De=Al(xe.name).trim(),Me=De.toLowerCase();if(Me.includes(I)||I.includes(Me)){const Ue=`${De}_${xe.bankName}_${xe.accountNumber}`;be.has(Ue)||be.set(Ue,{accountHolder:De,bankName:xe.bankName,accountNumber:xe.accountNumber})}}}),B(Array.from(be.values()))}else B([])},[D.accountHolder,e,W,le]),N.useEffect(()=>{if(A&&D.itemName&&D.itemName.trim().length>=1){const I=D.itemName.trim().toLowerCase(),be=[...e].sort((we,xe)=>new Date(xe.date).getTime()-new Date(we.date).getTime()).map(we=>we.itemName).filter(we=>we&&we.toLowerCase().includes(I)),ge=Array.from(new Set(be));q(ge.slice(0,10))}else q([])},[D.itemName,e,A]);const z=N.useCallback(()=>{if(!le&&(!D.accountHolder||D.accountHolder.trim().length===0)){const I=new Map;e.filter(ge=>{var we,xe,De;return ge.status==="completed"&&((we=ge.bankInfo)==null?void 0:we.accountHolder)&&((xe=ge.bankInfo)==null?void 0:xe.bankName)&&((De=ge.bankInfo)==null?void 0:De.accountNumber)}).forEach(ge=>{const we=ge.bankInfo.accountHolder.trim(),xe=`${we}_${ge.bankInfo.bankName}_${ge.bankInfo.accountNumber}`;I.has(xe)||I.set(xe,{accountHolder:we,bankName:ge.bankInfo.bankName,accountNumber:ge.bankInfo.accountNumber})}),W.forEach(ge=>{if(ge.accountNumber&&ge.bankName){const we=Al(ge.name).trim(),xe=`${we}_${ge.bankName}_${ge.accountNumber}`;I.has(xe)||I.set(xe,{accountHolder:we,bankName:ge.bankName,accountNumber:ge.accountNumber})}}),B(Array.from(I.values()))}},[D.accountHolder,e,W,le]);N.useEffect(()=>{localStorage.setItem("paymentRecordImages",JSON.stringify(ae))},[ae]);const j=N.useCallback(I=>{var ge;if(!u){ne.error("먼저 결제요청을 선택해주세요");return}const be=(ge=I.clipboardData)==null?void 0:ge.items;if(be){for(let we=0;we<be.length;we++)if(be[we].type.indexOf("image")!==-1){I.preventDefault();const xe=be[we].getAsFile();if(xe){const De=new FileReader;De.onload=Me=>{var Pn;const Ue=(Pn=Me.target)==null?void 0:Pn.result;Ne(Dt=>({...Dt,[u]:[...Dt[u]||[],Ue]})),ne.success("이미지가 추가되었습니다")},De.readAsDataURL(xe)}}}},[u]);N.useEffect(()=>(document.addEventListener("paste",j),()=>document.removeEventListener("paste",j)),[j]);const P=[...e].sort((I,be)=>new Date(be.requestDate).getTime()-new Date(I.requestDate).getTime()),L=P.filter(I=>{var xe,De,Me;const be=l===""||((xe=I.purpose)==null?void 0:xe.toLowerCase().includes(l.toLowerCase()))||((De=I.itemName)==null?void 0:De.toLowerCase().includes(l.toLowerCase()))||((Me=I.process)==null?void 0:Me.toLowerCase().includes(l.toLowerCase())),ge=I.status===se,we=Z==="all"||I.project===Z;return be&&ge&&we}),K=I=>{const be=I.id||I._id||null;if(le===be){de(null);const De=document.querySelector('input[placeholder="예금주명을 입력하세요"]');De&&setTimeout(()=>{De.focus()},100);return}de(be);const ge=Al(I.name);let we=I.bankName||"",xe=I.accountNumber||"";if(xe&&!we){const De=xe.trim().split(/\s+/);if(De.length>=2){const Me=De[0];(Me.includes("은행")||Me.includes("뱅크")||Me.includes("금고")||Me.includes("신협")||Me.includes("우체국"))&&(we=Me,xe=De.slice(1).join(""))}}k(De=>({...De,accountHolder:ge,bankName:we,accountNumber:xe}))};L.reduce((I,be)=>{const ge=be.materialAmount||0,we=be.laborAmount||0,xe=be.amount||0;let De=ge,Me=we,Ue=0;return ge===0&&we===0&&xe>0?be.includesVAT?(De=Math.round(xe/1.1),Ue=xe-De):(De=xe,Ue=0):be.includesVAT?(ge>0&&(De=Math.round(ge/1.1)),we>0&&(Me=Math.round(we/1.1)),Ue=xe-(De+Me)):Ue=0,I.material+=De,I.labor+=Me,I.vat+=Ue,I.total+=xe,I},{material:0,labor:0,vat:0,total:0});const ee=async()=>{if(console.log("💰 handleSave called"),console.log("💰 Current user:",i),console.log("💰 Form data:",D),!D.project){ne.error("프로젝트를 선택해주세요");return}if(!D.itemName){ne.error("항목명을 입력해주세요");return}const I=Number(D.materialCost)||0,be=Number(D.laborCost)||0;if(I+be===0){ne.error("금액을 입력해주세요");return}try{const we=y?Math.round(I*.967):I,xe=y?Math.round(be*.967):be,De=we+xe,Me=new Date;if(f){const Ue={project:D.project,requestDate:new Date(D.date),purpose:D.itemName,amount:De,category:"material",urgency:"normal",process:D.process,itemName:D.itemName,includesVAT:p,applyTaxDeduction:y,materialAmount:we,laborAmount:xe,originalLaborAmount:be,accountHolder:D.accountHolder,bank:D.bankName,accountNumber:D.accountNumber,bankInfo:D.accountHolder||D.bankName||D.accountNumber?{accountHolder:D.accountHolder,bankName:D.bankName,accountNumber:D.accountNumber}:void 0,updatedAt:Me};console.log("💰 Updating payment:",Ue),await s(f,Ue),ne.success("결제요청이 수정되었습니다"),h(null)}else{const Ue={id:`payment_${Date.now()}`,project:D.project,requestDate:new Date(D.date),requestedBy:(i==null?void 0:i.name)||"알 수 없음",purpose:D.itemName,amount:De,status:"pending",category:"material",urgency:"normal",process:D.process,itemName:D.itemName,includesVAT:p,applyTaxDeduction:y,materialAmount:we,laborAmount:xe,originalLaborAmount:be,accountHolder:D.accountHolder,bank:D.bankName,accountNumber:D.accountNumber,bankInfo:D.accountHolder||D.bankName||D.accountNumber?{accountHolder:D.accountHolder,bankName:D.bankName,accountNumber:D.accountNumber}:void 0,attachments:[],createdAt:Me,updatedAt:Me};console.log("💰 Creating payment:",Ue),await r(Ue),ne.success("결제요청이 추가되었습니다")}k(Ue=>({project:Ue.project,date:Ce(new Date,"yyyy-MM-dd"),process:"",itemName:"",materialCost:"",laborCost:"",amount:"",accountHolder:"",bankName:"",accountNumber:"",images:[]})),w(!1),v(!1),de(null),M&&C("list")}catch(we){console.error("💰 Payment save error:",we),ne.error("결제요청 저장에 실패했습니다: "+we.message)}},ie=I=>{var we,xe,De,Me;const be=I.originalMaterialAmount!==void 0?I.originalMaterialAmount:I.materialAmount||0,ge=I.originalLaborAmount!==void 0?I.originalLaborAmount:I.laborAmount||0;k({project:I.project,date:Ce(new Date(I.requestDate),"yyyy-MM-dd"),process:I.process||"",itemName:I.itemName||I.purpose||"",materialCost:be>0?be.toString():"",laborCost:ge>0?ge.toString():"",amount:((we=I.amount)==null?void 0:we.toString())||"",accountHolder:((xe=I.bankInfo)==null?void 0:xe.accountHolder)||"",bankName:((De=I.bankInfo)==null?void 0:De.bankName)||"",accountNumber:((Me=I.bankInfo)==null?void 0:Me.accountNumber)||"",images:I.attachments||[]}),w(I.includesVAT||!1),v(I.applyTaxDeduction||!1),d(I.id),h(I.id),M&&C("form"),ne.success("수정할 내역을 불러왔습니다")},ye=async I=>{try{await s(I,{status:"completed"}),ne.success("송금완료 처리되었습니다"),U(!1)}catch{ne.error("송금완료 처리 실패")}},Se=I=>{var xe;if(!u){ne.error("먼저 결제요청을 선택해주세요");return}const be=Array.from(((xe=I.target)==null?void 0:xe.files)||[]),ge=[],we=be.filter(De=>De.type.startsWith("image/"));we.length!==0&&we.forEach(De=>{const Me=new FileReader;Me.onload=Ue=>{var Dt;const Pn=(Dt=Ue.target)==null?void 0:Dt.result;ge.push(Pn),ge.length===we.length&&(Ne(Y0=>({...Y0,[u]:[...Y0[u]||[],...ge]})),ne.success(`${ge.length}개의 이미지가 추가되었습니다`))},Me.readAsDataURL(De)})},ke=I=>{u&&Ne(be=>{var ge;return{...be,[u]:((ge=be[u])==null?void 0:ge.filter((we,xe)=>xe!==I))||[]}})},Ae=I=>{S(I),b(!0)},wt=I=>{I.preventDefault(),m(!0)},_t=I=>{I.preventDefault(),m(!1)},Er=I=>{if(I.preventDefault(),m(!1),!u){ne.error("먼저 결제요청을 선택해주세요");return}const be=Array.from(I.dataTransfer.files),ge=[],we=be.filter(xe=>xe.type.startsWith("image/"));we.length!==0&&we.forEach(xe=>{const De=new FileReader;De.onload=Me=>{var Pn;const Ue=(Pn=Me.target)==null?void 0:Pn.result;ge.push(Ue),ge.length===we.length&&(Ne(Dt=>({...Dt,[u]:[...Dt[u]||[],...ge]})),ne.success(`${ge.length}개의 이미지가 추가되었습니다`))},De.readAsDataURL(xe)})};return o.jsxs("div",{className:"space-y-3 md:space-y-4",children:[o.jsxs("div",{className:"lg:hidden mb-4",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"프로젝트"}),o.jsx("select",{value:D.project,onChange:I=>{k({...D,project:I.target.value}),I.target.value&&localStorage.setItem("lastSelectedProject",I.target.value)},className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",children:a.filter(I=>I.status!=="completed").map(I=>o.jsx("option",{value:I.name,children:I.name},I.id))})]}),o.jsx("div",{className:"lg:hidden border-b border-gray-200 mb-4",children:o.jsxs("nav",{className:"flex space-x-4",children:[o.jsx("button",{onClick:()=>C("form"),className:`py-2 px-1 border-b-2 font-medium text-sm ${E==="form"?"border-gray-900 text-gray-900":"border-transparent text-gray-500"}`,children:"입력"}),o.jsx("button",{onClick:()=>C("list"),className:`py-2 px-1 border-b-2 font-medium text-sm ${E==="list"?"border-gray-900 text-gray-900":"border-transparent text-gray-500"}`,children:"내역"}),o.jsx("button",{onClick:()=>C("image"),className:`py-2 px-1 border-b-2 font-medium text-sm ${E==="image"?"border-gray-900 text-gray-900":"border-transparent text-gray-500"}`,children:"이미지"})]})}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-4",children:[o.jsx("div",{className:`lg:col-span-2 bg-white rounded-lg border p-4 overflow-y-auto ${E!=="form"?"hidden lg:block":""}`,children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"hidden lg:block",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"프로젝트 *"}),o.jsx("select",{value:D.project,onChange:I=>{k({...D,project:I.target.value}),I.target.value&&localStorage.setItem("lastSelectedProject",I.target.value)},className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",children:a.filter(I=>I.status!=="completed").map(I=>o.jsx("option",{value:I.name,children:I.name},I.id))})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["날짜 ",D.date&&`(${Ce(new Date(D.date),"E",{locale:Qe})})`]}),o.jsx("input",{type:"date",value:D.date,onChange:I=>k({...D,date:I.target.value}),className:"w-full px-3 py-2 border rounded-lg bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500 cursor-pointer text-gray-900",style:{WebkitAppearance:"none",MozAppearance:"none",appearance:"none",backgroundColor:"white",backgroundImage:"none"}})]}),o.jsxs("div",{className:"relative",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"공정"}),o.jsx("button",{ref:G,type:"button",onClick:()=>J(!0),className:"w-full px-3 py-2 border rounded-lg text-left bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500",children:D.process||o.jsx("span",{className:"text-gray-400",children:"선택하세요"})})]})]}),o.jsxs("div",{className:"relative",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"항목명"}),o.jsx("input",{type:"text",value:D.itemName,onChange:I=>k({...D,itemName:I.target.value}),onFocus:()=>H(!0),onBlur:()=>setTimeout(()=>H(!1),200),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"}),O.length>0&&o.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:O.map((I,be)=>o.jsx("button",{type:"button",onClick:()=>{k({...D,itemName:I}),q([])},className:"w-full px-3 py-2 text-left hover:bg-gray-50 text-sm",children:o.jsx("div",{className:"font-medium text-gray-900",children:I})},be))})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"자재비"}),o.jsx("input",{type:"number",value:D.materialCost,onChange:I=>k({...D,materialCost:I.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"인건비"}),o.jsx("input",{type:"number",value:D.laborCost,onChange:I=>k({...D,laborCost:I.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",id:"includeVat",checked:p,onChange:I=>{I.target.checked&&v(!1),w(I.target.checked)},className:"h-4 w-4 text-gray-600 focus:ring-gray-500 border-gray-300 rounded"}),o.jsx("label",{htmlFor:"includeVat",className:"ml-2 block text-sm text-gray-700",children:"부가세 포함 (10%)"})]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",id:"includeTaxDeduction",checked:y,onChange:I=>{I.target.checked&&w(!1),v(I.target.checked)},className:"h-4 w-4 text-gray-600 focus:ring-gray-500 border-gray-300 rounded"}),o.jsx("label",{htmlFor:"includeTaxDeduction",className:"ml-2 block text-sm text-gray-700",children:"3.3% 세금공제"})]})]})]}),R.length>0&&o.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-3 mt-3",children:[o.jsx("label",{className:"block text-sm font-medium text-amber-900 mb-2",children:"추천 협력업체"}),o.jsx("div",{className:"space-y-1 max-h-32 overflow-y-auto",children:R.map(I=>{const be=I.id||I._id,ge=le===be;return o.jsx("button",{type:"button",onClick:()=>K(I),className:`w-full text-left px-3 py-2 rounded-lg border transition-colors ${ge?"border-gray-900 bg-gray-50":"border-gray-200 hover:border-gray-400 hover:bg-gray-50"}`,children:o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"font-medium text-sm text-gray-900",children:Al(I.name)}),I.companyName&&o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"text-gray-300",children:"|"}),o.jsx("span",{className:"text-xs text-gray-600",children:I.companyName})]})]}),I.accountNumber&&I.bankName&&o.jsxs("div",{className:"text-xs text-gray-500",children:[I.bankName," ",I.accountNumber]})]})},be)})})]}),o.jsxs("div",{className:"border-t pt-3 space-y-2",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"예금주"}),o.jsx("input",{type:"text",value:D.accountHolder,onChange:I=>k({...D,accountHolder:I.target.value}),onFocus:z,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",placeholder:"예금주명을 입력하세요"})]}),pe.length>0&&!le&&o.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[o.jsx("label",{className:"block text-sm font-medium text-blue-900 mb-2",children:"이전 송금 내역"}),o.jsx("div",{className:"space-y-1 max-h-32 overflow-y-auto",children:pe.map((I,be)=>o.jsx("button",{type:"button",onClick:()=>{k(ge=>({...ge,accountHolder:I.accountHolder,bankName:I.bankName,accountNumber:I.accountNumber})),B([])},className:"w-full text-left px-3 py-2 rounded-lg border border-blue-200 bg-white hover:border-blue-400 hover:bg-blue-50 transition-colors",children:o.jsx("div",{className:"flex justify-between items-start",children:o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-sm text-gray-900",children:I.accountHolder}),o.jsxs("div",{className:"text-xs text-gray-500 mt-0.5",children:[I.bankName," ",I.accountNumber]})]})})},be))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"은행"}),o.jsxs("select",{value:D.bankName,onChange:I=>k({...D,bankName:I.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",children:[o.jsx("option",{value:"",children:"은행 선택"}),o.jsx("option",{value:"KB국민은행",children:"KB국민은행"}),o.jsx("option",{value:"신한은행",children:"신한은행"}),o.jsx("option",{value:"우리은행",children:"우리은행"}),o.jsx("option",{value:"하나은행",children:"하나은행"}),o.jsx("option",{value:"NH농협은행",children:"NH농협은행"}),o.jsx("option",{value:"IBK기업은행",children:"IBK기업은행"}),o.jsx("option",{value:"SC제일은행",children:"SC제일은행"}),o.jsx("option",{value:"한국씨티은행",children:"한국씨티은행"}),o.jsx("option",{value:"카카오뱅크",children:"카카오뱅크"}),o.jsx("option",{value:"케이뱅크",children:"케이뱅크"}),o.jsx("option",{value:"토스뱅크",children:"토스뱅크"}),o.jsx("option",{value:"새마을금고",children:"새마을금고"}),o.jsx("option",{value:"신협",children:"신협"}),o.jsx("option",{value:"우체국",children:"우체국"}),o.jsx("option",{value:"KDB산업은행",children:"KDB산업은행"}),o.jsx("option",{value:"수협은행",children:"수협은행"}),o.jsx("option",{value:"대구은행",children:"대구은행"}),o.jsx("option",{value:"부산은행",children:"부산은행"}),o.jsx("option",{value:"경남은행",children:"경남은행"}),o.jsx("option",{value:"광주은행",children:"광주은행"}),o.jsx("option",{value:"전북은행",children:"전북은행"}),o.jsx("option",{value:"제주은행",children:"제주은행"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"계좌번호"}),o.jsx("input",{type:"text",value:D.accountNumber,onChange:I=>k({...D,accountNumber:I.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",placeholder:"계좌번호를 입력하세요"})]}),o.jsx("div",{className:"pt-2 border-t",children:o.jsxs("div",{className:"flex justify-between items-baseline",children:[o.jsx("span",{className:"font-medium",children:"총액"}),o.jsxs("div",{className:"text-right",children:[(p||y)&&o.jsxs("span",{className:"text-xs text-gray-500 mr-2",children:["(",p&&"부가세 포함",y&&"3.3% 세금공제",")"]}),o.jsxs("span",{className:"font-semibold",children:[(()=>{const I=(Number(D.materialCost)||0)+(Number(D.laborCost)||0);return(y?Math.round(I*.967):I).toLocaleString()})(),"원"]})]})]})}),o.jsxs("div",{className:"my-6 lg:my-[50px] sticky bottom-0 bg-white pt-4 pb-4 -mb-4 lg:static lg:pb-0",style:{zIndex:100},children:[f&&o.jsx("button",{onClick:()=>{h(null),k(I=>({project:I.project,date:Ce(new Date,"yyyy-MM-dd"),process:"",itemName:"",materialCost:"",laborCost:"",amount:"",accountHolder:"",bankName:"",accountNumber:"",images:[]})),w(!1),v(!1),de(null),ne.info("수정이 취소되었습니다")},className:"w-full py-2 mb-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 touch-manipulation",style:{minHeight:"48px"},children:"취소"}),o.jsx("button",{onClick:I=>{console.log("💰 Payment button clicked!",I),console.log("💰 Button element:",I.currentTarget),console.log("💰 Form data:",D),ee()},className:"w-full py-3 bg-gray-900 text-white rounded-lg hover:bg-gray-800 active:bg-gray-950 touch-manipulation font-medium text-base",style:{minHeight:"48px",position:"relative",zIndex:101,WebkitTapHighlightColor:"transparent"},children:f?"수정완료":"결제요청"})]})]})]})}),o.jsxs("div",{className:`lg:col-span-4 bg-white rounded-lg border overflow-hidden flex flex-col ${E!=="list"?"hidden lg:flex":""}`,children:[o.jsx("div",{className:"bg-gray-50 px-4 pt-3 pb-0",children:o.jsxs("div",{className:"flex items-center justify-between gap-4",children:[o.jsxs("nav",{className:"flex gap-2 overflow-x-auto flex-1",children:[o.jsxs("button",{onClick:()=>ce("pending"),className:`px-4 py-2.5 rounded-t-lg font-medium text-sm transition-all whitespace-nowrap flex items-center gap-2 ${se==="pending"?"bg-white text-gray-900 shadow-sm border-b-2 border-gray-900":"text-gray-500 hover:text-gray-700 hover:bg-gray-100"}`,children:["대기중",o.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-semibold ${se==="pending"?"bg-gray-900 text-white":"bg-gray-300 text-gray-600"}`,children:P.filter(I=>I.status==="pending").length})]}),o.jsxs("button",{onClick:()=>ce("completed"),className:`px-4 py-2.5 rounded-t-lg font-medium text-sm transition-all whitespace-nowrap flex items-center gap-2 ${se==="completed"?"bg-white text-gray-900 shadow-sm border-b-2 border-gray-900":"text-gray-500 hover:text-gray-700 hover:bg-gray-100"}`,children:["송금완료",o.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-semibold ${se==="completed"?"bg-gray-900 text-white":"bg-gray-300 text-gray-600"}`,children:P.filter(I=>I.status==="completed").length})]})]}),D.project&&o.jsx("button",{onClick:()=>he(Z==="all"?D.project:"all"),className:`px-3 py-1.5 text-xs font-medium rounded-lg whitespace-nowrap transition-colors ${Z===D.project?"bg-gray-900 text-white":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"}`,children:Z===D.project?"전체보기":`${D.project} 보기`})]})}),o.jsx("div",{className:"border-b border-gray-200"}),o.jsx("div",{className:"flex-1 overflow-auto p-4",children:L.length>0?o.jsx("div",{className:"space-y-3",children:L.map(I=>{var Me,Ue,Pn;const be=I.amount||0,ge=((Me=I.bankInfo)==null?void 0:Me.accountHolder)||I.accountHolder||"",we=((Ue=I.bankInfo)==null?void 0:Ue.bankName)||I.bank||"",xe=((Pn=I.bankInfo)==null?void 0:Pn.accountNumber)||I.accountNumber||"",De=ge&&we&&xe?`${ge} | ${we} ${xe}`:"계좌정보 없음";return o.jsxs("div",{onClick:()=>d(I.id),className:`border rounded-lg p-3 cursor-pointer transition-colors ${u===I.id?"border-gray-900 bg-gray-50":"border-gray-200 bg-white hover:border-gray-400"}`,children:[o.jsxs("div",{className:"flex justify-between items-start mb-2.5",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-baseline gap-2",children:[I.process&&o.jsxs("span",{className:"text-xs text-gray-500 shrink-0",children:["[",I.process,"]"]}),o.jsx("h3",{className:"font-semibold text-gray-900 text-sm truncate",children:I.purpose||I.itemName||"-"})]}),o.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:I.project||"-"})]}),o.jsxs("div",{className:"flex items-start gap-2 ml-3 shrink-0",children:[o.jsxs("div",{className:"text-right",children:[o.jsxs("p",{className:"text-base font-bold text-gray-900",children:[be.toLocaleString(),"원"]}),o.jsxs("p",{className:"text-[10px] text-gray-400",children:[I.requestedBy||"-"," · ",Ce(new Date(I.requestDate),"MM/dd",{locale:Qe})]})]}),o.jsx("button",{onClick:async Dt=>{Dt.stopPropagation(),window.confirm("이 결제요청을 삭제하시겠습니까?")&&(await n(I.id),ne.success("삭제되었습니다"))},className:"p-0.5 text-gray-300 hover:text-red-500 transition-colors",title:"삭제",children:o.jsx(Xr,{className:"h-3.5 w-3.5"})})]})]}),o.jsxs("div",{className:"flex items-center gap-2 mb-2.5 text-xs",children:[o.jsxs("span",{className:"text-gray-400",children:["자재비 ",(I.materialAmount||0).toLocaleString()]}),o.jsx("span",{className:"text-gray-300",children:"·"}),o.jsxs("span",{className:"text-gray-400",children:["인건비 ",(I.laborAmount||0).toLocaleString()]}),I.includesVAT&&o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"text-gray-300",children:"·"}),o.jsx("span",{className:"px-1.5 py-0.5 bg-blue-50 text-blue-700 text-[10px] rounded",children:"VAT"})]}),I.applyTaxDeduction&&o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"text-gray-300",children:"·"}),o.jsx("span",{className:"px-1.5 py-0.5 bg-purple-50 text-purple-700 text-[10px] rounded",children:"3.3%"})]})]}),o.jsxs("div",{className:"flex items-center justify-between mb-2.5",children:[o.jsx("div",{className:"text-xs text-gray-500 truncate flex-1",children:De}),o.jsx("button",{onClick:Dt=>{Dt.stopPropagation(),ie(I)},className:"text-xs text-gray-600 hover:text-gray-900 ml-2 flex-shrink-0",children:"수정"})]}),se==="pending"&&(i==null?void 0:i.role)&&["manager","admin"].includes(i.role)&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:Dt=>{Dt.stopPropagation(),ye(I.id)},className:"flex-1 py-1.5 px-2 bg-gray-700 text-white rounded text-xs font-medium hover:bg-gray-800 transition-colors",children:"즉시송금"}),o.jsx("button",{onClick:Dt=>{Dt.stopPropagation(),ye(I.id)},className:"flex-1 py-1.5 px-2 text-white rounded text-xs font-medium transition-colors",style:{backgroundColor:"#5f81a5"},onMouseEnter:Dt=>Dt.currentTarget.style.backgroundColor="#4a6b8a",onMouseLeave:Dt=>Dt.currentTarget.style.backgroundColor="#5f81a5",children:"송금완료"})]})]},I.id)})}):o.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:"결제요청이 없습니다"})})]}),o.jsxs("div",{className:`lg:col-span-6 bg-white rounded-lg border flex flex-col overflow-hidden ${E!=="image"?"hidden lg:flex":""}`,onDragOver:wt,onDragLeave:_t,onDrop:Er,children:[o.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:Se,className:"hidden",id:"image-file-input"}),M&&u&&E==="image"&&(()=>{const I=P.find(be=>be.id===u);return I?o.jsx("div",{className:"border-b bg-gray-50 p-3",children:o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"font-medium text-gray-900 text-sm",children:I.purpose||I.itemName}),o.jsxs("p",{className:"text-xs text-gray-500 mt-0.5",children:[I.process||"-"," • ",Ce(new Date(I.requestDate),"yyyy.MM.dd",{locale:Qe})]})]}),o.jsxs("p",{className:"text-sm font-bold text-gray-900",children:["₩",(I.amount||0).toLocaleString()]})]})}):null})(),o.jsx("div",{className:"flex-1 overflow-y-auto p-4 relative",onClick:I=>{var ge;const be=I.target;!be.closest("img")&&!be.closest("button")&&u&&(ae[u]||[]).length>0&&((ge=document.getElementById("image-file-input"))==null||ge.click())},children:u?(()=>{const I=ae[u]||[];return I.length>0?o.jsx("div",{className:"grid grid-cols-1 gap-3",children:I.map((be,ge)=>o.jsxs("div",{className:"relative group border rounded-lg overflow-hidden",children:[o.jsx("img",{src:be,alt:`증빙 ${ge+1}`,className:"w-full h-auto cursor-pointer hover:opacity-90 transition-opacity",onClick:we=>{we.stopPropagation(),Ae(be)}}),o.jsx("button",{onClick:we=>{we.stopPropagation(),ke(ge)},className:"absolute top-2 right-2 p-1.5 bg-red-500 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:o.jsx(rt,{className:"h-4 w-4"})})]},ge))}):o.jsx("label",{htmlFor:"image-file-input",className:"h-full flex items-center justify-center cursor-pointer",children:o.jsxs("div",{className:`w-full h-full min-h-[200px] border-2 border-dashed rounded-lg p-6 text-center transition-colors flex flex-col items-center justify-center ${g?"border-gray-500 bg-gray-50":"border-gray-300 hover:border-gray-400"}`,children:[o.jsx(bv,{className:"h-10 w-10 mx-auto text-gray-400 mb-2"}),o.jsx("p",{className:"text-sm font-medium text-gray-700",children:"클릭하여 선택"}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"또는 이미지를 드래그하거나 Ctrl+V로 붙여넣기"})]})})})():o.jsx("div",{className:"h-full flex items-center justify-center min-h-[200px]",children:o.jsxs("div",{className:"text-center text-gray-400",children:[o.jsx(eo,{className:"h-12 w-12 mx-auto mb-2"}),o.jsx("p",{className:"text-sm",children:"결제요청을 선택하세요"})]})})})]})]}),Y&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"lg:hidden fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:o.jsxs("div",{className:"bg-white rounded-lg w-full max-w-md mx-4 max-h-[80vh] overflow-hidden",children:[o.jsxs("div",{className:"flex items-center justify-between p-3 border-b",children:[o.jsx("h2",{className:"text-base font-bold text-gray-900",children:"공정 선택"}),o.jsx("button",{onClick:()=>J(!1),className:"p-1 hover:bg-gray-100 rounded-full",children:o.jsx(rt,{className:"h-4 w-4 text-gray-500"})})]}),o.jsxs("div",{className:"p-3 overflow-y-auto max-h-[calc(80vh-100px)]",children:[o.jsx("div",{className:"grid grid-cols-2 gap-2 mb-2",children:cN.map(I=>o.jsx("button",{onClick:()=>{k({...D,process:I}),J(!1)},className:`p-2 text-sm text-center border rounded-lg transition-all ${D.process===I?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:border-gray-400 hover:bg-gray-50"}`,children:I},I))}),o.jsx("button",{onClick:()=>{k({...D,process:""}),J(!1)},className:"w-full p-2 text-sm text-center border-2 border-dashed border-gray-300 rounded-lg hover:border-gray-400 hover:bg-gray-50 text-gray-500",children:"선택 안함"})]})]})}),o.jsx("div",{className:"hidden lg:block fixed inset-0 z-40",onClick:()=>J(!1),children:o.jsxs("div",{onClick:I=>I.stopPropagation(),className:"absolute bg-white rounded-lg shadow-xl border border-gray-200",style:{top:G.current?`${G.current.getBoundingClientRect().bottom+window.scrollY+4}px`:"50%",left:G.current?`${G.current.getBoundingClientRect().left+window.scrollX}px`:"50%"},children:[o.jsxs("div",{className:"flex items-center justify-between p-2 border-b",children:[o.jsx("h2",{className:"text-sm font-bold text-gray-900",children:"공정 선택"}),o.jsx("button",{onClick:()=>J(!1),className:"p-1 hover:bg-gray-100 rounded-full",children:o.jsx(rt,{className:"h-3 w-3 text-gray-500"})})]}),o.jsxs("div",{className:"p-2",children:[o.jsx("div",{className:"grid grid-cols-4 gap-1.5 mb-2",children:cN.map(I=>o.jsx("button",{onClick:()=>{k({...D,process:I}),J(!1)},className:`p-1.5 text-xs text-center border rounded-lg transition-all whitespace-nowrap ${D.process===I?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:border-gray-400 hover:bg-gray-50"}`,children:I},I))}),o.jsx("button",{onClick:()=>{k({...D,process:""}),J(!1)},className:"w-full p-1.5 text-xs text-center border-2 border-dashed border-gray-300 rounded-lg hover:border-gray-400 hover:bg-gray-50 text-gray-500",children:"선택 안함"})]})]})})]}),x&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-90",onClick:()=>b(!1),children:o.jsxs("div",{className:"relative max-w-[90vw] max-h-[90vh]",children:[o.jsx("button",{onClick:I=>{I.stopPropagation(),b(!1)},className:"absolute -top-10 right-0 text-white hover:text-gray-300 transition-colors",children:o.jsx(rt,{className:"h-8 w-8"})}),o.jsx("img",{src:_,alt:"원본 이미지",className:"max-w-full max-h-[90vh] object-contain",onClick:I=>I.stopPropagation()})]})})]})},ose=()=>{const[e,t]=N.useState([]),[r,n]=N.useState(null),[s,a]=N.useState(!0),[i,l]=N.useState(0);N.useEffect(()=>{c()},[]);const c=async()=>{try{a(!0);const g=await Pe.get("/quote-inquiries");t(g.data);const m=g.data.filter(p=>!p.isContacted).length;l(m)}catch(g){console.error("Failed to load inquiries:",g),ne.error("견적문의를 불러오는데 실패했습니다")}finally{a(!1)}},u=async g=>{try{await Pe.put(`/quote-inquiries/${g}/read`),t(m=>m.map(p=>p.id===g?{...p,isRead:!0}:p))}catch(m){console.error("Failed to mark as read:",m)}},d=async g=>{try{const m=await Pe.put(`/quote-inquiries/${g}/contacted`),p=m.data.isContacted;t(w=>{const y=w.map(x=>x.id===g?{...x,isContacted:p}:x),v=y.filter(x=>!x.isContacted).length;return l(v),y}),(r==null?void 0:r.id)===g&&n(w=>w?{...w,isContacted:p}:null),ne.success(m.data.message)}catch(m){console.error("Failed to toggle contacted status:",m),ne.error("연락 상태 변경에 실패했습니다")}},f=g=>{n(g),g.isRead||u(g.id)},h=e.filter(g=>!g.isRead).length;return s?o.jsx("div",{className:"flex items-center justify-center h-full",children:o.jsx("div",{className:"text-gray-500",children:"로딩 중..."})}):o.jsxs("div",{className:"h-full flex flex-col md:flex-row gap-4 p-4",children:[o.jsxs("div",{className:"w-full md:w-1/3 bg-white rounded-lg shadow overflow-hidden flex flex-col",children:[o.jsx("div",{className:"p-4 border-b bg-gray-50",children:o.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:["견적문의 목록",h>0&&o.jsxs("span",{className:"px-2 py-1 text-xs bg-red-500 text-white rounded-full",children:["새 ",h]}),i>0&&o.jsxs("span",{className:"px-2 py-1 text-xs bg-yellow-500 text-white rounded-full",children:["미연락 ",i]})]})}),o.jsx("div",{className:"flex-1 overflow-y-auto",children:e.length===0?o.jsx("div",{className:"p-4 text-center text-gray-500",children:"접수된 견적문의가 없습니다"}):o.jsx("div",{className:"divide-y",children:e.map(g=>o.jsxs("button",{onClick:()=>f(g),className:`w-full p-4 text-left hover:bg-gray-50 transition-colors ${(r==null?void 0:r.id)===g.id?"bg-blue-50 border-l-4 border-blue-500":""} ${g.isRead?"":"bg-yellow-50"}`,children:[o.jsxs("div",{className:"flex justify-between items-start mb-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"font-medium text-gray-900",children:g.name}),!g.isRead&&o.jsx("span",{className:"w-2 h-2 bg-red-500 rounded-full"}),!g.isContacted&&o.jsx("span",{className:"px-1.5 py-0.5 text-xs bg-yellow-100 text-yellow-800 rounded font-medium",children:"N"})]}),o.jsx("span",{className:"text-xs text-gray-500",children:Ce(new Date(g.createdAt),"MM/dd HH:mm")})]}),o.jsxs("div",{className:"text-sm text-gray-600 flex items-center gap-1 mb-1",children:[o.jsx(Wb,{className:"w-3 h-3"}),g.phone]}),o.jsx("div",{className:"text-sm text-gray-500 line-clamp-2",children:g.message})]},g.id))})})]}),o.jsx("div",{className:"flex-1 bg-white rounded-lg shadow overflow-hidden",children:r?o.jsxs("div",{className:"h-full flex flex-col",children:[o.jsx("div",{className:"p-6 border-b bg-gray-50",children:o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:r.name}),o.jsx("div",{className:"text-sm text-gray-500",children:Ce(new Date(r.createdAt),"yyyy년 MM월 dd일 HH:mm")})]}),o.jsx("button",{onClick:()=>d(r.id),className:`px-4 py-2 rounded-lg font-medium transition-colors ${r.isContacted?"bg-green-100 text-green-700 hover:bg-green-200":"bg-yellow-100 text-yellow-700 hover:bg-yellow-200"}`,children:r.isContacted?"✓ 연락완료":"연락대기"})]})}),o.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsxs("h4",{className:"font-medium text-gray-900 flex items-center gap-2",children:[o.jsx(qR,{className:"w-4 h-4"}),"연락처 정보"]}),o.jsxs("div",{className:"pl-6 space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[o.jsx(Wb,{className:"w-4 h-4 text-gray-400"}),o.jsx("span",{children:r.phone})]}),o.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[o.jsx(VR,{className:"w-4 h-4 text-gray-400"}),o.jsx("span",{children:r.email})]}),r.address&&o.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[o.jsx(YR,{className:"w-4 h-4 text-gray-400"}),o.jsx("span",{children:r.address})]})]})]}),(r.projectType||r.budget)&&o.jsxs("div",{className:"space-y-3",children:[o.jsxs("h4",{className:"font-medium text-gray-900 flex items-center gap-2",children:[o.jsx(IR,{className:"w-4 h-4"}),"프로젝트 정보"]}),o.jsxs("div",{className:"pl-6 space-y-2",children:[r.projectType&&o.jsxs("div",{className:"text-gray-700",children:[o.jsx("span",{className:"text-gray-500",children:"공사 종류: "}),r.projectType]}),r.budget&&o.jsxs("div",{className:"text-gray-700",children:[o.jsx("span",{className:"text-gray-500",children:"예산: "}),r.budget]})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("h4",{className:"font-medium text-gray-900",children:"문의 내용"}),o.jsx("div",{className:"pl-6 text-gray-700 whitespace-pre-wrap bg-gray-50 p-4 rounded-lg",children:r.message})]})]})]}):o.jsx("div",{className:"h-full flex items-center justify-center text-gray-500",children:"견적문의를 선택해주세요"})})]})},lse=()=>{const{login:e}=Pa(),[t,r]=N.useState(!1),{register:n,handleSubmit:s,setValue:a,formState:{errors:i}}=qo(),l=async u=>{r(!0);try{await e(u.username,u.password)}finally{r(!1)}},c=u=>{a("username",u),a("password","0109")};return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:o.jsx("div",{className:"max-w-md w-full",children:o.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-8",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"HV LAB"}),o.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"통합 업무 관리 시스템"})]}),o.jsxs("form",{onSubmit:s(l),className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-2",children:"아이디"}),o.jsx("input",{...n("username",{required:"아이디를 입력하세요"}),type:"text",className:"input",placeholder:"아이디를 입력하세요",autoFocus:!0}),i.username&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.username.message})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"비밀번호"}),o.jsx("input",{...n("password",{required:"비밀번호를 입력하세요"}),type:"password",className:"input",placeholder:"••••••••"}),i.password&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.password.message})]}),o.jsx("button",{type:"submit",disabled:t,className:"w-full btn btn-primary flex items-center justify-center",children:t?o.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):o.jsxs(o.Fragment,{children:[o.jsx(zR,{className:"mr-2 h-5 w-5"}),"로그인"]})})]}),o.jsxs("div",{className:"mt-6 border-t pt-6",children:[o.jsx("p",{className:"text-sm text-gray-600 text-center mb-4",children:"빠른 로그인"}),o.jsx("div",{className:"grid grid-cols-3 gap-2",children:["상준","신애","재천","민기","재성","재현"].map(u=>o.jsx("button",{onClick:()=>c(u),className:"px-3 py-2 text-sm bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",type:"button",children:u},u))})]})]})})})},cse=e=>{try{const t=window.AudioContext||window.webkitAudioContext,r=new t,n=e==="emergency"?5:3;let s=0;const a=()=>{if(s>=n)return;const i=r.createOscillator(),l=r.createGain();i.connect(l),l.connect(r.destination),i.frequency.value=e==="emergency"?1e3:800,i.type="sine",l.gain.setValueAtTime(.3,r.currentTime),l.gain.exponentialRampToValueAtTime(.01,r.currentTime+.5),i.start(r.currentTime),i.stop(r.currentTime+.5),s++,s<n&&setTimeout(a,700)};a()}catch(t){console.error("알림음 재생 실패:",t)}},use=e=>{if("vibrate"in navigator){const t=e==="emergency"?[200,200,200,200,200,200,200,200,200,200]:[200,200,200,200,200,200];navigator.vibrate(t)}},dse=(e,t)=>{cse(e),use(e),"Notification"in window&&Notification.permission==="granted"&&new Notification("긴급 결제 요청",{body:t,icon:"/icon-192x192.png",badge:"/icon-192x192.png",tag:"urgent-payment",requireInteraction:!0})},fse=async()=>"Notification"in window&&Notification.permission==="default"?await Notification.requestPermission()==="granted":Notification.permission==="granted",hse=new bO({defaultOptions:{queries:{staleTime:1e3*60*5,refetchOnWindowFocus:!1}}});function mse(){return N.useEffect(()=>{fse();const e=window.location.origin,t=Td(e,{transports:["websocket","polling"]});return t.on("connect",()=>{console.log("🔌 Socket.IO 연결됨")}),t.on("urgent-payment",r=>{console.log("🚨 긴급 결제 알림 수신:",r);const n=`${r.project} 프로젝트에서 ${r.amount.toLocaleString()}원 결제 요청`;dse(r.urgency,n)}),t.on("disconnect",()=>{console.log("🔌 Socket.IO 연결 해제됨")}),()=>{t.disconnect()}},[]),o.jsx(NO,{client:hse,children:o.jsx(WA,{children:o.jsxs(OR,{children:[o.jsxs(yA,{children:[o.jsx(ar,{path:"/login",element:o.jsx(lse,{})}),o.jsxs(ar,{path:"/",element:o.jsx(kI,{}),children:[o.jsx(ar,{index:!0,element:o.jsx(mA,{to:"/dashboard",replace:!0})}),o.jsx(ar,{path:"dashboard",element:o.jsx(QI,{})}),o.jsx(ar,{path:"projects",element:o.jsx(nF,{})}),o.jsx(ar,{path:"schedule",element:o.jsx(Gne,{})}),o.jsx(ar,{path:"after-service",element:o.jsx(Jne,{})}),o.jsx(ar,{path:"additional-work",element:o.jsx(ese,{})}),o.jsx(ar,{path:"construction-payment",element:o.jsx(tse,{})}),o.jsx(ar,{path:"contractors",element:o.jsx(rse,{})}),o.jsx(ar,{path:"work-request",element:o.jsx(sse,{})}),o.jsx(ar,{path:"execution-history",element:o.jsx(ase,{})}),o.jsx(ar,{path:"payments",element:o.jsx(ise,{})}),o.jsx(ar,{path:"quote-inquiry",element:o.jsx(ose,{})})]})]}),o.jsx(uM,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#fff",color:"#363636",border:"1px solid #e5e5e5"}}})]})})})}"serviceWorker"in navigator&&navigator.serviceWorker.getRegistrations().then(function(e){for(const t of e)t.update()});Oj(document.getElementById("root")).render(o.jsx(N.StrictMode,{children:o.jsx(mse,{})}))});export default pse();
