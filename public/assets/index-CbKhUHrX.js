var Nc=Object.defineProperty;var bc=(s,n,t)=>n in s?Nc(s,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[n]=t;var po=(s,n,t)=>bc(s,typeof n!="symbol"?n+"":n,t);import{r as l,b as Vn,u as Bm,d as xc,N as mi,e as ji,O as yc,R as rt,f as dr,g as hc,B as kc,h as vc,i as qt}from"./vendor-react-DN7YJcfR.js";import{a as Dc,c as Um,Q as Vc,b as Cc}from"./vendor-data-CKbp7GnA.js";import{B as Li,X as ft,C as Ea,T as Vt,a as Ec,b as En,W as Ac,c as wc,d as Gt,P as _s,R as _c,e as Sm,S as Xr,f as jc,g as Lc,h as Pm,A as fo,i as Hc,j as un,F as go,k as No,l as bo,M as Bc,U as Ls,m as Uc,n as Jr,I as As,o as xo,p as yo,q as rr,r as ho,s as ko,t as Sc,u as Rm,D as Pc,v as Rc,E as Mc,w as Ic,x as vo,y as Tc,z as Fc,G as Wc,H as qc,L as Oc}from"./vendor-ui-ChgtIPdl.js";import{k as Hi,l as Mn,m as In,n as $c,o as zc,p as Le,q as Yc,r as Do,s as Kc,t as lt}from"./vendor-date-DbWJ9m7c.js";import{c as Xc,p as Mm,l as li,s as bs,i as Jc,h as Gc,q as Aa,a as wa,m as _a,b as Qc,d as di,o as Gr,e as Zc,f as Qr,r as ja,g as La,j as Ha,k as Ba,n as Ua,t as Im,u as Tm,v as Fm,w as Wm,x as qm,y as Om,z as $m,A as zm,B as Ym,C as Km,D as Xm,E as Jm,F as eu,G as tu,H as su,I as nu,J as ru,K as iu,L as au}from"./vendor-calendar-DjAQlTCo.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();var Gm={exports:{}},Ki={};/**
 * @license React
 * react-jsx-dev-runtime.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){var s=l,n=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),m=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.suspense_list"),g=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),p=Symbol.for("react.offscreen"),w=Symbol.iterator,k="@@iterator";function j(v){if(v===null||typeof v!="object")return null;var se=w&&v[w]||v[k];return typeof se=="function"?se:null}var B=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function y(v){{for(var se=arguments.length,ce=new Array(se>1?se-1:0),Ae=1;Ae<se;Ae++)ce[Ae-1]=arguments[Ae];O("error",v,ce)}}function O(v,se,ce){{var Ae=B.ReactDebugCurrentFrame,Ie=Ae.getStackAddendum();Ie!==""&&(se+="%s",ce=ce.concat([Ie]));var Ye=ce.map(function(Ge){return String(Ge)});Ye.unshift("Warning: "+se),Function.prototype.apply.call(console[v],console,Ye)}}var ge=!1,ee=!1,Y=!1,de=!1,T=!1,oe;oe=Symbol.for("react.module.reference");function re(v){return!!(typeof v=="string"||typeof v=="function"||v===r||v===a||T||v===i||v===c||v===u||de||v===p||ge||ee||Y||typeof v=="object"&&v!==null&&(v.$$typeof===b||v.$$typeof===g||v.$$typeof===o||v.$$typeof===m||v.$$typeof===d||v.$$typeof===oe||v.getModuleId!==void 0))}function Z(v,se,ce){var Ae=v.displayName;if(Ae)return Ae;var Ie=se.displayName||se.name||"";return Ie!==""?ce+"("+Ie+")":ce}function X(v){return v.displayName||"Context"}function be(v){if(v==null)return null;if(typeof v.tag=="number"&&y("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof v=="function")return v.displayName||v.name||null;if(typeof v=="string")return v;switch(v){case r:return"Fragment";case t:return"Portal";case a:return"Profiler";case i:return"StrictMode";case c:return"Suspense";case u:return"SuspenseList"}if(typeof v=="object")switch(v.$$typeof){case m:var se=v;return X(se)+".Consumer";case o:var ce=v;return X(ce._context)+".Provider";case d:return Z(v,v.render,"ForwardRef");case g:var Ae=v.displayName||null;return Ae!==null?Ae:be(v.type)||"Memo";case b:{var Ie=v,Ye=Ie._payload,Ge=Ie._init;try{return be(Ge(Ye))}catch{return null}}}return null}var we=Object.assign,Me=0,Ve,Ee,_e,Ue,Oe,fe,He;function De(){}De.__reactDisabledLog=!0;function Be(){{if(Me===0){Ve=console.log,Ee=console.info,_e=console.warn,Ue=console.error,Oe=console.group,fe=console.groupCollapsed,He=console.groupEnd;var v={configurable:!0,enumerable:!0,value:De,writable:!0};Object.defineProperties(console,{info:v,log:v,warn:v,error:v,group:v,groupCollapsed:v,groupEnd:v})}Me++}}function Re(){{if(Me--,Me===0){var v={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:we({},v,{value:Ve}),info:we({},v,{value:Ee}),warn:we({},v,{value:_e}),error:we({},v,{value:Ue}),group:we({},v,{value:Oe}),groupCollapsed:we({},v,{value:fe}),groupEnd:we({},v,{value:He})})}Me<0&&y("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var Ke=B.ReactCurrentDispatcher,ze;function qe(v,se,ce){{if(ze===void 0)try{throw Error()}catch(Ie){var Ae=Ie.stack.trim().match(/\n( *(at )?)/);ze=Ae&&Ae[1]||""}return`
`+ze+v}}var S=!1,ue;{var xe=typeof WeakMap=="function"?WeakMap:Map;ue=new xe}function te(v,se){if(!v||S)return"";{var ce=ue.get(v);if(ce!==void 0)return ce}var Ae;S=!0;var Ie=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var Ye;Ye=Ke.current,Ke.current=null,Be();try{if(se){var Ge=function(){throw Error()};if(Object.defineProperty(Ge.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ge,[])}catch(Je){Ae=Je}Reflect.construct(v,[],Ge)}else{try{Ge.call()}catch(Je){Ae=Je}v.call(Ge.prototype)}}else{try{throw Error()}catch(Je){Ae=Je}v()}}catch(Je){if(Je&&Ae&&typeof Je.stack=="string"){for(var nt=Je.stack.split(`
`),Xe=Ae.stack.split(`
`),st=nt.length-1,F=Xe.length-1;st>=1&&F>=0&&nt[st]!==Xe[F];)F--;for(;st>=1&&F>=0;st--,F--)if(nt[st]!==Xe[F]){if(st!==1||F!==1)do if(st--,F--,F<0||nt[st]!==Xe[F]){var me=`
`+nt[st].replace(" at new "," at ");return v.displayName&&me.includes("<anonymous>")&&(me=me.replace("<anonymous>",v.displayName)),typeof v=="function"&&ue.set(v,me),me}while(st>=1&&F>=0);break}}}finally{S=!1,Ke.current=Ye,Re(),Error.prepareStackTrace=Ie}var We=v?v.displayName||v.name:"",tt=We?qe(We):"";return typeof v=="function"&&ue.set(v,tt),tt}function q(v,se,ce){return te(v,!1)}function G(v){var se=v.prototype;return!!(se&&se.isReactComponent)}function z(v,se,ce){if(v==null)return"";if(typeof v=="function")return te(v,G(v));if(typeof v=="string")return qe(v);switch(v){case c:return qe("Suspense");case u:return qe("SuspenseList")}if(typeof v=="object")switch(v.$$typeof){case d:return q(v.render);case g:return z(v.type,se,ce);case b:{var Ae=v,Ie=Ae._payload,Ye=Ae._init;try{return z(Ye(Ie),se,ce)}catch{}}}return""}var ye=Object.prototype.hasOwnProperty,Se={},I=B.ReactDebugCurrentFrame;function ae(v){if(v){var se=v._owner,ce=z(v.type,v._source,se?se.type:null);I.setExtraStackFrame(ce)}else I.setExtraStackFrame(null)}function E(v,se,ce,Ae,Ie){{var Ye=Function.call.bind(ye);for(var Ge in v)if(Ye(v,Ge)){var nt=void 0;try{if(typeof v[Ge]!="function"){var Xe=Error((Ae||"React class")+": "+ce+" type `"+Ge+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof v[Ge]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw Xe.name="Invariant Violation",Xe}nt=v[Ge](se,Ge,Ae,ce,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(st){nt=st}nt&&!(nt instanceof Error)&&(ae(Ie),y("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",Ae||"React class",ce,Ge,typeof nt),ae(null)),nt instanceof Error&&!(nt.message in Se)&&(Se[nt.message]=!0,ae(Ie),y("Failed %s type: %s",ce,nt.message),ae(null))}}}var W=Array.isArray;function J(v){return W(v)}function pe(v){{var se=typeof Symbol=="function"&&Symbol.toStringTag,ce=se&&v[Symbol.toStringTag]||v.constructor.name||"Object";return ce}}function ve(v){try{return P(v),!1}catch{return!0}}function P(v){return""+v}function C(v){if(ve(v))return y("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",pe(v)),P(v)}var L=B.ReactCurrentOwner,f={key:!0,ref:!0,__self:!0,__source:!0},V,h,M;M={};function ke(v){if(ye.call(v,"ref")){var se=Object.getOwnPropertyDescriptor(v,"ref").get;if(se&&se.isReactWarning)return!1}return v.ref!==void 0}function Ce(v){if(ye.call(v,"key")){var se=Object.getOwnPropertyDescriptor(v,"key").get;if(se&&se.isReactWarning)return!1}return v.key!==void 0}function Te(v,se){if(typeof v.ref=="string"&&L.current&&se&&L.current.stateNode!==se){var ce=be(L.current.type);M[ce]||(y('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',be(L.current.type),v.ref),M[ce]=!0)}}function Fe(v,se){{var ce=function(){V||(V=!0,y("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",se))};ce.isReactWarning=!0,Object.defineProperty(v,"key",{get:ce,configurable:!0})}}function at(v,se){{var ce=function(){h||(h=!0,y("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",se))};ce.isReactWarning=!0,Object.defineProperty(v,"ref",{get:ce,configurable:!0})}}var et=function(v,se,ce,Ae,Ie,Ye,Ge){var nt={$$typeof:n,type:v,key:se,ref:ce,props:Ge,_owner:Ye};return nt._store={},Object.defineProperty(nt._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(nt,"_self",{configurable:!1,enumerable:!1,writable:!1,value:Ae}),Object.defineProperty(nt,"_source",{configurable:!1,enumerable:!1,writable:!1,value:Ie}),Object.freeze&&(Object.freeze(nt.props),Object.freeze(nt)),nt};function Ze(v,se,ce,Ae,Ie){{var Ye,Ge={},nt=null,Xe=null;ce!==void 0&&(C(ce),nt=""+ce),Ce(se)&&(C(se.key),nt=""+se.key),ke(se)&&(Xe=se.ref,Te(se,Ie));for(Ye in se)ye.call(se,Ye)&&!f.hasOwnProperty(Ye)&&(Ge[Ye]=se[Ye]);if(v&&v.defaultProps){var st=v.defaultProps;for(Ye in st)Ge[Ye]===void 0&&(Ge[Ye]=st[Ye])}if(nt||Xe){var F=typeof v=="function"?v.displayName||v.name||"Unknown":v;nt&&Fe(Ge,F),Xe&&at(Ge,F)}return et(v,nt,Xe,Ie,Ae,L.current,Ge)}}var ct=B.ReactCurrentOwner,Nt=B.ReactDebugCurrentFrame;function ut(v){if(v){var se=v._owner,ce=z(v.type,v._source,se?se.type:null);Nt.setExtraStackFrame(ce)}else Nt.setExtraStackFrame(null)}var pt;pt=!1;function dt(v){return typeof v=="object"&&v!==null&&v.$$typeof===n}function bt(){{if(ct.current){var v=be(ct.current.type);if(v)return`

Check the render method of \``+v+"`."}return""}}function Ct(v){{if(v!==void 0){var se=v.fileName.replace(/^.*[\\\/]/,""),ce=v.lineNumber;return`

Check your code at `+se+":"+ce+"."}return""}}var vt={};function A(v){{var se=bt();if(!se){var ce=typeof v=="string"?v:v.displayName||v.name;ce&&(se=`

Check the top-level render call using <`+ce+">.")}return se}}function Q(v,se){{if(!v._store||v._store.validated||v.key!=null)return;v._store.validated=!0;var ce=A(se);if(vt[ce])return;vt[ce]=!0;var Ae="";v&&v._owner&&v._owner!==ct.current&&(Ae=" It was passed a child from "+be(v._owner.type)+"."),ut(v),y('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',ce,Ae),ut(null)}}function N(v,se){{if(typeof v!="object")return;if(J(v))for(var ce=0;ce<v.length;ce++){var Ae=v[ce];dt(Ae)&&Q(Ae,se)}else if(dt(v))v._store&&(v._store.validated=!0);else if(v){var Ie=j(v);if(typeof Ie=="function"&&Ie!==v.entries)for(var Ye=Ie.call(v),Ge;!(Ge=Ye.next()).done;)dt(Ge.value)&&Q(Ge.value,se)}}}function _(v){{var se=v.type;if(se==null||typeof se=="string")return;var ce;if(typeof se=="function")ce=se.propTypes;else if(typeof se=="object"&&(se.$$typeof===d||se.$$typeof===g))ce=se.propTypes;else return;if(ce){var Ae=be(se);E(ce,v.props,"prop",Ae,v)}else if(se.PropTypes!==void 0&&!pt){pt=!0;var Ie=be(se);y("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",Ie||"Unknown")}typeof se.getDefaultProps=="function"&&!se.getDefaultProps.isReactClassApproved&&y("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function H(v){{for(var se=Object.keys(v.props),ce=0;ce<se.length;ce++){var Ae=se[ce];if(Ae!=="children"&&Ae!=="key"){ut(v),y("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",Ae),ut(null);break}}v.ref!==null&&(ut(v),y("Invalid attribute `ref` supplied to `React.Fragment`."),ut(null))}}var K={};function $(v,se,ce,Ae,Ie,Ye){{var Ge=re(v);if(!Ge){var nt="";(v===void 0||typeof v=="object"&&v!==null&&Object.keys(v).length===0)&&(nt+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var Xe=Ct(Ie);Xe?nt+=Xe:nt+=bt();var st;v===null?st="null":J(v)?st="array":v!==void 0&&v.$$typeof===n?(st="<"+(be(v.type)||"Unknown")+" />",nt=" Did you accidentally export a JSX literal instead of a component?"):st=typeof v,y("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",st,nt)}var F=Ze(v,se,ce,Ie,Ye);if(F==null)return F;if(Ge){var me=se.children;if(me!==void 0)if(Ae)if(J(me)){for(var We=0;We<me.length;We++)N(me[We],v);Object.freeze&&Object.freeze(me)}else y("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else N(me,v)}if(ye.call(se,"key")){var tt=be(v),Je=Object.keys(se).filter(function(At){return At!=="key"}),ot=Je.length>0?"{key: someKey, "+Je.join(": ..., ")+": ...}":"{key: someKey}";if(!K[tt+ot]){var Et=Je.length>0?"{"+Je.join(": ..., ")+": ...}":"{}";y(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,ot,tt,Et,tt),K[tt+ot]=!0}}return v===r?H(F):_(F),F}}var Ne=$;Ki.Fragment=r,Ki.jsxDEV=Ne})();Gm.exports=Ki;var e=Gm.exports,Qm,Vo=Vn;{var Co=Vo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;Qm=function(s,n){Co.usingClientEntryPoint=!0;try{return Vo.createRoot(s,n)}finally{Co.usingClientEntryPoint=!1}}}let ou={data:""},mu=s=>{if(typeof window=="object"){let n=(s?s.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return n.nonce=window.__nonce__,n.parentNode||(s||document.head).appendChild(n),n.firstChild}return s||ou},lu=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,du=/\/\*[^]*?\*\/|  +/g,Eo=/\n+/g,Xs=(s,n)=>{let t="",r="",i="";for(let a in s){let o=s[a];a[0]=="@"?a[1]=="i"?t=a+" "+o+";":r+=a[1]=="f"?Xs(o,a):a+"{"+Xs(o,a[1]=="k"?"":n)+"}":typeof o=="object"?r+=Xs(o,n?n.replace(/([^,])+/g,m=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,d=>/&/.test(d)?d.replace(/&/g,m):m?m+" "+d:d)):a):o!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Xs.p?Xs.p(a,o):a+":"+o+";")}return t+(n&&i?n+"{"+i+"}":i)+r},Ps={},Zm=s=>{if(typeof s=="object"){let n="";for(let t in s)n+=t+Zm(s[t]);return n}return s},cu=(s,n,t,r,i)=>{let a=Zm(s),o=Ps[a]||(Ps[a]=(d=>{let c=0,u=11;for(;c<d.length;)u=101*u+d.charCodeAt(c++)>>>0;return"go"+u})(a));if(!Ps[o]){let d=a!==s?s:(c=>{let u,g,b=[{}];for(;u=lu.exec(c.replace(du,""));)u[4]?b.shift():u[3]?(g=u[3].replace(Eo," ").trim(),b.unshift(b[0][g]=b[0][g]||{})):b[0][u[1]]=u[2].replace(Eo," ").trim();return b[0]})(s);Ps[o]=Xs(i?{["@keyframes "+o]:d}:d,t?"":"."+o)}let m=t&&Ps.g?Ps.g:null;return t&&(Ps.g=Ps[o]),((d,c,u,g)=>{g?c.data=c.data.replace(g,d):c.data.indexOf(d)===-1&&(c.data=u?d+c.data:c.data+d)})(Ps[o],n,r,m),o},uu=(s,n,t)=>s.reduce((r,i,a)=>{let o=n[a];if(o&&o.call){let m=o(t),d=m&&m.props&&m.props.className||/^go/.test(m)&&m;o=d?"."+d:m&&typeof m=="object"?m.props?"":Xs(m,""):m===!1?"":m}return r+i+(o??"")},"");function ci(s){let n=this||{},t=s.call?s(n.p):s;return cu(t.unshift?t.raw?uu(t,[].slice.call(arguments,1),n.p):t.reduce((r,i)=>Object.assign(r,i&&i.call?i(n.p):i),{}):t,mu(n.target),n.g,n.o,n.k)}let el,Xi,Ji;ci.bind({g:1});let Ts=ci.bind({k:1});function pu(s,n,t,r){Xs.p=n,el=s,Xi=t,Ji=r}function Zs(s,n){let t=this||{};return function(){let r=arguments;function i(a,o){let m=Object.assign({},a),d=m.className||i.className;t.p=Object.assign({theme:Xi&&Xi()},m),t.o=/ *go\d+/.test(d),m.className=ci.apply(t,r)+(d?" "+d:"");let c=s;return s[0]&&(c=m.as||s,delete m.as),Ji&&c[0]&&Ji(m),el(c,m)}return i}}var fu=s=>typeof s=="function",Zr=(s,n)=>fu(s)?s(n):s,gu=(()=>{let s=0;return()=>(++s).toString()})(),tl=(()=>{let s;return()=>{if(s===void 0&&typeof window<"u"){let n=matchMedia("(prefers-reduced-motion: reduce)");s=!n||n.matches}return s}})(),Nu=20,Sa="default",sl=(s,n)=>{let{toastLimit:t}=s.settings;switch(n.type){case 0:return{...s,toasts:[n.toast,...s.toasts].slice(0,t)};case 1:return{...s,toasts:s.toasts.map(o=>o.id===n.toast.id?{...o,...n.toast}:o)};case 2:let{toast:r}=n;return sl(s,{type:s.toasts.find(o=>o.id===r.id)?1:0,toast:r});case 3:let{toastId:i}=n;return{...s,toasts:s.toasts.map(o=>o.id===i||i===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return n.toastId===void 0?{...s,toasts:[]}:{...s,toasts:s.toasts.filter(o=>o.id!==n.toastId)};case 5:return{...s,pausedAt:n.time};case 6:let a=n.time-(s.pausedAt||0);return{...s,pausedAt:void 0,toasts:s.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+a}))}}},Tr=[],nl={toasts:[],pausedAt:void 0,settings:{toastLimit:Nu}},ws={},rl=(s,n=Sa)=>{ws[n]=sl(ws[n]||nl,s),Tr.forEach(([t,r])=>{t===n&&r(ws[n])})},il=s=>Object.keys(ws).forEach(n=>rl(s,n)),bu=s=>Object.keys(ws).find(n=>ws[n].toasts.some(t=>t.id===s)),ui=(s=Sa)=>n=>{rl(n,s)},xu={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},yu=(s={},n=Sa)=>{let[t,r]=l.useState(ws[n]||nl),i=l.useRef(ws[n]);l.useEffect(()=>(i.current!==ws[n]&&r(ws[n]),Tr.push([n,r]),()=>{let o=Tr.findIndex(([m])=>m===n);o>-1&&Tr.splice(o,1)}),[n]);let a=t.toasts.map(o=>{var m,d,c;return{...s,...s[o.type],...o,removeDelay:o.removeDelay||((m=s[o.type])==null?void 0:m.removeDelay)||(s==null?void 0:s.removeDelay),duration:o.duration||((d=s[o.type])==null?void 0:d.duration)||(s==null?void 0:s.duration)||xu[o.type],style:{...s.style,...(c=s[o.type])==null?void 0:c.style,...o.style}}});return{...t,toasts:a}},hu=(s,n="blank",t)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:n,ariaProps:{role:"status","aria-live":"polite"},message:s,pauseDuration:0,...t,id:(t==null?void 0:t.id)||gu()}),cr=s=>(n,t)=>{let r=hu(n,s,t);return ui(r.toasterId||bu(r.id))({type:2,toast:r}),r.id},$t=(s,n)=>cr("blank")(s,n);$t.error=cr("error");$t.success=cr("success");$t.loading=cr("loading");$t.custom=cr("custom");$t.dismiss=(s,n)=>{let t={type:3,toastId:s};n?ui(n)(t):il(t)};$t.dismissAll=s=>$t.dismiss(void 0,s);$t.remove=(s,n)=>{let t={type:4,toastId:s};n?ui(n)(t):il(t)};$t.removeAll=s=>$t.remove(void 0,s);$t.promise=(s,n,t)=>{let r=$t.loading(n.loading,{...t,...t==null?void 0:t.loading});return typeof s=="function"&&(s=s()),s.then(i=>{let a=n.success?Zr(n.success,i):void 0;return a?$t.success(a,{id:r,...t,...t==null?void 0:t.success}):$t.dismiss(r),i}).catch(i=>{let a=n.error?Zr(n.error,i):void 0;a?$t.error(a,{id:r,...t,...t==null?void 0:t.error}):$t.dismiss(r)}),s};var ku=1e3,vu=(s,n="default")=>{let{toasts:t,pausedAt:r}=yu(s,n),i=l.useRef(new Map).current,a=l.useCallback((g,b=ku)=>{if(i.has(g))return;let p=setTimeout(()=>{i.delete(g),o({type:4,toastId:g})},b);i.set(g,p)},[]);l.useEffect(()=>{if(r)return;let g=Date.now(),b=t.map(p=>{if(p.duration===1/0)return;let w=(p.duration||0)+p.pauseDuration-(g-p.createdAt);if(w<0){p.visible&&$t.dismiss(p.id);return}return setTimeout(()=>$t.dismiss(p.id,n),w)});return()=>{b.forEach(p=>p&&clearTimeout(p))}},[t,r,n]);let o=l.useCallback(ui(n),[n]),m=l.useCallback(()=>{o({type:5,time:Date.now()})},[o]),d=l.useCallback((g,b)=>{o({type:1,toast:{id:g,height:b}})},[o]),c=l.useCallback(()=>{r&&o({type:6,time:Date.now()})},[r,o]),u=l.useCallback((g,b)=>{let{reverseOrder:p=!1,gutter:w=8,defaultPosition:k}=b||{},j=t.filter(O=>(O.position||k)===(g.position||k)&&O.height),B=j.findIndex(O=>O.id===g.id),y=j.filter((O,ge)=>ge<B&&O.visible).length;return j.filter(O=>O.visible).slice(...p?[y+1]:[0,y]).reduce((O,ge)=>O+(ge.height||0)+w,0)},[t]);return l.useEffect(()=>{t.forEach(g=>{if(g.dismissed)a(g.id,g.removeDelay);else{let b=i.get(g.id);b&&(clearTimeout(b),i.delete(g.id))}})},[t,a]),{toasts:t,handlers:{updateHeight:d,startPause:m,endPause:c,calculateOffset:u}}},Du=Ts`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Vu=Ts`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Cu=Ts`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Eu=Zs("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${s=>s.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Du} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Vu} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${s=>s.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Cu} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Au=Ts`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,wu=Zs("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${s=>s.secondary||"#e0e0e0"};
  border-right-color: ${s=>s.primary||"#616161"};
  animation: ${Au} 1s linear infinite;
`,_u=Ts`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,ju=Ts`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Lu=Zs("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${s=>s.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${_u} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${ju} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${s=>s.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Hu=Zs("div")`
  position: absolute;
`,Bu=Zs("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Uu=Ts`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Su=Zs("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Uu} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Pu=({toast:s})=>{let{icon:n,type:t,iconTheme:r}=s;return n!==void 0?typeof n=="string"?l.createElement(Su,null,n):n:t==="blank"?null:l.createElement(Bu,null,l.createElement(wu,{...r}),t!=="loading"&&l.createElement(Hu,null,t==="error"?l.createElement(Eu,{...r}):l.createElement(Lu,{...r})))},Ru=s=>`
0% {transform: translate3d(0,${s*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Mu=s=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${s*-150}%,-1px) scale(.6); opacity:0;}
`,Iu="0%{opacity:0;} 100%{opacity:1;}",Tu="0%{opacity:1;} 100%{opacity:0;}",Fu=Zs("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Wu=Zs("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,qu=(s,n)=>{let t=s.includes("top")?1:-1,[r,i]=tl()?[Iu,Tu]:[Ru(t),Mu(t)];return{animation:n?`${Ts(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Ts(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Ou=l.memo(({toast:s,position:n,style:t,children:r})=>{let i=s.height?qu(s.position||n||"top-center",s.visible):{opacity:0},a=l.createElement(Pu,{toast:s}),o=l.createElement(Wu,{...s.ariaProps},Zr(s.message,s));return l.createElement(Fu,{className:s.className,style:{...i,...t,...s.style}},typeof r=="function"?r({icon:a,message:o}):l.createElement(l.Fragment,null,a,o))});pu(l.createElement);var $u=({id:s,className:n,style:t,onHeightUpdate:r,children:i})=>{let a=l.useCallback(o=>{if(o){let m=()=>{let d=o.getBoundingClientRect().height;r(s,d)};m(),new MutationObserver(m).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[s,r]);return l.createElement("div",{ref:a,className:n,style:t},i)},zu=(s,n)=>{let t=s.includes("top"),r=t?{top:0}:{bottom:0},i=s.includes("center")?{justifyContent:"center"}:s.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:tl()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${n*(t?1:-1)}px)`,...r,...i}},Yu=ci`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,yr=16,Ku=({reverseOrder:s,position:n="top-center",toastOptions:t,gutter:r,children:i,toasterId:a,containerStyle:o,containerClassName:m})=>{let{toasts:d,handlers:c}=vu(t,a);return l.createElement("div",{"data-rht-toaster":a||"",style:{position:"fixed",zIndex:9999,top:yr,left:yr,right:yr,bottom:yr,pointerEvents:"none",...o},className:m,onMouseEnter:c.startPause,onMouseLeave:c.endPause},d.map(u=>{let g=u.position||n,b=c.calculateOffset(u,{reverseOrder:s,gutter:r,defaultPosition:n}),p=zu(g,b);return l.createElement($u,{id:u.id,key:u.id,onHeightUpdate:c.updateHeight,className:u.visible?Yu:"",style:p},u.type==="custom"?Zr(u.message,u):i?i(u):l.createElement(Ou,{toast:u,position:g}))}))},R=$t;const Hs=Object.create(null);Hs.open="0";Hs.close="1";Hs.ping="2";Hs.pong="3";Hs.message="4";Hs.upgrade="5";Hs.noop="6";const Fr=Object.create(null);Object.keys(Hs).forEach(s=>{Fr[Hs[s]]=s});const Gi={type:"error",data:"parser error"},al=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",ol=typeof ArrayBuffer=="function",ml=s=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(s):s&&s.buffer instanceof ArrayBuffer,Pa=({type:s,data:n},t,r)=>al&&n instanceof Blob?t?r(n):Ao(n,r):ol&&(n instanceof ArrayBuffer||ml(n))?t?r(n):Ao(new Blob([n]),r):r(Hs[s]+(n||"")),Ao=(s,n)=>{const t=new FileReader;return t.onload=function(){const r=t.result.split(",")[1];n("b"+(r||""))},t.readAsDataURL(s)};function wo(s){return s instanceof Uint8Array?s:s instanceof ArrayBuffer?new Uint8Array(s):new Uint8Array(s.buffer,s.byteOffset,s.byteLength)}let Bi;function Xu(s,n){if(al&&s.data instanceof Blob)return s.data.arrayBuffer().then(wo).then(n);if(ol&&(s.data instanceof ArrayBuffer||ml(s.data)))return n(wo(s.data));Pa(s,!1,t=>{Bi||(Bi=new TextEncoder),n(Bi.encode(t))})}const _o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",zn=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let s=0;s<_o.length;s++)zn[_o.charCodeAt(s)]=s;const Ju=s=>{let n=s.length*.75,t=s.length,r,i=0,a,o,m,d;s[s.length-1]==="="&&(n--,s[s.length-2]==="="&&n--);const c=new ArrayBuffer(n),u=new Uint8Array(c);for(r=0;r<t;r+=4)a=zn[s.charCodeAt(r)],o=zn[s.charCodeAt(r+1)],m=zn[s.charCodeAt(r+2)],d=zn[s.charCodeAt(r+3)],u[i++]=a<<2|o>>4,u[i++]=(o&15)<<4|m>>2,u[i++]=(m&3)<<6|d&63;return c},Gu=typeof ArrayBuffer=="function",Ra=(s,n)=>{if(typeof s!="string")return{type:"message",data:ll(s,n)};const t=s.charAt(0);return t==="b"?{type:"message",data:Qu(s.substring(1),n)}:Fr[t]?s.length>1?{type:Fr[t],data:s.substring(1)}:{type:Fr[t]}:Gi},Qu=(s,n)=>{if(Gu){const t=Ju(s);return ll(t,n)}else return{base64:!0,data:s}},ll=(s,n)=>{switch(n){case"blob":return s instanceof Blob?s:new Blob([s]);case"arraybuffer":default:return s instanceof ArrayBuffer?s:s.buffer}},dl="",Zu=(s,n)=>{const t=s.length,r=new Array(t);let i=0;s.forEach((a,o)=>{Pa(a,!1,m=>{r[o]=m,++i===t&&n(r.join(dl))})})},ep=(s,n)=>{const t=s.split(dl),r=[];for(let i=0;i<t.length;i++){const a=Ra(t[i],n);if(r.push(a),a.type==="error")break}return r};function tp(){return new TransformStream({transform(s,n){Xu(s,t=>{const r=t.length;let i;if(r<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,r);else if(r<65536){i=new Uint8Array(3);const a=new DataView(i.buffer);a.setUint8(0,126),a.setUint16(1,r)}else{i=new Uint8Array(9);const a=new DataView(i.buffer);a.setUint8(0,127),a.setBigUint64(1,BigInt(r))}s.data&&typeof s.data!="string"&&(i[0]|=128),n.enqueue(i),n.enqueue(t)})}})}let Ui;function hr(s){return s.reduce((n,t)=>n+t.length,0)}function kr(s,n){if(s[0].length===n)return s.shift();const t=new Uint8Array(n);let r=0;for(let i=0;i<n;i++)t[i]=s[0][r++],r===s[0].length&&(s.shift(),r=0);return s.length&&r<s[0].length&&(s[0]=s[0].slice(r)),t}function sp(s,n){Ui||(Ui=new TextDecoder);const t=[];let r=0,i=-1,a=!1;return new TransformStream({transform(o,m){for(t.push(o);;){if(r===0){if(hr(t)<1)break;const d=kr(t,1);a=(d[0]&128)===128,i=d[0]&127,i<126?r=3:i===126?r=1:r=2}else if(r===1){if(hr(t)<2)break;const d=kr(t,2);i=new DataView(d.buffer,d.byteOffset,d.length).getUint16(0),r=3}else if(r===2){if(hr(t)<8)break;const d=kr(t,8),c=new DataView(d.buffer,d.byteOffset,d.length),u=c.getUint32(0);if(u>Math.pow(2,21)-1){m.enqueue(Gi);break}i=u*Math.pow(2,32)+c.getUint32(4),r=3}else{if(hr(t)<i)break;const d=kr(t,i);m.enqueue(Ra(a?d:Ui.decode(d),n)),r=0}if(i===0||i>s){m.enqueue(Gi);break}}}})}const cl=4;function Ft(s){if(s)return np(s)}function np(s){for(var n in Ft.prototype)s[n]=Ft.prototype[n];return s}Ft.prototype.on=Ft.prototype.addEventListener=function(s,n){return this._callbacks=this._callbacks||{},(this._callbacks["$"+s]=this._callbacks["$"+s]||[]).push(n),this};Ft.prototype.once=function(s,n){function t(){this.off(s,t),n.apply(this,arguments)}return t.fn=n,this.on(s,t),this};Ft.prototype.off=Ft.prototype.removeListener=Ft.prototype.removeAllListeners=Ft.prototype.removeEventListener=function(s,n){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var t=this._callbacks["$"+s];if(!t)return this;if(arguments.length==1)return delete this._callbacks["$"+s],this;for(var r,i=0;i<t.length;i++)if(r=t[i],r===n||r.fn===n){t.splice(i,1);break}return t.length===0&&delete this._callbacks["$"+s],this};Ft.prototype.emit=function(s){this._callbacks=this._callbacks||{};for(var n=new Array(arguments.length-1),t=this._callbacks["$"+s],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(t){t=t.slice(0);for(var r=0,i=t.length;r<i;++r)t[r].apply(this,n)}return this};Ft.prototype.emitReserved=Ft.prototype.emit;Ft.prototype.listeners=function(s){return this._callbacks=this._callbacks||{},this._callbacks["$"+s]||[]};Ft.prototype.hasListeners=function(s){return!!this.listeners(s).length};const pi=typeof Promise=="function"&&typeof Promise.resolve=="function"?n=>Promise.resolve().then(n):(n,t)=>t(n,0),us=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),rp="arraybuffer";function ul(s,...n){return n.reduce((t,r)=>(s.hasOwnProperty(r)&&(t[r]=s[r]),t),{})}const ip=us.setTimeout,ap=us.clearTimeout;function fi(s,n){n.useNativeTimers?(s.setTimeoutFn=ip.bind(us),s.clearTimeoutFn=ap.bind(us)):(s.setTimeoutFn=us.setTimeout.bind(us),s.clearTimeoutFn=us.clearTimeout.bind(us))}const op=1.33;function mp(s){return typeof s=="string"?lp(s):Math.ceil((s.byteLength||s.size)*op)}function lp(s){let n=0,t=0;for(let r=0,i=s.length;r<i;r++)n=s.charCodeAt(r),n<128?t+=1:n<2048?t+=2:n<55296||n>=57344?t+=3:(r++,t+=4);return t}function pl(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function dp(s){let n="";for(let t in s)s.hasOwnProperty(t)&&(n.length&&(n+="&"),n+=encodeURIComponent(t)+"="+encodeURIComponent(s[t]));return n}function cp(s){let n={},t=s.split("&");for(let r=0,i=t.length;r<i;r++){let a=t[r].split("=");n[decodeURIComponent(a[0])]=decodeURIComponent(a[1])}return n}class up extends Error{constructor(n,t,r){super(n),this.description=t,this.context=r,this.type="TransportError"}}class Ma extends Ft{constructor(n){super(),this.writable=!1,fi(this,n),this.opts=n,this.query=n.query,this.socket=n.socket,this.supportsBinary=!n.forceBase64}onError(n,t,r){return super.emitReserved("error",new up(n,t,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(n){this.readyState==="open"&&this.write(n)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(n){const t=Ra(n,this.socket.binaryType);this.onPacket(t)}onPacket(n){super.emitReserved("packet",n)}onClose(n){this.readyState="closed",super.emitReserved("close",n)}pause(n){}createUri(n,t={}){return n+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const n=this.opts.hostname;return n.indexOf(":")===-1?n:"["+n+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(n){const t=dp(n);return t.length?"?"+t:""}}class pp extends Ma{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(n){this.readyState="pausing";const t=()=>{this.readyState="paused",n()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||t()})),this.writable||(r++,this.once("drain",function(){--r||t()}))}else t()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(n){const t=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};ep(n,this.socket.binaryType).forEach(t),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const n=()=>{this.write([{type:"close"}])};this.readyState==="open"?n():this.once("open",n)}write(n){this.writable=!1,Zu(n,t=>{this.doWrite(t,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const n=this.opts.secure?"https":"http",t=this.query||{};return this.opts.timestampRequests!==!1&&(t[this.opts.timestampParam]=pl()),!this.supportsBinary&&!t.sid&&(t.b64=1),this.createUri(n,t)}}let fl=!1;try{fl=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const fp=fl;function gp(){}class Np extends pp{constructor(n){if(super(n),typeof location<"u"){const t=location.protocol==="https:";let r=location.port;r||(r=t?"443":"80"),this.xd=typeof location<"u"&&n.hostname!==location.hostname||r!==n.port}}doWrite(n,t){const r=this.request({method:"POST",data:n});r.on("success",t),r.on("error",(i,a)=>{this.onError("xhr post error",i,a)})}doPoll(){const n=this.request();n.on("data",this.onData.bind(this)),n.on("error",(t,r)=>{this.onError("xhr poll error",t,r)}),this.pollXhr=n}}class js extends Ft{constructor(n,t,r){super(),this.createRequest=n,fi(this,r),this._opts=r,this._method=r.method||"GET",this._uri=t,this._data=r.data!==void 0?r.data:null,this._create()}_create(){var n;const t=ul(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this._opts.xd;const r=this._xhr=this.createRequest(t);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let i in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(i)&&r.setRequestHeader(i,this._opts.extraHeaders[i])}}catch{}if(this._method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(n=this._opts.cookieJar)===null||n===void 0||n.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var i;r.readyState===3&&((i=this._opts.cookieJar)===null||i===void 0||i.parseCookies(r.getResponseHeader("set-cookie"))),r.readyState===4&&(r.status===200||r.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof r.status=="number"?r.status:0)},0))},r.send(this._data)}catch(i){this.setTimeoutFn(()=>{this._onError(i)},0);return}typeof document<"u"&&(this._index=js.requestsCount++,js.requests[this._index]=this)}_onError(n){this.emitReserved("error",n,this._xhr),this._cleanup(!0)}_cleanup(n){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=gp,n)try{this._xhr.abort()}catch{}typeof document<"u"&&delete js.requests[this._index],this._xhr=null}}_onLoad(){const n=this._xhr.responseText;n!==null&&(this.emitReserved("data",n),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}js.requestsCount=0;js.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",jo);else if(typeof addEventListener=="function"){const s="onpagehide"in us?"pagehide":"unload";addEventListener(s,jo,!1)}}function jo(){for(let s in js.requests)js.requests.hasOwnProperty(s)&&js.requests[s].abort()}const bp=function(){const s=gl({xdomain:!1});return s&&s.responseType!==null}();class xp extends Np{constructor(n){super(n);const t=n&&n.forceBase64;this.supportsBinary=bp&&!t}request(n={}){return Object.assign(n,{xd:this.xd},this.opts),new js(gl,this.uri(),n)}}function gl(s){const n=s.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!n||fp))return new XMLHttpRequest}catch{}if(!n)try{return new us[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const Nl=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class yp extends Ma{get name(){return"websocket"}doOpen(){const n=this.uri(),t=this.opts.protocols,r=Nl?{}:ul(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(n,t,r)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=n=>this.onClose({description:"websocket connection closed",context:n}),this.ws.onmessage=n=>this.onData(n.data),this.ws.onerror=n=>this.onError("websocket error",n)}write(n){this.writable=!1;for(let t=0;t<n.length;t++){const r=n[t],i=t===n.length-1;Pa(r,this.supportsBinary,a=>{try{this.doWrite(r,a)}catch{}i&&pi(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const n=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=pl()),this.supportsBinary||(t.b64=1),this.createUri(n,t)}}const Si=us.WebSocket||us.MozWebSocket;class hp extends yp{createSocket(n,t,r){return Nl?new Si(n,t,r):t?new Si(n,t):new Si(n)}doWrite(n,t){this.ws.send(t)}}class kp extends Ma{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(n){return this.emitReserved("error",n)}this._transport.closed.then(()=>{this.onClose()}).catch(n=>{this.onError("webtransport error",n)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(n=>{const t=sp(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=n.readable.pipeThrough(t).getReader(),i=tp();i.readable.pipeTo(n.writable),this._writer=i.writable.getWriter();const a=()=>{r.read().then(({done:m,value:d})=>{m||(this.onPacket(d),a())}).catch(m=>{})};a();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(n){this.writable=!1;for(let t=0;t<n.length;t++){const r=n[t],i=t===n.length-1;this._writer.write(r).then(()=>{i&&pi(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var n;(n=this._transport)===null||n===void 0||n.close()}}const vp={websocket:hp,webtransport:kp,polling:xp},Dp=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Vp=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Qi(s){if(s.length>8e3)throw"URI too long";const n=s,t=s.indexOf("["),r=s.indexOf("]");t!=-1&&r!=-1&&(s=s.substring(0,t)+s.substring(t,r).replace(/:/g,";")+s.substring(r,s.length));let i=Dp.exec(s||""),a={},o=14;for(;o--;)a[Vp[o]]=i[o]||"";return t!=-1&&r!=-1&&(a.source=n,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a.pathNames=Cp(a,a.path),a.queryKey=Ep(a,a.query),a}function Cp(s,n){const t=/\/{2,9}/g,r=n.replace(t,"/").split("/");return(n.slice(0,1)=="/"||n.length===0)&&r.splice(0,1),n.slice(-1)=="/"&&r.splice(r.length-1,1),r}function Ep(s,n){const t={};return n.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,i,a){i&&(t[i]=a)}),t}const Zi=typeof addEventListener=="function"&&typeof removeEventListener=="function",Wr=[];Zi&&addEventListener("offline",()=>{Wr.forEach(s=>s())},!1);class Gs extends Ft{constructor(n,t){if(super(),this.binaryType=rp,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,n&&typeof n=="object"&&(t=n,n=null),n){const r=Qi(n);t.hostname=r.host,t.secure=r.protocol==="https"||r.protocol==="wss",t.port=r.port,r.query&&(t.query=r.query)}else t.host&&(t.hostname=Qi(t.host).host);fi(this,t),this.secure=t.secure!=null?t.secure:typeof location<"u"&&location.protocol==="https:",t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=t.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},t.transports.forEach(r=>{const i=r.prototype.name;this.transports.push(i),this._transportsByName[i]=r}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=cp(this.opts.query)),Zi&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Wr.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(n){const t=Object.assign({},this.opts.query);t.EIO=cl,t.transport=n,this.id&&(t.sid=this.id);const r=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[n]);return new this._transportsByName[n](r)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const n=this.opts.rememberUpgrade&&Gs.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const t=this.createTransport(n);t.open(),this.setTransport(t)}setTransport(n){this.transport&&this.transport.removeAllListeners(),this.transport=n,n.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",t=>this._onClose("transport close",t))}onOpen(){this.readyState="open",Gs.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",n),this.emitReserved("heartbeat"),n.type){case"open":this.onHandshake(JSON.parse(n.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const t=new Error("server error");t.code=n.data,this._onError(t);break;case"message":this.emitReserved("data",n.data),this.emitReserved("message",n.data);break}}onHandshake(n){this.emitReserved("handshake",n),this.id=n.sid,this.transport.query.sid=n.sid,this._pingInterval=n.pingInterval,this._pingTimeout=n.pingTimeout,this._maxPayload=n.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const n=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+n,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},n),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const n=this._getWritablePackets();this.transport.send(n),this._prevBufferLen=n.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let t=1;for(let r=0;r<this.writeBuffer.length;r++){const i=this.writeBuffer[r].data;if(i&&(t+=mp(i)),r>0&&t>this._maxPayload)return this.writeBuffer.slice(0,r);t+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const n=Date.now()>this._pingTimeoutTime;return n&&(this._pingTimeoutTime=0,pi(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),n}write(n,t,r){return this._sendPacket("message",n,t,r),this}send(n,t,r){return this._sendPacket("message",n,t,r),this}_sendPacket(n,t,r,i){if(typeof t=="function"&&(i=t,t=void 0),typeof r=="function"&&(i=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const a={type:n,data:t,options:r};this.emitReserved("packetCreate",a),this.writeBuffer.push(a),i&&this.once("flush",i),this.flush()}close(){const n=()=>{this._onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),n()},r=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():n()}):this.upgrading?r():n()),this}_onError(n){if(Gs.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",n),this._onClose("transport error",n)}_onClose(n,t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Zi&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const r=Wr.indexOf(this._offlineEventListener);r!==-1&&Wr.splice(r,1)}this.readyState="closed",this.id=null,this.emitReserved("close",n,t),this.writeBuffer=[],this._prevBufferLen=0}}}Gs.protocol=cl;class Ap extends Gs{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let n=0;n<this._upgrades.length;n++)this._probe(this._upgrades[n])}_probe(n){let t=this.createTransport(n),r=!1;Gs.priorWebsocketSuccess=!1;const i=()=>{r||(t.send([{type:"ping",data:"probe"}]),t.once("packet",g=>{if(!r)if(g.type==="pong"&&g.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;Gs.priorWebsocketSuccess=t.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(u(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{const b=new Error("probe error");b.transport=t.name,this.emitReserved("upgradeError",b)}}))};function a(){r||(r=!0,u(),t.close(),t=null)}const o=g=>{const b=new Error("probe error: "+g);b.transport=t.name,a(),this.emitReserved("upgradeError",b)};function m(){o("transport closed")}function d(){o("socket closed")}function c(g){t&&g.name!==t.name&&a()}const u=()=>{t.removeListener("open",i),t.removeListener("error",o),t.removeListener("close",m),this.off("close",d),this.off("upgrading",c)};t.once("open",i),t.once("error",o),t.once("close",m),this.once("close",d),this.once("upgrading",c),this._upgrades.indexOf("webtransport")!==-1&&n!=="webtransport"?this.setTimeoutFn(()=>{r||t.open()},200):t.open()}onHandshake(n){this._upgrades=this._filterUpgrades(n.upgrades),super.onHandshake(n)}_filterUpgrades(n){const t=[];for(let r=0;r<n.length;r++)~this.transports.indexOf(n[r])&&t.push(n[r]);return t}}let wp=class extends Ap{constructor(n,t={}){const r=typeof n=="object"?n:t;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(i=>vp[i]).filter(i=>!!i)),super(n,r)}};function _p(s,n="",t){let r=s;t=t||typeof location<"u"&&location,s==null&&(s=t.protocol+"//"+t.host),typeof s=="string"&&(s.charAt(0)==="/"&&(s.charAt(1)==="/"?s=t.protocol+s:s=t.host+s),/^(https?|wss?):\/\//.test(s)||(typeof t<"u"?s=t.protocol+"//"+s:s="https://"+s),r=Qi(s)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const a=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+a+":"+r.port+n,r.href=r.protocol+"://"+a+(t&&t.port===r.port?"":":"+r.port),r}const jp=typeof ArrayBuffer=="function",Lp=s=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(s):s.buffer instanceof ArrayBuffer,bl=Object.prototype.toString,Hp=typeof Blob=="function"||typeof Blob<"u"&&bl.call(Blob)==="[object BlobConstructor]",Bp=typeof File=="function"||typeof File<"u"&&bl.call(File)==="[object FileConstructor]";function Ia(s){return jp&&(s instanceof ArrayBuffer||Lp(s))||Hp&&s instanceof Blob||Bp&&s instanceof File}function qr(s,n){if(!s||typeof s!="object")return!1;if(Array.isArray(s)){for(let t=0,r=s.length;t<r;t++)if(qr(s[t]))return!0;return!1}if(Ia(s))return!0;if(s.toJSON&&typeof s.toJSON=="function"&&arguments.length===1)return qr(s.toJSON(),!0);for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t)&&qr(s[t]))return!0;return!1}function Up(s){const n=[],t=s.data,r=s;return r.data=ea(t,n),r.attachments=n.length,{packet:r,buffers:n}}function ea(s,n){if(!s)return s;if(Ia(s)){const t={_placeholder:!0,num:n.length};return n.push(s),t}else if(Array.isArray(s)){const t=new Array(s.length);for(let r=0;r<s.length;r++)t[r]=ea(s[r],n);return t}else if(typeof s=="object"&&!(s instanceof Date)){const t={};for(const r in s)Object.prototype.hasOwnProperty.call(s,r)&&(t[r]=ea(s[r],n));return t}return s}function Sp(s,n){return s.data=ta(s.data,n),delete s.attachments,s}function ta(s,n){if(!s)return s;if(s&&s._placeholder===!0){if(typeof s.num=="number"&&s.num>=0&&s.num<n.length)return n[s.num];throw new Error("illegal attachments")}else if(Array.isArray(s))for(let t=0;t<s.length;t++)s[t]=ta(s[t],n);else if(typeof s=="object")for(const t in s)Object.prototype.hasOwnProperty.call(s,t)&&(s[t]=ta(s[t],n));return s}const Pp=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Rp=5;var yt;(function(s){s[s.CONNECT=0]="CONNECT",s[s.DISCONNECT=1]="DISCONNECT",s[s.EVENT=2]="EVENT",s[s.ACK=3]="ACK",s[s.CONNECT_ERROR=4]="CONNECT_ERROR",s[s.BINARY_EVENT=5]="BINARY_EVENT",s[s.BINARY_ACK=6]="BINARY_ACK"})(yt||(yt={}));class Mp{constructor(n){this.replacer=n}encode(n){return(n.type===yt.EVENT||n.type===yt.ACK)&&qr(n)?this.encodeAsBinary({type:n.type===yt.EVENT?yt.BINARY_EVENT:yt.BINARY_ACK,nsp:n.nsp,data:n.data,id:n.id}):[this.encodeAsString(n)]}encodeAsString(n){let t=""+n.type;return(n.type===yt.BINARY_EVENT||n.type===yt.BINARY_ACK)&&(t+=n.attachments+"-"),n.nsp&&n.nsp!=="/"&&(t+=n.nsp+","),n.id!=null&&(t+=n.id),n.data!=null&&(t+=JSON.stringify(n.data,this.replacer)),t}encodeAsBinary(n){const t=Up(n),r=this.encodeAsString(t.packet),i=t.buffers;return i.unshift(r),i}}function Lo(s){return Object.prototype.toString.call(s)==="[object Object]"}class Ta extends Ft{constructor(n){super(),this.reviver=n}add(n){let t;if(typeof n=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(n);const r=t.type===yt.BINARY_EVENT;r||t.type===yt.BINARY_ACK?(t.type=r?yt.EVENT:yt.ACK,this.reconstructor=new Ip(t),t.attachments===0&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else if(Ia(n)||n.base64)if(this.reconstructor)t=this.reconstructor.takeBinaryData(n),t&&(this.reconstructor=null,super.emitReserved("decoded",t));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+n)}decodeString(n){let t=0;const r={type:Number(n.charAt(0))};if(yt[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===yt.BINARY_EVENT||r.type===yt.BINARY_ACK){const a=t+1;for(;n.charAt(++t)!=="-"&&t!=n.length;);const o=n.substring(a,t);if(o!=Number(o)||n.charAt(t)!=="-")throw new Error("Illegal attachments");r.attachments=Number(o)}if(n.charAt(t+1)==="/"){const a=t+1;for(;++t&&!(n.charAt(t)===","||t===n.length););r.nsp=n.substring(a,t)}else r.nsp="/";const i=n.charAt(t+1);if(i!==""&&Number(i)==i){const a=t+1;for(;++t;){const o=n.charAt(t);if(o==null||Number(o)!=o){--t;break}if(t===n.length)break}r.id=Number(n.substring(a,t+1))}if(n.charAt(++t)){const a=this.tryParse(n.substr(t));if(Ta.isPayloadValid(r.type,a))r.data=a;else throw new Error("invalid payload")}return r}tryParse(n){try{return JSON.parse(n,this.reviver)}catch{return!1}}static isPayloadValid(n,t){switch(n){case yt.CONNECT:return Lo(t);case yt.DISCONNECT:return t===void 0;case yt.CONNECT_ERROR:return typeof t=="string"||Lo(t);case yt.EVENT:case yt.BINARY_EVENT:return Array.isArray(t)&&(typeof t[0]=="number"||typeof t[0]=="string"&&Pp.indexOf(t[0])===-1);case yt.ACK:case yt.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Ip{constructor(n){this.packet=n,this.buffers=[],this.reconPack=n}takeBinaryData(n){if(this.buffers.push(n),this.buffers.length===this.reconPack.attachments){const t=Sp(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const Tp=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Ta,Encoder:Mp,get PacketType(){return yt},protocol:Rp},Symbol.toStringTag,{value:"Module"}));function Ns(s,n,t){return s.on(n,t),function(){s.off(n,t)}}const Fp=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class xl extends Ft{constructor(n,t,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=n,this.nsp=t,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const n=this.io;this.subs=[Ns(n,"open",this.onopen.bind(this)),Ns(n,"packet",this.onpacket.bind(this)),Ns(n,"error",this.onerror.bind(this)),Ns(n,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...n){return n.unshift("message"),this.emit.apply(this,n),this}emit(n,...t){var r,i,a;if(Fp.hasOwnProperty(n))throw new Error('"'+n.toString()+'" is a reserved event name');if(t.unshift(n),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(t),this;const o={type:yt.EVENT,data:t};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof t[t.length-1]=="function"){const u=this.ids++,g=t.pop();this._registerAckCallback(u,g),o.id=u}const m=(i=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||i===void 0?void 0:i.writable,d=this.connected&&!(!((a=this.io.engine)===null||a===void 0)&&a._hasPingExpired());return this.flags.volatile&&!m||(d?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(n,t){var r;const i=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(i===void 0){this.acks[n]=t;return}const a=this.io.setTimeoutFn(()=>{delete this.acks[n];for(let m=0;m<this.sendBuffer.length;m++)this.sendBuffer[m].id===n&&this.sendBuffer.splice(m,1);t.call(this,new Error("operation has timed out"))},i),o=(...m)=>{this.io.clearTimeoutFn(a),t.apply(this,m)};o.withError=!0,this.acks[n]=o}emitWithAck(n,...t){return new Promise((r,i)=>{const a=(o,m)=>o?i(o):r(m);a.withError=!0,t.push(a),this.emit(n,...t)})}_addToQueue(n){let t;typeof n[n.length-1]=="function"&&(t=n.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:n,flags:Object.assign({fromQueue:!0},this.flags)};n.push((i,...a)=>r!==this._queue[0]?void 0:(i!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),t&&t(i)):(this._queue.shift(),t&&t(null,...a)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(n=!1){if(!this.connected||this._queue.length===0)return;const t=this._queue[0];t.pending&&!n||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(n){n.nsp=this.nsp,this.io._packet(n)}onopen(){typeof this.auth=="function"?this.auth(n=>{this._sendConnectPacket(n)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(n){this.packet({type:yt.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},n):n})}onerror(n){this.connected||this.emitReserved("connect_error",n)}onclose(n,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",n,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(n=>{if(!this.sendBuffer.some(r=>String(r.id)===n)){const r=this.acks[n];delete this.acks[n],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(n){if(n.nsp===this.nsp)switch(n.type){case yt.CONNECT:n.data&&n.data.sid?this.onconnect(n.data.sid,n.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case yt.EVENT:case yt.BINARY_EVENT:this.onevent(n);break;case yt.ACK:case yt.BINARY_ACK:this.onack(n);break;case yt.DISCONNECT:this.ondisconnect();break;case yt.CONNECT_ERROR:this.destroy();const r=new Error(n.data.message);r.data=n.data.data,this.emitReserved("connect_error",r);break}}onevent(n){const t=n.data||[];n.id!=null&&t.push(this.ack(n.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(n){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const r of t)r.apply(this,n)}super.emit.apply(this,n),this._pid&&n.length&&typeof n[n.length-1]=="string"&&(this._lastOffset=n[n.length-1])}ack(n){const t=this;let r=!1;return function(...i){r||(r=!0,t.packet({type:yt.ACK,id:n,data:i}))}}onack(n){const t=this.acks[n.id];typeof t=="function"&&(delete this.acks[n.id],t.withError&&n.data.unshift(null),t.apply(this,n.data))}onconnect(n,t){this.id=n,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(n=>this.emitEvent(n)),this.receiveBuffer=[],this.sendBuffer.forEach(n=>{this.notifyOutgoingListeners(n),this.packet(n)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(n=>n()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:yt.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(n){return this.flags.compress=n,this}get volatile(){return this.flags.volatile=!0,this}timeout(n){return this.flags.timeout=n,this}onAny(n){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(n),this}prependAny(n){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(n),this}offAny(n){if(!this._anyListeners)return this;if(n){const t=this._anyListeners;for(let r=0;r<t.length;r++)if(n===t[r])return t.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(n){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(n),this}prependAnyOutgoing(n){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(n),this}offAnyOutgoing(n){if(!this._anyOutgoingListeners)return this;if(n){const t=this._anyOutgoingListeners;for(let r=0;r<t.length;r++)if(n===t[r])return t.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(n){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const r of t)r.apply(this,n.data)}}}function _n(s){s=s||{},this.ms=s.min||100,this.max=s.max||1e4,this.factor=s.factor||2,this.jitter=s.jitter>0&&s.jitter<=1?s.jitter:0,this.attempts=0}_n.prototype.duration=function(){var s=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var n=Math.random(),t=Math.floor(n*this.jitter*s);s=Math.floor(n*10)&1?s+t:s-t}return Math.min(s,this.max)|0};_n.prototype.reset=function(){this.attempts=0};_n.prototype.setMin=function(s){this.ms=s};_n.prototype.setMax=function(s){this.max=s};_n.prototype.setJitter=function(s){this.jitter=s};class sa extends Ft{constructor(n,t){var r;super(),this.nsps={},this.subs=[],n&&typeof n=="object"&&(t=n,n=void 0),t=t||{},t.path=t.path||"/socket.io",this.opts=t,fi(this,t),this.reconnection(t.reconnection!==!1),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor((r=t.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new _n({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(t.timeout==null?2e4:t.timeout),this._readyState="closed",this.uri=n;const i=t.parser||Tp;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=t.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(n){return arguments.length?(this._reconnection=!!n,n||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(n){return n===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=n,this)}reconnectionDelay(n){var t;return n===void 0?this._reconnectionDelay:(this._reconnectionDelay=n,(t=this.backoff)===null||t===void 0||t.setMin(n),this)}randomizationFactor(n){var t;return n===void 0?this._randomizationFactor:(this._randomizationFactor=n,(t=this.backoff)===null||t===void 0||t.setJitter(n),this)}reconnectionDelayMax(n){var t;return n===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=n,(t=this.backoff)===null||t===void 0||t.setMax(n),this)}timeout(n){return arguments.length?(this._timeout=n,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(n){if(~this._readyState.indexOf("open"))return this;this.engine=new wp(this.uri,this.opts);const t=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const i=Ns(t,"open",function(){r.onopen(),n&&n()}),a=m=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",m),n?n(m):this.maybeReconnectOnOpen()},o=Ns(t,"error",a);if(this._timeout!==!1){const m=this._timeout,d=this.setTimeoutFn(()=>{i(),a(new Error("timeout")),t.close()},m);this.opts.autoUnref&&d.unref(),this.subs.push(()=>{this.clearTimeoutFn(d)})}return this.subs.push(i),this.subs.push(o),this}connect(n){return this.open(n)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const n=this.engine;this.subs.push(Ns(n,"ping",this.onping.bind(this)),Ns(n,"data",this.ondata.bind(this)),Ns(n,"error",this.onerror.bind(this)),Ns(n,"close",this.onclose.bind(this)),Ns(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(n){try{this.decoder.add(n)}catch(t){this.onclose("parse error",t)}}ondecoded(n){pi(()=>{this.emitReserved("packet",n)},this.setTimeoutFn)}onerror(n){this.emitReserved("error",n)}socket(n,t){let r=this.nsps[n];return r?this._autoConnect&&!r.active&&r.connect():(r=new xl(this,n,t),this.nsps[n]=r),r}_destroy(n){const t=Object.keys(this.nsps);for(const r of t)if(this.nsps[r].active)return;this._close()}_packet(n){const t=this.encoder.encode(n);for(let r=0;r<t.length;r++)this.engine.write(t[r],n.options)}cleanup(){this.subs.forEach(n=>n()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(n,t){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",n,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const n=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{n.skipReconnect||(this.emitReserved("reconnect_attempt",n.backoff.attempts),!n.skipReconnect&&n.open(i=>{i?(n._reconnecting=!1,n.reconnect(),this.emitReserved("reconnect_error",i)):n.onreconnect()}))},t);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const n=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",n)}}const Tn={};function Xn(s,n){typeof s=="object"&&(n=s,s=void 0),n=n||{};const t=_p(s,n.path||"/socket.io"),r=t.source,i=t.id,a=t.path,o=Tn[i]&&a in Tn[i].nsps,m=n.forceNew||n["force new connection"]||n.multiplex===!1||o;let d;return m?d=new sa(r,n):(Tn[i]||(Tn[i]=new sa(r,n)),d=Tn[i]),t.query&&!n.query&&(n.query=t.queryKey),d.socket(t.path,n)}Object.assign(Xn,{Manager:sa,Socket:xl,io:Xn,connect:Xn});const Wp="modulepreload",qp=function(s){return"/"+s},Ho={},Op=function(n,t,r){let i=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),m=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(t.map(d=>{if(d=qp(d),d in Ho)return;Ho[d]=!0;const c=d.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${u}`))return;const g=document.createElement("link");if(g.rel=c?"stylesheet":Wp,c||(g.as="script"),g.crossOrigin="",g.href=d,m&&g.setAttribute("nonce",m),document.head.appendChild(g),c)return new Promise((b,p)=>{g.addEventListener("load",b),g.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${d}`)))})}))}function a(o){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=o,window.dispatchEvent(m),!m.defaultPrevented)throw o}return i.then(o=>{for(const m of o||[])m.status==="rejected"&&a(m.reason);return n().catch(a)})};function $p(s={}){const{immediate:n=!1,onNeedRefresh:t,onOfflineReady:r,onRegistered:i,onRegisteredSW:a,onRegisterError:o}=s;let m,d,c;const u=async(b=!0)=>{await d,await(c==null?void 0:c())};async function g(){if("serviceWorker"in navigator){if(m=await Op(async()=>{const{Workbox:b}=await import("./workbox-window.prod.es5-B9K5rw8f.js");return{Workbox:b}},[]).then(({Workbox:b})=>new b("/sw.js",{scope:"/",type:"classic"})).catch(b=>{o==null||o(b)}),!m)return;c=async()=>{await(m==null?void 0:m.messageSkipWaiting())};{let b=!1;const p=()=>{b=!0,m==null||m.addEventListener("controlling",w=>{w.isUpdate&&window.location.reload()}),t==null||t()};m.addEventListener("installed",w=>{typeof w.isUpdate>"u"?typeof w.isExternal<"u"?w.isExternal?p():!b&&(r==null||r()):w.isExternal?window.location.reload():!b&&(r==null||r()):w.isUpdate||r==null||r()}),m.addEventListener("waiting",p),m.addEventListener("externalwaiting",p)}m.register({immediate:n}).then(b=>{a?a("/sw.js",b):i==null||i(b)}).catch(b=>{o==null||o(b)})}}return d=g(),u}const zp="/api",je=Dc.create({baseURL:zp,headers:{"Content-Type":"application/json"}});je.interceptors.request.use(s=>{const n=localStorage.getItem("token");return n&&(s.headers.Authorization=`Bearer ${n}`),s},s=>Promise.reject(s));je.interceptors.response.use(s=>s,s=>{var n;return((n=s.response)==null?void 0:n.status)===401&&(localStorage.removeItem("token"),window.location.href="/login"),Promise.reject(s)});const yl=l.createContext(void 0);function Yp({children:s}){const[n,t]=l.useState(null),[r,i]=l.useState(!0),a=Bm();l.useEffect(()=>{o()},[]);const o=async()=>{try{const u=localStorage.getItem("token");if(!u){i(!1);return}je.defaults.headers.common.Authorization=`Bearer ${u}`;const g=await je.get("/auth/me");g.data.success&&t(g.data.user)}catch{localStorage.removeItem("token"),delete je.defaults.headers.common.Authorization}finally{i(!1)}},m=async(u,g)=>{var b,p;try{const w=await je.post("/auth/login",{username:u,password:g}),{token:k,user:j}=w.data;localStorage.setItem("token",k),je.defaults.headers.common.Authorization=`Bearer ${k}`,t(j),R.success(`${j.name}, !`),a("/")}catch(w){const k=w;throw R.error(((p=(b=k.response)==null?void 0:b.data)==null?void 0:p.message)||" "),w}},d=()=>{localStorage.removeItem("token"),delete je.defaults.headers.common.Authorization,t(null),a("/login"),R.success("")},c=u=>{t(u)};return e.jsxDEV(yl.Provider,{value:{user:n,loading:r,login:m,logout:d,updateUser:c},children:s},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/contexts/AuthContext.tsx",lineNumber:88,columnNumber:5},this)}function Qt(){const s=l.useContext(yl);if(s===void 0)throw new Error("useAuth must be used within an AuthProvider");return s}const Kp={};function Xp(s,n){let t;try{t=s()}catch{return}return{getItem:i=>{var a;const o=d=>d===null?null:JSON.parse(d,void 0),m=(a=t.getItem(i))!=null?a:null;return m instanceof Promise?m.then(o):o(m)},setItem:(i,a)=>t.setItem(i,JSON.stringify(a,void 0)),removeItem:i=>t.removeItem(i)}}const ir=s=>n=>{try{const t=s(n);return t instanceof Promise?t:{then(r){return ir(r)(t)},catch(r){return this}}}catch(t){return{then(r){return this},catch(r){return ir(r)(t)}}}},Jp=(s,n)=>(t,r,i)=>{let a={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:j=>j,version:0,merge:(j,B)=>({...B,...j}),...n},o=!1;const m=new Set,d=new Set;let c;try{c=a.getStorage()}catch{}if(!c)return s((...j)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),t(...j)},r,i);const u=ir(a.serialize),g=()=>{const j=a.partialize({...r()});let B;const y=u({state:j,version:a.version}).then(O=>c.setItem(a.name,O)).catch(O=>{B=O});if(B)throw B;return y},b=i.setState;i.setState=(j,B)=>{b(j,B),g()};const p=s((...j)=>{t(...j),g()},r,i);let w;const k=()=>{var j;if(!c)return;o=!1,m.forEach(y=>y(r()));const B=((j=a.onRehydrateStorage)==null?void 0:j.call(a,r()))||void 0;return ir(c.getItem.bind(c))(a.name).then(y=>{if(y)return a.deserialize(y)}).then(y=>{if(y)if(typeof y.version=="number"&&y.version!==a.version){if(a.migrate)return a.migrate(y.state,y.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return y.state}).then(y=>{var O;return w=a.merge(y,(O=r())!=null?O:p),t(w,!0),g()}).then(()=>{B==null||B(w,void 0),o=!0,d.forEach(y=>y(w))}).catch(y=>{B==null||B(void 0,y)})};return i.persist={setOptions:j=>{a={...a,...j},j.getStorage&&(c=j.getStorage())},clearStorage:()=>{c==null||c.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>k(),hasHydrated:()=>o,onHydrate:j=>(m.add(j),()=>{m.delete(j)}),onFinishHydration:j=>(d.add(j),()=>{d.delete(j)})},k(),w||p},Gp=(s,n)=>(t,r,i)=>{let a={storage:Xp(()=>localStorage),partialize:k=>k,version:0,merge:(k,j)=>({...j,...k}),...n},o=!1;const m=new Set,d=new Set;let c=a.storage;if(!c)return s((...k)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),t(...k)},r,i);const u=()=>{const k=a.partialize({...r()});return c.setItem(a.name,{state:k,version:a.version})},g=i.setState;i.setState=(k,j)=>{g(k,j),u()};const b=s((...k)=>{t(...k),u()},r,i);i.getInitialState=()=>b;let p;const w=()=>{var k,j;if(!c)return;o=!1,m.forEach(y=>{var O;return y((O=r())!=null?O:b)});const B=((j=a.onRehydrateStorage)==null?void 0:j.call(a,(k=r())!=null?k:b))||void 0;return ir(c.getItem.bind(c))(a.name).then(y=>{if(y)if(typeof y.version=="number"&&y.version!==a.version){if(a.migrate)return[!0,a.migrate(y.state,y.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,y.state];return[!1,void 0]}).then(y=>{var O;const[ge,ee]=y;if(p=a.merge(ee,(O=r())!=null?O:b),t(p,!0),ge)return u()}).then(()=>{B==null||B(p,void 0),p=r(),o=!0,d.forEach(y=>y(p))}).catch(y=>{B==null||B(void 0,y)})};return i.persist={setOptions:k=>{a={...a,...k},k.storage&&(c=k.storage)},clearStorage:()=>{c==null||c.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>w(),hasHydrated:()=>o,onHydrate:k=>(m.add(k),()=>{m.delete(k)}),onFinishHydration:k=>(d.add(k),()=>{d.delete(k)})},a.skipHydration||w(),p||b},Qp=(s,n)=>"getStorage"in n||"serialize"in n||"deserialize"in n?((Kp?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),Jp(s,n)):Gp(s,n),hl=Qp,kl=Um()(hl((s,n)=>({notifications:[],unreadCount:0,addNotification:t=>{const r={...t,id:Date.now().toString()+Math.random().toString(36).substr(2,9),read:!1,createdAt:new Date};s(i=>({notifications:[r,...i.notifications].slice(0,50),unreadCount:i.unreadCount+1}))},markAsRead:t=>{s(r=>({notifications:r.notifications.map(i=>i.id===t?{...i,read:!0}:i),unreadCount:Math.max(0,r.unreadCount-1)}))},markAllAsRead:()=>{s(t=>({notifications:t.notifications.map(r=>({...r,read:!0})),unreadCount:0}))},deleteNotification:t=>{s(r=>{const i=r.notifications.find(o=>o.id===t),a=i&&!i.read;return{notifications:r.notifications.filter(o=>o.id!==t),unreadCount:a?Math.max(0,r.unreadCount-1):r.unreadCount}})},clearAll:()=>{s({notifications:[],unreadCount:0})},getUnreadCount:()=>n().unreadCount}),{name:"notification-storage",partialize:s=>({notifications:s.notifications,unreadCount:s.unreadCount})}));var Zp={lessThanXSeconds:{one:"1 ",other:"{{count}} "},xSeconds:{one:"1",other:"{{count}}"},halfAMinute:"30",lessThanXMinutes:{one:"1 ",other:"{{count}} "},xMinutes:{one:"1",other:"{{count}}"},aboutXHours:{one:" 1",other:" {{count}}"},xHours:{one:"1",other:"{{count}}"},xDays:{one:"1",other:"{{count}}"},aboutXWeeks:{one:" 1",other:" {{count}}"},xWeeks:{one:"1",other:"{{count}}"},aboutXMonths:{one:" 1",other:" {{count}}"},xMonths:{one:"1",other:"{{count}}"},aboutXYears:{one:" 1",other:" {{count}}"},xYears:{one:"1",other:"{{count}}"},overXYears:{one:"1 ",other:"{{count}} "},almostXYears:{one:" 1",other:" {{count}}"}},ef=function(n,t,r){var i,a=Zp[n];return typeof a=="string"?i=a:t===1?i=a.one:i=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?i+" ":i+" ":i},tf={full:"y M d EEEE",long:"y M d",medium:"y.MM.dd",short:"y.MM.dd"},sf={full:"a H mm ss zzzz",long:"a H:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},nf={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},rf={date:Hi({formats:tf,defaultWidth:"full"}),time:Hi({formats:sf,defaultWidth:"full"}),dateTime:Hi({formats:nf,defaultWidth:"full"})},af={lastWeek:"'' eeee p",yesterday:"'' p",today:"'' p",tomorrow:"'' p",nextWeek:"'' eeee p",other:"P"},of=function(n,t,r,i){return af[n]},mf={narrow:["BC","AD"],abbreviated:["BC","AD"],wide:["",""]},lf={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1","2","3","4"]},df={narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],abbreviated:["1","2","3","4","5","6","7","8","9","10","11","12"],wide:["1","2","3","4","5","6","7","8","9","10","11","12"]},cf={narrow:["","","","","","",""],short:["","","","","","",""],abbreviated:["","","","","","",""],wide:["","","","","","",""]},uf={narrow:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},abbreviated:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},pf={narrow:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},abbreviated:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},ff=function(n,t){var r=Number(n),i=String(t==null?void 0:t.unit);switch(i){case"minute":case"second":return String(r);case"date":return r+"";default:return r+""}},gf={ordinalNumber:ff,era:Mn({values:mf,defaultWidth:"wide"}),quarter:Mn({values:lf,defaultWidth:"wide",argumentCallback:function(n){return n-1}}),month:Mn({values:df,defaultWidth:"wide"}),day:Mn({values:cf,defaultWidth:"wide"}),dayPeriod:Mn({values:uf,defaultWidth:"wide",formattingValues:pf,defaultFormattingWidth:"wide"})},Nf=/^(\d+)(|)?/i,bf=/\d+/i,xf={narrow:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(|)/i},yf={any:[/^(bc|)/i,/^(ad|)/i]},hf={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234]?/i},kf={any:[/1/i,/2/i,/3/i,/4/i]},vf={narrow:/^(1[012]|[123456789])/,abbreviated:/^(1[012]|[123456789])/i,wide:/^(1[012]|[123456789])/i},Df={any:[/^1?$/,/^2/,/^3/,/^4/,/^5/,/^6/,/^7/,/^8/,/^9/,/^10/,/^11/,/^12/]},Vf={narrow:/^[]/,short:/^[]/,abbreviated:/^[]/,wide:/^[]/},Cf={any:[/^/,/^/,/^/,/^/,/^/,/^/,/^/]},Ef={any:/^(am|pm|||||||)/i},Af={any:{am:/^(am|)/i,pm:/^(pm|)/i,midnight:/^/i,noon:/^/i,morning:/^/i,afternoon:/^/i,evening:/^/i,night:/^/i}},wf={ordinalNumber:$c({matchPattern:Nf,parsePattern:bf,valueCallback:function(n){return parseInt(n,10)}}),era:In({matchPatterns:xf,defaultMatchWidth:"wide",parsePatterns:yf,defaultParseWidth:"any"}),quarter:In({matchPatterns:hf,defaultMatchWidth:"wide",parsePatterns:kf,defaultParseWidth:"any",valueCallback:function(n){return n+1}}),month:In({matchPatterns:vf,defaultMatchWidth:"wide",parsePatterns:Df,defaultParseWidth:"any"}),day:In({matchPatterns:Vf,defaultMatchWidth:"wide",parsePatterns:Cf,defaultParseWidth:"any"}),dayPeriod:In({matchPatterns:Ef,defaultMatchWidth:"any",parsePatterns:Af,defaultParseWidth:"any"})},kt={code:"ko",formatDistance:ef,formatLong:rf,formatRelative:of,localize:gf,match:wf,options:{weekStartsOn:0,firstWeekContainsDate:1}};const _f=({isOpen:s,onClose:n})=>{const t=Bm(),{notifications:r,unreadCount:i,markAsRead:a,markAllAsRead:o,deleteNotification:m,clearAll:d}=kl();if(!s)return null;const c=b=>{switch(b){case"payment":return e.jsxDEV(wc,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:21,columnNumber:16},void 0);case"as_request":return e.jsxDEV(Ac,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:23,columnNumber:16},void 0);case"schedule":return e.jsxDEV(En,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:25,columnNumber:16},void 0);case"work_request":return e.jsxDEV(Ec,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:27,columnNumber:16},void 0);default:return e.jsxDEV(Li,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:29,columnNumber:16},void 0)}},u=b=>{switch(b){case"payment":return"text-green-600 bg-green-50";case"as_request":return"text-yellow-600 bg-yellow-50";case"schedule":return"text-blue-600 bg-blue-50";case"work_request":return"text-purple-600 bg-purple-50";default:return"text-gray-600 bg-gray-50"}},g=b=>{a(b.id),b.link&&(t(b.link),n())};return e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-25 z-40",onClick:n},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:59,columnNumber:7},void 0),e.jsxDEV("div",{className:"fixed right-0 top-16 h-[calc(100vh-4rem)] w-full sm:w-96 bg-white shadow-2xl z-50 flex flex-col",children:[e.jsxDEV("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(Li,{className:"h-5 w-5 text-gray-900"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:69,columnNumber:13},void 0),e.jsxDEV("h2",{className:"text-lg font-bold text-gray-900",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:70,columnNumber:13},void 0),i>0&&e.jsxDEV("span",{className:"px-2 py-0.5 bg-gray-900 text-white text-xs font-bold rounded-full",children:i},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:72,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:68,columnNumber:11},void 0),e.jsxDEV("button",{onClick:n,className:"p-1 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsxDEV(ft,{className:"h-5 w-5 text-gray-600"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:81,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:77,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:67,columnNumber:9},void 0),r.length>0&&e.jsxDEV("div",{className:"flex items-center gap-2 px-4 py-2 bg-gray-50 border-b border-gray-200",children:[i>0&&e.jsxDEV("button",{onClick:o,className:"flex items-center gap-1 text-xs text-gray-600 hover:text-gray-900",children:[e.jsxDEV(Ea,{className:"h-3 w-3"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:93,columnNumber:17},void 0)," "]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:89,columnNumber:15},void 0),e.jsxDEV("button",{onClick:d,className:"flex items-center gap-1 text-xs text-gray-600 hover:text-red-600 ml-auto",children:[e.jsxDEV(Vt,{className:"h-3 w-3"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:101,columnNumber:15},void 0)," "]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:97,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:87,columnNumber:11},void 0),e.jsxDEV("div",{className:"flex-1 overflow-y-auto",children:r.length===0?e.jsxDEV("div",{className:"flex flex-col items-center justify-center h-full text-center p-8",children:[e.jsxDEV(Li,{className:"h-12 w-12 text-gray-300 mb-3"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:111,columnNumber:15},void 0),e.jsxDEV("p",{className:"text-sm text-gray-500",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:112,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:110,columnNumber:13},void 0):e.jsxDEV("div",{className:"divide-y divide-gray-100",children:r.map(b=>e.jsxDEV("div",{className:`p-4 hover:bg-gray-50 transition-colors cursor-pointer ${b.read?"":"bg-blue-50"}`,onClick:()=>g(b),children:e.jsxDEV("div",{className:"flex gap-3",children:[e.jsxDEV("div",{className:`flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center ${u(b.type)}`,children:c(b.type)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:126,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex-1 min-w-0",children:[e.jsxDEV("div",{className:"flex items-start justify-between gap-2",children:[e.jsxDEV("p",{className:`text-sm font-semibold ${b.read?"text-gray-700":"text-gray-900"}`,children:b.title},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:133,columnNumber:25},void 0),!b.read&&e.jsxDEV("span",{className:"flex-shrink-0 w-2 h-2 bg-blue-600 rounded-full mt-1"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:137,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:132,columnNumber:23},void 0),e.jsxDEV("p",{className:"text-xs text-gray-600 mt-1 line-clamp-2",children:b.message},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:140,columnNumber:23},void 0),e.jsxDEV("p",{className:"text-xs text-gray-400 mt-1",children:zc(new Date(b.createdAt),{addSuffix:!0,locale:kt})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:143,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:131,columnNumber:21},void 0),e.jsxDEV("button",{onClick:p=>{p.stopPropagation(),m(b.id)},className:"flex-shrink-0 p-1 hover:bg-gray-200 rounded transition-colors",children:e.jsxDEV(ft,{className:"h-4 w-4 text-gray-400"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:159,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:152,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:124,columnNumber:19},void 0)},b.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:117,columnNumber:17},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:115,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:108,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:65,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:57,columnNumber:5},void 0)},Ys={getAllWorkRequests:async()=>(await je.get("/workrequests")).data,getWorkRequestById:async s=>(await je.get(`/workrequests/${s}`)).data,createWorkRequest:async s=>{console.log("[workRequestService.createWorkRequest] Input data:",s);const n={project:s.project,requestType:s.requestType,description:s.description,requestDate:s.requestDate instanceof Date?s.requestDate.toISOString():s.requestDate,dueDate:s.dueDate instanceof Date?s.dueDate.toISOString():s.dueDate,requestedBy:s.requestedBy,assignedTo:s.assignedTo,priority:s.priority||"medium",status:s.status||"pending",notes:s.notes||""};return console.log("[workRequestService.createWorkRequest] Sending to backend:",n),(await je.post("/workrequests",n)).data},updateWorkRequest:async(s,n)=>{console.log("[workRequestService.updateWorkRequest] Input data:",n);const t={};return n.project!==void 0&&(t.project=n.project),n.requestType!==void 0&&(t.requestType=n.requestType),n.description!==void 0&&(t.description=n.description),n.requestDate!==void 0&&(t.requestDate=n.requestDate instanceof Date?n.requestDate.toISOString():n.requestDate),n.dueDate!==void 0&&(t.dueDate=n.dueDate instanceof Date?n.dueDate.toISOString():n.dueDate),n.requestedBy!==void 0&&(t.requestedBy=n.requestedBy),n.assignedTo!==void 0&&(t.assignedTo=n.assignedTo),n.priority!==void 0&&(t.priority=n.priority),n.status!==void 0&&(t.status=n.status),n.notes!==void 0&&(t.notes=n.notes),n.completedDate!==void 0&&(t.completedDate=n.completedDate instanceof Date?n.completedDate.toISOString():n.completedDate),console.log("[workRequestService.updateWorkRequest] Sending to backend:",t),(await je.put(`/workrequests/${s}`,t)).data},deleteWorkRequest:async s=>{await je.delete(`/workrequests/${s}`)}},ps={getAllPayments:async()=>(await je.get("/payments")).data,getPaymentById:async s=>(await je.get(`/payments/${s}`)).data,createPayment:async s=>{var r,i,a;const n={project_id:s.projectId,request_type:s.category,vendor_name:s.process||"",description:s.purpose||"",amount:s.amount,account_holder:((r=s.bankInfo)==null?void 0:r.accountHolder)||"",bank_name:((i=s.bankInfo)==null?void 0:i.bankName)||"",account_number:((a=s.bankInfo)==null?void 0:a.accountNumber)||"",notes:s.notes||"",itemName:s.itemName||"",materialAmount:s.materialAmount||0,laborAmount:s.laborAmount||0,originalMaterialAmount:s.originalMaterialAmount||0,originalLaborAmount:s.originalLaborAmount||0,applyTaxDeduction:s.applyTaxDeduction||!1,includesVAT:s.includesVAT||!1,quickText:s.quickText||"",images:s.images||[]};return console.log("[paymentService.createPayment] Sending to backend:",n),(await je.post("/payments",n)).data},updatePayment:async(s,n)=>{const t={};return n.projectId!==void 0&&(t.project=n.projectId),n.purpose!==void 0&&(t.description=n.purpose),n.amount!==void 0&&(t.amount=n.amount),n.process!==void 0&&(t.vendor_name=n.process),n.category!==void 0&&(t.request_type=n.category),n.itemName!==void 0&&(t.itemName=n.itemName),n.materialAmount!==void 0&&(t.materialAmount=n.materialAmount),n.laborAmount!==void 0&&(t.laborAmount=n.laborAmount),n.originalMaterialAmount!==void 0&&(t.originalMaterialAmount=n.originalMaterialAmount),n.originalLaborAmount!==void 0&&(t.originalLaborAmount=n.originalLaborAmount),n.applyTaxDeduction!==void 0&&(t.applyTaxDeduction=n.applyTaxDeduction),n.includesVAT!==void 0&&(t.includesVAT=n.includesVAT),n.notes!==void 0&&(t.notes=n.notes),n.requestDate!==void 0&&(t.requestDate=n.requestDate),n.bankInfo!==void 0&&(n.bankInfo.accountHolder&&(t.account_holder=n.bankInfo.accountHolder),n.bankInfo.bankName&&(t.bank_name=n.bankInfo.bankName),n.bankInfo.accountNumber&&(t.account_number=n.bankInfo.accountNumber)),(await je.put(`/payments/${s}`,t)).data},updatePaymentStatus:async(s,n)=>(await je.put(`/payments/${s}/status`,{status:n})).data,updatePaymentAmounts:async(s,n,t)=>(await je.patch(`/payments/${s}/amounts`,{materialAmount:n,laborAmount:t})).data,updatePaymentImages:async(s,n)=>(await je.put(`/payments/${s}/images`,{images:n})).data,deletePayment:async s=>{await je.delete(`/payments/${s}`)}},Yn={getAllASRequests:async()=>(await je.get("/as-requests")).data,getASRequestById:async s=>(await je.get(`/as-requests/${s}`)).data,createASRequest:async s=>(await je.post("/as-requests",s)).data,updateASRequest:async(s,n)=>(await je.put(`/as-requests/${s}`,n)).data,deleteASRequest:async s=>{await je.delete(`/as-requests/${s}`)}},jf=window.location.origin;class Lf{constructor(){po(this,"socket",null)}connect(n){return this.socket=Xn(jf,{auth:{token:n},transports:["websocket"],reconnection:!0,reconnectionAttempts:5,reconnectionDelay:1e3}),this.socket.on("connect",()=>{console.log(" Socket connected")}),this.socket.on("disconnect",()=>{console.log(" Socket disconnected")}),this.socket.on("connect_error",t=>{console.error("Socket connection error:",t)}),this.socket}disconnect(){this.socket&&(this.socket.disconnect(),this.socket=null)}joinProject(n){var t;(t=this.socket)==null||t.emit("join:project",n)}leaveProject(n){var t;(t=this.socket)==null||t.emit("leave:project",n)}emitScheduleUpdate(n){var t;(t=this.socket)==null||t.emit("schedule:update",n)}onScheduleUpdated(n){var t;(t=this.socket)==null||t.on("schedule:updated",n)}emitPaymentRequest(n){var t;(t=this.socket)==null||t.emit("payment:request",n)}onNewPayment(n){var t;(t=this.socket)==null||t.on("payment:new",n)}emitPaymentStatusUpdate(n){var t;(t=this.socket)==null||t.emit("payment:statusUpdate",n)}onPaymentStatusChanged(n){var t;(t=this.socket)==null||t.on("payment:statusChanged",n)}onPaymentUpdate(n){var t;(t=this.socket)==null||t.on("payment:update",n)}sendMessage(n){var t;(t=this.socket)==null||t.emit("message:send",n)}onMessageReceive(n){var t;(t=this.socket)==null||t.on("message:receive",n)}sendNotification(n){var t;(t=this.socket)==null||t.emit("notification:send",n)}onNotificationReceive(n){var t;(t=this.socket)==null||t.on("notification:receive",n)}onActiveUsers(n){var t;(t=this.socket)==null||t.on("users:active",n)}on(n,t){var r;(r=this.socket)==null||r.on(n,t)}emit(n,t){var r;(r=this.socket)==null||r.emit(n,t)}off(n,t){var r;(r=this.socket)==null||r.off(n,t)}getSocket(){return this.socket}}const na=new Lf,Hf=()=>{var fe,He;const{user:s,logout:n,loading:t}=Qt(),[r,i]=l.useState(!1),[a,o]=l.useState(!1),[m,d]=l.useState(!1),c=xc(),{unreadCount:u}=kl(),[g,b]=l.useState(0),[p,w]=l.useState(0),[k,j]=l.useState(0),[B,y]=l.useState(0),[O,ge]=l.useState(!1),[ee,Y]=l.useState(0),[de,T]=l.useState(!1),oe=l.useRef(0),re=l.useRef(null),Z=80,X=l.useCallback(De=>{if(window.scrollY>0)return!1;let Be=De;for(;Be&&Be!==document.body;){const Ke=window.getComputedStyle(Be).overflowY;if((Ke==="auto"||Ke==="scroll")&&Be.scrollTop>0)return!1;Be=Be.parentElement}return!0},[]),be=l.useCallback(De=>{if(window.innerWidth>=768)return;const Be=De.target;X(Be)&&(oe.current=De.touches[0].clientY,ge(!0))},[X]),we=l.useCallback(De=>{if(!O||de)return;const Be=De.target;if(!X(Be)){ge(!1),Y(0);return}const Ke=De.touches[0].clientY-oe.current;if(Ke>0){const ze=Math.min(Ke*.5,120);Y(ze)}else ge(!1),Y(0)},[O,de,X]),Me=l.useCallback(()=>{O&&(ee>=Z&&!de?(T(!0),Y(50),setTimeout(()=>{window.location.reload()},300)):Y(0),ge(!1))},[O,ee,de]);if(l.useEffect(()=>{d(!1)},[c.pathname]),l.useEffect(()=>{const De=Be=>{d(Be.detail.isOpen)};return window.addEventListener("mobileFormStateChange",De),()=>window.removeEventListener("mobileFormStateChange",De)},[]),l.useEffect(()=>{const De=()=>{y(Be=>Math.max(0,Be-1))};return window.addEventListener("quoteInquiryRead",De),()=>window.removeEventListener("quoteInquiryRead",De)},[]),l.useEffect(()=>{const De=()=>{w(Be=>Math.max(0,Be-1))};return window.addEventListener("paymentCompleted",De),()=>window.removeEventListener("paymentCompleted",De)},[]),l.useEffect(()=>{const De=na.getSocket();if(!De)return;const Be=async()=>{try{const Re=await ps.getAllPayments();w(Re.filter(Ke=>Ke.status==="pending").length)}catch(Re){console.error("Failed to refresh payment count:",Re)}};return De.on("payment:refresh",Be),()=>{De.off("payment:refresh",Be)}},[]),l.useEffect(()=>{if(!s)return;const De=async()=>{try{const[Re,Ke,ze]=await Promise.all([Ys.getAllWorkRequests(),ps.getAllPayments(),Yn.getAllASRequests()]);if(b(Re.filter(qe=>qe.assignedTo===s.name&&qe.status==="pending").length),w(Ke.filter(qe=>qe.status==="pending").length),j(ze.filter(qe=>qe.status==="in-progress").length),s.role==="admin"||s.role==="manager")try{const S=(await je.get("/quote-inquiries")).data.filter(ue=>!ue.isRead).length;y(S)}catch(qe){console.error("Failed to load quote inquiry count:",qe)}}catch(Re){console.error("Failed to load badge counts:",Re)}};De();const Be=setInterval(De,3e4);return()=>clearInterval(Be)},[s]),t)return e.jsxDEV("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:228,columnNumber:11},void 0),e.jsxDEV("p",{className:"mt-4 text-gray-600",children:" ..."},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:229,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:227,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:226,columnNumber:7},void 0);if(!s)return e.jsxDEV(mi,{to:"/login",replace:!0},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:237,columnNumber:12},void 0);const Ve=[{name:"",href:"/dashboard"},{name:"",href:"/projects"},{name:"",href:"/schedule"},{name:"",href:"/drawings"},{name:"",href:"/site-log"},{name:"",href:"/additional-work"},{name:"",href:"/construction-payment",roles:["admin","manager"]},{name:"",href:"/work-request",...g>0&&{badge:g}},{name:"",href:"/specbook"},{name:"",href:"/finish-check"},{name:"",href:"/execution-history"},{name:"",href:"/payments",...p>0&&{badge:p}},{name:"AS ",href:"/after-service",...k>0&&{badge:k}},{name:"",href:"/estimate-preview",roles:["admin","manager"]},{name:"",href:"/quote-inquiry",roles:["admin","manager"],...B>0&&{badge:B}},{name:"",href:"/contractors"}],Ee=Ve.filter(De=>!De.roles||De.roles.includes((s==null?void 0:s.role)||"")),_e=((fe=Ve.find(De=>De.href===c.pathname))==null?void 0:fe.name)||"",Oe=(()=>{const De=c.pathname;return["/projects","/schedule","/after-service","/additional-work","/construction-payment","/contractors","/work-request"].includes(De)?()=>{const Re=new CustomEvent("headerAddButtonClick");window.dispatchEvent(Re)}:null})();return e.jsxDEV("div",{className:"min-h-screen bg-gray-50",children:[e.jsxDEV("div",{className:Gt("fixed inset-0 z-40 lg:hidden",r?"block":"hidden"),children:[e.jsxDEV("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-50",onClick:()=>i(!1)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:304,columnNumber:9},void 0),e.jsxDEV("div",{className:"fixed inset-y-0 left-0 flex w-64 flex-col bg-white",children:[e.jsxDEV("div",{className:"flex h-16 items-center justify-between px-6 border-b border-gray-200",children:[e.jsxDEV("h2",{className:"text-xl font-bold text-gray-900",children:"HV LAB"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:310,columnNumber:13},void 0),e.jsxDEV("button",{onClick:()=>i(!1),className:"text-sm text-gray-600 hover:text-gray-900",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:311,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:309,columnNumber:11},void 0),e.jsxDEV("nav",{className:"flex-1 space-y-1 px-4 py-4",children:Ee.map(De=>e.jsxDEV(ji,{to:De.href,className:({isActive:Be})=>Gt("block px-4 py-3 text-sm font-medium border-l-2 transition-colors relative",Be?"border-gray-900 bg-gray-50 text-gray-900":"border-transparent text-gray-600 hover:border-gray-400 hover:bg-gray-50"),onClick:()=>i(!1),children:e.jsxDEV("span",{className:"flex items-center justify-between",children:[e.jsxDEV("span",{children:De.name},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:334,columnNumber:19},void 0),De.badge&&De.badge>0&&e.jsxDEV("span",{className:"ml-2 inline-flex items-center justify-center px-2 py-0.5 text-xs font-bold leading-none text-white bg-red-600 rounded-full",children:De.badge>99?"99+":De.badge},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:336,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:333,columnNumber:17},void 0)},De.name,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:320,columnNumber:15},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:318,columnNumber:11},void 0),e.jsxDEV("div",{className:"border-t border-gray-200 px-4 py-4",children:e.jsxDEV("button",{onClick:n,className:"w-full px-4 py-3 text-sm font-medium text-gray-600 hover:bg-gray-50 text-left",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:345,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:344,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:308,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:298,columnNumber:7},void 0),e.jsxDEV("div",{className:"desktop-sidebar hidden lg:fixed lg:inset-y-0 lg:flex lg:w-64 lg:flex-col",children:e.jsxDEV("div",{className:"flex flex-col bg-white border-r border-gray-200",children:[e.jsxDEV("div",{className:"flex h-16 items-center px-6 border-b border-gray-200",children:e.jsxDEV("h2",{className:"text-xl font-bold text-gray-900",children:"HV LAB"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:359,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:358,columnNumber:11},void 0),e.jsxDEV("nav",{className:"flex-1 space-y-1 px-4 py-4",children:Ee.map(De=>e.jsxDEV(ji,{to:De.href,className:({isActive:Be})=>Gt("block px-4 py-3 text-sm font-medium border-l-2 transition-colors relative",Be?"border-gray-900 bg-gray-50 text-gray-900":"border-transparent text-gray-600 hover:border-gray-400 hover:bg-gray-50"),children:e.jsxDEV("span",{className:"flex items-center justify-between",children:[e.jsxDEV("span",{children:De.name},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:376,columnNumber:19},void 0),De.badge&&De.badge>0&&e.jsxDEV("span",{className:"ml-2 inline-flex items-center justify-center px-2 py-0.5 text-xs font-bold leading-none text-white bg-red-600 rounded-full",children:De.badge>99?"99+":De.badge},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:378,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:375,columnNumber:17},void 0)},De.name,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:363,columnNumber:15},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:361,columnNumber:11},void 0),e.jsxDEV("div",{className:"border-t border-gray-200 px-4 py-4",children:e.jsxDEV("button",{onClick:n,className:"w-full px-4 py-3 text-sm font-medium text-gray-600 hover:bg-gray-50 text-left",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:387,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:386,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:357,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:356,columnNumber:7},void 0),e.jsxDEV("div",{className:"main-content lg:pl-64",children:[e.jsxDEV("header",{className:"sticky top-0 z-30 bg-white border-b border-gray-200 print-hide",children:e.jsxDEV("div",{className:"flex items-center justify-between px-4 py-3 sm:px-6 lg:px-8",children:[e.jsxDEV("div",{className:"flex items-center space-x-3",children:[e.jsxDEV("button",{onClick:()=>i(!0),className:"lg:hidden p-2 text-gray-600 hover:text-gray-900 -ml-2","aria-label":" ",children:e.jsxDEV("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:410,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:409,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:404,columnNumber:15},void 0),_e&&e.jsxDEV("h1",{className:"text-lg font-bold text-gray-900",children:_e},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:414,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:403,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex items-center space-x-2 sm:space-x-6 ml-auto",children:[Oe&&e.jsxDEV("button",{onClick:Oe,className:"lg:hidden p-2 text-gray-900 hover:text-gray-700","aria-label":m?"":"",children:m?e.jsxDEV(ft,{className:"h-6 w-6"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:427,columnNumber:37},void 0):e.jsxDEV(_s,{className:"h-6 w-6"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:427,columnNumber:65},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:422,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>o(!a),className:"hidden sm:block relative p-2 text-gray-600 hover:text-gray-900 transition-colors","aria-label":"",children:[e.jsxDEV("svg",{className:"h-5 w-5 sm:h-6 sm:w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:437,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:436,columnNumber:17},void 0),u>0&&e.jsxDEV("span",{className:"absolute top-1 right-1 flex items-center justify-center h-4 w-4 bg-red-600 text-white text-[10px] font-bold rounded-full",children:u>9?"9+":u},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:440,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:431,columnNumber:15},void 0),e.jsxDEV("div",{className:"hidden sm:flex items-center space-x-2 sm:space-x-3",children:[e.jsxDEV("div",{className:"text-right",children:[e.jsxDEV("p",{className:"text-sm font-medium text-gray-900",children:s==null?void 0:s.name},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:447,columnNumber:19},void 0),e.jsxDEV("p",{className:"text-xs text-gray-500",children:s==null?void 0:s.role},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:448,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:446,columnNumber:17},void 0),e.jsxDEV("div",{className:"h-8 w-8 sm:h-9 sm:w-9 bg-gray-900 text-white flex items-center justify-center text-xs font-bold rounded-full",children:(He=s==null?void 0:s.name)==null?void 0:He.substring(0,1)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:450,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:445,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:419,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:401,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:400,columnNumber:9},void 0),e.jsxDEV("div",{className:"portrait-top-nav hidden",children:e.jsxDEV("div",{className:"flex items-center gap-1 px-2 py-2 bg-white border-b border-gray-200 overflow-x-auto",children:Ee.map(De=>e.jsxDEV(ji,{to:De.href,className:({isActive:Be})=>Gt("px-3 py-1.5 text-sm font-medium rounded-full whitespace-nowrap transition-colors relative",Be?"bg-gray-900 text-white":"text-gray-600 hover:bg-gray-100"),children:e.jsxDEV("span",{className:"flex items-center gap-1",children:[e.jsxDEV("span",{children:De.name},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:475,columnNumber:19},void 0),De.badge&&De.badge>0&&e.jsxDEV("span",{className:"inline-flex items-center justify-center min-w-[18px] h-[18px] px-1 text-[10px] font-bold leading-none text-white bg-red-600 rounded-full",children:De.badge>99?"99+":De.badge},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:477,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:474,columnNumber:17},void 0)},De.name,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:462,columnNumber:15},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:460,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:459,columnNumber:9},void 0),e.jsxDEV("main",{ref:re,className:"py-[10px] md:py-6 lg:py-8",onTouchStart:be,onTouchMove:we,onTouchEnd:Me,children:[ee>0&&e.jsxDEV("div",{className:"md:hidden fixed left-0 right-0 flex items-center justify-center z-50 pointer-events-none",style:{top:56,height:ee,transition:O?"none":"height 0.2s ease-out"},children:e.jsxDEV("div",{className:Gt("flex items-center justify-center w-10 h-10 bg-white rounded-full shadow-lg border",de&&"animate-spin"),style:{transform:`rotate(${de?0:ee*2}deg)`,opacity:Math.min(ee/Z,1)},children:e.jsxDEV(_c,{className:Gt("w-5 h-5",ee>=Z?"text-blue-600":"text-gray-400")},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:515,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:505,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:497,columnNumber:13},void 0),e.jsxDEV("div",{className:"px-3 sm:px-4 md:px-6 lg:px-8",style:{transform:ee>0?`translateY(${ee}px)`:"none",transition:O?"none":"transform 0.2s ease-out"},children:e.jsxDEV(yc,{},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:532,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:525,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:488,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:398,columnNumber:7},void 0),e.jsxDEV(_f,{isOpen:a,onClose:()=>o(!1)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:538,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:296,columnNumber:5},void 0)},vr={getAllSchedules:async()=>(await je.get("/schedules")).data,getScheduleById:async s=>(await je.get(`/schedules/${s}`)).data,createSchedule:async s=>(await je.post("/schedules",{project:s.project,title:s.title,type:s.type||"other",phase:s.phase||"",startDate:s.startDate,endDate:s.endDate,allDay:s.allDay!==void 0?s.allDay:!0,assignedTo:s.assignedTo||[],description:s.description,location:s.location,priority:s.priority||"medium",progress:s.progress||0,isCompleted:s.isCompleted||!1,asRequestId:s.asRequestId,time:s.time})).data,updateSchedule:async(s,n)=>(await je.put(`/schedules/${s}`,n)).data,deleteSchedule:async s=>{await je.delete(`/schedules/${s}`)}},Dr={getAllProjects:async()=>(await je.get("/projects")).data,getProjectById:async s=>(await je.get(`/projects/${s}`)).data,createProject:async s=>{const n={name:s.name,client:typeof s.client=="string"?s.client:s.client.name,location:typeof s.location=="string"?s.location:s.location.address,status:s.status||"planning",manager:s.manager,description:s.description||""};if(s.startDate){const r=typeof s.startDate=="string"?new Date(s.startDate):s.startDate;n.startDate=r.toISOString().split("T")[0]}if(s.endDate){const r=typeof s.endDate=="string"?new Date(s.endDate):s.endDate;n.endDate=r.toISOString().split("T")[0]}return console.log("[projectService.createProject] Sending to backend:",n),(await je.post("/projects",n)).data},updateProject:async(s,n)=>{var r;const t={};if(n.name!==void 0&&(t.name=n.name),n.client!==void 0&&(t.client=typeof n.client=="string"?n.client:n.client.name),n.location!==void 0&&(t.location=typeof n.location=="string"?n.location:n.location.address),n.startDate!==void 0)if(typeof n.startDate=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(n.startDate))t.startDate=n.startDate;else{const i=typeof n.startDate=="string"?new Date(n.startDate):n.startDate;t.startDate=i.toISOString().split("T")[0]}if(n.endDate!==void 0)if(typeof n.endDate=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(n.endDate))t.endDate=n.endDate;else{const i=typeof n.endDate=="string"?new Date(n.endDate):n.endDate;t.endDate=i.toISOString().split("T")[0]}n.status!==void 0&&(t.status=n.status),n.manager!==void 0&&(t.manager=n.manager),n.description!==void 0&&(t.description=n.description),n.meetingNotes!==void 0&&(t.meetingNotes=n.meetingNotes),n.customerRequests!==void 0&&(t.customerRequests=n.customerRequests),n.entrancePassword!==void 0&&(t.entrancePassword=n.entrancePassword),n.sitePassword!==void 0&&(t.sitePassword=n.sitePassword),console.log("[projectService.updateProject] Sending to backend:",t);try{return(await je.put(`/projects/${s}`,t)).data}catch(i){const a=i;throw console.error("[projectService.updateProject] Error:",i),console.error("[projectService.updateProject] Error response:",(r=a.response)==null?void 0:r.data),i}},deleteProject:async s=>{await je.delete(`/projects/${s}`)}},Is={getAllContractors:async()=>(await je.get("/contractors")).data,getContractorById:async s=>(await je.get(`/contractors/${s}`)).data,createContractor:async s=>(await je.post("/contractors",s)).data,updateContractor:async(s,n)=>(await je.put(`/contractors/${s}`,n)).data,deleteContractor:async s=>{await je.delete(`/contractors/${s}`)}},Vr={getAllConstructionPayments:async()=>(await je.get("/construction-payments")).data,getConstructionPaymentById:async s=>(await je.get(`/construction-payments/${s}`)).data,createConstructionPayment:async s=>(await je.post("/construction-payments",s)).data,updateConstructionPayment:async(s,n)=>(await je.put(`/construction-payments/${s}`,n)).data,deleteConstructionPayment:async s=>{await je.delete(`/construction-payments/${s}`)}},Cr={getAllRecords:async()=>(await je.get("/execution-records")).data,getRecordById:async s=>(await je.get(`/execution-records/${s}`)).data,createRecord:async s=>(console.log("[executionRecordService.createRecord] Creating:",s),(await je.post("/execution-records",s)).data),updateRecord:async(s,n)=>(await je.put(`/execution-records/${s}`,n)).data,deleteRecord:async s=>{await je.delete(`/execution-records/${s}`)}},vs=Um()(hl((s,n)=>({projects:[],schedules:[],payments:[],contractors:[],constructionPayments:[],asRequests:[],executionRecords:[],setProjects:t=>s({projects:t}),addProject:t=>s(r=>{const i={id:t.id,project:t.name,client:t.client,totalAmount:t.contractAmount,vatType:"percentage",vatPercentage:100,vatAmount:0,payments:[]};return{projects:[t,...r.projects],constructionPayments:[i,...r.constructionPayments]}}),updateProject:(t,r)=>s(i=>({projects:i.projects.map(a=>a.id===t?{...a,...r}:a)})),deleteProject:t=>s(r=>({projects:r.projects.filter(i=>i.id!==t),constructionPayments:r.constructionPayments.filter(i=>i.id!==t)})),setSchedules:t=>s({schedules:t}),addSchedule:t=>s(r=>({schedules:[t,...r.schedules]})),updateSchedule:(t,r)=>s(i=>({schedules:i.schedules.map(a=>a.id===t?{...a,...r}:a)})),deleteSchedule:t=>s(r=>({schedules:r.schedules.filter(i=>i.id!==t)})),setPayments:t=>s({payments:t}),addPayment:t=>s(r=>({payments:[t,...r.payments]})),updatePayment:(t,r)=>s(i=>({payments:i.payments.map(a=>a.id===t?{...a,...r}:a)})),deletePayment:t=>s(r=>({payments:r.payments.filter(i=>i.id!==t)})),setContractors:t=>s({contractors:t}),addContractor:t=>s(r=>({contractors:[t,...r.contractors]})),updateContractor:(t,r)=>s(i=>({contractors:i.contractors.map(a=>a.id===t?{...a,...r}:a)})),deleteContractor:t=>s(r=>({contractors:r.contractors.filter(i=>i.id!==t)})),setConstructionPayments:t=>s({constructionPayments:t}),addConstructionPayment:t=>s(r=>({constructionPayments:[t,...r.constructionPayments]})),updateConstructionPayment:(t,r)=>s(i=>({constructionPayments:i.constructionPayments.map(a=>a.id===t?{...a,...r}:a)})),deleteConstructionPayment:t=>s(r=>({constructionPayments:r.constructionPayments.filter(i=>i.id!==t)})),setASRequests:t=>s({asRequests:t}),addASRequest:t=>s(r=>({asRequests:[t,...r.asRequests]})),updateASRequest:(t,r)=>s(i=>({asRequests:i.asRequests.map(a=>a.id===t?{...a,...r}:a)})),deleteASRequest:t=>s(r=>({asRequests:r.asRequests.filter(i=>i.id!==t)})),setExecutionRecords:t=>s({executionRecords:t}),addExecutionRecord:t=>{console.log("[dataStore]  :",t.id,t.itemName),s(r=>{const i=[t,...r.executionRecords];return console.log("[dataStore]   :",i.length),{executionRecords:i}})},updateExecutionRecord:(t,r)=>s(i=>({executionRecords:i.executionRecords.map(a=>a.id===t?{...a,...r}:a)})),deleteExecutionRecord:t=>s(r=>({executionRecords:r.executionRecords.filter(i=>i.id!==t)})),loadPaymentsFromAPI:async()=>{try{const t=await ps.getAllPayments();console.log("[loadPaymentsFromAPI] Raw API response sample:",t[0]);const r=t.map(i=>({id:String(i.id),project:i.project_name,purpose:i.description,process:i.vendor_name,itemName:i.item_name||"",amount:i.amount,materialAmount:i.material_amount||0,laborAmount:i.labor_amount||0,originalMaterialAmount:i.original_material_amount||0,originalLaborAmount:i.original_labor_amount||0,applyTaxDeduction:i.apply_tax_deduction===1,includesVAT:i.includes_vat===1,quickText:i.quick_text||"",images:(()=>{if(!i.images)return[];if(Array.isArray(i.images))return i.images;try{const a=JSON.parse(i.images);return Array.isArray(a)?a:[]}catch(a){return console.error("  :",a),[]}})(),category:i.request_type,status:i.status,urgency:"normal",requestedBy:i.requester_name,requestDate:new Date(i.created_at),approvalDate:i.approved_at?new Date(i.approved_at):void 0,bankInfo:{accountHolder:i.account_holder||"",bankName:i.bank_name||"",accountNumber:i.account_number||""},attachments:[],notes:i.notes||""}));s({payments:r})}catch(t){throw console.error("Failed to load payments from API:",t),t}},addPaymentToAPI:async t=>{try{const i=n().projects.find(u=>u.name===t.project),o={projectId:i?i.id:t.project,purpose:t.purpose,process:t.process,itemName:t.itemName,amount:t.amount,category:t.category,urgency:t.urgency,requestedBy:t.requestedBy,bankInfo:t.bankInfo,notes:t.notes,attachments:[],materialAmount:t.materialAmount||0,laborAmount:t.laborAmount||0,originalMaterialAmount:t.originalMaterialAmount||0,originalLaborAmount:t.originalLaborAmount||0,applyTaxDeduction:t.applyTaxDeduction||!1,includesVAT:t.includesVAT||!1,quickText:t.quickText||"",images:t.images||[]};console.log("[addPaymentToAPI] Sending payment data:",o);const m=await ps.createPayment(o),d=String(m.id),c={...t,id:d};return s(u=>({payments:[c,...u.payments]})),d}catch(r){throw console.error("Failed to add payment to API:",r),r}},updatePaymentInAPI:async(t,r)=>{try{if(r.status&&Object.keys(r).length===1)await ps.updatePaymentStatus(t,r.status);else{let i=r.project;if(r.project){const o=n().projects.find(m=>m.name===r.project);i=o?o.id:r.project}await ps.updatePayment(t,{projectId:i,purpose:r.purpose,process:r.process,itemName:r.itemName,amount:r.amount,materialAmount:r.materialAmount,laborAmount:r.laborAmount,originalMaterialAmount:r.originalMaterialAmount,originalLaborAmount:r.originalLaborAmount,category:r.category,urgency:r.urgency,bankInfo:r.bankInfo,notes:r.notes,requestDate:r.requestDate,includesVAT:r.includesVAT,applyTaxDeduction:r.applyTaxDeduction})}s(i=>({payments:i.payments.map(a=>a.id===t?{...a,...r}:a)}))}catch(i){throw console.error("Failed to update payment in API:",i),i}},deletePaymentFromAPI:async t=>{try{await ps.deletePayment(t),s(r=>({payments:r.payments.filter(i=>i.id!==t)}))}catch(r){throw console.error("Failed to delete payment from API:",r),r}},loadSchedulesFromAPI:async()=>{try{const t=await vr.getAllSchedules();console.log(" LOAD SCHEDULES - Raw API response sample:",t[0]);const r=t.map(i=>{var o;console.log(" Processing schedule:",{id:i._id,title:i.title,assigneeNames:i.assigneeNames,assignedTo:i.assignedTo,assignedToType:typeof i.assignedTo,assignedToLength:Array.isArray(i.assignedTo)?i.assignedTo.length:"not array"});const a=Array.isArray(i.assigneeNames)?i.assigneeNames:i.assigneeNames?typeof i.assigneeNames=="string"?i.assigneeNames.split(",").map(m=>m.trim()):[i.assigneeNames]:((o=i.assignedTo)==null?void 0:o.map(m=>typeof m=="object"?m.name:m))||[];return console.log(" Final attendees:",a),{id:i._id,title:i.title,start:new Date(i.startDate),end:new Date(i.endDate),type:i.type,project:typeof i.project=="object"?i.project.name:i.project,location:i.location,attendees:a,description:i.description,time:i.time}});s({schedules:r})}catch(t){throw console.error("Failed to load schedules from API:",t),t}},addScheduleToAPI:async t=>{var r;try{console.log(" addScheduleToAPI - Input schedule:",{project:t.project,attendees:t.attendees,title:t.title});const i=await vr.createSchedule({project:t.project||"",title:t.title,type:t.type,startDate:t.start,endDate:t.end,allDay:!t.time||t.time==="-",location:t.location,assignedTo:t.attendees||[],description:t.description,asRequestId:t.asRequestId,time:t.time});console.log(" addScheduleToAPI - API Response:",{id:i._id,assigneeNames:i.assigneeNames,assignedTo:i.assignedTo,project:i.project});const a=t.attendees||[];let o=i.assigneeNames||((r=i.assignedTo)==null?void 0:r.map(d=>typeof d=="object"?d.name:d))||[];a.length>0&&o.length>a.length&&(console.log(" Server added extra attendees, filtering to match request:",{requested:a,serverReturned:o}),o=a);const m={id:i._id,title:i.title,start:new Date(i.startDate),end:new Date(i.endDate),type:i.type,project:typeof i.project=="object"?i.project.name:i.project,location:i.location,attendees:o,description:i.description,time:i.time};console.log(" addScheduleToAPI - Final schedule attendees:",m.attendees),s(d=>({schedules:[m,...d.schedules]}))}catch(i){throw console.error("Failed to add schedule to API:",i),i}},updateScheduleInAPI:async(t,r)=>{var i,a,o;try{console.log(" updateScheduleInAPI called with:",{id:t,updatedSchedule:r});const m={};r.project!==void 0&&(m.project=r.project),r.title!==void 0&&(m.title=r.title),r.type!==void 0&&(m.type=r.type),r.start!==void 0&&(m.startDate=r.start),r.end!==void 0&&(m.endDate=r.end),r.location!==void 0&&(m.location=r.location),r.description!==void 0&&(m.description=r.description),r.attendees!==void 0&&(m.assignedTo=r.attendees),r.time!==void 0&&(m.time=r.time),console.log(" Sending update data:",m);const d=await vr.updateSchedule(t,m);console.log(" updateScheduleInAPI response:",d);const c={id:d._id,title:d.title,start:new Date(d.startDate),end:new Date(d.endDate),type:d.type,project:typeof d.project=="object"?d.project.name:d.project,location:d.location,attendees:d.assigneeNames||((i=d.assignedTo)==null?void 0:i.map(u=>typeof u=="object"?u.name:u))||[],description:d.description,time:d.time};s(u=>({schedules:u.schedules.map(g=>g.id===t?c:g)}))}catch(m){throw console.error("Failed to update schedule in API:",m),console.error("Error details:",{message:m instanceof Error?m.message:"Unknown error",response:m&&typeof m=="object"&&"response"in m?(a=m.response)==null?void 0:a.data:void 0,status:m&&typeof m=="object"&&"response"in m?(o=m.response)==null?void 0:o.status:void 0}),m}},deleteScheduleFromAPI:async t=>{try{await vr.deleteSchedule(t),s(r=>({schedules:r.schedules.filter(i=>i.id!==t)}))}catch(r){throw console.error("Failed to delete schedule from API:",r),r}},loadProjectsFromAPI:async()=>{try{const r=(await Dr.getAllProjects()).map(i=>{var a,o;return{id:i._id||i.id,name:i.name,client:typeof i.client=="object"?i.client.name:i.client||"",location:typeof i.location=="object"?i.location.address:i.location||i.address||"",status:i.status==="inProgress"?"in-progress":i.status==="onHold"?"on-hold":i.status,progress:i.progress||0,startDate:i.startDate||i.start_date?new Date(i.startDate||i.start_date):void 0,endDate:i.endDate||i.end_date?new Date(i.endDate||i.end_date):void 0,contractAmount:i.budget||i.contractAmount||0,spent:i.actualCost||i.spent||0,manager:i.manager||"",team:[],description:i.description||"",meetingNotes:((a=i.meetingNotes)==null?void 0:a.map(m=>({id:m.id,content:m.content,date:new Date(m.date)})))||[],customerRequests:((o=i.customerRequests)==null?void 0:o.map(m=>({id:m.id,content:m.content,completed:m.completed,createdAt:new Date(m.createdAt)})))||[],entrancePassword:i.entrancePassword||"",sitePassword:i.sitePassword||""}});s({projects:r})}catch(t){throw console.error("Failed to load projects from API:",t),t}},addProjectToAPI:async t=>{var r,i;try{const a=await Dr.createProject({name:t.name,client:t.client,location:t.location,startDate:t.startDate,endDate:t.endDate,status:t.status,contractAmount:t.contractAmount,spent:t.spent,manager:t.manager,team:t.team,progress:t.progress,description:t.description}),o={id:a._id||a.id,name:a.name,client:typeof a.client=="object"?a.client.name:a.client||"",location:typeof a.location=="object"?a.location.address:a.location||a.address||"",status:a.status==="inProgress"?"in-progress":a.status==="onHold"?"on-hold":a.status,progress:a.progress||0,startDate:a.startDate||a.start_date?new Date(a.startDate||a.start_date):void 0,endDate:a.endDate||a.end_date?new Date(a.endDate||a.end_date):void 0,contractAmount:a.budget||a.contractAmount||0,spent:a.actualCost||a.spent||0,manager:a.manager||"",team:[],description:a.description||"",meetingNotes:((r=a.meetingNotes)==null?void 0:r.map(m=>({id:m.id,content:m.content,date:new Date(m.date)})))||[],customerRequests:((i=a.customerRequests)==null?void 0:i.map(m=>({id:m.id,content:m.content,completed:m.completed,createdAt:new Date(m.createdAt)})))||[],entrancePassword:a.entrancePassword||"",sitePassword:a.sitePassword||""};s(m=>({projects:[o,...m.projects]}))}catch(a){throw console.error("Failed to add project to API:",a),a}},updateProjectInAPI:async(t,r)=>{var i,a;try{const o=await Dr.updateProject(t,r),m={id:o._id||o.id,name:o.name,client:typeof o.client=="object"?o.client.name:o.client||"",location:typeof o.location=="object"?o.location.address:o.location||o.address||"",status:o.status==="inProgress"?"in-progress":o.status==="onHold"?"on-hold":o.status,progress:o.progress||0,startDate:o.startDate||o.start_date?new Date(o.startDate||o.start_date):void 0,endDate:o.endDate||o.end_date?new Date(o.endDate||o.end_date):void 0,contractAmount:o.budget||o.contractAmount||0,spent:o.actualCost||o.spent||0,manager:o.manager||"",team:[],description:o.description||"",meetingNotes:((i=o.meetingNotes)==null?void 0:i.map(d=>({id:d.id,content:d.content,date:new Date(d.date)})))||[],customerRequests:((a=o.customerRequests)==null?void 0:a.map(d=>({id:d.id,content:d.content,completed:d.completed,createdAt:new Date(d.createdAt)})))||[],entrancePassword:o.entrancePassword||"",sitePassword:o.sitePassword||""};s(d=>({projects:d.projects.map(c=>c.id===t?m:c)}))}catch(o){throw console.error("Failed to update project in API:",o),o}},deleteProjectFromAPI:async t=>{try{await Dr.deleteProject(t),s(r=>({projects:r.projects.filter(i=>i.id!==t)}))}catch(r){throw console.error("Failed to delete project from API:",r),r}},loadContractorsFromAPI:async()=>{try{const r=(await Is.getAllContractors()).map(i=>({id:i._id,rank:i.rank,companyName:i.companyName,name:i.name,process:i.process,contact:i.contact,accountNumber:i.accountNumber,notes:i.notes,createdAt:new Date(i.createdAt),updatedAt:new Date(i.updatedAt)}));s({contractors:r})}catch(t){throw console.error("Failed to load contractors from API:",t),t}},addContractorToAPI:async t=>{try{const r=await Is.createContractor({rank:t.rank,companyName:t.companyName,name:t.name,process:t.process,contact:t.contact,accountNumber:t.accountNumber,notes:t.notes}),i={id:r._id,rank:r.rank,companyName:r.companyName,name:r.name,process:r.process,contact:r.contact,accountNumber:r.accountNumber,notes:r.notes,createdAt:new Date(r.createdAt),updatedAt:new Date(r.updatedAt)};s(a=>({contractors:[i,...a.contractors]}))}catch(r){throw console.error("Failed to add contractor to API:",r),r}},updateContractorInAPI:async(t,r)=>{try{const i=await Is.updateContractor(t,{rank:r.rank,companyName:r.companyName,name:r.name,process:r.process,contact:r.contact,accountNumber:r.accountNumber,notes:r.notes}),a={id:i._id,rank:i.rank,companyName:i.companyName,name:i.name,process:i.process,contact:i.contact,accountNumber:i.accountNumber,notes:i.notes,createdAt:new Date(i.createdAt),updatedAt:new Date(i.updatedAt)};s(o=>({contractors:o.contractors.map(m=>m.id===t?a:m)}))}catch(i){throw console.error("Failed to update contractor in API:",i),i}},deleteContractorFromAPI:async t=>{try{await Is.deleteContractor(t),s(r=>({contractors:r.contractors.filter(i=>i.id!==t)}))}catch(r){throw console.error("Failed to delete contractor from API:",r),r}},loadConstructionPaymentsFromAPI:async()=>{try{const r=(await Vr.getAllConstructionPayments()).map(i=>{var o;let a;return i.expectedPaymentDates&&(a={contract:i.expectedPaymentDates.contract?new Date(i.expectedPaymentDates.contract):void 0,start:i.expectedPaymentDates.start?new Date(i.expectedPaymentDates.start):void 0,middle:i.expectedPaymentDates.middle?new Date(i.expectedPaymentDates.middle):void 0,final:i.expectedPaymentDates.final?new Date(i.expectedPaymentDates.final):void 0}),{id:i._id,project:i.project,client:i.client,totalAmount:i.totalAmount,vatType:i.vatType,vatPercentage:i.vatPercentage,vatAmount:i.vatAmount,expectedPaymentDates:a,payments:((o=i.payments)==null?void 0:o.map(m=>{var u;const d=m.date?new Date(m.date):new Date,c=isNaN(d.getTime())?new Date:d;return{type:m.type||((u=m.types)==null?void 0:u[0])||"",amount:m.amount,date:c,method:m.method,notes:m.notes}}))||[]}});s({constructionPayments:r})}catch(t){throw console.error("Failed to load construction payments from API:",t),t}},addConstructionPaymentToAPI:async t=>{var r;try{const i=await Vr.createConstructionPayment(t),a={id:i._id,project:i.project,client:i.client,totalAmount:i.totalAmount,vatType:i.vatType,vatPercentage:i.vatPercentage,vatAmount:i.vatAmount,payments:((r=i.payments)==null?void 0:r.map(o=>{var c;const m=o.date?new Date(o.date):new Date,d=isNaN(m.getTime())?new Date:m;return{type:o.type||((c=o.types)==null?void 0:c[0])||"",amount:o.amount,date:d,method:o.method,notes:o.notes}}))||[]};s(o=>({constructionPayments:[a,...o.constructionPayments]}))}catch(i){throw console.error("Failed to add construction payment to API:",i),i}},updateConstructionPaymentInAPI:async(t,r)=>{var i;try{const a=await Vr.updateConstructionPayment(t,r);let o;a.expectedPaymentDates&&(o={contract:a.expectedPaymentDates.contract?new Date(a.expectedPaymentDates.contract):void 0,start:a.expectedPaymentDates.start?new Date(a.expectedPaymentDates.start):void 0,middle:a.expectedPaymentDates.middle?new Date(a.expectedPaymentDates.middle):void 0,final:a.expectedPaymentDates.final?new Date(a.expectedPaymentDates.final):void 0});const m={id:a._id,project:a.project,client:a.client,totalAmount:a.totalAmount,vatType:a.vatType,vatPercentage:a.vatPercentage,vatAmount:a.vatAmount,expectedPaymentDates:o,payments:((i=a.payments)==null?void 0:i.map(d=>{var c;return{type:d.type||((c=d.types)==null?void 0:c[0])||"",amount:d.amount,date:new Date(d.date),method:d.method,notes:d.notes}}))||[]};s(d=>({constructionPayments:d.constructionPayments.map(c=>c.id===t?m:c)}))}catch(a){throw console.error("Failed to update construction payment in API:",a),a}},deleteConstructionPaymentFromAPI:async t=>{try{await Vr.deleteConstructionPayment(t),s(r=>({constructionPayments:r.constructionPayments.filter(i=>i.id!==t)}))}catch(r){throw console.error("Failed to delete construction payment from API:",r),r}},loadASRequestsFromAPI:async()=>{try{const r=(await Yn.getAllASRequests()).map(i=>({id:i._id,project:i.project,client:i.client,requestDate:new Date(i.requestDate),siteAddress:i.siteAddress,entrancePassword:i.entrancePassword,description:i.description,scheduledVisitDate:i.scheduledVisitDate?new Date(i.scheduledVisitDate):void 0,scheduledVisitTime:i.scheduledVisitTime,assignedTo:i.assignedTo?Array.isArray(i.assignedTo)?i.assignedTo:[i.assignedTo]:[],completionDate:i.completionDate?new Date(i.completionDate):void 0,notes:i.notes,status:i.status||"pending"}));s({asRequests:r})}catch(t){throw console.error("Failed to load AS requests from API:",t),t}},addASRequestToAPI:async t=>{try{const r=await Yn.createASRequest(t),i={id:r._id,project:r.project,client:r.client,requestDate:new Date(r.requestDate),siteAddress:r.siteAddress,entrancePassword:r.entrancePassword,description:r.description,scheduledVisitDate:r.scheduledVisitDate?new Date(r.scheduledVisitDate):void 0,scheduledVisitTime:r.scheduledVisitTime,assignedTo:Array.isArray(r.assignedTo)?r.assignedTo:[],completionDate:r.completionDate?new Date(r.completionDate):void 0,notes:r.notes};return s(a=>({asRequests:[i,...a.asRequests]})),i}catch(r){throw console.error("Failed to add AS request to API:",r),r}},updateASRequestInAPI:async(t,r)=>{try{const i=await Yn.updateASRequest(t,r),a={id:i._id,project:i.project,client:i.client,requestDate:new Date(i.requestDate),siteAddress:i.siteAddress,entrancePassword:i.entrancePassword,description:i.description,scheduledVisitDate:i.scheduledVisitDate?new Date(i.scheduledVisitDate):void 0,scheduledVisitTime:i.scheduledVisitTime,assignedTo:Array.isArray(i.assignedTo)?i.assignedTo:[],completionDate:i.completionDate?new Date(i.completionDate):void 0,notes:i.notes,status:i.status||"pending"};s(o=>({asRequests:o.asRequests.map(m=>m.id===t?a:m)}))}catch(i){throw console.error("Failed to update AS request in API:",i),i}},deleteASRequestFromAPI:async t=>{try{await Yn.deleteASRequest(t),s(r=>({asRequests:r.asRequests.filter(i=>i.id!==t)}))}catch(r){throw console.error("Failed to delete AS request from API:",r),r}},loadExecutionRecordsFromAPI:async()=>{try{const t=await Cr.getAllRecords();console.log("[loadExecutionRecordsFromAPI] Loaded",t.length,"records");const r=t.map(i=>({id:String(i.id),project:i.project_name,author:i.author||void 0,date:new Date(i.date),process:i.process||void 0,itemName:i.item_name,materialCost:i.material_cost||0,laborCost:i.labor_cost||0,vatAmount:i.vat_amount||0,totalAmount:i.total_amount||0,notes:i.notes||void 0,images:i.images||[],paymentId:i.payment_id?String(i.payment_id):void 0,createdAt:new Date(i.created_at),updatedAt:new Date(i.updated_at)}));s({executionRecords:r})}catch(t){throw console.error("Failed to load execution records from API:",t),t}},addExecutionRecordToAPI:async t=>{try{console.log("[addExecutionRecordToAPI] Adding:",t.itemName);const r=await Cr.createRecord({project_name:t.project,author:t.author,date:t.date.toISOString().split("T")[0],process:t.process,item_name:t.itemName,material_cost:t.materialCost,labor_cost:t.laborCost,vat_amount:t.vatAmount,total_amount:t.totalAmount,notes:t.notes,payment_id:t.paymentId}),i={id:String(r.id),project:r.project_name,author:r.author||void 0,date:new Date(r.date),process:r.process||void 0,itemName:r.item_name,materialCost:r.material_cost||0,laborCost:r.labor_cost||0,vatAmount:r.vat_amount||0,totalAmount:r.total_amount||0,notes:r.notes||void 0,paymentId:r.payment_id?String(r.payment_id):void 0,createdAt:new Date(r.created_at),updatedAt:new Date(r.updated_at)};return s(a=>({executionRecords:[i,...a.executionRecords]})),console.log("[addExecutionRecordToAPI] Added with ID:",i.id),i}catch(r){throw console.error("Failed to add execution record to API:",r),r}},updateExecutionRecordInAPI:async(t,r)=>{var i;try{await Cr.updateRecord(t,{project_name:r.project,author:r.author,date:(i=r.date)==null?void 0:i.toISOString().split("T")[0],process:r.process,item_name:r.itemName,material_cost:r.materialCost,labor_cost:r.laborCost,vat_amount:r.vatAmount,total_amount:r.totalAmount,notes:r.notes,payment_id:r.paymentId,images:r.images}),s(a=>({executionRecords:a.executionRecords.map(o=>o.id===t?{...o,...r,updatedAt:new Date}:o)}))}catch(a){throw console.error("Failed to update execution record in API:",a),a}},deleteExecutionRecordFromAPI:async t=>{try{await Cr.deleteRecord(t),s(r=>({executionRecords:r.executionRecords.filter(i=>i.id!==t)}))}catch(r){throw console.error("Failed to delete execution record from API:",r),r}}}),{name:"interior-management-storage",partialize:s=>({...s,payments:s.payments.map(n=>{const{images:t,...r}=n;return r}),executionRecords:s.executionRecords.map(n=>{const{images:t,...r}=n;return r})}),storage:{getItem:s=>{var d,c,u,g,b,p,w;const n=localStorage.getItem(s);if(!n)return null;const{state:t}=JSON.parse(n),r=((d=t.projects)==null?void 0:d.map(k=>({...k,startDate:k.startDate?new Date(k.startDate):void 0,endDate:k.endDate?new Date(k.endDate):void 0,contractAmount:k.contractAmount!==void 0?k.contractAmount:k.budget||0})))||[],i=((c=t.constructionPayments)==null?void 0:c.map(k=>{var j;return{...k,vatType:k.vatType||"percentage",vatPercentage:k.vatPercentage??100,vatAmount:k.vatAmount??0,payments:((j=k.payments)==null?void 0:j.map(B=>({...B,date:new Date(B.date)})))||[]}}))||[],a=new Set(i.map(k=>k.id)),o=r.filter(k=>!a.has(k.id)).map(k=>({id:k.id,project:k.name,client:k.client,totalAmount:k.contractAmount||0,vatType:"percentage",vatPercentage:100,vatAmount:0,payments:[]})),m=[...i,...o];return{state:{...t,projects:r,schedules:((u=t.schedules)==null?void 0:u.map(k=>({...k,start:new Date(k.start),end:new Date(k.end)})))||[],payments:((g=t.payments)==null?void 0:g.map(k=>({...k,requestDate:new Date(k.requestDate),approvalDate:k.approvalDate?new Date(k.approvalDate):void 0})))||[],contractors:((b=t.contractors)==null?void 0:b.map(k=>({...k,createdAt:new Date(k.createdAt),updatedAt:new Date(k.updatedAt)})))||[],constructionPayments:m,asRequests:((p=t.asRequests)==null?void 0:p.map(k=>({...k,requestDate:new Date(k.requestDate),scheduledVisitDate:k.scheduledVisitDate?new Date(k.scheduledVisitDate):void 0,completionDate:k.completionDate?new Date(k.completionDate):void 0})))||[],executionRecords:((w=t.executionRecords)==null?void 0:w.map(k=>({...k,date:new Date(k.date),createdAt:new Date(k.createdAt),updatedAt:new Date(k.updatedAt)})))||[]}}},setItem:(s,n)=>{try{const t=JSON.stringify(n);localStorage.setItem(s,t)}catch(t){console.error("[dataStore] localStorage  :",t),t instanceof DOMException&&t.name==="QuotaExceededError"&&console.warn("[dataStore] localStorage   -    ")}},removeItem:s=>localStorage.removeItem(s)}}));var ur=s=>s.type==="checkbox",cn=s=>s instanceof Date,is=s=>s==null;const vl=s=>typeof s=="object";var Wt=s=>!is(s)&&!Array.isArray(s)&&vl(s)&&!cn(s),Bf=s=>Wt(s)&&s.target?ur(s.target)?s.target.checked:s.target.value:s,Uf=s=>s.substring(0,s.search(/\.\d+(\.|$)/))||s,Sf=(s,n)=>s.has(Uf(n)),Pf=s=>{const n=s.constructor&&s.constructor.prototype;return Wt(n)&&n.hasOwnProperty("isPrototypeOf")},Fa=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Kt(s){let n;const t=Array.isArray(s),r=typeof FileList<"u"?s instanceof FileList:!1;if(s instanceof Date)n=new Date(s);else if(!(Fa&&(s instanceof Blob||r))&&(t||Wt(s)))if(n=t?[]:Object.create(Object.getPrototypeOf(s)),!t&&!Pf(s))n=s;else for(const i in s)s.hasOwnProperty(i)&&(n[i]=Kt(s[i]));else return s;return n}var gi=s=>/^\w*$/.test(s),Tt=s=>s===void 0,Wa=s=>Array.isArray(s)?s.filter(Boolean):[],qa=s=>Wa(s.replace(/["|']|\]/g,"").split(/\.|\[/)),Qe=(s,n,t)=>{if(!n||!Wt(s))return t;const r=(gi(n)?[n]:qa(n)).reduce((i,a)=>is(i)?i:i[a],s);return Tt(r)||r===s?Tt(s[n])?t:s[n]:r},Es=s=>typeof s=="boolean",Bt=(s,n,t)=>{let r=-1;const i=gi(n)?[n]:qa(n),a=i.length,o=a-1;for(;++r<a;){const m=i[r];let d=t;if(r!==o){const c=s[m];d=Wt(c)||Array.isArray(c)?c:isNaN(+i[r+1])?{}:[]}if(m==="__proto__"||m==="constructor"||m==="prototype")return;s[m]=d,s=s[m]}};const Bo={BLUR:"blur",FOCUS_OUT:"focusout"},xs={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Rs={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Rf=rt.createContext(null);Rf.displayName="HookFormContext";var Mf=(s,n,t,r=!0)=>{const i={defaultValues:n._defaultValues};for(const a in s)Object.defineProperty(i,a,{get:()=>{const o=a;return n._proxyFormState[o]!==xs.all&&(n._proxyFormState[o]=!r||xs.all),s[o]}});return i};const If=typeof window<"u"?rt.useLayoutEffect:rt.useEffect;var ds=s=>typeof s=="string",Tf=(s,n,t,r,i)=>ds(s)?(r&&n.watch.add(s),Qe(t,s,i)):Array.isArray(s)?s.map(a=>(r&&n.watch.add(a),Qe(t,a))):(r&&(n.watchAll=!0),t),ra=s=>is(s)||!vl(s);function Js(s,n,t=new WeakSet){if(ra(s)||ra(n))return s===n;if(cn(s)&&cn(n))return s.getTime()===n.getTime();const r=Object.keys(s),i=Object.keys(n);if(r.length!==i.length)return!1;if(t.has(s)||t.has(n))return!0;t.add(s),t.add(n);for(const a of r){const o=s[a];if(!i.includes(a))return!1;if(a!=="ref"){const m=n[a];if(cn(o)&&cn(m)||Wt(o)&&Wt(m)||Array.isArray(o)&&Array.isArray(m)?!Js(o,m,t):o!==m)return!1}}return!0}var Ff=(s,n,t,r,i)=>n?{...t[s],types:{...t[s]&&t[s].types?t[s].types:{},[r]:i||!0}}:{},Jn=s=>Array.isArray(s)?s:[s],Uo=()=>{let s=[];return{get observers(){return s},next:i=>{for(const a of s)a.next&&a.next(i)},subscribe:i=>(s.push(i),{unsubscribe:()=>{s=s.filter(a=>a!==i)}}),unsubscribe:()=>{s=[]}}};function Dl(s,n){const t={};for(const r in s)if(s.hasOwnProperty(r)){const i=s[r],a=n[r];if(i&&Wt(i)&&a){const o=Dl(i,a);Wt(o)&&(t[r]=o)}else s[r]&&(t[r]=a)}return t}var os=s=>Wt(s)&&!Object.keys(s).length,Oa=s=>s.type==="file",ys=s=>typeof s=="function",ei=s=>{if(!Fa)return!1;const n=s?s.ownerDocument:0;return s instanceof(n&&n.defaultView?n.defaultView.HTMLElement:HTMLElement)},Vl=s=>s.type==="select-multiple",$a=s=>s.type==="radio",Wf=s=>$a(s)||ur(s),Pi=s=>ei(s)&&s.isConnected;function qf(s,n){const t=n.slice(0,-1).length;let r=0;for(;r<t;)s=Tt(s)?r++:s[n[r++]];return s}function Of(s){for(const n in s)if(s.hasOwnProperty(n)&&!Tt(s[n]))return!1;return!0}function It(s,n){const t=Array.isArray(n)?n:gi(n)?[n]:qa(n),r=t.length===1?s:qf(s,t),i=t.length-1,a=t[i];return r&&delete r[a],i!==0&&(Wt(r)&&os(r)||Array.isArray(r)&&Of(r))&&It(s,t.slice(0,-1)),s}var $f=s=>{for(const n in s)if(ys(s[n]))return!0;return!1};function Cl(s){return Array.isArray(s)||Wt(s)&&!$f(s)}function ia(s,n={}){for(const t in s)Cl(s[t])?(n[t]=Array.isArray(s[t])?[]:{},ia(s[t],n[t])):is(s[t])||(n[t]=!0);return n}function Dn(s,n,t){t||(t=ia(n));for(const r in s)Cl(s[r])?Tt(n)||ra(t[r])?t[r]=ia(s[r],Array.isArray(s[r])?[]:{}):Dn(s[r],is(n)?{}:n[r],t[r]):t[r]=!Js(s[r],n[r]);return t}const So={value:!1,isValid:!1},Po={value:!0,isValid:!0};var El=s=>{if(Array.isArray(s)){if(s.length>1){const n=s.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:n,isValid:!!n.length}}return s[0].checked&&!s[0].disabled?s[0].attributes&&!Tt(s[0].attributes.value)?Tt(s[0].value)||s[0].value===""?Po:{value:s[0].value,isValid:!0}:Po:So}return So},Al=(s,{valueAsNumber:n,valueAsDate:t,setValueAs:r})=>Tt(s)?s:n?s===""?NaN:s&&+s:t&&ds(s)?new Date(s):r?r(s):s;const Ro={isValid:!1,value:null};var wl=s=>Array.isArray(s)?s.reduce((n,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:n,Ro):Ro;function Mo(s){const n=s.ref;return Oa(n)?n.files:$a(n)?wl(s.refs).value:Vl(n)?[...n.selectedOptions].map(({value:t})=>t):ur(n)?El(s.refs).value:Al(Tt(n.value)?s.ref.value:n.value,s)}var zf=(s,n,t,r)=>{const i={};for(const a of s){const o=Qe(n,a);o&&Bt(i,a,o._f)}return{criteriaMode:t,names:[...s],fields:i,shouldUseNativeValidation:r}},ti=s=>s instanceof RegExp,Fn=s=>Tt(s)?s:ti(s)?s.source:Wt(s)?ti(s.value)?s.value.source:s.value:s,Io=s=>({isOnSubmit:!s||s===xs.onSubmit,isOnBlur:s===xs.onBlur,isOnChange:s===xs.onChange,isOnAll:s===xs.all,isOnTouch:s===xs.onTouched});const To="AsyncFunction";var Yf=s=>!!s&&!!s.validate&&!!(ys(s.validate)&&s.validate.constructor.name===To||Wt(s.validate)&&Object.values(s.validate).find(n=>n.constructor.name===To)),Kf=s=>s.mount&&(s.required||s.min||s.max||s.maxLength||s.minLength||s.pattern||s.validate),Fo=(s,n,t)=>!t&&(n.watchAll||n.watch.has(s)||[...n.watch].some(r=>s.startsWith(r)&&/^\.\w+/.test(s.slice(r.length))));const Gn=(s,n,t,r)=>{for(const i of t||Object.keys(s)){const a=Qe(s,i);if(a){const{_f:o,...m}=a;if(o){if(o.refs&&o.refs[0]&&n(o.refs[0],i)&&!r)return!0;if(o.ref&&n(o.ref,o.name)&&!r)return!0;if(Gn(m,n))break}else if(Wt(m)&&Gn(m,n))break}}};function Wo(s,n,t){const r=Qe(s,t);if(r||gi(t))return{error:r,name:t};const i=t.split(".");for(;i.length;){const a=i.join("."),o=Qe(n,a),m=Qe(s,a);if(o&&!Array.isArray(o)&&t!==a)return{name:t};if(m&&m.type)return{name:a,error:m};if(m&&m.root&&m.root.type)return{name:`${a}.root`,error:m.root};i.pop()}return{name:t}}var Xf=(s,n,t,r)=>{t(s);const{name:i,...a}=s;return os(a)||Object.keys(a).length>=Object.keys(n).length||Object.keys(a).find(o=>n[o]===(!r||xs.all))},Jf=(s,n,t)=>!s||!n||s===n||Jn(s).some(r=>r&&(t?r===n:r.startsWith(n)||n.startsWith(r))),Gf=(s,n,t,r,i)=>i.isOnAll?!1:!t&&i.isOnTouch?!(n||s):(t?r.isOnBlur:i.isOnBlur)?!s:(t?r.isOnChange:i.isOnChange)?s:!0,Qf=(s,n)=>!Wa(Qe(s,n)).length&&It(s,n),Zf=(s,n,t)=>{const r=Jn(Qe(s,t));return Bt(r,"root",n[t]),Bt(s,t,r),s};function qo(s,n,t="validate"){if(ds(s)||Array.isArray(s)&&s.every(ds)||Es(s)&&!s)return{type:t,message:ds(s)?s:"",ref:n}}var yn=s=>Wt(s)&&!ti(s)?s:{value:s,message:""},Oo=async(s,n,t,r,i,a)=>{const{ref:o,refs:m,required:d,maxLength:c,minLength:u,min:g,max:b,pattern:p,validate:w,name:k,valueAsNumber:j,mount:B}=s._f,y=Qe(t,k);if(!B||n.has(k))return{};const O=m?m[0]:o,ge=X=>{i&&O.reportValidity&&(O.setCustomValidity(Es(X)?"":X||""),O.reportValidity())},ee={},Y=$a(o),de=ur(o),T=Y||de,oe=(j||Oa(o))&&Tt(o.value)&&Tt(y)||ei(o)&&o.value===""||y===""||Array.isArray(y)&&!y.length,re=Ff.bind(null,k,r,ee),Z=(X,be,we,Me=Rs.maxLength,Ve=Rs.minLength)=>{const Ee=X?be:we;ee[k]={type:X?Me:Ve,message:Ee,ref:o,...re(X?Me:Ve,Ee)}};if(a?!Array.isArray(y)||!y.length:d&&(!T&&(oe||is(y))||Es(y)&&!y||de&&!El(m).isValid||Y&&!wl(m).isValid)){const{value:X,message:be}=ds(d)?{value:!!d,message:d}:yn(d);if(X&&(ee[k]={type:Rs.required,message:be,ref:O,...re(Rs.required,be)},!r))return ge(be),ee}if(!oe&&(!is(g)||!is(b))){let X,be;const we=yn(b),Me=yn(g);if(!is(y)&&!isNaN(y)){const Ve=o.valueAsNumber||y&&+y;is(we.value)||(X=Ve>we.value),is(Me.value)||(be=Ve<Me.value)}else{const Ve=o.valueAsDate||new Date(y),Ee=Oe=>new Date(new Date().toDateString()+" "+Oe),_e=o.type=="time",Ue=o.type=="week";ds(we.value)&&y&&(X=_e?Ee(y)>Ee(we.value):Ue?y>we.value:Ve>new Date(we.value)),ds(Me.value)&&y&&(be=_e?Ee(y)<Ee(Me.value):Ue?y<Me.value:Ve<new Date(Me.value))}if((X||be)&&(Z(!!X,we.message,Me.message,Rs.max,Rs.min),!r))return ge(ee[k].message),ee}if((c||u)&&!oe&&(ds(y)||a&&Array.isArray(y))){const X=yn(c),be=yn(u),we=!is(X.value)&&y.length>+X.value,Me=!is(be.value)&&y.length<+be.value;if((we||Me)&&(Z(we,X.message,be.message),!r))return ge(ee[k].message),ee}if(p&&!oe&&ds(y)){const{value:X,message:be}=yn(p);if(ti(X)&&!y.match(X)&&(ee[k]={type:Rs.pattern,message:be,ref:o,...re(Rs.pattern,be)},!r))return ge(be),ee}if(w){if(ys(w)){const X=await w(y,t),be=qo(X,O);if(be&&(ee[k]={...be,...re(Rs.validate,be.message)},!r))return ge(be.message),ee}else if(Wt(w)){let X={};for(const be in w){if(!os(X)&&!r)break;const we=qo(await w[be](y,t),O,be);we&&(X={...we,...re(be,we.message)},ge(we.message),r&&(ee[k]=X))}if(!os(X)&&(ee[k]={ref:O,...X},!r))return ee}}return ge(!0),ee};const eg={mode:xs.onSubmit,reValidateMode:xs.onChange,shouldFocusError:!0};function tg(s={}){let n={...eg,...s},t={submitCount:0,isDirty:!1,isReady:!1,isLoading:ys(n.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:n.errors||{},disabled:n.disabled||!1},r={},i=Wt(n.defaultValues)||Wt(n.values)?Kt(n.defaultValues||n.values)||{}:{},a=n.shouldUnregister?{}:Kt(i),o={action:!1,mount:!1,watch:!1},m={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},d,c=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let g={...u};const b={array:Uo(),state:Uo()},p=n.criteriaMode===xs.all,w=E=>W=>{clearTimeout(c),c=setTimeout(E,W)},k=async E=>{if(!n.disabled&&(u.isValid||g.isValid||E)){const W=n.resolver?os((await de()).errors):await oe(r,!0);W!==t.isValid&&b.state.next({isValid:W})}},j=(E,W)=>{!n.disabled&&(u.isValidating||u.validatingFields||g.isValidating||g.validatingFields)&&((E||Array.from(m.mount)).forEach(J=>{J&&(W?Bt(t.validatingFields,J,W):It(t.validatingFields,J))}),b.state.next({validatingFields:t.validatingFields,isValidating:!os(t.validatingFields)}))},B=(E,W=[],J,pe,ve=!0,P=!0)=>{if(pe&&J&&!n.disabled){if(o.action=!0,P&&Array.isArray(Qe(r,E))){const C=J(Qe(r,E),pe.argA,pe.argB);ve&&Bt(r,E,C)}if(P&&Array.isArray(Qe(t.errors,E))){const C=J(Qe(t.errors,E),pe.argA,pe.argB);ve&&Bt(t.errors,E,C),Qf(t.errors,E)}if((u.touchedFields||g.touchedFields)&&P&&Array.isArray(Qe(t.touchedFields,E))){const C=J(Qe(t.touchedFields,E),pe.argA,pe.argB);ve&&Bt(t.touchedFields,E,C)}(u.dirtyFields||g.dirtyFields)&&(t.dirtyFields=Dn(i,a)),b.state.next({name:E,isDirty:Z(E,W),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else Bt(a,E,W)},y=(E,W)=>{Bt(t.errors,E,W),b.state.next({errors:t.errors})},O=E=>{t.errors=E,b.state.next({errors:t.errors,isValid:!1})},ge=(E,W,J,pe)=>{const ve=Qe(r,E);if(ve){const P=Qe(a,E,Tt(J)?Qe(i,E):J);Tt(P)||pe&&pe.defaultChecked||W?Bt(a,E,W?P:Mo(ve._f)):we(E,P),o.mount&&k()}},ee=(E,W,J,pe,ve)=>{let P=!1,C=!1;const L={name:E};if(!n.disabled){if(!J||pe){(u.isDirty||g.isDirty)&&(C=t.isDirty,t.isDirty=L.isDirty=Z(),P=C!==L.isDirty);const f=Js(Qe(i,E),W);C=!!Qe(t.dirtyFields,E),f?It(t.dirtyFields,E):Bt(t.dirtyFields,E,!0),L.dirtyFields=t.dirtyFields,P=P||(u.dirtyFields||g.dirtyFields)&&C!==!f}if(J){const f=Qe(t.touchedFields,E);f||(Bt(t.touchedFields,E,J),L.touchedFields=t.touchedFields,P=P||(u.touchedFields||g.touchedFields)&&f!==J)}P&&ve&&b.state.next(L)}return P?L:{}},Y=(E,W,J,pe)=>{const ve=Qe(t.errors,E),P=(u.isValid||g.isValid)&&Es(W)&&t.isValid!==W;if(n.delayError&&J?(d=w(()=>y(E,J)),d(n.delayError)):(clearTimeout(c),d=null,J?Bt(t.errors,E,J):It(t.errors,E)),(J?!Js(ve,J):ve)||!os(pe)||P){const C={...pe,...P&&Es(W)?{isValid:W}:{},errors:t.errors,name:E};t={...t,...C},b.state.next(C)}},de=async E=>{j(E,!0);const W=await n.resolver(a,n.context,zf(E||m.mount,r,n.criteriaMode,n.shouldUseNativeValidation));return j(E),W},T=async E=>{const{errors:W}=await de(E);if(E)for(const J of E){const pe=Qe(W,J);pe?Bt(t.errors,J,pe):It(t.errors,J)}else t.errors=W;return W},oe=async(E,W,J={valid:!0})=>{for(const pe in E){const ve=E[pe];if(ve){const{_f:P,...C}=ve;if(P){const L=m.array.has(P.name),f=ve._f&&Yf(ve._f);f&&u.validatingFields&&j([P.name],!0);const V=await Oo(ve,m.disabled,a,p,n.shouldUseNativeValidation&&!W,L);if(f&&u.validatingFields&&j([P.name]),V[P.name]&&(J.valid=!1,W))break;!W&&(Qe(V,P.name)?L?Zf(t.errors,V,P.name):Bt(t.errors,P.name,V[P.name]):It(t.errors,P.name))}!os(C)&&await oe(C,W,J)}}return J.valid},re=()=>{for(const E of m.unMount){const W=Qe(r,E);W&&(W._f.refs?W._f.refs.every(J=>!Pi(J)):!Pi(W._f.ref))&&ze(E)}m.unMount=new Set},Z=(E,W)=>!n.disabled&&(E&&W&&Bt(a,E,W),!Js(Oe(),i)),X=(E,W,J)=>Tf(E,m,{...o.mount?a:Tt(W)?i:ds(E)?{[E]:W}:W},J,W),be=E=>Wa(Qe(o.mount?a:i,E,n.shouldUnregister?Qe(i,E,[]):[])),we=(E,W,J={})=>{const pe=Qe(r,E);let ve=W;if(pe){const P=pe._f;P&&(!P.disabled&&Bt(a,E,Al(W,P)),ve=ei(P.ref)&&is(W)?"":W,Vl(P.ref)?[...P.ref.options].forEach(C=>C.selected=ve.includes(C.value)):P.refs?ur(P.ref)?P.refs.forEach(C=>{(!C.defaultChecked||!C.disabled)&&(Array.isArray(ve)?C.checked=!!ve.find(L=>L===C.value):C.checked=ve===C.value||!!ve)}):P.refs.forEach(C=>C.checked=C.value===ve):Oa(P.ref)?P.ref.value="":(P.ref.value=ve,P.ref.type||b.state.next({name:E,values:Kt(a)})))}(J.shouldDirty||J.shouldTouch)&&ee(E,ve,J.shouldTouch,J.shouldDirty,!0),J.shouldValidate&&Ue(E)},Me=(E,W,J)=>{for(const pe in W){if(!W.hasOwnProperty(pe))return;const ve=W[pe],P=E+"."+pe,C=Qe(r,P);(m.array.has(E)||Wt(ve)||C&&!C._f)&&!cn(ve)?Me(P,ve,J):we(P,ve,J)}},Ve=(E,W,J={})=>{const pe=Qe(r,E),ve=m.array.has(E),P=Kt(W);Bt(a,E,P),ve?(b.array.next({name:E,values:Kt(a)}),(u.isDirty||u.dirtyFields||g.isDirty||g.dirtyFields)&&J.shouldDirty&&b.state.next({name:E,dirtyFields:Dn(i,a),isDirty:Z(E,P)})):pe&&!pe._f&&!is(P)?Me(E,P,J):we(E,P,J),Fo(E,m)&&b.state.next({...t,name:E}),b.state.next({name:o.mount?E:void 0,values:Kt(a)})},Ee=async E=>{o.mount=!0;const W=E.target;let J=W.name,pe=!0;const ve=Qe(r,J),P=f=>{pe=Number.isNaN(f)||cn(f)&&isNaN(f.getTime())||Js(f,Qe(a,J,f))},C=Io(n.mode),L=Io(n.reValidateMode);if(ve){let f,V;const h=W.type?Mo(ve._f):Bf(E),M=E.type===Bo.BLUR||E.type===Bo.FOCUS_OUT,ke=!Kf(ve._f)&&!n.resolver&&!Qe(t.errors,J)&&!ve._f.deps||Gf(M,Qe(t.touchedFields,J),t.isSubmitted,L,C),Ce=Fo(J,m,M);Bt(a,J,h),M?(!W||!W.readOnly)&&(ve._f.onBlur&&ve._f.onBlur(E),d&&d(0)):ve._f.onChange&&ve._f.onChange(E);const Te=ee(J,h,M),Fe=!os(Te)||Ce;if(!M&&b.state.next({name:J,type:E.type,values:Kt(a)}),ke)return(u.isValid||g.isValid)&&(n.mode==="onBlur"?M&&k():M||k()),Fe&&b.state.next({name:J,...Ce?{}:Te});if(!M&&Ce&&b.state.next({...t}),n.resolver){const{errors:at}=await de([J]);if(P(h),pe){const et=Wo(t.errors,r,J),Ze=Wo(at,r,et.name||J);f=Ze.error,J=Ze.name,V=os(at)}}else j([J],!0),f=(await Oo(ve,m.disabled,a,p,n.shouldUseNativeValidation))[J],j([J]),P(h),pe&&(f?V=!1:(u.isValid||g.isValid)&&(V=await oe(r,!0)));pe&&(ve._f.deps&&(!Array.isArray(ve._f.deps)||ve._f.deps.length>0)&&Ue(ve._f.deps),Y(J,V,f,Te))}},_e=(E,W)=>{if(Qe(t.errors,W)&&E.focus)return E.focus(),1},Ue=async(E,W={})=>{let J,pe;const ve=Jn(E);if(n.resolver){const P=await T(Tt(E)?E:ve);J=os(P),pe=E?!ve.some(C=>Qe(P,C)):J}else E?(pe=(await Promise.all(ve.map(async P=>{const C=Qe(r,P);return await oe(C&&C._f?{[P]:C}:C)}))).every(Boolean),!(!pe&&!t.isValid)&&k()):pe=J=await oe(r);return b.state.next({...!ds(E)||(u.isValid||g.isValid)&&J!==t.isValid?{}:{name:E},...n.resolver||!E?{isValid:J}:{},errors:t.errors}),W.shouldFocus&&!pe&&Gn(r,_e,E?ve:m.mount),pe},Oe=(E,W)=>{let J={...o.mount?a:i};return W&&(J=Dl(W.dirtyFields?t.dirtyFields:t.touchedFields,J)),Tt(E)?J:ds(E)?Qe(J,E):E.map(pe=>Qe(J,pe))},fe=(E,W)=>({invalid:!!Qe((W||t).errors,E),isDirty:!!Qe((W||t).dirtyFields,E),error:Qe((W||t).errors,E),isValidating:!!Qe(t.validatingFields,E),isTouched:!!Qe((W||t).touchedFields,E)}),He=E=>{E&&Jn(E).forEach(W=>It(t.errors,W)),b.state.next({errors:E?t.errors:{}})},De=(E,W,J)=>{const pe=(Qe(r,E,{_f:{}})._f||{}).ref,ve=Qe(t.errors,E)||{},{ref:P,message:C,type:L,...f}=ve;Bt(t.errors,E,{...f,...W,ref:pe}),b.state.next({name:E,errors:t.errors,isValid:!1}),J&&J.shouldFocus&&pe&&pe.focus&&pe.focus()},Be=(E,W)=>ys(E)?b.state.subscribe({next:J=>"values"in J&&E(X(void 0,W),J)}):X(E,W,!0),Re=E=>b.state.subscribe({next:W=>{Jf(E.name,W.name,E.exact)&&Xf(W,E.formState||u,Se,E.reRenderRoot)&&E.callback({values:{...a},...t,...W,defaultValues:i})}}).unsubscribe,Ke=E=>(o.mount=!0,g={...g,...E.formState},Re({...E,formState:g})),ze=(E,W={})=>{for(const J of E?Jn(E):m.mount)m.mount.delete(J),m.array.delete(J),W.keepValue||(It(r,J),It(a,J)),!W.keepError&&It(t.errors,J),!W.keepDirty&&It(t.dirtyFields,J),!W.keepTouched&&It(t.touchedFields,J),!W.keepIsValidating&&It(t.validatingFields,J),!n.shouldUnregister&&!W.keepDefaultValue&&It(i,J);b.state.next({values:Kt(a)}),b.state.next({...t,...W.keepDirty?{isDirty:Z()}:{}}),!W.keepIsValid&&k()},qe=({disabled:E,name:W})=>{(Es(E)&&o.mount||E||m.disabled.has(W))&&(E?m.disabled.add(W):m.disabled.delete(W))},S=(E,W={})=>{let J=Qe(r,E);const pe=Es(W.disabled)||Es(n.disabled);return Bt(r,E,{...J||{},_f:{...J&&J._f?J._f:{ref:{name:E}},name:E,mount:!0,...W}}),m.mount.add(E),J?qe({disabled:Es(W.disabled)?W.disabled:n.disabled,name:E}):ge(E,!0,W.value),{...pe?{disabled:W.disabled||n.disabled}:{},...n.progressive?{required:!!W.required,min:Fn(W.min),max:Fn(W.max),minLength:Fn(W.minLength),maxLength:Fn(W.maxLength),pattern:Fn(W.pattern)}:{},name:E,onChange:Ee,onBlur:Ee,ref:ve=>{if(ve){S(E,W),J=Qe(r,E);const P=Tt(ve.value)&&ve.querySelectorAll&&ve.querySelectorAll("input,select,textarea")[0]||ve,C=Wf(P),L=J._f.refs||[];if(C?L.find(f=>f===P):P===J._f.ref)return;Bt(r,E,{_f:{...J._f,...C?{refs:[...L.filter(Pi),P,...Array.isArray(Qe(i,E))?[{}]:[]],ref:{type:P.type,name:E}}:{ref:P}}}),ge(E,!1,void 0,P)}else J=Qe(r,E,{}),J._f&&(J._f.mount=!1),(n.shouldUnregister||W.shouldUnregister)&&!(Sf(m.array,E)&&o.action)&&m.unMount.add(E)}}},ue=()=>n.shouldFocusError&&Gn(r,_e,m.mount),xe=E=>{Es(E)&&(b.state.next({disabled:E}),Gn(r,(W,J)=>{const pe=Qe(r,J);pe&&(W.disabled=pe._f.disabled||E,Array.isArray(pe._f.refs)&&pe._f.refs.forEach(ve=>{ve.disabled=pe._f.disabled||E}))},0,!1))},te=(E,W)=>async J=>{let pe;J&&(J.preventDefault&&J.preventDefault(),J.persist&&J.persist());let ve=Kt(a);if(b.state.next({isSubmitting:!0}),n.resolver){const{errors:P,values:C}=await de();t.errors=P,ve=Kt(C)}else await oe(r);if(m.disabled.size)for(const P of m.disabled)It(ve,P);if(It(t.errors,"root"),os(t.errors)){b.state.next({errors:{}});try{await E(ve,J)}catch(P){pe=P}}else W&&await W({...t.errors},J),ue(),setTimeout(ue);if(b.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:os(t.errors)&&!pe,submitCount:t.submitCount+1,errors:t.errors}),pe)throw pe},q=(E,W={})=>{Qe(r,E)&&(Tt(W.defaultValue)?Ve(E,Kt(Qe(i,E))):(Ve(E,W.defaultValue),Bt(i,E,Kt(W.defaultValue))),W.keepTouched||It(t.touchedFields,E),W.keepDirty||(It(t.dirtyFields,E),t.isDirty=W.defaultValue?Z(E,Kt(Qe(i,E))):Z()),W.keepError||(It(t.errors,E),u.isValid&&k()),b.state.next({...t}))},G=(E,W={})=>{const J=E?Kt(E):i,pe=Kt(J),ve=os(E),P=ve?i:pe;if(W.keepDefaultValues||(i=J),!W.keepValues){if(W.keepDirtyValues){const C=new Set([...m.mount,...Object.keys(Dn(i,a))]);for(const L of Array.from(C))Qe(t.dirtyFields,L)?Bt(P,L,Qe(a,L)):Ve(L,Qe(P,L))}else{if(Fa&&Tt(E))for(const C of m.mount){const L=Qe(r,C);if(L&&L._f){const f=Array.isArray(L._f.refs)?L._f.refs[0]:L._f.ref;if(ei(f)){const V=f.closest("form");if(V){V.reset();break}}}}if(W.keepFieldsRef)for(const C of m.mount)Ve(C,Qe(P,C));else r={}}a=n.shouldUnregister?W.keepDefaultValues?Kt(i):{}:Kt(P),b.array.next({values:{...P}}),b.state.next({values:{...P}})}m={mount:W.keepDirtyValues?m.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!W.keepIsValid||!!W.keepDirtyValues,o.watch=!!n.shouldUnregister,b.state.next({submitCount:W.keepSubmitCount?t.submitCount:0,isDirty:ve?!1:W.keepDirty?t.isDirty:!!(W.keepDefaultValues&&!Js(E,i)),isSubmitted:W.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:ve?{}:W.keepDirtyValues?W.keepDefaultValues&&a?Dn(i,a):t.dirtyFields:W.keepDefaultValues&&E?Dn(i,E):W.keepDirty?t.dirtyFields:{},touchedFields:W.keepTouched?t.touchedFields:{},errors:W.keepErrors?t.errors:{},isSubmitSuccessful:W.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:i})},z=(E,W)=>G(ys(E)?E(a):E,W),ye=(E,W={})=>{const J=Qe(r,E),pe=J&&J._f;if(pe){const ve=pe.refs?pe.refs[0]:pe.ref;ve.focus&&(ve.focus(),W.shouldSelect&&ys(ve.select)&&ve.select())}},Se=E=>{t={...t,...E}},ae={control:{register:S,unregister:ze,getFieldState:fe,handleSubmit:te,setError:De,_subscribe:Re,_runSchema:de,_focusError:ue,_getWatch:X,_getDirty:Z,_setValid:k,_setFieldArray:B,_setDisabledField:qe,_setErrors:O,_getFieldArray:be,_reset:G,_resetDefaultValues:()=>ys(n.defaultValues)&&n.defaultValues().then(E=>{z(E,n.resetOptions),b.state.next({isLoading:!1})}),_removeUnmounted:re,_disableForm:xe,_subjects:b,_proxyFormState:u,get _fields(){return r},get _formValues(){return a},get _state(){return o},set _state(E){o=E},get _defaultValues(){return i},get _names(){return m},set _names(E){m=E},get _formState(){return t},get _options(){return n},set _options(E){n={...n,...E}}},subscribe:Ke,trigger:Ue,register:S,handleSubmit:te,watch:Be,setValue:Ve,getValues:Oe,reset:z,resetField:q,clearErrors:He,unregister:ze,setError:De,setFocus:ye,getFieldState:fe};return{...ae,formControl:ae}}function pr(s={}){const n=rt.useRef(void 0),t=rt.useRef(void 0),[r,i]=rt.useState({isDirty:!1,isValidating:!1,isLoading:ys(s.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:s.errors||{},disabled:s.disabled||!1,isReady:!1,defaultValues:ys(s.defaultValues)?void 0:s.defaultValues});if(!n.current)if(s.formControl)n.current={...s.formControl,formState:r},s.defaultValues&&!ys(s.defaultValues)&&s.formControl.reset(s.defaultValues,s.resetOptions);else{const{formControl:o,...m}=tg(s);n.current={...m,formState:r}}const a=n.current.control;return a._options=s,If(()=>{const o=a._subscribe({formState:a._proxyFormState,callback:()=>i({...a._formState}),reRenderRoot:!0});return i(m=>({...m,isReady:!0})),a._formState.isReady=!0,o},[a]),rt.useEffect(()=>a._disableForm(s.disabled),[a,s.disabled]),rt.useEffect(()=>{s.mode&&(a._options.mode=s.mode),s.reValidateMode&&(a._options.reValidateMode=s.reValidateMode)},[a,s.mode,s.reValidateMode]),rt.useEffect(()=>{s.errors&&(a._setErrors(s.errors),a._focusError())},[a,s.errors]),rt.useEffect(()=>{s.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[a,s.shouldUnregister]),rt.useEffect(()=>{if(a._proxyFormState.isDirty){const o=a._getDirty();o!==r.isDirty&&a._subjects.state.next({isDirty:o})}},[a,r.isDirty]),rt.useEffect(()=>{s.values&&!Js(s.values,t.current)?(a._reset(s.values,{keepFieldsRef:!0,...a._options.resetOptions}),t.current=s.values,i(o=>({...o}))):a._resetDefaultValues()},[a,s.values]),rt.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),n.current.formState=Mf(r,a),n.current}const $o=["","","","","","",""],_l=({event:s,slotInfo:n,defaultProjectName:t,onClose:r,onSave:i,onDelete:a})=>{const[o,m]=l.useState(!1),{register:d,handleSubmit:c,setValue:u,watch:g,formState:{errors:b},reset:p}=pr({defaultValues:{projectId:"",title:"",date:"",description:""}}),{projects:w}=vs(),[k,j]=l.useState([]),[B,y]=l.useState(""),[O,ge]=l.useState(!1),[ee,Y]=l.useState(""),[de,T]=l.useState(9),[oe,re]=l.useState(0),[Z,X]=l.useState(""),be=g("projectId");l.useEffect(()=>{if(be){const fe=w.find(He=>He.id===be||He.id===parseInt(be)||He.id.toString()===be.toString());console.log(" Selected project:",fe==null?void 0:fe.name),console.log(" Project team:",fe==null?void 0:fe.team),console.log(" Current selectedMembers:",k)}},[be,w,k]),l.useEffect(()=>{console.log(" Modal mount - initializing states"),j([]),X(""),y("")},[]),l.useEffect(()=>{if(console.log(" ScheduleModal useEffect triggered:",{hasEvent:!!s,eventId:s==null?void 0:s.id,hasSlotInfo:!!n,hasMergedEvents:!!(s!=null&&s.mergedEventIds)}),s&&s.id){console.log(" ScheduleModal processing event:",{title:s.title,projectId:s.projectId,projectName:s.projectName,start:s.start,assignedTo:s.assignedTo,time:s.time});const fe=s.originalTitle||s.title,He=/ - (|) \d{1,2}$/,De=fe.replace(He,"");if(u("title",De,{shouldValidate:!1,shouldDirty:!1}),u("date",Le(s.start,"yyyy-MM-dd"),{shouldValidate:!1,shouldDirty:!1}),u("description",s.description||"",{shouldValidate:!1,shouldDirty:!1}),s.projectId&&s.projectId!==""&&s.projectId!=="undefined")console.log(" Setting projectId from event:",s.projectId),u("projectId",s.projectId,{shouldValidate:!1,shouldDirty:!1}),X("");else if(s.projectName){const Re=w.find(Ke=>Ke.name===s.projectName);console.log(" Finding project by name:",s.projectName,"found:",Re),Re?(console.log(" Setting projectId from found project:",Re.id),u("projectId",Re.id,{shouldValidate:!1,shouldDirty:!1}),X("")):(console.log(" Project not found, leaving empty"),u("projectId","",{shouldValidate:!1,shouldDirty:!1}),X(""))}else console.log(" No project info, leaving empty"),u("projectId","",{shouldValidate:!1,shouldDirty:!1}),X("");const Be=s.assignedTo||s.attendees||[];if(console.log(" Setting selectedMembers to:",Be),j(Array.isArray(Be)?Be:[]),s.time&&s.time!=="-"){console.log(" Setting time from event:",{eventTime:s.time,parsedHours:s.time.split(":")[0],parsedMinutes:s.time.split(":")[1]}),ge(!0);const[Re,Ke]=s.time.split(":"),ze=parseInt(Re,10),qe=parseInt(Ke,10);ze>=12?(Y(""),T(ze===12?12:ze-12)):(Y(""),T(ze===0?12:ze)),re(qe),console.log(" Time state set:",{hasTime:!0,period:ze>=12?"":"",hour:ze>=12?ze===12?12:ze-12:ze===0?12:ze,minute:qe})}else console.log(" No time in event, setting hasTime to false"),ge(!1),Y(""),T(9),re(0)}else if(n&&!s&&(console.log(" New schedule from slot:",n),p({projectId:"",title:"",date:Le(n.start,"yyyy-MM-dd"),description:""}),console.log(" New schedule - resetting selectedMembers to empty array"),j([]),X(""),t)){const fe=w.find(He=>He.name===t);fe&&u("projectId",fe.id,{shouldValidate:!1,shouldDirty:!1})}},[s==null?void 0:s.id]);const we=fe=>{console.log(" toggleMember called with:",fe),console.log(" Current selectedMembers before toggle:",k),j(He=>{console.log(" Previous members in setState:",He);const De=He.includes(fe)?He.filter(Be=>Be!==fe):[...He,fe];return console.log(" Updated members after toggle:",De),De})},Me=()=>{const fe="HV LAB";k.includes(fe)?j(He=>He.filter(De=>De!==fe)):j(He=>[...He,fe])},Ve=()=>{const fe="";k.includes(fe)?j(He=>He.filter(De=>De!==fe)):j(He=>[...He,fe])},Ee=()=>{const fe="";k.includes(fe)?j(He=>He.filter(De=>De!==fe)):j(He=>[...He,fe])},_e=()=>{B.trim()&&!k.includes(B.trim())&&(j(fe=>[...fe,B.trim()]),y(""))},Ue=fe=>{j(He=>He.filter(De=>De!==fe))},Oe=async fe=>{console.log(" Form onSubmit called with data:",fe),console.log(" selectedMembers:",k),console.log(" hasTime state:",O),console.log(" timePeriod:",ee,"timeHour:",de,"timeMinute:",oe),console.log(" Available projects:",w.map(S=>({id:S.id,name:S.name,idType:typeof S.id}))),console.log(" Merged event IDs:",s==null?void 0:s.mergedEventIds);const He=/ - (|) \d{1,2}$/,De=fe.title.replace(He,"").trim();let Be="",Re="";if(fe.projectId){const S=w.find(ue=>ue.id===fe.projectId||ue.id===parseInt(fe.projectId)||ue.id.toString()===fe.projectId.toString());console.log(" Looking for project with id:",fe.projectId,"type:",typeof fe.projectId),console.log(" Found project:",S),Be=(S==null?void 0:S.name)||"",Re=fe.projectId}else Be="",Re="";console.log(" Final projectId:",Re,"projectName:",Be,"cleanedTitle:",De);const Ke=new Date(fe.date);let ze="-";if(O){let S=de;ee===""&&de!==12?S=de+12:ee===""&&de===12&&(S=0),ze=`${S.toString().padStart(2,"0")}:${oe.toString().padStart(2,"0")}`,console.log(" Time calculated:",ze)}else console.log(" No time set (hasTime is false)");const qe={...s,title:De,start:Ke,end:Ke,projectId:Re,projectName:Be,assignedTo:k,description:fe.description||"",time:ze,mergedEventIds:s==null?void 0:s.mergedEventIds};if(!o){m(!0),console.log(" Calling onSave with newEvent:",qe);try{await i(qe),console.log(" onSave completed successfully")}catch(S){throw console.error(" onSave failed:",S),m(!1),S}}};return console.log(" Rendering ScheduleModal with selectedMembers:",k),e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-3 md:p-4",children:e.jsxDEV("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxDEV("div",{className:"flex items-center justify-between p-4 md:p-6 border-b",children:[e.jsxDEV("h2",{className:"text-lg md:text-xl font-semibold",children:s?" ":"  "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:380,columnNumber:11},void 0),e.jsxDEV("button",{onClick:r,className:"p-1.5 md:p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsxDEV(ft,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:387,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:383,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:379,columnNumber:9},void 0),e.jsxDEV("form",{onSubmit:c(Oe),className:"p-4 md:p-6 space-y-3 md:space-y-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:395,columnNumber:13},void 0),e.jsxDEV("select",{...d("projectId"),className:"input w-full",children:[e.jsxDEV("option",{value:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:402,columnNumber:15},void 0),w.filter(fe=>s!=null&&s.isASVisit?!0:fe.status!=="completed").map(fe=>e.jsxDEV("option",{value:fe.id,children:fe.name},fe.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:412,columnNumber:19},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:398,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:394,columnNumber:11},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:421,columnNumber:13},void 0),e.jsxDEV("input",{...d("title",{required:" "}),type:"text",className:"input w-full"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:424,columnNumber:13},void 0),b.title&&e.jsxDEV("p",{className:"mt-1 text-sm text-red-600",children:String(b.title.message)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:430,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:420,columnNumber:11},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:436,columnNumber:13},void 0),e.jsxDEV("input",{...d("date",{required:" "}),type:"date",className:"input w-full"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:439,columnNumber:13},void 0),b.date&&e.jsxDEV("p",{className:"mt-1 text-sm text-red-600",children:String(b.date.message)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:445,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:435,columnNumber:11},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:451,columnNumber:13},void 0),e.jsxDEV("div",{className:"mb-2",children:e.jsxDEV("button",{type:"button",onClick:()=>ge(!O),className:`px-3 py-1.5 text-xs rounded border transition-colors ${O?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:O?" ":"  (-)"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:457,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:456,columnNumber:13},void 0),O&&e.jsxDEV("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsxDEV("div",{className:"flex gap-1",children:[e.jsxDEV("button",{type:"button",onClick:()=>Y(""),className:`px-3 py-1.5 text-xs rounded border transition-colors ${ee===""?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:475,columnNumber:19},void 0),e.jsxDEV("button",{type:"button",onClick:()=>Y(""),className:`px-3 py-1.5 text-xs rounded border transition-colors ${ee===""?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:486,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:474,columnNumber:17},void 0),e.jsxDEV("select",{value:de,onChange:fe=>T(parseInt(fe.target.value)),className:"flex-1 min-w-[80px] max-w-[120px] px-2 py-1.5 text-sm border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-gray-500",children:[12,1,2,3,4,5,6,7,8,9,10,11].map(fe=>e.jsxDEV("option",{value:fe,children:[fe,""]},fe,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:506,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:500,columnNumber:17},void 0),e.jsxDEV("select",{value:oe,onChange:fe=>re(parseInt(fe.target.value)),className:"flex-1 min-w-[80px] max-w-[120px] px-2 py-1.5 text-sm border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-gray-500",children:[0,10,20,30,40,50].map(fe=>e.jsxDEV("option",{value:fe,children:[fe,""]},fe,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:519,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:513,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:472,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:450,columnNumber:11},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" (  )"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:530,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex flex-wrap gap-1.5 mb-2",children:[e.jsxDEV("button",{type:"button",onClick:Me,className:`px-2.5 py-1.5 rounded border transition-colors text-sm ${k.includes("HV LAB")?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:"HV LAB"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:537,columnNumber:15},void 0),e.jsxDEV("button",{type:"button",onClick:Ve,className:`px-2.5 py-1.5 rounded border transition-colors text-sm ${k.includes("")?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:550,columnNumber:15},void 0),e.jsxDEV("button",{type:"button",onClick:Ee,className:`px-2.5 py-1.5 rounded border transition-colors text-sm ${k.includes("")?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:563,columnNumber:15},void 0),$o.map(fe=>e.jsxDEV("button",{type:"button",onClick:()=>we(fe),className:`px-2.5 py-1.5 rounded border transition-colors text-sm ${k.includes(fe)?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:fe},fe,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:577,columnNumber:17},void 0)),k.filter(fe=>!$o.includes(fe)&&fe!=="HV LAB"&&fe!==""&&fe!=="").map(fe=>e.jsxDEV("button",{type:"button",onClick:()=>Ue(fe),className:"px-2.5 py-1.5 rounded border transition-colors text-sm bg-gray-900 text-white border-gray-900 hover:bg-gray-800",children:[fe," "]},fe,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:595,columnNumber:19},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:535,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV("input",{type:"text",value:B,onChange:fe=>y(fe.target.value),onKeyPress:fe=>{fe.key==="Enter"&&(fe.preventDefault(),_e())},className:"flex-1 px-3 py-1.5 border border-gray-300 rounded-lg text-xs focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:609,columnNumber:15},void 0),e.jsxDEV("button",{type:"button",onClick:_e,className:"px-3 py-1.5 bg-gray-100 text-gray-700 rounded-lg text-xs font-medium hover:bg-gray-200 transition-colors",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:621,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:608,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:529,columnNumber:11},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:633,columnNumber:13},void 0),e.jsxDEV("textarea",{...d("description"),rows:2,className:"input w-full text-sm md:text-base"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:636,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:632,columnNumber:11},void 0),e.jsxDEV("div",{className:"flex flex-col sm:flex-row sm:justify-between gap-2 sm:gap-0 pt-4 border-t",children:[e.jsxDEV("div",{children:s&&e.jsxDEV("button",{type:"button",onClick:()=>{window.confirm("  ?")&&a(s.id)},className:"btn btn-outline text-red-600 hover:bg-red-50 flex items-center w-full sm:w-auto justify-center text-sm md:text-base",children:[e.jsxDEV(Vt,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:656,columnNumber:19},void 0),""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:647,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:645,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex gap-2 sm:space-x-3",children:[e.jsxDEV("button",{type:"button",onClick:r,className:"btn btn-outline flex-1 sm:flex-none text-sm md:text-base",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:662,columnNumber:15},void 0),e.jsxDEV("button",{type:"submit",disabled:o,className:"btn btn-primary flex-1 sm:flex-none text-sm md:text-base disabled:opacity-50",children:o?" ...":s?"":""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:669,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:661,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:644,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:392,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:377,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:376,columnNumber:5},void 0)},si=s=>{if(!s||s==="-")return"";const[n,t]=s.split(":"),r=parseInt(n,10),i=parseInt(t,10),a=r>=12?"":"",o=r%12||12;return i>0?`${a} ${o} ${i}`:`${a} ${o}`},ni=["","","","","","","","","","","","","","","","","","","","","","","","","","",""],Qn=s=>{if(!s)return s;const n=s.replace(/$/g,"").trim(),t=n.split(" ");if(t.length>=2){const r=t[t.length-1];for(const i of ni)if(r===i)return t.slice(0,-1).join(" ").trim()}for(const r of ni)if(n.endsWith(r))return n.substring(0,n.length-r.length).trim()||n;return n},Er=s=>{const n=s.replace(/$/g,"").trim(),t=n.split(" ");if(t.length>=2){const r=t[t.length-1];for(const i of ni)if(r===i)return i}for(const r of ni)if(n.endsWith(r))return r;return""},zo=["","","","","","",""],sg=()=>{const{schedules:s,loadSchedulesFromAPI:n,addScheduleToAPI:t,deleteScheduleFromAPI:r}=vs(),{user:i}=Qt(),[a,o]=l.useState(!1),m=i!=null&&i.name?i.name.slice(-2):null,d=(i==null?void 0:i.name)===""?[""]:m?[m,...zo.filter(u=>u!==m)]:zo,c=u=>{const g=s.filter(k=>k.attendees?!!(k.attendees.includes(u)||k.attendees.includes("HV LAB")||k.attendees.includes("")&&["",""].includes(u)||k.attendees.includes("")&&["","",""].includes(u)):!1),b=k=>{const j=new Set;return k.filter(B=>{const O=`${Le(new Date(B.start),"yyyy-MM-dd")}|${B.project}|${B.title}`;return j.has(O)?!1:(j.add(O),!0)})},p=b(g.filter(k=>Do(new Date(k.start)))),w=b(g.filter(k=>Kc(new Date(k.start))&&!Do(new Date(k.start))).sort((k,j)=>new Date(k.start).getTime()-new Date(j.start).getTime())).slice(0,3);return{todaySchedules:p,upcomingSchedules:w,member:u}};return e.jsxDEV("div",{className:"space-y-3 md:space-y-5 lg:space-y-4",children:[e.jsxDEV("div",{children:e.jsxDEV("div",{className:"dashboard-grid grid grid-cols-1 sm:grid-cols-2 ipad:grid-cols-2 ipad-lg:grid-cols-2 ipad-xl:grid-cols-3 ipad-2xl:grid-cols-3 2xl:grid-cols-4 gap-3 md:gap-4 lg:gap-4",children:d.map(u=>{const{todaySchedules:g,upcomingSchedules:b}=c(u),p=g.length+b.length,w=u===m;return e.jsxDEV("div",{className:`card p-3 sm:p-4 md:p-5 lg:p-4 ${w?"ring-1 ring-gray-300":""}`,children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-4 pb-3 border-b border-gray-200",children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("h3",{className:"font-bold text-lg md:text-lg text-gray-900",children:u},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:112,columnNumber:21},void 0),w&&e.jsxDEV("span",{className:"text-xs px-2 py-0.5 bg-gray-200 text-gray-600 rounded font-medium",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:114,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:111,columnNumber:19},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[w&&e.jsxDEV("button",{onClick:()=>o(!0),className:"p-1.5 hover:bg-gray-100 rounded-full transition-colors",title:" ",children:e.jsxDEV(_s,{className:"h-4 w-4 text-gray-700"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:124,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:119,columnNumber:23},void 0),e.jsxDEV("span",{className:`text-xs px-2.5 py-1 ${w&&g.length>0?"bg-amber-100 text-gray-900":"bg-gray-100 text-gray-900"} rounded-full font-semibold whitespace-nowrap`,children:[g.length," "]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:127,columnNumber:21},void 0),e.jsxDEV("span",{className:"text-xs px-2.5 py-1 bg-gray-100 text-gray-700 rounded-full font-semibold whitespace-nowrap",children:[b.length," "]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:130,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:117,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:110,columnNumber:17},void 0),g.length>0&&e.jsxDEV("div",{className:"mb-4",children:[e.jsxDEV("div",{className:"flex items-center gap-1.5 mb-2",children:[e.jsxDEV(En,{className:"h-4 w-4 text-gray-900"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:140,columnNumber:23},void 0),e.jsxDEV("p",{className:"text-xs font-semibold text-gray-900 uppercase",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:141,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:139,columnNumber:21},void 0),e.jsxDEV("div",{className:"space-y-2",children:(()=>{const k=g.reduce((j,B)=>{const y=B.project||"-";return j[y]||(j[y]=[]),j[y].push(B),j},{});return Object.entries(k).map(([j,B])=>{const y=u===m;return e.jsxDEV("div",{className:`border-l-3 ${y?"border-gray-400":"border-gray-900"} ${y?"bg-amber-50":"bg-gray-50"} rounded-r overflow-hidden`,children:[e.jsxDEV("div",{className:`px-3 py-1 ${y?"bg-amber-100":"bg-gray-100"} border-b ${y?"border-amber-200":"border-gray-200"}`,children:e.jsxDEV("span",{className:"text-xs font-semibold text-gray-900",children:j},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:163,columnNumber:33},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:162,columnNumber:31},void 0),e.jsxDEV("div",{className:"px-3 py-1.5 space-y-0.5",children:B.map(O=>{const ge=O.time&&O.time!=="-"?` - ${si(O.time)}`:"";return e.jsxDEV("p",{className:"font-medium text-gray-900 text-sm leading-snug",children:[" ",O.title,ge]},O.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:169,columnNumber:37},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:165,columnNumber:31},void 0)]},j,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:158,columnNumber:29},void 0)})})()},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:143,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:138,columnNumber:19},void 0),b.length>0&&e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"flex items-center gap-1.5 mb-2",children:[e.jsxDEV(Sm,{className:"h-4 w-4 text-gray-600"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:187,columnNumber:23},void 0),e.jsxDEV("p",{className:"text-xs font-semibold text-gray-600 uppercase",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:188,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:186,columnNumber:21},void 0),e.jsxDEV("div",{className:"space-y-2",children:(()=>{const k=b.reduce((j,B)=>{const y=Le(new Date(B.start),"MM.dd",{locale:kt}),O=B.project||"-",ge=`${y}|${O}`;return j[ge]||(j[ge]={date:y,project:O,schedules:[]}),j[ge].schedules.push(B),j},{});return Object.values(k).map(({date:j,project:B,schedules:y})=>{const ge=y.length>0&&Yc(new Date(y[0].start))?`${j} ()`:j;return e.jsxDEV("div",{className:"border-l-3 border-gray-400 bg-gray-50 rounded-r overflow-hidden",children:[e.jsxDEV("div",{className:"px-3 py-1 bg-gray-100 border-b border-gray-200 flex items-center justify-between",children:[e.jsxDEV("span",{className:"text-xs font-semibold text-gray-700",children:B},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:210,columnNumber:33},void 0),e.jsxDEV("span",{className:"text-xs text-gray-500 font-medium",children:ge},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:211,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:209,columnNumber:31},void 0),e.jsxDEV("div",{className:"px-3 py-1.5 space-y-0.5",children:y.map(ee=>{const Y=ee.time&&ee.time!=="-"?` - ${si(ee.time)}`:"";return e.jsxDEV("p",{className:"font-medium text-gray-900 text-sm leading-snug",children:[" ",ee.title,Y]},ee.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:217,columnNumber:37},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:213,columnNumber:31},void 0)]},`${j}-${B}`,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:208,columnNumber:29},void 0)})})()},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:190,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:185,columnNumber:19},void 0),p===0&&e.jsxDEV("div",{className:"text-center py-8 text-gray-400 text-sm",children:"  "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:233,columnNumber:19},void 0)]},u,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:108,columnNumber:15},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:100,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:99,columnNumber:7},void 0),a&&e.jsxDEV(_l,{event:null,slotInfo:{start:new Date,end:new Date},onClose:()=>o(!1),onSave:async u=>{try{console.log("Dashboard: Adding schedule...",u),await t({id:Date.now().toString(),title:u.title||"",start:u.start||new Date,end:u.end||new Date,type:"other",project:u.projectId||u.projectName||"",location:"",attendees:u.assignedTo||[],description:u.description||"",time:u.time}),console.log("Dashboard: Schedule added successfully"),await n(),console.log("Dashboard: Schedules fetched, closing modal"),o(!1)}catch(g){console.error("Failed to add schedule:",g),alert("  : "+(g instanceof Error?g.message:"   "))}},onDelete:async u=>{try{await r(u),await n(),o(!1)}catch(g){console.error("Failed to delete schedule:",g),alert("  : "+(g instanceof Error?g.message:"   "))}}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:245,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:97,columnNumber:5},void 0)},fs=()=>{const{user:s}=Qt(),{projects:n}=vs();return l.useMemo(()=>s?s.name===""?n.filter(r=>{const a=(r.manager?r.manager.split(",").map(m=>m.trim()):[]).includes(""),o=r.team&&Array.isArray(r.team)&&r.team.includes("");return a||o}):n:[],[s,n])},ng=({value:s,detailValue:n="",onChange:t,onDetailChange:r,placeholder:i=" ",error:a})=>{const[o,m]=l.useState(!1),[d,c]=l.useState(s),[u,g]=l.useState(n),b=l.useRef(null);l.useEffect(()=>{const B=y=>{b.current&&!b.current.contains(y.target)&&m(!1)};return o&&document.addEventListener("mousedown",B),()=>{document.removeEventListener("mousedown",B)}},[o]),l.useEffect(()=>{c(s)},[s]),l.useEffect(()=>{g(n)},[n]);const p=()=>new Promise((B,y)=>{if(window.daum&&window.daum.Postcode){B(!0);return}const O=document.createElement("script");O.src="//t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js",O.async=!0,O.onload=()=>B(!0),O.onerror=()=>y(new Error("Kakao Postcode   ")),document.head.appendChild(O)}),w=B=>{const y=B.roadAddr||B.jibunAddr;c(y),t(y,u),m(!1)},k=B=>{const y=B.target.value;g(y),r&&r(y),d&&t(d,y)},j=async()=>{try{(!window.daum||!window.daum.Postcode)&&await p(),window.daum&&new window.daum.Postcode({oncomplete:function(B){const y={roadAddr:B.roadAddress,jibunAddr:B.jibunAddress||B.autoJibunAddress||"",zipNo:B.zonecode,bdNm:B.buildingName,siNm:B.sido,sggNm:B.sigungu,emdNm:B.bname,rn:B.roadname};w(y)}}).open()}catch(B){console.error("  :",B),alert("     .  .")}};return e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV("div",{className:"relative",children:[e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV("div",{className:"relative flex-1",children:[e.jsxDEV("input",{type:"text",value:d,onClick:()=>j(),onChange:B=>{c(B.target.value),t(B.target.value,u)},placeholder:i,className:`input pr-8 cursor-pointer ${a?"border-red-500":""}`,readOnly:!0},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AddressSearch.tsx",lineNumber:172,columnNumber:13},void 0),e.jsxDEV(Xr,{className:"absolute right-2 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400 pointer-events-none"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AddressSearch.tsx",lineNumber:184,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AddressSearch.tsx",lineNumber:171,columnNumber:11},void 0),e.jsxDEV("button",{type:"button",onClick:j,className:"px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg text-sm font-medium transition-colors",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AddressSearch.tsx",lineNumber:188,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AddressSearch.tsx",lineNumber:170,columnNumber:9},void 0),a&&e.jsxDEV("p",{className:"mt-1 text-sm text-red-600",children:a},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AddressSearch.tsx",lineNumber:197,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AddressSearch.tsx",lineNumber:169,columnNumber:7},void 0),e.jsxDEV("div",{children:e.jsxDEV("input",{type:"text",value:u,onChange:k,placeholder:" (/ )",className:"input",disabled:!d},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AddressSearch.tsx",lineNumber:203,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AddressSearch.tsx",lineNumber:202,columnNumber:7},void 0),d&&e.jsxDEV("div",{className:"p-3 bg-gray-50 rounded-lg",children:e.jsxDEV("p",{className:"text-sm text-gray-600",children:[e.jsxDEV("span",{className:"font-medium",children:" :"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AddressSearch.tsx",lineNumber:217,columnNumber:13},void 0)," ",d,u&&`, ${u}`]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AddressSearch.tsx",lineNumber:216,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AddressSearch.tsx",lineNumber:215,columnNumber:9},void 0),e.jsxDEV("div",{id:"address-search-container",style:{display:"none",width:"100%",height:"400px"}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AddressSearch.tsx",lineNumber:225,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AddressSearch.tsx",lineNumber:167,columnNumber:5},void 0)},Yo=["","","","","","",""],rg=({project:s,onClose:n,onSave:t})=>{const{register:r,handleSubmit:i,setValue:a,reset:o,formState:{errors:m}}=pr({defaultValues:{name:"",client:"",location:"",detailLocation:"",startDate:"",endDate:""}}),[d,c]=l.useState([]),[u,g]=l.useState(""),[b,p]=l.useState(""),[w,k]=l.useState(""),[j,B]=l.useState(!1);l.useEffect(()=>{var Y;if(s){const de=s.location?s.location.split(","):["",""],T=((Y=de[0])==null?void 0:Y.trim())||s.location||"",oe=de.length>1?de.slice(1).join(",").trim():"";o({name:s.name,client:s.client||"",location:T,detailLocation:oe,startDate:s.startDate?new Date(s.startDate).toISOString().split("T")[0]:"",endDate:s.endDate?new Date(s.endDate).toISOString().split("T")[0]:""}),p(T),k(oe);const re=s.manager?s.manager.split(",").map(Z=>Z.trim()).filter(Z=>Z&&Z!==""):[];c(re)}else o({name:"",client:"",location:"",detailLocation:"",startDate:"",endDate:""}),p(""),k(""),c([])},[s,o]);const y=Y=>{c(de=>de.includes(Y)?de.filter(T=>T!==Y):[...de,Y])},O=()=>{u.trim()&&!d.includes(u.trim())&&(c(Y=>[...Y,u.trim()]),g(""))},ge=Y=>{c(de=>de.filter(T=>T!==Y))},ee=async Y=>{if(j)return;B(!0),console.log(" ProjectModal onSubmit - Raw form data:",Y);const de=b&&w?`${b}, ${w}`:b||Y.location,T={name:Y.name,client:Y.client,location:de,manager:d.join(", "),contractAmount:(s==null?void 0:s.contractAmount)??0,spent:(s==null?void 0:s.spent)??0,status:(s==null?void 0:s.status)??"planning",progress:(s==null?void 0:s.progress)??0,description:(s==null?void 0:s.description)??"",meetingNotes:(s==null?void 0:s.meetingNotes)??[],customerRequests:(s==null?void 0:s.customerRequests)??[],entrancePassword:(s==null?void 0:s.entrancePassword)??"",sitePassword:(s==null?void 0:s.sitePassword)??""};if(Y.startDate&&Y.startDate!=="")T.startDate=Y.startDate,console.log(" Setting startDate from form:",Y.startDate);else if(s!=null&&s.startDate){const oe=typeof s.startDate=="string"&&s.startDate.includes("T")?s.startDate.split("T")[0]:s.startDate;T.startDate=oe,console.log(" Keeping existing startDate:",T.startDate)}if(Y.endDate&&Y.endDate!=="")T.endDate=Y.endDate,console.log(" Setting endDate from form:",Y.endDate);else if(s!=null&&s.endDate){const oe=typeof s.endDate=="string"&&s.endDate.includes("T")?s.endDate.split("T")[0]:s.endDate;T.endDate=oe,console.log(" Keeping existing endDate:",T.endDate)}console.log(" ProjectModal onSubmit - Final formData:",T);try{await t(T)}catch(oe){throw B(!1),oe}};return e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-3 md:p-4",children:e.jsxDEV("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxDEV("div",{className:"flex items-center justify-between p-4 md:p-6 border-b sticky top-0 bg-white z-10",children:[e.jsxDEV("h2",{className:"text-lg md:text-xl font-semibold",children:s?" ":" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:186,columnNumber:11},void 0),e.jsxDEV("button",{onClick:n,className:"p-1.5 md:p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsxDEV(ft,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:193,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:189,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:185,columnNumber:9},void 0),e.jsxDEV("form",{onSubmit:i(ee),className:"p-4 md:p-6 space-y-4 md:space-y-6",children:[e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:202,columnNumber:15},void 0),e.jsxDEV("input",{...r("name",{required:" "}),type:"text",className:"input"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:205,columnNumber:15},void 0),m.name&&e.jsxDEV("p",{className:"mt-1 text-sm text-red-600",children:String(m.name.message)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:211,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:201,columnNumber:13},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:216,columnNumber:15},void 0),e.jsxDEV("input",{...r("client"),type:"text",className:"input"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:219,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:215,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:200,columnNumber:11},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:229,columnNumber:13},void 0),e.jsxDEV(ng,{value:b,detailValue:w,onChange:(Y,de)=>{p(Y),k(de||""),a("location",Y),a("detailLocation",de||"")},onDetailChange:Y=>{k(Y),a("detailLocation",Y)},placeholder:"  ",required:!0,error:m.location?String(m.location.message):void 0},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:232,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:228,columnNumber:11},void 0),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:255,columnNumber:15},void 0),e.jsxDEV("input",{...r("startDate"),type:"date",className:"input"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:258,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:254,columnNumber:13},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:266,columnNumber:15},void 0),e.jsxDEV("input",{...r("endDate"),type:"date",className:"input"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:269,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:265,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:253,columnNumber:11},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" (  )"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:279,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex flex-wrap gap-1.5 mb-2",children:[Yo.map(Y=>e.jsxDEV("button",{type:"button",onClick:()=>y(Y),className:`px-2.5 py-1.5 rounded border transition-colors text-sm ${d.includes(Y)?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:Y},Y,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:287,columnNumber:17},void 0)),d.filter(Y=>!Yo.includes(Y)).map(Y=>e.jsxDEV("button",{type:"button",onClick:()=>ge(Y),className:"px-2.5 py-1.5 rounded border transition-colors text-sm bg-gray-900 text-white border-gray-900 hover:bg-gray-800",children:[Y," "]},Y,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:305,columnNumber:19},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:284,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV("input",{type:"text",value:u,onChange:Y=>g(Y.target.value),onKeyPress:Y=>{Y.key==="Enter"&&(Y.preventDefault(),O())},placeholder:"   ",className:"flex-1 px-3 py-1.5 border border-gray-300 rounded-lg text-xs focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:319,columnNumber:15},void 0),e.jsxDEV("button",{type:"button",onClick:O,className:"px-3 py-1.5 bg-gray-100 text-gray-700 rounded-lg text-xs font-medium hover:bg-gray-200 transition-colors",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:332,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:318,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:278,columnNumber:11},void 0),e.jsxDEV("div",{className:"flex justify-end space-x-2 md:space-x-3 pt-4 border-t",children:[e.jsxDEV("button",{type:"button",onClick:n,className:"btn btn-outline text-sm md:text-base",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:345,columnNumber:13},void 0),e.jsxDEV("button",{type:"submit",disabled:j,className:"btn btn-primary text-sm md:text-base disabled:opacity-50",children:j?" ...":s?"":""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:352,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:344,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:198,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:183,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:182,columnNumber:5},void 0)},ig=({projectName:s,meetingNotes:n,onClose:t,onSave:r,onDelete:i})=>{const[a,o]=l.useState(""),[m,d]=l.useState(new Date().toISOString().split("T")[0]),[c,u]=l.useState(!1),[g,b]=l.useState(!1),p=()=>{u(!0),o(""),d(new Date().toISOString().split("T")[0])},w=async()=>{if(!g){if(!a.trim()){alert(" ");return}if(!m){alert(" ");return}b(!0);try{await r(a.trim(),new Date(m)),o(""),d(new Date().toISOString().split("T")[0]),u(!1)}finally{b(!1)}}},k=()=>{o(""),d(new Date().toISOString().split("T")[0]),u(!1)},j=B=>{window.confirm("   ?")&&i(B)};return e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",onClick:t,children:e.jsxDEV("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[80vh] flex flex-col shadow-xl",onClick:B=>B.stopPropagation(),children:[e.jsxDEV("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[e.jsxDEV("div",{children:[e.jsxDEV("h2",{className:"text-lg font-semibold text-gray-900",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/MeetingNotesModal.tsx",lineNumber:83,columnNumber:13},void 0),e.jsxDEV("p",{className:"text-sm text-gray-500 mt-0.5",children:s},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/MeetingNotesModal.tsx",lineNumber:84,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/MeetingNotesModal.tsx",lineNumber:82,columnNumber:11},void 0),e.jsxDEV("button",{onClick:t,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsxDEV(ft,{className:"h-5 w-5 text-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/MeetingNotesModal.tsx",lineNumber:90,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/MeetingNotesModal.tsx",lineNumber:86,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/MeetingNotesModal.tsx",lineNumber:81,columnNumber:9},void 0),e.jsxDEV("div",{className:"flex-1 overflow-y-auto p-6",children:[!c&&e.jsxDEV("button",{onClick:p,className:"w-full mb-4 px-4 py-2.5 border border-gray-300 rounded text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:"+ "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/MeetingNotesModal.tsx",lineNumber:98,columnNumber:13},void 0),c&&e.jsxDEV("div",{className:"mb-4 p-4 bg-gray-50 rounded border border-gray-200",children:[e.jsxDEV("div",{className:"mb-3",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/MeetingNotesModal.tsx",lineNumber:110,columnNumber:17},void 0),e.jsxDEV("input",{type:"date",value:m,onChange:B=>d(B.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded text-sm focus:outline-none focus:border-gray-900"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/MeetingNotesModal.tsx",lineNumber:113,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/MeetingNotesModal.tsx",lineNumber:109,columnNumber:15},void 0),e.jsxDEV("div",{className:"mb-3",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/MeetingNotesModal.tsx",lineNumber:121,columnNumber:17},void 0),e.jsxDEV("textarea",{value:a,onChange:B=>o(B.target.value),placeholder:"  ",className:"w-full px-3 py-2 border border-gray-300 rounded text-sm focus:outline-none focus:border-gray-900 resize-none",rows:4},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/MeetingNotesModal.tsx",lineNumber:124,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/MeetingNotesModal.tsx",lineNumber:120,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV("button",{onClick:w,disabled:g,className:"px-4 py-1.5 bg-gray-900 text-white text-sm rounded hover:bg-gray-800 transition-colors disabled:opacity-50",children:g?" ...":""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/MeetingNotesModal.tsx",lineNumber:133,columnNumber:17},void 0),e.jsxDEV("button",{onClick:k,disabled:g,className:"px-4 py-1.5 bg-gray-200 text-gray-700 text-sm rounded hover:bg-gray-300 transition-colors disabled:opacity-50",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/MeetingNotesModal.tsx",lineNumber:140,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/MeetingNotesModal.tsx",lineNumber:132,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/MeetingNotesModal.tsx",lineNumber:108,columnNumber:13},void 0),e.jsxDEV("div",{className:"space-y-3",children:n.length===0?e.jsxDEV("div",{className:"text-center py-12 text-gray-400 text-sm",children:"   "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/MeetingNotesModal.tsx",lineNumber:154,columnNumber:15},void 0):n.map(B=>e.jsxDEV("div",{className:"p-4 bg-white border border-gray-200 rounded hover:border-gray-300 transition-colors group",children:e.jsxDEV("div",{className:"flex items-start justify-between gap-3",children:[e.jsxDEV("div",{className:"flex-1 min-w-0",children:[e.jsxDEV("p",{className:"text-sm text-gray-600 mb-2",children:Le(new Date(B.date),"yyyy.MM.dd (eee)",{locale:kt})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/MeetingNotesModal.tsx",lineNumber:165,columnNumber:23},void 0),e.jsxDEV("p",{className:"text-sm text-gray-900 whitespace-pre-wrap break-words",children:B.content},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/MeetingNotesModal.tsx",lineNumber:168,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/MeetingNotesModal.tsx",lineNumber:164,columnNumber:21},void 0),e.jsxDEV("button",{onClick:()=>j(B.id),className:"opacity-0 group-hover:opacity-100 px-2 py-1 text-xs text-gray-500 hover:text-red-600 transition-all",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/MeetingNotesModal.tsx",lineNumber:172,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/MeetingNotesModal.tsx",lineNumber:163,columnNumber:19},void 0)},B.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/MeetingNotesModal.tsx",lineNumber:159,columnNumber:17},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/MeetingNotesModal.tsx",lineNumber:152,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/MeetingNotesModal.tsx",lineNumber:95,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/MeetingNotesModal.tsx",lineNumber:76,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/MeetingNotesModal.tsx",lineNumber:72,columnNumber:5},void 0)},ag=({projectName:s,customerRequests:n,onClose:t,onSave:r,onToggleComplete:i,onDelete:a})=>{const[o,m]=l.useState(""),[d,c]=l.useState(new Date().toISOString().split("T")[0]),[u,g]=l.useState(!1),[b,p]=l.useState(!1),w=()=>{g(!0),m(""),c(new Date().toISOString().split("T")[0])},k=async()=>{if(!b){if(!o.trim()){alert(" ");return}if(!d){alert(" ");return}p(!0);try{await r(o.trim(),new Date(d)),m(""),c(new Date().toISOString().split("T")[0]),g(!1)}finally{p(!1)}}},j=()=>{m(""),c(new Date().toISOString().split("T")[0]),g(!1)},B=ee=>{window.confirm("  ?")&&a(ee)},y=ee=>{i(ee)},O=n.filter(ee=>!ee.completed),ge=n.filter(ee=>ee.completed);return e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",onClick:t,children:e.jsxDEV("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[80vh] flex flex-col shadow-xl",onClick:ee=>ee.stopPropagation(),children:[e.jsxDEV("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[e.jsxDEV("div",{children:[e.jsxDEV("h2",{className:"text-lg font-semibold text-gray-900",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:93,columnNumber:13},void 0),e.jsxDEV("p",{className:"text-sm text-gray-500 mt-0.5",children:s},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:94,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:92,columnNumber:11},void 0),e.jsxDEV("button",{onClick:t,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsxDEV(ft,{className:"h-5 w-5 text-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:100,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:96,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:91,columnNumber:9},void 0),e.jsxDEV("div",{className:"flex-1 overflow-y-auto p-6",children:[!u&&e.jsxDEV("button",{onClick:w,className:"w-full mb-4 px-4 py-2.5 border border-gray-300 rounded text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:"+ "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:108,columnNumber:13},void 0),u&&e.jsxDEV("div",{className:"mb-4 p-4 bg-gray-50 rounded border border-gray-200",children:[e.jsxDEV("div",{className:"mb-3",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:120,columnNumber:17},void 0),e.jsxDEV("input",{type:"date",value:d,onChange:ee=>c(ee.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded text-sm focus:outline-none focus:border-gray-900"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:123,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:119,columnNumber:15},void 0),e.jsxDEV("div",{className:"mb-3",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:131,columnNumber:17},void 0),e.jsxDEV("textarea",{value:o,onChange:ee=>m(ee.target.value),placeholder:"  ",className:"w-full px-3 py-2 border border-gray-300 rounded text-sm focus:outline-none focus:border-gray-900 resize-none",rows:3},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:134,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:130,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV("button",{onClick:k,disabled:b,className:"px-4 py-1.5 bg-gray-900 text-white text-sm rounded hover:bg-gray-800 transition-colors disabled:opacity-50",children:b?" ...":""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:143,columnNumber:17},void 0),e.jsxDEV("button",{onClick:j,disabled:b,className:"px-4 py-1.5 bg-gray-200 text-gray-700 text-sm rounded hover:bg-gray-300 transition-colors disabled:opacity-50",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:150,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:142,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:118,columnNumber:13},void 0),e.jsxDEV("div",{className:"space-y-2",children:n.length===0?e.jsxDEV("div",{className:"text-center py-12 text-gray-400 text-sm",children:"  "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:164,columnNumber:15},void 0):e.jsxDEV(e.Fragment,{children:[O.map(ee=>e.jsxDEV("div",{className:"p-3 bg-white border border-gray-300 rounded hover:border-gray-400 transition-colors group",children:e.jsxDEV("div",{className:"flex items-start gap-3",children:[e.jsxDEV("button",{onClick:()=>y(ee.id),className:"mt-0.5 flex-shrink-0",children:e.jsxDEV(jc,{className:"h-4 w-4 text-gray-400"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:180,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:176,columnNumber:23},void 0),e.jsxDEV("div",{className:"flex-1 min-w-0",children:[e.jsxDEV("p",{className:"text-sm text-gray-900 whitespace-pre-wrap break-words",children:ee.content},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:183,columnNumber:25},void 0),e.jsxDEV("p",{className:"text-xs text-gray-500 mt-1",children:Le(new Date(ee.createdAt),"yyyy.MM.dd",{locale:kt})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:186,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:182,columnNumber:23},void 0),e.jsxDEV("button",{onClick:()=>B(ee.id),className:"opacity-0 group-hover:opacity-100 px-2 py-1 text-xs text-gray-500 hover:text-red-600 transition-all",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:190,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:175,columnNumber:21},void 0)},ee.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:171,columnNumber:19},void 0)),ge.map(ee=>e.jsxDEV("div",{className:"p-3 bg-gray-50 border border-gray-200 rounded hover:border-gray-300 transition-colors group",children:e.jsxDEV("div",{className:"flex items-start gap-3",children:[e.jsxDEV("button",{onClick:()=>y(ee.id),className:"mt-0.5 flex-shrink-0",children:e.jsxDEV(Lc,{className:"h-4 w-4 text-gray-900"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:211,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:207,columnNumber:23},void 0),e.jsxDEV("div",{className:"flex-1 min-w-0",children:[e.jsxDEV("p",{className:"text-sm text-gray-500 line-through whitespace-pre-wrap break-words",children:ee.content},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:214,columnNumber:25},void 0),e.jsxDEV("p",{className:"text-xs text-gray-400 mt-1",children:Le(new Date(ee.createdAt),"yyyy.MM.dd",{locale:kt})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:217,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:213,columnNumber:23},void 0),e.jsxDEV("button",{onClick:()=>B(ee.id),className:"opacity-0 group-hover:opacity-100 px-2 py-1 text-xs text-gray-500 hover:text-red-600 transition-all",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:221,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:206,columnNumber:21},void 0)},ee.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:202,columnNumber:19},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:168,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:162,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:105,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:86,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:82,columnNumber:5},void 0)},og=({projectName:s,entrancePassword:n,sitePassword:t,onClose:r,onSave:i})=>{const[a,o]=l.useState(n||""),[m,d]=l.useState(t||""),[c,u]=l.useState(!1),[g,b]=l.useState(!1),p=()=>{u(!0)},w=async()=>{if(!g){b(!0);try{await i(a,m),u(!1)}finally{b(!1)}}},k=()=>{o(n||""),d(t||""),u(!1)};return e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",onClick:r,children:e.jsxDEV("div",{className:"bg-white rounded-lg max-w-md w-full shadow-xl",onClick:j=>j.stopPropagation(),children:[e.jsxDEV("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[e.jsxDEV("div",{children:[e.jsxDEV("h2",{className:"text-lg font-semibold text-gray-900",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/SitePasswordModal.tsx",lineNumber:57,columnNumber:13},void 0),e.jsxDEV("p",{className:"text-sm text-gray-500 mt-0.5",children:s},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/SitePasswordModal.tsx",lineNumber:58,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/SitePasswordModal.tsx",lineNumber:56,columnNumber:11},void 0),e.jsxDEV("button",{onClick:r,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsxDEV(ft,{className:"h-5 w-5 text-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/SitePasswordModal.tsx",lineNumber:64,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/SitePasswordModal.tsx",lineNumber:60,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/SitePasswordModal.tsx",lineNumber:55,columnNumber:9},void 0),e.jsxDEV("div",{className:"p-6 space-y-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/SitePasswordModal.tsx",lineNumber:72,columnNumber:13},void 0),c?e.jsxDEV("input",{type:"text",value:a,onChange:j=>o(j.target.value),placeholder:"  ",className:"w-full px-3 py-2 border border-gray-300 rounded text-sm focus:outline-none focus:border-gray-900"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/SitePasswordModal.tsx",lineNumber:76,columnNumber:15},void 0):e.jsxDEV("div",{className:"px-3 py-2 bg-gray-50 border border-gray-200 rounded",children:a?e.jsxDEV("span",{className:"text-sm font-mono text-gray-900",children:a},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/SitePasswordModal.tsx",lineNumber:86,columnNumber:19},void 0):e.jsxDEV("span",{className:"text-sm text-gray-400",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/SitePasswordModal.tsx",lineNumber:88,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/SitePasswordModal.tsx",lineNumber:84,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/SitePasswordModal.tsx",lineNumber:71,columnNumber:11},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/SitePasswordModal.tsx",lineNumber:96,columnNumber:13},void 0),c?e.jsxDEV("input",{type:"text",value:m,onChange:j=>d(j.target.value),placeholder:"  ",className:"w-full px-3 py-2 border border-gray-300 rounded text-sm focus:outline-none focus:border-gray-900"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/SitePasswordModal.tsx",lineNumber:100,columnNumber:15},void 0):e.jsxDEV("div",{className:"px-3 py-2 bg-gray-50 border border-gray-200 rounded",children:m?e.jsxDEV("span",{className:"text-sm font-mono text-gray-900",children:m},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/SitePasswordModal.tsx",lineNumber:110,columnNumber:19},void 0):e.jsxDEV("span",{className:"text-sm text-gray-400",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/SitePasswordModal.tsx",lineNumber:112,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/SitePasswordModal.tsx",lineNumber:108,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/SitePasswordModal.tsx",lineNumber:95,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/SitePasswordModal.tsx",lineNumber:69,columnNumber:9},void 0),e.jsxDEV("div",{className:"border-t border-gray-200 px-6 py-4 flex gap-2",children:c?e.jsxDEV(e.Fragment,{children:[e.jsxDEV("button",{onClick:w,disabled:g,className:"flex-1 px-4 py-2 bg-gray-900 text-white text-sm rounded hover:bg-gray-800 transition-colors disabled:opacity-50",children:g?" ...":""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/SitePasswordModal.tsx",lineNumber:123,columnNumber:15},void 0),e.jsxDEV("button",{onClick:k,disabled:g,className:"flex-1 px-4 py-2 bg-gray-200 text-gray-700 text-sm rounded hover:bg-gray-300 transition-colors disabled:opacity-50",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/SitePasswordModal.tsx",lineNumber:130,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/SitePasswordModal.tsx",lineNumber:122,columnNumber:13},void 0):e.jsxDEV(e.Fragment,{children:[e.jsxDEV("button",{onClick:p,className:"flex-1 px-4 py-2 bg-gray-200 text-gray-700 text-sm rounded hover:bg-gray-300 transition-colors",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/SitePasswordModal.tsx",lineNumber:140,columnNumber:15},void 0),e.jsxDEV("button",{onClick:r,className:"flex-1 px-4 py-2 bg-gray-900 text-white text-sm rounded hover:bg-gray-800 transition-colors",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/SitePasswordModal.tsx",lineNumber:146,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/SitePasswordModal.tsx",lineNumber:139,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/SitePasswordModal.tsx",lineNumber:120,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/SitePasswordModal.tsx",lineNumber:50,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/SitePasswordModal.tsx",lineNumber:46,columnNumber:5},void 0)},mg=({projectName:s,onClose:n})=>{var o;const[t,r]=l.useState({clientName:"",phoneNumber:"",address:"",startDate:"",endDate:"",area:"",designFee:"",bankAccount:" 487102-01-264798 ",companyAddress:"  277  109",representative:"  "}),i=()=>{window.print()},a=m=>{const d=Number(m.replace(/,/g,""));return isNaN(d)?"":d.toLocaleString()};return e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 print:relative print:bg-white",children:e.jsxDEV("div",{className:"bg-white rounded-lg w-full max-w-4xl mx-4 max-h-[90vh] overflow-y-auto print:max-h-none print:mx-0 print:rounded-none",children:[e.jsxDEV("div",{className:"flex items-center justify-between p-4 border-b print:hidden",children:[e.jsxDEV("h2",{className:"text-lg font-bold text-gray-900",children:"  "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:40,columnNumber:13},void 0),e.jsxDEV("button",{onClick:n,className:"p-1 hover:bg-gray-100 rounded-full",children:e.jsxDEV(ft,{className:"h-5 w-5 text-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:45,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:41,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:39,columnNumber:11},void 0),e.jsxDEV("div",{className:"p-6 space-y-4 print:hidden",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:52,columnNumber:15},void 0),e.jsxDEV("input",{type:"text",value:t.clientName,onChange:m=>r({...t,clientName:m.target.value}),placeholder:" ",className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:53,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:51,columnNumber:13},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:63,columnNumber:15},void 0),e.jsxDEV("input",{type:"text",value:t.phoneNumber,onChange:m=>r({...t,phoneNumber:m.target.value}),placeholder:"010-0000-0000",className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:64,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:62,columnNumber:13},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:74,columnNumber:15},void 0),e.jsxDEV("input",{type:"text",value:t.address,onChange:m=>r({...t,address:m.target.value}),placeholder:" ",className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:75,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:73,columnNumber:13},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:86,columnNumber:17},void 0),e.jsxDEV("input",{type:"date",value:t.startDate,onChange:m=>r({...t,startDate:m.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:87,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:85,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:95,columnNumber:17},void 0),e.jsxDEV("input",{type:"date",value:t.endDate,onChange:m=>r({...t,endDate:m.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:96,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:94,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:84,columnNumber:13},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:106,columnNumber:15},void 0),e.jsxDEV("input",{type:"text",value:t.area,onChange:m=>r({...t,area:m.target.value}),placeholder:": 21.9(72.37m2)",className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:107,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:105,columnNumber:13},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:117,columnNumber:15},void 0),e.jsxDEV("input",{type:"text",value:a(t.designFee),onChange:m=>{const d=m.target.value.replace(/,/g,"");/^\d*$/.test(d)&&r({...t,designFee:d})},placeholder:" ",className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:118,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:116,columnNumber:13},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:133,columnNumber:15},void 0),e.jsxDEV("input",{type:"text",value:t.bankAccount,onChange:m=>r({...t,bankAccount:m.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:134,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:132,columnNumber:13},void 0),e.jsxDEV("button",{onClick:i,disabled:!t.clientName||!t.phoneNumber||!t.address,className:"w-full py-2 bg-gray-900 text-white rounded-lg hover:bg-gray-800 disabled:bg-gray-300 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[e.jsxDEV(Pm,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:147,columnNumber:15},void 0),""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:142,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:50,columnNumber:11},void 0),e.jsxDEV("div",{className:"hidden print:block p-16",children:e.jsxDEV("div",{className:"space-y-16",children:[e.jsxDEV("h1",{className:"text-2xl font-bold text-gray-900",children:"  "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:156,columnNumber:15},void 0),e.jsxDEV("div",{className:"space-y-8 text-base leading-relaxed",children:[e.jsxDEV("div",{className:"flex items-baseline",children:[e.jsxDEV("span",{className:"w-48",children:"1.  :"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:161,columnNumber:19},void 0),e.jsxDEV("span",{className:"flex-1",children:t.clientName},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:162,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:160,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex items-baseline",children:[e.jsxDEV("span",{className:"w-48",children:"2.  :"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:166,columnNumber:19},void 0),e.jsxDEV("span",{className:"flex-1",children:t.phoneNumber},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:167,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:165,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex items-baseline",children:[e.jsxDEV("span",{className:"w-48",children:"3.  :"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:171,columnNumber:19},void 0),e.jsxDEV("span",{className:"flex-1",children:t.address},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:172,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:170,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex items-baseline",children:[e.jsxDEV("span",{className:"w-48",children:"3.  :"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:176,columnNumber:19},void 0),e.jsxDEV("span",{className:"flex-1",children:t.startDate&&t.endDate?e.jsxDEV(e.Fragment,{children:[Le(new Date(t.startDate),"yyyy",{locale:kt}),"",Le(new Date(t.startDate),"MM",{locale:kt}),"",Le(new Date(t.startDate),"dd",{locale:kt})," ~ ",Le(new Date(t.endDate),"yyyy",{locale:kt}),"",Le(new Date(t.endDate),"MM",{locale:kt}),"",Le(new Date(t.endDate),"dd",{locale:kt})," ()"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:179,columnNumber:23},void 0):""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:177,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:175,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex items-baseline",children:[e.jsxDEV("span",{className:"w-48",children:"5.  :"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:187,columnNumber:19},void 0),e.jsxDEV("span",{className:"flex-1",children:t.area},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:188,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:186,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex flex-col",children:[e.jsxDEV("div",{className:"flex items-baseline",children:[e.jsxDEV("span",{className:"w-48",children:"6.  :"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:193,columnNumber:21},void 0),e.jsxDEV("span",{className:"flex-1",children:[t.designFee?`${a(t.designFee)}`:""," ()"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:194,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:192,columnNumber:19},void 0),t.bankAccount&&e.jsxDEV("div",{className:"ml-48 mt-2 text-center",children:t.bankAccount},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:199,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:191,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:159,columnNumber:15},void 0),e.jsxDEV("div",{className:"mt-20 space-y-3",children:[e.jsxDEV("div",{className:"text-base font-bold",children:"*"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:206,columnNumber:17},void 0),e.jsxDEV("div",{className:"ml-8 space-y-2 text-base",children:[e.jsxDEV("div",{children:[" : ",t.address]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:208,columnNumber:19},void 0),e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV("span",{children:[" : ",(o=t.clientName)==null?void 0:o.split("").join("    ")]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:210,columnNumber:21},void 0),e.jsxDEV("span",{className:"ml-8",children:"()"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:211,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:209,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:207,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:205,columnNumber:15},void 0),e.jsxDEV("div",{className:"mt-12 space-y-3",children:[e.jsxDEV("div",{className:"text-base font-bold",children:"*"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:218,columnNumber:17},void 0),e.jsxDEV("div",{className:"ml-8 space-y-2 text-base",children:[e.jsxDEV("div",{children:[" : ",t.companyAddress]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:220,columnNumber:19},void 0),e.jsxDEV("div",{children:" : HV LAB ()"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:221,columnNumber:19},void 0),e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV("span",{children:[" : ",t.representative]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:223,columnNumber:21},void 0),e.jsxDEV("div",{className:"ml-8 inline-flex items-center justify-center w-14 h-14 border-2 border-red-600",children:e.jsxDEV("span",{className:"text-red-600 text-xs font-bold leading-tight text-center",children:["",e.jsxDEV("br",{},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:226,columnNumber:28},void 0),""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:225,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:224,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:222,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:219,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:217,columnNumber:15},void 0),e.jsxDEV("div",{className:"border-t-[3px] border-gray-900 mt-32 pt-12 flex justify-between items-end",children:[e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV("span",{className:"text-4xl font-bold",children:"H"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:236,columnNumber:19},void 0),e.jsxDEV("span",{className:"inline-block w-12 h-1 bg-gray-900 mx-2"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:237,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:235,columnNumber:17},void 0),e.jsxDEV("div",{className:"text-right",children:[e.jsxDEV("div",{className:"text-xs tracking-widest mb-1",children:"ARCHITECTURE & INTERIOR"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:240,columnNumber:19},void 0),e.jsxDEV("div",{className:"text-3xl font-bold",children:"HV LAB"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:241,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:239,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:234,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:154,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:153,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:37,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:36,columnNumber:7},void 0),e.jsxDEV("style",{children:`
        @media print {
          @page {
            size: A4;
            margin: 0;
          }
          body * {
            visibility: hidden;
          }
          .print\\:block, .print\\:block * {
            visibility: visible;
          }
          .print\\:hidden {
            display: none !important;
          }
          .print\\:relative {
            position: relative !important;
            background: white !important;
          }
        }
      `},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:250,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:35,columnNumber:5},void 0)},lg=()=>{const{loadProjectsFromAPI:s,addProjectToAPI:n,updateProjectInAPI:t,deleteProjectFromAPI:r}=vs(),{user:i}=Qt(),a=fs(),[o,m]=l.useState("in-progress"),[d,c]=l.useState("grid"),[u,g]=l.useState(!1),[b,p]=l.useState(null),[w,k]=l.useState(!1),[j,B]=l.useState(!1),[y,O]=l.useState(!1),[ge,ee]=l.useState(!1),[Y,de]=l.useState(null),T=(te,q)=>`lastViewed_${i==null?void 0:i.id}_${te}_${q}`,oe=(te,q)=>{const G=T(te,q),z=localStorage.getItem(G);return z?parseInt(z,10):0},re=(te,q)=>{const G=T(te,q);localStorage.setItem(G,Date.now().toString())},Z=(te,q)=>{const G=oe(te.id,q);return q==="meeting"?(te.meetingNotes||[]).some(ye=>(ye.createdAt?new Date(ye.createdAt).getTime():new Date(ye.date).getTime())>G):(te.customerRequests||[]).some(ye=>!ye.completed)};l.useEffect(()=>{s().catch(te=>{console.error("Failed to load projects:",te),R.error("   ")})},[s]),l.useEffect(()=>{const te=()=>{p(null),g(!0)};return window.addEventListener("headerAddButtonClick",te),()=>window.removeEventListener("headerAddButtonClick",te)},[]);const X=(te,q)=>{if(!te||!q)return 0;const G=new Date,z=new Date(te),ye=new Date(q);if(G<z)return 0;if(G>ye)return 100;const Se=Math.ceil((ye.getTime()-z.getTime())/(1e3*60*60*24)),I=Math.ceil((G.getTime()-z.getTime())/(1e3*60*60*24)),ae=Math.round(I/Se*100);return Math.min(100,Math.max(0,ae))},be=te=>{p(te),g(!0)},we=async(te,q)=>{if(window.confirm(`"${q}"  ?

    .`))try{await r(te),R.success(" ")}catch(G){console.error("Failed to delete project:",G),R.error("  ")}},Me=async te=>{try{if(b)await t(b.id,te),R.success(" ");else{const q={id:"",...te,team:te.team||[]};await n(q),R.success(" "),m(te.status||"planning")}g(!1),p(null)}catch(q){console.error("Failed to save project:",q),R.error("  ")}},Ve=async(te,q)=>{try{await t(te,{status:q}),R.success(" ")}catch(G){console.error("Failed to update project status:",G),R.error("  ")}},Ee=te=>{de(te),k(!0),re(te.id,"meeting")},_e=te=>{de(te),B(!0),re(te.id,"request")},Ue=te=>{de(te),O(!0)},Oe=te=>{de(te),ee(!0)},fe=async(te,q)=>{if(!Y)return;const G=Y.entrancePassword,z=Y.sitePassword;de({...Y,entrancePassword:te,sitePassword:q});try{await t(Y.id,{entrancePassword:te,sitePassword:q}),R.success(" ")}catch(ye){console.error("Failed to save passwords:",ye),R.error("  "),de({...Y,entrancePassword:G,sitePassword:z})}},He=async(te,q)=>{if(!Y)return;const G={id:Date.now().toString(),content:te,date:q,createdAt:new Date},z=[...Y.meetingNotes||[],G];de({...Y,meetingNotes:z});try{await t(Y.id,{meetingNotes:z}),R.success("  ")}catch(ye){console.error("Failed to save meeting note:",ye),R.error("   "),de({...Y,meetingNotes:Y.meetingNotes||[]})}},De=async(te,q)=>{if(!Y)return;const G={id:Date.now().toString(),content:te,completed:!1,createdAt:q},z=[...Y.customerRequests||[],G];de({...Y,customerRequests:z});try{await t(Y.id,{customerRequests:z}),R.success("  ")}catch(ye){console.error("Failed to save customer request:",ye),R.error("   "),de({...Y,customerRequests:Y.customerRequests||[]})}},Be=async te=>{if(!Y)return;const q=Y.customerRequests||[],G=q.map(z=>z.id===te?{...z,completed:!z.completed}:z);de({...Y,customerRequests:G});try{await t(Y.id,{customerRequests:G}),R.success("  ")}catch(z){console.error("Failed to toggle request:",z),R.error("  "),de({...Y,customerRequests:q})}},Re=async te=>{if(!Y)return;const q=Y.meetingNotes||[],G=q.filter(z=>z.id!==te);de({...Y,meetingNotes:G});try{await t(Y.id,{meetingNotes:G}),R.success("  ")}catch(z){console.error("Failed to delete meeting note:",z),R.error(" "),de({...Y,meetingNotes:q})}},Ke=async te=>{if(!Y)return;const q=Y.customerRequests||[],G=q.filter(z=>z.id!==te);de({...Y,customerRequests:G});try{await t(Y.id,{customerRequests:G}),R.success("  ")}catch(z){console.error("Failed to delete customer request:",z),R.error(" "),de({...Y,customerRequests:q})}},ze=({project:te})=>{const G={planning:{label:"",color:"bg-white text-gray-700 border-gray-300"},"in-progress":{label:"",color:"bg-white text-gray-900 border-gray-300"},completed:{label:"",color:"bg-gray-900 text-white border-gray-900"},"on-hold":{label:"",color:"bg-white text-gray-600 border-gray-300"}}[te.status];return e.jsxDEV("select",{value:te.status,onChange:z=>Ve(te.id,z.target.value),className:Gt("px-2 py-1 text-xs font-medium border rounded cursor-pointer","focus:outline-none focus:ring-2 focus:ring-gray-500",G.color),onClick:z=>z.stopPropagation(),children:[e.jsxDEV("option",{value:"planning",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:395,columnNumber:9},void 0),e.jsxDEV("option",{value:"in-progress",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:396,columnNumber:9},void 0),e.jsxDEV("option",{value:"completed",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:397,columnNumber:9},void 0),e.jsxDEV("option",{value:"on-hold",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:398,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:385,columnNumber:7},void 0)},S=(()=>{let te=a;return o!=="all"&&(te=te.filter(q=>q.status===o)),te})(),ue={planning:a.filter(te=>te.status==="planning").length,inProgress:a.filter(te=>te.status==="in-progress").length,completed:a.filter(te=>te.status==="completed").length,onHold:a.filter(te=>te.status==="on-hold").length},xe=({project:te})=>{var G,z,ye,Se;const q=X(te.startDate,te.endDate);return e.jsxDEV("div",{className:"card p-3 md:p-4 hover:border-gray-400 transition-colors",children:[e.jsxDEV("div",{className:"flex items-start justify-between mb-3 md:mb-4",children:[e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("h3",{className:"font-bold text-base md:text-lg text-gray-900",children:te.name},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:432,columnNumber:13},void 0),e.jsxDEV("p",{className:"text-xs md:text-sm text-gray-600 mt-1",children:[te.client,""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:433,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:431,columnNumber:11},void 0),e.jsxDEV("div",{className:"flex flex-col items-end gap-2",children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[te.status==="planning"&&e.jsxDEV("button",{onClick:()=>Oe(te),className:"px-2 py-1 text-xs font-medium text-white bg-gray-700 hover:bg-gray-800 rounded transition-colors",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:438,columnNumber:17},void 0),e.jsxDEV(ze,{project:te},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:445,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:436,columnNumber:13},void 0),e.jsxDEV("button",{onClick:()=>be(te),className:"text-xs text-gray-600 hover:text-gray-900",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:447,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:435,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:430,columnNumber:9},void 0),e.jsxDEV("div",{className:"space-y-1.5 md:space-y-2 mb-3 md:mb-4 text-xs md:text-sm",children:[e.jsxDEV("div",{className:"text-gray-600",children:[": ",te.location]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:457,columnNumber:11},void 0),e.jsxDEV("div",{className:"text-gray-600",children:[": ",te.startDate&&te.endDate?`${Le(te.startDate,"MM.dd (eee)",{locale:kt})} - ${Le(te.endDate,"MM.dd (eee)",{locale:kt})}`:""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:460,columnNumber:11},void 0),e.jsxDEV("div",{className:"text-gray-600",children:[": ",te.manager]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:465,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:456,columnNumber:9},void 0),e.jsxDEV("div",{className:"mb-3 md:mb-4",children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-1.5 md:mb-2",children:[e.jsxDEV("span",{className:"text-[10px] md:text-xs text-gray-600",children:" ( )"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:472,columnNumber:13},void 0),e.jsxDEV("span",{className:"text-xs md:text-sm font-medium text-gray-900",children:[q,"%"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:473,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:471,columnNumber:11},void 0),e.jsxDEV("div",{className:"w-full bg-gray-200 h-1",children:e.jsxDEV("div",{className:"bg-gray-900 h-1 transition-all",style:{width:`${q}%`}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:476,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:475,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:470,columnNumber:9},void 0),e.jsxDEV("div",{className:"pt-2 border-t border-gray-200 space-y-2",children:[e.jsxDEV("div",{className:"grid grid-cols-3 gap-2",children:[e.jsxDEV("button",{onClick:()=>Ee(te),className:"relative px-2 py-1.5 text-xs font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:["",(((G=te.meetingNotes)==null?void 0:G.length)||0)>0&&e.jsxDEV("span",{className:"ml-1 text-[10px] text-gray-500",children:["(",((z=te.meetingNotes)==null?void 0:z.length)||0,")"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:491,columnNumber:17},void 0),Z(te,"meeting")&&e.jsxDEV("span",{className:"absolute -top-1 -right-1 inline-flex items-center justify-center px-1.5 py-0.5 text-[9px] font-bold leading-none text-white bg-red-500 rounded-full",children:"N"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:496,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:485,columnNumber:13},void 0),e.jsxDEV("button",{onClick:()=>_e(te),className:"relative px-2 py-1.5 text-xs font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:["",(((ye=te.customerRequests)==null?void 0:ye.length)||0)>0&&e.jsxDEV("span",{className:"ml-1 text-[10px] text-gray-500",children:["(",((Se=te.customerRequests)==null?void 0:Se.length)||0,")"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:507,columnNumber:17},void 0),Z(te,"request")&&e.jsxDEV("span",{className:"absolute -top-1 -right-1 inline-flex items-center justify-center px-1.5 py-0.5 text-[9px] font-bold leading-none text-white bg-red-500 rounded-full",children:"N"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:512,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:501,columnNumber:13},void 0),e.jsxDEV("button",{onClick:()=>Ue(te),className:"px-2 py-1.5 text-xs font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:517,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:484,columnNumber:11},void 0),((i==null?void 0:i.role)==="admin"||(i==null?void 0:i.role)==="manager")&&e.jsxDEV("div",{className:"flex space-x-2",children:e.jsxDEV("button",{onClick:()=>we(te.id,te.name),className:"text-xs text-rose-600 hover:text-rose-700",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:526,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:525,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:483,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:429,columnNumber:7},void 0)};return e.jsxDEV("div",{className:"space-y-3 md:space-y-4",children:[e.jsxDEV("div",{className:"border-b border-gray-200",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("nav",{className:"flex space-x-4 md:space-x-8 overflow-x-auto",children:[{id:"planning",label:"",count:ue.planning,color:"text-gray-700"},{id:"in-progress",label:"",count:ue.inProgress,color:"text-gray-700"},{id:"completed",label:"",count:ue.completed,color:"text-gray-700"},{id:"all",label:"",count:a.length,color:"text-gray-600"}].map(te=>e.jsxDEV("button",{onClick:()=>m(te.id),className:Gt("py-3 md:py-4 px-1 border-b-2 font-medium text-xs md:text-sm transition-colors whitespace-nowrap",o===te.id?`border-gray-700 ${te.color}`:"border-transparent text-gray-400 hover:text-gray-700 hover:border-gray-300"),children:[te.label,e.jsxDEV("span",{className:Gt("ml-1 md:ml-2 py-0.5 px-1.5 md:px-2 rounded-full text-[10px] md:text-xs font-semibold",o===te.id?"bg-gray-700 text-white":"bg-gray-200 text-gray-600"),children:te.count},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:563,columnNumber:17},void 0)]},te.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:552,columnNumber:15},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:545,columnNumber:11},void 0),e.jsxDEV("div",{className:"flex items-center gap-6 mb-3 md:mb-4",children:[e.jsxDEV("div",{className:"hidden sm:flex border border-gray-300 overflow-hidden rounded",children:[e.jsxDEV("button",{onClick:()=>c("grid"),className:Gt("px-3 md:px-4 py-2 text-xs md:text-sm",d==="grid"?"bg-gray-100":"hover:bg-gray-50"),children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:577,columnNumber:15},void 0),e.jsxDEV("button",{onClick:()=>c("list"),className:Gt("px-3 md:px-4 py-2 text-xs md:text-sm border-l border-gray-300",d==="list"?"bg-gray-100":"hover:bg-gray-50"),children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:586,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:576,columnNumber:13},void 0),e.jsxDEV("button",{onClick:()=>{p(null),g(!0)},className:"hidden lg:inline-flex btn btn-primary portrait:px-2 landscape:px-4 py-2 items-center gap-1",children:[e.jsxDEV(_s,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:604,columnNumber:15},void 0),e.jsxDEV("span",{className:"portrait:hidden landscape:inline",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:605,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:597,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:574,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:543,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:542,columnNumber:7},void 0),d==="grid"||window.innerWidth<768?e.jsxDEV("div",{className:"projects-grid grid grid-cols-1 md:grid-cols-2 ipad:grid-cols-2 ipad-lg:grid-cols-2 ipad-xl:grid-cols-3 ipad-2xl:grid-cols-3 2xl:grid-cols-4 gap-3 md:gap-6",children:S.map(te=>e.jsxDEV(xe,{project:te},te.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:614,columnNumber:13},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:612,columnNumber:9},void 0):e.jsxDEV("div",{className:"bg-white border border-gray-200 overflow-hidden",children:e.jsxDEV("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsxDEV("thead",{className:"bg-gray-50",children:e.jsxDEV("tr",{children:[e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:622,columnNumber:17},void 0),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:625,columnNumber:17},void 0),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:628,columnNumber:17},void 0),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:631,columnNumber:17},void 0),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:634,columnNumber:17},void 0),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:637,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:621,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:620,columnNumber:13},void 0),e.jsxDEV("tbody",{className:"bg-white divide-y divide-gray-200",children:S.map(te=>{var G,z,ye,Se;const q=X(te.startDate,te.endDate);return e.jsxDEV("tr",{className:"hover:bg-gray-50",children:[e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"font-medium",children:te.name},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:649,columnNumber:25},void 0),e.jsxDEV("p",{className:"text-sm text-gray-500",children:te.location},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:650,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:648,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:647,columnNumber:21},void 0),e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxDEV("p",{className:"text-sm",children:[te.client,""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:654,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:653,columnNumber:21},void 0),e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:te.startDate&&te.endDate?e.jsxDEV(e.Fragment,{children:[Le(te.startDate,"yyyy.MM.dd (eee)",{locale:kt})," -",e.jsxDEV("br",{},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:660,columnNumber:27},void 0),Le(te.endDate,"yyyy.MM.dd (eee)",{locale:kt})]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:658,columnNumber:25},void 0):""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:656,columnNumber:21},void 0),e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxDEV("div",{className:"flex items-center gap-2",children:[te.status==="planning"&&e.jsxDEV("button",{onClick:()=>Oe(te),className:"px-2 py-1 text-xs font-medium text-white bg-gray-700 hover:bg-gray-800 rounded transition-colors",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:668,columnNumber:27},void 0),e.jsxDEV(ze,{project:te},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:675,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:666,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:665,columnNumber:21},void 0),e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV("div",{className:"w-24 bg-gray-200 h-1 mr-2",children:e.jsxDEV("div",{className:"bg-gray-900 h-1",style:{width:`${q}%`}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:681,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:680,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-sm",children:[q,"%"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:686,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:679,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:678,columnNumber:21},void 0),e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxDEV("div",{className:"flex flex-col gap-2",children:[e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV("button",{onClick:()=>Ee(te),className:"relative px-3 py-1.5 text-xs font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:["",(((G=te.meetingNotes)==null?void 0:G.length)||0)>0&&e.jsxDEV("span",{className:"ml-1 text-[10px] text-gray-500",children:["(",((z=te.meetingNotes)==null?void 0:z.length)||0,")"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:698,columnNumber:31},void 0),Z(te,"meeting")&&e.jsxDEV("span",{className:"absolute -top-1 -right-1 inline-flex items-center justify-center px-1.5 py-0.5 text-[9px] font-bold leading-none text-white bg-red-500 rounded-full",children:"N"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:703,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:692,columnNumber:27},void 0),e.jsxDEV("button",{onClick:()=>_e(te),className:"relative px-3 py-1.5 text-xs font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:["",(((ye=te.customerRequests)==null?void 0:ye.length)||0)>0&&e.jsxDEV("span",{className:"ml-1 text-[10px] text-gray-500",children:["(",((Se=te.customerRequests)==null?void 0:Se.length)||0,")"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:714,columnNumber:31},void 0),Z(te,"request")&&e.jsxDEV("span",{className:"absolute -top-1 -right-1 inline-flex items-center justify-center px-1.5 py-0.5 text-[9px] font-bold leading-none text-white bg-red-500 rounded-full",children:"N"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:719,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:708,columnNumber:27},void 0),e.jsxDEV("button",{onClick:()=>Ue(te),className:"px-3 py-1.5 text-xs font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:724,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:691,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex space-x-2",children:[e.jsxDEV("button",{onClick:()=>be(te),className:"text-xs text-gray-600 hover:text-gray-900",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:732,columnNumber:27},void 0),((i==null?void 0:i.role)==="admin"||(i==null?void 0:i.role)==="manager")&&e.jsxDEV("button",{onClick:()=>we(te.id,te.name),className:"text-xs text-rose-600 hover:text-rose-700",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:739,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:731,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:690,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:689,columnNumber:21},void 0)]},te.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:646,columnNumber:19},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:642,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:619,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:618,columnNumber:9},void 0),u&&e.jsxDEV(rg,{project:b,onClose:()=>{g(!1),p(null)},onSave:Me},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:758,columnNumber:9},void 0),w&&Y&&e.jsxDEV(ig,{projectName:Y.name,meetingNotes:Y.meetingNotes||[],onClose:()=>{k(!1),de(null)},onSave:He,onDelete:Re},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:769,columnNumber:9},void 0),j&&Y&&e.jsxDEV(ag,{projectName:Y.name,customerRequests:Y.customerRequests||[],onClose:()=>{B(!1),de(null)},onSave:De,onToggleComplete:Be,onDelete:Ke},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:782,columnNumber:9},void 0),y&&Y&&e.jsxDEV(og,{projectName:Y.name,entrancePassword:Y.entrancePassword||"",sitePassword:Y.sitePassword||"",onClose:()=>{O(!1),de(null)},onSave:fe},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:796,columnNumber:9},void 0),ge&&Y&&e.jsxDEV(mg,{projectName:Y.name,onClose:()=>{ee(!1),de(null)}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:809,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:540,columnNumber:5},void 0)};var za={},jl={exports:{}};(function(s){function n(t){return t&&t.__esModule?t:{default:t}}s.exports=n,s.exports.__esModule=!0,s.exports.default=s.exports})(jl);var ss=jl.exports,Ya={},Ll={exports:{}},Hl={exports:{}},Bl={exports:{}},Ul={exports:{}};(function(s){function n(t){"@babel/helpers - typeof";return s.exports=n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},s.exports.__esModule=!0,s.exports.default=s.exports,n(t)}s.exports=n,s.exports.__esModule=!0,s.exports.default=s.exports})(Ul);var jn=Ul.exports,Sl={exports:{}};(function(s){var n=jn.default;function t(r,i){if(n(r)!="object"||!r)return r;var a=r[Symbol.toPrimitive];if(a!==void 0){var o=a.call(r,i||"default");if(n(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(r)}s.exports=t,s.exports.__esModule=!0,s.exports.default=s.exports})(Sl);var dg=Sl.exports;(function(s){var n=jn.default,t=dg;function r(i){var a=t(i,"string");return n(a)=="symbol"?a:a+""}s.exports=r,s.exports.__esModule=!0,s.exports.default=s.exports})(Bl);var Pl=Bl.exports;(function(s){var n=Pl;function t(r,i,a){return(i=n(i))in r?Object.defineProperty(r,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[i]=a,r}s.exports=t,s.exports.__esModule=!0,s.exports.default=s.exports})(Hl);var Rl=Hl.exports;(function(s){var n=Rl;function t(i,a){var o=Object.keys(i);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(i);a&&(m=m.filter(function(d){return Object.getOwnPropertyDescriptor(i,d).enumerable})),o.push.apply(o,m)}return o}function r(i){for(var a=1;a<arguments.length;a++){var o=arguments[a]!=null?arguments[a]:{};a%2?t(Object(o),!0).forEach(function(m){n(i,m,o[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(o)):t(Object(o)).forEach(function(m){Object.defineProperty(i,m,Object.getOwnPropertyDescriptor(o,m))})}return i}s.exports=r,s.exports.__esModule=!0,s.exports.default=s.exports})(Ll);var en=Ll.exports,Ml={exports:{}},Il={exports:{}};(function(s){function n(t,r){if(t==null)return{};var i={};for(var a in t)if({}.hasOwnProperty.call(t,a)){if(r.indexOf(a)!==-1)continue;i[a]=t[a]}return i}s.exports=n,s.exports.__esModule=!0,s.exports.default=s.exports})(Il);var cg=Il.exports;(function(s){var n=cg;function t(r,i){if(r==null)return{};var a,o,m=n(r,i);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(r);for(o=0;o<d.length;o++)a=d[o],i.indexOf(a)===-1&&{}.propertyIsEnumerable.call(r,a)&&(m[a]=r[a])}return m}s.exports=t,s.exports.__esModule=!0,s.exports.default=s.exports})(Ml);var Ka=Ml.exports,Tl={exports:{}};(function(s){function n(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}s.exports=n,s.exports.__esModule=!0,s.exports.default=s.exports})(Tl);var fn=Tl.exports,Fl={exports:{}};(function(s){var n=Pl;function t(i,a){for(var o=0;o<a.length;o++){var m=a[o];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(i,n(m.key),m)}}function r(i,a,o){return a&&t(i.prototype,a),o&&t(i,o),Object.defineProperty(i,"prototype",{writable:!1}),i}s.exports=r,s.exports.__esModule=!0,s.exports.default=s.exports})(Fl);var gn=Fl.exports,Wl={exports:{}},ql={exports:{}};(function(s){function n(t){return s.exports=n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},s.exports.__esModule=!0,s.exports.default=s.exports,n(t)}s.exports=n,s.exports.__esModule=!0,s.exports.default=s.exports})(ql);var ug=ql.exports,Ol={exports:{}};(function(s){function n(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(s.exports=n=function(){return!!t},s.exports.__esModule=!0,s.exports.default=s.exports)()}s.exports=n,s.exports.__esModule=!0,s.exports.default=s.exports})(Ol);var pg=Ol.exports,$l={exports:{}},zl={exports:{}};(function(s){function n(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}s.exports=n,s.exports.__esModule=!0,s.exports.default=s.exports})(zl);var fg=zl.exports;(function(s){var n=jn.default,t=fg;function r(i,a){if(a&&(n(a)=="object"||typeof a=="function"))return a;if(a!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return t(i)}s.exports=r,s.exports.__esModule=!0,s.exports.default=s.exports})($l);var gg=$l.exports;(function(s){var n=ug,t=pg,r=gg;function i(a,o,m){return o=n(o),r(a,t()?Reflect.construct(o,m||[],n(a).constructor):o.apply(a,m))}s.exports=i,s.exports.__esModule=!0,s.exports.default=s.exports})(Wl);var Ln=Wl.exports,Yl={exports:{}},Kl={exports:{}};(function(s){function n(t,r){return s.exports=n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,a){return i.__proto__=a,i},s.exports.__esModule=!0,s.exports.default=s.exports,n(t,r)}s.exports=n,s.exports.__esModule=!0,s.exports.default=s.exports})(Kl);var Ng=Kl.exports;(function(s){var n=Ng;function t(r,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(i&&i.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),i&&n(r,i)}s.exports=t,s.exports.__esModule=!0,s.exports.default=s.exports})(Yl);var Hn=Yl.exports;const fr=dr(Xc);var hs={},An={};Object.defineProperty(An,"__esModule",{value:!0});An.views=An.navigate=void 0;An.navigate={PREVIOUS:"PREV",NEXT:"NEXT",TODAY:"TODAY",DATE:"DATE"};An.views={MONTH:"month",WEEK:"week",WORK_WEEK:"work_week",DAY:"day",AGENDA:"agenda"};var bg=ss.default;Object.defineProperty(hs,"__esModule",{value:!0});hs.views=hs.dateRangeFormat=hs.dateFormat=hs.accessor=hs.DayLayoutAlgorithmPropType=void 0;var ms=bg(Mm),Ko=An,Xo=Object.keys(Ko.views).map(function(s){return Ko.views[s]});hs.accessor=ms.default.oneOfType([ms.default.string,ms.default.func]);hs.dateFormat=ms.default.any;hs.dateRangeFormat=ms.default.func;hs.views=ms.default.oneOfType([ms.default.arrayOf(ms.default.oneOf(Xo)),ms.default.objectOf(function(s,n){var t=Xo.indexOf(n)!==-1&&typeof s[n]=="boolean";if(t)return null;for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];return ms.default.elementType.apply(ms.default,[s,n].concat(i))})]);hs.DayLayoutAlgorithmPropType=ms.default.oneOfType([ms.default.oneOf(["overlap","no-overlap"]),ms.default.func]);var Ni={},Bn={},xg=ss.default;Object.defineProperty(Bn,"__esModule",{value:!0});Bn.accessor=Xl;Bn.wrapAccessor=void 0;var yg=xg(jn);function Xl(s,n){var t=null;return typeof n=="function"?t=n(s):typeof n=="string"&&(0,yg.default)(s)==="object"&&s!=null&&n in s&&(t=s[n]),t}Bn.wrapAccessor=function(n){return function(t){return Xl(t,n)}};var Nn={},hg=ss.default;Object.defineProperty(Nn,"__esModule",{value:!0});Nn.DnDContext=void 0;var kg=hg(l);Nn.DnDContext=kg.default.createContext();var bn=ss.default;Object.defineProperty(Ni,"__esModule",{value:!0});Ni.default=void 0;var vg=bn(en),Dg=bn(fn),Vg=bn(gn),Cg=bn(Ln),Eg=bn(Hn),hn=bn(l),Jo=bn(fr),Go=Bn,Ag=Nn,Jl=function(s){function n(){var t;(0,Dg.default)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t=(0,Cg.default)(this,n,[].concat(i)),t.handleResizeUp=function(o){o.button===0&&t.context.draggable.onBeginAction(t.props.event,"resize","UP")},t.handleResizeDown=function(o){o.button===0&&t.context.draggable.onBeginAction(t.props.event,"resize","DOWN")},t.handleResizeLeft=function(o){o.button===0&&t.context.draggable.onBeginAction(t.props.event,"resize","LEFT")},t.handleResizeRight=function(o){o.button===0&&t.context.draggable.onBeginAction(t.props.event,"resize","RIGHT")},t.handleStartDragging=function(o){var m;if(o.button===0){var d=(m=o.target.getAttribute("class"))===null||m===void 0?void 0:m.includes("rbc-addons-dnd-resize");if(!d){var c=(0,vg.default)({},t.props.event);c.sourceResource=t.props.resource,t.context.draggable.onBeginAction(t.props.event,"move")}}},t}return(0,Eg.default)(n,s),(0,Vg.default)(n,[{key:"renderAnchor",value:function(r){var i=r==="Up"||r==="Down"?"ns":"ew";return hn.default.createElement("div",{className:"rbc-addons-dnd-resize-".concat(i,"-anchor"),onMouseDown:this["handleResize".concat(r)]},hn.default.createElement("div",{className:"rbc-addons-dnd-resize-".concat(i,"-icon")}))}},{key:"render",value:function(){var r=this.props,i=r.event,a=r.type,o=r.continuesPrior,m=r.continuesAfter,d=r.resizable,c=this.props.children;if(i.__isPreview)return hn.default.cloneElement(c,{className:(0,Jo.default)(c.props.className,"rbc-addons-dnd-drag-preview")});var u=this.context.draggable,g=u.draggableAccessor,b=u.resizableAccessor,p=g?!!(0,Go.accessor)(i,g):!0;if(!p)return c;var w=d&&(b?!!(0,Go.accessor)(i,b):!0);if(w||p){var k={onMouseDown:this.handleStartDragging,onTouchStart:this.handleStartDragging};if(w){var j=null,B=null;a==="date"?(j=!o&&this.renderAnchor("Left"),B=!m&&this.renderAnchor("Right")):(j=!o&&this.renderAnchor("Up"),B=!m&&this.renderAnchor("Down")),k.children=hn.default.createElement("div",{className:"rbc-addons-dnd-resizable"},j,c.props.children,B)}u.dragAndDropAction.interacting&&u.dragAndDropAction.event===i&&(k.className=(0,Jo.default)(c.props.className,"rbc-addons-dnd-dragged-event")),c=hn.default.cloneElement(c,k)}return c}}])}(hn.default.Component);Jl.contextType=Ag.DnDContext;Ni.default=Jl;var bi={},Gl={exports:{}};(function(s){var n=jn.default;function t(r,i){if(typeof WeakMap=="function")var a=new WeakMap,o=new WeakMap;return(s.exports=t=function(d,c){if(!c&&d&&d.__esModule)return d;var u,g,b={__proto__:null,default:d};if(d===null||n(d)!="object"&&typeof d!="function")return b;if(u=c?o:a){if(u.has(d))return u.get(d);u.set(d,b)}for(var p in d)p!=="default"&&{}.hasOwnProperty.call(d,p)&&((g=(u=Object.defineProperty)&&Object.getOwnPropertyDescriptor(d,p))&&(g.get||g.set)?u(b,p,g):b[p]=d[p]);return b},s.exports.__esModule=!0,s.exports.default=s.exports)(r,i)}s.exports=t,s.exports.__esModule=!0,s.exports.default=s.exports})(Gl);var Ql=Gl.exports;function Xa(s,n,t,r){if(t===void 0&&(t=!1),r===void 0&&(r=!0),s){var i=document.createEvent("HTMLEvents");i.initEvent(n,t,r),s.dispatchEvent(i)}}function wg(s){var n=bs(s,"transitionDuration")||"",t=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*t}function _g(s,n,t){t===void 0&&(t=5);var r=!1,i=setTimeout(function(){r||Xa(s,"transitionend",!0)},n+t),a=li(s,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(i),a()}}function Ja(s,n,t,r){t==null&&(t=wg(s)||0);var i=_g(s,t,r),a=li(s,"transitionend",n);return function(){i(),a()}}var Qo={transition:"","transition-duration":"","transition-delay":"","transition-timing-function":""};function Zo(s){var n=s.node,t=s.properties,r=s.duration,i=r===void 0?200:r,a=s.easing,o=s.callback,m=[],d={},c="";Object.keys(t).forEach(function(b){var p=t[b];Jc(b)?c+=b+"("+p+") ":(d[b]=p,m.push(Gc(b)))}),c&&(d.transform=c,m.push("transform"));function u(b){b.target===b.currentTarget&&(bs(n,Qo),o&&o.call(this,b))}i>0&&(d.transition=m.join(", "),d["transition-duration"]=i/1e3+"s",d["transition-delay"]="0s",d["transition-timing-function"]=a||"linear");var g=Ja(n,u,i);return n.clientLeft,bs(n,d),{cancel:function(){g(),bs(n,Qo)}}}function Zl(s,n,t,r,i){if(!("nodeType"in s))return Zo(s);if(!n)throw new Error("must include properties to animate");return typeof r=="function"&&(i=r,r=""),Zo({node:s,properties:n,duration:t,easing:r,callback:i})}function ed(s,n,t){if(s){if(typeof t>"u")return s.getAttribute(n);!t&&t!==""?s.removeAttribute(n):s.setAttribute(n,String(t))}}function td(s){return s?Array.from(s.children):[]}function sd(s){if(s){for(;s.firstChild;)s.removeChild(s.firstChild);return s}return null}var jg=Function.prototype.bind.call(Function.prototype.call,[].slice);function nd(s){return s?jg(s.childNodes):[]}function rd(s,n){return function(r){var i=r.currentTarget,a=r.target,o=Aa(i,s);o.some(function(m){return wa(m,a)})&&n.call(this,r)}}function id(s,n){return s&&n&&n.parentNode?(n.nextSibling?n.parentNode.insertBefore(s,n.nextSibling):n.parentNode.appendChild(s),s):null}var Lg=/^(?:input|select|textarea|button)$/i;function ad(s){return s?Lg.test(s.nodeName):!1}function od(s){return s?!!(s.offsetWidth||s.offsetHeight||s.getClientRects().length):!1}function md(s,n,t){n===void 0&&(n=null),t===void 0&&(t=null);for(var r=[];s;s=s.nextElementSibling)if(s!==n){if(t&&_a(s,t))break;r.push(s)}return r}function ld(s,n){return md(s,s,n)}function Hg(s,n){var t=null,r=[];for(t=s?s[n]:null;t&&t.nodeType!==9;)r.push(t),t=t[n]||null;return r}function dd(s){return Hg(s,"parentElement")}function cd(s,n){return s&&n?(n.firstElementChild?n.insertBefore(s,n.firstElementChild):n.appendChild(s),s):null}function ud(s){return s&&s.parentNode?(s.parentNode.removeChild(s),s):null}function Ga(s,n){var t=bs(s,"position"),r=t==="absolute",i=s.ownerDocument;if(t==="fixed")return i||document;for(;(s=s.parentNode)&&!Qc(s);){var a=r&&bs(s,"position")==="static",o=(bs(s,"overflow")||"")+(bs(s,"overflow-y")||"")+bs(s,"overflow-x");if(!a&&/(auto|scroll)/.test(o)&&(n||di(s)<s.scrollHeight))return s}return i||document}function pd(s,n){var t=Gr(s),r={top:0,left:0};if(s){var i=n||Ga(s),a=Zc(i),o=Qr(i),m=di(i,!0);a||(r=Gr(i)),t={top:t.top-r.top,left:t.left-r.left,height:t.height,width:t.width};var d=t.height,c=t.top+(a?0:o),u=c+d;o=o>c?c:u>o+m?u-m:o;var g=ja(function(){return Qr(i,o)});return function(){return La(g)}}}function fd(s){return md(s&&s.parentElement?s.parentElement.firstElementChild:null,s)}var Bg=/&nbsp;/gi,Ug=/\xA0/g,Sg=/\s+([^\s])/gm;function gd(s,n,t){n===void 0&&(n=!0),t===void 0&&(t=!0);var r="";return s&&(r=(s.textContent||"").replace(Bg," ").replace(Ug," "),n&&(r=r.trim()),t&&(r=r.replace(Sg," $1"))),r}function Nd(s,n){s.classList?s.classList.toggle(n):Ha(s,n)?Ba(s,n):Ua(s,n)}const Pg={addEventListener:Jm,removeEventListener:Xm,triggerEvent:Xa,animate:Zl,filter:rd,listen:li,style:bs,getComputedStyle:Km,attribute:ed,activeElement:Ym,ownerDocument:zm,ownerWindow:$m,requestAnimationFrame:ja,cancelAnimationFrame:La,matches:_a,height:di,width:Om,offset:Gr,offsetParent:qm,position:Wm,contains:wa,scrollbarSize:Fm,scrollLeft:Tm,scrollParent:Ga,scrollTo:pd,scrollTop:Qr,querySelectorAll:Aa,closest:Im,addClass:Ua,removeClass:Ba,hasClass:Ha,toggleClass:Nd,transitionEnd:Ja,childNodes:nd,childElements:td,nextUntil:ld,parents:dd,siblings:fd,clear:sd,insertAfter:id,isInput:ad,isVisible:od,prepend:cd,remove:ud,text:gd},Rg=Object.freeze(Object.defineProperty({__proto__:null,activeElement:Ym,addClass:Ua,addEventListener:Jm,animate:Zl,attribute:ed,cancelAnimationFrame:La,childElements:td,childNodes:nd,clear:sd,closest:Im,contains:wa,default:Pg,filter:rd,getComputedStyle:Km,hasClass:Ha,height:di,insertAfter:id,isInput:ad,isVisible:od,listen:li,matches:_a,nextUntil:ld,offset:Gr,offsetParent:qm,ownerDocument:zm,ownerWindow:$m,parents:dd,position:Wm,prepend:cd,querySelectorAll:Aa,remove:ud,removeClass:Ba,removeEventListener:Xm,requestAnimationFrame:ja,scrollLeft:Tm,scrollParent:Ga,scrollTo:pd,scrollTop:Qr,scrollbarSize:Fm,siblings:fd,style:bs,text:gd,toggleClass:Nd,transitionEnd:Ja,triggerEvent:Xa,width:Om},Symbol.toStringTag,{value:"Module"})),Mg=dr(Rg);var aa={exports:{}};(function(s,n){n.__esModule=!0,n.default=r;var t=Function.prototype.bind.call(Function.prototype.call,[].slice);function r(i,a){return t(i.querySelectorAll(a))}s.exports=n.default})(aa,aa.exports);var Ig=aa.exports,Ds={};const Tg=dr(eu),Fg=dr(tu),Wg=dr(su);var Un=ss.default;Object.defineProperty(Ds,"__esModule",{value:!0});Ds.default=void 0;Ds.getBoundsForNode=ar;Ds.getEventNodeFromPoint=xd;Ds.getShowMoreNodeFromPoint=yd;Ds.isEvent=Kg;Ds.isShowMore=Xg;Ds.objectsCollide=ma;var qg=Un(jn),Og=Un(fn),$g=Un(gn),oa=Un(Tg),bd=Un(Fg),zg=Un(Wg);function ts(s,n){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document;return(0,zg.default)(t,s,n,{passive:!1})}function Yg(s,n,t){return!s||(0,oa.default)(s,document.elementFromPoint(n,t))}function xd(s,n){var t=n.clientX,r=n.clientY,i=document.elementFromPoint(t,r);return(0,bd.default)(i,".rbc-event",s)}function yd(s,n){var t=n.clientX,r=n.clientY,i=document.elementFromPoint(t,r);return(0,bd.default)(i,".rbc-show-more",s)}function Kg(s,n){return!!xd(s,n)}function Xg(s,n){return!!yd(s,n)}function Wn(s){var n=s;return s.touches&&s.touches.length&&(n=s.touches[0]),{clientX:n.clientX,clientY:n.clientY,pageX:n.pageX,pageY:n.pageY}}var em=5,Jg=250,Gg=function(){function s(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.global,i=r===void 0?!1:r,a=t.longPressThreshold,o=a===void 0?250:a,m=t.validContainers,d=m===void 0?[]:m;(0,Og.default)(this,s),this._initialEvent=null,this.selecting=!1,this.isDetached=!1,this.container=n,this.globalMouse=!n||i,this.longPressThreshold=o,this.validContainers=d,this._listeners=Object.create(null),this._handleInitialEvent=this._handleInitialEvent.bind(this),this._handleMoveEvent=this._handleMoveEvent.bind(this),this._handleTerminatingEvent=this._handleTerminatingEvent.bind(this),this._keyListener=this._keyListener.bind(this),this._dropFromOutsideListener=this._dropFromOutsideListener.bind(this),this._dragOverFromOutsideListener=this._dragOverFromOutsideListener.bind(this),this._removeTouchMoveWindowListener=ts("touchmove",function(){},window),this._removeKeyDownListener=ts("keydown",this._keyListener),this._removeKeyUpListener=ts("keyup",this._keyListener),this._removeDropFromOutsideListener=ts("drop",this._dropFromOutsideListener),this._removeDragOverFromOutsideListener=ts("dragover",this._dragOverFromOutsideListener),this._addInitialEventListener()}return(0,$g.default)(s,[{key:"on",value:function(t,r){var i=this._listeners[t]||(this._listeners[t]=[]);return i.push(r),{remove:function(){var o=i.indexOf(r);o!==-1&&i.splice(o,1)}}}},{key:"emit",value:function(t){for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];var o,m=this._listeners[t]||[];return m.forEach(function(d){o===void 0&&(o=d.apply(void 0,i))}),o}},{key:"teardown",value:function(){this._initialEvent=null,this._initialEventData=null,this._selectRect=null,this.selecting=!1,this._lastClickData=null,this.isDetached=!0,this._listeners=Object.create(null),this._removeTouchMoveWindowListener&&this._removeTouchMoveWindowListener(),this._removeInitialEventListener&&this._removeInitialEventListener(),this._removeEndListener&&this._removeEndListener(),this._onEscListener&&this._onEscListener(),this._removeMoveListener&&this._removeMoveListener(),this._removeKeyUpListener&&this._removeKeyUpListener(),this._removeKeyDownListener&&this._removeKeyDownListener(),this._removeDropFromOutsideListener&&this._removeDropFromOutsideListener(),this._removeDragOverFromOutsideListener&&this._removeDragOverFromOutsideListener()}},{key:"isSelected",value:function(t){var r=this._selectRect;return!r||!this.selecting?!1:ma(r,ar(t))}},{key:"filter",value:function(t){var r=this._selectRect;return!r||!this.selecting?[]:t.filter(this.isSelected,this)}},{key:"_addLongPressListener",value:function(t,r){var i=this,a=null,o=null,m=null,d=function(b){a=setTimeout(function(){u(),t(b)},i.longPressThreshold),o=ts("touchmove",function(){return u()}),m=ts("touchend",function(){return u()})},c=ts("touchstart",d),u=function(){a&&clearTimeout(a),o&&o(),m&&m(),a=null,o=null,m=null};return r&&d(r),function(){u(),c()}}},{key:"_addInitialEventListener",value:function(){var t=this,r=ts("mousedown",function(a){t._removeInitialEventListener(),t._handleInitialEvent(a),t._removeInitialEventListener=ts("mousedown",t._handleInitialEvent)}),i=ts("touchstart",function(a){t._removeInitialEventListener(),t._removeInitialEventListener=t._addLongPressListener(t._handleInitialEvent,a)});this._removeInitialEventListener=function(){r(),i()}}},{key:"_dropFromOutsideListener",value:function(t){var r=Wn(t),i=r.pageX,a=r.pageY,o=r.clientX,m=r.clientY;this.emit("dropFromOutside",{x:i,y:a,clientX:o,clientY:m}),t.preventDefault()}},{key:"_dragOverFromOutsideListener",value:function(t){var r=Wn(t),i=r.pageX,a=r.pageY,o=r.clientX,m=r.clientY;this.emit("dragOverFromOutside",{x:i,y:a,clientX:o,clientY:m}),t.preventDefault()}},{key:"_handleInitialEvent",value:function(t){if(this._initialEvent=t,!this.isDetached){var r=Wn(t),i=r.clientX,a=r.clientY,o=r.pageX,m=r.pageY,d=this.container(),c,u;if(!(t.which===3||t.button===2||!Yg(d,i,a))){if(!this.globalMouse&&d&&!(0,oa.default)(d,t.target)){var g=Qg(0),b=g.top,p=g.left,w=g.bottom,k=g.right;if(u=ar(d),c=ma({top:u.top-b,left:u.left-p,bottom:u.bottom+w,right:u.right+k},{top:m,left:o}),!c)return}var j=this.emit("beforeSelect",this._initialEventData={isTouch:/^touch/.test(t.type),x:o,y:m,clientX:i,clientY:a});if(j!==!1)switch(t.type){case"mousedown":this._removeEndListener=ts("mouseup",this._handleTerminatingEvent),this._onEscListener=ts("keydown",this._handleTerminatingEvent),this._removeMoveListener=ts("mousemove",this._handleMoveEvent);break;case"touchstart":this._handleMoveEvent(t),this._removeEndListener=ts("touchend",this._handleTerminatingEvent),this._removeMoveListener=ts("touchmove",this._handleMoveEvent);break}}}}},{key:"_isWithinValidContainer",value:function(t){var r=t.target,i=this.validContainers;return!i||!i.length||!r?!0:i.some(function(a){return!!r.closest(a)})}},{key:"_handleTerminatingEvent",value:function(t){var r=this.selecting,i=this._selectRect;if(!r&&t.type.includes("key")&&(t=this._initialEvent),this.selecting=!1,this._removeEndListener&&this._removeEndListener(),this._removeMoveListener&&this._removeMoveListener(),this._selectRect=null,this._initialEvent=null,this._initialEventData=null,!!t){var a=!this.container||(0,oa.default)(this.container(),t.target),o=this._isWithinValidContainer(t);return t.key==="Escape"||!o?this.emit("reset"):!r&&a?this._handleClickEvent(t):r?this.emit("select",i):this.emit("reset")}}},{key:"_handleClickEvent",value:function(t){var r=Wn(t),i=r.pageX,a=r.pageY,o=r.clientX,m=r.clientY,d=new Date().getTime();return this._lastClickData&&d-this._lastClickData.timestamp<Jg?(this._lastClickData=null,this.emit("doubleClick",{x:i,y:a,clientX:o,clientY:m})):(this._lastClickData={timestamp:d},this.emit("click",{x:i,y:a,clientX:o,clientY:m}))}},{key:"_handleMoveEvent",value:function(t){if(!(this._initialEventData===null||this.isDetached)){var r=this._initialEventData,i=r.x,a=r.y,o=Wn(t),m=o.pageX,d=o.pageY,c=Math.abs(i-m),u=Math.abs(a-d),g=Math.min(m,i),b=Math.min(d,a),p=this.selecting,w=this.isClick(m,d);w&&!p&&!(c||u)||(!p&&!w&&this.emit("selectStart",this._initialEventData),w||(this.selecting=!0,this._selectRect={top:b,left:g,x:m,y:d,right:g+c,bottom:b+u},this.emit("selecting",this._selectRect)),t.preventDefault())}}},{key:"_keyListener",value:function(t){this.ctrl=t.metaKey||t.ctrlKey}},{key:"isClick",value:function(t,r){var i=this._initialEventData,a=i.x,o=i.y,m=i.isTouch;return!m&&Math.abs(t-a)<=em&&Math.abs(r-o)<=em}}])}();function Qg(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return(0,qg.default)(s)!=="object"&&(s={top:s,left:s,right:s,bottom:s}),s}function ma(s,n){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=ar(s),i=r.top,a=r.left,o=r.right,m=o===void 0?a:o,d=r.bottom,c=d===void 0?i:d,u=ar(n),g=u.top,b=u.left,p=u.right,w=p===void 0?b:p,k=u.bottom,j=k===void 0?g:k;return!(c-t<g||i+t>j||m-t<b||a+t>w)}function ar(s){if(!s.getBoundingClientRect)return s;var n=s.getBoundingClientRect(),t=n.left+tm("left"),r=n.top+tm("top");return{top:r,left:t,right:(s.offsetWidth||0)+t,bottom:(s.offsetHeight||0)+r}}function tm(s){if(s==="left")return window.pageXOffset||document.body.scrollLeft||0;if(s==="top")return window.pageYOffset||document.body.scrollTop||0}Ds.default=Gg;var xi={},yi=ss.default;Object.defineProperty(xi,"__esModule",{value:!0});xi.default=void 0;var Zg=yi(Rl),sm=yi(en),eN=yi(fr),qn=yi(l);function Ar(s){return typeof s=="string"?s:s+"%"}function tN(s){var n=s.style,t=s.className,r=s.event,i=s.accessors,a=s.rtl,o=s.selected,m=s.label,d=s.continuesPrior,c=s.continuesAfter,u=s.getters,g=s.onClick,b=s.onDoubleClick,p=s.isBackgroundEvent,w=s.onKeyPress,k=s.components,j=k.event,B=k.eventWrapper,y=i.title(r),O=i.tooltip(r),ge=i.end(r),ee=i.start(r),Y=u.eventProp(r,ee,ge,o),de=[qn.default.createElement("div",{key:"1",className:"rbc-event-label"},m),qn.default.createElement("div",{key:"2",className:"rbc-event-content"},j?qn.default.createElement(j,{event:r,title:y}):y)],T=n.height,oe=n.top,re=n.width,Z=n.xOffset,X=(0,sm.default)((0,sm.default)({},Y.style),{},(0,Zg.default)({top:Ar(oe),height:Ar(T),width:Ar(re)},a?"right":"left",Ar(Z)));return qn.default.createElement(B,Object.assign({type:"time"},s),qn.default.createElement("div",{role:"button",tabIndex:0,onClick:g,onDoubleClick:b,style:X,onKeyDown:w,title:O?(typeof m=="string"?m+": ":"")+O:void 0,className:(0,eN.default)(p?"rbc-background-event":"rbc-event",t,Y.className,{"rbc-selected":o,"rbc-event-continues-earlier":d,"rbc-event-continues-later":c})},de))}xi.default=tN;var Fs={},hd=ss.default;Object.defineProperty(Fs,"__esModule",{value:!0});Fs.dragAccessors=void 0;Fs.eventTimes=lN;Fs.mergeComponents=oN;Fs.pointInColumn=mN;var sN=hd(en),nN=hd(Ka),nm=Bn,rN=l,iN=["children"];Fs.dragAccessors={start:(0,nm.wrapAccessor)(function(s){return s.start}),end:(0,nm.wrapAccessor)(function(s){return s.end})};function aN(){for(var s=arguments.length,n=new Array(s),t=0;t<s;t++)n[t]=arguments[t];var r=function(a){var o=a.children,m=(0,nN.default)(a,iN);return n.filter(Boolean).reduceRight(function(d,c){return(0,rN.createElement)(c,m,d)},o)};return r}function oN(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,t=Object.keys(n),r=(0,sN.default)({},s);return t.forEach(function(i){r[i]=s[i]?aN(s[i],n[i]):n[i]}),r}function mN(s,n){var t=s.left,r=s.right,i=s.top,a=n.x,o=n.y;return a<r+10&&a>t&&o>i}function lN(s,n,t){var r=n.start(s),i=n.end(s),a=t.eq(r,i,"minutes")&&t.diff(r,i,"minutes")===0;a&&(i=t.add(i,1,"day"));var o=t.diff(r,i,"milliseconds");return{start:r,end:i,duration:o}}var dN=Ql.default,tn=ss.default;Object.defineProperty(bi,"__esModule",{value:!0});bi.default=void 0;var Os=tn(en),cN=tn(fn),uN=tn(gn),pN=tn(Ln),fN=tn(Hn),Ri=Mg,gN=tn(Ig),ln=tn(l),NN=Nn,$s=dN(Ds),bN=tn(xi),Ms=Fs,kd=function(s){function n(){var t;(0,cN.default)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t=(0,pN.default)(this,n,[].concat(i)),t.handleMove=function(o,m){if(!(0,Ms.pointInColumn)(m,o))return t.reset();var d=t.context.draggable.dragAndDropAction.event,c=t.props,u=c.accessors,g=c.slotMetrics,b=g.closestSlotFromPoint({y:o.y-t.eventOffsetTop,x:o.x},m),p=(0,Ms.eventTimes)(d,u,t.props.localizer),w=p.duration,k=t.props.localizer.add(b,w,"milliseconds");t.update(d,g.getRange(b,k,!1,!0))},t.handleDropFromOutside=function(o,m){var d=t.props,c=d.slotMetrics,u=d.resource,g=c.closestSlotFromPoint({y:o.y,x:o.x},m),b=t._calculateDnDEnd(g);t.context.draggable.onDropFromOutside({start:g,end:b,allDay:!1,resource:u}),t.reset()},t.handleDragOverFromOutside=function(o,m){var d=t.props.slotMetrics,c=d.closestSlotFromPoint({y:o.y,x:o.x},m),u=t._calculateDnDEnd(c),g=t.context.draggable.dragFromOutsideItem();t.update(g,d.getRange(c,u,!1,!0))},t._calculateDnDEnd=function(o){var m=t.props,d=m.accessors,c=m.slotMetrics,u=m.localizer,g=t.context.draggable.dragFromOutsideItem(),b=(0,Ms.eventTimes)(g,d,u),p=b.duration,w=c.nextSlot(o),k=!isNaN(p);if(k){var j=u.add(o,p,"milliseconds");w=new Date(Math.max(j,w))}return w},t.updateParentScroll=function(o,m){setTimeout(function(){var d=(0,gN.default)(m,".rbc-addons-dnd-drag-preview")[0];d&&(d.offsetTop<o.scrollTop?(0,Ri.scrollTop)(o,Math.max(d.offsetTop,0)):d.offsetTop+d.offsetHeight>o.scrollTop+o.clientHeight&&(0,Ri.scrollTop)(o,Math.min(d.offsetTop-o.offsetHeight+d.offsetHeight,o.scrollHeight)))})},t._selectable=function(){var o=t.ref.current,m=o.children[0],d=!1,c=t._selector=new $s.default(function(){return o.closest(".rbc-time-view")}),u=(0,Ri.scrollParent)(o);c.on("beforeSelect",function(g){var b=t.context.draggable.dragAndDropAction;if(!b.action)return!1;if(b.action==="resize")return(0,Ms.pointInColumn)((0,$s.getBoundsForNode)(m),g);var p=(0,$s.getEventNodeFromPoint)(m,g);if(!p)return!1;t.eventOffsetTop=g.y-(0,$s.getBoundsForNode)(p).top}),c.on("selecting",function(g){var b=(0,$s.getBoundsForNode)(m),p=t.context.draggable.dragAndDropAction;p.action==="move"&&(t.updateParentScroll(u,m),t.handleMove(g,b)),p.action==="resize"&&(t.updateParentScroll(u,m),t.handleResize(g,b))}),c.on("dropFromOutside",function(g){if(t.context.draggable.onDropFromOutside){var b=(0,$s.getBoundsForNode)(m);(0,Ms.pointInColumn)(b,g)&&t.handleDropFromOutside(g,b)}}),c.on("dragOverFromOutside",function(g){var b=t.context.draggable.dragFromOutsideItem?t.context.draggable.dragFromOutsideItem():null;if(b){var p=(0,$s.getBoundsForNode)(m);if(!(0,Ms.pointInColumn)(p,g))return t.reset();t.handleDragOverFromOutside(g,p)}}),c.on("selectStart",function(){d=!0,t.context.draggable.onStart()}),c.on("select",function(g){var b=(0,$s.getBoundsForNode)(m);d=!1;var p=t.context.draggable.dragAndDropAction;if(p.action==="resize")t.handleInteractionEnd();else{if(!t.state.event||!(0,Ms.pointInColumn)(b,g))return;t.handleInteractionEnd()}}),c.on("click",function(){d&&t.reset(),t.context.draggable.onEnd(null)}),c.on("reset",function(){t.reset(),t.context.draggable.onEnd(null)})},t.handleInteractionEnd=function(){var o=t.props.resource,m=t.state.event;t.reset(),t.context.draggable.onEnd({start:m.start,end:m.end,resourceId:o})},t._teardownSelectable=function(){t._selector&&(t._selector.teardown(),t._selector=null)},t.state={},t.ref=ln.default.createRef(),t}return(0,fN.default)(n,s),(0,uN.default)(n,[{key:"componentDidMount",value:function(){this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"reset",value:function(){this.state.event&&this.setState({event:null,top:null,height:null})}},{key:"update",value:function(r,i){var a=i.startDate,o=i.endDate,m=i.top,d=i.height,c=this.state.event;c&&a===c.start&&o===c.end||this.setState({top:m,height:d,event:(0,Os.default)((0,Os.default)({},r),{},{start:a,end:o})})}},{key:"handleResize",value:function(r,i){var a=this.props,o=a.accessors,m=a.slotMetrics,d=a.localizer,c=this.context.draggable.dragAndDropAction,u=c.event,g=c.direction,b=m.closestSlotFromPoint(r,i),p=(0,Ms.eventTimes)(u,o,d),w=p.start,k=p.end,j;if(g==="UP"){var B=d.min(b,m.closestSlotFromDate(k,-1));j=m.getRange(B,k),j=(0,Os.default)((0,Os.default)({},j),{},{endDate:k})}else if(g==="DOWN"){var y=d.max(b,m.closestSlotFromDate(w));j=m.getRange(w,y),j=(0,Os.default)((0,Os.default)({},j),{},{startDate:w})}this.update(u,j)}},{key:"renderContent",value:function(){var r=this.props,i=r.children,a=r.accessors,o=r.components,m=r.getters,d=r.slotMetrics,c=r.localizer,u=this.state,g=u.event,b=u.top,p=u.height;if(!g)return i;var w=i.props.children,k=g.start,j=g.end,B,y="eventTimeRangeFormat",O=d.startsBeforeDay(k),ge=d.startsAfterDay(j);return O?y="eventTimeRangeEndFormat":ge&&(y="eventTimeRangeStartFormat"),O&&ge?B=c.messages.allDay:B=c.format({start:k,end:j},y),ln.default.cloneElement(i,{children:ln.default.createElement(ln.default.Fragment,null,w,g&&ln.default.createElement(bN.default,{event:g,label:B,className:"rbc-addons-dnd-drag-preview",style:{top:b,height:p,width:100},getters:m,components:o,accessors:(0,Os.default)((0,Os.default)({},a),Ms.dragAccessors),continuesPrior:O,continuesAfter:ge}))})}},{key:"render",value:function(){return ln.default.createElement("div",{ref:this.ref},this.renderContent())}}])}(ln.default.Component);kd.contextType=NN.DnDContext;bi.default=kd;var hi={},vd={exports:{}},Dd={exports:{}},Vd={exports:{}};(function(s){function n(t,r){(r==null||r>t.length)&&(r=t.length);for(var i=0,a=Array(r);i<r;i++)a[i]=t[i];return a}s.exports=n,s.exports.__esModule=!0,s.exports.default=s.exports})(Vd);var Cd=Vd.exports;(function(s){var n=Cd;function t(r){if(Array.isArray(r))return n(r)}s.exports=t,s.exports.__esModule=!0,s.exports.default=s.exports})(Dd);var xN=Dd.exports,Ed={exports:{}};(function(s){function n(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}s.exports=n,s.exports.__esModule=!0,s.exports.default=s.exports})(Ed);var yN=Ed.exports,Ad={exports:{}};(function(s){var n=Cd;function t(r,i){if(r){if(typeof r=="string")return n(r,i);var a={}.toString.call(r).slice(8,-1);return a==="Object"&&r.constructor&&(a=r.constructor.name),a==="Map"||a==="Set"?Array.from(r):a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?n(r,i):void 0}}s.exports=t,s.exports.__esModule=!0,s.exports.default=s.exports})(Ad);var hN=Ad.exports,wd={exports:{}};(function(s){function n(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}s.exports=n,s.exports.__esModule=!0,s.exports.default=s.exports})(wd);var kN=wd.exports;(function(s){var n=xN,t=yN,r=hN,i=kN;function a(o){return n(o)||t(o)||r(o)||i()}s.exports=a,s.exports.__esModule=!0,s.exports.default=s.exports})(vd);var _d=vd.exports,ki={},vi={},Di={},sn=ss.default;Object.defineProperty(Di,"__esModule",{value:!0});Di.default=void 0;var rm=sn(en),vN=sn(Ka),DN=sn(fn),VN=sn(gn),CN=sn(Ln),EN=sn(Hn),On=sn(l),AN=sn(fr),wN=["style","className","event","selected","isAllDay","onSelect","onDoubleClick","onKeyPress","localizer","continuesPrior","continuesAfter","accessors","getters","children","components","slotStart","slotEnd"],_N=function(s){function n(){return(0,DN.default)(this,n),(0,CN.default)(this,n,arguments)}return(0,EN.default)(n,s),(0,VN.default)(n,[{key:"render",value:function(){var r=this.props,i=r.style,a=r.className,o=r.event,m=r.selected,d=r.isAllDay,c=r.onSelect,u=r.onDoubleClick,g=r.onKeyPress,b=r.localizer,p=r.continuesPrior,w=r.continuesAfter,k=r.accessors,j=r.getters,B=r.children,y=r.components,O=y.event,ge=y.eventWrapper,ee=r.slotStart,Y=r.slotEnd,de=(0,vN.default)(r,wN);delete de.resizable;var T=k.title(o),oe=k.tooltip(o),re=k.end(o),Z=k.start(o),X=k.allDay(o),be=d||X||b.diff(Z,b.ceil(re,"day"),"day")>1,we=j.eventProp(o,Z,re,m),Me=On.default.createElement("div",{className:"rbc-event-content",title:oe||void 0},O?On.default.createElement(O,{event:o,continuesPrior:p,continuesAfter:w,title:T,isAllDay:X,localizer:b,slotStart:ee,slotEnd:Y}):T);return On.default.createElement(ge,Object.assign({},this.props,{type:"date"}),On.default.createElement("div",Object.assign({},de,{style:(0,rm.default)((0,rm.default)({},we.style),i),className:(0,AN.default)("rbc-event",a,we.className,{"rbc-selected":m,"rbc-event-allday":be,"rbc-event-continues-prior":p,"rbc-event-continues-after":w}),onClick:function(Ee){return c&&c(o,Ee)},onDoubleClick:function(Ee){return u&&u(o,Ee)},onKeyDown:function(Ee){return g&&g(o,Ee)}}),typeof B=="function"?B(Me):Me))}}])}(On.default.Component);Di.default=_N;var nn={},jN=ss.default;Object.defineProperty(nn,"__esModule",{value:!0});nn.dateCellSelection=UN;nn.getSlotAtX=jd;nn.isSelected=HN;nn.pointInBox=BN;nn.slotWidth=Qa;var LN=jN(nu);function HN(s,n){return!s||n==null?!1:(0,LN.default)(s,n)}function Qa(s,n){var t=s.right-s.left,r=t/n;return r}function jd(s,n,t,r){var i=Qa(s,r);return t?r-1-Math.floor((n-s.left)/i):Math.floor((n-s.left)/i)}function BN(s,n){var t=n.x,r=n.y;return r>=s.top&&r<=s.bottom&&t>=s.left&&t<=s.right}function UN(s,n,t,r,i){var a=-1,o=-1,m=r-1,d=Qa(n,r),c=jd(n,t.x,i,r),u=n.top<t.y&&n.bottom>t.y,g=n.top<s.y&&n.bottom>s.y,b=s.y>n.bottom,p=n.top>s.y,w=t.top<n.top&&t.bottom>n.bottom;return w&&(a=0,o=m),u&&(p?(a=0,o=c):b&&(a=c,o=m)),g&&(a=o=i?m-Math.floor((s.x-n.left)/d):Math.floor((s.x-n.left)/d),u?c<a?a=c:o=c:s.y<t.y?o=m:a=0),{startIdx:a,endIdx:o}}var Za=ss.default;Object.defineProperty(vi,"__esModule",{value:!0});vi.default=void 0;var Cs=Za(Mm),im=Za(l),SN=Za(Di),PN=nn;vi.default={propTypes:{slotMetrics:Cs.default.object.isRequired,selected:Cs.default.object,isAllDay:Cs.default.bool,accessors:Cs.default.object.isRequired,localizer:Cs.default.object.isRequired,components:Cs.default.object.isRequired,getters:Cs.default.object.isRequired,onSelect:Cs.default.func,onDoubleClick:Cs.default.func,onKeyPress:Cs.default.func},defaultProps:{segments:[],selected:{}},renderEvent:function(n,t){var r=n.selected;n.isAllDay;var i=n.accessors,a=n.getters,o=n.onSelect,m=n.onDoubleClick,d=n.onKeyPress,c=n.localizer,u=n.slotMetrics,g=n.components,b=n.resizable,p=u.continuesPrior(t),w=u.continuesAfter(t);return im.default.createElement(SN.default,{event:t,getters:a,localizer:c,accessors:i,components:g,onSelect:o,onDoubleClick:m,onKeyPress:d,continuesPrior:p,continuesAfter:w,slotStart:u.first,slotEnd:u.last,selected:(0,PN.isSelected)(t,r),resizable:b})},renderSpan:function(n,t,r){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:" ",a=Math.abs(t)/n*100+"%";return im.default.createElement("div",{key:r,className:"rbc-row-segment",style:{WebkitFlexBasis:a,flexBasis:a,maxWidth:a}},i)}};var rn=ss.default;Object.defineProperty(ki,"__esModule",{value:!0});ki.default=void 0;var RN=rn(en),MN=rn(fn),IN=rn(gn),TN=rn(Ln),FN=rn(Hn),WN=rn(fr),am=rn(l),Or=rn(vi),Ld=function(s){function n(){return(0,MN.default)(this,n),(0,TN.default)(this,n,arguments)}return(0,FN.default)(n,s),(0,IN.default)(n,[{key:"render",value:function(){var r=this,i=this.props,a=i.segments,o=i.slotMetrics.slots,m=i.className,d=1;return am.default.createElement("div",{className:(0,WN.default)(m,"rbc-row")},a.reduce(function(c,u,g){var b=u.event,p=u.left,w=u.right,k=u.span,j="_lvl_"+g,B=p-d,y=Or.default.renderEvent(r.props,b);return B&&c.push(Or.default.renderSpan(o,B,"".concat(j,"_gap"))),c.push(Or.default.renderSpan(o,k,j,y)),d=w+1,c},[]))}}])}(am.default.Component);Ld.defaultProps=(0,RN.default)({},Or.default.defaultProps);ki.default=Ld;var Ws={},Hd=ss.default;Object.defineProperty(Ws,"__esModule",{value:!0});Ws.endOfRange=Bd;Ws.eventLevels=$N;Ws.eventSegments=ON;Ws.inRange=zN;Ws.segsOverlap=Ud;Ws.sortEvents=la;Ws.sortWeekEvents=YN;var Mi=Hd(_d),qN=Hd(ru);function Bd(s){var n=s.dateRange,t=s.unit,r=t===void 0?"day":t,i=s.localizer;return{first:n[0],last:i.add(n[n.length-1],1,r)}}function ON(s,n,t,r){var i=Bd({dateRange:n,localizer:r}),a=i.first,o=i.last,m=r.diff(a,o,"day"),d=r.max(r.startOf(t.start(s),"day"),a),c=r.min(r.ceil(t.end(s),"day"),o),u=(0,qN.default)(n,function(b){return r.isSameDate(b,d)}),g=r.diff(d,c,"day");return g=Math.min(g,m),g=Math.max(g-r.segmentOffset,1),{event:s,span:g,left:u+1,right:Math.max(u+g,1)}}function $N(s){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0,t,r,i,a=[],o=[];for(t=0;t<s.length;t++){for(i=s[t],r=0;r<a.length&&Ud(i,a[r]);r++);r>=n?o.push(i):(a[r]||(a[r]=[])).push(i)}for(t=0;t<a.length;t++)a[t].sort(function(m,d){return m.left-d.left});return{levels:a,extra:o}}function zN(s,n,t,r,i){var a={start:r.start(s),end:r.end(s)},o={start:n,end:t};return i.inEventRange({event:a,range:o})}function Ud(s,n){return n.some(function(t){return t.left<=s.right&&t.right>=s.left})}function YN(s,n,t){var r=(0,Mi.default)(s),i=[],a=[];r.forEach(function(d){var c=n.start(d),u=n.end(d);t.daySpan(c,u)>1?i.push(d):a.push(d)});var o=i.sort(function(d,c){return la(d,c,n,t)}),m=a.sort(function(d,c){return la(d,c,n,t)});return[].concat((0,Mi.default)(o),(0,Mi.default)(m))}function la(s,n,t,r){var i={start:t.start(s),end:t.end(s),allDay:t.allDay(s)},a={start:t.start(n),end:t.end(n),allDay:t.allDay(n)};return r.sortEvents({evtA:i,evtB:a})}var KN=Ql.default,an=ss.default;Object.defineProperty(hi,"__esModule",{value:!0});hi.default=void 0;var wr=an(en),XN=an(_d),JN=an(fn),GN=an(gn),QN=an(Ln),ZN=an(Hn),_r=an(l),eb=an(ki),kn=KN(Ds),tb=Ws,zs=nn,jr=Fs,sb=Nn,Sd=function(s){function n(){var t;(0,JN.default)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t=(0,QN.default)(this,n,[].concat(i)),t.handleMove=function(o,m,d){if(!(0,zs.pointInBox)(m,o))return t.reset();var c=t.context.draggable.dragAndDropAction.event||d,u=t.props,g=u.accessors,b=u.slotMetrics,p=u.rtl,w=u.localizer,k=(0,zs.getSlotAtX)(m,o.x,p,b.slots),j=b.getDateForSlot(k),B=(0,jr.eventTimes)(c,g,w),y=B.start,O=B.duration;y=w.merge(j,y);var ge=w.add(y,O,"milliseconds");t.update(c,y,ge)},t.handleDropFromOutside=function(o,m){if(t.context.draggable.onDropFromOutside){var d=t.props,c=d.slotMetrics,u=d.rtl,g=d.localizer,b=(0,zs.getSlotAtX)(m,o.x,u,c.slots),p=c.getDateForSlot(b);t.context.draggable.onDropFromOutside({start:p,end:g.add(p,1,"day"),allDay:!1})}},t.handleDragOverFromOutside=function(o,m){var d=t.context.draggable.dragFromOutsideItem?t.context.draggable.dragFromOutsideItem():null;d&&t.handleMove(o,m,d)},t._selectable=function(){var o=t.ref.current.closest(".rbc-month-row, .rbc-allday-cell"),m=o.closest(".rbc-month-view, .rbc-time-view"),d=o.classList.contains("rbc-month-row"),c=t._selector=new kn.default(function(){return m},{validContainers:(0,XN.default)(d?[]:[".rbc-day-slot",".rbc-allday-cell"])});c.on("beforeSelect",function(u){var g=t.props.isAllDay,b=t.context.draggable.dragAndDropAction.action,p=(0,kn.getBoundsForNode)(o),w=(0,zs.pointInBox)(p,u);return b==="move"||b==="resize"&&(!g||w)}),c.on("selecting",function(u){var g=(0,kn.getBoundsForNode)(o),b=t.context.draggable.dragAndDropAction;b.action==="move"&&t.handleMove(u,g),b.action==="resize"&&t.handleResize(u,g)}),c.on("selectStart",function(){return t.context.draggable.onStart()}),c.on("select",function(u){var g=(0,kn.getBoundsForNode)(o);t.state.segment&&((0,zs.pointInBox)(g,u)?t.handleInteractionEnd():t.reset())}),c.on("dropFromOutside",function(u){if(t.context.draggable.onDropFromOutside){var g=(0,kn.getBoundsForNode)(o);(0,zs.pointInBox)(g,u)&&t.handleDropFromOutside(u,g)}}),c.on("dragOverFromOutside",function(u){if(t.context.draggable.dragFromOutsideItem){var g=(0,kn.getBoundsForNode)(o);t.handleDragOverFromOutside(u,g)}}),c.on("click",function(){return t.context.draggable.onEnd(null)}),c.on("reset",function(){t.reset(),t.context.draggable.onEnd(null)})},t.handleInteractionEnd=function(){var o=t.props,m=o.resourceId,d=o.isAllDay,c=t.state.segment.event;t.reset(),t.context.draggable.onEnd({start:c.start,end:c.end,resourceId:m,isAllDay:d})},t._teardownSelectable=function(){t._selector&&(t._selector.teardown(),t._selector=null)},t.state={},t.ref=_r.default.createRef(),t}return(0,ZN.default)(n,s),(0,GN.default)(n,[{key:"componentDidMount",value:function(){this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"reset",value:function(){this.state.segment&&this.setState({segment:null})}},{key:"update",value:function(r,i,a){var o=(0,tb.eventSegments)((0,wr.default)((0,wr.default)({},r),{},{end:a,start:i,__isPreview:!0}),this.props.slotMetrics.range,jr.dragAccessors,this.props.localizer),m=this.state.segment;m&&o.span===m.span&&o.left===m.left&&o.right===m.right||this.setState({segment:o})}},{key:"handleResize",value:function(r,i){var a=this.context.draggable.dragAndDropAction,o=a.event,m=a.direction,d=this.props,c=d.accessors,u=d.slotMetrics,g=d.rtl,b=d.localizer,p=(0,jr.eventTimes)(o,c,b),w=p.start,k=p.end,j=(0,zs.getSlotAtX)(i,r.x,g,u.slots),B=u.getDateForSlot(j),y=(0,zs.pointInBox)(i,r);if(m==="RIGHT"){if(y){if(u.last<w)return this.reset();b.eq(b.startOf(k,"day"),k)?k=b.add(B,1,"day"):k=B}else if(b.inRange(w,u.first,u.last)||i.bottom<r.y&&+u.first>+w)k=b.add(u.last,1,"milliseconds");else{this.setState({segment:null});return}var O=c.end(o);k=b.merge(k,O),b.lt(k,w)&&(k=O)}else if(m==="LEFT"){if(y){if(u.first>k)return this.reset();w=B}else if(b.inRange(k,u.first,u.last)||i.top>r.y&&b.lt(u.last,k))w=b.add(u.first,-1,"milliseconds");else{this.reset();return}var ge=c.start(o);w=b.merge(w,ge),b.gt(w,k)&&(w=ge)}this.update(o,w,k)}},{key:"render",value:function(){var r=this.props,i=r.children,a=r.accessors,o=this.state.segment;return _r.default.createElement("div",{ref:this.ref,className:"rbc-addons-dnd-row-body"},i,o&&_r.default.createElement(eb.default,Object.assign({},this.props,{selected:null,className:"rbc-addons-dnd-drag-row",segments:[o],accessors:(0,wr.default)((0,wr.default)({},a),jr.dragAccessors)})))}}])}(_r.default.Component);Sd.contextType=sb.DnDContext;hi.default=Sd;var Vs=ss.default;Object.defineProperty(Ya,"__esModule",{value:!0});Ya.default=gb;var Lr=Vs(en),nb=Vs(Ka),rb=Vs(fn),ib=Vs(gn),ab=Vs(Ln),ob=Vs(Hn),Ii=Vs(l),mb=Vs(fr),lb=Vs(Ni),db=Vs(bi),cb=Vs(hi),ub=Fs,pb=Nn,fb=["selectable","elementProps","components"];function gb(s){var n=function(t){function r(){var i;(0,rb.default)(this,r);for(var a=arguments.length,o=new Array(a),m=0;m<a;m++)o[m]=arguments[m];return i=(0,ab.default)(this,r,[].concat(o)),i.defaultOnDragOver=function(d){d.preventDefault()},i.handleBeginAction=function(d,c,u){i.setState({event:d,action:c,direction:u});var g=i.props.onDragStart;g&&g({event:d,action:c,direction:u})},i.handleInteractionStart=function(){i.state.interacting===!1&&i.setState({interacting:!0})},i.handleInteractionEnd=function(d){var c=i.state,u=c.action,g=c.event;if(u&&(i.setState({action:null,event:null,interacting:!1,direction:null}),d!=null)){d.event=g;var b=i.props,p=b.onEventDrop,w=b.onEventResize;u==="move"&&p&&p(d),u==="resize"&&w&&w(d)}},i.state={interacting:!1},i}return(0,ob.default)(r,t),(0,ib.default)(r,[{key:"getDnDContextValue",value:function(){return{draggable:{onStart:this.handleInteractionStart,onEnd:this.handleInteractionEnd,onBeginAction:this.handleBeginAction,onDropFromOutside:this.props.onDropFromOutside,dragFromOutsideItem:this.props.dragFromOutsideItem,draggableAccessor:this.props.draggableAccessor,resizableAccessor:this.props.resizableAccessor,dragAndDropAction:this.state}}}},{key:"render",value:function(){var a=this.props,o=a.selectable,m=a.elementProps,d=a.components,c=(0,nb.default)(a,fb),u=this.state.interacting;delete c.onEventDrop,delete c.onEventResize,c.selectable=o?"ignoreEvents":!1,this.components=(0,ub.mergeComponents)(d,{eventWrapper:lb.default,eventContainerWrapper:db.default,weekWrapper:cb.default});var g=this.props.onDropFromOutside?(0,Lr.default)((0,Lr.default)({},m),{},{onDragOver:this.props.onDragOver||this.defaultOnDragOver}):m;c.className=(0,mb.default)(c.className,"rbc-addons-dnd",!!u&&"rbc-addons-dnd-is-dragging");var b=this.getDnDContextValue();return Ii.default.createElement(pb.DnDContext.Provider,{value:b},Ii.default.createElement(s,Object.assign({},c,{elementProps:g,components:this.components})))}}])}(Ii.default.Component);return n.defaultProps=(0,Lr.default)((0,Lr.default)({},s.defaultProps),{},{draggableAccessor:null,resizableAccessor:null,resizable:!0}),n}var Nb=ss.default;Object.defineProperty(za,"__esModule",{value:!0});var Pd=za.default=void 0,bb=Nb(Ya);Pd=za.default=bb.default;const xb=Pd(iu),yb=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","/","","","","","","","",""];lt.updateLocale("ko",{months:["1","2","3","4","5","6","7","8","9","10","11","12"],monthsShort:["1","2","3","4","5","6","7","8","9","10","11","12"],weekdays:["","","","","","",""],weekdaysShort:["","","","","","",""],weekdaysMin:["","","","","","",""],longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY MMMM D",LLL:"YYYY MMMM D A h:mm",LLLL:"YYYY MMMM D dddd A h:mm"},meridiem:s=>s<12?"":"",week:{dow:0,doy:1}});lt.locale("ko");const hb=au(lt),om=["#F3F4F6","#F3F4F6","#F3F4F6","#F3F4F6","#F3F4F6","#F3F4F6","#F3F4F6","#F3F4F6","#F3F4F6","#F3F4F6","#F3F4F6","#F3F4F6","#F3F4F6","#F3F4F6","#F3F4F6","#F3F4F6"],kb=rt.memo(({onSave:s,onCancel:n})=>{const[t,r]=l.useState(""),i=()=>{const d=window.innerWidth,c=window.innerHeight;return d>=768&&d<1024||d>=1024&&c>d},[a,o]=l.useState(i);l.useEffect(()=>{const d=()=>o(i());return window.addEventListener("resize",d),()=>window.removeEventListener("resize",d)},[]);const m=a?"16px":"18px";return e.jsxDEV("div",{className:"w-full",onClick:d=>d.stopPropagation(),style:{padding:a?"2px 3px":"6px 0",minHeight:a?"28px":"32px"},children:e.jsxDEV("input",{type:"text",value:t,onChange:d=>r(d.target.value),onBlur:()=>{t.trim()?s(t.trim()):n()},onKeyDown:d=>{d.stopPropagation(),d.key==="Enter"?t.trim()?s(t.trim()):n():d.key==="Escape"&&n()},onClick:d=>d.stopPropagation(),placeholder:"",className:"w-full bg-transparent border-none outline-none focus:outline-none focus:ring-0",autoFocus:!0,style:{fontSize:m,fontWeight:500,color:"#374151",padding:0,margin:0,lineHeight:"1.3",caretColor:"#374151"}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:135,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:130,columnNumber:5},void 0)}),mm=s=>s,Zn={"2025-01-01":"","2025-01-28":" ","2025-01-29":"","2025-01-30":" ","2025-03-01":"","2025-03-03":"","2025-05-05":"","2025-05-06":"","2025-06-06":"","2025-08-15":"","2025-10-03":"","2025-10-05":" ","2025-10-06":"","2025-10-07":" ","2025-10-08":"","2025-10-09":"","2025-12-25":""},vb=rt.memo(({date:s,label:n,filteredEvents:t,selectedDate:r,user:i,isMobileView:a})=>{const o=lt(s).format("YYYY-MM-DD"),m=Zn[o],d=!!Zn[o],c=r&&lt(s).isSame(r,"day"),u=t.filter(Y=>lt(Y.start).isSame(s,"day")),g=u.length,b=u.filter(Y=>Y.assignedTo&&Y.assignedTo.includes((i==null?void 0:i.name)||"")).length,p=g-b,w=n.replace(/^0/,""),k=s.getDay()===0,j=s.getDay()===6;let B="#000000";d||k?B="#dc2626":j&&(B="#3b82f6");const y=lt(s).isSame(lt(),"day");let O="#d1d5db";d||k?O="#fecaca":j&&(O="#bfdbfe");const ge=w.length===2,ee=a?{backgroundColor:"transparent",color:B,borderRadius:"50%",width:"30px",height:"30px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",fontWeight:y?"700":"400",border:c?"1px solid #1f2937":"1px solid transparent",boxSizing:"border-box",gap:"1px"}:{color:B,fontWeight:y?"700":"400",paddingLeft:ge?"0px":"4px",...y&&{backgroundColor:O,borderRadius:"50%",width:"21px",height:"21px",display:"inline-flex",alignItems:"center",justifyContent:"center",paddingLeft:"0px"}};return e.jsxDEV("div",{className:a?"flex flex-col items-center":"flex items-center gap-2",style:{overflow:"visible",position:"relative",zIndex:10},children:a?e.jsxDEV("span",{style:ee,children:[e.jsxDEV("span",{style:{fontSize:"13px",lineHeight:"1"},children:w},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:309,columnNumber:11},void 0),g>0&&e.jsxDEV("div",{className:"flex gap-0.5",style:{minHeight:"4px",marginTop:"1px"},children:[Array.from({length:b}).map((Y,de)=>e.jsxDEV("div",{style:{width:"4px",height:"4px",borderRadius:"50%",backgroundColor:"#66BB6A",flexShrink:0}},`user-${de}`,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:315,columnNumber:17},void 0)),Array.from({length:p}).map((Y,de)=>e.jsxDEV("div",{style:{width:"4px",height:"4px",borderRadius:"50%",backgroundColor:"#757575",flexShrink:0}},`other-${de}`,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:328,columnNumber:17},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:312,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:308,columnNumber:9},void 0):e.jsxDEV(e.Fragment,{children:[e.jsxDEV("span",{style:ee,children:w},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:345,columnNumber:11},void 0),m&&e.jsxDEV("span",{className:"text-xs font-medium",style:{color:"#ef4444"},children:m},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:347,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:344,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:302,columnNumber:5},void 0)}),Db=rt.memo(({event:s,user:n,filterProject:t,isEditing:r,editTitle:i,onEditTitleChange:a,onEditSave:o,onEditDelete:m,onEditCancel:d,onHoverDelete:c,onDeleteAction:u})=>{const g=t&&t!=="all",b=s.assignedTo||[],[p,w]=l.useState(!1),k=rt.useRef(null),j=()=>{const X=window.innerWidth,be=window.innerHeight;return X>=768&&X<1024||X>=1024&&be>X},[B,y]=l.useState(j),[O,ge]=l.useState(!1);rt.useRef(null),rt.useRef(!1);const ee=n!=null&&n.name?n.name.slice(-2):null,Y=ee&&["",""].includes(ee),de=ee&&["","",""].includes(ee),T=(n==null?void 0:n.name)&&(b.includes(n.name)||b.includes("HV LAB")||b.includes("")&&de||b.includes("")&&Y);l.useEffect(()=>{const X=()=>{y(j())};return window.addEventListener("resize",X),()=>window.removeEventListener("resize",X)},[]);const oe=X=>{a&&a(X)},re=()=>{i!=null&&i.trim()&&o&&o(),d&&d()},Z=X=>{X.stopPropagation(),(X.key==="Enter"||X.key==="Escape")&&X.currentTarget.blur()};return B?e.jsxDEV("div",{className:"w-full relative block",onMouseEnter:()=>{ge(!0),w(!0)},onMouseLeave:()=>{ge(!1),w(!1)},style:{padding:g?"2px 3px":"1px 3px",minHeight:g?"28px":"30px",display:"flex",flexDirection:"column",justifyContent:"flex-start"},children:[p&&g&&c&&!s.isASVisit&&!s.isExpectedPayment&&e.jsxDEV("div",{className:"absolute top-0 right-0 z-20",style:{padding:"4px"},children:e.jsxDEV("button",{ref:k,onMouseDown:X=>{X.stopPropagation(),X.preventDefault(),u&&u(),c()},className:"p-1 text-gray-500 hover:text-red-500",style:{fontSize:"14px",lineHeight:1},title:" (Ctrl+Z )",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:468,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:467,columnNumber:11},void 0),e.jsxDEV("div",{className:"flex items-center justify-between w-full",style:{fontSize:g?"13px":"10px",opacity:.8,marginBottom:"1px",lineHeight:"1.2"},children:[!g&&!s.isASVisit&&s.projectName?e.jsxDEV("span",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:"60%",flexShrink:0},children:["[",mm(s.projectName),"]"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:489,columnNumber:13},void 0):e.jsxDEV("span",{},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:499,columnNumber:13},void 0),!g&&b.length>0&&e.jsxDEV("span",{style:{flexShrink:0,fontSize:"10px",marginLeft:"auto"},children:b.map((X,be)=>{const we=X==="HV LAB"||X===""&&Y||X===""&&de||X===(n==null?void 0:n.name);return e.jsxDEV(rt.Fragment,{children:[e.jsxDEV("span",{style:{fontWeight:we?"bold":"normal"},children:X},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:510,columnNumber:21},void 0),be<b.length-1&&""]},X,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:509,columnNumber:19},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:502,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:487,columnNumber:9},void 0),r?e.jsxDEV("input",{type:"text",value:i||"",onChange:X=>oe(X.target.value),onBlur:re,onKeyDown:Z,onClick:X=>X.stopPropagation(),autoFocus:!0,className:"w-full bg-transparent border-none outline-none",style:{fontWeight:500,fontSize:g?"16px":"11px",lineHeight:"1.3",color:"inherit",padding:0,margin:0}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:523,columnNumber:11},void 0):e.jsxDEV("div",{style:{fontWeight:500,fontSize:g?"16px":"11px",lineHeight:"1.3",overflow:"hidden",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",wordBreak:"keep-all",textOverflow:"ellipsis",textDecoration:T?"underline":"none",textDecorationColor:T?"#e57373":"transparent",textDecorationThickness:"2px",textUnderlineOffset:"2px"},title:s.title,children:s.title},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:542,columnNumber:11},void 0),O&&e.jsxDEV("div",{className:"absolute z-50 bg-gray-900 text-white text-xs rounded p-2 shadow-lg",style:{bottom:"100%",left:"0",marginBottom:"4px",minWidth:"200px",maxWidth:"300px"},children:[e.jsxDEV("div",{className:"font-semibold mb-1",children:s.title},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:576,columnNumber:13},void 0),s.projectName&&e.jsxDEV("div",{className:"opacity-90",children:[": ",s.projectName]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:578,columnNumber:15},void 0),b.length>0&&e.jsxDEV("div",{className:"opacity-90 mt-1",children:[": ",b.join(", ")]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:581,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:566,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:453,columnNumber:7},void 0):e.jsxDEV("div",{className:"flex items-center justify-between w-full gap-1.5 overflow-hidden relative",onMouseEnter:()=>w(!0),onMouseLeave:()=>w(!1),style:{minHeight:g?"32px":"18px",padding:g?"6px 0":"0"},children:[e.jsxDEV("div",{className:"flex items-center gap-1.5 overflow-hidden flex-1",children:[!g&&!s.isASVisit&&s.projectName&&e.jsxDEV("span",{className:"text-xs opacity-70 flex-shrink-0",children:["[",mm(s.projectName),"]"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:603,columnNumber:11},void 0),r?e.jsxDEV("input",{type:"text",value:i||"",onChange:X=>oe(X.target.value),onBlur:re,onKeyDown:Z,onClick:X=>X.stopPropagation(),autoFocus:!0,className:"font-medium bg-transparent border-none outline-none flex-1",style:{fontSize:g?"18px":"12px",color:"inherit",padding:0,margin:0,minWidth:0}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:608,columnNumber:11},void 0):e.jsxDEV("span",{className:"font-medium truncate",style:{fontSize:g?"18px":"12px",textDecoration:T?"underline":"none",textDecorationColor:T?"#e57373":"transparent",textDecorationThickness:"2px",textUnderlineOffset:"2px"},children:s.title},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:626,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:600,columnNumber:7},void 0),!g&&b.length>0&&e.jsxDEV("span",{className:"opacity-80 flex-shrink-0 ml-auto",style:{fontSize:"11px"},children:b.map((X,be)=>{const we=X==="HV LAB"||X===""&&Y||X===""&&de||X===(n==null?void 0:n.name);return e.jsxDEV(rt.Fragment,{children:[e.jsxDEV("span",{className:we?"font-bold":"",children:X},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:653,columnNumber:17},void 0),be<b.length-1&&""]},X,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:652,columnNumber:15},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:642,columnNumber:9},void 0),p&&g&&c&&!s.isASVisit&&!s.isExpectedPayment&&e.jsxDEV("div",{className:"absolute top-1/2 -translate-y-1/2 right-0 z-20",style:{padding:"2px"},children:e.jsxDEV("button",{ref:k,onMouseDown:X=>{X.stopPropagation(),X.preventDefault(),u&&u(),c()},className:"p-1 text-gray-500 hover:text-red-500",style:{fontSize:"14px",lineHeight:1},title:" (Ctrl+Z )",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:665,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:664,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:591,columnNumber:5},void 0)}),Vb=()=>{const{schedules:s,setSchedules:n,addSchedule:t,deleteSchedule:r,loadSchedulesFromAPI:i,addScheduleToAPI:a,updateScheduleInAPI:o,deleteScheduleFromAPI:m,asRequests:d,updateASRequestInAPI:c,loadASRequestsFromAPI:u,constructionPayments:g,updateConstructionPaymentInAPI:b}=vs(),{user:p}=Qt(),w=fs(),[k,j]=l.useState(!1);l.useEffect(()=>{const D=()=>{const ie=window.innerHeight>window.innerWidth&&window.innerWidth>=1024;j(ie)};return D(),window.addEventListener("resize",D),()=>window.removeEventListener("resize",D)},[]);const B=D=>!D||D==="-"?"":k?D:si(D),y=p!=null&&p.name?p.name.slice(-2):null;console.log(" Current user:",p==null?void 0:p.name,"Short name:",y),l.useEffect(()=>{i().catch(D=>{console.error("Failed to load schedules:",D),R.error("  ")})},[i]);const[O,ge]=l.useState([]);l.useEffect(()=>{const D=async ie=>{if((ie.ctrlKey||ie.metaKey)&&ie.key==="z"){const he=ie.target;if(he.tagName==="INPUT"||he.tagName==="TEXTAREA"||he.isContentEditable)return;if(O.length>0){ie.preventDefault();const x=O[O.length-1];try{const U=x.type==="as_visit"||x.type==="expected_payment"?"other":x.type;await a({id:"",title:x.originalTitle||x.title,start:x.start,end:x.end,type:U,project:x.originalProjectName||x.projectName,attendees:x.assignedTo||[],time:x.time,description:x.description}),ge(ne=>ne.slice(0,-1)),i(),R.success(" ")}catch(U){console.error("  :",U),R.error("  ")}}}};return window.addEventListener("keydown",D),()=>window.removeEventListener("keydown",D)},[O,a,i]);const[ee,Y]=l.useState([]),[de,T]=l.useState(!1),[oe,re]=l.useState(""),[Z,X]=l.useState(null),[be,we]=l.useState(""),[Me,Ve]=l.useState(!1),[Ee,_e]=l.useState(null),[Ue,Oe]=l.useState(null),fe=l.useCallback(async()=>{Ve(!0);try{const D=await fetch("/api/processes");if(D.ok){const ie=await D.json();Y(ie)}else console.error("   "),R.error("    ")}catch(D){console.error("   :",D),R.error("  ")}finally{Ve(!1)}},[]);l.useEffect(()=>{fe()},[fe]);const He=l.useMemo(()=>ee.length>0?ee.map(D=>D.name):yb,[ee]),De=async()=>{if(oe.trim())try{const D=await fetch("/api/processes",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:oe.trim()})});if(D.ok)re(""),fe(),R.success(" ");else{const ie=await D.json();R.error(ie.error||"  ")}}catch(D){console.error("  :",D),R.error("  ")}},Be=async()=>{if(!(!Z||!be.trim()))try{const D=await fetch(`/api/processes/${Z.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:be.trim()})});if(D.ok)X(null),we(""),fe(),R.success(" ");else{const ie=await D.json();R.error(ie.error||"  ")}}catch(D){console.error("  :",D),R.error("  ")}},Re=async D=>{if(confirm("   ?"))try{const ie=await fetch(`/api/processes/${D}`,{method:"DELETE"});if(ie.ok)fe(),R.success(" ");else{const he=await ie.json();R.error(he.error||"  ")}}catch(ie){console.error("  :",ie),R.error("  ")}},Ke=D=>{_e(D)},ze=(D,ie)=>{D.preventDefault(),Ee!==null&&Ee!==ie&&Oe(ie)},qe=async()=>{if(Ee!==null&&Ue!==null&&Ee!==Ue){const D=[...ee],[ie]=D.splice(Ee,1);D.splice(Ue,0,ie),Y(D);try{(await fetch("/api/processes/reorder/bulk",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({orders:D.map(x=>({id:x.id}))})})).ok||(fe(),R.error("  "))}catch(he){console.error("  :",he),fe(),R.error("  ")}}_e(null),Oe(null)},S=D=>{const ie=w.findIndex(he=>he.name===D);return ie>=0?om[ie%om.length]:"#e8e2ea"},ue=w.map(D=>D.name),xe=s.filter(D=>!D.asRequestId).filter(D=>(p==null?void 0:p.name)===""?D.project===""||ue.includes(D.project):!0).map(D=>{const ie=w.find(le=>le.name===D.project);let he=D.project===""?"[]":D.project;if(ie&&D.project!==""){const le=ie.name.length>2?ie.name.substring(0,2):ie.name,$e=(ie.location||"").match(/([A-Za-z]?\d+)/),it=$e?$e[1]:"";he=it?`${le}_${it}`:le}const x=D.time,U=x&&x!=="-"?` - ${B(x)}`:"",ne=D.attendees||[];return{id:D.id,title:D.title+U,originalTitle:D.title,start:D.start,end:D.end,projectId:(ie==null?void 0:ie.id)||"",projectName:he||"",originalProjectName:D.project||"",type:D.type||"other",phase:"",assignedTo:ne,priority:"medium",allDay:!x||x==="-",color:S(D.project||""),isASVisit:!1,time:x,description:D.description}}),te=d.filter(D=>D.scheduledVisitDate).filter(D=>(p==null?void 0:p.name)===""?ue.includes(D.project):!0).map(D=>{const ie=D.scheduledVisitTime,he=ie&&ie!=="-"?` - ${B(ie)}`:"",x=w.find(le=>le.name===D.project);let U=D.project;if(x){const le=x.name.length>2?x.name.substring(0,2):x.name,$e=(x.location||"").match(/([A-Za-z]?\d+)/),it=$e?$e[1]:"";U=it?`${le}_${it}`:le}const ne=`[AS] ${U}`;return{id:`as-${D.id}`,title:ne+he,originalTitle:ne,start:D.scheduledVisitDate,end:D.scheduledVisitDate,projectId:(x==null?void 0:x.id)||"",projectName:U,originalProjectName:D.project,type:"as_visit",phase:"",assignedTo:D.assignedTo?Array.isArray(D.assignedTo)?D.assignedTo:D.assignedTo.split(",").map(le=>le.trim()):[],priority:"high",allDay:!ie||ie==="-",color:"#FEF3C7",isASVisit:!0,time:ie,description:D.description}}),q=(p==null?void 0:p.role)==="manager"?g.flatMap(D=>{var ne,le,Pe,$e,it,mt,Lt,jt;const ie=w.find(xt=>xt.name===D.project);if(!ie){const xt=[],gt=D.totalAmount+(D.vatType==="percentage"?D.totalAmount*(D.vatPercentage/100):D.vatAmount),Yt=new Set(D.payments.flatMap(rs=>{var Ht;return((Ht=rs.type)==null?void 0:Ht.split(", ").map(Pt=>Pt.trim()))||[]}));return!Yt.has("")&&((ne=D.expectedPaymentDates)!=null&&ne.contract)&&xt.push({id:`payment-${D.id}-contract`,title:"[] ",originalTitle:"[] ",start:new Date(D.expectedPaymentDates.contract),end:new Date(D.expectedPaymentDates.contract),projectId:"",projectName:D.project,type:"expected_payment",phase:"",assignedTo:[],priority:"medium",allDay:!0,color:"#DBEAFE",isExpectedPayment:!0,description:` (10%): ${Math.round(gt*.1).toLocaleString()}`}),!Yt.has("")&&((le=D.expectedPaymentDates)!=null&&le.start)&&xt.push({id:`payment-${D.id}-start`,title:"[] ",originalTitle:"[] ",start:new Date(D.expectedPaymentDates.start),end:new Date(D.expectedPaymentDates.start),projectId:"",projectName:D.project,type:"expected_payment",phase:"",assignedTo:[],priority:"medium",allDay:!0,color:"#DBEAFE",isExpectedPayment:!0,description:` (40%): ${Math.round(gt*.4).toLocaleString()}`}),!Yt.has("")&&((Pe=D.expectedPaymentDates)!=null&&Pe.middle)&&xt.push({id:`payment-${D.id}-middle`,title:"[] ",originalTitle:"[] ",start:new Date(D.expectedPaymentDates.middle),end:new Date(D.expectedPaymentDates.middle),projectId:"",projectName:D.project,type:"expected_payment",phase:"",assignedTo:[],priority:"medium",allDay:!0,color:"#DBEAFE",isExpectedPayment:!0,description:` (40%): ${Math.round(gt*.4).toLocaleString()}`}),!Yt.has("")&&(($e=D.expectedPaymentDates)!=null&&$e.final)&&xt.push({id:`payment-${D.id}-final`,title:"[] ",originalTitle:"[] ",start:new Date(D.expectedPaymentDates.final),end:new Date(D.expectedPaymentDates.final),projectId:"",projectName:D.project,type:"expected_payment",phase:"",assignedTo:[],priority:"medium",allDay:!0,color:"#DBEAFE",isExpectedPayment:!0,description:` (10%): ${Math.round(gt*.1).toLocaleString()}`}),xt}if(!ie.startDate||!ie.endDate)return[];const he=D.totalAmount+(D.vatType==="percentage"?D.totalAmount*(D.vatPercentage/100):D.vatAmount),x=new Set(D.payments.flatMap(xt=>{var gt;return((gt=xt.type)==null?void 0:gt.split(", ").map(Yt=>Yt.trim()))||[]})),U=[];return!x.has("")&&((it=D.expectedPaymentDates)!=null&&it.contract)&&U.push({id:`payment-${D.id}-contract`,title:"[] ",originalTitle:"[] ",start:new Date(D.expectedPaymentDates.contract),end:new Date(D.expectedPaymentDates.contract),projectId:ie.id||"",projectName:D.project,type:"expected_payment",phase:"",assignedTo:[],priority:"medium",allDay:!0,color:"#DBEAFE",isExpectedPayment:!0,description:` (10%): ${Math.round(he*.1).toLocaleString()}`}),!x.has("")&&((mt=D.expectedPaymentDates)!=null&&mt.start)&&U.push({id:`payment-${D.id}-start`,title:"[] ",originalTitle:"[] ",start:new Date(D.expectedPaymentDates.start),end:new Date(D.expectedPaymentDates.start),projectId:ie.id||"",projectName:D.project,type:"expected_payment",phase:"",assignedTo:[],priority:"medium",allDay:!0,color:"#DBEAFE",isExpectedPayment:!0,description:` (40%): ${Math.round(he*.4).toLocaleString()}`}),!x.has("")&&((Lt=D.expectedPaymentDates)!=null&&Lt.middle)&&U.push({id:`payment-${D.id}-middle`,title:"[] ",originalTitle:"[] ",start:new Date(D.expectedPaymentDates.middle),end:new Date(D.expectedPaymentDates.middle),projectId:ie.id||"",projectName:D.project,type:"expected_payment",phase:"",assignedTo:[],priority:"medium",allDay:!0,color:"#DBEAFE",isExpectedPayment:!0,description:` (40%): ${Math.round(he*.4).toLocaleString()}`}),!x.has("")&&((jt=D.expectedPaymentDates)!=null&&jt.final)&&U.push({id:`payment-${D.id}-final`,title:"[] ",originalTitle:"[] ",start:new Date(D.expectedPaymentDates.final),end:new Date(D.expectedPaymentDates.final),projectId:ie.id||"",projectName:D.project,type:"expected_payment",phase:"",assignedTo:[],priority:"medium",allDay:!0,color:"#DBEAFE",isExpectedPayment:!0,description:` (10%): ${Math.round(he*.1).toLocaleString()}`}),U}):[],G=[...xe,...te,...q],z=l.useCallback(D=>{if(!(p!=null&&p.name))return!1;const ie=D.assignedTo||[],he=p.name.slice(-2),x=["",""].includes(he),U=["","",""].includes(he);return ie.includes(p.name)||ie.includes("HV LAB")||ie.includes("")&&U||ie.includes("")&&x},[p==null?void 0:p.name]),ye=(D,ie)=>{if(!ie)return[...D].sort((U,ne)=>{const le=z(U),Pe=z(ne);return le&&!Pe?-1:!le&&Pe?1:U.start.getTime()-ne.start.getTime()});const he=new Map;D.forEach(U=>{if(U.isASVisit||U.isExpectedPayment){const ne=`single_${U.id}`;he.set(ne,[U])}else{const ne=U.start.toISOString().split("T")[0],le=[...U.assignedTo].sort().join(","),Pe=`${ne}_${U.projectName}_${le}`;he.has(Pe)||he.set(Pe,[]),he.get(Pe).push(U)}});const x=[];return he.forEach(U=>{if(U.length===1)x.push(U[0]);else{const ne=U[0],le=U.map(xt=>xt.originalTitle||xt.title),Pe=[...new Set(le)],$e=U.filter(xt=>xt.time&&xt.time!=="-").map(xt=>xt.time),it=$e.length>0?` - ${$e.join(", ")}`:"",mt=U.map(xt=>{const gt=xt.originalTitle||xt.title;return gt.startsWith(ne.projectName+" - ")?gt.substring(ne.projectName.length+3):gt}),Lt=[...new Set(mt)],jt={...ne,id:U[0].id,title:`${Lt.join(", ")}${it}`,originalTitle:Pe.join(", "),description:U.map(xt=>xt.description||xt.originalTitle||xt.title).join(`
`),assignedTo:[...new Set(U.flatMap(xt=>xt.assignedTo))],mergedEventIds:U.map(xt=>xt.id)};x.push(jt)}}),x.sort((U,ne)=>{const le=z(U),Pe=z(ne);return le&&!Pe?-1:!le&&Pe?1:U.start.getTime()-ne.start.getTime()})},[Se,I]=l.useState("month"),[ae,E]=l.useState(new Date),[W,J]=l.useState(!1),[pe,ve]=l.useState(null),[P,C]=l.useState(null),L=`schedule_filterProject_${(p==null?void 0:p.id)||"guest"}`,[f,V]=l.useState(()=>{const D=localStorage.getItem(L);return D||((p==null?void 0:p.name)===""&&w.length>0?w[0].name:"all")});l.useEffect(()=>{localStorage.setItem(L,f)},[f,L]),l.useCallback(()=>{document.body.classList.add("printing-schedule");const D=f==="all"?" ":f,ie=lt(ae).format("YYYY MM"),he=document.title;document.title=`${D} - ${ie} `,setTimeout(()=>{window.print(),document.body.classList.remove("printing-schedule"),document.title=he},100)},[f,ae]);const h=ye(G,f==="all"),[M,ke]=l.useState(window.innerWidth<768?new Date:null),[Ce,Te]=l.useState(null),Fe=rt.useRef(!1),at=rt.useRef(!1),et=rt.useRef(!1);l.useEffect(()=>{const D=x=>{x.key==="Control"&&(et.current=!0)},ie=x=>{x.key==="Control"&&(et.current=!1)},he=()=>{et.current=!1};return window.addEventListener("keydown",D),window.addEventListener("keyup",ie),window.addEventListener("blur",he),()=>{window.removeEventListener("keydown",D),window.removeEventListener("keyup",ie),window.removeEventListener("blur",he)}},[]),l.useEffect(()=>{if(!Ce)return;let D=null;const ie=U=>{const le=U.target.closest(".rbc-day-bg");D&&D!==le&&(D.style.backgroundColor=""),le&&(le.style.backgroundColor="rgba(59, 130, 246, 0.15)",D=le)},he=()=>{D&&(D.style.backgroundColor="",D=null)},x=()=>{D&&(D.style.backgroundColor="",D=null)};return document.addEventListener("dragover",ie),document.addEventListener("dragend",he),document.addEventListener("drop",x),()=>{document.removeEventListener("dragover",ie),document.removeEventListener("dragend",he),document.removeEventListener("drop",x),D&&(D.style.backgroundColor="")}},[Ce]);const[Ze,ct]=l.useState(null),[Nt,ut]=l.useState(null),[pt,dt]=l.useState(""),[bt,Ct]=l.useState(!1),[vt,A]=l.useState(null),[Q,N]=l.useState(null),[_,H]=l.useState({x:0,y:0}),[K,$]=l.useState({x:0,y:0}),[Ne,v]=l.useState(!1),se=8;l.useEffect(()=>{if(!Q)return;const D=he=>{H({x:he.clientX,y:he.clientY});const x=Math.abs(he.clientX-K.x),U=Math.abs(he.clientY-K.y);(x>se||U>se)&&v(!0)},ie=()=>{N(null),v(!1)};return window.addEventListener("mousemove",D),window.addEventListener("mouseup",ie),()=>{window.removeEventListener("mousemove",D),window.removeEventListener("mouseup",ie)}},[Q,K]);const ce=rt.useRef(!1),Ae=l.useCallback(async({event:D,start:ie,end:he})=>{if(D.isASVisit||D.isExpectedPayment){R.error("    ");return}const x=ie instanceof Date?ie:new Date(ie),U=he instanceof Date?he:new Date(he);if(et.current)try{const le=D.mergedEventIds||[D.id],Pe=s.filter($e=>le.includes($e.id));for(const $e of Pe)await a({id:Date.now().toString()+Math.random().toString(36).substr(2,9),title:$e.title,start:x,end:U,project:$e.project,attendees:$e.attendees||[],time:$e.time,priority:$e.priority||"medium"});R.success(" "),i()}catch(le){console.error("  :",le),R.error("  ")}else{const le=D.mergedEventIds||[D.id],Pe=[...s];n(s.map($e=>le.includes($e.id)?{...$e,start:x,end:U}:$e));try{for(const $e of le)await o($e,{start:x,end:U})}catch($e){n(Pe),console.error("  :",$e),R.error("  ")}}},[s,n,o,a,i]),Ie=l.useCallback(({event:D,action:ie})=>{var x;if(D.isASVisit||D.isExpectedPayment||D.id==="__inline_add__")return;const he=document.querySelectorAll(".rbc-event");for(const U of he)if((x=U.textContent)!=null&&x.includes(D.originalTitle||D.title)){const ne=U.getBoundingClientRect();$({x:ne.left,y:ne.top}),H({x:ne.left,y:ne.top});break}v(!1),N(D)},[]),Ye=l.useCallback((D,ie)=>{if(Fe.current)return;if(f==="all"){R.error("  ");return}Fe.current=!0;const he="temp_"+Date.now().toString()+Math.random().toString(36).substr(2,9),x={id:he,title:D,start:ie,end:ie,project:f,attendees:p!=null&&p.name?[p.name]:[],type:"construction"};t(x),a(x).then(()=>{r(he)}).catch(U=>{console.error("  :",U),R.error("  "),r(he)}).finally(()=>{setTimeout(()=>{Fe.current=!1},300)})},[f,a,t,r,p]),Ge=l.useCallback(({start:D})=>{if(Ce&&f!=="all"&&!Fe.current){at.current=!0,setTimeout(()=>{at.current=!1},500),ct(null),ut(null),dt("");const ie=Ce;Te(null),Ye(ie,D)}},[Ce,f,Ye]),nt=l.useCallback(()=>Ce?{title:Ce}:null,[Ce]),Xe=l.useCallback(async D=>{if(!D.trim()||!Ze||f==="all"){ct(null);return}try{await a({id:Date.now().toString(),title:D.trim(),start:Ze,end:Ze,type:"construction",project:f,location:"",attendees:p!=null&&p.name?[p.name]:[],description:""}),i()}catch(ie){console.error("  :",ie),R.error("  ")}ct(null)},[Ze,f,a,i,p]),st=l.useCallback(()=>{ct(null)},[]),F=l.useCallback(async()=>{var D;if(!Nt||!pt.trim()){ut(null),dt("");return}try{const ie=((D=Nt.mergedEventIds)==null?void 0:D[0])||Nt.id;await o(ie,{title:pt.trim()}),i()}catch(ie){console.error("  :",ie),R.error("  ")}ut(null),dt("")},[Nt,pt,o,i]),me=l.useCallback(async D=>{try{ge(he=>[...he,D]);const ie=D.mergedEventIds||[D.id];for(const he of ie)await m(he);i(),R.success(" (Ctrl+Z )",{duration:2e3})}catch(ie){console.error("  :",ie),R.error("  "),ge(he=>he.slice(0,-1))}ut(null),dt("")},[m,i]),We=f==="all"?h:h.filter(D=>(D.originalProjectName||D.projectName)===f),tt=rt.useMemo(()=>{const D=f!=="all",ie=new Map;We.forEach(x=>{const U=lt(x.start).format("YYYY-MM-DD");ie.has(U)||ie.set(U,[]),ie.get(U).push(x)});const he=[];return ie.forEach(x=>{if(D)[...x].sort((ne,le)=>{const Pe=parseInt(ne.id)||0,$e=parseInt(le.id)||0;return Pe-$e}).forEach((ne,le)=>{const Pe=lt(ne.start).startOf("day").add(le,"milliseconds").toDate();he.push({...ne,start:Pe,allDay:!1})});else{const U=[],ne=[];x.forEach(le=>{z(le)?U.push(le):ne.push(le)}),U.forEach((le,Pe)=>{const $e=lt(le.start).startOf("day").add(Pe,"milliseconds").toDate();he.push({...le,start:$e,allDay:!1})}),ne.forEach((le,Pe)=>{const $e=lt(le.start).startOf("day").add(1e3+Pe,"milliseconds").toDate();he.push({...le,start:$e,allDay:!1})})}}),he.sort((x,U)=>x.start.getTime()-U.start.getTime())},[We,z,f]),Je=rt.useMemo(()=>{if(Ze&&f!=="all"){const D=lt(Ze).format("YYYY-MM-DD"),ie=tt.filter(ne=>lt(ne.start).format("YYYY-MM-DD")===D),he=ie.length>0?Math.max(...ie.map(ne=>ne.start.getTime())):lt(Ze).startOf("day").valueOf(),x=new Date(he+1),U={id:"__inline_add__",title:"",start:x,end:x,projectId:"",projectName:f,type:"other",phase:"",assignedTo:[],priority:"medium",allDay:!1};return[...tt,U]}return tt},[tt,Ze,f]);l.useEffect(()=>{(p==null?void 0:p.name)===""&&w.length>0&&(f==="all"||!w.find(D=>D.name===f))&&V(w[0].name)},[w,p]),l.useEffect(()=>{const D=()=>{document.querySelectorAll(".rbc-show-more, .rbc-button-link").forEach(le=>{le.style.display="none",le.style.visibility="hidden",le.style.pointerEvents="none"}),document.querySelectorAll('.rbc-overlay, .rbc-overlay-header, .rbc-popup, [class*="rbc-overlay"]').forEach(le=>{le.style.display="none",le.style.visibility="hidden",le.style.opacity="0",le.style.pointerEvents="none",le.style.position="absolute",le.style.left="-9999px",le.style.top="-9999px",le.style.zIndex="-1"})};D();const ie=new MutationObserver(D),he=document.querySelector(".rbc-calendar");he&&ie.observe(he,{childList:!0,subtree:!0});const x=new MutationObserver(D);return x.observe(document.body,{childList:!0,subtree:!0}),()=>{ie.disconnect(),x.disconnect()}},[Se,ae]);const[ot,Et]=l.useState({date:null,projectId:"",title:""}),At=rt.useRef(!1),Dt=rt.useRef(null),Ut=D=>{if(ce.current){ce.current=!1;return}if(D.id==="__inline_add__")return;At.current=!0,Dt.current&&clearTimeout(Dt.current);const ie=f!=="all",he=window.innerWidth<768;if(ie&&!he&&!D.isASVisit&&!D.isExpectedPayment)ct(null),ut(D),dt(D.originalTitle||D.title);else{const x={...D,title:D.originalTitle||D.title};C(null),ve(x),J(!0)}Dt.current=setTimeout(()=>{At.current=!1,Dt.current=null},300)},St=D=>{const ie=window.innerWidth,he=ie<768,x=ie>=768&&ie<1024,U=f==="all";if(at.current)return;if(he){if(D.start){ke(D.start);const le=document.querySelector(".md\\:hidden.mt-3.bg-white");le&&le.scrollIntoView({behavior:"smooth",block:"nearest"})}return}const ne=D.action==="click"||D.action==="select";if(!(x&&!ne)){if(U){At.current=!1,ut(null),dt(""),ct(null),C(D),ve(null),J(!0);return}At.current||(ut(null),dt(""),ct(D.start))}},wt=async()=>{if(!ot.projectId||!ot.title.trim()){alert("  ");return}const D=w.find(ie=>ie.id===ot.projectId);if(!(!D||!ot.date))try{await a({id:Date.now().toString(),title:ot.title,start:ot.date,end:ot.date,type:"other",project:D.name,location:"",attendees:[],description:""}),Et({date:null,projectId:"",title:""}),ke(null)}catch(ie){console.error("Failed to add schedule:",ie),R.error("  ")}},Mt=D=>{if(D.id==="__inline_add__")return{style:{backgroundColor:"#ffffff",borderRadius:"6px",color:"#1f2937",border:"1px solid #d1d5db",display:"block",fontSize:"0.8125rem",padding:"0",fontWeight:"400",boxShadow:"0 1px 2px rgba(0,0,0,0.05)",overflow:"visible"}};let ie=D.color||"#E0E7FF",he="#1f2937";if(D.isASVisit)ie="#E8F5E9",he="#1f2937";else{const x=D.assignedTo&&D.assignedTo.includes("HV LAB"),U=D.assignedTo&&D.assignedTo.includes("")&&y&&["",""].includes(y),ne=D.assignedTo&&D.assignedTo.includes("")&&y&&["","",""].includes(y);D.assignedTo&&D.assignedTo.includes((p==null?void 0:p.name)||"")||x||U||ne?(ie="#FEF3C7",he="#1f2937"):D.color||(ie="#e8e2ea")}return{style:{backgroundColor:ie,"--event-bg-color":ie,borderRadius:"6px",color:he,border:"none",display:"block",fontSize:"0.8125rem",padding:"4px 8px",fontWeight:"500",boxShadow:"0 1px 2px rgba(0,0,0,0.05)",overflow:"hidden"}}},ns=rt.useCallback(D=>{const ie=lt(D).format("YYYY-MM-DD"),he=!!Zn[ie],x=M&&lt(D).isSame(M,"day"),U=window.innerWidth<768;let ne="";x&&(ne+="selected-date "),he&&(ne+="holiday-date ");const le=U?{backgroundColor:"transparent",background:"transparent"}:{};return{className:ne.trim(),style:le}},[M]),[_t,Zt]=l.useState(window.innerWidth<768);l.useEffect(()=>{const D=()=>{Zt(window.innerWidth<768)};return window.addEventListener("resize",D),()=>window.removeEventListener("resize",D)},[]),l.useEffect(()=>{const D=()=>{const ie=M||new Date;C({start:ie,end:ie}),ve(null),J(!0)};return window.addEventListener("headerAddButtonClick",D),()=>window.removeEventListener("headerAddButtonClick",D)},[M]);const Us=rt.useCallback(({date:D,label:ie})=>e.jsxDEV(vb,{date:D,label:ie,filteredEvents:Je,selectedDate:M,user:p,isMobileView:_t},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2261,columnNumber:7},void 0),[Je,M,p,_t]),zt=rt.useCallback(({event:D})=>{if(D.id==="__inline_add__")return e.jsxDEV(kb,{onSave:Xe,onCancel:st},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2277,columnNumber:9},void 0);const ie=(Nt==null?void 0:Nt.id)===D.id||(Nt==null?void 0:Nt.mergedEventIds)&&Nt.mergedEventIds.includes(D.id);return e.jsxDEV(Db,{event:D,user:p,filterProject:f,isEditing:ie,editTitle:ie?pt:void 0,onEditTitleChange:ie?dt:void 0,onEditSave:ie?F:void 0,onEditDelete:ie?()=>me(D):void 0,onEditCancel:ie?()=>{ut(null),dt("")}:void 0,onHoverDelete:()=>me(D),onDeleteAction:()=>{ce.current=!0}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2288,columnNumber:7},void 0)},[p,f,Nt,pt,F,me,Xe,st]),on=({onNavigate:D})=>{const[ie,he]=rt.useState(!1),[x,U]=rt.useState(lt(ae).year()),[ne,le]=rt.useState(lt(ae).month()),Pe=window.innerWidth<768,$e=()=>{U(lt(ae).year()),le(lt(ae).month()),he(!0)},it=()=>{E(lt().year(x).month(ne).toDate()),he(!1)};return e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:`calendar-toolbar flex flex-col bg-white border-b border-gray-200 ${Pe?"px-2 py-1":"px-3 md:px-5 py-2"}`,children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{className:"flex items-center space-x-1",children:[e.jsxDEV("button",{onClick:()=>D("PREV"),className:"px-2 py-1.5 text-2xl md:text-3xl text-gray-700 hover:bg-gray-100 rounded-lg transition-colors font-bold print-hide",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2330,columnNumber:15},void 0),e.jsxDEV("div",{className:"text-base md:text-lg font-bold text-gray-900 hover:bg-gray-50 px-2 md:px-3 py-1 rounded-lg transition-colors cursor-pointer print-title",onClick:$e,children:[e.jsxDEV("span",{children:lt(ae).format("YYYY MM")},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2340,columnNumber:17},void 0),e.jsxDEV("span",{className:"print-project-name hidden",children:[" - ",f==="all"?" ":f]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2342,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2336,columnNumber:15},void 0),e.jsxDEV("button",{onClick:()=>D("NEXT"),className:"px-2 py-1.5 text-2xl md:text-3xl text-gray-700 hover:bg-gray-100 rounded-lg transition-colors font-bold print-hide",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2344,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2329,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex items-center space-x-2",children:e.jsxDEV("select",{className:"px-3 md:px-4 py-1.5 md:py-2 bg-white text-gray-700 rounded-lg text-xs md:text-sm font-medium focus:outline-none focus:ring-2 focus:ring-gray-300 border border-gray-300 print-hide",value:f,onChange:mt=>V(mt.target.value),style:{appearance:"none",backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%236b7280'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 0.5rem center",backgroundSize:"1.25rem",paddingRight:"2.5rem"},children:[(p==null?void 0:p.name)!==""&&e.jsxDEV("option",{value:"all",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2368,columnNumber:41},void 0),w.filter(mt=>mt.status!=="completed").map(mt=>e.jsxDEV("option",{value:mt.name,children:mt.name},mt.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2372,columnNumber:21},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2354,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2352,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2328,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2326,columnNumber:9},void 0),ie&&e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:e.jsxDEV("div",{className:"bg-white rounded-lg w-full max-w-sm shadow-xl",children:[e.jsxDEV("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[e.jsxDEV("h3",{className:"text-lg font-bold text-gray-900",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2387,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>he(!1),className:"p-1 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsxDEV("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2393,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2392,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2388,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2386,columnNumber:15},void 0),e.jsxDEV("div",{className:"p-4 border-b border-gray-200",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("button",{onClick:()=>U(x-1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsxDEV("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2406,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2405,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2401,columnNumber:19},void 0),e.jsxDEV("span",{className:"text-xl font-bold text-gray-900",children:[x,""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2409,columnNumber:19},void 0),e.jsxDEV("button",{onClick:()=>U(x+1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsxDEV("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2417,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2416,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2412,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2400,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2399,columnNumber:15},void 0),e.jsxDEV("div",{className:"p-4",children:e.jsxDEV("div",{className:"grid grid-cols-3 gap-2",children:[1,2,3,4,5,6,7,8,9,10,11,12].map(mt=>{const Lt=ne===mt-1,jt=lt().year()===x&&lt().month()===mt-1;return e.jsxDEV("button",{onClick:()=>le(mt-1),className:`py-3 px-4 rounded-lg text-sm font-medium transition-colors ${Lt?"bg-gray-900 text-white":jt?"bg-gray-100 text-gray-900 border-2 border-gray-900":"bg-gray-50 text-gray-700 hover:bg-gray-100"}`,children:[mt,""]},mt,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2430,columnNumber:23},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2425,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2424,columnNumber:15},void 0),e.jsxDEV("div",{className:"p-4 border-t border-gray-200 flex gap-2",children:[e.jsxDEV("button",{onClick:()=>{E(new Date),he(!1)},className:"flex-1 py-2 px-4 bg-gray-100 text-gray-900 rounded-lg text-sm font-medium hover:bg-gray-200 transition-colors",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2450,columnNumber:17},void 0),e.jsxDEV("button",{onClick:it,className:"flex-1 py-2 px-4 bg-gray-900 text-white rounded-lg text-sm font-medium hover:bg-gray-800 transition-colors",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2459,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2449,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2384,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2383,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2325,columnNumber:7},void 0)},xn=()=>null,qs=l.useMemo(()=>({toolbar:on,event:zt,month:{dateHeader:Us,showMore:xn}}),[Us,zt]),xr=rt.useMemo(()=>{if(!M)return[];let D;if(_t)D=Je.filter(he=>lt(he.start).isSame(M,"day"));else{const he=lt(M).startOf("week"),x=lt(M).endOf("week");D=Je.filter(U=>{const ne=lt(U.start);return ne.isSameOrAfter(he,"day")&&ne.isSameOrBefore(x,"day")})}const ie=[...D].sort((he,x)=>{const U=he.assignedTo&&he.assignedTo.includes("HV LAB"),ne=he.assignedTo&&he.assignedTo.includes("")&&y&&["",""].includes(y),le=he.assignedTo&&he.assignedTo.includes("")&&y&&["","",""].includes(y),Pe=he.assignedTo&&y&&he.assignedTo.includes(y)||he.assignedTo&&(p==null?void 0:p.name)&&he.assignedTo.includes(p.name)||U||ne||le,$e=x.assignedTo&&x.assignedTo.includes("HV LAB"),it=x.assignedTo&&x.assignedTo.includes("")&&y&&["",""].includes(y),mt=x.assignedTo&&x.assignedTo.includes("")&&y&&["","",""].includes(y),Lt=x.assignedTo&&y&&x.assignedTo.includes(y)||x.assignedTo&&(p==null?void 0:p.name)&&x.assignedTo.includes(p.name)||$e||it||mt;return Pe&&!Lt?-1:!Pe&&Lt?1:new Date(he.start).getTime()-new Date(x.start).getTime()});return console.log("Sorted events:",ie.map(he=>({title:he.title,assignedTo:he.assignedTo,user:p==null?void 0:p.name,userShort:y}))),ie},[M,Je,p,y,_t]);return l.useEffect(()=>{const ie=setTimeout(()=>{const he=_t?document.querySelectorAll(".rbc-month-view td.rbc-date-cell"):document.querySelectorAll(".rbc-date-cell"),x=document.querySelectorAll(".rbc-month-row"),U=[];x.forEach((gt,Yt)=>{const rs=gt.querySelectorAll(".rbc-date-cell");let Ht=0;rs.forEach(Pt=>{const es=Pt.querySelector("button");let Rt=es==null?void 0:es.textContent;if(!Rt){const Ss=Pt.querySelector("span");Rt=Ss==null?void 0:Ss.textContent}if(Rt&&!isNaN(parseInt(Rt))){const Ss=lt(ae).date(parseInt(Rt)),mn=Je.filter(_i=>lt(_i.start).isSame(Ss,"day"));Ht=Math.max(Ht,mn.length)}}),U.push(Ht)});const ne=f&&f!=="all",le=100,Pe=ne?60:18,$e=25,it=Math.floor((le-$e)/Pe),mt=U.length,Lt=le*mt,jt=U.map(gt=>gt<=it?le:$e+gt*Pe+10),xt=jt.reduce((gt,Yt)=>gt+Yt,0);if(xt>Lt){const gt=jt.map((Ht,Pt)=>({index:Pt,height:Ht,overflow:Ht>le})),Yt=gt.filter(Ht=>Ht.overflow).reduce((Ht,Pt)=>Ht+(Pt.height-le),0),rs=gt.filter(Ht=>!Ht.overflow);if(rs.length>0){const Ht=Lt-Yt-rs.length*le,Pt=Math.max(50,le+Ht/rs.length);x.forEach((es,Rt)=>{const mn=jt[Rt]>le?jt[Rt]:Pt;es.style.height=`${mn}px`,es.style.minHeight=`${mn}px`})}else{const Ht=Lt/xt;x.forEach((Pt,es)=>{const Rt=Math.max(80,jt[es]*Ht);Pt.style.height=`${Rt}px`,Pt.style.minHeight=`${Rt}px`})}}else{const gt=jt.reduce((Pt,es)=>Pt+(es>le?es:0),0),Yt=jt.filter(Pt=>Pt<=le).length,rs=Lt-gt,Ht=Yt>0?rs/Yt:le;x.forEach((Pt,es)=>{const Rt=jt[es]>le?jt[es]:Ht;Pt.style.height=`${Rt}px`,Pt.style.minHeight=`${Rt}px`})}he.forEach(gt=>{const Yt=gt.querySelector("button");let rs=Yt==null?void 0:Yt.textContent;if(!rs){const Rt=gt.querySelector("span");rs=Rt==null?void 0:Rt.textContent}if(!rs||isNaN(parseInt(rs)))return;const Ht=lt(ae).date(parseInt(rs)),Pt=Je.filter(Rt=>lt(Rt.start).isSame(Ht,"day"));Pt.length>0?gt.setAttribute("data-event-count",Pt.length.toString()):gt.removeAttribute("data-event-count");const es=Ht.clone().toDate();if(M&&lt(es).isSame(M,"day")?gt.classList.add("selected-date"):gt.classList.remove("selected-date"),_t){const Rt=gt,Ss=Rt._mobileClickHandler;Ss&&gt.removeEventListener("click",Ss);const mn=_i=>{if(_i.target.closest(".rbc-event"))return;const gc=Ht.clone().toDate();ke(gc);const uo=document.querySelector(".md\\:hidden.mt-3.bg-white");uo&&uo.scrollIntoView({behavior:"smooth",block:"nearest"})};Rt._mobileClickHandler=mn,gt.addEventListener("click",mn,!0),gt.style.cursor="pointer",gt.style.touchAction="manipulation"}})},200);return()=>{clearTimeout(ie),_t&&document.querySelectorAll(".rbc-month-view td.rbc-date-cell").forEach(x=>{const U=x,ne=U._mobileClickHandler;ne&&(x.removeEventListener("click",ne),delete U._mobileClickHandler)})}},[Je,ae,_t,M,f]),e.jsxDEV("div",{className:"schedule-container space-y-3 md:space-y-2",children:[ot.date&&e.jsxDEV("div",{className:"bg-white border border-gray-200 rounded-lg p-3 md:p-4 shadow-sm",children:e.jsxDEV("div",{className:"flex flex-col md:flex-row items-stretch md:items-center gap-2 md:gap-3",children:[e.jsxDEV("div",{className:"text-xs md:text-sm font-semibold text-gray-900 md:min-w-[80px]",children:lt(ot.date).format("MM DD")},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2748,columnNumber:15},void 0),e.jsxDEV("select",{value:ot.projectId,onChange:D=>Et({...ot,projectId:D.target.value}),className:"px-3 md:px-4 py-2 border border-gray-300 rounded-lg text-xs md:text-sm focus:outline-none focus:ring-2 focus:ring-gray-500",children:w.filter(D=>D.status!=="completed").map(D=>e.jsxDEV("option",{value:D.id,children:D.name},D.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2759,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2751,columnNumber:15},void 0),e.jsxDEV("input",{type:"text",value:ot.title,onChange:D=>Et({...ot,title:D.target.value}),onKeyPress:D=>{D.key==="Enter"&&wt()},placeholder:"  ...",className:"flex-1 px-3 md:px-4 py-2 border border-gray-300 rounded-lg text-xs md:text-sm focus:outline-none focus:ring-2 focus:ring-gray-500",autoFocus:!0},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2764,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV("button",{onClick:wt,className:"flex-1 md:flex-none px-4 md:px-5 py-2 bg-gray-900 text-white text-xs md:text-sm font-medium rounded-lg hover:bg-gray-800 transition-colors",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2778,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>{Et({date:null,projectId:"",title:""}),ke(null)},className:"flex-1 md:flex-none px-4 md:px-5 py-2 bg-white border border-gray-300 text-gray-700 text-xs md:text-sm font-medium rounded-lg hover:bg-gray-50 transition-colors",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2784,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2777,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2747,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2746,columnNumber:11},void 0),e.jsxDEV("div",{className:"schedule-main flex flex-col md:block",children:[e.jsxDEV("div",{className:"flex gap-3",children:[f!=="all"&&!_t&&e.jsxDEV("div",{className:"hidden md:block flex-shrink-0 print-hide",children:e.jsxDEV("div",{className:"bg-white border border-gray-200 rounded-lg shadow-sm p-2 sticky top-4",children:[e.jsxDEV("button",{onClick:()=>T(!0),className:"w-full mb-2 px-2 py-1 text-xs bg-gray-100 text-gray-600 rounded hover:bg-gray-200 transition-colors flex items-center justify-center gap-1",children:[e.jsxDEV("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsxDEV("path",{fillRule:"evenodd",d:"M11.49 3.17c-.38-1.56-2.6-1.56-2.98 0a1.532 1.532 0 01-2.286.948c-1.372-.836-2.942.734-2.106 2.106.54.886.061 2.042-.947 2.287-1.561.379-1.561 2.6 0 2.978a1.532 1.532 0 01.947 2.287c-.836 1.372.734 2.942 2.106 2.106a1.532 1.532 0 012.287.947c.379 1.561 2.6 1.561 2.978 0a1.533 1.533 0 012.287-.947c1.372.836 2.942-.734 2.106-2.106a1.533 1.533 0 01.947-2.287c1.561-.379 1.561-2.6 0-2.978a1.532 1.532 0 01-.947-2.287c.836-1.372-.734-2.942-2.106-2.106a1.532 1.532 0 01-2.287-.947zM10 13a3 3 0 100-6 3 3 0 000 6z",clipRule:"evenodd"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2811,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2810,columnNumber:21},void 0)," "]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2806,columnNumber:19},void 0),e.jsxDEV("div",{className:"flex flex-col gap-0.5",children:He.map(D=>e.jsxDEV("div",{draggable:!0,onDragStart:ie=>{Te(D),ie.dataTransfer.setData("text/plain",D),ie.dataTransfer.effectAllowed="copy"},onDragEnd:()=>Te(null),className:`px-3 py-1 text-xs rounded cursor-grab active:cursor-grabbing transition-colors text-center font-medium whitespace-nowrap ${Ce===D?"bg-blue-100 text-blue-800":"bg-gray-50 text-gray-700 hover:bg-gray-100"}`,children:D},D,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2817,columnNumber:23},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2815,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2804,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2803,columnNumber:15},void 0),e.jsxDEV("div",{className:`schedule-calendar bg-white border border-gray-200 rounded-lg overflow-hidden shadow-sm calendar-container flex-1 ${f!=="all"?"specific-project-view":""}`,style:{paddingBottom:0},children:e.jsxDEV(xb,{localizer:hb,events:Je,startAccessor:"start",endAccessor:"end",view:Se,onView:I,date:ae,onNavigate:E,onSelectEvent:Ut,onSelectSlot:St,onEventDrop:f!=="all"?Ae:void 0,onDragStart:f!=="all"?Ie:void 0,onDropFromOutside:f!=="all"?Ge:void 0,dragFromOutsideItem:f!=="all"?nt:void 0,draggableAccessor:D=>f!=="all"&&D.id!=="__inline_add__",resizable:!1,selectable:!0,longPressThreshold:1,eventPropGetter:Mt,dayPropGetter:ns,components:qs,popup:!1,doShowMoreDrillDown:!1,onShowMore:()=>{},showAllEvents:!0,messages:{today:"",previous:"",next:"",month:"",week:"",day:"",agenda:"",date:"",time:"",event:"",noEventsInRange:"   ",showMore:D=>`+${D} `}},`calendar-${f}-${(M==null?void 0:M.getTime())||"no-selection"}`,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2845,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2841,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2800,columnNumber:11},void 0),M&&e.jsxDEV("div",{className:"schedule-events-list desktop:hidden mt-3 bg-white border border-gray-200 rounded-lg overflow-hidden shadow-sm",children:[e.jsxDEV("div",{className:"flex items-center justify-between p-3 border-b border-gray-200 bg-gray-50",children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("p",{className:"text-sm font-semibold text-gray-900",children:_t?lt(M).format("MM DD (ddd)"):`${lt(M).startOf("week").format("MM DD")} - ${lt(M).endOf("week").format("MM DD")}`},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2896,columnNumber:19},void 0),Zn[lt(M).format("YYYY-MM-DD")]&&e.jsxDEV("span",{className:"text-xs font-medium px-2 py-0.5 rounded-full bg-red-50 text-red-600",children:Zn[lt(M).format("YYYY-MM-DD")]},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2904,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2895,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex items-center gap-1",children:[_t&&f!=="all"&&e.jsxDEV("button",{onClick:()=>{Ct(!bt),A(null)},className:`p-1.5 rounded-full transition-colors ${bt?"bg-red-100 text-red-600":"hover:bg-gray-200 text-gray-500"}`,children:e.jsxDEV("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2924,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2923,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2912,columnNumber:21},void 0),e.jsxDEV("button",{onClick:()=>{ke(null),Ct(!1),A(null)},className:"p-1 hover:bg-gray-200 rounded-full transition-colors",children:e.jsxDEV("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2937,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2936,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2928,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2909,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2894,columnNumber:15},void 0),e.jsxDEV("div",{children:xr.length===0?e.jsxDEV("div",{className:"p-4 text-center",children:e.jsxDEV("p",{className:"text-sm text-gray-500",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2947,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2946,columnNumber:19},void 0):e.jsxDEV("div",{children:(()=>{const D=xr.reduce((he,x)=>{const U=lt(x.start).format("YYYY-MM-DD");return he[U]||(he[U]=[]),he[U].push(x),he},{});return Object.keys(D).sort().map(he=>e.jsxDEV("div",{className:"border-b border-gray-100 last:border-b-0",children:[!_t&&e.jsxDEV("div",{className:"px-3 py-2 bg-gray-50 sticky top-0 z-10",children:e.jsxDEV("p",{className:"text-xs font-semibold text-gray-700",children:lt(he).format("MM DD (ddd)")},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2970,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2969,columnNumber:29},void 0),e.jsxDEV("div",{className:"divide-y divide-gray-100",children:D[he].map(x=>{const U=x.assignedTo&&x.assignedTo.includes("HV LAB"),ne=x.assignedTo&&x.assignedTo.includes("")&&y&&["",""].includes(y),le=x.assignedTo&&x.assignedTo.includes("")&&y&&["","",""].includes(y),$e=x.assignedTo&&(x.assignedTo.includes((p==null?void 0:p.name)||"")||y&&x.assignedTo.includes(y))||U||ne||le,it=!x.color&&!$e,mt=(vt==null?void 0:vt.id)===x.id,Lt=!x.isASVisit&&!x.isExpectedPayment;return e.jsxDEV("div",{onClick:()=>{if(mt)return;if(bt&&Lt){A(x);return}const jt={...x,title:x.originalTitle||x.title};Ut(jt)},className:`p-3 cursor-pointer ${mt?"bg-red-50":bt&&Lt?"bg-red-50/50":$e?"bg-yellow-50":""}`,style:it&&!mt&&!bt?{backgroundColor:"#f3f0f5"}:void 0,children:mt?e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("p",{className:"text-sm text-red-600 font-medium truncate flex-1",children:"?"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3034,columnNumber:29},void 0),e.jsxDEV("div",{className:"flex gap-2 flex-shrink-0",children:[e.jsxDEV("button",{onClick:jt=>{jt.stopPropagation(),A(null)},className:"px-3 py-1 text-xs font-medium text-gray-600 bg-gray-100 rounded-lg active:bg-gray-200",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3036,columnNumber:31},void 0),e.jsxDEV("button",{onClick:async jt=>{jt.stopPropagation();try{await m(x.id),R.success("")}catch(xt){console.error("  :",xt),R.error(" ")}A(null)},className:"px-3 py-1 text-xs font-medium text-white bg-red-500 rounded-lg active:bg-red-600",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3045,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3035,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3033,columnNumber:27},void 0):e.jsxDEV("div",{className:"flex items-start gap-2",children:[bt&&Lt&&e.jsxDEV("div",{className:"flex-shrink-0 text-red-400",children:e.jsxDEV("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3069,columnNumber:33},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3068,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3067,columnNumber:29},void 0),e.jsxDEV("div",{className:"w-1 h-full rounded-full flex-shrink-0",style:{backgroundColor:$e?"#FEF3C7":x.color||"#e8e2ea",minHeight:"28px"}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3073,columnNumber:27},void 0),e.jsxDEV("div",{className:"flex-1 min-w-0",children:[e.jsxDEV("div",{className:"flex items-center justify-between gap-2",children:[e.jsxDEV("p",{className:"text-sm font-semibold text-gray-900 truncate",children:x.title},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3084,columnNumber:31},void 0),x.assignedTo&&x.assignedTo.length>0&&e.jsxDEV("p",{className:"text-xs text-gray-500 flex-shrink-0",children:["","",""].every(gt=>x.assignedTo.includes(gt))?"":x.assignedTo.join(", ")},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3089,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3083,columnNumber:29},void 0),x.projectName&&f==="all"&&e.jsxDEV("p",{className:"text-xs text-gray-600 mt-0.5",children:x.projectName},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3101,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3082,columnNumber:27},void 0),!bt&&e.jsxDEV("svg",{className:"w-4 h-4 text-gray-400 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3108,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3107,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3064,columnNumber:25},void 0)},x.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3001,columnNumber:25},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2976,columnNumber:27},void 0)]},he,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2966,columnNumber:25},void 0))})()},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2950,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2944,columnNumber:15},void 0),_t&&f!=="all"&&e.jsxDEV("div",{className:"border-t border-gray-200 p-3 bg-gray-50",children:[e.jsxDEV("p",{className:"text-xs font-medium text-gray-500 mb-2",children:"   "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3127,columnNumber:19},void 0),e.jsxDEV("div",{className:"flex flex-wrap gap-1.5",children:He.map(D=>e.jsxDEV("button",{onClick:()=>{const ie=M||new Date;if(f!=="all"){const he="temp_"+Date.now().toString()+Math.random().toString(36).substr(2,9),x={id:he,title:D,start:ie,end:ie,project:f,attendees:p!=null&&p.name?[p.name]:[],type:"construction"};t(x),a(x).then(()=>{r(he)}).catch(U=>{console.error("  :",U),r(he)})}},className:"px-2.5 py-1.5 text-xs rounded-lg bg-white border border-gray-200 text-gray-700 hover:bg-gray-100 active:bg-gray-200 transition-colors font-medium",children:D},D,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3130,columnNumber:23},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3128,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3126,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2892,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2799,columnNumber:9},void 0),W&&e.jsxDEV(_l,{event:pe,slotInfo:P,defaultProjectName:f!=="all"?f:void 0,onClose:()=>{J(!1),ve(null),C(null)},onSave:async D=>{console.log(" Schedule.tsx onSave called with newEvent:",D);try{if(pe)if(pe.id.startsWith("as-")){const ie=pe.id.replace("as-","");let he="";D.assignedTo&&Array.isArray(D.assignedTo)&&D.assignedTo.length>0?he=D.assignedTo.join(", "):pe.assignedTo&&Array.isArray(pe.assignedTo)?he=pe.assignedTo.join(", "):typeof pe.assignedTo=="string"&&(he=pe.assignedTo),await c(ie,{project:D.title||pe.title,assignedTo:he,scheduledVisitDate:D.start,scheduledVisitTime:D.time||pe.time}),await u(),J(!1)}else if(pe.id.startsWith("payment-")){const ie=pe.id.split("-"),he=ie[1],x=ie[2],U=g.find(ne=>ne.id===he);if(U){const ne={...U.expectedPaymentDates};ne[x]=D.start,await b(he,{expectedPaymentDates:ne})}}else{console.log(" Updating schedule with projectId:",D.projectId,"projectName:",D.projectName);let ie=D.title;const he=/ - (|) \d{1,2}( \d{1,2})?$/;if(ie=ie.replace(he,""),pe.mergedEventIds&&pe.mergedEventIds.length>0){console.log(" Updating merged schedules:",pe.mergedEventIds);const x=(pe.originalTitle||pe.title).split(", "),U=ie.split(", ");for(let ne=0;ne<pe.mergedEventIds.length;ne++){const le=pe.mergedEventIds[ne],Pe=U[ne]||x[ne]||ie;await o(le,{title:Pe.trim(),start:D.start,end:D.end,type:"other",project:D.projectId||D.projectName,location:"",attendees:D.assignedTo||[],description:D.description,time:D.time})}}else await o(pe.id,{title:ie,start:D.start,end:D.end,type:"other",project:D.projectId||D.projectName,location:"",attendees:D.assignedTo||[],description:D.description,time:D.time});await i()}else console.log(" Adding schedule with projectId:",D.projectId,"projectName:",D.projectName),await a({id:Date.now().toString(),title:D.title,start:D.start,end:D.end,type:"other",project:D.projectId||D.projectName,location:"",attendees:D.assignedTo||[],description:D.description,time:D.time});J(!1)}catch(ie){console.error("Failed to save schedule:",ie),R.error("  ")}},onDelete:async D=>{try{if(D.startsWith("payment-")){const ie=D.split("-"),he=ie[1],x=ie[2],U=g.find(ne=>ne.id===he);if(U){const ne={...U.expectedPaymentDates};delete ne[x],await b(he,{expectedPaymentDates:ne})}}else if(D.startsWith("as-")){const ie=D.replace("as-","");await c(ie,{scheduledVisitDate:null,scheduledVisitTime:null})}else{const ie=h.find(he=>he.id===D);if(ie!=null&&ie.mergedEventIds&&ie.mergedEventIds.length>0){console.log("Deleting merged schedules:",ie.mergedEventIds);for(const he of ie.mergedEventIds)await m(he)}else await m(D)}J(!1)}catch(ie){console.error("Failed to delete schedule:",ie),R.error("  ")}}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3174,columnNumber:11},void 0),Q&&Ne&&e.jsxDEV("div",{className:"fixed pointer-events-none z-[9999]",style:{left:_.x-50,top:_.y-15,backgroundColor:Q.color||"#F3F4F6",borderRadius:"6px",color:"#1f2937",padding:"4px 8px",fontWeight:500,fontSize:"16px",maxWidth:"250px"},children:Q.originalTitle||Q.title},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3361,columnNumber:11},void 0),de&&e.jsxDEV("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-[9999]",onClick:()=>{T(!1),X(null),re("")},children:e.jsxDEV("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md max-h-[80vh] overflow-hidden mx-4",onClick:D=>D.stopPropagation(),children:[e.jsxDEV("div",{className:"p-4 border-b border-gray-100 flex justify-between items-center",children:[e.jsxDEV("h2",{className:"text-lg font-bold text-gray-800",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3395,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>{T(!1),X(null),re("")},className:"text-gray-400 hover:text-gray-600 p-1 hover:bg-gray-100 rounded",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3396,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3394,columnNumber:15},void 0),e.jsxDEV("div",{className:"p-4 border-b border-gray-100 bg-gray-50",children:[e.jsxDEV("label",{className:"block text-xs text-gray-500 mb-2",children:"  "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3410,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV("input",{type:"text",value:oe,onChange:D=>re(D.target.value),onKeyDown:D=>D.key==="Enter"&&De(),placeholder:" ",className:"flex-1 px-3 py-2 border border-gray-200 rounded-lg text-sm focus:ring-2 focus:ring-gray-300 focus:border-gray-400 bg-white"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3412,columnNumber:19},void 0),e.jsxDEV("button",{onClick:De,disabled:!oe.trim(),className:"px-4 py-2 bg-gray-800 text-white text-sm font-medium rounded-lg hover:bg-gray-700 transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3420,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3411,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3409,columnNumber:15},void 0),e.jsxDEV("div",{className:"overflow-y-auto max-h-[50vh]",children:Me?e.jsxDEV("div",{className:"p-8 text-center text-gray-500",children:[e.jsxDEV("div",{className:"animate-spin inline-block w-6 h-6 border-2 border-gray-200 border-t-gray-600 rounded-full mb-2"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3434,columnNumber:21},void 0),e.jsxDEV("p",{children:" ..."},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3435,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3433,columnNumber:19},void 0):ee.length===0?e.jsxDEV("div",{className:"p-8 text-center text-gray-400",children:[e.jsxDEV("p",{className:"mb-2",children:"  "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3439,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-xs",children:"   "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3440,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3438,columnNumber:19},void 0):e.jsxDEV("div",{className:"divide-y divide-gray-50",children:ee.map((D,ie)=>e.jsxDEV("div",{draggable:(Z==null?void 0:Z.id)!==D.id,onDragStart:()=>Ke(ie),onDragOver:he=>ze(he,ie),onDragEnd:qe,onDragLeave:()=>Oe(null),className:`flex items-center gap-3 px-4 py-3 hover:bg-gray-50 group transition-all ${Ee===ie?"opacity-50 bg-gray-100":""} ${Ue===ie?"border-t-2 border-gray-400":""} ${(Z==null?void 0:Z.id)!==D.id?"cursor-grab active:cursor-grabbing":""}`,children:(Z==null?void 0:Z.id)===D.id?e.jsxDEV(e.Fragment,{children:[e.jsxDEV("input",{type:"text",value:be,onChange:he=>we(he.target.value),onKeyDown:he=>{he.key==="Enter"&&Be(),he.key==="Escape"&&(X(null),we(""))},className:"flex-1 px-3 py-1.5 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-gray-300 focus:border-gray-400",autoFocus:!0},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3462,columnNumber:29},void 0),e.jsxDEV("button",{onClick:Be,className:"px-3 py-1.5 bg-gray-800 text-white text-xs rounded-lg hover:bg-gray-700",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3476,columnNumber:29},void 0),e.jsxDEV("button",{onClick:()=>{X(null),we("")},className:"px-3 py-1.5 bg-gray-100 text-gray-600 text-xs rounded-lg hover:bg-gray-200",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3482,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3461,columnNumber:27},void 0):e.jsxDEV(e.Fragment,{children:[e.jsxDEV("span",{className:"text-gray-300 text-xs select-none",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3494,columnNumber:29},void 0),e.jsxDEV("span",{className:"text-gray-300 text-xs w-5 text-right select-none",children:ie+1},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3495,columnNumber:29},void 0),e.jsxDEV("span",{className:"flex-1 text-sm text-gray-700 select-none",children:D.name},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3496,columnNumber:29},void 0),e.jsxDEV("button",{onClick:()=>{X(D),we(D.name)},className:"px-2 py-1 text-gray-400 hover:text-gray-700 text-xs opacity-0 group-hover:opacity-100 transition-opacity",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3497,columnNumber:29},void 0),e.jsxDEV("button",{onClick:()=>Re(D.id),className:"px-2 py-1 text-gray-400 hover:text-red-500 text-xs opacity-0 group-hover:opacity-100 transition-opacity",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3506,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3493,columnNumber:27},void 0)},D.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3445,columnNumber:23},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3443,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3431,columnNumber:15},void 0),ee.length>0&&e.jsxDEV("div",{className:"p-3 border-t border-gray-100 bg-gray-50 text-center text-xs text-gray-400",children:"     /"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3522,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3389,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3381,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2743,columnNumber:7},void 0)};class Cb{async uploadImage(n){var r,i;const t=new FormData;t.append("image",n);try{const a=await je.post("/drawings/upload",t,{headers:{"Content-Type":"multipart/form-data"}});return console.log("   :",a.data.imageUrl),a.data.imageUrl}catch(a){console.error("  :",a);const o=((i=(r=a.response)==null?void 0:r.data)==null?void 0:i.error)||a.message||"   ";throw new Error(`  : ${o}`)}}async setItem(n,t,r){var i,a,o,m,d,c,u;try{console.log("[drawingStorage]   :",{projectId:t.projectId,type:t.type,imageUrl:t.imageUrl?"provided":"none",markersCount:((i=t.markers)==null?void 0:i.length)||0,roomsCount:((a=t.rooms)==null?void 0:a.length)||0}),await je.post("/drawings",{projectId:t.projectId,type:t.type,imageUrl:t.imageUrl,markers:t.markers,rooms:t.rooms,naverTypeSqm:t.naverTypeSqm,naverTypePyeong:t.naverTypePyeong,naverArea:t.naverArea}),console.log("    ")}catch(g){console.error("   :",g);const b=((m=(o=g.response)==null?void 0:o.data)==null?void 0:m.error)||" ",p=((c=(d=g.response)==null?void 0:d.data)==null?void 0:c.details)||g.message||"",w=((u=g.response)==null?void 0:u.status)||"",k=new Error(`${b}${p?` (${p})`:""}`);throw k.statusCode=w,k.response=g.response,k}}async getItem(n){var t,r,i;try{const a=n.split("-");if(a.length<4)return console.error("  :",n),null;const o=a[2],m=a.slice(3).join("-");console.log(`[drawingStorage]   : projectId=${o}, type=${m}`);const c=(await je.get(`/drawings/${o}/${encodeURIComponent(m)}`)).data;return{type:c.type,projectId:c.projectId,imageUrl:c.imageUrl,markers:c.markers||[],rooms:c.rooms||[],lastModified:new Date(c.updatedAt),naverTypeSqm:c.naverTypeSqm,naverTypePyeong:c.naverTypePyeong,naverArea:c.naverArea}}catch(a){if(((t=a.response)==null?void 0:t.status)===404)return console.log("[drawingStorage]    (404)"),null;if(((r=a.response)==null?void 0:r.status)===500)return console.warn("[drawingStorage]  ,   :",(i=a.response)==null?void 0:i.data),null;throw console.error("   :",a),a}}async removeItem(n){try{const t=n.split("-");if(t.length<4){console.error("  :",n);return}const r=t[2],i=t.slice(3).join("-");await je.delete(`/drawings/${r}/${encodeURIComponent(i)}`)}catch(t){throw console.error("   :",t),t}}async clearAll(){return console.warn("   clearAll  ."),0}async migrateFromLocalStorage(n){let t=0;const r=[];for(let i=0;i<localStorage.length;i++){const a=localStorage.key(i);a&&a.startsWith("drawing-")&&r.push(a)}return r.forEach(i=>{localStorage.removeItem(i),t++}),t>0&&console.log(` ${t}    .`),t}async estimateSize(){return{usage:0,quota:0}}}const Hr=new Cb,Br=["","","","3D","","","","","","","","","",""],Ur=[{id:"outlet-1",name:" 1",symbol:"C1",count:1,color:"#ef4444",category:"outlet"},{id:"outlet-2",name:" 2",symbol:"C2",count:2,color:"#ef4444",category:"outlet"},{id:"outlet-3",name:" 3",symbol:"C3",count:3,color:"#ef4444",category:"outlet"},{id:"outlet-4",name:" 4",symbol:"C4",count:4,color:"#ef4444",category:"outlet"},{id:"switch-1",name:" 1",symbol:"S1",count:1,color:"#3b82f6",category:"switch"},{id:"switch-2",name:" 2",symbol:"S2",count:2,color:"#3b82f6",category:"switch"},{id:"switch-3",name:" 3",symbol:"S3",count:3,color:"#3b82f6",category:"switch"},{id:"switch-4",name:" 4",symbol:"S4",count:4,color:"#3b82f6",category:"switch"},{id:"switch-5",name:" 5",symbol:"S5",count:5,color:"#3b82f6",category:"switch"},{id:"switch-6",name:" 6",symbol:"S6",count:6,color:"#3b82f6",category:"switch"},{id:"switch-7",name:" 7",symbol:"S7",count:7,color:"#3b82f6",category:"switch"},{id:"switch-8",name:" 8",symbol:"S8",count:8,color:"#3b82f6",category:"switch"},{id:"light",name:"",symbol:"",count:1,color:"#f59e0b",category:"light"}],Eb=()=>{const{user:s}=Qt(),n=fs(),[t,r]=l.useState(()=>{try{const F=localStorage.getItem("user");if(F){const me=JSON.parse(F);return localStorage.getItem(`drawings-selected-project-${me.id}`)||""}}catch(F){console.error("Failed to load saved project:",F)}return""}),[i,a]=l.useState(()=>{try{const F=localStorage.getItem("user");if(F){const me=JSON.parse(F),We=localStorage.getItem(`drawings-selected-type-${me.id}`);if(We&&Br.includes(We))return We}}catch(F){console.error("Failed to load saved drawing type:",F)}return""}),[o,m]=l.useState(Ur[0].id),[d,c]=l.useState([]),[u,g]=l.useState(0),[b,p]=l.useState([]),[w,k]=l.useState([]),j=d[u]||"",[B,y]=l.useState(""),[O,ge]=l.useState(""),[ee,Y]=l.useState(""),[de,T]=l.useState("marker"),[oe,re]=l.useState("full"),[Z,X]=l.useState(null),[be,we]=l.useState(!1),[Me,Ve]=l.useState(null),[Ee,_e]=l.useState(!1),[Ue,Oe]=l.useState(null),[fe,He]=l.useState(null),[De,Be]=l.useState(!1),[Re,Ke]=l.useState(""),[ze,qe]=l.useState(null),[S,ue]=l.useState(!1),[xe,te]=l.useState(1),[q,G]=l.useState({x:0,y:0}),[z,ye]=l.useState(!1),[Se,I]=l.useState({x:0,y:0}),[ae,E]=l.useState(!1),W=l.useRef(0),J=l.useRef({x:0,y:0}),pe=l.useRef(0),ve=l.useRef({x:0,y:0}),P=l.useRef(null),C=l.useRef(null),L=l.useRef(null),f=l.useRef(!1),V=l.useRef(!1),h=l.useRef(null),M=l.useRef(!1);l.useEffect(()=>{if(s!=null&&s.id&&!M.current){if(M.current=!0,!t){const me=localStorage.getItem(`drawings-selected-project-${s.id}`);me&&r(me)}const F=localStorage.getItem(`drawings-selected-type-${s.id}`);F&&Br.includes(F)&&F!==i&&a(F)}},[s==null?void 0:s.id]),l.useEffect(()=>{s!=null&&s.id&&!V.current&&(V.current=!0,Hr.migrateFromLocalStorage(s.id).then(F=>{F>0&&console.log(` ${F}   .`)}).catch(F=>{console.error(" :",F)}))},[s==null?void 0:s.id]),l.useEffect(()=>{if(s!=null&&s.id&&s.name===""&&n.length>0&&!t){const F=n.find(me=>me.status!=="completed");F&&r(F.id)}},[s==null?void 0:s.id,s==null?void 0:s.name,n,t]),l.useEffect(()=>{s!=null&&s.id&&t&&localStorage.setItem(`drawings-selected-project-${s.id}`,t)},[s==null?void 0:s.id,t]),l.useEffect(()=>{s!=null&&s.id&&i&&localStorage.setItem(`drawings-selected-type-${s.id}`,i)},[s==null?void 0:s.id,i]),l.useEffect(()=>{if(s!=null&&s.id&&t&&i){f.current=!0;const F=`drawing-${s.id}-${t}-${i}`;Hr.getItem(F).then(me=>{me?(me.imageUrls&&Array.isArray(me.imageUrls)?c(me.imageUrls):me.imageUrl?c([me.imageUrl]):c([]),g(0),p(me.markers||[]),k(me.rooms||[]),y(me.naverTypeSqm||""),ge(me.naverTypePyeong||""),Y(me.naverArea||"")):(c([]),g(0),p([]),k([]),y(""),ge(""),Y("")),re("full"),X(null),setTimeout(()=>{f.current=!1},0)}).catch(me=>{console.error("Failed to load drawing data:",me),c([]),g(0),p([]),k([]),y(""),ge(""),Y(""),re("full"),X(null),f.current=!1})}},[s==null?void 0:s.id,t,i]),l.useEffect(()=>{if(!f.current)return s!=null&&s.id&&t&&i&&d.length>0&&(h.current&&clearTimeout(h.current),h.current=setTimeout(async()=>{var We,tt,Je;const F=`drawing-${s.id}-${t}-${i}`,me={type:i,projectId:t,imageUrl:d[0],imageUrls:d,markers:b,rooms:w,lastModified:new Date,naverTypeSqm:B,naverTypePyeong:O,naverArea:ee};try{await Hr.setItem(F,me,s.id),console.log("   ")}catch(ot){console.error("Failed to save drawing data:",ot);const Et=((tt=(We=ot.response)==null?void 0:We.data)==null?void 0:tt.error)||ot.message||"   ",At=((Je=ot.response)==null?void 0:Je.status)||"";alert(`  : ${At?`[${At}] `:""}${Et}`)}},500)),()=>{h.current&&clearTimeout(h.current)}},[s==null?void 0:s.id,t,i,d,b,w,B,O,ee]);const[ke,Ce]=l.useState(!1),Te=async(F,me)=>{if(!F.type.startsWith("image/")){alert("   .");return}if(F.size>20*1024*1024){alert("  20MB .");return}Ce(!0);try{const We=await Hr.uploadImage(F);console.log(`   : ${We}`),me!==void 0?c(tt=>{const Je=[...tt];return Je[me]=We,Je}):(c(tt=>[...tt,We]),g(d.length))}catch(We){console.error("  :",We),alert(We.message||"  .")}finally{Ce(!1)}},Fe=F=>{confirm("  ?")&&c(me=>{const We=me.filter((tt,Je)=>Je!==F);return u>=We.length?g(Math.max(0,We.length-1)):u>F&&g(u-1),We})},at=F=>{const me=document.createElement("input");me.type="file",me.accept="image/*",me.onchange=We=>{var Je;const tt=(Je=We.target.files)==null?void 0:Je[0];tt&&Te(tt,F)},me.click()},et=F=>{const me=F.target.files;me&&Array.from(me).forEach(We=>Te(We)),F.target.value=""},Ze=F=>{var We;if(!t)return;const me=(We=F.clipboardData)==null?void 0:We.items;if(me){for(let tt=0;tt<me.length;tt++)if(me[tt].type.startsWith("image/")){const Je=me[tt].getAsFile();if(Je){Te(Je);break}}}},ct=F=>{F.preventDefault(),E(!0)},Nt=F=>{F.preventDefault(),E(!1)},ut=F=>{var We;F.preventDefault(),E(!1);const me=(We=F.dataTransfer.files)==null?void 0:We[0];me&&Te(me)};l.useEffect(()=>(document.addEventListener("paste",Ze),()=>{document.removeEventListener("paste",Ze)}),[t]);const pt=F=>{F.preventDefault();const tt=1+(F.deltaY>0?-1:1)*.15,Je=Math.min(Math.max(.5,xe*tt),5),ot=F.currentTarget.getBoundingClientRect(),Et=F.clientX-ot.left-ot.width/2,At=F.clientY-ot.top-ot.height/2,Dt=Je/xe,Ut=Et-(Et-q.x)*Dt,St=At-(At-q.y)*Dt;te(Je),G({x:Ut,y:St})},dt=F=>{F.button===0&&(ye(!0),I({x:F.clientX-q.x,y:F.clientY-q.y}))},bt=F=>{z&&G({x:F.clientX-Se.x,y:F.clientY-Se.y})},Ct=()=>{ye(!1)},vt=()=>{te(1),G({x:0,y:0})},A=F=>{if(F.length<2)return 0;const me=F[0].clientX-F[1].clientX,We=F[0].clientY-F[1].clientY;return Math.sqrt(me*me+We*We)},Q=F=>F.length<2?{x:F[0].clientX,y:F[0].clientY}:{x:(F[0].clientX+F[1].clientX)/2,y:(F[0].clientY+F[1].clientY)/2},N=F=>{F.preventDefault(),F.stopPropagation();const me=F.touches;if(me.length===1){const We=Date.now(),tt=We-pe.current;ve.current={x:me[0].clientX,y:me[0].clientY},tt<300?(vt(),pe.current=0):(pe.current=We,ye(!0),I({x:me[0].clientX-q.x,y:me[0].clientY-q.y}))}else me.length===2&&(ye(!1),W.current=A(me),J.current=Q(me))},_=F=>{F.preventDefault(),F.stopPropagation();const me=F.touches;if(me.length===1&&z)G({x:me[0].clientX-Se.x,y:me[0].clientY-Se.y});else if(me.length===2){const We=A(me),tt=Q(me);if(W.current>0){const Je=We/W.current,ot=Math.min(Math.max(.5,xe*Je),5),Et=ot/xe,At=tt.x-window.innerWidth/2,Dt=tt.y-window.innerHeight/2,Ut=At-(At-q.x)*Et,St=Dt-(Dt-q.y)*Et;te(ot),G({x:Ut,y:St})}W.current=We,J.current=tt}},H=F=>{F.stopPropagation(),F.touches.length===0?(ye(!1),W.current=0):F.touches.length===1&&(W.current=0,ye(!0),I({x:F.touches[0].clientX-q.x,y:F.touches[0].clientY-q.y}))},K=()=>{ue(!1),te(1),G({x:0,y:0}),ye(!1)},$=F=>{if(!j||!P.current)return;const me=P.current.getBoundingClientRect(),We=F.clientX-me.left,tt=F.clientY-me.top;let Je,ot;if(oe==="room"&&Z){if(!w.find(zt=>zt.id===Z)||!C.current)return;const At=C.current.naturalWidth,Dt=C.current.naturalHeight;if(!At||!Dt)return;const Ut=At/Dt,St=me.width/me.height;let wt,Mt,ns,_t;St>Ut?(Mt=me.height,wt=me.height*Ut,ns=(me.width-wt)/2,_t=0):(wt=me.width,Mt=me.width/Ut,ns=0,_t=(me.height-Mt)/2);const Zt=We-ns,Us=tt-_t;if(Zt<0||Zt>wt||Us<0||Us>Mt)return;Je=Zt/wt*100,ot=Us/Mt*100}else{if(!C.current)return;const Et=C.current.naturalWidth,At=C.current.naturalHeight;if(!Et||!At)return;const Dt=Et/At,Ut=me.width/me.height;let St,wt,Mt,ns;Ut>Dt?(wt=me.height,St=me.height*Dt,Mt=(me.width-St)/2,ns=0):(St=me.width,wt=me.width/Dt,Mt=0,ns=(me.height-wt)/2);const _t=We-Mt,Zt=tt-ns;if(_t<0||_t>St||Zt<0||Zt>wt)return;Je=_t/St*100,ot=Zt/wt*100}if(de==="room")_e(!0),Oe({x:Je,y:ot}),He({x:Je,y:ot});else if(i===""){if(be)return;const Et=Ur.find(wt=>wt.id===o);let At=null,Dt,Ut;if(oe==="room"&&Z){const wt=w.find(Mt=>Mt.id===Z);wt&&(At=Z,Dt=(Je-wt.x)/wt.width*100,Ut=(ot-wt.y)/wt.height*100)}const St={id:`marker-${Date.now()}`,x:Je,y:ot,roomId:At,roomX:Dt,roomY:Ut,type:o,label:(Et==null?void 0:Et.name)||"",details:""};p([...b,St])}},Ne=F=>{if(!j||!P.current||!C.current)return;const me=P.current.getBoundingClientRect(),We=F.clientX-me.left,tt=F.clientY-me.top,Je=C.current.naturalWidth,ot=C.current.naturalHeight;if(!Je||!ot)return;const Et=Je/ot,At=me.width/me.height;let Dt,Ut,St,wt;At>Et?(Ut=me.height,Dt=me.height*Et,St=(me.width-Dt)/2,wt=0):(Dt=me.width,Ut=me.width/Et,St=0,wt=(me.height-Ut)/2);const Mt=We-St,ns=tt-wt;if(Mt<0||Mt>Dt||ns<0||ns>Ut)return;const _t=Mt/Dt*100,Zt=ns/Ut*100;if(Ee&&Ue)He({x:_t,y:Zt});else if(be&&Me){if(b.find(zt=>zt.id===Me)&&oe==="room"&&Z){const zt=w.find(on=>on.id===Z);if(zt){const on=(_t-zt.x)/zt.width*100,xn=(Zt-zt.y)/zt.height*100;p(b.map(qs=>qs.id===Me?{...qs,x:_t,y:Zt,roomX:on,roomY:xn}:qs));return}}p(b.map(zt=>zt.id===Me?{...zt,x:_t,y:Zt}:zt))}},v=()=>{if(Ee&&Ue&&fe){const F=Math.min(Ue.x,fe.x),me=Math.min(Ue.y,fe.y),We=Math.abs(fe.x-Ue.x),tt=Math.abs(fe.y-Ue.y);We>2&&tt>2&&(qe({x:F,y:me,width:We,height:tt}),Be(!0)),_e(!1),Oe(null),He(null)}we(!1),Ve(null)},se=()=>{if(ze&&Re.trim()){const F={id:`room-${Date.now()}`,name:Re.trim(),...ze};k([...w,F]),Be(!1),Ke(""),qe(null)}},ce=(F,me)=>{F.stopPropagation(),we(!0),Ve(me)},Ae=F=>{p(b.filter(me=>me.id!==F))},Ie=F=>{k(w.filter(me=>me.id!==F)),p(b.filter(me=>me.roomId!==F)),Z===F&&(X(null),re("full"))},Ye=F=>{X(F),re("room")},Ge=()=>{re("full"),X(null)},nt=()=>{if(oe==="room"&&Z){const F=w.find(me=>me.id===Z);return F?b.filter(me=>me.roomId===Z).map(me=>({...me,x:F.x+(me.roomX||0)*F.width/100,y:F.y+(me.roomY||0)*F.height/100})):[]}return b},Xe=w.find(F=>F.id===Z),st=F=>F.replace("","");return e.jsxDEV("div",{className:"h-full flex flex-col",children:[e.jsxDEV("div",{className:"bg-white border-b px-3 md:px-6 py-3 flex-shrink-0",children:[e.jsxDEV("div",{className:"md:hidden",children:[e.jsxDEV("div",{className:"flex justify-end mb-3",children:e.jsxDEV("select",{value:t,onChange:F=>r(F.target.value),className:"input max-w-[200px] text-sm",children:[(s==null?void 0:s.name)!==""&&e.jsxDEV("option",{value:"",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:938,columnNumber:39},void 0),n.filter(F=>F.status!=="completed").map(F=>e.jsxDEV("option",{value:F.id,children:F.name},F.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:942,columnNumber:19},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:933,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:932,columnNumber:11},void 0),e.jsxDEV("div",{className:"grid grid-cols-5 gap-2 mb-3",children:Br.map(F=>e.jsxDEV("button",{onClick:()=>a(F),className:`px-2 py-1.5 rounded text-xs whitespace-nowrap transition-colors ${i===F?"bg-gray-900 text-white font-medium":"text-gray-700 bg-gray-100 hover:bg-gray-200"}`,children:st(F)},F,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:952,columnNumber:15},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:950,columnNumber:11},void 0),oe==="room"&&Xe&&e.jsxDEV("div",{className:"flex items-center justify-between mt-3",children:[e.jsxDEV("button",{onClick:Ge,className:"btn btn-outline text-sm",children:[e.jsxDEV(fo,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:974,columnNumber:17},void 0)," "]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:970,columnNumber:15},void 0),e.jsxDEV("span",{className:"text-base font-semibold text-gray-900",children:Xe.name},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:977,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:969,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:930,columnNumber:9},void 0),e.jsxDEV("div",{className:"hidden md:flex items-center justify-between gap-4",children:[e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV("div",{className:"w-80",children:e.jsxDEV("select",{value:t,onChange:F=>r(F.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-gray-500",children:[(s==null?void 0:s.name)!==""&&e.jsxDEV("option",{value:"",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:991,columnNumber:41},void 0),n.filter(F=>F.status!=="completed").map(F=>e.jsxDEV("option",{value:F.id,children:F.name},F.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:995,columnNumber:21},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:986,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:985,columnNumber:13},void 0),i===""&&t&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("span",{className:"text-sm font-medium text-gray-600",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1006,columnNumber:19},void 0),e.jsxDEV("div",{className:"flex items-center gap-1",children:[e.jsxDEV("input",{type:"text",value:B,onChange:F=>y(F.target.value),placeholder:": 136E",className:"w-28 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1008,columnNumber:21},void 0),e.jsxDEV("span",{className:"text-sm font-medium text-gray-700",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1015,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1007,columnNumber:19},void 0),e.jsxDEV("span",{className:"text-gray-400",children:"/"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1017,columnNumber:19},void 0),e.jsxDEV("div",{className:"flex items-center gap-1",children:[e.jsxDEV("input",{type:"text",value:O,onChange:F=>ge(F.target.value),placeholder:": 41E",className:"w-24 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1019,columnNumber:21},void 0),e.jsxDEV("span",{className:"text-sm font-medium text-gray-700",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1026,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1018,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1005,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("span",{className:"text-sm font-medium text-gray-600",children:"/"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1030,columnNumber:19},void 0),e.jsxDEV("input",{type:"text",value:ee,onChange:F=>Y(F.target.value),placeholder:": 136.21/101.97( 75%)",className:"w-80 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1031,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1029,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1004,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:984,columnNumber:11},void 0),oe==="room"&&Xe&&e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV("button",{onClick:Ge,className:"btn btn-outline text-sm",children:[e.jsxDEV(fo,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1049,columnNumber:17},void 0)," "]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1045,columnNumber:15},void 0),e.jsxDEV("span",{className:"text-lg font-semibold text-gray-900",children:Xe.name},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1052,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1044,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:983,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:928,columnNumber:7},void 0),e.jsxDEV("div",{className:"drawings-main flex-1 flex flex-col md:flex-row overflow-hidden",children:[e.jsxDEV("div",{className:"drawings-sidebar hidden md:block w-48 bg-white border-r flex-shrink-0 overflow-y-auto",children:e.jsxDEV("div",{className:"drawings-sidebar-inner p-4",children:[e.jsxDEV("h3",{className:"drawings-sidebar-title text-xs font-semibold text-gray-500 uppercase tracking-wider mb-3",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1062,columnNumber:13},void 0),e.jsxDEV("div",{className:"drawings-type-list space-y-1 mb-6",children:Br.map(F=>e.jsxDEV("button",{onClick:()=>a(F),className:`drawings-type-btn w-full text-left px-3 py-2.5 rounded text-sm transition-colors ${i===F?"bg-gray-900 text-white font-medium":"text-gray-700 hover:bg-gray-100"}`,children:st(F)},F,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1065,columnNumber:17},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1063,columnNumber:13},void 0),t&&i===""&&j&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"mb-6",children:e.jsxDEV("button",{onClick:()=>T(de==="room"?"marker":"room"),className:`w-full text-left px-3 py-2.5 rounded text-sm transition-colors flex items-center font-medium ${de==="room"?"bg-green-700 text-white":"bg-green-600 text-white hover:bg-green-700"}`,children:[e.jsxDEV(Hc,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1090,columnNumber:21},void 0),de==="room"?"  ...":" "]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1082,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1081,columnNumber:17},void 0),w.length>0&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV("h3",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-3",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1097,columnNumber:21},void 0),e.jsxDEV("div",{className:"space-y-1",children:w.map(F=>e.jsxDEV("div",{className:`w-full text-left px-3 py-2.5 rounded text-sm transition-colors flex items-center justify-between group ${Z===F.id?"bg-purple-600 text-white font-medium":"text-gray-700 hover:bg-gray-100"}`,children:[e.jsxDEV("button",{onClick:()=>Ye(F.id),className:"flex-1 text-left",children:F.name},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1108,columnNumber:27},void 0),e.jsxDEV("button",{onClick:me=>{me.stopPropagation(),Ie(F.id)},className:"opacity-0 group-hover:opacity-100 ml-2",children:e.jsxDEV(Vt,{className:"w-3.5 h-3.5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1121,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1114,columnNumber:27},void 0)]},F.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1100,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1098,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1096,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1080,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1061,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1060,columnNumber:9},void 0),t?e.jsxDEV(e.Fragment,{children:e.jsxDEV("div",{className:"flex-1 bg-gray-50 flex flex-col overflow-hidden",children:e.jsxDEV("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i===""&&t&&e.jsxDEV("div",{className:"md:hidden bg-white border-b px-3 py-1",children:e.jsxDEV("div",{className:"flex items-center gap-1.5 overflow-x-auto",children:[e.jsxDEV("div",{className:"flex items-center gap-0.5 flex-shrink-0",children:[e.jsxDEV("span",{className:"text-[11px] text-gray-500",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1145,columnNumber:23},void 0),e.jsxDEV("input",{type:"text",value:B,onChange:F=>y(F.target.value),placeholder:"136E",className:"input w-12 h-5 text-[12px] px-1"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1146,columnNumber:23},void 0),e.jsxDEV("span",{className:"text-[11px] text-gray-500",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1153,columnNumber:23},void 0),e.jsxDEV("span",{className:"text-gray-300 text-xs",children:"/"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1154,columnNumber:23},void 0),e.jsxDEV("input",{type:"text",value:O,onChange:F=>ge(F.target.value),placeholder:"41E",className:"input w-10 h-5 text-[12px] px-1"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1155,columnNumber:23},void 0),e.jsxDEV("span",{className:"text-[11px] text-gray-500",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1162,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1144,columnNumber:21},void 0),e.jsxDEV("div",{className:"w-px h-3 bg-gray-200 flex-shrink-0"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1165,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex items-center gap-0.5 flex-1 min-w-0",children:[e.jsxDEV("span",{className:"text-[11px] text-gray-500 flex-shrink-0",children:"/"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1168,columnNumber:23},void 0),e.jsxDEV("input",{type:"text",value:ee,onChange:F=>Y(F.target.value),placeholder:"136.21/101.97",className:"input h-5 text-[12px] px-1 flex-1 min-w-[100px]"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1169,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1167,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1142,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1141,columnNumber:17},void 0),e.jsxDEV("div",{className:"overflow-hidden p-3 md:p-6 flex-1 md:flex-none",children:j?e.jsxDEV("div",{className:`relative w-full h-full md:h-auto md:max-h-[calc(100vh-280px)] bg-white rounded-lg shadow-lg overflow-hidden md:aspect-[16/10] group/canvas ${ae?"ring-4 ring-blue-500 ring-inset":""}`,onDragOver:ct,onDragLeave:Nt,onDrop:ut,children:[ae&&e.jsxDEV("div",{className:"absolute inset-0 bg-blue-500 bg-opacity-20 z-30 flex items-center justify-center pointer-events-none",children:e.jsxDEV("div",{className:"bg-white px-6 py-3 rounded-lg shadow-lg text-blue-600 font-medium",children:"  "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1195,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1194,columnNumber:23},void 0),e.jsxDEV("div",{className:"absolute top-3 right-3 flex gap-2 z-20 opacity-0 group-hover/canvas:opacity-100 transition-opacity",children:[e.jsxDEV("button",{onClick:F=>{F.stopPropagation(),at(u)},className:"w-9 h-9 bg-white rounded-full shadow-lg flex items-center justify-center text-gray-600 hover:text-gray-900 hover:bg-gray-50 transition-all border border-gray-200",title:" ",children:e.jsxDEV(un,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1210,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1202,columnNumber:23},void 0),e.jsxDEV("button",{onClick:F=>{F.stopPropagation(),Fe(u)},className:"w-9 h-9 bg-white rounded-full shadow-lg flex items-center justify-center text-red-500 hover:text-red-600 hover:bg-red-50 transition-all border border-gray-200",title:" ",children:e.jsxDEV(Vt,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1220,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1212,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1201,columnNumber:21},void 0),e.jsxDEV("div",{ref:P,className:`relative w-full h-full ${de==="room"?"cursor-crosshair":"cursor-default"}`,onMouseDown:$,onMouseMove:Ne,onMouseUp:v,onMouseLeave:v,children:[e.jsxDEV("img",{ref:C,src:j,alt:"",className:"w-full h-full object-contain select-none",draggable:!1,onClick:()=>ue(!0),style:oe==="room"&&Xe?(()=>{const F=100/Xe.width,me=100/Xe.height,We=Math.max(F,me),tt=Xe.x+Xe.width/2,Je=Xe.y+Xe.height/2;return{objectFit:"none",transform:`scale(${We}) translate(${(50-tt)/We}%, ${(50-Je)/We}%)`,transformOrigin:"0 0",pointerEvents:"auto",cursor:"pointer"}})():{pointerEvents:"auto",cursor:"pointer"}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1233,columnNumber:23},void 0),oe==="full"&&w.map(F=>e.jsxDEV("div",{className:"absolute border-2 border-purple-500 bg-purple-500 bg-opacity-10 hover:bg-opacity-20 transition-all cursor-pointer group",style:{left:`${F.x}%`,top:`${F.y}%`,width:`${F.width}%`,height:`${F.height}%`},onClick:()=>Ye(F.id),children:[e.jsxDEV("div",{className:"absolute top-1 left-1 bg-purple-600 text-white px-2 py-0.5 rounded text-xs font-medium",children:F.name},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1280,columnNumber:25},void 0),e.jsxDEV("button",{onClick:me=>{me.stopPropagation(),Ie(F.id)},className:"absolute top-1 right-1 w-5 h-5 bg-red-500 text-white rounded opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:e.jsxDEV(Vt,{className:"w-3 h-3"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1290,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1283,columnNumber:25},void 0)]},F.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1269,columnNumber:23},void 0)),Ee&&Ue&&fe&&e.jsxDEV("div",{className:"absolute border-2 border-dashed border-green-500 bg-green-500 bg-opacity-10",style:{left:`${Math.min(Ue.x,fe.x)}%`,top:`${Math.min(Ue.y,fe.y)}%`,width:`${Math.abs(fe.x-Ue.x)}%`,height:`${Math.abs(fe.y-Ue.y)}%`}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1297,columnNumber:23},void 0),nt().map(F=>{const me=Ur.find(We=>We.id===F.type);return e.jsxDEV("div",{onMouseDown:We=>ce(We,F.id),className:"absolute transform -translate-x-1/2 -translate-y-1/2 cursor-move group",style:{left:`${F.x}%`,top:`${F.y}%`},children:[(me==null?void 0:me.category)==="light"?e.jsxDEV("div",{className:"rounded-full shadow-md transition-transform group-hover:scale-110",style:{backgroundColor:me.color,width:"16px",height:"16px"}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1322,columnNumber:29},void 0):e.jsxDEV("div",{className:"flex items-center justify-center bg-white rounded shadow-md transition-transform group-hover:scale-110",style:{borderColor:me==null?void 0:me.color,color:me==null?void 0:me.color,border:"1.5px solid",padding:"2px 4px",fontSize:"10px",fontWeight:"600",minWidth:"20px",minHeight:"20px"},children:me==null?void 0:me.symbol},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1331,columnNumber:29},void 0),e.jsxDEV("button",{onClick:We=>{We.stopPropagation(),Ae(F.id)},className:"absolute -top-1 -right-1 w-4 h-4 bg-red-500 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:e.jsxDEV(Vt,{className:"w-2.5 h-2.5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1354,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1347,columnNumber:27},void 0)]},F.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1312,columnNumber:25},void 0)})]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1223,columnNumber:21},void 0),d.length>1&&e.jsxDEV("div",{className:"absolute bottom-0 left-0 right-0 bg-black bg-opacity-60 px-3 py-2 z-20",children:e.jsxDEV("div",{className:"flex items-center gap-2 overflow-x-auto",children:d.map((F,me)=>e.jsxDEV("div",{className:`relative flex-shrink-0 cursor-pointer group rounded overflow-hidden transition-all ${u===me?"ring-2 ring-white":"opacity-70 hover:opacity-100"}`,onClick:()=>g(me),children:[e.jsxDEV("img",{src:F,alt:` ${me+1}`,className:"w-12 h-12 md:w-14 md:h-14 object-cover"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1376,columnNumber:31},void 0),e.jsxDEV("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all flex items-center justify-center gap-1 opacity-0 group-hover:opacity-100",children:[e.jsxDEV("button",{onClick:We=>{We.stopPropagation(),at(me)},className:"w-6 h-6 bg-white rounded-full flex items-center justify-center shadow-md hover:bg-gray-100 transition-colors",title:"",children:e.jsxDEV(un,{className:"w-3 h-3 text-gray-700"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1391,columnNumber:35},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1383,columnNumber:33},void 0),e.jsxDEV("button",{onClick:We=>{We.stopPropagation(),Fe(me)},className:"w-6 h-6 bg-white rounded-full flex items-center justify-center shadow-md hover:bg-red-50 transition-colors",title:"",children:e.jsxDEV(Vt,{className:"w-3 h-3 text-red-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1401,columnNumber:35},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1393,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1382,columnNumber:31},void 0),u===me&&e.jsxDEV("div",{className:"absolute bottom-0 left-0 right-0 bg-white text-gray-900 text-[9px] text-center py-0.5 font-bold",children:[me+1,"/",d.length]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1406,columnNumber:33},void 0)]},me,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1367,columnNumber:29},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1365,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1364,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1184,columnNumber:19},void 0):e.jsxDEV("div",{className:`flex flex-col items-center justify-center h-full bg-white rounded-lg shadow-lg text-gray-500 transition-all ${ae?"border-4 border-dashed border-blue-500 bg-blue-50":""}`,onDragOver:ct,onDragLeave:Nt,onDrop:ut,children:[ke?e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"w-20 h-20 mb-4 flex items-center justify-center",children:e.jsxDEV("div",{className:"w-12 h-12 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1428,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1427,columnNumber:25},void 0),e.jsxDEV("p",{className:"text-base mb-2 font-semibold text-blue-600",children:"  ..."},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1430,columnNumber:25},void 0),e.jsxDEV("p",{className:"text-sm text-gray-400",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1433,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1426,columnNumber:23},void 0):e.jsxDEV(e.Fragment,{children:[e.jsxDEV(go,{className:`w-20 h-20 mb-4 transition-colors ${ae?"text-blue-500":"text-gray-400"}`},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1439,columnNumber:25},void 0),e.jsxDEV("p",{className:"text-base mb-2 font-semibold",children:ae?"  ":"  "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1442,columnNumber:25},void 0),e.jsxDEV("p",{className:"text-sm mb-4 text-gray-400",children:" ,   ,  Ctrl+V "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1445,columnNumber:25},void 0),e.jsxDEV("button",{onClick:()=>{var F;return(F=L.current)==null?void 0:F.click()},className:"px-6 py-2.5 bg-gray-900 text-white rounded-lg text-sm font-medium hover:bg-gray-800 transition-colors",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1448,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1438,columnNumber:23},void 0),e.jsxDEV("input",{ref:L,type:"file",accept:"image/*",multiple:!0,onChange:et,className:"hidden"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1456,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1417,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1182,columnNumber:15},void 0),i===""&&j&&de==="marker"&&e.jsxDEV("div",{className:"bg-white border-t px-6 py-3 flex-shrink-0",children:e.jsxDEV("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsxDEV("span",{className:"text-xs font-medium text-gray-700 mr-2",children:"C:  / S:  / : "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1472,columnNumber:21},void 0),e.jsxDEV("div",{className:"w-px h-4 bg-gray-300 mx-1"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1473,columnNumber:21},void 0),Ur.map(F=>e.jsxDEV("button",{onClick:()=>m(F.id),className:`px-3 py-1.5 rounded text-xs font-medium transition-all ${o===F.id?"bg-gray-900 text-white shadow-md":"bg-white text-gray-700 border border-gray-300 hover:border-gray-900"}`,style:{borderColor:o===F.id?void 0:F.color,borderWidth:o===F.id?void 0:"1.5px"},children:e.jsxDEV("span",{className:"text-sm font-semibold",style:{color:o===F.id?"white":F.color},children:F.symbol},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1488,columnNumber:25},void 0)},F.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1475,columnNumber:23},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1471,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1470,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1138,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1137,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1134,columnNumber:11},void 0):e.jsxDEV("div",{className:"drawings-empty flex-1 flex items-center justify-center bg-gray-50",children:e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV(go,{className:"w-20 h-20 mx-auto mb-4 text-gray-400"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1503,columnNumber:15},void 0),e.jsxDEV("p",{className:"text-lg text-gray-600 mb-2",children:"  "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1504,columnNumber:15},void 0),e.jsxDEV("p",{className:"text-sm text-gray-500",children:"  /    "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1505,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1502,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1501,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1058,columnNumber:7},void 0),De&&e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxDEV("div",{className:"bg-white rounded-lg p-6 w-96",children:[e.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"  "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1515,columnNumber:13},void 0),e.jsxDEV("input",{type:"text",value:Re,onChange:F=>Ke(F.target.value),onKeyDown:F=>{F.key==="Enter"&&se()},placeholder:": , 1, ",className:"input w-full mb-4",autoFocus:!0},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1516,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex justify-end gap-2",children:[e.jsxDEV("button",{onClick:()=>{Be(!1),Ke(""),qe(null)},className:"btn btn-outline",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1530,columnNumber:15},void 0),e.jsxDEV("button",{onClick:se,className:"btn btn-primary",disabled:!Re.trim(),children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1540,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1529,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1514,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1513,columnNumber:9},void 0),S&&j&&e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50 touch-none",onClick:K,onWheel:pt,onMouseMove:bt,onMouseUp:Ct,onMouseLeave:Ct,onTouchStart:N,onTouchMove:_,onTouchEnd:H,children:e.jsxDEV("div",{className:"relative w-full h-full p-4 md:p-8 flex items-center justify-center overflow-hidden",children:[e.jsxDEV("button",{onClick:K,className:"absolute top-4 right-4 w-10 h-10 bg-white bg-opacity-20 hover:bg-opacity-30 rounded-full flex items-center justify-center text-white transition-all z-10",children:e.jsxDEV(ft,{className:"w-6 h-6"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1570,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1566,columnNumber:13},void 0),e.jsxDEV("div",{className:"absolute top-4 left-4 bg-black bg-opacity-50 text-white text-xs px-3 py-2 rounded z-10",children:[e.jsxDEV("span",{className:"hidden md:inline",children:" : / | :  | : "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1575,columnNumber:15},void 0),e.jsxDEV("span",{className:"md:hidden",children:" : / | :  | : "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1576,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1574,columnNumber:13},void 0),xe!==1&&e.jsxDEV("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 bg-black bg-opacity-50 text-white text-sm px-3 py-1 rounded z-10",children:[Math.round(xe*100),"%"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1581,columnNumber:15},void 0),e.jsxDEV("img",{src:j,alt:" ",className:"object-contain select-none touch-none",style:{transform:`translate(${q.x}px, ${q.y}px) scale(${xe})`,cursor:z?"grabbing":"grab",transition:z?"none":"transform 0.1s ease-out",maxWidth:"100%",maxHeight:"100%"},onClick:F=>F.stopPropagation(),onMouseDown:dt,onDoubleClick:vt,draggable:!1},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1586,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1565,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1554,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:926,columnNumber:5},void 0)},gs={async getProjectLogs(s){try{return(await je.get(`/site-logs/project/${encodeURIComponent(s)}`)).data}catch(n){return console.error("Failed to get project logs:",n),[]}},async getAllLogs(){try{return(await je.get("/site-logs")).data}catch(s){return console.error("Failed to get all logs:",s),[]}},async createLog(s){try{return(await je.post("/site-logs",s)).data}catch(n){throw console.error("Failed to create log:",n),n}},async updateLog(s,n){try{return(await je.put(`/site-logs/${s}`,n)).data}catch(t){throw console.error("Failed to update log:",t),t}},async deleteLog(s){try{return(await je.delete(`/site-logs/${s}`)).data}catch(n){throw console.error("Failed to delete log:",n),n}},async getLogsByDateRange(s,n,t){try{return(await je.get("/site-logs/range",{params:{project:s,startDate:n.toISOString(),endDate:t.toISOString()}})).data}catch(r){return console.error("Failed to get logs by date range:",r),[]}}},Ab=()=>{const{user:s}=Qt(),n=fs(),[t,r]=l.useState(()=>localStorage.getItem("siteLog_includeCompleted")==="true"),i=t?n:n.filter(V=>V.status!=="completed"),[a,o]=l.useState([]),[m,d]=l.useState(""),c=l.useRef(null),[u,g]=l.useState(new Date),[b,p]=l.useState(!1),[w,k]=l.useState({show:!1,url:null}),[j,B]=l.useState(!1),[y,O]=l.useState(0),[ge,ee]=l.useState(new Date),[Y,de]=l.useState(1),[T,oe]=l.useState({x:0,y:0}),[re,Z]=l.useState(!1),[X,be]=l.useState({x:0,y:0}),[we,Me]=l.useState(null),[Ve,Ee]=l.useState(null),[_e,Ue]=l.useState(!1),[Oe,fe]=l.useState(0),[He,De]=l.useState(null),[Be,Re]=l.useState({notes:"",images:[]}),[Ke,ze]=l.useState(()=>{const V=localStorage.getItem("siteLogNotes");return V?JSON.parse(V):{}});l.useRef(null);const[qe,S]=l.useState(null);l.useRef(null);const[ue,xe]=l.useState(!1),[te,q]=l.useState("saved"),G=l.useRef([]);l.useEffect(()=>{G.current=a},[a]),l.useEffect(()=>{localStorage.setItem("siteLogNotes",JSON.stringify(Ke))},[Ke]),l.useEffect(()=>{localStorage.setItem("siteLog_includeCompleted",String(t))},[t]),l.useEffect(()=>{if(i.length>0&&!m){const V=`siteLog_lastProject_${(s==null?void 0:s.id)||(s==null?void 0:s.name)}`,h=localStorage.getItem(V);h&&i.find(M=>M.name===h)?d(h):d(i[0].name)}},[i,s]),l.useEffect(()=>{if(m&&s){const V=`siteLog_lastProject_${s.id||s.name}`;localStorage.setItem(V,m)}},[m,s]),l.useEffect(()=>()=>{c.current&&clearTimeout(c.current)},[]),l.useEffect(()=>{z()},[m]),l.useEffect(()=>{const V=Le(u,"yyyy-MM-dd"),h=`${m}_${V}`,M=Ke[h];Re(M!==void 0?ke=>({...ke,notes:M}):ke=>({...ke,notes:""})),q("saved")},[u,m]),l.useEffect(()=>{if(a.length===0)return;const V=Le(u,"yyyy-MM-dd"),h=`${m}_${V}`;if(Ke[h]!==void 0)return;const M=a.find(ke=>{try{const Ce=ke.date?new Date(ke.date):null;return Ce&&!isNaN(Ce.getTime())&&Le(Ce,"yyyy-MM-dd")===V&&ke.project===m}catch{return!1}});M&&M.notes&&(Re(ke=>({...ke,notes:M.notes||""})),ze(ke=>({...ke,[h]:M.notes||""})))},[a,u,m]);const z=async()=>{if(m)try{const V=await gs.getProjectLogs(m);o(V.map(h=>({...h,id:h._id||h.id,date:h.date?new Date(h.date):new Date,createdAt:h.created_at?new Date(h.created_at):new Date})))}catch(V){console.error("Failed to load site logs:",V),o([])}},ye=(V,h=1920,M=1080,ke=.8)=>new Promise((Ce,Te)=>{const Fe=new FileReader;Fe.onload=at=>{var Ze;const et=new Image;et.onload=()=>{const ct=document.createElement("canvas");let Nt=et.width,ut=et.height;if(Nt>h||ut>M){const dt=Math.min(h/Nt,M/ut);Nt*=dt,ut*=dt}ct.width=Nt,ct.height=ut;const pt=ct.getContext("2d");if(!pt){Te(new Error("Canvas context not available"));return}pt.drawImage(et,0,0,Nt,ut),ct.toBlob(dt=>{if(!dt){Te(new Error("Failed to compress image"));return}const bt=new FileReader;bt.onload=()=>Ce(bt.result),bt.readAsDataURL(dt)},V.type,ke)},et.src=(Ze=at.target)==null?void 0:Ze.result},Fe.readAsDataURL(V)}),Se=l.useCallback(async V=>{const M=Array.from(V).filter(Ce=>Ce.type.startsWith("image/"));if(M.length===0){R.error("   ");return}if(M.length>100){R.error("  100  ");return}if(!m){R.error(" ");return}B(!0),R.loading(`${M.length}  ...`);const ke=M.map(Ce=>ye(Ce));try{const Ce=await Promise.all(ke),Te=Le(u,"yyyy-MM-dd"),Fe=a.find(Ze=>{try{const ct=Ze.date?new Date(Ze.date):null;return ct&&!isNaN(ct.getTime())&&Le(ct,"yyyy-MM-dd")===Te&&Ze.project===m}catch{return!1}}),at=20,et=[];for(let Ze=0;Ze<Ce.length;Ze+=at)et.push(Ce.slice(Ze,Ze+at));if(R.dismiss(),Fe){let Ze=[...Fe.images];for(let ct=0;ct<et.length;ct++)R.loading(`  ... (${ct+1}/${et.length})`),Ze=[...Ze,...et[ct]],await gs.updateLog(Fe.id,{project:Fe.project,date:Fe.date,images:Ze,notes:Fe.notes||""}),R.dismiss();R.success(`${Ce.length}  `)}else{R.loading(`  ... (1/${et.length})`);const Ze={project:m,date:u,images:et[0],notes:"",createdBy:(s==null?void 0:s.name)||""},ct=await gs.createLog(Ze);if(R.dismiss(),et.length>1){let Nt=[...et[0]];for(let ut=1;ut<et.length;ut++)R.loading(`  ... (${ut+1}/${et.length})`),Nt=[...Nt,...et[ut]],await gs.updateLog(ct._id||ct.id,{project:m,date:u,images:Nt,notes:""}),R.dismiss()}R.success(`${Ce.length}  `)}await z()}catch(Ce){console.error("Failed to save images:",Ce),R.error("  ")}finally{B(!1)}},[m,u,s,a,z]),I=l.useCallback(V=>{V.preventDefault(),Se(V.dataTransfer.files)},[Se]);l.useEffect(()=>{const V=h=>{var Te;const M=(Te=h.clipboardData)==null?void 0:Te.items;if(!M)return;const ke=Array.from(M).filter(Fe=>Fe.type.startsWith("image/"));if(ke.length===0)return;h.preventDefault();const Ce=ke.map(Fe=>Fe.getAsFile()).filter(Boolean);Se(Ce)};return document.addEventListener("paste",V),()=>document.removeEventListener("paste",V)},[Se]),l.useCallback(async V=>{if(!(!m||!V))try{const h=Le(u,"yyyy-MM-dd"),M=a.find(ke=>{try{const Ce=ke.date?new Date(ke.date):null;return Ce&&!isNaN(Ce.getTime())&&Le(Ce,"yyyy-MM-dd")===h&&ke.project===m}catch{return!1}});if(M)await gs.updateLog(M.id,{project:M.project,date:M.date,images:M.images,notes:V});else{const ke={project:m,date:u,images:Be.images,notes:V,createdBy:(s==null?void 0:s.name)||""};await gs.createLog(ke)}await z()}catch(h){console.error("Failed to auto-save site log:",h)}},[m,u,a,Be.images,s,z]);const ae=async V=>{if(window.confirm("  ?"))try{await gs.deleteLog(V),R.success(" "),await z()}catch(h){console.error("Failed to delete site log:",h),R.error("  ")}},E=async(V,h)=>{if(!window.confirm("  ?"))return;const M=a.find(ke=>ke.id===V);if(M)try{const ke=M.images.filter((Ce,Te)=>Te!==h);ke.length===0&&!M.notes?await ae(V):(await gs.updateLog(V,{project:M.project,date:M.date,images:ke,notes:M.notes}),o(Ce=>Ce.map(Te=>Te.id===V?{...Te,images:ke}:Te)),R.success(" "))}catch(ke){console.error("Failed to delete image:",ke),R.error("  ")}},W=()=>{const V=ge.getFullYear(),h=ge.getMonth(),M=new Date(V,h,1),ke=new Date(M);ke.setDate(ke.getDate()-M.getDay());const Ce=[],Te=new Date(ke);for(let Fe=0;Fe<42;Fe++){const at=a.filter(et=>{try{const Ze=et.date?new Date(et.date):null;return Ze&&!isNaN(Ze.getTime())&&Le(Ze,"yyyy-MM-dd")===Le(Te,"yyyy-MM-dd")}catch{return!1}});Ce.push({date:new Date(Te),logs:at,hasImages:at.some(et=>et.images&&et.images.length>0)}),Te.setDate(Te.getDate()+1)}return Ce},J=V=>{const h=new Date(ge);h.setMonth(h.getMonth()+V),ee(h)},pe=a.reduce((V,h)=>{try{const M=h.date?new Date(h.date):null;if(M&&!isNaN(M.getTime())){const ke=Le(M,"yyyy-MM-dd");V[ke]||(V[ke]=[]),V[ke].push(h)}}catch{}return V},{});Object.keys(pe).sort((V,h)=>h.localeCompare(V));const ve=(V,h)=>{const M=V.clientX-h.clientX,ke=V.clientY-h.clientY;return Math.sqrt(M*M+ke*ke)},P=(V,h)=>({x:(V.clientX+h.clientX)/2,y:(V.clientY+h.clientY)/2}),C=(V,h=0)=>{k({show:!0,url:V[h],images:V}),O(h),de(1),oe({x:0,y:0}),Me(null),Ee(null),Ue(!1)},L=V=>{if(!w.images)return;const h=(y+V+w.images.length)%w.images.length;O(h),k(M=>({...M,url:w.images[h]}))},f=async(V,h)=>{const M=a.find(ke=>ke.id===V);if(M)try{const ke={...M,images:[...M.images,...h]};await gs.updateLog(V,{project:M.project,date:M.date,images:ke.images,notes:M.notes}),o(Ce=>Ce.map(Te=>Te.id===V?ke:Te)),R.success(`${h.length}  `),S(null)}catch(ke){console.error("Failed to add images to log:",ke),R.error("  ")}};return l.useCallback((V,h)=>{const ke=Array.from(h).filter(Te=>Te.type.startsWith("image/"));if(ke.length===0){R.error("   ");return}const Ce=ke.map(Te=>new Promise(Fe=>{const at=new FileReader;at.onload=et=>{var Ze;Fe((Ze=et.target)==null?void 0:Ze.result)},at.readAsDataURL(Te)}));Promise.all(Ce).then(Te=>{f(V,Te)})},[a]),l.useEffect(()=>{const V=h=>{if(w.show)switch(h.key){case"ArrowLeft":h.preventDefault(),w.images&&w.images.length>1&&L(-1);break;case"ArrowRight":h.preventDefault(),w.images&&w.images.length>1&&L(1);break;case"Escape":h.preventDefault(),k({show:!1,url:null});break}};return window.addEventListener("keydown",V),()=>window.removeEventListener("keydown",V)},[w.show,w.images,y]),e.jsxDEV("div",{className:"site-log-container desktop:grid desktop:grid-cols-12 desktop:gap-4 desktop:h-[calc(100vh-140px)] space-y-3 desktop:space-y-0",children:[e.jsxDEV("div",{className:"desktop:hidden flex justify-end items-center gap-2 mb-2",children:[e.jsxDEV("label",{className:"flex items-center gap-1 text-[10px] text-gray-500",children:[e.jsxDEV("input",{type:"checkbox",checked:t,onChange:V=>r(V.target.checked),className:"w-3 h-3 rounded border-gray-300"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:715,columnNumber:11},void 0),""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:714,columnNumber:9},void 0),e.jsxDEV("select",{value:m,onChange:V=>d(V.target.value),className:"px-3 py-1.5 bg-white text-gray-700 rounded-lg text-xs font-medium focus:outline-none focus:ring-2 focus:ring-gray-300 border border-gray-300",style:{appearance:"none",backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%236b7280'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 0.5rem center",backgroundSize:"1.25rem",paddingRight:"2.5rem"},children:i.map(V=>e.jsxDEV("option",{value:V.name,children:V.name},V.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:737,columnNumber:13},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:723,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:713,columnNumber:7},void 0),e.jsxDEV("div",{className:"site-log-left desktop:col-span-4 desktop:flex desktop:flex-col desktop:gap-4 desktop:h-full space-y-3 desktop:space-y-0",children:[e.jsxDEV("div",{className:"site-log-calendar desktop:flex-shrink-0",children:e.jsxDEV("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-3 md:p-4 max-h-[32vh] desktop:max-h-full overflow-y-auto",children:[e.jsxDEV("div",{className:"mb-4 hidden desktop:block",children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:e.jsxDEV("select",{value:m,onChange:V=>d(V.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",children:i.map(V=>e.jsxDEV("option",{value:V.name,children:V.name},V.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:759,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:753,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:752,columnNumber:15},void 0),e.jsxDEV("label",{className:"flex items-center gap-1.5 mt-2 text-xs text-gray-500 cursor-pointer",children:[e.jsxDEV("input",{type:"checkbox",checked:t,onChange:V=>r(V.target.checked),className:"w-3.5 h-3.5 rounded border-gray-300"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:766,columnNumber:17},void 0),"  "]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:765,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:751,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex items-center justify-between mb-3",children:[e.jsxDEV("button",{onClick:()=>J(-1),className:"p-1.5 hover:bg-gray-100 rounded transition-colors",children:e.jsxDEV(No,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:782,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:778,columnNumber:15},void 0),e.jsxDEV("h3",{className:"text-sm font-semibold",children:Le(ge,"yyyy M")},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:784,columnNumber:15},void 0),e.jsxDEV("button",{onClick:()=>J(1),className:"p-1.5 hover:bg-gray-100 rounded transition-colors",children:e.jsxDEV(bo,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:791,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:787,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:777,columnNumber:13},void 0),e.jsxDEV("div",{className:"grid grid-cols-7 gap-0.5",children:[["","","","","","",""].map(V=>e.jsxDEV("div",{className:"text-center text-xs font-medium text-gray-600 py-1",children:V},V,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:798,columnNumber:17},void 0)),W().map((V,h)=>{const M=V.date.getMonth()===ge.getMonth(),ke=Le(V.date,"yyyy-MM-dd")===Le(new Date,"yyyy-MM-dd"),Ce=Le(V.date,"yyyy-MM-dd")===Le(u,"yyyy-MM-dd");return e.jsxDEV("div",{onClick:()=>g(V.date),className:`text-center p-1.5 desktop:p-2 text-xs cursor-pointer rounded transition-colors min-h-[36px] desktop:min-h-[48px] flex flex-col items-center justify-center ${M?"text-gray-700":"text-gray-300"} ${ke?"bg-blue-100":""} ${Ce?"bg-gray-900 text-white":"hover:bg-gray-100"} ${V.hasImages?"font-bold":""}`,children:[e.jsxDEV("span",{children:Le(V.date,"d")},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:817,columnNumber:21},void 0),V.hasImages&&e.jsxDEV("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full mt-0.5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:819,columnNumber:23},void 0)]},h,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:808,columnNumber:19},void 0)})]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:796,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:749,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:747,columnNumber:9},void 0),e.jsxDEV("div",{className:"site-log-notes desktop:flex-1 desktop:min-h-0",children:e.jsxDEV("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-3 md:p-4 max-h-[30vh] desktop:h-full desktop:flex desktop:flex-col overflow-hidden",children:[e.jsxDEV("h2",{className:"text-lg font-semibold mb-4 flex-shrink-0",children:[Le(u,"M d"),"  "]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:831,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex-1 min-h-0 flex flex-col",children:e.jsxDEV("textarea",{value:Be.notes,onChange:V=>{const h=V.target.value,M=Le(u,"yyyy-MM-dd"),ke=`${m}_${M}`;Re(Ce=>({...Ce,notes:h})),ze(Ce=>({...Ce,[ke]:h})),c.current&&clearTimeout(c.current),c.current=setTimeout(async()=>{if(m)try{const Ce=G.current.find(Te=>{try{const Fe=Te.date?new Date(Te.date):null;return Fe&&!isNaN(Fe.getTime())&&Le(Fe,"yyyy-MM-dd")===M&&Te.project===m}catch{return!1}});if(Ce)await gs.updateLog(Ce.id,{project:Ce.project,date:Ce.date,images:Ce.images,notes:h});else if(h.trim()){const Te=await gs.createLog({project:m,date:u,images:Be.images,notes:h,createdBy:(s==null?void 0:s.name)||""});Te&&o(Fe=>[...Fe,{id:Te._id||Te.id,project:m,date:u,images:Be.images,notes:h,createdBy:(s==null?void 0:s.name)||"",createdAt:new Date}])}}catch(Ce){console.error("  :",Ce)}},500)},rows:4,className:"site-log-textarea w-full h-full flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 resize-none desktop:min-h-[200px]",placeholder:"    "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:837,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:835,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:830,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:829,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:745,columnNumber:7},void 0),e.jsxDEV("div",{className:"site-log-photos desktop:col-span-8 desktop:h-full",children:e.jsxDEV("div",{className:`bg-white rounded-lg shadow-sm border border-gray-200 p-3 md:p-4 transition-all desktop:h-full desktop:flex desktop:flex-col ${b?"ring-2 ring-blue-400 bg-blue-50":""}`,onDragOver:V=>{V.preventDefault(),p(!0)},onDragLeave:V=>{V.currentTarget.contains(V.relatedTarget)||p(!1)},onDrop:V=>{V.preventDefault(),p(!1),I(V)},children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-4 desktop:flex-shrink-0",children:[e.jsxDEV("h2",{className:"text-lg font-semibold flex items-center gap-4",children:e.jsxDEV("span",{className:"text-sm font-normal text-gray-600",children:[": ",(s==null?void 0:s.name)||"  "]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:937,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:936,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("button",{onClick:()=>{const V=document.createElement("input");V.type="file",V.multiple=!0,V.accept="image/*",V.onchange=h=>{const M=h.target;M.files&&Se(M.files)},V.click()},className:"p-1.5 hover:bg-gray-200 rounded transition-colors",title:" ",children:e.jsxDEV(_s,{className:"h-5 w-5 text-gray-600"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:957,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:940,columnNumber:15},void 0),e.jsxDEV("button",{onClick:()=>{const V=Le(u,"yyyy-MM-dd"),h=a.filter(M=>{try{const ke=M.date?new Date(M.date):null;return ke&&!isNaN(ke.getTime())&&Le(ke,"yyyy-MM-dd")===V}catch{return!1}});h.length>0&&window.confirm(`${Le(u,"M d")}   ?`)&&h.forEach(M=>ae(M.id))},className:"p-1.5 hover:bg-gray-200 rounded transition-colors",title:" ",children:e.jsxDEV(Vt,{className:"h-5 w-5 text-red-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:978,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:959,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:939,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:935,columnNumber:11},void 0),e.jsxDEV("div",{className:"space-y-6 max-h-[990px] desktop:max-h-full desktop:flex-1 desktop:min-h-0 overflow-y-auto",children:(()=>{const V=Le(u,"yyyy-MM-dd"),h=a.filter(M=>{try{const ke=M.date?new Date(M.date):null;return ke&&!isNaN(ke.getTime())&&Le(ke,"yyyy-MM-dd")===V}catch{return!1}});return h.length>0?e.jsxDEV("div",{className:"space-y-4",children:h.map(M=>e.jsxDEV("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:[M.notes&&e.jsxDEV("div",{className:"mb-3",children:e.jsxDEV("p",{className:"text-sm text-gray-700",children:M.notes},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1006,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1005,columnNumber:27},void 0),e.jsxDEV("div",{className:"min-h-[600px] desktop:min-h-0",children:M.images&&M.images.length>0?e.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-3 desktop:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6 gap-3",children:M.images.map((ke,Ce)=>e.jsxDEV("div",{className:"relative group",children:[e.jsxDEV("img",{src:ke,alt:` ${Ce+1}`,className:"w-full aspect-[4/3] object-cover rounded-lg cursor-pointer hover:opacity-95 transition-opacity",onClick:()=>C(M.images,Ce)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1016,columnNumber:35},void 0),e.jsxDEV("button",{onClick:()=>C(M.images,Ce),className:"absolute top-2 right-2 p-1.5 bg-black bg-opacity-50 text-white rounded-lg opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsxDEV(Bc,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1026,columnNumber:37},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1022,columnNumber:35},void 0),e.jsxDEV("button",{onClick:Te=>{Te.stopPropagation(),E(M.id,Ce)},className:"absolute top-2 left-2 p-1.5 bg-red-600 bg-opacity-80 text-white rounded-lg opacity-0 group-hover:opacity-100 transition-opacity hover:bg-opacity-100",children:e.jsxDEV(Vt,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1035,columnNumber:37},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1028,columnNumber:35},void 0),e.jsxDEV("div",{className:"absolute bottom-2 left-2 bg-black bg-opacity-50 text-white text-xs px-2 py-1 rounded",children:[Ce+1," / ",M.images.length]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1037,columnNumber:35},void 0)]},Ce,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1015,columnNumber:33},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1013,columnNumber:29},void 0):e.jsxDEV("div",{className:"flex items-center justify-center h-[600px]",children:e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV(Ls,{className:"h-8 w-8 text-gray-300 mx-auto mb-2"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1046,columnNumber:33},void 0),e.jsxDEV("p",{className:"text-sm text-gray-400",children:"  +  "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1047,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1045,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1044,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1011,columnNumber:25},void 0)]},M.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1e3,columnNumber:23},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:998,columnNumber:19},void 0):e.jsxDEV("div",{children:e.jsxDEV("div",{className:"rounded-lg p-4 pt-2 desktop:p-12 text-center",children:[e.jsxDEV(Uc,{className:"mx-auto h-12 w-12 desktop:h-16 desktop:w-16 text-gray-400 mb-2 desktop:mb-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1063,columnNumber:23},void 0),e.jsxDEV("p",{className:"text-sm desktop:text-lg font-medium text-gray-700 mb-2",children:"  "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1064,columnNumber:23},void 0),e.jsxDEV("p",{className:"hidden desktop:block text-sm text-gray-600 mb-4",children:"    "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1067,columnNumber:23},void 0),e.jsxDEV("p",{className:"hidden desktop:block text-xs text-gray-500 mb-4",children:"Ctrl+V    "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1070,columnNumber:23},void 0),e.jsxDEV("input",{type:"file",multiple:!0,accept:"image/*",onChange:M=>M.target.files&&Se(M.target.files),className:"hidden",id:"main-image-upload"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1073,columnNumber:23},void 0),e.jsxDEV("label",{htmlFor:"main-image-upload",className:"inline-flex items-center px-3 py-1.5 desktop:px-4 desktop:py-2 border border-gray-300 rounded-lg text-xs desktop:text-sm text-gray-700 bg-white hover:bg-gray-50 cursor-pointer",children:[e.jsxDEV(Ls,{className:"h-3 w-3 desktop:h-4 desktop:w-4 mr-1.5 desktop:mr-2"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1085,columnNumber:25},void 0)," "]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1081,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1060,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1058,columnNumber:19},void 0)})()},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:983,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:915,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:914,columnNumber:7},void 0),w.show&&w.url&&e.jsxDEV("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-90 flex items-center justify-center overflow-hidden",onClick:()=>{k({show:!1,url:null}),de(1),oe({x:0,y:0})},onWheel:V=>{V.preventDefault();const h=V.deltaY>0?-.1:.1;de(M=>Math.max(.5,Math.min(5,M+h)))},children:e.jsxDEV("div",{className:"relative w-full h-full flex items-center justify-center p-4",children:[e.jsxDEV("button",{onClick:V=>{V.stopPropagation(),k({show:!1,url:null}),de(1),oe({x:0,y:0})},className:"absolute top-4 right-4 p-2 bg-white bg-opacity-20 backdrop-blur rounded-full hover:bg-opacity-30 z-10",children:e.jsxDEV(ft,{className:"h-6 w-6 text-white"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1123,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1114,columnNumber:13},void 0),Y!==1&&e.jsxDEV("div",{className:"absolute top-4 left-4 bg-white bg-opacity-20 text-white px-3 py-2 rounded-lg text-sm backdrop-blur",children:[Math.round(Y*100),"%"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1128,columnNumber:15},void 0),w.images&&w.images.length>1&&e.jsxDEV("button",{onClick:V=>{V.stopPropagation(),L(-1),de(1),oe({x:0,y:0})},className:"absolute left-4 p-3 bg-white bg-opacity-20 backdrop-blur rounded-full hover:bg-opacity-30",children:e.jsxDEV(No,{className:"h-6 w-6 text-white"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1144,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1135,columnNumber:15},void 0),e.jsxDEV("div",{className:"w-full h-full flex items-center justify-center",onMouseDown:V=>{Y>1&&(Z(!0),be({x:V.clientX-T.x,y:V.clientY-T.y}))},onMouseMove:V=>{re&&Y>1&&oe({x:V.clientX-X.x,y:V.clientY-X.y})},onMouseUp:()=>Z(!1),onMouseLeave:()=>Z(!1),onTouchStart:V=>{if(V.touches.length===2){V.preventDefault(),Ue(!0);const h=ve(V.touches[0],V.touches[1]),M=P(V.touches[0],V.touches[1]);Me(h),Ee(M)}else if(V.touches.length===1&&Y>1&&!_e){const h=V.touches[0];be({x:h.clientX-T.x,y:h.clientY-T.y})}},onTouchMove:V=>{if(V.touches.length===2){V.preventDefault(),Ue(!0);const h=ve(V.touches[0],V.touches[1]),M=P(V.touches[0],V.touches[1]);if(we&&Ve){const ke=h/we,Ce=Math.max(.5,Math.min(5,Y*ke)),Te=M.x-Ve.x,Fe=M.y-Ve.y,at=Ce/Y,et=T.x*at+Te,Ze=T.y*at+Fe;de(Ce),oe({x:et,y:Ze})}Me(h),Ee(M)}else if(V.touches.length===1&&Y>1&&!_e){V.preventDefault();const h=V.touches[0];oe({x:h.clientX-X.x,y:h.clientY-X.y})}},onTouchEnd:V=>{if(V.touches.length===0){const h=Date.now(),M=V.changedTouches[0],ke={x:M.clientX,y:M.clientY};if(h-Oe<300&&He&&Math.abs(ke.x-He.x)<30&&Math.abs(ke.y-He.y)<30&&!_e){if(Y===1){const Fe=V.currentTarget.getBoundingClientRect(),at=ke.x-Fe.left-Fe.width/2,et=ke.y-Fe.top-Fe.height/2;de(2.5),oe({x:-at*1.5,y:-et*1.5})}else de(1),oe({x:0,y:0});fe(0),De(null)}else fe(h),De(ke);Me(null),Ee(null),Ue(!1)}else if(V.touches.length===1&&_e){Me(null),Ee(null),Ue(!1);const h=V.touches[0];be({x:h.clientX-T.x,y:h.clientY-T.y})}},onDoubleClick:V=>{V.stopPropagation();const h=V.currentTarget.getBoundingClientRect(),M=V.clientX-h.left-h.width/2,ke=V.clientY-h.top-h.height/2;Y===1?(de(2.5),oe({x:-M*1.5,y:-ke*1.5})):(de(1),oe({x:0,y:0}))},children:e.jsxDEV("img",{src:w.url,alt:" ",style:{transform:`scale(${Y}) translate(${T.x/Y}px, ${T.y/Y}px)`,transformOrigin:"center center",transition:re||we!==null?"none":"transform 0.25s cubic-bezier(0.2, 0, 0, 1)",maxWidth:"100%",maxHeight:"100%",objectFit:"contain",cursor:Y>1?re?"grabbing":"grab":"pointer",userSelect:"none",touchAction:"none"},draggable:!1,onClick:V=>V.stopPropagation()},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1287,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1149,columnNumber:13},void 0),w.images&&w.images.length>1&&e.jsxDEV("button",{onClick:V=>{V.stopPropagation(),L(1),de(1),oe({x:0,y:0})},className:"absolute right-4 p-3 bg-white bg-opacity-20 backdrop-blur rounded-full hover:bg-opacity-30",children:e.jsxDEV(bo,{className:"h-6 w-6 text-white"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1317,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1308,columnNumber:15},void 0),w.images&&w.images.length>1&&e.jsxDEV("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 bg-black bg-opacity-50 text-white px-3 py-1 rounded-full",children:[y+1," / ",w.images.length]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1323,columnNumber:15},void 0),e.jsxDEV("div",{className:"absolute bottom-4 right-4 bg-white bg-opacity-10 text-white px-3 py-2 rounded-lg text-xs text-center backdrop-blur",children:"     /"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1329,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1112,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1099,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:711,columnNumber:5},void 0)},lm=["","","","","","",""],wb=()=>{const{user:s}=Qt(),n=fs(),{asRequests:t,loadASRequestsFromAPI:r,addASRequestToAPI:i,updateASRequestInAPI:a,deleteASRequestFromAPI:o}=vs(),m=n.map(P=>P.name),d=(s==null?void 0:s.name)===""?t.filter(P=>m.includes(P.project)):t,[c,u]=l.useState(null),[g,b]=l.useState("active"),[p,w]=l.useState(null),k=l.useRef(null),[j,B]=l.useState(null),[y,O]=l.useState(!1),[ge,ee]=l.useState(!1),[Y,de]=l.useState(""),[T,oe]=l.useState(!1),[re,Z]=l.useState(!1),{register:X,handleSubmit:be,setValue:we,reset:Me,formState:{errors:Ve}}=pr(),[Ee,_e]=l.useState([]),[Ue,Oe]=l.useState(""),[fe,He]=l.useState(""),[De,Be]=l.useState(9),[Re,Ke]=l.useState(0),ze=n.filter(P=>P.status==="completed");l.useEffect(()=>{r().catch(P=>{console.error("Failed to load AS requests:",P),R.error("AS    ")})},[r]),l.useEffect(()=>{if(c){if(we("project",c.project),we("client",c.client),we("siteAddress",c.siteAddress),we("description",c.description),c.requestDate&&we("requestDate",new Date(c.requestDate).toISOString().split("T")[0]),c.scheduledVisitDate&&we("scheduledVisitDate",new Date(c.scheduledVisitDate).toISOString().split("T")[0]),c.scheduledVisitTime){const[P,C]=c.scheduledVisitTime.split(":"),L=parseInt(P,10),f=parseInt(C,10);L>=12?(He(""),Be(L===12?12:L-12)):(He(""),Be(L===0?12:L)),Ke(f)}_e(c.assignedTo||[])}else Me(),_e([]),He(""),Be(9),Ke(0),Oe("")},[c,we,Me]),l.useEffect(()=>{var P,C;p&&k.current&&((C=(P=k.current).showPicker)==null||C.call(P))},[p]),l.useEffect(()=>{const P=()=>{oe(C=>{const L=!C;return window.dispatchEvent(new CustomEvent("mobileFormStateChange",{detail:{isOpen:L}})),L})};return window.addEventListener("headerAddButtonClick",P),()=>window.removeEventListener("headerAddButtonClick",P)},[]),l.useEffect(()=>{window.dispatchEvent(new CustomEvent("mobileFormStateChange",{detail:{isOpen:T}}))},[T]);const qe=()=>{u(null),Me(),_e([]),He(""),Be(9),Ke(0),Oe("")},S=async P=>{if(!re){Z(!0);try{let C;if(P.scheduledVisitDate){let f=De;fe===""&&De!==12?f=De+12:fe===""&&De===12&&(f=0),C=`${f.toString().padStart(2,"0")}:${Re.toString().padStart(2,"0")}`}const L={...P,requestDate:new Date(P.requestDate),scheduledVisitDate:P.scheduledVisitDate?new Date(P.scheduledVisitDate):void 0,scheduledVisitTime:C,assignedTo:Ee};if(c)await a(c.id,L),R.success("AS  ");else{const f={id:"",...L};await i(f),R.success("AS  ")}qe()}catch(C){console.error("Failed to save AS request:",C),R.error("AS   ")}finally{Z(!1)}}},ue=P=>{_e(C=>C.includes(P)?C.filter(L=>L!==P):[...C,P])},xe=()=>{Ue.trim()&&!Ee.includes(Ue.trim())&&(_e(P=>[...P,Ue.trim()]),Oe(""))},te=P=>{_e(C=>C.filter(L=>L!==P))},q=P=>{u(P),window.scrollTo({top:0,behavior:"smooth"})},G=async(P,C)=>{if(window.confirm(`"${C}" AS  ?

    .`))try{await o(P),R.success("AS  ")}catch(L){console.error("Failed to delete AS request:",L),R.error("AS   ")}},z=(P,C)=>{if(C==="scheduledVisitDate"){const L=t.find(V=>V.id===P);let f={period:"",hour:9,minute:0};if(L!=null&&L.scheduledVisitTime){const[V,h]=L.scheduledVisitTime.split(":"),M=parseInt(V,10),ke=parseInt(h,10);f={period:M>=12?"":"",hour:M===0?12:M>12?M-12:M,minute:ke}}w({requestId:P,field:C,time:f})}else w({requestId:P,field:C})},ye=async(P,C)=>{if(!p)return;const L=new Date(P);if(!isNaN(L.getTime()))try{const f={[p.field]:L};if(p.field==="scheduledVisitDate"&&C){let V=C.hour;C.period===""&&C.hour!==12?V=C.hour+12:C.period===""&&C.hour===12&&(V=0),f.scheduledVisitTime=`${V.toString().padStart(2,"0")}:${C.minute.toString().padStart(2,"0")}`}await a(p.requestId,f),w(null)}catch(f){console.error("Failed to update date:",f),R.error("  "),w(null)}},Se=l.useCallback(P=>{var L;const C=(L=P.clipboardData)==null?void 0:L.items;if(C){for(let f=0;f<C.length;f++)if(C[f].type.indexOf("image")!==-1){P.preventDefault();const V=C[f].getAsFile();if(V){const h=new FileReader;h.onload=M=>{var Te,Fe;const ke=(Te=M.target)==null?void 0:Te.result,Ce=j||((Fe=P.target.closest("[data-request-id]"))==null?void 0:Fe.getAttribute("data-request-id"));if(Ce){const at=d.find(et=>et.id===Ce);if(at){const et=[...at.images||[],ke];a(Ce,{images:et}),R.success(" ")}}else R.error("AS     ")},h.readAsDataURL(V)}}}},[j,d,a]);l.useEffect(()=>(document.addEventListener("paste",Se),()=>document.removeEventListener("paste",Se)),[Se]);const I=P=>{de(P),ee(!0)},ae=(P,C)=>{P.preventDefault(),P.stopPropagation(),C&&O(!0)},E=P=>{P.preventDefault(),P.stopPropagation(),O(!1)},W=(P,C)=>{P.preventDefault(),P.stopPropagation(),O(!1);const L=Array.from(P.dataTransfer.files),f=[],V=L.filter(h=>h.type.startsWith("image/"));if(V.length===0){R.error("   ");return}V.forEach(h=>{const M=new FileReader;M.onload=ke=>{var Te;const Ce=(Te=ke.target)==null?void 0:Te.result;if(f.push(Ce),f.length===V.length){const Fe=d.find(at=>at.id===C);if(Fe){const at=[...Fe.images||[],...f];a(C,{images:at}),R.success(`${f.length}  `)}}},M.readAsDataURL(h)})},J=async(P,C)=>{try{const L={status:C};C==="completed"?L.completionDate=new Date:C==="pending"?L.completionDate=void 0:C==="revisit"&&(L.scheduledVisitDate=void 0,L.completionDate=void 0),await a(P,L);const f=C==="completed"?"AS ":C==="revisit"?" ":"";R.success(` "${f}" `)}catch(L){console.error("Failed to update status:",L),R.error("  ")}},pe=P=>{const C={pending:{label:"",color:"bg-gray-100 text-gray-700 border-gray-300"},completed:{label:"AS ",color:"bg-green-100 text-green-700 border-green-300"},revisit:{label:"",color:"bg-orange-100 text-orange-700 border-orange-300"}},L=C[P]||C.pending;return e.jsxDEV("span",{className:`px-2 py-1 text-xs font-medium border rounded ${L.color}`,children:L.label},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:402,columnNumber:7},void 0)},ve=d.filter(P=>g==="completed"?P.status==="completed":P.status!=="completed");return e.jsxDEV("div",{className:"as-container grid grid-cols-1 lg:grid-cols-5 gap-4",children:[e.jsxDEV("div",{className:`as-form lg:col-span-1 ${T?"block":"hidden lg:block"}`,children:e.jsxDEV("div",{className:"card p-4 sticky top-4",children:e.jsxDEV("form",{onSubmit:be(S),className:"space-y-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("select",{...X("project",{required:" "}),className:"input text-sm",onChange:P=>{const C=ze.find(L=>L.name===P.target.value);C&&(we("client",C.client),we("siteAddress",C.location))},children:[e.jsxDEV("option",{value:"",children:"  ( )"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:435,columnNumber:17},void 0),ze.map(P=>e.jsxDEV("option",{value:P.name,children:P.name},P.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:437,columnNumber:19},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:424,columnNumber:15},void 0),Ve.project&&e.jsxDEV("p",{className:"mt-1 text-xs text-red-600",children:String(Ve.project.message)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:443,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:423,columnNumber:13},void 0),e.jsxDEV("input",{type:"hidden",...X("client")},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:448,columnNumber:13},void 0),e.jsxDEV("input",{type:"hidden",...X("siteAddress")},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:449,columnNumber:13},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:452,columnNumber:15},void 0),e.jsxDEV("textarea",{...X("description"),rows:3,className:"input text-sm"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:455,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:451,columnNumber:13},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" (  )"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:464,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex flex-wrap gap-1.5 mb-2",children:[lm.map(P=>e.jsxDEV("button",{type:"button",onClick:()=>ue(P),className:`px-2.5 py-1.5 rounded border transition-colors text-xs ${Ee.includes(P)?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:P},P,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:470,columnNumber:19},void 0)),Ee.filter(P=>!lm.includes(P)).map(P=>e.jsxDEV("button",{type:"button",onClick:()=>te(P),className:"px-2.5 py-1.5 rounded border transition-colors text-xs bg-gray-900 text-white border-gray-900 hover:bg-gray-800",children:[P," "]},P,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:487,columnNumber:21},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:468,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV("input",{type:"text",value:Ue,onChange:P=>Oe(P.target.value),onKeyPress:P=>{P.key==="Enter"&&(P.preventDefault(),xe())},placeholder:" ",className:"flex-1 px-2 py-1.5 border border-gray-300 rounded text-xs focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:500,columnNumber:17},void 0),e.jsxDEV("button",{type:"button",onClick:xe,className:"px-3 py-1.5 bg-gray-100 text-gray-700 rounded text-xs font-medium hover:bg-gray-200 transition-colors",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:513,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:499,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:463,columnNumber:13},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:526,columnNumber:17},void 0),e.jsxDEV("input",{...X("requestDate"),type:"date",className:"w-full px-2.5 py-2 text-xs bg-white text-gray-700 border border-gray-300 rounded hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500 transition-colors"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:529,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:525,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:537,columnNumber:17},void 0),e.jsxDEV("input",{...X("scheduledVisitDate"),type:"date",className:"w-full px-2.5 py-2 text-xs bg-white text-gray-700 border border-gray-300 rounded hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500 transition-colors"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:540,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:536,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:524,columnNumber:13},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:550,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("div",{className:"flex gap-1",children:[e.jsxDEV("button",{type:"button",onClick:()=>He(""),className:`px-2 py-1.5 text-xs rounded border transition-colors ${fe===""?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:555,columnNumber:19},void 0),e.jsxDEV("button",{type:"button",onClick:()=>He(""),className:`px-2 py-1.5 text-xs rounded border transition-colors ${fe===""?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:566,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:554,columnNumber:17},void 0),e.jsxDEV("select",{value:De,onChange:P=>Be(parseInt(P.target.value)),className:"px-2 py-1.5 text-xs border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-gray-500",children:[12,1,2,3,4,5,6,7,8,9,10,11].map(P=>e.jsxDEV("option",{value:P,children:[P,""]},P,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:585,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:579,columnNumber:17},void 0),e.jsxDEV("select",{value:Re,onChange:P=>Ke(parseInt(P.target.value)),className:"px-2 py-1.5 text-xs border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-gray-500",children:[0,10,20,30,40,50].map(P=>e.jsxDEV("option",{value:P,children:[P,""]},P,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:597,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:591,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:553,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:549,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex gap-2 pt-2",children:[c&&e.jsxDEV("button",{type:"button",onClick:qe,className:"flex-1 btn btn-outline text-sm py-2",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:608,columnNumber:17},void 0),e.jsxDEV("button",{type:"submit",disabled:re,className:"flex-1 btn btn-primary text-sm py-2 disabled:opacity-50",children:re?" ...":c?"":""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:616,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:606,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:421,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:420,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:419,columnNumber:7},void 0),e.jsxDEV("div",{className:"as-list lg:col-span-4 space-y-4",children:[e.jsxDEV("div",{className:"border-b border-gray-200",children:e.jsxDEV("nav",{className:"flex space-x-4 md:space-x-8",children:[e.jsxDEV("button",{onClick:()=>b("active"),className:`py-2 md:py-3 px-1 border-b-2 font-medium text-xs md:text-sm transition-colors whitespace-nowrap ${g==="active"?"border-gray-700 text-gray-700":"border-transparent text-gray-400 hover:text-gray-700 hover:border-gray-300"}`,children:["",e.jsxDEV("span",{className:`ml-1 md:ml-2 py-0.5 px-1.5 md:px-2 rounded-full text-[10px] md:text-xs font-semibold ${g==="active"?"bg-gray-700 text-white":"bg-gray-200 text-gray-600"}`,children:d.filter(P=>P.status!=="completed").length},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:642,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:633,columnNumber:13},void 0),e.jsxDEV("button",{onClick:()=>b("completed"),className:`py-2 md:py-3 px-1 border-b-2 font-medium text-xs md:text-sm transition-colors whitespace-nowrap ${g==="completed"?"border-gray-700 text-gray-700":"border-transparent text-gray-400 hover:text-gray-700 hover:border-gray-300"}`,children:["AS ",e.jsxDEV("span",{className:`ml-1 md:ml-2 py-0.5 px-1.5 md:px-2 rounded-full text-[10px] md:text-xs font-semibold ${g==="completed"?"bg-gray-700 text-white":"bg-gray-200 text-gray-600"}`,children:d.filter(P=>P.status==="completed").length},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:657,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:648,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:632,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:631,columnNumber:9},void 0),e.jsxDEV("div",{className:"as-cards grid grid-cols-1 md:grid-cols-2 gap-4",children:ve.map(P=>{var C,L,f,V;return e.jsxDEV("div",{"data-request-id":P.id,className:"card p-4 hover:border-gray-400 transition-colors",onDragOver:h=>ae(h,P.id),onDragLeave:E,onDrop:h=>W(h,P.id),children:[e.jsxDEV("div",{className:"flex items-start justify-between mb-3",children:[e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("div",{className:"flex items-center gap-2 mb-1",children:pe(P.status)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:679,columnNumber:19},void 0),e.jsxDEV("h3",{className:"font-bold text-base text-gray-900",children:P.project},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:682,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:678,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex items-center space-x-1",children:[e.jsxDEV("button",{onClick:()=>q(P),className:"text-gray-600 hover:text-gray-700 p-1",children:e.jsxDEV(Jr,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:689,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:685,columnNumber:19},void 0),e.jsxDEV("button",{onClick:()=>G(P.id,P.project),className:"text-rose-600 hover:text-rose-700 p-1",children:e.jsxDEV(Vt,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:695,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:691,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:684,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:677,columnNumber:15},void 0),e.jsxDEV("div",{className:"space-y-2 text-sm",children:[e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-xs text-gray-500",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:702,columnNumber:19},void 0),e.jsxDEV("p",{className:"text-gray-900 mt-0.5",children:P.siteAddress},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:703,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:701,columnNumber:17},void 0),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-xs text-gray-500",children:"AS "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:707,columnNumber:19},void 0),e.jsxDEV("p",{className:"text-gray-900 mt-0.5",children:P.description},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:708,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:706,columnNumber:17},void 0),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-xs text-gray-500",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:712,columnNumber:19},void 0),e.jsxDEV("p",{className:"text-gray-900 mt-0.5",children:P.assignedTo&&P.assignedTo.length>0?P.assignedTo.join(", "):""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:713,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:711,columnNumber:17},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 gap-2 pt-2",children:[e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-xs text-gray-500 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:722,columnNumber:21},void 0),e.jsxDEV("div",{className:"relative inline-block",children:[(p==null?void 0:p.requestId)===P.id&&(p==null?void 0:p.field)==="requestDate"&&e.jsxDEV("input",{ref:k,type:"date",defaultValue:Le(P.requestDate,"yyyy-MM-dd"),onChange:h=>ye(h.target.value),onBlur:()=>w(null),className:"absolute left-0 top-0 w-auto h-auto opacity-0 z-50",style:{pointerEvents:"auto"}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:725,columnNumber:25},void 0),e.jsxDEV("button",{onClick:()=>z(P.id,"requestDate"),className:"flex items-center space-x-1 text-xs text-gray-900 hover:text-gray-600 transition-colors",children:[e.jsxDEV(En,{className:"h-3 w-3"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:739,columnNumber:25},void 0),e.jsxDEV("span",{children:Le(P.requestDate,"MM.dd (eee)",{locale:kt})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:740,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:735,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:723,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:721,columnNumber:19},void 0),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-xs text-gray-500 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:746,columnNumber:21},void 0),e.jsxDEV("div",{className:"relative inline-block",children:[(p==null?void 0:p.requestId)===P.id&&(p==null?void 0:p.field)==="scheduledVisitDate"&&e.jsxDEV("div",{className:"absolute left-0 top-0 z-50 bg-white border border-gray-300 rounded-lg shadow-lg p-3",style:{minWidth:"280px"},children:e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:752,columnNumber:31},void 0),e.jsxDEV("input",{ref:k,type:"date",defaultValue:P.scheduledVisitDate?Le(P.scheduledVisitDate,"yyyy-MM-dd"):"",className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-gray-500",onChange:h=>{const M=h.target.value,ke=p.time||{period:"",hour:9,minute:0};ye(M,ke)}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:753,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:751,columnNumber:29},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:767,columnNumber:31},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("div",{className:"flex gap-1",children:[e.jsxDEV("button",{type:"button",onClick:()=>w(h=>h?{...h,time:{...h.time,period:""}}:null),className:`px-2 py-1 text-xs rounded border transition-colors ${((C=p==null?void 0:p.time)==null?void 0:C.period)===""?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:770,columnNumber:35},void 0),e.jsxDEV("button",{type:"button",onClick:()=>w(h=>h?{...h,time:{...h.time,period:""}}:null),className:`px-2 py-1 text-xs rounded border transition-colors ${((L=p==null?void 0:p.time)==null?void 0:L.period)===""?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:781,columnNumber:35},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:769,columnNumber:33},void 0),e.jsxDEV("select",{value:((f=p==null?void 0:p.time)==null?void 0:f.hour)||9,onChange:h=>w(M=>M?{...M,time:{...M.time,hour:parseInt(h.target.value)}}:null),className:"px-1 py-1 text-xs border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-gray-500",children:[12,1,2,3,4,5,6,7,8,9,10,11].map(h=>e.jsxDEV("option",{value:h,children:[h,""]},h,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:800,columnNumber:37},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:794,columnNumber:33},void 0),e.jsxDEV("select",{value:((V=p==null?void 0:p.time)==null?void 0:V.minute)||0,onChange:h=>w(M=>M?{...M,time:{...M.time,minute:parseInt(h.target.value)}}:null),className:"px-1 py-1 text-xs border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-gray-500",children:[0,10,20,30,40,50].map(h=>e.jsxDEV("option",{value:h,children:[h,""]},h,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:812,columnNumber:37},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:806,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:768,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:766,columnNumber:29},void 0),e.jsxDEV("div",{className:"flex justify-end gap-2 pt-2 border-t",children:[e.jsxDEV("button",{type:"button",onClick:()=>w(null),className:"px-3 py-1 text-xs bg-gray-200 text-gray-700 rounded hover:bg-gray-300",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:821,columnNumber:31},void 0),e.jsxDEV("button",{type:"button",onClick:()=>{const h=k.current;h&&(p!=null&&p.time)&&ye(h.value,p.time)},className:"px-3 py-1 text-xs bg-gray-900 text-white rounded hover:bg-gray-800",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:828,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:820,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:750,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:749,columnNumber:25},void 0),e.jsxDEV("button",{onClick:()=>z(P.id,"scheduledVisitDate"),className:"flex items-center space-x-1 text-xs text-gray-900 hover:text-gray-600 transition-colors",children:[e.jsxDEV(En,{className:"h-3 w-3"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:848,columnNumber:25},void 0),e.jsxDEV("span",{children:[P.scheduledVisitDate?Le(P.scheduledVisitDate,"MM.dd (eee)",{locale:kt}):"",P.scheduledVisitTime&&` ${si(P.scheduledVisitTime)}`]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:849,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:844,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:747,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:745,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:720,columnNumber:17},void 0),P.status!=="completed"&&e.jsxDEV("div",{className:"flex gap-2 mt-3 pt-3 border-t border-gray-100",children:[e.jsxDEV("button",{onClick:()=>J(P.id,"completed"),className:"flex-1 px-3 py-2 text-xs font-medium bg-blue-50 text-blue-700 rounded-lg hover:bg-blue-100 transition-colors",children:"AS "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:861,columnNumber:21},void 0),e.jsxDEV("button",{onClick:()=>J(P.id,"revisit"),className:"flex-1 px-3 py-2 text-xs font-medium bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:867,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:860,columnNumber:19},void 0),P.status==="completed"&&e.jsxDEV("div",{className:"mt-3 pt-3 border-t border-gray-100",children:[e.jsxDEV("button",{onClick:()=>J(P.id,"pending"),className:"w-full px-3 py-2 text-xs font-medium bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors mb-2",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:877,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-xs text-gray-500 text-center",children:P.completionDate&&`: ${Le(P.completionDate,"yyyy.MM.dd",{locale:kt})}`},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:883,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:876,columnNumber:19},void 0),P.images&&P.images.length>0&&e.jsxDEV("div",{className:"mt-3 pt-3 border-t border-gray-100",children:[e.jsxDEV("p",{className:"text-xs text-gray-500 mb-2",children:["  (",P.images.length,")"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:892,columnNumber:21},void 0),e.jsxDEV("div",{className:"grid grid-cols-3 gap-2",children:P.images.map((h,M)=>e.jsxDEV("img",{src:h,alt:`AS  ${M+1}`,className:"w-full h-20 object-cover rounded cursor-pointer hover:opacity-75",onClick:()=>I(h)},M,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:895,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:893,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:891,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:700,columnNumber:15},void 0)]},P.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:669,columnNumber:13},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:667,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:629,columnNumber:7},void 0),ge&&e.jsxDEV("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-90",onClick:()=>ee(!1),children:e.jsxDEV("div",{className:"relative max-w-[90vw] max-h-[90vh]",children:[e.jsxDEV("button",{onClick:P=>{P.stopPropagation(),ee(!1)},className:"absolute -top-10 right-0 text-white hover:text-gray-300 transition-colors",children:e.jsxDEV(ft,{className:"h-8 w-8"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:926,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:919,columnNumber:13},void 0),e.jsxDEV("img",{src:Y,alt:" ",className:"max-w-full max-h-[90vh] object-contain",onClick:P=>P.stopPropagation()},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:928,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:918,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:914,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:417,columnNumber:5},void 0)},_b=({work:s,onClose:n,onSave:t,initialProject:r})=>{const{register:i,handleSubmit:a,setValue:o,formState:{errors:m}}=pr(),{user:d}=Qt(),c=fs(),[u,g]=l.useState(!1),[b,p]=l.useState([]),[w,k]=l.useState([]),[j,B]=l.useState(!1);l.useEffect(()=>{if(s)o("project",s.project),o("description",s.description),o("amount",s.amount),o("date",s.date.toISOString().split("T")[0]),o("notes",s.notes||""),k(s.images||[]),p(s.images||[]);else{const oe=new Date().toISOString().split("T")[0];o("date",oe),k([]),p([]),(d==null?void 0:d.name)===""&&c.length>0?o("project",c[0].name):r&&o("project",r)}},[s,o,r,d,c]);const y=l.useCallback(oe=>{var Z;const re=(Z=oe.clipboardData)==null?void 0:Z.items;if(re){for(let X=0;X<re.length;X++)if(re[X].type.indexOf("image")!==-1){oe.preventDefault();const be=re[X].getAsFile();if(be){const we=new FileReader;we.onload=Me=>{var Ee;const Ve=(Ee=Me.target)==null?void 0:Ee.result;p(_e=>[..._e,Ve]),k(_e=>[..._e,Ve]),R.success(" ")},we.readAsDataURL(be)}}}},[]);l.useEffect(()=>(document.addEventListener("paste",y),()=>document.removeEventListener("paste",y)),[y]);const O=oe=>{oe.preventDefault(),g(!0)},ge=oe=>{oe.preventDefault(),g(!1)},ee=oe=>{oe.preventDefault(),g(!1);const re=Array.from(oe.dataTransfer.files);re.forEach(Z=>{if(Z.type.startsWith("image/")){const X=new FileReader;X.onload=be=>{var Me;const we=(Me=be.target)==null?void 0:Me.result;p(Ve=>[...Ve,we]),k(Ve=>[...Ve,we])},X.readAsDataURL(Z)}}),re.length>0&&R.success(`${re.length}  `)},Y=oe=>{var Z;const re=Array.from(((Z=oe.target)==null?void 0:Z.files)||[]);re.forEach(X=>{if(X.type.startsWith("image/")){const be=new FileReader;be.onload=we=>{var Ve;const Me=(Ve=we.target)==null?void 0:Ve.result;p(Ee=>[...Ee,Me]),k(Ee=>[...Ee,Me])},be.readAsDataURL(X)}}),re.length>0&&R.success(`${re.length}  `)},de=oe=>{p(re=>re.filter((Z,X)=>X!==oe)),k(re=>re.filter((Z,X)=>X!==oe)),R.success(" ")},T=async oe=>{if(j)return;B(!0);const re={...oe,amount:Number(oe.amount),date:new Date(oe.date),images:w};try{await t(re)}catch(Z){throw B(!1),Z}};return e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:e.jsxDEV("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxDEV("div",{className:"flex items-center justify-between p-6 border-b sticky top-0 bg-white z-10",children:[e.jsxDEV("h2",{className:"text-xl font-semibold",children:s?" ":" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:180,columnNumber:11},void 0),e.jsxDEV("button",{onClick:n,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsxDEV(ft,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:187,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:183,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:179,columnNumber:9},void 0),e.jsxDEV("form",{onSubmit:a(T),className:"p-6 space-y-6",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:195,columnNumber:13},void 0),e.jsxDEV("select",{...i("project",{required:" "}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",children:[(d==null?void 0:d.name)!==""&&e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:202,columnNumber:39},void 0),c.map(oe=>e.jsxDEV("option",{value:oe.name,children:oe.name},oe.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:204,columnNumber:17},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:198,columnNumber:13},void 0),m.project&&e.jsxDEV("p",{className:"mt-1 text-sm text-red-600",children:String(m.project.message)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:210,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:194,columnNumber:11},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:216,columnNumber:13},void 0),e.jsxDEV("textarea",{...i("description",{required:"  "}),rows:3,className:"input",placeholder:"    (:    )"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:219,columnNumber:13},void 0),m.description&&e.jsxDEV("p",{className:"mt-1 text-sm text-red-600",children:String(m.description.message)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:226,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:215,columnNumber:11},void 0),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" () *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:233,columnNumber:15},void 0),e.jsxDEV("input",{...i("amount",{required:" ",min:{value:0,message:" 0  "}}),type:"number",className:"input",placeholder:": 500000"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:236,columnNumber:15},void 0),m.amount&&e.jsxDEV("p",{className:"mt-1 text-sm text-red-600",children:String(m.amount.message)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:246,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:232,columnNumber:13},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:251,columnNumber:15},void 0),e.jsxDEV("input",{...i("date",{required:" "}),type:"date",className:"input"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:254,columnNumber:15},void 0),m.date&&e.jsxDEV("p",{className:"mt-1 text-sm text-red-600",children:String(m.date.message)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:260,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:250,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:231,columnNumber:11},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:267,columnNumber:13},void 0),e.jsxDEV("textarea",{...i("notes"),rows:2,className:"input",placeholder:"  ()"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:270,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:266,columnNumber:11},void 0),e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"  (Ctrl+V  )"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:280,columnNumber:13},void 0),e.jsxDEV("div",{className:`border-2 border-dashed rounded-lg p-6 transition-colors ${u?"border-gray-500 bg-gray-50":"border-gray-300"}`,onDragOver:O,onDragLeave:ge,onDrop:ee,children:e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV(As,{className:"mx-auto h-12 w-12 text-gray-400"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:293,columnNumber:17},void 0),e.jsxDEV("p",{className:"mt-2 text-sm text-gray-600",children:"    "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:294,columnNumber:17},void 0),e.jsxDEV("p",{className:"text-xs text-gray-500 mt-1",children:" Ctrl+V   "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:297,columnNumber:17},void 0),e.jsxDEV("input",{type:"file",multiple:!0,accept:"image/*",onChange:Y,className:"hidden",id:"file-upload-additional"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:300,columnNumber:17},void 0),e.jsxDEV("label",{htmlFor:"file-upload-additional",className:"mt-4 inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 cursor-pointer",children:[e.jsxDEV(Ls,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:312,columnNumber:19},void 0)," "]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:308,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:292,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:284,columnNumber:13},void 0),b.length>0&&e.jsxDEV("div",{className:"mt-4 grid grid-cols-2 md:grid-cols-4 gap-4",children:b.map((oe,re)=>e.jsxDEV("div",{className:"relative group",children:[e.jsxDEV("img",{src:oe,alt:` ${re+1}`,className:"w-full h-32 object-cover rounded-lg"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:323,columnNumber:21},void 0),e.jsxDEV("button",{type:"button",onClick:()=>de(re),className:"absolute top-2 right-2 p-1 bg-red-500 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsxDEV(Vt,{className:"h-3 w-3"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:333,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:328,columnNumber:21},void 0)]},re,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:322,columnNumber:19},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:320,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:279,columnNumber:11},void 0),e.jsxDEV("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsxDEV("button",{type:"button",onClick:n,className:"btn btn-outline",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:343,columnNumber:13},void 0),e.jsxDEV("button",{type:"submit",disabled:j,className:"btn btn-primary disabled:opacity-50",children:j?" ...":s?"":""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:350,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:342,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:192,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:177,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:176,columnNumber:5},void 0)},Kn={getAllAdditionalWorks:async()=>(await je.get("/additional-works")).data,getAdditionalWorkById:async s=>(await je.get(`/additional-works/${s}`)).data,createAdditionalWork:async s=>{const n={project:s.project,description:s.description,amount:s.amount,work_date:s.date instanceof Date?s.date.toISOString().split("T")[0]:s.date,notes:s.notes||"",images:s.images||[]};return console.log("[additionalWorkService.createAdditionalWork] Sending to backend:",n),(await je.post("/additional-works",n)).data},updateAdditionalWork:async(s,n)=>{const t={};return n.project!==void 0&&(t.project=n.project),n.description!==void 0&&(t.description=n.description),n.amount!==void 0&&(t.amount=n.amount),n.date!==void 0&&(t.work_date=n.date instanceof Date?n.date.toISOString().split("T")[0]:n.date),n.notes!==void 0&&(t.notes=n.notes),console.log("[additionalWorkService.updateAdditionalWork] Sending to backend:",t),(await je.put(`/additional-works/${s}`,t)).data},deleteAdditionalWork:async s=>{await je.delete(`/additional-works/${s}`)}},jb=()=>{var te;const{user:s}=Qt(),n=fs(),{constructionPayments:t}=vs(),[r,i]=l.useState([]),[a,o]=l.useState(!1),[m,d]=l.useState(null),[c,u]=l.useState(null),[g,b]=l.useState(new Set),[p,w]=l.useState(void 0),[k,j]=l.useState(!1),[B,y]=l.useState(null),[O,ge]=l.useState({}),[ee,Y]=l.useState([]);l.useRef(null);const de=l.useRef(null),[T,oe]=l.useState(!1),[re,Z]=l.useState(!1),[X,be]=l.useState(!1),we=q=>r.filter(G=>G.project===q).reduce((G,z)=>G+z.amount,0),Ve=((s==null?void 0:s.name)===""?t.filter(q=>n.some(G=>G.name===q.project)):t).filter(q=>{var I;const G=we(q.project);let z;if(q.vatType==="amount")z=(q.totalAmount||0)+(q.vatAmount||0);else{const ae=(q.totalAmount||0)*((q.vatPercentage??100)/100)*.1;z=(q.totalAmount||0)+ae}const ye=z+G,Se=((I=q.payments)==null?void 0:I.reduce((ae,E)=>ae+E.amount,0))||0;return ye>0&&Se>=ye}).map(q=>q.project),[Ee,_e]=l.useState({project:"",description:"",amount:"",date:Le(new Date,"yyyy-MM-dd"),notes:""});l.useEffect(()=>{var q;if(n.length>0&&!Ee.project){const G=localStorage.getItem("lastSelectedProject"),z=((q=n.find(ye=>ye.name===G))==null?void 0:q.name)||n[0].name;_e(ye=>({...ye,project:z}))}},[n]);const Ue=l.useCallback(q=>{var Se;const G=document.activeElement;if(G instanceof HTMLInputElement||G instanceof HTMLTextAreaElement||G instanceof HTMLSelectElement)return;const ye=(Se=q.clipboardData)==null?void 0:Se.items;if(ye){for(let I=0;I<ye.length;I++)if(ye[I].type.indexOf("image")!==-1){q.preventDefault();const ae=ye[I].getAsFile();if(ae){const E=new FileReader;E.onload=W=>{var pe;const J=(pe=W.target)==null?void 0:pe.result;c?ge(ve=>{const C=[...ve[c]||[],J];return Oe(c,C),{...ve,[c]:C}}):Y(ve=>[...ve,J]),R.success(" ")},E.readAsDataURL(ae)}}}},[c]);l.useEffect(()=>(document.addEventListener("paste",Ue),()=>document.removeEventListener("paste",Ue)),[Ue]),l.useEffect(()=>{const q=localStorage.getItem("additionalWorkImages");q&&ge(JSON.parse(q))},[]),l.useEffect(()=>{localStorage.setItem("additionalWorkImages",JSON.stringify(O))},[O]),l.useEffect(()=>{const q=()=>{oe(G=>{const z=!G;return window.dispatchEvent(new CustomEvent("mobileFormStateChange",{detail:{isOpen:z}})),z})};return window.addEventListener("headerAddButtonClick",q),()=>window.removeEventListener("headerAddButtonClick",q)},[]),l.useEffect(()=>{window.dispatchEvent(new CustomEvent("mobileFormStateChange",{detail:{isOpen:T}}))},[T]);const Oe=async(q,G)=>{try{await Kn.updateAdditionalWork(q,{images:G})}catch(z){console.error("Failed to save images:",z)}},fe=q=>{const G=Array.from(q.target.files||[]);if(!c){R.error("  ");return}G.forEach(z=>{if(z.type.startsWith("image/")){const ye=new FileReader;ye.onload=Se=>{var ae;const I=(ae=Se.target)==null?void 0:ae.result;ge(E=>({...E,[c]:[...E[c]||[],I]}))},ye.readAsDataURL(z)}}),G.length>0&&R.success(" ")},He=(q,G)=>{ge(ye=>({...ye,[q]:(ye[q]||[]).filter((Se,I)=>I!==G)})),R.success(" ");const z=(O[q]||[]).filter((ye,Se)=>Se!==G);Oe(q,z)},De=q=>{y(q),j(!0)},Be=async()=>{try{const q=await Kn.getAllAdditionalWorks(),G=n.map(Se=>Se.name),z=(s==null?void 0:s.name)===""?q.filter(Se=>G.includes(Se.project)):q;i(z.map(Se=>({id:Se._id,project:Se.project,description:Se.description,amount:Se.amount,date:new Date(Se.date),notes:Se.notes,images:Se.images||[]})));const ye={};z.forEach(Se=>{Se.images&&Se.images.length>0&&(ye[Se._id]=Se.images)}),ge(ye)}catch(q){console.error("Failed to load additional works:",q),i([])}};l.useEffect(()=>{Be()},[]);const Re=q=>{d(q),w(q.project),o(!0)},Ke=async q=>{if(window.confirm("  ?"))try{await Kn.deleteAdditionalWork(q),await Be(),R.success(" "),c===q&&u(null)}catch(G){console.error("Failed to delete additional work:",G),R.error("  ")}},ze=async q=>{o(!1),d(null),w(void 0),q&&await Be()},qe=async q=>{if(q.preventDefault(),!X){if(!Ee.project||!Ee.description||!Ee.amount||!Ee.date){R.error("   ");return}be(!0);try{const G=await Kn.createAdditionalWork({project:Ee.project,description:Ee.description,amount:parseFloat(Ee.amount),date:new Date(Ee.date),images:ee});R.success(" "),_e(z=>({...z,description:"",amount:"",date:Le(new Date,"yyyy-MM-dd"),notes:""})),Y([]),await Be(),ee.length>0&&G._id&&ge(z=>({...z,[G._id]:ee})),localStorage.setItem("lastSelectedProject",Ee.project)}catch(G){console.error("Failed to create additional work:",G),R.error("  ")}finally{be(!1)}}},S=r.filter(q=>{const G=Ve.includes(q.project);return re?G:!G}),ue=S.reduce((q,G)=>{const z=q.find(ye=>ye.projectName===G.project);return z?(z.works.push(G),z.totalAmount+=G.amount):q.push({projectName:G.project,works:[G],totalAmount:G.amount}),q},[]);ue.sort((q,G)=>q.projectName.localeCompare(G.projectName)),ue.forEach(q=>{q.works.sort((G,z)=>z.date.getTime()-G.date.getTime())}),l.useEffect(()=>{const q=new Set(ue.map(G=>G.projectName));b(q)},[S.length]);const xe=q=>{const G=new Set(g);G.has(q)?G.delete(q):G.add(q),b(G)};return e.jsxDEV("div",{className:"space-y-4 md:space-y-6",children:[e.jsxDEV("div",{className:"additional-work-container hidden desktop:grid desktop:gap-4 2xl:gap-6 desktop:grid-cols-12",children:[e.jsxDEV("div",{className:"additional-work-form md:col-span-4 lg:col-span-4 bg-white border border-gray-200 rounded-lg p-4 md:p-5 lg:p-6 h-fit sticky top-4",children:e.jsxDEV("div",{className:"aw-form-inner space-y-4",children:[e.jsxDEV("div",{className:"aw-project",children:[e.jsxDEV("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:" *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:421,columnNumber:15},void 0),e.jsxDEV("select",{value:Ee.project,onChange:q=>_e(G=>({...G,project:q.target.value})),className:"w-full px-4 py-3 text-base border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 bg-white",children:[(s==null?void 0:s.name)!==""&&e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:429,columnNumber:41},void 0),n.map(q=>e.jsxDEV("option",{value:q.name,children:q.name},q.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:431,columnNumber:19},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:424,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:420,columnNumber:13},void 0),e.jsxDEV("div",{className:"aw-date",children:[e.jsxDEV("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:" *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:440,columnNumber:15},void 0),e.jsxDEV("input",{type:"date",value:Ee.date,onChange:q=>_e(G=>({...G,date:q.target.value})),className:"w-full px-4 py-3 text-base border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:443,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:439,columnNumber:13},void 0),e.jsxDEV("div",{className:"aw-description",children:[e.jsxDEV("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:" *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:453,columnNumber:15},void 0),e.jsxDEV("textarea",{value:Ee.description,onChange:q=>_e(G=>({...G,description:q.target.value})),rows:5,className:"w-full px-4 py-3 text-base border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 resize-none",placeholder:"  "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:456,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:452,columnNumber:13},void 0),e.jsxDEV("div",{className:"aw-amount",children:[e.jsxDEV("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:" *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:467,columnNumber:15},void 0),e.jsxDEV("input",{type:"number",value:Ee.amount,onChange:q=>_e(G=>({...G,amount:q.target.value})),className:"w-full px-4 py-3 text-base border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",placeholder:"0"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:470,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:466,columnNumber:13},void 0),e.jsxDEV("div",{className:"aw-images",children:[e.jsxDEV("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[" ",e.jsxDEV("span",{className:"text-xs text-gray-500 ml-2",children:"(Ctrl+V  )"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:483,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:481,columnNumber:15},void 0),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV("input",{ref:de,type:"file",accept:"image/*",multiple:!0,onChange:q=>{Array.from(q.target.files||[]).forEach(z=>{if(z.type.startsWith("image/")){const ye=new FileReader;ye.onload=Se=>{var ae;const I=(ae=Se.target)==null?void 0:ae.result;Y(E=>[...E,I])},ye.readAsDataURL(z)}}),q.target.value=""},className:"hidden"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:486,columnNumber:17},void 0),e.jsxDEV("button",{type:"button",onClick:()=>{var q;return(q=de.current)==null?void 0:q.click()},className:"w-full px-4 py-2 text-sm border border-gray-300 rounded-lg text-gray-700 bg-white hover:bg-gray-50 flex items-center justify-center gap-2",children:[e.jsxDEV(Ls,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:512,columnNumber:19},void 0)," "]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:507,columnNumber:17},void 0),ee.length>0&&e.jsxDEV("div",{className:"grid grid-cols-3 gap-2 mt-2",children:ee.map((q,G)=>e.jsxDEV("div",{className:"relative group",children:[e.jsxDEV("img",{src:q,alt:` ${G+1}`,className:"w-full h-20 object-cover rounded cursor-pointer",onClick:()=>De(q)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:519,columnNumber:25},void 0),e.jsxDEV("button",{type:"button",onClick:()=>Y(z=>z.filter((ye,Se)=>Se!==G)),className:"absolute top-1 right-1 p-1 bg-red-500 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsxDEV(ft,{className:"h-3 w-3"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:530,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:525,columnNumber:25},void 0)]},G,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:518,columnNumber:23},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:516,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:485,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:480,columnNumber:13},void 0),e.jsxDEV("button",{onClick:qe,disabled:X,className:"aw-submit w-full py-3.5 bg-gray-900 text-white text-base font-semibold rounded-lg hover:bg-gray-800 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:X?" ...":" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:540,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:418,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:417,columnNumber:9},void 0),e.jsxDEV("div",{className:"additional-work-list md:col-span-4 lg:col-span-5 flex flex-col h-[calc(100vh-120px)]",children:[e.jsxDEV("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 flex-shrink-0",children:e.jsxDEV("div",{className:"space-y-4",children:e.jsxDEV("div",{className:"flex border-b border-gray-200",children:[e.jsxDEV("button",{onClick:()=>Z(!1),className:`flex-1 py-2 text-sm font-medium border-b-2 transition-colors ${re?"border-transparent text-gray-500 hover:text-gray-700":"border-gray-900 text-gray-900"}`,children:[" (",ue.filter(q=>!Ve.includes(q.projectName)).length,")"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:557,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>Z(!0),className:`flex-1 py-2 text-sm font-medium border-b-2 transition-colors ${re?"border-gray-900 text-gray-900":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[" (",Ve.length,")"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:567,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:556,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:554,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:553,columnNumber:11},void 0),e.jsxDEV("div",{className:"space-y-4 flex-1 overflow-y-auto mt-3 pr-1",children:ue.map(q=>e.jsxDEV("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsxDEV("div",{className:"px-4 py-3.5 border-b border-gray-200 flex items-center justify-between cursor-pointer bg-gray-100 hover:bg-gray-200",onClick:()=>xe(q.projectName),children:[e.jsxDEV("div",{className:"flex items-center gap-3",children:[g.has(q.projectName)?e.jsxDEV(xo,{className:"h-5 w-5 text-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:591,columnNumber:23},void 0):e.jsxDEV(yo,{className:"h-5 w-5 text-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:593,columnNumber:23},void 0),e.jsxDEV("h3",{className:"text-base font-semibold text-gray-900",children:q.projectName},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:595,columnNumber:21},void 0),e.jsxDEV("span",{className:"text-sm text-gray-500",children:["(",q.works.length,")"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:596,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:589,columnNumber:19},void 0),e.jsxDEV("span",{className:"text-base font-bold text-gray-900",children:[q.totalAmount.toLocaleString(),""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:598,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:585,columnNumber:17},void 0),g.has(q.projectName)&&e.jsxDEV("div",{className:"divide-y divide-gray-100",children:q.works.map(G=>{var z;return e.jsxDEV("div",{className:`px-4 py-3.5 hover:bg-gray-50 cursor-pointer transition-colors ${c===G.id?"bg-blue-50 border-l-4 border-blue-500":""}`,onClick:()=>u(G.id),children:e.jsxDEV("div",{className:"flex items-start justify-between",children:[e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("p",{className:"text-base text-gray-900 line-clamp-2",children:G.description},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:615,columnNumber:29},void 0),e.jsxDEV("div",{className:"flex items-center gap-3 mt-2",children:[e.jsxDEV("span",{className:"text-sm text-gray-500",children:Le(G.date,"yyyy.MM.dd")},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:617,columnNumber:31},void 0),((z=O[G.id])==null?void 0:z.length)>0&&e.jsxDEV("span",{className:"text-sm text-blue-600 flex items-center gap-1",children:[e.jsxDEV(As,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:622,columnNumber:35},void 0),O[G.id].length]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:621,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:616,columnNumber:29},void 0),G.notes&&e.jsxDEV("p",{className:"text-sm text-gray-500 mt-2",children:G.notes},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:628,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:614,columnNumber:27},void 0),e.jsxDEV("div",{className:"flex items-center gap-3 ml-4",children:[e.jsxDEV("span",{className:"text-base font-semibold text-gray-900",children:[G.amount.toLocaleString(),""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:632,columnNumber:29},void 0),e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV("button",{onClick:ye=>{ye.stopPropagation(),Re(G)},className:"p-1.5 text-gray-500 hover:text-gray-700",children:e.jsxDEV(Jr,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:643,columnNumber:33},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:636,columnNumber:31},void 0),e.jsxDEV("button",{onClick:ye=>{ye.stopPropagation(),Ke(G.id)},className:"p-1.5 text-red-500 hover:text-red-700",children:e.jsxDEV(Vt,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:652,columnNumber:33},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:645,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:635,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:631,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:613,columnNumber:25},void 0)},G.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:606,columnNumber:23},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:604,columnNumber:19},void 0)]},q.projectName,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:584,columnNumber:15},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:582,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:551,columnNumber:9},void 0),e.jsxDEV("div",{className:"additional-work-images md:col-span-4 lg:col-span-3 bg-white rounded-lg shadow-sm border border-gray-200 p-4 md:p-5 lg:p-6 h-[calc(100vh-120px)] overflow-y-auto",children:c?e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-5 sticky top-0 bg-white pb-2",children:[e.jsxDEV("h3",{className:"text-base font-semibold text-gray-900",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:671,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV("span",{className:"text-sm text-gray-500",children:"Ctrl+V  "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:673,columnNumber:19},void 0),e.jsxDEV("input",{type:"file",multiple:!0,accept:"image/*",onChange:fe,className:"hidden",id:"work-image-upload"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:676,columnNumber:19},void 0),e.jsxDEV("label",{htmlFor:"work-image-upload",className:"px-4 py-2 text-sm border border-gray-300 rounded-lg text-gray-700 bg-white hover:bg-gray-50 cursor-pointer flex items-center gap-2 font-medium",children:[e.jsxDEV(Ls,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:688,columnNumber:21},void 0)," "]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:684,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:672,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:670,columnNumber:15},void 0),((te=O[c])==null?void 0:te.length)>0?e.jsxDEV("div",{className:"grid grid-cols-2 xl:grid-cols-3 gap-4",children:O[c].map((q,G)=>e.jsxDEV("div",{className:"relative group",children:[e.jsxDEV("img",{src:q,alt:` ${G+1}`,className:"w-full h-40 object-cover rounded-lg cursor-pointer",onClick:()=>De(q)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:698,columnNumber:23},void 0),e.jsxDEV("button",{onClick:()=>He(c,G),className:"absolute top-2 right-2 p-1.5 bg-red-500 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsxDEV(ft,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:708,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:704,columnNumber:23},void 0)]},G,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:697,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:695,columnNumber:17},void 0):e.jsxDEV("div",{className:"text-center py-16 text-gray-500",children:[e.jsxDEV(As,{className:"mx-auto h-16 w-16 text-gray-300 mb-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:715,columnNumber:19},void 0),e.jsxDEV("p",{className:"text-base",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:716,columnNumber:19},void 0),e.jsxDEV("p",{className:"text-sm mt-2",children:"  Ctrl+V "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:717,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:714,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:669,columnNumber:13},void 0):e.jsxDEV("div",{className:"text-center py-16 text-gray-500",children:[e.jsxDEV(As,{className:"mx-auto h-16 w-16 text-gray-300 mb-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:725,columnNumber:15},void 0),e.jsxDEV("p",{className:"text-base",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:726,columnNumber:15},void 0),e.jsxDEV("p",{className:"text-sm mt-2",children:"     "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:727,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:724,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:667,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:415,columnNumber:7},void 0),e.jsxDEV("div",{className:"desktop:hidden space-y-3",children:[T&&e.jsxDEV("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:" *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:741,columnNumber:17},void 0),e.jsxDEV("select",{value:Ee.project,onChange:q=>_e(G=>({...G,project:q.target.value})),className:"w-full px-3 py-2.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 bg-white",children:[(s==null?void 0:s.name)!==""&&e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:749,columnNumber:43},void 0),n.map(q=>e.jsxDEV("option",{value:q.name,children:q.name},q.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:751,columnNumber:21},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:744,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:740,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:" *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:760,columnNumber:17},void 0),e.jsxDEV("input",{type:"date",value:Ee.date,onChange:q=>_e(G=>({...G,date:q.target.value})),className:"w-full px-3 py-2.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 bg-white"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:763,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:759,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:" *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:773,columnNumber:17},void 0),e.jsxDEV("textarea",{value:Ee.description,onChange:q=>_e(G=>({...G,description:q.target.value})),rows:4,className:"w-full px-3 py-2.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 resize-none",placeholder:"  "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:776,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:772,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:" *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:787,columnNumber:17},void 0),e.jsxDEV("input",{type:"number",value:Ee.amount,onChange:q=>_e(G=>({...G,amount:q.target.value})),className:"w-full px-3 py-2.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 bg-white",placeholder:"0"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:790,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:786,columnNumber:15},void 0),e.jsxDEV("button",{onClick:qe,disabled:X,className:"w-full py-3 bg-gray-900 text-white text-sm font-semibold rounded-lg hover:bg-gray-800 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:X?" ...":" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:800,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:738,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:737,columnNumber:11},void 0),e.jsxDEV("div",{className:"flex border-b border-gray-200",children:[e.jsxDEV("button",{onClick:()=>Z(!1),className:`flex-1 py-2 text-xs font-medium border-b-2 transition-colors ${re?"border-transparent text-gray-500":"border-gray-900 text-gray-900"}`,children:[" (",r.filter(q=>!Ve.includes(q.project)).length>0?ue.filter(q=>!Ve.includes(q.projectName)).length:0,")"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:813,columnNumber:11},void 0),e.jsxDEV("button",{onClick:()=>Z(!0),className:`flex-1 py-2 text-xs font-medium border-b-2 transition-colors ${re?"border-gray-900 text-gray-900":"border-transparent text-gray-500"}`,children:[" (",Ve.length,")"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:823,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:812,columnNumber:9},void 0),ue.map(q=>e.jsxDEV("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsxDEV("div",{className:"px-4 py-3 border-b border-gray-200 flex items-center justify-between bg-gray-100",onClick:()=>xe(q.projectName),children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[g.has(q.projectName)?e.jsxDEV(xo,{className:"h-5 w-5 text-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:844,columnNumber:19},void 0):e.jsxDEV(yo,{className:"h-5 w-5 text-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:846,columnNumber:19},void 0),e.jsxDEV("h3",{className:"font-semibold text-gray-900",children:q.projectName},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:848,columnNumber:17},void 0),e.jsxDEV("span",{className:"text-sm text-gray-500",children:["(",q.works.length,")"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:849,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:842,columnNumber:15},void 0),e.jsxDEV("span",{className:"font-bold text-gray-900",children:[q.totalAmount.toLocaleString(),""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:851,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:838,columnNumber:13},void 0),g.has(q.projectName)&&e.jsxDEV("div",{className:"divide-y divide-gray-100",children:q.works.map(G=>e.jsxDEV("div",{className:"px-4 py-3",children:e.jsxDEV("div",{className:"flex justify-between items-start",children:[e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("p",{className:"text-sm text-gray-900",children:G.description},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:862,columnNumber:25},void 0),e.jsxDEV("p",{className:"text-xs text-gray-500 mt-1",children:Le(G.date,"yyyy.MM.dd",{locale:kt})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:863,columnNumber:25},void 0),G.notes&&e.jsxDEV("p",{className:"text-xs text-gray-500 mt-1",children:G.notes},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:867,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:861,columnNumber:23},void 0),e.jsxDEV("div",{className:"flex items-center gap-2 ml-3",children:[e.jsxDEV("span",{className:"font-semibold text-gray-900",children:[G.amount.toLocaleString(),""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:871,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex gap-1",children:[e.jsxDEV("button",{onClick:()=>Re(G),className:"p-1 text-gray-500 hover:text-gray-700",children:e.jsxDEV(Jr,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:879,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:875,columnNumber:27},void 0),e.jsxDEV("button",{onClick:()=>Ke(G.id),className:"p-1 text-red-500 hover:text-red-700",children:e.jsxDEV(Vt,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:885,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:881,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:874,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:870,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:860,columnNumber:21},void 0)},G.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:859,columnNumber:19},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:857,columnNumber:15},void 0)]},q.projectName,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:837,columnNumber:11},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:734,columnNumber:7},void 0),a&&e.jsxDEV(_b,{isOpen:a,onClose:ze,work:m,projects:n,initialProject:p},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:901,columnNumber:9},void 0),k&&B&&e.jsxDEV("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-75 flex items-center justify-center p-4",onClick:()=>j(!1),children:e.jsxDEV("div",{className:"relative max-w-4xl max-h-full",children:[e.jsxDEV("button",{onClick:()=>j(!1),className:"absolute top-4 right-4 p-2 bg-white rounded-full hover:bg-gray-100 z-10",children:e.jsxDEV(ft,{className:"h-6 w-6"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:921,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:917,columnNumber:13},void 0),e.jsxDEV("img",{src:B,alt:" ",className:"max-w-full max-h-[90vh] object-contain",onClick:q=>q.stopPropagation()},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:923,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:916,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:912,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:413,columnNumber:5},void 0)},Lb="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAZAAAAGQCAYAAACAvzbMAAAgAElEQVR4nO3dedgdRZ328W8ZIECIIYmENYAiyBZkEWRfRBQcBQFFRVAZtkFlhFdBUGEURhgVFBdcYEZRQEZhZJNFFAVEERVZJUIgsgZIZEnYEkJS7x/VkQfyLFV9qrqq+9yf6zpXuEKd7t+TPs+5u6urq0BEREREREREREREREREREQAMIP9pYVRwGoN1yIiImV6yMCCV/7lEkM0Xg24L209IiLSEmsAD7zyL1+VoRAREekABYiIiNSiABERkVoUICIiUosCREREalGAiIhILQoQERGpRQEiIiK1KEBERKQWBYiIiNSiABERkVoUICIiUosCREREalGAiIhILQoQERGpRQEiIiK1DLWgVCx/AK5JvA8RERncjsCWqTaeOkCuMXBs4n2IiMggLJxMwgBRF5aIiNSiABERkVoUICIiUosCREREalGAiIhILQoQERGpJfUwXi8WJuOGmq0JjMlcTr+bC5xn4P5eN2RhK2Ad3PEt4rPWxx4GzjXwXC8bsbAM8BZgdWASYCLUJvVY3KMS1+YqIOsvtYWxwAnAR4GlctYiL3Oihc0M3FbnzRY2Br4FbBO3LOnR4RY2NfBinTdbOBD4IrBi3LKkFxY+beDLOfadrQvLwvLAb4AjUHiUZgngG3XeaGE74PcoPEo0BfjX0DdZMBa+Dfw3Co8SnWhhQo4d57wHcgWwWcb9y/C2sbB0yBssrAf8EtfNIWV6W433fAY4LHYhEs1SwA45dpwlQCzsR8LH6yWKJYANAt9zKjA6QS0Sz5SQxhZWxgWIlC3ouMbSeIBY9wWTpb9Ogk30bWhhe2C3hLVIHN7HtHIysGyKQiSq0OMaRY4rkL1xZzVSvpB+1aOTVSExTbCev/fVIJf9EtcjcfTNPZC9MuxT6vEaUl0N7dwlcS0Sh8G/m3FvYFTCWiSeLI8/5AiQOjfxJI/Znu22RyPp2sIaeN6z7U5JK5GYfH9Xo2o0QKx7qGxsk/uUnjzl2W6rpFVITP8IaKvj2h6+v6tRNX0Fog9ku9zr2U7HtT28jml1/2PtxLVIPL6/q1EpQGQojxr4u2dbHdf2uN6zXZbnCqQ23+MaVdMBojOa9viqTyPrnkxWt2Q7vICbYsaHflfb43oDt+TYcdMBsmrD+5Nw83BTVngFCDqmbTEDOCBgkkwd13a4Bvhwrp03PZniKgFtp+GmT/i1cbNOSplCjinAucBnY8z2K0mFHNf5wMeBc3qd7VfapbEAse5pVt+ujvnAHgamJixJ4gj5ovkj8JG6s8FKo0KO67EGzkhWiRSryS6skCclr1N4tMbyAW2/q/BoDd/jugD4TspCpFxNBkjIDK2XJ6tCYgs5rpcmq0Ji8z2u16rbqn81GSAhU4PfnqwKic33uM4yYQ+xSV6+x1W/q32s1ACZmawKic33uOqYtouOq4yoyQAJWSfisWRVSGy+x1XHtF10XGVETQbI/IC2LySrQmLzPa46pu2i4yojajJA5ga0DVpKVbLyPa46pu2i4yojajJA5gW01YeyPXyPq45pu+i4yohKvQJ5Q7IqJDbf46q5ldrF97jqd7WPlXoFoplA28P3uE60MCVpJRKT73HV72ofazJAZgW0PcTCCskqkZgeD2j7uWRVSGy+x3VDC3skrUSK1ViAVFNY+I4ZHw9cYGEb69ZwlnI9GNB2Hwsn2fAJGKV5Icf1B9YdW90P6TNNz8b7EDDJs+32VIukaCre5J4Ergb+nwn74gB3TEMcCxyrY5qcBe4BzgO+aMKH24Yc1/HATxbtVJKaB/wZON7Ar3MX0/R6IKFfTtKM8cB7gKkWtgl8r45pmQxu4MLxwG9t2KSXoONaqtG439GrLfxH7mKaDpA7Gt6fhBkD/MIGzJxcTaTnu/St5LEF4dOt63e1fJ+38O6cBTQdIDc2vD8JNwb4bOB7dFzL914LGwe0v4mw2SMkj5MsjMq1cwWIDOZgC0sGtNdxbYfDfRsaFx5Z1tmWIOsBO+baeaMBYtworJub3KfUMhZ4Z0D7n6cqRKJ6b+CJwZXJKpGY9s2146avQMCNCpHyeX8ojRvto7PV8oWeGPwoVSESVeiJQTQ5AuR/M+xTwoU+Yazj2g7ex7U6MbgtYS0Sx1hgkxw7bjxAqucM9GVTvhVs2HNCZ+CeJ5GyrR7Y/stJqpDYJufYaY4rEIBPEjY3luTxWt+GxoVH9nHpMqKgLxoD56JBEm0QemIQRZYAMTADeD9uehMpV+iH8nSqJ5KlWHW+aN6LHiwsXV9dgWDgItyN2udz1SAjCj1bXQh8EN18LdmkwK7JRd3OO6AHRkvWXwECYOB8XDfJdwmb1VWasUzoGwwsMPBhYFvcXD1a8rQ8Y0LfYFx4rAscAUyNXpH0Kvh3NYamJ1NcjIHHgMOAw6x7KGbFzCX1gy2Bk1PuwMDvgJ0tLIUbIZLlA95nPgu8NdXGqwkZvw583cJEYAMyn4T2id/kLmAo2QNkIOPObHR2k5itcQZaV/Wlo5uwDbBwcFP7Mq7H4Lqm9tfPSp7hWGcPIiJSiwJERERqUYCIiEgtChAREalFASIiIrUoQEREpBYFiIiI1KIAEemOkh8ZkPqKPa4KkP5U7AdSRNpDASIiIrUoQEREpBYFiIgMycKhFqZbsH3+mmnhA7mPR2kUICIyKAsH4ZZa8F6ZssNWAH5k4Q25CylJUbPxhrAwDrfmxJrAGtWfi/57Im620FnAzAF/3g9cYOC+HDX7srAj7oM6HjeT7Q0G5uatSvrQJ3IXUJglgLcDd+UupBStChALywN7APsAb2P4+idVrw1e8fdfsXAT8FPgxwYeSlFrHRZGA/8LvPsV/+spCx8ycGmGsqQPWXcytmHuOgq0Re4CStKKLiwLO1q4DHclcRbwDnoLv82ALwEPWri2WsiqBB9j8fAAF5yXWLesqEgT1s5dQKEm5i6gJEUHiIWxFr6DW5Gr19AYyvbAzRb+n83/73H4CP//vxqpQtoq5vM9a0TcVpeMzbDPYp/bKrYLy8JOwLnAyg3sbjRwKrC3hX2Nu1fSqKr7as0Rmm0Sb3flqoJ8BdyxHweYvBX90wLcvbQZBp7OXUxiOtMenJZmHqDIALGwP/BDmv/i2Bq4ycKbDdzb8L591oIfbWFlA48kr6YhFkbhThbejwvIlXH3rkblrGskFp4FZgB/By4BzjcuXLpiYe4CCjUndwElKS5ArLsHcBb5zjonAr+2sIWBxxrcr+/Pu2TSKhpiYTvcicLewITM5dQxBnefYG3cgI6vW9fV+mPgHAPzcxYXwYLcBRRqdu4CSpK7z/9lrLvPcT7561od+JXN09/ZaRaWs3AGcB1wMO0Mj8GMAt4KfB/4k4W1MtfTq7tzF1Coe3IXUJLcX9T/ZN3N7Asp56poQ+ByC0vlLqQrrOsivAMXHF32RuA2CwfmLqQHv0FXIYO5PncBJSkiQCxsCVxBeV/W2wKfy11EF1h3dn4t/TO6Z1ngvy0cm7uQOoy7x7MP7e+Ki+kvuMcJpJL9bL+6ifpT3C9ciY6ycHrD90M6pTpBuJQCPm8ZnGThQQPn5C4klIGfVTM+rI+6c58GbjXwYu5CSlLCL/QBwOTcRQxjaeAE4NDchbSRdQ9t/hL379ivzrLwDwNX5i4klIHncTM3iCwmaxdWdfVxfM4aPB2oSdTCVU/4Xw0sl7uWzEYBF9p4z/EMpejne6S2Yo9r7nsg/0rZVx+LjMJNfSKerBuWfAGuC0TcFdjFtvDnW0RCZAuQ6hfpuFz7r2EP626qd0ETZzQH4PrO5SWTgUNyFyESS84rkLfR+9XHXNzN2U8Be+KGT47B/VwTgNfjZs/8d2Baj/sCN9mhjKCalkXzdg3ueNvf94OkQ3LeRN+jh/f+CfcFdUV1k28wT1ave6v237SwM3AisFXN/e5mwZiC+yQLcRRuLitZ3ErAx4FTchci0qucVyDvqfEei5v0cGsDPxsmPAZl3A3d7YDPUG98+zjgzTXe1zesWwSrlc8+NOgY666URVotS4BY9yUcOtvnC8A7DXyql7HYBhYYOBl3FfJsjU3sWnfffeJQyn2mpxQTgf1yFyHSq1xdWKHdVwuAvQ1cHqsA42bd3RM3Nj8kSHcDPh+rjg7aq4f3TsNNpHk1bvGwWSVNm15NMz8RN3PyurhRhLtSb+LPdwHfi1ddGtZ1RR6ATgr+ilsOW93XA7QhQCywv4Gfxy7CwC+t64/+dsDbNrcwzmhWzsVY17+/eY233gccbOBXkUuKyrgpzmdVrzuACyy8Fvgf3JT0IXaxsKyB5yKXGY11YXk7fksN9INvo4E0L9N4F1bV9xsyvPM8A+elqse8tOJhwFvYJlE5bfe+Gu85A1i/9PAYinHrgewMfJaws9OlgF0ilxP77PggFB4DfdTCazLst9irnhz3QDYOaLuAZiYzPDmwvdaLHlxo99XpBg4NHQxRGgPWwEmEDx54V4p6Ito6dwEF0snjADkCJOTq43vVGV5Sxs3VdEfAW9ZJVUtDop/RWLfQVciDlpcw8hrwrWLcbAUhkyZul6qWSF6bu4ACtf13P6rSAyTk3kSvvhvQVlcgi9sI/8/TbOBDHb0h+VHgKc+2ry98vRlNQ7O4fp+V+GVKDpBpxo18aMrFAW0VIIvbNKDtV7s6CKEaNfZNz+avAqYkLKdX/T4J5mAUIAPkCJANPNudn7SKVzDwEDDVs/mamhRvMb4BMhv3MGiXfQ3/+zobpSykRy/kLqBAWg9kgEYDpBqBtapn8/9LWcsQQp4z0fTuL+c7VflPTL0HOFvDuCl0fIedl3wFMid3AQXq5JVzXU1fgfj+srxg3PKRTft9QFvdTKtUD9j5XoFckbKWgvgOSy45QO7PXUCBFKoDNB0gK3u2uz1pFUO7J6Ct78/SD9bHjcIayQLgqsS1lOJqz3YxAyT2oIRbI2+vC0JGa8ZS7GCTpgPEdwK5O5NWMbS7AtqOTlZF+6zu2e6vJT95HZNxs0A/7tF0RZt/Ybeh+IZgv3gOuDZ3ESVp+oPrO59OlgAxMA+Y4dlcAfIS36dzc50Y5OJ7QlLk1PfVGu6fw6270+9eAI4w7ipaKk3PhVX6FQi4AFnFo50C5CW+AeI7yq0r7sbvae7xwGOJa6nFwBdxr0ZY9xzN6SM0exZ4ZwPlDPQ3A482vM/ilRogM5NWMTzf2V/bHCCx+1QVIIO727Pd8kmr6J4XDVyTuwgp9x5Izn7yZzzbtTlAYvMNkH47g3vIs934pFWIJKIAWVw/XIHE5hsg/TYE0vdkRFcg0kqlBkjO2Vl1BRLON0CKWRyqIb4/r65ApJWaDpClPdu14QrE92fpBwqQwekKRDqt6QDxXfpzYdIqhuc7102xD/dk4Ds8u9/mEfId/up7ZT4SfSa7qdjjWuoDTG2g8eAv8Q2Gfuv2852qfV7SKkQSUYDUpwB5iW+A9Fu3n29gKkCklRQg9SlAXqIAGZzvz6tp06WVFCD1tbk/P3afqgJkcLoCkU5TgNSnK5CX+AbISkmrKI/v6DQFiLRS01OZdIkC5CW+AbI2boK+fuG79HHxXVjWLeX6fvwXhKtr88Tbl4gUIPUpQF4SEiD9xPfnLfoKxMK+wH8Dy+SupTLONje0dR7wC+BIA9Mb2mdrqAurPgXIS/7h2e71Sasoj+/P67NuSBbWheCZlBMeTRsN7A5caPtvGPqIdAVS3zYWPh9xe+MibqtpvmdmW1sY1Q9rKlj3hbuBZ/OQlTBH2G105+L/oGiXbQR8ADgrw76LfZBQAVLfttVL3Op7PsYB29EfU3G/A78HCReYQtcet+5LU/ckXvIO8gRIsdSFJTGE9A3vnqyKsvj+nNOSVtGb/XIXUJjNchdQGgWIxBASIPvbjvenW3eltbdn81jdV1FZN2/dB3LXUZjJuQsojQJEYvDtwgL3bMThqQopxLH4T5BYZIDglnVeLXcRhVnStvteZXQKkP4U9aacccN4fVffAziqq1chFiYCnwh4S6kBskLuAgqlABlAASKx/D6g7WuAH1v/6f1bwcIo4BzCpmz5U6JyejUpdwFSPgWIxHJpYPt3A6elKCSjs4BdA9o/TrkBMiF3AVI+DeOVWC7FdY2FXFX8u4U3AAcbeDBNWelZWAs4A3hL4FsvMuWO8R/l0eYWYHbqQhoyCVgvdxFtowCRKAzMtvBbYPvAt74duNvC94HvGrg9fnVpWPeMxEHAR/BfPGqgS+JW1HgYHW7g+ob3mYSFD+K6H0tU6kmGAkSiupTwAAF3z+CjwEct3Ia7sTyrepX01PoSuJvLK+DOVtftYVsvAL+MUZRILgoQieks4ER6W/djo+rVdecYeD53ESK90E10ica4SRW7dmM8hQXAF3IXIdIrBUh9XzJgYr2o1/VToi8Bz+QuonA/NPBA7iJEeqUAqc9nlEqpkt2UM/AUugoZjq4+pDMUIPW1OUBSO5XuDO+MTVcf0hkKkPoUIEOorkL2BRbmrqUw9wGfzl2ESCwKkPr0bzcMA5cDh+WuoyBzgLcZ/9UbRYqnL8H6dAUyAuOezj4ldx0FmA/sbtKv/VHsA2fSk2KPqwKkPgWIn6OBi3IXkdlHDFybuwiR2PQgYX0KEA8GrIX34KY4P5H+Wl/7IeBAA1flLqRtLIwFplBvipg6NA9WDQqQ+hQgnowbuvpVCz8FvgHsmbmk1BYC3wI+Y+DZ3MW0jYXX4aa08V2USzJpugvrxYb3V4fvbLIKkEAGHjKwF+7M8ivAzMwlxfYA8J/A6wx8QuFR25dQeLRC0wHi+4Ryzm6OsZ7t5ietosMM3GHcvZGVcbPxnkN754V6HvgxsAuwpoHjDNyfuabWsq7L6l9y1yF+mu7Cetqz3VjgkZSFDOPVnu2eS1pFWkWM6jCuq+cq4CoLH8KdOIwBlqv+HAOMppyVC1/EnQQ9W/35DPBMwWt6tNHr6Ohyx13UdID4XoH4fomn4LvmcZsDpDjVl/Cz1atrXVvib3zuAkagk4UBmu7CCrkCyaUfrkBESrV87gJGkKtnpEil3gNZI2kVw1vds51ukEppunB2XPKJ2SMmz0CgYo9rqVcgU5JWMQTruq/W9Gxe8gddpFc+gxpSDCR5MsE2Y9HDoK9Q6hVIlgABNg1oqwCRLvMZSTY9wX7vptxJOM/KXUBpmg4Q3+GNChCRvO5k+P7+m4xbsz4qA3OBm2JvN4IH0IwCi2k6QKbinkoeyUoW3pi6mEHsGtB2RrIqRDKr1ms/EDc1/yvdB3wk4e6/mXDbdTwNvFvDtRfX6DBeAwss3AWs79F8P+DWxCX9k3UPte0c8Ja/pKpFpAQGrrCwNvA+4G24qeivBC4yCR+kNXC2dd3dB5N/7rTpwGnGTa0ir5BjLqy/4hcgH7JwdIOpfyj+D6w9bNrdhaUzKfFSrV9yevVqcr8X4l5SsBzTuf/Vs90k4F9TFrKIdWPPPx7wljtS1SIi0hY5AiTky/dk28xDhacAEwPaK0CkRLqy7KZij2vJVyAAKwAnpSoEwMJWuJuFIRQgItL3cgTIXcCjAe0/Zt3NtOgsrEu91fIUICLS9xoPkOqm+E/C3sIZNuwexYgsbALcgLvXEuJJGhwdJiJSqlxrov+0xnu+aeFiC+v0smMLr7ZwMvAH6k3cdn7KIYwiIm2RJUAM/J6wbqxFdgfutPA9C9vYgHUiLKxp3SJG04FjqL/W8o9rvk9EpFNyrol+HnBkjfeNAg6pXjOtGys+DXiies3BPXw0Abe2wCrAbsBGEWqeCVwXYTsiIq2XM0B+Sr0AGWgS7gHApvxI0xkMzcLGuG7BRVeGRv/d6H9vRmTWrQi5Oe67opSfs9/+u25vSXLZAsTAHyz8EdgiVw2B5lHeHD11RQ1BC6sBV9Pj/Skpi4UP455AH5O7FilTrpvoixxKe87oTzFuRk5Z3KUoPDrFui7f/0HhIcPIGiAGbgHOzFmDp1kkfqCxraybAn/j3HVIEJ/VND+Mu98o7eC71lJUua9AwI2I8l2pMJejTLsnT0zpTbkLkCD3Gr9lWXVc2+WuHDvNHiDGPZh3fO46hnGLgR/mLqJgq+QuQIL8zbPdakmrkNh8j2tU2QOk8g3Cnk5vyixgn9xFFE4B0i5TPdutnrQKic33uEZVRIAYtwbyB6k3L1UqTwA7GPeMiQztNbkLkCDnj9TAuhvnOYf4S5jpZFrwqogAATBuqdv3ApfnrgWYDexkMqV6ywy25KmU6RfGDZ0flnE32V9ooB6J4/PVSXjjigkQgOrm3p7kDZFngJ2NlrD09VjuAsTbpwPa6ri2w3Tg3Fw7LypAAIw789kD+ATuSqBJFwIbGrip4f2Cu9/iI8YZ/0zPdk94tLmll0KkMZeasFmkb05WicR0bK6rDygwQMBdiRh3Y30t4Nu47q2U/grsaGAvA/cn3tdQpgFzR2gzy7i5vnrlO+RvukebK2nPw6D96rfABwLfc2WKQiSqI029mc2jKTJAFjHwuIGP4UaEHIGbxTeWR4BvATsAUwxcG3Hbwap7QKeO0CzKQ5fVvk4fodk9wF88tjUbtySwlOkKYBfj9/DgQD9EA0hKZYEDDZyWu5BBWVjDgo3wOjlBbZMtfNLCjTXqecTCtyxsHzIVfFMsLGvhVAtzX1H3XAunVBPbxdrX0tYt1DXYv9NsC9sFbGsJC9+w8ESkz41evb3mWPiBhbf08jm3sL6FKy28WMDPpBdMs3C8hTUCjuHJkfY96LDuQT9cVYH31fzcDfRfBo6NsJ1BWfeFugJuVt4VBrxGA//A3VeYWf05yzR/T6UWC0viDtgquNr/btxkjin2tQXwdmBr3NP204HTDDycYn8i0hzrTuKPibCpNQabC7DVY72rL9WHqldnGLfi4b3VK/W+/ojH0E4RkVcq+h6IiIiUSwEiIiK1KEBERKQWBYiIiNSiABERkVoUICIiUosCREREalGAiIhILQoQERGpRQEiIiK1KEBERKQWBYiIiNSiABERkVoUICIiUosCREREamn1eiAiIk2z8EZgfKbdzwNuq7FEcRLZAsTCGOBzwMbAFGDVXLUM4gngPw18LcXGLXwGOApYPsX2a5iPW//8SuAEAwt73aB1a81/BlgHmAyM6nWb0pMZwDEGzs5dSFtZ12PzC+CtuUuxbuXQLxs4I2chWQKkWjL3F8AbcuzfwwTgq9Yl/dUxN2xhV+CLMbcZwZLAm6vXasBBdTdk3WfqbOD9cUqTSFYBvm/hVgO3+bzBwvbAp4BXJ60svfnAncBNwMU9LG19OPnDA9xS5GsB37OwqoH/yFVI4wFiYRzubHdC0/uu4WAiBwhwSOTtxXaghXuNW0s5SBUelwC7xS9LIlgC2B939Tss63oErgSWSV1UQxZ98d9tYTfjzuBDvSNmQZEcZ+HbBh7LsfMcN9GPoh3hAfC2mBuz7swh6jYTOd7Ca2q87zAUHqV7i2e7g+lOeAy0DvBnC+uGvKnqvto6TUk9McA+uXbeaIBUVx9HNLnPHo23cW+WTcTd+ynd0sCxIW+wMBb4QppyJKL1PNttk7SKvMYDxwW+ZyKwXIJaYsh2rJq+AtmNdnyBDhTzQ9Omnz30HsZB5BuZIv58rypem7SK/N5vYc2A9iX/7q6Sa8dNB8jaDe8vhpgfnJI/hK+0ig27ebp/skokKuv3OWzTZ7WOVwF7BrQv+d8j2wjWpgPk9Q3vL4Z5hW6rCV6j5Kr+5E0S1yLxPOfRZunkVeS3YUDbucmq6N3kXDvWFcjInoq4rbrDB3OZ5Nnu7UmrkJieNmA92j2TvJL8QgJkTrIqerdkdQ+ycU0HSLa+uh7E/NJ/IuK2SvKm3AWIN98Toq5+VgfaIKBtyQECmaalanqnbZt76+4YT2UvUm3r3ljbK4gCpD2merbrhwAZU40MHZFx3c8zEtfTOm37Qm/aVQm2+asE28ymerYlaEy9ZHWFZ7tbklbRTtfkLqA0CpChzQVOS7DdU4AXEmw3l5LmMJPhTQXO9Gx7ecpCWuobuQsoTYmz8c4ApmWuYRbwNZOgu8nAPdbddP4E+Z6bGIebxDKG0BEgzwM/Ae6PtH/x8zBwrvEbgQXuSvl6YNt0JbWLgRutm0njs7gh7gur14Ih/vT9u6H+3wLcpKTFKjFALjbw0dxFpGTcpXC2y2EL2wHXRdrc6gFt5wNb+k7mJ/kYN+PrjsBGeN4nKMQ44GgSTTtiXA/CKSm2PRjrN2IumxIDRNol5CrqNIVHexh3Bnxz7jpCWTfT999ws35LQroHIr1aNqDtJcmqEKkYd//y57nriKToKxAFiPQqJEBuSlaFyMv1w4OQ2SlApFe+AfKkcTfQRaQjFCDSK98AeTBpFSLdpC4s6TTfgRiPJK1CRBqnAJFe+c4wPCppFSLdpCsQ6TTfaa77YXpwkb6iAJFe+V6BKEBEOkYBIr3yvQJZ38JSSSsR6R51YUmnPenZbllg55SFiEizFCDSq5A1Er5mYflklYhIozQXlvQqJEDeAEy3cEHg+yTcQuAe4ErTH4tDdVXRXVgKEOlVaBCMBw5OUYgM6gkLBxq4KHch0j0KEOmJgcesW2dbXVNlmgD8zMI+xl35SY+sm6hxuRGa3Wbg3+PsrlwKEInhz8BbcxchQzLAtyz83PiPmpOhbYdbUGo4ffHgrG6iSwx/yV2AjGhF4JDcRXSEyV1AKRQgEoOmaW+H/XIX0KCU321NBkjRXVgKEInhl7jlaqVsm1t4fe4iUrPue03PHDVA90CkZwaetHAx8J7ctciI9gVO6GUDFtYDdgImRakovu2ATRNuX1cgFQWIxPIlFCBtsG3dN1r4HHAEMDFeOa2keyAVdWFJFMaNxNIw0fKtEPoGC0tYOAc4EYWHDKAAkZiOBhbkLkKGFdTtZN3Z9i+BD6Ypp5XUhVVRgEg0Bv4O7I2eNSjZyoHtDwR2TFFIi6kLq6IAkaiMu5m+JfC73LXIoIyFsT4NrZtB+aTE9YQUR8sAAA/WSURBVMjwir4C0U10ic7ArcC2FrYC1gEmo89aE/YCpni08z1xPI4a90xaxndBtIF0BVLRL7UkY+AG3EsaYGFt/ALE1/sjbqtEj9Sc2kUBUul8F5aF3SzcYOFRC89buNvCWTHXpbDwbxZusmAjvR63cJGFI6w7exdpVLV65Jq560hsau4CPBTdhdXpALFwJHA5rk9+Rdy63GsDHwZu9+0LHmEfnwS+Q9wHlyYAewBfA262sEnEbYv42DB3AQ2oGyC6Aql0tgvLutEmXxymyWq4Pt6je9xVjCmbhzMR+K2Fdxn4TeJ9iSyyfu4CEnsROLPme30CZIqFa2puf6BlImwjmc4GCO6J25H+8XfpZQfWrbC3ei/b8DQGuMTCZOPW3hBJbbXcBSR2UjXYI5VxwA4Jt1+ELndh+Uwat3aP+wgdU9+L5ej9aknEV1e7aRYCX6hedXX13yZYl69Axnm0GdPjPsb3+P5QR1r4qoF/NLxfkeEswK0J81zuQoZgcevCPwT8n4HretyeAqTS5QBpQtOrji0NvAP4UcP7FRnKd4FPG5iTuxBpngKkNzMz7HO9DPuUdmh6yOc84HDjbkj3E12BVLp8D6QJChDpZ4/1YXiAAuSfFCC9mUbzl+4KEBEpggKkB8bdPPxZw7tdseH9iYgMSgHSu+OAR3MXISLpWXVfvYxuovfIwEPWrcF8CLA54R+wMbgJ8EbHrk1EJCUFSAQG7qGHh/ysWyXuD8BroxUlIinoCmQAdWEVwLjRXAfmrkNERqQAGUBXIIUw8BsL9wJr5a5FRHo2G7glwna2pfkHlr0pQMoyFQWI1Ff02hEd4XsFcquJsJa8dUH06l63k4q6sMrySO4CRGRYvgHSF2GuK5CyLMhdQC4WVsUtyrVy9Vqp+nMc5fQ7L8Ddr5qBC/sZwH3AH4yb5VVkkb74PChAJJsqNN5TvbahnKAI9ZiF84HzgBtMn5x9AkvmLiAD389oXwSIurCkcRZeZ+HXuOm1T8PdKGxreICbHeDjwO+A+y28O3M9TVnZunVq+om6sAZQgEijLBwG3A7slLuWRCYDF1o408KyuYtpwKG5CyiUrkBEYrGwkoVfAd+mP75YDwJus/DG3IUk9gXbXxN86gpkAN0DkeQsvAb3pP0auWtp2FrADRbeZODO3MUkMga42cKfaNcgkGnACQYeDHyf7oEMoACRpCwsA/yC/guPRZYBrrSwmYFZuYtJZDTuPlab7AC8ycKmiQY99EWAqAtLkrHu83UBbnhuP5sMXGbTj1rqi26TiDYm/F6curAGUIBISt/BreEubqbm7+cuIsDjuQtoSKoA0RWISF3W/WIekruOwuxn4V9yF+Hp7twFNCTVAAAFiEgP/it3AYU6IXcBnqblLqAh4wLbqwtrAAWIRGdhN2CL3HUUalMLO+cuYiQGHgbm5a6jAaETFaoLa4C+H4VlI8yYGdEquQuI5OTcBRTuOODq3EV4OA/4SO4iEks1A0JfXIH0fYAAv8ldQJdYd+XR9YfnerWDhfWMm76/ZMcD+1PwehQRzA5sryuQARQgEtv7enz/bOAG3DMTs4Cne64onlcBE3FzX60LbNDDtvak8AAx8KCFM3DTz3TVU4HtFSADKEAktg/WfN/vcMN+LzAt6Xu38GbgY7ifOfR+4l7ASdGLiu8E3M9X7KJGPbo30Xb7ogtLN9ElGuumZF8x8G3PAIcZ2NbAuW0JDwADNxr4EO6p5tDFwDazbr2TmKJ/aRl4FPcg6F2xt12I6wLb6wpkAAWIxBTaffUYsJGB76YopikGrgc2JHy+q30SlBOdcWfpmwE/y11LZHcBVwW+Zw7wnEe71pwI9UJdWBKFdWdmIV+ITwNvNfD3RCU1ysATFnYFbgXGe75tT+Dr6aqKx8CzwN7VVdMGwBTCn6EoyRzgIgMvhrzJwEILl+MWQRvOn2pX1iIKEIllPcK6rz5t4I5UxeRQ3XQ+EjjL8y3bWhhlWjSLrXFddY/gpubvVx/BTfWyD4OfLFwGnNloRZmoC0tiCRm6eydudE8XnQ38zbPtKGCdhLVIAgaeNfBvuBF5KwNb4abu2QlY28A723RS0AtdgUgsGwW0Payrv2BVF8cxwEWeb9mAwofzyuCqaeAfrV59SVcgEovvFchUEz7ypVUMXAzM8Gy+fspaRFJSgEgsvgFyYdIqynGxZ7teHkYUyUoBIj2zsDz+83j1S4D83LOdAkRaSwEiMWzm2e45A39OWkk5fLvp1rXx5prqi6efpRx9HyAGTCkv2vtAne9657cnraIgxj1h/7BH01HEfyJdpBF9HyASxUTPdrclraI8vk+mt/mBPOljChCJQQEyOAWIdJoCRGKY4NnOp0unS+7zbKcAkVZSgEgMvlcgoWsvtJ3vYkUKEGklBYjEoAAZnO/PqwCRVlKASAy+XVj9FiC6ApFO01xYEoPvanVzklZRHt8AibXaX/TnQCyMBd4LvAVYBrgG+ImBmbH3Je2jAJEYfCdG9F3Nrd8ErUnRFAuTcQsurTvgr/cCPmlhZ5NuOdjiWZgEfAA3A+983JLMPzPwQNbCGqYAkRh8vwCXTlpFeUZ7tit19bof8PLwWGQN3LT1WzdbThksrAVcC6w64K/fAxxvYU/j/l9f0D0QiUEBMrjWBkj1JbnzME22soOHSz/4AS8Pj0XGA5dX3X59QQEiMShABucbIC8kraKe4cJjkZ2SV1EYC68HthumybLAoQ2Vk50CRGLwDZBJSasoj+/otOKuQIDVPdoMdhbedW/xaPOO5FUUQgEiMfgGyGuTVlGe13m2KzFAJnu06ccA8fmZff7tOkEBIjH4BojvF2pX+AZmiV1YPg+HviZ5FeXxWfdGASIS4B+e7XQFMrjHk1ZRj8+Q634clj3Go43vva/W6/sAsX4fiKYslbuAmv7u2W7bpFUUxLov1008m0+Pt1uR5vR9gOCWYy1FW28y+wbIZAtvSFpJObbEb4qSBfjP2itSFAUITMldwAAr5S6gJt8AAdg1WRVl8f057zf+T/KLFEUBAvvkLgDAuqd6N85dR00KkMX5/px9Ox2ItJ+mMoEDLGwO3Ag8lGH/y+L6ynemvTcl7wlou4uFNU2Hu22sO55beDaPdf9DpHFdDpCQG4obVq82WJi7gFcy8Lx1I4l8hn6OAk4F9k5bVVbfCWirKxBprS53YZX4cFYMc3MXMIQbAtruZWHfZJVkZOFjwJsD3vKnVLWIpNblAHkudwGJlBqMPw9s/30LmyapJBML2wBfD3jLbOC3icoRSU4B0j5P5y5gCJcFth8N/NoWMoihVxYOwK2dMSrgbVdpBJa0WZcDpKs3aR/LXcBgjBuAcFvg28YBP7Fwtm3pEGYLq1q4BPg+bkBEiNCrNo9yRJrT5QAJ/TJriyIDpFL3C3E/4EELF1vY08IUCyvZsLP55CwsYWFlCxtZeJ91V10PAO+qtzkuj1uhSLM6OwrLwAPWnRWvlruWyEq+sroM+EzN9y4B7F69/qnDp9R/NP5ziIkUqctXIBDeL98Gt+QuYCgGfg/8OXcdLREy1FekSF0PkG9R4HMTPZgP/Cp3ESM4MncBLXA3bk1xkVbrbBcWgIE7LHwDOCJ3LZFcbOCp3EUMx8D11b2Bf8ldS8E+ZbpxYrOVhWtyF9Gw9XIXUJJOB0jlaNzMqFvmLqRHc4FP5S7C0yeB3ej+FW4dNxi4NHcRkUwAdshdhOTT+V9w47p93orrzmrrPdm/AlsauD93IT4M3AUck7uOAs0BPpy7CJFY+uEKBAPPAodbOBHXtbIRsDruDKrUCQwX4IaIXgf8sG1dHga+Yt3l/gG5aynEAmB3A9NyFyISS18EyCIGZgI/yF1HHzkYN4x6l9yFFOATBq5NvI+2XmFLS3W+C0vyqabp2BOYmruWzH5g4PTcRYjEpgCRpKruw62AM3PXksGigQ8H5S5EJAUFiCRnYLaBQ4Dt6Z8FlG4Ephg4tW33r0R8KUCkMcZNXb4h8BW6+6U6FzgK2NqErdQo0joKEGmUgeeNezZnZdwIrfNxw1vbbA7u5/gQsIqBU3TVIf2gr0ZhSTmqEXFnAWdZ9zncAjdia8XqNan689WUM9R6LvAobkbkR6vXg8CN1fNGIn1FASLZGXgRNxGjiLSIurBERKQWXYGIdEfTDxJOA37c8D5z2xs3EERQgIhIfXcb+HzuIppkYR0UIP+kLiwREalFASIiIrUoQEREpBYFiIiI1KIAERGRWhQgIiJSiwJERERqUYCIdIdWJJRGKUBERKQWBYiIiNSiABGRupbLXUAGY3IXUBIFiIjUtXzuAjJYMXcBJVGAiEhd61lYJncRTbFucbONc9dREgWIiNS1FHC87YNZvS0sCXwRGJ27lpKUeOA3t302RXQGq8feoIV9gH1x3RqLlqA1+u/G/7tpxwDHaPxwfyoxQN5UvaQlLBwFfDl3HRLVwtwFtNj83AU0RV1Y0hMLY4H/zF2HBPEJh+eTV9Fdc3MX0BQFiPRqD1xfuLTDswae9mj3XPJKumte7gKaogCRXmlUSrvc4dnu0aRVdNuc3AU0RQEiw/G5NzoxeRUS0988292btIpum5G7gKY0HSAvNLw/6c1Mjzbjk1chMU31bKcAqU8Bkojvh1fK8IBHm2eSVyGxzAf+17PtTcCChLV02d25C2hK0wFya8P7k/qmG78rkMeSVyKxnG7gfp+GBmYDv0pcT1fdEHFbvidoz0bcp7emA+S2hvcn9f3Qs50CpB2eBk4IfI+GZ4ebC/w64vZ8rmYeMPBixH16azpALgQubnifEm4BcK5n29+lLESieBHY38CTIW8ycD3wnTQlddbZJu5zIBd4tPm/iPsL0miAGNcHuxdwCnpQqVQW92XjdRPVuACZnrYk6cE8YHdT/8Tt48D3ItbTZfcDn4q5QQOn415DeZyMV4qND+M1sNC4qS/WAD4HXAo83HQdMqhrgd0MnBf4vj2BOxPUI715FtjFwBV1N1D9vv4b8E7glmiVdc/1wJYmwTMgxoX4jsDZuBO7F4H7cFceGxp4IvY+fWWbC8vALNzsltJyxt3b2sDCRsCE3PUIL+KGkj5oIs3LZOAy4DILmwDjYmyzQ2aYxCOvjDu5uzblPuoocTJFaSmjQRKdZ+Dm3DVIOfQkuoiI1KIAERGRWhQgIiJSiwJERERqUYCIiEgtChAREalFASIiIrUoQEREpJbUDxLuaOHkxPsQEZHB7Zhy46kDZMvqJSIiHaMuLBERqUUBIiIitShARESkFgWIiIjUogAREZFaFCAiIlKLAkRERGpRgIiISC0KEBERqUUBIiIitShARESkFgWIiIjUogAREZFaFCAiIlKLAkRERGpRgIiISC1msL+0MApYteFaRESkTA8bWJC7CBERERERERERERERERERkWL9f8GkA7e6iMNFAAAAAElFTkSuQmCC",Hb=()=>{const{projects:s,constructionPayments:n,loadConstructionPaymentsFromAPI:t,addConstructionPaymentToAPI:r,updateConstructionPaymentInAPI:i,deleteConstructionPaymentFromAPI:a,executionRecords:o,payments:m}=vs(),[d,c]=l.useState(n),[u,g]=l.useState([]),[b,p]=l.useState(!1),[w,k]=l.useState("cash"),[j,B]=l.useState({project:"",client:"",amount:"",date:Le(new Date,"yyyy-MM-dd"),clientSignature:"",totalContractAmount:0,previousAmount:0,remainingAmount:0,startDate:"",endDate:""});l.useEffect(()=>{console.log(" ConstructionPayment: Loading payments from API..."),t().then(()=>{console.log(" ConstructionPayment: Payments loaded successfully")}).catch(I=>{console.error(" ConstructionPayment: Failed to load construction payments:",I),R.error("   ")})},[t]),l.useEffect(()=>{console.log(" ConstructionPayment: Loading additional works from API..."),Kn.getAllAdditionalWorks().then(I=>{console.log(" ConstructionPayment: Additional works loaded:",I),g(I.map(ae=>({_id:ae._id,project:ae.project,amount:ae.amount})))}).catch(I=>{console.error(" ConstructionPayment: Failed to load additional works:",I)})},[]),l.useEffect(()=>{const I=()=>{Be()};return window.addEventListener("headerAddButtonClick",I),()=>window.removeEventListener("headerAddButtonClick",I)},[]),l.useEffect(()=>{console.log(" ConstructionPayment: Syncing with dataStore"),console.log(" constructionPayments:",n),console.log(" projects:",s);const I=n.map(ae=>({...ae,vatType:ae.vatType||"percentage",vatPercentage:ae.vatPercentage??100,vatAmount:ae.vatAmount??0,payments:ae.payments.map(E=>{var W;return{...E,type:E.type||((W=E.types)==null?void 0:W[0])||""}})}));console.log(" Normalized records:",I),c(I)},[n,s]);const[y,O]=l.useState(null),[ge,ee]=l.useState(!1),[Y,de]=l.useState(!1),[T,oe]=l.useState(!1),[re,Z]=l.useState(!1),[X,be]=l.useState(null),[we,Me]=l.useState("remaining"),[Ve,Ee]=l.useState({projectId:"",totalAmount:0,vatType:"percentage",vatPercentage:100,vatAmount:0}),[_e,Ue]=l.useState({types:[],percentage:0,amount:0,date:"",method:"",notes:""}),Oe={:10,:40,:40,:10,:0},fe=I=>I.reduce((ae,E)=>ae+(Oe[E]||0),0),He=(I,ae)=>{const E=y?s.find(pe=>pe.name===y.project):null;if(!E||I.length===0||!E.startDate||!E.endDate)return"";const W=new Date(E.startDate),J=new Date(E.endDate);if(isNaN(W.getTime())||isNaN(J.getTime())||I.includes(""))return"";if(I.includes("")){const pe=new Date(W);return pe.setDate(pe.getDate()-7),Le(pe,"yyyy-MM-dd")}else if(I.includes("")){const pe=W.getTime()+(J.getTime()-W.getTime())/2;return Le(new Date(pe),"yyyy-MM-dd")}else if(I.includes("")||I.includes(""))return Le(J,"yyyy-MM-dd");return""},De=I=>{const ae=s.find(L=>L.name===I.project);if(!ae)return[];if(!ae.startDate||!ae.endDate)return[];const E=S(I),W=new Date(ae.startDate),J=new Date(ae.endDate);if(isNaN(W.getTime())||isNaN(J.getTime()))return[];const pe=[];pe.push({type:"",date:null,amount:Math.round(E*.1),percentage:10,status:"pending"});const ve=new Date(W);ve.setDate(ve.getDate()-7),pe.push({type:"",date:ve,amount:Math.round(E*.4),percentage:40,status:ve<=new Date?"overdue":"pending"});const P=W.getTime()+(J.getTime()-W.getTime())/2,C=new Date(P);return pe.push({type:"",date:C,amount:Math.round(E*.4),percentage:40,status:C<=new Date?"overdue":"pending"}),pe.push({type:"",date:J,amount:Math.round(E*.1),percentage:10,status:J<=new Date?"overdue":"pending"}),I.payments.forEach(L=>{var V;(((V=L.type)==null?void 0:V.split(", "))||[]).forEach(h=>{const M=pe.find(ke=>ke.type===h.trim());M&&(M.status="completed",M.actualDate=L.date,M.actualAmount=L.amount)})}),pe},Be=()=>{ee(!0)},Re=async()=>{if(T)return;console.log(" handleSaveProject called"),console.log(" newProject:",Ve),console.log(" projects:",s);const I=s.find(ae=>ae.id===Ve.projectId||ae.id===parseInt(Ve.projectId)||ae.id.toString()===Ve.projectId.toString());if(console.log(" selectedProject:",I),console.log(" totalAmount:",Ve.totalAmount,"type:",typeof Ve.totalAmount),!I){alert(" ");return}if(Ve.totalAmount<=0){alert("   (0  )");return}oe(!0);try{const ae={id:"",project_id:I.id,project:I.name,client:I.client,totalAmount:Ve.totalAmount,vatType:Ve.vatType,vatPercentage:Ve.vatPercentage,vatAmount:Ve.vatAmount,payments:[]};console.log(" Sending to API:",ae),await r(ae),R.success(" "),ee(!1),Ee({projectId:"",totalAmount:0,vatType:"percentage",vatPercentage:100,vatAmount:0})}catch(ae){console.error("Failed to add construction payment:",ae),R.error("  ")}finally{oe(!1)}},Ke=()=>{be(null),Ue({types:[],percentage:0,amount:0,date:"",method:"",notes:"",quickText:""}),de(!0)},ze=I=>{const ae=y==null?void 0:y.payments[I];if(!ae)return;be(I);const E=ae.type?ae.type.split(",").map(W=>W.trim()):[];Ue({types:E,percentage:fe(E),amount:ae.amount,date:Le(ae.date,"yyyy-MM-dd"),method:ae.method,notes:ae.notes||""}),de(!0)},qe=async()=>{if(!re){if(!y||!_e.date||_e.amount<=0||_e.types.length===0){alert("  ");return}Z(!0);try{let I;X!==null?I=y.payments.map((W,J)=>J===X?{type:_e.types.join(", "),amount:_e.amount,date:new Date(_e.date),method:_e.method,notes:_e.notes}:W):I=[...y.payments,{type:_e.types.join(", "),amount:_e.amount,date:new Date(_e.date),method:_e.method,notes:_e.notes}];const ae={...y,payments:I};await i(y.id,ae),R.success(X!==null?" ":" ");const E=d.map(W=>W.id===y.id?ae:W);c(E),O(ae),de(!1),be(null),Ue({types:[],percentage:0,amount:0,date:"",method:"",notes:""})}catch(I){console.error("Failed to save payment:",I),R.error("  ")}finally{Z(!1)}}},S=I=>{const ae=I.totalAmount;if(I.vatType==="amount")return ae+(I.vatAmount||0);{const E=ae*((I.vatPercentage??100)/100)*.1;return ae+E}},ue=I=>{const ae=ye(I.project);if(I.vatType==="amount")return I.totalAmount+(I.vatAmount||0)+ae;{const E=I.totalAmount*((I.vatPercentage??100)/100)*.1;return I.totalAmount+E+ae}},xe=I=>I.vatType==="amount"?I.vatAmount||0:I.totalAmount*((I.vatPercentage??100)/100)*.1,te=I=>{if(!y)return 0;const ae=S(y);return Math.round(ae*I/100)},q=I=>I.payments.reduce((ae,E)=>ae+E.amount,0),G=I=>ue(I)-q(I),z=I=>{const ae=o.filter(W=>W.project===I).reduce((W,J)=>W+(J.totalAmount||0),0),E=m.filter(W=>(W.status==="approved"||W.status==="completed")&&W.project===I).reduce((W,J)=>W+J.amount,0);return ae+E},ye=I=>u.filter(ae=>ae.project===I).reduce((ae,E)=>ae+E.amount,0),Se=d.filter(I=>{if(we==="all")return!0;const ae=G(I);return we==="completed"?ae===0:we==="remaining"?ae>0:!0});return e.jsxDEV("div",{className:"space-y-3 md:space-y-4",children:[e.jsxDEV("div",{className:"border-b border-gray-200 flex items-center justify-between",children:[e.jsxDEV("nav",{className:"flex space-x-4 md:space-x-8 overflow-x-auto",children:[{id:"remaining",label:"",count:d.filter(I=>G(I)>0).length},{id:"completed",label:"",count:d.filter(I=>G(I)===0).length},{id:"all",label:"",count:d.length}].map(I=>e.jsxDEV("button",{onClick:()=>Me(I.id),className:`py-3 md:py-4 px-1 border-b-2 font-medium text-xs md:text-sm transition-colors whitespace-nowrap ${we===I.id?"border-gray-700 text-gray-700":"border-transparent text-gray-400 hover:text-gray-700 hover:border-gray-300"}`,children:[I.label,e.jsxDEV("span",{className:`ml-1 md:ml-2 py-0.5 px-1.5 md:px-2 rounded-full text-[10px] md:text-xs font-semibold ${we===I.id?"bg-gray-700 text-white":"bg-gray-200 text-gray-600"}`,children:I.count},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:557,columnNumber:15},void 0)]},I.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:547,columnNumber:13},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:541,columnNumber:9},void 0),e.jsxDEV("button",{onClick:Be,className:"btn btn-primary px-4 py-2 whitespace-nowrap hidden md:block",children:"+"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:565,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:540,columnNumber:7},void 0),e.jsxDEV("div",{className:"construction-payment-grid grid grid-cols-1 lg:grid-cols-1 xl:grid-cols-3 gap-6",children:Se.map(I=>{const ae=q(I),E=G(I),W=S(I),J=ae/W*100;return e.jsxDEV("div",{className:"card hover:border-gray-400 transition-colors",children:[e.jsxDEV("div",{className:"mb-4",children:e.jsxDEV("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-2 mb-2",children:[e.jsxDEV("h3",{className:"font-bold text-lg text-gray-900 flex-shrink-0",children:I.project},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:585,columnNumber:19},void 0),e.jsxDEV("div",{className:"flex gap-1.5 flex-wrap",children:[e.jsxDEV("button",{onClick:()=>{const pe=q(I),ve=S(I),P=ve-pe,C=s.find(L=>L.name===I.project);B({project:I.project,client:I.client,amount:"",date:Le(new Date,"yyyy-MM-dd"),clientSignature:"",totalContractAmount:ve,previousAmount:pe,remainingAmount:P,startDate:C!=null&&C.startDate?Le(new Date(C.startDate),"yyyy-MM-dd"):"",endDate:C!=null&&C.endDate?Le(new Date(C.endDate),"yyyy-MM-dd"):""}),k("transfer"),p(!0)},className:"px-2 py-1 text-xs sm:px-3 sm:py-1.5 sm:text-sm bg-gray-800 text-white rounded hover:bg-gray-900 transition-colors whitespace-nowrap",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:587,columnNumber:21},void 0),e.jsxDEV("button",{onClick:()=>{const pe=q(I),ve=S(I),P=ve-pe,C=s.find(L=>L.name===I.project);B({project:I.project,client:I.client,amount:"",date:Le(new Date,"yyyy-MM-dd"),clientSignature:"",totalContractAmount:ve,previousAmount:pe,remainingAmount:P,startDate:C!=null&&C.startDate?Le(new Date(C.startDate),"yyyy-MM-dd"):"",endDate:C!=null&&C.endDate?Le(new Date(C.endDate),"yyyy-MM-dd"):""}),k("cash"),p(!0)},className:"px-2 py-1 text-xs sm:px-3 sm:py-1.5 sm:text-sm bg-gray-800 text-white rounded hover:bg-gray-900 transition-colors whitespace-nowrap",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:616,columnNumber:21},void 0),e.jsxDEV("button",{onClick:()=>O(I),className:"px-2 py-1 text-xs sm:text-sm text-gray-600 hover:text-gray-800 whitespace-nowrap",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:645,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:586,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:584,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:583,columnNumber:15},void 0),e.jsxDEV("div",{className:"mb-4",children:e.jsxDEV("div",{className:"p-3 bg-gray-50 border border-gray-200 rounded-lg",children:e.jsxDEV("div",{className:"flex items-start justify-between",children:[e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("p",{className:"text-xs text-gray-600 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:660,columnNumber:23},void 0),e.jsxDEV("p",{className:"text-2xl font-bold text-gray-900",children:["",I.totalAmount.toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:661,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:659,columnNumber:21},void 0),e.jsxDEV("div",{className:"ml-4 text-right",children:[e.jsxDEV("p",{className:"text-xs text-gray-500 mb-1",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:666,columnNumber:23},void 0),e.jsxDEV("p",{className:"text-sm font-semibold text-gray-700",children:["",W.toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:669,columnNumber:23},void 0),e.jsxDEV("p",{className:"text-xs text-gray-500 mt-0.5",children:["( ",I.vatType==="percentage"?`${I.vatPercentage??100}%`:`${(I.vatAmount||0).toLocaleString()}`," )"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:672,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:665,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:658,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:657,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:656,columnNumber:15},void 0),e.jsxDEV("div",{className:"mb-4",children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-2",children:[e.jsxDEV("span",{className:"text-sm text-gray-600",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:683,columnNumber:19},void 0),e.jsxDEV("span",{className:"text-sm font-medium text-gray-900",children:[J.toFixed(1),"%"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:684,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:682,columnNumber:17},void 0),e.jsxDEV("div",{className:"w-full bg-gray-200 h-2 rounded-full",children:e.jsxDEV("div",{className:"bg-gray-600 h-2 rounded-full transition-all",style:{width:`${J}%`}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:687,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:686,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:681,columnNumber:15},void 0),e.jsxDEV("div",{className:"mb-4",children:e.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-4 gap-3",children:[e.jsxDEV("div",{className:"p-3 bg-gray-50 border border-gray-200 rounded-lg",children:[e.jsxDEV("p",{className:"text-xs text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:698,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-base font-bold text-gray-800",children:["",ae.toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:699,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:697,columnNumber:19},void 0),e.jsxDEV("div",{className:"p-3 bg-gray-50 border border-gray-200 rounded-lg",children:[e.jsxDEV("p",{className:"text-xs text-gray-700 mb-1",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:704,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-base font-bold text-gray-800",children:["",z(I.project).toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:705,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:703,columnNumber:19},void 0),e.jsxDEV("div",{className:"p-3 bg-gray-50 border border-gray-200 rounded-lg",children:[e.jsxDEV("p",{className:"text-xs text-gray-700 mb-1",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:710,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-base font-bold text-gray-800",children:["",ye(I.project).toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:711,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:709,columnNumber:19},void 0),e.jsxDEV("div",{className:"p-3 bg-gray-50 border border-gray-200 rounded-lg",children:[e.jsxDEV("p",{className:"text-xs text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:716,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-base font-bold text-gray-800",children:["",E.toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:717,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:715,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:696,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:695,columnNumber:15},void 0),I.payments.length>0&&e.jsxDEV("div",{className:"border-t pt-4",children:[e.jsxDEV("p",{className:"text-xs text-gray-500 mb-2",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:727,columnNumber:19},void 0),I.payments.slice(-2).reverse().map((pe,ve)=>e.jsxDEV("div",{className:"flex items-center justify-between text-sm mb-1",children:[e.jsxDEV("span",{className:"text-gray-700",children:[pe.type||""," - ",Le(pe.date,"MM/dd")]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:730,columnNumber:23},void 0),e.jsxDEV("span",{className:"font-medium text-gray-900",children:["",pe.amount.toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:733,columnNumber:23},void 0)]},ve,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:729,columnNumber:21},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:726,columnNumber:17},void 0)]},I.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:582,columnNumber:17},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:574,columnNumber:7},void 0),y&&e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:e.jsxDEV("div",{className:"bg-white rounded-lg max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxDEV("div",{className:"p-6 border-b",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("h2",{className:"text-xl font-semibold",children:y.project},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:751,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>O(null),className:"p-2 hover:bg-gray-100 rounded-lg",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:752,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:750,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:749,columnNumber:13},void 0),e.jsxDEV("div",{className:"p-6",children:[e.jsxDEV("div",{className:"mb-6",children:[e.jsxDEV("h3",{className:"text-lg font-semibold mb-4",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:764,columnNumber:17},void 0),e.jsxDEV("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[e.jsxDEV("div",{className:"space-y-3",children:De(y).map((I,ae)=>{var J;const W={:"contract",:"start",:"middle",:"final"}[I.type];return e.jsxDEV("div",{className:"flex items-center justify-between gap-3",children:[e.jsxDEV("div",{className:"flex items-center space-x-3 flex-1",children:[e.jsxDEV("span",{className:`px-2 py-1 text-xs font-medium rounded ${I.status==="completed"?"bg-green-100 text-green-800":I.status==="overdue"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:I.type},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:780,columnNumber:29},void 0),I.status!=="completed"?e.jsxDEV("input",{type:"date",value:(J=y.expectedPaymentDates)!=null&&J[W]?Le(new Date(y.expectedPaymentDates[W]),"yyyy-MM-dd"):I.date?Le(I.date,"yyyy-MM-dd"):"",onChange:async pe=>{const ve=pe.target.value?new Date(pe.target.value):null,P={...y.expectedPaymentDates,[W]:ve},C={...y,expectedPaymentDates:P};O(C);try{await i(y.id,{expectedPaymentDates:P});const L=d.map(f=>f.id===y.id?C:f);c(L),R.success("  ")}catch(L){console.error("Failed to update payment date:",L),R.error("  ")}},className:"px-3 py-1.5 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-gray-600"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:788,columnNumber:31},void 0):e.jsxDEV("span",{className:"text-sm text-gray-700",children:[I.date?Le(I.date,"yyyy MM dd"):" ",I.actualDate&&e.jsxDEV("span",{className:"text-green-600 ml-2",children:["(: ",Le(I.actualDate,"MM/dd"),")"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:824,columnNumber:35},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:821,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:779,columnNumber:27},void 0),e.jsxDEV("div",{className:"text-right",children:[e.jsxDEV("p",{className:"text-sm font-medium text-gray-900",children:["",I.amount.toLocaleString(),e.jsxDEV("span",{className:"text-xs text-gray-500 ml-1",children:["(",I.percentage,"%)"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:834,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:832,columnNumber:29},void 0),I.status==="completed"&&I.actualAmount&&e.jsxDEV("p",{className:"text-xs text-green-600",children:[": ",I.actualAmount.toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:837,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:831,columnNumber:27},void 0)]},ae,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:778,columnNumber:25},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:766,columnNumber:19},void 0),e.jsxDEV("div",{className:"mt-4 pt-3 border-t border-gray-200",children:e.jsxDEV("div",{className:"flex justify-between text-sm",children:[e.jsxDEV("span",{className:"text-gray-600",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:848,columnNumber:23},void 0),e.jsxDEV("span",{className:"font-bold text-gray-900",children:["",S(y).toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:849,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:847,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:846,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:765,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:763,columnNumber:15},void 0),e.jsxDEV("div",{className:"space-y-4 mb-6",children:[e.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxDEV("div",{className:"p-4 bg-gray-50 border border-gray-300 rounded-lg",children:[e.jsxDEV("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"  ()"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:861,columnNumber:21},void 0),e.jsxDEV("input",{type:"number",value:y.totalAmount||"",onChange:async I=>{const ae=I.target.value===""?0:Number(I.target.value),E={...y,totalAmount:ae};O(E);try{await i(y.id,E);const W=d.map(J=>J.id===y.id?E:J);c(W)}catch(W){console.error("Failed to update total amount:",W),R.error("  ")}},className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-lg font-bold focus:outline-none focus:ring-2 focus:ring-gray-600 focus:border-transparent",placeholder:"50000000",min:"0"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:864,columnNumber:21},void 0),e.jsxDEV("p",{className:"mt-2 text-xs text-gray-500",children:"   "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:889,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:860,columnNumber:19},void 0),e.jsxDEV("div",{className:"p-4 bg-gray-50 border border-gray-200 rounded-lg",children:[e.jsxDEV("p",{className:"text-xs text-gray-700 mb-1",children:["  ( ",y.vatType==="percentage"?`${y.vatPercentage??100}%`:`${(y.vatAmount||0).toLocaleString()}`," )"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:892,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-xl font-bold text-gray-900",children:["",S(y).toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:895,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:891,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:859,columnNumber:17},void 0),e.jsxDEV("div",{className:"p-4 bg-gray-50 border border-gray-300 rounded-lg",children:[e.jsxDEV("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"  "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:903,columnNumber:19},void 0),e.jsxDEV("div",{className:"flex gap-2 mb-3",children:[e.jsxDEV("button",{type:"button",onClick:async()=>{const I={...y,vatType:"percentage"};O(I);try{await i(y.id,I);const ae=d.map(E=>E.id===y.id?I:E);c(ae)}catch(ae){console.error("Failed to update VAT type:",ae),R.error("   ")}},className:`flex-1 px-3 py-2 text-sm border rounded-lg font-medium transition-colors ${y.vatType==="percentage"?"border-gray-900 bg-gray-900 text-white":"border-gray-300 bg-white text-gray-700 hover:border-gray-400"}`,children:" (%)"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:909,columnNumber:21},void 0),e.jsxDEV("button",{type:"button",onClick:async()=>{const I={...y,vatType:"amount"};O(I);try{await i(y.id,I);const ae=d.map(E=>E.id===y.id?I:E);c(ae)}catch(ae){console.error("Failed to update VAT type:",ae),R.error("   ")}},className:`flex-1 px-3 py-2 text-sm border rounded-lg font-medium transition-colors ${y.vatType==="amount"?"border-gray-900 bg-gray-900 text-white":"border-gray-300 bg-white text-gray-700 hover:border-gray-400"}`,children:" ()"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:936,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:908,columnNumber:19},void 0),y.vatType==="percentage"&&e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"   (%)"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:968,columnNumber:23},void 0),e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV("input",{type:"number",value:y.vatPercentage,onChange:async I=>{const ae=Number(I.target.value),E={...y,vatPercentage:ae};O(E);try{await i(y.id,E);const W=d.map(J=>J.id===y.id?E:J);c(W)}catch(W){console.error("Failed to update VAT percentage:",W),R.error("   ")}},className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-gray-600 focus:border-transparent",placeholder:"100",min:"0",max:"100"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:972,columnNumber:25},void 0),e.jsxDEV("div",{className:"text-xs text-gray-600",children:e.jsxDEV("p",{children:[": ",xe(y).toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:999,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:998,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:971,columnNumber:23},void 0),e.jsxDEV("p",{className:"mt-2 text-xs text-gray-500",children:"0%:   | 100%:     | 50%:   "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1002,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:967,columnNumber:21},void 0),y.vatType==="amount"&&e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"   ()"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1011,columnNumber:23},void 0),e.jsxDEV("input",{type:"number",value:y.vatAmount,onChange:async I=>{const ae=Number(I.target.value),E={...y,vatAmount:ae};O(E);try{await i(y.id,E);const W=d.map(J=>J.id===y.id?E:J);c(W)}catch(W){console.error("Failed to update VAT amount:",W),R.error("   ")}},className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-gray-600 focus:border-transparent",placeholder:"5000000",min:"0"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1014,columnNumber:23},void 0),e.jsxDEV("p",{className:"mt-2 text-xs text-gray-500",children:"    "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1039,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1010,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:902,columnNumber:17},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxDEV("div",{className:"p-4 bg-gray-50 rounded-lg",children:[e.jsxDEV("p",{className:"text-xs text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1048,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-lg font-bold text-gray-800",children:["",q(y).toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1049,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1047,columnNumber:19},void 0),e.jsxDEV("div",{className:"p-4 bg-gray-50 rounded-lg",children:[e.jsxDEV("p",{className:"text-xs text-gray-700 mb-1",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1054,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-lg font-bold text-gray-800",children:["",z(y.project).toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1055,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1053,columnNumber:19},void 0),e.jsxDEV("div",{className:"p-4 bg-gray-50 rounded-lg",children:[e.jsxDEV("p",{className:"text-xs text-gray-700 mb-1",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1060,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-lg font-bold text-gray-800",children:["",ye(y.project).toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1061,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1059,columnNumber:19},void 0),e.jsxDEV("div",{className:"p-4 bg-gray-50 rounded-lg",children:[e.jsxDEV("p",{className:"text-xs text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1066,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-lg font-bold text-gray-800",children:["",G(y).toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1067,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1065,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1046,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:858,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-4",children:[e.jsxDEV("h3",{className:"text-lg font-semibold",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1077,columnNumber:19},void 0),e.jsxDEV("button",{onClick:Ke,className:"btn btn-primary btn-sm",children:"+  "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1078,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1076,columnNumber:17},void 0),e.jsxDEV("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:e.jsxDEV("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsxDEV("thead",{className:"bg-gray-50",children:e.jsxDEV("tr",{children:[e.jsxDEV("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1087,columnNumber:25},void 0),e.jsxDEV("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1088,columnNumber:25},void 0),e.jsxDEV("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1089,columnNumber:25},void 0),e.jsxDEV("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1090,columnNumber:25},void 0),e.jsxDEV("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1091,columnNumber:25},void 0),e.jsxDEV("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1092,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1086,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1085,columnNumber:21},void 0),e.jsxDEV("tbody",{className:"bg-white divide-y divide-gray-200",children:y.payments.map((I,ae)=>e.jsxDEV("tr",{className:"hover:bg-gray-50",children:[e.jsxDEV("td",{className:"px-4 py-3",children:e.jsxDEV("span",{className:"px-2 py-1 text-xs font-medium bg-gray-100 text-gray-800 rounded",children:I.type||""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1099,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1098,columnNumber:27},void 0),e.jsxDEV("td",{className:"px-4 py-3 font-medium text-gray-900",children:["",I.amount.toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1103,columnNumber:27},void 0),e.jsxDEV("td",{className:"px-4 py-3 text-sm text-gray-900",children:Le(I.date,"yyyy MM dd")},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1106,columnNumber:27},void 0),e.jsxDEV("td",{className:"px-4 py-3 text-sm text-gray-900",children:I.method},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1109,columnNumber:27},void 0),e.jsxDEV("td",{className:"px-4 py-3 text-sm text-gray-600",children:I.notes||"-"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1112,columnNumber:27},void 0),e.jsxDEV("td",{className:"px-4 py-3 text-center",children:e.jsxDEV("button",{onClick:()=>ze(ae),className:"text-gray-600 hover:text-gray-700 transition-colors",children:e.jsxDEV(Jr,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1120,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1116,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1115,columnNumber:27},void 0)]},ae,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1097,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1095,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1084,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1083,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1075,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:761,columnNumber:13},void 0),e.jsxDEV("div",{className:"p-6 border-t flex justify-between",children:[e.jsxDEV("button",{onClick:async()=>{if(y&&window.confirm(`   ?
    .`))try{await a(y.id),R.success(" "),O(null)}catch(I){console.error("Failed to delete construction payment:",I),R.error(" ")}},className:"btn btn-outline text-red-600 hover:bg-red-50 hover:border-red-300",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1132,columnNumber:15},void 0),e.jsxDEV("button",{onClick:()=>O(null),className:"btn btn-outline",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1153,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1131,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:748,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:747,columnNumber:9},void 0),ge&&e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:e.jsxDEV("div",{className:"bg-white rounded-lg max-w-md w-full",children:[e.jsxDEV("div",{className:"p-6 border-b",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("h2",{className:"text-xl font-semibold",children:"  "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1170,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>ee(!1),className:"p-2 hover:bg-gray-100 rounded-lg",children:e.jsxDEV(ft,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1175,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1171,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1169,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1168,columnNumber:13},void 0),e.jsxDEV("div",{className:"p-6 space-y-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1182,columnNumber:17},void 0),e.jsxDEV("select",{value:Ve.projectId,onChange:I=>Ee({...Ve,projectId:I.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-600 focus:border-transparent",children:[e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1190,columnNumber:19},void 0),s.map(I=>e.jsxDEV("option",{value:I.id,children:[I.name," - ",I.client]},I.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1192,columnNumber:21},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1185,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1181,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1200,columnNumber:17},void 0),e.jsxDEV("input",{type:"number",value:Ve.totalAmount||"",onChange:I=>Ee({...Ve,totalAmount:Number(I.target.value)}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-600 focus:border-transparent",placeholder:"50000000"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1203,columnNumber:17},void 0),e.jsxDEV("p",{className:"mt-1 text-xs text-gray-500",children:"  ( )"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1210,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1199,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"   *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1214,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex gap-2 mb-3",children:[e.jsxDEV("button",{type:"button",onClick:()=>Ee({...Ve,vatType:"percentage"}),className:`flex-1 px-3 py-2 text-sm border rounded-lg font-medium transition-colors ${Ve.vatType==="percentage"?"border-gray-900 bg-gray-900 text-white":"border-gray-300 bg-white text-gray-700 hover:border-gray-400"}`,children:" (%)"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1220,columnNumber:19},void 0),e.jsxDEV("button",{type:"button",onClick:()=>Ee({...Ve,vatType:"amount"}),className:`flex-1 px-3 py-2 text-sm border rounded-lg font-medium transition-colors ${Ve.vatType==="amount"?"border-gray-900 bg-gray-900 text-white":"border-gray-300 bg-white text-gray-700 hover:border-gray-400"}`,children:" ()"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1231,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1219,columnNumber:17},void 0),Ve.vatType==="percentage"&&e.jsxDEV("div",{children:[e.jsxDEV("input",{type:"number",value:Ve.vatPercentage??100,onChange:I=>{const ae=I.target.value===""?100:Number(I.target.value);Ee({...Ve,vatPercentage:ae})},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-600 focus:border-transparent",placeholder:"100",min:"0",max:"100"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1247,columnNumber:21},void 0),e.jsxDEV("p",{className:"mt-1 text-xs text-gray-500",children:"0%:   | 100%:     | 50%:   "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1259,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1246,columnNumber:19},void 0),Ve.vatType==="amount"&&e.jsxDEV("div",{children:[e.jsxDEV("input",{type:"number",value:Ve.vatAmount??0,onChange:I=>{const ae=I.target.value===""?0:Number(I.target.value);Ee({...Ve,vatAmount:ae})},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-600 focus:border-transparent",placeholder:"5000000",min:"0"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1268,columnNumber:21},void 0),e.jsxDEV("p",{className:"mt-1 text-xs text-gray-500",children:"    "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1279,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1267,columnNumber:19},void 0),Ve.totalAmount>0&&e.jsxDEV("div",{className:"mt-2 p-3 bg-gray-50 border border-gray-200 rounded-lg",children:[e.jsxDEV("p",{className:"text-xs text-gray-700 mb-1",children:"  ( )"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1288,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-xl font-bold text-gray-900",children:["",(Ve.totalAmount+(Ve.vatType==="percentage"?Ve.totalAmount*((Ve.vatPercentage??100)/100)*.1:Ve.vatAmount??0)).toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1289,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-xs text-gray-600 mt-1",children:["=  ",Ve.totalAmount.toLocaleString()," +  ",(Ve.vatType==="percentage"?Ve.totalAmount*((Ve.vatPercentage??100)/100)*.1:Ve.vatAmount??0).toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1294,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1287,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1213,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1180,columnNumber:13},void 0),e.jsxDEV("div",{className:"p-6 border-t flex justify-end space-x-3",children:[e.jsxDEV("button",{onClick:()=>ee(!1),className:"btn btn-outline",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1305,columnNumber:15},void 0),e.jsxDEV("button",{onClick:Re,disabled:T,className:"btn btn-primary disabled:opacity-50",children:T?" ...":""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1311,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1304,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1167,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1166,columnNumber:9},void 0),Y&&e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:e.jsxDEV("div",{className:"bg-white rounded-lg max-w-md w-full",children:[e.jsxDEV("div",{className:"p-6 border-b",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("h2",{className:"text-xl font-semibold",children:X!==null?" ":" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1329,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>{de(!1),be(null)},className:"p-2 hover:bg-gray-100 rounded-lg",children:e.jsxDEV(ft,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1339,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1332,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1328,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1327,columnNumber:13},void 0),e.jsxDEV("div",{className:"p-6 space-y-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" * (  )"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1347,columnNumber:17},void 0),e.jsxDEV("div",{className:"space-y-2",children:["","","","",""].map(I=>{const ae=Oe[I];return e.jsxDEV("label",{className:"flex items-center space-x-3 cursor-pointer",children:[e.jsxDEV("input",{type:"checkbox",checked:_e.types.includes(I),onChange:E=>{let W;E.target.checked?W=[..._e.types,I]:W=_e.types.filter(P=>P!==I);const J=fe(W),pe=te(J),ve=He(W);Ue({..._e,types:W,percentage:J,amount:pe,date:ve||_e.date})},className:"w-4 h-4 text-gray-900 border-gray-300 rounded focus:ring-gray-600"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1355,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-sm text-gray-900",children:[I,e.jsxDEV("span",{className:"text-xs text-gray-500 ml-2",children:["(",ae,"%)"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1385,columnNumber:27},void 0),I===""&&e.jsxDEV("span",{className:"text-xs text-gray-400 ml-1",children:"(  )"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1386,columnNumber:46},void 0),I===""&&e.jsxDEV("span",{className:"text-xs text-gray-400 ml-1",children:"(  1 )"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1387,columnNumber:46},void 0),I===""&&e.jsxDEV("span",{className:"text-xs text-gray-400 ml-1",children:"( )"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1388,columnNumber:46},void 0),I===""&&e.jsxDEV("span",{className:"text-xs text-gray-400 ml-1",children:"( )"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1389,columnNumber:45},void 0),I===""&&e.jsxDEV("span",{className:"text-xs text-gray-400 ml-1",children:"( )"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1390,columnNumber:46},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1383,columnNumber:25},void 0)]},I,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1354,columnNumber:23},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1350,columnNumber:17},void 0),_e.types.length>0&&e.jsxDEV("div",{className:"mt-2 p-2 bg-gray-50 border border-gray-200 rounded",children:e.jsxDEV("p",{className:"text-xs text-gray-700",children:[" : ",_e.types.join(" + ")," =  ",_e.percentage,"%"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1398,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1397,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1346,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1407,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex gap-3",children:[e.jsxDEV("button",{type:"button",onClick:()=>Ue({..._e,method:""}),className:`flex-1 px-4 py-3 border-2 rounded-lg font-medium transition-colors ${_e.method===""?"border-gray-900 bg-gray-900 text-white":"border-gray-300 bg-white text-gray-700 hover:border-gray-400"}`,children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1411,columnNumber:19},void 0),e.jsxDEV("button",{type:"button",onClick:()=>Ue({..._e,method:""}),className:`flex-1 px-4 py-3 border-2 rounded-lg font-medium transition-colors ${_e.method===""?"border-gray-900 bg-gray-900 text-white":"border-gray-300 bg-white text-gray-700 hover:border-gray-400"}`,children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1422,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1410,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1406,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"   (%)"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1438,columnNumber:17},void 0),e.jsxDEV("input",{type:"number",value:_e.percentage||"",onChange:I=>{const ae=Number(I.target.value),E=te(ae);Ue({..._e,percentage:ae,amount:E})},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-600 focus:border-transparent",placeholder:"10",min:"0",max:"100"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1441,columnNumber:17},void 0),y&&_e.percentage>0&&e.jsxDEV("div",{className:"mt-2 p-3 bg-gray-50 border border-gray-200 rounded-lg",children:[e.jsxDEV("p",{className:"text-xs text-gray-700 mb-1",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1460,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-xs text-gray-900",children:[" ( ",y.vatPercentage,"% ) ",S(y).toLocaleString(),"  ",_e.percentage,"%"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1461,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-sm font-bold text-gray-900 mt-1",children:["= ",te(_e.percentage).toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1464,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1459,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1437,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1473,columnNumber:17},void 0),e.jsxDEV("div",{className:"relative",children:[e.jsxDEV("input",{type:"number",value:_e.amount||"",onChange:I=>Ue({..._e,amount:Number(I.target.value)}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-600 focus:border-transparent",placeholder:"5000000",min:"0"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1477,columnNumber:19},void 0),e.jsxDEV("p",{className:"mt-1 text-xs text-gray-500",children:_e.percentage>0?"       ":"   "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1485,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1476,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1472,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1495,columnNumber:17},void 0),e.jsxDEV("input",{type:"date",value:_e.date,onChange:I=>Ue({..._e,date:I.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-600 focus:border-transparent"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1498,columnNumber:17},void 0),e.jsxDEV("p",{className:"mt-1 text-xs text-gray-500",children:"     ,   "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1504,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1494,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1511,columnNumber:17},void 0),e.jsxDEV("textarea",{value:_e.notes,onChange:I=>Ue({..._e,notes:I.target.value}),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-600 focus:border-transparent",placeholder:"  "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1514,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1510,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1344,columnNumber:13},void 0),e.jsxDEV("div",{className:"p-6 border-t flex justify-between",children:[e.jsxDEV("div",{children:X!==null&&e.jsxDEV("button",{onClick:async()=>{if(y&&window.confirm("   ?"))try{const I=y.payments.filter((W,J)=>J!==X),ae={...y,payments:I};await i(y.id,{payments:I}),O(ae);const E=d.map(W=>W.id===y.id?ae:W);c(E),de(!1),be(null),R.success("  ")}catch(I){console.error("Failed to delete payment:",I),R.error(" ")}},className:"btn btn-outline text-red-600 hover:bg-red-50 hover:border-red-300",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1527,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1525,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex space-x-3",children:[e.jsxDEV("button",{onClick:()=>{de(!1),be(null)},className:"btn btn-outline",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1573,columnNumber:17},void 0),e.jsxDEV("button",{onClick:qe,disabled:re,className:"btn btn-primary disabled:opacity-50",children:re?" ...":X!==null?"":""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1582,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1572,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1524,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1326,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1325,columnNumber:9},void 0),b&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV("style",{children:`
            @media print {
              * {
                -webkit-print-color-adjust: exact !important;
                print-color-adjust: exact !important;
                color-adjust: exact !important;
              }
              /*       */
              img[alt=""] {
                display: inline-block !important;
                visibility: visible !important;
                opacity: 0.8 !important;
                -webkit-print-color-adjust: exact !important;
                print-color-adjust: exact !important;
              }
            }
            @page {
              size: A4;
              margin: 20mm;
            }
          `},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1598,columnNumber:9},void 0),e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4 print:bg-white print:relative print:p-0",children:e.jsxDEV("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto print:shadow-none print:max-w-none print:max-h-none",children:e.jsxDEV("div",{className:"p-6 print:p-8",children:[e.jsxDEV("div",{className:"flex items-center justify-end mb-6 print:hidden",children:e.jsxDEV("button",{onClick:()=>p(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsxDEV(ft,{className:"w-5 h-5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1629,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1625,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1624,columnNumber:15},void 0),e.jsxDEV("div",{className:"space-y-6 print:space-y-0",children:[e.jsxDEV("div",{className:"border border-black p-8 bg-white print:border print:p-12",children:[e.jsxDEV("div",{className:"p-3 mb-8",children:e.jsxDEV("h3",{className:"text-center text-2xl font-bold",children:w==="cash"?"":""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1638,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1637,columnNumber:19},void 0),e.jsxDEV("table",{className:"w-full mb-8 border-collapse",children:[e.jsxDEV("colgroup",{children:[e.jsxDEV("col",{style:{width:"30%"}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1646,columnNumber:23},void 0),e.jsxDEV("col",{style:{width:"70%"}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1647,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1645,columnNumber:21},void 0),e.jsxDEV("tbody",{children:[e.jsxDEV("tr",{className:"border border-black",children:[e.jsxDEV("td",{className:"border-r border-black py-3 px-4 bg-white font-medium whitespace-nowrap",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1651,columnNumber:25},void 0),e.jsxDEV("td",{className:"py-3 px-4 print:py-3 text-center",children:[e.jsxDEV("span",{className:"print:hidden",children:j.project},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1653,columnNumber:27},void 0),e.jsxDEV("input",{type:"text",value:j.project,className:"hidden print:block w-full bg-transparent border-none outline-none p-0 text-center",readOnly:!0},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1654,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1652,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1650,columnNumber:23},void 0),e.jsxDEV("tr",{className:"border border-t-0 border-black",children:[e.jsxDEV("td",{className:"border-r border-black py-3 px-4 bg-white font-medium whitespace-nowrap",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1663,columnNumber:25},void 0),e.jsxDEV("td",{className:"py-3 px-4 text-center",children:j.startDate&&j.endDate?e.jsxDEV("span",{children:[Le(new Date(j.startDate),"yyyy.MM.dd")," ~ ",Le(new Date(j.endDate),"yyyy.MM.dd")]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1666,columnNumber:29},void 0):e.jsxDEV("span",{className:"text-gray-400 print:hidden",children:"-"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1668,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1664,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1662,columnNumber:23},void 0),e.jsxDEV("tr",{className:"border border-t-0 border-black",children:[e.jsxDEV("td",{className:"border-r border-black py-3 px-4 bg-white font-medium whitespace-nowrap",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1673,columnNumber:25},void 0),e.jsxDEV("td",{className:"py-3 px-4 text-right pr-4",children:[e.jsxDEV("span",{className:"print:hidden flex items-center justify-end gap-1",children:[e.jsxDEV("input",{type:"text",value:j.totalContractAmount.toLocaleString(),onChange:I=>{const ae=I.target.value.replace(/[^0-9]/g,""),E=ae?parseInt(ae):0;B({...j,totalContractAmount:E})},placeholder:" ",className:"w-full text-right border border-gray-300 rounded px-2 py-1"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1676,columnNumber:29},void 0),e.jsxDEV("span",{children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1687,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1675,columnNumber:27},void 0),e.jsxDEV("span",{className:"hidden print:inline",children:[j.totalContractAmount.toLocaleString()," "]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1689,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1674,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1672,columnNumber:23},void 0),e.jsxDEV("tr",{className:"border border-t-0 border-black",children:[e.jsxDEV("td",{className:"border-r border-black py-3 px-4 bg-white font-medium whitespace-nowrap",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1693,columnNumber:25},void 0),e.jsxDEV("td",{className:"py-3 px-4 text-right pr-4",children:[e.jsxDEV("span",{className:"print:hidden flex items-center justify-end gap-1",children:[e.jsxDEV("input",{type:"text",value:j.previousAmount.toLocaleString(),onChange:I=>{const ae=I.target.value.replace(/[^0-9]/g,""),E=ae?parseInt(ae):0;B({...j,previousAmount:E})},placeholder:" ",className:"w-full text-right border border-gray-300 rounded px-2 py-1"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1696,columnNumber:29},void 0),e.jsxDEV("span",{children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1707,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1695,columnNumber:27},void 0),e.jsxDEV("span",{className:"hidden print:inline",children:[j.previousAmount.toLocaleString()," "]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1709,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1694,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1692,columnNumber:23},void 0),e.jsxDEV("tr",{className:"border border-t-0 border-black",children:[e.jsxDEV("td",{className:"border-r border-black py-3 px-4 bg-white font-medium whitespace-nowrap",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1713,columnNumber:25},void 0),e.jsxDEV("td",{className:"py-3 px-4 text-right pr-4",children:[e.jsxDEV("span",{className:"print:hidden flex items-center justify-end gap-1",children:[e.jsxDEV("input",{type:"text",value:j.amount,onChange:I=>{const ae=I.target.value.replace(/[^0-9]/g,""),E=ae?parseInt(ae).toLocaleString():"";B({...j,amount:E})},placeholder:" ",className:"w-full text-right border border-gray-300 rounded px-2 py-1"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1716,columnNumber:29},void 0),e.jsxDEV("span",{children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1727,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1715,columnNumber:27},void 0),e.jsxDEV("span",{className:"hidden print:inline",children:[j.amount," "]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1729,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1714,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1712,columnNumber:23},void 0),e.jsxDEV("tr",{className:"border border-t-0 border-black",children:[e.jsxDEV("td",{className:"border-r border-black py-3 px-4 bg-white font-medium whitespace-nowrap",children:[" ",e.jsxDEV("span",{className:"text-xs",children:"( )"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1734,columnNumber:32},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1733,columnNumber:25},void 0),e.jsxDEV("td",{className:"py-3 px-4 text-right pr-4",children:[e.jsxDEV("span",{className:"print:hidden flex items-center justify-end gap-1",children:[e.jsxDEV("input",{type:"text",value:j.remainingAmount.toLocaleString(),onChange:I=>{const ae=I.target.value.replace(/[^0-9]/g,""),E=ae?parseInt(ae):0;B({...j,remainingAmount:E})},placeholder:" ",className:"w-full text-right border border-gray-300 rounded px-2 py-1"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1738,columnNumber:29},void 0),e.jsxDEV("span",{children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1749,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1737,columnNumber:27},void 0),e.jsxDEV("span",{className:"hidden print:inline",children:[j.remainingAmount.toLocaleString()," "]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1751,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1736,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1732,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1649,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1644,columnNumber:19},void 0),e.jsxDEV("div",{className:"text-center mb-12",children:e.jsxDEV("p",{className:"text-base",children:["* ",w==="cash"?"      .":"      ."]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1759,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1758,columnNumber:19},void 0),e.jsxDEV("div",{className:"text-center mb-12",children:e.jsxDEV("p",{className:"text-base",children:[e.jsxDEV("span",{className:"print:hidden",children:e.jsxDEV("input",{type:"date",value:j.date,onChange:I=>B({...j,date:I.target.value}),className:"border border-gray-300 rounded px-2 py-1"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1770,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1769,columnNumber:23},void 0),e.jsxDEV("span",{className:"hidden print:inline",children:Le(new Date(j.date),"yyyy MM dd")},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1777,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1768,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1767,columnNumber:19},void 0),e.jsxDEV("div",{className:"space-y-8",children:[e.jsxDEV("div",{className:"grid grid-cols-4 items-center border-b border-gray-300 pb-2",children:[e.jsxDEV("span",{className:"font-medium",children:"[]"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1784,columnNumber:23},void 0),e.jsxDEV("span",{children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1785,columnNumber:23},void 0),e.jsxDEV("span",{className:"text-xl font-bold text-right pr-4",children:"  "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1786,columnNumber:23},void 0),e.jsxDEV("div",{className:"flex items-center justify-end gap-1",children:[e.jsxDEV("span",{className:"text-sm",style:{marginRight:"20px"},children:"()"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1788,columnNumber:25},void 0),e.jsxDEV("img",{src:Lb,alt:"",style:{display:"inline-block",width:"56px",height:"56px",marginLeft:"-45px",marginRight:"10px",opacity:.8,printColorAdjust:"exact",WebkitPrintColorAdjust:"exact",colorAdjust:"exact"}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1790,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1787,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1783,columnNumber:21},void 0),e.jsxDEV("div",{className:"grid grid-cols-4 items-center border-b border-gray-300 pb-2",children:[e.jsxDEV("span",{className:"font-medium",children:"[]"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1808,columnNumber:23},void 0),e.jsxDEV("span",{children:j.project.split("_")[0]},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1809,columnNumber:23},void 0),e.jsxDEV("span",{className:"text-xl text-right pr-4",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1810,columnNumber:23},void 0),e.jsxDEV("div",{className:"flex items-center justify-end gap-1",children:[e.jsxDEV("span",{className:"text-sm",style:{marginRight:"20px"},children:"()"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1812,columnNumber:25},void 0),e.jsxDEV("div",{style:{display:"inline-block",width:"56px",height:"56px",marginLeft:"-45px",marginRight:"10px",visibility:"hidden"}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1814,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1811,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1807,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1782,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1635,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex gap-3 print:hidden",children:[e.jsxDEV("button",{onClick:()=>{if(!j.amount){R.error(" ");return}window.print(),R.success(" ")},className:"flex-1 px-4 py-3 bg-gray-800 text-white font-medium rounded-lg hover:bg-gray-900 transition-colors",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1831,columnNumber:19},void 0),e.jsxDEV("button",{onClick:()=>p(!1),className:"px-4 py-3 bg-gray-200 text-gray-700 font-medium rounded-lg hover:bg-gray-300 transition-colors",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1846,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1830,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1633,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1623,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1622,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1621,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1597,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:538,columnNumber:5},void 0)};function Bb(){const[s,n]=l.useState([]),[t,r]=l.useState(!1),[i,a]=l.useState(null),[o,m]=l.useState(!1),[d,c]=l.useState(null),[u,g]=l.useState(""),[b,p]=l.useState({rank:"",companyName:"",name:"",position:"",process:"",contact:"",bankName:"",accountNumber:"",notes:""}),[w,k]=l.useState(!1);l.useEffect(()=>{j()},[]),l.useEffect(()=>{const T=()=>{B()};return window.addEventListener("headerAddButtonClick",T),()=>window.removeEventListener("headerAddButtonClick",T)},[]);const j=async()=>{var T,oe;try{s.length===0&&r(!0),a(null);const re=await Is.getAllContractors();n(re.map(Z=>({id:Z._id,rank:Z.rank,companyName:Z.companyName,name:Z.name,position:Z.position,process:Z.process,contact:Z.contact,accountNumber:Z.accountNumber,notes:Z.notes,createdAt:new Date(Z.createdAt),updatedAt:new Date(Z.updatedAt)})))}catch(re){console.error("Failed to load contractors:",re);const Z=re instanceof Error&&((oe=(T=re.response)==null?void 0:T.data)==null?void 0:oe.message);a(Z||"   .")}finally{r(!1)}},B=T=>{if(T){c(T);let oe="",re=T.accountNumber||"";if(T.accountNumber){const be=["KB","","","","NH","IBK","KEB","SC","","","","","","","","","","","","","","","","","NH","","","","","KB","",""];for(const we of be)if(T.accountNumber.startsWith(we)){oe=we,re=T.accountNumber.substring(we.length).trim();break}}let Z=T.name,X=T.position||"";X||(X=Er(T.name),Z=Qn(T.name)),p({rank:T.rank||"",companyName:T.companyName||"",name:Z,position:X,process:T.process,contact:T.contact||"",bankName:oe,accountNumber:re,notes:T.notes||""})}else c(null),p({rank:"",companyName:"",name:"",position:"",process:"",contact:"",bankName:"",accountNumber:"",notes:""});m(!0)},y=()=>{m(!1),c(null),p({rank:"",companyName:"",name:"",position:"",process:"",contact:"",bankName:"",accountNumber:"",notes:""})},O=async T=>{var re,Z;if(T.preventDefault(),w)return;k(!0);const oe=b.bankName&&b.accountNumber?`${b.bankName} ${b.accountNumber}`:b.accountNumber;try{const X={rank:b.rank,companyName:b.companyName,name:b.name,position:b.position,process:b.process,contact:b.contact,accountNumber:oe,notes:b.notes};d?await Is.updateContractor(d.id,X):await Is.createContractor(X),await j(),y()}catch(X){console.error("Failed to save contractor:",X);const be=X instanceof Error&&((Z=(re=X.response)==null?void 0:re.data)==null?void 0:Z.message);alert(be||"  .")}finally{k(!1)}},ge=async T=>{var oe,re;if(window.confirm("   ?"))try{await Is.deleteContractor(T),await j()}catch(Z){console.error("Failed to delete contractor:",Z);const X=Z instanceof Error&&((re=(oe=Z.response)==null?void 0:oe.data)==null?void 0:re.message);alert(X||"  .")}},ee=()=>"border-gray-200 text-gray-600 bg-gray-50",Y=T=>T?T==="1"?1:T==="1()"?2:T==="2"?3:T==="2()"?4:T==="3"?5:T==="3()"?6:T===""?100:T===""?200:999:999,de=s.filter(T=>T.name.toLowerCase().includes(u.toLowerCase())||T.process.toLowerCase().includes(u.toLowerCase())||T.accountNumber.toLowerCase().includes(u.toLowerCase())||T.contact&&T.contact.toLowerCase().includes(u.toLowerCase())||T.rank&&T.rank.toLowerCase().includes(u.toLowerCase())||T.companyName&&T.companyName.toLowerCase().includes(u.toLowerCase())).sort((T,oe)=>{const re=Y(T.rank)-Y(oe.rank);if(re!==0)return re;const Z=T.process.localeCompare(oe.process,"ko");return Z!==0?Z:T.name.localeCompare(oe.name,"ko")});return e.jsxDEV("div",{className:"space-y-3 md:space-y-4",children:[e.jsxDEV("div",{className:"flex items-center justify-end",children:e.jsxDEV("button",{onClick:()=>B(),className:"hidden md:inline-flex btn btn-primary px-3 md:px-4 py-2",children:"+  "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:290,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:289,columnNumber:7},this),e.jsxDEV("div",{className:"relative",children:[e.jsxDEV(Xr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4 md:w-5 md:h-5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:300,columnNumber:9},this),e.jsxDEV("input",{type:"text",placeholder:", ,  ...",value:u,onChange:T=>g(T.target.value),className:"w-full pl-9 md:pl-10 pr-4 py-2 text-sm md:text-base border border-gray-200 rounded-lg focus:ring-2 focus:ring-gray-400 focus:border-transparent"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:301,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:299,columnNumber:7},this),e.jsxDEV("div",{className:"contractors-table hidden md:block bg-white rounded-lg border border-gray-200 overflow-hidden",children:e.jsxDEV("div",{className:"overflow-x-auto",children:e.jsxDEV("table",{className:"w-full",children:[e.jsxDEV("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxDEV("tr",{children:[e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:316,columnNumber:17},this),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:319,columnNumber:17},this),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:322,columnNumber:17},this),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:325,columnNumber:17},this),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:328,columnNumber:17},this),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:331,columnNumber:17},this),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:334,columnNumber:17},this),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:337,columnNumber:17},this),e.jsxDEV("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:340,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:315,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:314,columnNumber:13},this),e.jsxDEV("tbody",{className:"bg-white divide-y divide-gray-200",children:t?e.jsxDEV("tr",{children:e.jsxDEV("td",{colSpan:9,className:"px-6 py-12 text-center",children:e.jsxDEV("p",{className:"text-gray-500",children:" ..."},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:349,columnNumber:21},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:348,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:347,columnNumber:17},this):i?e.jsxDEV("tr",{children:e.jsxDEV("td",{colSpan:9,className:"px-6 py-12 text-center",children:e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("p",{className:"text-red-500",children:i},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:356,columnNumber:23},this),e.jsxDEV("button",{onClick:j,className:"inline-block px-6 py-3 bg-gray-900 text-white rounded-lg hover:bg-gray-800 transition-colors",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:357,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:355,columnNumber:21},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:354,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:353,columnNumber:17},this):de.length===0?e.jsxDEV("tr",{children:e.jsxDEV("td",{colSpan:9,className:"px-6 py-12 text-center",children:e.jsxDEV("p",{className:"text-gray-500",children:u?"  .":"  ."},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:369,columnNumber:21},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:368,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:367,columnNumber:17},this):de.map(T=>e.jsxDEV("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxDEV("span",{className:`px-2 py-1 text-xs font-medium border rounded ${ee(T.rank)}`,children:T.rank||"-"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:378,columnNumber:23},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:377,columnNumber:21},this),e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxDEV("span",{className:"text-xs font-medium text-gray-700",children:T.process},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:383,columnNumber:23},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:382,columnNumber:21},this),e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxDEV("div",{className:"text-sm text-gray-900",children:T.companyName||"-"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:388,columnNumber:23},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:387,columnNumber:21},this),e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxDEV("div",{className:"font-medium text-gray-900",children:Qn(T.name)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:391,columnNumber:23},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:390,columnNumber:21},this),e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxDEV("div",{className:"text-sm text-gray-900",children:T.position||Er(T.name)||"-"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:394,columnNumber:23},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:393,columnNumber:21},this),e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxDEV("div",{className:"text-sm text-gray-900",children:T.contact||"-"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:397,columnNumber:23},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:396,columnNumber:21},this),e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxDEV("div",{className:"text-sm text-gray-900",children:T.accountNumber},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:400,columnNumber:23},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:399,columnNumber:21},this),e.jsxDEV("td",{className:"px-6 py-4",children:e.jsxDEV("div",{className:"text-sm text-gray-500 max-w-xs truncate",children:T.notes||"-"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:403,columnNumber:23},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:402,columnNumber:21},this),e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[e.jsxDEV("button",{onClick:()=>B(T),className:"text-gray-600 hover:text-gray-900 mr-3",children:e.jsxDEV(rr,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:412,columnNumber:25},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:408,columnNumber:23},this),e.jsxDEV("button",{onClick:()=>ge(T.id),className:"text-red-600 hover:text-red-900",children:e.jsxDEV(Vt,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:418,columnNumber:25},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:414,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:407,columnNumber:21},this)]},T.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:376,columnNumber:19},this))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:345,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:313,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:312,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:311,columnNumber:7},this),e.jsxDEV("div",{className:"md:hidden space-y-3",children:t?e.jsxDEV("div",{className:"text-center py-12 text-gray-500 text-sm",children:" ..."},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:432,columnNumber:11},this):i?e.jsxDEV("div",{className:"text-center py-12 space-y-4",children:[e.jsxDEV("p",{className:"text-red-500 text-sm",children:i},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:435,columnNumber:13},this),e.jsxDEV("button",{onClick:j,className:"inline-block px-4 py-2 bg-gray-900 text-white rounded-lg hover:bg-gray-800 transition-colors text-sm",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:436,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:434,columnNumber:11},this):de.length===0?e.jsxDEV("div",{className:"text-center py-12 text-gray-500 text-sm",children:u?"  .":"  ."},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:444,columnNumber:11},this):de.map(T=>e.jsxDEV("div",{className:"card p-3 space-y-2",children:[e.jsxDEV("div",{className:"flex items-start justify-between mb-2",children:[e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("div",{className:"flex items-center gap-2 mb-1",children:[T.rank&&e.jsxDEV("span",{className:`px-1.5 py-0.5 text-[10px] font-medium border rounded ${ee(T.rank)}`,children:T.rank},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:455,columnNumber:23},this),e.jsxDEV("span",{className:"px-1.5 py-0.5 text-[10px] font-medium text-gray-700 bg-gray-100 rounded",children:T.process},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:459,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:453,columnNumber:19},this),T.companyName&&e.jsxDEV("p",{className:"text-xs text-gray-600 mb-0.5",children:T.companyName},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:464,columnNumber:21},this),e.jsxDEV("p",{className:"font-semibold text-gray-900 text-sm",children:Qn(T.name)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:466,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:452,columnNumber:17},this),e.jsxDEV("div",{className:"flex items-center gap-2 ml-2",children:[e.jsxDEV("button",{onClick:()=>B(T),className:"p-1.5 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded",children:e.jsxDEV(rr,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:473,columnNumber:21},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:469,columnNumber:19},this),e.jsxDEV("button",{onClick:()=>ge(T.id),className:"p-1.5 text-red-600 hover:text-red-900 hover:bg-red-50 rounded",children:e.jsxDEV(Vt,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:479,columnNumber:21},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:475,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:468,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:451,columnNumber:15},this),e.jsxDEV("div",{className:"space-y-1 text-xs",children:[(T.position||Er(T.name))&&e.jsxDEV("div",{className:"flex items-start",children:[e.jsxDEV("span",{className:"text-gray-500 w-14 flex-shrink-0",children:":"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:488,columnNumber:21},this),e.jsxDEV("span",{className:"text-gray-900",children:T.position||Er(T.name)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:489,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:487,columnNumber:19},this),T.contact&&e.jsxDEV("div",{className:"flex items-start",children:[e.jsxDEV("span",{className:"text-gray-500 w-14 flex-shrink-0",children:":"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:494,columnNumber:21},this),e.jsxDEV("span",{className:"text-gray-900",children:T.contact},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:495,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:493,columnNumber:19},this),e.jsxDEV("div",{className:"flex items-start",children:[e.jsxDEV("span",{className:"text-gray-500 w-14 flex-shrink-0",children:":"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:499,columnNumber:19},this),e.jsxDEV("span",{className:"text-gray-900 break-all",children:T.accountNumber},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:500,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:498,columnNumber:17},this),T.notes&&e.jsxDEV("div",{className:"flex items-start",children:[e.jsxDEV("span",{className:"text-gray-500 w-14 flex-shrink-0",children:":"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:504,columnNumber:21},this),e.jsxDEV("span",{className:"text-gray-600",children:T.notes},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:505,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:503,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:485,columnNumber:15},this)]},T.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:449,columnNumber:13},this))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:430,columnNumber:7},this),o&&e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxDEV("div",{className:"bg-white rounded-lg max-w-md w-full max-h-[90vh] overflow-y-auto",children:e.jsxDEV("div",{className:"p-6",children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-6",children:[e.jsxDEV("h2",{className:"text-xl font-bold text-gray-900",children:d?" ":"  "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:520,columnNumber:17},this),e.jsxDEV("button",{onClick:y,className:"text-gray-400 hover:text-gray-600",children:e.jsxDEV(ft,{className:"w-6 h-6"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:527,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:523,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:519,columnNumber:15},this),e.jsxDEV("form",{onSubmit:O,className:"space-y-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:533,columnNumber:19},this),e.jsxDEV("select",{value:b.rank,onChange:T=>p({...b,rank:T.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-400 focus:border-transparent",children:[e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:541,columnNumber:21},this),e.jsxDEV("option",{value:"1",children:"1"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:542,columnNumber:21},this),e.jsxDEV("option",{value:"2",children:"2"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:543,columnNumber:21},this),e.jsxDEV("option",{value:"3",children:"3"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:544,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:536,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:532,columnNumber:17},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:549,columnNumber:19},this),e.jsxDEV("input",{type:"text",value:b.companyName,onChange:T=>p({...b,companyName:T.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-400 focus:border-transparent"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:552,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:548,columnNumber:17},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[" ",e.jsxDEV("span",{className:"text-red-500",children:"*"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:562,columnNumber:24},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:561,columnNumber:19},this),e.jsxDEV("input",{type:"text",required:!0,value:b.name,onChange:T=>p({...b,name:T.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-400 focus:border-transparent"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:564,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:560,columnNumber:17},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:574,columnNumber:19},this),e.jsxDEV("input",{type:"text",value:b.position,onChange:T=>p({...b,position:T.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-400 focus:border-transparent"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:577,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:573,columnNumber:17},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[" ",e.jsxDEV("span",{className:"text-red-500",children:"*"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:587,columnNumber:24},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:586,columnNumber:19},this),e.jsxDEV("input",{type:"text",required:!0,value:b.process,onChange:T=>p({...b,process:T.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-400 focus:border-transparent"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:589,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:585,columnNumber:17},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:599,columnNumber:19},this),e.jsxDEV("input",{type:"text",value:b.contact,onChange:T=>p({...b,contact:T.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-400 focus:border-transparent"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:602,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:598,columnNumber:17},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:611,columnNumber:19},this),e.jsxDEV("select",{value:b.bankName,onChange:T=>p({...b,bankName:T.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-400 focus:border-transparent",children:[e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:619,columnNumber:21},this),e.jsxDEV("optgroup",{label:"",children:[e.jsxDEV("option",{value:"KB",children:"KB"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:621,columnNumber:23},this),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:622,columnNumber:23},this),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:623,columnNumber:23},this),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:624,columnNumber:23},this),e.jsxDEV("option",{value:"NH",children:"NH"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:625,columnNumber:23},this),e.jsxDEV("option",{value:"IBK",children:"IBK"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:626,columnNumber:23},this),e.jsxDEV("option",{value:"KEB",children:"KEB"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:627,columnNumber:23},this),e.jsxDEV("option",{value:"SC",children:"SC"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:628,columnNumber:23},this),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:629,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:620,columnNumber:21},this),e.jsxDEV("optgroup",{label:"",children:[e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:632,columnNumber:23},this),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:633,columnNumber:23},this),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:634,columnNumber:23},this),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:635,columnNumber:23},this),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:636,columnNumber:23},this),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:637,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:631,columnNumber:21},this),e.jsxDEV("optgroup",{label:"",children:[e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:640,columnNumber:23},this),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:641,columnNumber:23},this),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:642,columnNumber:23},this),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:643,columnNumber:23},this),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:644,columnNumber:23},this),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:645,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:639,columnNumber:21},this),e.jsxDEV("optgroup",{label:"",children:[e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:648,columnNumber:23},this),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:649,columnNumber:23},this),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:650,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:647,columnNumber:21},this),e.jsxDEV("optgroup",{label:"",children:[e.jsxDEV("option",{value:"NH",children:"NH"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:653,columnNumber:23},this),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:654,columnNumber:23},this),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:655,columnNumber:23},this),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:656,columnNumber:23},this),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:657,columnNumber:23},this),e.jsxDEV("option",{value:"KB",children:"KB"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:658,columnNumber:23},this),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:659,columnNumber:23},this),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:660,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:652,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:614,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:610,columnNumber:17},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:666,columnNumber:19},this),e.jsxDEV("input",{type:"text",value:b.accountNumber,onChange:T=>p({...b,accountNumber:T.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-400 focus:border-transparent"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:669,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:665,columnNumber:17},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:678,columnNumber:19},this),e.jsxDEV("textarea",{value:b.notes,onChange:T=>p({...b,notes:T.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-400 focus:border-transparent",rows:3},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:681,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:677,columnNumber:17},this),e.jsxDEV("div",{className:"flex space-x-3 pt-4",children:[e.jsxDEV("button",{type:"button",onClick:y,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:690,columnNumber:19},this),e.jsxDEV("button",{type:"submit",disabled:w,className:"flex-1 px-4 py-2 bg-gray-700 text-white rounded-lg hover:bg-gray-800 transition-colors disabled:opacity-50",children:w?" ...":d?"":""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:697,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:689,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:531,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:518,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:517,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:516,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:287,columnNumber:5},this)}const vn=["","","","","","","","",""],Ub=()=>{const{addScheduleToAPI:s,deleteScheduleFromAPI:n,updateScheduleInAPI:t,schedules:r,fetchSchedules:i}=vs(),{user:a}=Qt(),o=fs(),[m,d]=l.useState([]),[c,u]=l.useState(""),[g,b]=l.useState("pending"),[p,w]=l.useState(null),[k,j]=l.useState(null),B=l.useRef(null),[y,O]=l.useState({project:"",requestType:"",description:"",requestDate:Le(new Date,"yyyy-MM-dd"),dueDate:Le(new Date(Date.now()+3*24*60*60*1e3),"yyyy-MM-dd"),requestedBy:(a==null?void 0:a.name)||"",assignedTo:""}),[ge,ee]=l.useState(""),[Y,de]=l.useState(null),[T,oe]=l.useState(!1),[re,Z]=l.useState(!1);l.useEffect(()=>{X()},[]),l.useEffect(()=>{a!=null&&a.name&&O(S=>{const ue={};return S.requestedBy||(ue.requestedBy=a.name),a.name===""&&!S.project&&o.length>0&&(ue.project=o[0].name),{...S,...ue}})},[a,o]);const X=async()=>{try{const ue=(await Ys.getAllWorkRequests()).map(xe=>({id:xe._id,project:xe.project,requestType:xe.requestType,description:xe.description,requestDate:new Date(xe.requestDate),dueDate:new Date(xe.dueDate),requestedBy:xe.requestedBy,assignedTo:xe.assignedTo,status:xe.status,priority:xe.priority,notes:xe.notes,completedDate:xe.completedDate?new Date(xe.completedDate):void 0}));d(ue)}catch(S){console.error("Failed to load work requests:",S),R.error("  ")}};l.useEffect(()=>{var S,ue;p&&B.current&&((ue=(S=B.current).showPicker)==null||ue.call(S))},[p]),l.useEffect(()=>{const S=()=>{k&&j(null)};if(k)return document.addEventListener("click",S),()=>document.removeEventListener("click",S)},[k]),l.useEffect(()=>{const S=()=>{oe(ue=>{const xe=!ue;return window.dispatchEvent(new CustomEvent("mobileFormStateChange",{detail:{isOpen:xe}})),xe})};return window.addEventListener("headerAddButtonClick",S),()=>window.removeEventListener("headerAddButtonClick",S)},[]),l.useEffect(()=>{window.dispatchEvent(new CustomEvent("mobileFormStateChange",{detail:{isOpen:T}}))},[T]);const be=async(S,ue)=>{if(window.confirm(`"${ue}"  ?

    .`))try{const xe=m.find(te=>te.id===S);if(await Ys.deleteWorkRequest(S),d(m.filter(te=>te.id!==S)),R.success(" "),xe)try{let te="";xe.project?te=xe.requestType?`[] ${xe.requestType}`:`[] ${xe.description.substring(0,20)}`:te=xe.description;const q=r.filter(G=>{const z=G.start&&new Date(G.start).toDateString()===xe.dueDate.toDateString(),ye=G.title===te;return z&&ye});for(const G of q)try{await n(G.id)}catch(z){console.error("Failed to delete related schedule:",z)}await i()}catch(te){console.error("Failed to handle related schedules:",te)}}catch(xe){console.error("Failed to delete work request:",xe),R.error("  "),await X()}},we=S=>{de(S),O({project:S.project,requestType:S.requestType,description:S.description,requestDate:Le(S.requestDate,"yyyy-MM-dd"),dueDate:Le(S.dueDate,"yyyy-MM-dd"),requestedBy:S.requestedBy,assignedTo:S.assignedTo}),oe(!0)},Me=()=>{de(null),O({project:"",requestType:"",description:"",requestDate:Le(new Date,"yyyy-MM-dd"),dueDate:Le(new Date(Date.now()+3*24*60*60*1e3),"yyyy-MM-dd"),requestedBy:(a==null?void 0:a.name)||"",assignedTo:""}),setIsUrgent(!1),ee("")},Ve=async S=>{if(S.preventDefault(),!re){if(!y.requestedBy||!y.assignedTo||!y.requestDate||!y.dueDate){R.error("   ");return}Z(!0);try{const ue=y.requestType===""?ge:y.requestType;if(Y){const xe=await Ys.updateWorkRequest(Y.id,{project:y.project,requestType:ue,description:y.description,requestDate:new Date(y.requestDate),dueDate:new Date(y.dueDate),requestedBy:y.requestedBy,assignedTo:y.assignedTo,status:Y.status,priority:"medium"}),te={id:xe._id,project:xe.project,requestType:xe.requestType,description:xe.description,requestDate:new Date(xe.requestDate),dueDate:new Date(xe.dueDate),requestedBy:xe.requestedBy,assignedTo:xe.assignedTo,status:xe.status,priority:xe.priority,notes:xe.notes,completedDate:xe.completedDate?new Date(xe.completedDate):void 0};let q="";xe.project?q=xe.requestType?`[] ${xe.requestType}`:`[] ${xe.description.substring(0,20)}`:q=xe.description;const G=r.find(z=>{const ye=z.start&&new Date(z.start).toDateString()===new Date(xe.dueDate).toDateString(),Se=z.title===q;return ye&&Se});if(G)try{let z=null,ye="";if(xe.project){const I=o.find(ae=>ae.name===xe.project);z=I?I.id:G.project,ye=xe.requestType?`[] ${xe.requestType}`:`[] ${xe.description.substring(0,20)}`}else ye=xe.description,z=G.project;const Se=xe.assignedTo===""?["","",""]:[xe.assignedTo];await t(G.id,{title:ye,start:new Date(xe.dueDate),end:new Date(xe.dueDate),project:z,attendees:Se,description:`${xe.description}

: ${xe.assignedTo}
: ${xe.requestedBy}
: ${xe.priority}
${xe.notes||""}`})}catch(z){console.error("Failed to update related schedule:",z)}d(m.map(z=>z.id===Y.id?te:z)),R.success(" ")}else{const xe=await Ys.createWorkRequest({project:y.project,requestType:ue,description:y.description||"",requestDate:new Date(y.requestDate),dueDate:new Date(y.dueDate),requestedBy:y.requestedBy,assignedTo:y.assignedTo,status:"pending",priority:"medium"}),te={id:xe._id,project:xe.project,requestType:xe.requestType,description:xe.description,requestDate:new Date(xe.requestDate),dueDate:new Date(xe.dueDate),requestedBy:xe.requestedBy,assignedTo:xe.assignedTo,status:xe.status,priority:xe.priority,notes:xe.notes,completedDate:xe.completedDate?new Date(xe.completedDate):void 0};try{let q=null,G="";if(xe.project){const ye=o.find(Se=>Se.name===xe.project);if(q=ye?ye.id:null,!q)throw console.warn("Project not found for work request:",xe.project),new Error("Project not found");G=xe.requestType?`[] ${xe.requestType}`:`[] ${xe.description.substring(0,20)}`}else G=xe.description;const z=xe.assignedTo===""?["","",""]:[xe.assignedTo];await s({id:`workrequest-${xe._id}`,title:G,start:new Date(xe.dueDate),end:new Date(xe.dueDate),type:"other",project:q,location:"",attendees:z,description:`${xe.description}

: ${xe.assignedTo}
: ${xe.requestedBy}
: ${xe.priority}
${xe.notes||""}`})}catch(q){console.error("Failed to create schedule:",q)}d([te,...m]),R.success(" ")}Me()}catch(ue){console.error("Failed to save work request:",ue),R.error("  ")}finally{Z(!1)}}},Ee=(S,ue)=>{w({requestId:S,field:ue})},_e=async S=>{if(!p)return;const ue=new Date(S);if(!isNaN(ue.getTime()))try{if(!m.find(te=>te.id===p.requestId))return;await Ys.updateWorkRequest(p.requestId,{[p.field]:ue}),d(m.map(te=>te.id===p.requestId?{...te,[p.field]:ue}:te)),w(null),R.success(" ")}catch(xe){console.error("Failed to update date:",xe),R.error("  "),w(null)}},Ue=(S,ue)=>{j({requestId:S,field:ue})},Oe=async S=>{if(k)try{await Ys.updateWorkRequest(k.requestId,{[k.field]:S}),d(m.map(ue=>ue.id===k.requestId?{...ue,[k.field]:S}:ue)),j(null),R.success(" ")}catch(ue){console.error("Failed to update person:",ue),R.error("  "),j(null)}},fe=async(S,ue)=>{try{const xe=ue==="completed"?new Date:void 0;if(await Ys.updateWorkRequest(S,{status:ue,completedDate:xe}),d(m.map(q=>q.id===S?{...q,status:ue,completedDate:xe}:q)),ue==="completed"){const q=m.find(G=>G.id===S);if(q){const G=r.find(z=>z.id===`workrequest-${S}`||z.title.includes("[]")&&z.project===q.project);if(G)try{await n(G.id)}catch(z){console.error("Failed to delete related schedule:",z)}}}const te={pending:"","in-progress":"",completed:""};R.success(` ${te[ue]} `)}catch(xe){console.error("Failed to update status:",xe),R.error("  ")}},He=S=>{const xe={pending:{label:"",color:"bg-gray-100 text-gray-700 border-gray-300"},"in-progress":{label:"",color:"bg-gray-100 text-gray-800 border-gray-300"},completed:{label:"",color:"bg-gray-900 text-white border-gray-900"},cancelled:{label:"",color:"bg-gray-100 text-gray-500 border-gray-300"}}[S];return e.jsxDEV("span",{className:`px-3 py-1 text-xs font-medium border ${xe.color}`,children:xe.label},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:526,columnNumber:7},void 0)},De=S=>{const ue=new Date;ue.setHours(0,0,0,0);const xe=new Date(S);xe.setHours(0,0,0,0);const te=xe.getTime()-ue.getTime();return Math.ceil(te/(1e3*60*60*24))},Be=S=>{const ue=De(S);return ue<0?e.jsxDEV("span",{className:"inline-flex items-center px-2 py-1 text-xs font-bold bg-gray-100 text-gray-700 border border-gray-300 rounded",children:["D+",Math.abs(ue)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:566,columnNumber:9},void 0):ue===0?e.jsxDEV("span",{className:"inline-flex items-center px-2 py-1 text-xs font-bold bg-gray-900 text-white border border-gray-900 rounded",children:"D-Day"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:572,columnNumber:9},void 0):ue<=3?e.jsxDEV("span",{className:"inline-flex items-center px-2 py-1 text-xs font-bold bg-gray-100 text-gray-700 border border-gray-300 rounded",children:["D-",ue]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:578,columnNumber:9},void 0):ue<=7?e.jsxDEV("span",{className:"inline-flex items-center px-2 py-1 text-xs font-bold bg-gray-100 text-gray-700 border border-gray-300 rounded",children:["D-",ue]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:584,columnNumber:9},void 0):e.jsxDEV("span",{className:"inline-flex items-center px-2 py-1 text-xs font-medium bg-gray-100 text-gray-700 border border-gray-300 rounded",children:["D-",ue]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:590,columnNumber:9},void 0)},Re=(a==null?void 0:a.name)===""?m.filter(S=>o.some(ue=>ue.name===S.project)):m,ze=(()=>{let S=Re;return g!=="all"&&(S=S.filter(ue=>ue.status===g)),c&&(S=S.filter(ue=>ue.project.toLowerCase().includes(c.toLowerCase())||ue.requestType.toLowerCase().includes(c.toLowerCase())||ue.description.toLowerCase().includes(c.toLowerCase()))),S})(),qe={pending:Re.filter(S=>S.status==="pending").length,inProgress:Re.filter(S=>S.status==="in-progress").length,completed:Re.filter(S=>S.status==="completed").length,total:Re.length};return e.jsxDEV("div",{className:"workrequest-container space-y-3 md:space-y-4",children:[e.jsxDEV("div",{className:"workrequest-desktop hidden md:grid md:grid-cols-[400px_1fr] gap-4",children:[e.jsxDEV("div",{className:"workrequest-form bg-white border border-gray-200 rounded-lg p-6 h-fit sticky top-4",children:[Y&&e.jsxDEV("h2",{className:"text-xl font-semibold mb-4",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:636,columnNumber:13},void 0),e.jsxDEV("form",{onSubmit:Ve,className:"workrequest-form-inner space-y-4",children:[e.jsxDEV("div",{className:"wr-project",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:644,columnNumber:15},void 0),e.jsxDEV("select",{value:y.project,onChange:S=>O({...y,project:S.target.value}),className:"input w-full",children:[(a==null?void 0:a.name)!==""&&e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:652,columnNumber:41},void 0),o.filter(S=>S.status!=="completed").map(S=>e.jsxDEV("option",{value:S.name,children:S.name},S.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:656,columnNumber:21},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:647,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:643,columnNumber:13},void 0),e.jsxDEV("div",{className:"wr-type",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:665,columnNumber:15},void 0),e.jsxDEV("select",{value:y.requestType,onChange:S=>O({...y,requestType:S.target.value}),className:"input w-full",children:[e.jsxDEV("option",{value:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:673,columnNumber:17},void 0),e.jsxDEV("option",{value:"3D",children:"3D"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:674,columnNumber:17},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:675,columnNumber:17},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:676,columnNumber:17},void 0),e.jsxDEV("option",{value:" ",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:677,columnNumber:17},void 0),e.jsxDEV("option",{value:" ",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:678,columnNumber:17},void 0),e.jsxDEV("option",{value:" ",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:679,columnNumber:17},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:680,columnNumber:17},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:681,columnNumber:17},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:682,columnNumber:17},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:683,columnNumber:17},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:684,columnNumber:17},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:685,columnNumber:17},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:686,columnNumber:17},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:687,columnNumber:17},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:688,columnNumber:17},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:689,columnNumber:17},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:690,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:668,columnNumber:15},void 0),y.requestType===""&&e.jsxDEV("input",{type:"text",value:ge,onChange:S=>ee(S.target.value),placeholder:"  ",className:"input w-full mt-2"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:694,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:664,columnNumber:13},void 0),e.jsxDEV("div",{className:"wr-description",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:706,columnNumber:15},void 0),e.jsxDEV("textarea",{value:y.description,onChange:S=>O({...y,description:S.target.value}),rows:4,className:"input w-full",placeholder:"   "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:709,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:705,columnNumber:13},void 0),e.jsxDEV("div",{className:"wr-dates grid grid-cols-2 gap-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:721,columnNumber:17},void 0),e.jsxDEV("input",{type:"date",value:y.requestDate,onChange:S=>O({...y,requestDate:S.target.value}),required:!0,className:"input w-full"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:724,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:720,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:733,columnNumber:17},void 0),e.jsxDEV("input",{type:"date",value:y.dueDate,onChange:S=>O({...y,dueDate:S.target.value}),required:!0,className:"input w-full"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:736,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:732,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:719,columnNumber:13},void 0),e.jsxDEV("div",{className:"wr-people grid grid-cols-2 gap-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:749,columnNumber:17},void 0),e.jsxDEV("select",{value:y.requestedBy,onChange:S=>O({...y,requestedBy:S.target.value}),required:!0,className:"input w-full",children:[e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:758,columnNumber:19},void 0),vn.map(S=>e.jsxDEV("option",{value:S,children:S},S,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:760,columnNumber:21},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:752,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:748,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:767,columnNumber:17},void 0),e.jsxDEV("select",{value:y.assignedTo,onChange:S=>O({...y,assignedTo:S.target.value}),required:!0,className:"input w-full",children:[e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:776,columnNumber:19},void 0),vn.map(S=>e.jsxDEV("option",{value:S,children:S},S,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:778,columnNumber:21},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:770,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:766,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:747,columnNumber:13},void 0),e.jsxDEV("div",{className:"wr-actions flex gap-3 pt-4 border-t",children:[Y&&e.jsxDEV("button",{type:"button",onClick:Me,className:"flex-1 btn btn-outline",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:789,columnNumber:17},void 0),e.jsxDEV("button",{type:"submit",disabled:re,className:"flex-1 btn btn-primary disabled:opacity-50",children:re?" ...":Y?"":""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:797,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:787,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:641,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:634,columnNumber:9},void 0),e.jsxDEV("div",{className:"workrequest-list space-y-4",children:[e.jsxDEV("div",{className:"border-b border-gray-200",children:e.jsxDEV("nav",{className:"flex space-x-8",children:[{id:"pending",label:"",count:qe.pending,color:"text-gray-700"},{id:"in-progress",label:"",count:qe.inProgress,color:"text-gray-700"},{id:"completed",label:"",count:qe.completed,color:"text-gray-700"},{id:"all",label:"",count:qe.total,color:"text-gray-600"}].map(S=>e.jsxDEV("button",{onClick:()=>b(S.id),className:Gt("py-4 px-1 border-b-2 font-medium text-sm transition-colors whitespace-nowrap",g===S.id?`border-gray-700 ${S.color}`:"border-transparent text-gray-400 hover:text-gray-700 hover:border-gray-300"),children:[S.label,S.count>0&&e.jsxDEV("span",{className:Gt("ml-2 py-0.5 px-2 rounded-full text-xs font-semibold",g===S.id?"bg-gray-700 text-white":"bg-gray-200 text-gray-600"),children:S.count},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:827,columnNumber:21},void 0)]},S.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:815,columnNumber:17},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:808,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:807,columnNumber:11},void 0),e.jsxDEV("div",{className:"flex items-center space-x-4",children:e.jsxDEV("input",{type:"text",placeholder:"...",value:c,onChange:S=>u(S.target.value),className:"flex-1 px-4 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:border-gray-900"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:841,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:840,columnNumber:11},void 0),e.jsxDEV("div",{className:"bg-white border border-gray-200 overflow-x-auto",children:e.jsxDEV("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsxDEV("thead",{className:"bg-gray-50",children:e.jsxDEV("tr",{children:[e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:855,columnNumber:19},void 0),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:856,columnNumber:19},void 0),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:857,columnNumber:19},void 0),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:858,columnNumber:19},void 0),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:859,columnNumber:19},void 0),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:860,columnNumber:19},void 0),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:861,columnNumber:19},void 0),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"D-day"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:862,columnNumber:19},void 0),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:863,columnNumber:19},void 0),e.jsxDEV("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:864,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:854,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:853,columnNumber:15},void 0),e.jsxDEV("tbody",{className:"bg-white divide-y divide-gray-200",style:{overflow:"visible"},children:ze.map(S=>e.jsxDEV("tr",{className:`hover:bg-gray-50 ${S.priority==="high"?"bg-rose-50/30":""}`,style:{overflow:"visible"},children:[e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxDEV("p",{className:"font-medium text-gray-900",children:S.project},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:877,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:876,columnNumber:21},void 0),e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxDEV("p",{className:"text-sm text-gray-900",children:S.requestType},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:880,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:879,columnNumber:21},void 0),e.jsxDEV("td",{className:"px-6 py-4",children:e.jsxDEV("p",{className:"text-sm text-gray-900",children:S.description},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:883,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:882,columnNumber:21},void 0),e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",style:{overflow:"visible"},children:e.jsxDEV("div",{className:"relative inline-block",children:[e.jsxDEV("button",{onClick:ue=>{ue.stopPropagation(),Ue(S.id,"requestedBy")},className:"text-sm text-gray-900 hover:text-gray-600 hover:underline transition-colors",children:S.requestedBy},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:887,columnNumber:25},void 0),(k==null?void 0:k.requestId)===S.id&&(k==null?void 0:k.field)==="requestedBy"&&e.jsxDEV("div",{onClick:ue=>ue.stopPropagation(),className:"absolute left-0 top-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg z-50 min-w-[100px]",children:vn.map(ue=>e.jsxDEV("button",{onClick:()=>Oe(ue),className:`block w-full text-left px-4 py-2 text-sm hover:bg-gray-100 transition-colors first:rounded-t-lg last:rounded-b-lg ${ue===S.requestedBy?"bg-gray-50 font-medium":""}`,children:ue},ue,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:902,columnNumber:31},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:897,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:886,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:885,columnNumber:21},void 0),e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",style:{overflow:"visible"},children:e.jsxDEV("div",{className:"relative inline-block",children:[e.jsxDEV("button",{onClick:ue=>{ue.stopPropagation(),Ue(S.id,"assignedTo")},className:"text-sm text-gray-900 hover:text-gray-600 hover:underline transition-colors",children:S.assignedTo},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:918,columnNumber:25},void 0),(k==null?void 0:k.requestId)===S.id&&(k==null?void 0:k.field)==="assignedTo"&&e.jsxDEV("div",{onClick:ue=>ue.stopPropagation(),className:"absolute left-0 top-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg z-50 min-w-[100px]",children:vn.map(ue=>e.jsxDEV("button",{onClick:()=>Oe(ue),className:`block w-full text-left px-4 py-2 text-sm hover:bg-gray-100 transition-colors first:rounded-t-lg last:rounded-b-lg ${ue===S.assignedTo?"bg-gray-50 font-medium":""}`,children:ue},ue,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:933,columnNumber:31},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:928,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:917,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:916,columnNumber:21},void 0),e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxDEV("div",{className:"relative inline-block",children:[(p==null?void 0:p.requestId)===S.id&&(p==null?void 0:p.field)==="requestDate"&&e.jsxDEV("input",{ref:B,type:"date",defaultValue:Le(S.requestDate,"yyyy-MM-dd"),onChange:ue=>_e(ue.target.value),onBlur:()=>w(null),className:"absolute left-0 top-0 w-auto h-auto opacity-0 z-50",style:{pointerEvents:"auto"}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:950,columnNumber:27},void 0),e.jsxDEV("button",{onClick:()=>Ee(S.id,"requestDate"),className:"flex items-center space-x-2 text-sm text-gray-900 hover:text-gray-600 transition-colors",children:[e.jsxDEV(En,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:964,columnNumber:27},void 0),e.jsxDEV("span",{children:Le(S.requestDate,"yyyy.MM.dd (eee)",{locale:kt})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:965,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:960,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:948,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:947,columnNumber:21},void 0),e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxDEV("div",{className:"relative inline-block",children:[(p==null?void 0:p.requestId)===S.id&&(p==null?void 0:p.field)==="dueDate"&&e.jsxDEV("input",{ref:B,type:"date",defaultValue:Le(S.dueDate,"yyyy-MM-dd"),onChange:ue=>_e(ue.target.value),onBlur:()=>w(null),className:"absolute left-0 top-0 w-auto h-auto opacity-0 z-50",style:{pointerEvents:"auto"}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:972,columnNumber:27},void 0),e.jsxDEV("button",{onClick:()=>Ee(S.id,"dueDate"),className:"flex items-center space-x-2 text-sm text-gray-900 hover:text-gray-600 transition-colors",children:[e.jsxDEV(En,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:986,columnNumber:27},void 0),e.jsxDEV("span",{children:Le(S.dueDate,"yyyy.MM.dd (eee)",{locale:kt})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:987,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:982,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:970,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:969,columnNumber:21},void 0),e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:Be(S.dueDate)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:991,columnNumber:21},void 0),e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:He(S.status)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:994,columnNumber:21},void 0),e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxDEV("div",{className:"flex items-center justify-center space-x-2",children:[S.status==="pending"&&e.jsxDEV("button",{onClick:()=>fe(S.id,"in-progress"),className:"px-3 py-1 text-xs font-semibold text-white rounded-lg transition-colors bg-gray-900 hover:bg-gray-800",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1e3,columnNumber:27},void 0),S.status==="in-progress"&&e.jsxDEV("button",{onClick:()=>fe(S.id,"completed"),className:"px-3 py-1 text-xs font-semibold bg-gray-900 text-white rounded hover:bg-gray-800 transition-colors",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1008,columnNumber:27},void 0),e.jsxDEV("button",{onClick:()=>we(S),className:"text-xs text-gray-600 hover:text-gray-900",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1015,columnNumber:25},void 0),e.jsxDEV("button",{onClick:()=>be(S.id,S.project),className:"text-gray-600 hover:text-gray-700",children:e.jsxDEV(Vt,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1025,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1021,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:998,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:997,columnNumber:21},void 0)]},S.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:869,columnNumber:19},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:867,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:852,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:851,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:805,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:632,columnNumber:7},void 0),e.jsxDEV("div",{className:"workrequest-mobile md:hidden space-y-3",children:[e.jsxDEV("div",{className:"border-b border-gray-200",children:e.jsxDEV("nav",{className:"flex space-x-4 overflow-x-auto",children:[{id:"pending",label:"",count:qe.pending,color:"text-gray-700"},{id:"in-progress",label:"",count:qe.inProgress,color:"text-gray-700"},{id:"completed",label:"",count:qe.completed,color:"text-gray-700"},{id:"all",label:"",count:qe.total,color:"text-gray-600"}].map(S=>e.jsxDEV("button",{onClick:()=>b(S.id),className:Gt("py-3 px-1 border-b-2 font-medium text-xs transition-colors whitespace-nowrap",g===S.id?`border-gray-700 ${S.color}`:"border-transparent text-gray-400 hover:text-gray-700 hover:border-gray-300"),children:[S.label,S.count>0&&e.jsxDEV("span",{className:Gt("ml-1 py-0.5 px-1.5 rounded-full text-[10px] font-semibold",g===S.id?"bg-gray-700 text-white":"bg-gray-200 text-gray-600"),children:S.count},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1060,columnNumber:19},void 0)]},S.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1048,columnNumber:15},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1041,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1040,columnNumber:9},void 0),T&&e.jsxDEV("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[Y&&e.jsxDEV("h2",{className:"text-base font-semibold text-gray-900 mb-3",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1076,columnNumber:13},void 0),e.jsxDEV("form",{onSubmit:Ve,className:"space-y-3",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1084,columnNumber:19},void 0),e.jsxDEV("select",{value:y.project,onChange:S=>O({...y,project:S.target.value}),className:"w-full px-3 py-2.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 bg-white cursor-pointer hover:border-gray-400 transition-colors appearance-none bg-[url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20fill%3D%22none%22%20viewBox%3D%220%200%2020%2020%22%3E%3Cpath%20stroke%3D%22%236b7280%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%221.5%22%20d%3D%22M6%208l4%204%204-4%22%2F%3E%3C%2Fsvg%3E')] bg-[length:1.5em_1.5em] bg-[right_0.5rem_center] bg-no-repeat pr-10",children:[(a==null?void 0:a.name)!==""&&e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1092,columnNumber:45},void 0),o.filter(S=>S.status!=="completed").map(S=>e.jsxDEV("option",{value:S.name,children:S.name},S.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1096,columnNumber:25},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1087,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1083,columnNumber:17},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1105,columnNumber:19},void 0),e.jsxDEV("select",{value:y.requestType,onChange:S=>O({...y,requestType:S.target.value}),className:"w-full px-3 py-2.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 bg-white cursor-pointer hover:border-gray-400 transition-colors appearance-none bg-[url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20fill%3D%22none%22%20viewBox%3D%220%200%2020%2020%22%3E%3Cpath%20stroke%3D%22%236b7280%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%221.5%22%20d%3D%22M6%208l4%204%204-4%22%2F%3E%3C%2Fsvg%3E')] bg-[length:1.5em_1.5em] bg-[right_0.5rem_center] bg-no-repeat pr-10",children:[e.jsxDEV("option",{value:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1113,columnNumber:21},void 0),e.jsxDEV("option",{value:"3D",children:"3D"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1114,columnNumber:21},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1115,columnNumber:21},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1116,columnNumber:21},void 0),e.jsxDEV("option",{value:" ",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1117,columnNumber:21},void 0),e.jsxDEV("option",{value:" ",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1118,columnNumber:21},void 0),e.jsxDEV("option",{value:" ",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1119,columnNumber:21},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1120,columnNumber:21},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1121,columnNumber:21},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1122,columnNumber:21},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1123,columnNumber:21},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1124,columnNumber:21},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1125,columnNumber:21},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1126,columnNumber:21},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1127,columnNumber:21},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1128,columnNumber:21},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1129,columnNumber:21},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1130,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1108,columnNumber:19},void 0),y.requestType===""&&e.jsxDEV("input",{type:"text",value:ge,onChange:S=>ee(S.target.value),placeholder:"  ",className:"w-full px-3 py-2.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 mt-2 hover:border-gray-400 transition-colors"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1134,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1104,columnNumber:17},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1146,columnNumber:19},void 0),e.jsxDEV("textarea",{value:y.description,onChange:S=>O({...y,description:S.target.value}),rows:3,className:"w-full px-3 py-2.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 hover:border-gray-400 transition-colors",placeholder:"   "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1149,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1145,columnNumber:17},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:" *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1161,columnNumber:21},void 0),e.jsxDEV("input",{type:"date",value:y.requestDate,onChange:S=>O({...y,requestDate:S.target.value}),required:!0,className:"w-full px-3 py-2.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 bg-white"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1164,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1160,columnNumber:19},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:" *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1173,columnNumber:21},void 0),e.jsxDEV("input",{type:"date",value:y.dueDate,onChange:S=>O({...y,dueDate:S.target.value}),required:!0,className:"w-full px-3 py-2.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 bg-white"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1176,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1172,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1159,columnNumber:17},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1189,columnNumber:21},void 0),e.jsxDEV("select",{value:y.requestedBy,onChange:S=>O({...y,requestedBy:S.target.value}),required:!0,className:"w-full px-3 py-2.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 bg-white cursor-pointer hover:border-gray-400 transition-colors appearance-none bg-[url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20fill%3D%22none%22%20viewBox%3D%220%200%2020%2020%22%3E%3Cpath%20stroke%3D%22%236b7280%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%221.5%22%20d%3D%22M6%208l4%204%204-4%22%2F%3E%3C%2Fsvg%3E')] bg-[length:1.5em_1.5em] bg-[right_0.5rem_center] bg-no-repeat pr-10",children:[e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1198,columnNumber:23},void 0),vn.map(S=>e.jsxDEV("option",{value:S,children:S},S,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1200,columnNumber:25},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1192,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1188,columnNumber:19},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1207,columnNumber:21},void 0),e.jsxDEV("select",{value:y.assignedTo,onChange:S=>O({...y,assignedTo:S.target.value}),required:!0,className:"w-full px-3 py-2.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 bg-white cursor-pointer hover:border-gray-400 transition-colors appearance-none bg-[url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20fill%3D%22none%22%20viewBox%3D%220%200%2020%2020%22%3E%3Cpath%20stroke%3D%22%236b7280%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%221.5%22%20d%3D%22M6%208l4%204%204-4%22%2F%3E%3C%2Fsvg%3E')] bg-[length:1.5em_1.5em] bg-[right_0.5rem_center] bg-no-repeat pr-10",children:[e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1216,columnNumber:23},void 0),vn.map(S=>e.jsxDEV("option",{value:S,children:S},S,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1218,columnNumber:25},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1210,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1206,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1187,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex gap-2 pt-2",children:[Y&&e.jsxDEV("button",{type:"button",onClick:Me,className:"flex-1 px-4 py-2.5 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1229,columnNumber:21},void 0),e.jsxDEV("button",{type:"submit",disabled:re,className:"flex-1 px-4 py-2.5 text-sm font-medium text-white bg-gray-900 rounded-lg hover:bg-gray-800 transition-colors disabled:opacity-50",children:re?" ...":Y?"":""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1237,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1227,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1081,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1074,columnNumber:9},void 0),e.jsxDEV("div",{className:"workrequest-cards space-y-3",children:ze.map(S=>e.jsxDEV("div",{className:`card p-3 hover:border-gray-400 transition-colors ${S.priority==="high"?"border-2 border-rose-200 bg-rose-50/30":""}`,children:[e.jsxDEV("div",{className:"flex items-start justify-between mb-2",children:[e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("div",{className:"flex items-center gap-2 mb-1",children:[He(S.status),Be(S.dueDate)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1260,columnNumber:17},void 0),e.jsxDEV("h3",{className:"font-bold text-base text-gray-900",children:S.project},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1264,columnNumber:17},void 0),e.jsxDEV("p",{className:"text-xs text-gray-600 mt-0.5",children:S.requestType},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1265,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1259,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("button",{onClick:()=>we(S),className:"text-xs text-gray-600 hover:text-gray-900 px-2 py-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1268,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>be(S.id,S.project),className:"text-gray-600 hover:text-gray-700 p-1",children:e.jsxDEV(Vt,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1278,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1274,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1267,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1258,columnNumber:13},void 0),e.jsxDEV("div",{className:"space-y-2 text-sm border-t border-gray-100 pt-2",children:[e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-xs text-gray-500",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1285,columnNumber:17},void 0),e.jsxDEV("p",{className:"text-gray-900 mt-0.5",children:S.description},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1286,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1284,columnNumber:15},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-gray-500",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1291,columnNumber:19},void 0),e.jsxDEV("p",{className:"text-gray-900 font-medium mt-0.5",children:S.requestedBy},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1292,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1290,columnNumber:17},void 0),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-gray-500",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1295,columnNumber:19},void 0),e.jsxDEV("p",{className:"text-gray-900 font-medium mt-0.5",children:S.assignedTo},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1296,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1294,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1289,columnNumber:15},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 gap-2 pt-1",children:[e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-xs text-gray-500 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1302,columnNumber:19},void 0),e.jsxDEV("p",{className:"text-xs text-gray-900",children:Le(S.requestDate,"MM.dd (eee)",{locale:kt})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1303,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1301,columnNumber:17},void 0),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-xs text-gray-500 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1308,columnNumber:19},void 0),e.jsxDEV("p",{className:"text-xs text-gray-900",children:Le(S.dueDate,"MM.dd (eee)",{locale:kt})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1309,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1307,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1300,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1283,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex gap-2 mt-3 pt-3 border-t border-gray-100",children:[S.status==="pending"&&e.jsxDEV("button",{onClick:()=>fe(S.id,"in-progress"),className:"flex-1 px-3 py-2 text-xs font-semibold text-white rounded-lg transition-colors bg-gray-900 hover:bg-gray-800",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1319,columnNumber:17},void 0),S.status==="in-progress"&&e.jsxDEV("button",{onClick:()=>fe(S.id,"completed"),className:"flex-1 px-3 py-2 text-xs font-semibold bg-gray-900 text-white rounded-lg hover:bg-gray-800 transition-colors",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1327,columnNumber:17},void 0),S.status==="completed"&&e.jsxDEV("div",{className:"flex-1 text-center text-xs text-gray-500 py-2",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1335,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1317,columnNumber:13},void 0)]},S.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1252,columnNumber:13},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1250,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1038,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:630,columnNumber:5},void 0)},Sb=()=>{var ve,P;const{user:s}=Qt(),n=fs(),[t,r]=l.useState([]),[i,a]=l.useState(null),[o,m]=l.useState([]),[d,c]=l.useState(!1),[u,g]=l.useState(""),[b,p]=l.useState(""),[w,k]=l.useState(null),[j,B]=l.useState(null),[y,O]=l.useState(""),[ge,ee]=l.useState(null),[Y,de]=l.useState(""),[T,oe]=l.useState(null),[re,Z]=l.useState(new Set),X=l.useRef(null),[be,we]=l.useState(window.innerWidth<768),[Me,Ve]=l.useState(!1),[Ee,_e]=l.useState(null),[Ue,Oe]=l.useState(new Set),[fe,He]=l.useState(()=>localStorage.getItem("finishCheck_showOnlyIncomplete")==="true"),[De,Be]=l.useState(!1),[Re,Ke]=l.useState(!1);l.useEffect(()=>{localStorage.setItem("finishCheck_showOnlyIncomplete",String(fe))},[fe]),l.useEffect(()=>{const C=()=>{we(window.innerWidth<768)};return window.addEventListener("resize",C),()=>window.removeEventListener("resize",C)},[]),l.useEffect(()=>{ze()},[n]),l.useEffect(()=>{i!==null&&qe()},[i]),l.useEffect(()=>{i!==null&&(s!=null&&s.id)&&localStorage.setItem(`finishCheck_selectedProject_${s.id}`,i.toString())},[i,s==null?void 0:s.id]),l.useEffect(()=>{if(!be&&T){const C=async L=>{var V;const f=(V=L.clipboardData)==null?void 0:V.items;if(f){for(let h=0;h<f.length;h++)if(f[h].type.indexOf("image")!==-1){L.preventDefault();const M=f[h].getAsFile();M&&await I(T,M)}}};return document.addEventListener("paste",C),()=>document.removeEventListener("paste",C)}},[T,be]);const ze=async()=>{try{const C=n.map(f=>({id:f.id,title:f.name}));r(C);const L=s!=null&&s.id?localStorage.getItem(`finishCheck_selectedProject_${s.id}`):null;L&&C.some(f=>f.id===Number(L))?a(Number(L)):C.length>0&&a(C[0].id)}catch(C){console.error("Failed to load projects:",C),R.error("   ")}},qe=async()=>{try{o.length===0&&c(!0);const C=i?`/finish-check/spaces?project_id=${i}`:"/finish-check/spaces",f=(await je.get(C)).data.map(V=>({...V,items:V.items.map(h=>({...h,images:h.images||[]}))}));m(f)}catch(C){console.error("Failed to load spaces:",C),R.error("   ")}finally{c(!1)}},S=async()=>{if(!Re){if(!u.trim()){R.error("  ");return}if(!i){R.error(" ");return}Ke(!0);try{const C=await je.post("/finish-check/spaces",{name:u.trim(),project_id:i}),L={...C.data,items:C.data.items||[]};m([...o,L]),g(""),Be(!1),R.success(" ")}catch(C){console.error("Failed to add space:",C),R.error("  ")}finally{Ke(!1)}}},ue=async(C,L)=>{if(!L.trim()){R.error("  ");return}try{await je.put(`/finish-check/spaces/${C}`,{name:L.trim()}),m(o.map(f=>f.id===C?{...f,name:L.trim()}:f)),B(null),O(""),R.success("  ")}catch(f){console.error("Failed to update space:",f),R.error("  ")}},xe=C=>{_e(C),Oe(new Set)},te=async()=>{if(Ee!==null){if(Ue.size===0){R.error("  ");return}try{await Promise.all(Array.from(Ue).map(C=>je.delete(`/finish-check/items/${C}`))),m(o.map(C=>C.id===Ee?{...C,items:C.items.filter(L=>!Ue.has(L.id))}:C)),R.success(`${Ue.size}  `),_e(null),Oe(new Set)}catch(C){console.error("Failed to delete items:",C),R.error("  ")}}},q=async()=>{if(Ee===null)return;const C=o.find(L=>L.id===Ee);if(C&&confirm(`"${C.name}"  ?

        .`))try{await je.delete(`/finish-check/spaces/${Ee}`),m(o.filter(L=>L.id!==Ee)),R.success(" "),_e(null),Oe(new Set)}catch(L){console.error("Failed to delete space:",L),R.error("  ")}},G=async C=>{if(!b.trim()){R.error("  ");return}const L=-Date.now(),f={id:L,space_id:C,content:b.trim(),is_checked:!1,is_priority:!1,images:[]};m(o.map(h=>h.id===C?{...h,items:[...h.items,f]}:h));const V=b.trim();p(""),k(null);try{const h=await je.post("/finish-check/items",{space_id:C,content:V});m(M=>M.map(ke=>ke.id===C?{...ke,items:ke.items.map(Ce=>Ce.id===L?{...h.data,images:[]}:Ce)}:ke))}catch(h){console.error("Failed to add item:",h),m(M=>M.map(ke=>ke.id===C?{...ke,items:ke.items.filter(Ce=>Ce.id!==L)}:ke)),R.error("  ")}},z=async C=>{try{const L=await je.put(`/finish-check/items/${C}/toggle`);m(o.map(f=>({...f,items:f.items.map(V=>V.id===C?{...V,...L.data}:V)})))}catch(L){console.error("Failed to toggle item:",L),R.error("   ")}},ye=async C=>{try{const L=await je.put(`/finish-check/items/${C}/toggle-priority`);m(o.map(f=>({...f,items:f.items.map(V=>V.id===C?{...V,is_priority:L.data.is_priority}:V)})))}catch(L){console.error("Failed to toggle priority:",L),R.error("  ")}},Se=C=>new Promise((L,f)=>{const V=new FileReader;V.readAsDataURL(C),V.onload=()=>L(V.result),V.onerror=h=>f(h)}),I=async(C,L)=>{var h,M;if(!["image/jpeg","image/png","image/webp"].includes(L.type)){R.error("JPEG, PNG, WebP    ");return}const V=5*1024*1024;if(L.size>V){R.error("  5MB  ");return}try{Z(Te=>new Set([...Te,C]));const ke=await Se(L),Ce=await je.post(`/finish-check/items/${C}/images`,{image_data:ke,filename:L.name});m(o.map(Te=>({...Te,items:Te.items.map(Fe=>Fe.id===C?{...Fe,images:[...Fe.images,Ce.data]}:Fe)}))),R.success(" ")}catch(ke){console.error("Failed to upload image:",ke),R.error(((M=(h=ke.response)==null?void 0:h.data)==null?void 0:M.error)||"  ")}finally{Z(ke=>{const Ce=new Set(ke);return Ce.delete(C),Ce})}},ae=async(C,L)=>{const f=L.target.files;if(!(!f||f.length===0)){for(let V=0;V<f.length;V++)await I(C,f[V]);X.current&&(X.current.value="")}},E=async(C,L)=>{if(confirm("  ?"))try{await je.delete(`/finish-check/images/${L}`),m(o.map(f=>({...f,items:f.items.map(V=>V.id===C?{...V,images:V.images.filter(h=>h.id!==L)}:V)}))),R.success(" ")}catch(f){console.error("Failed to delete image:",f),R.error("  ")}},W=async(C,L)=>{C.preventDefault(),C.stopPropagation();const f=C.dataTransfer.files;if(!(!f||f.length===0))for(let V=0;V<f.length;V++)f[V].type.startsWith("image/")&&await I(L,f[V])},J=C=>{C.preventDefault(),C.stopPropagation()};if(d)return e.jsxDEV("div",{className:"flex items-center justify-center h-[calc(100vh-120px)]",children:e.jsxDEV("div",{className:"text-gray-500",children:" ..."},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:557,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:556,columnNumber:7},void 0);const pe=T?o.flatMap(C=>C.items).find(C=>C.id===T):null;return e.jsxDEV("div",{className:"h-[calc(100vh-120px)] flex flex-col md:flex-row gap-4 overflow-hidden",children:[e.jsxDEV("input",{ref:X,type:"file",accept:"image/jpeg,image/png,image/webp",multiple:!0,className:"hidden",onChange:C=>{T&&ae(T,C)}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:569,columnNumber:7},void 0),e.jsxDEV("div",{className:"flex-1 bg-white border border-gray-200 rounded-lg overflow-hidden flex flex-col",children:[e.jsxDEV("div",{className:"p-4 border-b border-gray-200",children:be?e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("div",{className:"flex-1",children:e.jsxDEV("select",{value:i||"",onChange:C=>{const L=C.target.value?Number(C.target.value):null;a(L)},className:"w-full px-3 py-2.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 bg-white cursor-pointer hover:border-gray-400 transition-colors appearance-none bg-[url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20fill%3D%22none%22%20viewBox%3D%220%200%2020%2020%22%3E%3Cpath%20stroke%3D%22%236b7280%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%221.5%22%20d%3D%22M6%208l4%204%204-4%22%2F%3E%3C%2Fsvg%3E')] bg-[length:1.5em_1.5em] bg-[right_0.5rem_center] bg-no-repeat pr-10",children:[(s==null?void 0:s.name)!==""&&e.jsxDEV("option",{value:"",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:599,columnNumber:43},void 0),t.map(C=>e.jsxDEV("option",{value:C.id,children:C.title},C.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:601,columnNumber:21},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:591,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:590,columnNumber:15},void 0),e.jsxDEV("button",{onClick:()=>He(!fe),className:`px-3 py-2.5 text-xs font-medium rounded-lg transition-colors whitespace-nowrap ${fe?"bg-gray-800 text-white hover:bg-gray-900":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,title:fe?" ":" ",children:fe?"":""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:609,columnNumber:15},void 0),e.jsxDEV("button",{onClick:()=>Be(!0),className:"p-2.5 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors flex items-center justify-center",title:" ",children:e.jsxDEV(_s,{className:"w-5 h-5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:627,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:622,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:588,columnNumber:13},void 0):e.jsxDEV("div",{className:"flex gap-3",children:[e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:635,columnNumber:17},void 0),e.jsxDEV("select",{value:i||"",onChange:C=>{const L=C.target.value?Number(C.target.value):null;a(L)},className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 bg-white cursor-pointer hover:border-gray-400 transition-colors appearance-none bg-[url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20fill%3D%22none%22%20viewBox%3D%220%200%2020%2020%22%3E%3Cpath%20stroke%3D%22%236b7280%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%221.5%22%20d%3D%22M6%208l4%204%204-4%22%2F%3E%3C%2Fsvg%3E')] bg-[length:1.5em_1.5em] bg-[right_0.5rem_center] bg-no-repeat pr-10",children:[(s==null?void 0:s.name)!==""&&e.jsxDEV("option",{value:"",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:644,columnNumber:43},void 0),t.map(C=>e.jsxDEV("option",{value:C.id,children:C.title},C.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:646,columnNumber:21},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:636,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:634,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:655,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV("input",{type:"text",value:u,onChange:C=>g(C.target.value),onKeyPress:C=>{C.key==="Enter"&&S()},placeholder:"  ",className:"flex-1 px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:657,columnNumber:19},void 0),e.jsxDEV("button",{onClick:S,disabled:Re,className:"p-2 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors flex items-center justify-center min-w-[44px] disabled:opacity-50",title:" ",children:e.jsxDEV(_s,{className:"w-5 h-5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:675,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:669,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:656,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:654,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex items-end",children:e.jsxDEV("button",{onClick:()=>He(!fe),className:`px-4 py-2 text-sm font-medium rounded-lg transition-colors whitespace-nowrap ${fe?"bg-gray-800 text-white hover:bg-gray-900":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,title:fe?" ":" ",children:fe?"":""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:682,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:681,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:632,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:585,columnNumber:9},void 0),e.jsxDEV("div",{className:"flex-1 overflow-y-auto p-4",children:o.length===0?e.jsxDEV("div",{className:"flex items-center justify-center h-full text-gray-500 text-sm",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:701,columnNumber:13},void 0):e.jsxDEV("div",{className:"columns-1 portrait:md:columns-2 landscape:md:columns-3 desktop:columns-4 column-gap-4",children:o.map((C,L)=>{const f=C.items.filter(h=>!h.is_completed).sort((h,M)=>(M.is_priority||0)-(h.is_priority||0)),V=C.items.filter(h=>h.is_completed);return fe&&f.length===0?null:e.jsxDEV("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50 mb-4 break-inside-avoid",children:[j===C.id?e.jsxDEV("div",{className:"flex gap-2 mb-4",children:[e.jsxDEV("input",{type:"text",value:y,onChange:h=>O(h.target.value),onKeyPress:h=>{h.key==="Enter"?ue(C.id,y):h.key==="Escape"&&(B(null),O(""))},className:"flex-1 px-2 py-1 text-sm border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-gray-500",autoFocus:!0},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:720,columnNumber:25},void 0),e.jsxDEV("button",{onClick:()=>ue(C.id,y),className:"p-1 text-green-600 hover:text-green-700",children:e.jsxDEV(Ea,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:739,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:735,columnNumber:25},void 0),e.jsxDEV("button",{onClick:()=>{B(null),O("")},className:"p-1 text-gray-600 hover:text-gray-700",children:e.jsxDEV(ft,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:748,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:741,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:719,columnNumber:23},void 0):e.jsxDEV("div",{className:"flex items-center justify-between mb-4 pb-2 border-b border-gray-300",children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("h3",{className:"text-base font-bold text-gray-900 flex items-center gap-2",children:[e.jsxDEV("span",{className:"inline-flex items-center justify-center w-6 h-6 bg-gray-800 text-white text-xs font-bold rounded-full",children:L+1},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:755,columnNumber:29},void 0),C.name]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:754,columnNumber:27},void 0),e.jsxDEV("span",{className:"text-xs text-gray-500",children:[V.length,"/",C.items.length," "]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:760,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:753,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex items-center gap-1",children:[e.jsxDEV("button",{onClick:()=>{w===C.id?(k(null),p("")):k(C.id)},className:`p-1 transition-colors ${w===C.id?"text-gray-900 bg-gray-100 rounded":"text-gray-600 hover:text-gray-800"}`,title:" ",children:e.jsxDEV(_s,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:781,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:765,columnNumber:27},void 0),e.jsxDEV("button",{onClick:()=>{B(C.id),O(C.name)},className:"p-1 text-gray-600 hover:text-gray-800 transition-colors",title:"",children:e.jsxDEV(rr,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:791,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:783,columnNumber:27},void 0),e.jsxDEV("button",{onClick:()=>xe(C.id),className:"p-1 text-red-500 hover:text-red-700 transition-colors",title:"",children:e.jsxDEV(Vt,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:798,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:793,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:764,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:752,columnNumber:23},void 0),w===C.id&&e.jsxDEV("div",{className:"mb-4 p-3 bg-white border border-gray-300 rounded-lg",children:e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV("input",{type:"text",value:b,onChange:h=>p(h.target.value),onKeyPress:h=>{h.key==="Enter"&&b.trim()&&G(C.id)},placeholder:"  ",className:"flex-1 px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",autoFocus:!0},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:808,columnNumber:27},void 0),e.jsxDEV("button",{onClick:()=>G(C.id),disabled:!b.trim(),className:"px-4 py-2 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors text-sm font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:821,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:807,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:806,columnNumber:23},void 0),f.length>0&&e.jsxDEV("div",{className:"mb-4",children:e.jsxDEV("div",{className:"space-y-2",children:f.map(h=>e.jsxDEV("div",{className:"flex items-start gap-3 p-3 bg-white border border-gray-200 rounded-lg",children:[e.jsxDEV("input",{type:"checkbox",checked:!1,onChange:()=>z(h.id),className:"mt-1 w-5 h-5 rounded border-gray-300 text-gray-800 focus:ring-gray-500 cursor-pointer"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:841,columnNumber:31},void 0),e.jsxDEV("span",{className:`flex-1 text-sm text-gray-900 ${!be&&T===h.id?"font-semibold":""}`,onClick:()=>!be&&oe(h.id),style:{cursor:be?"default":"pointer"},children:[h.content,h.images&&h.images.length>0&&e.jsxDEV("span",{className:"ml-2 text-xs text-gray-500",children:["(",h.images.length,")"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:855,columnNumber:35},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:848,columnNumber:31},void 0),e.jsxDEV("div",{className:"flex items-center gap-1",children:[e.jsxDEV("button",{onClick:()=>{oe(h.id),be&&Ve(!0)},className:`p-1 transition-colors ${h.images&&h.images.length>0?"text-blue-600 hover:text-blue-800":"text-gray-300 hover:text-gray-400"}`,title:"",children:e.jsxDEV(As,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:875,columnNumber:35},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:861,columnNumber:33},void 0),e.jsxDEV("button",{onClick:()=>ye(h.id),className:`p-1 transition-colors ${h.is_priority?"text-yellow-500 hover:text-yellow-600":"text-gray-300 hover:text-gray-400"}`,title:"",children:e.jsxDEV(ho,{className:`w-4 h-4 ${h.is_priority?"fill-current":""}`},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:886,columnNumber:35},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:877,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:860,columnNumber:31},void 0)]},h.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:837,columnNumber:29},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:835,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:834,columnNumber:23},void 0),!fe&&V.length>0&&e.jsxDEV("div",{children:e.jsxDEV("div",{className:"space-y-2",children:V.map(h=>e.jsxDEV("div",{className:"flex items-start gap-3 p-3 bg-white border border-gray-200 rounded-lg opacity-40",children:[e.jsxDEV("input",{type:"checkbox",checked:!0,onChange:()=>z(h.id),className:"mt-1 w-5 h-5 rounded border-gray-300 text-gray-800 focus:ring-gray-500 cursor-pointer"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:904,columnNumber:31},void 0),e.jsxDEV("span",{className:`flex-1 text-sm text-gray-500 line-through ${!be&&T===h.id?"font-semibold":""}`,onClick:()=>!be&&oe(h.id),style:{cursor:be?"default":"pointer"},children:[h.content,h.images&&h.images.length>0&&e.jsxDEV("span",{className:"ml-2 text-xs text-gray-500",children:["(",h.images.length,")"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:918,columnNumber:35},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:911,columnNumber:31},void 0),e.jsxDEV("div",{className:"flex items-center gap-1",children:[e.jsxDEV("button",{onClick:()=>{oe(h.id),be&&Ve(!0)},className:`p-1 transition-colors ${h.images&&h.images.length>0?"text-blue-600 hover:text-blue-800":"text-gray-300 hover:text-gray-400"}`,title:"",children:e.jsxDEV(As,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:938,columnNumber:35},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:924,columnNumber:33},void 0),e.jsxDEV("button",{onClick:()=>ye(h.id),className:`p-1 transition-colors ${h.is_priority?"text-yellow-500 hover:text-yellow-600":"text-gray-300 hover:text-gray-400"}`,title:"",children:e.jsxDEV(ho,{className:`w-4 h-4 ${h.is_priority?"fill-current":""}`},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:949,columnNumber:35},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:940,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:923,columnNumber:31},void 0)]},h.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:900,columnNumber:29},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:898,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:897,columnNumber:23},void 0)]},C.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:716,columnNumber:19},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:705,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:699,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:583,columnNumber:7},void 0),!be&&T&&pe&&e.jsxDEV("div",{className:"w-80 bg-white border border-gray-200 rounded-lg overflow-hidden flex flex-col",children:[e.jsxDEV("div",{className:"p-4 border-b border-gray-200 bg-gray-50",children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-2",children:[e.jsxDEV("h3",{className:"font-semibold text-gray-900",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:970,columnNumber:15},void 0),e.jsxDEV("button",{onClick:()=>oe(null),className:"p-1 text-gray-600 hover:text-gray-900 transition-colors",title:"",children:e.jsxDEV(ft,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:976,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:971,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:969,columnNumber:13},void 0),e.jsxDEV("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:pe.content},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:979,columnNumber:13},void 0),e.jsxDEV("button",{onClick:()=>{var C;return(C=X.current)==null?void 0:C.click()},disabled:re.has(T),className:"w-full px-3 py-2 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors text-sm font-medium flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsxDEV(Ls,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:985,columnNumber:15},void 0),re.has(T)?" ...":" "]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:980,columnNumber:13},void 0),e.jsxDEV("p",{className:"text-xs text-gray-500 mt-2 text-center",children:"    , Ctrl+V "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:988,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:968,columnNumber:11},void 0),e.jsxDEV("div",{className:"flex-1 overflow-y-auto p-4",onDrop:C=>W(C,T),onDragOver:J,children:pe.images.length===0?e.jsxDEV("div",{className:"flex flex-col items-center justify-center h-full text-gray-400 text-sm",children:[e.jsxDEV(As,{className:"w-12 h-12 mb-2"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1e3,columnNumber:17},void 0),e.jsxDEV("p",{children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1001,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:999,columnNumber:15},void 0):e.jsxDEV("div",{className:"grid grid-cols-2 gap-3",children:pe.images.map(C=>e.jsxDEV("div",{className:"relative group",children:[e.jsxDEV("img",{src:C.image_data,alt:C.filename||"",className:"w-full h-32 object-cover rounded-lg border border-gray-200"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1007,columnNumber:21},void 0),e.jsxDEV("button",{onClick:()=>E(T,C.id),className:"absolute top-1 right-1 p-1 bg-red-500 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-600",title:"",children:e.jsxDEV(ko,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1017,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1012,columnNumber:21},void 0),C.filename&&e.jsxDEV("p",{className:"text-xs text-gray-500 mt-1 truncate",title:C.filename,children:C.filename},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1020,columnNumber:23},void 0)]},C.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1006,columnNumber:19},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1004,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:993,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:967,columnNumber:9},void 0),be&&Me&&T&&pe&&e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-end justify-center z-50",children:e.jsxDEV("div",{className:"bg-white rounded-t-2xl w-full max-h-[80vh] flex flex-col",children:[e.jsxDEV("div",{className:"p-4 border-b border-gray-200",children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-2",children:[e.jsxDEV("h3",{className:"font-semibold text-gray-900",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1038,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>{Ve(!1),oe(null)},className:"p-1 text-gray-600 hover:text-gray-900",children:e.jsxDEV(ft,{className:"w-5 h-5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1046,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1039,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1037,columnNumber:15},void 0),e.jsxDEV("p",{className:"text-sm text-gray-600 mb-3",children:pe.content},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1049,columnNumber:15},void 0),e.jsxDEV("button",{onClick:()=>{var C;return(C=X.current)==null?void 0:C.click()},disabled:re.has(T),className:"w-full px-4 py-2 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors text-sm font-medium flex items-center justify-center gap-2 disabled:opacity-50",children:[e.jsxDEV(Ls,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1055,columnNumber:17},void 0),re.has(T)?" ...":" "]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1050,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1036,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex-1 overflow-y-auto p-4",children:pe.images.length===0?e.jsxDEV("div",{className:"flex flex-col items-center justify-center h-full text-gray-400",children:[e.jsxDEV(As,{className:"w-16 h-16 mb-2"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1063,columnNumber:19},void 0),e.jsxDEV("p",{className:"text-sm",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1064,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1062,columnNumber:17},void 0):e.jsxDEV("div",{className:"grid grid-cols-2 gap-3",children:pe.images.map(C=>e.jsxDEV("div",{className:"relative",children:[e.jsxDEV("img",{src:C.image_data,alt:C.filename||"",className:"w-full h-40 object-cover rounded-lg border border-gray-200"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1070,columnNumber:23},void 0),e.jsxDEV("button",{onClick:()=>E(T,C.id),className:"absolute top-2 right-2 p-1.5 bg-red-500 text-white rounded-full hover:bg-red-600",children:e.jsxDEV(ko,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1079,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1075,columnNumber:23},void 0),C.filename&&e.jsxDEV("p",{className:"text-xs text-gray-500 mt-1 truncate",title:C.filename,children:C.filename},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1082,columnNumber:25},void 0)]},C.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1069,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1067,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1060,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1035,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1034,columnNumber:9},void 0),Ee!==null&&e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxDEV("div",{className:"bg-white rounded-lg w-full max-w-2xl max-h-[80vh] flex flex-col",children:[e.jsxDEV("div",{className:"p-4 border-b border-gray-200",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("h3",{className:"text-lg font-bold text-gray-900",children:[(ve=o.find(C=>C.id===Ee))==null?void 0:ve.name," - "]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1101,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>{_e(null),Oe(new Set)},className:"p-1 text-gray-600 hover:text-gray-900",children:e.jsxDEV(ft,{className:"w-5 h-5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1111,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1104,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1100,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1099,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex-1 overflow-y-auto p-4",children:[e.jsxDEV("p",{className:"text-sm text-gray-600 mb-4",children:"  .    ."},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1117,columnNumber:15},void 0),e.jsxDEV("div",{className:"space-y-2",children:(P=o.find(C=>C.id===Ee))==null?void 0:P.items.map(C=>e.jsxDEV("div",{className:"flex items-start gap-3 p-3 bg-gray-50 border border-gray-200 rounded-lg hover:bg-gray-100 transition-colors cursor-pointer",onClick:()=>{const L=new Set(Ue);L.has(C.id)?L.delete(C.id):L.add(C.id),Oe(L)},children:[e.jsxDEV("input",{type:"checkbox",checked:Ue.has(C.id),onChange:()=>{},className:"mt-1 w-5 h-5 rounded border-gray-300 text-gray-800 focus:ring-gray-500 cursor-pointer"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1137,columnNumber:23},void 0),e.jsxDEV("span",{className:`flex-1 text-sm ${C.is_completed?"text-gray-500 line-through":"text-gray-900"}`,children:C.content},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1143,columnNumber:23},void 0)]},C.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1124,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1120,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1116,columnNumber:13},void 0),e.jsxDEV("div",{className:"p-4 border-t border-gray-200 flex gap-2",children:[e.jsxDEV("button",{onClick:te,disabled:Ue.size===0,className:"flex-1 px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors text-sm font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:["   (",Ue.size,")"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1152,columnNumber:15},void 0),e.jsxDEV("button",{onClick:q,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors text-sm font-medium",children:"  "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1159,columnNumber:15},void 0),e.jsxDEV("button",{onClick:()=>{_e(null),Oe(new Set)},className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 transition-colors text-sm font-medium",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1165,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1151,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1098,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1097,columnNumber:9},void 0),De&&e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-end md:items-center justify-center z-50",children:e.jsxDEV("div",{className:"bg-white rounded-t-2xl md:rounded-lg w-full md:max-w-md",children:[e.jsxDEV("div",{className:"p-4 border-b border-gray-200",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("h3",{className:"text-lg font-bold text-gray-900",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1185,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>{Be(!1),g("")},className:"p-1 text-gray-600 hover:text-gray-900",children:e.jsxDEV(ft,{className:"w-5 h-5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1193,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1186,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1184,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1183,columnNumber:13},void 0),e.jsxDEV("div",{className:"p-4",children:[e.jsxDEV("div",{className:"mb-4",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1200,columnNumber:17},void 0),e.jsxDEV("input",{type:"text",value:u,onChange:C=>g(C.target.value),onKeyPress:C=>{C.key==="Enter"&&u.trim()&&S()},placeholder:"  ",className:"w-full px-3 py-2.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",autoFocus:!0},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1201,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1199,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV("button",{onClick:()=>{Be(!1),g("")},className:"flex-1 px-4 py-2.5 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 transition-colors text-sm font-medium",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1217,columnNumber:17},void 0),e.jsxDEV("button",{onClick:S,disabled:!u.trim()||Re,className:"flex-1 px-4 py-2.5 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors text-sm font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:Re?" ...":""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1226,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1216,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1198,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1182,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1181,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:567,columnNumber:5},void 0)};var da=function(s,n){return da=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},da(s,n)};function Pb(s,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");da(s,n);function t(){this.constructor=s}s.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}var Xt=function(){return Xt=Object.assign||function(n){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(n[a]=t[a])}return n},Xt.apply(this,arguments)};var dm=!1,dn,ca,ua,$r,zr,Rd,Yr,pa,fa,ga,Md,Na,ba,Id,Td;function as(){if(!dm){dm=!0;var s=navigator.userAgent,n=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(s),t=/(Mac OS X)|(Windows)|(Linux)/.exec(s);if(Na=/\b(iPhone|iP[ao]d)/.exec(s),ba=/\b(iP[ao]d)/.exec(s),ga=/Android/i.exec(s),Id=/FBAN\/\w+;/i.exec(s),Td=/Mobile/i.exec(s),Md=!!/Win64/.exec(s),n){dn=n[1]?parseFloat(n[1]):n[5]?parseFloat(n[5]):NaN,dn&&document&&document.documentMode&&(dn=document.documentMode);var r=/(?:Trident\/(\d+.\d+))/.exec(s);Rd=r?parseFloat(r[1])+4:dn,ca=n[2]?parseFloat(n[2]):NaN,ua=n[3]?parseFloat(n[3]):NaN,$r=n[4]?parseFloat(n[4]):NaN,$r?(n=/(?:Chrome\/(\d+\.\d+))/.exec(s),zr=n&&n[1]?parseFloat(n[1]):NaN):zr=NaN}else dn=ca=ua=zr=$r=NaN;if(t){if(t[1]){var i=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(s);Yr=i?parseFloat(i[1].replace("_",".")):!0}else Yr=!1;pa=!!t[2],fa=!!t[3]}else Yr=pa=fa=!1}}var xa={ie:function(){return as()||dn},ieCompatibilityMode:function(){return as()||Rd>dn},ie64:function(){return xa.ie()&&Md},firefox:function(){return as()||ca},opera:function(){return as()||ua},webkit:function(){return as()||$r},safari:function(){return xa.webkit()},chrome:function(){return as()||zr},windows:function(){return as()||pa},osx:function(){return as()||Yr},linux:function(){return as()||fa},iphone:function(){return as()||Na},mobile:function(){return as()||Na||ba||ga||Td},nativeApp:function(){return as()||Id},android:function(){return as()||ga},ipad:function(){return as()||ba}},Rb=xa,Mb=!!(typeof window<"u"&&window.document&&window.document.createElement),Ib={canUseDOM:Mb},Tb=Ib,Fd=Tb,Wd;Fd.canUseDOM&&(Wd=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function Fb(s,n){if(!Fd.canUseDOM||n&&!("addEventListener"in document))return!1;var t="on"+s,r=t in document;if(!r){var i=document.createElement("div");i.setAttribute(t,"return;"),r=typeof i[t]=="function"}return!r&&Wd&&s==="wheel"&&(r=document.implementation.hasFeature("Events.wheel","3.0")),r}var Wb=Fb,qb=Rb,Ob=Wb,cm=10,um=40,pm=800;function qd(s){var n=0,t=0,r=0,i=0;return"detail"in s&&(t=s.detail),"wheelDelta"in s&&(t=-s.wheelDelta/120),"wheelDeltaY"in s&&(t=-s.wheelDeltaY/120),"wheelDeltaX"in s&&(n=-s.wheelDeltaX/120),"axis"in s&&s.axis===s.HORIZONTAL_AXIS&&(n=t,t=0),r=n*cm,i=t*cm,"deltaY"in s&&(i=s.deltaY),"deltaX"in s&&(r=s.deltaX),(r||i)&&s.deltaMode&&(s.deltaMode==1?(r*=um,i*=um):(r*=pm,i*=pm)),r&&!n&&(n=r<1?-1:1),i&&!t&&(t=i<1?-1:1),{spinX:n,spinY:t,pixelX:r,pixelY:i}}qd.getEventType=function(){return qb.firefox()?"DOMMouseScroll":Ob("wheel")?"wheel":"mousewheel"};var $b=qd,zb=$b;const Yb=hc(zb);function Kb(s,n,t,r,i,a){a===void 0&&(a=0);var o=wn(s,n,a),m=o.width,d=o.height,c=Math.min(m,t),u=Math.min(d,r);return c>u*i?{width:u*i,height:u}:{width:c,height:c/i}}function Xb(s){return s.width>s.height?s.width/s.naturalWidth:s.height/s.naturalHeight}function $n(s,n,t,r,i){i===void 0&&(i=0);var a=wn(n.width,n.height,i),o=a.width,m=a.height;return{x:fm(s.x,o,t.width,r),y:fm(s.y,m,t.height,r)}}function fm(s,n,t,r){var i=n*r/2-t/2;return Vi(s,-i,i)}function gm(s,n){return Math.sqrt(Math.pow(s.y-n.y,2)+Math.pow(s.x-n.x,2))}function Nm(s,n){return Math.atan2(n.y-s.y,n.x-s.x)*180/Math.PI}function Jb(s,n,t,r,i,a,o){a===void 0&&(a=0),o===void 0&&(o=!0);var m=o?Gb:Qb,d=wn(n.width,n.height,a),c=wn(n.naturalWidth,n.naturalHeight,a),u={x:m(100,((d.width-t.width/i)/2-s.x/i)/d.width*100),y:m(100,((d.height-t.height/i)/2-s.y/i)/d.height*100),width:m(100,t.width/d.width*100/i),height:m(100,t.height/d.height*100/i)},g=Math.round(m(c.width,u.width*c.width/100)),b=Math.round(m(c.height,u.height*c.height/100)),p=c.width>=c.height*r,w=p?{width:Math.round(b*r),height:b}:{width:g,height:Math.round(g/r)},k=Xt(Xt({},w),{x:Math.round(m(c.width-w.width,u.x*c.width/100)),y:Math.round(m(c.height-w.height,u.y*c.height/100))});return{croppedAreaPercentages:u,croppedAreaPixels:k}}function Gb(s,n){return Math.min(s,Math.max(0,n))}function Qb(s,n){return n}function Zb(s,n,t,r,i,a){var o=wn(n.width,n.height,t),m=Vi(r.width/o.width*(100/s.width),i,a),d={x:m*o.width/2-r.width/2-o.width*m*(s.x/100),y:m*o.height/2-r.height/2-o.height*m*(s.y/100)};return{crop:d,zoom:m}}function ex(s,n,t){var r=Xb(n);return t.height>t.width?t.height/(s.height*r):t.width/(s.width*r)}function tx(s,n,t,r,i,a){t===void 0&&(t=0);var o=wn(n.naturalWidth,n.naturalHeight,t),m=Vi(ex(s,n,r),i,a),d=r.height>r.width?r.height/s.height:r.width/s.width,c={x:((o.width-s.width)/2-s.x)*d,y:((o.height-s.height)/2-s.y)*d};return{crop:c,zoom:m}}function bm(s,n){return{x:(n.x+s.x)/2,y:(n.y+s.y)/2}}function sx(s){return s*Math.PI/180}function wn(s,n,t){var r=sx(t);return{width:Math.abs(Math.cos(r)*s)+Math.abs(Math.sin(r)*n),height:Math.abs(Math.sin(r)*s)+Math.abs(Math.cos(r)*n)}}function Vi(s,n,t){return Math.min(Math.max(s,n),t)}function Sr(){for(var s=[],n=0;n<arguments.length;n++)s[n]=arguments[n];return s.filter(function(t){return typeof t=="string"&&t.length>0}).join(" ").trim()}var nx=`.reactEasyCrop_Container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  user-select: none;
  touch-action: none;
  cursor: move;
  display: flex;
  justify-content: center;
  align-items: center;
}

.reactEasyCrop_Image,
.reactEasyCrop_Video {
  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */
}

.reactEasyCrop_Contain {
  max-width: 100%;
  max-height: 100%;
  margin: auto;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.reactEasyCrop_Cover_Horizontal {
  width: 100%;
  height: auto;
}
.reactEasyCrop_Cover_Vertical {
  width: auto;
  height: 100%;
}

.reactEasyCrop_CropArea {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-sizing: border-box;
  box-shadow: 0 0 0 9999em;
  color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

.reactEasyCrop_CropAreaRound {
  border-radius: 50%;
}

.reactEasyCrop_CropAreaGrid::before {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 0;
  bottom: 0;
  left: 33.33%;
  right: 33.33%;
  border-top: 0;
  border-bottom: 0;
}

.reactEasyCrop_CropAreaGrid::after {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 33.33%;
  bottom: 33.33%;
  left: 0;
  right: 0;
  border-left: 0;
  border-right: 0;
}
`,rx=1,ix=3,ax=1,ox=function(s){Pb(n,s);function n(){var t=s!==null&&s.apply(this,arguments)||this;return t.cropperRef=l.createRef(),t.imageRef=l.createRef(),t.videoRef=l.createRef(),t.containerPosition={x:0,y:0},t.containerRef=null,t.styleRef=null,t.containerRect=null,t.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},t.dragStartPosition={x:0,y:0},t.dragStartCrop={x:0,y:0},t.gestureZoomStart=0,t.gestureRotationStart=0,t.isTouching=!1,t.lastPinchDistance=0,t.lastPinchRotation=0,t.rafDragTimeout=null,t.rafPinchTimeout=null,t.wheelTimer=null,t.currentDoc=typeof document<"u"?document:null,t.currentWindow=typeof window<"u"?window:null,t.resizeObserver=null,t.previousCropSize=null,t.isInitialized=!1,t.state={cropSize:null,hasWheelJustStarted:!1,mediaObjectFit:void 0},t.initResizeObserver=function(){if(!(typeof window.ResizeObserver>"u"||!t.containerRef)){var r=!0;t.resizeObserver=new window.ResizeObserver(function(i){if(r){r=!1;return}t.computeSizes()}),t.resizeObserver.observe(t.containerRef)}},t.preventZoomSafari=function(r){return r.preventDefault()},t.cleanEvents=function(){t.currentDoc&&(t.currentDoc.removeEventListener("mousemove",t.onMouseMove),t.currentDoc.removeEventListener("mouseup",t.onDragStopped),t.currentDoc.removeEventListener("touchmove",t.onTouchMove),t.currentDoc.removeEventListener("touchend",t.onDragStopped),t.currentDoc.removeEventListener("gesturechange",t.onGestureChange),t.currentDoc.removeEventListener("gestureend",t.onGestureEnd),t.currentDoc.removeEventListener("scroll",t.onScroll))},t.clearScrollEvent=function(){t.containerRef&&t.containerRef.removeEventListener("wheel",t.onWheel),t.wheelTimer&&clearTimeout(t.wheelTimer)},t.onMediaLoad=function(){var r=t.computeSizes();r&&(t.previousCropSize=r,t.emitCropData(),t.setInitialCrop(r),t.isInitialized=!0),t.props.onMediaLoaded&&t.props.onMediaLoaded(t.mediaSize)},t.setInitialCrop=function(r){if(t.props.initialCroppedAreaPercentages){var i=Zb(t.props.initialCroppedAreaPercentages,t.mediaSize,t.props.rotation,r,t.props.minZoom,t.props.maxZoom),a=i.crop,o=i.zoom;t.props.onCropChange(a),t.props.onZoomChange&&t.props.onZoomChange(o)}else if(t.props.initialCroppedAreaPixels){var m=tx(t.props.initialCroppedAreaPixels,t.mediaSize,t.props.rotation,r,t.props.minZoom,t.props.maxZoom),a=m.crop,o=m.zoom;t.props.onCropChange(a),t.props.onZoomChange&&t.props.onZoomChange(o)}},t.computeSizes=function(){var r,i,a,o,m,d,c=t.imageRef.current||t.videoRef.current;if(c&&t.containerRef){t.containerRect=t.containerRef.getBoundingClientRect(),t.saveContainerPosition();var u=t.containerRect.width/t.containerRect.height,g=((r=t.imageRef.current)===null||r===void 0?void 0:r.naturalWidth)||((i=t.videoRef.current)===null||i===void 0?void 0:i.videoWidth)||0,b=((a=t.imageRef.current)===null||a===void 0?void 0:a.naturalHeight)||((o=t.videoRef.current)===null||o===void 0?void 0:o.videoHeight)||0,p=c.offsetWidth<g||c.offsetHeight<b,w=g/b,k=void 0;if(p)switch(t.state.mediaObjectFit){default:case"contain":k=u>w?{width:t.containerRect.height*w,height:t.containerRect.height}:{width:t.containerRect.width,height:t.containerRect.width/w};break;case"horizontal-cover":k={width:t.containerRect.width,height:t.containerRect.width/w};break;case"vertical-cover":k={width:t.containerRect.height*w,height:t.containerRect.height};break}else k={width:c.offsetWidth,height:c.offsetHeight};t.mediaSize=Xt(Xt({},k),{naturalWidth:g,naturalHeight:b}),t.props.setMediaSize&&t.props.setMediaSize(t.mediaSize);var j=t.props.cropSize?t.props.cropSize:Kb(t.mediaSize.width,t.mediaSize.height,t.containerRect.width,t.containerRect.height,t.props.aspect,t.props.rotation);return(((m=t.state.cropSize)===null||m===void 0?void 0:m.height)!==j.height||((d=t.state.cropSize)===null||d===void 0?void 0:d.width)!==j.width)&&t.props.onCropSizeChange&&t.props.onCropSizeChange(j),t.setState({cropSize:j},t.recomputeCropPosition),t.props.setCropSize&&t.props.setCropSize(j),j}},t.saveContainerPosition=function(){if(t.containerRef){var r=t.containerRef.getBoundingClientRect();t.containerPosition={x:r.left,y:r.top}}},t.onMouseDown=function(r){t.currentDoc&&(r.preventDefault(),t.currentDoc.addEventListener("mousemove",t.onMouseMove),t.currentDoc.addEventListener("mouseup",t.onDragStopped),t.saveContainerPosition(),t.onDragStart(n.getMousePoint(r)))},t.onMouseMove=function(r){return t.onDrag(n.getMousePoint(r))},t.onScroll=function(r){t.currentDoc&&(r.preventDefault(),t.saveContainerPosition())},t.onTouchStart=function(r){t.currentDoc&&(t.isTouching=!0,!(t.props.onTouchRequest&&!t.props.onTouchRequest(r))&&(t.currentDoc.addEventListener("touchmove",t.onTouchMove,{passive:!1}),t.currentDoc.addEventListener("touchend",t.onDragStopped),t.saveContainerPosition(),r.touches.length===2?t.onPinchStart(r):r.touches.length===1&&t.onDragStart(n.getTouchPoint(r.touches[0]))))},t.onTouchMove=function(r){r.preventDefault(),r.touches.length===2?t.onPinchMove(r):r.touches.length===1&&t.onDrag(n.getTouchPoint(r.touches[0]))},t.onGestureStart=function(r){t.currentDoc&&(r.preventDefault(),t.currentDoc.addEventListener("gesturechange",t.onGestureChange),t.currentDoc.addEventListener("gestureend",t.onGestureEnd),t.gestureZoomStart=t.props.zoom,t.gestureRotationStart=t.props.rotation)},t.onGestureChange=function(r){if(r.preventDefault(),!t.isTouching){var i=n.getMousePoint(r),a=t.gestureZoomStart-1+r.scale;if(t.setNewZoom(a,i,{shouldUpdatePosition:!0}),t.props.onRotationChange){var o=t.gestureRotationStart+r.rotation;t.props.onRotationChange(o)}}},t.onGestureEnd=function(r){t.cleanEvents()},t.onDragStart=function(r){var i,a,o=r.x,m=r.y;t.dragStartPosition={x:o,y:m},t.dragStartCrop=Xt({},t.props.crop),(a=(i=t.props).onInteractionStart)===null||a===void 0||a.call(i)},t.onDrag=function(r){var i=r.x,a=r.y;t.currentWindow&&(t.rafDragTimeout&&t.currentWindow.cancelAnimationFrame(t.rafDragTimeout),t.rafDragTimeout=t.currentWindow.requestAnimationFrame(function(){if(t.state.cropSize&&!(i===void 0||a===void 0)){var o=i-t.dragStartPosition.x,m=a-t.dragStartPosition.y,d={x:t.dragStartCrop.x+o,y:t.dragStartCrop.y+m},c=t.props.restrictPosition?$n(d,t.mediaSize,t.state.cropSize,t.props.zoom,t.props.rotation):d;t.props.onCropChange(c)}}))},t.onDragStopped=function(){var r,i;t.isTouching=!1,t.cleanEvents(),t.emitCropData(),(i=(r=t.props).onInteractionEnd)===null||i===void 0||i.call(r)},t.onWheel=function(r){if(t.currentWindow&&!(t.props.onWheelRequest&&!t.props.onWheelRequest(r))){r.preventDefault();var i=n.getMousePoint(r),a=Yb(r).pixelY,o=t.props.zoom-a*t.props.zoomSpeed/200;t.setNewZoom(o,i,{shouldUpdatePosition:!0}),t.state.hasWheelJustStarted||t.setState({hasWheelJustStarted:!0},function(){var m,d;return(d=(m=t.props).onInteractionStart)===null||d===void 0?void 0:d.call(m)}),t.wheelTimer&&clearTimeout(t.wheelTimer),t.wheelTimer=t.currentWindow.setTimeout(function(){return t.setState({hasWheelJustStarted:!1},function(){var m,d;return(d=(m=t.props).onInteractionEnd)===null||d===void 0?void 0:d.call(m)})},250)}},t.getPointOnContainer=function(r,i){var a=r.x,o=r.y;if(!t.containerRect)throw new Error("The Cropper is not mounted");return{x:t.containerRect.width/2-(a-i.x),y:t.containerRect.height/2-(o-i.y)}},t.getPointOnMedia=function(r){var i=r.x,a=r.y,o=t.props,m=o.crop,d=o.zoom;return{x:(i+m.x)/d,y:(a+m.y)/d}},t.setNewZoom=function(r,i,a){var o=a===void 0?{}:a,m=o.shouldUpdatePosition,d=m===void 0?!0:m;if(!(!t.state.cropSize||!t.props.onZoomChange)){var c=Vi(r,t.props.minZoom,t.props.maxZoom);if(d){var u=t.getPointOnContainer(i,t.containerPosition),g=t.getPointOnMedia(u),b={x:g.x*c-u.x,y:g.y*c-u.y},p=t.props.restrictPosition?$n(b,t.mediaSize,t.state.cropSize,c,t.props.rotation):b;t.props.onCropChange(p)}t.props.onZoomChange(c)}},t.getCropData=function(){if(!t.state.cropSize)return null;var r=t.props.restrictPosition?$n(t.props.crop,t.mediaSize,t.state.cropSize,t.props.zoom,t.props.rotation):t.props.crop;return Jb(r,t.mediaSize,t.state.cropSize,t.getAspect(),t.props.zoom,t.props.rotation,t.props.restrictPosition)},t.emitCropData=function(){var r=t.getCropData();if(r){var i=r.croppedAreaPercentages,a=r.croppedAreaPixels;t.props.onCropComplete&&t.props.onCropComplete(i,a),t.props.onCropAreaChange&&t.props.onCropAreaChange(i,a)}},t.emitCropAreaChange=function(){var r=t.getCropData();if(r){var i=r.croppedAreaPercentages,a=r.croppedAreaPixels;t.props.onCropAreaChange&&t.props.onCropAreaChange(i,a)}},t.recomputeCropPosition=function(){var r,i;if(t.state.cropSize){var a=t.props.crop;if(t.isInitialized&&(!((r=t.previousCropSize)===null||r===void 0)&&r.width)&&(!((i=t.previousCropSize)===null||i===void 0)&&i.height)){var o=Math.abs(t.previousCropSize.width-t.state.cropSize.width)>1e-6||Math.abs(t.previousCropSize.height-t.state.cropSize.height)>1e-6;if(o){var m=t.state.cropSize.width/t.previousCropSize.width,d=t.state.cropSize.height/t.previousCropSize.height;a={x:t.props.crop.x*m,y:t.props.crop.y*d}}}var c=t.props.restrictPosition?$n(a,t.mediaSize,t.state.cropSize,t.props.zoom,t.props.rotation):a;t.previousCropSize=t.state.cropSize,t.props.onCropChange(c),t.emitCropData()}},t.onKeyDown=function(r){var i,a,o=t.props,m=o.crop,d=o.onCropChange,c=o.keyboardStep,u=o.zoom,g=o.rotation,b=c;if(t.state.cropSize){r.shiftKey&&(b*=.2);var p=Xt({},m);switch(r.key){case"ArrowUp":p.y-=b,r.preventDefault();break;case"ArrowDown":p.y+=b,r.preventDefault();break;case"ArrowLeft":p.x-=b,r.preventDefault();break;case"ArrowRight":p.x+=b,r.preventDefault();break;default:return}t.props.restrictPosition&&(p=$n(p,t.mediaSize,t.state.cropSize,u,g)),r.repeat||(a=(i=t.props).onInteractionStart)===null||a===void 0||a.call(i),d(p)}},t.onKeyUp=function(r){var i,a;switch(r.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":r.preventDefault();break;default:return}t.emitCropData(),(a=(i=t.props).onInteractionEnd)===null||a===void 0||a.call(i)},t}return n.prototype.componentDidMount=function(){!this.currentDoc||!this.currentWindow||(this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.initResizeObserver(),typeof window.ResizeObserver>"u"&&this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.currentDoc.addEventListener("scroll",this.onScroll),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=nx,this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef),this.props.setCropperRef&&this.props.setCropperRef(this.cropperRef))},n.prototype.componentWillUnmount=function(){var t,r;!this.currentDoc||!this.currentWindow||(typeof window.ResizeObserver>"u"&&this.currentWindow.removeEventListener("resize",this.computeSizes),(t=this.resizeObserver)===null||t===void 0||t.disconnect(),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&((r=this.styleRef.parentNode)===null||r===void 0||r.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent())},n.prototype.componentDidUpdate=function(t){var r,i,a,o,m,d,c,u,g;t.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):t.aspect!==this.props.aspect?this.computeSizes():t.objectFit!==this.props.objectFit?this.computeSizes():t.zoom!==this.props.zoom?this.recomputeCropPosition():((r=t.cropSize)===null||r===void 0?void 0:r.height)!==((i=this.props.cropSize)===null||i===void 0?void 0:i.height)||((a=t.cropSize)===null||a===void 0?void 0:a.width)!==((o=this.props.cropSize)===null||o===void 0?void 0:o.width)?this.computeSizes():(((m=t.crop)===null||m===void 0?void 0:m.x)!==((d=this.props.crop)===null||d===void 0?void 0:d.x)||((c=t.crop)===null||c===void 0?void 0:c.y)!==((u=this.props.crop)===null||u===void 0?void 0:u.y))&&this.emitCropAreaChange(),t.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),t.video!==this.props.video&&((g=this.videoRef.current)===null||g===void 0||g.load());var b=this.getObjectFit();b!==this.state.mediaObjectFit&&this.setState({mediaObjectFit:b},this.computeSizes)},n.prototype.getAspect=function(){var t=this.props,r=t.cropSize,i=t.aspect;return r?r.width/r.height:i},n.prototype.getObjectFit=function(){var t,r,i,a;if(this.props.objectFit==="cover"){var o=this.imageRef.current||this.videoRef.current;if(o&&this.containerRef){this.containerRect=this.containerRef.getBoundingClientRect();var m=this.containerRect.width/this.containerRect.height,d=((t=this.imageRef.current)===null||t===void 0?void 0:t.naturalWidth)||((r=this.videoRef.current)===null||r===void 0?void 0:r.videoWidth)||0,c=((i=this.imageRef.current)===null||i===void 0?void 0:i.naturalHeight)||((a=this.videoRef.current)===null||a===void 0?void 0:a.videoHeight)||0,u=d/c;return u<m?"horizontal-cover":"vertical-cover"}return"horizontal-cover"}return this.props.objectFit},n.prototype.onPinchStart=function(t){var r=n.getTouchPoint(t.touches[0]),i=n.getTouchPoint(t.touches[1]);this.lastPinchDistance=gm(r,i),this.lastPinchRotation=Nm(r,i),this.onDragStart(bm(r,i))},n.prototype.onPinchMove=function(t){var r=this;if(!(!this.currentDoc||!this.currentWindow)){var i=n.getTouchPoint(t.touches[0]),a=n.getTouchPoint(t.touches[1]),o=bm(i,a);this.onDrag(o),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var m=gm(i,a),d=r.props.zoom*(m/r.lastPinchDistance);r.setNewZoom(d,o,{shouldUpdatePosition:!1}),r.lastPinchDistance=m;var c=Nm(i,a),u=r.props.rotation+(c-r.lastPinchRotation);r.props.onRotationChange&&r.props.onRotationChange(u),r.lastPinchRotation=c})}},n.prototype.render=function(){var t=this,r,i=this.props,a=i.image,o=i.video,m=i.mediaProps,d=i.cropperProps,c=i.transform,u=i.crop,g=u.x,b=u.y,p=i.rotation,w=i.zoom,k=i.cropShape,j=i.showGrid,B=i.roundCropAreaPixels,y=i.style,O=y.containerStyle,ge=y.cropAreaStyle,ee=y.mediaStyle,Y=i.classes,de=Y.containerClassName,T=Y.cropAreaClassName,oe=Y.mediaClassName,re=(r=this.state.mediaObjectFit)!==null&&r!==void 0?r:this.getObjectFit();return l.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(X){return t.containerRef=X},"data-testid":"container",style:O,className:Sr("reactEasyCrop_Container",de)},a?l.createElement("img",Xt({alt:"",className:Sr("reactEasyCrop_Image",re==="contain"&&"reactEasyCrop_Contain",re==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",re==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",oe)},m,{src:a,ref:this.imageRef,style:Xt(Xt({},ee),{transform:c||"translate(".concat(g,"px, ").concat(b,"px) rotate(").concat(p,"deg) scale(").concat(w,")")}),onLoad:this.onMediaLoad})):o&&l.createElement("video",Xt({autoPlay:!0,playsInline:!0,loop:!0,muted:!0,className:Sr("reactEasyCrop_Video",re==="contain"&&"reactEasyCrop_Contain",re==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",re==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",oe)},m,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:Xt(Xt({},ee),{transform:c||"translate(".concat(g,"px, ").concat(b,"px) rotate(").concat(p,"deg) scale(").concat(w,")")}),controls:!1}),(Array.isArray(o)?o:[{src:o}]).map(function(Z){return l.createElement("source",Xt({key:Z.src},Z))})),this.state.cropSize&&l.createElement("div",Xt({ref:this.cropperRef,style:Xt(Xt({},ge),{width:B?Math.round(this.state.cropSize.width):this.state.cropSize.width,height:B?Math.round(this.state.cropSize.height):this.state.cropSize.height}),tabIndex:0,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,"data-testid":"cropper",className:Sr("reactEasyCrop_CropArea",k==="round"&&"reactEasyCrop_CropAreaRound",j&&"reactEasyCrop_CropAreaGrid",T)},d)))},n.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:ix,minZoom:rx,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},cropperProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0,keyboardStep:ax},n.getMousePoint=function(t){return{x:Number(t.clientX),y:Number(t.clientY)}},n.getTouchPoint=function(t){return{x:Number(t.clientX),y:Number(t.clientY)}},n}(l.Component);const mx=s=>new Promise((n,t)=>{const r=new Image;r.addEventListener("load",()=>n(r)),r.addEventListener("error",i=>t(i)),r.crossOrigin="anonymous",r.src=s});async function lx(s,n,t=0){const r=await mx(s),i=document.createElement("canvas"),a=i.getContext("2d");if(!a)throw new Error("No 2d context");const o=t*Math.PI/180,m=Math.abs(Math.sin(o)),d=Math.abs(Math.cos(o)),c=r.width*d+r.height*m,u=r.width*m+r.height*d;i.width=n.width,i.height=n.height;const g=document.createElement("canvas"),b=g.getContext("2d");if(!b)throw new Error("No 2d context");g.width=c,g.height=u,b.translate(c/2,u/2),b.rotate(o),b.translate(-r.width/2,-r.height/2),b.drawImage(r,0,0);const p=(c-r.width)/2,w=(u-r.height)/2;return a.drawImage(g,n.x+p,n.y+w,n.width,n.height,0,0,n.width,n.height),i.toDataURL("image/jpeg",.9)}const dx=({image:s,onCropComplete:n,onCancel:t,aspectRatio:r=1})=>{const[i,a]=l.useState({x:0,y:0}),[o,m]=l.useState(1),[d,c]=l.useState(0),[u,g]=l.useState(null),b=l.useCallback(B=>{a(B)},[]),p=l.useCallback(B=>{m(B)},[]),w=l.useCallback((B,y)=>{g(y)},[]),k=()=>{c(B=>(B+90)%360)},j=async()=>{if(u)try{const B=await lx(s,u,d);n(B)}catch(B){console.error("Error cropping image:",B)}};return e.jsxDEV("div",{className:"fixed inset-0 bg-black/80 z-50 flex flex-col",children:[e.jsxDEV("div",{className:"flex items-center justify-between p-4 bg-black/50",children:[e.jsxDEV("button",{onClick:t,className:"p-2 text-white hover:bg-white/20 rounded-full transition-colors",children:e.jsxDEV(ft,{className:"w-6 h-6"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ImageCropper.tsx",lineNumber:131,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ImageCropper.tsx",lineNumber:127,columnNumber:9},void 0),e.jsxDEV("span",{className:"text-white font-medium",children:"  (1:1)"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ImageCropper.tsx",lineNumber:133,columnNumber:9},void 0),e.jsxDEV("button",{onClick:j,className:"p-2 text-white hover:bg-white/20 rounded-full transition-colors",children:e.jsxDEV(Ea,{className:"w-6 h-6"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ImageCropper.tsx",lineNumber:138,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ImageCropper.tsx",lineNumber:134,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ImageCropper.tsx",lineNumber:126,columnNumber:7},void 0),e.jsxDEV("div",{className:"flex-1 relative",children:e.jsxDEV(ox,{image:s,crop:i,zoom:o,rotation:d,aspect:r,onCropChange:b,onZoomChange:p,onCropComplete:w,cropShape:"rect",showGrid:!0,style:{containerStyle:{backgroundColor:"#000"}}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ImageCropper.tsx",lineNumber:144,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ImageCropper.tsx",lineNumber:143,columnNumber:7},void 0),e.jsxDEV("div",{className:"p-4 bg-black/50",children:e.jsxDEV("div",{className:"flex items-center justify-center gap-6",children:[e.jsxDEV("button",{onClick:k,className:"p-3 text-white hover:bg-white/20 rounded-full transition-colors",title:"90 ",children:e.jsxDEV(Sc,{className:"w-6 h-6"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ImageCropper.tsx",lineNumber:172,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ImageCropper.tsx",lineNumber:167,columnNumber:11},void 0),e.jsxDEV("div",{className:"flex items-center gap-3 flex-1 max-w-xs",children:[e.jsxDEV("span",{className:"text-white text-sm",children:"-"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ImageCropper.tsx",lineNumber:177,columnNumber:13},void 0),e.jsxDEV("input",{type:"range",min:1,max:3,step:.1,value:o,onChange:B=>m(Number(B.target.value)),className:"w-full h-2 bg-white/30 rounded-lg appearance-none cursor-pointer accent-white"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ImageCropper.tsx",lineNumber:178,columnNumber:13},void 0),e.jsxDEV("span",{className:"text-white text-sm",children:"+"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ImageCropper.tsx",lineNumber:187,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ImageCropper.tsx",lineNumber:176,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ImageCropper.tsx",lineNumber:165,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ImageCropper.tsx",lineNumber:164,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ImageCropper.tsx",lineNumber:124,columnNumber:5},void 0)};function cx(){for(var s=arguments.length,n=new Array(s),t=0;t<s;t++)n[t]=arguments[t];return l.useMemo(()=>r=>{n.forEach(i=>i(r))},n)}const Ci=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Sn(s){const n=Object.prototype.toString.call(s);return n==="[object Window]"||n==="[object global]"}function eo(s){return"nodeType"in s}function ls(s){var n,t;return s?Sn(s)?s:eo(s)&&(n=(t=s.ownerDocument)==null?void 0:t.defaultView)!=null?n:window:window}function to(s){const{Document:n}=ls(s);return s instanceof n}function gr(s){return Sn(s)?!1:s instanceof ls(s).HTMLElement}function Od(s){return s instanceof ls(s).SVGElement}function Pn(s){return s?Sn(s)?s.document:eo(s)?to(s)?s:gr(s)||Od(s)?s.ownerDocument:document:document:document}const Bs=Ci?l.useLayoutEffect:l.useEffect;function so(s){const n=l.useRef(s);return Bs(()=>{n.current=s}),l.useCallback(function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return n.current==null?void 0:n.current(...r)},[])}function ux(){const s=l.useRef(null),n=l.useCallback((r,i)=>{s.current=setInterval(r,i)},[]),t=l.useCallback(()=>{s.current!==null&&(clearInterval(s.current),s.current=null)},[]);return[n,t]}function or(s,n){n===void 0&&(n=[s]);const t=l.useRef(s);return Bs(()=>{t.current!==s&&(t.current=s)},n),t}function Nr(s,n){const t=l.useRef();return l.useMemo(()=>{const r=s(t.current);return t.current=r,r},[...n])}function ri(s){const n=so(s),t=l.useRef(null),r=l.useCallback(i=>{i!==t.current&&(n==null||n(i,t.current)),t.current=i},[]);return[t,r]}function ya(s){const n=l.useRef();return l.useEffect(()=>{n.current=s},[s]),n.current}let Ti={};function br(s,n){return l.useMemo(()=>{if(n)return n;const t=Ti[s]==null?0:Ti[s]+1;return Ti[s]=t,s+"-"+t},[s,n])}function $d(s){return function(n){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return r.reduce((a,o)=>{const m=Object.entries(o);for(const[d,c]of m){const u=a[d];u!=null&&(a[d]=u+s*c)}return a},{...n})}}const Cn=$d(1),mr=$d(-1);function px(s){return"clientX"in s&&"clientY"in s}function no(s){if(!s)return!1;const{KeyboardEvent:n}=ls(s.target);return n&&s instanceof n}function fx(s){if(!s)return!1;const{TouchEvent:n}=ls(s.target);return n&&s instanceof n}function ha(s){if(fx(s)){if(s.touches&&s.touches.length){const{clientX:n,clientY:t}=s.touches[0];return{x:n,y:t}}else if(s.changedTouches&&s.changedTouches.length){const{clientX:n,clientY:t}=s.changedTouches[0];return{x:n,y:t}}}return px(s)?{x:s.clientX,y:s.clientY}:null}const pn=Object.freeze({Translate:{toString(s){if(!s)return;const{x:n,y:t}=s;return"translate3d("+(n?Math.round(n):0)+"px, "+(t?Math.round(t):0)+"px, 0)"}},Scale:{toString(s){if(!s)return;const{scaleX:n,scaleY:t}=s;return"scaleX("+n+") scaleY("+t+")"}},Transform:{toString(s){if(s)return[pn.Translate.toString(s),pn.Scale.toString(s)].join(" ")}},Transition:{toString(s){let{property:n,duration:t,easing:r}=s;return n+" "+t+"ms "+r}}}),xm="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function gx(s){return s.matches(xm)?s:s.querySelector(xm)}const Nx={display:"none"};function bx(s){let{id:n,value:t}=s;return rt.createElement("div",{id:n,style:Nx},t)}function xx(s){let{id:n,announcement:t,ariaLiveType:r="assertive"}=s;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return rt.createElement("div",{id:n,style:i,role:"status","aria-live":r,"aria-atomic":!0},t)}function yx(){const[s,n]=l.useState("");return{announce:l.useCallback(r=>{r!=null&&n(r)},[]),announcement:s}}const zd=l.createContext(null);function hx(s){const n=l.useContext(zd);l.useEffect(()=>{if(!n)throw new Error("useDndMonitor must be used within a children of <DndContext>");return n(s)},[s,n])}function kx(){const[s]=l.useState(()=>new Set),n=l.useCallback(r=>(s.add(r),()=>s.delete(r)),[s]);return[l.useCallback(r=>{let{type:i,event:a}=r;s.forEach(o=>{var m;return(m=o[i])==null?void 0:m.call(o,a)})},[s]),n]}const vx={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},Dx={onDragStart(s){let{active:n}=s;return"Picked up draggable item "+n.id+"."},onDragOver(s){let{active:n,over:t}=s;return t?"Draggable item "+n.id+" was moved over droppable area "+t.id+".":"Draggable item "+n.id+" is no longer over a droppable area."},onDragEnd(s){let{active:n,over:t}=s;return t?"Draggable item "+n.id+" was dropped over droppable area "+t.id:"Draggable item "+n.id+" was dropped."},onDragCancel(s){let{active:n}=s;return"Dragging was cancelled. Draggable item "+n.id+" was dropped."}};function Vx(s){let{announcements:n=Dx,container:t,hiddenTextDescribedById:r,screenReaderInstructions:i=vx}=s;const{announce:a,announcement:o}=yx(),m=br("DndLiveRegion"),[d,c]=l.useState(!1);if(l.useEffect(()=>{c(!0)},[]),hx(l.useMemo(()=>({onDragStart(g){let{active:b}=g;a(n.onDragStart({active:b}))},onDragMove(g){let{active:b,over:p}=g;n.onDragMove&&a(n.onDragMove({active:b,over:p}))},onDragOver(g){let{active:b,over:p}=g;a(n.onDragOver({active:b,over:p}))},onDragEnd(g){let{active:b,over:p}=g;a(n.onDragEnd({active:b,over:p}))},onDragCancel(g){let{active:b,over:p}=g;a(n.onDragCancel({active:b,over:p}))}}),[a,n])),!d)return null;const u=rt.createElement(rt.Fragment,null,rt.createElement(bx,{id:r,value:i.draggable}),rt.createElement(xx,{id:m,announcement:o}));return t?Vn.createPortal(u,t):u}var Ot;(function(s){s.DragStart="dragStart",s.DragMove="dragMove",s.DragEnd="dragEnd",s.DragCancel="dragCancel",s.DragOver="dragOver",s.RegisterDroppable="registerDroppable",s.SetDroppableDisabled="setDroppableDisabled",s.UnregisterDroppable="unregisterDroppable"})(Ot||(Ot={}));function ii(){}function ym(s,n){return l.useMemo(()=>({sensor:s,options:n??{}}),[s,n])}function Cx(){for(var s=arguments.length,n=new Array(s),t=0;t<s;t++)n[t]=arguments[t];return l.useMemo(()=>[...n].filter(r=>r!=null),[...n])}const ks=Object.freeze({x:0,y:0});function Yd(s,n){return Math.sqrt(Math.pow(s.x-n.x,2)+Math.pow(s.y-n.y,2))}function Kd(s,n){let{data:{value:t}}=s,{data:{value:r}}=n;return t-r}function Ex(s,n){let{data:{value:t}}=s,{data:{value:r}}=n;return r-t}function hm(s){let{left:n,top:t,height:r,width:i}=s;return[{x:n,y:t},{x:n+i,y:t},{x:n,y:t+r},{x:n+i,y:t+r}]}function Xd(s,n){if(!s||s.length===0)return null;const[t]=s;return t[n]}function km(s,n,t){return n===void 0&&(n=s.left),t===void 0&&(t=s.top),{x:n+s.width*.5,y:t+s.height*.5}}const Fi=s=>{let{collisionRect:n,droppableRects:t,droppableContainers:r}=s;const i=km(n,n.left,n.top),a=[];for(const o of r){const{id:m}=o,d=t.get(m);if(d){const c=Yd(km(d),i);a.push({id:m,data:{droppableContainer:o,value:c}})}}return a.sort(Kd)},Ax=s=>{let{collisionRect:n,droppableRects:t,droppableContainers:r}=s;const i=hm(n),a=[];for(const o of r){const{id:m}=o,d=t.get(m);if(d){const c=hm(d),u=i.reduce((b,p,w)=>b+Yd(c[w],p),0),g=Number((u/4).toFixed(4));a.push({id:m,data:{droppableContainer:o,value:g}})}}return a.sort(Kd)};function wx(s,n){const t=Math.max(n.top,s.top),r=Math.max(n.left,s.left),i=Math.min(n.left+n.width,s.left+s.width),a=Math.min(n.top+n.height,s.top+s.height),o=i-r,m=a-t;if(r<i&&t<a){const d=n.width*n.height,c=s.width*s.height,u=o*m,g=u/(d+c-u);return Number(g.toFixed(4))}return 0}const _x=s=>{let{collisionRect:n,droppableRects:t,droppableContainers:r}=s;const i=[];for(const a of r){const{id:o}=a,m=t.get(o);if(m){const d=wx(m,n);d>0&&i.push({id:o,data:{droppableContainer:a,value:d}})}}return i.sort(Ex)};function jx(s,n,t){return{...s,scaleX:n&&t?n.width/t.width:1,scaleY:n&&t?n.height/t.height:1}}function Jd(s,n){return s&&n?{x:s.left-n.left,y:s.top-n.top}:ks}function Lx(s){return function(t){for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return i.reduce((o,m)=>({...o,top:o.top+s*m.y,bottom:o.bottom+s*m.y,left:o.left+s*m.x,right:o.right+s*m.x}),{...t})}}const Hx=Lx(1);function Bx(s){if(s.startsWith("matrix3d(")){const n=s.slice(9,-1).split(/, /);return{x:+n[12],y:+n[13],scaleX:+n[0],scaleY:+n[5]}}else if(s.startsWith("matrix(")){const n=s.slice(7,-1).split(/, /);return{x:+n[4],y:+n[5],scaleX:+n[0],scaleY:+n[3]}}return null}function Ux(s,n,t){const r=Bx(n);if(!r)return s;const{scaleX:i,scaleY:a,x:o,y:m}=r,d=s.left-o-(1-i)*parseFloat(t),c=s.top-m-(1-a)*parseFloat(t.slice(t.indexOf(" ")+1)),u=i?s.width/i:s.width,g=a?s.height/a:s.height;return{width:u,height:g,top:c,right:d+u,bottom:c+g,left:d}}const Sx={ignoreTransform:!1};function Rn(s,n){n===void 0&&(n=Sx);let t=s.getBoundingClientRect();if(n.ignoreTransform){const{transform:c,transformOrigin:u}=ls(s).getComputedStyle(s);c&&(t=Ux(t,c,u))}const{top:r,left:i,width:a,height:o,bottom:m,right:d}=t;return{top:r,left:i,width:a,height:o,bottom:m,right:d}}function vm(s){return Rn(s,{ignoreTransform:!0})}function Px(s){const n=s.innerWidth,t=s.innerHeight;return{top:0,left:0,right:n,bottom:t,width:n,height:t}}function Rx(s,n){return n===void 0&&(n=ls(s).getComputedStyle(s)),n.position==="fixed"}function Mx(s,n){n===void 0&&(n=ls(s).getComputedStyle(s));const t=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const a=n[i];return typeof a=="string"?t.test(a):!1})}function Ei(s,n){const t=[];function r(i){if(n!=null&&t.length>=n||!i)return t;if(to(i)&&i.scrollingElement!=null&&!t.includes(i.scrollingElement))return t.push(i.scrollingElement),t;if(!gr(i)||Od(i)||t.includes(i))return t;const a=ls(s).getComputedStyle(i);return i!==s&&Mx(i,a)&&t.push(i),Rx(i,a)?t:r(i.parentNode)}return s?r(s):t}function Gd(s){const[n]=Ei(s,1);return n??null}function Wi(s){return!Ci||!s?null:Sn(s)?s:eo(s)?to(s)||s===Pn(s).scrollingElement?window:gr(s)?s:null:null}function Qd(s){return Sn(s)?s.scrollX:s.scrollLeft}function Zd(s){return Sn(s)?s.scrollY:s.scrollTop}function ka(s){return{x:Qd(s),y:Zd(s)}}var Jt;(function(s){s[s.Forward=1]="Forward",s[s.Backward=-1]="Backward"})(Jt||(Jt={}));function ec(s){return!Ci||!s?!1:s===document.scrollingElement}function tc(s){const n={x:0,y:0},t=ec(s)?{height:window.innerHeight,width:window.innerWidth}:{height:s.clientHeight,width:s.clientWidth},r={x:s.scrollWidth-t.width,y:s.scrollHeight-t.height},i=s.scrollTop<=n.y,a=s.scrollLeft<=n.x,o=s.scrollTop>=r.y,m=s.scrollLeft>=r.x;return{isTop:i,isLeft:a,isBottom:o,isRight:m,maxScroll:r,minScroll:n}}const Ix={x:.2,y:.2};function Tx(s,n,t,r,i){let{top:a,left:o,right:m,bottom:d}=t;r===void 0&&(r=10),i===void 0&&(i=Ix);const{isTop:c,isBottom:u,isLeft:g,isRight:b}=tc(s),p={x:0,y:0},w={x:0,y:0},k={height:n.height*i.y,width:n.width*i.x};return!c&&a<=n.top+k.height?(p.y=Jt.Backward,w.y=r*Math.abs((n.top+k.height-a)/k.height)):!u&&d>=n.bottom-k.height&&(p.y=Jt.Forward,w.y=r*Math.abs((n.bottom-k.height-d)/k.height)),!b&&m>=n.right-k.width?(p.x=Jt.Forward,w.x=r*Math.abs((n.right-k.width-m)/k.width)):!g&&o<=n.left+k.width&&(p.x=Jt.Backward,w.x=r*Math.abs((n.left+k.width-o)/k.width)),{direction:p,speed:w}}function Fx(s){if(s===document.scrollingElement){const{innerWidth:a,innerHeight:o}=window;return{top:0,left:0,right:a,bottom:o,width:a,height:o}}const{top:n,left:t,right:r,bottom:i}=s.getBoundingClientRect();return{top:n,left:t,right:r,bottom:i,width:s.clientWidth,height:s.clientHeight}}function sc(s){return s.reduce((n,t)=>Cn(n,ka(t)),ks)}function Wx(s){return s.reduce((n,t)=>n+Qd(t),0)}function qx(s){return s.reduce((n,t)=>n+Zd(t),0)}function Ox(s,n){if(n===void 0&&(n=Rn),!s)return;const{top:t,left:r,bottom:i,right:a}=n(s);Gd(s)&&(i<=0||a<=0||t>=window.innerHeight||r>=window.innerWidth)&&s.scrollIntoView({block:"center",inline:"center"})}const $x=[["x",["left","right"],Wx],["y",["top","bottom"],qx]];class ro{constructor(n,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=Ei(t),i=sc(r);this.rect={...n},this.width=n.width,this.height=n.height;for(const[a,o,m]of $x)for(const d of o)Object.defineProperty(this,d,{get:()=>{const c=m(r),u=i[a]-c;return this.rect[d]+u},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class er{constructor(n){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(t=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...t)})},this.target=n}add(n,t,r){var i;(i=this.target)==null||i.addEventListener(n,t,r),this.listeners.push([n,t,r])}}function zx(s){const{EventTarget:n}=ls(s);return s instanceof n?s:Pn(s)}function qi(s,n){const t=Math.abs(s.x),r=Math.abs(s.y);return typeof n=="number"?Math.sqrt(t**2+r**2)>n:"x"in n&&"y"in n?t>n.x&&r>n.y:"x"in n?t>n.x:"y"in n?r>n.y:!1}var cs;(function(s){s.Click="click",s.DragStart="dragstart",s.Keydown="keydown",s.ContextMenu="contextmenu",s.Resize="resize",s.SelectionChange="selectionchange",s.VisibilityChange="visibilitychange"})(cs||(cs={}));function Dm(s){s.preventDefault()}function Yx(s){s.stopPropagation()}var ht;(function(s){s.Space="Space",s.Down="ArrowDown",s.Right="ArrowRight",s.Left="ArrowLeft",s.Up="ArrowUp",s.Esc="Escape",s.Enter="Enter",s.Tab="Tab"})(ht||(ht={}));const nc={start:[ht.Space,ht.Enter],cancel:[ht.Esc],end:[ht.Space,ht.Enter,ht.Tab]},Kx=(s,n)=>{let{currentCoordinates:t}=n;switch(s.code){case ht.Right:return{...t,x:t.x+25};case ht.Left:return{...t,x:t.x-25};case ht.Down:return{...t,y:t.y+25};case ht.Up:return{...t,y:t.y-25}}};class io{constructor(n){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=n;const{event:{target:t}}=n;this.props=n,this.listeners=new er(Pn(t)),this.windowListeners=new er(ls(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(cs.Resize,this.handleCancel),this.windowListeners.add(cs.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(cs.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:n,onStart:t}=this.props,r=n.node.current;r&&Ox(r),t(ks)}handleKeyDown(n){if(no(n)){const{active:t,context:r,options:i}=this.props,{keyboardCodes:a=nc,coordinateGetter:o=Kx,scrollBehavior:m="smooth"}=i,{code:d}=n;if(a.end.includes(d)){this.handleEnd(n);return}if(a.cancel.includes(d)){this.handleCancel(n);return}const{collisionRect:c}=r.current,u=c?{x:c.left,y:c.top}:ks;this.referenceCoordinates||(this.referenceCoordinates=u);const g=o(n,{active:t,context:r.current,currentCoordinates:u});if(g){const b=mr(g,u),p={x:0,y:0},{scrollableAncestors:w}=r.current;for(const k of w){const j=n.code,{isTop:B,isRight:y,isLeft:O,isBottom:ge,maxScroll:ee,minScroll:Y}=tc(k),de=Fx(k),T={x:Math.min(j===ht.Right?de.right-de.width/2:de.right,Math.max(j===ht.Right?de.left:de.left+de.width/2,g.x)),y:Math.min(j===ht.Down?de.bottom-de.height/2:de.bottom,Math.max(j===ht.Down?de.top:de.top+de.height/2,g.y))},oe=j===ht.Right&&!y||j===ht.Left&&!O,re=j===ht.Down&&!ge||j===ht.Up&&!B;if(oe&&T.x!==g.x){const Z=k.scrollLeft+b.x,X=j===ht.Right&&Z<=ee.x||j===ht.Left&&Z>=Y.x;if(X&&!b.y){k.scrollTo({left:Z,behavior:m});return}X?p.x=k.scrollLeft-Z:p.x=j===ht.Right?k.scrollLeft-ee.x:k.scrollLeft-Y.x,p.x&&k.scrollBy({left:-p.x,behavior:m});break}else if(re&&T.y!==g.y){const Z=k.scrollTop+b.y,X=j===ht.Down&&Z<=ee.y||j===ht.Up&&Z>=Y.y;if(X&&!b.x){k.scrollTo({top:Z,behavior:m});return}X?p.y=k.scrollTop-Z:p.y=j===ht.Down?k.scrollTop-ee.y:k.scrollTop-Y.y,p.y&&k.scrollBy({top:-p.y,behavior:m});break}}this.handleMove(n,Cn(mr(g,this.referenceCoordinates),p))}}}handleMove(n,t){const{onMove:r}=this.props;n.preventDefault(),r(t)}handleEnd(n){const{onEnd:t}=this.props;n.preventDefault(),this.detach(),t()}handleCancel(n){const{onCancel:t}=this.props;n.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}io.activators=[{eventName:"onKeyDown",handler:(s,n,t)=>{let{keyboardCodes:r=nc,onActivation:i}=n,{active:a}=t;const{code:o}=s.nativeEvent;if(r.start.includes(o)){const m=a.activatorNode.current;return m&&s.target!==m?!1:(s.preventDefault(),i==null||i({event:s.nativeEvent}),!0)}return!1}}];function Vm(s){return!!(s&&"distance"in s)}function Cm(s){return!!(s&&"delay"in s)}class ao{constructor(n,t,r){var i;r===void 0&&(r=zx(n.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=n,this.events=t;const{event:a}=n,{target:o}=a;this.props=n,this.events=t,this.document=Pn(o),this.documentListeners=new er(this.document),this.listeners=new er(r),this.windowListeners=new er(ls(o)),this.initialCoordinates=(i=ha(a))!=null?i:ks,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:n,props:{options:{activationConstraint:t,bypassActivationConstraint:r}}}=this;if(this.listeners.add(n.move.name,this.handleMove,{passive:!1}),this.listeners.add(n.end.name,this.handleEnd),n.cancel&&this.listeners.add(n.cancel.name,this.handleCancel),this.windowListeners.add(cs.Resize,this.handleCancel),this.windowListeners.add(cs.DragStart,Dm),this.windowListeners.add(cs.VisibilityChange,this.handleCancel),this.windowListeners.add(cs.ContextMenu,Dm),this.documentListeners.add(cs.Keydown,this.handleKeydown),t){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Cm(t)){this.timeoutId=setTimeout(this.handleStart,t.delay),this.handlePending(t);return}if(Vm(t)){this.handlePending(t);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(n,t){const{active:r,onPending:i}=this.props;i(r,n,this.initialCoordinates,t)}handleStart(){const{initialCoordinates:n}=this,{onStart:t}=this.props;n&&(this.activated=!0,this.documentListeners.add(cs.Click,Yx,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(cs.SelectionChange,this.removeTextSelection),t(n))}handleMove(n){var t;const{activated:r,initialCoordinates:i,props:a}=this,{onMove:o,options:{activationConstraint:m}}=a;if(!i)return;const d=(t=ha(n))!=null?t:ks,c=mr(i,d);if(!r&&m){if(Vm(m)){if(m.tolerance!=null&&qi(c,m.tolerance))return this.handleCancel();if(qi(c,m.distance))return this.handleStart()}if(Cm(m)&&qi(c,m.tolerance))return this.handleCancel();this.handlePending(m,c);return}n.cancelable&&n.preventDefault(),o(d)}handleEnd(){const{onAbort:n,onEnd:t}=this.props;this.detach(),this.activated||n(this.props.active),t()}handleCancel(){const{onAbort:n,onCancel:t}=this.props;this.detach(),this.activated||n(this.props.active),t()}handleKeydown(n){n.code===ht.Esc&&this.handleCancel()}removeTextSelection(){var n;(n=this.document.getSelection())==null||n.removeAllRanges()}}const Xx={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class oo extends ao{constructor(n){const{event:t}=n,r=Pn(t.target);super(n,Xx,r)}}oo.activators=[{eventName:"onPointerDown",handler:(s,n)=>{let{nativeEvent:t}=s,{onActivation:r}=n;return!t.isPrimary||t.button!==0?!1:(r==null||r({event:t}),!0)}}];const Jx={move:{name:"mousemove"},end:{name:"mouseup"}};var va;(function(s){s[s.RightClick=2]="RightClick"})(va||(va={}));class Gx extends ao{constructor(n){super(n,Jx,Pn(n.event.target))}}Gx.activators=[{eventName:"onMouseDown",handler:(s,n)=>{let{nativeEvent:t}=s,{onActivation:r}=n;return t.button===va.RightClick?!1:(r==null||r({event:t}),!0)}}];const Oi={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class Qx extends ao{constructor(n){super(n,Oi)}static setup(){return window.addEventListener(Oi.move.name,n,{capture:!1,passive:!1}),function(){window.removeEventListener(Oi.move.name,n)};function n(){}}}Qx.activators=[{eventName:"onTouchStart",handler:(s,n)=>{let{nativeEvent:t}=s,{onActivation:r}=n;const{touches:i}=t;return i.length>1?!1:(r==null||r({event:t}),!0)}}];var tr;(function(s){s[s.Pointer=0]="Pointer",s[s.DraggableRect=1]="DraggableRect"})(tr||(tr={}));var ai;(function(s){s[s.TreeOrder=0]="TreeOrder",s[s.ReversedTreeOrder=1]="ReversedTreeOrder"})(ai||(ai={}));function Zx(s){let{acceleration:n,activator:t=tr.Pointer,canScroll:r,draggingRect:i,enabled:a,interval:o=5,order:m=ai.TreeOrder,pointerCoordinates:d,scrollableAncestors:c,scrollableAncestorRects:u,delta:g,threshold:b}=s;const p=t0({delta:g,disabled:!a}),[w,k]=ux(),j=l.useRef({x:0,y:0}),B=l.useRef({x:0,y:0}),y=l.useMemo(()=>{switch(t){case tr.Pointer:return d?{top:d.y,bottom:d.y,left:d.x,right:d.x}:null;case tr.DraggableRect:return i}},[t,i,d]),O=l.useRef(null),ge=l.useCallback(()=>{const Y=O.current;if(!Y)return;const de=j.current.x*B.current.x,T=j.current.y*B.current.y;Y.scrollBy(de,T)},[]),ee=l.useMemo(()=>m===ai.TreeOrder?[...c].reverse():c,[m,c]);l.useEffect(()=>{if(!a||!c.length||!y){k();return}for(const Y of ee){if((r==null?void 0:r(Y))===!1)continue;const de=c.indexOf(Y),T=u[de];if(!T)continue;const{direction:oe,speed:re}=Tx(Y,T,y,n,b);for(const Z of["x","y"])p[Z][oe[Z]]||(re[Z]=0,oe[Z]=0);if(re.x>0||re.y>0){k(),O.current=Y,w(ge,o),j.current=re,B.current=oe;return}}j.current={x:0,y:0},B.current={x:0,y:0},k()},[n,ge,r,k,a,o,JSON.stringify(y),JSON.stringify(p),w,c,ee,u,JSON.stringify(b)])}const e0={x:{[Jt.Backward]:!1,[Jt.Forward]:!1},y:{[Jt.Backward]:!1,[Jt.Forward]:!1}};function t0(s){let{delta:n,disabled:t}=s;const r=ya(n);return Nr(i=>{if(t||!r||!i)return e0;const a={x:Math.sign(n.x-r.x),y:Math.sign(n.y-r.y)};return{x:{[Jt.Backward]:i.x[Jt.Backward]||a.x===-1,[Jt.Forward]:i.x[Jt.Forward]||a.x===1},y:{[Jt.Backward]:i.y[Jt.Backward]||a.y===-1,[Jt.Forward]:i.y[Jt.Forward]||a.y===1}}},[t,n,r])}function s0(s,n){const t=n!=null?s.get(n):void 0,r=t?t.node.current:null;return Nr(i=>{var a;return n==null?null:(a=r??i)!=null?a:null},[r,n])}function n0(s,n){return l.useMemo(()=>s.reduce((t,r)=>{const{sensor:i}=r,a=i.activators.map(o=>({eventName:o.eventName,handler:n(o.handler,r)}));return[...t,...a]},[]),[s,n])}var lr;(function(s){s[s.Always=0]="Always",s[s.BeforeDragging=1]="BeforeDragging",s[s.WhileDragging=2]="WhileDragging"})(lr||(lr={}));var Da;(function(s){s.Optimized="optimized"})(Da||(Da={}));const Em=new Map;function r0(s,n){let{dragging:t,dependencies:r,config:i}=n;const[a,o]=l.useState(null),{frequency:m,measure:d,strategy:c}=i,u=l.useRef(s),g=j(),b=or(g),p=l.useCallback(function(B){B===void 0&&(B=[]),!b.current&&o(y=>y===null?B:y.concat(B.filter(O=>!y.includes(O))))},[b]),w=l.useRef(null),k=Nr(B=>{if(g&&!t)return Em;if(!B||B===Em||u.current!==s||a!=null){const y=new Map;for(let O of s){if(!O)continue;if(a&&a.length>0&&!a.includes(O.id)&&O.rect.current){y.set(O.id,O.rect.current);continue}const ge=O.node.current,ee=ge?new ro(d(ge),ge):null;O.rect.current=ee,ee&&y.set(O.id,ee)}return y}return B},[s,a,t,g,d]);return l.useEffect(()=>{u.current=s},[s]),l.useEffect(()=>{g||p()},[t,g]),l.useEffect(()=>{a&&a.length>0&&o(null)},[JSON.stringify(a)]),l.useEffect(()=>{g||typeof m!="number"||w.current!==null||(w.current=setTimeout(()=>{p(),w.current=null},m))},[m,g,p,...r]),{droppableRects:k,measureDroppableContainers:p,measuringScheduled:a!=null};function j(){switch(c){case lr.Always:return!1;case lr.BeforeDragging:return t;default:return!t}}}function rc(s,n){return Nr(t=>s?t||(typeof n=="function"?n(s):s):null,[n,s])}function i0(s,n){return rc(s,n)}function a0(s){let{callback:n,disabled:t}=s;const r=so(n),i=l.useMemo(()=>{if(t||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:a}=window;return new a(r)},[r,t]);return l.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function Ai(s){let{callback:n,disabled:t}=s;const r=so(n),i=l.useMemo(()=>{if(t||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:a}=window;return new a(r)},[t]);return l.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function o0(s){return new ro(Rn(s),s)}function Am(s,n,t){n===void 0&&(n=o0);const[r,i]=l.useState(null);function a(){i(d=>{if(!s)return null;if(s.isConnected===!1){var c;return(c=d??t)!=null?c:null}const u=n(s);return JSON.stringify(d)===JSON.stringify(u)?d:u})}const o=a0({callback(d){if(s)for(const c of d){const{type:u,target:g}=c;if(u==="childList"&&g instanceof HTMLElement&&g.contains(s)){a();break}}}}),m=Ai({callback:a});return Bs(()=>{a(),s?(m==null||m.observe(s),o==null||o.observe(document.body,{childList:!0,subtree:!0})):(m==null||m.disconnect(),o==null||o.disconnect())},[s]),r}function m0(s){const n=rc(s);return Jd(s,n)}const wm=[];function l0(s){const n=l.useRef(s),t=Nr(r=>s?r&&r!==wm&&s&&n.current&&s.parentNode===n.current.parentNode?r:Ei(s):wm,[s]);return l.useEffect(()=>{n.current=s},[s]),t}function d0(s){const[n,t]=l.useState(null),r=l.useRef(s),i=l.useCallback(a=>{const o=Wi(a.target);o&&t(m=>m?(m.set(o,ka(o)),new Map(m)):null)},[]);return l.useEffect(()=>{const a=r.current;if(s!==a){o(a);const m=s.map(d=>{const c=Wi(d);return c?(c.addEventListener("scroll",i,{passive:!0}),[c,ka(c)]):null}).filter(d=>d!=null);t(m.length?new Map(m):null),r.current=s}return()=>{o(s),o(a)};function o(m){m.forEach(d=>{const c=Wi(d);c==null||c.removeEventListener("scroll",i)})}},[i,s]),l.useMemo(()=>s.length?n?Array.from(n.values()).reduce((a,o)=>Cn(a,o),ks):sc(s):ks,[s,n])}function _m(s,n){n===void 0&&(n=[]);const t=l.useRef(null);return l.useEffect(()=>{t.current=null},n),l.useEffect(()=>{const r=s!==ks;r&&!t.current&&(t.current=s),!r&&t.current&&(t.current=null)},[s]),t.current?mr(s,t.current):ks}function c0(s){l.useEffect(()=>{if(!Ci)return;const n=s.map(t=>{let{sensor:r}=t;return r.setup==null?void 0:r.setup()});return()=>{for(const t of n)t==null||t()}},s.map(n=>{let{sensor:t}=n;return t}))}function u0(s,n){return l.useMemo(()=>s.reduce((t,r)=>{let{eventName:i,handler:a}=r;return t[i]=o=>{a(o,n)},t},{}),[s,n])}function ic(s){return l.useMemo(()=>s?Px(s):null,[s])}const jm=[];function p0(s,n){n===void 0&&(n=Rn);const[t]=s,r=ic(t?ls(t):null),[i,a]=l.useState(jm);function o(){a(()=>s.length?s.map(d=>ec(d)?r:new ro(n(d),d)):jm)}const m=Ai({callback:o});return Bs(()=>{m==null||m.disconnect(),o(),s.forEach(d=>m==null?void 0:m.observe(d))},[s]),i}function f0(s){if(!s)return null;if(s.children.length>1)return s;const n=s.children[0];return gr(n)?n:s}function g0(s){let{measure:n}=s;const[t,r]=l.useState(null),i=l.useCallback(c=>{for(const{target:u}of c)if(gr(u)){r(g=>{const b=n(u);return g?{...g,width:b.width,height:b.height}:b});break}},[n]),a=Ai({callback:i}),o=l.useCallback(c=>{const u=f0(c);a==null||a.disconnect(),u&&(a==null||a.observe(u)),r(u?n(u):null)},[n,a]),[m,d]=ri(o);return l.useMemo(()=>({nodeRef:m,rect:t,setRef:d}),[t,m,d])}const N0=[{sensor:oo,options:{}},{sensor:io,options:{}}],b0={current:{}},Kr={draggable:{measure:vm},droppable:{measure:vm,strategy:lr.WhileDragging,frequency:Da.Optimized},dragOverlay:{measure:Rn}};class sr extends Map{get(n){var t;return n!=null&&(t=super.get(n))!=null?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(n=>{let{disabled:t}=n;return!t})}getNodeFor(n){var t,r;return(t=(r=this.get(n))==null?void 0:r.node.current)!=null?t:void 0}}const x0={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new sr,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:ii},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Kr,measureDroppableContainers:ii,windowRect:null,measuringScheduled:!1},y0={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:ii,draggableNodes:new Map,over:null,measureDroppableContainers:ii},wi=l.createContext(y0),ac=l.createContext(x0);function h0(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new sr}}}function k0(s,n){switch(n.type){case Ot.DragStart:return{...s,draggable:{...s.draggable,initialCoordinates:n.initialCoordinates,active:n.active}};case Ot.DragMove:return s.draggable.active==null?s:{...s,draggable:{...s.draggable,translate:{x:n.coordinates.x-s.draggable.initialCoordinates.x,y:n.coordinates.y-s.draggable.initialCoordinates.y}}};case Ot.DragEnd:case Ot.DragCancel:return{...s,draggable:{...s.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Ot.RegisterDroppable:{const{element:t}=n,{id:r}=t,i=new sr(s.droppable.containers);return i.set(r,t),{...s,droppable:{...s.droppable,containers:i}}}case Ot.SetDroppableDisabled:{const{id:t,key:r,disabled:i}=n,a=s.droppable.containers.get(t);if(!a||r!==a.key)return s;const o=new sr(s.droppable.containers);return o.set(t,{...a,disabled:i}),{...s,droppable:{...s.droppable,containers:o}}}case Ot.UnregisterDroppable:{const{id:t,key:r}=n,i=s.droppable.containers.get(t);if(!i||r!==i.key)return s;const a=new sr(s.droppable.containers);return a.delete(t),{...s,droppable:{...s.droppable,containers:a}}}default:return s}}function v0(s){let{disabled:n}=s;const{active:t,activatorEvent:r,draggableNodes:i}=l.useContext(wi),a=ya(r),o=ya(t==null?void 0:t.id);return l.useEffect(()=>{if(!n&&!r&&a&&o!=null){if(!no(a)||document.activeElement===a.target)return;const m=i.get(o);if(!m)return;const{activatorNode:d,node:c}=m;if(!d.current&&!c.current)return;requestAnimationFrame(()=>{for(const u of[d.current,c.current]){if(!u)continue;const g=gx(u);if(g){g.focus();break}}})}},[r,n,i,o,a]),null}function D0(s,n){let{transform:t,...r}=n;return s!=null&&s.length?s.reduce((i,a)=>a({transform:i,...r}),t):t}function V0(s){return l.useMemo(()=>({draggable:{...Kr.draggable,...s==null?void 0:s.draggable},droppable:{...Kr.droppable,...s==null?void 0:s.droppable},dragOverlay:{...Kr.dragOverlay,...s==null?void 0:s.dragOverlay}}),[s==null?void 0:s.draggable,s==null?void 0:s.droppable,s==null?void 0:s.dragOverlay])}function C0(s){let{activeNode:n,measure:t,initialRect:r,config:i=!0}=s;const a=l.useRef(!1),{x:o,y:m}=typeof i=="boolean"?{x:i,y:i}:i;Bs(()=>{if(!o&&!m||!n){a.current=!1;return}if(a.current||!r)return;const c=n==null?void 0:n.node.current;if(!c||c.isConnected===!1)return;const u=t(c),g=Jd(u,r);if(o||(g.x=0),m||(g.y=0),a.current=!0,Math.abs(g.x)>0||Math.abs(g.y)>0){const b=Gd(c);b&&b.scrollBy({top:g.y,left:g.x})}},[n,o,m,r,t])}const oc=l.createContext({...ks,scaleX:1,scaleY:1});var Ks;(function(s){s[s.Uninitialized=0]="Uninitialized",s[s.Initializing=1]="Initializing",s[s.Initialized=2]="Initialized"})(Ks||(Ks={}));const $i=l.memo(function(n){var t,r,i,a;let{id:o,accessibility:m,autoScroll:d=!0,children:c,sensors:u=N0,collisionDetection:g=_x,measuring:b,modifiers:p,...w}=n;const k=l.useReducer(k0,void 0,h0),[j,B]=k,[y,O]=kx(),[ge,ee]=l.useState(Ks.Uninitialized),Y=ge===Ks.Initialized,{draggable:{active:de,nodes:T,translate:oe},droppable:{containers:re}}=j,Z=de!=null?T.get(de):null,X=l.useRef({initial:null,translated:null}),be=l.useMemo(()=>{var pt;return de!=null?{id:de,data:(pt=Z==null?void 0:Z.data)!=null?pt:b0,rect:X}:null},[de,Z]),we=l.useRef(null),[Me,Ve]=l.useState(null),[Ee,_e]=l.useState(null),Ue=or(w,Object.values(w)),Oe=br("DndDescribedBy",o),fe=l.useMemo(()=>re.getEnabled(),[re]),He=V0(b),{droppableRects:De,measureDroppableContainers:Be,measuringScheduled:Re}=r0(fe,{dragging:Y,dependencies:[oe.x,oe.y],config:He.droppable}),Ke=s0(T,de),ze=l.useMemo(()=>Ee?ha(Ee):null,[Ee]),qe=ut(),S=i0(Ke,He.draggable.measure);C0({activeNode:de!=null?T.get(de):null,config:qe.layoutShiftCompensation,initialRect:S,measure:He.draggable.measure});const ue=Am(Ke,He.draggable.measure,S),xe=Am(Ke?Ke.parentElement:null),te=l.useRef({activatorEvent:null,active:null,activeNode:Ke,collisionRect:null,collisions:null,droppableRects:De,draggableNodes:T,draggingNode:null,draggingNodeRect:null,droppableContainers:re,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),q=re.getNodeFor((t=te.current.over)==null?void 0:t.id),G=g0({measure:He.dragOverlay.measure}),z=(r=G.nodeRef.current)!=null?r:Ke,ye=Y?(i=G.rect)!=null?i:ue:null,Se=!!(G.nodeRef.current&&G.rect),I=m0(Se?null:ue),ae=ic(z?ls(z):null),E=l0(Y?q??Ke:null),W=p0(E),J=D0(p,{transform:{x:oe.x-I.x,y:oe.y-I.y,scaleX:1,scaleY:1},activatorEvent:Ee,active:be,activeNodeRect:ue,containerNodeRect:xe,draggingNodeRect:ye,over:te.current.over,overlayNodeRect:G.rect,scrollableAncestors:E,scrollableAncestorRects:W,windowRect:ae}),pe=ze?Cn(ze,oe):null,ve=d0(E),P=_m(ve),C=_m(ve,[ue]),L=Cn(J,P),f=ye?Hx(ye,J):null,V=be&&f?g({active:be,collisionRect:f,droppableRects:De,droppableContainers:fe,pointerCoordinates:pe}):null,h=Xd(V,"id"),[M,ke]=l.useState(null),Ce=Se?J:Cn(J,C),Te=jx(Ce,(a=M==null?void 0:M.rect)!=null?a:null,ue),Fe=l.useRef(null),at=l.useCallback((pt,dt)=>{let{sensor:bt,options:Ct}=dt;if(we.current==null)return;const vt=T.get(we.current);if(!vt)return;const A=pt.nativeEvent,Q=new bt({active:we.current,activeNode:vt,event:A,options:Ct,context:te,onAbort(_){if(!T.get(_))return;const{onDragAbort:K}=Ue.current,$={id:_};K==null||K($),y({type:"onDragAbort",event:$})},onPending(_,H,K,$){if(!T.get(_))return;const{onDragPending:v}=Ue.current,se={id:_,constraint:H,initialCoordinates:K,offset:$};v==null||v(se),y({type:"onDragPending",event:se})},onStart(_){const H=we.current;if(H==null)return;const K=T.get(H);if(!K)return;const{onDragStart:$}=Ue.current,Ne={activatorEvent:A,active:{id:H,data:K.data,rect:X}};Vn.unstable_batchedUpdates(()=>{$==null||$(Ne),ee(Ks.Initializing),B({type:Ot.DragStart,initialCoordinates:_,active:H}),y({type:"onDragStart",event:Ne}),Ve(Fe.current),_e(A)})},onMove(_){B({type:Ot.DragMove,coordinates:_})},onEnd:N(Ot.DragEnd),onCancel:N(Ot.DragCancel)});Fe.current=Q;function N(_){return async function(){const{active:K,collisions:$,over:Ne,scrollAdjustedTranslate:v}=te.current;let se=null;if(K&&v){const{cancelDrop:ce}=Ue.current;se={activatorEvent:A,active:K,collisions:$,delta:v,over:Ne},_===Ot.DragEnd&&typeof ce=="function"&&await Promise.resolve(ce(se))&&(_=Ot.DragCancel)}we.current=null,Vn.unstable_batchedUpdates(()=>{B({type:_}),ee(Ks.Uninitialized),ke(null),Ve(null),_e(null),Fe.current=null;const ce=_===Ot.DragEnd?"onDragEnd":"onDragCancel";if(se){const Ae=Ue.current[ce];Ae==null||Ae(se),y({type:ce,event:se})}})}}},[T]),et=l.useCallback((pt,dt)=>(bt,Ct)=>{const vt=bt.nativeEvent,A=T.get(Ct);if(we.current!==null||!A||vt.dndKit||vt.defaultPrevented)return;const Q={active:A};pt(bt,dt.options,Q)===!0&&(vt.dndKit={capturedBy:dt.sensor},we.current=Ct,at(bt,dt))},[T,at]),Ze=n0(u,et);c0(u),Bs(()=>{ue&&ge===Ks.Initializing&&ee(Ks.Initialized)},[ue,ge]),l.useEffect(()=>{const{onDragMove:pt}=Ue.current,{active:dt,activatorEvent:bt,collisions:Ct,over:vt}=te.current;if(!dt||!bt)return;const A={active:dt,activatorEvent:bt,collisions:Ct,delta:{x:L.x,y:L.y},over:vt};Vn.unstable_batchedUpdates(()=>{pt==null||pt(A),y({type:"onDragMove",event:A})})},[L.x,L.y]),l.useEffect(()=>{const{active:pt,activatorEvent:dt,collisions:bt,droppableContainers:Ct,scrollAdjustedTranslate:vt}=te.current;if(!pt||we.current==null||!dt||!vt)return;const{onDragOver:A}=Ue.current,Q=Ct.get(h),N=Q&&Q.rect.current?{id:Q.id,rect:Q.rect.current,data:Q.data,disabled:Q.disabled}:null,_={active:pt,activatorEvent:dt,collisions:bt,delta:{x:vt.x,y:vt.y},over:N};Vn.unstable_batchedUpdates(()=>{ke(N),A==null||A(_),y({type:"onDragOver",event:_})})},[h]),Bs(()=>{te.current={activatorEvent:Ee,active:be,activeNode:Ke,collisionRect:f,collisions:V,droppableRects:De,draggableNodes:T,draggingNode:z,draggingNodeRect:ye,droppableContainers:re,over:M,scrollableAncestors:E,scrollAdjustedTranslate:L},X.current={initial:ye,translated:f}},[be,Ke,V,f,T,z,ye,De,re,M,E,L]),Zx({...qe,delta:oe,draggingRect:f,pointerCoordinates:pe,scrollableAncestors:E,scrollableAncestorRects:W});const ct=l.useMemo(()=>({active:be,activeNode:Ke,activeNodeRect:ue,activatorEvent:Ee,collisions:V,containerNodeRect:xe,dragOverlay:G,draggableNodes:T,droppableContainers:re,droppableRects:De,over:M,measureDroppableContainers:Be,scrollableAncestors:E,scrollableAncestorRects:W,measuringConfiguration:He,measuringScheduled:Re,windowRect:ae}),[be,Ke,ue,Ee,V,xe,G,T,re,De,M,Be,E,W,He,Re,ae]),Nt=l.useMemo(()=>({activatorEvent:Ee,activators:Ze,active:be,activeNodeRect:ue,ariaDescribedById:{draggable:Oe},dispatch:B,draggableNodes:T,over:M,measureDroppableContainers:Be}),[Ee,Ze,be,ue,B,Oe,T,M,Be]);return rt.createElement(zd.Provider,{value:O},rt.createElement(wi.Provider,{value:Nt},rt.createElement(ac.Provider,{value:ct},rt.createElement(oc.Provider,{value:Te},c)),rt.createElement(v0,{disabled:(m==null?void 0:m.restoreFocus)===!1})),rt.createElement(Vx,{...m,hiddenTextDescribedById:Oe}));function ut(){const pt=(Me==null?void 0:Me.autoScrollEnabled)===!1,dt=typeof d=="object"?d.enabled===!1:d===!1,bt=Y&&!pt&&!dt;return typeof d=="object"?{...d,enabled:bt}:{enabled:bt}}}),E0=l.createContext(null),Lm="button",A0="Draggable";function w0(s){let{id:n,data:t,disabled:r=!1,attributes:i}=s;const a=br(A0),{activators:o,activatorEvent:m,active:d,activeNodeRect:c,ariaDescribedById:u,draggableNodes:g,over:b}=l.useContext(wi),{role:p=Lm,roleDescription:w="draggable",tabIndex:k=0}=i??{},j=(d==null?void 0:d.id)===n,B=l.useContext(j?oc:E0),[y,O]=ri(),[ge,ee]=ri(),Y=u0(o,n),de=or(t);Bs(()=>(g.set(n,{id:n,key:a,node:y,activatorNode:ge,data:de}),()=>{const oe=g.get(n);oe&&oe.key===a&&g.delete(n)}),[g,n]);const T=l.useMemo(()=>({role:p,tabIndex:k,"aria-disabled":r,"aria-pressed":j&&p===Lm?!0:void 0,"aria-roledescription":w,"aria-describedby":u.draggable}),[r,p,k,j,w,u.draggable]);return{active:d,activatorEvent:m,activeNodeRect:c,attributes:T,isDragging:j,listeners:r?void 0:Y,node:y,over:b,setNodeRef:O,setActivatorNodeRef:ee,transform:B}}function _0(){return l.useContext(ac)}const j0="Droppable",L0={timeout:25};function H0(s){let{data:n,disabled:t=!1,id:r,resizeObserverConfig:i}=s;const a=br(j0),{active:o,dispatch:m,over:d,measureDroppableContainers:c}=l.useContext(wi),u=l.useRef({disabled:t}),g=l.useRef(!1),b=l.useRef(null),p=l.useRef(null),{disabled:w,updateMeasurementsFor:k,timeout:j}={...L0,...i},B=or(k??r),y=l.useCallback(()=>{if(!g.current){g.current=!0;return}p.current!=null&&clearTimeout(p.current),p.current=setTimeout(()=>{c(Array.isArray(B.current)?B.current:[B.current]),p.current=null},j)},[j]),O=Ai({callback:y,disabled:w||!o}),ge=l.useCallback((T,oe)=>{O&&(oe&&(O.unobserve(oe),g.current=!1),T&&O.observe(T))},[O]),[ee,Y]=ri(ge),de=or(n);return l.useEffect(()=>{!O||!ee.current||(O.disconnect(),g.current=!1,O.observe(ee.current))},[ee,O]),l.useEffect(()=>(m({type:Ot.RegisterDroppable,element:{id:r,key:a,disabled:t,node:ee,rect:b,data:de}}),()=>m({type:Ot.UnregisterDroppable,key:a,id:r})),[r]),l.useEffect(()=>{t!==u.current.disabled&&(m({type:Ot.SetDroppableDisabled,id:r,key:a,disabled:t}),u.current.disabled=t)},[r,a,t,m]),{active:o,rect:b,isOver:(d==null?void 0:d.id)===r,node:ee,over:d,setNodeRef:Y}}function nr(s,n,t){const r=s.slice();return r.splice(t<0?r.length+t:t,0,r.splice(n,1)[0]),r}function B0(s,n){return s.reduce((t,r,i)=>{const a=n.get(r);return a&&(t[i]=a),t},Array(s.length))}function Pr(s){return s!==null&&s>=0}function U0(s,n){if(s===n)return!0;if(s.length!==n.length)return!1;for(let t=0;t<s.length;t++)if(s[t]!==n[t])return!1;return!0}function S0(s){return typeof s=="boolean"?{draggable:s,droppable:s}:s}const mo=s=>{let{rects:n,activeIndex:t,overIndex:r,index:i}=s;const a=nr(n,r,t),o=n[i],m=a[i];return!m||!o?null:{x:m.left-o.left,y:m.top-o.top,scaleX:m.width/o.width,scaleY:m.height/o.height}},Rr={scaleX:1,scaleY:1},Hm=s=>{var n;let{activeIndex:t,activeNodeRect:r,index:i,rects:a,overIndex:o}=s;const m=(n=a[t])!=null?n:r;if(!m)return null;if(i===t){const c=a[o];return c?{x:0,y:t<o?c.top+c.height-(m.top+m.height):c.top-m.top,...Rr}:null}const d=P0(a,i,t);return i>t&&i<=o?{x:0,y:-m.height-d,...Rr}:i<t&&i>=o?{x:0,y:m.height+d,...Rr}:{x:0,y:0,...Rr}};function P0(s,n,t){const r=s[n],i=s[n-1],a=s[n+1];return r?t<n?i?r.top-(i.top+i.height):a?a.top-(r.top+r.height):0:a?a.top-(r.top+r.height):i?r.top-(i.top+i.height):0:0}const mc="Sortable",lc=rt.createContext({activeIndex:-1,containerId:mc,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:mo,disabled:{draggable:!1,droppable:!1}});function zi(s){let{children:n,id:t,items:r,strategy:i=mo,disabled:a=!1}=s;const{active:o,dragOverlay:m,droppableRects:d,over:c,measureDroppableContainers:u}=_0(),g=br(mc,t),b=m.rect!==null,p=l.useMemo(()=>r.map(Y=>typeof Y=="object"&&"id"in Y?Y.id:Y),[r]),w=o!=null,k=o?p.indexOf(o.id):-1,j=c?p.indexOf(c.id):-1,B=l.useRef(p),y=!U0(p,B.current),O=j!==-1&&k===-1||y,ge=S0(a);Bs(()=>{y&&w&&u(p)},[y,p,w,u]),l.useEffect(()=>{B.current=p},[p]);const ee=l.useMemo(()=>({activeIndex:k,containerId:g,disabled:ge,disableTransforms:O,items:p,overIndex:j,useDragOverlay:b,sortedRects:B0(p,d),strategy:i}),[k,g,ge.draggable,ge.droppable,O,p,j,d,b,i]);return rt.createElement(lc.Provider,{value:ee},n)}const R0=s=>{let{id:n,items:t,activeIndex:r,overIndex:i}=s;return nr(t,r,i).indexOf(n)},M0=s=>{let{containerId:n,isSorting:t,wasDragging:r,index:i,items:a,newIndex:o,previousItems:m,previousContainerId:d,transition:c}=s;return!c||!r||m!==a&&i===o?!1:t?!0:o!==i&&n===d},I0={duration:200,easing:"ease"},dc="transform",T0=pn.Transition.toString({property:dc,duration:0,easing:"linear"}),F0={roleDescription:"sortable"};function W0(s){let{disabled:n,index:t,node:r,rect:i}=s;const[a,o]=l.useState(null),m=l.useRef(t);return Bs(()=>{if(!n&&t!==m.current&&r.current){const d=i.current;if(d){const c=Rn(r.current,{ignoreTransform:!0}),u={x:d.left-c.left,y:d.top-c.top,scaleX:d.width/c.width,scaleY:d.height/c.height};(u.x||u.y)&&o(u)}}t!==m.current&&(m.current=t)},[n,t,r,i]),l.useEffect(()=>{a&&o(null)},[a]),a}function lo(s){let{animateLayoutChanges:n=M0,attributes:t,disabled:r,data:i,getNewIndex:a=R0,id:o,strategy:m,resizeObserverConfig:d,transition:c=I0}=s;const{items:u,containerId:g,activeIndex:b,disabled:p,disableTransforms:w,sortedRects:k,overIndex:j,useDragOverlay:B,strategy:y}=l.useContext(lc),O=q0(r,p),ge=u.indexOf(o),ee=l.useMemo(()=>({sortable:{containerId:g,index:ge,items:u},...i}),[g,i,ge,u]),Y=l.useMemo(()=>u.slice(u.indexOf(o)),[u,o]),{rect:de,node:T,isOver:oe,setNodeRef:re}=H0({id:o,data:ee,disabled:O.droppable,resizeObserverConfig:{updateMeasurementsFor:Y,...d}}),{active:Z,activatorEvent:X,activeNodeRect:be,attributes:we,setNodeRef:Me,listeners:Ve,isDragging:Ee,over:_e,setActivatorNodeRef:Ue,transform:Oe}=w0({id:o,data:ee,attributes:{...F0,...t},disabled:O.draggable}),fe=cx(re,Me),He=!!Z,De=He&&!w&&Pr(b)&&Pr(j),Be=!B&&Ee,Re=Be&&De?Oe:null,ze=De?Re??(m??y)({rects:k,activeNodeRect:be,activeIndex:b,overIndex:j,index:ge}):null,qe=Pr(b)&&Pr(j)?a({id:o,items:u,activeIndex:b,overIndex:j}):ge,S=Z==null?void 0:Z.id,ue=l.useRef({activeId:S,items:u,newIndex:qe,containerId:g}),xe=u!==ue.current.items,te=n({active:Z,containerId:g,isDragging:Ee,isSorting:He,id:o,index:ge,items:u,newIndex:ue.current.newIndex,previousItems:ue.current.items,previousContainerId:ue.current.containerId,transition:c,wasDragging:ue.current.activeId!=null}),q=W0({disabled:!te,index:ge,node:T,rect:de});return l.useEffect(()=>{He&&ue.current.newIndex!==qe&&(ue.current.newIndex=qe),g!==ue.current.containerId&&(ue.current.containerId=g),u!==ue.current.items&&(ue.current.items=u)},[He,qe,g,u]),l.useEffect(()=>{if(S===ue.current.activeId)return;if(S&&!ue.current.activeId){ue.current.activeId=S;return}const z=setTimeout(()=>{ue.current.activeId=S},50);return()=>clearTimeout(z)},[S]),{active:Z,activeIndex:b,attributes:we,data:ee,rect:de,index:ge,newIndex:qe,items:u,isOver:oe,isSorting:He,isDragging:Ee,listeners:Ve,node:T,overIndex:j,over:_e,setNodeRef:fe,setActivatorNodeRef:Ue,setDroppableNodeRef:re,setDraggableNodeRef:Me,transform:q??ze,transition:G()};function G(){if(q||xe&&ue.current.newIndex===ge)return T0;if(!(Be&&!no(X)||!c)&&(He||te))return pn.Transition.toString({...c,property:dc})}}function q0(s,n){var t,r;return typeof s=="boolean"?{draggable:s,droppable:!1}:{draggable:(t=s==null?void 0:s.draggable)!=null?t:n.draggable,droppable:(r=s==null?void 0:s.droppable)!=null?r:n.droppable}}function oi(s){if(!s)return!1;const n=s.data.current;return!!(n&&"sortable"in n&&typeof n.sortable=="object"&&"containerId"in n.sortable&&"items"in n.sortable&&"index"in n.sortable)}const O0=[ht.Down,ht.Right,ht.Up,ht.Left],$0=(s,n)=>{let{context:{active:t,collisionRect:r,droppableRects:i,droppableContainers:a,over:o,scrollableAncestors:m}}=n;if(O0.includes(s.code)){if(s.preventDefault(),!t||!r)return;const d=[];a.getEnabled().forEach(g=>{if(!g||g!=null&&g.disabled)return;const b=i.get(g.id);if(b)switch(s.code){case ht.Down:r.top<b.top&&d.push(g);break;case ht.Up:r.top>b.top&&d.push(g);break;case ht.Left:r.left>b.left&&d.push(g);break;case ht.Right:r.left<b.left&&d.push(g);break}});const c=Ax({collisionRect:r,droppableRects:i,droppableContainers:d});let u=Xd(c,"id");if(u===(o==null?void 0:o.id)&&c.length>1&&(u=c[1].id),u!=null){const g=a.get(t.id),b=a.get(u),p=b?i.get(b.id):null,w=b==null?void 0:b.node.current;if(w&&p&&g&&b){const j=Ei(w).some((Y,de)=>m[de]!==Y),B=cc(g,b),y=z0(g,b),O=j||!B?{x:0,y:0}:{x:y?r.width-p.width:0,y:y?r.height-p.height:0},ge={x:p.left,y:p.top};return O.x&&O.y?ge:mr(ge,O)}}}};function cc(s,n){return!oi(s)||!oi(n)?!1:s.data.current.sortable.containerId===n.data.current.sortable.containerId}function z0(s,n){return!oi(s)||!oi(n)||!cc(s,n)?!1:s.data.current.sortable.index<n.data.current.sortable.index}const Va=s=>{if(!s)return"";const n=s.split(",").map(m=>m.trim());if(n.length===0)return"";if(n.length===1)return n[0]===""?"":n[0];const t=["","","",""],r=n.sort((m,d)=>t.indexOf(m)-t.indexOf(d)),i=r[0],a=r[r.length-1];return`${i}-${a===""?"":a}`},Ca=s=>{if(!s)return"";const n=s.split(",").map(t=>t.trim());return n.includes("")?"bg-purple-100 text-purple-700":n.includes("")?"bg-blue-100 text-blue-700":n.includes("")?"bg-green-100 text-green-700":n.includes("")?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700"},Y0=({id:s,fileData:n,index:t,onDelete:r,onFileClick:i})=>{const{attributes:a,listeners:o,setNodeRef:m,transform:d,transition:c,isDragging:u}=lo({id:s}),g={transform:pn.Transform.toString(d),transition:c,opacity:u?.5:1,zIndex:u?100:1},b=n.includes("|")&&!n.startsWith("data:image"),p=b?n.split("|")[0]:"",w=b?n.split("|")[1]:n,k=w.startsWith("data:image"),j=w.startsWith("data:application/pdf"),B=w.includes("wordprocessingml")||w.includes("msword"),y=w.includes("spreadsheetml")||w.includes("ms-excel"),O=w.includes("presentationml")||w.includes("ms-powerpoint"),ge=w.includes("application/zip"),ee=w.startsWith("data:text/plain"),Y=p.endsWith(".hwp")||w.includes("x-hwp"),de=p.toLowerCase().endsWith(".dwg")||w.includes("autocad")||w.includes("vnd.dwg"),T=p.toLowerCase().endsWith(".dxf"),oe=p.toLowerCase().endsWith(".skp"),re=p.toLowerCase().endsWith(".3dm"),X=j?{color:"text-red-600",label:"PDF"}:B?{color:"text-blue-600",label:"DOC"}:y?{color:"text-green-600",label:"XLS"}:O?{color:"text-orange-600",label:"PPT"}:ge?{color:"text-yellow-600",label:"ZIP"}:ee?{color:"text-gray-600",label:"TXT"}:Y?{color:"text-sky-600",label:"HWP"}:de?{color:"text-purple-600",label:"DWG"}:T?{color:"text-violet-600",label:"DXF"}:oe?{color:"text-amber-600",label:"SKP"}:re?{color:"text-teal-600",label:"3DM"}:{color:"text-gray-600",label:"FILE"};return e.jsxDEV("div",{ref:m,style:g,className:"relative group",children:[e.jsxDEV("div",{...a,...o,className:"aspect-square bg-gray-100 rounded-lg overflow-hidden border-2 border-gray-200 hover:border-gray-400 transition-colors cursor-grab active:cursor-grabbing touch-none",onClick:()=>i(w,p,k,j),children:k?e.jsxDEV("img",{src:w,alt:`  ${t+1}`,className:"w-full h-full object-contain pointer-events-none"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:158,columnNumber:11},void 0):e.jsxDEV("div",{className:`w-full h-full flex flex-col items-center justify-center ${X.color}`,children:[e.jsxDEV("svg",{className:"h-12 w-12 mb-2",fill:"currentColor",viewBox:"0 0 24 24",children:[e.jsxDEV("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6z"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:166,columnNumber:15},void 0),e.jsxDEV("path",{d:"M14 2v6h6"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:167,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:165,columnNumber:13},void 0),e.jsxDEV("span",{className:"text-xs font-bold",children:X.label},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:169,columnNumber:13},void 0),p&&e.jsxDEV("span",{className:"text-xs text-gray-500 mt-1 px-2 truncate max-w-full",children:p.length>15?p.slice(0,12)+"...":p},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:171,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:164,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:151,columnNumber:7},void 0),e.jsxDEV("button",{onClick:be=>{be.stopPropagation(),r(t)},className:"absolute top-2 right-2 p-1.5 bg-gray-700 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity hover:bg-gray-800",children:e.jsxDEV(Vt,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:185,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:178,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:150,columnNumber:5},void 0)},K0=({item:s,onEdit:n,onDelete:t,onImageClick:r,isImageLoading:i=!1})=>{const{attributes:a,listeners:o,setNodeRef:m,transform:d,transition:c,isDragging:u}=lo({id:s.id}),g={transform:pn.Transform.toString(d),transition:c,opacity:u?.5:1};return e.jsxDEV("div",{ref:m,style:g,"data-item-id":s.id,...a,...o,className:"bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow border border-gray-200 overflow-hidden flex flex-col group relative cursor-move",children:[e.jsxDEV("div",{className:"w-full aspect-square bg-gray-100 flex-shrink-0 relative",children:[s.image_url?e.jsxDEV("img",{src:s.image_url,alt:s.name,className:"w-full h-full object-contain block cursor-pointer",loading:"lazy",onClick:b=>{b.stopPropagation(),r(s)},onPointerDown:b=>b.stopPropagation()},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:233,columnNumber:11},void 0):i?e.jsxDEV("div",{className:"w-full h-full flex items-center justify-center",children:e.jsxDEV("div",{className:"animate-pulse bg-gray-200 w-full h-full"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:246,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:245,columnNumber:11},void 0):e.jsxDEV("div",{className:"w-full h-full flex items-center justify-center text-gray-400 text-xs",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:249,columnNumber:11},void 0),e.jsxDEV("div",{className:"absolute top-2 right-2 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsxDEV("button",{onClick:b=>{b.stopPropagation(),n(s)},onPointerDown:b=>b.stopPropagation(),className:"p-1.5 bg-white text-gray-700 hover:bg-gray-100 rounded-md shadow-md transition-colors",title:"",children:e.jsxDEV(un,{className:"w-3.5 h-3.5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:265,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:256,columnNumber:11},void 0),e.jsxDEV("button",{onClick:b=>{b.stopPropagation(),t(s.id)},onPointerDown:b=>b.stopPropagation(),className:"p-1.5 bg-white text-rose-600 hover:bg-rose-50 rounded-md shadow-md transition-colors",title:"",children:e.jsxDEV(Vt,{className:"w-3.5 h-3.5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:276,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:267,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:255,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:231,columnNumber:7},void 0),e.jsxDEV("div",{className:"p-2 pt-1.5 flex flex-col flex-1",children:[e.jsxDEV("div",{className:"flex items-start justify-between mb-1",children:[e.jsxDEV("div",{className:"flex items-center gap-1.5",children:[e.jsxDEV("span",{className:"inline-block px-1.5 py-0.5 text-xs bg-gray-100 text-gray-700 rounded",children:s.category},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:285,columnNumber:13},void 0),s.brand&&e.jsxDEV("span",{className:"text-xs text-gray-500",children:s.brand},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:289,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:284,columnNumber:11},void 0),s.grade&&e.jsxDEV("span",{className:`hidden md:inline-block px-1 py-0.5 text-[10px] rounded ${Ca(s.grade)}`,children:Va(s.grade)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:293,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:283,columnNumber:9},void 0),e.jsxDEV("div",{className:"flex items-baseline justify-between gap-1 mt-auto",children:[e.jsxDEV("div",{className:"flex items-baseline gap-1 min-w-0",children:e.jsxDEV("h3",{className:"font-semibold text-xs text-gray-900 truncate",children:s.name},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:300,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:299,columnNumber:11},void 0),s.price&&e.jsxDEV("span",{className:"hidden md:inline text-xs text-gray-900 font-medium flex-shrink-0",children:[s.price,""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:303,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:298,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:282,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:221,columnNumber:5},void 0)},X0=({category:s,onRemove:n,onEdit:t})=>{const{attributes:r,listeners:i,setNodeRef:a,transform:o,transition:m,isDragging:d}=lo({id:s}),c={transform:pn.Transform.toString(o),transition:m,opacity:d?.5:1};return e.jsxDEV("div",{ref:a,style:c,className:"flex items-center justify-between p-3 hover:bg-gray-50 border-b border-gray-100 last:border-b-0 bg-white",children:[e.jsxDEV("div",{className:"flex items-center gap-2 flex-1 cursor-grab active:cursor-grabbing",...r,...i,children:e.jsxDEV("span",{className:"text-sm text-gray-900",children:s},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:347,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:342,columnNumber:7},void 0),s!==""&&e.jsxDEV("div",{className:"flex items-center gap-1",children:[e.jsxDEV("button",{onClick:u=>{u.stopPropagation(),u.preventDefault(),t(s)},className:"text-gray-600 hover:text-gray-800 transition-colors p-1",title:"",type:"button",children:e.jsxDEV(un,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:361,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:351,columnNumber:11},void 0),e.jsxDEV("button",{onClick:u=>{u.stopPropagation(),u.preventDefault(),n(s)},className:"text-red-500 hover:text-red-700 transition-colors p-1",title:"",type:"button",children:e.jsxDEV(Vt,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:373,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:363,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:350,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:337,columnNumber:5},void 0)},J0=()=>{var he;const{user:s}=Qt(),n=fs(),t=(s==null?void 0:s.name)==="",[r,i]=l.useState(()=>t||localStorage.getItem("specBook_lastProject")?"project":"library"),[a,o]=l.useState([]),[m,d]=l.useState([]),[c,u]=l.useState([]),[g,b]=l.useState([]),[p,w]=l.useState(""),[k,j]=l.useState([]),[B,y]=l.useState(()=>{const x=localStorage.getItem("specBook_lastProject");return x?Number(x):null}),[O,ge]=l.useState(!1),[ee,Y]=l.useState({}),de=l.useRef(new Set),T=l.useRef(null),[oe,re]=l.useState(null),[Z,X]=l.useState({name:"",category:"",brand:"",price:"",grades:[""],imageData:null}),[be,we]=l.useState([]),[Me,Ve]=l.useState(!1),[Ee,_e]=l.useState(!1),[Ue,Oe]=l.useState([]),[fe,He]=l.useState(""),[De,Be]=l.useState(!1),[Re,Ke]=l.useState(null),[ze,qe]=l.useState([]),[S,ue]=l.useState(null),[xe,te]=l.useState(!1),[q,G]=l.useState(!1),[z,ye]=l.useState(1),[Se,I]=l.useState({x:0,y:0}),[ae,E]=l.useState(!1),[W,J]=l.useState({x:0,y:0}),[pe,ve]=l.useState(null),[P,C]=l.useState(null),[L,f]=l.useState(!1),[V,h]=l.useState(0),[M,ke]=l.useState(!1),[Ce,Te]=l.useState(null),[Fe,at]=l.useState(!1),[et,Ze]=l.useState(null),[ct,Nt]=l.useState(null),[ut,pt]=l.useState(!1),dt=l.useRef(null),bt=l.useRef(null),Ct=l.useRef(null),vt=l.useRef([]),A=l.useRef(!0),[Q,N]=l.useState(null),[_,H]=l.useState(!1),K=Cx(ym(oo),ym(io,{coordinateGetter:$0})),$=(x,U)=>{const ne=x.clientX-U.clientX,le=x.clientY-U.clientY;return Math.sqrt(ne*ne+le*le)},Ne=(x,U)=>({x:(x.clientX+U.clientX)/2,y:(x.clientY+U.clientY)/2});l.useEffect(()=>(A.current=!0,()=>{A.current=!1}),[]),l.useEffect(()=>{v(),ce()},[]),l.useEffect(()=>{se()},[n]),l.useEffect(()=>{Ge()},[r,p,B,be]),l.useEffect(()=>{r==="project"&&B&&Ae()},[r,B]),l.useEffect(()=>{B&&localStorage.setItem("specBook_lastProject",String(B))},[B]),l.useEffect(()=>{Object.keys(ee).length>0&&a.length>0&&o(x=>x.map(U=>({...U,image_url:ee[U.id]!==void 0?ee[U.id]:U.image_url})))},[ee]),l.useEffect(()=>{if(m.length>0){const x=m.slice(0,20).map(U=>U.id);Ie(x)}},[m.length]);const v=async()=>{try{const x=await je.get("/specbook/categories");b(x.data)}catch(x){console.error("  :",x)}},se=async()=>{try{const x=n.map(ne=>({id:ne.id,title:ne.name}));console.log("  :",x.length,"",x),j(x);const U=localStorage.getItem("specBook_lastProject");if(U&&x.length>0){const ne=Number(U);if(x.find(Pe=>Pe.id===ne)){y(ne),i("project");return}}t&&x.length>0&&!B&&(y(x[0].id),i("project"))}catch(x){console.error("  :",x)}},ce=async()=>{try{const x=await je.get("/specbook/library/meta");A.current&&d(x.data)}catch(x){console.error("    :",x)}},Ae=async()=>{if(B)try{const x=await je.get(`/specbook/project/${B}/meta`);u(x.data)}catch(x){console.error("    :",x)}},Ie=l.useCallback(async x=>{const U=x.filter(ne=>ee[ne]===void 0&&!de.current.has(ne));if(U.length!==0){U.forEach(ne=>de.current.add(ne));try{const ne=await je.post("/specbook/library/images",{ids:U});A.current&&Y(le=>({...le,...ne.data}))}catch(ne){console.error("   :",ne)}finally{U.forEach(ne=>de.current.delete(ne))}}},[ee]),Ye=l.useCallback(()=>{if(!T.current)return;const x=T.current,U=x.getBoundingClientRect(),ne=[];x.querySelectorAll("[data-item-id]").forEach(Pe=>{const $e=Pe.getBoundingClientRect();if($e.bottom>U.top-100&&$e.top<U.bottom+100){const it=parseInt(Pe.getAttribute("data-item-id")||"0",10);it&&ee[it]===void 0&&ne.push(it)}}),ne.length>0&&Ie(ne)},[ee,Ie]),Ge=async()=>{try{a.length===0&&ge(!0);const x={};p!==""&&(x.category=p),be.length>0&&(x.grades=be.join(","));let U;if(r==="library")U=await je.get("/specbook/library/meta",{params:x});else{if(!B){o([]),ge(!1);return}U=await je.get(`/specbook/project/${B}/meta`,{params:x})}if(A.current){const ne=U.data.map(Pe=>({...Pe,image_url:ee[Pe.id]||null}));o(ne),ge(!1);const le=U.data.slice(0,20).map(Pe=>Pe.id);Ie(le)}}catch(x){console.error("   :",x),A.current&&R.error("   ")}finally{A.current&&ge(!1)}},nt=x=>r==="library"?x===""?m.length:m.filter(U=>U.category===x).length:x===""?c.length:c.filter(U=>U.category===x).length,Xe=x=>{x.preventDefault(),Ve(!1);const U=x.dataTransfer.files[0];if(U&&U.type.startsWith("image/")){const ne=new FileReader;ne.onload=le=>{var Pe;N((Pe=le.target)==null?void 0:Pe.result),H(!0)},ne.readAsDataURL(U)}},st=x=>{var ne;if(_||De)return;const U=(ne=x.clipboardData)==null?void 0:ne.items;if(U){for(let le=0;le<U.length;le++)if(U[le].type.indexOf("image")!==-1){const Pe=U[le].getAsFile();if(Pe){const $e=new FileReader;$e.onload=it=>{var mt;N((mt=it.target)==null?void 0:mt.result),H(!0)},$e.readAsDataURL(Pe)}}}};l.useEffect(()=>(document.addEventListener("paste",st),()=>document.removeEventListener("paste",st)),[Z,_,De]);const F=x=>{const U=x.replace(/[^\d]/g,"");return U?U.replace(/\B(?=(\d{3})+(?!\d))/g,","):""},me=x=>{const U=F(x.target.value);X({...Z,price:U})},We=async x=>{var U,ne;if(x.preventDefault(),!ut){if(!Z.name||!Z.category){R.error("  ");return}if(Z.grades.length===0){R.error("   ");return}pt(!0);try{const le=Z.grades.join(",");if(oe){const Pe={name:Z.name,category:Z.category,brand:Z.brand,price:Z.price,grade:le,description:"",imageData:Z.imageData,projectId:r==="project"?B:null,isLibrary:r==="library"};await je.put(`/specbook/base64/${oe.id}`,Pe),R.success("  ")}else if(r==="project"&&B){const Pe={name:Z.name,category:Z.category,brand:Z.brand,price:Z.price,grade:le,description:"",imageData:Z.imageData,projectId:null,isLibrary:!0};await je.post("/specbook/base64",Pe);const $e={name:Z.name,category:Z.category,brand:Z.brand,price:Z.price,grade:le,description:"",imageData:Z.imageData,projectId:B,isLibrary:!1};await je.post("/specbook/base64",$e),R.success("    ")}else{const Pe={name:Z.name,category:Z.category,brand:Z.brand,price:Z.price,grade:le,description:"",imageData:Z.imageData,projectId:null,isLibrary:!0};await je.post("/specbook/base64",Pe),R.success("  ")}re(null),X({name:"",category:p!==""?p:"",brand:"",price:"",grades:[""],imageData:null}),Ge(),(r==="library"||r==="project"&&!oe)&&ce(),r==="project"&&B&&Ae()}catch(le){console.error("   :",le),R.error(((ne=(U=le.response)==null?void 0:U.data)==null?void 0:ne.error)||" ")}finally{pt(!1)}}},tt=x=>{re(x);const U=x.grade?x.grade.includes(",")?x.grade.split(","):[x.grade]:[""];X({name:x.name,category:x.category,brand:x.brand,price:x.price,grades:U,imageData:null}),window.scrollTo({top:0,behavior:"smooth"})},Je=async x=>{if(confirm(" ?"))try{await je.delete(`/specbook/${x}`),R.success("  "),Ge(),r==="library"?ce():r==="project"&&B&&Ae()}catch(U){console.error(" :",U),R.error(" ")}},ot=()=>{re(null),X({name:"",category:p!==""?p:"",brand:"",price:"",grades:[""],imageData:null})},Et=x=>{X({...Z,imageData:x}),H(!1),N(null)},At=()=>{H(!1),N(null)},Dt=x=>{Ke(x);const U=x.sub_images||[];qe(U),vt.current=U,Be(!0)},Ut=x=>{const U=Array.from(x.target.files||[]);St(U)},St=x=>{const U=["image/","application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/zip","application/x-hwp","text/plain","application/acad","application/x-autocad","image/vnd.dwg"],ne=[".hwp",".dwg",".skp",".3dm",".dxf"];x.forEach(le=>{const Pe=le.name.toLowerCase().slice(le.name.lastIndexOf("."));if(U.some(it=>it.endsWith("/")?le.type.startsWith(it):le.type===it)||ne.includes(Pe)){const it=new FileReader;it.onload=mt=>{var xt;const Lt=(xt=mt.target)==null?void 0:xt.result,jt=le.type.startsWith("image/")?Lt:`${le.name}|${Lt}`;qe(gt=>[...gt,jt])},it.readAsDataURL(le)}else R.error(`   : ${le.name}`)})},wt=x=>{x.preventDefault(),x.stopPropagation(),te(!1);const U=Array.from(x.dataTransfer.files);St(U)},Mt=x=>{var le;if(!De)return;const U=(le=x.clipboardData)==null?void 0:le.items;if(!U)return;const ne=[];for(let Pe=0;Pe<U.length;Pe++)if(U[Pe].type.indexOf("image")!==-1){const $e=U[Pe].getAsFile();$e&&ne.push($e)}ne.length>0&&(St(ne),R.success(`${ne.length}  `))};l.useEffect(()=>{if(De)return document.addEventListener("paste",Mt),()=>document.removeEventListener("paste",Mt)},[De]),l.useEffect(()=>{if(!(!Re||!De||!(JSON.stringify(ze)!==JSON.stringify(vt.current))))return Ct.current&&clearTimeout(Ct.current),Ct.current=setTimeout(async()=>{G(!0);try{await je.put(`/specbook/${Re.id}/sub-images`,{sub_images:ze}),vt.current=ze,Ge(),r==="library"?ce():r==="project"&&B&&Ae()}catch(U){console.error("Sub    :",U),R.error("   ")}finally{G(!1)}},1e3),()=>{Ct.current&&clearTimeout(Ct.current)}},[ze,Re,De]);const ns=x=>{qe(U=>U.filter((ne,le)=>le!==x))},_t=x=>{const{active:U,over:ne}=x;ne&&U.id!==ne.id&&qe(le=>{const Pe=le.findIndex((it,mt)=>`subimg-${mt}`===U.id),$e=le.findIndex((it,mt)=>`subimg-${mt}`===ne.id);return nr(le,Pe,$e)})},Zt=(x,U,ne,le)=>{if(ne)ue(x);else if(le){const Pe=window.open();Pe&&Pe.document.write(`
          <html>
            <head><title>${U||"PDF "}</title></head>
            <body style="margin:0;padding:0;overflow:hidden;">
              <iframe src="${x}" style="width:100%;height:100vh;border:none;"></iframe>
            </body>
          </html>
        `)}else{const Pe=document.createElement("a");Pe.href=x,Pe.download=U||"file",Pe.click()}},Us=async()=>{if(Ct.current&&clearTimeout(Ct.current),JSON.stringify(ze)!==JSON.stringify(vt.current)&&Re){G(!0);try{await je.put(`/specbook/${Re.id}/sub-images`,{sub_images:ze}),Ge(),r==="library"?ce():r==="project"&&B&&Ae()}catch(U){console.error("Sub   :",U),R.error("  ")}}Be(!1),Ke(null),qe([]),G(!1)},zt=async x=>{const{active:U,over:ne}=x;if(!ne||U.id===ne.id)return;const le=a.findIndex($e=>$e.id===U.id),Pe=a.findIndex($e=>$e.id===ne.id);if(le!==-1&&Pe!==-1){const $e=nr(a,le,Pe);o($e);try{await je.put("/specbook/reorder",{items:$e.map((it,mt)=>({id:it.id,display_order:mt}))}),R.success("  ")}catch(it){console.error("  :",it),R.error("  "),Ge()}}},on=()=>{Oe([...g]),_e(!0)},xn=()=>{_e(!1),He("")},qs=async()=>{if(!fe.trim()){R.error("  ");return}if(Ue.includes(fe.trim())){R.error("  ");return}const x=[...Ue,fe.trim()];Oe(x),He("");try{await je.put("/specbook/categories",{categories:x}),b(x),R.success(" ")}catch(U){console.error("   :",U),R.error("   "),Oe(g)}},xr=async x=>{if(x===""){R.error("    ");return}const U=window.prompt("   ",x);if(!U||!U.trim()||U.trim()===x)return;if(Ue.includes(U.trim())){R.error("  ");return}const ne=Ue.map(le=>le===x?U.trim():le);Oe(ne);try{await je.put("/specbook/categories",{categories:ne}),b(ne),R.success("  ")}catch(le){console.error("   :",le),R.error("   "),Oe(g)}},D=async x=>{if(x===""){R.error("    ");return}const U=Ue.filter(ne=>ne!==x);Oe(U);try{await je.put("/specbook/categories",{categories:U}),b(U),R.success(" ")}catch(ne){console.error("   :",ne),R.error("   "),Oe(g)}},ie=async x=>{const{active:U,over:ne}=x;if(ne&&U.id!==ne.id){const le=Ue.indexOf(U.id),Pe=Ue.indexOf(ne.id),$e=nr(Ue,le,Pe);Oe($e);try{await je.put("/specbook/categories",{categories:$e}),b($e),R.success("  ")}catch(it){console.error("   :",it),R.error("   "),Oe(g)}}};return e.jsxDEV("div",{className:"flex flex-col h-[calc(100vh-120px)] bg-gray-50",children:[e.jsxDEV("div",{className:"specbook-container flex-1 flex flex-col md:flex-row gap-4 md:gap-6 overflow-hidden",children:[e.jsxDEV("div",{className:"specbook-sidebar hidden md:flex flex-col gap-4 w-80 lg:w-96 flex-shrink-0",children:[e.jsxDEV("div",{className:"specbook-form bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden flex flex-col",children:e.jsxDEV("form",{onSubmit:We,className:"flex flex-col pt-3",children:[e.jsxDEV("div",{className:"flex flex-col sm:flex-row gap-3 px-3",children:[e.jsxDEV("div",{onDragOver:x=>{x.preventDefault(),Ve(!0)},onDragLeave:()=>Ve(!1),onDrop:Xe,className:`w-full sm:w-48 aspect-square flex-shrink-0 border-2 border-dashed rounded-lg flex items-center justify-center cursor-pointer transition-colors ${Me?"border-gray-500 bg-gray-50":"border-gray-300 hover:border-gray-400"}`,onClick:()=>{var x;return(x=dt.current)==null?void 0:x.click()},children:[Z.imageData||oe!=null&&oe.image_url?e.jsxDEV("img",{src:Z.imageData||(oe==null?void 0:oe.image_url)||"",alt:"Preview",className:"w-full h-full object-contain rounded-lg"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1325,columnNumber:23},void 0):e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV(Ls,{className:"w-8 h-8 mx-auto mb-1 text-gray-400"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1332,columnNumber:25},void 0),e.jsxDEV("p",{className:"text-sm text-gray-500",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1333,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1331,columnNumber:23},void 0),e.jsxDEV("input",{ref:dt,type:"file",accept:"image/*",onChange:x=>{var ne;const U=(ne=x.target.files)==null?void 0:ne[0];if(U){const le=new FileReader;le.onload=Pe=>{var $e;N(($e=Pe.target)==null?void 0:$e.result),H(!0)},le.readAsDataURL(U)}x.target.value=""},className:"hidden"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1336,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1312,columnNumber:19},void 0),e.jsxDEV("div",{className:"flex-1 flex flex-col gap-2",children:[e.jsxDEV("div",{className:"space-y-1.5",children:[e.jsxDEV("select",{value:Z.category,onChange:x=>X({...Z,category:x.target.value}),className:"w-full px-2 py-1.5 text-xs border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-gray-500",required:!0,children:[e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1367,columnNumber:25},void 0),g.filter(x=>x!=="").map(x=>e.jsxDEV("option",{value:x,children:x},x,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1369,columnNumber:27},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1361,columnNumber:23},void 0),e.jsxDEV("input",{type:"text",value:Z.brand,onChange:x=>X({...Z,brand:x.target.value}),className:"w-full px-2 py-1.5 text-xs border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-gray-500",placeholder:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1373,columnNumber:23},void 0),e.jsxDEV("input",{type:"text",value:Z.name,onChange:x=>X({...Z,name:x.target.value}),className:"w-full px-2 py-1.5 text-xs border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-gray-500",placeholder:"",required:!0},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1381,columnNumber:23},void 0),e.jsxDEV("div",{className:"relative",children:[e.jsxDEV("input",{type:"text",value:Z.price,onChange:me,className:"w-full px-2 py-1.5 text-xs border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-gray-500 pr-8",placeholder:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1391,columnNumber:25},void 0),e.jsxDEV("span",{className:"absolute right-2 top-1/2 -translate-y-1/2 text-xs text-gray-500",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1398,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1390,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1360,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex gap-1",children:["","","",""].map((x,U)=>{const ne=U===3?"":x;return e.jsxDEV("button",{type:"button",onClick:()=>{Z.grades.includes(ne)?X({...Z,grades:Z.grades.filter(le=>le!==ne)}):X({...Z,grades:[...Z.grades,ne]})},className:`flex-1 px-1 py-1 text-xs font-medium rounded transition-colors ${Z.grades.includes(ne)?ne===""?"bg-violet-500 text-white":ne===""?"bg-sky-500 text-white":ne===""?"bg-emerald-500 text-white":"bg-amber-400 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:x},ne,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1407,columnNumber:27},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1403,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex gap-1.5 mt-3",children:[e.jsxDEV("button",{type:"submit",disabled:ut,className:"flex-1 px-3 py-1.5 text-xs bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors disabled:opacity-50",children:ut?" ...":oe?"":""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1434,columnNumber:23},void 0),oe&&e.jsxDEV("button",{type:"button",onClick:ot,className:"px-3 py-1.5 text-xs bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1442,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1433,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1359,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1310,columnNumber:17},void 0),e.jsxDEV("div",{className:"p-3 pt-0"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1455,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1308,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1307,columnNumber:11},void 0),e.jsxDEV("div",{className:"specbook-grade-filter bg-white rounded-lg shadow-sm p-4 border border-gray-200",children:e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV("h3",{className:"text-sm font-semibold text-gray-900 mr-3",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1462,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex gap-2 flex-1",children:[["","","",""].map(x=>e.jsxDEV("button",{onClick:()=>{be.includes(x)?we(be.filter(U=>U!==x)):we([...be,x])},className:`px-3 py-1.5 rounded text-xs font-medium transition-colors whitespace-nowrap ${be.includes(x)?x===""?"bg-violet-500 text-white":x===""?"bg-sky-500 text-white":x===""?"bg-emerald-500 text-white":"bg-amber-400 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:x},x,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1465,columnNumber:19},void 0)),be.length>0&&e.jsxDEV("button",{onClick:()=>we([]),className:"px-3 py-1.5 rounded text-xs font-medium bg-gray-200 text-gray-700 hover:bg-gray-300 transition-colors whitespace-nowrap",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1487,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1463,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1461,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1460,columnNumber:11},void 0),e.jsxDEV("div",{className:"specbook-category bg-white rounded-lg shadow-sm p-4 border border-gray-200",children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-3",children:[e.jsxDEV("h3",{className:"text-sm font-semibold text-gray-900",children:["",r==="project"&&B&&e.jsxDEV("span",{className:"ml-1 text-gray-600",children:["(",(he=k.find(x=>x.id===B))==null?void 0:he.title,")"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1504,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1501,columnNumber:15},void 0),e.jsxDEV("button",{onClick:on,className:"p-1 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded transition-colors",title:" ",children:e.jsxDEV(Rm,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1514,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1509,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1500,columnNumber:13},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:g.map(x=>{const U=nt(x),ne=(r==="library"||r==="project"&&B)&&U>0;return e.jsxDEV("button",{onClick:()=>w(x),className:`px-2 py-1.5 rounded text-xs font-medium transition-colors ${p===x?"bg-gray-800 text-white":"bg-gray-50 text-gray-700 hover:bg-gray-100"}`,children:[x,ne&&e.jsxDEV("span",{className:`ml-1 ${p===x?"text-gray-300":"text-gray-400"}`,children:["(",U,")"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1535,columnNumber:23},void 0)]},x,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1524,columnNumber:19},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1517,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1499,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1305,columnNumber:9},void 0),r==="library"?e.jsxDEV("div",{className:"specbook-main flex-1 flex flex-col overflow-hidden pr-4 pt-3",children:[e.jsxDEV("div",{className:"mb-4 px-4",children:e.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 gap-2 lg:gap-4",children:[!t&&e.jsxDEV("button",{onClick:()=>{i("library"),y(null)},className:`col-span-1 lg:col-span-1 h-9 rounded-lg font-medium transition-colors text-xs md:text-sm flex items-center justify-center ${r==="library"?"bg-gray-800 text-white":"bg-gray-200 text-gray-700"}`,children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1556,columnNumber:17},void 0),e.jsxDEV("select",{value:B||"",onChange:x=>{x.target.value?(i("project"),y(Number(x.target.value))):t||(i("library"),y(null))},className:`specbook-header-project-select col-span-1 lg:col-span-1 ${t?"":"lg:col-start-4"} h-9 border border-gray-300 rounded-lg focus:outline-none bg-white text-xs md:text-sm px-1 md:px-2`,children:[!t&&e.jsxDEV("option",{value:"",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1579,columnNumber:35},void 0),k.map(x=>e.jsxDEV("option",{value:x.id,children:x.title},x.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1581,columnNumber:19},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1566,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1554,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1553,columnNumber:11},void 0),e.jsxDEV("div",{className:"specbook-content flex-1 flex flex-col md:flex-row overflow-hidden",children:[e.jsxDEV("div",{className:"specbook-library w-full md:w-1/2 flex flex-col overflow-hidden pb-4 md:pr-3",children:e.jsxDEV("div",{className:"flex-1 overflow-y-auto bg-gray-50 rounded-lg p-4",children:O?e.jsxDEV("div",{className:"flex items-center justify-center h-full",children:e.jsxDEV("div",{className:"text-gray-500",children:" ..."},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1595,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1594,columnNumber:13},void 0):a.length===0?e.jsxDEV("div",{className:"flex items-center justify-center h-full text-gray-500 text-sm",children:"   "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1598,columnNumber:13},void 0):e.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-3 gap-4",children:a.map(x=>e.jsxDEV("div",{draggable:!0,onDragStart:U=>{at(!0),U.dataTransfer.setData("itemId",x.id.toString()),U.dataTransfer.effectAllowed="copy"},onDragEnd:()=>{at(!1),Ze(null)},className:"bg-white rounded-lg shadow-sm hover:shadow-md transition-all border border-gray-200 overflow-hidden cursor-grab active:cursor-grabbing flex flex-col group relative",children:[e.jsxDEV("div",{className:"w-full aspect-square bg-gray-100 relative",onMouseDown:U=>{Ze({x:U.clientX,y:U.clientY})},onClick:U=>{!Fe&&et&&Math.sqrt(Math.pow(U.clientX-et.x,2)+Math.pow(U.clientY-et.y,2))<5&&Dt(x),Ze(null)},children:x.image_url?e.jsxDEV("img",{src:x.image_url,alt:x.name,className:"w-full h-full object-contain pointer-events-none",draggable:!1},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1638,columnNumber:23},void 0):e.jsxDEV("div",{className:"w-full h-full flex items-center justify-center text-gray-400 text-xs pointer-events-none",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1645,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1618,columnNumber:19},void 0),e.jsxDEV("div",{className:"absolute top-2 right-2 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-auto",children:[e.jsxDEV("button",{onClick:U=>{U.stopPropagation(),tt(x)},onPointerDown:U=>U.stopPropagation(),className:"p-1.5 bg-white text-gray-700 hover:bg-gray-100 rounded-md shadow-md transition-colors cursor-pointer",title:"",children:e.jsxDEV(un,{className:"w-3.5 h-3.5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1660,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1651,columnNumber:21},void 0),e.jsxDEV("button",{onClick:U=>{U.stopPropagation(),Je(x.id)},onPointerDown:U=>U.stopPropagation(),className:"p-1.5 bg-white text-rose-600 hover:bg-rose-50 rounded-md shadow-md transition-colors cursor-pointer",title:"",children:e.jsxDEV(Vt,{className:"w-3.5 h-3.5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1671,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1662,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1650,columnNumber:19},void 0),e.jsxDEV("div",{className:"p-2 pt-1.5 flex flex-col flex-1",children:[e.jsxDEV("div",{className:"flex items-start justify-between mb-1",children:[e.jsxDEV("div",{className:"flex items-center gap-1.5",children:[e.jsxDEV("span",{className:"inline-block px-1.5 py-0.5 text-xs bg-gray-100 text-gray-700 rounded",children:x.category},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1677,columnNumber:25},void 0),x.brand&&e.jsxDEV("span",{className:"text-xs text-gray-500",children:x.brand},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1681,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1676,columnNumber:23},void 0),x.grade&&e.jsxDEV("span",{className:`hidden md:inline-block px-1.5 py-0.5 text-xs rounded ${Ca(x.grade)}`,children:Va(x.grade)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1685,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1675,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex items-baseline justify-between gap-1 mt-auto",children:[e.jsxDEV("div",{className:"flex items-baseline gap-1 min-w-0",children:e.jsxDEV("h3",{className:"font-semibold text-xs text-gray-900 truncate",children:x.name},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1692,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1691,columnNumber:23},void 0),x.price&&e.jsxDEV("span",{className:"hidden md:inline text-xs text-gray-900 font-medium flex-shrink-0",children:[x.price,""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1695,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1690,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1674,columnNumber:19},void 0)]},x.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1604,columnNumber:17},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1602,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1592,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1591,columnNumber:13},void 0),e.jsxDEV("div",{className:"hidden md:block w-px bg-gray-300 self-stretch"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1706,columnNumber:13},void 0),e.jsxDEV("div",{className:"specbook-drop-zone hidden md:flex w-1/2 flex-col overflow-hidden pl-3 pb-4",children:[e.jsxDEV("div",{className:"specbook-drop-project-select hidden mb-2",children:e.jsxDEV("select",{value:B||"",onChange:x=>{x.target.value&&(i("project"),y(Number(x.target.value)))},className:"h-9 border border-gray-300 rounded-lg focus:outline-none bg-white text-sm px-3",children:[e.jsxDEV("option",{value:"",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1721,columnNumber:19},void 0),k.map(x=>e.jsxDEV("option",{value:x.id,children:x.title},x.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1723,columnNumber:21},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1711,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1710,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex-1 overflow-y-auto bg-gray-50 rounded-lg p-4 border-2 border-dashed border-gray-300 transition-colors",onDragOver:x=>{x.preventDefault(),x.currentTarget.classList.add("bg-blue-50","border-blue-400")},onDragLeave:x=>{x.currentTarget.classList.remove("bg-blue-50","border-blue-400")},onDrop:x=>{x.preventDefault(),x.currentTarget.classList.remove("bg-blue-50","border-blue-400");const U=x.dataTransfer.getData("itemId");U&&(Te(Number(U)),ke(!0))},children:e.jsxDEV("div",{className:"flex items-center justify-center h-full text-gray-400 text-sm",children:[e.jsxDEV("span",{className:"specbook-drop-text-landscape",children:"   "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1749,columnNumber:19},void 0),e.jsxDEV("span",{className:"specbook-drop-text-portrait",children:"   "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1750,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1748,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1729,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1708,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1589,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1551,columnNumber:11},void 0):e.jsxDEV("div",{className:"specbook-main flex-1 flex flex-col overflow-hidden pr-4 pt-3",children:[e.jsxDEV("div",{className:"mb-4 px-4",children:e.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 gap-2 lg:gap-4",children:[!t&&e.jsxDEV("button",{onClick:()=>{i("library"),y(null)},className:"col-span-1 lg:col-span-1 h-9 rounded-lg font-medium transition-colors bg-gray-200 text-gray-700 text-xs md:text-sm flex items-center justify-center",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1763,columnNumber:19},void 0),e.jsxDEV("select",{value:B||"",onChange:x=>{x.target.value?(i("project"),y(Number(x.target.value))):t||(i("library"),y(null))},className:`specbook-header-project-select col-span-1 lg:col-span-1 ${t?"":"lg:col-start-4"} h-9 border border-gray-300 rounded-lg focus:outline-none bg-white text-xs md:text-sm px-1 md:px-2`,children:[!t&&e.jsxDEV("option",{value:"",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1786,columnNumber:37},void 0),k.map(x=>e.jsxDEV("option",{value:x.id,children:x.title},x.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1788,columnNumber:21},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1773,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1761,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1760,columnNumber:13},void 0),e.jsxDEV("div",{className:"specbook-content flex-1 flex flex-col md:flex-row overflow-hidden gap-4",children:[!t&&e.jsxDEV("div",{className:"specbook-library hidden md:flex md:w-1/2 flex-col overflow-hidden pb-4 md:pr-3",children:e.jsxDEV("div",{className:"flex-1 overflow-y-auto bg-gray-50 rounded-lg p-4",onScroll:Ye,children:e.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-3 gap-4",children:m.filter(x=>p===""||x.category===p).map(x=>{const U=ee[x.id],ne=U!==void 0?U:x.image_url;return e.jsxDEV("div",{"data-item-id":x.id,draggable:!0,onDragStart:le=>{at(!0),le.dataTransfer.setData("itemId",x.id.toString()),le.dataTransfer.effectAllowed="copy"},onDragEnd:()=>{at(!1),Ze(null)},className:"bg-white rounded-lg shadow-sm hover:shadow-md transition-all border border-gray-200 overflow-hidden cursor-grab active:cursor-grabbing flex flex-col",children:[e.jsxDEV("div",{className:"w-full aspect-square bg-gray-100",onMouseDown:le=>{Ze({x:le.clientX,y:le.clientY})},onClick:le=>{!Fe&&et&&Math.sqrt(Math.pow(le.clientX-et.x,2)+Math.pow(le.clientY-et.y,2))<5&&Dt(x),Ze(null)},children:ne?e.jsxDEV("img",{src:ne,alt:x.name,className:"w-full h-full object-contain pointer-events-none",loading:"lazy",draggable:!1},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1844,columnNumber:29},void 0):de.current.has(x.id)?e.jsxDEV("div",{className:"w-full h-full animate-pulse bg-gray-200"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1852,columnNumber:29},void 0):e.jsxDEV("div",{className:"w-full h-full flex items-center justify-center text-gray-400 text-xs pointer-events-none",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1854,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1824,columnNumber:25},void 0),e.jsxDEV("div",{className:"p-2 pt-1.5 flex flex-col flex-1",children:[e.jsxDEV("div",{className:"flex items-start justify-between mb-1",children:[e.jsxDEV("div",{className:"flex items-center gap-1.5",children:[e.jsxDEV("span",{className:"inline-block px-1.5 py-0.5 text-xs bg-gray-100 text-gray-700 rounded",children:x.category},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1862,columnNumber:31},void 0),x.brand&&e.jsxDEV("span",{className:"text-xs text-gray-500",children:x.brand},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1866,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1861,columnNumber:29},void 0),x.grade&&e.jsxDEV("span",{className:`hidden md:inline-block px-1.5 py-0.5 text-xs rounded ${Ca(x.grade)}`,children:Va(x.grade)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1870,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1860,columnNumber:27},void 0),e.jsxDEV("div",{className:"flex items-baseline justify-between gap-1 mt-auto",children:[e.jsxDEV("div",{className:"flex items-baseline gap-1 min-w-0",children:e.jsxDEV("h3",{className:"font-semibold text-xs text-gray-900 truncate",children:x.name},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1877,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1876,columnNumber:29},void 0),x.price&&e.jsxDEV("span",{className:"hidden md:inline text-xs text-gray-900 font-medium flex-shrink-0",children:[x.price,""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1880,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1875,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1859,columnNumber:25},void 0)]},x.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1809,columnNumber:23},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1802,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1800,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1799,columnNumber:17},void 0),!t&&e.jsxDEV("div",{className:"hidden md:block w-px bg-gray-300 self-stretch"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1894,columnNumber:15},void 0),e.jsxDEV("div",{className:`specbook-project w-full ${t?"":"md:w-1/2"} flex flex-col overflow-hidden ${t?"":"md:pl-3"} pb-4`,children:[e.jsxDEV("div",{className:"specbook-drop-project-select hidden mb-2",children:e.jsxDEV("select",{value:B||"",onChange:x=>{x.target.value?(i("project"),y(Number(x.target.value))):t||(i("library"),y(null))},className:"w-full h-9 border border-gray-300 rounded-lg focus:outline-none bg-white text-sm px-3",children:[!t&&e.jsxDEV("option",{value:"",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1913,columnNumber:37},void 0),k.map(x=>e.jsxDEV("option",{value:x.id,children:x.title},x.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1915,columnNumber:21},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1900,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1899,columnNumber:15},void 0),e.jsxDEV("div",{ref:T,className:"flex-1 overflow-y-auto bg-gray-50 rounded-lg p-4",onScroll:Ye,onDragOver:x=>{x.preventDefault(),x.dataTransfer.dropEffect="copy"},onDrop:async x=>{x.preventDefault();const U=x.dataTransfer.getData("itemId");if(U&&B)try{const ne=m.find(le=>le.id===Number(U));if(ne){const{id:le,created_at:Pe,updated_at:$e,...it}=ne;await je.post("/specbook/base64",{...it,isLibrary:!1,projectId:B}),R.success("  "),Ge(),Ae()}}catch(ne){console.error("  :",ne),R.error("  ")}},children:O?e.jsxDEV("div",{className:"flex items-center justify-center h-full",children:e.jsxDEV("div",{className:"text-gray-500",children:" ..."},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1956,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1955,columnNumber:19},void 0):a.length===0?e.jsxDEV("div",{className:"flex items-center justify-center h-full text-gray-600 text-sm",children:[e.jsxDEV("span",{className:"specbook-drop-text-landscape",children:"   "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1960,columnNumber:21},void 0),e.jsxDEV("span",{className:"specbook-drop-text-portrait",children:"   "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1961,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1959,columnNumber:19},void 0):e.jsxDEV($i,{sensors:K,collisionDetection:Fi,onDragEnd:zt,children:e.jsxDEV(zi,{items:a.filter(x=>p===""||x.category===p).map(x=>x.id),strategy:Hm,children:e.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-3 gap-4",children:a.filter(x=>p===""||x.category===p).map(x=>e.jsxDEV(K0,{item:x,onEdit:tt,onDelete:Je,onImageClick:Dt,isImageLoading:!x.image_url&&de.current.has(x.id)},x.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1979,columnNumber:29},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1975,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1969,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1964,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1921,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1897,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1796,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1758,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1303,columnNumber:7},void 0),Ee&&e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxDEV("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md mx-4",children:[e.jsxDEV("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[e.jsxDEV("h2",{className:"text-lg font-bold text-gray-900",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2004,columnNumber:15},void 0),e.jsxDEV("button",{onClick:xn,className:"text-gray-500 hover:text-gray-700 transition-colors",children:e.jsxDEV(ft,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2009,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2005,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2003,columnNumber:13},void 0),e.jsxDEV("div",{className:"p-4",children:[e.jsxDEV("div",{className:"mb-4",children:e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV("input",{type:"text",value:fe,onChange:x=>He(x.target.value),onKeyPress:x=>{x.key==="Enter"&&qs()},className:"flex-1 px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",placeholder:"  "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2017,columnNumber:19},void 0),e.jsxDEV("button",{onClick:qs,className:"px-4 py-2 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors flex items-center gap-1",children:[e.jsxDEV(_s,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2033,columnNumber:21},void 0),""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2029,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2016,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2015,columnNumber:15},void 0),e.jsxDEV("div",{className:"mb-4",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  (  )"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2041,columnNumber:17},void 0),e.jsxDEV("div",{className:"max-h-120 overflow-y-auto border border-gray-200 rounded-lg",children:e.jsxDEV($i,{sensors:K,collisionDetection:Fi,onDragEnd:ie,children:e.jsxDEV(zi,{items:Ue,strategy:Hm,children:Ue.map(x=>e.jsxDEV(X0,{category:x,onRemove:D,onEdit:xr},x,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2055,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2050,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2045,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2044,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2040,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex justify-center",children:e.jsxDEV("button",{onClick:xn,className:"px-6 py-2 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2069,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2068,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2013,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2002,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2001,columnNumber:9},void 0),De&&Re&&e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxDEV("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-6xl max-h-[90vh] overflow-hidden flex flex-col",children:[e.jsxDEV("div",{className:"flex items-center justify-between p-4 md:p-6 border-b border-gray-200",children:[e.jsxDEV("div",{children:[e.jsxDEV("h2",{className:"text-xl font-bold text-gray-900",children:Re.name},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2088,columnNumber:17},void 0),e.jsxDEV("p",{className:"text-xs text-gray-500 mt-1",children:"    Ctrl+V /PDF   "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2089,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2087,columnNumber:15},void 0),e.jsxDEV("button",{onClick:Us,className:"text-gray-500 hover:text-gray-700 transition-colors",children:e.jsxDEV(ft,{className:"h-6 w-6"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2097,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2093,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2086,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex-1 overflow-y-auto p-4 md:p-6",onDragOver:x=>{x.preventDefault(),te(!0)},onDragLeave:x=>{x.preventDefault(),te(!1)},onDrop:wt,children:[e.jsxDEV("input",{ref:bt,type:"file",accept:"image/*,application/pdf,.doc,.docx,.xls,.xlsx,.ppt,.pptx,.hwp,.txt,.zip,.dwg,.skp,.3dm,.dxf",multiple:!0,onChange:Ut,className:"hidden"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2115,columnNumber:15},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:[Re.image_url&&e.jsxDEV("div",{className:"relative group",children:[e.jsxDEV("div",{className:"aspect-square bg-gray-100 rounded-lg overflow-hidden border-2 border-blue-500 cursor-pointer hover:border-blue-600 transition-colors",onClick:()=>ue(Re.image_url),children:e.jsxDEV("img",{src:Re.image_url,alt:" ",className:"w-full h-full object-contain"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2133,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2129,columnNumber:21},void 0),e.jsxDEV("div",{className:"absolute top-2 left-2 bg-blue-500 text-white text-xs font-bold px-2 py-1 rounded",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2139,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2128,columnNumber:19},void 0),e.jsxDEV($i,{sensors:K,collisionDetection:Fi,onDragEnd:_t,children:e.jsxDEV(zi,{items:ze.map((x,U)=>`subimg-${U}`),strategy:mo,children:ze.map((x,U)=>e.jsxDEV(Y0,{id:`subimg-${U}`,fileData:x,index:U,onDelete:ns,onFileClick:Zt},`subimg-${U}`,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2156,columnNumber:23},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2151,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2146,columnNumber:17},void 0),e.jsxDEV("div",{onClick:()=>{var x;return(x=bt.current)==null?void 0:x.click()},className:"aspect-square border-2 border-dashed border-gray-300 rounded-lg flex items-center justify-center cursor-pointer hover:border-gray-400 hover:bg-gray-50 transition-colors",children:e.jsxDEV(_s,{className:"h-12 w-12 text-gray-400"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2173,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2169,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2125,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2102,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex items-center justify-center p-4 border-t border-gray-200 bg-gray-50",children:e.jsxDEV("div",{className:"flex items-center gap-4",children:[e.jsxDEV("p",{className:"text-sm text-gray-600",children:[" ",(Re.image_url?1:0)+ze.length," "]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2182,columnNumber:17},void 0),q&&e.jsxDEV("p",{className:"text-sm text-blue-600 flex items-center gap-2",children:[e.jsxDEV("svg",{className:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsxDEV("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2188,columnNumber:23},void 0),e.jsxDEV("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2189,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2187,columnNumber:21},void 0)," ..."]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2186,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2181,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2180,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2084,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2083,columnNumber:9},void 0),S&&e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-[60] overflow-hidden",onClick:x=>{x.target===x.currentTarget&&(ue(null),ye(1),I({x:0,y:0}),ve(null),C(null),f(!1))},onWheel:x=>{x.preventDefault();const U=x.deltaY>0?-.1:.1;ye(ne=>Math.max(.5,Math.min(5,ne+U)))},children:[e.jsxDEV("div",{className:"absolute top-4 right-4 flex flex-col gap-2",children:[e.jsxDEV("button",{onClick:()=>{ue(null),ye(1),I({x:0,y:0}),ve(null),C(null),f(!1)},className:"p-2 bg-white bg-opacity-10 hover:bg-opacity-20 rounded-full transition-colors",children:e.jsxDEV(ft,{className:"h-6 w-6 text-white"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2233,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2222,columnNumber:13},void 0),e.jsxDEV("button",{onClick:x=>{x.stopPropagation(),ye(U=>Math.min(5,U+.5))},className:"p-2 bg-white bg-opacity-10 hover:bg-opacity-20 rounded-full transition-colors",title:" (+)",children:e.jsxDEV("svg",{className:"h-6 w-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v6m3-3H7"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2244,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2243,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2235,columnNumber:13},void 0),e.jsxDEV("button",{onClick:x=>{x.stopPropagation(),ye(U=>Math.max(.5,U-.5))},className:"p-2 bg-white bg-opacity-10 hover:bg-opacity-20 rounded-full transition-colors",title:" (-)",children:e.jsxDEV("svg",{className:"h-6 w-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM13 10H7"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2256,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2255,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2247,columnNumber:13},void 0),e.jsxDEV("button",{onClick:x=>{x.stopPropagation(),ye(1),I({x:0,y:0})},className:"p-2 bg-white bg-opacity-10 hover:bg-opacity-20 rounded-full transition-colors",title:"",children:e.jsxDEV("svg",{className:"h-6 w-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2269,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2268,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2259,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2221,columnNumber:11},void 0),e.jsxDEV("div",{className:"absolute top-4 left-4 bg-white bg-opacity-10 text-white px-3 py-2 rounded-lg text-sm",children:[Math.round(z*100),"%"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2275,columnNumber:11},void 0),e.jsxDEV("div",{className:"w-full h-full flex items-center justify-center overflow-hidden",onMouseDown:x=>{z>1&&(E(!0),J({x:x.clientX-Se.x,y:x.clientY-Se.y}))},onMouseMove:x=>{ae&&z>1&&I({x:x.clientX-W.x,y:x.clientY-W.y})},onMouseUp:()=>E(!1),onMouseLeave:()=>E(!1),onTouchStart:x=>{if(x.touches.length===2){x.preventDefault(),f(!0);const U=$(x.touches[0],x.touches[1]),ne=Ne(x.touches[0],x.touches[1]);ve(U),C(ne)}else if(x.touches.length===1&&z>1&&!L){const U=x.touches[0];J({x:U.clientX-Se.x,y:U.clientY-Se.y})}},onTouchMove:x=>{if(x.touches.length===2){x.preventDefault(),f(!0);const U=$(x.touches[0],x.touches[1]),ne=Ne(x.touches[0],x.touches[1]);if(pe&&P){const le=U/pe,Pe=Math.max(.5,Math.min(5,z*le)),$e=ne.x-P.x,it=ne.y-P.y,mt=Pe/z,Lt=Se.x*mt+$e,jt=Se.y*mt+it;ye(Pe),I({x:Lt,y:jt})}ve(U),C(ne)}else if(x.touches.length===1&&z>1&&!L){x.preventDefault();const U=x.touches[0];I({x:U.clientX-W.x,y:U.clientY-W.y})}},onTouchEnd:x=>{if(x.touches.length===0){const U=Date.now(),ne=x.changedTouches[0],le={x:ne.clientX,y:ne.clientY};if(U-V<300&&ct&&Math.abs(le.x-ct.x)<30&&Math.abs(le.y-ct.y)<30&&!L){if(z===1){const it=x.currentTarget.getBoundingClientRect(),mt=le.x-it.left-it.width/2,Lt=le.y-it.top-it.height/2;ye(2.5),I({x:-mt*1.5,y:-Lt*1.5})}else ye(1),I({x:0,y:0});h(0),Nt(null)}else h(U),Nt(le);ve(null),C(null),f(!1)}else if(x.touches.length===1&&L){ve(null),C(null),f(!1);const U=x.touches[0];J({x:U.clientX-Se.x,y:U.clientY-Se.y})}},onDoubleClick:x=>{x.stopPropagation();const U=x.currentTarget.getBoundingClientRect(),ne=x.clientX-U.left-U.width/2,le=x.clientY-U.top-U.height/2;z===1?(ye(2.5),I({x:-ne*1.5,y:-le*1.5})):(ye(1),I({x:0,y:0}))},children:e.jsxDEV("img",{src:S,alt:" ",style:{transform:`scale(${z}) translate(${Se.x/z}px, ${Se.y/z}px)`,transformOrigin:"center center",transition:ae||pe!==null?"none":"transform 0.25s cubic-bezier(0.2, 0, 0, 1)",maxWidth:"100%",maxHeight:"100%",objectFit:"contain",cursor:z>1?ae?"grabbing":"grab":"pointer",userSelect:"none",touchAction:"none"},draggable:!1},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2418,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2280,columnNumber:11},void 0),e.jsxDEV("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 bg-white bg-opacity-10 text-white px-4 py-2 rounded-lg text-xs text-center",children:"     / |   |  2 /"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2437,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2202,columnNumber:9},void 0),M&&Ce&&e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxDEV("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[e.jsxDEV("h3",{className:"text-lg font-semibold mb-4",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2447,columnNumber:13},void 0),e.jsxDEV("p",{className:"text-sm text-gray-600 mb-4",children:"   "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2448,columnNumber:13},void 0),e.jsxDEV("div",{className:"max-h-96 overflow-y-auto space-y-2 mb-6",children:k.map(x=>e.jsxDEV("button",{onClick:async()=>{try{const U=m.find(ne=>ne.id===Ce);if(U){const{id:ne,created_at:le,updated_at:Pe,...$e}=U;await je.post("/specbook/base64",{...$e,isLibrary:!1,projectId:x.id}),R.success(`"${x.title}"  `),Ae()}}catch(U){console.error("  :",U),R.error("  ")}finally{ke(!1),Te(null)}},className:"w-full px-4 py-3 text-left border border-gray-200 rounded-lg hover:bg-blue-50 hover:border-blue-300 transition-colors",children:e.jsxDEV("div",{className:"font-medium text-gray-900",children:x.title},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2478,columnNumber:19},void 0)},x.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2453,columnNumber:17},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2451,columnNumber:13},void 0),e.jsxDEV("button",{onClick:()=>{ke(!1),Te(null)},className:"w-full px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2482,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2446,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2445,columnNumber:9},void 0),_&&Q&&e.jsxDEV(dx,{image:Q,onCropComplete:Et,onCancel:At,aspectRatio:1},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2497,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1298,columnNumber:5},void 0)},G0=()=>{var we,Me,Ve,Ee,_e,Ue,Oe,fe,He,De,Be,Re,Ke,ze,qe,S,ue,xe,te,q,G,z,ye,Se,I,ae,E,W,J,pe,ve,P,C,L;const{user:s}=Qt();if(!s||s.role!=="admin"&&s.role!=="manager")return e.jsxDEV(mi,{to:"/dashboard",replace:!0},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:75,columnNumber:12},void 0);const[n,t]=l.useState({projectName:"",clientName:"",areaSize:0,residenceType:[],grade:[],finishType:"",bathroomCount:[],ceilingHeight:[],expansionWork:[],livingRoomExpansion:!1,roomExpansion:!1,roomExpansionCount:0,kitchenExpansion:!1,floorMaterial:[],wallMaterial:[],ceilingMaterial:[],furnitureWork:[],furnitureHardwareGrade:[],kitchenCountertop:[],switchPublic:[],switchRoom:[],lightingType:[],indirectLightingPublic:[],indirectLightingRoom:[],bathroomCeiling:[],bathroomTileGrade:[],bathroomFaucet:[],bathroomTile:[],bathroomGrout:[],moldingPublic:[],moldingRoom:[],includeSash:!1,includeGrooving:!1,includeBangtong:!1,includeAircon:!1,airconCount:1,airconType:[]}),[r,i]=l.useState(null),[a,o]=l.useState(!1),[m,d]=l.useState([]),[c,u]=l.useState("form"),[g,b]=l.useState(null),[p,w]=l.useState({floor:{},wall:{},furniture:{},countertop:{},switch:{},lighting:{},indirectLighting:{},molding:{},bathroom:{ceiling:{},faucet:{},tile:{},grout:{}},expansion:{}});l.useEffect(()=>{k(),j()},[]),l.useEffect(()=>{if(!n.areaSize||n.areaSize<=0||n.grade.length===0){i(null);return}const f=setTimeout(()=>{de()},500);return()=>clearTimeout(f)},[n]),l.useEffect(()=>{if(!p.floor||Object.keys(p.floor).length===0)return;const f=setTimeout(()=>{B()},500);return()=>clearTimeout(f)},[p]);const k=async()=>{try{const f=await je.get("/estimate-preview/list");d(f.data)}catch(f){console.error("   :",f)}},j=async()=>{try{const f=await je.get("/estimate-preview/settings/prices");f.data&&f.data.settings&&Object.keys(f.data.settings).length>0&&w(f.data.settings)}catch(f){console.error("   :",f)}},B=async()=>{try{await je.post("/estimate-preview/settings/prices",{settings:p})}catch(f){console.error("   :",f)}},y=(f,V,h,M)=>{w(ke=>{const Ce={...ke};return Ce[f]||(Ce[f]={}),Ce[f][V]||(Ce[f][V]={min:"",max:""}),Ce[f][V][h]=M,Ce})},O=(f,V,h,M)=>{w(ke=>{const Ce={...ke};return Ce.bathroom[f]||(Ce.bathroom[f]={}),Ce.bathroom[f][V]||(Ce.bathroom[f][V]={min:"",max:""}),Ce.bathroom[f][V][h]=M,Ce})},ge=f=>{const{name:V,value:h,type:M}=f.target;if(M==="checkbox"){const ke=f.target.checked;t(Ce=>({...Ce,[V]:ke}))}else t(V==="areaSize"||V==="bathroomCount"||V==="airconCount"||V==="roomExpansionCount"?ke=>({...ke,[V]:Number(h)||0}):ke=>({...ke,[V]:h}))},ee=(f,V)=>{const h=n[f];if(Array.isArray(h)){const M=h.includes(V)?h.filter(ke=>ke!==V):[...h,V];t(ke=>({...ke,[f]:M}))}},Y=async()=>{if(!n.projectName){R.error(" ");return}if(!n.areaSize||n.areaSize<=0){R.error("  ");return}if(n.grade.length===0){R.error(" ");return}o(!0);try{const f={...n,residenceType:JSON.stringify(n.residenceType),grade:JSON.stringify(n.grade),bathroomCount:JSON.stringify(n.bathroomCount),ceilingHeight:JSON.stringify(n.ceilingHeight),expansionWork:JSON.stringify(n.expansionWork),floorMaterial:JSON.stringify(n.floorMaterial),wallMaterial:JSON.stringify(n.wallMaterial),ceilingMaterial:JSON.stringify(n.ceilingMaterial),furnitureWork:JSON.stringify(n.furnitureWork),furnitureHardwareGrade:JSON.stringify(n.furnitureHardwareGrade),kitchenCountertop:JSON.stringify(n.kitchenCountertop),switchPublic:JSON.stringify(n.switchPublic),switchRoom:JSON.stringify(n.switchRoom),lightingType:JSON.stringify(n.lightingType),indirectLightingPublic:JSON.stringify(n.indirectLightingPublic),indirectLightingRoom:JSON.stringify(n.indirectLightingRoom),bathroomCeiling:JSON.stringify(n.bathroomCeiling),bathroomTileGrade:JSON.stringify(n.bathroomTileGrade),bathroomFaucet:JSON.stringify(n.bathroomFaucet),bathroomTile:JSON.stringify(n.bathroomTile),bathroomGrout:JSON.stringify(n.bathroomGrout),moldingPublic:JSON.stringify(n.moldingPublic),moldingRoom:JSON.stringify(n.moldingRoom)},V=await je.post("/estimate-preview/create",f);i(V.data),R.success(" "),k()}catch(f){console.error("  :",f),R.error("  ")}finally{o(!1)}},de=async()=>{o(!0);try{const f={...n,projectName:n.projectName||"",clientName:n.clientName||"",residenceType:JSON.stringify(n.residenceType),grade:JSON.stringify(n.grade),bathroomCount:JSON.stringify(n.bathroomCount),ceilingHeight:JSON.stringify(n.ceilingHeight),expansionWork:JSON.stringify(n.expansionWork),floorMaterial:JSON.stringify(n.floorMaterial),wallMaterial:JSON.stringify(n.wallMaterial),ceilingMaterial:JSON.stringify(n.ceilingMaterial),furnitureWork:JSON.stringify(n.furnitureWork),furnitureHardwareGrade:JSON.stringify(n.furnitureHardwareGrade),kitchenCountertop:JSON.stringify(n.kitchenCountertop),switchPublic:JSON.stringify(n.switchPublic),switchRoom:JSON.stringify(n.switchRoom),lightingType:JSON.stringify(n.lightingType),indirectLightingPublic:JSON.stringify(n.indirectLightingPublic),indirectLightingRoom:JSON.stringify(n.indirectLightingRoom),bathroomCeiling:JSON.stringify(n.bathroomCeiling),bathroomTileGrade:JSON.stringify(n.bathroomTileGrade),bathroomFaucet:JSON.stringify(n.bathroomFaucet),bathroomTile:JSON.stringify(n.bathroomTile),bathroomGrout:JSON.stringify(n.bathroomGrout),moldingPublic:JSON.stringify(n.moldingPublic),moldingRoom:JSON.stringify(n.moldingRoom)},V=await je.post("/estimate-preview/calculate",f);i(V.data)}catch(f){console.error("   :",f),i(null)}finally{o(!1)}},T=async f=>{try{const h=(await je.get(`/estimate-preview/${f}`)).data;t({projectName:h.project_name,clientName:h.client_name,areaSize:h.area_size,residenceType:h.residence_type?JSON.parse(h.residence_type):[],grade:h.grade,finishType:h.finish_type||"",bathroomCount:h.bathroom_count?JSON.parse(h.bathroom_count):[],ceilingHeight:h.ceiling_height?JSON.parse(h.ceiling_height):[],includeSash:h.include_sash===1,includeGrooving:h.include_grooving===1,includeBangtong:h.include_bangtong===1,includeAircon:h.include_aircon===1,airconCount:h.aircon_count||1,airconType:h.aircon_type?JSON.parse(h.aircon_type):[],floorMaterial:h.floor_material?JSON.parse(h.floor_material):[],wallMaterial:h.wall_material?JSON.parse(h.wall_material):[],ceilingMaterial:h.ceiling_material?JSON.parse(h.ceiling_material):[],furnitureWork:h.furniture_work?JSON.parse(h.furniture_work):[],furnitureHardwareGrade:h.furniture_hardware_grade?JSON.parse(h.furniture_hardware_grade):[],kitchenCountertop:h.kitchen_countertop?JSON.parse(h.kitchen_countertop):[],switchPublic:h.switch_public?JSON.parse(h.switch_public):[],switchRoom:h.switch_room?JSON.parse(h.switch_room):[],lightingType:h.lighting_type?JSON.parse(h.lighting_type):[],indirectLightingPublic:h.indirect_lighting_public?JSON.parse(h.indirect_lighting_public):[],indirectLightingRoom:h.indirect_lighting_room?JSON.parse(h.indirect_lighting_room):[],bathroomCeiling:h.bathroom_ceiling?JSON.parse(h.bathroom_ceiling):[],bathroomTileGrade:h.bathroom_tile_grade?JSON.parse(h.bathroom_tile_grade):[],bathroomFaucet:h.bathroom_faucet?JSON.parse(h.bathroom_faucet):[],bathroomTile:h.bathroom_tile?JSON.parse(h.bathroom_tile):[],bathroomGrout:h.bathroom_grout?JSON.parse(h.bathroom_grout):[],moldingPublic:h.molding_public?JSON.parse(h.molding_public):[],moldingRoom:h.molding_room?JSON.parse(h.molding_room):[]}),i({baseConstructionCost:h.base_construction_cost,fixtureCost:h.fixture_cost,sashCost:h.sash_cost,heatingCost:h.heating_cost,airconCost:h.aircon_cost,totalMinCost:h.total_min_cost,totalMaxCost:h.total_max_cost,detailBreakdown:h.detail_breakdown}),b(h),u("form"),R.success(" ")}catch(V){console.error("  :",V),R.error("  ")}},oe=async f=>{if(window.confirm("  ?"))try{await je.delete(`/estimate-preview/${f}`),R.success(" "),k()}catch(V){console.error("  :",V),R.error("  ")}},re=f=>new Intl.NumberFormat("ko-KR",{style:"currency",currency:"KRW",minimumFractionDigits:0}).format(f),Z=()=>{t({projectName:"",clientName:"",areaSize:0,residenceType:[],grade:[],finishType:"",bathroomCount:[],ceilingHeight:[],includeSash:!1,includeGrooving:!1,includeBangtong:!1,includeAircon:!1,airconCount:1,airconType:[],livingRoomExpansion:!1,roomExpansion:!1,roomExpansionCount:0,kitchenExpansion:!1,floorMaterial:[],wallMaterial:[],ceilingMaterial:[],furnitureWork:[],furnitureHardwareGrade:[],kitchenCountertop:[],switchPublic:[],switchRoom:[],lightingType:[],indirectLightingPublic:[],indirectLightingRoom:[],bathroomCeiling:[],bathroomTileGrade:[],bathroomFaucet:[],bathroomTile:[],bathroomGrout:[],moldingPublic:[],moldingRoom:[]}),i(null),b(null)},X=()=>{R.info("PDF    ")},be={total:m.length,thisMonth:m.filter(f=>{const V=new Date(f.created_at),h=new Date;return V.getMonth()===h.getMonth()&&V.getFullYear()===h.getFullYear()}).length};return e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV("div",{className:"border-b border-gray-200 flex items-center justify-between",children:[e.jsxDEV("nav",{className:"flex space-x-4 md:space-x-8",children:[{id:"form",label:" "},{id:"history",label:" ",count:be.total,icon:Sm},{id:"settings",label:" ",icon:Rm}].map(f=>e.jsxDEV("button",{onClick:()=>u(f.id),className:Gt("py-3 md:py-4 px-1 border-b-2 font-medium text-xs md:text-sm transition-colors whitespace-nowrap flex items-center gap-2",c===f.id?"border-gray-700 text-gray-700":"border-transparent text-gray-400 hover:text-gray-700 hover:border-gray-300"),children:[f.icon&&e.jsxDEV(f.icon,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:516,columnNumber:28},void 0),f.label,f.count!==void 0&&f.count>0&&e.jsxDEV("span",{className:Gt("ml-1 py-0.5 px-1.5 rounded-full text-[10px] md:text-xs font-semibold",c===f.id?"bg-gray-700 text-white":"bg-gray-200 text-gray-600"),children:f.count},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:519,columnNumber:17},void 0)]},f.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:506,columnNumber:13},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:500,columnNumber:9},void 0),e.jsxDEV("button",{onClick:Z,className:"px-3 md:px-4 py-2 bg-gray-700 text-white text-xs md:text-sm rounded hover:bg-gray-800 transition-colors flex items-center gap-2",children:[e.jsxDEV(_s,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:533,columnNumber:11},void 0),e.jsxDEV("span",{className:"hidden md:inline",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:534,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:529,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:499,columnNumber:7},void 0),c==="form"&&e.jsxDEV("div",{className:"estimate-container grid grid-cols-1 lg:grid-cols-1 xl:grid-cols-2 gap-4 md:gap-6",children:[e.jsxDEV("div",{className:"estimate-form bg-white rounded-lg border border-gray-200 p-4 md:p-6",children:e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxDEV("div",{className:"md:col-span-2 space-y-4",children:[e.jsxDEV("div",{className:"flex flex-wrap gap-3",children:[e.jsxDEV("div",{className:"flex-1 min-w-[140px]",children:[e.jsxDEV("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:[" ",e.jsxDEV("span",{className:"text-red-500",children:"*"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:548,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:547,columnNumber:21},void 0),e.jsxDEV("input",{type:"text",name:"projectName",value:n.projectName,onChange:ge,className:"w-full px-3 py-2 text-sm border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-gray-400",placeholder:":  "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:550,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:546,columnNumber:19},void 0),e.jsxDEV("div",{className:"w-24",children:[e.jsxDEV("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:[" ",e.jsxDEV("span",{className:"text-red-500",children:"*"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:561,columnNumber:26},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:560,columnNumber:21},void 0),e.jsxDEV("input",{type:"number",name:"areaSize",value:n.areaSize||"",onChange:ge,className:"w-full px-3 py-2 text-sm border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-gray-400",placeholder:"25",min:"1"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:563,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:559,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:545,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex flex-wrap gap-x-8 gap-y-3",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:576,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex flex-wrap gap-x-4 gap-y-1",children:["","","","",""].map(f=>e.jsxDEV("label",{className:"flex items-center text-sm whitespace-nowrap cursor-pointer",children:[e.jsxDEV("input",{type:"checkbox",checked:n.residenceType.includes(f),onChange:()=>ee("residenceType",f),className:"mr-1.5 rounded border-gray-300 text-gray-600 focus:ring-gray-400"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:580,columnNumber:27},void 0),e.jsxDEV("span",{className:"text-gray-700",children:f},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:586,columnNumber:27},void 0)]},f,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:579,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:577,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:575,columnNumber:19},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:[" ",e.jsxDEV("span",{className:"text-red-500",children:"*"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:592,columnNumber:86},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:592,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex flex-wrap gap-x-4 gap-y-1",children:["","","",""].map(f=>e.jsxDEV("label",{className:"flex items-center text-sm whitespace-nowrap cursor-pointer",children:[e.jsxDEV("input",{type:"checkbox",checked:n.grade.includes(f),onChange:()=>ee("grade",f),className:"mr-1.5 rounded border-gray-300 text-gray-600 focus:ring-gray-400"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:596,columnNumber:27},void 0),e.jsxDEV("span",{className:"text-gray-700",children:f},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:602,columnNumber:27},void 0)]},f,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:595,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:593,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:591,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:574,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:544,columnNumber:15},void 0),e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:613,columnNumber:19},void 0),e.jsxDEV("div",{className:"flex flex-wrap gap-x-4 gap-y-1.5",children:["","","","","600 ","800-900 ","1200 "].map(f=>e.jsxDEV("label",{className:"flex items-center text-sm whitespace-nowrap cursor-pointer",children:[e.jsxDEV("input",{type:"checkbox",checked:n.floorMaterial.includes(f),onChange:()=>ee("floorMaterial",f),className:"mr-1.5 rounded border-gray-300 text-gray-600 focus:ring-gray-400"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:617,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-gray-700",children:f},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:623,columnNumber:25},void 0)]},f,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:616,columnNumber:23},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:614,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:612,columnNumber:17},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" / "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:630,columnNumber:19},void 0),e.jsxDEV("div",{className:"flex flex-wrap gap-x-4 gap-y-1.5",children:["","()","()","()","","","","","()+()"].map(f=>e.jsxDEV("label",{className:"flex items-center text-sm whitespace-nowrap cursor-pointer",children:[e.jsxDEV("input",{type:"checkbox",checked:n.wallMaterial.includes(f),onChange:()=>ee("wallMaterial",f),className:"mr-1.5 rounded border-gray-300 text-gray-600 focus:ring-gray-400"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:634,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-gray-700",children:f},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:640,columnNumber:25},void 0)]},f,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:633,columnNumber:23},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:631,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:629,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:611,columnNumber:15},void 0),e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("div",{className:"flex flex-wrap gap-x-8 gap-y-3",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:651,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex gap-x-4",children:["0","1","2","3","4"].map(f=>e.jsxDEV("label",{className:"flex items-center text-sm cursor-pointer",children:[e.jsxDEV("input",{type:"checkbox",checked:n.bathroomCount.includes(f),onChange:()=>ee("bathroomCount",f),className:"mr-1.5 rounded border-gray-300 text-gray-600 focus:ring-gray-400"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:655,columnNumber:27},void 0),e.jsxDEV("span",{className:"text-gray-700",children:f},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:661,columnNumber:27},void 0)]},f,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:654,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:652,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:650,columnNumber:19},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:667,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex flex-wrap gap-x-4 gap-y-1",children:["2400","2400~2600","2600"].map(f=>e.jsxDEV("label",{className:"flex items-center text-sm whitespace-nowrap cursor-pointer",children:[e.jsxDEV("input",{type:"checkbox",checked:n.ceilingHeight.includes(f),onChange:()=>ee("ceilingHeight",f),className:"mr-1.5 rounded border-gray-300 text-gray-600 focus:ring-gray-400"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:671,columnNumber:27},void 0),e.jsxDEV("span",{className:"text-gray-700",children:f},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:677,columnNumber:27},void 0)]},f,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:670,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:668,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:666,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:649,columnNumber:17},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:685,columnNumber:19},void 0),e.jsxDEV("div",{className:"flex flex-wrap gap-x-4 gap-y-1.5",children:[e.jsxDEV("label",{className:"flex items-center text-sm whitespace-nowrap cursor-pointer",children:[e.jsxDEV("input",{type:"checkbox",name:"livingRoomExpansion",checked:n.livingRoomExpansion,onChange:ge,className:"mr-1.5 rounded border-gray-300 text-gray-600 focus:ring-gray-400"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:688,columnNumber:23},void 0),e.jsxDEV("span",{className:"text-gray-700",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:695,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:687,columnNumber:21},void 0),e.jsxDEV("label",{className:"flex items-center text-sm whitespace-nowrap cursor-pointer",children:[e.jsxDEV("input",{type:"checkbox",name:"kitchenExpansion",checked:n.kitchenExpansion,onChange:ge,className:"mr-1.5 rounded border-gray-300 text-gray-600 focus:ring-gray-400"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:698,columnNumber:23},void 0),e.jsxDEV("span",{className:"text-gray-700",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:705,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:697,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("label",{className:"flex items-center text-sm whitespace-nowrap cursor-pointer",children:[e.jsxDEV("input",{type:"checkbox",name:"roomExpansion",checked:n.roomExpansion,onChange:ge,className:"mr-1.5 rounded border-gray-300 text-gray-600 focus:ring-gray-400"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:709,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-gray-700",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:716,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:708,columnNumber:23},void 0),n.roomExpansion&&e.jsxDEV("select",{name:"roomExpansionCount",value:n.roomExpansionCount,onChange:ge,className:"px-2 py-1 text-sm border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-gray-400",children:[e.jsxDEV("option",{value:0,children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:725,columnNumber:27},void 0),e.jsxDEV("option",{value:1,children:"1"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:726,columnNumber:27},void 0),e.jsxDEV("option",{value:2,children:"2"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:727,columnNumber:27},void 0),e.jsxDEV("option",{value:3,children:"3"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:728,columnNumber:27},void 0),e.jsxDEV("option",{value:4,children:"4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:729,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:719,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:707,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:686,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:684,columnNumber:17},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:737,columnNumber:19},void 0),e.jsxDEV("div",{className:"flex flex-wrap gap-x-4 gap-y-1.5",children:[e.jsxDEV("label",{className:"flex items-center text-sm whitespace-nowrap cursor-pointer",children:[e.jsxDEV("input",{type:"checkbox",name:"includeSash",checked:n.includeSash,onChange:ge,className:"mr-1.5 rounded border-gray-300 text-gray-600 focus:ring-gray-400"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:740,columnNumber:23},void 0),e.jsxDEV("span",{className:"text-gray-700",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:747,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:739,columnNumber:21},void 0),e.jsxDEV("label",{className:"flex items-center text-sm whitespace-nowrap cursor-pointer",children:[e.jsxDEV("input",{type:"checkbox",name:"includeGrooving",checked:n.includeGrooving,onChange:ge,className:"mr-1.5 rounded border-gray-300 text-gray-600 focus:ring-gray-400"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:750,columnNumber:23},void 0),e.jsxDEV("span",{className:"text-gray-700",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:757,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:749,columnNumber:21},void 0),e.jsxDEV("label",{className:"flex items-center text-sm whitespace-nowrap cursor-pointer",children:[e.jsxDEV("input",{type:"checkbox",name:"includeBangtong",checked:n.includeBangtong,onChange:ge,className:"mr-1.5 rounded border-gray-300 text-gray-600 focus:ring-gray-400"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:760,columnNumber:23},void 0),e.jsxDEV("span",{className:"text-gray-700",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:767,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:759,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("label",{className:"flex items-center text-sm whitespace-nowrap cursor-pointer",children:[e.jsxDEV("input",{type:"checkbox",name:"includeAircon",checked:n.includeAircon,onChange:ge,className:"mr-1.5 rounded border-gray-300 text-gray-600 focus:ring-gray-400"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:771,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-gray-700",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:778,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:770,columnNumber:23},void 0),n.includeAircon&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV("select",{name:"airconCount",value:n.airconCount,onChange:ge,className:"px-2 py-1 text-sm border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-gray-400",children:[1,2,3,4,5,6,7,8,9,10].map(f=>e.jsxDEV("option",{value:f,children:[f,""]},f,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:789,columnNumber:31},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:782,columnNumber:27},void 0),["2 in 1"," "].map(f=>e.jsxDEV("label",{className:"flex items-center text-sm whitespace-nowrap cursor-pointer",children:[e.jsxDEV("input",{type:"checkbox",checked:n.airconType.includes(f),onChange:()=>ee("airconType",f),className:"mr-1.5 rounded border-gray-300 text-gray-600 focus:ring-gray-400"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:794,columnNumber:31},void 0),e.jsxDEV("span",{className:"text-gray-700",children:f},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:800,columnNumber:31},void 0)]},f,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:793,columnNumber:29},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:781,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:769,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:738,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:736,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:648,columnNumber:15},void 0),e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"  "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:813,columnNumber:19},void 0),e.jsxDEV("div",{className:"flex flex-wrap gap-x-4 gap-y-1",children:["",""].map(f=>e.jsxDEV("label",{className:"flex items-center text-sm whitespace-nowrap cursor-pointer",children:[e.jsxDEV("input",{type:"checkbox",checked:n.furnitureWork.includes(f),onChange:()=>ee("furnitureWork",f),className:"mr-1.5 rounded border-gray-300 text-gray-600 focus:ring-gray-400"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:817,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-gray-700",children:f},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:823,columnNumber:25},void 0)]},f,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:816,columnNumber:23},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:814,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:812,columnNumber:17},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:829,columnNumber:19},void 0),e.jsxDEV("div",{className:"flex flex-wrap gap-x-4 gap-y-1.5",children:[" BLUM()","()+()"," BLUM()+()"].map(f=>e.jsxDEV("label",{className:"flex items-center text-sm whitespace-nowrap cursor-pointer",children:[e.jsxDEV("input",{type:"checkbox",checked:n.furnitureHardwareGrade.includes(f),onChange:()=>ee("furnitureHardwareGrade",f),className:"mr-1.5 rounded border-gray-300 text-gray-600 focus:ring-gray-400"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:833,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-gray-700",children:f},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:839,columnNumber:25},void 0)]},f,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:832,columnNumber:23},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:830,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:828,columnNumber:17},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:845,columnNumber:19},void 0),e.jsxDEV("div",{className:"flex flex-wrap gap-x-4 gap-y-1",children:["","","","",""].map(f=>e.jsxDEV("label",{className:"flex items-center text-sm whitespace-nowrap cursor-pointer",children:[e.jsxDEV("input",{type:"checkbox",checked:n.kitchenCountertop.includes(f),onChange:()=>ee("kitchenCountertop",f),className:"mr-1.5 rounded border-gray-300 text-gray-600 focus:ring-gray-400"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:849,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-gray-700",children:f},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:855,columnNumber:25},void 0)]},f,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:848,columnNumber:23},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:846,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:844,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:811,columnNumber:15},void 0),e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("div",{className:"flex flex-wrap gap-x-8 gap-y-3",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"/ ()"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:866,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex flex-wrap gap-x-4 gap-y-1",children:["()","()"," "," "].map(f=>e.jsxDEV("label",{className:"flex items-center text-sm whitespace-nowrap cursor-pointer",children:[e.jsxDEV("input",{type:"checkbox",checked:n.switchPublic.includes(f),onChange:()=>ee("switchPublic",f),className:"mr-1.5 rounded border-gray-300 text-gray-600 focus:ring-gray-400"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:870,columnNumber:27},void 0),e.jsxDEV("span",{className:"text-gray-700",children:f},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:876,columnNumber:27},void 0)]},f,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:869,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:867,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:865,columnNumber:19},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"/ ()"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:882,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex flex-wrap gap-x-4 gap-y-1",children:["()","()"," "," "].map(f=>e.jsxDEV("label",{className:"flex items-center text-sm whitespace-nowrap cursor-pointer",children:[e.jsxDEV("input",{type:"checkbox",checked:n.switchRoom.includes(f),onChange:()=>ee("switchRoom",f),className:"mr-1.5 rounded border-gray-300 text-gray-600 focus:ring-gray-400"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:886,columnNumber:27},void 0),e.jsxDEV("span",{className:"text-gray-700",children:f},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:892,columnNumber:27},void 0)]},f,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:885,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:883,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:881,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:864,columnNumber:17},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:900,columnNumber:19},void 0),e.jsxDEV("div",{className:"flex flex-wrap gap-x-4 gap-y-1.5",children:["","","()","()","()"].map(f=>e.jsxDEV("label",{className:"flex items-center text-sm whitespace-nowrap cursor-pointer",children:[e.jsxDEV("input",{type:"checkbox",checked:n.lightingType.includes(f),onChange:()=>ee("lightingType",f),className:"mr-1.5 rounded border-gray-300 text-gray-600 focus:ring-gray-400"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:904,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-gray-700",children:f},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:910,columnNumber:25},void 0)]},f,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:903,columnNumber:23},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:901,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:899,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex flex-wrap gap-x-8 gap-y-3",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" ()"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:918,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex gap-x-4",children:["LED","T3 "].map(f=>e.jsxDEV("label",{className:"flex items-center text-sm whitespace-nowrap cursor-pointer",children:[e.jsxDEV("input",{type:"checkbox",checked:n.indirectLightingPublic.includes(f),onChange:()=>ee("indirectLightingPublic",f),className:"mr-1.5 rounded border-gray-300 text-gray-600 focus:ring-gray-400"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:922,columnNumber:27},void 0),e.jsxDEV("span",{className:"text-gray-700",children:f},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:928,columnNumber:27},void 0)]},f,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:921,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:919,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:917,columnNumber:19},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" ()"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:934,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex gap-x-4",children:["LED","T3 "].map(f=>e.jsxDEV("label",{className:"flex items-center text-sm whitespace-nowrap cursor-pointer",children:[e.jsxDEV("input",{type:"checkbox",checked:n.indirectLightingRoom.includes(f),onChange:()=>ee("indirectLightingRoom",f),className:"mr-1.5 rounded border-gray-300 text-gray-600 focus:ring-gray-400"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:938,columnNumber:27},void 0),e.jsxDEV("span",{className:"text-gray-700",children:f},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:944,columnNumber:27},void 0)]},f,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:937,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:935,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:933,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:916,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:863,columnNumber:15},void 0),e.jsxDEV("div",{className:"space-y-4",children:e.jsxDEV("div",{className:"flex flex-wrap gap-x-8 gap-y-3",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" ()"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:956,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex flex-wrap gap-x-4 gap-y-1.5",children:["+","+","+","+"].map(f=>e.jsxDEV("label",{className:"flex items-center text-sm whitespace-nowrap cursor-pointer",children:[e.jsxDEV("input",{type:"checkbox",checked:n.moldingPublic.includes(f),onChange:()=>ee("moldingPublic",f),className:"mr-1.5 rounded border-gray-300 text-gray-600 focus:ring-gray-400"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:960,columnNumber:27},void 0),e.jsxDEV("span",{className:"text-gray-700",children:f},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:966,columnNumber:27},void 0)]},f,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:959,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:957,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:955,columnNumber:19},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" ()"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:972,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex flex-wrap gap-x-4 gap-y-1.5",children:["+","+","+","+"].map(f=>e.jsxDEV("label",{className:"flex items-center text-sm whitespace-nowrap cursor-pointer",children:[e.jsxDEV("input",{type:"checkbox",checked:n.moldingRoom.includes(f),onChange:()=>ee("moldingRoom",f),className:"mr-1.5 rounded border-gray-300 text-gray-600 focus:ring-gray-400"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:976,columnNumber:27},void 0),e.jsxDEV("span",{className:"text-gray-700",children:f},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:982,columnNumber:27},void 0)]},f,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:975,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:973,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:971,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:954,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:953,columnNumber:15},void 0),e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("div",{className:"flex flex-wrap gap-x-8 gap-y-3",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:994,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex gap-x-4",children:["SMC","",""].map(f=>e.jsxDEV("label",{className:"flex items-center text-sm whitespace-nowrap cursor-pointer",children:[e.jsxDEV("input",{type:"checkbox",checked:n.bathroomCeiling.includes(f),onChange:()=>ee("bathroomCeiling",f),className:"mr-1.5 rounded border-gray-300 text-gray-600 focus:ring-gray-400"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:998,columnNumber:27},void 0),e.jsxDEV("span",{className:"text-gray-700",children:f},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1004,columnNumber:27},void 0)]},f,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:997,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:995,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:993,columnNumber:19},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1010,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex gap-x-4",children:["",""].map(f=>e.jsxDEV("label",{className:"flex items-center text-sm whitespace-nowrap cursor-pointer",children:[e.jsxDEV("input",{type:"checkbox",checked:n.bathroomFaucet.includes(f),onChange:()=>ee("bathroomFaucet",f),className:"mr-1.5 rounded border-gray-300 text-gray-600 focus:ring-gray-400"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1014,columnNumber:27},void 0),e.jsxDEV("span",{className:"text-gray-700",children:f},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1020,columnNumber:27},void 0)]},f,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1013,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1011,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1009,columnNumber:19},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1026,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex flex-wrap gap-x-4 gap-y-1",children:["()","()","()"].map(f=>e.jsxDEV("label",{className:"flex items-center text-sm whitespace-nowrap cursor-pointer",children:[e.jsxDEV("input",{type:"checkbox",checked:n.bathroomTileGrade.includes(f),onChange:()=>ee("bathroomTileGrade",f),className:"mr-1.5 rounded border-gray-300 text-gray-600 focus:ring-gray-400"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1030,columnNumber:27},void 0),e.jsxDEV("span",{className:"text-gray-700",children:f},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1036,columnNumber:27},void 0)]},f,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1029,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1027,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1025,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:992,columnNumber:17},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1044,columnNumber:19},void 0),e.jsxDEV("div",{className:"flex flex-wrap gap-x-4 gap-y-1.5",children:["600()","600()","750x1500","","300x600()+300()","600x1200 or 800()"].map(f=>e.jsxDEV("label",{className:"flex items-center text-sm whitespace-nowrap cursor-pointer",children:[e.jsxDEV("input",{type:"checkbox",checked:n.bathroomTile.includes(f),onChange:()=>ee("bathroomTile",f),className:"mr-1.5 rounded border-gray-300 text-gray-600 focus:ring-gray-400"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1048,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-gray-700",children:f},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1054,columnNumber:25},void 0)]},f,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1047,columnNumber:23},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1045,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1043,columnNumber:17},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1061,columnNumber:19},void 0),e.jsxDEV("div",{className:"flex flex-wrap gap-x-4 gap-y-1.5",children:["","()"].map(f=>e.jsxDEV("label",{className:"flex items-center text-sm whitespace-nowrap cursor-pointer",children:[e.jsxDEV("input",{type:"checkbox",checked:n.bathroomGrout.includes(f),onChange:()=>ee("bathroomGrout",f),className:"mr-1.5 rounded border-gray-300 text-gray-600 focus:ring-gray-400"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1065,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-gray-700",children:f},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1071,columnNumber:25},void 0)]},f,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1064,columnNumber:23},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1062,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1060,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:991,columnNumber:15},void 0),e.jsxDEV("button",{onClick:Y,disabled:a,className:"md:col-span-2 w-full py-3 bg-gray-900 text-white rounded-lg font-semibold hover:bg-gray-800 disabled:opacity-50 disabled:cursor-not-allowed text-sm md:text-base transition-colors",children:a?" ...":" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1079,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:542,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:541,columnNumber:11},void 0),e.jsxDEV("div",{className:"estimate-result bg-white rounded-lg border border-gray-200 p-4 md:p-6",children:[e.jsxDEV("div",{className:"flex justify-between items-center mb-4",children:[e.jsxDEV("h2",{className:"text-base md:text-lg font-semibold text-gray-800",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1092,columnNumber:15},void 0),r&&e.jsxDEV("button",{onClick:X,className:"px-3 py-1.5 border border-gray-300 text-gray-700 rounded hover:bg-gray-50 flex items-center gap-1 text-xs md:text-sm transition-colors",children:[e.jsxDEV(Pc,{className:"h-3 w-3 md:h-4 md:w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1098,columnNumber:19},void 0),"PDF"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1094,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1091,columnNumber:13},void 0),r?e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV("p",{className:"text-xs md:text-sm text-gray-600 mb-2",children:"  "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1109,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-xl md:text-2xl font-bold text-gray-900",children:[re(r.totalMinCost)," ~ ",re(r.totalMaxCost)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1110,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-xs text-gray-500 mt-2",children:"(15% )"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1113,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1108,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1107,columnNumber:17},void 0),e.jsxDEV("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:e.jsxDEV("table",{className:"w-full",children:[e.jsxDEV("thead",{className:"bg-gray-50",children:e.jsxDEV("tr",{children:[e.jsxDEV("th",{className:"px-4 py-2 text-left text-xs md:text-sm font-medium text-gray-700",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1122,columnNumber:25},void 0),e.jsxDEV("th",{className:"px-4 py-2 text-right text-xs md:text-sm font-medium text-gray-700",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1123,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1121,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1120,columnNumber:21},void 0),e.jsxDEV("tbody",{className:"divide-y divide-gray-200",children:[e.jsxDEV("tr",{children:[e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1128,columnNumber:25},void 0),e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900 text-right font-medium",children:re(r.baseConstructionCost)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1129,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1127,columnNumber:23},void 0),e.jsxDEV("tr",{className:"bg-gray-50",children:[e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900 font-semibold",children:[" (",n.grade.join(", "),")"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1134,columnNumber:25},void 0),e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900 text-right font-semibold",children:r.fixtureCostMin!==void 0&&r.fixtureCostMax!==void 0?`${re(r.fixtureCostMin)} ~ ${re(r.fixtureCostMax)}`:re(r.fixtureCost)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1135,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1133,columnNumber:23},void 0),(Me=(we=r.detailBreakdown)==null?void 0:we.fixtureItems)==null?void 0:Me.map((f,V)=>e.jsxDEV("tr",{className:"bg-white",children:[e.jsxDEV("td",{className:"px-4 py-1.5 text-xs text-gray-600 pl-8",children:[" ",f.category,"  ",f.quantity,""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1144,columnNumber:27},void 0),e.jsxDEV("td",{className:"px-4 py-1.5 text-xs text-gray-600 text-right",children:[re(f.minTotal)," ~ ",re(f.maxTotal)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1147,columnNumber:27},void 0)]},V,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1143,columnNumber:25},void 0)),((Ee=(Ve=r.detailBreakdown)==null?void 0:Ve.itemDetails)==null?void 0:Ee.floor)>0&&e.jsxDEV("tr",{children:[e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1154,columnNumber:27},void 0),e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900 text-right font-medium",children:re(r.detailBreakdown.itemDetails.floor)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1155,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1153,columnNumber:25},void 0),((Ue=(_e=r.detailBreakdown)==null?void 0:_e.itemDetails)==null?void 0:Ue.wall)>0&&e.jsxDEV("tr",{children:[e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1162,columnNumber:27},void 0),e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900 text-right font-medium",children:re(r.detailBreakdown.itemDetails.wall)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1163,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1161,columnNumber:25},void 0),((fe=(Oe=r.detailBreakdown)==null?void 0:Oe.itemDetails)==null?void 0:fe.ceiling)>0&&e.jsxDEV("tr",{children:[e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1170,columnNumber:27},void 0),e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900 text-right font-medium",children:re(r.detailBreakdown.itemDetails.ceiling)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1171,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1169,columnNumber:25},void 0),((De=(He=r.detailBreakdown)==null?void 0:He.itemDetails)==null?void 0:De.furniture)>0&&e.jsxDEV("tr",{children:[e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1178,columnNumber:27},void 0),e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900 text-right font-medium",children:re(r.detailBreakdown.itemDetails.furniture)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1179,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1177,columnNumber:25},void 0),((Re=(Be=r.detailBreakdown)==null?void 0:Be.itemDetails)==null?void 0:Re.countertop)>0&&e.jsxDEV("tr",{children:[e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1186,columnNumber:27},void 0),e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900 text-right font-medium",children:re(r.detailBreakdown.itemDetails.countertop)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1187,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1185,columnNumber:25},void 0),((ze=(Ke=r.detailBreakdown)==null?void 0:Ke.itemDetails)==null?void 0:ze.switchPublic)>0&&e.jsxDEV("tr",{children:[e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900",children:"/ ()"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1194,columnNumber:27},void 0),e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900 text-right font-medium",children:re(r.detailBreakdown.itemDetails.switchPublic)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1195,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1193,columnNumber:25},void 0),((S=(qe=r.detailBreakdown)==null?void 0:qe.itemDetails)==null?void 0:S.switchRoom)>0&&e.jsxDEV("tr",{children:[e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900",children:"/ ()"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1202,columnNumber:27},void 0),e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900 text-right font-medium",children:re(r.detailBreakdown.itemDetails.switchRoom)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1203,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1201,columnNumber:25},void 0),((xe=(ue=r.detailBreakdown)==null?void 0:ue.itemDetails)==null?void 0:xe.lighting)>0&&e.jsxDEV("tr",{children:[e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1210,columnNumber:27},void 0),e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900 text-right font-medium",children:re(r.detailBreakdown.itemDetails.lighting)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1211,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1209,columnNumber:25},void 0),((q=(te=r.detailBreakdown)==null?void 0:te.itemDetails)==null?void 0:q.indirectPublic)>0&&e.jsxDEV("tr",{children:[e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900",children:" ()"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1218,columnNumber:27},void 0),e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900 text-right font-medium",children:re(r.detailBreakdown.itemDetails.indirectPublic)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1219,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1217,columnNumber:25},void 0),((z=(G=r.detailBreakdown)==null?void 0:G.itemDetails)==null?void 0:z.indirectRoom)>0&&e.jsxDEV("tr",{children:[e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900",children:" ()"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1226,columnNumber:27},void 0),e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900 text-right font-medium",children:re(r.detailBreakdown.itemDetails.indirectRoom)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1227,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1225,columnNumber:25},void 0),((Se=(ye=r.detailBreakdown)==null?void 0:ye.itemDetails)==null?void 0:Se.moldingPublic)>0&&e.jsxDEV("tr",{children:[e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900",children:" ()"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1234,columnNumber:27},void 0),e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900 text-right font-medium",children:re(r.detailBreakdown.itemDetails.moldingPublic)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1235,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1233,columnNumber:25},void 0),((ae=(I=r.detailBreakdown)==null?void 0:I.itemDetails)==null?void 0:ae.moldingRoom)>0&&e.jsxDEV("tr",{children:[e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900",children:" ()"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1242,columnNumber:27},void 0),e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900 text-right font-medium",children:re(r.detailBreakdown.itemDetails.moldingRoom)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1243,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1241,columnNumber:25},void 0),((W=(E=r.detailBreakdown)==null?void 0:E.itemDetails)==null?void 0:W.bathroomCeiling)>0&&e.jsxDEV("tr",{children:[e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1250,columnNumber:27},void 0),e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900 text-right font-medium",children:re(r.detailBreakdown.itemDetails.bathroomCeiling)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1251,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1249,columnNumber:25},void 0),((pe=(J=r.detailBreakdown)==null?void 0:J.itemDetails)==null?void 0:pe.bathroomFaucet)>0&&e.jsxDEV("tr",{children:[e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1258,columnNumber:27},void 0),e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900 text-right font-medium",children:re(r.detailBreakdown.itemDetails.bathroomFaucet)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1259,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1257,columnNumber:25},void 0),((P=(ve=r.detailBreakdown)==null?void 0:ve.itemDetails)==null?void 0:P.bathroomTile)>0&&e.jsxDEV("tr",{children:[e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1266,columnNumber:27},void 0),e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900 text-right font-medium",children:re(r.detailBreakdown.itemDetails.bathroomTile)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1267,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1265,columnNumber:25},void 0),((L=(C=r.detailBreakdown)==null?void 0:C.itemDetails)==null?void 0:L.bathroomGrout)>0&&e.jsxDEV("tr",{children:[e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1274,columnNumber:27},void 0),e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900 text-right font-medium",children:re(r.detailBreakdown.itemDetails.bathroomGrout)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1275,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1273,columnNumber:25},void 0),r.sashCost>0&&e.jsxDEV("tr",{children:[e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1282,columnNumber:27},void 0),e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900 text-right font-medium",children:re(r.sashCost)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1283,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1281,columnNumber:25},void 0),r.heatingCost>0&&e.jsxDEV("tr",{children:[e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1290,columnNumber:27},void 0),e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900 text-right font-medium",children:re(r.heatingCost)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1291,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1289,columnNumber:25},void 0),r.airconCost>0&&e.jsxDEV("tr",{children:[e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1298,columnNumber:27},void 0),e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900 text-right font-medium",children:re(r.airconCost)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1299,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1297,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1126,columnNumber:21},void 0),e.jsxDEV("tfoot",{className:"bg-gray-50",children:e.jsxDEV("tr",{children:[e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm font-semibold text-gray-900",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1307,columnNumber:25},void 0),e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm font-bold text-gray-900 text-right",children:re(r.baseConstructionCost+r.fixtureCost+(r.settingsBasedCost||0)+r.sashCost+r.heatingCost+r.airconCost)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1308,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1306,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1305,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1119,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1118,columnNumber:17},void 0),e.jsxDEV("div",{className:"text-xs md:text-sm text-gray-500 text-center mt-4",children:"*        ."},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1323,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1105,columnNumber:15},void 0):e.jsxDEV("div",{className:"text-center py-12 text-gray-400",children:[e.jsxDEV(Rc,{className:"h-10 w-10 md:h-12 md:w-12 mx-auto mb-3"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1329,columnNumber:17},void 0),e.jsxDEV("p",{className:"text-sm md:text-base",children:"     "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1330,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1328,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1090,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:539,columnNumber:9},void 0),c==="history"&&e.jsxDEV("div",{className:"bg-white rounded-lg border border-gray-200",children:[e.jsxDEV("div",{className:"p-4 md:p-6 border-b border-gray-200",children:e.jsxDEV("h2",{className:"text-base md:text-lg font-semibold text-gray-800",children:["  (",be.total,")"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1340,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1339,columnNumber:11},void 0),e.jsxDEV("div",{className:"overflow-x-auto",children:e.jsxDEV("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsxDEV("thead",{className:"bg-gray-50",children:e.jsxDEV("tr",{children:[e.jsxDEV("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1346,columnNumber:19},void 0),e.jsxDEV("th",{className:"px-4 md:px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1347,columnNumber:19},void 0),e.jsxDEV("th",{className:"px-4 md:px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1348,columnNumber:19},void 0),e.jsxDEV("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1349,columnNumber:19},void 0),e.jsxDEV("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1350,columnNumber:19},void 0),e.jsxDEV("th",{className:"px-4 md:px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1351,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1345,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1344,columnNumber:15},void 0),e.jsxDEV("tbody",{className:"bg-white divide-y divide-gray-200",children:m.map(f=>e.jsxDEV("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsxDEV("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:f.project_name},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1357,columnNumber:21},void 0),e.jsxDEV("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-sm text-gray-700 text-center",children:[f.area_size,""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1360,columnNumber:21},void 0),e.jsxDEV("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-center",children:e.jsxDEV("span",{className:Gt("inline-flex px-2 py-1 text-xs font-medium rounded border",f.grade===""&&"bg-gray-50 text-gray-700 border-gray-300",f.grade===""&&"bg-gray-100 text-gray-800 border-gray-400",f.grade===""&&"bg-gray-200 text-gray-900 border-gray-500",f.grade===""&&"bg-gray-800 text-white border-gray-800"),children:f.grade},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1364,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1363,columnNumber:21},void 0),e.jsxDEV("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"font-medium",children:re(f.total_min_cost)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1376,columnNumber:25},void 0),e.jsxDEV("div",{className:"text-xs text-gray-500",children:["~ ",re(f.total_max_cost)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1377,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1375,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1374,columnNumber:21},void 0),e.jsxDEV("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:new Date(f.created_at).toLocaleDateString("ko-KR")},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1380,columnNumber:21},void 0),e.jsxDEV("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-sm text-center",children:e.jsxDEV("div",{className:"flex items-center justify-center gap-2",children:[e.jsxDEV("button",{onClick:()=>T(f.id),className:"text-gray-600 hover:text-gray-900 transition-colors",title:"",children:e.jsxDEV(Mc,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1390,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1385,columnNumber:25},void 0),e.jsxDEV("button",{onClick:()=>oe(f.id),className:"text-gray-400 hover:text-red-600 transition-colors",title:"",children:e.jsxDEV(Vt,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1397,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1392,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1384,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1383,columnNumber:21},void 0)]},f.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1356,columnNumber:19},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1354,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1343,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1342,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1338,columnNumber:9},void 0),c==="settings"&&e.jsxDEV("div",{className:"bg-white rounded-lg border border-gray-200 p-4 md:p-6",children:[e.jsxDEV("h2",{className:"text-base md:text-lg font-semibold text-gray-800 mb-6",children:"   "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1411,columnNumber:11},void 0),e.jsxDEV("div",{className:"space-y-6",children:[e.jsxDEV("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg mb-6",children:e.jsxDEV("p",{className:"text-sm text-gray-700",children:[e.jsxDEV("strong",{children:" :"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1418,columnNumber:17},void 0),"   ~   .        ."]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1417,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1416,columnNumber:13},void 0),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6 border-b pb-6",children:[e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"text-md font-semibold text-gray-700 mb-4",children:" ()"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1426,columnNumber:17},void 0),e.jsxDEV("div",{className:"space-y-3",children:["","","","","600 ","800-900 ","1200 "].map(f=>{var V,h;return e.jsxDEV("div",{className:"space-y-1",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700",children:f},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1430,columnNumber:23},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("input",{type:"number",placeholder:"",value:((V=p.floor[f])==null?void 0:V.min)||"",onChange:M=>y("floor",f,"min",M.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1432,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-gray-500 text-sm",children:"~"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1439,columnNumber:25},void 0),e.jsxDEV("input",{type:"number",placeholder:"",value:((h=p.floor[f])==null?void 0:h.max)||"",onChange:M=>y("floor",f,"max",M.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1440,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1431,columnNumber:23},void 0)]},f,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1429,columnNumber:21},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1427,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1425,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"text-md font-semibold text-gray-700 mb-4",children:"/ ()"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1455,columnNumber:17},void 0),e.jsxDEV("div",{className:"space-y-3",children:["","()","()","()","","","","","()+()"].map(f=>{var V,h;return e.jsxDEV("div",{className:"space-y-1",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700",children:f},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1459,columnNumber:23},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("input",{type:"number",placeholder:"",value:((V=p.wall[f])==null?void 0:V.min)||"",onChange:M=>y("wall",f,"min",M.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1461,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-gray-500 text-sm",children:"~"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1468,columnNumber:25},void 0),e.jsxDEV("input",{type:"number",placeholder:"",value:((h=p.wall[f])==null?void 0:h.max)||"",onChange:M=>y("wall",f,"max",M.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1469,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1460,columnNumber:23},void 0)]},f,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1458,columnNumber:21},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1456,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1454,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"text-md font-semibold text-gray-700 mb-4",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1484,columnNumber:17},void 0),e.jsxDEV("div",{className:"space-y-3",children:[["",""].map(f=>{var V,h;return e.jsxDEV("div",{className:"space-y-1",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700",children:["(",f,")"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1488,columnNumber:23},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("input",{type:"number",placeholder:"",value:((V=p.furniture[`(${f})`])==null?void 0:V.min)||"",onChange:M=>y("furniture",`(${f})`,"min",M.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1490,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-gray-500 text-sm",children:"~"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1497,columnNumber:25},void 0),e.jsxDEV("input",{type:"number",placeholder:"",value:((h=p.furniture[`(${f})`])==null?void 0:h.max)||"",onChange:M=>y("furniture",`(${f})`,"max",M.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1498,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1489,columnNumber:23},void 0)]},f,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1487,columnNumber:21},void 0)}),[" BLUM()","()+()"," BLUM()+()"].map(f=>{var V,h;return e.jsxDEV("div",{className:"space-y-1",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700",children:f},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1510,columnNumber:23},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("input",{type:"number",placeholder:"",value:((V=p.furniture[f])==null?void 0:V.min)||"",onChange:M=>y("furniture",f,"min",M.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1512,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-gray-500 text-sm",children:"~"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1519,columnNumber:25},void 0),e.jsxDEV("input",{type:"number",placeholder:"",value:((h=p.furniture[f])==null?void 0:h.max)||"",onChange:M=>y("furniture",f,"max",M.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1520,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1511,columnNumber:23},void 0)]},f,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1509,columnNumber:21},void 0)})]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1485,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1483,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"text-md font-semibold text-gray-700 mb-4",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1535,columnNumber:17},void 0),e.jsxDEV("div",{className:"space-y-3",children:["","","","",""].map(f=>{var V,h;return e.jsxDEV("div",{className:"space-y-1",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700",children:f},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1539,columnNumber:23},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("input",{type:"number",placeholder:"",value:((V=p.countertop[f])==null?void 0:V.min)||"",onChange:M=>y("countertop",f,"min",M.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1541,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-gray-500 text-sm",children:"~"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1548,columnNumber:25},void 0),e.jsxDEV("input",{type:"number",placeholder:"",value:((h=p.countertop[f])==null?void 0:h.max)||"",onChange:M=>y("countertop",f,"max",M.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1549,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1540,columnNumber:23},void 0)]},f,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1538,columnNumber:21},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1536,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1534,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"text-md font-semibold text-gray-700 mb-4",children:"/ ()"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1564,columnNumber:17},void 0),e.jsxDEV("div",{className:"space-y-3",children:["()","()"," "," "].map(f=>{var V,h;return e.jsxDEV("div",{className:"space-y-1",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700",children:f},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1568,columnNumber:23},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("input",{type:"number",placeholder:"",value:((V=p.switch[f])==null?void 0:V.min)||"",onChange:M=>y("switch",f,"min",M.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1570,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-gray-500 text-sm",children:"~"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1577,columnNumber:25},void 0),e.jsxDEV("input",{type:"number",placeholder:"",value:((h=p.switch[f])==null?void 0:h.max)||"",onChange:M=>y("switch",f,"max",M.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1578,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1569,columnNumber:23},void 0)]},f,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1567,columnNumber:21},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1565,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1563,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1423,columnNumber:13},void 0),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6 border-b pb-6",children:[e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"text-md font-semibold text-gray-700 mb-4",children:" ()"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1596,columnNumber:17},void 0),e.jsxDEV("div",{className:"space-y-3",children:["","","()","()","()"].map(f=>{var V,h;return e.jsxDEV("div",{className:"space-y-1",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700",children:f},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1600,columnNumber:23},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("input",{type:"number",placeholder:"",value:((V=p.lighting[f])==null?void 0:V.min)||"",onChange:M=>y("lighting",f,"min",M.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1602,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-gray-500 text-sm",children:"~"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1609,columnNumber:25},void 0),e.jsxDEV("input",{type:"number",placeholder:"",value:((h=p.lighting[f])==null?void 0:h.max)||"",onChange:M=>y("lighting",f,"max",M.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1610,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1601,columnNumber:23},void 0)]},f,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1599,columnNumber:21},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1597,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1595,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"text-md font-semibold text-gray-700 mb-4",children:" ()"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1625,columnNumber:17},void 0),e.jsxDEV("div",{className:"space-y-3",children:["LED","T3 "].map(f=>{var V,h;return e.jsxDEV("div",{className:"space-y-1",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700",children:f},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1629,columnNumber:23},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("input",{type:"number",placeholder:"",value:((V=p.indirectLighting[f])==null?void 0:V.min)||"",onChange:M=>y("indirectLighting",f,"min",M.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1631,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-gray-500 text-sm",children:"~"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1638,columnNumber:25},void 0),e.jsxDEV("input",{type:"number",placeholder:"",value:((h=p.indirectLighting[f])==null?void 0:h.max)||"",onChange:M=>y("indirectLighting",f,"max",M.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1639,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1630,columnNumber:23},void 0)]},f,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1628,columnNumber:21},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1626,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1624,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"text-md font-semibold text-gray-700 mb-4",children:" ()"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1654,columnNumber:17},void 0),e.jsxDEV("div",{className:"space-y-3",children:["+","+","+","+"].map(f=>{var V,h;return e.jsxDEV("div",{className:"space-y-1",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700",children:f},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1658,columnNumber:23},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("input",{type:"number",placeholder:"",value:((V=p.molding[f])==null?void 0:V.min)||"",onChange:M=>y("molding",f,"min",M.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1660,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-gray-500 text-sm",children:"~"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1667,columnNumber:25},void 0),e.jsxDEV("input",{type:"number",placeholder:"",value:((h=p.molding[f])==null?void 0:h.max)||"",onChange:M=>y("molding",f,"max",M.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1668,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1659,columnNumber:23},void 0)]},f,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1657,columnNumber:21},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1655,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1653,columnNumber:15},void 0),e.jsxDEV("div",{},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1681,columnNumber:15},void 0)," ",e.jsxDEV("div",{},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1682,columnNumber:15},void 0)," "]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1593,columnNumber:13},void 0),e.jsxDEV("div",{className:"border-b pb-6",children:[e.jsxDEV("h3",{className:"text-md font-semibold text-gray-700 mb-4",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1687,columnNumber:15},void 0),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6",children:[e.jsxDEV("div",{children:[e.jsxDEV("h4",{className:"text-sm font-semibold text-gray-600 mb-3",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1690,columnNumber:19},void 0),e.jsxDEV("div",{className:"space-y-3",children:["SMC","",""].map(f=>{var V,h;return e.jsxDEV("div",{className:"space-y-1",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700",children:f},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1694,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("input",{type:"number",placeholder:"",value:((V=p.bathroom.ceiling[f])==null?void 0:V.min)||"",onChange:M=>O("ceiling",f,"min",M.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1696,columnNumber:27},void 0),e.jsxDEV("span",{className:"text-gray-500 text-sm",children:"~"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1703,columnNumber:27},void 0),e.jsxDEV("input",{type:"number",placeholder:"",value:((h=p.bathroom.ceiling[f])==null?void 0:h.max)||"",onChange:M=>O("ceiling",f,"max",M.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1704,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1695,columnNumber:25},void 0)]},f,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1693,columnNumber:23},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1691,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1689,columnNumber:17},void 0),e.jsxDEV("div",{children:[e.jsxDEV("h4",{className:"text-sm font-semibold text-gray-600 mb-3",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1717,columnNumber:19},void 0),e.jsxDEV("div",{className:"space-y-3",children:["",""].map(f=>{var V,h;return e.jsxDEV("div",{className:"space-y-1",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700",children:f},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1721,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("input",{type:"number",placeholder:"",value:((V=p.bathroom.faucet[f])==null?void 0:V.min)||"",onChange:M=>O("faucet",f,"min",M.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1723,columnNumber:27},void 0),e.jsxDEV("span",{className:"text-gray-500 text-sm",children:"~"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1730,columnNumber:27},void 0),e.jsxDEV("input",{type:"number",placeholder:"",value:((h=p.bathroom.faucet[f])==null?void 0:h.max)||"",onChange:M=>O("faucet",f,"max",M.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1731,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1722,columnNumber:25},void 0)]},f,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1720,columnNumber:23},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1718,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1716,columnNumber:17},void 0),e.jsxDEV("div",{children:[e.jsxDEV("h4",{className:"text-sm font-semibold text-gray-600 mb-3",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1744,columnNumber:19},void 0),e.jsxDEV("div",{className:"space-y-3",children:["()","()","()"].map(f=>{var V,h;return e.jsxDEV("div",{className:"space-y-1",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700",children:f},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1748,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("input",{type:"number",placeholder:"",value:((V=p.bathroom.tile[f])==null?void 0:V.min)||"",onChange:M=>O("tile",f,"min",M.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1750,columnNumber:27},void 0),e.jsxDEV("span",{className:"text-gray-500 text-sm",children:"~"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1757,columnNumber:27},void 0),e.jsxDEV("input",{type:"number",placeholder:"",value:((h=p.bathroom.tile[f])==null?void 0:h.max)||"",onChange:M=>O("tile",f,"max",M.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1758,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1749,columnNumber:25},void 0)]},f,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1747,columnNumber:23},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1745,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1743,columnNumber:17},void 0),e.jsxDEV("div",{children:[e.jsxDEV("h4",{className:"text-sm font-semibold text-gray-600 mb-3",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1771,columnNumber:19},void 0),e.jsxDEV("div",{className:"space-y-3",children:["600()","600()","750x1500","","300x600()+300()","600x1200 or 800()"].map(f=>{var V,h;return e.jsxDEV("div",{className:"space-y-1",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700",children:f},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1775,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("input",{type:"number",placeholder:"",value:((V=p.bathroom.tile[f])==null?void 0:V.min)||"",onChange:M=>O("tile",f,"min",M.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1777,columnNumber:27},void 0),e.jsxDEV("span",{className:"text-gray-500 text-sm",children:"~"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1784,columnNumber:27},void 0),e.jsxDEV("input",{type:"number",placeholder:"",value:((h=p.bathroom.tile[f])==null?void 0:h.max)||"",onChange:M=>O("tile",f,"max",M.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1785,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1776,columnNumber:25},void 0)]},f,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1774,columnNumber:23},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1772,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1770,columnNumber:17},void 0),e.jsxDEV("div",{children:[e.jsxDEV("h4",{className:"text-sm font-semibold text-gray-600 mb-3",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1798,columnNumber:19},void 0),e.jsxDEV("div",{className:"space-y-3",children:["( )","()",""].map(f=>{var V,h;return e.jsxDEV("div",{className:"space-y-1",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700",children:f},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1802,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("input",{type:"number",placeholder:"",value:((V=p.bathroom.grout[f])==null?void 0:V.min)||"",onChange:M=>O("grout",f,"min",M.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1804,columnNumber:27},void 0),e.jsxDEV("span",{className:"text-gray-500 text-sm",children:"~"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1811,columnNumber:27},void 0),e.jsxDEV("input",{type:"number",placeholder:"",value:((h=p.bathroom.grout[f])==null?void 0:h.max)||"",onChange:M=>O("grout",f,"max",M.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1812,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1803,columnNumber:25},void 0)]},f,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1801,columnNumber:23},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1799,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1797,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1688,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1686,columnNumber:13},void 0),e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"text-md font-semibold text-gray-700 mb-4",children:"   "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1829,columnNumber:15},void 0),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-x-6 gap-y-3",children:[{label:"  ()",key:"livingRoom"},{label:"  ()",key:"kitchen"},{label:"  ()",key:"room"},{label:"  ()",key:"sash"},{label:"  ()",key:"grooving"},{label:"  ()",key:"bangtong"},{label:" (2 in 1) - 1",key:"aircon2in1"},{label:" () - 1",key:"airconSystem"}].map(f=>{var V,h;return e.jsxDEV("div",{className:"space-y-1",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700",children:f.label},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1842,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("input",{type:"number",placeholder:"",value:((V=p.expansion[f.key])==null?void 0:V.min)||"",onChange:M=>y("expansion",f.key,"min",M.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1844,columnNumber:23},void 0),e.jsxDEV("span",{className:"text-gray-500 text-sm",children:"~"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1851,columnNumber:23},void 0),e.jsxDEV("input",{type:"number",placeholder:"",value:((h=p.expansion[f.key])==null?void 0:h.max)||"",onChange:M=>y("expansion",f.key,"max",M.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1852,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1843,columnNumber:21},void 0)]},f.key,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1841,columnNumber:19},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1830,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1828,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1415,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1410,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:497,columnNumber:5},void 0)},Q0="HVLabImageDB",Z0=1,Qs="paymentRecordImages";let Mr=null;const co=()=>new Promise((s,n)=>{if(Mr){s(Mr);return}const t=indexedDB.open(Q0,Z0);t.onerror=()=>{console.error("IndexedDB  :",t.error),n(t.error)},t.onsuccess=()=>{Mr=t.result,s(Mr)},t.onupgradeneeded=r=>{const i=r.target.result;i.objectStoreNames.contains(Qs)||i.createObjectStore(Qs,{keyPath:"id"})}}),uc=async()=>{try{const s=await co();return new Promise((n,t)=>{const a=s.transaction(Qs,"readonly").objectStore(Qs).getAll();a.onsuccess=()=>{const o={};a.result.forEach(m=>{o[m.id]=m.images}),n(o)},a.onerror=()=>{console.error("  :",a.error),t(a.error)}})}catch(s){console.error("IndexedDB , localStorage :",s);const n=localStorage.getItem("paymentRecordImages");return n?JSON.parse(n):{}}},pc=async(s,n)=>{try{const t=await co();return new Promise((r,i)=>{const m=t.transaction(Qs,"readwrite").objectStore(Qs).put({id:s,images:n});m.onsuccess=()=>r(),m.onerror=()=>{console.error("  :",m.error),i(m.error)}})}catch(t){throw console.error("IndexedDB  :",t),t}},ey=async s=>{try{const n=await co();return new Promise((t,r)=>{const i=n.transaction(Qs,"readwrite"),a=i.objectStore(Qs);a.clear(),Object.entries(s).forEach(([o,m])=>{a.put({id:o,images:m})}),i.oncomplete=()=>t(),i.onerror=()=>{console.error("  :",i.error),r(i.error)}})}catch(n){throw console.error("IndexedDB   :",n),n}},fc=async()=>{try{const s=localStorage.getItem("paymentRecordImages");if(s){const n=JSON.parse(s);Object.keys(n).length>0&&(await ey(n),localStorage.removeItem("paymentRecordImages"),console.log("localStorage IndexedDB  "))}}catch(s){console.error(" :",s)}},Ir=["","","/","","","","","","","","","","","","",""],ty=()=>{const{payments:s,executionRecords:n,loadPaymentsFromAPI:t,loadExecutionRecordsFromAPI:r,addExecutionRecordToAPI:i,deleteExecutionRecordFromAPI:a,updateExecutionRecordInAPI:o,updatePaymentInAPI:m,deletePaymentFromAPI:d}=vs(),{user:c}=Qt(),u=fs();if(!c)return e.jsxDEV(mi,{to:"/login",replace:!0},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:113,columnNumber:12},void 0);const[g,b]=l.useState(""),[p,w]=l.useState(null),[k,j]=l.useState(!1),[B,y]=l.useState(!1),[O,ge]=l.useState(!1),[ee,Y]=l.useState(!1),[de,T]=l.useState(!1),[oe,re]=l.useState(""),[Z,X]=l.useState("form"),[be,we]=l.useState(!1),[Me,Ve]=l.useState(!1),Ee=l.useRef(null),[_e,Ue]=l.useState(!1),[Oe,fe]=l.useState(null),[He,De]=l.useState({process:"",itemName:"",materialCost:"",laborCost:"",date:""}),[Be,Re]=l.useState(null),[Ke,ze]=l.useState([]),[qe,S]=l.useState({}),[ue,xe]=l.useState(!1),[te,q]=l.useState(()=>{const N=localStorage.getItem("hiddenPaymentIds");return N?JSON.parse(N):[]}),G=()=>{const N=localStorage.getItem("lastSelectedProject"),_=u.filter(H=>H.status!=="completed");return N&&_.some(H=>H.name===N)?N:_.length>0?_[0].name:""},[z,ye]=l.useState({project:"",date:Le(new Date,"yyyy-MM-dd"),process:"",itemName:"",materialCost:"",laborCost:"",images:[],quickText:"",quickImages:[]}),[Se,I]=l.useState(!1),[ae,E]=l.useState(()=>{const N=localStorage.getItem("executionMemos");return N?JSON.parse(N):{}}),[W,J]=l.useState(null),[pe,ve]=l.useState(""),[P,C]=l.useState("");l.useEffect(()=>{t().catch(_=>{console.error("Failed to load payments:",_)}),r().catch(_=>{console.error("Failed to load execution records:",_)});const N=()=>{we(window.innerWidth<768)};if(N(),window.addEventListener("resize",N),u.length>0&&!z.project){const _=G();_&&(ye(H=>({...H,project:_})),localStorage.setItem("lastSelectedProject",_))}return()=>window.removeEventListener("resize",N)},[t,r,u]),l.useEffect(()=>{(async()=>{try{await fc();const _=await uc();S(_),xe(!0)}catch(_){console.error("  :",_),xe(!0)}})()},[]);const L=l.useRef({});l.useEffect(()=>{ue&&(Object.entries(qe).forEach(([N,_])=>{JSON.stringify(L.current[N])!==JSON.stringify(_)&&pc(N,_).catch(H=>{console.error("  :",H),R.error("  ")})}),L.current={...qe})},[qe,ue]),l.useEffect(()=>{localStorage.setItem("hiddenPaymentIds",JSON.stringify(te))},[te]),l.useEffect(()=>{localStorage.setItem("executionMemos",JSON.stringify(ae))},[ae]),l.useEffect(()=>{if(z.itemName&&z.itemName.trim().length>=1){const N=z.itemName.trim().toLowerCase(),_=[...n].sort((K,$)=>new Date($.date).getTime()-new Date(K.date).getTime()).map(K=>K.itemName).filter(K=>K&&K.toLowerCase().includes(N)),H=Array.from(new Set(_));ze(H.slice(0,10))}else ze([])},[z.itemName,n]);const f=l.useCallback(N=>{var K;const _=(K=N.clipboardData)==null?void 0:K.items;if(!_)return;const H=[];for(let $=0;$<_.length;$++)if(_[$].type.indexOf("image")!==-1){N.preventDefault();const Ne=_[$].getAsFile();Ne&&H.push(Ne)}H.length!==0&&Promise.all(H.map($=>new Promise((Ne,v)=>{const se=new FileReader;se.onload=ce=>{var Ie;const Ae=(Ie=ce.target)==null?void 0:Ie.result;Ne(Ae)},se.onerror=v,se.readAsDataURL($)}))).then(async $=>{if(!p){ye(v=>({...v,quickImages:[...v.quickImages,...$]})),R.success(`${$.length}   `);return}const Ne=n.find(v=>v.id===p);if(Ne){const v=[...Ne.images||[],...$];try{await o(p,{images:v}),R.success(`${$.length}  `)}catch(se){console.error("  :",se),R.error("  ")}}else{const v=qe[p]||[];S(se=>({...se,[p]:[...v,...$]})),R.success(`${$.length}  `)}}).catch($=>{console.error("   :",$),R.error("    ")})},[p,ye,qe,n,o]);l.useEffect(()=>(document.addEventListener("paste",f),()=>document.removeEventListener("paste",f)),[f]);const V=u.map(N=>N.name);console.log("[ExecutionHistory] payments :",s.length,""),console.log("[ExecutionHistory]   payments:",s.filter(N=>N.images&&N.images.length>0).map(N=>{var _;return{id:N.id,imagesCount:(_=N.images)==null?void 0:_.length}})),console.log("[ExecutionHistory] paymentRecordImages :",Object.keys(qe).length," ",Object.entries(qe).slice(0,3).map(([N,_])=>({id:N,count:_==null?void 0:_.length})));const h=s.filter(N=>{const _=N.status==="approved"||N.status==="completed",H=!n.some(Ne=>Ne.paymentId===N.id),K=!te.includes(N.id),$=(c==null?void 0:c.name)!==""||V.includes(N.project);return _&&H&&K&&$}).map(N=>{const _=N.materialAmount||0,H=N.laborAmount||0,K=N.amount||0;let $=_,Ne=H,v=0;return _===0&&H===0&&K>0?N.includesVAT?($=Math.round(K/1.1),v=K-$):($=K,v=0):N.includesVAT?(_>0&&($=Math.round(_/1.1)),H>0&&(Ne=Math.round(H/1.1)),v=K-($+Ne)):v=0,{id:N.id,type:"payment",project:N.project,author:N.requestedBy||"-",date:N.requestDate,process:N.process||"-",itemName:N.itemName||N.purpose||"-",materialCost:$,laborCost:Ne,vatAmount:v,totalAmount:K,images:N.images&&N.images.length>0?N.images:qe[N.id]||[],notes:N.notes,quickText:N.quickText||""}}),M=h.filter(N=>N.images&&N.images.length>0);M.length>0&&console.log("[ExecutionHistory]   paymentRecords:",M.map(N=>({id:N.id,imagesCount:N.images.length})));const ke=n.filter(N=>(c==null?void 0:c.name)!==""||V.includes(N.project)).map(N=>({...N,type:"manual"})),Ce=[...h,...ke].sort((N,_)=>new Date(_.date).getTime()-new Date(N.date).getTime()),Te=Ce.filter(N=>{var K,$;const _=z.project===""||N.project===z.project,H=g===""||((K=N.itemName)==null?void 0:K.toLowerCase().includes(g.toLowerCase()))||(($=N.process)==null?void 0:$.toLowerCase().includes(g.toLowerCase()));return _&&H}),Fe=Te.reduce((N,_)=>(N.material+=_.materialCost||0,N.labor+=_.laborCost||0,N.vat+=_.vatAmount||0,N.total+=_.totalAmount||0,N),{material:0,labor:0,vat:0,total:0}),at=()=>{const N=z.quickText;if(!N.trim()){R.error("  ");return}const _=N.match(/[\d,]+/g),H=_?_.map(ce=>parseInt(ce.replace(/,/g,""),10)).filter(ce=>ce>0):[];let K="";for(const ce of Ir)if(N.includes(ce)){K=ce;break}const $=N.split(`
`).filter(ce=>ce.trim());let Ne="";if($.length>0)for(const ce of $){const Ae=ce.trim();if(Ae&&!/^[\d,\s]+$/.test(Ae)){Ne=Ae.substring(0,50);break}}let v="",se="";if(H.length>0){const ce=[...H].sort((Ae,Ie)=>Ie-Ae);v=String(ce[0]),ce.length>1&&(se=String(ce[1]))}ye(ce=>({...ce,process:K||ce.process,itemName:Ne||ce.itemName,materialCost:v||ce.materialCost,laborCost:se||ce.laborCost,images:[...ce.images,...ce.quickImages],quickText:"",quickImages:[]})),R.success("  ")},et=async()=>{if(Se)return;if(!z.project){R.error(" ");return}I(!0);const N=new Date;let _=Number(z.materialCost)||0,H=Number(z.laborCost)||0,K=0,$=0;if(B){const v=_+H,se=Math.round(v/1.1);if(K=v-se,v>0){const ce=_/v,Ae=H/v;_=Math.round(se*ce),H=Math.round(se*Ae)}$=v}else K=0,$=_+H;const Ne={id:`exec_${Date.now()}`,project:z.project,author:(c==null?void 0:c.name)||"  ",date:new Date(z.date),process:z.process,itemName:z.itemName,materialCost:_,laborCost:H,vatAmount:K,totalAmount:$,images:z.images,notes:"",createdAt:N,updatedAt:N};try{const v=await i(Ne);R.success(" "),ye(se=>({project:se.project,date:Le(new Date,"yyyy-MM-dd"),process:"",itemName:"",materialCost:"",laborCost:"",images:[],quickText:"",quickImages:[]})),y(!1),ge(!1),be&&(w(v.id),X("list"))}catch(v){console.error("  :",v),R.error("  ")}finally{I(!1)}},Ze=(N,_)=>{_.stopPropagation(),Re(null),fe(N),ye(H=>({...H,project:N.project||H.project,date:Le(new Date(N.date),"yyyy-MM-dd"),process:N.process||"",itemName:N.itemName,materialCost:N.materialCost||0,laborCost:N.laborCost||0,images:N.images||[],quickText:"",quickImages:[]})),w(N.id),be&&X("form")},ct=()=>{fe(null),ye(N=>({...N,date:Le(new Date,"yyyy-MM-dd"),process:"",itemName:"",materialCost:"",laborCost:"",images:[],quickText:"",quickImages:[]}))},Nt=async()=>{if(Oe)try{const N=Number(z.materialCost)||0,_=Number(z.laborCost)||0,H=N+_;let K=Oe.notes||"";z.quickText.trim()&&(K=K?`${K}
${z.quickText.trim()}`:z.quickText.trim());const Ne=[...Oe.images||[],...z.quickImages];if(Oe.type==="payment"){const v=s.find(se=>se.id===Oe.id);if(!v)throw new Error("   ");await m(Oe.id,{...v,process:z.process,itemName:z.itemName,materialAmount:N,laborAmount:_,amount:H,requestDate:z.date}),await t()}else await o(Oe.id,{project:z.project||Oe.project,author:Oe.author,process:z.process,itemName:z.itemName,materialCost:N,laborCost:_,totalAmount:H,date:new Date(z.date),notes:K,images:Ne,paymentId:Oe.paymentId}),await r();R.success(""),fe(null),ye(v=>({...v,date:Le(new Date,"yyyy-MM-dd"),process:"",itemName:"",materialCost:"",laborCost:"",images:[],quickText:"",quickImages:[]}))}catch(N){console.error(" :",N),R.error(" ")}},ut=async(N,_)=>{_.stopPropagation(),Re(null);const H=Ce.find(K=>K.id===N);if(confirm(" ?"))try{(H==null?void 0:H.type)==="payment"?(await d(N),R.success(" ")):(await a(N),R.success(" ")),p===N&&w(null)}catch(K){console.error(" :",K),R.error(" ")}},pt=()=>{const N={};return Te.forEach(_=>{const H=_.process||"";N[H]||(N[H]={materialCost:0,laborCost:0,vatAmount:0,totalAmount:0}),N[H].materialCost+=_.materialCost||0,N[H].laborCost+=_.laborCost||0,N[H].vatAmount+=_.vatAmount||0,N[H].totalAmount+=_.totalAmount||0}),Object.entries(N).sort((_,H)=>H[1].totalAmount-_[1].totalAmount)},dt=N=>{var _;try{if(!p){R.error("  ");return}const H=Array.from(((_=N.target)==null?void 0:_.files)||[]);if(H.length===0)return;const K=H.filter(Ne=>Ne.type.startsWith("image/"));if(K.length===0){R.error("  ");return}K.filter(Ne=>Ne.size>10*1024*1024).length>0&&R.error("10MB       "),Promise.all(K.map(Ne=>new Promise((v,se)=>{try{const ce=new FileReader;ce.onload=Ae=>{var Ye;const Ie=(Ye=Ae.target)==null?void 0:Ye.result;Ie?v(Ie):se(new Error("  "))},ce.onerror=()=>se(new Error("FileReader ")),ce.readAsDataURL(Ne)}catch(ce){se(ce)}}))).then(async Ne=>{const v=n.find(se=>se.id===p);if(v){const ce=[...v.images||[],...Ne];try{await o(p,{images:ce}),R.success(`${Ne.length}  `)}catch(Ae){console.error("  :",Ae),R.error("  ")}}else{const se=qe[p]||[];S(ce=>({...ce,[p]:[...se,...Ne]})),R.success(`${Ne.length}  `)}}).catch(Ne=>{console.error("   :",Ne),R.error("    ")}),N.target.value=""}catch(H){console.error("    :",H),R.error("    ")}},bt=async N=>{var H;if(!p)return;const _=n.find(K=>K.id===p);if(_){const K=((H=_.images)==null?void 0:H.filter(($,Ne)=>Ne!==N))||[];try{await o(p,{images:K})}catch($){console.error("  :",$)}}else S(K=>{var $;return{...K,[p]:(($=K[p])==null?void 0:$.filter((Ne,v)=>v!==N))||[]}})},Ct=N=>{re(N),T(!0)},vt=N=>{N.preventDefault(),j(!0)},A=N=>{N.preventDefault(),j(!1)},Q=N=>{if(N.preventDefault(),j(!1),!p){R.error("  ");return}const H=Array.from(N.dataTransfer.files).filter(K=>K.type.startsWith("image/"));H.length!==0&&Promise.all(H.map(K=>new Promise(($,Ne)=>{const v=new FileReader;v.onload=se=>{var Ae;const ce=(Ae=se.target)==null?void 0:Ae.result;$(ce)},v.onerror=Ne,v.readAsDataURL(K)}))).then(async K=>{const $=n.find(Ne=>Ne.id===p);if($){const Ne=[...$.images||[],...K];try{await o(p,{images:Ne})}catch(v){console.error("  :",v)}}else S(Ne=>({...Ne,[p]:[...Ne[p]||[],...K]}));R.success(`${K.length}  `)}).catch(K=>{console.error("   :",K),R.error("    ")})};return e.jsxDEV("div",{className:"space-y-3 md:space-y-4",children:[e.jsxDEV("div",{className:"md:hidden mb-4",children:e.jsxDEV("select",{value:z.project,onChange:N=>{ye({...z,project:N.target.value}),N.target.value&&localStorage.setItem("lastSelectedProject",N.target.value)},className:"w-full px-3 py-2.5 md:py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 bg-white cursor-pointer hover:border-gray-400 transition-colors appearance-none bg-[url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20fill%3D%22none%22%20viewBox%3D%220%200%2020%2020%22%3E%3Cpath%20stroke%3D%22%236b7280%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%221.5%22%20d%3D%22M6%208l4%204%204-4%22%2F%3E%3C%2Fsvg%3E')] bg-[length:1.5em_1.5em] bg-[right_0.5rem_center] bg-no-repeat pr-10",children:u.filter(N=>N.status!=="completed").map(N=>e.jsxDEV("option",{value:N.name,children:N.name},N.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:988,columnNumber:13},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:977,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:976,columnNumber:7},void 0),e.jsxDEV("div",{className:"md:hidden border-b border-gray-200 mb-4",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:e.jsxDEV("nav",{className:"flex space-x-4",children:[e.jsxDEV("button",{onClick:()=>X("form"),className:`py-2 px-1 border-b-2 font-medium text-sm ${Z==="form"?"border-gray-900 text-gray-900":"border-transparent text-gray-500"}`,children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:997,columnNumber:13},void 0),e.jsxDEV("button",{onClick:()=>X("list"),className:`py-2 px-1 border-b-2 font-medium text-sm ${Z==="list"?"border-gray-900 text-gray-900":"border-transparent text-gray-500"}`,children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1007,columnNumber:13},void 0),e.jsxDEV("button",{onClick:()=>X("image"),className:`py-2 px-1 border-b-2 font-medium text-sm ${Z==="image"?"border-gray-900 text-gray-900":"border-transparent text-gray-500"}`,children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1017,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:996,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:995,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:994,columnNumber:7},void 0),e.jsxDEV("div",{className:"execution-container grid grid-cols-1 md:grid-cols-6 ipad:grid-cols-6 ipad-lg:grid-cols-6 ipad-xl:grid-cols-12 ipad-2xl:grid-cols-12 gap-3 md:gap-4 md:h-[calc(100vh-120px)]",children:[e.jsxDEV("div",{className:`execution-form md:col-span-2 ipad:col-span-2 ipad-lg:col-span-2 ipad-xl:col-span-2 ipad-2xl:col-span-2 bg-white rounded-lg border p-3 md:p-4 overflow-y-auto ${Z!=="form"?"hidden md:block":""}`,children:e.jsxDEV("div",{className:"execution-form-inner space-y-4 w-full",children:[e.jsxDEV("div",{className:"exec-project hidden md:block",children:e.jsxDEV("select",{value:z.project,onChange:N=>{ye({...z,project:N.target.value}),N.target.value&&localStorage.setItem("lastSelectedProject",N.target.value)},className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 bg-white cursor-pointer hover:border-gray-400 transition-colors appearance-none bg-[url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20fill%3D%22none%22%20viewBox%3D%220%200%2020%2020%22%3E%3Cpath%20stroke%3D%22%236b7280%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%221.5%22%20d%3D%22M6%208l4%204%204-4%22%2F%3E%3C%2Fsvg%3E')] bg-[length:1.5em_1.5em] bg-[right_0.5rem_center] bg-no-repeat pr-10",children:u.filter(N=>N.status!=="completed").map(N=>e.jsxDEV("option",{value:N.name,children:N.name},N.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1054,columnNumber:19},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1041,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1040,columnNumber:13},void 0),e.jsxDEV("div",{className:"exec-quick-input",children:[e.jsxDEV("textarea",{value:z.quickText,onChange:N=>ye({...z,quickText:N.target.value}),onPaste:N=>{var H;const _=(H=N.clipboardData)==null?void 0:H.items;if(_){for(let K=0;K<_.length;K++)if(_[K].type.indexOf("image")!==-1){N.preventDefault();const $=_[K].getAsFile();if($){const Ne=new FileReader;Ne.onload=v=>{var ce;const se=(ce=v.target)==null?void 0:ce.result;ye(Ae=>({...Ae,quickImages:[...Ae.quickImages,se]}))},Ne.readAsDataURL($)}break}}},onDragOver:N=>{N.preventDefault(),N.stopPropagation()},onDrop:N=>{N.preventDefault(),N.stopPropagation(),Array.from(N.dataTransfer.files).filter(K=>K.type.startsWith("image/")).forEach(K=>{const $=new FileReader;$.onload=Ne=>{var se;const v=(se=Ne.target)==null?void 0:se.result;ye(ce=>({...ce,quickImages:[...ce.quickImages,v]}))},$.readAsDataURL(K)})},rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",placeholder:be?"  ":"   (   Ctrl+V)"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1061,columnNumber:15},void 0),z.quickImages.length>0&&e.jsxDEV("div",{className:"mt-2 mb-2 grid grid-cols-3 gap-2",children:z.quickImages.map((N,_)=>e.jsxDEV("div",{className:"relative group",children:[e.jsxDEV("img",{src:N,alt:` ${_+1}`,className:"w-full h-20 object-cover rounded-lg border"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1116,columnNumber:23},void 0),e.jsxDEV("button",{type:"button",onClick:()=>{ye(H=>({...H,quickImages:H.quickImages.filter((K,$)=>$!==_)}))},className:"absolute top-1 right-1 w-5 h-5 bg-red-500 text-white rounded-full flex items-center justify-center text-xs opacity-0 group-hover:opacity-100 transition-opacity",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1121,columnNumber:23},void 0)]},_,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1115,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1113,columnNumber:17},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 gap-2 mt-2",children:[e.jsxDEV("label",{className:"cursor-pointer",children:[e.jsxDEV("input",{type:"file",accept:"image/*",multiple:!0,className:"hidden",onChange:N=>{Array.from(N.target.files||[]).forEach(H=>{const K=new FileReader;K.onload=$=>{var v;const Ne=(v=$.target)==null?void 0:v.result;ye(se=>({...se,quickImages:[...se.quickImages,Ne]}))},K.readAsDataURL(H)}),N.target.value=""}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1140,columnNumber:19},void 0),e.jsxDEV("div",{className:"w-full h-10 flex items-center justify-center bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm font-medium border border-gray-300",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1161,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1139,columnNumber:17},void 0),e.jsxDEV("button",{type:"button",onClick:at,className:"h-10 flex items-center justify-center bg-gray-400 text-white rounded-lg hover:bg-gray-500 transition-colors text-sm font-medium",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1165,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1138,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1060,columnNumber:13},void 0),e.jsxDEV("div",{className:"exec-date-process grid grid-cols-2 gap-2",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[" ",z.date&&`(${Le(new Date(z.date),"E",{locale:kt})})`]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1179,columnNumber:17},void 0),e.jsxDEV("input",{type:"date",value:z.date,onChange:N=>ye({...z,date:N.target.value}),className:"w-full px-3 py-2 border rounded-lg bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500 cursor-pointer text-gray-900",style:{WebkitAppearance:"none",MozAppearance:"none",appearance:"none",backgroundColor:"white",backgroundImage:"none"}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1182,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1178,columnNumber:15},void 0),e.jsxDEV("div",{className:"relative",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1199,columnNumber:17},void 0),e.jsxDEV("button",{ref:Ee,type:"button",onClick:()=>Ve(!0),className:"w-full px-3 py-2 border rounded-lg text-left bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500",children:z.process||e.jsxDEV("span",{className:"text-gray-400",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1206,columnNumber:40},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1200,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1198,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1176,columnNumber:13},void 0),e.jsxDEV("div",{className:"exec-item-name relative",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1213,columnNumber:15},void 0),e.jsxDEV("input",{type:"text",value:z.itemName,onChange:N=>ye({...z,itemName:N.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1214,columnNumber:15},void 0),Ke.length>0&&e.jsxDEV("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:Ke.map((N,_)=>e.jsxDEV("button",{type:"button",onClick:()=>{ye({...z,itemName:N}),ze([])},className:"w-full px-3 py-2 text-left hover:bg-gray-50 text-sm",children:e.jsxDEV("div",{className:"font-medium text-gray-900",children:N},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1233,columnNumber:23},void 0)},_,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1224,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1222,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1212,columnNumber:13},void 0),e.jsxDEV("div",{className:"exec-amounts space-y-2",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1243,columnNumber:17},void 0),e.jsxDEV("input",{type:"number",value:z.materialCost,onChange:N=>ye({...z,materialCost:N.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1244,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1242,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1253,columnNumber:17},void 0),e.jsxDEV("input",{type:"number",value:z.laborCost,onChange:N=>ye({...z,laborCost:N.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1254,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1252,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex items-center gap-4",children:[e.jsxDEV("button",{type:"button",className:"flex items-center cursor-pointer",onMouseDown:N=>N.preventDefault(),onClick:()=>{B||ge(!1),y(!B)},children:[e.jsxDEV("div",{className:`h-4 w-4 border rounded flex items-center justify-center ${B?"bg-gray-600 border-gray-600":"border-gray-300"}`,children:B&&e.jsxDEV("span",{className:"text-white text-xs",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1276,columnNumber:36},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1275,columnNumber:19},void 0),e.jsxDEV("span",{className:"ml-2 text-sm text-gray-700",children:"  (10%)"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1278,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1264,columnNumber:17},void 0),e.jsxDEV("button",{type:"button",className:"flex items-center cursor-pointer",onMouseDown:N=>N.preventDefault(),onClick:()=>{O||y(!1),ge(!O)},children:[e.jsxDEV("div",{className:`h-4 w-4 border rounded flex items-center justify-center ${O?"bg-gray-600 border-gray-600":"border-gray-300"}`,children:O&&e.jsxDEV("span",{className:"text-white text-xs",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1294,columnNumber:45},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1293,columnNumber:19},void 0),e.jsxDEV("span",{className:"ml-2 text-sm text-gray-700",children:"3.3% "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1296,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1282,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1263,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1241,columnNumber:13},void 0),e.jsxDEV("div",{className:"exec-total-submit",children:[e.jsxDEV("div",{className:"exec-total pt-2 border-t",children:e.jsxDEV("div",{className:"flex justify-between items-baseline",children:[e.jsxDEV("span",{className:"font-medium",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1308,columnNumber:19},void 0),e.jsxDEV("div",{className:"text-right",children:[(B||O)&&e.jsxDEV("span",{className:"text-xs text-gray-500 mr-2",children:["(",B&&" ",O&&"3.3% ",")"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1311,columnNumber:23},void 0),e.jsxDEV("span",{className:"font-semibold",children:[(()=>{const N=(Number(z.materialCost)||0)+(Number(z.laborCost)||0);return(O?Math.round(N*.967):N).toLocaleString()})(),""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1315,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1309,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1307,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1306,columnNumber:15},void 0),Oe&&e.jsxDEV("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-2 mb-3",children:e.jsxDEV("p",{className:"text-sm text-blue-700 font-medium",children:[" : ",Oe.itemName]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1329,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1328,columnNumber:17},void 0),e.jsxDEV("div",{className:"exec-submit my-6",style:{marginTop:"20px"},children:Oe?e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV("button",{onClick:ct,className:"flex-1 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1337,columnNumber:21},void 0),e.jsxDEV("button",{onClick:Nt,className:"flex-1 py-2 bg-gray-700 text-white rounded-lg hover:bg-gray-800",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1343,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1336,columnNumber:19},void 0):e.jsxDEV("button",{onClick:et,disabled:Se,className:"w-full py-2 bg-gray-900 text-white rounded-lg hover:bg-gray-800 disabled:opacity-50",children:Se?" ...":""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1351,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1334,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1305,columnNumber:13},void 0),e.jsxDEV("div",{className:"exec-summary hidden md:block bg-gray-50 rounded-lg p-3 md:p-4 space-y-2 md:mt-8 lg:mt-[114.67px]",children:[e.jsxDEV("div",{className:"flex justify-between items-center",children:[e.jsxDEV("span",{className:"text-sm text-gray-600",children:" :"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1365,columnNumber:17},void 0),e.jsxDEV("span",{className:"text-sm font-medium text-gray-900",children:[Fe.material.toLocaleString(),""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1366,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1364,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex justify-between items-center",children:[e.jsxDEV("span",{className:"text-sm text-gray-600",children:" :"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1369,columnNumber:17},void 0),e.jsxDEV("span",{className:"text-sm font-medium text-gray-900",children:[Fe.labor.toLocaleString(),""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1370,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1368,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex justify-between items-center",children:[e.jsxDEV("span",{className:"text-sm text-gray-600",children:" :"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1373,columnNumber:17},void 0),e.jsxDEV("span",{className:"text-sm font-medium text-gray-900",children:[Fe.vat.toLocaleString(),""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1374,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1372,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex justify-between items-center pt-2 border-t border-gray-200",style:{marginTop:"10px"},children:[e.jsxDEV("span",{className:"text-sm font-bold text-gray-900",children:" :"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1377,columnNumber:17},void 0),e.jsxDEV("span",{className:"text-base font-bold text-gray-900",children:[Fe.total.toLocaleString(),""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1378,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1376,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1363,columnNumber:13},void 0),e.jsxDEV("div",{className:"exec-search hidden ipad-xl:block mt-4 space-y-2",children:[e.jsxDEV("div",{className:"relative",children:[e.jsxDEV("input",{type:"text",placeholder:"...",value:g,onChange:N=>b(N.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 text-sm"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1385,columnNumber:17},void 0),e.jsxDEV(Xr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1392,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1384,columnNumber:15},void 0),e.jsxDEV("button",{onClick:()=>Y(!0),className:"w-full px-3 py-2 text-sm border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 hover:border-gray-400 transition-all duration-200 font-medium",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1394,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1383,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1038,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1035,columnNumber:9},void 0),e.jsxDEV("div",{className:`execution-list md:col-span-4 ipad:col-span-4 ipad-lg:col-span-4 ipad-xl:col-span-6 ipad-2xl:col-span-6 bg-white rounded-lg border overflow-hidden flex flex-col ${Z!=="list"?"hidden md:flex":""}`,children:[Z==="list"&&e.jsxDEV("div",{className:"md:hidden border-b bg-gray-50 p-2 space-y-2",children:[e.jsxDEV("div",{className:"bg-white rounded-lg px-3 py-2 border text-xs",children:[e.jsxDEV("div",{className:"flex justify-between gap-2",children:[e.jsxDEV("span",{className:"text-gray-500",children:[" ",e.jsxDEV("span",{className:"font-medium text-gray-900",children:Fe.material.toLocaleString()},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1414,columnNumber:55},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1414,columnNumber:19},void 0),e.jsxDEV("span",{className:"text-gray-500",children:[" ",e.jsxDEV("span",{className:"font-medium text-gray-900",children:Fe.labor.toLocaleString()},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1415,columnNumber:55},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1415,columnNumber:19},void 0),e.jsxDEV("span",{className:"text-gray-500",children:[" ",e.jsxDEV("span",{className:"font-medium text-gray-900",children:Fe.vat.toLocaleString()},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1416,columnNumber:55},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1416,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1413,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex justify-between items-center mt-1 pt-1 border-t border-gray-100",children:[e.jsxDEV("span",{className:"font-bold text-gray-900",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1419,columnNumber:19},void 0),e.jsxDEV("span",{className:"font-bold text-gray-900",children:[Fe.total.toLocaleString(),""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1420,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1418,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1412,columnNumber:15},void 0),e.jsxDEV("button",{onClick:()=>Y(!0),className:"w-full py-1.5 text-sm border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1425,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1410,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex-1 overflow-auto",children:Te.length>0?e.jsxDEV(e.Fragment,{children:[e.jsxDEV("table",{className:"hidden md:table w-full",children:[e.jsxDEV("thead",{className:"bg-gray-50 sticky top-0 exec-table-header",children:e.jsxDEV("tr",{className:"text-left text-sm text-gray-700 border-b",children:[e.jsxDEV("th",{className:"px-3 py-3 font-medium exec-th-author",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1442,columnNumber:21},void 0),e.jsxDEV("th",{className:"px-3 py-3 font-medium exec-th-date",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1443,columnNumber:21},void 0),e.jsxDEV("th",{className:"px-3 py-3 font-medium exec-th-process",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1444,columnNumber:21},void 0),e.jsxDEV("th",{className:"px-3 py-3 font-medium exec-th-item",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1445,columnNumber:21},void 0),e.jsxDEV("th",{className:"px-3 py-3 font-medium text-right exec-th-material",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1446,columnNumber:21},void 0),e.jsxDEV("th",{className:"px-3 py-3 font-medium text-right exec-th-labor",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1447,columnNumber:21},void 0),e.jsxDEV("th",{className:"px-3 py-3 font-medium text-right exec-th-vat",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1448,columnNumber:21},void 0),e.jsxDEV("th",{className:"px-3 py-3 font-medium text-right exec-th-total",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1449,columnNumber:21},void 0),e.jsxDEV("th",{className:"px-2 py-3 w-20"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1450,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1441,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1440,columnNumber:17},void 0),e.jsxDEV("tbody",{className:"divide-y divide-gray-200",children:Te.map(N=>e.jsxDEV("tr",{className:`group hover:bg-gray-50 cursor-pointer text-sm ${p===N.id?"bg-blue-50":""}`,onClick:()=>w(N.id),children:[e.jsxDEV("td",{className:"px-3 py-3 text-gray-600 whitespace-nowrap exec-author-col",children:N.author||"-"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1460,columnNumber:23},void 0),e.jsxDEV("td",{className:"px-3 py-3 text-gray-600 exec-date-col",children:[e.jsxDEV("span",{className:"exec-date-full",children:Le(new Date(N.date),"yyyy-MM-dd (EEE)",{locale:kt})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1464,columnNumber:25},void 0),e.jsxDEV("span",{className:"exec-date-short whitespace-nowrap",children:Le(new Date(N.date),"MM-dd (EEE)",{locale:kt})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1465,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1463,columnNumber:23},void 0),e.jsxDEV("td",{className:"px-3 py-3 text-gray-600 exec-process-col",children:N.process||"-"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1467,columnNumber:23},void 0),e.jsxDEV("td",{className:"px-3 py-3 font-medium exec-item-col",children:N.itemName},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1470,columnNumber:23},void 0),e.jsxDEV("td",{className:"px-3 py-3 text-right exec-material-col",children:(N.materialCost||0).toLocaleString()},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1473,columnNumber:23},void 0),e.jsxDEV("td",{className:"px-3 py-3 text-right exec-labor-col",children:(N.laborCost||0).toLocaleString()},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1476,columnNumber:23},void 0),e.jsxDEV("td",{className:"px-3 py-3 text-right exec-vat-col",children:(N.vatAmount||0).toLocaleString()},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1479,columnNumber:23},void 0),e.jsxDEV("td",{className:"px-3 py-3 text-right font-semibold exec-total-col",children:[e.jsxDEV("span",{className:"exec-total-full",children:[(N.totalAmount||0).toLocaleString(),""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1483,columnNumber:25},void 0),e.jsxDEV("span",{className:"exec-total-short",children:(N.totalAmount||0).toLocaleString()},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1484,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1482,columnNumber:23},void 0),e.jsxDEV("td",{className:"px-2 py-3 text-center",children:e.jsxDEV("div",{className:"flex items-center justify-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsxDEV("button",{onClick:_=>Ze(N,_),className:"p-1.5 text-gray-500 hover:text-blue-600 hover:bg-blue-50 rounded",title:"",children:e.jsxDEV(rr,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1493,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1488,columnNumber:27},void 0),e.jsxDEV("button",{onClick:_=>ut(N.id,_),className:"p-1.5 text-gray-500 hover:text-red-600 hover:bg-red-50 rounded",title:"",children:e.jsxDEV(Vt,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1500,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1495,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1487,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1486,columnNumber:23},void 0)]},N.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1455,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1453,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1439,columnNumber:17},void 0),e.jsxDEV("div",{className:"md:hidden space-y-1.5 p-2",children:Te.map(N=>e.jsxDEV("div",{className:`border rounded-lg px-3 py-2 relative ${p===N.id?"bg-blue-50 border-blue-300":"bg-white"}`,onClick:()=>{w(N.id),X("image")},children:[e.jsxDEV("div",{className:"flex justify-between items-center",children:[e.jsxDEV("p",{className:"font-medium text-gray-900 text-sm truncate flex-1 mr-2",children:N.itemName},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1524,columnNumber:23},void 0),e.jsxDEV("div",{className:"flex items-center gap-1",children:[e.jsxDEV("p",{className:"text-sm font-bold text-gray-900 shrink-0",children:[(N.totalAmount||0).toLocaleString(),""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1526,columnNumber:25},void 0),e.jsxDEV("button",{onClick:_=>{_.stopPropagation(),Re(Be===N.id?null:N.id)},className:"p-1 text-gray-400 hover:text-gray-600",children:e.jsxDEV(Ic,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1536,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1529,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1525,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1523,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex justify-between items-center mt-1 text-xs text-gray-500",children:[e.jsxDEV("span",{children:[N.process||"-","  ",N.author||"-","  ",Le(new Date(N.date),"MM.dd",{locale:kt})]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1542,columnNumber:23},void 0),e.jsxDEV("span",{className:"text-[10px] text-gray-400",children:[" ",(N.materialCost||0).toLocaleString(),"   ",(N.laborCost||0).toLocaleString(),"   ",(N.vatAmount||0).toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1543,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1541,columnNumber:21},void 0),Be===N.id&&e.jsxDEV("div",{className:"absolute right-2 top-8 bg-white border rounded-lg shadow-lg z-10 py-1",children:[e.jsxDEV("button",{onClick:_=>Ze(N,_),className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-100 flex items-center gap-2",children:[e.jsxDEV(rr,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1554,columnNumber:27},void 0),""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1550,columnNumber:25},void 0),e.jsxDEV("button",{onClick:_=>ut(N.id,_),className:"w-full px-4 py-2 text-left text-sm text-red-600 hover:bg-red-50 flex items-center gap-2",children:[e.jsxDEV(Vt,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1561,columnNumber:27},void 0),""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1557,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1549,columnNumber:23},void 0)]},N.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1512,columnNumber:19},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1510,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1437,columnNumber:15},void 0):e.jsxDEV("div",{className:"flex items-center justify-center h-full text-gray-500",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1571,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1435,columnNumber:11},void 0),e.jsxDEV("div",{className:"hidden md:block ipad-xl:hidden border-t bg-gray-50 p-3",children:e.jsxDEV("div",{className:"flex flex-row items-center gap-3",children:[e.jsxDEV("div",{className:"flex-1 max-w-sm",children:e.jsxDEV("div",{className:"relative",children:[e.jsxDEV("input",{type:"text",placeholder:"...",value:g,onChange:N=>b(N.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 text-sm md:text-sm lg:text-base"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1583,columnNumber:19},void 0),e.jsxDEV(Xr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1590,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1582,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1581,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex items-center justify-end gap-2",children:[p&&e.jsxDEV("button",{onClick:async()=>{const N=n.find(H=>H.id===p),_=Ce.find(H=>H.id===p);if(N){if(confirm("  ?"))try{await a(p),w(null),R.success(" ")}catch(H){console.error("  :",H),R.error("  ")}}else(_==null?void 0:_.type)==="payment"?confirm(`   ?
(   )`)&&(q(H=>[...H,p]),w(null),R.success("  ")):R.error("   ")},className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"",children:e.jsxDEV(Vt,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1631,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1597,columnNumber:19},void 0),e.jsxDEV("button",{onClick:()=>Y(!0),className:"px-3 py-2 text-sm md:px-3 lg:px-4 lg:text-base border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 hover:border-gray-400 transition-all duration-200 font-medium whitespace-nowrap",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1636,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1595,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1579,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1578,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1405,columnNumber:9},void 0),e.jsxDEV("div",{className:`execution-images md:col-span-6 ipad:col-span-6 ipad-lg:col-span-6 ipad-xl:col-span-4 ipad-2xl:col-span-4 bg-white rounded-lg border flex flex-col overflow-hidden ${Z!=="image"?"hidden md:flex":""}`,onDragOver:vt,onDragLeave:A,onDrop:Q,children:[e.jsxDEV("input",{type:"file",multiple:!0,accept:"image/*",onChange:dt,className:"hidden",id:"image-file-input"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1657,columnNumber:11},void 0),be&&p&&Z==="image"&&(()=>{const N=Ce.find(_=>_.id===p);return N?e.jsxDEV("div",{className:"border-b bg-gray-50 p-3",children:e.jsxDEV("div",{className:"flex justify-between items-start",children:[e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("p",{className:"font-medium text-gray-900 text-sm",children:N.itemName},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1674,columnNumber:23},void 0),e.jsxDEV("p",{className:"text-xs text-gray-500 mt-0.5",children:[N.process||"-","  ",Le(new Date(N.date),"yyyy.MM.dd",{locale:kt})]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1675,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1673,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-sm font-bold text-gray-900",children:["",(N.totalAmount||0).toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1679,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1672,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1671,columnNumber:17},void 0):null})(),e.jsxDEV("div",{className:"flex-1 overflow-y-auto p-4 relative",onClick:N=>{var H;const _=N.target;!_.closest("img")&&!_.closest("button")&&p&&(()=>{const $=n.find(v=>v.id===p),Ne=Ce.find(v=>v.id===p);return(Ne==null?void 0:Ne.images)||($==null?void 0:$.images)||[]})().length>0&&((H=document.getElementById("image-file-input"))==null||H.click())},children:p?(()=>{var $,Ne,v,se,ce;const N=n.find(Ae=>Ae.id===p),_=Ce.find(Ae=>Ae.id===p),H=(_==null?void 0:_.images)||(N==null?void 0:N.images)||[],K=s.find(Ae=>Ae.id===p);return console.log("[ExecutionHistory]  :",{selectedRecord:p,fullRecordExists:!!_,fullRecordType:_==null?void 0:_.type,fullRecordImages:(($=_==null?void 0:_.images)==null?void 0:$.length)||0,recordExists:!!N,recordImages:((Ne=N==null?void 0:N.images)==null?void 0:Ne.length)||0,originalPaymentExists:!!K,originalPaymentImages:((v=K==null?void 0:K.images)==null?void 0:v.length)||0,paymentRecordImagesForId:((se=qe[p])==null?void 0:se.length)||0,finalImagesCount:H.length}),e.jsxDEV("div",{className:"h-full flex flex-col",children:[(_==null?void 0:_.type)==="payment"&&e.jsxDEV("div",{className:"mb-3 p-3 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsxDEV("p",{className:"text-sm font-semibold text-gray-900 mb-1",children:" :"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1738,columnNumber:23},void 0),e.jsxDEV("p",{className:"text-sm text-gray-700 mb-2",children:[" ",(ce=_.totalAmount)==null?void 0:ce.toLocaleString(),"",_.itemName&&` (${_.itemName})`]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1739,columnNumber:23},void 0),W===p?e.jsxDEV("div",{className:"mt-3 pt-3 border-t border-gray-200",children:[e.jsxDEV("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-xs font-medium text-gray-900 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1749,columnNumber:31},void 0),e.jsxDEV("input",{type:"text",inputMode:"numeric",value:pe===""?"":pe.toLocaleString(),onChange:Ae=>{const Ie=Ae.target.value.replace(/,/g,"").replace(/[^0-9]/g,""),Ye=Ie===""?"":parseInt(Ie,10);ve(Ye);const Ge=_.totalAmount||0;C(Ye!==""?Math.max(0,Ge-Ye):"")},placeholder:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-gray-400 focus:border-transparent"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1750,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1748,columnNumber:29},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-xs font-medium text-gray-900 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1771,columnNumber:31},void 0),e.jsxDEV("input",{type:"text",inputMode:"numeric",value:P===""?"":P.toLocaleString(),onChange:Ae=>{const Ie=Ae.target.value.replace(/,/g,"").replace(/[^0-9]/g,""),Ye=Ie===""?"":parseInt(Ie,10);C(Ye);const Ge=_.totalAmount||0;ve(Ye!==""?Math.max(0,Ge-Ye):"")},placeholder:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-gray-400 focus:border-transparent"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1772,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1770,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1747,columnNumber:27},void 0),e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV("button",{onClick:async()=>{const Ae=pe===""?0:pe,Ie=P===""?0:P;try{await ps.updatePaymentAmounts(_.id,Ae,Ie),await t(),J(null),ve(""),C(""),R.success(" .")}catch(Ye){console.error("  :",Ye),R.error("  .")}},className:"flex-1 px-3 py-2 text-sm font-medium text-white bg-gray-700 rounded-lg hover:bg-gray-800 transition-colors",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1794,columnNumber:29},void 0),e.jsxDEV("button",{onClick:()=>{J(null),ve(""),C("")},className:"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1825,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1793,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1746,columnNumber:25},void 0):e.jsxDEV("button",{onClick:()=>{const Ae=_.totalAmount||0,Ie=_.quickText||_.itemName||"",Ye=Ie.includes("")||Ie.includes(""),Ge=Ie.includes("")||Ie.includes("")||Ie.includes("");let nt=.7,Xe=.3;Ye&&!Ge?(nt=1,Xe=0):!Ye&&Ge&&(nt=0,Xe=1),ve(Math.round(Ae*nt)),C(Math.round(Ae*Xe)),J(p)},className:"w-full px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1838,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1736,columnNumber:21},void 0),e.jsxDEV("div",{className:"mb-3",children:[e.jsxDEV("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1875,columnNumber:21},void 0),e.jsxDEV("textarea",{value:ae[p]!==void 0?ae[p]:(_==null?void 0:_.quickText)||(_==null?void 0:_.notes)||"",onChange:Ae=>{E(Ie=>({...Ie,[p]:Ae.target.value}))},placeholder:" ...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-gray-500 focus:border-transparent resize-none",rows:12},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1876,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1874,columnNumber:19},void 0),H.length>0&&e.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2 mb-3",children:H.map((Ae,Ie)=>e.jsxDEV("div",{className:"relative group",children:[e.jsxDEV("img",{src:Ae,alt:` ${Ie+1}`,className:"w-full aspect-square object-contain rounded-lg cursor-pointer hover:opacity-90 transition-opacity border bg-gray-100",onClick:Ye=>{Ye.stopPropagation(),Ct(Ae)}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1897,columnNumber:27},void 0),e.jsxDEV("button",{onClick:Ye=>{Ye.stopPropagation(),bt(Ie)},className:"absolute top-1 right-1 p-1 bg-red-500 text-white rounded-full opacity-100 md:opacity-0 md:group-hover:opacity-100 transition-opacity",children:e.jsxDEV(ft,{className:"h-3 w-3"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1913,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1906,columnNumber:27},void 0),e.jsxDEV("div",{className:"absolute bottom-1 left-1 bg-black bg-opacity-50 text-white text-xs px-1.5 py-0.5 rounded",children:[Ie+1,"/",H.length]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1915,columnNumber:27},void 0)]},Ie,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1896,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1894,columnNumber:21},void 0),e.jsxDEV("label",{htmlFor:"image-file-input",className:`block cursor-pointer ${H.length>0?"":"flex-1"}`,onClick:Ae=>Ae.stopPropagation(),children:e.jsxDEV("div",{className:`w-full border-2 border-dashed rounded-lg p-4 text-center transition-colors flex flex-col items-center justify-center ${k?"border-gray-500 bg-gray-50":"border-gray-300 hover:border-gray-400"} ${H.length>0?"min-h-[80px]":"min-h-[200px]"}`,children:[e.jsxDEV(Ls,{className:`mx-auto text-gray-400 mb-1 ${H.length>0?"h-6 w-6":"h-10 w-10 mb-2"}`},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1934,columnNumber:23},void 0),e.jsxDEV("p",{className:"text-sm font-medium text-gray-700",children:H.length>0?" ":" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1935,columnNumber:23},void 0),H.length===0&&e.jsxDEV("p",{className:"text-xs text-gray-500 mt-1",children:"   Ctrl+V "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1939,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1929,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1924,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1733,columnNumber:17},void 0)})():e.jsxDEV("div",{className:"h-full flex items-center justify-center min-h-[200px]",children:e.jsxDEV("div",{className:"text-center text-gray-400",children:[e.jsxDEV(As,{className:"h-12 w-12 mx-auto mb-2"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1949,columnNumber:19},void 0),e.jsxDEV("p",{className:"text-sm",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1950,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1948,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1947,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1690,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1648,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1032,columnNumber:7},void 0),ee&&e.jsxDEV("div",{className:"fixed inset-0 z-50 flex items-end md:items-center justify-center bg-black bg-opacity-50",onClick:N=>{window.innerWidth>=768&&N.target===N.currentTarget&&Y(!1)},children:e.jsxDEV("div",{className:"bg-white rounded-t-2xl md:rounded-lg w-full md:max-w-4xl max-h-[85vh] md:max-h-[80vh] overflow-hidden md:m-4",onClick:N=>N.stopPropagation(),children:[e.jsxDEV("div",{className:"flex items-center justify-between p-4 md:p-5 lg:p-6 border-b",children:[e.jsxDEV("h2",{className:"text-lg md:text-lg lg:text-xl font-bold text-gray-900",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1971,columnNumber:15},void 0),e.jsxDEV("button",{onClick:()=>Y(!1),className:"p-1.5 md:p-2 hover:bg-gray-100 rounded-full",children:e.jsxDEV(ft,{className:"h-5 w-5 text-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1976,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1972,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1970,columnNumber:13},void 0),e.jsxDEV("div",{className:"p-4 md:p-5 lg:p-6 overflow-y-auto max-h-[calc(85vh-120px)] md:max-h-[calc(80vh-120px)]",children:pt().length>0?e.jsxDEV(e.Fragment,{children:[e.jsxDEV("table",{className:"hidden md:table w-full",children:[e.jsxDEV("thead",{className:"bg-gray-100",children:e.jsxDEV("tr",{className:"text-left text-sm text-gray-700",children:[e.jsxDEV("th",{className:"px-4 py-3 font-medium",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1987,columnNumber:25},void 0),e.jsxDEV("th",{className:"px-4 py-3 font-medium text-right",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1988,columnNumber:25},void 0),e.jsxDEV("th",{className:"px-4 py-3 font-medium text-right",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1989,columnNumber:25},void 0),e.jsxDEV("th",{className:"px-4 py-3 font-medium text-right",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1990,columnNumber:25},void 0),e.jsxDEV("th",{className:"px-4 py-3 font-medium text-right",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1991,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1986,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1985,columnNumber:21},void 0),e.jsxDEV("tbody",{className:"divide-y divide-gray-200",children:pt().map(([N,_])=>e.jsxDEV("tr",{className:"hover:bg-gray-50",children:[e.jsxDEV("td",{className:"px-4 py-3 font-medium text-gray-700",children:N},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1997,columnNumber:27},void 0),e.jsxDEV("td",{className:"px-4 py-3 text-right",children:_.materialCost.toLocaleString()},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1998,columnNumber:27},void 0),e.jsxDEV("td",{className:"px-4 py-3 text-right",children:_.laborCost.toLocaleString()},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1999,columnNumber:27},void 0),e.jsxDEV("td",{className:"px-4 py-3 text-right",children:_.vatAmount.toLocaleString()},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2e3,columnNumber:27},void 0),e.jsxDEV("td",{className:"px-4 py-3 text-right font-semibold",children:[_.totalAmount.toLocaleString(),""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2001,columnNumber:27},void 0)]},N,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1996,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1994,columnNumber:21},void 0),e.jsxDEV("tfoot",{className:"bg-gray-100 border-t-2 border-gray-300",children:e.jsxDEV("tr",{children:[e.jsxDEV("td",{className:"px-4 py-3 font-bold text-gray-700",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2007,columnNumber:25},void 0),e.jsxDEV("td",{className:"px-4 py-3 text-right font-bold",children:Fe.material.toLocaleString()},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2008,columnNumber:25},void 0),e.jsxDEV("td",{className:"px-4 py-3 text-right font-bold",children:Fe.labor.toLocaleString()},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2009,columnNumber:25},void 0),e.jsxDEV("td",{className:"px-4 py-3 text-right font-bold",children:Fe.vat.toLocaleString()},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2010,columnNumber:25},void 0),e.jsxDEV("td",{className:"px-4 py-3 text-right font-bold text-gray-900",children:[Fe.total.toLocaleString(),""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2011,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2006,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2005,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1984,columnNumber:19},void 0),e.jsxDEV("div",{className:"md:hidden space-y-3",children:[pt().map(([N,_])=>e.jsxDEV("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsxDEV("div",{className:"flex justify-between items-start mb-3",children:[e.jsxDEV("h3",{className:"font-semibold text-gray-900",children:N},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2021,columnNumber:27},void 0),e.jsxDEV("span",{className:"text-lg font-bold text-gray-900",children:["",_.totalAmount.toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2022,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2020,columnNumber:25},void 0),e.jsxDEV("div",{className:"grid grid-cols-3 gap-2 text-sm",children:[e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-gray-500 text-xs",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2028,columnNumber:29},void 0),e.jsxDEV("p",{className:"font-medium",children:["",_.materialCost.toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2029,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2027,columnNumber:27},void 0),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-gray-500 text-xs",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2032,columnNumber:29},void 0),e.jsxDEV("p",{className:"font-medium",children:["",_.laborCost.toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2033,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2031,columnNumber:27},void 0),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-gray-500 text-xs",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2036,columnNumber:29},void 0),e.jsxDEV("p",{className:"font-medium",children:["",_.vatAmount.toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2037,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2035,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2026,columnNumber:25},void 0)]},N,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2019,columnNumber:23},void 0)),e.jsxDEV("div",{className:"bg-gray-900 text-white rounded-lg p-4 mt-4",children:[e.jsxDEV("div",{className:"flex justify-between items-start mb-3",children:[e.jsxDEV("h3",{className:"font-bold text-white",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2046,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-xl font-bold",children:["",Fe.total.toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2047,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2045,columnNumber:23},void 0),e.jsxDEV("div",{className:"grid grid-cols-3 gap-2 text-sm",children:[e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-gray-300 text-xs",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2053,columnNumber:27},void 0),e.jsxDEV("p",{className:"font-semibold",children:["",Fe.material.toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2054,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2052,columnNumber:25},void 0),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-gray-300 text-xs",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2057,columnNumber:27},void 0),e.jsxDEV("p",{className:"font-semibold",children:["",Fe.labor.toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2058,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2056,columnNumber:25},void 0),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-gray-300 text-xs",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2061,columnNumber:27},void 0),e.jsxDEV("p",{className:"font-semibold",children:["",Fe.vat.toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2062,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2060,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2051,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2044,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2017,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1982,columnNumber:17},void 0):e.jsxDEV("div",{className:"text-center py-8 text-gray-500",children:"  ."},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2069,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1980,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1969,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1960,columnNumber:9},void 0),Me&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"md:hidden fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:e.jsxDEV("div",{className:"bg-white rounded-lg w-full max-w-md mx-4 max-h-[80vh] overflow-hidden",children:[e.jsxDEV("div",{className:"flex items-center justify-between p-3 border-b",children:[e.jsxDEV("h2",{className:"text-base font-bold text-gray-900",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2085,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>Ve(!1),className:"p-1 hover:bg-gray-100 rounded-full",children:e.jsxDEV(ft,{className:"h-4 w-4 text-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2090,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2086,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2084,columnNumber:15},void 0),e.jsxDEV("div",{className:"p-3 overflow-y-auto max-h-[calc(80vh-100px)]",children:[e.jsxDEV("div",{className:"grid grid-cols-2 gap-2 mb-2",children:Ir.map(N=>e.jsxDEV("button",{onClick:()=>{ye({...z,process:N}),Ve(!1)},className:`p-2 text-sm text-center border rounded-lg transition-all ${z.process===N?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:border-gray-400 hover:bg-gray-50"}`,children:N},N,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2098,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2096,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>{ye({...z,process:""}),Ve(!1)},className:"w-full p-2 text-sm text-center border-2 border-dashed border-gray-300 rounded-lg hover:border-gray-400 hover:bg-gray-50 text-gray-500",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2116,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2094,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2083,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2082,columnNumber:11},void 0),e.jsxDEV("div",{className:"hidden md:block fixed inset-0 z-40",onClick:()=>Ve(!1),children:e.jsxDEV("div",{onClick:N=>N.stopPropagation(),className:"absolute bg-white rounded-lg shadow-xl border border-gray-200",style:{top:Ee.current?`${Ee.current.getBoundingClientRect().bottom+window.scrollY+4}px`:"50%",left:Ee.current?`${Ee.current.getBoundingClientRect().left+window.scrollX}px`:"50%"},children:[e.jsxDEV("div",{className:"flex items-center justify-between p-2 border-b",children:[e.jsxDEV("h2",{className:"text-sm font-bold text-gray-900",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2140,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>Ve(!1),className:"p-1 hover:bg-gray-100 rounded-full",children:e.jsxDEV(ft,{className:"h-3 w-3 text-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2145,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2141,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2139,columnNumber:15},void 0),e.jsxDEV("div",{className:"p-2",children:[e.jsxDEV("div",{className:"grid grid-cols-4 gap-1.5 mb-2",children:Ir.map(N=>e.jsxDEV("button",{onClick:()=>{ye({...z,process:N}),Ve(!1)},className:`p-1.5 text-xs text-center border rounded-lg transition-all whitespace-nowrap ${z.process===N?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:border-gray-400 hover:bg-gray-50"}`,children:N},N,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2153,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2151,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>{ye({...z,process:""}),Ve(!1)},className:"w-full p-1.5 text-xs text-center border-2 border-dashed border-gray-300 rounded-lg hover:border-gray-400 hover:bg-gray-50 text-gray-500",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2171,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2149,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2131,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2130,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2080,columnNumber:9},void 0),de&&e.jsxDEV("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-90",onClick:()=>T(!1),children:e.jsxDEV("div",{className:"relative max-w-[90vw] max-h-[90vh]",children:[e.jsxDEV("button",{onClick:N=>{N.stopPropagation(),T(!1)},className:"absolute -top-10 right-0 text-white hover:text-gray-300 transition-colors",children:e.jsxDEV(ft,{className:"h-8 w-8"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2200,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2193,columnNumber:13},void 0),oe?e.jsxDEV("img",{src:oe,alt:" ",className:"max-w-full max-h-[90vh] object-contain",onClick:N=>N.stopPropagation(),onError:()=>{R.error("   "),T(!1)}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2203,columnNumber:15},void 0):e.jsxDEV("div",{className:"text-white text-center p-4",children:e.jsxDEV("p",{children:"   "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2215,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2214,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2192,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2188,columnNumber:9},void 0),_e&&Oe&&e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxDEV("div",{className:"bg-white rounded-lg w-full max-w-md",children:[e.jsxDEV("div",{className:"flex justify-between items-center p-4 border-b",children:[e.jsxDEV("h3",{className:"text-lg font-semibold",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2227,columnNumber:15},void 0),e.jsxDEV("button",{onClick:()=>{Ue(!1),fe(null)},className:"text-gray-500 hover:text-gray-700",children:e.jsxDEV(ft,{className:"w-5 h-5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2235,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2228,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2226,columnNumber:13},void 0),e.jsxDEV("div",{className:"p-4 space-y-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2241,columnNumber:17},void 0),e.jsxDEV("input",{type:"date",value:He.date,onChange:N=>De({...He,date:N.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2242,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2240,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2251,columnNumber:17},void 0),e.jsxDEV("select",{value:He.process,onChange:N=>De({...He,process:N.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2257,columnNumber:19},void 0),Ir.map(N=>e.jsxDEV("option",{value:N,children:N},N,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2259,columnNumber:21},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2252,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2250,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2265,columnNumber:17},void 0),e.jsxDEV("input",{type:"text",value:He.itemName,onChange:N=>De({...He,itemName:N.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2266,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2264,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2275,columnNumber:17},void 0),e.jsxDEV("input",{type:"number",value:He.materialCost,onChange:N=>De({...He,materialCost:N.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2276,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2274,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2285,columnNumber:17},void 0),e.jsxDEV("input",{type:"number",value:He.laborCost,onChange:N=>De({...He,laborCost:N.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2286,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2284,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2238,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex gap-2 p-4 border-t",children:[e.jsxDEV("button",{onClick:()=>{Ue(!1),fe(null)},className:"flex-1 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2295,columnNumber:15},void 0),e.jsxDEV("button",{onClick:Nt,className:"flex-1 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2304,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2294,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2225,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2224,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:974,columnNumber:5},void 0)},sy=({projectName:s,onClose:n,type:t="cash"})=>{const r=t==="cash",i=r?"":"",a=r?"      .":"      .",[o,m]=l.useState({receiptDate:Le(new Date,"yyyy-MM-dd"),customerName:"",amount:"",purpose:" ",receivedBy:""}),d=()=>{window.print()},c=g=>{const b=Number(g.replace(/,/g,""));return isNaN(b)?"":b.toLocaleString()},u=g=>{if(g===0)return"";const b=["","","",""],p=["","","",""],w=["","","","","","","","","",""];let k="",j=0;for(;g>0;){const B=g%1e4;if(B>0){let y="",O=B,ge=0;for(;O>0;){const ee=O%10;ee>0&&(y=w[ee]+p[ge]+y),O=Math.floor(O/10),ge++}k=y+b[j]+k}g=Math.floor(g/1e4),j++}return k+""};return e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 print:relative print:bg-white",children:e.jsxDEV("div",{className:"bg-white rounded-lg w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto print:max-h-none print:mx-0 print:rounded-none",children:[e.jsxDEV("div",{className:"flex items-center justify-between p-4 border-b print:hidden",children:[e.jsxDEV("h2",{className:"text-lg font-bold text-gray-900",children:i},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:76,columnNumber:13},void 0),e.jsxDEV("button",{onClick:n,className:"p-1 hover:bg-gray-100 rounded-full",children:e.jsxDEV(ft,{className:"h-5 w-5 text-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:81,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:77,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:75,columnNumber:11},void 0),e.jsxDEV("div",{className:"p-6 space-y-4 print:hidden",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:88,columnNumber:15},void 0),e.jsxDEV("input",{type:"date",value:o.receiptDate,onChange:g=>m({...o,receiptDate:g.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:89,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:87,columnNumber:13},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:98,columnNumber:15},void 0),e.jsxDEV("input",{type:"text",value:o.customerName,onChange:g=>m({...o,customerName:g.target.value}),placeholder:" ",className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:99,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:97,columnNumber:13},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:109,columnNumber:15},void 0),e.jsxDEV("input",{type:"text",value:c(o.amount),onChange:g=>{const b=g.target.value.replace(/,/g,"");/^\d*$/.test(b)&&m({...o,amount:b})},placeholder:" ",className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:110,columnNumber:15},void 0),o.amount&&e.jsxDEV("p",{className:"text-sm text-gray-600 mt-1",children:u(Number(o.amount))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:123,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:108,columnNumber:13},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:130,columnNumber:15},void 0),e.jsxDEV("input",{type:"text",value:o.purpose,onChange:g=>m({...o,purpose:g.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:131,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:129,columnNumber:13},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:140,columnNumber:15},void 0),e.jsxDEV("input",{type:"text",value:o.receivedBy,onChange:g=>m({...o,receivedBy:g.target.value}),placeholder:" ",className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:141,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:139,columnNumber:13},void 0),e.jsxDEV("button",{onClick:d,disabled:!o.customerName||!o.amount||!o.receivedBy,className:"w-full py-2 bg-gray-900 text-white rounded-lg hover:bg-gray-800 disabled:bg-gray-300 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[e.jsxDEV(Pm,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:155,columnNumber:15},void 0),""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:150,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:86,columnNumber:11},void 0),e.jsxDEV("div",{className:"hidden print:block p-12",children:e.jsxDEV("div",{className:"border-4 border-double border-gray-900 p-8",children:[e.jsxDEV("h1",{className:"text-center text-3xl font-bold mb-8",children:r?"    ":"    "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:163,columnNumber:15},void 0),e.jsxDEV("div",{className:"space-y-6 text-lg",children:[e.jsxDEV("div",{className:"flex items-baseline border-b border-gray-300 pb-2",children:[e.jsxDEV("span",{className:"font-medium w-32",children:":"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:169,columnNumber:19},void 0),e.jsxDEV("span",{className:"flex-1 receipt-date",children:Le(new Date(o.receiptDate),"yyyy MM dd",{locale:kt})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:170,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:168,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex items-baseline border-b border-gray-300 pb-2",children:[e.jsxDEV("span",{className:"font-medium w-32",children:":"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:174,columnNumber:19},void 0),e.jsxDEV("span",{className:"flex-1",children:o.customerName},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:175,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:173,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex items-baseline border-b border-gray-300 pb-2",children:[e.jsxDEV("span",{className:"font-medium w-32",children:":"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:179,columnNumber:19},void 0),e.jsxDEV("span",{className:"flex-1",children:s},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:180,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:178,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex items-baseline border-b border-gray-300 pb-2",children:[e.jsxDEV("span",{className:"font-medium w-32",children:":"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:184,columnNumber:19},void 0),e.jsxDEV("span",{className:"flex-1 font-bold receipt-amount",children:["",Number(o.amount).toLocaleString(),""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:185,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:183,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex items-baseline border-b border-gray-300 pb-2",children:[e.jsxDEV("span",{className:"font-medium w-32",children:"():"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:191,columnNumber:19},void 0),e.jsxDEV("span",{className:"flex-1",children:u(Number(o.amount))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:192,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:190,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex items-baseline border-b border-gray-300 pb-2",children:[e.jsxDEV("span",{className:"font-medium w-32",children:":"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:196,columnNumber:19},void 0),e.jsxDEV("span",{className:"flex-1",children:o.purpose},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:197,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:195,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:167,columnNumber:15},void 0),e.jsxDEV("div",{className:"mt-12 text-center",children:[e.jsxDEV("p",{className:"text-lg mb-8",children:a},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:202,columnNumber:17},void 0),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV("p",{className:"text-lg receipt-date",children:Le(new Date(o.receiptDate),"yyyy MM dd",{locale:kt})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:205,columnNumber:19},void 0),e.jsxDEV("p",{className:"text-xl font-medium mt-8",children:[": ",o.receivedBy," ",e.jsxDEV("span",{className:"ml-4",children:"()"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:207,columnNumber:48},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:206,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:204,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:201,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:162,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:161,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:73,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:72,columnNumber:7},void 0),e.jsxDEV("style",{children:`
        @media print {
          body * {
            visibility: hidden;
          }
          .print\\:block, .print\\:block * {
            visibility: visible;
          }
          .print\\:hidden {
            display: none !important;
          }
        }
      `},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:217,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:71,columnNumber:5},void 0)},Yi=["","","/","","","","","","","","","","","","",""],ny=()=>{const{payments:s,loadPaymentsFromAPI:n,addPaymentToAPI:t,deletePaymentFromAPI:r,updatePaymentInAPI:i,updatePayment:a}=vs(),{user:o}=Qt(),m=fs(),[d,c]=l.useState(""),[u,g]=l.useState(null),[b,p]=l.useState(null),[w,k]=l.useState(!1),[j,B]=l.useState(!1),[y,O]=l.useState(!1),[ge,ee]=l.useState(!1),[Y,de]=l.useState(""),[T,oe]=l.useState("form"),[re,Z]=l.useState(!1),[X,be]=l.useState(!1),we=l.useRef(null),[Me,Ve]=l.useState("pending"),[Ee,_e]=l.useState("all"),[Ue,Oe]=l.useState(!1),[fe,He]=l.useState(null),[De,Be]=l.useState(!1),[Re,Ke]=l.useState(""),[ze,qe]=l.useState(!1),S=l.useRef(!1),[ue,xe]=l.useState([]),[te,q]=l.useState([]),[G,z]=l.useState(null),[ye,Se]=l.useState([]),[I,ae]=l.useState([]),[E,W]=l.useState(!1),[J,pe]=l.useState({}),[ve,P]=l.useState(!1),C=()=>{const A=localStorage.getItem("lastSelectedProject"),Q=m.filter(N=>N.status!=="completed");return A&&Q.some(N=>N.name===A)?A:Q.length>0?Q[0].name:""},[L,f]=l.useState({project:"",date:Le(new Date,"yyyy-MM-dd"),process:"",itemName:"",amount:"",accountHolder:"",bankName:"",accountNumber:"",images:[],quickText:"",quickImages:[]});l.useEffect(()=>{(async()=>{try{const Q=await Is.getAllContractors();xe(Q.map(N=>({id:N._id||N.id,rank:N.rank,companyName:N.companyName,name:N.name,process:N.process,contact:N.contact,accountNumber:N.accountNumber,bankName:N.bankName,notes:N.notes,createdAt:new Date(N.createdAt),updatedAt:new Date(N.updatedAt)})))}catch(Q){console.error("Failed to load contractors:",Q)}})()},[]),l.useEffect(()=>{n().catch(Q=>{console.error("Failed to load payments:",Q)});const A=()=>{Z(window.innerWidth<1024)};if(A(),window.addEventListener("resize",A),m.length>0&&!L.project){const Q=C();Q&&(f(N=>({...N,project:Q})),localStorage.setItem("lastSelectedProject",Q))}return()=>window.removeEventListener("resize",A)},[n,m]),l.useEffect(()=>{const A=setInterval(()=>{console.log("[ ]    ..."),n().catch(N=>{console.error("[ ] :",N)})},3e4),Q=()=>{document.visibilityState==="visible"&&(console.log("[ ]   -    ..."),n().catch(N=>{console.error("[ ] :",N)}))};return document.addEventListener("visibilitychange",Q),()=>{clearInterval(A),document.removeEventListener("visibilitychange",Q)}},[n]),l.useEffect(()=>{const A=na.getSocket();if(!A)return;const Q=N=>{console.log(" [ ]    :",N),n().catch(_=>{console.error("[ ]  :",_)})};return A.on("payment:refresh",Q),()=>{A.off("payment:refresh",Q)}},[n]),l.useEffect(()=>{(async()=>{var _,H,K,$;if(S.current)return;const Q=new URLSearchParams(window.location.search),N=Q.get("complete")||Q.get("c");if(N){if(!o){console.log("[ ]   -  ");return}S.current=!0,console.log("[ ]  :",N),window.history.replaceState({},"","/payments"),oe("list"),Ve("completed"),a(String(N),{status:"completed"}),R.success(" ");try{await i(String(N),{status:"completed"}),n()}catch(Ne){console.error("[ ]  :",Ne),a(String(N),{status:"pending"}),Ve("pending");let v="  ";((_=Ne.response)==null?void 0:_.status)===401?v=" .  ":((H=Ne.response)==null?void 0:H.status)===404?v="     (ID: "+N+")":($=(K=Ne.response)==null?void 0:K.data)!=null&&$.error?v=Ne.response.data.error:Ne.message&&(v+=": "+Ne.message),R.error(v)}}})()},[n,i,a,o]),l.useEffect(()=>{if(L.process){const A=new Set(s.filter(H=>{var K;return H.status==="completed"&&((K=H.bankInfo)==null?void 0:K.accountHolder)}).map(H=>H.bankInfo.accountHolder.trim().toLowerCase())),Q=(H,K)=>{const $=H.toLowerCase(),Ne=K.toLowerCase();if($.includes(Ne)||Ne.includes($))return!0;const v=$.split("/").map(ce=>ce.trim()),se=Ne.replace(/$/,"").trim();for(const ce of v)if(ce===se||se.includes(ce)||ce.includes(se))return!0;return!1},_=ue.filter(H=>{if(!Q(L.process,H.process))return!1;const $=H.accountNumber&&H.accountNumber.trim()!=="",Ne=H.name.trim().toLowerCase(),v=A.has(Ne);return $||v}).sort((H,K)=>{const $=H.accountNumber&&H.accountNumber.trim()!=="",Ne=K.accountNumber&&K.accountNumber.trim()!=="";return $&&!Ne?-1:!$&&Ne?1:0});q(_)}else q([])},[L.process,ue,s]),l.useEffect(()=>{if(L.process){const A=(_,H)=>{if(!H)return!1;const K=_.toLowerCase(),$=H.toLowerCase();if(K.includes($)||$.includes(K))return!0;const Ne=K.split("/").map(se=>se.trim()),v=$.replace(/$/,"").trim();for(const se of Ne)if(se===v||v.includes(se)||se.includes(v))return!0;return!1},Q=s.filter(_=>{var H,K,$;return _.status==="completed"&&_.process&&A(L.process,_.process)&&((H=_.bankInfo)==null?void 0:H.accountHolder)&&((K=_.bankInfo)==null?void 0:K.bankName)&&(($=_.bankInfo)==null?void 0:$.accountNumber)}),N=new Map;Q.forEach(_=>{const H=`${_.bankInfo.accountHolder}_${_.bankInfo.bankName}_${_.bankInfo.accountNumber}`;N.has(H)||N.set(H,{accountHolder:_.bankInfo.accountHolder,bankName:_.bankInfo.bankName,accountNumber:_.bankInfo.accountNumber,itemName:_.itemName||"",amount:_.amount||0})}),Se(Array.from(N.values()))}else Se([])},[L.process,s]),l.useEffect(()=>{var Q;const A=((Q=L.accountHolder)==null?void 0:Q.trim())||"";if(A.length>=1&&E){const N=[],_=new Set;ue.filter(H=>H.accountNumber&&H.accountNumber.trim()!=="").forEach(H=>{const K=H.name.trim(),$=K.toLowerCase(),Ne=A.toLowerCase();$.startsWith(Ne)&&!_.has($)&&(_.add($),N.push({name:K,bankName:H.bankName||"",accountNumber:H.accountNumber||"",source:"contractor"}))}),s.filter(H=>{var K;return H.status==="completed"&&((K=H.bankInfo)==null?void 0:K.accountHolder)}).forEach(H=>{const K=H.bankInfo.accountHolder.trim(),$=K.toLowerCase(),Ne=A.toLowerCase();$.startsWith(Ne)&&!_.has($)&&(_.add($),N.push({name:K,bankName:H.bankInfo.bankName||"",accountNumber:H.bankInfo.accountNumber||"",source:"payment"}))}),ae(N)}else ae([])},[L.accountHolder,E,ue,s]);const V=A=>{const Q=A.split(`
`).map($=>$.trim()).filter($=>$),N={amounts:{},bankInfo:{},vendor:null,itemName:void 0,includeVat:!1},_=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],H=$=>{if(!$||$.length<2||$.length>5||!/^[-]{2,5}$/.test($))return!1;if($.length>=2){const Ne=$.charAt(0),v=$.substring(0,2);if(["","","","","","",""].includes(v)||_.includes(Ne))return!0}return $.length>=2&&$.length<=4},K=Q.some($=>$.includes(" ")||$.includes(""));return Q.forEach(($,Ne)=>{if($.includes("")&&$.includes(":")){const v=$.match(/\s*:\s*(.+)/);v&&(N.itemName=v[1].trim())}if($.includes("")&&$.includes(":")){const v=$.match(/\s*:\s*(.+)/);v&&(N.bankInfo.accountHolder=v[1].trim())}if($.includes("")&&$.includes(":")){const v=$.match(/\s*:\s*(.+)/);v&&(N.bankInfo.bankName=v[1].trim())}if($.includes("")&&$.includes(":")){const v=$.match(/\s*:\s*(.+)/);v&&(N.bankInfo.accountNumber=v[1].trim())}if($.includes("")&&$.includes(":")){const v=$.match(/\s*:\s*([\d,]+)?/);v&&(N.amounts.total=parseInt(v[1].replace(/,/g,"")))}}),K||(Q.forEach($=>{const Ne=$.match(/\[([^\]]+)\]/);Ne&&!N.itemName&&(N.itemName=Ne[1].trim())}),Q.forEach(($,Ne)=>{($.includes("")||$.includes(" ")||$.includes("()"))&&(N.includeVat=!0);const v=$.match(/(\d+)\s*\s*/);if(v){const Xe=parseInt(v[1])*1e4;$.includes("")||$.includes("")?N.amounts.material=Xe:$.includes("")||$.includes("")?N.amounts.labor=Xe:N.amounts.total||(N.amounts.total=Xe),$=$.replace(/(\d+)\s*\s*/g,"")}$.includes("/")&&$.split("/").forEach(st=>{const F=st.trim();F.startsWith("[")||F.endsWith("]")||(/^[\d\-]+$/.test(F)&&F.replace(/\-/g,"").length>=10?N.bankInfo.accountNumber||(N.bankInfo.accountNumber=F):H(F)&&!N.bankInfo.accountHolder&&(N.bankInfo.accountHolder=F))});const se=[/\d{6}[\s\-]+\d{2}[\s\-]+\d{6}/,/\d{5,7}[\s\-]+\d{2}[\s\-]+\d{5,7}/,/\d{3,4}[\s\-]+\d{3,4}[\s\-]+\d{3,4}[\s\-]+\d{3,4}/,/\d{3}[\s\-]+\d{2}[\s\-]+\d{6}/,/\d{3}[\s\-]+\d{4}[\s\-]+\d{7}/,/\d{4}[\s\-]+\d{4}[\s\-]+\d{5}/,/\d{3,4}[\s\-]+\d{2,6}[\s\-]+\d{4,7}/,/\d{10,}/];let ce="",Ae=-1;for(const Xe of se){const st=$.match(Xe);if(st&&!N.bankInfo.accountNumber){ce=st[0],Ae=st.index||-1,N.bankInfo.accountNumber=st[0].trim().replace(/\s+/g,"-");const me=$.substring(Ae+ce.length).trim().split(/\s+/);for(const We of me)if(!(We.startsWith("[")||We.endsWith("]"))&&H(We)){N.bankInfo.accountHolder=We;break}if(!N.bankInfo.accountHolder&&Ne+1<Q.length){const We=Q[Ne+1],tt=We.split(/\s+/);for(const Je of tt)if(!(Je.startsWith("[")||Je.endsWith("]"))&&H(Je)){N.bankInfo.accountHolder=Je;break}if(!N.bankInfo.accountHolder){const Je=We.match(/^([-]{2,5})/);if(Je){const ot=Je[1].trim();H(ot)&&(N.bankInfo.accountHolder=ot)}}}break}}const Ie=$.match(/[\d,]+/g);Ie&&Ie.forEach(Xe=>{const st=parseInt(Xe.replace(/,/g,"")),F=Xe.replace(/,/g,""),me=ce&&ce.includes(F);!N.bankInfo.accountNumber&&F.length>=10&&F.length<=20?(N.bankInfo.accountNumber=F,ce=F):st>=1e3&&!v&&!me&&($.includes("")||$.includes("")?N.amounts.material=st:$.includes("")||$.includes("")?N.amounts.labor=st:N.amounts.total||(N.amounts.total=st))});const Ye={:"KB",KB:"KB",:"",:"",:"",:"IBK",IBK:"IBK",:"NH",NH:"NH",:"",:"",:"",:"",K:"",:"KDB",KDB:"KDB",:"",:"",:"",:"",:"",:"",:"SC",SC:"SC",:"",:"",:"",:""};for(const[Xe,st]of Object.entries(Ye))if($.includes(Xe)){N.bankInfo.bankName=st;const F=new RegExp(`${Xe}\\s+([-]{2,5})`),me=$.match(F);me&&(N.bankInfo.accountHolder=me[1]);break}if(!N.bankInfo.bankName){const Xe=$.match(/([-]+)(|)/);Xe&&(N.bankInfo.bankName=Xe[0])}const Ge=$.match(/\(([-]{2,5})\)/);if(Ge){const Xe=Ge[1];H(Xe)&&(N.bankInfo.accountHolder=Xe)}if(!Ge&&!N.bankInfo.accountHolder){const Xe=/[-]{2,5}/g,st=$.match(Xe);if(st){const F=$.match(/\d{10,}/)||$.match(/\d{3,4}[\s\-]+\d{3,4}[\s\-]+\d{3,4}[\s\-]+\d{3,4}/);st.forEach(me=>{const We=A.split(`
`)[Ne];We&&We.includes(`[${me}]`)||!H(me)||["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""].includes(me)||Ge&&me===Ge[1]||(F&&!Ge?N.bankInfo.accountHolder=me:N.bankInfo.accountHolder||(Ne>0&&(Q[Ne-1].match(/\d{10,}/)||Q[Ne-1].match(/|/))||Ne<Q.length-1&&(Q[Ne+1].match(/\d{10,}/)||Q[Ne+1].match(/|/))||$.match(/|/))&&(N.bankInfo.accountHolder=me))})}}const nt={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};for(const[Xe,st]of Object.entries(nt))if($.includes(Xe)){N.vendor=st;break}if(Ne===0&&!N.itemName){const Xe=$.replace(/[\[\]{}()<>]/g,"").trim();Xe&&!Xe.includes(" ")&&(N.itemName=Xe.substring(0,50))}})),N.itemName&&N.itemName.includes("")&&(N.vendor=""),N},h=()=>{const A=L.quickText;if(!A.trim())return;const Q=V(A),N={project:L.project,date:L.date,quickText:L.quickText,quickImages:L.quickImages||[],process:"",itemName:"",amount:"",accountHolder:"",bankName:"",accountNumber:"",images:[]};z(null),B(!1),O(!1);let _=0;if(Q.amounts.material&&(_+=Q.amounts.material),Q.amounts.labor&&(_+=Q.amounts.labor),Q.amounts.total&&!Q.amounts.material&&!Q.amounts.labor&&(_=Q.amounts.total),_>0&&(N.amount=_),Q.bankInfo.bankName&&(N.bankName=Q.bankInfo.bankName),Q.bankInfo.accountNumber){N.accountNumber=Q.bankInfo.accountNumber;const K=ue.find($=>{var se,ce;const Ne=(se=Q.bankInfo.accountNumber)==null?void 0:se.replace(/[-\s]/g,"");return((ce=$.accountNumber)==null?void 0:ce.replace(/[-\s]/g,""))===Ne});K?(N.accountHolder=K.name||Q.bankInfo.accountHolder,N.bankName=K.bankName||Q.bankInfo.bankName,N.accountNumber=K.accountNumber||Q.bankInfo.accountNumber,z(K.id||K._id||null),K.process&&(N.process=K.process)):Q.bankInfo.accountHolder&&(N.accountHolder=Q.bankInfo.accountHolder)}else Q.bankInfo.accountHolder&&(N.accountHolder=Q.bankInfo.accountHolder);if(Q.vendor&&(N.process=Q.vendor),!N.process){const K=A.toLowerCase();for(const $ of Yi)if(K.includes($.toLowerCase())){N.process=$;break}}Q.itemName&&(N.itemName=Q.itemName),f(N),Q.includeVat&&(B(!0),O(!1));let H=[];if(Q.amounts.material||Q.amounts.labor||Q.amounts.total){const K=[];Q.amounts.material&&K.push(`: ${Q.amounts.material.toLocaleString()}`),Q.amounts.labor&&K.push(`: ${Q.amounts.labor.toLocaleString()}`),Q.amounts.total&&!Q.amounts.material&&!Q.amounts.labor&&K.push(`: ${Q.amounts.total.toLocaleString()}`),H.push(K.join(", "))}if(Q.bankInfo.bankName||Q.bankInfo.accountHolder){const K=[];Q.bankInfo.bankName&&K.push(Q.bankInfo.bankName),Q.bankInfo.accountHolder&&K.push(Q.bankInfo.accountHolder),Q.bankInfo.accountNumber&&K.push(Q.bankInfo.accountNumber),K.length>0&&H.push(`: ${K.join(" ")}`)}Q.vendor&&H.push(`: ${Q.vendor}`),Q.includeVat&&H.push("  "),H.length>0?R.success(`  !
${H.join(`
`)}`,{duration:4e3,style:{whiteSpace:"pre-line"}}):R.info("  ...    .")};l.useEffect(()=>{(async()=>{try{await fc();const Q=await uc();pe(Q),P(!0)}catch(Q){console.error("  :",Q),P(!0)}})()},[]);const M=l.useRef({});l.useEffect(()=>{ve&&(Object.entries(J).forEach(([A,Q])=>{JSON.stringify(M.current[A])!==JSON.stringify(Q)&&pc(A,Q).catch(N=>{console.error("  :",N),R.error("  ")})}),M.current={...J})},[J,ve]);const ke=l.useCallback(async A=>{var _;const Q=(_=A.clipboardData)==null?void 0:_.items;if(!Q)return;let N=!1;for(let H=0;H<Q.length;H++)if(Q[H].type.indexOf("image")!==-1){N=!0;break}if(N){if(!u){const H=document.activeElement;(H==null?void 0:H.tagName)==="INPUT"||(H==null?void 0:H.tagName)==="TEXTAREA"||(H==null?void 0:H.classList.contains("form-input"))||R.error("  ");return}for(let H=0;H<Q.length;H++)if(Q[H].type.indexOf("image")!==-1){A.preventDefault();const K=Q[H].getAsFile();if(K){const $=new FileReader;$.onload=async Ne=>{var se;const v=(se=Ne.target)==null?void 0:se.result;if(v)try{const ce=s.find(Ye=>Ye.id===u),Ie=[...(ce==null?void 0:ce.images)||J[u]||[],v];await ps.updatePaymentImages(u,Ie),pe(Ye=>({...Ye,[u]:Ie})),await n(),R.success(" ")}catch(ce){console.error("  :",ce),R.error("  ")}},$.readAsDataURL(K)}}}},[u,s,J,n]);l.useEffect(()=>(document.addEventListener("paste",ke),()=>document.removeEventListener("paste",ke)),[ke]);const Ce=(o==null?void 0:o.name)===""?s.filter(A=>m.some(Q=>Q.name===A.project)):s,Te=[...Ce].sort((A,Q)=>new Date(Q.requestDate).getTime()-new Date(A.requestDate).getTime());console.log("[ ]",{" payments":s.length,"  ":Ce.length," ()":s.filter(A=>A.status==="completed").length," ( )":Ce.filter(A=>A.status==="completed").length," ":o==null?void 0:o.name," ":m.length});const Fe=Te.filter(A=>{var H,K,$;const Q=d===""||((H=A.purpose)==null?void 0:H.toLowerCase().includes(d.toLowerCase()))||((K=A.itemName)==null?void 0:K.toLowerCase().includes(d.toLowerCase()))||(($=A.process)==null?void 0:$.toLowerCase().includes(d.toLowerCase())),N=A.status===Me,_=Me==="pending"||!L.project||A.project===L.project;return Q&&N&&_}),at=A=>{const Q=A.id||A._id||null;if(G===Q){z(null);const K=document.querySelector('input[placeholder=" "]');K&&setTimeout(()=>{K.focus()},100);return}z(Q);const N=Qn(A.name);let _=A.bankName||"",H=A.accountNumber||"";if(H&&!_){const K=H.trim().split(/\s+/);if(K.length>=2){const $=K[0];($.includes("")||$.includes("")||$.includes("")||$.includes("")||$.includes(""))&&(_=$,H=K.slice(1).join(""))}}f(K=>({...K,accountHolder:N,bankName:_,accountNumber:H}))};Fe.reduce((A,Q)=>{const N=Q.materialAmount||0,_=Q.laborAmount||0,H=Q.amount||0;let K=N,$=_,Ne=0;return N===0&&_===0&&H>0?Q.includesVAT?(K=Math.round(H/1.1),Ne=H-K):(K=H,Ne=0):Q.includesVAT?(N>0&&(K=Math.round(N/1.1)),_>0&&($=Math.round(_/1.1)),Ne=H-(K+$)):Ne=0,A.material+=K,A.labor+=$,A.vat+=Ne,A.total+=H,A},{material:0,labor:0,vat:0,total:0});const et=async()=>{var Q;if(ze){console.log(" Already submitting, ignoring click");return}if(console.log(" handleSave called"),console.log(" Current user:",o),console.log(" Form data:",L),!L.project){R.error(" ");return}if(!L.itemName){R.error(" ");return}const A=Number(L.amount)||0;if(A===0){R.error(" ");return}qe(!0);try{const N=y?Math.round(A*.967):A,_=new Date;if(b){const H={project:L.project,requestDate:new Date(L.date),purpose:L.itemName,amount:N,category:"material",urgency:"normal",process:L.process,itemName:L.itemName,includesVAT:j,applyTaxDeduction:y,materialAmount:N,laborAmount:0,originalLaborAmount:0,accountHolder:L.accountHolder,bank:L.bankName,accountNumber:L.accountNumber,bankInfo:L.accountHolder||L.bankName||L.accountNumber?{accountHolder:L.accountHolder,bankName:L.bankName,accountNumber:L.accountNumber}:void 0,updatedAt:_};console.log(" Updating payment:",H),await i(b,H),R.success(" "),p(null)}else{const H={id:`payment_${Date.now()}`,project:L.project,requestDate:new Date(L.date),requestedBy:(o==null?void 0:o.name)||"  ",purpose:L.itemName,amount:N,status:"pending",category:"material",urgency:"normal",process:L.process,itemName:L.itemName,includesVAT:j,applyTaxDeduction:y,materialAmount:N,laborAmount:0,originalLaborAmount:0,accountHolder:L.accountHolder,bank:L.bankName,accountNumber:L.accountNumber,bankInfo:L.accountHolder||L.bankName||L.accountNumber?{accountHolder:L.accountHolder,bankName:L.bankName,accountNumber:L.accountNumber}:void 0,quickText:L.quickText||"",images:L.quickImages,attachments:[],createdAt:_,updatedAt:_};console.log(" Creating payment:",H),console.log(" Images in payment:",((Q=L.quickImages)==null?void 0:Q.length)||0,"");const K=await t(H);if(R.success(" "),!j&&!y&&L.accountHolder&&L.bankName&&L.accountNumber)try{await je.post("/payments/send-toss-payment-sms",{recipientPhone:"01089423283",accountHolder:L.accountHolder,bankName:L.bankName,accountNumber:L.accountNumber,amount:N,projectName:L.project,itemName:L.itemName,process:L.process,paymentId:K}),R.success("   ")}catch($){console.error("SMS  :",$)}}f(H=>({project:H.project,date:Le(new Date,"yyyy-MM-dd"),process:"",itemName:"",materialCost:"",laborCost:"",amount:"",accountHolder:"",bankName:"",accountNumber:"",images:[],quickText:"",quickImages:[]})),B(!1),O(!1),z(null),window.innerWidth<768&&oe("list")}catch(N){console.error(" Payment save error:",N),R.error("  : "+N.message)}finally{qe(!1)}},Ze=A=>{var Q,N,_,H;try{console.log("[handleEdit] Starting edit for payment:",A.id);const K=A.originalMaterialAmount!==void 0?A.originalMaterialAmount:A.materialAmount||0,$=A.originalLaborAmount!==void 0?A.originalLaborAmount:A.laborAmount||0,Ne={project:A.project||"",date:A.requestDate?Le(new Date(A.requestDate),"yyyy-MM-dd"):Le(new Date,"yyyy-MM-dd"),process:A.process||"",itemName:A.itemName||A.purpose||"",materialCost:K>0?K.toString():"",laborCost:$>0?$.toString():"",amount:((Q=A.amount)==null?void 0:Q.toString())||"",accountHolder:((N=A.bankInfo)==null?void 0:N.accountHolder)||"",bankName:((_=A.bankInfo)==null?void 0:_.bankName)||"",accountNumber:((H=A.bankInfo)==null?void 0:H.accountNumber)||"",images:A.attachments||[],quickText:A.quickText||"",quickImages:A.images||[]};console.log("[handleEdit] Setting form data:",Ne),f(Ne),B(A.includesVAT||!1),O(A.applyTaxDeduction||!1),g(A.id),p(A.id),re&&oe("form"),console.log("[handleEdit] Edit setup complete"),R.success("  ")}catch(K){console.error("[handleEdit] Error:",K),R.error("     ")}},ct=async A=>{var Q,N,_;try{const H=((Q=A.bankInfo)==null?void 0:Q.accountHolder)||A.accountHolder,K=((N=A.bankInfo)==null?void 0:N.bankName)||A.bank,$=((_=A.bankInfo)==null?void 0:_.accountNumber)||A.accountNumber;if(!H||!K||!$){R.error("  .    .");return}if(!window.confirm(`  ?

: 
: ${K}
: ${$}
: ${A.amount.toLocaleString()}`))return;const v=$.replace(/[-\s]/g,""),ce={KB:"",:"",:"",:"",:"",NH:"",:"",IBK:"",:"",SC:"SC",:"",:"",:"",:"",:"",KDB:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}[K]||K,Ie={KB:"004",:"004",:"088",:"020",:"081",NH:"011",:"011",IBK:"003",:"003",SC:"023",:"027",:"027",:"045",:"048",:"071",KDB:"002",:"002",:"007",:"031",:"032",:"039",:"034",:"037",:"035",:"090",:"089",:"092"}[K]||"004",Ye="",Ge=`supertoss://send?amount=${A.amount}&bankCode=${Ie}&bank=${encodeURIComponent(ce)}&accountNo=${v}&receiverName=${encodeURIComponent(Ye)}&toName=${encodeURIComponent(Ye)}`;let nt=!1;try{window.location.href=Ge,nt=!0,R.success("  ...",{duration:3e3}),setTimeout(()=>{const Xe=/iPhone|iPad|iPod/i.test(navigator.userAgent),st=/Android/i.test(navigator.userAgent);(Xe||st)&&R(`      .

: 
: ${$}
: ${A.amount.toLocaleString()}

    .`,{icon:"",duration:8e3})},2e3)}catch(Xe){console.error("   :",Xe),R(`   .

: 
: ${K}
: ${$}
: ${A.amount.toLocaleString()}

    .`,{icon:"",duration:1e4})}}catch(H){console.error(" :",H),R.error(`   : ${H.message}`)}},Nt=async A=>{const Q=s.find(N=>N.id===A);if(Q&&Q.quickText){const N=localStorage.getItem("executionMemos"),_=N?JSON.parse(N):{};_[A]=Q.quickText,localStorage.setItem("executionMemos",JSON.stringify(_))}a(A,{status:"completed"}),Oe(!1),R.success(" "),window.dispatchEvent(new CustomEvent("paymentCompleted")),i(A,{status:"completed"}).then(()=>{na.getSocket().emit("payment:refresh")}).catch(N=>{console.error("  :",N),a(A,{status:"pending"}),R.error("   -  ")})},ut=async A=>{var _;if(!u){R.error("  ");return}const N=Array.from(((_=A.target)==null?void 0:_.files)||[]).filter(H=>H.type.startsWith("image/"));if(N.length!==0){try{const H=await Promise.all(N.map(v=>new Promise((se,ce)=>{const Ae=new FileReader;Ae.onload=Ie=>{var Ge;const Ye=(Ge=Ie.target)==null?void 0:Ge.result;Ye?se(Ye):ce(new Error("  "))},Ae.onerror=()=>ce(new Error("FileReader ")),Ae.readAsDataURL(v)}))),K=s.find(v=>v.id===u),Ne=[...(K==null?void 0:K.images)||J[u]||[],...H];await ps.updatePaymentImages(u,Ne),pe(v=>({...v,[u]:Ne})),await n(),R.success(`${H.length}  `)}catch(H){console.error("  :",H),R.error("  ")}A.target.value=""}},pt=async A=>{if(u)try{const Q=s.find(H=>H.id===u),_=((Q==null?void 0:Q.images)||J[u]||[]).filter((H,K)=>K!==A);await ps.updatePaymentImages(u,_),pe(H=>({...H,[u]:_})),await n()}catch(Q){console.error("  :",Q),R.error("  ")}},dt=A=>{de(A),ee(!0)},bt=A=>{A.preventDefault(),k(!0)},Ct=A=>{A.preventDefault(),k(!1)},vt=async A=>{if(A.preventDefault(),k(!1),!u){R.error("  ");return}const N=Array.from(A.dataTransfer.files).filter(_=>_.type.startsWith("image/"));if(N.length!==0)try{const _=await Promise.all(N.map(Ne=>new Promise((v,se)=>{const ce=new FileReader;ce.onload=Ae=>{var Ye;const Ie=(Ye=Ae.target)==null?void 0:Ye.result;Ie?v(Ie):se(new Error("  "))},ce.onerror=()=>se(new Error("FileReader ")),ce.readAsDataURL(Ne)}))),H=s.find(Ne=>Ne.id===u),$=[...(H==null?void 0:H.images)||J[u]||[],..._];await ps.updatePaymentImages(u,$),pe(Ne=>({...Ne,[u]:$})),await n(),R.success(`${_.length}  `)}catch(_){console.error("  :",_),R.error("  ")}};return e.jsxDEV("div",{className:"space-y-3 md:space-y-4",children:[e.jsxDEV("div",{className:"lg:hidden mb-4",children:e.jsxDEV("select",{value:L.project,onChange:A=>{f({...L,project:A.target.value}),A.target.value&&localStorage.setItem("lastSelectedProject",A.target.value)},className:"w-full px-3 py-2.5 md:py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 bg-white cursor-pointer hover:border-gray-400 transition-colors appearance-none bg-[url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20fill%3D%22none%22%20viewBox%3D%220%200%2020%2020%22%3E%3Cpath%20stroke%3D%22%236b7280%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%221.5%22%20d%3D%22M6%208l4%204%204-4%22%2F%3E%3C%2Fsvg%3E')] bg-[length:1.5em_1.5em] bg-[right_0.5rem_center] bg-no-repeat pr-10",children:[(o==null?void 0:o.name)!==""&&e.jsxDEV("option",{value:"",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:1990,columnNumber:35},void 0),m.filter(A=>A.status!=="completed").map(A=>e.jsxDEV("option",{value:A.name,children:A.name},A.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:1992,columnNumber:13},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:1980,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:1979,columnNumber:7},void 0),e.jsxDEV("div",{className:"lg:hidden border-b border-gray-200 mb-4",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:e.jsxDEV("nav",{className:"flex space-x-4",children:[e.jsxDEV("button",{onClick:()=>oe("form"),className:`py-2 px-1 border-b-2 font-medium text-sm ${T==="form"?"border-gray-900 text-gray-900":"border-transparent text-gray-500"}`,children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2001,columnNumber:13},void 0),e.jsxDEV("button",{onClick:()=>oe("list"),className:`py-2 px-1 border-b-2 font-medium text-sm ${T==="list"?"border-gray-900 text-gray-900":"border-transparent text-gray-500"}`,children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2011,columnNumber:13},void 0),e.jsxDEV("button",{onClick:()=>oe("image"),className:`py-2 px-1 border-b-2 font-medium text-sm ${T==="image"?"border-gray-900 text-gray-900":"border-transparent text-gray-500"}`,children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2021,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2e3,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:1999,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:1998,columnNumber:7},void 0),e.jsxDEV("div",{className:"payment-container grid grid-cols-1 md:grid-cols-6 ipad:grid-cols-6 ipad-lg:grid-cols-6 ipad-xl:grid-cols-12 ipad-2xl:grid-cols-12 gap-3 md:gap-4",children:[e.jsxDEV("div",{className:`payment-form md:col-span-2 ipad:col-span-2 ipad-lg:col-span-2 ipad-xl:col-span-2 ipad-2xl:col-span-2 bg-white rounded-lg border p-3 md:p-4 overflow-y-auto h-[calc(100vh-180px)] ${T!=="form"?"hidden md:block":""}`,children:e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("div",{className:"hidden lg:block payment-project-row",children:e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV("select",{value:L.project,onChange:A=>{f({...L,project:A.target.value}),A.target.value&&localStorage.setItem("lastSelectedProject",A.target.value)},className:"flex-1 px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 bg-white cursor-pointer hover:border-gray-400 transition-colors appearance-none bg-[url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20fill%3D%22none%22%20viewBox%3D%220%200%2020%2020%22%3E%3Cpath%20stroke%3D%22%236b7280%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%221.5%22%20d%3D%22M6%208l4%204%204-4%22%2F%3E%3C%2Fsvg%3E')] bg-[length:1.5em_1.5em] bg-[right_0.5rem_center] bg-no-repeat pr-10",children:[(o==null?void 0:o.name)!==""&&e.jsxDEV("option",{value:"",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2056,columnNumber:43},void 0),m.filter(A=>A.status!=="completed").map(A=>e.jsxDEV("option",{value:A.name,children:A.name},A.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2058,columnNumber:21},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2046,columnNumber:17},void 0),e.jsxDEV("select",{value:L.bankName,onChange:A=>f({...L,bankName:A.target.value}),className:"payment-bank-select hidden px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 bg-white cursor-pointer hover:border-gray-400 transition-colors appearance-none bg-[url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20fill%3D%22none%22%20viewBox%3D%220%200%2020%2020%22%3E%3Cpath%20stroke%3D%22%236b7280%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%221.5%22%20d%3D%22M6%208l4%204%204-4%22%2F%3E%3C%2Fsvg%3E')] bg-[length:1.5em_1.5em] bg-[right_0.5rem_center] bg-no-repeat pr-8",children:[e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2066,columnNumber:19},void 0),e.jsxDEV("option",{value:"KB",children:"KB"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2067,columnNumber:19},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2068,columnNumber:19},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2069,columnNumber:19},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2070,columnNumber:19},void 0),e.jsxDEV("option",{value:"NH",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2071,columnNumber:19},void 0),e.jsxDEV("option",{value:"IBK",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2072,columnNumber:19},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2073,columnNumber:19},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2074,columnNumber:19},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2075,columnNumber:19},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2076,columnNumber:19},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2077,columnNumber:19},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2078,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2061,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2045,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2044,columnNumber:13},void 0),e.jsxDEV("div",{children:[e.jsxDEV("textarea",{value:L.quickText,onChange:A=>f({...L,quickText:A.target.value}),onPaste:A=>{var N;const Q=(N=A.clipboardData)==null?void 0:N.items;if(Q){for(let _=0;_<Q.length;_++)if(Q[_].type.indexOf("image")!==-1){A.preventDefault();const H=Q[_].getAsFile();if(H){const K=new FileReader;K.onload=$=>{var v;const Ne=(v=$.target)==null?void 0:v.result;f(se=>({...se,quickImages:[...se.quickImages,Ne]}))},K.readAsDataURL(H)}break}}},onDragOver:A=>{A.preventDefault(),A.stopPropagation()},onDrop:A=>{A.preventDefault(),A.stopPropagation(),Array.from(A.dataTransfer.files).filter(_=>_.type.startsWith("image/")).forEach(_=>{const H=new FileReader;H.onload=K=>{var Ne;const $=(Ne=K.target)==null?void 0:Ne.result;f(v=>({...v,quickImages:[...v.quickImages,$]}))},H.readAsDataURL(_)})},rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",placeholder:re?"  ":"   (   Ctrl+V)"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2085,columnNumber:15},void 0),L.quickImages.length>0&&e.jsxDEV("div",{className:"mt-2 mb-2 grid grid-cols-3 gap-2",children:L.quickImages.map((A,Q)=>e.jsxDEV("div",{className:"relative group",children:[e.jsxDEV("img",{src:A,alt:` ${Q+1}`,className:"w-full h-20 object-cover rounded-lg border"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2140,columnNumber:23},void 0),e.jsxDEV("button",{type:"button",onClick:()=>{f(N=>({...N,quickImages:N.quickImages.filter((_,H)=>H!==Q)}))},className:"absolute top-1 right-1 w-5 h-5 bg-red-500 text-white rounded-full flex items-center justify-center text-xs opacity-0 group-hover:opacity-100 transition-opacity",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2145,columnNumber:23},void 0)]},Q,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2139,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2137,columnNumber:17},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 gap-2 mt-2",children:[e.jsxDEV("label",{className:"cursor-pointer",children:[e.jsxDEV("input",{type:"file",accept:"image/*",multiple:!0,className:"hidden",onChange:A=>{Array.from(A.target.files||[]).forEach(N=>{const _=new FileReader;_.onload=H=>{var $;const K=($=H.target)==null?void 0:$.result;f(Ne=>({...Ne,quickImages:[...Ne.quickImages,K]}))},_.readAsDataURL(N)}),A.target.value=""}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2164,columnNumber:19},void 0),e.jsxDEV("div",{className:"w-full h-10 flex items-center justify-center bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm font-medium border border-gray-300",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2185,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2163,columnNumber:17},void 0),e.jsxDEV("button",{type:"button",onClick:h,className:"h-10 flex items-center justify-center bg-gray-400 text-white rounded-lg hover:bg-gray-500 transition-colors text-sm font-medium",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2189,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2162,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2084,columnNumber:13},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[" ",L.date&&`(${Le(new Date(L.date),"E",{locale:kt})})`]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2202,columnNumber:17},void 0),e.jsxDEV("input",{type:"date",value:L.date,onChange:A=>f({...L,date:A.target.value}),className:"w-full px-3 py-2 border rounded-lg bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500 cursor-pointer text-gray-900",style:{WebkitAppearance:"none",MozAppearance:"none",appearance:"none",backgroundColor:"white",backgroundImage:"none"}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2205,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2201,columnNumber:15},void 0),e.jsxDEV("div",{className:"relative",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2221,columnNumber:17},void 0),e.jsxDEV("button",{ref:we,type:"button",onClick:()=>be(!0),className:"w-full px-3 py-2 border rounded-lg text-left bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500",children:L.process||e.jsxDEV("span",{className:"text-gray-400",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2228,columnNumber:40},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2222,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2220,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2200,columnNumber:13},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2235,columnNumber:15},void 0),e.jsxDEV("input",{type:"text",value:L.itemName,onChange:A=>f({...L,itemName:A.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2236,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2234,columnNumber:13},void 0),e.jsxDEV("div",{className:"space-y-2 payment-amount-section",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2247,columnNumber:17},void 0),e.jsxDEV("div",{className:"relative",children:[e.jsxDEV("input",{type:"text",value:L.amount?Number(L.amount).toLocaleString():"",onChange:A=>{const Q=A.target.value.replace(/[^0-9]/g,"");f({...L,amount:Q})},className:"w-full px-3 py-2 pr-8 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",placeholder:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2249,columnNumber:19},void 0),e.jsxDEV("span",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2260,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2248,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2246,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex items-center gap-4",children:[e.jsxDEV("button",{type:"button",className:"flex items-center cursor-pointer",onMouseDown:A=>A.preventDefault(),onClick:()=>{j||O(!1),B(!j)},children:[e.jsxDEV("div",{className:`h-4 w-4 border rounded flex items-center justify-center ${j?"bg-gray-600 border-gray-600":"border-gray-300"}`,children:j&&e.jsxDEV("span",{className:"text-white text-xs",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2278,columnNumber:36},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2277,columnNumber:19},void 0),e.jsxDEV("span",{className:"ml-2 text-sm text-gray-700",children:"  (10%)"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2280,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2266,columnNumber:17},void 0),e.jsxDEV("button",{type:"button",className:"flex items-center cursor-pointer",onMouseDown:A=>A.preventDefault(),onClick:()=>{y||B(!1),O(!y)},children:[e.jsxDEV("div",{className:`h-4 w-4 border rounded flex items-center justify-center ${y?"bg-gray-600 border-gray-600":"border-gray-300"}`,children:y&&e.jsxDEV("span",{className:"text-white text-xs",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2296,columnNumber:45},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2295,columnNumber:19},void 0),e.jsxDEV("span",{className:"ml-2 text-sm text-gray-700",children:"3.3% "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2298,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2284,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2265,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2245,columnNumber:13},void 0),e.jsxDEV("div",{className:"payment-account-section border-t pt-3 space-y-2",children:[(te.length>0||ye.length>0&&!G)&&e.jsxDEV("div",{className:"payment-suggestions-row grid grid-cols-2 gap-2",children:[e.jsxDEV("div",{className:`payment-contractor-suggestions bg-amber-50 border border-amber-200 rounded-lg p-2 ${te.length===0?"hidden":""}`,children:[e.jsxDEV("label",{className:"block text-xs font-medium text-amber-900 mb-1",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2314,columnNumber:21},void 0),e.jsxDEV("div",{className:"space-y-1 max-h-56 overflow-y-auto",children:te.map(A=>{const Q=A.id||A._id,N=G===Q;return e.jsxDEV("button",{type:"button",onClick:()=>at(A),className:`w-full text-left px-2 py-1.5 rounded border transition-colors ${N?"border-gray-900 bg-gray-50":"border-gray-200 hover:border-gray-400 hover:bg-gray-50"}`,children:[e.jsxDEV("div",{className:"font-medium text-xs text-gray-900",children:Qn(A.name)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2330,columnNumber:29},void 0),e.jsxDEV("div",{className:"text-[10px] text-gray-500 truncate",children:[A.bankName||""," ",A.accountNumber||""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2333,columnNumber:29},void 0)]},Q,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2320,columnNumber:27},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2315,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2311,columnNumber:19},void 0),e.jsxDEV("div",{className:`payment-history-suggestions bg-blue-50 border border-blue-200 rounded-lg p-2 ${ye.length===0||G?"hidden":""}`,children:[e.jsxDEV("label",{className:"block text-xs font-medium text-blue-900 mb-1",children:"  "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2346,columnNumber:21},void 0),e.jsxDEV("div",{className:"space-y-1 max-h-56 overflow-y-auto",children:ye.map((A,Q)=>e.jsxDEV("button",{type:"button",onClick:()=>{f(N=>({...N,accountHolder:A.accountHolder,bankName:A.bankName,accountNumber:A.accountNumber})),Se([])},className:"w-full text-left px-2 py-1.5 rounded border border-blue-200 bg-white hover:border-blue-400 hover:bg-blue-50 transition-colors",children:[e.jsxDEV("div",{className:"font-medium text-xs text-gray-900",children:A.accountHolder},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2363,columnNumber:27},void 0),e.jsxDEV("div",{className:"text-[10px] text-gray-500 truncate",children:[A.bankName," ",A.accountNumber]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2366,columnNumber:27},void 0)]},Q,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2349,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2347,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2343,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2309,columnNumber:17},void 0),e.jsxDEV("div",{className:"relative",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2378,columnNumber:17},void 0),e.jsxDEV("input",{type:"text",value:L.accountHolder,onChange:A=>f({...L,accountHolder:A.target.value}),onFocus:()=>W(!0),onBlur:()=>setTimeout(()=>W(!1),150),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",placeholder:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2379,columnNumber:17},void 0),E&&I.length>0&&e.jsxDEV("div",{className:"absolute z-20 w-full mt-1 bg-white border rounded-lg shadow-lg max-h-48 overflow-y-auto",children:I.map((A,Q)=>e.jsxDEV("button",{type:"button",className:"w-full px-3 py-2 text-left hover:bg-gray-100 border-b last:border-b-0 flex justify-between items-center",onMouseDown:N=>N.preventDefault(),onClick:()=>{f({...L,accountHolder:A.name,bankName:A.bankName||L.bankName,accountNumber:A.accountNumber||L.accountNumber}),W(!1)},children:[e.jsxDEV("span",{className:"font-medium",children:A.name},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2407,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-xs text-gray-500",children:A.source==="contractor"?"":""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2408,columnNumber:25},void 0)]},`${A.name}-${Q}`,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2392,columnNumber:23},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2390,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2377,columnNumber:15},void 0),e.jsxDEV("div",{className:"payment-bank-field",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2419,columnNumber:17},void 0),e.jsxDEV("select",{value:L.bankName,onChange:A=>f({...L,bankName:A.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",children:[e.jsxDEV("option",{value:"",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2425,columnNumber:19},void 0),e.jsxDEV("option",{value:"KB",children:"KB"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2426,columnNumber:19},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2427,columnNumber:19},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2428,columnNumber:19},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2429,columnNumber:19},void 0),e.jsxDEV("option",{value:"NH",children:"NH"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2430,columnNumber:19},void 0),e.jsxDEV("option",{value:"IBK",children:"IBK"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2431,columnNumber:19},void 0),e.jsxDEV("option",{value:"SC",children:"SC"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2432,columnNumber:19},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2433,columnNumber:19},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2434,columnNumber:19},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2435,columnNumber:19},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2436,columnNumber:19},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2437,columnNumber:19},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2438,columnNumber:19},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2439,columnNumber:19},void 0),e.jsxDEV("option",{value:"KDB",children:"KDB"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2440,columnNumber:19},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2441,columnNumber:19},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2442,columnNumber:19},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2443,columnNumber:19},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2444,columnNumber:19},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2445,columnNumber:19},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2446,columnNumber:19},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2447,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2420,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2418,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2452,columnNumber:17},void 0),e.jsxDEV("input",{type:"text",value:L.accountNumber,onChange:A=>f({...L,accountNumber:A.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",placeholder:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2453,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2451,columnNumber:15},void 0),e.jsxDEV("div",{className:"pt-2 border-t",children:e.jsxDEV("div",{className:"flex justify-between items-baseline",children:[e.jsxDEV("span",{className:"font-medium",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2464,columnNumber:19},void 0),e.jsxDEV("div",{className:"text-right",children:[(j||y)&&e.jsxDEV("span",{className:"text-xs text-gray-500 mr-2",children:["(",j&&" ",y&&"3.3% ",")"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2467,columnNumber:23},void 0),e.jsxDEV("span",{className:"font-semibold",children:[(()=>{const A=Number(L.amount)||0;let Q=A;return y&&(Q=Math.round(A*.967)),Q.toLocaleString()})(),""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2471,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2465,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2463,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2462,columnNumber:15},void 0),e.jsxDEV("div",{className:"mt-6 lg:my-[50px]",children:[b&&e.jsxDEV("button",{onClick:()=>{p(null),f(A=>({project:A.project,date:Le(new Date,"yyyy-MM-dd"),process:"",itemName:"",materialCost:"",laborCost:"",amount:"",accountHolder:"",bankName:"",accountNumber:"",images:[],quickText:"",quickImages:[]})),B(!1),O(!1),z(null),R.info(" ")},className:"w-full py-2 mb-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 touch-manipulation",style:{minHeight:"48px"},children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2490,columnNumber:19},void 0),e.jsxDEV("button",{onClick:A=>{console.log(" Payment button clicked!",A),console.log(" Button element:",A.currentTarget),console.log(" Form data:",L),et()},disabled:ze,className:`w-full py-3 rounded-lg touch-manipulation font-medium text-base ${ze?"bg-gray-400 text-gray-200 cursor-not-allowed":"bg-gray-900 text-white hover:bg-gray-800 active:bg-gray-950"}`,style:{minHeight:"48px",WebkitTapHighlightColor:"transparent"},children:ze?"...":b?"":""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2519,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2488,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2306,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2042,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2039,columnNumber:9},void 0),e.jsxDEV("div",{className:`payment-list md:col-span-4 ipad:col-span-4 ipad-lg:col-span-4 ipad-xl:col-span-4 ipad-2xl:col-span-4 bg-white rounded-lg border overflow-hidden flex flex-col h-[calc(100vh-180px)] ${T!=="list"?"hidden md:flex":""}`,children:[e.jsxDEV("div",{className:"bg-gray-50 px-4 pt-3 pb-0 flex-shrink-0",children:e.jsxDEV("div",{className:"flex items-center justify-between gap-4",children:e.jsxDEV("nav",{className:"flex gap-2 overflow-x-auto flex-1",children:[e.jsxDEV("button",{onClick:()=>Ve("pending"),className:`px-4 py-2.5 rounded-t-lg font-medium text-sm transition-all whitespace-nowrap flex items-center gap-2 ${Me==="pending"?"bg-white text-gray-900 shadow-sm border-b-2 border-gray-900":"text-gray-500 hover:text-gray-700 hover:bg-gray-100"}`,children:["",e.jsxDEV("span",{className:`px-2 py-0.5 rounded-full text-xs font-semibold ${Me==="pending"?"bg-gray-900 text-white":"bg-gray-300 text-gray-600"}`,children:Te.filter(A=>A.status==="pending").length},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2558,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2549,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>Ve("completed"),className:`px-4 py-2.5 rounded-t-lg font-medium text-sm transition-all whitespace-nowrap flex items-center gap-2 ${Me==="completed"?"bg-white text-gray-900 shadow-sm border-b-2 border-gray-900":"text-gray-500 hover:text-gray-700 hover:bg-gray-100"}`,children:["",e.jsxDEV("span",{className:`px-2 py-0.5 rounded-full text-xs font-semibold ${Me==="completed"?"bg-gray-900 text-white":"bg-gray-300 text-gray-600"}`,children:Te.filter(A=>A.status==="completed").length},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2573,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2564,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2548,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2547,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2546,columnNumber:11},void 0),e.jsxDEV("div",{className:"border-b border-gray-200"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2582,columnNumber:11},void 0),e.jsxDEV("div",{className:"flex-1 overflow-auto p-4",children:Fe.length>0?e.jsxDEV("div",{className:"space-y-4",children:Me==="completed"?(()=>{const A=Fe.reduce((Q,N)=>{const _=N.project||"";return Q[_]||(Q[_]=[]),Q[_].push(N),Q},{});return Object.entries(A).map(([Q,N])=>{const _=N.reduce((H,K)=>H+(K.amount||0),0);return e.jsxDEV("div",{className:"border rounded-lg overflow-hidden",children:[e.jsxDEV("div",{className:"bg-gray-50 px-3 py-2 border-b flex items-center justify-between",children:e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"font-semibold text-gray-900 text-sm",children:Q},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2608,columnNumber:31},void 0),e.jsxDEV("p",{className:"text-xs text-gray-500",children:[" ",N.length,"  ",_.toLocaleString(),""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2609,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2607,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2606,columnNumber:27},void 0),e.jsxDEV("div",{className:"p-2 space-y-2",children:N.map(H=>{var ce,Ae,Ie;const K=H.amount||0,$=((ce=H.bankInfo)==null?void 0:ce.accountHolder)||H.accountHolder||"",Ne=((Ae=H.bankInfo)==null?void 0:Ae.bankName)||H.bank||"",v=((Ie=H.bankInfo)==null?void 0:Ie.accountNumber)||H.accountNumber||"",se=$&&Ne&&v?`${$} | ${Ne} ${v}`:" ";return e.jsxDEV("div",{onClick:()=>g(H.id),className:`border rounded-lg p-3 cursor-pointer transition-colors ${u===H.id?"border-gray-900 bg-gray-50":"border-gray-200 bg-white hover:border-gray-400"}`,children:[e.jsxDEV("div",{className:"flex justify-between items-start mb-2.5",children:[e.jsxDEV("div",{className:"flex-1 min-w-0",children:e.jsxDEV("div",{className:"flex items-baseline gap-2",children:[H.process&&e.jsxDEV("span",{className:"text-xs text-gray-500 shrink-0",children:["[",H.process,"]"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2639,columnNumber:43},void 0),e.jsxDEV("h3",{className:"font-semibold text-gray-900 text-sm truncate",children:H.purpose||H.itemName||"-"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2641,columnNumber:41},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2637,columnNumber:39},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2636,columnNumber:37},void 0),e.jsxDEV("div",{className:"text-right ml-3 shrink-0",children:[e.jsxDEV("p",{className:"text-base font-bold text-gray-900",children:[K.toLocaleString(),""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2647,columnNumber:39},void 0),e.jsxDEV("p",{className:"text-[10px] text-gray-400",children:[H.requestedBy||"-","  ",Le(new Date(H.requestDate),"MM/dd",{locale:kt})]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2650,columnNumber:39},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2646,columnNumber:37},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2635,columnNumber:35},void 0),e.jsxDEV("div",{className:"flex items-center gap-2 mb-2.5 text-xs",children:[e.jsxDEV("span",{className:"text-gray-400",children:[" ",(H.materialAmount||0).toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2657,columnNumber:37},void 0),e.jsxDEV("span",{className:"text-gray-300",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2658,columnNumber:37},void 0),e.jsxDEV("span",{className:"text-gray-400",children:[" ",(H.laborAmount||0).toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2659,columnNumber:37},void 0),H.includesVAT&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV("span",{className:"text-gray-300",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2662,columnNumber:41},void 0),e.jsxDEV("span",{className:"px-1.5 py-0.5 bg-blue-50 text-blue-700 text-[10px] rounded",children:"VAT"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2663,columnNumber:41},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2661,columnNumber:39},void 0),H.applyTaxDeduction&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV("span",{className:"text-gray-300",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2668,columnNumber:41},void 0),e.jsxDEV("span",{className:"px-1.5 py-0.5 bg-purple-50 text-purple-700 text-[10px] rounded",children:"3.3%"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2669,columnNumber:41},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2667,columnNumber:39},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2656,columnNumber:35},void 0),e.jsxDEV("div",{className:"flex items-center justify-between mb-2",children:[e.jsxDEV("div",{className:"text-xs text-gray-500 truncate flex-1",children:se},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2675,columnNumber:37},void 0),e.jsxDEV("div",{className:"flex items-center gap-1 ml-2 flex-shrink-0",children:[e.jsxDEV("button",{onClick:Ye=>{Ye.stopPropagation(),Ze(H)},className:"p-1 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded transition-colors",title:"",children:e.jsxDEV(un,{className:"h-3.5 w-3.5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2687,columnNumber:41},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2679,columnNumber:39},void 0),e.jsxDEV("button",{onClick:async Ye=>{Ye.stopPropagation(),window.confirm("  ?")&&(await r(H.id),R.success(""))},className:"p-1 text-red-400 hover:text-red-600 hover:bg-red-50 rounded transition-colors",title:"",children:e.jsxDEV(Vt,{className:"h-3.5 w-3.5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2700,columnNumber:41},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2689,columnNumber:39},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2678,columnNumber:37},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2674,columnNumber:35},void 0)]},H.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2625,columnNumber:33},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2614,columnNumber:27},void 0)]},Q,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2604,columnNumber:25},void 0)})})():Fe.map(A=>{var $,Ne,v;const Q=A.amount||0,N=(($=A.bankInfo)==null?void 0:$.accountHolder)||A.accountHolder||"",_=((Ne=A.bankInfo)==null?void 0:Ne.bankName)||A.bank||"",H=((v=A.bankInfo)==null?void 0:v.accountNumber)||A.accountNumber||"",K=N&&_&&H?`${N} | ${_} ${H}`:" ";return e.jsxDEV("div",{onClick:()=>g(A.id),className:`border rounded-lg p-3 cursor-pointer transition-colors ${u===A.id?"border-gray-900 bg-gray-50":"border-gray-200 bg-white hover:border-gray-400"}`,children:[e.jsxDEV("div",{className:"flex justify-between items-start mb-2.5",children:[e.jsxDEV("div",{className:"flex-1 min-w-0",children:[e.jsxDEV("div",{className:"flex items-baseline gap-2",children:[A.process&&e.jsxDEV("span",{className:"text-xs text-gray-500 shrink-0",children:["[",A.process,"]"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2739,columnNumber:31},void 0),e.jsxDEV("h3",{className:"font-semibold text-gray-900 text-sm truncate",children:A.purpose||A.itemName||"-"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2741,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2737,columnNumber:27},void 0),e.jsxDEV("p",{className:"text-xs text-gray-500 mt-0.5",children:A.project||"-"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2745,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2736,columnNumber:25},void 0),e.jsxDEV("div",{className:"text-right ml-3 shrink-0",children:[e.jsxDEV("p",{className:"text-base font-bold text-gray-900",children:[Q.toLocaleString(),""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2748,columnNumber:27},void 0),e.jsxDEV("p",{className:"text-[10px] text-gray-400",children:[A.requestedBy||"-","  ",Le(new Date(A.requestDate),"MM/dd",{locale:kt})]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2751,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2747,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2735,columnNumber:23},void 0),e.jsxDEV("div",{className:"flex items-center gap-2 mb-2.5 text-xs",children:[e.jsxDEV("span",{className:"text-gray-400",children:[" ",(A.materialAmount||0).toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2759,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-gray-300",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2760,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-gray-400",children:[" ",(A.laborAmount||0).toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2761,columnNumber:25},void 0),A.includesVAT&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV("span",{className:"text-gray-300",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2764,columnNumber:29},void 0),e.jsxDEV("span",{className:"px-1.5 py-0.5 bg-blue-50 text-blue-700 text-[10px] rounded",children:"VAT"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2765,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2763,columnNumber:27},void 0),A.applyTaxDeduction&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV("span",{className:"text-gray-300",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2770,columnNumber:29},void 0),e.jsxDEV("span",{className:"px-1.5 py-0.5 bg-purple-50 text-purple-700 text-[10px] rounded",children:"3.3%"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2771,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2769,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2758,columnNumber:23},void 0),e.jsxDEV("div",{className:"flex items-center justify-between mb-2.5",children:[e.jsxDEV("div",{className:"text-xs text-gray-500 truncate flex-1",children:K},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2778,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex items-center gap-1 ml-2 flex-shrink-0",children:[e.jsxDEV("button",{onClick:se=>{se.stopPropagation(),Ze(A)},className:"p-1 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded transition-colors",title:"",children:e.jsxDEV(un,{className:"h-3.5 w-3.5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2790,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2782,columnNumber:27},void 0),e.jsxDEV("button",{onClick:async se=>{se.stopPropagation(),window.confirm("  ?")&&(await r(A.id),R.success(""))},className:"p-1 text-red-400 hover:text-red-600 hover:bg-red-50 rounded transition-colors",title:"",children:e.jsxDEV(Vt,{className:"h-3.5 w-3.5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2803,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2792,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2781,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2777,columnNumber:23},void 0),Me==="pending"&&(o==null?void 0:o.role)&&["manager","admin"].includes(o.role)&&e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("button",{onClick:se=>{if(se.stopPropagation(),A.status==="completed"){R.info("   ");return}ct(A)},disabled:A.status==="completed",className:`flex-1 py-1.5 px-2 rounded text-xs font-medium transition-colors ${A.status==="completed"?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-gray-700 text-white hover:bg-gray-800"}`,children:A.status==="completed"?"":""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2812,columnNumber:27},void 0),e.jsxDEV("button",{onClick:se=>{se.stopPropagation(),Nt(A.id)},disabled:A.status==="completed",className:`flex-1 py-1.5 px-2 text-white rounded text-xs font-medium transition-colors ${A.status==="completed"?"opacity-50 cursor-not-allowed":""}`,style:{backgroundColor:A.status==="completed"?"#9ca3af":"#5f81a5"},onMouseEnter:se=>{A.status!=="completed"&&(se.currentTarget.style.backgroundColor="#4a6b8a")},onMouseLeave:se=>{A.status!=="completed"&&(se.currentTarget.style.backgroundColor="#5f81a5")},children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2830,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2811,columnNumber:25},void 0)]},A.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2725,columnNumber:21},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2586,columnNumber:15},void 0):e.jsxDEV("div",{className:"flex items-center justify-center h-full text-gray-500",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2861,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2584,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2542,columnNumber:9},void 0),e.jsxDEV("div",{className:`payment-images md:col-span-6 ipad:col-span-6 ipad-lg:col-span-6 ipad-xl:col-span-6 ipad-2xl:col-span-6 bg-white rounded-lg border flex flex-col overflow-hidden h-[calc(100vh-180px)] ${T!=="image"?"hidden lg:flex":""}`,onDragOver:bt,onDragLeave:Ct,onDrop:vt,children:[e.jsxDEV("input",{type:"file",multiple:!0,accept:"image/*",onChange:ut,className:"hidden",id:"image-file-input"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2877,columnNumber:11},void 0),re&&u&&T==="image"&&(()=>{const A=Te.find(Q=>Q.id===u);return A?e.jsxDEV("div",{className:"border-b bg-gray-50 p-3",children:e.jsxDEV("div",{className:"flex justify-between items-start",children:[e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("p",{className:"font-medium text-gray-900 text-sm",children:A.purpose||A.itemName},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2894,columnNumber:23},void 0),e.jsxDEV("p",{className:"text-xs text-gray-500 mt-0.5",children:[A.process||"-","  ",Le(new Date(A.requestDate),"yyyy.MM.dd",{locale:kt})]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2895,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2893,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-sm font-bold text-gray-900",children:["",(A.amount||0).toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2899,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2892,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2891,columnNumber:17},void 0):null})(),e.jsxDEV("div",{className:"flex-1 overflow-y-auto p-4 relative",onClick:A=>{var N;const Q=A.target;if(!Q.closest("img")&&!Q.closest("button")&&u){const _=Te.find(Ne=>Ne.id===u),H=(_==null?void 0:_.images)||[],K=J[u]||[];(H.length>0?H:K).length>0&&((N=document.getElementById("image-file-input"))==null||N.click())}},children:u?(()=>{const A=Te.find(H=>H.id===u),Q=(A==null?void 0:A.images)||[],N=J[u]||[],_=Q.length>0?Q:N;return e.jsxDEV("div",{className:"h-full flex flex-col",children:[e.jsxDEV("div",{className:"mb-3",children:[e.jsxDEV("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2935,columnNumber:21},void 0),e.jsxDEV("textarea",{value:(A==null?void 0:A.quickText)||(A==null?void 0:A.notes)||"",readOnly:!0,placeholder:" ",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm bg-gray-50 resize-none",rows:8},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2936,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2934,columnNumber:19},void 0),_.length>0&&e.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2 mb-3",children:_.map((H,K)=>e.jsxDEV("div",{className:"relative group",children:[e.jsxDEV("img",{src:H,alt:` ${K+1}`,className:"w-full aspect-square object-contain rounded-lg cursor-pointer hover:opacity-90 transition-opacity border bg-gray-100",onClick:$=>{$.stopPropagation(),dt(H)}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2950,columnNumber:27},void 0),e.jsxDEV("button",{onClick:$=>{$.stopPropagation(),pt(K)},className:"absolute top-1 right-1 p-1 bg-red-500 text-white rounded-full opacity-100 md:opacity-0 md:group-hover:opacity-100 transition-opacity",children:e.jsxDEV(ft,{className:"h-3 w-3"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2966,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2959,columnNumber:27},void 0),e.jsxDEV("div",{className:"absolute bottom-1 left-1 bg-black bg-opacity-50 text-white text-xs px-1.5 py-0.5 rounded",children:[K+1,"/",_.length]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2968,columnNumber:27},void 0)]},K,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2949,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2947,columnNumber:21},void 0),e.jsxDEV("label",{htmlFor:"image-file-input",className:`block cursor-pointer ${_.length>0?"":"flex-1"}`,onClick:H=>H.stopPropagation(),children:e.jsxDEV("div",{className:`w-full border-2 border-dashed rounded-lg p-4 text-center transition-colors flex flex-col items-center justify-center ${w?"border-gray-500 bg-gray-50":"border-gray-300 hover:border-gray-400"} ${_.length>0?"min-h-[80px]":"min-h-[200px]"}`,children:[e.jsxDEV(Ls,{className:`mx-auto text-gray-400 mb-1 ${_.length>0?"h-6 w-6":"h-10 w-10 mb-2"}`},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2987,columnNumber:23},void 0),e.jsxDEV("p",{className:"text-sm font-medium text-gray-700",children:_.length>0?" ":" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2988,columnNumber:23},void 0),_.length===0&&e.jsxDEV("p",{className:"text-xs text-gray-500 mt-1",children:"   Ctrl+V "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2992,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2982,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2977,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2932,columnNumber:17},void 0)})():e.jsxDEV("div",{className:"h-full flex items-center justify-center min-h-[200px]",children:e.jsxDEV("div",{className:"text-center text-gray-400",children:[e.jsxDEV(As,{className:"h-12 w-12 mx-auto mb-2"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:3001,columnNumber:19},void 0),e.jsxDEV("p",{className:"text-sm",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:3002,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:3e3,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2999,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2909,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2869,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2036,columnNumber:7},void 0),X&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"lg:hidden fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:e.jsxDEV("div",{className:"bg-white rounded-lg w-full max-w-md mx-4 max-h-[80vh] overflow-hidden",children:[e.jsxDEV("div",{className:"flex items-center justify-between p-3 border-b",children:[e.jsxDEV("h2",{className:"text-base font-bold text-gray-900",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:3017,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>be(!1),className:"p-1 hover:bg-gray-100 rounded-full",children:e.jsxDEV(ft,{className:"h-4 w-4 text-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:3022,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:3018,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:3016,columnNumber:15},void 0),e.jsxDEV("div",{className:"p-3 overflow-y-auto max-h-[calc(80vh-100px)]",children:[e.jsxDEV("div",{className:"grid grid-cols-2 gap-2 mb-2",children:Yi.map(A=>e.jsxDEV("button",{onClick:()=>{f({...L,process:A}),be(!1)},className:`p-2 text-sm text-center border rounded-lg transition-all ${L.process===A?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:border-gray-400 hover:bg-gray-50"}`,children:A},A,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:3029,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:3027,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>{f({...L,process:""}),be(!1)},className:"w-full p-2 text-sm text-center border-2 border-dashed border-gray-300 rounded-lg hover:border-gray-400 hover:bg-gray-50 text-gray-500",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:3046,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:3026,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:3015,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:3014,columnNumber:11},void 0),e.jsxDEV("div",{className:"hidden lg:block fixed inset-0 z-40",onClick:()=>be(!1),children:e.jsxDEV("div",{onClick:A=>A.stopPropagation(),className:"absolute bg-white rounded-lg shadow-xl border border-gray-200",style:{top:we.current?`${we.current.getBoundingClientRect().bottom+window.scrollY+4}px`:"50%",left:we.current?`${we.current.getBoundingClientRect().left+window.scrollX}px`:"50%"},children:[e.jsxDEV("div",{className:"flex items-center justify-between p-2 border-b",children:[e.jsxDEV("h2",{className:"text-sm font-bold text-gray-900",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:3070,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>be(!1),className:"p-1 hover:bg-gray-100 rounded-full",children:e.jsxDEV(ft,{className:"h-3 w-3 text-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:3075,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:3071,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:3069,columnNumber:15},void 0),e.jsxDEV("div",{className:"p-2",children:[e.jsxDEV("div",{className:"grid grid-cols-4 gap-1.5 mb-2",children:Yi.map(A=>e.jsxDEV("button",{onClick:()=>{f({...L,process:A}),be(!1)},className:`p-1.5 text-xs text-center border rounded-lg transition-all whitespace-nowrap ${L.process===A?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:border-gray-400 hover:bg-gray-50"}`,children:A},A,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:3082,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:3080,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>{f({...L,process:""}),be(!1)},className:"w-full p-1.5 text-xs text-center border-2 border-dashed border-gray-300 rounded-lg hover:border-gray-400 hover:bg-gray-50 text-gray-500",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:3099,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:3079,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:3061,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:3060,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:3012,columnNumber:9},void 0),ge&&e.jsxDEV("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-90",onClick:()=>ee(!1),children:e.jsxDEV("div",{className:"relative max-w-[90vw] max-h-[90vh]",children:[e.jsxDEV("button",{onClick:A=>{A.stopPropagation(),ee(!1)},className:"absolute -top-10 right-0 text-white hover:text-gray-300 transition-colors",children:e.jsxDEV(ft,{className:"h-8 w-8"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:3128,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:3121,columnNumber:13},void 0),e.jsxDEV("img",{src:Y,alt:" ",className:"max-w-full max-h-[90vh] object-contain",onClick:A=>A.stopPropagation()},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:3130,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:3120,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:3116,columnNumber:9},void 0),De&&e.jsxDEV(sy,{projectName:Re,onClose:()=>Be(!1)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:3142,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:1977,columnNumber:5},void 0)},ry=()=>{const[s,n]=l.useState([]),[t,r]=l.useState(null),[i,a]=l.useState(!1);l.useEffect(()=>{o()},[]);const o=async()=>{try{s.length===0&&a(!0);const g=await je.get("/quote-inquiries");n(g.data)}catch(g){console.error("Failed to load inquiries:",g),R.error("  ")}finally{a(!1)}},m=async g=>{try{await je.put(`/quote-inquiries/${g}/read`),n(b=>b.map(p=>p.id===g?{...p,isRead:!0}:p)),window.dispatchEvent(new CustomEvent("quoteInquiryRead"))}catch(b){console.error("Failed to mark as read:",b)}},d=g=>{r(g),g.isRead||m(g.id)},c=async(g,b)=>{if(b.stopPropagation(),!!confirm("  ?"))try{await je.delete(`/quote-inquiries/${g}`),n(p=>p.filter(w=>w.id!==g)),(t==null?void 0:t.id)===g&&r(null),R.success(" ")}catch(p){console.error("Failed to delete inquiry:",p),R.error("  ")}},u=s.filter(g=>!g.isRead).length;return i?e.jsxDEV("div",{className:"flex items-center justify-center h-full",children:e.jsxDEV("div",{className:"text-gray-500",children:" ..."},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:93,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:92,columnNumber:7},void 0):e.jsxDEV("div",{className:"h-full flex flex-col md:flex-row gap-4 p-4",children:[e.jsxDEV("div",{className:`w-full md:w-1/3 bg-white rounded-lg shadow overflow-hidden flex flex-col ${t?"hidden md:flex":"flex"}`,children:[e.jsxDEV("div",{className:"p-4 border-b bg-gray-50",children:e.jsxDEV("h2",{className:"text-lg font-semibold text-gray-900",children:[" ",u>0&&e.jsxDEV("span",{className:"ml-2 px-2 py-1 text-xs bg-red-500 text-white rounded-full",children:u},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:106,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:103,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:102,columnNumber:9},void 0),e.jsxDEV("div",{className:"flex-1 overflow-y-auto",children:s.length===0?e.jsxDEV("div",{className:"p-4 text-center text-gray-500",children:"  "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:115,columnNumber:13},void 0):e.jsxDEV("div",{className:"divide-y",children:s.map(g=>e.jsxDEV("div",{className:`relative group ${(t==null?void 0:t.id)===g.id?"bg-blue-50 border-l-4 border-blue-500":""} ${g.isRead?"":"bg-yellow-50"}`,children:e.jsxDEV("button",{onClick:()=>d(g),className:"w-full p-4 text-left hover:bg-gray-50 transition-colors",children:[e.jsxDEV("div",{className:"flex justify-between items-start mb-2",children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("span",{className:"font-medium text-gray-900",children:g.name},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:133,columnNumber:25},void 0),!g.isRead&&e.jsxDEV("span",{className:"w-2 h-2 bg-red-500 rounded-full"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:135,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:132,columnNumber:23},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("span",{className:"text-xs text-gray-500",children:Le(new Date(g.createdAt),"MM/dd HH:mm")},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:139,columnNumber:25},void 0),e.jsxDEV("button",{onClick:b=>c(g.id,b),className:"p-1 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded transition-colors",title:"",children:e.jsxDEV(Vt,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:147,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:142,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:138,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:131,columnNumber:21},void 0),e.jsxDEV("div",{className:"text-sm text-gray-600 flex items-center gap-1 mb-1",children:[e.jsxDEV(vo,{className:"w-3 h-3"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:153,columnNumber:23},void 0),g.phone]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:152,columnNumber:21},void 0),e.jsxDEV("div",{className:"text-sm text-gray-500 line-clamp-2",children:g.message},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:157,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:127,columnNumber:19},void 0)},g.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:121,columnNumber:17},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:119,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:113,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:101,columnNumber:7},void 0),e.jsxDEV("div",{className:`flex-1 bg-white rounded-lg shadow overflow-hidden ${t?"flex flex-col":"hidden md:flex md:flex-col"}`,children:t?e.jsxDEV("div",{className:"h-full flex flex-col",children:[e.jsxDEV("div",{className:"p-6 border-b bg-gray-50",children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-2",children:[e.jsxDEV("h3",{className:"text-xl font-semibold text-gray-900",children:t.name},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:174,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>r(null),className:"md:hidden px-3 py-1 text-sm bg-gray-200 hover:bg-gray-300 text-gray-700 rounded transition-colors",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:178,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:173,columnNumber:15},void 0),e.jsxDEV("div",{className:"text-sm text-gray-500",children:Le(new Date(t.createdAt),"yyyy MM dd HH:mm")},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:185,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:172,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV("h4",{className:"font-medium text-gray-900 flex items-center gap-2",children:[e.jsxDEV(Tc,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:194,columnNumber:19},void 0)," "]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:193,columnNumber:17},void 0),e.jsxDEV("div",{className:"pl-6 space-y-2",children:[e.jsxDEV("div",{className:"flex items-center gap-2 text-gray-700",children:[e.jsxDEV(vo,{className:"w-4 h-4 text-gray-400"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:199,columnNumber:21},void 0),e.jsxDEV("span",{children:t.phone},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:200,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:198,columnNumber:19},void 0),e.jsxDEV("div",{className:"flex items-center gap-2 text-gray-700",children:[e.jsxDEV(Fc,{className:"w-4 h-4 text-gray-400"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:203,columnNumber:21},void 0),e.jsxDEV("span",{children:t.email},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:204,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:202,columnNumber:19},void 0),t.address&&e.jsxDEV("div",{className:"flex items-center gap-2 text-gray-700",children:[e.jsxDEV(Wc,{className:"w-4 h-4 text-gray-400"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:208,columnNumber:23},void 0),e.jsxDEV("span",{children:t.address},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:209,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:207,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:197,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:192,columnNumber:15},void 0),(t.projectType||t.budget)&&e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV("h4",{className:"font-medium text-gray-900 flex items-center gap-2",children:[e.jsxDEV(qc,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:219,columnNumber:21},void 0)," "]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:218,columnNumber:19},void 0),e.jsxDEV("div",{className:"pl-6 space-y-2",children:[t.projectType&&e.jsxDEV("div",{className:"text-gray-700",children:[e.jsxDEV("span",{className:"text-gray-500",children:" : "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:225,columnNumber:25},void 0),t.projectType]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:224,columnNumber:23},void 0),t.budget&&e.jsxDEV("div",{className:"text-gray-700",children:[e.jsxDEV("span",{className:"text-gray-500",children:": "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:231,columnNumber:25},void 0),t.budget]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:230,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:222,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:217,columnNumber:17},void 0),e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV("h4",{className:"font-medium text-gray-900",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:241,columnNumber:17},void 0),e.jsxDEV("div",{className:"pl-6 text-gray-700 whitespace-pre-wrap bg-gray-50 p-4 rounded-lg",children:t.message},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:242,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:240,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:190,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:171,columnNumber:11},void 0):e.jsxDEV("div",{className:"h-full flex items-center justify-center text-gray-500",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:249,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:169,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:99,columnNumber:5},void 0)},iy=()=>{const{login:s}=Qt(),[n,t]=l.useState(!1),{register:r,handleSubmit:i,setValue:a,formState:{errors:o}}=pr(),m=async c=>{t(!0);try{await s(c.username,c.password)}finally{t(!1)}},d=c=>{a("username",c)};return e.jsxDEV("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:e.jsxDEV("div",{className:"max-w-md w-full",children:e.jsxDEV("div",{className:"bg-white border border-gray-200 rounded-lg p-8",children:[e.jsxDEV("div",{className:"text-center mb-8",children:[e.jsxDEV("h2",{className:"text-3xl font-bold text-gray-900",children:"HV LAB"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Login.tsx",lineNumber:39,columnNumber:13},void 0),e.jsxDEV("p",{className:"mt-2 text-sm text-gray-600",children:"   "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Login.tsx",lineNumber:40,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Login.tsx",lineNumber:38,columnNumber:11},void 0),e.jsxDEV("form",{onSubmit:i(m),className:"space-y-6",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-2",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Login.tsx",lineNumber:47,columnNumber:15},void 0),e.jsxDEV("input",{...r("username",{required:" "}),type:"text",className:"input",placeholder:" ",autoFocus:!0},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Login.tsx",lineNumber:50,columnNumber:15},void 0),o.username&&e.jsxDEV("p",{className:"mt-1 text-sm text-red-600",children:o.username.message},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Login.tsx",lineNumber:60,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Login.tsx",lineNumber:46,columnNumber:13},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Login.tsx",lineNumber:65,columnNumber:15},void 0),e.jsxDEV("input",{...r("password",{required:" "}),type:"password",className:"input",placeholder:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Login.tsx",lineNumber:68,columnNumber:15},void 0),o.password&&e.jsxDEV("p",{className:"mt-1 text-sm text-red-600",children:o.password.message},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Login.tsx",lineNumber:77,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Login.tsx",lineNumber:64,columnNumber:13},void 0),e.jsxDEV("button",{type:"submit",disabled:n,className:"w-full btn btn-primary flex items-center justify-center",children:n?e.jsxDEV("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Login.tsx",lineNumber:87,columnNumber:17},void 0):e.jsxDEV(e.Fragment,{children:[e.jsxDEV(Oc,{className:"mr-2 h-5 w-5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Login.tsx",lineNumber:90,columnNumber:19},void 0),""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Login.tsx",lineNumber:89,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Login.tsx",lineNumber:81,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Login.tsx",lineNumber:45,columnNumber:11},void 0),e.jsxDEV("div",{className:"mt-6 border-t pt-6",children:[e.jsxDEV("p",{className:"text-sm text-gray-600 text-center mb-4",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Login.tsx",lineNumber:98,columnNumber:13},void 0),e.jsxDEV("div",{className:"grid grid-cols-3 gap-2",children:["","","","","","",""].map(c=>e.jsxDEV("button",{onClick:()=>d(c),className:"px-3 py-2 text-sm bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",type:"button",children:c},c,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Login.tsx",lineNumber:101,columnNumber:17},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Login.tsx",lineNumber:99,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Login.tsx",lineNumber:97,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Login.tsx",lineNumber:37,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Login.tsx",lineNumber:36,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Login.tsx",lineNumber:35,columnNumber:5},void 0)},ay=s=>{try{const n=window.AudioContext||window.webkitAudioContext,t=new n,r=s==="emergency"?5:3;let i=0;const a=()=>{if(i>=r)return;const o=t.createOscillator(),m=t.createGain();o.connect(m),m.connect(t.destination),o.frequency.value=s==="emergency"?1e3:800,o.type="sine",m.gain.setValueAtTime(.3,t.currentTime),m.gain.exponentialRampToValueAtTime(.01,t.currentTime+.5),o.start(t.currentTime),o.stop(t.currentTime+.5),i++,i<r&&setTimeout(a,700)};a()}catch(n){console.error("  :",n)}},oy=s=>{if("vibrate"in navigator){const n=s==="emergency"?[200,200,200,200,200,200,200,200,200,200]:[200,200,200,200,200,200];navigator.vibrate(n)}},my=(s,n)=>{ay(s),oy(s),"Notification"in window&&Notification.permission==="granted"&&new Notification("  ",{body:n,icon:"/icon-192x192.png",badge:"/icon-192x192.png",tag:"urgent-payment",requireInteraction:!0})},ly=async()=>"Notification"in window&&Notification.permission==="default"?await Notification.requestPermission()==="granted":Notification.permission==="granted",dy=new Vc({defaultOptions:{queries:{staleTime:1e3*60*5,refetchOnWindowFocus:!1}}});function cy(){const[s,n]=l.useState(!1);return l.useEffect(()=>{const t=$p({immediate:!0,onNeedRefresh(){console.log("   ."),n(!0),R.loading("   ...",{duration:2e3}),setTimeout(()=>{t(!0).then(()=>{R.dismiss(),R.success(" !",{duration:2e3,icon:""}),setTimeout(()=>{window.location.reload()},1e3)})},1500)},onOfflineReady(){console.log("    ")},onRegisteredSW(m,d){console.log(" Service Worker :",m),d&&setInterval(()=>{console.log("   ..."),d.update()},6e4)},onRegisterError(m){console.error(" Service Worker  :",m)}});ly();const r=async()=>{try{const d=await(await fetch("/version.json?t="+Date.now())).json(),c=localStorage.getItem("app_version");c&&c!==d.version?(console.log("   :",d.version),localStorage.setItem("app_version",d.version),"serviceWorker"in navigator&&(await navigator.serviceWorker.ready).update()):c||localStorage.setItem("app_version",d.version)}catch(m){console.error("  :",m)}};setTimeout(r,5e3);const i=setInterval(r,3e4),o=Xn("/",{transports:["websocket","polling"]});return o.on("connect",()=>{console.log(" Socket.IO ")}),o.on("urgent-payment",m=>{console.log("    :",m);const d=`${m.project}  ${m.amount.toLocaleString()}  `;my(m.urgency,d)}),o.on("disconnect",()=>{console.log(" Socket.IO  ")}),()=>{o.disconnect(),clearInterval(i)}},[]),e.jsxDEV(Cc,{client:dy,children:e.jsxDEV(kc,{children:e.jsxDEV(Yp,{children:[e.jsxDEV(vc,{children:[e.jsxDEV(qt,{path:"/login",element:e.jsxDEV(iy,{},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:152,columnNumber:43},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:152,columnNumber:13},this),e.jsxDEV(qt,{path:"/",element:e.jsxDEV(Hf,{},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:153,columnNumber:38},this),children:[e.jsxDEV(qt,{index:!0,element:e.jsxDEV(mi,{to:"/dashboard",replace:!0},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:154,columnNumber:37},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:154,columnNumber:15},this),e.jsxDEV(qt,{path:"dashboard",element:e.jsxDEV(sg,{},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:155,columnNumber:48},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:155,columnNumber:15},this),e.jsxDEV(qt,{path:"projects",element:e.jsxDEV(lg,{},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:156,columnNumber:47},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:156,columnNumber:15},this),e.jsxDEV(qt,{path:"schedule",element:e.jsxDEV(Vb,{},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:157,columnNumber:47},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:157,columnNumber:15},this),e.jsxDEV(qt,{path:"drawings",element:e.jsxDEV(Eb,{},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:158,columnNumber:47},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:158,columnNumber:15},this),e.jsxDEV(qt,{path:"site-log",element:e.jsxDEV(Ab,{},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:159,columnNumber:47},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:159,columnNumber:15},this),e.jsxDEV(qt,{path:"after-service",element:e.jsxDEV(wb,{},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:160,columnNumber:52},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:160,columnNumber:15},this),e.jsxDEV(qt,{path:"additional-work",element:e.jsxDEV(jb,{},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:161,columnNumber:54},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:161,columnNumber:15},this),e.jsxDEV(qt,{path:"construction-payment",element:e.jsxDEV(Hb,{},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:162,columnNumber:59},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:162,columnNumber:15},this),e.jsxDEV(qt,{path:"contractors",element:e.jsxDEV(Bb,{},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:163,columnNumber:50},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:163,columnNumber:15},this),e.jsxDEV(qt,{path:"work-request",element:e.jsxDEV(Ub,{},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:164,columnNumber:51},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:164,columnNumber:15},this),e.jsxDEV(qt,{path:"finish-check",element:e.jsxDEV(Sb,{},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:165,columnNumber:51},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:165,columnNumber:15},this),e.jsxDEV(qt,{path:"specbook",element:e.jsxDEV(J0,{},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:166,columnNumber:47},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:166,columnNumber:15},this),e.jsxDEV(qt,{path:"estimate-preview",element:e.jsxDEV(G0,{},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:167,columnNumber:55},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:167,columnNumber:15},this),e.jsxDEV(qt,{path:"execution-history",element:e.jsxDEV(ty,{},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:168,columnNumber:56},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:168,columnNumber:15},this),e.jsxDEV(qt,{path:"payments",element:e.jsxDEV(ny,{},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:169,columnNumber:47},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:169,columnNumber:15},this),e.jsxDEV(qt,{path:"quote-inquiry",element:e.jsxDEV(ry,{},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:170,columnNumber:52},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:170,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:153,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:151,columnNumber:11},this),e.jsxDEV(Ku,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#fff",color:"#363636",border:"1px solid #e5e5e5"}}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:173,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:150,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:149,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:148,columnNumber:5},this)}"serviceWorker"in navigator&&navigator.serviceWorker.getRegistrations().then(function(s){for(const n of s)n.update()});Qm(document.getElementById("root")).render(e.jsxDEV(l.StrictMode,{children:e.jsxDEV(cy,{},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/main.tsx",lineNumber:18,columnNumber:5},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/main.tsx",lineNumber:17,columnNumber:3},void 0));
