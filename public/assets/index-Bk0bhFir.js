var M0=e=>{throw TypeError(e)};var tE=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Jh=(e,t,r)=>t.has(e)||M0("Cannot "+r);var ie=(e,t,r)=>(Jh(e,t,"read from private field"),r?r.call(e):t.get(e)),He=(e,t,r)=>t.has(e)?M0("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),$e=(e,t,r,n)=>(Jh(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),sr=(e,t,r)=>(Jh(e,t,"access private method"),r);var vu=(e,t,r,n)=>({set _(s){$e(e,t,s,r)},get _(){return ie(e,t,n)}});var fne=tE((Mne,Md)=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}})();var nn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function wr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var lN={exports:{}},Of={},cN={exports:{}},Be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fc=Symbol.for("react.element"),rE=Symbol.for("react.portal"),nE=Symbol.for("react.fragment"),sE=Symbol.for("react.strict_mode"),aE=Symbol.for("react.profiler"),oE=Symbol.for("react.provider"),iE=Symbol.for("react.context"),lE=Symbol.for("react.forward_ref"),cE=Symbol.for("react.suspense"),uE=Symbol.for("react.memo"),dE=Symbol.for("react.lazy"),R0=Symbol.iterator;function fE(e){return e===null||typeof e!="object"?null:(e=R0&&e[R0]||e["@@iterator"],typeof e=="function"?e:null)}var uN={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},dN=Object.assign,fN={};function Ci(e,t,r){this.props=e,this.context=t,this.refs=fN,this.updater=r||uN}Ci.prototype.isReactComponent={};Ci.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ci.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function hN(){}hN.prototype=Ci.prototype;function Xg(e,t,r){this.props=e,this.context=t,this.refs=fN,this.updater=r||uN}var Jg=Xg.prototype=new hN;Jg.constructor=Xg;dN(Jg,Ci.prototype);Jg.isPureReactComponent=!0;var O0=Array.isArray,mN=Object.prototype.hasOwnProperty,Zg={current:null},pN={key:!0,ref:!0,__self:!0,__source:!0};function gN(e,t,r){var n,s={},a=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(a=""+t.key),t)mN.call(t,n)&&!pN.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:Fc,type:e,key:a,ref:i,props:s,_owner:Zg.current}}function hE(e,t){return{$$typeof:Fc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ey(e){return typeof e=="object"&&e!==null&&e.$$typeof===Fc}function mE(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var $0=/\/+/g;function Zh(e,t){return typeof e=="object"&&e!==null&&e.key!=null?mE(""+e.key):t.toString(36)}function td(e,t,r,n,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(a){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Fc:case rE:i=!0}}if(i)return i=e,s=s(i),e=n===""?"."+Zh(i,0):n,O0(s)?(r="",e!=null&&(r=e.replace($0,"$&/")+"/"),td(s,t,r,"",function(u){return u})):s!=null&&(ey(s)&&(s=hE(s,r+(!s.key||i&&i.key===s.key?"":(""+s.key).replace($0,"$&/")+"/")+e)),t.push(s)),1;if(i=0,n=n===""?".":n+":",O0(e))for(var l=0;l<e.length;l++){a=e[l];var c=n+Zh(a,l);i+=td(a,t,r,c,s)}else if(c=fE(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=n+Zh(a,l++),i+=td(a,t,r,c,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function xu(e,t,r){if(e==null)return e;var n=[],s=0;return td(e,n,"","",function(a){return t.call(r,a,s++)}),n}function pE(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Nr={current:null},rd={transition:null},gE={ReactCurrentDispatcher:Nr,ReactCurrentBatchConfig:rd,ReactCurrentOwner:Zg};function yN(){throw Error("act(...) is not supported in production builds of React.")}Be.Children={map:xu,forEach:function(e,t,r){xu(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return xu(e,function(){t++}),t},toArray:function(e){return xu(e,function(t){return t})||[]},only:function(e){if(!ey(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Be.Component=Ci;Be.Fragment=nE;Be.Profiler=aE;Be.PureComponent=Xg;Be.StrictMode=sE;Be.Suspense=cE;Be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gE;Be.act=yN;Be.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=dN({},e.props),s=e.key,a=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,i=Zg.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)mN.call(t,c)&&!pN.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Fc,type:e.type,key:s,ref:a,props:n,_owner:i}};Be.createContext=function(e){return e={$$typeof:iE,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:oE,_context:e},e.Consumer=e};Be.createElement=gN;Be.createFactory=function(e){var t=gN.bind(null,e);return t.type=e,t};Be.createRef=function(){return{current:null}};Be.forwardRef=function(e){return{$$typeof:lE,render:e}};Be.isValidElement=ey;Be.lazy=function(e){return{$$typeof:dE,_payload:{_status:-1,_result:e},_init:pE}};Be.memo=function(e,t){return{$$typeof:uE,type:e,compare:t===void 0?null:t}};Be.startTransition=function(e){var t=rd.transition;rd.transition={};try{e()}finally{rd.transition=t}};Be.unstable_act=yN;Be.useCallback=function(e,t){return Nr.current.useCallback(e,t)};Be.useContext=function(e){return Nr.current.useContext(e)};Be.useDebugValue=function(){};Be.useDeferredValue=function(e){return Nr.current.useDeferredValue(e)};Be.useEffect=function(e,t){return Nr.current.useEffect(e,t)};Be.useId=function(){return Nr.current.useId()};Be.useImperativeHandle=function(e,t,r){return Nr.current.useImperativeHandle(e,t,r)};Be.useInsertionEffect=function(e,t){return Nr.current.useInsertionEffect(e,t)};Be.useLayoutEffect=function(e,t){return Nr.current.useLayoutEffect(e,t)};Be.useMemo=function(e,t){return Nr.current.useMemo(e,t)};Be.useReducer=function(e,t,r){return Nr.current.useReducer(e,t,r)};Be.useRef=function(e){return Nr.current.useRef(e)};Be.useState=function(e){return Nr.current.useState(e)};Be.useSyncExternalStore=function(e,t,r){return Nr.current.useSyncExternalStore(e,t,r)};Be.useTransition=function(){return Nr.current.useTransition()};Be.version="18.3.1";cN.exports=Be;var w=cN.exports;const F=wr(w);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yE=w,vE=Symbol.for("react.element"),xE=Symbol.for("react.fragment"),bE=Object.prototype.hasOwnProperty,wE=yE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,NE={key:!0,ref:!0,__self:!0,__source:!0};function vN(e,t,r){var n,s={},a=null,i=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)bE.call(t,n)&&!NE.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:vE,type:e,key:a,ref:i,props:s,_owner:wE.current}}Of.Fragment=xE;Of.jsx=vN;Of.jsxs=vN;lN.exports=Of;var o=lN.exports,xN={exports:{}},Vr={},bN={exports:{}},wN={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(Z,U){var oe=Z.length;Z.push(U);e:for(;0<oe;){var G=oe-1>>>1,W=Z[G];if(0<s(W,U))Z[G]=U,Z[oe]=W,oe=G;else break e}}function r(Z){return Z.length===0?null:Z[0]}function n(Z){if(Z.length===0)return null;var U=Z[0],oe=Z.pop();if(oe!==U){Z[0]=oe;e:for(var G=0,W=Z.length,D=W>>>1;G<D;){var T=2*(G+1)-1,z=Z[T],ne=T+1,he=Z[ne];if(0>s(z,oe))ne<W&&0>s(he,z)?(Z[G]=he,Z[ne]=oe,G=ne):(Z[G]=z,Z[T]=oe,G=T);else if(ne<W&&0>s(he,oe))Z[G]=he,Z[ne]=oe,G=ne;else break e}}return U}function s(Z,U){var oe=Z.sortIndex-U.sortIndex;return oe!==0?oe:Z.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var c=[],u=[],d=1,f=null,h=3,y=!1,g=!1,m=!1,N=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(Z){for(var U=r(u);U!==null;){if(U.callback===null)n(u);else if(U.startTime<=Z)n(u),U.sortIndex=U.expirationTime,t(c,U);else break;U=r(u)}}function x(Z){if(m=!1,b(Z),!g)if(r(c)!==null)g=!0,ee(S);else{var U=r(u);U!==null&&de(x,U.startTime-Z)}}function S(Z,U){g=!1,m&&(m=!1,v(A),A=-1),y=!0;var oe=h;try{for(b(U),f=r(c);f!==null&&(!(f.expirationTime>U)||Z&&!V());){var G=f.callback;if(typeof G=="function"){f.callback=null,h=f.priorityLevel;var W=G(f.expirationTime<=U);U=e.unstable_now(),typeof W=="function"?f.callback=W:f===r(c)&&n(c),b(U)}else n(c);f=r(c)}if(f!==null)var D=!0;else{var T=r(u);T!==null&&de(x,T.startTime-U),D=!1}return D}finally{f=null,h=oe,y=!1}}var k=!1,_=null,A=-1,M=5,$=-1;function V(){return!(e.unstable_now()-$<M)}function H(){if(_!==null){var Z=e.unstable_now();$=Z;var U=!0;try{U=_(!0,Z)}finally{U?Y():(k=!1,_=null)}}else k=!1}var Y;if(typeof p=="function")Y=function(){p(H)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,ce=K.port2;K.port1.onmessage=H,Y=function(){ce.postMessage(null)}}else Y=function(){N(H,0)};function ee(Z){_=Z,k||(k=!0,Y())}function de(Z,U){A=N(function(){Z(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Z){Z.callback=null},e.unstable_continueExecution=function(){g||y||(g=!0,ee(S))},e.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<Z?Math.floor(1e3/Z):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(Z){switch(h){case 1:case 2:case 3:var U=3;break;default:U=h}var oe=h;h=U;try{return Z()}finally{h=oe}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Z,U){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var oe=h;h=Z;try{return U()}finally{h=oe}},e.unstable_scheduleCallback=function(Z,U,oe){var G=e.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?G+oe:G):oe=G,Z){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=oe+W,Z={id:d++,callback:U,priorityLevel:Z,startTime:oe,expirationTime:W,sortIndex:-1},oe>G?(Z.sortIndex=oe,t(u,Z),r(c)===null&&Z===r(u)&&(m?(v(A),A=-1):m=!0,de(x,oe-G))):(Z.sortIndex=W,t(c,Z),g||y||(g=!0,ee(S))),Z},e.unstable_shouldYield=V,e.unstable_wrapCallback=function(Z){var U=h;return function(){var oe=h;h=U;try{return Z.apply(this,arguments)}finally{h=oe}}}})(wN);bN.exports=wN;var jE=bN.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SE=w,Hr=jE;function ge(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var NN=new Set,Yl={};function jo(e,t){fi(e,t),fi(e+"Capture",t)}function fi(e,t){for(Yl[e]=t,e=0;e<t.length;e++)NN.add(t[e])}var Ps=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),op=Object.prototype.hasOwnProperty,kE=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,I0={},L0={};function DE(e){return op.call(L0,e)?!0:op.call(I0,e)?!1:kE.test(e)?L0[e]=!0:(I0[e]=!0,!1)}function CE(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function EE(e,t,r,n){if(t===null||typeof t>"u"||CE(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function jr(e,t,r,n,s,a,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var tr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){tr[e]=new jr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];tr[t]=new jr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){tr[e]=new jr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){tr[e]=new jr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){tr[e]=new jr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){tr[e]=new jr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){tr[e]=new jr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){tr[e]=new jr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){tr[e]=new jr(e,5,!1,e.toLowerCase(),null,!1,!1)});var ty=/[\-:]([a-z])/g;function ry(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ty,ry);tr[t]=new jr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ty,ry);tr[t]=new jr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ty,ry);tr[t]=new jr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){tr[e]=new jr(e,1,!1,e.toLowerCase(),null,!1,!1)});tr.xlinkHref=new jr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){tr[e]=new jr(e,1,!1,e.toLowerCase(),null,!0,!0)});function ny(e,t,r,n){var s=tr.hasOwnProperty(t)?tr[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(EE(t,r,s,n)&&(r=null),n||s===null?DE(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Fs=SE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,bu=Symbol.for("react.element"),Ro=Symbol.for("react.portal"),Oo=Symbol.for("react.fragment"),sy=Symbol.for("react.strict_mode"),ip=Symbol.for("react.profiler"),jN=Symbol.for("react.provider"),SN=Symbol.for("react.context"),ay=Symbol.for("react.forward_ref"),lp=Symbol.for("react.suspense"),cp=Symbol.for("react.suspense_list"),oy=Symbol.for("react.memo"),Xs=Symbol.for("react.lazy"),kN=Symbol.for("react.offscreen"),F0=Symbol.iterator;function rl(e){return e===null||typeof e!="object"?null:(e=F0&&e[F0]||e["@@iterator"],typeof e=="function"?e:null)}var kt=Object.assign,em;function bl(e){if(em===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);em=t&&t[1]||""}return`
`+em+e}var tm=!1;function rm(e,t){if(!e||tm)return"";tm=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),a=n.stack.split(`
`),i=s.length-1,l=a.length-1;1<=i&&0<=l&&s[i]!==a[l];)l--;for(;1<=i&&0<=l;i--,l--)if(s[i]!==a[l]){if(i!==1||l!==1)do if(i--,l--,0>l||s[i]!==a[l]){var c=`
`+s[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=l);break}}}finally{tm=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?bl(e):""}function _E(e){switch(e.tag){case 5:return bl(e.type);case 16:return bl("Lazy");case 13:return bl("Suspense");case 19:return bl("SuspenseList");case 0:case 2:case 15:return e=rm(e.type,!1),e;case 11:return e=rm(e.type.render,!1),e;case 1:return e=rm(e.type,!0),e;default:return""}}function up(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Oo:return"Fragment";case Ro:return"Portal";case ip:return"Profiler";case sy:return"StrictMode";case lp:return"Suspense";case cp:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case SN:return(e.displayName||"Context")+".Consumer";case jN:return(e._context.displayName||"Context")+".Provider";case ay:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case oy:return t=e.displayName||null,t!==null?t:up(e.type)||"Memo";case Xs:t=e._payload,e=e._init;try{return up(e(t))}catch{}}return null}function TE(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return up(t);case 8:return t===sy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ka(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function DN(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function PE(e){var t=DN(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){n=""+i,a.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function wu(e){e._valueTracker||(e._valueTracker=PE(e))}function CN(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=DN(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Rd(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function dp(e,t){var r=t.checked;return kt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function W0(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=ka(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function EN(e,t){t=t.checked,t!=null&&ny(e,"checked",t,!1)}function fp(e,t){EN(e,t);var r=ka(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?hp(e,t.type,r):t.hasOwnProperty("defaultValue")&&hp(e,t.type,ka(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function B0(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function hp(e,t,r){(t!=="number"||Rd(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var wl=Array.isArray;function qo(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+ka(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function mp(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ge(91));return kt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function U0(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(ge(92));if(wl(r)){if(1<r.length)throw Error(ge(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:ka(r)}}function _N(e,t){var r=ka(t.value),n=ka(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function H0(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function TN(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pp(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?TN(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Nu,PN=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Nu=Nu||document.createElement("div"),Nu.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Nu.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ql(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var El={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},AE=["Webkit","ms","Moz","O"];Object.keys(El).forEach(function(e){AE.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),El[t]=El[e]})});function AN(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||El.hasOwnProperty(e)&&El[e]?(""+t).trim():t+"px"}function MN(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=AN(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var ME=kt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gp(e,t){if(t){if(ME[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ge(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ge(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ge(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ge(62))}}function yp(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vp=null;function iy(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var xp=null,Ko=null,Go=null;function z0(e){if(e=Uc(e)){if(typeof xp!="function")throw Error(ge(280));var t=e.stateNode;t&&(t=Wf(t),xp(e.stateNode,e.type,t))}}function RN(e){Ko?Go?Go.push(e):Go=[e]:Ko=e}function ON(){if(Ko){var e=Ko,t=Go;if(Go=Ko=null,z0(e),t)for(e=0;e<t.length;e++)z0(t[e])}}function $N(e,t){return e(t)}function IN(){}var nm=!1;function LN(e,t,r){if(nm)return e(t,r);nm=!0;try{return $N(e,t,r)}finally{nm=!1,(Ko!==null||Go!==null)&&(IN(),ON())}}function Kl(e,t){var r=e.stateNode;if(r===null)return null;var n=Wf(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(ge(231,t,typeof r));return r}var bp=!1;if(Ps)try{var nl={};Object.defineProperty(nl,"passive",{get:function(){bp=!0}}),window.addEventListener("test",nl,nl),window.removeEventListener("test",nl,nl)}catch{bp=!1}function RE(e,t,r,n,s,a,i,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var _l=!1,Od=null,$d=!1,wp=null,OE={onError:function(e){_l=!0,Od=e}};function $E(e,t,r,n,s,a,i,l,c){_l=!1,Od=null,RE.apply(OE,arguments)}function IE(e,t,r,n,s,a,i,l,c){if($E.apply(this,arguments),_l){if(_l){var u=Od;_l=!1,Od=null}else throw Error(ge(198));$d||($d=!0,wp=u)}}function So(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function FN(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function V0(e){if(So(e)!==e)throw Error(ge(188))}function LE(e){var t=e.alternate;if(!t){if(t=So(e),t===null)throw Error(ge(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var a=s.alternate;if(a===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===r)return V0(s),e;if(a===n)return V0(s),t;a=a.sibling}throw Error(ge(188))}if(r.return!==n.return)r=s,n=a;else{for(var i=!1,l=s.child;l;){if(l===r){i=!0,r=s,n=a;break}if(l===n){i=!0,n=s,r=a;break}l=l.sibling}if(!i){for(l=a.child;l;){if(l===r){i=!0,r=a,n=s;break}if(l===n){i=!0,n=a,r=s;break}l=l.sibling}if(!i)throw Error(ge(189))}}if(r.alternate!==n)throw Error(ge(190))}if(r.tag!==3)throw Error(ge(188));return r.stateNode.current===r?e:t}function WN(e){return e=LE(e),e!==null?BN(e):null}function BN(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=BN(e);if(t!==null)return t;e=e.sibling}return null}var UN=Hr.unstable_scheduleCallback,Y0=Hr.unstable_cancelCallback,FE=Hr.unstable_shouldYield,WE=Hr.unstable_requestPaint,Pt=Hr.unstable_now,BE=Hr.unstable_getCurrentPriorityLevel,ly=Hr.unstable_ImmediatePriority,HN=Hr.unstable_UserBlockingPriority,Id=Hr.unstable_NormalPriority,UE=Hr.unstable_LowPriority,zN=Hr.unstable_IdlePriority,$f=null,es=null;function HE(e){if(es&&typeof es.onCommitFiberRoot=="function")try{es.onCommitFiberRoot($f,e,void 0,(e.current.flags&128)===128)}catch{}}var Dn=Math.clz32?Math.clz32:YE,zE=Math.log,VE=Math.LN2;function YE(e){return e>>>=0,e===0?32:31-(zE(e)/VE|0)|0}var ju=64,Su=4194304;function Nl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ld(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,a=e.pingedLanes,i=r&268435455;if(i!==0){var l=i&~s;l!==0?n=Nl(l):(a&=i,a!==0&&(n=Nl(a)))}else i=r&~s,i!==0?n=Nl(i):a!==0&&(n=Nl(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Dn(t),s=1<<r,n|=e[r],t&=~s;return n}function qE(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function KE(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-Dn(a),l=1<<i,c=s[i];c===-1?(!(l&r)||l&n)&&(s[i]=qE(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function Np(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function VN(){var e=ju;return ju<<=1,!(ju&4194240)&&(ju=64),e}function sm(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Wc(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Dn(t),e[t]=r}function GE(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Dn(r),a=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~a}}function cy(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Dn(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var ot=0;function YN(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var qN,uy,KN,GN,QN,jp=!1,ku=[],pa=null,ga=null,ya=null,Gl=new Map,Ql=new Map,ea=[],QE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function q0(e,t){switch(e){case"focusin":case"focusout":pa=null;break;case"dragenter":case"dragleave":ga=null;break;case"mouseover":case"mouseout":ya=null;break;case"pointerover":case"pointerout":Gl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ql.delete(t.pointerId)}}function sl(e,t,r,n,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[s]},t!==null&&(t=Uc(t),t!==null&&uy(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function XE(e,t,r,n,s){switch(t){case"focusin":return pa=sl(pa,e,t,r,n,s),!0;case"dragenter":return ga=sl(ga,e,t,r,n,s),!0;case"mouseover":return ya=sl(ya,e,t,r,n,s),!0;case"pointerover":var a=s.pointerId;return Gl.set(a,sl(Gl.get(a)||null,e,t,r,n,s)),!0;case"gotpointercapture":return a=s.pointerId,Ql.set(a,sl(Ql.get(a)||null,e,t,r,n,s)),!0}return!1}function XN(e){var t=za(e.target);if(t!==null){var r=So(t);if(r!==null){if(t=r.tag,t===13){if(t=FN(r),t!==null){e.blockedOn=t,QN(e.priority,function(){KN(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function nd(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Sp(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);vp=n,r.target.dispatchEvent(n),vp=null}else return t=Uc(r),t!==null&&uy(t),e.blockedOn=r,!1;t.shift()}return!0}function K0(e,t,r){nd(e)&&r.delete(t)}function JE(){jp=!1,pa!==null&&nd(pa)&&(pa=null),ga!==null&&nd(ga)&&(ga=null),ya!==null&&nd(ya)&&(ya=null),Gl.forEach(K0),Ql.forEach(K0)}function al(e,t){e.blockedOn===t&&(e.blockedOn=null,jp||(jp=!0,Hr.unstable_scheduleCallback(Hr.unstable_NormalPriority,JE)))}function Xl(e){function t(s){return al(s,e)}if(0<ku.length){al(ku[0],e);for(var r=1;r<ku.length;r++){var n=ku[r];n.blockedOn===e&&(n.blockedOn=null)}}for(pa!==null&&al(pa,e),ga!==null&&al(ga,e),ya!==null&&al(ya,e),Gl.forEach(t),Ql.forEach(t),r=0;r<ea.length;r++)n=ea[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<ea.length&&(r=ea[0],r.blockedOn===null);)XN(r),r.blockedOn===null&&ea.shift()}var Qo=Fs.ReactCurrentBatchConfig,Fd=!0;function ZE(e,t,r,n){var s=ot,a=Qo.transition;Qo.transition=null;try{ot=1,dy(e,t,r,n)}finally{ot=s,Qo.transition=a}}function e_(e,t,r,n){var s=ot,a=Qo.transition;Qo.transition=null;try{ot=4,dy(e,t,r,n)}finally{ot=s,Qo.transition=a}}function dy(e,t,r,n){if(Fd){var s=Sp(e,t,r,n);if(s===null)mm(e,t,n,Wd,r),q0(e,n);else if(XE(s,e,t,r,n))n.stopPropagation();else if(q0(e,n),t&4&&-1<QE.indexOf(e)){for(;s!==null;){var a=Uc(s);if(a!==null&&qN(a),a=Sp(e,t,r,n),a===null&&mm(e,t,n,Wd,r),a===s)break;s=a}s!==null&&n.stopPropagation()}else mm(e,t,n,null,r)}}var Wd=null;function Sp(e,t,r,n){if(Wd=null,e=iy(n),e=za(e),e!==null)if(t=So(e),t===null)e=null;else if(r=t.tag,r===13){if(e=FN(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Wd=e,null}function JN(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(BE()){case ly:return 1;case HN:return 4;case Id:case UE:return 16;case zN:return 536870912;default:return 16}default:return 16}}var ua=null,fy=null,sd=null;function ZN(){if(sd)return sd;var e,t=fy,r=t.length,n,s="value"in ua?ua.value:ua.textContent,a=s.length;for(e=0;e<r&&t[e]===s[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===s[a-n];n++);return sd=s.slice(e,1<n?1-n:void 0)}function ad(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Du(){return!0}function G0(){return!1}function Yr(e){function t(r,n,s,a,i){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=a,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Du:G0,this.isPropagationStopped=G0,this}return kt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Du)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Du)},persist:function(){},isPersistent:Du}),t}var Ei={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hy=Yr(Ei),Bc=kt({},Ei,{view:0,detail:0}),t_=Yr(Bc),am,om,ol,If=kt({},Bc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:my,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ol&&(ol&&e.type==="mousemove"?(am=e.screenX-ol.screenX,om=e.screenY-ol.screenY):om=am=0,ol=e),am)},movementY:function(e){return"movementY"in e?e.movementY:om}}),Q0=Yr(If),r_=kt({},If,{dataTransfer:0}),n_=Yr(r_),s_=kt({},Bc,{relatedTarget:0}),im=Yr(s_),a_=kt({},Ei,{animationName:0,elapsedTime:0,pseudoElement:0}),o_=Yr(a_),i_=kt({},Ei,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),l_=Yr(i_),c_=kt({},Ei,{data:0}),X0=Yr(c_),u_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},d_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},f_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function h_(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=f_[e])?!!t[e]:!1}function my(){return h_}var m_=kt({},Bc,{key:function(e){if(e.key){var t=u_[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ad(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?d_[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:my,charCode:function(e){return e.type==="keypress"?ad(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ad(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),p_=Yr(m_),g_=kt({},If,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),J0=Yr(g_),y_=kt({},Bc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:my}),v_=Yr(y_),x_=kt({},Ei,{propertyName:0,elapsedTime:0,pseudoElement:0}),b_=Yr(x_),w_=kt({},If,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),N_=Yr(w_),j_=[9,13,27,32],py=Ps&&"CompositionEvent"in window,Tl=null;Ps&&"documentMode"in document&&(Tl=document.documentMode);var S_=Ps&&"TextEvent"in window&&!Tl,ej=Ps&&(!py||Tl&&8<Tl&&11>=Tl),Z0=" ",ex=!1;function tj(e,t){switch(e){case"keyup":return j_.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rj(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var $o=!1;function k_(e,t){switch(e){case"compositionend":return rj(t);case"keypress":return t.which!==32?null:(ex=!0,Z0);case"textInput":return e=t.data,e===Z0&&ex?null:e;default:return null}}function D_(e,t){if($o)return e==="compositionend"||!py&&tj(e,t)?(e=ZN(),sd=fy=ua=null,$o=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ej&&t.locale!=="ko"?null:t.data;default:return null}}var C_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tx(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!C_[e.type]:t==="textarea"}function nj(e,t,r,n){RN(n),t=Bd(t,"onChange"),0<t.length&&(r=new hy("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Pl=null,Jl=null;function E_(e){mj(e,0)}function Lf(e){var t=Fo(e);if(CN(t))return e}function __(e,t){if(e==="change")return t}var sj=!1;if(Ps){var lm;if(Ps){var cm="oninput"in document;if(!cm){var rx=document.createElement("div");rx.setAttribute("oninput","return;"),cm=typeof rx.oninput=="function"}lm=cm}else lm=!1;sj=lm&&(!document.documentMode||9<document.documentMode)}function nx(){Pl&&(Pl.detachEvent("onpropertychange",aj),Jl=Pl=null)}function aj(e){if(e.propertyName==="value"&&Lf(Jl)){var t=[];nj(t,Jl,e,iy(e)),LN(E_,t)}}function T_(e,t,r){e==="focusin"?(nx(),Pl=t,Jl=r,Pl.attachEvent("onpropertychange",aj)):e==="focusout"&&nx()}function P_(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Lf(Jl)}function A_(e,t){if(e==="click")return Lf(t)}function M_(e,t){if(e==="input"||e==="change")return Lf(t)}function R_(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var En=typeof Object.is=="function"?Object.is:R_;function Zl(e,t){if(En(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!op.call(t,s)||!En(e[s],t[s]))return!1}return!0}function sx(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ax(e,t){var r=sx(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=sx(r)}}function oj(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?oj(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ij(){for(var e=window,t=Rd();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Rd(e.document)}return t}function gy(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function O_(e){var t=ij(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&oj(r.ownerDocument.documentElement,r)){if(n!==null&&gy(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,a=Math.min(n.start,s);n=n.end===void 0?a:Math.min(n.end,s),!e.extend&&a>n&&(s=n,n=a,a=s),s=ax(r,a);var i=ax(r,n);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var $_=Ps&&"documentMode"in document&&11>=document.documentMode,Io=null,kp=null,Al=null,Dp=!1;function ox(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Dp||Io==null||Io!==Rd(n)||(n=Io,"selectionStart"in n&&gy(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Al&&Zl(Al,n)||(Al=n,n=Bd(kp,"onSelect"),0<n.length&&(t=new hy("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Io)))}function Cu(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Lo={animationend:Cu("Animation","AnimationEnd"),animationiteration:Cu("Animation","AnimationIteration"),animationstart:Cu("Animation","AnimationStart"),transitionend:Cu("Transition","TransitionEnd")},um={},lj={};Ps&&(lj=document.createElement("div").style,"AnimationEvent"in window||(delete Lo.animationend.animation,delete Lo.animationiteration.animation,delete Lo.animationstart.animation),"TransitionEvent"in window||delete Lo.transitionend.transition);function Ff(e){if(um[e])return um[e];if(!Lo[e])return e;var t=Lo[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in lj)return um[e]=t[r];return e}var cj=Ff("animationend"),uj=Ff("animationiteration"),dj=Ff("animationstart"),fj=Ff("transitionend"),hj=new Map,ix="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ta(e,t){hj.set(e,t),jo(t,[e])}for(var dm=0;dm<ix.length;dm++){var fm=ix[dm],I_=fm.toLowerCase(),L_=fm[0].toUpperCase()+fm.slice(1);Ta(I_,"on"+L_)}Ta(cj,"onAnimationEnd");Ta(uj,"onAnimationIteration");Ta(dj,"onAnimationStart");Ta("dblclick","onDoubleClick");Ta("focusin","onFocus");Ta("focusout","onBlur");Ta(fj,"onTransitionEnd");fi("onMouseEnter",["mouseout","mouseover"]);fi("onMouseLeave",["mouseout","mouseover"]);fi("onPointerEnter",["pointerout","pointerover"]);fi("onPointerLeave",["pointerout","pointerover"]);jo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));jo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));jo("onBeforeInput",["compositionend","keypress","textInput","paste"]);jo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));jo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));jo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),F_=new Set("cancel close invalid load scroll toggle".split(" ").concat(jl));function lx(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,IE(n,t,void 0,e),e.currentTarget=null}function mj(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var i=n.length-1;0<=i;i--){var l=n[i],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&s.isPropagationStopped())break e;lx(s,l,u),a=c}else for(i=0;i<n.length;i++){if(l=n[i],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&s.isPropagationStopped())break e;lx(s,l,u),a=c}}}if($d)throw e=wp,$d=!1,wp=null,e}function ht(e,t){var r=t[Pp];r===void 0&&(r=t[Pp]=new Set);var n=e+"__bubble";r.has(n)||(pj(t,e,2,!1),r.add(n))}function hm(e,t,r){var n=0;t&&(n|=4),pj(r,e,n,t)}var Eu="_reactListening"+Math.random().toString(36).slice(2);function ec(e){if(!e[Eu]){e[Eu]=!0,NN.forEach(function(r){r!=="selectionchange"&&(F_.has(r)||hm(r,!1,e),hm(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Eu]||(t[Eu]=!0,hm("selectionchange",!1,t))}}function pj(e,t,r,n){switch(JN(t)){case 1:var s=ZE;break;case 4:s=e_;break;default:s=dy}r=s.bind(null,t,r,e),s=void 0,!bp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function mm(e,t,r,n,s){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(i===4)for(i=n.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;i=i.return}for(;l!==null;){if(i=za(l),i===null)return;if(c=i.tag,c===5||c===6){n=a=i;continue e}l=l.parentNode}}n=n.return}LN(function(){var u=a,d=iy(r),f=[];e:{var h=hj.get(e);if(h!==void 0){var y=hy,g=e;switch(e){case"keypress":if(ad(r)===0)break e;case"keydown":case"keyup":y=p_;break;case"focusin":g="focus",y=im;break;case"focusout":g="blur",y=im;break;case"beforeblur":case"afterblur":y=im;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Q0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=n_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=v_;break;case cj:case uj:case dj:y=o_;break;case fj:y=b_;break;case"scroll":y=t_;break;case"wheel":y=N_;break;case"copy":case"cut":case"paste":y=l_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=J0}var m=(t&4)!==0,N=!m&&e==="scroll",v=m?h!==null?h+"Capture":null:h;m=[];for(var p=u,b;p!==null;){b=p;var x=b.stateNode;if(b.tag===5&&x!==null&&(b=x,v!==null&&(x=Kl(p,v),x!=null&&m.push(tc(p,x,b)))),N)break;p=p.return}0<m.length&&(h=new y(h,g,null,r,d),f.push({event:h,listeners:m}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",h&&r!==vp&&(g=r.relatedTarget||r.fromElement)&&(za(g)||g[As]))break e;if((y||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,y?(g=r.relatedTarget||r.toElement,y=u,g=g?za(g):null,g!==null&&(N=So(g),g!==N||g.tag!==5&&g.tag!==6)&&(g=null)):(y=null,g=u),y!==g)){if(m=Q0,x="onMouseLeave",v="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(m=J0,x="onPointerLeave",v="onPointerEnter",p="pointer"),N=y==null?h:Fo(y),b=g==null?h:Fo(g),h=new m(x,p+"leave",y,r,d),h.target=N,h.relatedTarget=b,x=null,za(d)===u&&(m=new m(v,p+"enter",g,r,d),m.target=b,m.relatedTarget=N,x=m),N=x,y&&g)t:{for(m=y,v=g,p=0,b=m;b;b=Co(b))p++;for(b=0,x=v;x;x=Co(x))b++;for(;0<p-b;)m=Co(m),p--;for(;0<b-p;)v=Co(v),b--;for(;p--;){if(m===v||v!==null&&m===v.alternate)break t;m=Co(m),v=Co(v)}m=null}else m=null;y!==null&&cx(f,h,y,m,!1),g!==null&&N!==null&&cx(f,N,g,m,!0)}}e:{if(h=u?Fo(u):window,y=h.nodeName&&h.nodeName.toLowerCase(),y==="select"||y==="input"&&h.type==="file")var S=__;else if(tx(h))if(sj)S=M_;else{S=P_;var k=T_}else(y=h.nodeName)&&y.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=A_);if(S&&(S=S(e,u))){nj(f,S,r,d);break e}k&&k(e,h,u),e==="focusout"&&(k=h._wrapperState)&&k.controlled&&h.type==="number"&&hp(h,"number",h.value)}switch(k=u?Fo(u):window,e){case"focusin":(tx(k)||k.contentEditable==="true")&&(Io=k,kp=u,Al=null);break;case"focusout":Al=kp=Io=null;break;case"mousedown":Dp=!0;break;case"contextmenu":case"mouseup":case"dragend":Dp=!1,ox(f,r,d);break;case"selectionchange":if($_)break;case"keydown":case"keyup":ox(f,r,d)}var _;if(py)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else $o?tj(e,r)&&(A="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(A="onCompositionStart");A&&(ej&&r.locale!=="ko"&&($o||A!=="onCompositionStart"?A==="onCompositionEnd"&&$o&&(_=ZN()):(ua=d,fy="value"in ua?ua.value:ua.textContent,$o=!0)),k=Bd(u,A),0<k.length&&(A=new X0(A,e,null,r,d),f.push({event:A,listeners:k}),_?A.data=_:(_=rj(r),_!==null&&(A.data=_)))),(_=S_?k_(e,r):D_(e,r))&&(u=Bd(u,"onBeforeInput"),0<u.length&&(d=new X0("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=_))}mj(f,t)})}function tc(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Bd(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=Kl(e,r),a!=null&&n.unshift(tc(e,a,s)),a=Kl(e,t),a!=null&&n.push(tc(e,a,s))),e=e.return}return n}function Co(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function cx(e,t,r,n,s){for(var a=t._reactName,i=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=Kl(r,a),c!=null&&i.unshift(tc(r,c,l))):s||(c=Kl(r,a),c!=null&&i.push(tc(r,c,l)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var W_=/\r\n?/g,B_=/\u0000|\uFFFD/g;function ux(e){return(typeof e=="string"?e:""+e).replace(W_,`
`).replace(B_,"")}function _u(e,t,r){if(t=ux(t),ux(e)!==t&&r)throw Error(ge(425))}function Ud(){}var Cp=null,Ep=null;function _p(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Tp=typeof setTimeout=="function"?setTimeout:void 0,U_=typeof clearTimeout=="function"?clearTimeout:void 0,dx=typeof Promise=="function"?Promise:void 0,H_=typeof queueMicrotask=="function"?queueMicrotask:typeof dx<"u"?function(e){return dx.resolve(null).then(e).catch(z_)}:Tp;function z_(e){setTimeout(function(){throw e})}function pm(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Xl(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Xl(t)}function va(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function fx(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var _i=Math.random().toString(36).slice(2),Kn="__reactFiber$"+_i,rc="__reactProps$"+_i,As="__reactContainer$"+_i,Pp="__reactEvents$"+_i,V_="__reactListeners$"+_i,Y_="__reactHandles$"+_i;function za(e){var t=e[Kn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[As]||r[Kn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=fx(e);e!==null;){if(r=e[Kn])return r;e=fx(e)}return t}e=r,r=e.parentNode}return null}function Uc(e){return e=e[Kn]||e[As],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Fo(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ge(33))}function Wf(e){return e[rc]||null}var Ap=[],Wo=-1;function Pa(e){return{current:e}}function gt(e){0>Wo||(e.current=Ap[Wo],Ap[Wo]=null,Wo--)}function dt(e,t){Wo++,Ap[Wo]=e.current,e.current=t}var Da={},fr=Pa(Da),_r=Pa(!1),co=Da;function hi(e,t){var r=e.type.contextTypes;if(!r)return Da;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in r)s[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Tr(e){return e=e.childContextTypes,e!=null}function Hd(){gt(_r),gt(fr)}function hx(e,t,r){if(fr.current!==Da)throw Error(ge(168));dt(fr,t),dt(_r,r)}function gj(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(ge(108,TE(e)||"Unknown",s));return kt({},r,n)}function zd(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Da,co=fr.current,dt(fr,e),dt(_r,_r.current),!0}function mx(e,t,r){var n=e.stateNode;if(!n)throw Error(ge(169));r?(e=gj(e,t,co),n.__reactInternalMemoizedMergedChildContext=e,gt(_r),gt(fr),dt(fr,e)):gt(_r),dt(_r,r)}var bs=null,Bf=!1,gm=!1;function yj(e){bs===null?bs=[e]:bs.push(e)}function q_(e){Bf=!0,yj(e)}function Aa(){if(!gm&&bs!==null){gm=!0;var e=0,t=ot;try{var r=bs;for(ot=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}bs=null,Bf=!1}catch(s){throw bs!==null&&(bs=bs.slice(e+1)),UN(ly,Aa),s}finally{ot=t,gm=!1}}return null}var Bo=[],Uo=0,Vd=null,Yd=0,Jr=[],Zr=0,uo=null,Ns=1,js="";function Fa(e,t){Bo[Uo++]=Yd,Bo[Uo++]=Vd,Vd=e,Yd=t}function vj(e,t,r){Jr[Zr++]=Ns,Jr[Zr++]=js,Jr[Zr++]=uo,uo=e;var n=Ns;e=js;var s=32-Dn(n)-1;n&=~(1<<s),r+=1;var a=32-Dn(t)+s;if(30<a){var i=s-s%5;a=(n&(1<<i)-1).toString(32),n>>=i,s-=i,Ns=1<<32-Dn(t)+s|r<<s|n,js=a+e}else Ns=1<<a|r<<s|n,js=e}function yy(e){e.return!==null&&(Fa(e,1),vj(e,1,0))}function vy(e){for(;e===Vd;)Vd=Bo[--Uo],Bo[Uo]=null,Yd=Bo[--Uo],Bo[Uo]=null;for(;e===uo;)uo=Jr[--Zr],Jr[Zr]=null,js=Jr[--Zr],Jr[Zr]=null,Ns=Jr[--Zr],Jr[Zr]=null}var Ur=null,Br=null,wt=!1,Nn=null;function xj(e,t){var r=sn(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function px(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ur=e,Br=va(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ur=e,Br=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=uo!==null?{id:Ns,overflow:js}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=sn(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Ur=e,Br=null,!0):!1;default:return!1}}function Mp(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Rp(e){if(wt){var t=Br;if(t){var r=t;if(!px(e,t)){if(Mp(e))throw Error(ge(418));t=va(r.nextSibling);var n=Ur;t&&px(e,t)?xj(n,r):(e.flags=e.flags&-4097|2,wt=!1,Ur=e)}}else{if(Mp(e))throw Error(ge(418));e.flags=e.flags&-4097|2,wt=!1,Ur=e}}}function gx(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ur=e}function Tu(e){if(e!==Ur)return!1;if(!wt)return gx(e),wt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!_p(e.type,e.memoizedProps)),t&&(t=Br)){if(Mp(e))throw bj(),Error(ge(418));for(;t;)xj(e,t),t=va(t.nextSibling)}if(gx(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ge(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Br=va(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Br=null}}else Br=Ur?va(e.stateNode.nextSibling):null;return!0}function bj(){for(var e=Br;e;)e=va(e.nextSibling)}function mi(){Br=Ur=null,wt=!1}function xy(e){Nn===null?Nn=[e]:Nn.push(e)}var K_=Fs.ReactCurrentBatchConfig;function il(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ge(309));var n=r.stateNode}if(!n)throw Error(ge(147,e));var s=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(i){var l=s.refs;i===null?delete l[a]:l[a]=i},t._stringRef=a,t)}if(typeof e!="string")throw Error(ge(284));if(!r._owner)throw Error(ge(290,e))}return e}function Pu(e,t){throw e=Object.prototype.toString.call(t),Error(ge(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function yx(e){var t=e._init;return t(e._payload)}function wj(e){function t(v,p){if(e){var b=v.deletions;b===null?(v.deletions=[p],v.flags|=16):b.push(p)}}function r(v,p){if(!e)return null;for(;p!==null;)t(v,p),p=p.sibling;return null}function n(v,p){for(v=new Map;p!==null;)p.key!==null?v.set(p.key,p):v.set(p.index,p),p=p.sibling;return v}function s(v,p){return v=Na(v,p),v.index=0,v.sibling=null,v}function a(v,p,b){return v.index=b,e?(b=v.alternate,b!==null?(b=b.index,b<p?(v.flags|=2,p):b):(v.flags|=2,p)):(v.flags|=1048576,p)}function i(v){return e&&v.alternate===null&&(v.flags|=2),v}function l(v,p,b,x){return p===null||p.tag!==6?(p=jm(b,v.mode,x),p.return=v,p):(p=s(p,b),p.return=v,p)}function c(v,p,b,x){var S=b.type;return S===Oo?d(v,p,b.props.children,x,b.key):p!==null&&(p.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Xs&&yx(S)===p.type)?(x=s(p,b.props),x.ref=il(v,p,b),x.return=v,x):(x=fd(b.type,b.key,b.props,null,v.mode,x),x.ref=il(v,p,b),x.return=v,x)}function u(v,p,b,x){return p===null||p.tag!==4||p.stateNode.containerInfo!==b.containerInfo||p.stateNode.implementation!==b.implementation?(p=Sm(b,v.mode,x),p.return=v,p):(p=s(p,b.children||[]),p.return=v,p)}function d(v,p,b,x,S){return p===null||p.tag!==7?(p=so(b,v.mode,x,S),p.return=v,p):(p=s(p,b),p.return=v,p)}function f(v,p,b){if(typeof p=="string"&&p!==""||typeof p=="number")return p=jm(""+p,v.mode,b),p.return=v,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case bu:return b=fd(p.type,p.key,p.props,null,v.mode,b),b.ref=il(v,null,p),b.return=v,b;case Ro:return p=Sm(p,v.mode,b),p.return=v,p;case Xs:var x=p._init;return f(v,x(p._payload),b)}if(wl(p)||rl(p))return p=so(p,v.mode,b,null),p.return=v,p;Pu(v,p)}return null}function h(v,p,b,x){var S=p!==null?p.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return S!==null?null:l(v,p,""+b,x);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case bu:return b.key===S?c(v,p,b,x):null;case Ro:return b.key===S?u(v,p,b,x):null;case Xs:return S=b._init,h(v,p,S(b._payload),x)}if(wl(b)||rl(b))return S!==null?null:d(v,p,b,x,null);Pu(v,b)}return null}function y(v,p,b,x,S){if(typeof x=="string"&&x!==""||typeof x=="number")return v=v.get(b)||null,l(p,v,""+x,S);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case bu:return v=v.get(x.key===null?b:x.key)||null,c(p,v,x,S);case Ro:return v=v.get(x.key===null?b:x.key)||null,u(p,v,x,S);case Xs:var k=x._init;return y(v,p,b,k(x._payload),S)}if(wl(x)||rl(x))return v=v.get(b)||null,d(p,v,x,S,null);Pu(p,x)}return null}function g(v,p,b,x){for(var S=null,k=null,_=p,A=p=0,M=null;_!==null&&A<b.length;A++){_.index>A?(M=_,_=null):M=_.sibling;var $=h(v,_,b[A],x);if($===null){_===null&&(_=M);break}e&&_&&$.alternate===null&&t(v,_),p=a($,p,A),k===null?S=$:k.sibling=$,k=$,_=M}if(A===b.length)return r(v,_),wt&&Fa(v,A),S;if(_===null){for(;A<b.length;A++)_=f(v,b[A],x),_!==null&&(p=a(_,p,A),k===null?S=_:k.sibling=_,k=_);return wt&&Fa(v,A),S}for(_=n(v,_);A<b.length;A++)M=y(_,v,A,b[A],x),M!==null&&(e&&M.alternate!==null&&_.delete(M.key===null?A:M.key),p=a(M,p,A),k===null?S=M:k.sibling=M,k=M);return e&&_.forEach(function(V){return t(v,V)}),wt&&Fa(v,A),S}function m(v,p,b,x){var S=rl(b);if(typeof S!="function")throw Error(ge(150));if(b=S.call(b),b==null)throw Error(ge(151));for(var k=S=null,_=p,A=p=0,M=null,$=b.next();_!==null&&!$.done;A++,$=b.next()){_.index>A?(M=_,_=null):M=_.sibling;var V=h(v,_,$.value,x);if(V===null){_===null&&(_=M);break}e&&_&&V.alternate===null&&t(v,_),p=a(V,p,A),k===null?S=V:k.sibling=V,k=V,_=M}if($.done)return r(v,_),wt&&Fa(v,A),S;if(_===null){for(;!$.done;A++,$=b.next())$=f(v,$.value,x),$!==null&&(p=a($,p,A),k===null?S=$:k.sibling=$,k=$);return wt&&Fa(v,A),S}for(_=n(v,_);!$.done;A++,$=b.next())$=y(_,v,A,$.value,x),$!==null&&(e&&$.alternate!==null&&_.delete($.key===null?A:$.key),p=a($,p,A),k===null?S=$:k.sibling=$,k=$);return e&&_.forEach(function(H){return t(v,H)}),wt&&Fa(v,A),S}function N(v,p,b,x){if(typeof b=="object"&&b!==null&&b.type===Oo&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case bu:e:{for(var S=b.key,k=p;k!==null;){if(k.key===S){if(S=b.type,S===Oo){if(k.tag===7){r(v,k.sibling),p=s(k,b.props.children),p.return=v,v=p;break e}}else if(k.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Xs&&yx(S)===k.type){r(v,k.sibling),p=s(k,b.props),p.ref=il(v,k,b),p.return=v,v=p;break e}r(v,k);break}else t(v,k);k=k.sibling}b.type===Oo?(p=so(b.props.children,v.mode,x,b.key),p.return=v,v=p):(x=fd(b.type,b.key,b.props,null,v.mode,x),x.ref=il(v,p,b),x.return=v,v=x)}return i(v);case Ro:e:{for(k=b.key;p!==null;){if(p.key===k)if(p.tag===4&&p.stateNode.containerInfo===b.containerInfo&&p.stateNode.implementation===b.implementation){r(v,p.sibling),p=s(p,b.children||[]),p.return=v,v=p;break e}else{r(v,p);break}else t(v,p);p=p.sibling}p=Sm(b,v.mode,x),p.return=v,v=p}return i(v);case Xs:return k=b._init,N(v,p,k(b._payload),x)}if(wl(b))return g(v,p,b,x);if(rl(b))return m(v,p,b,x);Pu(v,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,p!==null&&p.tag===6?(r(v,p.sibling),p=s(p,b),p.return=v,v=p):(r(v,p),p=jm(b,v.mode,x),p.return=v,v=p),i(v)):r(v,p)}return N}var pi=wj(!0),Nj=wj(!1),qd=Pa(null),Kd=null,Ho=null,by=null;function wy(){by=Ho=Kd=null}function Ny(e){var t=qd.current;gt(qd),e._currentValue=t}function Op(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Xo(e,t){Kd=e,by=Ho=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Er=!0),e.firstContext=null)}function on(e){var t=e._currentValue;if(by!==e)if(e={context:e,memoizedValue:t,next:null},Ho===null){if(Kd===null)throw Error(ge(308));Ho=e,Kd.dependencies={lanes:0,firstContext:e}}else Ho=Ho.next=e;return t}var Va=null;function jy(e){Va===null?Va=[e]:Va.push(e)}function jj(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,jy(t)):(r.next=s.next,s.next=r),t.interleaved=r,Ms(e,n)}function Ms(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Js=!1;function Sy(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Sj(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Cs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function xa(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,qe&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Ms(e,r)}return s=n.interleaved,s===null?(t.next=t,jy(n)):(t.next=s.next,s.next=t),n.interleaved=t,Ms(e,r)}function od(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,cy(e,r)}}function vx(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?s=a=i:a=a.next=i,r=r.next}while(r!==null);a===null?s=a=t:a=a.next=t}else s=a=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Gd(e,t,r,n){var s=e.updateQueue;Js=!1;var a=s.firstBaseUpdate,i=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,i===null?a=u:i.next=u,i=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==i&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(a!==null){var f=s.baseState;i=0,d=u=c=null,l=a;do{var h=l.lane,y=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,m=l;switch(h=t,y=r,m.tag){case 1:if(g=m.payload,typeof g=="function"){f=g.call(y,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=m.payload,h=typeof g=="function"?g.call(y,f,h):g,h==null)break e;f=kt({},f,h);break e;case 2:Js=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else y={eventTime:y,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=y,c=f):d=d.next=y,i|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);ho|=i,e.lanes=i,e.memoizedState=f}}function xx(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(ge(191,s));s.call(n)}}}var Hc={},ts=Pa(Hc),nc=Pa(Hc),sc=Pa(Hc);function Ya(e){if(e===Hc)throw Error(ge(174));return e}function ky(e,t){switch(dt(sc,t),dt(nc,e),dt(ts,Hc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pp(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=pp(t,e)}gt(ts),dt(ts,t)}function gi(){gt(ts),gt(nc),gt(sc)}function kj(e){Ya(sc.current);var t=Ya(ts.current),r=pp(t,e.type);t!==r&&(dt(nc,e),dt(ts,r))}function Dy(e){nc.current===e&&(gt(ts),gt(nc))}var jt=Pa(0);function Qd(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ym=[];function Cy(){for(var e=0;e<ym.length;e++)ym[e]._workInProgressVersionPrimary=null;ym.length=0}var id=Fs.ReactCurrentDispatcher,vm=Fs.ReactCurrentBatchConfig,fo=0,St=null,Wt=null,Gt=null,Xd=!1,Ml=!1,ac=0,G_=0;function ar(){throw Error(ge(321))}function Ey(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!En(e[r],t[r]))return!1;return!0}function _y(e,t,r,n,s,a){if(fo=a,St=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,id.current=e===null||e.memoizedState===null?Z_:eT,e=r(n,s),Ml){a=0;do{if(Ml=!1,ac=0,25<=a)throw Error(ge(301));a+=1,Gt=Wt=null,t.updateQueue=null,id.current=tT,e=r(n,s)}while(Ml)}if(id.current=Jd,t=Wt!==null&&Wt.next!==null,fo=0,Gt=Wt=St=null,Xd=!1,t)throw Error(ge(300));return e}function Ty(){var e=ac!==0;return ac=0,e}function Un(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gt===null?St.memoizedState=Gt=e:Gt=Gt.next=e,Gt}function ln(){if(Wt===null){var e=St.alternate;e=e!==null?e.memoizedState:null}else e=Wt.next;var t=Gt===null?St.memoizedState:Gt.next;if(t!==null)Gt=t,Wt=e;else{if(e===null)throw Error(ge(310));Wt=e,e={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},Gt===null?St.memoizedState=Gt=e:Gt=Gt.next=e}return Gt}function oc(e,t){return typeof t=="function"?t(e):t}function xm(e){var t=ln(),r=t.queue;if(r===null)throw Error(ge(311));r.lastRenderedReducer=e;var n=Wt,s=n.baseQueue,a=r.pending;if(a!==null){if(s!==null){var i=s.next;s.next=a.next,a.next=i}n.baseQueue=s=a,r.pending=null}if(s!==null){a=s.next,n=n.baseState;var l=i=null,c=null,u=a;do{var d=u.lane;if((fo&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,i=n):c=c.next=f,St.lanes|=d,ho|=d}u=u.next}while(u!==null&&u!==a);c===null?i=n:c.next=l,En(n,t.memoizedState)||(Er=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do a=s.lane,St.lanes|=a,ho|=a,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function bm(e){var t=ln(),r=t.queue;if(r===null)throw Error(ge(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,a=t.memoizedState;if(s!==null){r.pending=null;var i=s=s.next;do a=e(a,i.action),i=i.next;while(i!==s);En(a,t.memoizedState)||(Er=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function Dj(){}function Cj(e,t){var r=St,n=ln(),s=t(),a=!En(n.memoizedState,s);if(a&&(n.memoizedState=s,Er=!0),n=n.queue,Py(Tj.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||Gt!==null&&Gt.memoizedState.tag&1){if(r.flags|=2048,ic(9,_j.bind(null,r,n,s,t),void 0,null),Xt===null)throw Error(ge(349));fo&30||Ej(r,t,s)}return s}function Ej(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=St.updateQueue,t===null?(t={lastEffect:null,stores:null},St.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function _j(e,t,r,n){t.value=r,t.getSnapshot=n,Pj(t)&&Aj(e)}function Tj(e,t,r){return r(function(){Pj(t)&&Aj(e)})}function Pj(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!En(e,r)}catch{return!0}}function Aj(e){var t=Ms(e,1);t!==null&&Cn(t,e,1,-1)}function bx(e){var t=Un();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:oc,lastRenderedState:e},t.queue=e,e=e.dispatch=J_.bind(null,St,e),[t.memoizedState,e]}function ic(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=St.updateQueue,t===null?(t={lastEffect:null,stores:null},St.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Mj(){return ln().memoizedState}function ld(e,t,r,n){var s=Un();St.flags|=e,s.memoizedState=ic(1|t,r,void 0,n===void 0?null:n)}function Uf(e,t,r,n){var s=ln();n=n===void 0?null:n;var a=void 0;if(Wt!==null){var i=Wt.memoizedState;if(a=i.destroy,n!==null&&Ey(n,i.deps)){s.memoizedState=ic(t,r,a,n);return}}St.flags|=e,s.memoizedState=ic(1|t,r,a,n)}function wx(e,t){return ld(8390656,8,e,t)}function Py(e,t){return Uf(2048,8,e,t)}function Rj(e,t){return Uf(4,2,e,t)}function Oj(e,t){return Uf(4,4,e,t)}function $j(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ij(e,t,r){return r=r!=null?r.concat([e]):null,Uf(4,4,$j.bind(null,t,e),r)}function Ay(){}function Lj(e,t){var r=ln();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Ey(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Fj(e,t){var r=ln();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Ey(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Wj(e,t,r){return fo&21?(En(r,t)||(r=VN(),St.lanes|=r,ho|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Er=!0),e.memoizedState=r)}function Q_(e,t){var r=ot;ot=r!==0&&4>r?r:4,e(!0);var n=vm.transition;vm.transition={};try{e(!1),t()}finally{ot=r,vm.transition=n}}function Bj(){return ln().memoizedState}function X_(e,t,r){var n=wa(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Uj(e))Hj(t,r);else if(r=jj(e,t,r,n),r!==null){var s=br();Cn(r,e,n,s),zj(r,t,n)}}function J_(e,t,r){var n=wa(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Uj(e))Hj(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var i=t.lastRenderedState,l=a(i,r);if(s.hasEagerState=!0,s.eagerState=l,En(l,i)){var c=t.interleaved;c===null?(s.next=s,jy(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=jj(e,t,s,n),r!==null&&(s=br(),Cn(r,e,n,s),zj(r,t,n))}}function Uj(e){var t=e.alternate;return e===St||t!==null&&t===St}function Hj(e,t){Ml=Xd=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function zj(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,cy(e,r)}}var Jd={readContext:on,useCallback:ar,useContext:ar,useEffect:ar,useImperativeHandle:ar,useInsertionEffect:ar,useLayoutEffect:ar,useMemo:ar,useReducer:ar,useRef:ar,useState:ar,useDebugValue:ar,useDeferredValue:ar,useTransition:ar,useMutableSource:ar,useSyncExternalStore:ar,useId:ar,unstable_isNewReconciler:!1},Z_={readContext:on,useCallback:function(e,t){return Un().memoizedState=[e,t===void 0?null:t],e},useContext:on,useEffect:wx,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,ld(4194308,4,$j.bind(null,t,e),r)},useLayoutEffect:function(e,t){return ld(4194308,4,e,t)},useInsertionEffect:function(e,t){return ld(4,2,e,t)},useMemo:function(e,t){var r=Un();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Un();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=X_.bind(null,St,e),[n.memoizedState,e]},useRef:function(e){var t=Un();return e={current:e},t.memoizedState=e},useState:bx,useDebugValue:Ay,useDeferredValue:function(e){return Un().memoizedState=e},useTransition:function(){var e=bx(!1),t=e[0];return e=Q_.bind(null,e[1]),Un().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=St,s=Un();if(wt){if(r===void 0)throw Error(ge(407));r=r()}else{if(r=t(),Xt===null)throw Error(ge(349));fo&30||Ej(n,t,r)}s.memoizedState=r;var a={value:r,getSnapshot:t};return s.queue=a,wx(Tj.bind(null,n,a,e),[e]),n.flags|=2048,ic(9,_j.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=Un(),t=Xt.identifierPrefix;if(wt){var r=js,n=Ns;r=(n&~(1<<32-Dn(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=ac++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=G_++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},eT={readContext:on,useCallback:Lj,useContext:on,useEffect:Py,useImperativeHandle:Ij,useInsertionEffect:Rj,useLayoutEffect:Oj,useMemo:Fj,useReducer:xm,useRef:Mj,useState:function(){return xm(oc)},useDebugValue:Ay,useDeferredValue:function(e){var t=ln();return Wj(t,Wt.memoizedState,e)},useTransition:function(){var e=xm(oc)[0],t=ln().memoizedState;return[e,t]},useMutableSource:Dj,useSyncExternalStore:Cj,useId:Bj,unstable_isNewReconciler:!1},tT={readContext:on,useCallback:Lj,useContext:on,useEffect:Py,useImperativeHandle:Ij,useInsertionEffect:Rj,useLayoutEffect:Oj,useMemo:Fj,useReducer:bm,useRef:Mj,useState:function(){return bm(oc)},useDebugValue:Ay,useDeferredValue:function(e){var t=ln();return Wt===null?t.memoizedState=e:Wj(t,Wt.memoizedState,e)},useTransition:function(){var e=bm(oc)[0],t=ln().memoizedState;return[e,t]},useMutableSource:Dj,useSyncExternalStore:Cj,useId:Bj,unstable_isNewReconciler:!1};function gn(e,t){if(e&&e.defaultProps){t=kt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function $p(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:kt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Hf={isMounted:function(e){return(e=e._reactInternals)?So(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=br(),s=wa(e),a=Cs(n,s);a.payload=t,r!=null&&(a.callback=r),t=xa(e,a,s),t!==null&&(Cn(t,e,s,n),od(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=br(),s=wa(e),a=Cs(n,s);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=xa(e,a,s),t!==null&&(Cn(t,e,s,n),od(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=br(),n=wa(e),s=Cs(r,n);s.tag=2,t!=null&&(s.callback=t),t=xa(e,s,n),t!==null&&(Cn(t,e,n,r),od(t,e,n))}};function Nx(e,t,r,n,s,a,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,i):t.prototype&&t.prototype.isPureReactComponent?!Zl(r,n)||!Zl(s,a):!0}function Vj(e,t,r){var n=!1,s=Da,a=t.contextType;return typeof a=="object"&&a!==null?a=on(a):(s=Tr(t)?co:fr.current,n=t.contextTypes,a=(n=n!=null)?hi(e,s):Da),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Hf,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function jx(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Hf.enqueueReplaceState(t,t.state,null)}function Ip(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Sy(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=on(a):(a=Tr(t)?co:fr.current,s.context=hi(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&($p(e,t,a,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Hf.enqueueReplaceState(s,s.state,null),Gd(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function yi(e,t){try{var r="",n=t;do r+=_E(n),n=n.return;while(n);var s=r}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function wm(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Lp(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var rT=typeof WeakMap=="function"?WeakMap:Map;function Yj(e,t,r){r=Cs(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){ef||(ef=!0,Kp=n),Lp(e,t)},r}function qj(e,t,r){r=Cs(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){Lp(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){Lp(e,t),typeof n!="function"&&(ba===null?ba=new Set([this]):ba.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function Sx(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new rT;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=gT.bind(null,e,t,r),t.then(e,e))}function kx(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Dx(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Cs(-1,1),t.tag=2,xa(r,t,1))),r.lanes|=1),e)}var nT=Fs.ReactCurrentOwner,Er=!1;function gr(e,t,r,n){t.child=e===null?Nj(t,null,r,n):pi(t,e.child,r,n)}function Cx(e,t,r,n,s){r=r.render;var a=t.ref;return Xo(t,s),n=_y(e,t,r,n,a,s),r=Ty(),e!==null&&!Er?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Rs(e,t,s)):(wt&&r&&yy(t),t.flags|=1,gr(e,t,n,s),t.child)}function Ex(e,t,r,n,s){if(e===null){var a=r.type;return typeof a=="function"&&!Wy(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,Kj(e,t,a,n,s)):(e=fd(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&s)){var i=a.memoizedProps;if(r=r.compare,r=r!==null?r:Zl,r(i,n)&&e.ref===t.ref)return Rs(e,t,s)}return t.flags|=1,e=Na(a,n),e.ref=t.ref,e.return=t,t.child=e}function Kj(e,t,r,n,s){if(e!==null){var a=e.memoizedProps;if(Zl(a,n)&&e.ref===t.ref)if(Er=!1,t.pendingProps=n=a,(e.lanes&s)!==0)e.flags&131072&&(Er=!0);else return t.lanes=e.lanes,Rs(e,t,s)}return Fp(e,t,r,n,s)}function Gj(e,t,r){var n=t.pendingProps,s=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},dt(Vo,Fr),Fr|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,dt(Vo,Fr),Fr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,dt(Vo,Fr),Fr|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,dt(Vo,Fr),Fr|=n;return gr(e,t,s,r),t.child}function Qj(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Fp(e,t,r,n,s){var a=Tr(r)?co:fr.current;return a=hi(t,a),Xo(t,s),r=_y(e,t,r,n,a,s),n=Ty(),e!==null&&!Er?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Rs(e,t,s)):(wt&&n&&yy(t),t.flags|=1,gr(e,t,r,s),t.child)}function _x(e,t,r,n,s){if(Tr(r)){var a=!0;zd(t)}else a=!1;if(Xo(t,s),t.stateNode===null)cd(e,t),Vj(t,r,n),Ip(t,r,n,s),n=!0;else if(e===null){var i=t.stateNode,l=t.memoizedProps;i.props=l;var c=i.context,u=r.contextType;typeof u=="object"&&u!==null?u=on(u):(u=Tr(r)?co:fr.current,u=hi(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==n||c!==u)&&jx(t,i,n,u),Js=!1;var h=t.memoizedState;i.state=h,Gd(t,n,i,s),c=t.memoizedState,l!==n||h!==c||_r.current||Js?(typeof d=="function"&&($p(t,r,d,n),c=t.memoizedState),(l=Js||Nx(t,r,l,n,h,c,u))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),i.props=n,i.state=c,i.context=u,n=l):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,Sj(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:gn(t.type,l),i.props=u,f=t.pendingProps,h=i.context,c=r.contextType,typeof c=="object"&&c!==null?c=on(c):(c=Tr(r)?co:fr.current,c=hi(t,c));var y=r.getDerivedStateFromProps;(d=typeof y=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==f||h!==c)&&jx(t,i,n,c),Js=!1,h=t.memoizedState,i.state=h,Gd(t,n,i,s);var g=t.memoizedState;l!==f||h!==g||_r.current||Js?(typeof y=="function"&&($p(t,r,y,n),g=t.memoizedState),(u=Js||Nx(t,r,u,n,h,g,c)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,g,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,g,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),i.props=n,i.state=g,i.context=c,n=u):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Wp(e,t,r,n,a,s)}function Wp(e,t,r,n,s,a){Qj(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return s&&mx(t,r,!1),Rs(e,t,a);n=t.stateNode,nT.current=t;var l=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=pi(t,e.child,null,a),t.child=pi(t,null,l,a)):gr(e,t,l,a),t.memoizedState=n.state,s&&mx(t,r,!0),t.child}function Xj(e){var t=e.stateNode;t.pendingContext?hx(e,t.pendingContext,t.pendingContext!==t.context):t.context&&hx(e,t.context,!1),ky(e,t.containerInfo)}function Tx(e,t,r,n,s){return mi(),xy(s),t.flags|=256,gr(e,t,r,n),t.child}var Bp={dehydrated:null,treeContext:null,retryLane:0};function Up(e){return{baseLanes:e,cachePool:null,transitions:null}}function Jj(e,t,r){var n=t.pendingProps,s=jt.current,a=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),dt(jt,s&1),e===null)return Rp(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,a?(n=t.mode,a=t.child,i={mode:"hidden",children:i},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=i):a=Yf(i,n,0,null),e=so(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Up(r),t.memoizedState=Bp,e):My(t,i));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return sT(e,t,i,n,l,s,r);if(a){a=n.fallback,i=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(i&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Na(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?a=Na(l,a):(a=so(a,i,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,i=e.child.memoizedState,i=i===null?Up(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},a.memoizedState=i,a.childLanes=e.childLanes&~r,t.memoizedState=Bp,n}return a=e.child,e=a.sibling,n=Na(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function My(e,t){return t=Yf({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Au(e,t,r,n){return n!==null&&xy(n),pi(t,e.child,null,r),e=My(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function sT(e,t,r,n,s,a,i){if(r)return t.flags&256?(t.flags&=-257,n=wm(Error(ge(422))),Au(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,s=t.mode,n=Yf({mode:"visible",children:n.children},s,0,null),a=so(a,s,i,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&pi(t,e.child,null,i),t.child.memoizedState=Up(i),t.memoizedState=Bp,a);if(!(t.mode&1))return Au(e,t,i,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,a=Error(ge(419)),n=wm(a,n,void 0),Au(e,t,i,n)}if(l=(i&e.childLanes)!==0,Er||l){if(n=Xt,n!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|i)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,Ms(e,s),Cn(n,e,s,-1))}return Fy(),n=wm(Error(ge(421))),Au(e,t,i,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=yT.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,Br=va(s.nextSibling),Ur=t,wt=!0,Nn=null,e!==null&&(Jr[Zr++]=Ns,Jr[Zr++]=js,Jr[Zr++]=uo,Ns=e.id,js=e.overflow,uo=t),t=My(t,n.children),t.flags|=4096,t)}function Px(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Op(e.return,t,r)}function Nm(e,t,r,n,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=s)}function Zj(e,t,r){var n=t.pendingProps,s=n.revealOrder,a=n.tail;if(gr(e,t,n.children,r),n=jt.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Px(e,r,t);else if(e.tag===19)Px(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(dt(jt,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Qd(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Nm(t,!1,s,r,a);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Qd(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Nm(t,!0,r,null,a);break;case"together":Nm(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function cd(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Rs(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),ho|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ge(153));if(t.child!==null){for(e=t.child,r=Na(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Na(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function aT(e,t,r){switch(t.tag){case 3:Xj(t),mi();break;case 5:kj(t);break;case 1:Tr(t.type)&&zd(t);break;case 4:ky(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;dt(qd,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(dt(jt,jt.current&1),t.flags|=128,null):r&t.child.childLanes?Jj(e,t,r):(dt(jt,jt.current&1),e=Rs(e,t,r),e!==null?e.sibling:null);dt(jt,jt.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Zj(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),dt(jt,jt.current),n)break;return null;case 22:case 23:return t.lanes=0,Gj(e,t,r)}return Rs(e,t,r)}var eS,Hp,tS,rS;eS=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Hp=function(){};tS=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Ya(ts.current);var a=null;switch(r){case"input":s=dp(e,s),n=dp(e,n),a=[];break;case"select":s=kt({},s,{value:void 0}),n=kt({},n,{value:void 0}),a=[];break;case"textarea":s=mp(e,s),n=mp(e,n),a=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Ud)}gp(r,n);var i;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(i in l)l.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Yl.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(a||(a=[]),a.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Yl.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ht("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}r&&(a=a||[]).push("style",r);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};rS=function(e,t,r,n){r!==n&&(t.flags|=4)};function ll(e,t){if(!wt)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function or(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function oT(e,t,r){var n=t.pendingProps;switch(vy(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return or(t),null;case 1:return Tr(t.type)&&Hd(),or(t),null;case 3:return n=t.stateNode,gi(),gt(_r),gt(fr),Cy(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Tu(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Nn!==null&&(Xp(Nn),Nn=null))),Hp(e,t),or(t),null;case 5:Dy(t);var s=Ya(sc.current);if(r=t.type,e!==null&&t.stateNode!=null)tS(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(ge(166));return or(t),null}if(e=Ya(ts.current),Tu(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[Kn]=t,n[rc]=a,e=(t.mode&1)!==0,r){case"dialog":ht("cancel",n),ht("close",n);break;case"iframe":case"object":case"embed":ht("load",n);break;case"video":case"audio":for(s=0;s<jl.length;s++)ht(jl[s],n);break;case"source":ht("error",n);break;case"img":case"image":case"link":ht("error",n),ht("load",n);break;case"details":ht("toggle",n);break;case"input":W0(n,a),ht("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},ht("invalid",n);break;case"textarea":U0(n,a),ht("invalid",n)}gp(r,a),s=null;for(var i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="children"?typeof l=="string"?n.textContent!==l&&(a.suppressHydrationWarning!==!0&&_u(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&_u(n.textContent,l,e),s=["children",""+l]):Yl.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&ht("scroll",n)}switch(r){case"input":wu(n),B0(n,a,!0);break;case"textarea":wu(n),H0(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=Ud)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=TN(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),r==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[Kn]=t,e[rc]=n,eS(e,t,!1,!1),t.stateNode=e;e:{switch(i=yp(r,n),r){case"dialog":ht("cancel",e),ht("close",e),s=n;break;case"iframe":case"object":case"embed":ht("load",e),s=n;break;case"video":case"audio":for(s=0;s<jl.length;s++)ht(jl[s],e);s=n;break;case"source":ht("error",e),s=n;break;case"img":case"image":case"link":ht("error",e),ht("load",e),s=n;break;case"details":ht("toggle",e),s=n;break;case"input":W0(e,n),s=dp(e,n),ht("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=kt({},n,{value:void 0}),ht("invalid",e);break;case"textarea":U0(e,n),s=mp(e,n),ht("invalid",e);break;default:s=n}gp(r,s),l=s;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?MN(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&PN(e,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&ql(e,c):typeof c=="number"&&ql(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Yl.hasOwnProperty(a)?c!=null&&a==="onScroll"&&ht("scroll",e):c!=null&&ny(e,a,c,i))}switch(r){case"input":wu(e),B0(e,n,!1);break;case"textarea":wu(e),H0(e);break;case"option":n.value!=null&&e.setAttribute("value",""+ka(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?qo(e,!!n.multiple,a,!1):n.defaultValue!=null&&qo(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Ud)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return or(t),null;case 6:if(e&&t.stateNode!=null)rS(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(ge(166));if(r=Ya(sc.current),Ya(ts.current),Tu(t)){if(n=t.stateNode,r=t.memoizedProps,n[Kn]=t,(a=n.nodeValue!==r)&&(e=Ur,e!==null))switch(e.tag){case 3:_u(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&_u(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Kn]=t,t.stateNode=n}return or(t),null;case 13:if(gt(jt),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(wt&&Br!==null&&t.mode&1&&!(t.flags&128))bj(),mi(),t.flags|=98560,a=!1;else if(a=Tu(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(ge(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(ge(317));a[Kn]=t}else mi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;or(t),a=!1}else Nn!==null&&(Xp(Nn),Nn=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||jt.current&1?Ht===0&&(Ht=3):Fy())),t.updateQueue!==null&&(t.flags|=4),or(t),null);case 4:return gi(),Hp(e,t),e===null&&ec(t.stateNode.containerInfo),or(t),null;case 10:return Ny(t.type._context),or(t),null;case 17:return Tr(t.type)&&Hd(),or(t),null;case 19:if(gt(jt),a=t.memoizedState,a===null)return or(t),null;if(n=(t.flags&128)!==0,i=a.rendering,i===null)if(n)ll(a,!1);else{if(Ht!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Qd(e),i!==null){for(t.flags|=128,ll(a,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,i=a.alternate,i===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,a.type=i.type,e=i.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return dt(jt,jt.current&1|2),t.child}e=e.sibling}a.tail!==null&&Pt()>vi&&(t.flags|=128,n=!0,ll(a,!1),t.lanes=4194304)}else{if(!n)if(e=Qd(i),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),ll(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!wt)return or(t),null}else 2*Pt()-a.renderingStartTime>vi&&r!==1073741824&&(t.flags|=128,n=!0,ll(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(r=a.last,r!==null?r.sibling=i:t.child=i,a.last=i)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Pt(),t.sibling=null,r=jt.current,dt(jt,n?r&1|2:r&1),t):(or(t),null);case 22:case 23:return Ly(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Fr&1073741824&&(or(t),t.subtreeFlags&6&&(t.flags|=8192)):or(t),null;case 24:return null;case 25:return null}throw Error(ge(156,t.tag))}function iT(e,t){switch(vy(t),t.tag){case 1:return Tr(t.type)&&Hd(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return gi(),gt(_r),gt(fr),Cy(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Dy(t),null;case 13:if(gt(jt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ge(340));mi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return gt(jt),null;case 4:return gi(),null;case 10:return Ny(t.type._context),null;case 22:case 23:return Ly(),null;case 24:return null;default:return null}}var Mu=!1,cr=!1,lT=typeof WeakSet=="function"?WeakSet:Set,_e=null;function zo(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Ct(e,t,n)}else r.current=null}function zp(e,t,r){try{r()}catch(n){Ct(e,t,n)}}var Ax=!1;function cT(e,t){if(Cp=Fd,e=ij(),gy(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var i=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var y;f!==r||s!==0&&f.nodeType!==3||(l=i+s),f!==a||n!==0&&f.nodeType!==3||(c=i+n),f.nodeType===3&&(i+=f.nodeValue.length),(y=f.firstChild)!==null;)h=f,f=y;for(;;){if(f===e)break t;if(h===r&&++u===s&&(l=i),h===a&&++d===n&&(c=i),(y=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=y}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Ep={focusedElem:e,selectionRange:r},Fd=!1,_e=t;_e!==null;)if(t=_e,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,_e=e;else for(;_e!==null;){t=_e;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var m=g.memoizedProps,N=g.memoizedState,v=t.stateNode,p=v.getSnapshotBeforeUpdate(t.elementType===t.type?m:gn(t.type,m),N);v.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ge(163))}}catch(x){Ct(t,t.return,x)}if(e=t.sibling,e!==null){e.return=t.return,_e=e;break}_e=t.return}return g=Ax,Ax=!1,g}function Rl(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&zp(t,r,a)}s=s.next}while(s!==n)}}function zf(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Vp(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function nS(e){var t=e.alternate;t!==null&&(e.alternate=null,nS(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Kn],delete t[rc],delete t[Pp],delete t[V_],delete t[Y_])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sS(e){return e.tag===5||e.tag===3||e.tag===4}function Mx(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||sS(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Yp(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Ud));else if(n!==4&&(e=e.child,e!==null))for(Yp(e,t,r),e=e.sibling;e!==null;)Yp(e,t,r),e=e.sibling}function qp(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(qp(e,t,r),e=e.sibling;e!==null;)qp(e,t,r),e=e.sibling}var Zt=null,bn=!1;function Vs(e,t,r){for(r=r.child;r!==null;)aS(e,t,r),r=r.sibling}function aS(e,t,r){if(es&&typeof es.onCommitFiberUnmount=="function")try{es.onCommitFiberUnmount($f,r)}catch{}switch(r.tag){case 5:cr||zo(r,t);case 6:var n=Zt,s=bn;Zt=null,Vs(e,t,r),Zt=n,bn=s,Zt!==null&&(bn?(e=Zt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Zt.removeChild(r.stateNode));break;case 18:Zt!==null&&(bn?(e=Zt,r=r.stateNode,e.nodeType===8?pm(e.parentNode,r):e.nodeType===1&&pm(e,r),Xl(e)):pm(Zt,r.stateNode));break;case 4:n=Zt,s=bn,Zt=r.stateNode.containerInfo,bn=!0,Vs(e,t,r),Zt=n,bn=s;break;case 0:case 11:case 14:case 15:if(!cr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var a=s,i=a.destroy;a=a.tag,i!==void 0&&(a&2||a&4)&&zp(r,t,i),s=s.next}while(s!==n)}Vs(e,t,r);break;case 1:if(!cr&&(zo(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Ct(r,t,l)}Vs(e,t,r);break;case 21:Vs(e,t,r);break;case 22:r.mode&1?(cr=(n=cr)||r.memoizedState!==null,Vs(e,t,r),cr=n):Vs(e,t,r);break;default:Vs(e,t,r)}}function Rx(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new lT),t.forEach(function(n){var s=vT.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function pn(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var a=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 5:Zt=l.stateNode,bn=!1;break e;case 3:Zt=l.stateNode.containerInfo,bn=!0;break e;case 4:Zt=l.stateNode.containerInfo,bn=!0;break e}l=l.return}if(Zt===null)throw Error(ge(160));aS(a,i,s),Zt=null,bn=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Ct(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)oS(t,e),t=t.sibling}function oS(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(pn(t,e),Wn(e),n&4){try{Rl(3,e,e.return),zf(3,e)}catch(m){Ct(e,e.return,m)}try{Rl(5,e,e.return)}catch(m){Ct(e,e.return,m)}}break;case 1:pn(t,e),Wn(e),n&512&&r!==null&&zo(r,r.return);break;case 5:if(pn(t,e),Wn(e),n&512&&r!==null&&zo(r,r.return),e.flags&32){var s=e.stateNode;try{ql(s,"")}catch(m){Ct(e,e.return,m)}}if(n&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,i=r!==null?r.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&EN(s,a),yp(l,i);var u=yp(l,a);for(i=0;i<c.length;i+=2){var d=c[i],f=c[i+1];d==="style"?MN(s,f):d==="dangerouslySetInnerHTML"?PN(s,f):d==="children"?ql(s,f):ny(s,d,f,u)}switch(l){case"input":fp(s,a);break;case"textarea":_N(s,a);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var y=a.value;y!=null?qo(s,!!a.multiple,y,!1):h!==!!a.multiple&&(a.defaultValue!=null?qo(s,!!a.multiple,a.defaultValue,!0):qo(s,!!a.multiple,a.multiple?[]:"",!1))}s[rc]=a}catch(m){Ct(e,e.return,m)}}break;case 6:if(pn(t,e),Wn(e),n&4){if(e.stateNode===null)throw Error(ge(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(m){Ct(e,e.return,m)}}break;case 3:if(pn(t,e),Wn(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Xl(t.containerInfo)}catch(m){Ct(e,e.return,m)}break;case 4:pn(t,e),Wn(e);break;case 13:pn(t,e),Wn(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||($y=Pt())),n&4&&Rx(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(cr=(u=cr)||d,pn(t,e),cr=u):pn(t,e),Wn(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(_e=e,d=e.child;d!==null;){for(f=_e=d;_e!==null;){switch(h=_e,y=h.child,h.tag){case 0:case 11:case 14:case 15:Rl(4,h,h.return);break;case 1:zo(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){Ct(n,r,m)}}break;case 5:zo(h,h.return);break;case 22:if(h.memoizedState!==null){$x(f);continue}}y!==null?(y.return=h,_e=y):$x(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=f.stateNode,c=f.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=AN("display",i))}catch(m){Ct(e,e.return,m)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(m){Ct(e,e.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:pn(t,e),Wn(e),n&4&&Rx(e);break;case 21:break;default:pn(t,e),Wn(e)}}function Wn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(sS(r)){var n=r;break e}r=r.return}throw Error(ge(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(ql(s,""),n.flags&=-33);var a=Mx(e);qp(e,a,s);break;case 3:case 4:var i=n.stateNode.containerInfo,l=Mx(e);Yp(e,l,i);break;default:throw Error(ge(161))}}catch(c){Ct(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function uT(e,t,r){_e=e,iS(e)}function iS(e,t,r){for(var n=(e.mode&1)!==0;_e!==null;){var s=_e,a=s.child;if(s.tag===22&&n){var i=s.memoizedState!==null||Mu;if(!i){var l=s.alternate,c=l!==null&&l.memoizedState!==null||cr;l=Mu;var u=cr;if(Mu=i,(cr=c)&&!u)for(_e=s;_e!==null;)i=_e,c=i.child,i.tag===22&&i.memoizedState!==null?Ix(s):c!==null?(c.return=i,_e=c):Ix(s);for(;a!==null;)_e=a,iS(a),a=a.sibling;_e=s,Mu=l,cr=u}Ox(e)}else s.subtreeFlags&8772&&a!==null?(a.return=s,_e=a):Ox(e)}}function Ox(e){for(;_e!==null;){var t=_e;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:cr||zf(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!cr)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:gn(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&xx(t,a,n);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}xx(t,i,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Xl(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ge(163))}cr||t.flags&512&&Vp(t)}catch(h){Ct(t,t.return,h)}}if(t===e){_e=null;break}if(r=t.sibling,r!==null){r.return=t.return,_e=r;break}_e=t.return}}function $x(e){for(;_e!==null;){var t=_e;if(t===e){_e=null;break}var r=t.sibling;if(r!==null){r.return=t.return,_e=r;break}_e=t.return}}function Ix(e){for(;_e!==null;){var t=_e;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{zf(4,t)}catch(c){Ct(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){Ct(t,s,c)}}var a=t.return;try{Vp(t)}catch(c){Ct(t,a,c)}break;case 5:var i=t.return;try{Vp(t)}catch(c){Ct(t,i,c)}}}catch(c){Ct(t,t.return,c)}if(t===e){_e=null;break}var l=t.sibling;if(l!==null){l.return=t.return,_e=l;break}_e=t.return}}var dT=Math.ceil,Zd=Fs.ReactCurrentDispatcher,Ry=Fs.ReactCurrentOwner,an=Fs.ReactCurrentBatchConfig,qe=0,Xt=null,It=null,er=0,Fr=0,Vo=Pa(0),Ht=0,lc=null,ho=0,Vf=0,Oy=0,Ol=null,Cr=null,$y=0,vi=1/0,vs=null,ef=!1,Kp=null,ba=null,Ru=!1,da=null,tf=0,$l=0,Gp=null,ud=-1,dd=0;function br(){return qe&6?Pt():ud!==-1?ud:ud=Pt()}function wa(e){return e.mode&1?qe&2&&er!==0?er&-er:K_.transition!==null?(dd===0&&(dd=VN()),dd):(e=ot,e!==0||(e=window.event,e=e===void 0?16:JN(e.type)),e):1}function Cn(e,t,r,n){if(50<$l)throw $l=0,Gp=null,Error(ge(185));Wc(e,r,n),(!(qe&2)||e!==Xt)&&(e===Xt&&(!(qe&2)&&(Vf|=r),Ht===4&&ta(e,er)),Pr(e,n),r===1&&qe===0&&!(t.mode&1)&&(vi=Pt()+500,Bf&&Aa()))}function Pr(e,t){var r=e.callbackNode;KE(e,t);var n=Ld(e,e===Xt?er:0);if(n===0)r!==null&&Y0(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Y0(r),t===1)e.tag===0?q_(Lx.bind(null,e)):yj(Lx.bind(null,e)),H_(function(){!(qe&6)&&Aa()}),r=null;else{switch(YN(n)){case 1:r=ly;break;case 4:r=HN;break;case 16:r=Id;break;case 536870912:r=zN;break;default:r=Id}r=pS(r,lS.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function lS(e,t){if(ud=-1,dd=0,qe&6)throw Error(ge(327));var r=e.callbackNode;if(Jo()&&e.callbackNode!==r)return null;var n=Ld(e,e===Xt?er:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=rf(e,n);else{t=n;var s=qe;qe|=2;var a=uS();(Xt!==e||er!==t)&&(vs=null,vi=Pt()+500,no(e,t));do try{mT();break}catch(l){cS(e,l)}while(!0);wy(),Zd.current=a,qe=s,It!==null?t=0:(Xt=null,er=0,t=Ht)}if(t!==0){if(t===2&&(s=Np(e),s!==0&&(n=s,t=Qp(e,s))),t===1)throw r=lc,no(e,0),ta(e,n),Pr(e,Pt()),r;if(t===6)ta(e,n);else{if(s=e.current.alternate,!(n&30)&&!fT(s)&&(t=rf(e,n),t===2&&(a=Np(e),a!==0&&(n=a,t=Qp(e,a))),t===1))throw r=lc,no(e,0),ta(e,n),Pr(e,Pt()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(ge(345));case 2:Wa(e,Cr,vs);break;case 3:if(ta(e,n),(n&130023424)===n&&(t=$y+500-Pt(),10<t)){if(Ld(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){br(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Tp(Wa.bind(null,e,Cr,vs),t);break}Wa(e,Cr,vs);break;case 4:if(ta(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var i=31-Dn(n);a=1<<i,i=t[i],i>s&&(s=i),n&=~a}if(n=s,n=Pt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*dT(n/1960))-n,10<n){e.timeoutHandle=Tp(Wa.bind(null,e,Cr,vs),n);break}Wa(e,Cr,vs);break;case 5:Wa(e,Cr,vs);break;default:throw Error(ge(329))}}}return Pr(e,Pt()),e.callbackNode===r?lS.bind(null,e):null}function Qp(e,t){var r=Ol;return e.current.memoizedState.isDehydrated&&(no(e,t).flags|=256),e=rf(e,t),e!==2&&(t=Cr,Cr=r,t!==null&&Xp(t)),e}function Xp(e){Cr===null?Cr=e:Cr.push.apply(Cr,e)}function fT(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],a=s.getSnapshot;s=s.value;try{if(!En(a(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ta(e,t){for(t&=~Oy,t&=~Vf,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Dn(t),n=1<<r;e[r]=-1,t&=~n}}function Lx(e){if(qe&6)throw Error(ge(327));Jo();var t=Ld(e,0);if(!(t&1))return Pr(e,Pt()),null;var r=rf(e,t);if(e.tag!==0&&r===2){var n=Np(e);n!==0&&(t=n,r=Qp(e,n))}if(r===1)throw r=lc,no(e,0),ta(e,t),Pr(e,Pt()),r;if(r===6)throw Error(ge(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Wa(e,Cr,vs),Pr(e,Pt()),null}function Iy(e,t){var r=qe;qe|=1;try{return e(t)}finally{qe=r,qe===0&&(vi=Pt()+500,Bf&&Aa())}}function mo(e){da!==null&&da.tag===0&&!(qe&6)&&Jo();var t=qe;qe|=1;var r=an.transition,n=ot;try{if(an.transition=null,ot=1,e)return e()}finally{ot=n,an.transition=r,qe=t,!(qe&6)&&Aa()}}function Ly(){Fr=Vo.current,gt(Vo)}function no(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,U_(r)),It!==null)for(r=It.return;r!==null;){var n=r;switch(vy(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Hd();break;case 3:gi(),gt(_r),gt(fr),Cy();break;case 5:Dy(n);break;case 4:gi();break;case 13:gt(jt);break;case 19:gt(jt);break;case 10:Ny(n.type._context);break;case 22:case 23:Ly()}r=r.return}if(Xt=e,It=e=Na(e.current,null),er=Fr=t,Ht=0,lc=null,Oy=Vf=ho=0,Cr=Ol=null,Va!==null){for(t=0;t<Va.length;t++)if(r=Va[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,a=r.pending;if(a!==null){var i=a.next;a.next=s,n.next=i}r.pending=n}Va=null}return e}function cS(e,t){do{var r=It;try{if(wy(),id.current=Jd,Xd){for(var n=St.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Xd=!1}if(fo=0,Gt=Wt=St=null,Ml=!1,ac=0,Ry.current=null,r===null||r.return===null){Ht=1,lc=t,It=null;break}e:{var a=e,i=r.return,l=r,c=t;if(t=er,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=kx(i);if(y!==null){y.flags&=-257,Dx(y,i,l,a,t),y.mode&1&&Sx(a,u,t),t=y,c=u;var g=t.updateQueue;if(g===null){var m=new Set;m.add(c),t.updateQueue=m}else g.add(c);break e}else{if(!(t&1)){Sx(a,u,t),Fy();break e}c=Error(ge(426))}}else if(wt&&l.mode&1){var N=kx(i);if(N!==null){!(N.flags&65536)&&(N.flags|=256),Dx(N,i,l,a,t),xy(yi(c,l));break e}}a=c=yi(c,l),Ht!==4&&(Ht=2),Ol===null?Ol=[a]:Ol.push(a),a=i;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var v=Yj(a,c,t);vx(a,v);break e;case 1:l=c;var p=a.type,b=a.stateNode;if(!(a.flags&128)&&(typeof p.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(ba===null||!ba.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t;var x=qj(a,l,t);vx(a,x);break e}}a=a.return}while(a!==null)}fS(r)}catch(S){t=S,It===r&&r!==null&&(It=r=r.return);continue}break}while(!0)}function uS(){var e=Zd.current;return Zd.current=Jd,e===null?Jd:e}function Fy(){(Ht===0||Ht===3||Ht===2)&&(Ht=4),Xt===null||!(ho&268435455)&&!(Vf&268435455)||ta(Xt,er)}function rf(e,t){var r=qe;qe|=2;var n=uS();(Xt!==e||er!==t)&&(vs=null,no(e,t));do try{hT();break}catch(s){cS(e,s)}while(!0);if(wy(),qe=r,Zd.current=n,It!==null)throw Error(ge(261));return Xt=null,er=0,Ht}function hT(){for(;It!==null;)dS(It)}function mT(){for(;It!==null&&!FE();)dS(It)}function dS(e){var t=mS(e.alternate,e,Fr);e.memoizedProps=e.pendingProps,t===null?fS(e):It=t,Ry.current=null}function fS(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=iT(r,t),r!==null){r.flags&=32767,It=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ht=6,It=null;return}}else if(r=oT(r,t,Fr),r!==null){It=r;return}if(t=t.sibling,t!==null){It=t;return}It=t=e}while(t!==null);Ht===0&&(Ht=5)}function Wa(e,t,r){var n=ot,s=an.transition;try{an.transition=null,ot=1,pT(e,t,r,n)}finally{an.transition=s,ot=n}return null}function pT(e,t,r,n){do Jo();while(da!==null);if(qe&6)throw Error(ge(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ge(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(GE(e,a),e===Xt&&(It=Xt=null,er=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ru||(Ru=!0,pS(Id,function(){return Jo(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=an.transition,an.transition=null;var i=ot;ot=1;var l=qe;qe|=4,Ry.current=null,cT(e,r),oS(r,e),O_(Ep),Fd=!!Cp,Ep=Cp=null,e.current=r,uT(r),WE(),qe=l,ot=i,an.transition=a}else e.current=r;if(Ru&&(Ru=!1,da=e,tf=s),a=e.pendingLanes,a===0&&(ba=null),HE(r.stateNode),Pr(e,Pt()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(ef)throw ef=!1,e=Kp,Kp=null,e;return tf&1&&e.tag!==0&&Jo(),a=e.pendingLanes,a&1?e===Gp?$l++:($l=0,Gp=e):$l=0,Aa(),null}function Jo(){if(da!==null){var e=YN(tf),t=an.transition,r=ot;try{if(an.transition=null,ot=16>e?16:e,da===null)var n=!1;else{if(e=da,da=null,tf=0,qe&6)throw Error(ge(331));var s=qe;for(qe|=4,_e=e.current;_e!==null;){var a=_e,i=a.child;if(_e.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(_e=u;_e!==null;){var d=_e;switch(d.tag){case 0:case 11:case 15:Rl(8,d,a)}var f=d.child;if(f!==null)f.return=d,_e=f;else for(;_e!==null;){d=_e;var h=d.sibling,y=d.return;if(nS(d),d===u){_e=null;break}if(h!==null){h.return=y,_e=h;break}_e=y}}}var g=a.alternate;if(g!==null){var m=g.child;if(m!==null){g.child=null;do{var N=m.sibling;m.sibling=null,m=N}while(m!==null)}}_e=a}}if(a.subtreeFlags&2064&&i!==null)i.return=a,_e=i;else e:for(;_e!==null;){if(a=_e,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Rl(9,a,a.return)}var v=a.sibling;if(v!==null){v.return=a.return,_e=v;break e}_e=a.return}}var p=e.current;for(_e=p;_e!==null;){i=_e;var b=i.child;if(i.subtreeFlags&2064&&b!==null)b.return=i,_e=b;else e:for(i=p;_e!==null;){if(l=_e,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:zf(9,l)}}catch(S){Ct(l,l.return,S)}if(l===i){_e=null;break e}var x=l.sibling;if(x!==null){x.return=l.return,_e=x;break e}_e=l.return}}if(qe=s,Aa(),es&&typeof es.onPostCommitFiberRoot=="function")try{es.onPostCommitFiberRoot($f,e)}catch{}n=!0}return n}finally{ot=r,an.transition=t}}return!1}function Fx(e,t,r){t=yi(r,t),t=Yj(e,t,1),e=xa(e,t,1),t=br(),e!==null&&(Wc(e,1,t),Pr(e,t))}function Ct(e,t,r){if(e.tag===3)Fx(e,e,r);else for(;t!==null;){if(t.tag===3){Fx(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ba===null||!ba.has(n))){e=yi(r,e),e=qj(t,e,1),t=xa(t,e,1),e=br(),t!==null&&(Wc(t,1,e),Pr(t,e));break}}t=t.return}}function gT(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=br(),e.pingedLanes|=e.suspendedLanes&r,Xt===e&&(er&r)===r&&(Ht===4||Ht===3&&(er&130023424)===er&&500>Pt()-$y?no(e,0):Oy|=r),Pr(e,t)}function hS(e,t){t===0&&(e.mode&1?(t=Su,Su<<=1,!(Su&130023424)&&(Su=4194304)):t=1);var r=br();e=Ms(e,t),e!==null&&(Wc(e,t,r),Pr(e,r))}function yT(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),hS(e,r)}function vT(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(ge(314))}n!==null&&n.delete(t),hS(e,r)}var mS;mS=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||_r.current)Er=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Er=!1,aT(e,t,r);Er=!!(e.flags&131072)}else Er=!1,wt&&t.flags&1048576&&vj(t,Yd,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;cd(e,t),e=t.pendingProps;var s=hi(t,fr.current);Xo(t,r),s=_y(null,t,n,e,s,r);var a=Ty();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Tr(n)?(a=!0,zd(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Sy(t),s.updater=Hf,t.stateNode=s,s._reactInternals=t,Ip(t,n,e,r),t=Wp(null,t,n,!0,a,r)):(t.tag=0,wt&&a&&yy(t),gr(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(cd(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=bT(n),e=gn(n,e),s){case 0:t=Fp(null,t,n,e,r);break e;case 1:t=_x(null,t,n,e,r);break e;case 11:t=Cx(null,t,n,e,r);break e;case 14:t=Ex(null,t,n,gn(n.type,e),r);break e}throw Error(ge(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:gn(n,s),Fp(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:gn(n,s),_x(e,t,n,s,r);case 3:e:{if(Xj(t),e===null)throw Error(ge(387));n=t.pendingProps,a=t.memoizedState,s=a.element,Sj(e,t),Gd(t,n,null,r);var i=t.memoizedState;if(n=i.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=yi(Error(ge(423)),t),t=Tx(e,t,n,r,s);break e}else if(n!==s){s=yi(Error(ge(424)),t),t=Tx(e,t,n,r,s);break e}else for(Br=va(t.stateNode.containerInfo.firstChild),Ur=t,wt=!0,Nn=null,r=Nj(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(mi(),n===s){t=Rs(e,t,r);break e}gr(e,t,n,r)}t=t.child}return t;case 5:return kj(t),e===null&&Rp(t),n=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,i=s.children,_p(n,s)?i=null:a!==null&&_p(n,a)&&(t.flags|=32),Qj(e,t),gr(e,t,i,r),t.child;case 6:return e===null&&Rp(t),null;case 13:return Jj(e,t,r);case 4:return ky(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=pi(t,null,n,r):gr(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:gn(n,s),Cx(e,t,n,s,r);case 7:return gr(e,t,t.pendingProps,r),t.child;case 8:return gr(e,t,t.pendingProps.children,r),t.child;case 12:return gr(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,a=t.memoizedProps,i=s.value,dt(qd,n._currentValue),n._currentValue=i,a!==null)if(En(a.value,i)){if(a.children===s.children&&!_r.current){t=Rs(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){i=a.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=Cs(-1,r&-r),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),Op(a.return,r,t),l.lanes|=r;break}c=c.next}}else if(a.tag===10)i=a.type===t.type?null:a.child;else if(a.tag===18){if(i=a.return,i===null)throw Error(ge(341));i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),Op(i,r,t),i=a.sibling}else i=a.child;if(i!==null)i.return=a;else for(i=a;i!==null;){if(i===t){i=null;break}if(a=i.sibling,a!==null){a.return=i.return,i=a;break}i=i.return}a=i}gr(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Xo(t,r),s=on(s),n=n(s),t.flags|=1,gr(e,t,n,r),t.child;case 14:return n=t.type,s=gn(n,t.pendingProps),s=gn(n.type,s),Ex(e,t,n,s,r);case 15:return Kj(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:gn(n,s),cd(e,t),t.tag=1,Tr(n)?(e=!0,zd(t)):e=!1,Xo(t,r),Vj(t,n,s),Ip(t,n,s,r),Wp(null,t,n,!0,e,r);case 19:return Zj(e,t,r);case 22:return Gj(e,t,r)}throw Error(ge(156,t.tag))};function pS(e,t){return UN(e,t)}function xT(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sn(e,t,r,n){return new xT(e,t,r,n)}function Wy(e){return e=e.prototype,!(!e||!e.isReactComponent)}function bT(e){if(typeof e=="function")return Wy(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ay)return 11;if(e===oy)return 14}return 2}function Na(e,t){var r=e.alternate;return r===null?(r=sn(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function fd(e,t,r,n,s,a){var i=2;if(n=e,typeof e=="function")Wy(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Oo:return so(r.children,s,a,t);case sy:i=8,s|=8;break;case ip:return e=sn(12,r,t,s|2),e.elementType=ip,e.lanes=a,e;case lp:return e=sn(13,r,t,s),e.elementType=lp,e.lanes=a,e;case cp:return e=sn(19,r,t,s),e.elementType=cp,e.lanes=a,e;case kN:return Yf(r,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case jN:i=10;break e;case SN:i=9;break e;case ay:i=11;break e;case oy:i=14;break e;case Xs:i=16,n=null;break e}throw Error(ge(130,e==null?e:typeof e,""))}return t=sn(i,r,t,s),t.elementType=e,t.type=n,t.lanes=a,t}function so(e,t,r,n){return e=sn(7,e,n,t),e.lanes=r,e}function Yf(e,t,r,n){return e=sn(22,e,n,t),e.elementType=kN,e.lanes=r,e.stateNode={isHidden:!1},e}function jm(e,t,r){return e=sn(6,e,null,t),e.lanes=r,e}function Sm(e,t,r){return t=sn(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function wT(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=sm(0),this.expirationTimes=sm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sm(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function By(e,t,r,n,s,a,i,l,c){return e=new wT(e,t,r,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=sn(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Sy(a),e}function NT(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ro,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function gS(e){if(!e)return Da;e=e._reactInternals;e:{if(So(e)!==e||e.tag!==1)throw Error(ge(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Tr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ge(171))}if(e.tag===1){var r=e.type;if(Tr(r))return gj(e,r,t)}return t}function yS(e,t,r,n,s,a,i,l,c){return e=By(r,n,!0,e,s,a,i,l,c),e.context=gS(null),r=e.current,n=br(),s=wa(r),a=Cs(n,s),a.callback=t??null,xa(r,a,s),e.current.lanes=s,Wc(e,s,n),Pr(e,n),e}function qf(e,t,r,n){var s=t.current,a=br(),i=wa(s);return r=gS(r),t.context===null?t.context=r:t.pendingContext=r,t=Cs(a,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=xa(s,t,i),e!==null&&(Cn(e,s,i,a),od(e,s,i)),i}function nf(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Wx(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Uy(e,t){Wx(e,t),(e=e.alternate)&&Wx(e,t)}function jT(){return null}var vS=typeof reportError=="function"?reportError:function(e){console.error(e)};function Hy(e){this._internalRoot=e}Kf.prototype.render=Hy.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ge(409));qf(e,t,null,null)};Kf.prototype.unmount=Hy.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;mo(function(){qf(null,e,null,null)}),t[As]=null}};function Kf(e){this._internalRoot=e}Kf.prototype.unstable_scheduleHydration=function(e){if(e){var t=GN();e={blockedOn:null,target:e,priority:t};for(var r=0;r<ea.length&&t!==0&&t<ea[r].priority;r++);ea.splice(r,0,e),r===0&&XN(e)}};function zy(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Gf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Bx(){}function ST(e,t,r,n,s){if(s){if(typeof n=="function"){var a=n;n=function(){var u=nf(i);a.call(u)}}var i=yS(t,n,e,0,null,!1,!1,"",Bx);return e._reactRootContainer=i,e[As]=i.current,ec(e.nodeType===8?e.parentNode:e),mo(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=nf(c);l.call(u)}}var c=By(e,0,!1,null,null,!1,!1,"",Bx);return e._reactRootContainer=c,e[As]=c.current,ec(e.nodeType===8?e.parentNode:e),mo(function(){qf(t,c,r,n)}),c}function Qf(e,t,r,n,s){var a=r._reactRootContainer;if(a){var i=a;if(typeof s=="function"){var l=s;s=function(){var c=nf(i);l.call(c)}}qf(t,i,e,s)}else i=ST(r,t,e,s,n);return nf(i)}qN=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Nl(t.pendingLanes);r!==0&&(cy(t,r|1),Pr(t,Pt()),!(qe&6)&&(vi=Pt()+500,Aa()))}break;case 13:mo(function(){var n=Ms(e,1);if(n!==null){var s=br();Cn(n,e,1,s)}}),Uy(e,1)}};uy=function(e){if(e.tag===13){var t=Ms(e,134217728);if(t!==null){var r=br();Cn(t,e,134217728,r)}Uy(e,134217728)}};KN=function(e){if(e.tag===13){var t=wa(e),r=Ms(e,t);if(r!==null){var n=br();Cn(r,e,t,n)}Uy(e,t)}};GN=function(){return ot};QN=function(e,t){var r=ot;try{return ot=e,t()}finally{ot=r}};xp=function(e,t,r){switch(t){case"input":if(fp(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Wf(n);if(!s)throw Error(ge(90));CN(n),fp(n,s)}}}break;case"textarea":_N(e,r);break;case"select":t=r.value,t!=null&&qo(e,!!r.multiple,t,!1)}};$N=Iy;IN=mo;var kT={usingClientEntryPoint:!1,Events:[Uc,Fo,Wf,RN,ON,Iy]},cl={findFiberByHostInstance:za,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},DT={bundleType:cl.bundleType,version:cl.version,rendererPackageName:cl.rendererPackageName,rendererConfig:cl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Fs.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=WN(e),e===null?null:e.stateNode},findFiberByHostInstance:cl.findFiberByHostInstance||jT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ou=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ou.isDisabled&&Ou.supportsFiber)try{$f=Ou.inject(DT),es=Ou}catch{}}Vr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kT;Vr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!zy(t))throw Error(ge(200));return NT(e,t,null,r)};Vr.createRoot=function(e,t){if(!zy(e))throw Error(ge(299));var r=!1,n="",s=vS;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=By(e,1,!1,null,null,r,!1,n,s),e[As]=t.current,ec(e.nodeType===8?e.parentNode:e),new Hy(t)};Vr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ge(188)):(e=Object.keys(e).join(","),Error(ge(268,e)));return e=WN(t),e=e===null?null:e.stateNode,e};Vr.flushSync=function(e){return mo(e)};Vr.hydrate=function(e,t,r){if(!Gf(t))throw Error(ge(200));return Qf(null,e,t,!0,r)};Vr.hydrateRoot=function(e,t,r){if(!zy(e))throw Error(ge(405));var n=r!=null&&r.hydratedSources||null,s=!1,a="",i=vS;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=yS(t,null,e,1,r??null,s,!1,a,i),e[As]=t.current,ec(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Kf(t)};Vr.render=function(e,t,r){if(!Gf(t))throw Error(ge(200));return Qf(null,e,t,!1,r)};Vr.unmountComponentAtNode=function(e){if(!Gf(e))throw Error(ge(40));return e._reactRootContainer?(mo(function(){Qf(null,null,e,!1,function(){e._reactRootContainer=null,e[As]=null})}),!0):!1};Vr.unstable_batchedUpdates=Iy;Vr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Gf(r))throw Error(ge(200));if(e==null||e._reactInternals===void 0)throw Error(ge(38));return Qf(e,t,r,!1,n)};Vr.version="18.3.1-next-f1338f8080-20240426";function xS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(xS)}catch(e){console.error(e)}}xS(),xN.exports=Vr;var qa=xN.exports;const bS=wr(qa);var wS,Ux=qa;wS=Ux.createRoot,Ux.hydrateRoot;/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Hx="popstate";function CT(e={}){function t(n,s){let{pathname:a,search:i,hash:l}=n.location;return Jp("",{pathname:a,search:i,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:cc(s)}return _T(t,r,null,e)}function Nt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function _n(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function ET(){return Math.random().toString(36).substring(2,10)}function zx(e,t){return{usr:e.state,key:e.key,idx:t}}function Jp(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Ti(t):t,state:r,key:t&&t.key||n||ET()}}function cc({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ti(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function _T(e,t,r,n={}){let{window:s=document.defaultView,v5Compat:a=!1}=n,i=s.history,l="POP",c=null,u=d();u==null&&(u=0,i.replaceState({...i.state,idx:u},""));function d(){return(i.state||{idx:null}).idx}function f(){l="POP";let N=d(),v=N==null?null:N-u;u=N,c&&c({action:l,location:m.location,delta:v})}function h(N,v){l="PUSH";let p=Jp(m.location,N,v);u=d()+1;let b=zx(p,u),x=m.createHref(p);try{i.pushState(b,"",x)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(x)}a&&c&&c({action:l,location:m.location,delta:1})}function y(N,v){l="REPLACE";let p=Jp(m.location,N,v);u=d();let b=zx(p,u),x=m.createHref(p);i.replaceState(b,"",x),a&&c&&c({action:l,location:m.location,delta:0})}function g(N){return TT(N)}let m={get action(){return l},get location(){return e(s,i)},listen(N){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Hx,f),c=N,()=>{s.removeEventListener(Hx,f),c=null}},createHref(N){return t(s,N)},createURL:g,encodeLocation(N){let v=g(N);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:y,go(N){return i.go(N)}};return m}function TT(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Nt(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:cc(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function NS(e,t,r="/"){return PT(e,t,r,!1)}function PT(e,t,r,n){let s=typeof t=="string"?Ti(t):t,a=Os(s.pathname||"/",r);if(a==null)return null;let i=jS(e);AT(i);let l=null;for(let c=0;l==null&&c<i.length;++c){let u=HT(a);l=BT(i[c],u,n)}return l}function jS(e,t=[],r=[],n="",s=!1){let a=(i,l,c=s,u)=>{let d={relativePath:u===void 0?i.path||"":u,caseSensitive:i.caseSensitive===!0,childrenIndex:l,route:i};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(n)&&c)return;Nt(d.relativePath.startsWith(n),`Absolute route path "${d.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(n.length)}let f=Es([n,d.relativePath]),h=r.concat(d);i.children&&i.children.length>0&&(Nt(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),jS(i.children,t,h,f,c)),!(i.path==null&&!i.index)&&t.push({path:f,score:FT(f,i.index),routesMeta:h})};return e.forEach((i,l)=>{var c;if(i.path===""||!((c=i.path)!=null&&c.includes("?")))a(i,l);else for(let u of SS(i.path))a(i,l,!0,u)}),t}function SS(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return s?[a,""]:[a];let i=SS(n.join("/")),l=[];return l.push(...i.map(c=>c===""?a:[a,c].join("/"))),s&&l.push(...i),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function AT(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:WT(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var MT=/^:[\w-]+$/,RT=3,OT=2,$T=1,IT=10,LT=-2,Vx=e=>e==="*";function FT(e,t){let r=e.split("/"),n=r.length;return r.some(Vx)&&(n+=LT),t&&(n+=OT),r.filter(s=>!Vx(s)).reduce((s,a)=>s+(MT.test(a)?RT:a===""?$T:IT),n)}function WT(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function BT(e,t,r=!1){let{routesMeta:n}=e,s={},a="/",i=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=a==="/"?t:t.slice(a.length)||"/",f=sf({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f&&u&&r&&!n[n.length-1].route.index&&(f=sf({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(s,f.params),i.push({params:s,pathname:Es([a,f.pathname]),pathnameBase:qT(Es([a,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(a=Es([a,f.pathnameBase]))}return i}function sf(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=UT(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let a=s[0],i=a.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,{paramName:d,isOptional:f},h)=>{if(d==="*"){let g=l[h]||"";i=a.slice(0,a.length-g.length).replace(/(.)\/+$/,"$1")}const y=l[h];return f&&!y?u[d]=void 0:u[d]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:i,pattern:e}}function UT(e,t=!1,r=!0){_n(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function HT(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return _n(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Os(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function zT(e,t="/"){let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?Ti(e):e;return{pathname:r?r.startsWith("/")?r:VT(r,t):t,search:KT(n),hash:GT(s)}}function VT(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function km(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function YT(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Vy(e){let t=YT(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function Yy(e,t,r,n=!1){let s;typeof e=="string"?s=Ti(e):(s={...e},Nt(!s.pathname||!s.pathname.includes("?"),km("?","pathname","search",s)),Nt(!s.pathname||!s.pathname.includes("#"),km("#","pathname","hash",s)),Nt(!s.search||!s.search.includes("#"),km("#","search","hash",s)));let a=e===""||s.pathname==="",i=a?"/":s.pathname,l;if(i==null)l=r;else{let f=t.length-1;if(!n&&i.startsWith("..")){let h=i.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=zT(s,l),u=i&&i!=="/"&&i.endsWith("/"),d=(a||i===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}var Es=e=>e.join("/").replace(/\/\/+/g,"/"),qT=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),KT=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,GT=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function QT(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var kS=["POST","PUT","PATCH","DELETE"];new Set(kS);var XT=["GET",...kS];new Set(XT);var Pi=w.createContext(null);Pi.displayName="DataRouter";var Xf=w.createContext(null);Xf.displayName="DataRouterState";w.createContext(!1);var DS=w.createContext({isTransitioning:!1});DS.displayName="ViewTransition";var JT=w.createContext(new Map);JT.displayName="Fetchers";var ZT=w.createContext(null);ZT.displayName="Await";var On=w.createContext(null);On.displayName="Navigation";var zc=w.createContext(null);zc.displayName="Location";var $n=w.createContext({outlet:null,matches:[],isDataRoute:!1});$n.displayName="Route";var qy=w.createContext(null);qy.displayName="RouteError";function eP(e,{relative:t}={}){Nt(Ai(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=w.useContext(On),{hash:s,pathname:a,search:i}=Vc(e,{relative:t}),l=a;return r!=="/"&&(l=a==="/"?r:Es([r,a])),n.createHref({pathname:l,search:i,hash:s})}function Ai(){return w.useContext(zc)!=null}function Ws(){return Nt(Ai(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(zc).location}var CS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ES(e){w.useContext(On).static||w.useLayoutEffect(e)}function Jf(){let{isDataRoute:e}=w.useContext($n);return e?pP():tP()}function tP(){Nt(Ai(),"useNavigate() may be used only in the context of a <Router> component.");let e=w.useContext(Pi),{basename:t,navigator:r}=w.useContext(On),{matches:n}=w.useContext($n),{pathname:s}=Ws(),a=JSON.stringify(Vy(n)),i=w.useRef(!1);return ES(()=>{i.current=!0}),w.useCallback((c,u={})=>{if(_n(i.current,CS),!i.current)return;if(typeof c=="number"){r.go(c);return}let d=Yy(c,JSON.parse(a),s,u.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Es([t,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[t,r,a,s,e])}var rP=w.createContext(null);function nP(e){let t=w.useContext($n).outlet;return w.useMemo(()=>t&&w.createElement(rP.Provider,{value:e},t),[t,e])}function Vc(e,{relative:t}={}){let{matches:r}=w.useContext($n),{pathname:n}=Ws(),s=JSON.stringify(Vy(r));return w.useMemo(()=>Yy(e,JSON.parse(s),n,t==="path"),[e,s,n,t])}function sP(e,t){return _S(e,t)}function _S(e,t,r,n,s){var p;Nt(Ai(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=w.useContext(On),{matches:i}=w.useContext($n),l=i[i.length-1],c=l?l.params:{},u=l?l.pathname:"/",d=l?l.pathnameBase:"/",f=l&&l.route;{let b=f&&f.path||"";TS(u,!f||b.endsWith("*")||b.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${b}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${b}"> to <Route path="${b==="/"?"*":`${b}/*`}">.`)}let h=Ws(),y;if(t){let b=typeof t=="string"?Ti(t):t;Nt(d==="/"||((p=b.pathname)==null?void 0:p.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${b.pathname}" was given in the \`location\` prop.`),y=b}else y=h;let g=y.pathname||"/",m=g;if(d!=="/"){let b=d.replace(/^\//,"").split("/");m="/"+g.replace(/^\//,"").split("/").slice(b.length).join("/")}let N=NS(e,{pathname:m});_n(f||N!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),_n(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let v=cP(N&&N.map(b=>Object.assign({},b,{params:Object.assign({},c,b.params),pathname:Es([d,a.encodeLocation?a.encodeLocation(b.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?d:Es([d,a.encodeLocation?a.encodeLocation(b.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:b.pathnameBase])})),i,r,n,s);return t&&v?w.createElement(zc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},v):v}function aP(){let e=mP(),t=QT(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:n},a={padding:"2px 4px",backgroundColor:n},i=null;return console.error("Error handled by React Router default ErrorBoundary:",e),i=w.createElement(w.Fragment,null,w.createElement("p",null," Hey developer "),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:a},"ErrorBoundary")," or"," ",w.createElement("code",{style:a},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),r?w.createElement("pre",{style:s},r):null,i)}var oP=w.createElement(aP,null),iP=class extends w.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?w.createElement($n.Provider,{value:this.props.routeContext},w.createElement(qy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function lP({routeContext:e,match:t,children:r}){let n=w.useContext(Pi);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),w.createElement($n.Provider,{value:e},r)}function cP(e,t=[],r=null,n=null,s=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let a=e,i=r==null?void 0:r.errors;if(i!=null){let u=a.findIndex(d=>d.route.id&&(i==null?void 0:i[d.route.id])!==void 0);Nt(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),a=a.slice(0,Math.min(a.length,u+1))}let l=!1,c=-1;if(r)for(let u=0;u<a.length;u++){let d=a[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:f,errors:h}=r,y=d.route.loader&&!f.hasOwnProperty(d.route.id)&&(!h||h[d.route.id]===void 0);if(d.route.lazy||y){l=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((u,d,f)=>{let h,y=!1,g=null,m=null;r&&(h=i&&d.route.id?i[d.route.id]:void 0,g=d.route.errorElement||oP,l&&(c<0&&f===0?(TS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,m=null):c===f&&(y=!0,m=d.route.hydrateFallbackElement||null)));let N=t.concat(a.slice(0,f+1)),v=()=>{let p;return h?p=g:y?p=m:d.route.Component?p=w.createElement(d.route.Component,null):d.route.element?p=d.route.element:p=u,w.createElement(lP,{match:d,routeContext:{outlet:u,matches:N,isDataRoute:r!=null},children:p})};return r&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?w.createElement(iP,{location:r.location,revalidation:r.revalidation,component:g,error:h,children:v(),routeContext:{outlet:null,matches:N,isDataRoute:!0},unstable_onError:n}):v()},null)}function Ky(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function uP(e){let t=w.useContext(Pi);return Nt(t,Ky(e)),t}function dP(e){let t=w.useContext(Xf);return Nt(t,Ky(e)),t}function fP(e){let t=w.useContext($n);return Nt(t,Ky(e)),t}function Gy(e){let t=fP(e),r=t.matches[t.matches.length-1];return Nt(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function hP(){return Gy("useRouteId")}function mP(){var n;let e=w.useContext(qy),t=dP("useRouteError"),r=Gy("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function pP(){let{router:e}=uP("useNavigate"),t=Gy("useNavigate"),r=w.useRef(!1);return ES(()=>{r.current=!0}),w.useCallback(async(s,a={})=>{_n(r.current,CS),r.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...a}))},[e,t])}var Yx={};function TS(e,t,r){!t&&!Yx[e]&&(Yx[e]=!0,_n(!1,r))}w.memo(gP);function gP({routes:e,future:t,state:r,unstable_onError:n}){return _S(e,void 0,r,n,t)}function yP({to:e,replace:t,state:r,relative:n}){Nt(Ai(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=w.useContext(On);_n(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=w.useContext($n),{pathname:i}=Ws(),l=Jf(),c=Yy(e,Vy(a),i,n==="path"),u=JSON.stringify(c);return w.useEffect(()=>{l(JSON.parse(u),{replace:t,state:r,relative:n})},[l,u,n,t,r]),null}function vP(e){return nP(e.context)}function lr(e){Nt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function xP({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:s,static:a=!1}){Nt(!Ai(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let i=e.replace(/^\/*/,"/"),l=w.useMemo(()=>({basename:i,navigator:s,static:a,future:{}}),[i,s,a]);typeof r=="string"&&(r=Ti(r));let{pathname:c="/",search:u="",hash:d="",state:f=null,key:h="default"}=r,y=w.useMemo(()=>{let g=Os(c,i);return g==null?null:{location:{pathname:g,search:u,hash:d,state:f,key:h},navigationType:n}},[i,c,u,d,f,h,n]);return _n(y!=null,`<Router basename="${i}"> is not able to match the URL "${c}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:w.createElement(On.Provider,{value:l},w.createElement(zc.Provider,{children:t,value:y}))}function bP({children:e,location:t}){return sP(Zp(e),t)}function Zp(e,t=[]){let r=[];return w.Children.forEach(e,(n,s)=>{if(!w.isValidElement(n))return;let a=[...t,s];if(n.type===w.Fragment){r.push.apply(r,Zp(n.props.children,a));return}Nt(n.type===lr,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Nt(!n.props.index||!n.props.children,"An index route cannot have child routes.");let i={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=Zp(n.props.children,a)),r.push(i)}),r}var hd="get",md="application/x-www-form-urlencoded";function Zf(e){return e!=null&&typeof e.tagName=="string"}function wP(e){return Zf(e)&&e.tagName.toLowerCase()==="button"}function NP(e){return Zf(e)&&e.tagName.toLowerCase()==="form"}function jP(e){return Zf(e)&&e.tagName.toLowerCase()==="input"}function SP(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function kP(e,t){return e.button===0&&(!t||t==="_self")&&!SP(e)}var $u=null;function DP(){if($u===null)try{new FormData(document.createElement("form"),0),$u=!1}catch{$u=!0}return $u}var CP=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Dm(e){return e!=null&&!CP.has(e)?(_n(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${md}"`),null):e}function EP(e,t){let r,n,s,a,i;if(NP(e)){let l=e.getAttribute("action");n=l?Os(l,t):null,r=e.getAttribute("method")||hd,s=Dm(e.getAttribute("enctype"))||md,a=new FormData(e)}else if(wP(e)||jP(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||l.getAttribute("action");if(n=c?Os(c,t):null,r=e.getAttribute("formmethod")||l.getAttribute("method")||hd,s=Dm(e.getAttribute("formenctype"))||Dm(l.getAttribute("enctype"))||md,a=new FormData(l,e),!DP()){let{name:u,type:d,value:f}=e;if(d==="image"){let h=u?`${u}.`:"";a.append(`${h}x`,"0"),a.append(`${h}y`,"0")}else u&&a.append(u,f)}}else{if(Zf(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=hd,n=null,s=md,i=e}return a&&s==="text/plain"&&(i=a,a=void 0),{action:n,method:r.toLowerCase(),encType:s,formData:a,body:i}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Qy(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function _P(e,t,r){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname=`_root.${r}`:t&&Os(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function TP(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function PP(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function AP(e,t,r){let n=await Promise.all(e.map(async s=>{let a=t.routes[s.route.id];if(a){let i=await TP(a,r);return i.links?i.links():[]}return[]}));return $P(n.flat(1).filter(PP).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function qx(e,t,r,n,s,a){let i=(c,u)=>r[u]?c.route.id!==r[u].route.id:!0,l=(c,u)=>{var d;return r[u].pathname!==c.pathname||((d=r[u].route.path)==null?void 0:d.endsWith("*"))&&r[u].params["*"]!==c.params["*"]};return a==="assets"?t.filter((c,u)=>i(c,u)||l(c,u)):a==="data"?t.filter((c,u)=>{var f;let d=n.routes[c.route.id];if(!d||!d.hasLoader)return!1;if(i(c,u)||l(c,u))return!0;if(c.route.shouldRevalidate){let h=c.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((f=r[0])==null?void 0:f.params)||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function MP(e,t,{includeHydrateFallback:r}={}){return RP(e.map(n=>{let s=t.routes[n.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),r&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function RP(e){return[...new Set(e)]}function OP(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function $P(e,t){let r=new Set;return new Set(t),e.reduce((n,s)=>{let a=JSON.stringify(OP(s));return r.has(a)||(r.add(a),n.push({key:a,link:s})),n},[])}function PS(){let e=w.useContext(Pi);return Qy(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function IP(){let e=w.useContext(Xf);return Qy(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Xy=w.createContext(void 0);Xy.displayName="FrameworkContext";function AS(){let e=w.useContext(Xy);return Qy(e,"You must render this element inside a <HydratedRouter> element"),e}function LP(e,t){let r=w.useContext(Xy),[n,s]=w.useState(!1),[a,i]=w.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:f}=t,h=w.useRef(null);w.useEffect(()=>{if(e==="render"&&i(!0),e==="viewport"){let m=v=>{v.forEach(p=>{i(p.isIntersecting)})},N=new IntersectionObserver(m,{threshold:.5});return h.current&&N.observe(h.current),()=>{N.disconnect()}}},[e]),w.useEffect(()=>{if(n){let m=setTimeout(()=>{i(!0)},100);return()=>{clearTimeout(m)}}},[n]);let y=()=>{s(!0)},g=()=>{s(!1),i(!1)};return r?e!=="intent"?[a,h,{}]:[a,h,{onFocus:ul(l,y),onBlur:ul(c,g),onMouseEnter:ul(u,y),onMouseLeave:ul(d,g),onTouchStart:ul(f,y)}]:[!1,h,{}]}function ul(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function FP({page:e,...t}){let{router:r}=PS(),n=w.useMemo(()=>NS(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?w.createElement(BP,{page:e,matches:n,...t}):null}function WP(e){let{manifest:t,routeModules:r}=AS(),[n,s]=w.useState([]);return w.useEffect(()=>{let a=!1;return AP(e,t,r).then(i=>{a||s(i)}),()=>{a=!0}},[e,t,r]),n}function BP({page:e,matches:t,...r}){let n=Ws(),{manifest:s,routeModules:a}=AS(),{basename:i}=PS(),{loaderData:l,matches:c}=IP(),u=w.useMemo(()=>qx(e,t,c,s,n,"data"),[e,t,c,s,n]),d=w.useMemo(()=>qx(e,t,c,s,n,"assets"),[e,t,c,s,n]),f=w.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let g=new Set,m=!1;if(t.forEach(v=>{var b;let p=s.routes[v.route.id];!p||!p.hasLoader||(!u.some(x=>x.route.id===v.route.id)&&v.route.id in l&&((b=a[v.route.id])!=null&&b.shouldRevalidate)||p.hasClientLoader?m=!0:g.add(v.route.id))}),g.size===0)return[];let N=_P(e,i,"data");return m&&g.size>0&&N.searchParams.set("_routes",t.filter(v=>g.has(v.route.id)).map(v=>v.route.id).join(",")),[N.pathname+N.search]},[i,l,n,s,u,t,e,a]),h=w.useMemo(()=>MP(d,s),[d,s]),y=WP(d);return w.createElement(w.Fragment,null,f.map(g=>w.createElement("link",{key:g,rel:"prefetch",as:"fetch",href:g,...r})),h.map(g=>w.createElement("link",{key:g,rel:"modulepreload",href:g,...r})),y.map(({key:g,link:m})=>w.createElement("link",{key:g,nonce:r.nonce,...m})))}function UP(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var MS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{MS&&(window.__reactRouterVersion="7.9.4")}catch{}function HP({basename:e,children:t,window:r}){let n=w.useRef();n.current==null&&(n.current=CT({window:r,v5Compat:!0}));let s=n.current,[a,i]=w.useState({action:s.action,location:s.location}),l=w.useCallback(c=>{w.startTransition(()=>i(c))},[i]);return w.useLayoutEffect(()=>s.listen(l),[s,l]),w.createElement(xP,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:s})}var RS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,OS=w.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:s,reloadDocument:a,replace:i,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f,...h},y){let{basename:g}=w.useContext(On),m=typeof u=="string"&&RS.test(u),N,v=!1;if(typeof u=="string"&&m&&(N=u,MS))try{let M=new URL(window.location.href),$=u.startsWith("//")?new URL(M.protocol+u):new URL(u),V=Os($.pathname,g);$.origin===M.origin&&V!=null?u=V+$.search+$.hash:v=!0}catch{_n(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let p=eP(u,{relative:s}),[b,x,S]=LP(n,h),k=YP(u,{replace:i,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:f});function _(M){t&&t(M),M.defaultPrevented||k(M)}let A=w.createElement("a",{...h,...S,href:N||p,onClick:v||a?t:_,ref:UP(y,x),target:c,"data-discover":!m&&r==="render"?"true":void 0});return b&&!m?w.createElement(w.Fragment,null,A,w.createElement(FP,{page:p})):A});OS.displayName="Link";var eg=w.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:s=!1,style:a,to:i,viewTransition:l,children:c,...u},d){let f=Vc(i,{relative:u.relative}),h=Ws(),y=w.useContext(Xf),{navigator:g,basename:m}=w.useContext(On),N=y!=null&&XP(f)&&l===!0,v=g.encodeLocation?g.encodeLocation(f).pathname:f.pathname,p=h.pathname,b=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;r||(p=p.toLowerCase(),b=b?b.toLowerCase():null,v=v.toLowerCase()),b&&m&&(b=Os(b,m)||b);const x=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let S=p===v||!s&&p.startsWith(v)&&p.charAt(x)==="/",k=b!=null&&(b===v||!s&&b.startsWith(v)&&b.charAt(v.length)==="/"),_={isActive:S,isPending:k,isTransitioning:N},A=S?t:void 0,M;typeof n=="function"?M=n(_):M=[n,S?"active":null,k?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let $=typeof a=="function"?a(_):a;return w.createElement(OS,{...u,"aria-current":A,className:M,ref:d,style:$,to:i,viewTransition:l},typeof c=="function"?c(_):c)});eg.displayName="NavLink";var zP=w.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:s,state:a,method:i=hd,action:l,onSubmit:c,relative:u,preventScrollReset:d,viewTransition:f,...h},y)=>{let g=GP(),m=QP(l,{relative:u}),N=i.toLowerCase()==="get"?"get":"post",v=typeof l=="string"&&RS.test(l),p=b=>{if(c&&c(b),b.defaultPrevented)return;b.preventDefault();let x=b.nativeEvent.submitter,S=(x==null?void 0:x.getAttribute("formmethod"))||i;g(x||b.currentTarget,{fetcherKey:t,method:S,navigate:r,replace:s,state:a,relative:u,preventScrollReset:d,viewTransition:f})};return w.createElement("form",{ref:y,method:N,action:m,onSubmit:n?c:p,...h,"data-discover":!v&&e==="render"?"true":void 0})});zP.displayName="Form";function VP(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $S(e){let t=w.useContext(Pi);return Nt(t,VP(e)),t}function YP(e,{target:t,replace:r,state:n,preventScrollReset:s,relative:a,viewTransition:i}={}){let l=Jf(),c=Ws(),u=Vc(e,{relative:a});return w.useCallback(d=>{if(kP(d,t)){d.preventDefault();let f=r!==void 0?r:cc(c)===cc(u);l(e,{replace:f,state:n,preventScrollReset:s,relative:a,viewTransition:i})}},[c,l,u,r,n,t,e,s,a,i])}var qP=0,KP=()=>`__${String(++qP)}__`;function GP(){let{router:e}=$S("useSubmit"),{basename:t}=w.useContext(On),r=hP();return w.useCallback(async(n,s={})=>{let{action:a,method:i,encType:l,formData:c,body:u}=EP(n,t);if(s.navigate===!1){let d=s.fetcherKey||KP();await e.fetch(d,r,s.action||a,{preventScrollReset:s.preventScrollReset,formData:c,body:u,formMethod:s.method||i,formEncType:s.encType||l,flushSync:s.flushSync})}else await e.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:c,body:u,formMethod:s.method||i,formEncType:s.encType||l,replace:s.replace,state:s.state,fromRouteId:r,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,r])}function QP(e,{relative:t}={}){let{basename:r}=w.useContext(On),n=w.useContext($n);Nt(n,"useFormAction must be used inside a RouteContext");let[s]=n.matches.slice(-1),a={...Vc(e||".",{relative:t})},i=Ws();if(e==null){a.search=i.search;let l=new URLSearchParams(a.search),c=l.getAll("index");if(c.some(d=>d==="")){l.delete("index"),c.filter(f=>f).forEach(f=>l.append("index",f));let d=l.toString();a.search=d?`?${d}`:""}}return(!e||e===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(a.pathname=a.pathname==="/"?r:Es([r,a.pathname])),cc(a)}function XP(e,{relative:t}={}){let r=w.useContext(DS);Nt(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=$S("useViewTransitionState"),s=Vc(e,{relative:t});if(!r.isTransitioning)return!1;let a=Os(r.currentLocation.pathname,n)||r.currentLocation.pathname,i=Os(r.nextLocation.pathname,n)||r.nextLocation.pathname;return sf(s.pathname,i)!=null||sf(s.pathname,a)!=null}var eh=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},JP={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},sa,Qg,Z1,ZP=(Z1=class{constructor(){He(this,sa,JP);He(this,Qg,!1)}setTimeoutProvider(e){$e(this,sa,e)}setTimeout(e,t){return ie(this,sa).setTimeout(e,t)}clearTimeout(e){ie(this,sa).clearTimeout(e)}setInterval(e,t){return ie(this,sa).setInterval(e,t)}clearInterval(e){ie(this,sa).clearInterval(e)}},sa=new WeakMap,Qg=new WeakMap,Z1),tg=new ZP;function eA(e){setTimeout(e,0)}var th=typeof window>"u"||"Deno"in globalThis;function yn(){}function tA(e,t){return typeof e=="function"?e(t):e}function rA(e){return typeof e=="number"&&e>=0&&e!==1/0}function nA(e,t){return Math.max(e+(t||0)-Date.now(),0)}function rg(e,t){return typeof e=="function"?e(t):e}function sA(e,t){return typeof e=="function"?e(t):e}function Kx(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:a,queryKey:i,stale:l}=e;if(i){if(n){if(t.queryHash!==Jy(i,t.options))return!1}else if(!dc(t.queryKey,i))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||a&&!a(t))}function Gx(e,t){const{exact:r,status:n,predicate:s,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(r){if(uc(t.options.mutationKey)!==uc(a))return!1}else if(!dc(t.options.mutationKey,a))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function Jy(e,t){return((t==null?void 0:t.queryKeyHashFn)||uc)(e)}function uc(e){return JSON.stringify(e,(t,r)=>ng(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function dc(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>dc(e[r],t[r])):!1}var aA=Object.prototype.hasOwnProperty;function IS(e,t){if(e===t)return e;const r=Qx(e)&&Qx(t);if(!r&&!(ng(e)&&ng(t)))return t;const s=(r?e:Object.keys(e)).length,a=r?t:Object.keys(t),i=a.length,l=r?new Array(i):{};let c=0;for(let u=0;u<i;u++){const d=r?u:a[u],f=e[d],h=t[d];if(f===h){l[d]=f,(r?u<s:aA.call(e,d))&&c++;continue}if(f===null||h===null||typeof f!="object"||typeof h!="object"){l[d]=h;continue}const y=IS(f,h);l[d]=y,y===f&&c++}return s===i&&c===s?e:l}function Qx(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function ng(e){if(!Xx(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!Xx(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Xx(e){return Object.prototype.toString.call(e)==="[object Object]"}function oA(e){return new Promise(t=>{tg.setTimeout(t,e)})}function iA(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?IS(e,t):t}function lA(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function cA(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var Zy=Symbol();function LS(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Zy?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Xa,aa,si,eN,uA=(eN=class extends eh{constructor(){super();He(this,Xa);He(this,aa);He(this,si);$e(this,si,t=>{if(!th&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){ie(this,aa)||this.setEventListener(ie(this,si))}onUnsubscribe(){var t;this.hasListeners()||((t=ie(this,aa))==null||t.call(this),$e(this,aa,void 0))}setEventListener(t){var r;$e(this,si,t),(r=ie(this,aa))==null||r.call(this),$e(this,aa,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){ie(this,Xa)!==t&&($e(this,Xa,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof ie(this,Xa)=="boolean"?ie(this,Xa):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Xa=new WeakMap,aa=new WeakMap,si=new WeakMap,eN),FS=new uA;function dA(){let e,t;const r=new Promise((s,a)=>{e=s,t=a});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}var fA=eA;function hA(){let e=[],t=0,r=l=>{l()},n=l=>{l()},s=fA;const a=l=>{t?e.push(l):s(()=>{r(l)})},i=()=>{const l=e;e=[],l.length&&s(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||i()}return c},batchCalls:l=>(...c)=>{a(()=>{l(...c)})},schedule:a,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{s=l}}}var vr=hA(),ai,oa,oi,tN,mA=(tN=class extends eh{constructor(){super();He(this,ai,!0);He(this,oa);He(this,oi);$e(this,oi,t=>{if(!th&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){ie(this,oa)||this.setEventListener(ie(this,oi))}onUnsubscribe(){var t;this.hasListeners()||((t=ie(this,oa))==null||t.call(this),$e(this,oa,void 0))}setEventListener(t){var r;$e(this,oi,t),(r=ie(this,oa))==null||r.call(this),$e(this,oa,t(this.setOnline.bind(this)))}setOnline(t){ie(this,ai)!==t&&($e(this,ai,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return ie(this,ai)}},ai=new WeakMap,oa=new WeakMap,oi=new WeakMap,tN),af=new mA;function pA(e){return Math.min(1e3*2**e,3e4)}function WS(e){return(e??"online")==="online"?af.isOnline():!0}var sg=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function BS(e){let t=!1,r=0,n;const s=dA(),a=()=>s.status!=="pending",i=m=>{var N;if(!a()){const v=new sg(m);h(v),(N=e.onCancel)==null||N.call(e,v)}},l=()=>{t=!0},c=()=>{t=!1},u=()=>FS.isFocused()&&(e.networkMode==="always"||af.isOnline())&&e.canRun(),d=()=>WS(e.networkMode)&&e.canRun(),f=m=>{a()||(n==null||n(),s.resolve(m))},h=m=>{a()||(n==null||n(),s.reject(m))},y=()=>new Promise(m=>{var N;n=v=>{(a()||u())&&m(v)},(N=e.onPause)==null||N.call(e)}).then(()=>{var m;n=void 0,a()||(m=e.onContinue)==null||m.call(e)}),g=()=>{if(a())return;let m;const N=r===0?e.initialPromise:void 0;try{m=N??e.fn()}catch(v){m=Promise.reject(v)}Promise.resolve(m).then(f).catch(v=>{var k;if(a())return;const p=e.retry??(th?0:3),b=e.retryDelay??pA,x=typeof b=="function"?b(r,v):b,S=p===!0||typeof p=="number"&&r<p||typeof p=="function"&&p(r,v);if(t||!S){h(v);return}r++,(k=e.onFail)==null||k.call(e,r,v),oA(x).then(()=>u()?void 0:y()).then(()=>{t?h(v):g()})})};return{promise:s,status:()=>s.status,cancel:i,continue:()=>(n==null||n(),s),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?g():y().then(g),s)}}var Ja,rN,US=(rN=class{constructor(){He(this,Ja)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),rA(this.gcTime)&&$e(this,Ja,tg.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(th?1/0:5*60*1e3))}clearGcTimeout(){ie(this,Ja)&&(tg.clearTimeout(ie(this,Ja)),$e(this,Ja,void 0))}},Ja=new WeakMap,rN),Za,ii,Gr,eo,Kt,$c,to,vn,ys,nN,gA=(nN=class extends US{constructor(t){super();He(this,vn);He(this,Za);He(this,ii);He(this,Gr);He(this,eo);He(this,Kt);He(this,$c);He(this,to);$e(this,to,!1),$e(this,$c,t.defaultOptions),this.setOptions(t.options),this.observers=[],$e(this,eo,t.client),$e(this,Gr,ie(this,eo).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,$e(this,Za,Jx(this.options)),this.state=t.state??ie(this,Za),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=ie(this,Kt))==null?void 0:t.promise}setOptions(t){if(this.options={...ie(this,$c),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=Jx(this.options);r.data!==void 0&&(this.setData(r.data,{updatedAt:r.dataUpdatedAt,manual:!0}),$e(this,Za,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ie(this,Gr).remove(this)}setData(t,r){const n=iA(this.state.data,t,this.options);return sr(this,vn,ys).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){sr(this,vn,ys).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,s;const r=(n=ie(this,Kt))==null?void 0:n.promise;return(s=ie(this,Kt))==null||s.cancel(t),r?r.then(yn).catch(yn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ie(this,Za))}isActive(){return this.observers.some(t=>sA(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Zy||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>rg(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!nA(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=ie(this,Kt))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=ie(this,Kt))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),ie(this,Gr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(ie(this,Kt)&&(ie(this,to)?ie(this,Kt).cancel({revert:!0}):ie(this,Kt).cancelRetry()),this.scheduleGc()),ie(this,Gr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||sr(this,vn,ys).call(this,{type:"invalidate"})}async fetch(t,r){var c,u,d,f,h,y,g,m,N,v,p,b;if(this.state.fetchStatus!=="idle"&&((c=ie(this,Kt))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(ie(this,Kt))return ie(this,Kt).continueRetry(),ie(this,Kt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const x=this.observers.find(S=>S.options.queryFn);x&&this.setOptions(x.options)}const n=new AbortController,s=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>($e(this,to,!0),n.signal)})},a=()=>{const x=LS(this.options,r),k=(()=>{const _={client:ie(this,eo),queryKey:this.queryKey,meta:this.meta};return s(_),_})();return $e(this,to,!1),this.options.persister?this.options.persister(x,k,this):x(k)},l=(()=>{const x={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:ie(this,eo),state:this.state,fetchFn:a};return s(x),x})();(u=this.options.behavior)==null||u.onFetch(l,this),$e(this,ii,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&sr(this,vn,ys).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta}),$e(this,Kt,BS({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,onCancel:x=>{x instanceof sg&&x.revert&&this.setState({...ie(this,ii),fetchStatus:"idle"}),n.abort()},onFail:(x,S)=>{sr(this,vn,ys).call(this,{type:"failed",failureCount:x,error:S})},onPause:()=>{sr(this,vn,ys).call(this,{type:"pause"})},onContinue:()=>{sr(this,vn,ys).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const x=await ie(this,Kt).start();if(x===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(x),(y=(h=ie(this,Gr).config).onSuccess)==null||y.call(h,x,this),(m=(g=ie(this,Gr).config).onSettled)==null||m.call(g,x,this.state.error,this),x}catch(x){if(x instanceof sg){if(x.silent)return ie(this,Kt).promise;if(x.revert){if(this.state.data===void 0)throw x;return this.state.data}}throw sr(this,vn,ys).call(this,{type:"error",error:x}),(v=(N=ie(this,Gr).config).onError)==null||v.call(N,x,this),(b=(p=ie(this,Gr).config).onSettled)==null||b.call(p,this.state.data,x,this),x}finally{this.scheduleGc()}}},Za=new WeakMap,ii=new WeakMap,Gr=new WeakMap,eo=new WeakMap,Kt=new WeakMap,$c=new WeakMap,to=new WeakMap,vn=new WeakSet,ys=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...yA(n.data,this.options),fetchMeta:t.meta??null};case"success":const s={...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return $e(this,ii,t.manual?s:void 0),s;case"error":const a=t.error;return{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),vr.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),ie(this,Gr).notify({query:this,type:"updated",action:t})})},nN);function yA(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:WS(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Jx(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}function Zx(e){return{onFetch:(t,r)=>{var d,f,h,y,g;const n=t.options,s=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,a=((y=t.state.data)==null?void 0:y.pages)||[],i=((g=t.state.data)==null?void 0:g.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let m=!1;const N=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?m=!0:t.signal.addEventListener("abort",()=>{m=!0}),t.signal)})},v=LS(t.options,t.fetchOptions),p=async(b,x,S)=>{if(m)return Promise.reject();if(x==null&&b.pages.length)return Promise.resolve(b);const _=(()=>{const V={client:t.client,queryKey:t.queryKey,pageParam:x,direction:S?"backward":"forward",meta:t.options.meta};return N(V),V})(),A=await v(_),{maxPages:M}=t.options,$=S?cA:lA;return{pages:$(b.pages,A,M),pageParams:$(b.pageParams,x,M)}};if(s&&a.length){const b=s==="backward",x=b?vA:eb,S={pages:a,pageParams:i},k=x(n,S);l=await p(S,k,b)}else{const b=e??a.length;do{const x=c===0?i[0]??n.initialPageParam:eb(n,l);if(c>0&&x==null)break;l=await p(l,x),c++}while(c<b)}return l};t.options.persister?t.fetchFn=()=>{var m,N;return(N=(m=t.options).persister)==null?void 0:N.call(m,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function eb(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function vA(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Ic,Vn,pr,ro,Yn,Ks,sN,xA=(sN=class extends US{constructor(t){super();He(this,Yn);He(this,Ic);He(this,Vn);He(this,pr);He(this,ro);$e(this,Ic,t.client),this.mutationId=t.mutationId,$e(this,pr,t.mutationCache),$e(this,Vn,[]),this.state=t.state||bA(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){ie(this,Vn).includes(t)||(ie(this,Vn).push(t),this.clearGcTimeout(),ie(this,pr).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){$e(this,Vn,ie(this,Vn).filter(r=>r!==t)),this.scheduleGc(),ie(this,pr).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){ie(this,Vn).length||(this.state.status==="pending"?this.scheduleGc():ie(this,pr).remove(this))}continue(){var t;return((t=ie(this,ro))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,l,c,u,d,f,h,y,g,m,N,v,p,b,x,S,k,_,A,M;const r=()=>{sr(this,Yn,Ks).call(this,{type:"continue"})},n={client:ie(this,Ic),meta:this.options.meta,mutationKey:this.options.mutationKey};$e(this,ro,BS({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:($,V)=>{sr(this,Yn,Ks).call(this,{type:"failed",failureCount:$,error:V})},onPause:()=>{sr(this,Yn,Ks).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ie(this,pr).canRun(this)}));const s=this.state.status==="pending",a=!ie(this,ro).canStart();try{if(s)r();else{sr(this,Yn,Ks).call(this,{type:"pending",variables:t,isPaused:a}),await((l=(i=ie(this,pr).config).onMutate)==null?void 0:l.call(i,t,this,n));const V=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,t,n));V!==this.state.context&&sr(this,Yn,Ks).call(this,{type:"pending",context:V,variables:t,isPaused:a})}const $=await ie(this,ro).start();return await((f=(d=ie(this,pr).config).onSuccess)==null?void 0:f.call(d,$,t,this.state.context,this,n)),await((y=(h=this.options).onSuccess)==null?void 0:y.call(h,$,t,this.state.context,n)),await((m=(g=ie(this,pr).config).onSettled)==null?void 0:m.call(g,$,null,this.state.variables,this.state.context,this,n)),await((v=(N=this.options).onSettled)==null?void 0:v.call(N,$,null,t,this.state.context,n)),sr(this,Yn,Ks).call(this,{type:"success",data:$}),$}catch($){try{throw await((b=(p=ie(this,pr).config).onError)==null?void 0:b.call(p,$,t,this.state.context,this,n)),await((S=(x=this.options).onError)==null?void 0:S.call(x,$,t,this.state.context,n)),await((_=(k=ie(this,pr).config).onSettled)==null?void 0:_.call(k,void 0,$,this.state.variables,this.state.context,this,n)),await((M=(A=this.options).onSettled)==null?void 0:M.call(A,void 0,$,t,this.state.context,n)),$}finally{sr(this,Yn,Ks).call(this,{type:"error",error:$})}}finally{ie(this,pr).runNext(this)}}},Ic=new WeakMap,Vn=new WeakMap,pr=new WeakMap,ro=new WeakMap,Yn=new WeakSet,Ks=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),vr.batch(()=>{ie(this,Vn).forEach(n=>{n.onMutationUpdate(t)}),ie(this,pr).notify({mutation:this,type:"updated",action:t})})},sN);function bA(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ws,xn,Lc,aN,wA=(aN=class extends eh{constructor(t={}){super();He(this,ws);He(this,xn);He(this,Lc);this.config=t,$e(this,ws,new Set),$e(this,xn,new Map),$e(this,Lc,0)}build(t,r,n){const s=new xA({client:t,mutationCache:this,mutationId:++vu(this,Lc)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){ie(this,ws).add(t);const r=Iu(t);if(typeof r=="string"){const n=ie(this,xn).get(r);n?n.push(t):ie(this,xn).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(ie(this,ws).delete(t)){const r=Iu(t);if(typeof r=="string"){const n=ie(this,xn).get(r);if(n)if(n.length>1){const s=n.indexOf(t);s!==-1&&n.splice(s,1)}else n[0]===t&&ie(this,xn).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=Iu(t);if(typeof r=="string"){const n=ie(this,xn).get(r),s=n==null?void 0:n.find(a=>a.state.status==="pending");return!s||s===t}else return!0}runNext(t){var n;const r=Iu(t);if(typeof r=="string"){const s=(n=ie(this,xn).get(r))==null?void 0:n.find(a=>a!==t&&a.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){vr.batch(()=>{ie(this,ws).forEach(t=>{this.notify({type:"removed",mutation:t})}),ie(this,ws).clear(),ie(this,xn).clear()})}getAll(){return Array.from(ie(this,ws))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Gx(r,n))}findAll(t={}){return this.getAll().filter(r=>Gx(t,r))}notify(t){vr.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return vr.batch(()=>Promise.all(t.map(r=>r.continue().catch(yn))))}},ws=new WeakMap,xn=new WeakMap,Lc=new WeakMap,aN);function Iu(e){var t;return(t=e.options.scope)==null?void 0:t.id}var qn,oN,NA=(oN=class extends eh{constructor(t={}){super();He(this,qn);this.config=t,$e(this,qn,new Map)}build(t,r,n){const s=r.queryKey,a=r.queryHash??Jy(s,r);let i=this.get(a);return i||(i=new gA({client:t,queryKey:s,queryHash:a,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(i)),i}add(t){ie(this,qn).has(t.queryHash)||(ie(this,qn).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=ie(this,qn).get(t.queryHash);r&&(t.destroy(),r===t&&ie(this,qn).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){vr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return ie(this,qn).get(t)}getAll(){return[...ie(this,qn).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Kx(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>Kx(t,n)):r}notify(t){vr.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){vr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){vr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},qn=new WeakMap,oN),Dt,ia,la,li,ci,ca,ui,di,iN,jA=(iN=class{constructor(e={}){He(this,Dt);He(this,ia);He(this,la);He(this,li);He(this,ci);He(this,ca);He(this,ui);He(this,di);$e(this,Dt,e.queryCache||new NA),$e(this,ia,e.mutationCache||new wA),$e(this,la,e.defaultOptions||{}),$e(this,li,new Map),$e(this,ci,new Map),$e(this,ca,0)}mount(){vu(this,ca)._++,ie(this,ca)===1&&($e(this,ui,FS.subscribe(async e=>{e&&(await this.resumePausedMutations(),ie(this,Dt).onFocus())})),$e(this,di,af.subscribe(async e=>{e&&(await this.resumePausedMutations(),ie(this,Dt).onOnline())})))}unmount(){var e,t;vu(this,ca)._--,ie(this,ca)===0&&((e=ie(this,ui))==null||e.call(this),$e(this,ui,void 0),(t=ie(this,di))==null||t.call(this),$e(this,di,void 0))}isFetching(e){return ie(this,Dt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return ie(this,ia).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=ie(this,Dt).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=ie(this,Dt).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(rg(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return ie(this,Dt).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=ie(this,Dt).get(n.queryHash),a=s==null?void 0:s.state.data,i=tA(t,a);if(i!==void 0)return ie(this,Dt).build(this,n).setData(i,{...r,manual:!0})}setQueriesData(e,t,r){return vr.batch(()=>ie(this,Dt).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=ie(this,Dt).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=ie(this,Dt);vr.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=ie(this,Dt);return vr.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=vr.batch(()=>ie(this,Dt).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(yn).catch(yn)}invalidateQueries(e,t={}){return vr.batch(()=>(ie(this,Dt).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=vr.batch(()=>ie(this,Dt).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let a=s.fetch(void 0,r);return r.throwOnError||(a=a.catch(yn)),s.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(n).then(yn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=ie(this,Dt).build(this,t);return r.isStaleByTime(rg(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(yn).catch(yn)}fetchInfiniteQuery(e){return e.behavior=Zx(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(yn).catch(yn)}ensureInfiniteQueryData(e){return e.behavior=Zx(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return af.isOnline()?ie(this,ia).resumePausedMutations():Promise.resolve()}getQueryCache(){return ie(this,Dt)}getMutationCache(){return ie(this,ia)}getDefaultOptions(){return ie(this,la)}setDefaultOptions(e){$e(this,la,e)}setQueryDefaults(e,t){ie(this,li).set(uc(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...ie(this,li).values()],r={};return t.forEach(n=>{dc(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){ie(this,ci).set(uc(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...ie(this,ci).values()],r={};return t.forEach(n=>{dc(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...ie(this,la).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Jy(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Zy&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...ie(this,la).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){ie(this,Dt).clear(),ie(this,ia).clear()}},Dt=new WeakMap,ia=new WeakMap,la=new WeakMap,li=new WeakMap,ci=new WeakMap,ca=new WeakMap,ui=new WeakMap,di=new WeakMap,iN),SA=w.createContext(void 0),kA=({client:e,children:t})=>(w.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),o.jsx(SA.Provider,{value:e,children:t}));let DA={data:""},CA=e=>{if(typeof window=="object"){let t=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(e||document.head).appendChild(t),t.firstChild}return e||DA},EA=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,_A=/\/\*[^]*?\*\/|  +/g,tb=/\n+/g,ra=(e,t)=>{let r="",n="",s="";for(let a in e){let i=e[a];a[0]=="@"?a[1]=="i"?r=a+" "+i+";":n+=a[1]=="f"?ra(i,a):a+"{"+ra(i,a[1]=="k"?"":t)+"}":typeof i=="object"?n+=ra(i,t?t.replace(/([^,])+/g,l=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):a):i!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=ra.p?ra.p(a,i):a+":"+i+";")}return r+(t&&s?t+"{"+s+"}":s)+n},hs={},HS=e=>{if(typeof e=="object"){let t="";for(let r in e)t+=r+HS(e[r]);return t}return e},TA=(e,t,r,n,s)=>{let a=HS(e),i=hs[a]||(hs[a]=(c=>{let u=0,d=11;for(;u<c.length;)d=101*d+c.charCodeAt(u++)>>>0;return"go"+d})(a));if(!hs[i]){let c=a!==e?e:(u=>{let d,f,h=[{}];for(;d=EA.exec(u.replace(_A,""));)d[4]?h.shift():d[3]?(f=d[3].replace(tb," ").trim(),h.unshift(h[0][f]=h[0][f]||{})):h[0][d[1]]=d[2].replace(tb," ").trim();return h[0]})(e);hs[i]=ra(s?{["@keyframes "+i]:c}:c,r?"":"."+i)}let l=r&&hs.g?hs.g:null;return r&&(hs.g=hs[i]),((c,u,d,f)=>{f?u.data=u.data.replace(f,c):u.data.indexOf(c)===-1&&(u.data=d?c+u.data:u.data+c)})(hs[i],t,n,l),i},PA=(e,t,r)=>e.reduce((n,s,a)=>{let i=t[a];if(i&&i.call){let l=i(r),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;i=c?"."+c:l&&typeof l=="object"?l.props?"":ra(l,""):l===!1?"":l}return n+s+(i??"")},"");function rh(e){let t=this||{},r=e.call?e(t.p):e;return TA(r.unshift?r.raw?PA(r,[].slice.call(arguments,1),t.p):r.reduce((n,s)=>Object.assign(n,s&&s.call?s(t.p):s),{}):r,CA(t.target),t.g,t.o,t.k)}let zS,ag,og;rh.bind({g:1});let $s=rh.bind({k:1});function AA(e,t,r,n){ra.p=t,zS=e,ag=r,og=n}function Ma(e,t){let r=this||{};return function(){let n=arguments;function s(a,i){let l=Object.assign({},a),c=l.className||s.className;r.p=Object.assign({theme:ag&&ag()},l),r.o=/ *go\d+/.test(c),l.className=rh.apply(r,n)+(c?" "+c:"");let u=e;return e[0]&&(u=l.as||e,delete l.as),og&&u[0]&&og(l),zS(u,l)}return s}}var MA=e=>typeof e=="function",of=(e,t)=>MA(e)?e(t):e,RA=(()=>{let e=0;return()=>(++e).toString()})(),VS=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),OA=20,ev="default",YS=(e,t)=>{let{toastLimit:r}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,r)};case 1:return{...e,toasts:e.toasts.map(i=>i.id===t.toast.id?{...i,...t.toast}:i)};case 2:let{toast:n}=t;return YS(e,{type:e.toasts.find(i=>i.id===n.id)?1:0,toast:n});case 3:let{toastId:s}=t;return{...e,toasts:e.toasts.map(i=>i.id===s||s===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(i=>i.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let a=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+a}))}}},pd=[],qS={toasts:[],pausedAt:void 0,settings:{toastLimit:OA}},Zn={},KS=(e,t=ev)=>{Zn[t]=YS(Zn[t]||qS,e),pd.forEach(([r,n])=>{r===t&&n(Zn[t])})},GS=e=>Object.keys(Zn).forEach(t=>KS(e,t)),$A=e=>Object.keys(Zn).find(t=>Zn[t].toasts.some(r=>r.id===e)),nh=(e=ev)=>t=>{KS(t,e)},IA={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},LA=(e={},t=ev)=>{let[r,n]=w.useState(Zn[t]||qS),s=w.useRef(Zn[t]);w.useEffect(()=>(s.current!==Zn[t]&&n(Zn[t]),pd.push([t,n]),()=>{let i=pd.findIndex(([l])=>l===t);i>-1&&pd.splice(i,1)}),[t]);let a=r.toasts.map(i=>{var l,c,u;return{...e,...e[i.type],...i,removeDelay:i.removeDelay||((l=e[i.type])==null?void 0:l.removeDelay)||(e==null?void 0:e.removeDelay),duration:i.duration||((c=e[i.type])==null?void 0:c.duration)||(e==null?void 0:e.duration)||IA[i.type],style:{...e.style,...(u=e[i.type])==null?void 0:u.style,...i.style}}});return{...r,toasts:a}},FA=(e,t="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...r,id:(r==null?void 0:r.id)||RA()}),Yc=e=>(t,r)=>{let n=FA(t,e,r);return nh(n.toasterId||$A(n.id))({type:2,toast:n}),n.id},Ut=(e,t)=>Yc("blank")(e,t);Ut.error=Yc("error");Ut.success=Yc("success");Ut.loading=Yc("loading");Ut.custom=Yc("custom");Ut.dismiss=(e,t)=>{let r={type:3,toastId:e};t?nh(t)(r):GS(r)};Ut.dismissAll=e=>Ut.dismiss(void 0,e);Ut.remove=(e,t)=>{let r={type:4,toastId:e};t?nh(t)(r):GS(r)};Ut.removeAll=e=>Ut.remove(void 0,e);Ut.promise=(e,t,r)=>{let n=Ut.loading(t.loading,{...r,...r==null?void 0:r.loading});return typeof e=="function"&&(e=e()),e.then(s=>{let a=t.success?of(t.success,s):void 0;return a?Ut.success(a,{id:n,...r,...r==null?void 0:r.success}):Ut.dismiss(n),s}).catch(s=>{let a=t.error?of(t.error,s):void 0;a?Ut.error(a,{id:n,...r,...r==null?void 0:r.error}):Ut.dismiss(n)}),e};var WA=1e3,BA=(e,t="default")=>{let{toasts:r,pausedAt:n}=LA(e,t),s=w.useRef(new Map).current,a=w.useCallback((f,h=WA)=>{if(s.has(f))return;let y=setTimeout(()=>{s.delete(f),i({type:4,toastId:f})},h);s.set(f,y)},[]);w.useEffect(()=>{if(n)return;let f=Date.now(),h=r.map(y=>{if(y.duration===1/0)return;let g=(y.duration||0)+y.pauseDuration-(f-y.createdAt);if(g<0){y.visible&&Ut.dismiss(y.id);return}return setTimeout(()=>Ut.dismiss(y.id,t),g)});return()=>{h.forEach(y=>y&&clearTimeout(y))}},[r,n,t]);let i=w.useCallback(nh(t),[t]),l=w.useCallback(()=>{i({type:5,time:Date.now()})},[i]),c=w.useCallback((f,h)=>{i({type:1,toast:{id:f,height:h}})},[i]),u=w.useCallback(()=>{n&&i({type:6,time:Date.now()})},[n,i]),d=w.useCallback((f,h)=>{let{reverseOrder:y=!1,gutter:g=8,defaultPosition:m}=h||{},N=r.filter(b=>(b.position||m)===(f.position||m)&&b.height),v=N.findIndex(b=>b.id===f.id),p=N.filter((b,x)=>x<v&&b.visible).length;return N.filter(b=>b.visible).slice(...y?[p+1]:[0,p]).reduce((b,x)=>b+(x.height||0)+g,0)},[r]);return w.useEffect(()=>{r.forEach(f=>{if(f.dismissed)a(f.id,f.removeDelay);else{let h=s.get(f.id);h&&(clearTimeout(h),s.delete(f.id))}})},[r,a]),{toasts:r,handlers:{updateHeight:c,startPause:l,endPause:u,calculateOffset:d}}},UA=$s`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,HA=$s`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,zA=$s`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,VA=Ma("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${UA} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${HA} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${zA} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,YA=$s`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,qA=Ma("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${YA} 1s linear infinite;
`,KA=$s`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,GA=$s`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,QA=Ma("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${KA} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${GA} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,XA=Ma("div")`
  position: absolute;
`,JA=Ma("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,ZA=$s`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,eM=Ma("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${ZA} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,tM=({toast:e})=>{let{icon:t,type:r,iconTheme:n}=e;return t!==void 0?typeof t=="string"?w.createElement(eM,null,t):t:r==="blank"?null:w.createElement(JA,null,w.createElement(qA,{...n}),r!=="loading"&&w.createElement(XA,null,r==="error"?w.createElement(VA,{...n}):w.createElement(QA,{...n})))},rM=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,nM=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,sM="0%{opacity:0;} 100%{opacity:1;}",aM="0%{opacity:1;} 100%{opacity:0;}",oM=Ma("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,iM=Ma("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,lM=(e,t)=>{let r=e.includes("top")?1:-1,[n,s]=VS()?[sM,aM]:[rM(r),nM(r)];return{animation:t?`${$s(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${$s(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},cM=w.memo(({toast:e,position:t,style:r,children:n})=>{let s=e.height?lM(e.position||t||"top-center",e.visible):{opacity:0},a=w.createElement(tM,{toast:e}),i=w.createElement(iM,{...e.ariaProps},of(e.message,e));return w.createElement(oM,{className:e.className,style:{...s,...r,...e.style}},typeof n=="function"?n({icon:a,message:i}):w.createElement(w.Fragment,null,a,i))});AA(w.createElement);var uM=({id:e,className:t,style:r,onHeightUpdate:n,children:s})=>{let a=w.useCallback(i=>{if(i){let l=()=>{let c=i.getBoundingClientRect().height;n(e,c)};l(),new MutationObserver(l).observe(i,{subtree:!0,childList:!0,characterData:!0})}},[e,n]);return w.createElement("div",{ref:a,className:t,style:r},s)},dM=(e,t)=>{let r=e.includes("top"),n=r?{top:0}:{bottom:0},s=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:VS()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(r?1:-1)}px)`,...n,...s}},fM=rh`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Lu=16,hM=({reverseOrder:e,position:t="top-center",toastOptions:r,gutter:n,children:s,toasterId:a,containerStyle:i,containerClassName:l})=>{let{toasts:c,handlers:u}=BA(r,a);return w.createElement("div",{"data-rht-toaster":a||"",style:{position:"fixed",zIndex:9999,top:Lu,left:Lu,right:Lu,bottom:Lu,pointerEvents:"none",...i},className:l,onMouseEnter:u.startPause,onMouseLeave:u.endPause},c.map(d=>{let f=d.position||t,h=u.calculateOffset(d,{reverseOrder:e,gutter:n,defaultPosition:t}),y=dM(f,h);return w.createElement(uM,{id:d.id,key:d.id,onHeightUpdate:u.updateHeight,className:d.visible?fM:"",style:y},d.type==="custom"?of(d.message,d):s?s(d):w.createElement(cM,{toast:d,position:f}))}))},Q=Ut;const as=Object.create(null);as.open="0";as.close="1";as.ping="2";as.pong="3";as.message="4";as.upgrade="5";as.noop="6";const gd=Object.create(null);Object.keys(as).forEach(e=>{gd[as[e]]=e});const ig={type:"error",data:"parser error"},QS=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",XS=typeof ArrayBuffer=="function",JS=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,tv=({type:e,data:t},r,n)=>QS&&t instanceof Blob?r?n(t):rb(t,n):XS&&(t instanceof ArrayBuffer||JS(t))?r?n(t):rb(new Blob([t]),n):n(as[e]+(t||"")),rb=(e,t)=>{const r=new FileReader;return r.onload=function(){const n=r.result.split(",")[1];t("b"+(n||""))},r.readAsDataURL(e)};function nb(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let Cm;function mM(e,t){if(QS&&e.data instanceof Blob)return e.data.arrayBuffer().then(nb).then(t);if(XS&&(e.data instanceof ArrayBuffer||JS(e.data)))return t(nb(e.data));tv(e,!1,r=>{Cm||(Cm=new TextEncoder),t(Cm.encode(r))})}const sb="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Sl=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<sb.length;e++)Sl[sb.charCodeAt(e)]=e;const pM=e=>{let t=e.length*.75,r=e.length,n,s=0,a,i,l,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const u=new ArrayBuffer(t),d=new Uint8Array(u);for(n=0;n<r;n+=4)a=Sl[e.charCodeAt(n)],i=Sl[e.charCodeAt(n+1)],l=Sl[e.charCodeAt(n+2)],c=Sl[e.charCodeAt(n+3)],d[s++]=a<<2|i>>4,d[s++]=(i&15)<<4|l>>2,d[s++]=(l&3)<<6|c&63;return u},gM=typeof ArrayBuffer=="function",rv=(e,t)=>{if(typeof e!="string")return{type:"message",data:ZS(e,t)};const r=e.charAt(0);return r==="b"?{type:"message",data:yM(e.substring(1),t)}:gd[r]?e.length>1?{type:gd[r],data:e.substring(1)}:{type:gd[r]}:ig},yM=(e,t)=>{if(gM){const r=pM(e);return ZS(r,t)}else return{base64:!0,data:e}},ZS=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},ek="",vM=(e,t)=>{const r=e.length,n=new Array(r);let s=0;e.forEach((a,i)=>{tv(a,!1,l=>{n[i]=l,++s===r&&t(n.join(ek))})})},xM=(e,t)=>{const r=e.split(ek),n=[];for(let s=0;s<r.length;s++){const a=rv(r[s],t);if(n.push(a),a.type==="error")break}return n};function bM(){return new TransformStream({transform(e,t){mM(e,r=>{const n=r.length;let s;if(n<126)s=new Uint8Array(1),new DataView(s.buffer).setUint8(0,n);else if(n<65536){s=new Uint8Array(3);const a=new DataView(s.buffer);a.setUint8(0,126),a.setUint16(1,n)}else{s=new Uint8Array(9);const a=new DataView(s.buffer);a.setUint8(0,127),a.setBigUint64(1,BigInt(n))}e.data&&typeof e.data!="string"&&(s[0]|=128),t.enqueue(s),t.enqueue(r)})}})}let Em;function Fu(e){return e.reduce((t,r)=>t+r.length,0)}function Wu(e,t){if(e[0].length===t)return e.shift();const r=new Uint8Array(t);let n=0;for(let s=0;s<t;s++)r[s]=e[0][n++],n===e[0].length&&(e.shift(),n=0);return e.length&&n<e[0].length&&(e[0]=e[0].slice(n)),r}function wM(e,t){Em||(Em=new TextDecoder);const r=[];let n=0,s=-1,a=!1;return new TransformStream({transform(i,l){for(r.push(i);;){if(n===0){if(Fu(r)<1)break;const c=Wu(r,1);a=(c[0]&128)===128,s=c[0]&127,s<126?n=3:s===126?n=1:n=2}else if(n===1){if(Fu(r)<2)break;const c=Wu(r,2);s=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),n=3}else if(n===2){if(Fu(r)<8)break;const c=Wu(r,8),u=new DataView(c.buffer,c.byteOffset,c.length),d=u.getUint32(0);if(d>Math.pow(2,21)-1){l.enqueue(ig);break}s=d*Math.pow(2,32)+u.getUint32(4),n=3}else{if(Fu(r)<s)break;const c=Wu(r,s);l.enqueue(rv(a?c:Em.decode(c),t)),n=0}if(s===0||s>e){l.enqueue(ig);break}}}})}const tk=4;function Lt(e){if(e)return NM(e)}function NM(e){for(var t in Lt.prototype)e[t]=Lt.prototype[t];return e}Lt.prototype.on=Lt.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};Lt.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return r.fn=t,this.on(e,r),this};Lt.prototype.off=Lt.prototype.removeListener=Lt.prototype.removeAllListeners=Lt.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+e];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var n,s=0;s<r.length;s++)if(n=r[s],n===t||n.fn===t){r.splice(s,1);break}return r.length===0&&delete this._callbacks["$"+e],this};Lt.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),r=this._callbacks["$"+e],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(r){r=r.slice(0);for(var n=0,s=r.length;n<s;++n)r[n].apply(this,t)}return this};Lt.prototype.emitReserved=Lt.prototype.emit;Lt.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};Lt.prototype.hasListeners=function(e){return!!this.listeners(e).length};const sh=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,r)=>r(t,0),en=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),jM="arraybuffer";function rk(e,...t){return t.reduce((r,n)=>(e.hasOwnProperty(n)&&(r[n]=e[n]),r),{})}const SM=en.setTimeout,kM=en.clearTimeout;function ah(e,t){t.useNativeTimers?(e.setTimeoutFn=SM.bind(en),e.clearTimeoutFn=kM.bind(en)):(e.setTimeoutFn=en.setTimeout.bind(en),e.clearTimeoutFn=en.clearTimeout.bind(en))}const DM=1.33;function CM(e){return typeof e=="string"?EM(e):Math.ceil((e.byteLength||e.size)*DM)}function EM(e){let t=0,r=0;for(let n=0,s=e.length;n<s;n++)t=e.charCodeAt(n),t<128?r+=1:t<2048?r+=2:t<55296||t>=57344?r+=3:(n++,r+=4);return r}function nk(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function _M(e){let t="";for(let r in e)e.hasOwnProperty(r)&&(t.length&&(t+="&"),t+=encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t}function TM(e){let t={},r=e.split("&");for(let n=0,s=r.length;n<s;n++){let a=r[n].split("=");t[decodeURIComponent(a[0])]=decodeURIComponent(a[1])}return t}class PM extends Error{constructor(t,r,n){super(t),this.description=r,this.context=n,this.type="TransportError"}}class nv extends Lt{constructor(t){super(),this.writable=!1,ah(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,r,n){return super.emitReserved("error",new PM(t,r,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const r=rv(t,this.socket.binaryType);this.onPacket(r)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,r={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(r)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const r=_M(t);return r.length?"?"+r:""}}class AM extends nv{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const r=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let n=0;this._polling&&(n++,this.once("pollComplete",function(){--n||r()})),this.writable||(n++,this.once("drain",function(){--n||r()}))}else r()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const r=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};xM(t,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,vM(t,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",r=this.query||{};return this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=nk()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.createUri(t,r)}}let sk=!1;try{sk=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const MM=sk;function RM(){}class OM extends AM{constructor(t){if(super(t),typeof location<"u"){const r=location.protocol==="https:";let n=location.port;n||(n=r?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||n!==t.port}}doWrite(t,r){const n=this.request({method:"POST",data:t});n.on("success",r),n.on("error",(s,a)=>{this.onError("xhr post error",s,a)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(r,n)=>{this.onError("xhr poll error",r,n)}),this.pollXhr=t}}class rs extends Lt{constructor(t,r,n){super(),this.createRequest=t,ah(this,n),this._opts=n,this._method=n.method||"GET",this._uri=r,this._data=n.data!==void 0?n.data:null,this._create()}_create(){var t;const r=rk(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(r);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let s in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(s)&&n.setRequestHeader(s,this._opts.extraHeaders[s])}}catch{}if(this._method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var s;n.readyState===3&&((s=this._opts.cookieJar)===null||s===void 0||s.parseCookies(n.getResponseHeader("set-cookie"))),n.readyState===4&&(n.status===200||n.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof n.status=="number"?n.status:0)},0))},n.send(this._data)}catch(s){this.setTimeoutFn(()=>{this._onError(s)},0);return}typeof document<"u"&&(this._index=rs.requestsCount++,rs.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=RM,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete rs.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}rs.requestsCount=0;rs.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",ab);else if(typeof addEventListener=="function"){const e="onpagehide"in en?"pagehide":"unload";addEventListener(e,ab,!1)}}function ab(){for(let e in rs.requests)rs.requests.hasOwnProperty(e)&&rs.requests[e].abort()}const $M=function(){const e=ak({xdomain:!1});return e&&e.responseType!==null}();class IM extends OM{constructor(t){super(t);const r=t&&t.forceBase64;this.supportsBinary=$M&&!r}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new rs(ak,this.uri(),t)}}function ak(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||MM))return new XMLHttpRequest}catch{}if(!t)try{return new en[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const ok=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class LM extends nv{get name(){return"websocket"}doOpen(){const t=this.uri(),r=this.opts.protocols,n=ok?{}:rk(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,r,n)}catch(s){return this.emitReserved("error",s)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const n=t[r],s=r===t.length-1;tv(n,this.supportsBinary,a=>{try{this.doWrite(n,a)}catch{}s&&sh(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",r=this.query||{};return this.opts.timestampRequests&&(r[this.opts.timestampParam]=nk()),this.supportsBinary||(r.b64=1),this.createUri(t,r)}}const _m=en.WebSocket||en.MozWebSocket;class FM extends LM{createSocket(t,r,n){return ok?new _m(t,r,n):r?new _m(t,r):new _m(t)}doWrite(t,r){this.ws.send(r)}}class WM extends nv{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const r=wM(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=t.readable.pipeThrough(r).getReader(),s=bM();s.readable.pipeTo(t.writable),this._writer=s.writable.getWriter();const a=()=>{n.read().then(({done:l,value:c})=>{l||(this.onPacket(c),a())}).catch(l=>{})};a();const i={type:"open"};this.query.sid&&(i.data=`{"sid":"${this.query.sid}"}`),this._writer.write(i).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const n=t[r],s=r===t.length-1;this._writer.write(n).then(()=>{s&&sh(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const BM={websocket:FM,webtransport:WM,polling:IM},UM=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,HM=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function lg(e){if(e.length>8e3)throw"URI too long";const t=e,r=e.indexOf("["),n=e.indexOf("]");r!=-1&&n!=-1&&(e=e.substring(0,r)+e.substring(r,n).replace(/:/g,";")+e.substring(n,e.length));let s=UM.exec(e||""),a={},i=14;for(;i--;)a[HM[i]]=s[i]||"";return r!=-1&&n!=-1&&(a.source=t,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a.pathNames=zM(a,a.path),a.queryKey=VM(a,a.query),a}function zM(e,t){const r=/\/{2,9}/g,n=t.replace(r,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&n.splice(0,1),t.slice(-1)=="/"&&n.splice(n.length-1,1),n}function VM(e,t){const r={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,s,a){s&&(r[s]=a)}),r}const cg=typeof addEventListener=="function"&&typeof removeEventListener=="function",yd=[];cg&&addEventListener("offline",()=>{yd.forEach(e=>e())},!1);class ja extends Lt{constructor(t,r){if(super(),this.binaryType=jM,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(r=t,t=null),t){const n=lg(t);r.hostname=n.host,r.secure=n.protocol==="https"||n.protocol==="wss",r.port=n.port,n.query&&(r.query=n.query)}else r.host&&(r.hostname=lg(r.host).host);ah(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(n=>{const s=n.prototype.name;this.transports.push(s),this._transportsByName[s]=n}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=TM(this.opts.query)),cg&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},yd.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const r=Object.assign({},this.opts.query);r.EIO=tk,r.transport=t,this.id&&(r.sid=this.id);const n=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](n)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&ja.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const r=this.createTransport(t);r.open(),this.setTransport(r)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",ja.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const r=new Error("server error");r.code=t.data,this._onError(r);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let n=0;n<this.writeBuffer.length;n++){const s=this.writeBuffer[n].data;if(s&&(r+=CM(s)),n>0&&r>this._maxPayload)return this.writeBuffer.slice(0,n);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,sh(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,r,n){return this._sendPacket("message",t,r,n),this}send(t,r,n){return this._sendPacket("message",t,r,n),this}_sendPacket(t,r,n,s){if(typeof r=="function"&&(s=r,r=void 0),typeof n=="function"&&(s=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const a={type:t,data:r,options:n};this.emitReserved("packetCreate",a),this.writeBuffer.push(a),s&&this.once("flush",s),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),t()},n=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():t()}):this.upgrading?n():t()),this}_onError(t){if(ja.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),cg&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const n=yd.indexOf(this._offlineEventListener);n!==-1&&yd.splice(n,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,r),this.writeBuffer=[],this._prevBufferLen=0}}}ja.protocol=tk;class YM extends ja{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let r=this.createTransport(t),n=!1;ja.priorWebsocketSuccess=!1;const s=()=>{n||(r.send([{type:"ping",data:"probe"}]),r.once("packet",f=>{if(!n)if(f.type==="pong"&&f.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;ja.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(d(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const h=new Error("probe error");h.transport=r.name,this.emitReserved("upgradeError",h)}}))};function a(){n||(n=!0,d(),r.close(),r=null)}const i=f=>{const h=new Error("probe error: "+f);h.transport=r.name,a(),this.emitReserved("upgradeError",h)};function l(){i("transport closed")}function c(){i("socket closed")}function u(f){r&&f.name!==r.name&&a()}const d=()=>{r.removeListener("open",s),r.removeListener("error",i),r.removeListener("close",l),this.off("close",c),this.off("upgrading",u)};r.once("open",s),r.once("error",i),r.once("close",l),this.once("close",c),this.once("upgrading",u),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{n||r.open()},200):r.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const r=[];for(let n=0;n<t.length;n++)~this.transports.indexOf(t[n])&&r.push(t[n]);return r}}let qM=class extends YM{constructor(t,r={}){const n=typeof t=="object"?t:r;(!n.transports||n.transports&&typeof n.transports[0]=="string")&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map(s=>BM[s]).filter(s=>!!s)),super(t,n)}};function KM(e,t="",r){let n=e;r=r||typeof location<"u"&&location,e==null&&(e=r.protocol+"//"+r.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=r.protocol+e:e=r.host+e),/^(https?|wss?):\/\//.test(e)||(typeof r<"u"?e=r.protocol+"//"+e:e="https://"+e),n=lg(e)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const a=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+a+":"+n.port+t,n.href=n.protocol+"://"+a+(r&&r.port===n.port?"":":"+n.port),n}const GM=typeof ArrayBuffer=="function",QM=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,ik=Object.prototype.toString,XM=typeof Blob=="function"||typeof Blob<"u"&&ik.call(Blob)==="[object BlobConstructor]",JM=typeof File=="function"||typeof File<"u"&&ik.call(File)==="[object FileConstructor]";function sv(e){return GM&&(e instanceof ArrayBuffer||QM(e))||XM&&e instanceof Blob||JM&&e instanceof File}function vd(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let r=0,n=e.length;r<n;r++)if(vd(e[r]))return!0;return!1}if(sv(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return vd(e.toJSON(),!0);for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&vd(e[r]))return!0;return!1}function ZM(e){const t=[],r=e.data,n=e;return n.data=ug(r,t),n.attachments=t.length,{packet:n,buffers:t}}function ug(e,t){if(!e)return e;if(sv(e)){const r={_placeholder:!0,num:t.length};return t.push(e),r}else if(Array.isArray(e)){const r=new Array(e.length);for(let n=0;n<e.length;n++)r[n]=ug(e[n],t);return r}else if(typeof e=="object"&&!(e instanceof Date)){const r={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=ug(e[n],t));return r}return e}function eR(e,t){return e.data=dg(e.data,t),delete e.attachments,e}function dg(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let r=0;r<e.length;r++)e[r]=dg(e[r],t);else if(typeof e=="object")for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(e[r]=dg(e[r],t));return e}const tR=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],rR=5;var ze;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(ze||(ze={}));class nR{constructor(t){this.replacer=t}encode(t){return(t.type===ze.EVENT||t.type===ze.ACK)&&vd(t)?this.encodeAsBinary({type:t.type===ze.EVENT?ze.BINARY_EVENT:ze.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let r=""+t.type;return(t.type===ze.BINARY_EVENT||t.type===ze.BINARY_ACK)&&(r+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(r+=t.nsp+","),t.id!=null&&(r+=t.id),t.data!=null&&(r+=JSON.stringify(t.data,this.replacer)),r}encodeAsBinary(t){const r=ZM(t),n=this.encodeAsString(r.packet),s=r.buffers;return s.unshift(n),s}}function ob(e){return Object.prototype.toString.call(e)==="[object Object]"}class av extends Lt{constructor(t){super(),this.reviver=t}add(t){let r;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(t);const n=r.type===ze.BINARY_EVENT;n||r.type===ze.BINARY_ACK?(r.type=n?ze.EVENT:ze.ACK,this.reconstructor=new sR(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(sv(t)||t.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(t),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let r=0;const n={type:Number(t.charAt(0))};if(ze[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===ze.BINARY_EVENT||n.type===ze.BINARY_ACK){const a=r+1;for(;t.charAt(++r)!=="-"&&r!=t.length;);const i=t.substring(a,r);if(i!=Number(i)||t.charAt(r)!=="-")throw new Error("Illegal attachments");n.attachments=Number(i)}if(t.charAt(r+1)==="/"){const a=r+1;for(;++r&&!(t.charAt(r)===","||r===t.length););n.nsp=t.substring(a,r)}else n.nsp="/";const s=t.charAt(r+1);if(s!==""&&Number(s)==s){const a=r+1;for(;++r;){const i=t.charAt(r);if(i==null||Number(i)!=i){--r;break}if(r===t.length)break}n.id=Number(t.substring(a,r+1))}if(t.charAt(++r)){const a=this.tryParse(t.substr(r));if(av.isPayloadValid(n.type,a))n.data=a;else throw new Error("invalid payload")}return n}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,r){switch(t){case ze.CONNECT:return ob(r);case ze.DISCONNECT:return r===void 0;case ze.CONNECT_ERROR:return typeof r=="string"||ob(r);case ze.EVENT:case ze.BINARY_EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&tR.indexOf(r[0])===-1);case ze.ACK:case ze.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class sR{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const r=eR(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const aR=Object.freeze(Object.defineProperty({__proto__:null,Decoder:av,Encoder:nR,get PacketType(){return ze},protocol:rR},Symbol.toStringTag,{value:"Module"}));function wn(e,t,r){return e.on(t,r),function(){e.off(t,r)}}const oR=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class lk extends Lt{constructor(t,r,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=r,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[wn(t,"open",this.onopen.bind(this)),wn(t,"packet",this.onpacket.bind(this)),wn(t,"error",this.onerror.bind(this)),wn(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...r){var n,s,a;if(oR.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(r.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const i={type:ze.EVENT,data:r};if(i.options={},i.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const d=this.ids++,f=r.pop();this._registerAckCallback(d,f),i.id=d}const l=(s=(n=this.io.engine)===null||n===void 0?void 0:n.transport)===null||s===void 0?void 0:s.writable,c=this.connected&&!(!((a=this.io.engine)===null||a===void 0)&&a._hasPingExpired());return this.flags.volatile&&!l||(c?(this.notifyOutgoingListeners(i),this.packet(i)):this.sendBuffer.push(i)),this.flags={},this}_registerAckCallback(t,r){var n;const s=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(s===void 0){this.acks[t]=r;return}const a=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let l=0;l<this.sendBuffer.length;l++)this.sendBuffer[l].id===t&&this.sendBuffer.splice(l,1);r.call(this,new Error("operation has timed out"))},s),i=(...l)=>{this.io.clearTimeoutFn(a),r.apply(this,l)};i.withError=!0,this.acks[t]=i}emitWithAck(t,...r){return new Promise((n,s)=>{const a=(i,l)=>i?s(i):n(l);a.withError=!0,r.push(a),this.emit(t,...r)})}_addToQueue(t){let r;typeof t[t.length-1]=="function"&&(r=t.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((s,...a)=>n!==this._queue[0]?void 0:(s!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),r&&r(s)):(this._queue.shift(),r&&r(null,...a)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const r=this._queue[0];r.pending&&!t||(r.pending=!0,r.tryCount++,this.flags=r.flags,this.emit.apply(this,r.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:ze.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,r),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(n=>String(n.id)===t)){const n=this.acks[t];delete this.acks[t],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case ze.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case ze.EVENT:case ze.BINARY_EVENT:this.onevent(t);break;case ze.ACK:case ze.BINARY_ACK:this.onack(t);break;case ze.DISCONNECT:this.ondisconnect();break;case ze.CONNECT_ERROR:this.destroy();const n=new Error(t.data.message);n.data=t.data.data,this.emitReserved("connect_error",n);break}}onevent(t){const r=t.data||[];t.id!=null&&r.push(this.ack(t.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const n of r)n.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const r=this;let n=!1;return function(...s){n||(n=!0,r.packet({type:ze.ACK,id:t,data:s}))}}onack(t){const r=this.acks[t.id];typeof r=="function"&&(delete this.acks[t.id],r.withError&&t.data.unshift(null),r.apply(this,t.data))}onconnect(t,r){this.id=t,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:ze.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const r=this._anyListeners;for(let n=0;n<r.length;n++)if(t===r[n])return r.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const r=this._anyOutgoingListeners;for(let n=0;n<r.length;n++)if(t===r[n])return r.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const n of r)n.apply(this,t.data)}}}function Mi(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Mi.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),r=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+r:e-r}return Math.min(e,this.max)|0};Mi.prototype.reset=function(){this.attempts=0};Mi.prototype.setMin=function(e){this.ms=e};Mi.prototype.setMax=function(e){this.max=e};Mi.prototype.setJitter=function(e){this.jitter=e};class fg extends Lt{constructor(t,r){var n;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(r=t,t=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,ah(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((n=r.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new Mi({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=t;const s=r.parser||aR;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var r;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(r=this.backoff)===null||r===void 0||r.setMin(t),this)}randomizationFactor(t){var r;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(r=this.backoff)===null||r===void 0||r.setJitter(t),this)}reconnectionDelayMax(t){var r;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(r=this.backoff)===null||r===void 0||r.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new qM(this.uri,this.opts);const r=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const s=wn(r,"open",function(){n.onopen(),t&&t()}),a=l=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",l),t?t(l):this.maybeReconnectOnOpen()},i=wn(r,"error",a);if(this._timeout!==!1){const l=this._timeout,c=this.setTimeoutFn(()=>{s(),a(new Error("timeout")),r.close()},l);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(s),this.subs.push(i),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(wn(t,"ping",this.onping.bind(this)),wn(t,"data",this.ondata.bind(this)),wn(t,"error",this.onerror.bind(this)),wn(t,"close",this.onclose.bind(this)),wn(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(r){this.onclose("parse error",r)}}ondecoded(t){sh(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,r){let n=this.nsps[t];return n?this._autoConnect&&!n.active&&n.connect():(n=new lk(this,t,r),this.nsps[t]=n),n}_destroy(t){const r=Object.keys(this.nsps);for(const n of r)if(this.nsps[n].active)return;this._close()}_packet(t){const r=this.encoder.encode(t);for(let n=0;n<r.length;n++)this.engine.write(r[n],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,r){var n;this.cleanup(),(n=this.engine)===null||n===void 0||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(s=>{s?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",s)):t.onreconnect()}))},r);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const dl={};function xd(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const r=KM(e,t.path||"/socket.io"),n=r.source,s=r.id,a=r.path,i=dl[s]&&a in dl[s].nsps,l=t.forceNew||t["force new connection"]||t.multiplex===!1||i;let c;return l?c=new fg(n,t):(dl[s]||(dl[s]=new fg(n,t)),c=dl[s]),r.query&&!t.query&&(t.query=r.queryKey),c.socket(r.path,t)}Object.assign(xd,{Manager:fg,Socket:lk,io:xd,connect:xd});function ck(e,t){return function(){return e.apply(t,arguments)}}const{toString:iR}=Object.prototype,{getPrototypeOf:ov}=Object,{iterator:oh,toStringTag:uk}=Symbol,ih=(e=>t=>{const r=iR.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),In=e=>(e=e.toLowerCase(),t=>ih(t)===e),lh=e=>t=>typeof t===e,{isArray:Ri}=Array,xi=lh("undefined");function qc(e){return e!==null&&!xi(e)&&e.constructor!==null&&!xi(e.constructor)&&Ar(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const dk=In("ArrayBuffer");function lR(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&dk(e.buffer),t}const cR=lh("string"),Ar=lh("function"),fk=lh("number"),Kc=e=>e!==null&&typeof e=="object",uR=e=>e===!0||e===!1,bd=e=>{if(ih(e)!=="object")return!1;const t=ov(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(uk in e)&&!(oh in e)},dR=e=>{if(!Kc(e)||qc(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},fR=In("Date"),hR=In("File"),mR=In("Blob"),pR=In("FileList"),gR=e=>Kc(e)&&Ar(e.pipe),yR=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Ar(e.append)&&((t=ih(e))==="formdata"||t==="object"&&Ar(e.toString)&&e.toString()==="[object FormData]"))},vR=In("URLSearchParams"),[xR,bR,wR,NR]=["ReadableStream","Request","Response","Headers"].map(In),jR=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Gc(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,s;if(typeof e!="object"&&(e=[e]),Ri(e))for(n=0,s=e.length;n<s;n++)t.call(null,e[n],n,e);else{if(qc(e))return;const a=r?Object.getOwnPropertyNames(e):Object.keys(e),i=a.length;let l;for(n=0;n<i;n++)l=a[n],t.call(null,e[l],l,e)}}function hk(e,t){if(qc(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,s;for(;n-- >0;)if(s=r[n],t===s.toLowerCase())return s;return null}const Ka=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,mk=e=>!xi(e)&&e!==Ka;function hg(){const{caseless:e,skipUndefined:t}=mk(this)&&this||{},r={},n=(s,a)=>{const i=e&&hk(r,a)||a;bd(r[i])&&bd(s)?r[i]=hg(r[i],s):bd(s)?r[i]=hg({},s):Ri(s)?r[i]=s.slice():(!t||!xi(s))&&(r[i]=s)};for(let s=0,a=arguments.length;s<a;s++)arguments[s]&&Gc(arguments[s],n);return r}const SR=(e,t,r,{allOwnKeys:n}={})=>(Gc(t,(s,a)=>{r&&Ar(s)?e[a]=ck(s,r):e[a]=s},{allOwnKeys:n}),e),kR=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),DR=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},CR=(e,t,r,n)=>{let s,a,i;const l={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),a=s.length;a-- >0;)i=s[a],(!n||n(i,e,t))&&!l[i]&&(t[i]=e[i],l[i]=!0);e=r!==!1&&ov(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},ER=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},_R=e=>{if(!e)return null;if(Ri(e))return e;let t=e.length;if(!fk(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},TR=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&ov(Uint8Array)),PR=(e,t)=>{const n=(e&&e[oh]).call(e);let s;for(;(s=n.next())&&!s.done;){const a=s.value;t.call(e,a[0],a[1])}},AR=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},MR=In("HTMLFormElement"),RR=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,s){return n.toUpperCase()+s}),ib=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),OR=In("RegExp"),pk=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};Gc(r,(s,a)=>{let i;(i=t(s,a,e))!==!1&&(n[a]=i||s)}),Object.defineProperties(e,n)},$R=e=>{pk(e,(t,r)=>{if(Ar(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(Ar(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},IR=(e,t)=>{const r={},n=s=>{s.forEach(a=>{r[a]=!0})};return Ri(e)?n(e):n(String(e).split(t)),r},LR=()=>{},FR=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function WR(e){return!!(e&&Ar(e.append)&&e[uk]==="FormData"&&e[oh])}const BR=e=>{const t=new Array(10),r=(n,s)=>{if(Kc(n)){if(t.indexOf(n)>=0)return;if(qc(n))return n;if(!("toJSON"in n)){t[s]=n;const a=Ri(n)?[]:{};return Gc(n,(i,l)=>{const c=r(i,s+1);!xi(c)&&(a[l]=c)}),t[s]=void 0,a}}return n};return r(e,0)},UR=In("AsyncFunction"),HR=e=>e&&(Kc(e)||Ar(e))&&Ar(e.then)&&Ar(e.catch),gk=((e,t)=>e?setImmediate:t?((r,n)=>(Ka.addEventListener("message",({source:s,data:a})=>{s===Ka&&a===r&&n.length&&n.shift()()},!1),s=>{n.push(s),Ka.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Ar(Ka.postMessage)),zR=typeof queueMicrotask<"u"?queueMicrotask.bind(Ka):typeof process<"u"&&process.nextTick||gk,VR=e=>e!=null&&Ar(e[oh]),X={isArray:Ri,isArrayBuffer:dk,isBuffer:qc,isFormData:yR,isArrayBufferView:lR,isString:cR,isNumber:fk,isBoolean:uR,isObject:Kc,isPlainObject:bd,isEmptyObject:dR,isReadableStream:xR,isRequest:bR,isResponse:wR,isHeaders:NR,isUndefined:xi,isDate:fR,isFile:hR,isBlob:mR,isRegExp:OR,isFunction:Ar,isStream:gR,isURLSearchParams:vR,isTypedArray:TR,isFileList:pR,forEach:Gc,merge:hg,extend:SR,trim:jR,stripBOM:kR,inherits:DR,toFlatObject:CR,kindOf:ih,kindOfTest:In,endsWith:ER,toArray:_R,forEachEntry:PR,matchAll:AR,isHTMLForm:MR,hasOwnProperty:ib,hasOwnProp:ib,reduceDescriptors:pk,freezeMethods:$R,toObjectSet:IR,toCamelCase:RR,noop:LR,toFiniteNumber:FR,findKey:hk,global:Ka,isContextDefined:mk,isSpecCompliantForm:WR,toJSONObject:BR,isAsyncFn:UR,isThenable:HR,setImmediate:gk,asap:zR,isIterable:VR};function Ie(e,t,r,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),s&&(this.response=s,this.status=s.status?s.status:null)}X.inherits(Ie,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:X.toJSONObject(this.config),code:this.code,status:this.status}}});const yk=Ie.prototype,vk={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{vk[e]={value:e}});Object.defineProperties(Ie,vk);Object.defineProperty(yk,"isAxiosError",{value:!0});Ie.from=(e,t,r,n,s,a)=>{const i=Object.create(yk);X.toFlatObject(e,i,function(d){return d!==Error.prototype},u=>u!=="isAxiosError");const l=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return Ie.call(i,l,c,r,n,s),e&&i.cause==null&&Object.defineProperty(i,"cause",{value:e,configurable:!0}),i.name=e&&e.name||"Error",a&&Object.assign(i,a),i};const YR=null;function mg(e){return X.isPlainObject(e)||X.isArray(e)}function xk(e){return X.endsWith(e,"[]")?e.slice(0,-2):e}function lb(e,t,r){return e?e.concat(t).map(function(s,a){return s=xk(s),!r&&a?"["+s+"]":s}).join(r?".":""):t}function qR(e){return X.isArray(e)&&!e.some(mg)}const KR=X.toFlatObject(X,{},null,function(t){return/^is[A-Z]/.test(t)});function ch(e,t,r){if(!X.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=X.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,N){return!X.isUndefined(N[m])});const n=r.metaTokens,s=r.visitor||d,a=r.dots,i=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&X.isSpecCompliantForm(t);if(!X.isFunction(s))throw new TypeError("visitor must be a function");function u(g){if(g===null)return"";if(X.isDate(g))return g.toISOString();if(X.isBoolean(g))return g.toString();if(!c&&X.isBlob(g))throw new Ie("Blob is not supported. Use a Buffer instead.");return X.isArrayBuffer(g)||X.isTypedArray(g)?c&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function d(g,m,N){let v=g;if(g&&!N&&typeof g=="object"){if(X.endsWith(m,"{}"))m=n?m:m.slice(0,-2),g=JSON.stringify(g);else if(X.isArray(g)&&qR(g)||(X.isFileList(g)||X.endsWith(m,"[]"))&&(v=X.toArray(g)))return m=xk(m),v.forEach(function(b,x){!(X.isUndefined(b)||b===null)&&t.append(i===!0?lb([m],x,a):i===null?m:m+"[]",u(b))}),!1}return mg(g)?!0:(t.append(lb(N,m,a),u(g)),!1)}const f=[],h=Object.assign(KR,{defaultVisitor:d,convertValue:u,isVisitable:mg});function y(g,m){if(!X.isUndefined(g)){if(f.indexOf(g)!==-1)throw Error("Circular reference detected in "+m.join("."));f.push(g),X.forEach(g,function(v,p){(!(X.isUndefined(v)||v===null)&&s.call(t,v,X.isString(p)?p.trim():p,m,h))===!0&&y(v,m?m.concat(p):[p])}),f.pop()}}if(!X.isObject(e))throw new TypeError("data must be an object");return y(e),t}function cb(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function iv(e,t){this._pairs=[],e&&ch(e,this,t)}const bk=iv.prototype;bk.append=function(t,r){this._pairs.push([t,r])};bk.toString=function(t){const r=t?function(n){return t.call(this,n,cb)}:cb;return this._pairs.map(function(s){return r(s[0])+"="+r(s[1])},"").join("&")};function GR(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function wk(e,t,r){if(!t)return e;const n=r&&r.encode||GR;X.isFunction(r)&&(r={serialize:r});const s=r&&r.serialize;let a;if(s?a=s(t,r):a=X.isURLSearchParams(t)?t.toString():new iv(t,r).toString(n),a){const i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class ub{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){X.forEach(this.handlers,function(n){n!==null&&t(n)})}}const Nk={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},QR=typeof URLSearchParams<"u"?URLSearchParams:iv,XR=typeof FormData<"u"?FormData:null,JR=typeof Blob<"u"?Blob:null,ZR={isBrowser:!0,classes:{URLSearchParams:QR,FormData:XR,Blob:JR},protocols:["http","https","file","blob","url","data"]},lv=typeof window<"u"&&typeof document<"u",pg=typeof navigator=="object"&&navigator||void 0,eO=lv&&(!pg||["ReactNative","NativeScript","NS"].indexOf(pg.product)<0),tO=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",rO=lv&&window.location.href||"http://localhost",nO=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:lv,hasStandardBrowserEnv:eO,hasStandardBrowserWebWorkerEnv:tO,navigator:pg,origin:rO},Symbol.toStringTag,{value:"Module"})),ur={...nO,...ZR};function sO(e,t){return ch(e,new ur.classes.URLSearchParams,{visitor:function(r,n,s,a){return ur.isNode&&X.isBuffer(r)?(this.append(n,r.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...t})}function aO(e){return X.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function oO(e){const t={},r=Object.keys(e);let n;const s=r.length;let a;for(n=0;n<s;n++)a=r[n],t[a]=e[a];return t}function jk(e){function t(r,n,s,a){let i=r[a++];if(i==="__proto__")return!0;const l=Number.isFinite(+i),c=a>=r.length;return i=!i&&X.isArray(s)?s.length:i,c?(X.hasOwnProp(s,i)?s[i]=[s[i],n]:s[i]=n,!l):((!s[i]||!X.isObject(s[i]))&&(s[i]=[]),t(r,n,s[i],a)&&X.isArray(s[i])&&(s[i]=oO(s[i])),!l)}if(X.isFormData(e)&&X.isFunction(e.entries)){const r={};return X.forEachEntry(e,(n,s)=>{t(aO(n),s,r,0)}),r}return null}function iO(e,t,r){if(X.isString(e))try{return(t||JSON.parse)(e),X.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const Qc={transitional:Nk,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",s=n.indexOf("application/json")>-1,a=X.isObject(t);if(a&&X.isHTMLForm(t)&&(t=new FormData(t)),X.isFormData(t))return s?JSON.stringify(jk(t)):t;if(X.isArrayBuffer(t)||X.isBuffer(t)||X.isStream(t)||X.isFile(t)||X.isBlob(t)||X.isReadableStream(t))return t;if(X.isArrayBufferView(t))return t.buffer;if(X.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return sO(t,this.formSerializer).toString();if((l=X.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return ch(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return a||s?(r.setContentType("application/json",!1),iO(t)):t}],transformResponse:[function(t){const r=this.transitional||Qc.transitional,n=r&&r.forcedJSONParsing,s=this.responseType==="json";if(X.isResponse(t)||X.isReadableStream(t))return t;if(t&&X.isString(t)&&(n&&!this.responseType||s)){const i=!(r&&r.silentJSONParsing)&&s;try{return JSON.parse(t,this.parseReviver)}catch(l){if(i)throw l.name==="SyntaxError"?Ie.from(l,Ie.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ur.classes.FormData,Blob:ur.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};X.forEach(["delete","get","head","post","put","patch"],e=>{Qc.headers[e]={}});const lO=X.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),cO=e=>{const t={};let r,n,s;return e&&e.split(`
`).forEach(function(i){s=i.indexOf(":"),r=i.substring(0,s).trim().toLowerCase(),n=i.substring(s+1).trim(),!(!r||t[r]&&lO[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},db=Symbol("internals");function fl(e){return e&&String(e).trim().toLowerCase()}function wd(e){return e===!1||e==null?e:X.isArray(e)?e.map(wd):String(e)}function uO(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const dO=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Tm(e,t,r,n,s){if(X.isFunction(n))return n.call(this,t,r);if(s&&(t=r),!!X.isString(t)){if(X.isString(n))return t.indexOf(n)!==-1;if(X.isRegExp(n))return n.test(t)}}function fO(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function hO(e,t){const r=X.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(s,a,i){return this[n].call(this,t,s,a,i)},configurable:!0})})}let Mr=class{constructor(t){t&&this.set(t)}set(t,r,n){const s=this;function a(l,c,u){const d=fl(c);if(!d)throw new Error("header name must be a non-empty string");const f=X.findKey(s,d);(!f||s[f]===void 0||u===!0||u===void 0&&s[f]!==!1)&&(s[f||c]=wd(l))}const i=(l,c)=>X.forEach(l,(u,d)=>a(u,d,c));if(X.isPlainObject(t)||t instanceof this.constructor)i(t,r);else if(X.isString(t)&&(t=t.trim())&&!dO(t))i(cO(t),r);else if(X.isObject(t)&&X.isIterable(t)){let l={},c,u;for(const d of t){if(!X.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[u=d[0]]=(c=l[u])?X.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}i(l,r)}else t!=null&&a(r,t,n);return this}get(t,r){if(t=fl(t),t){const n=X.findKey(this,t);if(n){const s=this[n];if(!r)return s;if(r===!0)return uO(s);if(X.isFunction(r))return r.call(this,s,n);if(X.isRegExp(r))return r.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=fl(t),t){const n=X.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||Tm(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let s=!1;function a(i){if(i=fl(i),i){const l=X.findKey(n,i);l&&(!r||Tm(n,n[l],l,r))&&(delete n[l],s=!0)}}return X.isArray(t)?t.forEach(a):a(t),s}clear(t){const r=Object.keys(this);let n=r.length,s=!1;for(;n--;){const a=r[n];(!t||Tm(this,this[a],a,t,!0))&&(delete this[a],s=!0)}return s}normalize(t){const r=this,n={};return X.forEach(this,(s,a)=>{const i=X.findKey(n,a);if(i){r[i]=wd(s),delete r[a];return}const l=t?fO(a):String(a).trim();l!==a&&delete r[a],r[l]=wd(s),n[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return X.forEach(this,(n,s)=>{n!=null&&n!==!1&&(r[s]=t&&X.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(s=>n.set(s)),n}static accessor(t){const n=(this[db]=this[db]={accessors:{}}).accessors,s=this.prototype;function a(i){const l=fl(i);n[l]||(hO(s,i),n[l]=!0)}return X.isArray(t)?t.forEach(a):a(t),this}};Mr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);X.reduceDescriptors(Mr.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});X.freezeMethods(Mr);function Pm(e,t){const r=this||Qc,n=t||r,s=Mr.from(n.headers);let a=n.data;return X.forEach(e,function(l){a=l.call(r,a,s.normalize(),t?t.status:void 0)}),s.normalize(),a}function Sk(e){return!!(e&&e.__CANCEL__)}function Oi(e,t,r){Ie.call(this,e??"canceled",Ie.ERR_CANCELED,t,r),this.name="CanceledError"}X.inherits(Oi,Ie,{__CANCEL__:!0});function kk(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new Ie("Request failed with status code "+r.status,[Ie.ERR_BAD_REQUEST,Ie.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function mO(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function pO(e,t){e=e||10;const r=new Array(e),n=new Array(e);let s=0,a=0,i;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),d=n[a];i||(i=u),r[s]=c,n[s]=u;let f=a,h=0;for(;f!==s;)h+=r[f++],f=f%e;if(s=(s+1)%e,s===a&&(a=(a+1)%e),u-i<t)return;const y=d&&u-d;return y?Math.round(h*1e3/y):void 0}}function gO(e,t){let r=0,n=1e3/t,s,a;const i=(u,d=Date.now())=>{r=d,s=null,a&&(clearTimeout(a),a=null),e(...u)};return[(...u)=>{const d=Date.now(),f=d-r;f>=n?i(u,d):(s=u,a||(a=setTimeout(()=>{a=null,i(s)},n-f)))},()=>s&&i(s)]}const lf=(e,t,r=3)=>{let n=0;const s=pO(50,250);return gO(a=>{const i=a.loaded,l=a.lengthComputable?a.total:void 0,c=i-n,u=s(c),d=i<=l;n=i;const f={loaded:i,total:l,progress:l?i/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&d?(l-i)/u:void 0,event:a,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(f)},r)},fb=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},hb=e=>(...t)=>X.asap(()=>e(...t)),yO=ur.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,ur.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(ur.origin),ur.navigator&&/(msie|trident)/i.test(ur.navigator.userAgent)):()=>!0,vO=ur.hasStandardBrowserEnv?{write(e,t,r,n,s,a){const i=[e+"="+encodeURIComponent(t)];X.isNumber(r)&&i.push("expires="+new Date(r).toGMTString()),X.isString(n)&&i.push("path="+n),X.isString(s)&&i.push("domain="+s),a===!0&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function xO(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function bO(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Dk(e,t,r){let n=!xO(t);return e&&(n||r==!1)?bO(e,t):t}const mb=e=>e instanceof Mr?{...e}:e;function po(e,t){t=t||{};const r={};function n(u,d,f,h){return X.isPlainObject(u)&&X.isPlainObject(d)?X.merge.call({caseless:h},u,d):X.isPlainObject(d)?X.merge({},d):X.isArray(d)?d.slice():d}function s(u,d,f,h){if(X.isUndefined(d)){if(!X.isUndefined(u))return n(void 0,u,f,h)}else return n(u,d,f,h)}function a(u,d){if(!X.isUndefined(d))return n(void 0,d)}function i(u,d){if(X.isUndefined(d)){if(!X.isUndefined(u))return n(void 0,u)}else return n(void 0,d)}function l(u,d,f){if(f in t)return n(u,d);if(f in e)return n(void 0,u)}const c={url:a,method:a,data:a,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:l,headers:(u,d,f)=>s(mb(u),mb(d),f,!0)};return X.forEach(Object.keys({...e,...t}),function(d){const f=c[d]||s,h=f(e[d],t[d],d);X.isUndefined(h)&&f!==l||(r[d]=h)}),r}const Ck=e=>{const t=po({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:a,headers:i,auth:l}=t;if(t.headers=i=Mr.from(i),t.url=wk(Dk(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&i.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),X.isFormData(r)){if(ur.hasStandardBrowserEnv||ur.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(X.isFunction(r.getHeaders)){const c=r.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([d,f])=>{u.includes(d.toLowerCase())&&i.set(d,f)})}}if(ur.hasStandardBrowserEnv&&(n&&X.isFunction(n)&&(n=n(t)),n||n!==!1&&yO(t.url))){const c=s&&a&&vO.read(a);c&&i.set(s,c)}return t},wO=typeof XMLHttpRequest<"u",NO=wO&&function(e){return new Promise(function(r,n){const s=Ck(e);let a=s.data;const i=Mr.from(s.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=s,d,f,h,y,g;function m(){y&&y(),g&&g(),s.cancelToken&&s.cancelToken.unsubscribe(d),s.signal&&s.signal.removeEventListener("abort",d)}let N=new XMLHttpRequest;N.open(s.method.toUpperCase(),s.url,!0),N.timeout=s.timeout;function v(){if(!N)return;const b=Mr.from("getAllResponseHeaders"in N&&N.getAllResponseHeaders()),S={data:!l||l==="text"||l==="json"?N.responseText:N.response,status:N.status,statusText:N.statusText,headers:b,config:e,request:N};kk(function(_){r(_),m()},function(_){n(_),m()},S),N=null}"onloadend"in N?N.onloadend=v:N.onreadystatechange=function(){!N||N.readyState!==4||N.status===0&&!(N.responseURL&&N.responseURL.indexOf("file:")===0)||setTimeout(v)},N.onabort=function(){N&&(n(new Ie("Request aborted",Ie.ECONNABORTED,e,N)),N=null)},N.onerror=function(x){const S=x&&x.message?x.message:"Network Error",k=new Ie(S,Ie.ERR_NETWORK,e,N);k.event=x||null,n(k),N=null},N.ontimeout=function(){let x=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const S=s.transitional||Nk;s.timeoutErrorMessage&&(x=s.timeoutErrorMessage),n(new Ie(x,S.clarifyTimeoutError?Ie.ETIMEDOUT:Ie.ECONNABORTED,e,N)),N=null},a===void 0&&i.setContentType(null),"setRequestHeader"in N&&X.forEach(i.toJSON(),function(x,S){N.setRequestHeader(S,x)}),X.isUndefined(s.withCredentials)||(N.withCredentials=!!s.withCredentials),l&&l!=="json"&&(N.responseType=s.responseType),u&&([h,g]=lf(u,!0),N.addEventListener("progress",h)),c&&N.upload&&([f,y]=lf(c),N.upload.addEventListener("progress",f),N.upload.addEventListener("loadend",y)),(s.cancelToken||s.signal)&&(d=b=>{N&&(n(!b||b.type?new Oi(null,e,N):b),N.abort(),N=null)},s.cancelToken&&s.cancelToken.subscribe(d),s.signal&&(s.signal.aborted?d():s.signal.addEventListener("abort",d)));const p=mO(s.url);if(p&&ur.protocols.indexOf(p)===-1){n(new Ie("Unsupported protocol "+p+":",Ie.ERR_BAD_REQUEST,e));return}N.send(a||null)})},jO=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,s;const a=function(u){if(!s){s=!0,l();const d=u instanceof Error?u:this.reason;n.abort(d instanceof Ie?d:new Oi(d instanceof Error?d.message:d))}};let i=t&&setTimeout(()=>{i=null,a(new Ie(`timeout ${t} of ms exceeded`,Ie.ETIMEDOUT))},t);const l=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(a):u.removeEventListener("abort",a)}),e=null)};e.forEach(u=>u.addEventListener("abort",a));const{signal:c}=n;return c.unsubscribe=()=>X.asap(l),c}},SO=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,s;for(;n<r;)s=n+t,yield e.slice(n,s),n=s},kO=async function*(e,t){for await(const r of DO(e))yield*SO(r,t)},DO=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},pb=(e,t,r,n)=>{const s=kO(e,t);let a=0,i,l=c=>{i||(i=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await s.next();if(u){l(),c.close();return}let f=d.byteLength;if(r){let h=a+=f;r(h)}c.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(c){return l(c),s.return()}},{highWaterMark:2})},gb=64*1024,{isFunction:Bu}=X,CO=(({Request:e,Response:t})=>({Request:e,Response:t}))(X.global),{ReadableStream:yb,TextEncoder:vb}=X.global,xb=(e,...t)=>{try{return!!e(...t)}catch{return!1}},EO=e=>{e=X.merge.call({skipUndefined:!0},CO,e);const{fetch:t,Request:r,Response:n}=e,s=t?Bu(t):typeof fetch=="function",a=Bu(r),i=Bu(n);if(!s)return!1;const l=s&&Bu(yb),c=s&&(typeof vb=="function"?(g=>m=>g.encode(m))(new vb):async g=>new Uint8Array(await new r(g).arrayBuffer())),u=a&&l&&xb(()=>{let g=!1;const m=new r(ur.origin,{body:new yb,method:"POST",get duplex(){return g=!0,"half"}}).headers.has("Content-Type");return g&&!m}),d=i&&l&&xb(()=>X.isReadableStream(new n("").body)),f={stream:d&&(g=>g.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(g=>{!f[g]&&(f[g]=(m,N)=>{let v=m&&m[g];if(v)return v.call(m);throw new Ie(`Response type '${g}' is not supported`,Ie.ERR_NOT_SUPPORT,N)})});const h=async g=>{if(g==null)return 0;if(X.isBlob(g))return g.size;if(X.isSpecCompliantForm(g))return(await new r(ur.origin,{method:"POST",body:g}).arrayBuffer()).byteLength;if(X.isArrayBufferView(g)||X.isArrayBuffer(g))return g.byteLength;if(X.isURLSearchParams(g)&&(g=g+""),X.isString(g))return(await c(g)).byteLength},y=async(g,m)=>{const N=X.toFiniteNumber(g.getContentLength());return N??h(m)};return async g=>{let{url:m,method:N,data:v,signal:p,cancelToken:b,timeout:x,onDownloadProgress:S,onUploadProgress:k,responseType:_,headers:A,withCredentials:M="same-origin",fetchOptions:$}=Ck(g),V=t||fetch;_=_?(_+"").toLowerCase():"text";let H=jO([p,b&&b.toAbortSignal()],x),Y=null;const K=H&&H.unsubscribe&&(()=>{H.unsubscribe()});let ce;try{if(k&&u&&N!=="get"&&N!=="head"&&(ce=await y(A,v))!==0){let G=new r(m,{method:"POST",body:v,duplex:"half"}),W;if(X.isFormData(v)&&(W=G.headers.get("content-type"))&&A.setContentType(W),G.body){const[D,T]=fb(ce,lf(hb(k)));v=pb(G.body,gb,D,T)}}X.isString(M)||(M=M?"include":"omit");const ee=a&&"credentials"in r.prototype,de={...$,signal:H,method:N.toUpperCase(),headers:A.normalize().toJSON(),body:v,duplex:"half",credentials:ee?M:void 0};Y=a&&new r(m,de);let Z=await(a?V(Y,$):V(m,de));const U=d&&(_==="stream"||_==="response");if(d&&(S||U&&K)){const G={};["status","statusText","headers"].forEach(z=>{G[z]=Z[z]});const W=X.toFiniteNumber(Z.headers.get("content-length")),[D,T]=S&&fb(W,lf(hb(S),!0))||[];Z=new n(pb(Z.body,gb,D,()=>{T&&T(),K&&K()}),G)}_=_||"text";let oe=await f[X.findKey(f,_)||"text"](Z,g);return!U&&K&&K(),await new Promise((G,W)=>{kk(G,W,{data:oe,headers:Mr.from(Z.headers),status:Z.status,statusText:Z.statusText,config:g,request:Y})})}catch(ee){throw K&&K(),ee&&ee.name==="TypeError"&&/Load failed|fetch/i.test(ee.message)?Object.assign(new Ie("Network Error",Ie.ERR_NETWORK,g,Y),{cause:ee.cause||ee}):Ie.from(ee,ee&&ee.code,g,Y)}}},_O=new Map,Ek=e=>{let t=e?e.env:{};const{fetch:r,Request:n,Response:s}=t,a=[n,s,r];let i=a.length,l=i,c,u,d=_O;for(;l--;)c=a[l],u=d.get(c),u===void 0&&d.set(c,u=l?new Map:EO(t)),d=u;return u};Ek();const gg={http:YR,xhr:NO,fetch:{get:Ek}};X.forEach(gg,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const bb=e=>`- ${e}`,TO=e=>X.isFunction(e)||e===null||e===!1,_k={getAdapter:(e,t)=>{e=X.isArray(e)?e:[e];const{length:r}=e;let n,s;const a={};for(let i=0;i<r;i++){n=e[i];let l;if(s=n,!TO(n)&&(s=gg[(l=String(n)).toLowerCase()],s===void 0))throw new Ie(`Unknown adapter '${l}'`);if(s&&(X.isFunction(s)||(s=s.get(t))))break;a[l||"#"+i]=s}if(!s){const i=Object.entries(a).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let l=r?i.length>1?`since :
`+i.map(bb).join(`
`):" "+bb(i[0]):"as no adapter specified";throw new Ie("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return s},adapters:gg};function Am(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Oi(null,e)}function wb(e){return Am(e),e.headers=Mr.from(e.headers),e.data=Pm.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),_k.getAdapter(e.adapter||Qc.adapter,e)(e).then(function(n){return Am(e),n.data=Pm.call(e,e.transformResponse,n),n.headers=Mr.from(n.headers),n},function(n){return Sk(n)||(Am(e),n&&n.response&&(n.response.data=Pm.call(e,e.transformResponse,n.response),n.response.headers=Mr.from(n.response.headers))),Promise.reject(n)})}const Tk="1.12.2",uh={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{uh[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const Nb={};uh.transitional=function(t,r,n){function s(a,i){return"[Axios v"+Tk+"] Transitional option '"+a+"'"+i+(n?". "+n:"")}return(a,i,l)=>{if(t===!1)throw new Ie(s(i," has been removed"+(r?" in "+r:"")),Ie.ERR_DEPRECATED);return r&&!Nb[i]&&(Nb[i]=!0,console.warn(s(i," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(a,i,l):!0}};uh.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function PO(e,t,r){if(typeof e!="object")throw new Ie("options must be an object",Ie.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let s=n.length;for(;s-- >0;){const a=n[s],i=t[a];if(i){const l=e[a],c=l===void 0||i(l,a,e);if(c!==!0)throw new Ie("option "+a+" must be "+c,Ie.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Ie("Unknown option "+a,Ie.ERR_BAD_OPTION)}}const Nd={assertOptions:PO,validators:uh},Bn=Nd.validators;let ao=class{constructor(t){this.defaults=t||{},this.interceptors={request:new ub,response:new ub}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const a=s.stack?s.stack.replace(/^.+\n/,""):"";try{n.stack?a&&!String(n.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+a):n.stack=a}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=po(this.defaults,r);const{transitional:n,paramsSerializer:s,headers:a}=r;n!==void 0&&Nd.assertOptions(n,{silentJSONParsing:Bn.transitional(Bn.boolean),forcedJSONParsing:Bn.transitional(Bn.boolean),clarifyTimeoutError:Bn.transitional(Bn.boolean)},!1),s!=null&&(X.isFunction(s)?r.paramsSerializer={serialize:s}:Nd.assertOptions(s,{encode:Bn.function,serialize:Bn.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Nd.assertOptions(r,{baseUrl:Bn.spelling("baseURL"),withXsrfToken:Bn.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let i=a&&X.merge(a.common,a[r.method]);a&&X.forEach(["delete","get","head","post","put","patch","common"],g=>{delete a[g]}),r.headers=Mr.concat(i,a);const l=[];let c=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(r)===!1||(c=c&&m.synchronous,l.unshift(m.fulfilled,m.rejected))});const u=[];this.interceptors.response.forEach(function(m){u.push(m.fulfilled,m.rejected)});let d,f=0,h;if(!c){const g=[wb.bind(this),void 0];for(g.unshift(...l),g.push(...u),h=g.length,d=Promise.resolve(r);f<h;)d=d.then(g[f++],g[f++]);return d}h=l.length;let y=r;for(;f<h;){const g=l[f++],m=l[f++];try{y=g(y)}catch(N){m.call(this,N);break}}try{d=wb.call(this,y)}catch(g){return Promise.reject(g)}for(f=0,h=u.length;f<h;)d=d.then(u[f++],u[f++]);return d}getUri(t){t=po(this.defaults,t);const r=Dk(t.baseURL,t.url,t.allowAbsoluteUrls);return wk(r,t.params,t.paramsSerializer)}};X.forEach(["delete","get","head","options"],function(t){ao.prototype[t]=function(r,n){return this.request(po(n||{},{method:t,url:r,data:(n||{}).data}))}});X.forEach(["post","put","patch"],function(t){function r(n){return function(a,i,l){return this.request(po(l||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:a,data:i}))}}ao.prototype[t]=r(),ao.prototype[t+"Form"]=r(!0)});let AO=class Pk{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(a){r=a});const n=this;this.promise.then(s=>{if(!n._listeners)return;let a=n._listeners.length;for(;a-- >0;)n._listeners[a](s);n._listeners=null}),this.promise.then=s=>{let a;const i=new Promise(l=>{n.subscribe(l),a=l}).then(s);return i.cancel=function(){n.unsubscribe(a)},i},t(function(a,i,l){n.reason||(n.reason=new Oi(a,i,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new Pk(function(s){t=s}),cancel:t}}};function MO(e){return function(r){return e.apply(null,r)}}function RO(e){return X.isObject(e)&&e.isAxiosError===!0}const yg={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(yg).forEach(([e,t])=>{yg[t]=e});function Ak(e){const t=new ao(e),r=ck(ao.prototype.request,t);return X.extend(r,ao.prototype,t,{allOwnKeys:!0}),X.extend(r,t,null,{allOwnKeys:!0}),r.create=function(s){return Ak(po(e,s))},r}const At=Ak(Qc);At.Axios=ao;At.CanceledError=Oi;At.CancelToken=AO;At.isCancel=Sk;At.VERSION=Tk;At.toFormData=ch;At.AxiosError=Ie;At.Cancel=At.CanceledError;At.all=function(t){return Promise.all(t)};At.spread=MO;At.isAxiosError=RO;At.mergeConfig=po;At.AxiosHeaders=Mr;At.formToJSON=e=>jk(X.isHTMLForm(e)?new FormData(e):e);At.getAdapter=_k.getAdapter;At.HttpStatusCode=yg;At.default=At;const{Axios:yne,AxiosError:vne,CanceledError:xne,isCancel:bne,CancelToken:wne,VERSION:Nne,all:jne,Cancel:Sne,isAxiosError:kne,spread:Dne,toFormData:Cne,AxiosHeaders:Ene,HttpStatusCode:_ne,formToJSON:Tne,getAdapter:Pne,mergeConfig:Ane}=At,OO="/api",Pe=At.create({baseURL:OO,headers:{"Content-Type":"application/json"}});Pe.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));Pe.interceptors.response.use(e=>e,e=>{var t;return((t=e.response)==null?void 0:t.status)===401&&(localStorage.removeItem("token"),window.location.href="/login"),Promise.reject(e)});const Mk=w.createContext(void 0);function $O({children:e}){const[t,r]=w.useState(null),[n,s]=w.useState(!0),a=Jf();w.useEffect(()=>{i()},[]);const i=async()=>{try{const d=localStorage.getItem("token");if(!d){s(!1);return}Pe.defaults.headers.common.Authorization=`Bearer ${d}`;const f=await Pe.get("/auth/me");f.data.success&&r(f.data.user)}catch{localStorage.removeItem("token"),delete Pe.defaults.headers.common.Authorization}finally{s(!1)}},l=async(d,f)=>{var h,y;try{const g=await Pe.post("/auth/login",{username:d,password:f}),{token:m,user:N}=g.data;localStorage.setItem("token",m),Pe.defaults.headers.common.Authorization=`Bearer ${m}`,r(N),Q.success(`${N.name}, !`),a("/")}catch(g){const m=g;throw Q.error(((y=(h=m.response)==null?void 0:h.data)==null?void 0:y.message)||" "),g}},c=()=>{localStorage.removeItem("token"),delete Pe.defaults.headers.common.Authorization,r(null),a("/login"),Q.success("")},u=d=>{r(d)};return o.jsx(Mk.Provider,{value:{user:t,loading:n,login:l,logout:c,updateUser:u},children:e})}function Ra(){const e=w.useContext(Mk);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function Rk(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=Rk(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Gn(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=Rk(e))&&(n&&(n+=" "),n+=t);return n}/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var IO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LO=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),tt=(e,t)=>{const r=w.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:a=2,absoluteStrokeWidth:i,className:l="",children:c,...u},d)=>w.createElement("svg",{ref:d,...IO,width:s,height:s,stroke:n,strokeWidth:i?Number(a)*24/Number(s):a,className:["lucide",`lucide-${LO(e)}`,l].join(" "),...u},[...t.map(([f,h])=>w.createElement(f,h)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FO=tt("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mm=tt("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WO=tt("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BO=tt("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fa=tt("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UO=tt("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HO=tt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jb=tt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sb=tt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zO=tt("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VO=tt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YO=tt("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rm=tt("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cv=tt("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qO=tt("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KO=tt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GO=tt("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fc=tt("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kb=tt("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ok=tt("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Db=tt("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uv=tt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QO=tt("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cf=tt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XO=tt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rr=tt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dh=tt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JO=tt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZO=tt("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ft=tt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),e$={},Cb=e=>{let t;const r=new Set,n=(d,f)=>{const h=typeof d=="function"?d(t):d;if(!Object.is(h,t)){const y=t;t=f??(typeof h!="object"||h===null)?h:Object.assign({},t,h),r.forEach(g=>g(t,y))}},s=()=>t,c={setState:n,getState:s,getInitialState:()=>u,subscribe:d=>(r.add(d),()=>r.delete(d)),destroy:()=>{(e$?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},u=t=e(n,s,c);return c},t$=e=>e?Cb(e):Cb;var $k={exports:{}},Ik={},Lk={exports:{}},Fk={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bi=w;function r$(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var n$=typeof Object.is=="function"?Object.is:r$,s$=bi.useState,a$=bi.useEffect,o$=bi.useLayoutEffect,i$=bi.useDebugValue;function l$(e,t){var r=t(),n=s$({inst:{value:r,getSnapshot:t}}),s=n[0].inst,a=n[1];return o$(function(){s.value=r,s.getSnapshot=t,Om(s)&&a({inst:s})},[e,r,t]),a$(function(){return Om(s)&&a({inst:s}),e(function(){Om(s)&&a({inst:s})})},[e]),i$(r),r}function Om(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!n$(e,r)}catch{return!0}}function c$(e,t){return t()}var u$=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c$:l$;Fk.useSyncExternalStore=bi.useSyncExternalStore!==void 0?bi.useSyncExternalStore:u$;Lk.exports=Fk;var d$=Lk.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fh=w,f$=d$;function h$(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var m$=typeof Object.is=="function"?Object.is:h$,p$=f$.useSyncExternalStore,g$=fh.useRef,y$=fh.useEffect,v$=fh.useMemo,x$=fh.useDebugValue;Ik.useSyncExternalStoreWithSelector=function(e,t,r,n,s){var a=g$(null);if(a.current===null){var i={hasValue:!1,value:null};a.current=i}else i=a.current;a=v$(function(){function c(y){if(!u){if(u=!0,d=y,y=n(y),s!==void 0&&i.hasValue){var g=i.value;if(s(g,y))return f=g}return f=y}if(g=f,m$(d,y))return g;var m=n(y);return s!==void 0&&s(g,m)?(d=y,g):(d=y,f=m)}var u=!1,d,f,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,n,s]);var l=p$(e,a[0],a[1]);return y$(function(){i.hasValue=!0,i.value=l},[l]),x$(l),l};$k.exports=Ik;var b$=$k.exports;const w$=wr(b$),Wk={},{useDebugValue:N$}=F,{useSyncExternalStoreWithSelector:j$}=w$;let Eb=!1;const S$=e=>e;function k$(e,t=S$,r){(Wk?"production":void 0)!=="production"&&r&&!Eb&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Eb=!0);const n=j$(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return N$(n),n}const D$=e=>{(Wk?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?t$(e):e,r=(n,s)=>k$(t,n,s);return Object.assign(r,t),r},Bk=e=>D$,C$={};function E$(e,t){let r;try{r=e()}catch{return}return{getItem:s=>{var a;const i=c=>c===null?null:JSON.parse(c,void 0),l=(a=r.getItem(s))!=null?a:null;return l instanceof Promise?l.then(i):i(l)},setItem:(s,a)=>r.setItem(s,JSON.stringify(a,void 0)),removeItem:s=>r.removeItem(s)}}const hc=e=>t=>{try{const r=e(t);return r instanceof Promise?r:{then(n){return hc(n)(r)},catch(n){return this}}}catch(r){return{then(n){return this},catch(n){return hc(n)(r)}}}},_$=(e,t)=>(r,n,s)=>{let a={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:N=>N,version:0,merge:(N,v)=>({...v,...N}),...t},i=!1;const l=new Set,c=new Set;let u;try{u=a.getStorage()}catch{}if(!u)return e((...N)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),r(...N)},n,s);const d=hc(a.serialize),f=()=>{const N=a.partialize({...n()});let v;const p=d({state:N,version:a.version}).then(b=>u.setItem(a.name,b)).catch(b=>{v=b});if(v)throw v;return p},h=s.setState;s.setState=(N,v)=>{h(N,v),f()};const y=e((...N)=>{r(...N),f()},n,s);let g;const m=()=>{var N;if(!u)return;i=!1,l.forEach(p=>p(n()));const v=((N=a.onRehydrateStorage)==null?void 0:N.call(a,n()))||void 0;return hc(u.getItem.bind(u))(a.name).then(p=>{if(p)return a.deserialize(p)}).then(p=>{if(p)if(typeof p.version=="number"&&p.version!==a.version){if(a.migrate)return a.migrate(p.state,p.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return p.state}).then(p=>{var b;return g=a.merge(p,(b=n())!=null?b:y),r(g,!0),f()}).then(()=>{v==null||v(g,void 0),i=!0,c.forEach(p=>p(g))}).catch(p=>{v==null||v(void 0,p)})};return s.persist={setOptions:N=>{a={...a,...N},N.getStorage&&(u=N.getStorage())},clearStorage:()=>{u==null||u.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>m(),hasHydrated:()=>i,onHydrate:N=>(l.add(N),()=>{l.delete(N)}),onFinishHydration:N=>(c.add(N),()=>{c.delete(N)})},m(),g||y},T$=(e,t)=>(r,n,s)=>{let a={storage:E$(()=>localStorage),partialize:m=>m,version:0,merge:(m,N)=>({...N,...m}),...t},i=!1;const l=new Set,c=new Set;let u=a.storage;if(!u)return e((...m)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),r(...m)},n,s);const d=()=>{const m=a.partialize({...n()});return u.setItem(a.name,{state:m,version:a.version})},f=s.setState;s.setState=(m,N)=>{f(m,N),d()};const h=e((...m)=>{r(...m),d()},n,s);s.getInitialState=()=>h;let y;const g=()=>{var m,N;if(!u)return;i=!1,l.forEach(p=>{var b;return p((b=n())!=null?b:h)});const v=((N=a.onRehydrateStorage)==null?void 0:N.call(a,(m=n())!=null?m:h))||void 0;return hc(u.getItem.bind(u))(a.name).then(p=>{if(p)if(typeof p.version=="number"&&p.version!==a.version){if(a.migrate)return[!0,a.migrate(p.state,p.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,p.state];return[!1,void 0]}).then(p=>{var b;const[x,S]=p;if(y=a.merge(S,(b=n())!=null?b:h),r(y,!0),x)return d()}).then(()=>{v==null||v(y,void 0),y=n(),i=!0,c.forEach(p=>p(y))}).catch(p=>{v==null||v(void 0,p)})};return s.persist={setOptions:m=>{a={...a,...m},m.storage&&(u=m.storage)},clearStorage:()=>{u==null||u.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>g(),hasHydrated:()=>i,onHydrate:m=>(l.add(m),()=>{l.delete(m)}),onFinishHydration:m=>(c.add(m),()=>{c.delete(m)})},a.skipHydration||g(),y||h},P$=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((C$?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),_$(e,t)):T$(e,t),Uk=P$,Hk=Bk()(Uk((e,t)=>({notifications:[],unreadCount:0,addNotification:r=>{const n={...r,id:Date.now().toString()+Math.random().toString(36).substr(2,9),read:!1,createdAt:new Date};e(s=>({notifications:[n,...s.notifications].slice(0,50),unreadCount:s.unreadCount+1}))},markAsRead:r=>{e(n=>({notifications:n.notifications.map(s=>s.id===r?{...s,read:!0}:s),unreadCount:Math.max(0,n.unreadCount-1)}))},markAllAsRead:()=>{e(r=>({notifications:r.notifications.map(n=>({...n,read:!0})),unreadCount:0}))},deleteNotification:r=>{e(n=>{const s=n.notifications.find(i=>i.id===r),a=s&&!s.read;return{notifications:n.notifications.filter(i=>i.id!==r),unreadCount:a?Math.max(0,n.unreadCount-1):n.unreadCount}})},clearAll:()=>{e({notifications:[],unreadCount:0})},getUnreadCount:()=>t().unreadCount}),{name:"notification-storage",partialize:e=>({notifications:e.notifications,unreadCount:e.unreadCount})}));function Tn(e){"@babel/helpers - typeof";return Tn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tn(e)}function Ca(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function Ze(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function at(e){Ze(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||Tn(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function A$(e,t){Ze(2,arguments);var r=at(e),n=Ca(t);return isNaN(n)?new Date(NaN):(n&&r.setDate(r.getDate()+n),r)}function M$(e,t){Ze(2,arguments);var r=at(e).getTime(),n=Ca(t);return new Date(r+n)}var R$={};function Xc(){return R$}function vg(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function _b(e){Ze(1,arguments);var t=at(e);return t.setHours(0,0,0,0),t}function jd(e,t){Ze(2,arguments);var r=at(e),n=at(t),s=r.getTime()-n.getTime();return s<0?-1:s>0?1:s}function zk(e,t){Ze(2,arguments);var r=_b(e),n=_b(t);return r.getTime()===n.getTime()}function O$(e){return Ze(1,arguments),e instanceof Date||Tn(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function $$(e){if(Ze(1,arguments),!O$(e)&&typeof e!="number")return!1;var t=at(e);return!isNaN(Number(t))}function I$(e,t){Ze(2,arguments);var r=at(e),n=at(t),s=r.getFullYear()-n.getFullYear(),a=r.getMonth()-n.getMonth();return s*12+a}function L$(e,t){return Ze(2,arguments),at(e).getTime()-at(t).getTime()}var F$={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}},W$="trunc";function B$(e){return F$[W$]}function U$(e){Ze(1,arguments);var t=at(e);return t.setHours(23,59,59,999),t}function H$(e){Ze(1,arguments);var t=at(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function z$(e){Ze(1,arguments);var t=at(e);return U$(t).getTime()===H$(t).getTime()}function V$(e,t){Ze(2,arguments);var r=at(e),n=at(t),s=jd(r,n),a=Math.abs(I$(r,n)),i;if(a<1)i=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-s*a);var l=jd(r,n)===-s;z$(at(e))&&a===1&&jd(e,n)===1&&(l=!1),i=s*(a-Number(l))}return i===0?0:i}function Y$(e,t,r){Ze(2,arguments);var n=L$(e,t)/1e3;return B$()(n)}function q$(e,t){Ze(2,arguments);var r=Ca(t);return M$(e,-r)}var K$=864e5;function G$(e){Ze(1,arguments);var t=at(e),r=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var n=t.getTime(),s=r-n;return Math.floor(s/K$)+1}function uf(e){Ze(1,arguments);var t=1,r=at(e),n=r.getUTCDay(),s=(n<t?7:0)+n-t;return r.setUTCDate(r.getUTCDate()-s),r.setUTCHours(0,0,0,0),r}function Vk(e){Ze(1,arguments);var t=at(e),r=t.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(r+1,0,4),n.setUTCHours(0,0,0,0);var s=uf(n),a=new Date(0);a.setUTCFullYear(r,0,4),a.setUTCHours(0,0,0,0);var i=uf(a);return t.getTime()>=s.getTime()?r+1:t.getTime()>=i.getTime()?r:r-1}function Q$(e){Ze(1,arguments);var t=Vk(e),r=new Date(0);r.setUTCFullYear(t,0,4),r.setUTCHours(0,0,0,0);var n=uf(r);return n}var X$=6048e5;function J$(e){Ze(1,arguments);var t=at(e),r=uf(t).getTime()-Q$(t).getTime();return Math.round(r/X$)+1}function df(e,t){var r,n,s,a,i,l,c,u;Ze(1,arguments);var d=Xc(),f=Ca((r=(n=(s=(a=t==null?void 0:t.weekStartsOn)!==null&&a!==void 0?a:t==null||(i=t.locale)===null||i===void 0||(l=i.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&s!==void 0?s:d.weekStartsOn)!==null&&n!==void 0?n:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&r!==void 0?r:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=at(e),y=h.getUTCDay(),g=(y<f?7:0)+y-f;return h.setUTCDate(h.getUTCDate()-g),h.setUTCHours(0,0,0,0),h}function Yk(e,t){var r,n,s,a,i,l,c,u;Ze(1,arguments);var d=at(e),f=d.getUTCFullYear(),h=Xc(),y=Ca((r=(n=(s=(a=t==null?void 0:t.firstWeekContainsDate)!==null&&a!==void 0?a:t==null||(i=t.locale)===null||i===void 0||(l=i.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&s!==void 0?s:h.firstWeekContainsDate)!==null&&n!==void 0?n:(c=h.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&r!==void 0?r:1);if(!(y>=1&&y<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var g=new Date(0);g.setUTCFullYear(f+1,0,y),g.setUTCHours(0,0,0,0);var m=df(g,t),N=new Date(0);N.setUTCFullYear(f,0,y),N.setUTCHours(0,0,0,0);var v=df(N,t);return d.getTime()>=m.getTime()?f+1:d.getTime()>=v.getTime()?f:f-1}function Z$(e,t){var r,n,s,a,i,l,c,u;Ze(1,arguments);var d=Xc(),f=Ca((r=(n=(s=(a=t==null?void 0:t.firstWeekContainsDate)!==null&&a!==void 0?a:t==null||(i=t.locale)===null||i===void 0||(l=i.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&s!==void 0?s:d.firstWeekContainsDate)!==null&&n!==void 0?n:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&r!==void 0?r:1),h=Yk(e,t),y=new Date(0);y.setUTCFullYear(h,0,f),y.setUTCHours(0,0,0,0);var g=df(y,t);return g}var e3=6048e5;function t3(e,t){Ze(1,arguments);var r=at(e),n=df(r,t).getTime()-Z$(r,t).getTime();return Math.round(n/e3)+1}function st(e,t){for(var r=e<0?"-":"",n=Math.abs(e).toString();n.length<t;)n="0"+n;return r+n}var Ys={y:function(t,r){var n=t.getUTCFullYear(),s=n>0?n:1-n;return st(r==="yy"?s%100:s,r.length)},M:function(t,r){var n=t.getUTCMonth();return r==="M"?String(n+1):st(n+1,2)},d:function(t,r){return st(t.getUTCDate(),r.length)},a:function(t,r){var n=t.getUTCHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h:function(t,r){return st(t.getUTCHours()%12||12,r.length)},H:function(t,r){return st(t.getUTCHours(),r.length)},m:function(t,r){return st(t.getUTCMinutes(),r.length)},s:function(t,r){return st(t.getUTCSeconds(),r.length)},S:function(t,r){var n=r.length,s=t.getUTCMilliseconds(),a=Math.floor(s*Math.pow(10,n-3));return st(a,r.length)}},Eo={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},r3={G:function(t,r,n){var s=t.getUTCFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return n.era(s,{width:"abbreviated"});case"GGGGG":return n.era(s,{width:"narrow"});case"GGGG":default:return n.era(s,{width:"wide"})}},y:function(t,r,n){if(r==="yo"){var s=t.getUTCFullYear(),a=s>0?s:1-s;return n.ordinalNumber(a,{unit:"year"})}return Ys.y(t,r)},Y:function(t,r,n,s){var a=Yk(t,s),i=a>0?a:1-a;if(r==="YY"){var l=i%100;return st(l,2)}return r==="Yo"?n.ordinalNumber(i,{unit:"year"}):st(i,r.length)},R:function(t,r){var n=Vk(t);return st(n,r.length)},u:function(t,r){var n=t.getUTCFullYear();return st(n,r.length)},Q:function(t,r,n){var s=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"Q":return String(s);case"QQ":return st(s,2);case"Qo":return n.ordinalNumber(s,{unit:"quarter"});case"QQQ":return n.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(s,{width:"wide",context:"formatting"})}},q:function(t,r,n){var s=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"q":return String(s);case"qq":return st(s,2);case"qo":return n.ordinalNumber(s,{unit:"quarter"});case"qqq":return n.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(s,{width:"wide",context:"standalone"})}},M:function(t,r,n){var s=t.getUTCMonth();switch(r){case"M":case"MM":return Ys.M(t,r);case"Mo":return n.ordinalNumber(s+1,{unit:"month"});case"MMM":return n.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(s,{width:"wide",context:"formatting"})}},L:function(t,r,n){var s=t.getUTCMonth();switch(r){case"L":return String(s+1);case"LL":return st(s+1,2);case"Lo":return n.ordinalNumber(s+1,{unit:"month"});case"LLL":return n.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(s,{width:"wide",context:"standalone"})}},w:function(t,r,n,s){var a=t3(t,s);return r==="wo"?n.ordinalNumber(a,{unit:"week"}):st(a,r.length)},I:function(t,r,n){var s=J$(t);return r==="Io"?n.ordinalNumber(s,{unit:"week"}):st(s,r.length)},d:function(t,r,n){return r==="do"?n.ordinalNumber(t.getUTCDate(),{unit:"date"}):Ys.d(t,r)},D:function(t,r,n){var s=G$(t);return r==="Do"?n.ordinalNumber(s,{unit:"dayOfYear"}):st(s,r.length)},E:function(t,r,n){var s=t.getUTCDay();switch(r){case"E":case"EE":case"EEE":return n.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(s,{width:"short",context:"formatting"});case"EEEE":default:return n.day(s,{width:"wide",context:"formatting"})}},e:function(t,r,n,s){var a=t.getUTCDay(),i=(a-s.weekStartsOn+8)%7||7;switch(r){case"e":return String(i);case"ee":return st(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});case"eeee":default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(t,r,n,s){var a=t.getUTCDay(),i=(a-s.weekStartsOn+8)%7||7;switch(r){case"c":return String(i);case"cc":return st(i,r.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});case"cccc":default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(t,r,n){var s=t.getUTCDay(),a=s===0?7:s;switch(r){case"i":return String(a);case"ii":return st(a,r.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(s,{width:"short",context:"formatting"});case"iiii":default:return n.day(s,{width:"wide",context:"formatting"})}},a:function(t,r,n){var s=t.getUTCHours(),a=s/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(t,r,n){var s=t.getUTCHours(),a;switch(s===12?a=Eo.noon:s===0?a=Eo.midnight:a=s/12>=1?"pm":"am",r){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(t,r,n){var s=t.getUTCHours(),a;switch(s>=17?a=Eo.evening:s>=12?a=Eo.afternoon:s>=4?a=Eo.morning:a=Eo.night,r){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(t,r,n){if(r==="ho"){var s=t.getUTCHours()%12;return s===0&&(s=12),n.ordinalNumber(s,{unit:"hour"})}return Ys.h(t,r)},H:function(t,r,n){return r==="Ho"?n.ordinalNumber(t.getUTCHours(),{unit:"hour"}):Ys.H(t,r)},K:function(t,r,n){var s=t.getUTCHours()%12;return r==="Ko"?n.ordinalNumber(s,{unit:"hour"}):st(s,r.length)},k:function(t,r,n){var s=t.getUTCHours();return s===0&&(s=24),r==="ko"?n.ordinalNumber(s,{unit:"hour"}):st(s,r.length)},m:function(t,r,n){return r==="mo"?n.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):Ys.m(t,r)},s:function(t,r,n){return r==="so"?n.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):Ys.s(t,r)},S:function(t,r){return Ys.S(t,r)},X:function(t,r,n,s){var a=s._originalDate||t,i=a.getTimezoneOffset();if(i===0)return"Z";switch(r){case"X":return Pb(i);case"XXXX":case"XX":return Ba(i);case"XXXXX":case"XXX":default:return Ba(i,":")}},x:function(t,r,n,s){var a=s._originalDate||t,i=a.getTimezoneOffset();switch(r){case"x":return Pb(i);case"xxxx":case"xx":return Ba(i);case"xxxxx":case"xxx":default:return Ba(i,":")}},O:function(t,r,n,s){var a=s._originalDate||t,i=a.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+Tb(i,":");case"OOOO":default:return"GMT"+Ba(i,":")}},z:function(t,r,n,s){var a=s._originalDate||t,i=a.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+Tb(i,":");case"zzzz":default:return"GMT"+Ba(i,":")}},t:function(t,r,n,s){var a=s._originalDate||t,i=Math.floor(a.getTime()/1e3);return st(i,r.length)},T:function(t,r,n,s){var a=s._originalDate||t,i=a.getTime();return st(i,r.length)}};function Tb(e,t){var r=e>0?"-":"+",n=Math.abs(e),s=Math.floor(n/60),a=n%60;if(a===0)return r+String(s);var i=t;return r+String(s)+i+st(a,2)}function Pb(e,t){if(e%60===0){var r=e>0?"-":"+";return r+st(Math.abs(e)/60,2)}return Ba(e,t)}function Ba(e,t){var r=t||"",n=e>0?"-":"+",s=Math.abs(e),a=st(Math.floor(s/60),2),i=st(s%60,2);return n+a+r+i}var Ab=function(t,r){switch(t){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},qk=function(t,r){switch(t){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},n3=function(t,r){var n=t.match(/(P+)(p+)?/)||[],s=n[1],a=n[2];if(!a)return Ab(t,r);var i;switch(s){case"P":i=r.dateTime({width:"short"});break;case"PP":i=r.dateTime({width:"medium"});break;case"PPP":i=r.dateTime({width:"long"});break;case"PPPP":default:i=r.dateTime({width:"full"});break}return i.replace("{{date}}",Ab(s,r)).replace("{{time}}",qk(a,r))},s3={p:qk,P:n3},a3=["D","DD"],o3=["YY","YYYY"];function i3(e){return a3.indexOf(e)!==-1}function l3(e){return o3.indexOf(e)!==-1}function Mb(e,t,r){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var c3={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},u3=function(t,r,n){var s,a=c3[t];return typeof a=="string"?s=a:r===1?s=a.one:s=a.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+s:s+" ago":s};function Zo(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.width?String(t.width):e.defaultWidth,n=e.formats[r]||e.formats[e.defaultWidth];return n}}var d3={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},f3={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},h3={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},m3={date:Zo({formats:d3,defaultWidth:"full"}),time:Zo({formats:f3,defaultWidth:"full"}),dateTime:Zo({formats:h3,defaultWidth:"full"})},p3={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},g3=function(t,r,n,s){return p3[t]};function Qn(e){return function(t,r){var n=r!=null&&r.context?String(r.context):"standalone",s;if(n==="formatting"&&e.formattingValues){var a=e.defaultFormattingWidth||e.defaultWidth,i=r!=null&&r.width?String(r.width):a;s=e.formattingValues[i]||e.formattingValues[a]}else{var l=e.defaultWidth,c=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[c]||e.values[l]}var u=e.argumentCallback?e.argumentCallback(t):t;return s[u]}}var y3={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},v3={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},x3={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},b3={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},w3={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},N3={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},j3=function(t,r){var n=Number(t),s=n%100;if(s>20||s<10)switch(s%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},S3={ordinalNumber:j3,era:Qn({values:y3,defaultWidth:"wide"}),quarter:Qn({values:v3,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:Qn({values:x3,defaultWidth:"wide"}),day:Qn({values:b3,defaultWidth:"wide"}),dayPeriod:Qn({values:w3,defaultWidth:"wide",formattingValues:N3,defaultFormattingWidth:"wide"})};function Xn(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],a=t.match(s);if(!a)return null;var i=a[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?D3(l,function(f){return f.test(i)}):k3(l,function(f){return f.test(i)}),u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;var d=t.slice(i.length);return{value:u,rest:d}}}function k3(e,t){for(var r in e)if(e.hasOwnProperty(r)&&t(e[r]))return r}function D3(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return r}function Kk(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.match(e.matchPattern);if(!n)return null;var s=n[0],a=t.match(e.parsePattern);if(!a)return null;var i=e.valueCallback?e.valueCallback(a[0]):a[0];i=r.valueCallback?r.valueCallback(i):i;var l=t.slice(s.length);return{value:i,rest:l}}}var C3=/^(\d+)(th|st|nd|rd)?/i,E3=/\d+/i,_3={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},T3={any:[/^b/i,/^(a|c)/i]},P3={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},A3={any:[/1/i,/2/i,/3/i,/4/i]},M3={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},R3={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},O3={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},$3={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},I3={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},L3={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},F3={ordinalNumber:Kk({matchPattern:C3,parsePattern:E3,valueCallback:function(t){return parseInt(t,10)}}),era:Xn({matchPatterns:_3,defaultMatchWidth:"wide",parsePatterns:T3,defaultParseWidth:"any"}),quarter:Xn({matchPatterns:P3,defaultMatchWidth:"wide",parsePatterns:A3,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Xn({matchPatterns:M3,defaultMatchWidth:"wide",parsePatterns:R3,defaultParseWidth:"any"}),day:Xn({matchPatterns:O3,defaultMatchWidth:"wide",parsePatterns:$3,defaultParseWidth:"any"}),dayPeriod:Xn({matchPatterns:I3,defaultMatchWidth:"any",parsePatterns:L3,defaultParseWidth:"any"})},Gk={code:"en-US",formatDistance:u3,formatLong:m3,formatRelative:g3,localize:S3,match:F3,options:{weekStartsOn:0,firstWeekContainsDate:1}},W3=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,B3=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,U3=/^'([^]*?)'?$/,H3=/''/g,z3=/[a-zA-Z]/;function Te(e,t,r){var n,s,a,i,l,c,u,d,f,h,y,g,m,N,v,p,b,x;Ze(2,arguments);var S=String(t),k=Xc(),_=(n=(s=r==null?void 0:r.locale)!==null&&s!==void 0?s:k.locale)!==null&&n!==void 0?n:Gk,A=Ca((a=(i=(l=(c=r==null?void 0:r.firstWeekContainsDate)!==null&&c!==void 0?c:r==null||(u=r.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&l!==void 0?l:k.firstWeekContainsDate)!==null&&i!==void 0?i:(f=k.locale)===null||f===void 0||(h=f.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&a!==void 0?a:1);if(!(A>=1&&A<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var M=Ca((y=(g=(m=(N=r==null?void 0:r.weekStartsOn)!==null&&N!==void 0?N:r==null||(v=r.locale)===null||v===void 0||(p=v.options)===null||p===void 0?void 0:p.weekStartsOn)!==null&&m!==void 0?m:k.weekStartsOn)!==null&&g!==void 0?g:(b=k.locale)===null||b===void 0||(x=b.options)===null||x===void 0?void 0:x.weekStartsOn)!==null&&y!==void 0?y:0);if(!(M>=0&&M<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!_.localize)throw new RangeError("locale must contain localize property");if(!_.formatLong)throw new RangeError("locale must contain formatLong property");var $=at(e);if(!$$($))throw new RangeError("Invalid time value");var V=vg($),H=q$($,V),Y={firstWeekContainsDate:A,weekStartsOn:M,locale:_,_originalDate:$},K=S.match(B3).map(function(ce){var ee=ce[0];if(ee==="p"||ee==="P"){var de=s3[ee];return de(ce,_.formatLong)}return ce}).join("").match(W3).map(function(ce){if(ce==="''")return"'";var ee=ce[0];if(ee==="'")return V3(ce);var de=r3[ee];if(de)return!(r!=null&&r.useAdditionalWeekYearTokens)&&l3(ce)&&Mb(ce,t,String(e)),!(r!=null&&r.useAdditionalDayOfYearTokens)&&i3(ce)&&Mb(ce,t,String(e)),de(H,ce,_.localize,Y);if(ee.match(z3))throw new RangeError("Format string contains an unescaped latin alphabet character `"+ee+"`");return ce}).join("");return K}function V3(e){var t=e.match(U3);return t?t[1].replace(H3,"'"):e}function Qk(e,t){if(e==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}function Y3(e){return Qk({},e)}var Rb=1440,q3=2520,$m=43200,K3=86400;function G3(e,t,r){var n,s;Ze(2,arguments);var a=Xc(),i=(n=(s=r==null?void 0:r.locale)!==null&&s!==void 0?s:a.locale)!==null&&n!==void 0?n:Gk;if(!i.formatDistance)throw new RangeError("locale must contain formatDistance property");var l=jd(e,t);if(isNaN(l))throw new RangeError("Invalid time value");var c=Qk(Y3(r),{addSuffix:!!(r!=null&&r.addSuffix),comparison:l}),u,d;l>0?(u=at(t),d=at(e)):(u=at(e),d=at(t));var f=Y$(d,u),h=(vg(d)-vg(u))/1e3,y=Math.round((f-h)/60),g;if(y<2)return r!=null&&r.includeSeconds?f<5?i.formatDistance("lessThanXSeconds",5,c):f<10?i.formatDistance("lessThanXSeconds",10,c):f<20?i.formatDistance("lessThanXSeconds",20,c):f<40?i.formatDistance("halfAMinute",0,c):f<60?i.formatDistance("lessThanXMinutes",1,c):i.formatDistance("xMinutes",1,c):y===0?i.formatDistance("lessThanXMinutes",1,c):i.formatDistance("xMinutes",y,c);if(y<45)return i.formatDistance("xMinutes",y,c);if(y<90)return i.formatDistance("aboutXHours",1,c);if(y<Rb){var m=Math.round(y/60);return i.formatDistance("aboutXHours",m,c)}else{if(y<q3)return i.formatDistance("xDays",1,c);if(y<$m){var N=Math.round(y/Rb);return i.formatDistance("xDays",N,c)}else if(y<K3)return g=Math.round(y/$m),i.formatDistance("aboutXMonths",g,c)}if(g=V$(d,u),g<12){var v=Math.round(y/$m);return i.formatDistance("xMonths",v,c)}else{var p=g%12,b=Math.floor(g/12);return p<3?i.formatDistance("aboutXYears",b,c):p<9?i.formatDistance("overXYears",b,c):i.formatDistance("almostXYears",b+1,c)}}function Q3(e,t){return Ze(1,arguments),G3(e,Date.now(),t)}function X3(e){return Ze(1,arguments),at(e).getTime()>Date.now()}function xg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function dv(e,t){if(e){if(typeof e=="string")return xg(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?xg(e,t):void 0}}function J3(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ff(e,t){return ff=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},ff(e,t)}function hr(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ff(e,t)}function hf(e){return hf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},hf(e)}function Xk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Xk=function(){return!!e})()}function Z3(e,t){if(t&&(Tn(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return J3(e)}function Vt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eI(e,t){if(Tn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Tn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jk(e){var t=eI(e,"string");return Tn(t)=="symbol"?t:t+""}function Ob(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Jk(n.key),n)}}function Yt(e,t,r){return t&&Ob(e.prototype,t),r&&Ob(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ha(e,t,r){return(t=Jk(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $b(e){return Ze(1,arguments),zk(e,Date.now())}function tI(e){return Ze(1,arguments),zk(e,A$(Date.now(),1))}var rI={lessThanXSeconds:{one:"1 ",other:"{{count}} "},xSeconds:{one:"1",other:"{{count}}"},halfAMinute:"30",lessThanXMinutes:{one:"1 ",other:"{{count}} "},xMinutes:{one:"1",other:"{{count}}"},aboutXHours:{one:" 1",other:" {{count}}"},xHours:{one:"1",other:"{{count}}"},xDays:{one:"1",other:"{{count}}"},aboutXWeeks:{one:" 1",other:" {{count}}"},xWeeks:{one:"1",other:"{{count}}"},aboutXMonths:{one:" 1",other:" {{count}}"},xMonths:{one:"1",other:"{{count}}"},aboutXYears:{one:" 1",other:" {{count}}"},xYears:{one:"1",other:"{{count}}"},overXYears:{one:"1 ",other:"{{count}} "},almostXYears:{one:" 1",other:" {{count}}"}},nI=function(t,r,n){var s,a=rI[t];return typeof a=="string"?s=a:r===1?s=a.one:s=a.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?s+" ":s+" ":s},sI={full:"y M d EEEE",long:"y M d",medium:"y.MM.dd",short:"y.MM.dd"},aI={full:"a H mm ss zzzz",long:"a H:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},oI={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},iI={date:Zo({formats:sI,defaultWidth:"full"}),time:Zo({formats:aI,defaultWidth:"full"}),dateTime:Zo({formats:oI,defaultWidth:"full"})},lI={lastWeek:"'' eeee p",yesterday:"'' p",today:"'' p",tomorrow:"'' p",nextWeek:"'' eeee p",other:"P"},cI=function(t,r,n,s){return lI[t]},uI={narrow:["BC","AD"],abbreviated:["BC","AD"],wide:["",""]},dI={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1","2","3","4"]},fI={narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],abbreviated:["1","2","3","4","5","6","7","8","9","10","11","12"],wide:["1","2","3","4","5","6","7","8","9","10","11","12"]},hI={narrow:["","","","","","",""],short:["","","","","","",""],abbreviated:["","","","","","",""],wide:["","","","","","",""]},mI={narrow:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},abbreviated:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},pI={narrow:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},abbreviated:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},gI=function(t,r){var n=Number(t),s=String(r==null?void 0:r.unit);switch(s){case"minute":case"second":return String(n);case"date":return n+"";default:return n+""}},yI={ordinalNumber:gI,era:Qn({values:uI,defaultWidth:"wide"}),quarter:Qn({values:dI,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:Qn({values:fI,defaultWidth:"wide"}),day:Qn({values:hI,defaultWidth:"wide"}),dayPeriod:Qn({values:mI,defaultWidth:"wide",formattingValues:pI,defaultFormattingWidth:"wide"})},vI=/^(\d+)(|)?/i,xI=/\d+/i,bI={narrow:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(|)/i},wI={any:[/^(bc|)/i,/^(ad|)/i]},NI={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234]?/i},jI={any:[/1/i,/2/i,/3/i,/4/i]},SI={narrow:/^(1[012]|[123456789])/,abbreviated:/^(1[012]|[123456789])/i,wide:/^(1[012]|[123456789])/i},kI={any:[/^1?$/,/^2/,/^3/,/^4/,/^5/,/^6/,/^7/,/^8/,/^9/,/^10/,/^11/,/^12/]},DI={narrow:/^[]/,short:/^[]/,abbreviated:/^[]/,wide:/^[]/},CI={any:[/^/,/^/,/^/,/^/,/^/,/^/,/^/]},EI={any:/^(am|pm|||||||)/i},_I={any:{am:/^(am|)/i,pm:/^(pm|)/i,midnight:/^/i,noon:/^/i,morning:/^/i,afternoon:/^/i,evening:/^/i,night:/^/i}},TI={ordinalNumber:Kk({matchPattern:vI,parsePattern:xI,valueCallback:function(t){return parseInt(t,10)}}),era:Xn({matchPatterns:bI,defaultMatchWidth:"wide",parsePatterns:wI,defaultParseWidth:"any"}),quarter:Xn({matchPatterns:NI,defaultMatchWidth:"wide",parsePatterns:jI,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Xn({matchPatterns:SI,defaultMatchWidth:"wide",parsePatterns:kI,defaultParseWidth:"any"}),day:Xn({matchPatterns:DI,defaultMatchWidth:"wide",parsePatterns:CI,defaultParseWidth:"any"}),dayPeriod:Xn({matchPatterns:EI,defaultMatchWidth:"any",parsePatterns:_I,defaultParseWidth:"any"})},et={code:"ko",formatDistance:nI,formatLong:iI,formatRelative:cI,localize:yI,match:TI,options:{weekStartsOn:0,firstWeekContainsDate:1}};const PI=({isOpen:e,onClose:t})=>{const r=Jf(),{notifications:n,unreadCount:s,markAsRead:a,markAllAsRead:i,deleteNotification:l,clearAll:c}=Hk();if(!e)return null;const u=h=>{switch(h){case"payment":return o.jsx(YO,{className:"h-5 w-5"});case"as_request":return o.jsx(ZO,{className:"h-5 w-5"});case"schedule":return o.jsx(fa,{className:"h-5 w-5"});case"work_request":return o.jsx(WO,{className:"h-5 w-5"});default:return o.jsx(Mm,{className:"h-5 w-5"})}},d=h=>{switch(h){case"payment":return"text-green-600 bg-green-50";case"as_request":return"text-yellow-600 bg-yellow-50";case"schedule":return"text-blue-600 bg-blue-50";case"work_request":return"text-purple-600 bg-purple-50";default:return"text-gray-600 bg-gray-50"}},f=h=>{a(h.id),h.link&&(r(h.link),t())};return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-25 z-40",onClick:t}),o.jsxs("div",{className:"fixed right-0 top-16 h-[calc(100vh-4rem)] w-full sm:w-96 bg-white shadow-2xl z-50 flex flex-col",children:[o.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Mm,{className:"h-5 w-5 text-gray-900"}),o.jsx("h2",{className:"text-lg font-bold text-gray-900",children:""}),s>0&&o.jsx("span",{className:"px-2 py-0.5 bg-gray-900 text-white text-xs font-bold rounded-full",children:s})]}),o.jsx("button",{onClick:t,className:"p-1 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx(ft,{className:"h-5 w-5 text-gray-600"})})]}),n.length>0&&o.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-gray-50 border-b border-gray-200",children:[s>0&&o.jsxs("button",{onClick:i,className:"flex items-center gap-1 text-xs text-gray-600 hover:text-gray-900",children:[o.jsx(HO,{className:"h-3 w-3"})," "]}),o.jsxs("button",{onClick:c,className:"flex items-center gap-1 text-xs text-gray-600 hover:text-red-600 ml-auto",children:[o.jsx(rr,{className:"h-3 w-3"})," "]})]}),o.jsx("div",{className:"flex-1 overflow-y-auto",children:n.length===0?o.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center p-8",children:[o.jsx(Mm,{className:"h-12 w-12 text-gray-300 mb-3"}),o.jsx("p",{className:"text-sm text-gray-500",children:" "})]}):o.jsx("div",{className:"divide-y divide-gray-100",children:n.map(h=>o.jsx("div",{className:`p-4 hover:bg-gray-50 transition-colors cursor-pointer ${h.read?"":"bg-blue-50"}`,onClick:()=>f(h),children:o.jsxs("div",{className:"flex gap-3",children:[o.jsx("div",{className:`flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center ${d(h.type)}`,children:u(h.type)}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-start justify-between gap-2",children:[o.jsx("p",{className:`text-sm font-semibold ${h.read?"text-gray-700":"text-gray-900"}`,children:h.title}),!h.read&&o.jsx("span",{className:"flex-shrink-0 w-2 h-2 bg-blue-600 rounded-full mt-1"})]}),o.jsx("p",{className:"text-xs text-gray-600 mt-1 line-clamp-2",children:h.message}),o.jsx("p",{className:"text-xs text-gray-400 mt-1",children:Q3(new Date(h.createdAt),{addSuffix:!0,locale:et})})]}),o.jsx("button",{onClick:y=>{y.stopPropagation(),l(h.id)},className:"flex-shrink-0 p-1 hover:bg-gray-200 rounded transition-colors",children:o.jsx(ft,{className:"h-4 w-4 text-gray-400"})})]})},h.id))})})]})]})},Gs={getAllWorkRequests:async()=>(await Pe.get("/workrequests")).data,getWorkRequestById:async e=>(await Pe.get(`/workrequests/${e}`)).data,createWorkRequest:async e=>{console.log("[workRequestService.createWorkRequest] Input data:",e);const t={project:e.project,requestType:e.requestType,description:e.description,requestDate:e.requestDate instanceof Date?e.requestDate.toISOString():e.requestDate,dueDate:e.dueDate instanceof Date?e.dueDate.toISOString():e.dueDate,requestedBy:e.requestedBy,assignedTo:e.assignedTo,priority:e.priority||"medium",status:e.status||"pending",notes:e.notes||""};return console.log("[workRequestService.createWorkRequest] Sending to backend:",t),(await Pe.post("/workrequests",t)).data},updateWorkRequest:async(e,t)=>{console.log("[workRequestService.updateWorkRequest] Input data:",t);const r={};return t.project!==void 0&&(r.project=t.project),t.requestType!==void 0&&(r.requestType=t.requestType),t.description!==void 0&&(r.description=t.description),t.requestDate!==void 0&&(r.requestDate=t.requestDate instanceof Date?t.requestDate.toISOString():t.requestDate),t.dueDate!==void 0&&(r.dueDate=t.dueDate instanceof Date?t.dueDate.toISOString():t.dueDate),t.requestedBy!==void 0&&(r.requestedBy=t.requestedBy),t.assignedTo!==void 0&&(r.assignedTo=t.assignedTo),t.priority!==void 0&&(r.priority=t.priority),t.status!==void 0&&(r.status=t.status),t.notes!==void 0&&(r.notes=t.notes),t.completedDate!==void 0&&(r.completedDate=t.completedDate instanceof Date?t.completedDate.toISOString():t.completedDate),console.log("[workRequestService.updateWorkRequest] Sending to backend:",r),(await Pe.put(`/workrequests/${e}`,r)).data},deleteWorkRequest:async e=>{await Pe.delete(`/workrequests/${e}`)}},Qs={getAllPayments:async()=>(await Pe.get("/payments")).data,getPaymentById:async e=>(await Pe.get(`/payments/${e}`)).data,createPayment:async e=>{var n,s,a;const t={project_id:e.projectId,request_type:e.category,vendor_name:e.process||"",description:e.purpose||"",amount:e.amount,account_holder:((n=e.bankInfo)==null?void 0:n.accountHolder)||"",bank_name:((s=e.bankInfo)==null?void 0:s.bankName)||"",account_number:((a=e.bankInfo)==null?void 0:a.accountNumber)||"",notes:e.notes||"",itemName:e.itemName||"",materialAmount:e.materialAmount||0,laborAmount:e.laborAmount||0,originalLaborAmount:e.originalLaborAmount||0,applyTaxDeduction:e.applyTaxDeduction||!1,includesVAT:e.includesVAT||!1};return console.log("[paymentService.createPayment] Sending to backend:",t),(await Pe.post("/payments",t)).data},updatePayment:async(e,t)=>{const r={};return t.purpose!==void 0&&(r.description=t.purpose),t.amount!==void 0&&(r.amount=t.amount),t.process!==void 0&&(r.vendor_name=t.process),t.category!==void 0&&(r.request_type=t.category),t.itemName!==void 0&&(r.itemName=t.itemName),t.materialAmount!==void 0&&(r.materialAmount=t.materialAmount),t.laborAmount!==void 0&&(r.laborAmount=t.laborAmount),t.originalLaborAmount!==void 0&&(r.originalLaborAmount=t.originalLaborAmount),t.applyTaxDeduction!==void 0&&(r.applyTaxDeduction=t.applyTaxDeduction),t.includesVAT!==void 0&&(r.includesVAT=t.includesVAT),t.notes!==void 0&&(r.notes=t.notes),t.bankInfo!==void 0&&(t.bankInfo.accountHolder&&(r.account_holder=t.bankInfo.accountHolder),t.bankInfo.bankName&&(r.bank_name=t.bankInfo.bankName),t.bankInfo.accountNumber&&(r.account_number=t.bankInfo.accountNumber)),(await Pe.put(`/payments/${e}`,r)).data},updatePaymentStatus:async(e,t)=>(await Pe.put(`/payments/${e}/status`,{status:t})).data,deletePayment:async e=>{await Pe.delete(`/payments/${e}`)}},kl={getAllASRequests:async()=>(await Pe.get("/as-requests")).data,getASRequestById:async e=>(await Pe.get(`/as-requests/${e}`)).data,createASRequest:async e=>(await Pe.post("/as-requests",e)).data,updateASRequest:async(e,t)=>(await Pe.put(`/as-requests/${e}`,t)).data,deleteASRequest:async e=>{await Pe.delete(`/as-requests/${e}`)}},AI=()=>{var b,x;const{user:e,logout:t}=Ra(),[r,n]=w.useState(!1),[s,a]=w.useState(!1),i=Ws(),{unreadCount:l}=Hk(),[c,u]=w.useState(0),[d,f]=w.useState(0),[h,y]=w.useState(0),g=[{name:"",href:"/dashboard"},{name:"",href:"/projects"},{name:"",href:"/schedule"},{name:"AS ",href:"/after-service",...h>0&&{badge:h}},{name:"",href:"/additional-work"},{name:"",href:"/construction-payment",roles:["admin","manager"]},{name:"",href:"/contractors"},{name:"",href:"/work-request",...c>0&&{badge:c}},{name:"",href:"/specbook"},{name:"",href:"/execution-history"},{name:"",href:"/payments",...d>0&&{badge:d}},{name:"",href:"/quote-inquiry",roles:["admin","manager"]}];w.useEffect(()=>{const S=async()=>{if(e)try{const A=(await Gs.getAllWorkRequests()).filter(M=>M.assignedTo===e.name&&M.status==="pending").length;u(A)}catch(_){console.error("Failed to load pending work requests:",_)}};S();const k=setInterval(S,3e4);return()=>clearInterval(k)},[e]),w.useEffect(()=>{const S=async()=>{if(e)try{const A=(await Qs.getAllPayments()).filter(M=>M.status==="pending").length;f(A)}catch(_){console.error("Failed to load pending payments:",_)}};S();const k=setInterval(S,3e4);return()=>clearInterval(k)},[e]),w.useEffect(()=>{const S=async()=>{if(e)try{const A=(await kl.getAllASRequests()).filter(M=>M.status==="in-progress").length;y(A)}catch(_){console.error("Failed to load in-progress AS requests:",_)}};S();const k=setInterval(S,3e4);return()=>clearInterval(k)},[e]);const m=g.filter(S=>!S.roles||S.roles.includes((e==null?void 0:e.role)||"")),N=((b=g.find(S=>S.href===i.pathname))==null?void 0:b.name)||"",p=(()=>{const S=i.pathname;return["/projects","/schedule","/after-service","/additional-work","/construction-payment","/contractors","/work-request","/payments"].includes(S)?()=>{const _=new CustomEvent("headerAddButtonClick");window.dispatchEvent(_)}:null})();return o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[o.jsxs("div",{className:Gn("fixed inset-0 z-40 lg:hidden",r?"block":"hidden"),children:[o.jsx("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-50",onClick:()=>n(!1)}),o.jsxs("div",{className:"fixed inset-y-0 left-0 flex w-64 flex-col bg-white",children:[o.jsxs("div",{className:"flex h-16 items-center justify-between px-6 border-b border-gray-200",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"HV LAB"}),o.jsx("button",{onClick:()=>n(!1),className:"text-sm text-gray-600 hover:text-gray-900",children:""})]}),o.jsx("nav",{className:"flex-1 space-y-1 px-4 py-4",children:m.map(S=>o.jsx(eg,{to:S.href,className:({isActive:k})=>Gn("block px-4 py-3 text-sm font-medium border-l-2 transition-colors relative",k?"border-gray-900 bg-gray-50 text-gray-900":"border-transparent text-gray-600 hover:border-gray-400 hover:bg-gray-50"),onClick:()=>n(!1),children:o.jsxs("span",{className:"flex items-center justify-between",children:[o.jsx("span",{children:S.name}),S.badge&&S.badge>0&&o.jsx("span",{className:"ml-2 inline-flex items-center justify-center px-2 py-0.5 text-xs font-bold leading-none text-white bg-red-600 rounded-full",children:S.badge>99?"99+":S.badge})]})},S.name))}),o.jsx("div",{className:"border-t border-gray-200 px-4 py-4",children:o.jsx("button",{onClick:t,className:"w-full px-4 py-3 text-sm font-medium text-gray-600 hover:bg-gray-50 text-left",children:""})})]})]}),o.jsx("div",{className:"hidden lg:fixed lg:inset-y-0 lg:flex lg:w-64 lg:flex-col",children:o.jsxs("div",{className:"flex flex-col bg-white border-r border-gray-200",children:[o.jsx("div",{className:"flex h-16 items-center px-6 border-b border-gray-200",children:o.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"HV LAB"})}),o.jsx("nav",{className:"flex-1 space-y-1 px-4 py-4",children:m.map(S=>o.jsx(eg,{to:S.href,className:({isActive:k})=>Gn("block px-4 py-3 text-sm font-medium border-l-2 transition-colors relative",k?"border-gray-900 bg-gray-50 text-gray-900":"border-transparent text-gray-600 hover:border-gray-400 hover:bg-gray-50"),children:o.jsxs("span",{className:"flex items-center justify-between",children:[o.jsx("span",{children:S.name}),S.badge&&S.badge>0&&o.jsx("span",{className:"ml-2 inline-flex items-center justify-center px-2 py-0.5 text-xs font-bold leading-none text-white bg-red-600 rounded-full",children:S.badge>99?"99+":S.badge})]})},S.name))}),o.jsx("div",{className:"border-t border-gray-200 px-4 py-4",children:o.jsx("button",{onClick:t,className:"w-full px-4 py-3 text-sm font-medium text-gray-600 hover:bg-gray-50 text-left",children:""})})]})}),o.jsxs("div",{className:"lg:pl-64",children:[o.jsx("header",{className:"sticky top-0 z-30 bg-white border-b border-gray-200",children:o.jsxs("div",{className:"flex items-center justify-between px-4 py-3 sm:px-6 lg:px-8",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("button",{onClick:()=>n(!0),className:"lg:hidden p-2 text-gray-600 hover:text-gray-900 -ml-2","aria-label":" ",children:o.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),N&&o.jsx("h1",{className:"text-lg font-bold text-gray-900",children:N})]}),o.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-6 ml-auto",children:[p&&o.jsx("button",{onClick:p,className:"lg:hidden p-2 text-gray-900 hover:text-gray-700","aria-label":"",children:o.jsx(uv,{className:"h-6 w-6"})}),o.jsxs("button",{onClick:()=>a(!s),className:"hidden sm:block relative p-2 text-gray-600 hover:text-gray-900 transition-colors","aria-label":"",children:[o.jsx("svg",{className:"h-5 w-5 sm:h-6 sm:w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),l>0&&o.jsx("span",{className:"absolute top-1 right-1 flex items-center justify-center h-4 w-4 bg-red-600 text-white text-[10px] font-bold rounded-full",children:l>9?"9+":l})]}),o.jsxs("div",{className:"hidden sm:flex items-center space-x-2 sm:space-x-3",children:[o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"text-sm font-medium text-gray-900",children:e==null?void 0:e.name}),o.jsx("p",{className:"text-xs text-gray-500",children:e==null?void 0:e.role})]}),o.jsx("div",{className:"h-8 w-8 sm:h-9 sm:w-9 bg-gray-900 text-white flex items-center justify-center text-xs font-bold rounded-full",children:(x=e==null?void 0:e.name)==null?void 0:x.substring(0,1)})]})]})]})}),o.jsx("main",{className:"py-[10px] md:py-6 lg:py-8",children:o.jsx("div",{className:"px-3 sm:px-4 md:px-6 lg:px-8",children:o.jsx(vP,{})})})]}),o.jsx(PI,{isOpen:s,onClose:()=>a(!1)})]})},Uu={getAllSchedules:async()=>(await Pe.get("/schedules")).data,getScheduleById:async e=>(await Pe.get(`/schedules/${e}`)).data,createSchedule:async e=>(await Pe.post("/schedules",{project:e.project,title:e.title,type:e.type||"other",phase:e.phase||"",startDate:e.startDate,endDate:e.endDate,allDay:e.allDay!==void 0?e.allDay:!0,assignedTo:e.assignedTo||[],description:e.description,location:e.location,priority:e.priority||"medium",progress:e.progress||0,isCompleted:e.isCompleted||!1,asRequestId:e.asRequestId,time:e.time})).data,updateSchedule:async(e,t)=>(await Pe.put(`/schedules/${e}`,t)).data,deleteSchedule:async e=>{await Pe.delete(`/schedules/${e}`)}},Hu={getAllProjects:async()=>(await Pe.get("/projects")).data,getProjectById:async e=>(await Pe.get(`/projects/${e}`)).data,createProject:async e=>{const t={name:e.name,client:typeof e.client=="string"?e.client:e.client.name,location:typeof e.location=="string"?e.location:e.location.address,status:e.status||"planning",manager:e.manager,description:e.description||""};if(e.startDate){const n=typeof e.startDate=="string"?new Date(e.startDate):e.startDate;t.startDate=n.toISOString().split("T")[0]}if(e.endDate){const n=typeof e.endDate=="string"?new Date(e.endDate):e.endDate;t.endDate=n.toISOString().split("T")[0]}return console.log("[projectService.createProject] Sending to backend:",t),(await Pe.post("/projects",t)).data},updateProject:async(e,t)=>{var n;const r={};if(t.name!==void 0&&(r.name=t.name),t.client!==void 0&&(r.client=typeof t.client=="string"?t.client:t.client.name),t.location!==void 0&&(r.location=typeof t.location=="string"?t.location:t.location.address),t.startDate!==void 0)if(typeof t.startDate=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(t.startDate))r.startDate=t.startDate;else{const s=typeof t.startDate=="string"?new Date(t.startDate):t.startDate;r.startDate=s.toISOString().split("T")[0]}if(t.endDate!==void 0)if(typeof t.endDate=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(t.endDate))r.endDate=t.endDate;else{const s=typeof t.endDate=="string"?new Date(t.endDate):t.endDate;r.endDate=s.toISOString().split("T")[0]}t.status!==void 0&&(r.status=t.status),t.manager!==void 0&&(r.manager=t.manager),t.description!==void 0&&(r.description=t.description),t.meetingNotes!==void 0&&(r.meetingNotes=t.meetingNotes),t.customerRequests!==void 0&&(r.customerRequests=t.customerRequests),t.entrancePassword!==void 0&&(r.entrancePassword=t.entrancePassword),t.sitePassword!==void 0&&(r.sitePassword=t.sitePassword),console.log("[projectService.updateProject] Sending to backend:",r);try{return(await Pe.put(`/projects/${e}`,r)).data}catch(s){const a=s;throw console.error("[projectService.updateProject] Error:",s),console.error("[projectService.updateProject] Error response:",(n=a.response)==null?void 0:n.data),s}},deleteProject:async e=>{await Pe.delete(`/projects/${e}`)}},Ss={getAllContractors:async()=>(await Pe.get("/contractors")).data,getContractorById:async e=>(await Pe.get(`/contractors/${e}`)).data,createContractor:async e=>(await Pe.post("/contractors",e)).data,updateContractor:async(e,t)=>(await Pe.put(`/contractors/${e}`,t)).data,deleteContractor:async e=>{await Pe.delete(`/contractors/${e}`)}},zu={getAllConstructionPayments:async()=>(await Pe.get("/construction-payments")).data,getConstructionPaymentById:async e=>(await Pe.get(`/construction-payments/${e}`)).data,createConstructionPayment:async e=>(await Pe.post("/construction-payments",e)).data,updateConstructionPayment:async(e,t)=>(await Pe.put(`/construction-payments/${e}`,t)).data,deleteConstructionPayment:async e=>{await Pe.delete(`/construction-payments/${e}`)}},dn=Bk()(Uk(e=>({projects:[],schedules:[],payments:[],contractors:[],constructionPayments:[],asRequests:[],executionRecords:[],setProjects:t=>e({projects:t}),addProject:t=>e(r=>{const n={id:t.id,project:t.name,client:t.client,totalAmount:t.contractAmount,vatType:"percentage",vatPercentage:100,vatAmount:0,payments:[]};return{projects:[t,...r.projects],constructionPayments:[n,...r.constructionPayments]}}),updateProject:(t,r)=>e(n=>({projects:n.projects.map(s=>s.id===t?{...s,...r}:s)})),deleteProject:t=>e(r=>({projects:r.projects.filter(n=>n.id!==t),constructionPayments:r.constructionPayments.filter(n=>n.id!==t)})),setSchedules:t=>e({schedules:t}),addSchedule:t=>e(r=>({schedules:[t,...r.schedules]})),updateSchedule:(t,r)=>e(n=>({schedules:n.schedules.map(s=>s.id===t?{...s,...r}:s)})),deleteSchedule:t=>e(r=>({schedules:r.schedules.filter(n=>n.id!==t)})),setPayments:t=>e({payments:t}),addPayment:t=>e(r=>({payments:[t,...r.payments]})),updatePayment:(t,r)=>e(n=>({payments:n.payments.map(s=>s.id===t?{...s,...r}:s)})),deletePayment:t=>e(r=>({payments:r.payments.filter(n=>n.id!==t)})),setContractors:t=>e({contractors:t}),addContractor:t=>e(r=>({contractors:[t,...r.contractors]})),updateContractor:(t,r)=>e(n=>({contractors:n.contractors.map(s=>s.id===t?{...s,...r}:s)})),deleteContractor:t=>e(r=>({contractors:r.contractors.filter(n=>n.id!==t)})),setConstructionPayments:t=>e({constructionPayments:t}),addConstructionPayment:t=>e(r=>({constructionPayments:[t,...r.constructionPayments]})),updateConstructionPayment:(t,r)=>e(n=>({constructionPayments:n.constructionPayments.map(s=>s.id===t?{...s,...r}:s)})),deleteConstructionPayment:t=>e(r=>({constructionPayments:r.constructionPayments.filter(n=>n.id!==t)})),setASRequests:t=>e({asRequests:t}),addASRequest:t=>e(r=>({asRequests:[t,...r.asRequests]})),updateASRequest:(t,r)=>e(n=>({asRequests:n.asRequests.map(s=>s.id===t?{...s,...r}:s)})),deleteASRequest:t=>e(r=>({asRequests:r.asRequests.filter(n=>n.id!==t)})),setExecutionRecords:t=>e({executionRecords:t}),addExecutionRecord:t=>e(r=>({executionRecords:[t,...r.executionRecords]})),updateExecutionRecord:(t,r)=>e(n=>({executionRecords:n.executionRecords.map(s=>s.id===t?{...s,...r}:s)})),deleteExecutionRecord:t=>e(r=>({executionRecords:r.executionRecords.filter(n=>n.id!==t)})),loadPaymentsFromAPI:async()=>{try{const r=(await Qs.getAllPayments()).map(n=>({id:String(n.id),project:n.project_name,purpose:n.description,process:n.vendor_name,itemName:n.item_name||"",amount:n.amount,materialAmount:n.material_amount||0,laborAmount:n.labor_amount||0,originalLaborAmount:n.original_labor_amount||0,applyTaxDeduction:n.apply_tax_deduction===1,includesVAT:n.includes_vat===1,category:n.request_type,status:n.status,urgency:"normal",requestedBy:n.requester_name,requestDate:new Date(n.created_at),approvalDate:n.approved_at?new Date(n.approved_at):void 0,bankInfo:{accountHolder:n.account_holder||"",bankName:n.bank_name||"",accountNumber:n.account_number||""},attachments:[],notes:n.notes||""}));e({payments:r})}catch(t){throw console.error("Failed to load payments from API:",t),t}},addPaymentToAPI:async t=>{try{const r={projectId:t.project,purpose:t.purpose,process:t.process,itemName:t.itemName,amount:t.amount,category:t.category,urgency:t.urgency,requestedBy:t.requestedBy,bankInfo:t.bankInfo,notes:t.notes,attachments:[],materialAmount:t.materialAmount||0,laborAmount:t.laborAmount||0,originalLaborAmount:t.originalLaborAmount||0,applyTaxDeduction:t.applyTaxDeduction||!1,includesVAT:t.includesVAT||!1};console.log("[addPaymentToAPI] Sending payment data:",r),await Qs.createPayment(r);const s=(await Qs.getAllPayments()).map(a=>({id:String(a.id),project:a.project_name,purpose:a.description,process:a.vendor_name,itemName:a.item_name||"",amount:a.amount,materialAmount:a.material_amount||0,laborAmount:a.labor_amount||0,originalLaborAmount:a.original_labor_amount||0,applyTaxDeduction:a.apply_tax_deduction===1,includesVAT:a.includes_vat===1,category:a.request_type,status:a.status,urgency:"normal",requestedBy:a.requester_name,requestDate:new Date(a.created_at),approvalDate:a.approved_at?new Date(a.approved_at):void 0,bankInfo:{accountHolder:a.account_holder||"",bankName:a.bank_name||"",accountNumber:a.account_number||""},attachments:[],notes:a.notes||""}));e({payments:s})}catch(r){throw console.error("Failed to add payment to API:",r),r}},updatePaymentInAPI:async(t,r)=>{try{r.status&&Object.keys(r).length===1?await Qs.updatePaymentStatus(t,r.status):await Qs.updatePayment(t,{projectId:r.project,purpose:r.purpose,process:r.process,itemName:r.itemName,amount:r.amount,category:r.category,urgency:r.urgency,bankInfo:r.bankInfo,notes:r.notes});const s=(await Qs.getAllPayments()).map(a=>({id:String(a.id),project:a.project_name,purpose:a.description,process:a.vendor_name,itemName:a.item_name||"",amount:a.amount,materialAmount:a.material_amount||0,laborAmount:a.labor_amount||0,originalLaborAmount:a.original_labor_amount||0,applyTaxDeduction:a.apply_tax_deduction===1,includesVAT:a.includes_vat===1,category:a.request_type,status:a.status,urgency:"normal",requestedBy:a.requester_name,requestDate:new Date(a.created_at),approvalDate:a.approved_at?new Date(a.approved_at):void 0,bankInfo:{accountHolder:a.account_holder||"",bankName:a.bank_name||"",accountNumber:a.account_number||""},attachments:[],notes:a.notes||""}));e({payments:s})}catch(n){throw console.error("Failed to update payment in API:",n),n}},deletePaymentFromAPI:async t=>{try{await Qs.deletePayment(t),e(r=>({payments:r.payments.filter(n=>n.id!==t)}))}catch(r){throw console.error("Failed to delete payment from API:",r),r}},loadSchedulesFromAPI:async()=>{try{const t=await Uu.getAllSchedules();console.log(" LOAD SCHEDULES - Raw API response sample:",t[0]);const r=t.map(n=>{var a;console.log(" Processing schedule:",{id:n._id,title:n.title,assigneeNames:n.assigneeNames,assignedTo:n.assignedTo,assignedToType:typeof n.assignedTo,assignedToLength:Array.isArray(n.assignedTo)?n.assignedTo.length:"not array"});const s=n.assigneeNames||((a=n.assignedTo)==null?void 0:a.map(i=>typeof i=="object"?i.name:i))||[];return console.log(" Final attendees:",s),{id:n._id,title:n.title,start:new Date(n.startDate),end:new Date(n.endDate),type:n.type,project:typeof n.project=="object"?n.project.name:n.project,location:n.location,attendees:s,description:n.description,time:n.time}});e({schedules:r})}catch(t){throw console.error("Failed to load schedules from API:",t),t}},addScheduleToAPI:async t=>{var r;try{console.log(" addScheduleToAPI - Input schedule:",{project:t.project,attendees:t.attendees,title:t.title});const n=await Uu.createSchedule({project:t.project||"",title:t.title,type:t.type,startDate:t.start,endDate:t.end,allDay:!t.time||t.time==="-",location:t.location,assignedTo:t.attendees||[],description:t.description,asRequestId:t.asRequestId,time:t.time});console.log(" addScheduleToAPI - API Response:",{id:n._id,assigneeNames:n.assigneeNames,assignedTo:n.assignedTo,project:n.project});const s=t.attendees||[];let a=n.assigneeNames||((r=n.assignedTo)==null?void 0:r.map(l=>typeof l=="object"?l.name:l))||[];s.length>0&&a.length>s.length&&(console.log(" Server added extra attendees, filtering to match request:",{requested:s,serverReturned:a}),a=s);const i={id:n._id,title:n.title,start:new Date(n.startDate),end:new Date(n.endDate),type:n.type,project:typeof n.project=="object"?n.project.name:n.project,location:n.location,attendees:a,description:n.description,time:n.time};console.log(" addScheduleToAPI - Final schedule attendees:",i.attendees),e(l=>({schedules:[i,...l.schedules]}))}catch(n){throw console.error("Failed to add schedule to API:",n),n}},updateScheduleInAPI:async(t,r)=>{var n,s,a;try{console.log(" updateScheduleInAPI called with:",{id:t,updatedSchedule:r});const i=await Uu.updateSchedule(t,{project:r.project,title:r.title,type:r.type,startDate:r.start,endDate:r.end,location:r.location,description:r.description,assignedTo:r.attendees||[],time:r.time});console.log(" updateScheduleInAPI response:",i);const l={id:i._id,title:i.title,start:new Date(i.startDate),end:new Date(i.endDate),type:i.type,project:typeof i.project=="object"?i.project.name:i.project,location:i.location,attendees:i.assigneeNames||((n=i.assignedTo)==null?void 0:n.map(c=>typeof c=="object"?c.name:c))||[],description:i.description,time:i.time};e(c=>({schedules:c.schedules.map(u=>u.id===t?l:u)}))}catch(i){throw console.error("Failed to update schedule in API:",i),console.error("Error details:",{message:i instanceof Error?i.message:"Unknown error",response:i&&typeof i=="object"&&"response"in i?(s=i.response)==null?void 0:s.data:void 0,status:i&&typeof i=="object"&&"response"in i?(a=i.response)==null?void 0:a.status:void 0}),i}},deleteScheduleFromAPI:async t=>{try{await Uu.deleteSchedule(t),e(r=>({schedules:r.schedules.filter(n=>n.id!==t)}))}catch(r){throw console.error("Failed to delete schedule from API:",r),r}},loadProjectsFromAPI:async()=>{try{const r=(await Hu.getAllProjects()).map(n=>{var s,a;return{id:n._id||n.id,name:n.name,client:typeof n.client=="object"?n.client.name:n.client||"",location:typeof n.location=="object"?n.location.address:n.location||n.address||"",status:n.status==="inProgress"?"in-progress":n.status==="onHold"?"on-hold":n.status,progress:n.progress||0,startDate:n.startDate||n.start_date?new Date(n.startDate||n.start_date):void 0,endDate:n.endDate||n.end_date?new Date(n.endDate||n.end_date):void 0,contractAmount:n.budget||n.contractAmount||0,spent:n.actualCost||n.spent||0,manager:n.manager||"",team:[],description:n.description||"",meetingNotes:((s=n.meetingNotes)==null?void 0:s.map(i=>({id:i.id,content:i.content,date:new Date(i.date)})))||[],customerRequests:((a=n.customerRequests)==null?void 0:a.map(i=>({id:i.id,content:i.content,completed:i.completed,createdAt:new Date(i.createdAt)})))||[],entrancePassword:n.entrancePassword||"",sitePassword:n.sitePassword||""}});e({projects:r})}catch(t){throw console.error("Failed to load projects from API:",t),t}},addProjectToAPI:async t=>{var r,n;try{const s=await Hu.createProject({name:t.name,client:t.client,location:t.location,startDate:t.startDate,endDate:t.endDate,status:t.status,contractAmount:t.contractAmount,spent:t.spent,manager:t.manager,team:t.team,progress:t.progress,description:t.description}),a={id:s._id||s.id,name:s.name,client:typeof s.client=="object"?s.client.name:s.client||"",location:typeof s.location=="object"?s.location.address:s.location||s.address||"",status:s.status==="inProgress"?"in-progress":s.status==="onHold"?"on-hold":s.status,progress:s.progress||0,startDate:s.startDate||s.start_date?new Date(s.startDate||s.start_date):void 0,endDate:s.endDate||s.end_date?new Date(s.endDate||s.end_date):void 0,contractAmount:s.budget||s.contractAmount||0,spent:s.actualCost||s.spent||0,manager:s.manager||"",team:[],description:s.description||"",meetingNotes:((r=s.meetingNotes)==null?void 0:r.map(i=>({id:i.id,content:i.content,date:new Date(i.date)})))||[],customerRequests:((n=s.customerRequests)==null?void 0:n.map(i=>({id:i.id,content:i.content,completed:i.completed,createdAt:new Date(i.createdAt)})))||[],entrancePassword:s.entrancePassword||"",sitePassword:s.sitePassword||""};e(i=>({projects:[a,...i.projects]}))}catch(s){throw console.error("Failed to add project to API:",s),s}},updateProjectInAPI:async(t,r)=>{var n,s;try{const a=await Hu.updateProject(t,r),i={id:a._id||a.id,name:a.name,client:typeof a.client=="object"?a.client.name:a.client||"",location:typeof a.location=="object"?a.location.address:a.location||a.address||"",status:a.status==="inProgress"?"in-progress":a.status==="onHold"?"on-hold":a.status,progress:a.progress||0,startDate:a.startDate||a.start_date?new Date(a.startDate||a.start_date):void 0,endDate:a.endDate||a.end_date?new Date(a.endDate||a.end_date):void 0,contractAmount:a.budget||a.contractAmount||0,spent:a.actualCost||a.spent||0,manager:a.manager||"",team:[],description:a.description||"",meetingNotes:((n=a.meetingNotes)==null?void 0:n.map(l=>({id:l.id,content:l.content,date:new Date(l.date)})))||[],customerRequests:((s=a.customerRequests)==null?void 0:s.map(l=>({id:l.id,content:l.content,completed:l.completed,createdAt:new Date(l.createdAt)})))||[],entrancePassword:a.entrancePassword||"",sitePassword:a.sitePassword||""};e(l=>({projects:l.projects.map(c=>c.id===t?i:c)}))}catch(a){throw console.error("Failed to update project in API:",a),a}},deleteProjectFromAPI:async t=>{try{await Hu.deleteProject(t),e(r=>({projects:r.projects.filter(n=>n.id!==t)}))}catch(r){throw console.error("Failed to delete project from API:",r),r}},loadContractorsFromAPI:async()=>{try{const r=(await Ss.getAllContractors()).map(n=>({id:n._id,rank:n.rank,companyName:n.companyName,name:n.name,process:n.process,contact:n.contact,accountNumber:n.accountNumber,notes:n.notes,createdAt:new Date(n.createdAt),updatedAt:new Date(n.updatedAt)}));e({contractors:r})}catch(t){throw console.error("Failed to load contractors from API:",t),t}},addContractorToAPI:async t=>{try{const r=await Ss.createContractor({rank:t.rank,companyName:t.companyName,name:t.name,process:t.process,contact:t.contact,accountNumber:t.accountNumber,notes:t.notes}),n={id:r._id,rank:r.rank,companyName:r.companyName,name:r.name,process:r.process,contact:r.contact,accountNumber:r.accountNumber,notes:r.notes,createdAt:new Date(r.createdAt),updatedAt:new Date(r.updatedAt)};e(s=>({contractors:[n,...s.contractors]}))}catch(r){throw console.error("Failed to add contractor to API:",r),r}},updateContractorInAPI:async(t,r)=>{try{const n=await Ss.updateContractor(t,{rank:r.rank,companyName:r.companyName,name:r.name,process:r.process,contact:r.contact,accountNumber:r.accountNumber,notes:r.notes}),s={id:n._id,rank:n.rank,companyName:n.companyName,name:n.name,process:n.process,contact:n.contact,accountNumber:n.accountNumber,notes:n.notes,createdAt:new Date(n.createdAt),updatedAt:new Date(n.updatedAt)};e(a=>({contractors:a.contractors.map(i=>i.id===t?s:i)}))}catch(n){throw console.error("Failed to update contractor in API:",n),n}},deleteContractorFromAPI:async t=>{try{await Ss.deleteContractor(t),e(r=>({contractors:r.contractors.filter(n=>n.id!==t)}))}catch(r){throw console.error("Failed to delete contractor from API:",r),r}},loadConstructionPaymentsFromAPI:async()=>{try{const r=(await zu.getAllConstructionPayments()).map(n=>{var a;let s;return n.expectedPaymentDates&&(s={contract:n.expectedPaymentDates.contract?new Date(n.expectedPaymentDates.contract):void 0,start:n.expectedPaymentDates.start?new Date(n.expectedPaymentDates.start):void 0,middle:n.expectedPaymentDates.middle?new Date(n.expectedPaymentDates.middle):void 0,final:n.expectedPaymentDates.final?new Date(n.expectedPaymentDates.final):void 0}),{id:n._id,project:n.project,client:n.client,totalAmount:n.totalAmount,vatType:n.vatType,vatPercentage:n.vatPercentage,vatAmount:n.vatAmount,expectedPaymentDates:s,payments:((a=n.payments)==null?void 0:a.map(i=>{var u;const l=i.date?new Date(i.date):new Date,c=isNaN(l.getTime())?new Date:l;return{type:i.type||((u=i.types)==null?void 0:u[0])||"",amount:i.amount,date:c,method:i.method,notes:i.notes}}))||[]}});e({constructionPayments:r})}catch(t){throw console.error("Failed to load construction payments from API:",t),t}},addConstructionPaymentToAPI:async t=>{var r;try{const n=await zu.createConstructionPayment(t),s={id:n._id,project:n.project,client:n.client,totalAmount:n.totalAmount,vatType:n.vatType,vatPercentage:n.vatPercentage,vatAmount:n.vatAmount,payments:((r=n.payments)==null?void 0:r.map(a=>{var c;const i=a.date?new Date(a.date):new Date,l=isNaN(i.getTime())?new Date:i;return{type:a.type||((c=a.types)==null?void 0:c[0])||"",amount:a.amount,date:l,method:a.method,notes:a.notes}}))||[]};e(a=>({constructionPayments:[s,...a.constructionPayments]}))}catch(n){throw console.error("Failed to add construction payment to API:",n),n}},updateConstructionPaymentInAPI:async(t,r)=>{var n;try{const s=await zu.updateConstructionPayment(t,r);let a;s.expectedPaymentDates&&(a={contract:s.expectedPaymentDates.contract?new Date(s.expectedPaymentDates.contract):void 0,start:s.expectedPaymentDates.start?new Date(s.expectedPaymentDates.start):void 0,middle:s.expectedPaymentDates.middle?new Date(s.expectedPaymentDates.middle):void 0,final:s.expectedPaymentDates.final?new Date(s.expectedPaymentDates.final):void 0});const i={id:s._id,project:s.project,client:s.client,totalAmount:s.totalAmount,vatType:s.vatType,vatPercentage:s.vatPercentage,vatAmount:s.vatAmount,expectedPaymentDates:a,payments:((n=s.payments)==null?void 0:n.map(l=>{var c;return{type:l.type||((c=l.types)==null?void 0:c[0])||"",amount:l.amount,date:new Date(l.date),method:l.method,notes:l.notes}}))||[]};e(l=>({constructionPayments:l.constructionPayments.map(c=>c.id===t?i:c)}))}catch(s){throw console.error("Failed to update construction payment in API:",s),s}},deleteConstructionPaymentFromAPI:async t=>{try{await zu.deleteConstructionPayment(t),e(r=>({constructionPayments:r.constructionPayments.filter(n=>n.id!==t)}))}catch(r){throw console.error("Failed to delete construction payment from API:",r),r}},loadASRequestsFromAPI:async()=>{try{const r=(await kl.getAllASRequests()).map(n=>({id:n._id,project:n.project,client:n.client,requestDate:new Date(n.requestDate),siteAddress:n.siteAddress,entrancePassword:n.entrancePassword,description:n.description,scheduledVisitDate:n.scheduledVisitDate?new Date(n.scheduledVisitDate):void 0,scheduledVisitTime:n.scheduledVisitTime,assignedTo:n.assignedTo||[],completionDate:n.completionDate?new Date(n.completionDate):void 0,notes:n.notes,status:n.status||"pending"}));e({asRequests:r})}catch(t){throw console.error("Failed to load AS requests from API:",t),t}},addASRequestToAPI:async t=>{try{const r=await kl.createASRequest(t),n={id:r._id,project:r.project,client:r.client,requestDate:new Date(r.requestDate),siteAddress:r.siteAddress,entrancePassword:r.entrancePassword,description:r.description,scheduledVisitDate:r.scheduledVisitDate?new Date(r.scheduledVisitDate):void 0,scheduledVisitTime:r.scheduledVisitTime,assignedTo:Array.isArray(r.assignedTo)?r.assignedTo:[],completionDate:r.completionDate?new Date(r.completionDate):void 0,notes:r.notes};return e(s=>({asRequests:[n,...s.asRequests]})),n}catch(r){throw console.error("Failed to add AS request to API:",r),r}},updateASRequestInAPI:async(t,r)=>{try{const n=await kl.updateASRequest(t,r),s={id:n._id,project:n.project,client:n.client,requestDate:new Date(n.requestDate),siteAddress:n.siteAddress,entrancePassword:n.entrancePassword,description:n.description,scheduledVisitDate:n.scheduledVisitDate?new Date(n.scheduledVisitDate):void 0,scheduledVisitTime:n.scheduledVisitTime,assignedTo:Array.isArray(n.assignedTo)?n.assignedTo:[],completionDate:n.completionDate?new Date(n.completionDate):void 0,notes:n.notes,status:n.status||"pending"};e(a=>({asRequests:a.asRequests.map(i=>i.id===t?s:i)}))}catch(n){throw console.error("Failed to update AS request in API:",n),n}},deleteASRequestFromAPI:async t=>{try{await kl.deleteASRequest(t),e(r=>({asRequests:r.asRequests.filter(n=>n.id!==t)}))}catch(r){throw console.error("Failed to delete AS request from API:",r),r}}}),{name:"interior-management-storage",storage:{getItem:e=>{var c,u,d,f,h,y,g;const t=localStorage.getItem(e);if(!t)return null;const{state:r}=JSON.parse(t),n=((c=r.projects)==null?void 0:c.map(m=>({...m,startDate:m.startDate?new Date(m.startDate):void 0,endDate:m.endDate?new Date(m.endDate):void 0,contractAmount:m.contractAmount!==void 0?m.contractAmount:m.budget||0})))||[],s=((u=r.constructionPayments)==null?void 0:u.map(m=>{var N;return{...m,vatType:m.vatType||"percentage",vatPercentage:m.vatPercentage??100,vatAmount:m.vatAmount??0,payments:((N=m.payments)==null?void 0:N.map(v=>({...v,date:new Date(v.date)})))||[]}}))||[],a=new Set(s.map(m=>m.id)),i=n.filter(m=>!a.has(m.id)).map(m=>({id:m.id,project:m.name,client:m.client,totalAmount:m.contractAmount||0,vatType:"percentage",vatPercentage:100,vatAmount:0,payments:[]})),l=[...s,...i];return{state:{...r,projects:n,schedules:((d=r.schedules)==null?void 0:d.map(m=>({...m,start:new Date(m.start),end:new Date(m.end)})))||[],payments:((f=r.payments)==null?void 0:f.map(m=>({...m,requestDate:new Date(m.requestDate),approvalDate:m.approvalDate?new Date(m.approvalDate):void 0})))||[],contractors:((h=r.contractors)==null?void 0:h.map(m=>({...m,createdAt:new Date(m.createdAt),updatedAt:new Date(m.updatedAt)})))||[],constructionPayments:l,asRequests:((y=r.asRequests)==null?void 0:y.map(m=>({...m,requestDate:new Date(m.requestDate),scheduledVisitDate:m.scheduledVisitDate?new Date(m.scheduledVisitDate):void 0,completionDate:m.completionDate?new Date(m.completionDate):void 0})))||[],executionRecords:((g=r.executionRecords)==null?void 0:g.map(m=>({...m,date:new Date(m.date),createdAt:new Date(m.createdAt),updatedAt:new Date(m.updatedAt)})))||[]}}},setItem:(e,t)=>{const r=JSON.stringify(t);localStorage.setItem(e,r)},removeItem:e=>localStorage.removeItem(e)}}));var Jc=e=>e.type==="checkbox",Ga=e=>e instanceof Date,yr=e=>e==null;const Zk=e=>typeof e=="object";var Ft=e=>!yr(e)&&!Array.isArray(e)&&Zk(e)&&!Ga(e),MI=e=>Ft(e)&&e.target?Jc(e.target)?e.target.checked:e.target.value:e,RI=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,OI=(e,t)=>e.has(RI(t)),$I=e=>{const t=e.constructor&&e.constructor.prototype;return Ft(t)&&t.hasOwnProperty("isPrototypeOf")},fv=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function qt(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(fv&&(e instanceof Blob||n))&&(r||Ft(e)))if(t=r?[]:Object.create(Object.getPrototypeOf(e)),!r&&!$I(e))t=e;else for(const s in e)e.hasOwnProperty(s)&&(t[s]=qt(e[s]));else return e;return t}var hh=e=>/^\w*$/.test(e),$t=e=>e===void 0,hv=e=>Array.isArray(e)?e.filter(Boolean):[],mv=e=>hv(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Ae=(e,t,r)=>{if(!t||!Ft(e))return r;const n=(hh(t)?[t]:mv(t)).reduce((s,a)=>yr(s)?s:s[a],e);return $t(n)||n===e?$t(e[t])?r:e[t]:n},zn=e=>typeof e=="boolean",xt=(e,t,r)=>{let n=-1;const s=hh(t)?[t]:mv(t),a=s.length,i=a-1;for(;++n<a;){const l=s[n];let c=r;if(n!==i){const u=e[l];c=Ft(u)||Array.isArray(u)?u:isNaN(+s[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const Ib={BLUR:"blur",FOCUS_OUT:"focusout"},jn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ms={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},II=F.createContext(null);II.displayName="HookFormContext";var LI=(e,t,r,n=!0)=>{const s={defaultValues:t._defaultValues};for(const a in e)Object.defineProperty(s,a,{get:()=>{const i=a;return t._proxyFormState[i]!==jn.all&&(t._proxyFormState[i]=!n||jn.all),e[i]}});return s};const FI=typeof window<"u"?F.useLayoutEffect:F.useEffect;var Wr=e=>typeof e=="string",WI=(e,t,r,n,s)=>Wr(e)?(n&&t.watch.add(e),Ae(r,e,s)):Array.isArray(e)?e.map(a=>(n&&t.watch.add(a),Ae(r,a))):(n&&(t.watchAll=!0),r),bg=e=>yr(e)||!Zk(e);function na(e,t,r=new WeakSet){if(bg(e)||bg(t))return e===t;if(Ga(e)&&Ga(t))return e.getTime()===t.getTime();const n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const a of n){const i=e[a];if(!s.includes(a))return!1;if(a!=="ref"){const l=t[a];if(Ga(i)&&Ga(l)||Ft(i)&&Ft(l)||Array.isArray(i)&&Array.isArray(l)?!na(i,l,r):i!==l)return!1}}return!0}var BI=(e,t,r,n,s)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:s||!0}}:{},Il=e=>Array.isArray(e)?e:[e],Lb=()=>{let e=[];return{get observers(){return e},next:s=>{for(const a of e)a.next&&a.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(a=>a!==s)}}),unsubscribe:()=>{e=[]}}};function eD(e,t){const r={};for(const n in e)if(e.hasOwnProperty(n)){const s=e[n],a=t[n];if(s&&Ft(s)&&a){const i=eD(s,a);Ft(i)&&(r[n]=i)}else e[n]&&(r[n]=a)}return r}var Dr=e=>Ft(e)&&!Object.keys(e).length,pv=e=>e.type==="file",Sn=e=>typeof e=="function",mf=e=>{if(!fv)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},tD=e=>e.type==="select-multiple",gv=e=>e.type==="radio",UI=e=>gv(e)||Jc(e),Im=e=>mf(e)&&e.isConnected;function HI(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=$t(e)?n++:e[t[n++]];return e}function zI(e){for(const t in e)if(e.hasOwnProperty(t)&&!$t(e[t]))return!1;return!0}function Ot(e,t){const r=Array.isArray(t)?t:hh(t)?[t]:mv(t),n=r.length===1?e:HI(e,r),s=r.length-1,a=r[s];return n&&delete n[a],s!==0&&(Ft(n)&&Dr(n)||Array.isArray(n)&&zI(n))&&Ot(e,r.slice(0,-1)),e}var VI=e=>{for(const t in e)if(Sn(e[t]))return!0;return!1};function rD(e){return Array.isArray(e)||Ft(e)&&!VI(e)}function wg(e,t={}){for(const r in e)rD(e[r])?(t[r]=Array.isArray(e[r])?[]:{},wg(e[r],t[r])):yr(e[r])||(t[r]=!0);return t}function Po(e,t,r){r||(r=wg(t));for(const n in e)rD(e[n])?$t(t)||bg(r[n])?r[n]=wg(e[n],Array.isArray(e[n])?[]:{}):Po(e[n],yr(t)?{}:t[n],r[n]):r[n]=!na(e[n],t[n]);return r}const Fb={value:!1,isValid:!1},Wb={value:!0,isValid:!0};var nD=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!$t(e[0].attributes.value)?$t(e[0].value)||e[0].value===""?Wb:{value:e[0].value,isValid:!0}:Wb:Fb}return Fb},sD=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>$t(e)?e:t?e===""?NaN:e&&+e:r&&Wr(e)?new Date(e):n?n(e):e;const Bb={isValid:!1,value:null};var aD=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,Bb):Bb;function Ub(e){const t=e.ref;return pv(t)?t.files:gv(t)?aD(e.refs).value:tD(t)?[...t.selectedOptions].map(({value:r})=>r):Jc(t)?nD(e.refs).value:sD($t(t.value)?e.ref.value:t.value,e)}var YI=(e,t,r,n)=>{const s={};for(const a of e){const i=Ae(t,a);i&&xt(s,a,i._f)}return{criteriaMode:r,names:[...e],fields:s,shouldUseNativeValidation:n}},pf=e=>e instanceof RegExp,hl=e=>$t(e)?e:pf(e)?e.source:Ft(e)?pf(e.value)?e.value.source:e.value:e,Hb=e=>({isOnSubmit:!e||e===jn.onSubmit,isOnBlur:e===jn.onBlur,isOnChange:e===jn.onChange,isOnAll:e===jn.all,isOnTouch:e===jn.onTouched});const zb="AsyncFunction";var qI=e=>!!e&&!!e.validate&&!!(Sn(e.validate)&&e.validate.constructor.name===zb||Ft(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===zb)),KI=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),Vb=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const Ll=(e,t,r,n)=>{for(const s of r||Object.keys(e)){const a=Ae(e,s);if(a){const{_f:i,...l}=a;if(i){if(i.refs&&i.refs[0]&&t(i.refs[0],s)&&!n)return!0;if(i.ref&&t(i.ref,i.name)&&!n)return!0;if(Ll(l,t))break}else if(Ft(l)&&Ll(l,t))break}}};function Yb(e,t,r){const n=Ae(e,r);if(n||hh(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const a=s.join("."),i=Ae(t,a),l=Ae(e,a);if(i&&!Array.isArray(i)&&r!==a)return{name:r};if(l&&l.type)return{name:a,error:l};if(l&&l.root&&l.root.type)return{name:`${a}.root`,error:l.root};s.pop()}return{name:r}}var GI=(e,t,r,n)=>{r(e);const{name:s,...a}=e;return Dr(a)||Object.keys(a).length>=Object.keys(t).length||Object.keys(a).find(i=>t[i]===(!n||jn.all))},QI=(e,t,r)=>!e||!t||e===t||Il(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),XI=(e,t,r,n,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(t||e):(r?n.isOnBlur:s.isOnBlur)?!e:(r?n.isOnChange:s.isOnChange)?e:!0,JI=(e,t)=>!hv(Ae(e,t)).length&&Ot(e,t),ZI=(e,t,r)=>{const n=Il(Ae(e,r));return xt(n,"root",t[r]),xt(e,r,n),e};function qb(e,t,r="validate"){if(Wr(e)||Array.isArray(e)&&e.every(Wr)||zn(e)&&!e)return{type:r,message:Wr(e)?e:"",ref:t}}var _o=e=>Ft(e)&&!pf(e)?e:{value:e,message:""},Kb=async(e,t,r,n,s,a)=>{const{ref:i,refs:l,required:c,maxLength:u,minLength:d,min:f,max:h,pattern:y,validate:g,name:m,valueAsNumber:N,mount:v}=e._f,p=Ae(r,m);if(!v||t.has(m))return{};const b=l?l[0]:i,x=H=>{s&&b.reportValidity&&(b.setCustomValidity(zn(H)?"":H||""),b.reportValidity())},S={},k=gv(i),_=Jc(i),A=k||_,M=(N||pv(i))&&$t(i.value)&&$t(p)||mf(i)&&i.value===""||p===""||Array.isArray(p)&&!p.length,$=BI.bind(null,m,n,S),V=(H,Y,K,ce=ms.maxLength,ee=ms.minLength)=>{const de=H?Y:K;S[m]={type:H?ce:ee,message:de,ref:i,...$(H?ce:ee,de)}};if(a?!Array.isArray(p)||!p.length:c&&(!A&&(M||yr(p))||zn(p)&&!p||_&&!nD(l).isValid||k&&!aD(l).isValid)){const{value:H,message:Y}=Wr(c)?{value:!!c,message:c}:_o(c);if(H&&(S[m]={type:ms.required,message:Y,ref:b,...$(ms.required,Y)},!n))return x(Y),S}if(!M&&(!yr(f)||!yr(h))){let H,Y;const K=_o(h),ce=_o(f);if(!yr(p)&&!isNaN(p)){const ee=i.valueAsNumber||p&&+p;yr(K.value)||(H=ee>K.value),yr(ce.value)||(Y=ee<ce.value)}else{const ee=i.valueAsDate||new Date(p),de=oe=>new Date(new Date().toDateString()+" "+oe),Z=i.type=="time",U=i.type=="week";Wr(K.value)&&p&&(H=Z?de(p)>de(K.value):U?p>K.value:ee>new Date(K.value)),Wr(ce.value)&&p&&(Y=Z?de(p)<de(ce.value):U?p<ce.value:ee<new Date(ce.value))}if((H||Y)&&(V(!!H,K.message,ce.message,ms.max,ms.min),!n))return x(S[m].message),S}if((u||d)&&!M&&(Wr(p)||a&&Array.isArray(p))){const H=_o(u),Y=_o(d),K=!yr(H.value)&&p.length>+H.value,ce=!yr(Y.value)&&p.length<+Y.value;if((K||ce)&&(V(K,H.message,Y.message),!n))return x(S[m].message),S}if(y&&!M&&Wr(p)){const{value:H,message:Y}=_o(y);if(pf(H)&&!p.match(H)&&(S[m]={type:ms.pattern,message:Y,ref:i,...$(ms.pattern,Y)},!n))return x(Y),S}if(g){if(Sn(g)){const H=await g(p,r),Y=qb(H,b);if(Y&&(S[m]={...Y,...$(ms.validate,Y.message)},!n))return x(Y.message),S}else if(Ft(g)){let H={};for(const Y in g){if(!Dr(H)&&!n)break;const K=qb(await g[Y](p,r),b,Y);K&&(H={...K,...$(Y,K.message)},x(K.message),n&&(S[m]=H))}if(!Dr(H)&&(S[m]={ref:b,...H},!n))return S}}return x(!0),S};const eL={mode:jn.onSubmit,reValidateMode:jn.onChange,shouldFocusError:!0};function tL(e={}){let t={...eL,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Sn(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},s=Ft(t.defaultValues)||Ft(t.values)?qt(t.defaultValues||t.values)||{}:{},a=t.shouldUnregister?{}:qt(s),i={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const h={array:Lb(),state:Lb()},y=t.criteriaMode===jn.all,g=E=>C=>{clearTimeout(u),u=setTimeout(E,C)},m=async E=>{if(!t.disabled&&(d.isValid||f.isValid||E)){const C=t.resolver?Dr((await _()).errors):await M(n,!0);C!==r.isValid&&h.state.next({isValid:C})}},N=(E,C)=>{!t.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((E||Array.from(l.mount)).forEach(O=>{O&&(C?xt(r.validatingFields,O,C):Ot(r.validatingFields,O))}),h.state.next({validatingFields:r.validatingFields,isValidating:!Dr(r.validatingFields)}))},v=(E,C=[],O,J,te=!0,se=!0)=>{if(J&&O&&!t.disabled){if(i.action=!0,se&&Array.isArray(Ae(n,E))){const fe=O(Ae(n,E),J.argA,J.argB);te&&xt(n,E,fe)}if(se&&Array.isArray(Ae(r.errors,E))){const fe=O(Ae(r.errors,E),J.argA,J.argB);te&&xt(r.errors,E,fe),JI(r.errors,E)}if((d.touchedFields||f.touchedFields)&&se&&Array.isArray(Ae(r.touchedFields,E))){const fe=O(Ae(r.touchedFields,E),J.argA,J.argB);te&&xt(r.touchedFields,E,fe)}(d.dirtyFields||f.dirtyFields)&&(r.dirtyFields=Po(s,a)),h.state.next({name:E,isDirty:V(E,C),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else xt(a,E,C)},p=(E,C)=>{xt(r.errors,E,C),h.state.next({errors:r.errors})},b=E=>{r.errors=E,h.state.next({errors:r.errors,isValid:!1})},x=(E,C,O,J)=>{const te=Ae(n,E);if(te){const se=Ae(a,E,$t(O)?Ae(s,E):O);$t(se)||J&&J.defaultChecked||C?xt(a,E,C?se:Ub(te._f)):K(E,se),i.mount&&m()}},S=(E,C,O,J,te)=>{let se=!1,fe=!1;const ke={name:E};if(!t.disabled){if(!O||J){(d.isDirty||f.isDirty)&&(fe=r.isDirty,r.isDirty=ke.isDirty=V(),se=fe!==ke.isDirty);const we=na(Ae(s,E),C);fe=!!Ae(r.dirtyFields,E),we?Ot(r.dirtyFields,E):xt(r.dirtyFields,E,!0),ke.dirtyFields=r.dirtyFields,se=se||(d.dirtyFields||f.dirtyFields)&&fe!==!we}if(O){const we=Ae(r.touchedFields,E);we||(xt(r.touchedFields,E,O),ke.touchedFields=r.touchedFields,se=se||(d.touchedFields||f.touchedFields)&&we!==O)}se&&te&&h.state.next(ke)}return se?ke:{}},k=(E,C,O,J)=>{const te=Ae(r.errors,E),se=(d.isValid||f.isValid)&&zn(C)&&r.isValid!==C;if(t.delayError&&O?(c=g(()=>p(E,O)),c(t.delayError)):(clearTimeout(u),c=null,O?xt(r.errors,E,O):Ot(r.errors,E)),(O?!na(te,O):te)||!Dr(J)||se){const fe={...J,...se&&zn(C)?{isValid:C}:{},errors:r.errors,name:E};r={...r,...fe},h.state.next(fe)}},_=async E=>{N(E,!0);const C=await t.resolver(a,t.context,YI(E||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return N(E),C},A=async E=>{const{errors:C}=await _(E);if(E)for(const O of E){const J=Ae(C,O);J?xt(r.errors,O,J):Ot(r.errors,O)}else r.errors=C;return C},M=async(E,C,O={valid:!0})=>{for(const J in E){const te=E[J];if(te){const{_f:se,...fe}=te;if(se){const ke=l.array.has(se.name),we=te._f&&qI(te._f);we&&d.validatingFields&&N([se.name],!0);const Ee=await Kb(te,l.disabled,a,y,t.shouldUseNativeValidation&&!C,ke);if(we&&d.validatingFields&&N([se.name]),Ee[se.name]&&(O.valid=!1,C))break;!C&&(Ae(Ee,se.name)?ke?ZI(r.errors,Ee,se.name):xt(r.errors,se.name,Ee[se.name]):Ot(r.errors,se.name))}!Dr(fe)&&await M(fe,C,O)}}return O.valid},$=()=>{for(const E of l.unMount){const C=Ae(n,E);C&&(C._f.refs?C._f.refs.every(O=>!Im(O)):!Im(C._f.ref))&&he(E)}l.unMount=new Set},V=(E,C)=>!t.disabled&&(E&&C&&xt(a,E,C),!na(oe(),s)),H=(E,C,O)=>WI(E,l,{...i.mount?a:$t(C)?s:Wr(E)?{[E]:C}:C},O,C),Y=E=>hv(Ae(i.mount?a:s,E,t.shouldUnregister?Ae(s,E,[]):[])),K=(E,C,O={})=>{const J=Ae(n,E);let te=C;if(J){const se=J._f;se&&(!se.disabled&&xt(a,E,sD(C,se)),te=mf(se.ref)&&yr(C)?"":C,tD(se.ref)?[...se.ref.options].forEach(fe=>fe.selected=te.includes(fe.value)):se.refs?Jc(se.ref)?se.refs.forEach(fe=>{(!fe.defaultChecked||!fe.disabled)&&(Array.isArray(te)?fe.checked=!!te.find(ke=>ke===fe.value):fe.checked=te===fe.value||!!te)}):se.refs.forEach(fe=>fe.checked=fe.value===te):pv(se.ref)?se.ref.value="":(se.ref.value=te,se.ref.type||h.state.next({name:E,values:qt(a)})))}(O.shouldDirty||O.shouldTouch)&&S(E,te,O.shouldTouch,O.shouldDirty,!0),O.shouldValidate&&U(E)},ce=(E,C,O)=>{for(const J in C){if(!C.hasOwnProperty(J))return;const te=C[J],se=E+"."+J,fe=Ae(n,se);(l.array.has(E)||Ft(te)||fe&&!fe._f)&&!Ga(te)?ce(se,te,O):K(se,te,O)}},ee=(E,C,O={})=>{const J=Ae(n,E),te=l.array.has(E),se=qt(C);xt(a,E,se),te?(h.array.next({name:E,values:qt(a)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&O.shouldDirty&&h.state.next({name:E,dirtyFields:Po(s,a),isDirty:V(E,se)})):J&&!J._f&&!yr(se)?ce(E,se,O):K(E,se,O),Vb(E,l)&&h.state.next({...r,name:E}),h.state.next({name:i.mount?E:void 0,values:qt(a)})},de=async E=>{i.mount=!0;const C=E.target;let O=C.name,J=!0;const te=Ae(n,O),se=we=>{J=Number.isNaN(we)||Ga(we)&&isNaN(we.getTime())||na(we,Ae(a,O,we))},fe=Hb(t.mode),ke=Hb(t.reValidateMode);if(te){let we,Ee;const rt=C.type?Ub(te._f):MI(E),We=E.type===Ib.BLUR||E.type===Ib.FOCUS_OUT,Xe=!KI(te._f)&&!t.resolver&&!Ae(r.errors,O)&&!te._f.deps||XI(We,Ae(r.touchedFields,O),r.isSubmitted,ke,fe),Ke=Vb(O,l,We);xt(a,O,rt),We?(!C||!C.readOnly)&&(te._f.onBlur&&te._f.onBlur(E),c&&c(0)):te._f.onChange&&te._f.onChange(E);const ct=S(O,rt,We),Je=!Dr(ct)||Ke;if(!We&&h.state.next({name:O,type:E.type,values:qt(a)}),Xe)return(d.isValid||f.isValid)&&(t.mode==="onBlur"?We&&m():We||m()),Je&&h.state.next({name:O,...Ke?{}:ct});if(!We&&Ke&&h.state.next({...r}),t.resolver){const{errors:Jt}=await _([O]);if(se(rt),J){const Lr=Yb(r.errors,n,O),I=Yb(Jt,n,Lr.name||O);we=I.error,O=I.name,Ee=Dr(Jt)}}else N([O],!0),we=(await Kb(te,l.disabled,a,y,t.shouldUseNativeValidation))[O],N([O]),se(rt),J&&(we?Ee=!1:(d.isValid||f.isValid)&&(Ee=await M(n,!0)));J&&(te._f.deps&&(!Array.isArray(te._f.deps)||te._f.deps.length>0)&&U(te._f.deps),k(O,Ee,we,ct))}},Z=(E,C)=>{if(Ae(r.errors,C)&&E.focus)return E.focus(),1},U=async(E,C={})=>{let O,J;const te=Il(E);if(t.resolver){const se=await A($t(E)?E:te);O=Dr(se),J=E?!te.some(fe=>Ae(se,fe)):O}else E?(J=(await Promise.all(te.map(async se=>{const fe=Ae(n,se);return await M(fe&&fe._f?{[se]:fe}:fe)}))).every(Boolean),!(!J&&!r.isValid)&&m()):J=O=await M(n);return h.state.next({...!Wr(E)||(d.isValid||f.isValid)&&O!==r.isValid?{}:{name:E},...t.resolver||!E?{isValid:O}:{},errors:r.errors}),C.shouldFocus&&!J&&Ll(n,Z,E?te:l.mount),J},oe=(E,C)=>{let O={...i.mount?a:s};return C&&(O=eD(C.dirtyFields?r.dirtyFields:r.touchedFields,O)),$t(E)?O:Wr(E)?Ae(O,E):E.map(J=>Ae(O,J))},G=(E,C)=>({invalid:!!Ae((C||r).errors,E),isDirty:!!Ae((C||r).dirtyFields,E),error:Ae((C||r).errors,E),isValidating:!!Ae(r.validatingFields,E),isTouched:!!Ae((C||r).touchedFields,E)}),W=E=>{E&&Il(E).forEach(C=>Ot(r.errors,C)),h.state.next({errors:E?r.errors:{}})},D=(E,C,O)=>{const J=(Ae(n,E,{_f:{}})._f||{}).ref,te=Ae(r.errors,E)||{},{ref:se,message:fe,type:ke,...we}=te;xt(r.errors,E,{...we,...C,ref:J}),h.state.next({name:E,errors:r.errors,isValid:!1}),O&&O.shouldFocus&&J&&J.focus&&J.focus()},T=(E,C)=>Sn(E)?h.state.subscribe({next:O=>"values"in O&&E(H(void 0,C),O)}):H(E,C,!0),z=E=>h.state.subscribe({next:C=>{QI(E.name,C.name,E.exact)&&GI(C,E.formState||d,q,E.reRenderRoot)&&E.callback({values:{...a},...r,...C,defaultValues:s})}}).unsubscribe,ne=E=>(i.mount=!0,f={...f,...E.formState},z({...E,formState:f})),he=(E,C={})=>{for(const O of E?Il(E):l.mount)l.mount.delete(O),l.array.delete(O),C.keepValue||(Ot(n,O),Ot(a,O)),!C.keepError&&Ot(r.errors,O),!C.keepDirty&&Ot(r.dirtyFields,O),!C.keepTouched&&Ot(r.touchedFields,O),!C.keepIsValidating&&Ot(r.validatingFields,O),!t.shouldUnregister&&!C.keepDefaultValue&&Ot(s,O);h.state.next({values:qt(a)}),h.state.next({...r,...C.keepDirty?{isDirty:V()}:{}}),!C.keepIsValid&&m()},ue=({disabled:E,name:C})=>{(zn(E)&&i.mount||E||l.disabled.has(C))&&(E?l.disabled.add(C):l.disabled.delete(C))},B=(E,C={})=>{let O=Ae(n,E);const J=zn(C.disabled)||zn(t.disabled);return xt(n,E,{...O||{},_f:{...O&&O._f?O._f:{ref:{name:E}},name:E,mount:!0,...C}}),l.mount.add(E),O?ue({disabled:zn(C.disabled)?C.disabled:t.disabled,name:E}):x(E,!0,C.value),{...J?{disabled:C.disabled||t.disabled}:{},...t.progressive?{required:!!C.required,min:hl(C.min),max:hl(C.max),minLength:hl(C.minLength),maxLength:hl(C.maxLength),pattern:hl(C.pattern)}:{},name:E,onChange:de,onBlur:de,ref:te=>{if(te){B(E,C),O=Ae(n,E);const se=$t(te.value)&&te.querySelectorAll&&te.querySelectorAll("input,select,textarea")[0]||te,fe=UI(se),ke=O._f.refs||[];if(fe?ke.find(we=>we===se):se===O._f.ref)return;xt(n,E,{_f:{...O._f,...fe?{refs:[...ke.filter(Im),se,...Array.isArray(Ae(s,E))?[{}]:[]],ref:{type:se.type,name:E}}:{ref:se}}}),x(E,!1,void 0,se)}else O=Ae(n,E,{}),O._f&&(O._f.mount=!1),(t.shouldUnregister||C.shouldUnregister)&&!(OI(l.array,E)&&i.action)&&l.unMount.add(E)}}},le=()=>t.shouldFocusError&&Ll(n,Z,l.mount),Se=E=>{zn(E)&&(h.state.next({disabled:E}),Ll(n,(C,O)=>{const J=Ae(n,O);J&&(C.disabled=J._f.disabled||E,Array.isArray(J._f.refs)&&J._f.refs.forEach(te=>{te.disabled=J._f.disabled||E}))},0,!1))},je=(E,C)=>async O=>{let J;O&&(O.preventDefault&&O.preventDefault(),O.persist&&O.persist());let te=qt(a);if(h.state.next({isSubmitting:!0}),t.resolver){const{errors:se,values:fe}=await _();r.errors=se,te=qt(fe)}else await M(n);if(l.disabled.size)for(const se of l.disabled)Ot(te,se);if(Ot(r.errors,"root"),Dr(r.errors)){h.state.next({errors:{}});try{await E(te,O)}catch(se){J=se}}else C&&await C({...r.errors},O),le(),setTimeout(le);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Dr(r.errors)&&!J,submitCount:r.submitCount+1,errors:r.errors}),J)throw J},Re=(E,C={})=>{Ae(n,E)&&($t(C.defaultValue)?ee(E,qt(Ae(s,E))):(ee(E,C.defaultValue),xt(s,E,qt(C.defaultValue))),C.keepTouched||Ot(r.touchedFields,E),C.keepDirty||(Ot(r.dirtyFields,E),r.isDirty=C.defaultValue?V(E,qt(Ae(s,E))):V()),C.keepError||(Ot(r.errors,E),d.isValid&&m()),h.state.next({...r}))},L=(E,C={})=>{const O=E?qt(E):s,J=qt(O),te=Dr(E),se=te?s:J;if(C.keepDefaultValues||(s=O),!C.keepValues){if(C.keepDirtyValues){const fe=new Set([...l.mount,...Object.keys(Po(s,a))]);for(const ke of Array.from(fe))Ae(r.dirtyFields,ke)?xt(se,ke,Ae(a,ke)):ee(ke,Ae(se,ke))}else{if(fv&&$t(E))for(const fe of l.mount){const ke=Ae(n,fe);if(ke&&ke._f){const we=Array.isArray(ke._f.refs)?ke._f.refs[0]:ke._f.ref;if(mf(we)){const Ee=we.closest("form");if(Ee){Ee.reset();break}}}}if(C.keepFieldsRef)for(const fe of l.mount)ee(fe,Ae(se,fe));else n={}}a=t.shouldUnregister?C.keepDefaultValues?qt(s):{}:qt(se),h.array.next({values:{...se}}),h.state.next({values:{...se}})}l={mount:C.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},i.mount=!d.isValid||!!C.keepIsValid||!!C.keepDirtyValues,i.watch=!!t.shouldUnregister,h.state.next({submitCount:C.keepSubmitCount?r.submitCount:0,isDirty:te?!1:C.keepDirty?r.isDirty:!!(C.keepDefaultValues&&!na(E,s)),isSubmitted:C.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:te?{}:C.keepDirtyValues?C.keepDefaultValues&&a?Po(s,a):r.dirtyFields:C.keepDefaultValues&&E?Po(s,E):C.keepDirty?r.dirtyFields:{},touchedFields:C.keepTouched?r.touchedFields:{},errors:C.keepErrors?r.errors:{},isSubmitSuccessful:C.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:s})},ae=(E,C)=>L(Sn(E)?E(a):E,C),P=(E,C={})=>{const O=Ae(n,E),J=O&&O._f;if(J){const te=J.refs?J.refs[0]:J.ref;te.focus&&(te.focus(),C.shouldSelect&&Sn(te.select)&&te.select())}},q=E=>{r={...r,...E}},R={control:{register:B,unregister:he,getFieldState:G,handleSubmit:je,setError:D,_subscribe:z,_runSchema:_,_focusError:le,_getWatch:H,_getDirty:V,_setValid:m,_setFieldArray:v,_setDisabledField:ue,_setErrors:b,_getFieldArray:Y,_reset:L,_resetDefaultValues:()=>Sn(t.defaultValues)&&t.defaultValues().then(E=>{ae(E,t.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:$,_disableForm:Se,_subjects:h,_proxyFormState:d,get _fields(){return n},get _formValues(){return a},get _state(){return i},set _state(E){i=E},get _defaultValues(){return s},get _names(){return l},set _names(E){l=E},get _formState(){return r},get _options(){return t},set _options(E){t={...t,...E}}},subscribe:ne,trigger:U,register:B,handleSubmit:je,watch:T,setValue:ee,getValues:oe,reset:ae,resetField:Re,clearErrors:W,unregister:he,setError:D,setFocus:P,getFieldState:G};return{...R,formControl:R}}function $i(e={}){const t=F.useRef(void 0),r=F.useRef(void 0),[n,s]=F.useState({isDirty:!1,isValidating:!1,isLoading:Sn(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Sn(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!Sn(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:i,...l}=tL(e);t.current={...l,formState:n}}const a=t.current.control;return a._options=e,FI(()=>{const i=a._subscribe({formState:a._proxyFormState,callback:()=>s({...a._formState}),reRenderRoot:!0});return s(l=>({...l,isReady:!0})),a._formState.isReady=!0,i},[a]),F.useEffect(()=>a._disableForm(e.disabled),[a,e.disabled]),F.useEffect(()=>{e.mode&&(a._options.mode=e.mode),e.reValidateMode&&(a._options.reValidateMode=e.reValidateMode)},[a,e.mode,e.reValidateMode]),F.useEffect(()=>{e.errors&&(a._setErrors(e.errors),a._focusError())},[a,e.errors]),F.useEffect(()=>{e.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[a,e.shouldUnregister]),F.useEffect(()=>{if(a._proxyFormState.isDirty){const i=a._getDirty();i!==n.isDirty&&a._subjects.state.next({isDirty:i})}},[a,n.isDirty]),F.useEffect(()=>{e.values&&!na(e.values,r.current)?(a._reset(e.values,{keepFieldsRef:!0,...a._options.resetOptions}),r.current=e.values,s(i=>({...i}))):a._resetDefaultValues()},[a,e.values]),F.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),t.current.formState=LI(n,a),t.current}const Gb=["","","","","",""],oD=({event:e,slotInfo:t,defaultProjectName:r,onClose:n,onSave:s,onDelete:a})=>{const{register:i,handleSubmit:l,setValue:c,watch:u,formState:{errors:d},reset:f}=$i({defaultValues:{projectId:"",title:"",date:"",description:""}}),{projects:h}=dn(),[y,g]=w.useState([]),[m,N]=w.useState(""),[v,p]=w.useState(!1),[b,x]=w.useState(""),[S,k]=w.useState(9),[_,A]=w.useState(0),[M,$]=w.useState(""),V=u("projectId");w.useEffect(()=>{if(V){const U=h.find(oe=>oe.id===V||oe.id===parseInt(V)||oe.id.toString()===V.toString());console.log(" Selected project:",U==null?void 0:U.name),console.log(" Project team:",U==null?void 0:U.team),console.log(" Current selectedMembers:",y)}},[V,h,y]),w.useEffect(()=>{console.log(" Modal mount - initializing states"),g([]),$(""),N("")},[]),w.useEffect(()=>{if(console.log(" ScheduleModal useEffect triggered:",{hasEvent:!!e,eventId:e==null?void 0:e.id,hasSlotInfo:!!t,hasMergedEvents:!!(e!=null&&e.mergedEventIds)}),e&&e.id){console.log(" ScheduleModal processing event:",{title:e.title,projectId:e.projectId,projectName:e.projectName,start:e.start,assignedTo:e.assignedTo,time:e.time});const U=e.originalTitle||e.title,oe=/ - (|) \d{1,2}$/,G=U.replace(oe,"");if(c("title",G,{shouldValidate:!1,shouldDirty:!1}),c("date",Te(e.start,"yyyy-MM-dd"),{shouldValidate:!1,shouldDirty:!1}),c("description",e.description||"",{shouldValidate:!1,shouldDirty:!1}),e.projectId&&e.projectId!==""&&e.projectId!=="undefined")console.log(" Setting projectId from event:",e.projectId),c("projectId",e.projectId,{shouldValidate:!1,shouldDirty:!1}),$("");else if(e.projectName){const D=h.find(T=>T.name===e.projectName);console.log(" Finding project by name:",e.projectName,"found:",D),D?(console.log(" Setting projectId from found project:",D.id),c("projectId",D.id,{shouldValidate:!1,shouldDirty:!1}),$("")):(console.log(" Project not found, leaving empty"),c("projectId","",{shouldValidate:!1,shouldDirty:!1}),$(""))}else console.log(" No project info, leaving empty"),c("projectId","",{shouldValidate:!1,shouldDirty:!1}),$("");const W=e.assignedTo||e.attendees||[];if(console.log(" Setting selectedMembers to:",W),g(Array.isArray(W)?W:[]),e.time&&e.time!=="-"){console.log(" Setting time from event:",{eventTime:e.time,parsedHours:e.time.split(":")[0],parsedMinutes:e.time.split(":")[1]}),p(!0);const[D,T]=e.time.split(":"),z=parseInt(D,10),ne=parseInt(T,10);z>=12?(x(""),k(z===12?12:z-12)):(x(""),k(z===0?12:z)),A(ne),console.log(" Time state set:",{hasTime:!0,period:z>=12?"":"",hour:z>=12?z===12?12:z-12:z===0?12:z,minute:ne})}else console.log(" No time in event, setting hasTime to false"),p(!1),x(""),k(9),A(0)}else if(t&&!e&&(console.log(" New schedule from slot:",t),f({projectId:"",title:"",date:Te(t.start,"yyyy-MM-dd"),description:""}),console.log(" New schedule - resetting selectedMembers to empty array"),g([]),$(""),r)){const U=h.find(oe=>oe.name===r);U&&c("projectId",U.id,{shouldValidate:!1,shouldDirty:!1})}},[e==null?void 0:e.id]);const H=U=>{console.log(" toggleMember called with:",U),console.log(" Current selectedMembers before toggle:",y),g(oe=>{console.log(" Previous members in setState:",oe);const G=oe.includes(U)?oe.filter(W=>W!==U):[...oe,U];return console.log(" Updated members after toggle:",G),G})},Y=()=>{const U="HV LAB";y.includes(U)?g(oe=>oe.filter(G=>G!==U)):g(oe=>[...oe,U])},K=()=>{const U="";y.includes(U)?g(oe=>oe.filter(G=>G!==U)):g(oe=>[...oe,U])},ce=()=>{const U="";y.includes(U)?g(oe=>oe.filter(G=>G!==U)):g(oe=>[...oe,U])},ee=()=>{m.trim()&&!y.includes(m.trim())&&(g(U=>[...U,m.trim()]),N(""))},de=U=>{g(oe=>oe.filter(G=>G!==U))},Z=async U=>{console.log(" Form onSubmit called with data:",U),console.log(" selectedMembers:",y),console.log(" hasTime state:",v),console.log(" timePeriod:",b,"timeHour:",S,"timeMinute:",_),console.log(" Available projects:",h.map(he=>({id:he.id,name:he.name,idType:typeof he.id}))),console.log(" Merged event IDs:",e==null?void 0:e.mergedEventIds);const oe=/ - (|) \d{1,2}$/,G=U.title.replace(oe,"").trim();let W="",D="";if(U.projectId){const he=h.find(ue=>ue.id===U.projectId||ue.id===parseInt(U.projectId)||ue.id.toString()===U.projectId.toString());console.log(" Looking for project with id:",U.projectId,"type:",typeof U.projectId),console.log(" Found project:",he),W=(he==null?void 0:he.name)||"",D=U.projectId}else W="",D="";console.log(" Final projectId:",D,"projectName:",W,"cleanedTitle:",G);const T=new Date(U.date);let z="-";if(v){let he=S;b===""&&S!==12?he=S+12:b===""&&S===12&&(he=0),z=`${he.toString().padStart(2,"0")}:${_.toString().padStart(2,"0")}`,console.log(" Time calculated:",z)}else console.log(" No time set (hasTime is false)");const ne={...e,title:G,start:T,end:T,projectId:D,projectName:W,assignedTo:y,description:U.description||"",time:z,mergedEventIds:e==null?void 0:e.mergedEventIds};console.log(" Calling onSave with newEvent:",ne);try{await s(ne),console.log(" onSave completed successfully")}catch(he){throw console.error(" onSave failed:",he),he}};return console.log(" Rendering ScheduleModal with selectedMembers:",y),o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-3 md:p-4",children:o.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex items-center justify-between p-4 md:p-6 border-b",children:[o.jsx("h2",{className:"text-lg md:text-xl font-semibold",children:e?" ":"  "}),o.jsx("button",{onClick:n,className:"p-1.5 md:p-2 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx(ft,{className:"h-5 w-5"})})]}),o.jsxs("form",{onSubmit:l(Z),className:"p-4 md:p-6 space-y-3 md:space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),o.jsxs("select",{...i("projectId"),className:"input w-full",children:[o.jsx("option",{value:""}),h.filter(U=>e!=null&&e.isASVisit?!0:U.status!=="completed").map(U=>o.jsx("option",{value:U.id,children:U.name},U.id))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  *"}),o.jsx("input",{...i("title",{required:" "}),type:"text",className:"input w-full"}),d.title&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(d.title.message)})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"}),o.jsx("input",{...i("date",{required:" "}),type:"date",className:"input w-full"}),d.date&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(d.date.message)})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),o.jsx("div",{className:"mb-2",children:o.jsx("button",{type:"button",onClick:()=>p(!v),className:`px-3 py-1.5 text-xs rounded border transition-colors ${v?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:v?" ":"  (-)"})}),v&&o.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[o.jsxs("div",{className:"flex gap-1",children:[o.jsx("button",{type:"button",onClick:()=>x(""),className:`px-3 py-1.5 text-xs rounded border transition-colors ${b===""?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:""}),o.jsx("button",{type:"button",onClick:()=>x(""),className:`px-3 py-1.5 text-xs rounded border transition-colors ${b===""?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:""})]}),o.jsx("select",{value:S,onChange:U=>k(parseInt(U.target.value)),className:"flex-1 min-w-[80px] max-w-[120px] px-2 py-1.5 text-sm border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-gray-500",children:[12,1,2,3,4,5,6,7,8,9,10,11].map(U=>o.jsxs("option",{value:U,children:[U,""]},U))}),o.jsx("select",{value:_,onChange:U=>A(parseInt(U.target.value)),className:"flex-1 min-w-[80px] max-w-[120px] px-2 py-1.5 text-sm border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-gray-500",children:[0,10,20,30,40,50].map(U=>o.jsxs("option",{value:U,children:[U,""]},U))})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" (  )"}),o.jsxs("div",{className:"flex flex-wrap gap-1.5 mb-2",children:[o.jsx("button",{type:"button",onClick:Y,className:`px-2.5 py-1.5 rounded border transition-colors text-sm ${y.includes("HV LAB")?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:"HV LAB"}),o.jsx("button",{type:"button",onClick:K,className:`px-2.5 py-1.5 rounded border transition-colors text-sm ${y.includes("")?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:""}),o.jsx("button",{type:"button",onClick:ce,className:`px-2.5 py-1.5 rounded border transition-colors text-sm ${y.includes("")?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:""}),Gb.map(U=>o.jsx("button",{type:"button",onClick:()=>H(U),className:`px-2.5 py-1.5 rounded border transition-colors text-sm ${y.includes(U)?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:U},U)),y.filter(U=>!Gb.includes(U)&&U!=="HV LAB"&&U!==""&&U!=="").map(U=>o.jsxs("button",{type:"button",onClick:()=>de(U),className:"px-2.5 py-1.5 rounded border transition-colors text-sm bg-gray-900 text-white border-gray-900 hover:bg-gray-800",children:[U," "]},U))]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"text",value:m,onChange:U=>N(U.target.value),onKeyPress:U=>{U.key==="Enter"&&(U.preventDefault(),ee())},className:"flex-1 px-3 py-1.5 border border-gray-300 rounded-lg text-xs focus:outline-none focus:ring-2 focus:ring-gray-500"}),o.jsx("button",{type:"button",onClick:ee,className:"px-3 py-1.5 bg-gray-100 text-gray-700 rounded-lg text-xs font-medium hover:bg-gray-200 transition-colors",children:""})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),o.jsx("textarea",{...i("description"),rows:4,className:"input w-full text-sm md:text-base"})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between gap-2 sm:gap-0 pt-4 border-t",children:[o.jsx("div",{children:e&&o.jsxs("button",{type:"button",onClick:()=>{window.confirm("  ?")&&a(e.id)},className:"btn btn-outline text-red-600 hover:bg-red-50 flex items-center w-full sm:w-auto justify-center text-sm md:text-base",children:[o.jsx(rr,{className:"h-4 w-4 mr-2"}),""]})}),o.jsxs("div",{className:"flex gap-2 sm:space-x-3",children:[o.jsx("button",{type:"button",onClick:n,className:"btn btn-outline flex-1 sm:flex-none text-sm md:text-base",children:""}),o.jsx("button",{type:"submit",className:"btn btn-primary flex-1 sm:flex-none text-sm md:text-base",children:e?"":""})]})]})]})]})})},Qb=["","","","","",""],rL=()=>{const{schedules:e,loadSchedulesFromAPI:t,addScheduleToAPI:r,deleteScheduleFromAPI:n}=dn(),{user:s}=Ra(),[a,i]=w.useState(!1),l=s!=null&&s.name?s.name.slice(-2):null,c=f=>{if(!f||f==="-")return"";const[h,y]=f.split(":"),g=parseInt(h,10),m=parseInt(y,10),N=g>=12?"":"",v=g%12||12;return m>0?`${N} ${v} ${m}`:`${N} ${v}`},u=l?[l,...Qb.filter(f=>f!==l)]:Qb,d=f=>{const h=e.filter(m=>m.attendees?!!(m.attendees.includes(f)||m.attendees.includes("HV LAB")||m.attendees.includes("")&&["",""].includes(f)||m.attendees.includes("")&&["","",""].includes(f)):!1),y=h.filter(m=>$b(new Date(m.start))),g=h.filter(m=>X3(new Date(m.start))&&!$b(new Date(m.start))).sort((m,N)=>new Date(m.start).getTime()-new Date(N.start).getTime()).slice(0,3);return{todaySchedules:y,upcomingSchedules:g,member:f}};return o.jsxs("div",{className:"space-y-3 md:space-y-4",children:[o.jsx("div",{children:o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 md:gap-4",children:u.map(f=>{const{todaySchedules:h,upcomingSchedules:y}=d(f),g=h.length+y.length,m=f===l;return o.jsxs("div",{className:`card p-4 md:p-4 ${m?"ring-1 ring-gray-400":""}`,children:[o.jsxs("div",{className:"flex items-center justify-between mb-4 pb-3 border-b border-gray-200",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("h3",{className:"font-bold text-lg md:text-lg text-gray-900",children:f}),m&&o.jsx("span",{className:"text-xs px-2 py-0.5 bg-gray-100/50 text-gray-900 rounded font-medium",children:""})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[m&&o.jsx("button",{onClick:()=>i(!0),className:"p-1.5 hover:bg-gray-100 rounded-full transition-colors",title:" ",children:o.jsx(uv,{className:"h-4 w-4 text-gray-700"})}),o.jsxs("span",{className:`text-xs px-2.5 py-1 ${m&&h.length>0?"bg-amber-100 text-gray-900":"bg-gray-100 text-gray-900"} rounded-full font-semibold whitespace-nowrap`,children:[h.length," "]}),o.jsxs("span",{className:"text-xs px-2.5 py-1 bg-gray-100 text-gray-700 rounded-full font-semibold whitespace-nowrap",children:[y.length," "]})]})]}),h.length>0&&o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{className:"flex items-center gap-1.5 mb-2",children:[o.jsx(fa,{className:"h-4 w-4 text-gray-900"}),o.jsx("p",{className:"text-xs font-semibold text-gray-900 uppercase",children:""})]}),o.jsx("div",{className:"space-y-2",children:(()=>{const N=h.reduce((v,p)=>{const b=p.project||"-";return v[b]||(v[b]=[]),v[b].push(p),v},{});return Object.entries(N).map(([v,p])=>{const b=f===l;return o.jsxs("div",{className:`border-l-3 ${b?"border-gray-400":"border-gray-900"} ${b?"bg-amber-50":"bg-gray-50"} rounded-r overflow-hidden`,children:[o.jsx("div",{className:`px-3 py-1.5 ${b?"bg-amber-100":"bg-gray-100"} border-b ${b?"border-amber-200":"border-gray-200"}`,children:o.jsx("span",{className:"text-xs font-semibold text-gray-900",children:v})}),o.jsx("div",{className:"px-3 py-2 space-y-1",children:p.map(x=>{const S=x.time&&x.time!=="-"?` - ${c(x.time)}`:"";return o.jsxs("p",{className:"font-medium text-gray-900 text-sm leading-relaxed",children:[" ",x.title,S]},x.id)})})]},v)})})()})]}),y.length>0&&o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-1.5 mb-2",children:[o.jsx(VO,{className:"h-4 w-4 text-gray-600"}),o.jsx("p",{className:"text-xs font-semibold text-gray-600 uppercase",children:""})]}),o.jsx("div",{className:"space-y-2",children:(()=>{const N=y.reduce((v,p)=>{const b=Te(new Date(p.start),"MM.dd",{locale:et}),x=p.project||"-",S=`${b}|${x}`;return v[S]||(v[S]={date:b,project:x,schedules:[]}),v[S].schedules.push(p),v},{});return Object.values(N).map(({date:v,project:p,schedules:b})=>{const S=b.length>0&&tI(new Date(b[0].start))?`${v} ()`:v;return o.jsxs("div",{className:"border-l-3 border-gray-400 bg-gray-50 rounded-r overflow-hidden",children:[o.jsxs("div",{className:"px-3 py-1.5 bg-gray-100 border-b border-gray-200 flex items-center justify-between",children:[o.jsx("span",{className:"text-xs font-semibold text-gray-700",children:p}),o.jsx("span",{className:"text-xs text-gray-500 font-medium",children:S})]}),o.jsx("div",{className:"px-3 py-2 space-y-1",children:b.map(k=>{const _=k.time&&k.time!=="-"?` - ${c(k.time)}`:"";return o.jsxs("p",{className:"font-medium text-gray-900 text-sm leading-relaxed",children:[" ",k.title,_]},k.id)})})]},`${v}-${p}`)})})()})]}),g===0&&o.jsx("div",{className:"text-center py-8 text-gray-400 text-sm",children:"  "})]},f)})})}),a&&o.jsx(oD,{event:null,slotInfo:{start:new Date,end:new Date},onClose:()=>i(!1),onSave:async f=>{try{console.log("Dashboard: Adding schedule...",f),await r({id:Date.now().toString(),title:f.title||"",start:f.start||new Date,end:f.end||new Date,type:"other",project:f.projectId||f.projectName||"",location:"",attendees:f.assignedTo||[],description:f.description||"",time:f.time}),console.log("Dashboard: Schedule added successfully"),await t(),console.log("Dashboard: Schedules fetched, closing modal"),i(!1)}catch(h){console.error("Failed to add schedule:",h),alert("  : "+(h instanceof Error?h.message:"   "))}},onDelete:async f=>{try{await n(f),await t(),i(!1)}catch(h){console.error("Failed to delete schedule:",h),alert("  : "+(h instanceof Error?h.message:"   "))}}})]})},nL=({value:e,detailValue:t="",onChange:r,onDetailChange:n,placeholder:s=" ",error:a})=>{const[i,l]=w.useState(!1),[c,u]=w.useState(e),[d,f]=w.useState(t),h=w.useRef(null);w.useEffect(()=>{const v=p=>{h.current&&!h.current.contains(p.target)&&l(!1)};return i&&document.addEventListener("mousedown",v),()=>{document.removeEventListener("mousedown",v)}},[i]),w.useEffect(()=>{u(e)},[e]),w.useEffect(()=>{f(t)},[t]);const y=()=>new Promise((v,p)=>{if(window.daum&&window.daum.Postcode){v(!0);return}const b=document.createElement("script");b.src="//t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js",b.async=!0,b.onload=()=>v(!0),b.onerror=()=>p(new Error("Kakao Postcode   ")),document.head.appendChild(b)}),g=v=>{const p=v.roadAddr||v.jibunAddr;u(p),r(p,d),l(!1)},m=v=>{const p=v.target.value;f(p),n&&n(p),c&&r(c,p)},N=async()=>{try{(!window.daum||!window.daum.Postcode)&&await y(),window.daum&&new window.daum.Postcode({oncomplete:function(v){const p={roadAddr:v.roadAddress,jibunAddr:v.jibunAddress||v.autoJibunAddress||"",zipNo:v.zonecode,bdNm:v.buildingName,siNm:v.sido,sggNm:v.sigungu,emdNm:v.bname,rn:v.roadname};g(p)}}).open()}catch(v){console.error("  :",v),alert("     .  .")}};return o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"relative",children:[o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx("input",{type:"text",value:c,onClick:()=>N(),onChange:v=>{u(v.target.value),r(v.target.value,d)},placeholder:s,className:`input pr-8 cursor-pointer ${a?"border-red-500":""}`,readOnly:!0}),o.jsx(cf,{className:"absolute right-2 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400 pointer-events-none"})]}),o.jsx("button",{type:"button",onClick:N,className:"px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg text-sm font-medium transition-colors",children:" "})]}),a&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:a})]}),o.jsx("div",{children:o.jsx("input",{type:"text",value:d,onChange:m,placeholder:" (/ )",className:"input",disabled:!c})}),c&&o.jsx("div",{className:"p-3 bg-gray-50 rounded-lg",children:o.jsxs("p",{className:"text-sm text-gray-600",children:[o.jsx("span",{className:"font-medium",children:" :"})," ",c,d&&`, ${d}`]})}),o.jsx("div",{id:"address-search-container",style:{display:"none",width:"100%",height:"400px"}})]})},Xb=["","","","","",""],sL=({project:e,onClose:t,onSave:r})=>{const{register:n,handleSubmit:s,setValue:a,reset:i,formState:{errors:l}}=$i({defaultValues:{name:"",client:"",location:"",detailLocation:"",startDate:"",endDate:""}}),[c,u]=w.useState([]),[d,f]=w.useState(""),[h,y]=w.useState(""),[g,m]=w.useState("");w.useEffect(()=>{var x;if(e){const S=e.location?e.location.split(","):["",""],k=((x=S[0])==null?void 0:x.trim())||e.location||"",_=S.length>1?S.slice(1).join(",").trim():"";i({name:e.name,client:e.client||"",location:k,detailLocation:_,startDate:e.startDate?new Date(e.startDate).toISOString().split("T")[0]:"",endDate:e.endDate?new Date(e.endDate).toISOString().split("T")[0]:""}),y(k),m(_);const A=e.manager?e.manager.split(",").map(M=>M.trim()).filter(M=>M&&M!==""):[];u(A)}else i({name:"",client:"",location:"",detailLocation:"",startDate:"",endDate:""}),y(""),m(""),u([])},[e,i]);const N=x=>{u(S=>S.includes(x)?S.filter(k=>k!==x):[...S,x])},v=()=>{d.trim()&&!c.includes(d.trim())&&(u(x=>[...x,d.trim()]),f(""))},p=x=>{u(S=>S.filter(k=>k!==x))},b=x=>{console.log(" ProjectModal onSubmit - Raw form data:",x);const S=h&&g?`${h}, ${g}`:h||x.location,k={name:x.name,client:x.client,location:S,manager:c.join(", "),contractAmount:(e==null?void 0:e.contractAmount)??0,spent:(e==null?void 0:e.spent)??0,status:(e==null?void 0:e.status)??"planning",progress:(e==null?void 0:e.progress)??0,description:(e==null?void 0:e.description)??"",meetingNotes:(e==null?void 0:e.meetingNotes)??[],customerRequests:(e==null?void 0:e.customerRequests)??[],entrancePassword:(e==null?void 0:e.entrancePassword)??"",sitePassword:(e==null?void 0:e.sitePassword)??""};if(x.startDate&&x.startDate!=="")k.startDate=x.startDate,console.log(" Setting startDate from form:",x.startDate);else if(e!=null&&e.startDate){const _=typeof e.startDate=="string"&&e.startDate.includes("T")?e.startDate.split("T")[0]:e.startDate;k.startDate=_,console.log(" Keeping existing startDate:",k.startDate)}if(x.endDate&&x.endDate!=="")k.endDate=x.endDate,console.log(" Setting endDate from form:",x.endDate);else if(e!=null&&e.endDate){const _=typeof e.endDate=="string"&&e.endDate.includes("T")?e.endDate.split("T")[0]:e.endDate;k.endDate=_,console.log(" Keeping existing endDate:",k.endDate)}console.log(" ProjectModal onSubmit - Final formData:",k),r(k)};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-3 md:p-4",children:o.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex items-center justify-between p-4 md:p-6 border-b sticky top-0 bg-white z-10",children:[o.jsx("h2",{className:"text-lg md:text-xl font-semibold",children:e?" ":" "}),o.jsx("button",{onClick:t,className:"p-1.5 md:p-2 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx(ft,{className:"h-5 w-5"})})]}),o.jsxs("form",{onSubmit:s(b),className:"p-4 md:p-6 space-y-4 md:space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"}),o.jsx("input",{...n("name",{required:" "}),type:"text",className:"input"}),l.name&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(l.name.message)})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),o.jsx("input",{...n("client"),type:"text",className:"input"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"}),o.jsx(nL,{value:h,detailValue:g,onChange:(x,S)=>{y(x),m(S||""),a("location",x),a("detailLocation",S||"")},onDetailChange:x=>{m(x),a("detailLocation",x)},placeholder:"  ",required:!0,error:l.location?String(l.location.message):void 0})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),o.jsx("input",{...n("startDate"),type:"date",className:"input"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),o.jsx("input",{...n("endDate"),type:"date",className:"input"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" (  )"}),o.jsxs("div",{className:"flex flex-wrap gap-1.5 mb-2",children:[Xb.map(x=>o.jsx("button",{type:"button",onClick:()=>N(x),className:`px-2.5 py-1.5 rounded border transition-colors text-sm ${c.includes(x)?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:x},x)),c.filter(x=>!Xb.includes(x)).map(x=>o.jsxs("button",{type:"button",onClick:()=>p(x),className:"px-2.5 py-1.5 rounded border transition-colors text-sm bg-gray-900 text-white border-gray-900 hover:bg-gray-800",children:[x," "]},x))]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"text",value:d,onChange:x=>f(x.target.value),onKeyPress:x=>{x.key==="Enter"&&(x.preventDefault(),v())},placeholder:"   ",className:"flex-1 px-3 py-1.5 border border-gray-300 rounded-lg text-xs focus:outline-none focus:ring-2 focus:ring-gray-500"}),o.jsx("button",{type:"button",onClick:v,className:"px-3 py-1.5 bg-gray-100 text-gray-700 rounded-lg text-xs font-medium hover:bg-gray-200 transition-colors",children:""})]})]}),o.jsxs("div",{className:"flex justify-end space-x-2 md:space-x-3 pt-4 border-t",children:[o.jsx("button",{type:"button",onClick:t,className:"btn btn-outline text-sm md:text-base",children:""}),o.jsx("button",{type:"submit",className:"btn btn-primary text-sm md:text-base",children:e?"":""})]})]})]})})},aL=({projectName:e,meetingNotes:t,onClose:r,onSave:n,onDelete:s})=>{const[a,i]=w.useState(""),[l,c]=w.useState(new Date().toISOString().split("T")[0]),[u,d]=w.useState(!1),f=()=>{d(!0),i(""),c(new Date().toISOString().split("T")[0])},h=()=>{if(!a.trim()){alert(" ");return}if(!l){alert(" ");return}n(a.trim(),new Date(l)),i(""),c(new Date().toISOString().split("T")[0]),d(!1)},y=()=>{i(""),c(new Date().toISOString().split("T")[0]),d(!1)},g=m=>{window.confirm("   ?")&&s(m)};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",onClick:r,children:o.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[80vh] flex flex-col shadow-xl",onClick:m=>m.stopPropagation(),children:[o.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:" "}),o.jsx("p",{className:"text-sm text-gray-500 mt-0.5",children:e})]}),o.jsx("button",{onClick:r,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:o.jsx(ft,{className:"h-5 w-5 text-gray-500"})})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[!u&&o.jsx("button",{onClick:f,className:"w-full mb-4 px-4 py-2.5 border border-gray-300 rounded text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:"+ "}),u&&o.jsxs("div",{className:"mb-4 p-4 bg-gray-50 rounded border border-gray-200",children:[o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"}),o.jsx("input",{type:"date",value:l,onChange:m=>c(m.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded text-sm focus:outline-none focus:border-gray-900"})]}),o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  *"}),o.jsx("textarea",{value:a,onChange:m=>i(m.target.value),placeholder:"  ",className:"w-full px-3 py-2 border border-gray-300 rounded text-sm focus:outline-none focus:border-gray-900 resize-none",rows:4})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:h,className:"px-4 py-1.5 bg-gray-900 text-white text-sm rounded hover:bg-gray-800 transition-colors",children:""}),o.jsx("button",{onClick:y,className:"px-4 py-1.5 bg-gray-200 text-gray-700 text-sm rounded hover:bg-gray-300 transition-colors",children:""})]})]}),o.jsx("div",{className:"space-y-3",children:t.length===0?o.jsx("div",{className:"text-center py-12 text-gray-400 text-sm",children:"   "}):t.map(m=>o.jsx("div",{className:"p-4 bg-white border border-gray-200 rounded hover:border-gray-300 transition-colors group",children:o.jsxs("div",{className:"flex items-start justify-between gap-3",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-sm text-gray-600 mb-2",children:Te(new Date(m.date),"yyyy.MM.dd (eee)",{locale:et})}),o.jsx("p",{className:"text-sm text-gray-900 whitespace-pre-wrap break-words",children:m.content})]}),o.jsx("button",{onClick:()=>g(m.id),className:"opacity-0 group-hover:opacity-100 px-2 py-1 text-xs text-gray-500 hover:text-red-600 transition-all",children:""})]})},m.id))})]})]})})},oL=({projectName:e,customerRequests:t,onClose:r,onSave:n,onToggleComplete:s,onDelete:a})=>{const[i,l]=w.useState(""),[c,u]=w.useState(new Date().toISOString().split("T")[0]),[d,f]=w.useState(!1),h=()=>{f(!0),l(""),u(new Date().toISOString().split("T")[0])},y=()=>{if(!i.trim()){alert(" ");return}if(!c){alert(" ");return}n(i.trim(),new Date(c)),l(""),u(new Date().toISOString().split("T")[0]),f(!1)},g=()=>{l(""),u(new Date().toISOString().split("T")[0]),f(!1)},m=b=>{window.confirm("  ?")&&a(b)},N=b=>{s(b)},v=t.filter(b=>!b.completed),p=t.filter(b=>b.completed);return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",onClick:r,children:o.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[80vh] flex flex-col shadow-xl",onClick:b=>b.stopPropagation(),children:[o.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:" "}),o.jsx("p",{className:"text-sm text-gray-500 mt-0.5",children:e})]}),o.jsx("button",{onClick:r,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:o.jsx(ft,{className:"h-5 w-5 text-gray-500"})})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[!d&&o.jsx("button",{onClick:h,className:"w-full mb-4 px-4 py-2.5 border border-gray-300 rounded text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:"+ "}),d&&o.jsxs("div",{className:"mb-4 p-4 bg-gray-50 rounded border border-gray-200",children:[o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"}),o.jsx("input",{type:"date",value:c,onChange:b=>u(b.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded text-sm focus:outline-none focus:border-gray-900"})]}),o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  *"}),o.jsx("textarea",{value:i,onChange:b=>l(b.target.value),placeholder:"  ",className:"w-full px-3 py-2 border border-gray-300 rounded text-sm focus:outline-none focus:border-gray-900 resize-none",rows:3})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:y,className:"px-4 py-1.5 bg-gray-900 text-white text-sm rounded hover:bg-gray-800 transition-colors",children:""}),o.jsx("button",{onClick:g,className:"px-4 py-1.5 bg-gray-200 text-gray-700 text-sm rounded hover:bg-gray-300 transition-colors",children:""})]})]}),o.jsx("div",{className:"space-y-2",children:t.length===0?o.jsx("div",{className:"text-center py-12 text-gray-400 text-sm",children:"  "}):o.jsxs(o.Fragment,{children:[v.map(b=>o.jsx("div",{className:"p-3 bg-white border border-gray-300 rounded hover:border-gray-400 transition-colors group",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("button",{onClick:()=>N(b.id),className:"mt-0.5 flex-shrink-0",children:o.jsx(zO,{className:"h-4 w-4 text-gray-400"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-sm text-gray-900 whitespace-pre-wrap break-words",children:b.content}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:Te(new Date(b.createdAt),"yyyy.MM.dd",{locale:et})})]}),o.jsx("button",{onClick:()=>m(b.id),className:"opacity-0 group-hover:opacity-100 px-2 py-1 text-xs text-gray-500 hover:text-red-600 transition-all",children:""})]})},b.id)),p.map(b=>o.jsx("div",{className:"p-3 bg-gray-50 border border-gray-200 rounded hover:border-gray-300 transition-colors group",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("button",{onClick:()=>N(b.id),className:"mt-0.5 flex-shrink-0",children:o.jsx(UO,{className:"h-4 w-4 text-gray-900"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-sm text-gray-500 line-through whitespace-pre-wrap break-words",children:b.content}),o.jsx("p",{className:"text-xs text-gray-400 mt-1",children:Te(new Date(b.createdAt),"yyyy.MM.dd",{locale:et})})]}),o.jsx("button",{onClick:()=>m(b.id),className:"opacity-0 group-hover:opacity-100 px-2 py-1 text-xs text-gray-500 hover:text-red-600 transition-all",children:""})]})},b.id))]})})]})]})})},iL=({projectName:e,entrancePassword:t,sitePassword:r,onClose:n,onSave:s})=>{const[a,i]=w.useState(t||""),[l,c]=w.useState(r||""),[u,d]=w.useState(!1),f=()=>{d(!0)},h=()=>{s(a,l),d(!1)},y=()=>{i(t||""),c(r||""),d(!1)};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",onClick:n,children:o.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full shadow-xl",onClick:g=>g.stopPropagation(),children:[o.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:""}),o.jsx("p",{className:"text-sm text-gray-500 mt-0.5",children:e})]}),o.jsx("button",{onClick:n,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:o.jsx(ft,{className:"h-5 w-5 text-gray-500"})})]}),o.jsxs("div",{className:"p-6 space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),u?o.jsx("input",{type:"text",value:a,onChange:g=>i(g.target.value),placeholder:"  ",className:"w-full px-3 py-2 border border-gray-300 rounded text-sm focus:outline-none focus:border-gray-900"}):o.jsx("div",{className:"px-3 py-2 bg-gray-50 border border-gray-200 rounded",children:a?o.jsx("span",{className:"text-sm font-mono text-gray-900",children:a}):o.jsx("span",{className:"text-sm text-gray-400",children:""})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),u?o.jsx("input",{type:"text",value:l,onChange:g=>c(g.target.value),placeholder:"  ",className:"w-full px-3 py-2 border border-gray-300 rounded text-sm focus:outline-none focus:border-gray-900"}):o.jsx("div",{className:"px-3 py-2 bg-gray-50 border border-gray-200 rounded",children:l?o.jsx("span",{className:"text-sm font-mono text-gray-900",children:l}):o.jsx("span",{className:"text-sm text-gray-400",children:""})})]})]}),o.jsx("div",{className:"border-t border-gray-200 px-6 py-4 flex gap-2",children:u?o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:h,className:"flex-1 px-4 py-2 bg-gray-900 text-white text-sm rounded hover:bg-gray-800 transition-colors",children:""}),o.jsx("button",{onClick:y,className:"flex-1 px-4 py-2 bg-gray-200 text-gray-700 text-sm rounded hover:bg-gray-300 transition-colors",children:""})]}):o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:f,className:"flex-1 px-4 py-2 bg-gray-200 text-gray-700 text-sm rounded hover:bg-gray-300 transition-colors",children:""}),o.jsx("button",{onClick:n,className:"flex-1 px-4 py-2 bg-gray-900 text-white text-sm rounded hover:bg-gray-800 transition-colors",children:""})]})})]})})},lL=()=>{const{projects:e,loadProjectsFromAPI:t,addProjectToAPI:r,updateProjectInAPI:n,deleteProjectFromAPI:s}=dn(),{user:a}=Ra(),[i,l]=w.useState("in-progress"),[c,u]=w.useState("grid"),[d,f]=w.useState(!1),[h,y]=w.useState(null),[g,m]=w.useState(!1),[N,v]=w.useState(!1),[p,b]=w.useState(!1),[x,S]=w.useState(null),k=(B,le)=>`lastViewed_${a==null?void 0:a.id}_${B}_${le}`,_=(B,le)=>{const Se=k(B,le),je=localStorage.getItem(Se);return je?parseInt(je,10):0},A=(B,le)=>{const Se=k(B,le);localStorage.setItem(Se,Date.now().toString())},M=(B,le)=>{const Se=_(B.id,le);return le==="meeting"?(B.meetingNotes||[]).some(Re=>(Re.createdAt?new Date(Re.createdAt).getTime():new Date(Re.date).getTime())>Se):(B.customerRequests||[]).some(Re=>!Re.completed)};w.useEffect(()=>{t().catch(B=>{console.error("Failed to load projects:",B),Q.error("   ")})},[t]),w.useEffect(()=>{const B=()=>{y(null),f(!0)};return window.addEventListener("headerAddButtonClick",B),()=>window.removeEventListener("headerAddButtonClick",B)},[]);const $=(B,le)=>{if(!B||!le)return 0;const Se=new Date,je=new Date(B),Re=new Date(le);if(Se<je)return 0;if(Se>Re)return 100;const L=Math.ceil((Re.getTime()-je.getTime())/(1e3*60*60*24)),ae=Math.ceil((Se.getTime()-je.getTime())/(1e3*60*60*24)),P=Math.round(ae/L*100);return Math.min(100,Math.max(0,P))},V=B=>{y(B),f(!0)},H=async(B,le)=>{if(window.confirm(`"${le}"  ?

    .`))try{await s(B),Q.success(" ")}catch(Se){console.error("Failed to delete project:",Se),Q.error("  ")}},Y=async B=>{try{if(h)await n(h.id,B),Q.success(" ");else{const le={id:"",...B,team:B.team||[]};await r(le),Q.success(" "),l(B.status||"planning")}f(!1),y(null)}catch(le){console.error("Failed to save project:",le),Q.error("  ")}},K=async(B,le)=>{try{await n(B,{status:le}),Q.success(" ")}catch(Se){console.error("Failed to update project status:",Se),Q.error("  ")}},ce=B=>{S(B),m(!0),A(B.id,"meeting")},ee=B=>{S(B),v(!0),A(B.id,"request")},de=B=>{S(B),b(!0)},Z=async(B,le)=>{if(!x)return;const Se=x.entrancePassword,je=x.sitePassword;S({...x,entrancePassword:B,sitePassword:le});try{await n(x.id,{entrancePassword:B,sitePassword:le}),Q.success(" ")}catch(Re){console.error("Failed to save passwords:",Re),Q.error("  "),S({...x,entrancePassword:Se,sitePassword:je})}},U=async(B,le)=>{if(!x)return;const Se={id:Date.now().toString(),content:B,date:le,createdAt:new Date},je=[...x.meetingNotes||[],Se];S({...x,meetingNotes:je});try{await n(x.id,{meetingNotes:je}),Q.success("  ")}catch(Re){console.error("Failed to save meeting note:",Re),Q.error("   "),S({...x,meetingNotes:x.meetingNotes||[]})}},oe=async(B,le)=>{if(!x)return;const Se={id:Date.now().toString(),content:B,completed:!1,createdAt:le},je=[...x.customerRequests||[],Se];S({...x,customerRequests:je});try{await n(x.id,{customerRequests:je}),Q.success("  ")}catch(Re){console.error("Failed to save customer request:",Re),Q.error("   "),S({...x,customerRequests:x.customerRequests||[]})}},G=async B=>{if(!x)return;const le=x.customerRequests||[],Se=le.map(je=>je.id===B?{...je,completed:!je.completed}:je);S({...x,customerRequests:Se});try{await n(x.id,{customerRequests:Se}),Q.success("  ")}catch(je){console.error("Failed to toggle request:",je),Q.error("  "),S({...x,customerRequests:le})}},W=async B=>{if(!x)return;const le=x.meetingNotes||[],Se=le.filter(je=>je.id!==B);S({...x,meetingNotes:Se});try{await n(x.id,{meetingNotes:Se}),Q.success("  ")}catch(je){console.error("Failed to delete meeting note:",je),Q.error(" "),S({...x,meetingNotes:le})}},D=async B=>{if(!x)return;const le=x.customerRequests||[],Se=le.filter(je=>je.id!==B);S({...x,customerRequests:Se});try{await n(x.id,{customerRequests:Se}),Q.success("  ")}catch(je){console.error("Failed to delete customer request:",je),Q.error(" "),S({...x,customerRequests:le})}},T=({project:B})=>{const Se={planning:{label:"",color:"bg-white text-gray-700 border-gray-300"},"in-progress":{label:"",color:"bg-white text-gray-900 border-gray-300"},completed:{label:"",color:"bg-gray-900 text-white border-gray-900"},"on-hold":{label:"",color:"bg-white text-gray-600 border-gray-300"}}[B.status];return o.jsxs("select",{value:B.status,onChange:je=>K(B.id,je.target.value),className:Gn("px-2 py-1 text-xs font-medium border rounded cursor-pointer","focus:outline-none focus:ring-2 focus:ring-gray-500",Se.color),onClick:je=>je.stopPropagation(),children:[o.jsx("option",{value:"planning",children:""}),o.jsx("option",{value:"in-progress",children:""}),o.jsx("option",{value:"completed",children:""}),o.jsx("option",{value:"on-hold",children:""})]})},ne=(()=>{let B=e;return i!=="all"&&(B=B.filter(le=>le.status===i)),B})(),he={planning:e.filter(B=>B.status==="planning").length,inProgress:e.filter(B=>B.status==="in-progress").length,completed:e.filter(B=>B.status==="completed").length,onHold:e.filter(B=>B.status==="on-hold").length},ue=({project:B})=>{var Se,je,Re,L;const le=$(B.startDate,B.endDate);return o.jsxs("div",{className:"card p-3 md:p-4 hover:border-gray-400 transition-colors",children:[o.jsxs("div",{className:"flex items-start justify-between mb-3 md:mb-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-bold text-base md:text-lg text-gray-900",children:B.name}),o.jsxs("p",{className:"text-xs md:text-sm text-gray-600 mt-1",children:[B.client,""]})]}),o.jsxs("div",{className:"flex flex-col items-end",children:[o.jsx(T,{project:B}),o.jsx("button",{onClick:()=>V(B),className:"text-xs text-gray-600 hover:text-gray-900 mt-2",children:""})]})]}),o.jsxs("div",{className:"space-y-1.5 md:space-y-2 mb-3 md:mb-4 text-xs md:text-sm",children:[o.jsxs("div",{className:"text-gray-600",children:[": ",B.location]}),o.jsxs("div",{className:"text-gray-600",children:[": ",B.startDate&&B.endDate?`${Te(B.startDate,"MM.dd (eee)",{locale:et})} - ${Te(B.endDate,"MM.dd (eee)",{locale:et})}`:""]}),o.jsxs("div",{className:"text-gray-600",children:[": ",B.manager]})]}),o.jsxs("div",{className:"mb-3 md:mb-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-1.5 md:mb-2",children:[o.jsx("span",{className:"text-[10px] md:text-xs text-gray-600",children:" ( )"}),o.jsxs("span",{className:"text-xs md:text-sm font-medium text-gray-900",children:[le,"%"]})]}),o.jsx("div",{className:"w-full bg-gray-200 h-1",children:o.jsx("div",{className:"bg-gray-900 h-1 transition-all",style:{width:`${le}%`}})})]}),o.jsxs("div",{className:"pt-2 border-t border-gray-200 space-y-2",children:[o.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[o.jsxs("button",{onClick:()=>ce(B),className:"relative px-2 py-1.5 text-xs font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:["",(((Se=B.meetingNotes)==null?void 0:Se.length)||0)>0&&o.jsxs("span",{className:"ml-1 text-[10px] text-gray-500",children:["(",((je=B.meetingNotes)==null?void 0:je.length)||0,")"]}),M(B,"meeting")&&o.jsx("span",{className:"absolute -top-1 -right-1 inline-flex items-center justify-center px-1.5 py-0.5 text-[9px] font-bold leading-none text-white bg-red-500 rounded-full",children:"N"})]}),o.jsxs("button",{onClick:()=>ee(B),className:"relative px-2 py-1.5 text-xs font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:["",(((Re=B.customerRequests)==null?void 0:Re.length)||0)>0&&o.jsxs("span",{className:"ml-1 text-[10px] text-gray-500",children:["(",((L=B.customerRequests)==null?void 0:L.length)||0,")"]}),M(B,"request")&&o.jsx("span",{className:"absolute -top-1 -right-1 inline-flex items-center justify-center px-1.5 py-0.5 text-[9px] font-bold leading-none text-white bg-red-500 rounded-full",children:"N"})]}),o.jsx("button",{onClick:()=>de(B),className:"px-2 py-1.5 text-xs font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:""})]}),((a==null?void 0:a.role)==="admin"||(a==null?void 0:a.role)==="manager")&&o.jsx("div",{className:"flex space-x-2",children:o.jsx("button",{onClick:()=>H(B.id,B.name),className:"text-xs text-rose-600 hover:text-rose-700",children:""})})]})]})};return o.jsxs("div",{className:"space-y-3 md:space-y-4",children:[o.jsx("div",{className:"border-b border-gray-200",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("nav",{className:"flex space-x-4 md:space-x-8 overflow-x-auto",children:[{id:"planning",label:"",count:he.planning,color:"text-gray-700"},{id:"in-progress",label:"",count:he.inProgress,color:"text-gray-700"},{id:"completed",label:"",count:he.completed,color:"text-gray-700"},{id:"all",label:"",count:e.length,color:"text-gray-600"}].map(B=>o.jsxs("button",{onClick:()=>l(B.id),className:Gn("py-3 md:py-4 px-1 border-b-2 font-medium text-xs md:text-sm transition-colors whitespace-nowrap",i===B.id?`border-gray-700 ${B.color}`:"border-transparent text-gray-400 hover:text-gray-700 hover:border-gray-300"),children:[B.label,o.jsx("span",{className:Gn("ml-1 md:ml-2 py-0.5 px-1.5 md:px-2 rounded-full text-[10px] md:text-xs font-semibold",i===B.id?"bg-gray-700 text-white":"bg-gray-200 text-gray-600"),children:B.count})]},B.id))}),o.jsxs("div",{className:"flex items-center gap-6 mb-3 md:mb-4",children:[o.jsxs("div",{className:"hidden sm:flex border border-gray-300 overflow-hidden rounded",children:[o.jsx("button",{onClick:()=>u("grid"),className:Gn("px-3 md:px-4 py-2 text-xs md:text-sm",c==="grid"?"bg-gray-100":"hover:bg-gray-50"),children:""}),o.jsx("button",{onClick:()=>u("list"),className:Gn("px-3 md:px-4 py-2 text-xs md:text-sm border-l border-gray-300",c==="list"?"bg-gray-100":"hover:bg-gray-50"),children:""})]}),o.jsx("button",{onClick:()=>{y(null),f(!0)},className:"hidden lg:inline-flex btn btn-primary px-4 py-2",children:"+  "})]})]})}),c==="grid"||window.innerWidth<768?o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 md:gap-6",children:ne.map(B=>o.jsx(ue,{project:B},B.id))}):o.jsx("div",{className:"bg-white border border-gray-200 overflow-hidden",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:ne.map(B=>{var Se,je,Re,L;const le=$(B.startDate,B.endDate);return o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:B.name}),o.jsx("p",{className:"text-sm text-gray-500",children:B.location})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("p",{className:"text-sm",children:[B.client,""]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:B.startDate&&B.endDate?o.jsxs(o.Fragment,{children:[Te(B.startDate,"yyyy.MM.dd (eee)",{locale:et})," -",o.jsx("br",{}),Te(B.endDate,"yyyy.MM.dd (eee)",{locale:et})]}):""}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx(T,{project:B})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-24 bg-gray-200 h-1 mr-2",children:o.jsx("div",{className:"bg-gray-900 h-1",style:{width:`${le}%`}})}),o.jsxs("span",{className:"text-sm",children:[le,"%"]})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{onClick:()=>ce(B),className:"relative px-3 py-1.5 text-xs font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:["",(((Se=B.meetingNotes)==null?void 0:Se.length)||0)>0&&o.jsxs("span",{className:"ml-1 text-[10px] text-gray-500",children:["(",((je=B.meetingNotes)==null?void 0:je.length)||0,")"]}),M(B,"meeting")&&o.jsx("span",{className:"absolute -top-1 -right-1 inline-flex items-center justify-center px-1.5 py-0.5 text-[9px] font-bold leading-none text-white bg-red-500 rounded-full",children:"N"})]}),o.jsxs("button",{onClick:()=>ee(B),className:"relative px-3 py-1.5 text-xs font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:["",(((Re=B.customerRequests)==null?void 0:Re.length)||0)>0&&o.jsxs("span",{className:"ml-1 text-[10px] text-gray-500",children:["(",((L=B.customerRequests)==null?void 0:L.length)||0,")"]}),M(B,"request")&&o.jsx("span",{className:"absolute -top-1 -right-1 inline-flex items-center justify-center px-1.5 py-0.5 text-[9px] font-bold leading-none text-white bg-red-500 rounded-full",children:"N"})]}),o.jsx("button",{onClick:()=>de(B),className:"px-3 py-1.5 text-xs font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:""})]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("button",{onClick:()=>V(B),className:"text-xs text-gray-600 hover:text-gray-900",children:""}),((a==null?void 0:a.role)==="admin"||(a==null?void 0:a.role)==="manager")&&o.jsx("button",{onClick:()=>H(B.id,B.name),className:"text-xs text-rose-600 hover:text-rose-700",children:""})]})]})})]},B.id)})})]})}),d&&o.jsx(sL,{project:h,onClose:()=>{f(!1),y(null)},onSave:Y}),g&&x&&o.jsx(aL,{projectName:x.name,meetingNotes:x.meetingNotes||[],onClose:()=>{m(!1),S(null)},onSave:U,onDelete:W}),N&&x&&o.jsx(oL,{projectName:x.name,customerRequests:x.customerRequests||[],onClose:()=>{v(!1),S(null)},onSave:oe,onToggleComplete:G,onDelete:D}),p&&x&&o.jsx(iL,{projectName:x.name,entrancePassword:x.entrancePassword||"",sitePassword:x.sitePassword||"",onClose:()=>{b(!1),S(null)},onSave:Z})]})};function Jb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function lt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Jb(Object(r),!0).forEach(function(n){Ha(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mh(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function os(e,t){if(e==null)return{};var r,n,s=mh(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function mr(e,t,r){return t=hf(t),Z3(e,Xk()?Reflect.construct(t,r||[],hf(e).constructor):t.apply(e,r))}function iD(e){if(Array.isArray(e))return e}function cL(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,a,i,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw s}}return l}}function lD(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rn(e,t){return iD(e)||cL(e,t)||dv(e,t)||lD()}function cD(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=cD(e[t]))&&(n&&(n+=" "),n+=r);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}function _t(){for(var e,t,r=0,n="";r<arguments.length;)(e=arguments[r++])&&(t=cD(e))&&(n&&(n+=" "),n+=t);return n}function Et(){return Et=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Et.apply(null,arguments)}var uL=function(e,t,r,n,s,a,i,l){if(!e){var c;if(t===void 0)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[r,n,s,a,i,l],d=0;c=new Error(t.replace(/%s/g,function(){return u[d++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}},dL=uL;const mc=wr(dL);var fL=function(){};function hL(e,t){var r={};return Object.keys(e).forEach(function(n){r[Sd(n)]=fL}),r}function Zb(e,t){return e[t]!==void 0}function Sd(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function mL(e){return!!e&&(typeof e!="function"||e.prototype&&e.prototype.isReactComponent)}function pL(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,ff(e,t)}function uD(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);e!=null&&this.setState(e)}function dD(e){function t(r){var n=this.constructor.getDerivedStateFromProps(e,r);return n??null}this.setState(t.bind(this))}function fD(e,t){try{var r=this.props,n=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(r,n)}finally{this.props=r,this.state=n}}uD.__suppressDeprecationWarning=!0;dD.__suppressDeprecationWarning=!0;fD.__suppressDeprecationWarning=!0;function gL(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if(typeof e.getDerivedStateFromProps!="function"&&typeof t.getSnapshotBeforeUpdate!="function")return e;var r=null,n=null,s=null;if(typeof t.componentWillMount=="function"?r="componentWillMount":typeof t.UNSAFE_componentWillMount=="function"&&(r="UNSAFE_componentWillMount"),typeof t.componentWillReceiveProps=="function"?n="componentWillReceiveProps":typeof t.UNSAFE_componentWillReceiveProps=="function"&&(n="UNSAFE_componentWillReceiveProps"),typeof t.componentWillUpdate=="function"?s="componentWillUpdate":typeof t.UNSAFE_componentWillUpdate=="function"&&(s="UNSAFE_componentWillUpdate"),r!==null||n!==null||s!==null){var a=e.displayName||e.name,i=typeof e.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+a+" uses "+i+" but also contains the following legacy lifecycles:"+(r!==null?`
  `+r:"")+(n!==null?`
  `+n:"")+(s!==null?`
  `+s:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof e.getDerivedStateFromProps=="function"&&(t.componentWillMount=uD,t.componentWillReceiveProps=dD),typeof t.getSnapshotBeforeUpdate=="function"){if(typeof t.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=fD;var l=t.componentDidUpdate;t.componentDidUpdate=function(u,d,f){var h=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:f;l.call(this,u,d,h)}}return e}var yL="/Users/jquense/src/uncontrollable/src/uncontrollable.js";function hD(e,t,r){r===void 0&&(r=[]);var n=e.displayName||e.name||"Component",s=mL(e),a=Object.keys(t),i=a.map(Sd);s||!r.length||mc(!1);var l=function(u){pL(d,u);function d(){for(var h,y=arguments.length,g=new Array(y),m=0;m<y;m++)g[m]=arguments[m];h=u.call.apply(u,[this].concat(g))||this,h.handlers=Object.create(null),a.forEach(function(v){var p=t[v],b=function(S){if(h.props[p]){var k;h._notifying=!0;for(var _=arguments.length,A=new Array(_>1?_-1:0),M=1;M<_;M++)A[M-1]=arguments[M];(k=h.props)[p].apply(k,[S].concat(A)),h._notifying=!1}h.unmounted||h.setState(function($){var V,H=$.values;return{values:Et(Object.create(null),H,(V={},V[v]=S,V))}})};h.handlers[p]=b}),r.length&&(h.attachRef=function(v){h.inner=v});var N=Object.create(null);return a.forEach(function(v){N[v]=h.props[Sd(v)]}),h.state={values:N,prevProps:{}},h}var f=d.prototype;return f.shouldComponentUpdate=function(){return!this._notifying},d.getDerivedStateFromProps=function(y,g){var m=g.values,N=g.prevProps,v={values:Et(Object.create(null),m),prevProps:{}};return a.forEach(function(p){v.prevProps[p]=y[p],!Zb(y,p)&&Zb(N,p)&&(v.values[p]=y[Sd(p)])}),v},f.componentWillUnmount=function(){this.unmounted=!0},f.render=function(){var y=this,g=this.props,m=g.innerRef,N=mh(g,["innerRef"]);i.forEach(function(p){delete N[p]});var v={};return a.forEach(function(p){var b=y.props[p];v[p]=b!==void 0?b:y.state.values[p]}),F.createElement(e,Et({},N,v,this.handlers,{ref:m||this.attachRef}))},d}(F.Component);gL(l),l.displayName="Uncontrolled("+n+")",l.propTypes=Et({innerRef:function(){}},hL(t)),r.forEach(function(u){l.prototype[u]=function(){var f;return(f=this.inner)[u].apply(f,arguments)}});var c=l;return F.forwardRef&&(c=F.forwardRef(function(u,d){return F.createElement(l,Et({},u,{innerRef:d,__source:{fileName:yL,lineNumber:128},__self:this}))}),c.propTypes=l.propTypes),c.ControlledComponent=e,c.deferControlTo=function(u,d,f){return d===void 0&&(d={}),hD(u,Et({},t,d),f)},c}var mD={exports:{}},vL="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",xL=vL,bL=xL;function pD(){}function gD(){}gD.resetWarningCache=pD;var wL=function(){function e(n,s,a,i,l,c){if(c!==bL){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:gD,resetWarningCache:pD};return r.PropTypes=r,r};mD.exports=wL();var NL=mD.exports;const be=wr(NL);var gf="milliseconds",pc="seconds",gc="minutes",yc="hours",go="day",wi="week",vc="month",yo="year",vo="decade",xo="century",yD={milliseconds:1,seconds:1e3,minutes:60*1e3,hours:60*60*1e3,day:24*60*60*1e3,week:7*24*60*60*1e3},jL={month:1,year:12,decade:10*12,century:100*12};function SL(e){return[31,kL(e),31,30,31,30,31,31,30,31,30,31]}function kL(e){return e%4===0&&e%100!==0||e%400===0?29:28}function Pn(e,t,r){switch(e=new Date(e),r){case gf:case pc:case gc:case yc:case go:case wi:return DL(e,t*yD[r]);case vc:case yo:case vo:case xo:return CL(e,t*jL[r])}throw new TypeError('Invalid units: "'+r+'"')}function DL(e,t){var r=new Date(+e+t);return EL(e,r)}function CL(e,t){var r=e.getFullYear(),n=e.getMonth(),s=e.getDate(),a=r*12+n+t,i=Math.trunc(a/12),l=a%12,c=Math.min(s,SL(i)[l]),u=new Date(e);return u.setFullYear(i),u.setDate(1),u.setMonth(l),u.setDate(c),u}function EL(e,t){var r=e.getTimezoneOffset(),n=t.getTimezoneOffset(),s=n-r;return new Date(+t+s*yD.minutes)}function xc(e,t,r){return Pn(e,-t,r)}function nr(e,t,r){switch(e=new Date(e),t){case xo:case vo:case yo:e=vf(e,0);case vc:e=ND(e,1);case wi:case go:e=Nc(e,0);case yc:e=Ni(e,0);case gc:e=wc(e,0);case pc:e=bc(e,0)}return t===vo&&(e=xc(e,bo(e)%10,"year")),t===xo&&(e=xc(e,bo(e)%100,"year")),t===wi&&(e=jD(e,0,r)),e}function yf(e,t,r){switch(e=new Date(e),e=nr(e,t,r),t){case xo:case vo:case yo:case vc:case wi:e=Pn(e,1,t),e=xc(e,1,go),e.setHours(23,59,59,999);break;case go:e.setHours(23,59,59,999);break;case yc:case gc:case pc:e=Pn(e,1,t),e=xc(e,1,gf)}return e}var Zc=Li(function(e,t){return e===t}),yv=Li(function(e,t){return e!==t}),ph=Li(function(e,t){return e>t}),eu=Li(function(e,t){return e>=t}),vv=Li(function(e,t){return e<t}),Ii=Li(function(e,t){return e<=t});function vD(){return new Date(Math.min.apply(Math,arguments))}function xD(){return new Date(Math.max.apply(Math,arguments))}function bD(e,t,r,n){return n=n||"day",(!t||eu(e,t,n))&&(!r||Ii(e,r,n))}var bc=Oa("Milliseconds"),wc=Oa("Seconds"),Ni=Oa("Minutes"),Nc=Oa("Hours"),wD=Oa("Day"),ND=Oa("Date"),vf=Oa("Month"),bo=Oa("FullYear");function _L(e,t){return t===void 0?bo(nr(e,vo)):Pn(e,t+10,yo)}function TL(e,t){return t===void 0?bo(nr(e,xo)):Pn(e,t+100,yo)}function jD(e,t,r){var n=(wD(e)+7-(r||0))%7;return t===void 0?n:Pn(e,t-n,go)}function PL(e,t,r,n){var s,a,i;switch(r){case gf:case pc:case gc:case yc:case go:case wi:s=t.getTime()-e.getTime();break;case vc:case yo:case vo:case xo:s=(bo(t)-bo(e))*12+vf(t)-vf(e);break;default:throw new TypeError('Invalid units: "'+r+'"')}switch(r){case gf:a=1;break;case pc:a=1e3;break;case gc:a=1e3*60;break;case yc:a=1e3*60*60;break;case go:a=1e3*60*60*24;break;case wi:a=1e3*60*60*24*7;break;case vc:a=1;break;case yo:a=12;break;case vo:a=120;break;case xo:a=1200;break;default:throw new TypeError('Invalid units: "'+r+'"')}return i=s/a,n?i:Math.round(i)}function Oa(e){var t=function(r){switch(r){case"Milliseconds":return 36e5;case"Seconds":return 3600;case"Minutes":return 60;case"Hours":return 1;default:return null}}(e);return function(r,n){if(n===void 0)return r["get"+e]();var s=new Date(r);return s["set"+e](n),t&&s["get"+e]()!=n&&(e==="Hours"||n>=t&&s.getHours()-r.getHours()<Math.floor(n/t))&&s["set"+e](n+t),s}}function Li(e){return function(t,r,n){return e(+nr(t,n),+nr(r,n))}}const ew=Object.freeze(Object.defineProperty({__proto__:null,add:Pn,century:TL,date:ND,day:wD,decade:_L,diff:PL,endOf:yf,eq:Zc,gt:ph,gte:eu,hours:Nc,inRange:bD,lt:vv,lte:Ii,max:xD,milliseconds:bc,min:vD,minutes:Ni,month:vf,neq:yv,seconds:wc,startOf:nr,subtract:xc,weekday:jD,year:bo},Symbol.toStringTag,{value:"Module"}));function AL(e){if(Array.isArray(e))return xg(e)}function SD(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ML(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kd(e){return AL(e)||SD(e)||dv(e)||ML()}function RL(e,t,r){var n=-1,s=e.length;t<0&&(t=-t>s?0:s+t),r=r>s?s:r,r<0&&(r+=s),s=t>r?0:r-t>>>0,t>>>=0;for(var a=Array(s);++n<s;)a[n]=e[n+t];return a}var kD=RL;function OL(e,t){return e===t||e!==e&&t!==t}var tu=OL,$L=typeof nn=="object"&&nn&&nn.Object===Object&&nn,DD=$L,IL=DD,LL=typeof self=="object"&&self&&self.Object===Object&&self,FL=IL||LL||Function("return this")(),cs=FL,WL=cs,BL=WL.Symbol,Fi=BL,tw=Fi,CD=Object.prototype,UL=CD.hasOwnProperty,HL=CD.toString,ml=tw?tw.toStringTag:void 0;function zL(e){var t=UL.call(e,ml),r=e[ml];try{e[ml]=void 0;var n=!0}catch{}var s=HL.call(e);return n&&(t?e[ml]=r:delete e[ml]),s}var VL=zL,YL=Object.prototype,qL=YL.toString;function KL(e){return qL.call(e)}var GL=KL,rw=Fi,QL=VL,XL=GL,JL="[object Null]",ZL="[object Undefined]",nw=rw?rw.toStringTag:void 0;function e4(e){return e==null?e===void 0?ZL:JL:nw&&nw in Object(e)?QL(e):XL(e)}var Wi=e4;function t4(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Bs=t4,r4=Wi,n4=Bs,s4="[object AsyncFunction]",a4="[object Function]",o4="[object GeneratorFunction]",i4="[object Proxy]";function l4(e){if(!n4(e))return!1;var t=r4(e);return t==a4||t==o4||t==s4||t==i4}var xv=l4,c4=9007199254740991;function u4(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=c4}var bv=u4,d4=xv,f4=bv;function h4(e){return e!=null&&f4(e.length)&&!d4(e)}var ru=h4,m4=9007199254740991,p4=/^(?:0|[1-9]\d*)$/;function g4(e,t){var r=typeof e;return t=t??m4,!!t&&(r=="number"||r!="symbol"&&p4.test(e))&&e>-1&&e%1==0&&e<t}var wv=g4,y4=tu,v4=ru,x4=wv,b4=Bs;function w4(e,t,r){if(!b4(r))return!1;var n=typeof t;return(n=="number"?v4(r)&&x4(t,r.length):n=="string"&&t in r)?y4(r[t],e):!1}var gh=w4,N4=/\s/;function j4(e){for(var t=e.length;t--&&N4.test(e.charAt(t)););return t}var S4=j4,k4=S4,D4=/^\s+/;function C4(e){return e&&e.slice(0,k4(e)+1).replace(D4,"")}var E4=C4;function _4(e){return e!=null&&typeof e=="object"}var $a=_4,T4=Wi,P4=$a,A4="[object Symbol]";function M4(e){return typeof e=="symbol"||P4(e)&&T4(e)==A4}var nu=M4,R4=E4,sw=Bs,O4=nu,aw=NaN,$4=/^[-+]0x[0-9a-f]+$/i,I4=/^0b[01]+$/i,L4=/^0o[0-7]+$/i,F4=parseInt;function W4(e){if(typeof e=="number")return e;if(O4(e))return aw;if(sw(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=sw(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=R4(e);var r=I4.test(e);return r||L4.test(e)?F4(e.slice(2),r?2:8):$4.test(e)?aw:+e}var B4=W4,U4=B4,ow=1/0,H4=17976931348623157e292;function z4(e){if(!e)return e===0?e:0;if(e=U4(e),e===ow||e===-ow){var t=e<0?-1:1;return t*H4}return e===e?e:0}var ED=z4,V4=ED;function Y4(e){var t=V4(e),r=t%1;return t===t?r?t-r:t:0}var _D=Y4,q4=kD,K4=gh,G4=_D,Q4=Math.ceil,X4=Math.max;function J4(e,t,r){(r?K4(e,t,r):t===void 0)?t=1:t=X4(G4(t),0);var n=e==null?0:e.length;if(!n||t<1)return[];for(var s=0,a=0,i=Array(Q4(n/t));s<n;)i[a++]=q4(e,s,s+=t);return i}var Z4=J4;const eF=wr(Z4);function su(e){return e&&e.ownerDocument||document}function tF(e){var t=su(e);return t&&t.defaultView||window}function rF(e,t){return tF(e).getComputedStyle(e,t)}var nF=/([A-Z])/g;function sF(e){return e.replace(nF,"-$1").toLowerCase()}var aF=/^ms-/;function Vu(e){return sF(e).replace(aF,"-ms-")}var oF=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function iF(e){return!!(e&&oF.test(e))}function Ao(e,t){var r="",n="";if(typeof t=="string")return e.style.getPropertyValue(Vu(t))||rF(e).getPropertyValue(Vu(t));Object.keys(t).forEach(function(s){var a=t[s];!a&&a!==0?e.style.removeProperty(Vu(s)):iF(s)?n+=s+"("+a+") ":r+=Vu(s)+": "+a+";"}),n&&(r+="transform: "+n+";"),e.style.cssText+=";"+r}function jc(e,t){if(e.contains)return e.contains(t);if(e.compareDocumentPosition)return e===t||!!(e.compareDocumentPosition(t)&16)}function lF(e){return"nodeType"in e&&e.nodeType===document.DOCUMENT_NODE}function Nv(e){return"window"in e&&e.window===e?e:lF(e)&&e.defaultView||!1}function TD(e){var t=e==="pageXOffset"?"scrollLeft":"scrollTop";function r(n,s){var a=Nv(n);if(s===void 0)return a?a[e]:n[t];a?a.scrollTo(a[e],s):n[t]=s}return r}const PD=TD("pageXOffset"),AD=TD("pageYOffset");function oo(e){var t=su(e),r={top:0,left:0,height:0,width:0},n=t&&t.documentElement;return!n||!jc(n,e)||(e.getBoundingClientRect!==void 0&&(r=e.getBoundingClientRect()),r={top:r.top+AD(n)-(n.clientTop||0),left:r.left+PD(n)-(n.clientLeft||0),width:r.width,height:r.height}),r}var cF=function(t){return!!t&&"offsetParent"in t};function uF(e){for(var t=su(e),r=e&&e.offsetParent;cF(r)&&r.nodeName!=="HTML"&&Ao(r,"position")==="static";)r=r.offsetParent;return r||t.documentElement}var dF=function(t){return t.nodeName&&t.nodeName.toLowerCase()};function MD(e,t){var r={top:0,left:0},n;if(Ao(e,"position")==="fixed")n=e.getBoundingClientRect();else{var s=t||uF(e);n=oo(e),dF(s)!=="html"&&(r=oo(s));var a=String(Ao(s,"borderTopWidth")||0);r.top+=parseInt(a,10)-AD(s)||0;var i=String(Ao(s,"borderLeftWidth")||0);r.left+=parseInt(i,10)-PD(s)||0}var l=String(Ao(e,"marginTop")||0),c=String(Ao(e,"marginLeft")||0);return Et({},n,{top:n.top-r.top-(parseInt(l,10)||0),left:n.left-r.left-(parseInt(c,10)||0)})}const jv=!!(typeof window<"u"&&window.document&&window.document.createElement);var iw=new Date().getTime();function fF(e){var t=new Date().getTime(),r=Math.max(0,16-(t-iw)),n=setTimeout(e,r);return iw=t,n}var hF=["","webkit","moz","o","ms"],Ng="clearTimeout",jg=fF,lw=function(t,r){return t+(t?r[0].toUpperCase()+r.substr(1):r)+"AnimationFrame"};jv&&hF.some(function(e){var t=lw(e,"request");return t in window&&(Ng=lw(e,"cancel"),jg=function(n){return window[t](n)}),!!jg});var cw=function(t){typeof window[Ng]=="function"&&window[Ng](t)},RD=jg,Lm;function mF(e,t){if(!Lm){var r=document.body,n=r.matches||r.matchesSelector||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector;Lm=function(a,i){return n.call(a,i)}}return Lm(e,t)}var pF=Function.prototype.bind.call(Function.prototype.call,[].slice);function gF(e,t){return pF(e.querySelectorAll(t))}var Sg=!1,kg=!1;try{var Fm={get passive(){return Sg=!0},get once(){return kg=Sg=!0}};jv&&(window.addEventListener("test",Fm,Fm),window.removeEventListener("test",Fm,!0))}catch{}function yF(e,t,r,n){if(n&&typeof n!="boolean"&&!kg){var s=n.once,a=n.capture,i=r;!kg&&s&&(i=r.__once||function l(c){this.removeEventListener(t,l,a),r.call(this,c)},r.__once=i),e.addEventListener(t,i,Sg?n:a)}e.addEventListener(t,r,n)}function vF(e){const t=w.useRef(e);return w.useEffect(()=>{t.current=e},[e]),t}function uw(e){const t=vF(e);return w.useCallback(function(...r){return t.current&&t.current(...r)},[t])}function dw(){return w.useState(null)}function xF(){const e=w.useRef(!0),t=w.useRef(()=>e.current);return w.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),t.current}function bF(e){const t=xF();return[e[0],w.useCallback(r=>{if(t())return e[1](r)},[t,e[1]])]}var Rr="top",cn="bottom",un="right",Or="left",Sv="auto",au=[Rr,cn,un,Or],ji="start",Sc="end",wF="clippingParents",OD="viewport",pl="popper",NF="reference",fw=au.reduce(function(e,t){return e.concat([t+"-"+ji,t+"-"+Sc])},[]),kv=[].concat(au,[Sv]).reduce(function(e,t){return e.concat([t,t+"-"+ji,t+"-"+Sc])},[]),jF="beforeRead",SF="read",kF="afterRead",DF="beforeMain",CF="main",EF="afterMain",_F="beforeWrite",TF="write",PF="afterWrite",AF=[jF,SF,kF,DF,CF,EF,_F,TF,PF];function ns(e){return e.split("-")[0]}function zr(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function wo(e){var t=zr(e).Element;return e instanceof t||e instanceof Element}function ss(e){var t=zr(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function Dv(e){if(typeof ShadowRoot>"u")return!1;var t=zr(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}var io=Math.max,xf=Math.min,Si=Math.round;function Dg(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function $D(){return!/^((?!chrome|android).)*safari/i.test(Dg())}function ki(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!1);var n=e.getBoundingClientRect(),s=1,a=1;t&&ss(e)&&(s=e.offsetWidth>0&&Si(n.width)/e.offsetWidth||1,a=e.offsetHeight>0&&Si(n.height)/e.offsetHeight||1);var i=wo(e)?zr(e):window,l=i.visualViewport,c=!$D()&&r,u=(n.left+(c&&l?l.offsetLeft:0))/s,d=(n.top+(c&&l?l.offsetTop:0))/a,f=n.width/s,h=n.height/a;return{width:f,height:h,top:d,right:u+f,bottom:d+h,left:u,x:u,y:d}}function Cv(e){var t=ki(e),r=e.offsetWidth,n=e.offsetHeight;return Math.abs(t.width-r)<=1&&(r=t.width),Math.abs(t.height-n)<=1&&(n=t.height),{x:e.offsetLeft,y:e.offsetTop,width:r,height:n}}function ID(e,t){var r=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(r&&Dv(r)){var n=t;do{if(n&&e.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function Ea(e){return e?(e.nodeName||"").toLowerCase():null}function Is(e){return zr(e).getComputedStyle(e)}function MF(e){return["table","td","th"].indexOf(Ea(e))>=0}function Ia(e){return((wo(e)?e.ownerDocument:e.document)||window.document).documentElement}function yh(e){return Ea(e)==="html"?e:e.assignedSlot||e.parentNode||(Dv(e)?e.host:null)||Ia(e)}function hw(e){return!ss(e)||Is(e).position==="fixed"?null:e.offsetParent}function RF(e){var t=/firefox/i.test(Dg()),r=/Trident/i.test(Dg());if(r&&ss(e)){var n=Is(e);if(n.position==="fixed")return null}var s=yh(e);for(Dv(s)&&(s=s.host);ss(s)&&["html","body"].indexOf(Ea(s))<0;){var a=Is(s);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||t&&a.willChange==="filter"||t&&a.filter&&a.filter!=="none")return s;s=s.parentNode}return null}function ou(e){for(var t=zr(e),r=hw(e);r&&MF(r)&&Is(r).position==="static";)r=hw(r);return r&&(Ea(r)==="html"||Ea(r)==="body"&&Is(r).position==="static")?t:r||RF(e)||t}function Ev(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Fl(e,t,r){return io(e,xf(t,r))}function OF(e,t,r){var n=Fl(e,t,r);return n>r?r:n}function LD(){return{top:0,right:0,bottom:0,left:0}}function FD(e){return Object.assign({},LD(),e)}function WD(e,t){return t.reduce(function(r,n){return r[n]=e,r},{})}var $F=function(t,r){return t=typeof t=="function"?t(Object.assign({},r.rects,{placement:r.placement})):t,FD(typeof t!="number"?t:WD(t,au))};function IF(e){var t,r=e.state,n=e.name,s=e.options,a=r.elements.arrow,i=r.modifiersData.popperOffsets,l=ns(r.placement),c=Ev(l),u=[Or,un].indexOf(l)>=0,d=u?"height":"width";if(!(!a||!i)){var f=$F(s.padding,r),h=Cv(a),y=c==="y"?Rr:Or,g=c==="y"?cn:un,m=r.rects.reference[d]+r.rects.reference[c]-i[c]-r.rects.popper[d],N=i[c]-r.rects.reference[c],v=ou(a),p=v?c==="y"?v.clientHeight||0:v.clientWidth||0:0,b=m/2-N/2,x=f[y],S=p-h[d]-f[g],k=p/2-h[d]/2+b,_=Fl(x,k,S),A=c;r.modifiersData[n]=(t={},t[A]=_,t.centerOffset=_-k,t)}}function LF(e){var t=e.state,r=e.options,n=r.element,s=n===void 0?"[data-popper-arrow]":n;s!=null&&(typeof s=="string"&&(s=t.elements.popper.querySelector(s),!s)||ID(t.elements.popper,s)&&(t.elements.arrow=s))}const FF={name:"arrow",enabled:!0,phase:"main",fn:IF,effect:LF,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Di(e){return e.split("-")[1]}var WF={top:"auto",right:"auto",bottom:"auto",left:"auto"};function BF(e,t){var r=e.x,n=e.y,s=t.devicePixelRatio||1;return{x:Si(r*s)/s||0,y:Si(n*s)/s||0}}function mw(e){var t,r=e.popper,n=e.popperRect,s=e.placement,a=e.variation,i=e.offsets,l=e.position,c=e.gpuAcceleration,u=e.adaptive,d=e.roundOffsets,f=e.isFixed,h=i.x,y=h===void 0?0:h,g=i.y,m=g===void 0?0:g,N=typeof d=="function"?d({x:y,y:m}):{x:y,y:m};y=N.x,m=N.y;var v=i.hasOwnProperty("x"),p=i.hasOwnProperty("y"),b=Or,x=Rr,S=window;if(u){var k=ou(r),_="clientHeight",A="clientWidth";if(k===zr(r)&&(k=Ia(r),Is(k).position!=="static"&&l==="absolute"&&(_="scrollHeight",A="scrollWidth")),k=k,s===Rr||(s===Or||s===un)&&a===Sc){x=cn;var M=f&&k===S&&S.visualViewport?S.visualViewport.height:k[_];m-=M-n.height,m*=c?1:-1}if(s===Or||(s===Rr||s===cn)&&a===Sc){b=un;var $=f&&k===S&&S.visualViewport?S.visualViewport.width:k[A];y-=$-n.width,y*=c?1:-1}}var V=Object.assign({position:l},u&&WF),H=d===!0?BF({x:y,y:m},zr(r)):{x:y,y:m};if(y=H.x,m=H.y,c){var Y;return Object.assign({},V,(Y={},Y[x]=p?"0":"",Y[b]=v?"0":"",Y.transform=(S.devicePixelRatio||1)<=1?"translate("+y+"px, "+m+"px)":"translate3d("+y+"px, "+m+"px, 0)",Y))}return Object.assign({},V,(t={},t[x]=p?m+"px":"",t[b]=v?y+"px":"",t.transform="",t))}function UF(e){var t=e.state,r=e.options,n=r.gpuAcceleration,s=n===void 0?!0:n,a=r.adaptive,i=a===void 0?!0:a,l=r.roundOffsets,c=l===void 0?!0:l,u={placement:ns(t.placement),variation:Di(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:s,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,mw(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:i,roundOffsets:c})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,mw(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const HF={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:UF,data:{}};var Yu={passive:!0};function zF(e){var t=e.state,r=e.instance,n=e.options,s=n.scroll,a=s===void 0?!0:s,i=n.resize,l=i===void 0?!0:i,c=zr(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&u.forEach(function(d){d.addEventListener("scroll",r.update,Yu)}),l&&c.addEventListener("resize",r.update,Yu),function(){a&&u.forEach(function(d){d.removeEventListener("scroll",r.update,Yu)}),l&&c.removeEventListener("resize",r.update,Yu)}}const VF={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:zF,data:{}};var YF={left:"right",right:"left",bottom:"top",top:"bottom"};function Dd(e){return e.replace(/left|right|bottom|top/g,function(t){return YF[t]})}var qF={start:"end",end:"start"};function pw(e){return e.replace(/start|end/g,function(t){return qF[t]})}function _v(e){var t=zr(e),r=t.pageXOffset,n=t.pageYOffset;return{scrollLeft:r,scrollTop:n}}function Tv(e){return ki(Ia(e)).left+_v(e).scrollLeft}function KF(e,t){var r=zr(e),n=Ia(e),s=r.visualViewport,a=n.clientWidth,i=n.clientHeight,l=0,c=0;if(s){a=s.width,i=s.height;var u=$D();(u||!u&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:a,height:i,x:l+Tv(e),y:c}}function GF(e){var t,r=Ia(e),n=_v(e),s=(t=e.ownerDocument)==null?void 0:t.body,a=io(r.scrollWidth,r.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),i=io(r.scrollHeight,r.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),l=-n.scrollLeft+Tv(e),c=-n.scrollTop;return Is(s||r).direction==="rtl"&&(l+=io(r.clientWidth,s?s.clientWidth:0)-a),{width:a,height:i,x:l,y:c}}function Pv(e){var t=Is(e),r=t.overflow,n=t.overflowX,s=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+s+n)}function BD(e){return["html","body","#document"].indexOf(Ea(e))>=0?e.ownerDocument.body:ss(e)&&Pv(e)?e:BD(yh(e))}function Wl(e,t){var r;t===void 0&&(t=[]);var n=BD(e),s=n===((r=e.ownerDocument)==null?void 0:r.body),a=zr(n),i=s?[a].concat(a.visualViewport||[],Pv(n)?n:[]):n,l=t.concat(i);return s?l:l.concat(Wl(yh(i)))}function Cg(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function QF(e,t){var r=ki(e,!1,t==="fixed");return r.top=r.top+e.clientTop,r.left=r.left+e.clientLeft,r.bottom=r.top+e.clientHeight,r.right=r.left+e.clientWidth,r.width=e.clientWidth,r.height=e.clientHeight,r.x=r.left,r.y=r.top,r}function gw(e,t,r){return t===OD?Cg(KF(e,r)):wo(t)?QF(t,r):Cg(GF(Ia(e)))}function XF(e){var t=Wl(yh(e)),r=["absolute","fixed"].indexOf(Is(e).position)>=0,n=r&&ss(e)?ou(e):e;return wo(n)?t.filter(function(s){return wo(s)&&ID(s,n)&&Ea(s)!=="body"}):[]}function JF(e,t,r,n){var s=t==="clippingParents"?XF(e):[].concat(t),a=[].concat(s,[r]),i=a[0],l=a.reduce(function(c,u){var d=gw(e,u,n);return c.top=io(d.top,c.top),c.right=xf(d.right,c.right),c.bottom=xf(d.bottom,c.bottom),c.left=io(d.left,c.left),c},gw(e,i,n));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function UD(e){var t=e.reference,r=e.element,n=e.placement,s=n?ns(n):null,a=n?Di(n):null,i=t.x+t.width/2-r.width/2,l=t.y+t.height/2-r.height/2,c;switch(s){case Rr:c={x:i,y:t.y-r.height};break;case cn:c={x:i,y:t.y+t.height};break;case un:c={x:t.x+t.width,y:l};break;case Or:c={x:t.x-r.width,y:l};break;default:c={x:t.x,y:t.y}}var u=s?Ev(s):null;if(u!=null){var d=u==="y"?"height":"width";switch(a){case ji:c[u]=c[u]-(t[d]/2-r[d]/2);break;case Sc:c[u]=c[u]+(t[d]/2-r[d]/2);break}}return c}function kc(e,t){t===void 0&&(t={});var r=t,n=r.placement,s=n===void 0?e.placement:n,a=r.strategy,i=a===void 0?e.strategy:a,l=r.boundary,c=l===void 0?wF:l,u=r.rootBoundary,d=u===void 0?OD:u,f=r.elementContext,h=f===void 0?pl:f,y=r.altBoundary,g=y===void 0?!1:y,m=r.padding,N=m===void 0?0:m,v=FD(typeof N!="number"?N:WD(N,au)),p=h===pl?NF:pl,b=e.rects.popper,x=e.elements[g?p:h],S=JF(wo(x)?x:x.contextElement||Ia(e.elements.popper),c,d,i),k=ki(e.elements.reference),_=UD({reference:k,element:b,placement:s}),A=Cg(Object.assign({},b,_)),M=h===pl?A:k,$={top:S.top-M.top+v.top,bottom:M.bottom-S.bottom+v.bottom,left:S.left-M.left+v.left,right:M.right-S.right+v.right},V=e.modifiersData.offset;if(h===pl&&V){var H=V[s];Object.keys($).forEach(function(Y){var K=[un,cn].indexOf(Y)>=0?1:-1,ce=[Rr,cn].indexOf(Y)>=0?"y":"x";$[Y]+=H[ce]*K})}return $}function ZF(e,t){t===void 0&&(t={});var r=t,n=r.placement,s=r.boundary,a=r.rootBoundary,i=r.padding,l=r.flipVariations,c=r.allowedAutoPlacements,u=c===void 0?kv:c,d=Di(n),f=d?l?fw:fw.filter(function(g){return Di(g)===d}):au,h=f.filter(function(g){return u.indexOf(g)>=0});h.length===0&&(h=f);var y=h.reduce(function(g,m){return g[m]=kc(e,{placement:m,boundary:s,rootBoundary:a,padding:i})[ns(m)],g},{});return Object.keys(y).sort(function(g,m){return y[g]-y[m]})}function e5(e){if(ns(e)===Sv)return[];var t=Dd(e);return[pw(e),t,pw(t)]}function t5(e){var t=e.state,r=e.options,n=e.name;if(!t.modifiersData[n]._skip){for(var s=r.mainAxis,a=s===void 0?!0:s,i=r.altAxis,l=i===void 0?!0:i,c=r.fallbackPlacements,u=r.padding,d=r.boundary,f=r.rootBoundary,h=r.altBoundary,y=r.flipVariations,g=y===void 0?!0:y,m=r.allowedAutoPlacements,N=t.options.placement,v=ns(N),p=v===N,b=c||(p||!g?[Dd(N)]:e5(N)),x=[N].concat(b).reduce(function(T,z){return T.concat(ns(z)===Sv?ZF(t,{placement:z,boundary:d,rootBoundary:f,padding:u,flipVariations:g,allowedAutoPlacements:m}):z)},[]),S=t.rects.reference,k=t.rects.popper,_=new Map,A=!0,M=x[0],$=0;$<x.length;$++){var V=x[$],H=ns(V),Y=Di(V)===ji,K=[Rr,cn].indexOf(H)>=0,ce=K?"width":"height",ee=kc(t,{placement:V,boundary:d,rootBoundary:f,altBoundary:h,padding:u}),de=K?Y?un:Or:Y?cn:Rr;S[ce]>k[ce]&&(de=Dd(de));var Z=Dd(de),U=[];if(a&&U.push(ee[H]<=0),l&&U.push(ee[de]<=0,ee[Z]<=0),U.every(function(T){return T})){M=V,A=!1;break}_.set(V,U)}if(A)for(var oe=g?3:1,G=function(z){var ne=x.find(function(he){var ue=_.get(he);if(ue)return ue.slice(0,z).every(function(B){return B})});if(ne)return M=ne,"break"},W=oe;W>0;W--){var D=G(W);if(D==="break")break}t.placement!==M&&(t.modifiersData[n]._skip=!0,t.placement=M,t.reset=!0)}}const r5={name:"flip",enabled:!0,phase:"main",fn:t5,requiresIfExists:["offset"],data:{_skip:!1}};function yw(e,t,r){return r===void 0&&(r={x:0,y:0}),{top:e.top-t.height-r.y,right:e.right-t.width+r.x,bottom:e.bottom-t.height+r.y,left:e.left-t.width-r.x}}function vw(e){return[Rr,un,cn,Or].some(function(t){return e[t]>=0})}function n5(e){var t=e.state,r=e.name,n=t.rects.reference,s=t.rects.popper,a=t.modifiersData.preventOverflow,i=kc(t,{elementContext:"reference"}),l=kc(t,{altBoundary:!0}),c=yw(i,n),u=yw(l,s,a),d=vw(c),f=vw(u);t.modifiersData[r]={referenceClippingOffsets:c,popperEscapeOffsets:u,isReferenceHidden:d,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":f})}const s5={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:n5};function a5(e,t,r){var n=ns(e),s=[Or,Rr].indexOf(n)>=0?-1:1,a=typeof r=="function"?r(Object.assign({},t,{placement:e})):r,i=a[0],l=a[1];return i=i||0,l=(l||0)*s,[Or,un].indexOf(n)>=0?{x:l,y:i}:{x:i,y:l}}function o5(e){var t=e.state,r=e.options,n=e.name,s=r.offset,a=s===void 0?[0,0]:s,i=kv.reduce(function(d,f){return d[f]=a5(f,t.rects,a),d},{}),l=i[t.placement],c=l.x,u=l.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=c,t.modifiersData.popperOffsets.y+=u),t.modifiersData[n]=i}const i5={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:o5};function l5(e){var t=e.state,r=e.name;t.modifiersData[r]=UD({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})}const c5={name:"popperOffsets",enabled:!0,phase:"read",fn:l5,data:{}};function u5(e){return e==="x"?"y":"x"}function d5(e){var t=e.state,r=e.options,n=e.name,s=r.mainAxis,a=s===void 0?!0:s,i=r.altAxis,l=i===void 0?!1:i,c=r.boundary,u=r.rootBoundary,d=r.altBoundary,f=r.padding,h=r.tether,y=h===void 0?!0:h,g=r.tetherOffset,m=g===void 0?0:g,N=kc(t,{boundary:c,rootBoundary:u,padding:f,altBoundary:d}),v=ns(t.placement),p=Di(t.placement),b=!p,x=Ev(v),S=u5(x),k=t.modifiersData.popperOffsets,_=t.rects.reference,A=t.rects.popper,M=typeof m=="function"?m(Object.assign({},t.rects,{placement:t.placement})):m,$=typeof M=="number"?{mainAxis:M,altAxis:M}:Object.assign({mainAxis:0,altAxis:0},M),V=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,H={x:0,y:0};if(k){if(a){var Y,K=x==="y"?Rr:Or,ce=x==="y"?cn:un,ee=x==="y"?"height":"width",de=k[x],Z=de+N[K],U=de-N[ce],oe=y?-A[ee]/2:0,G=p===ji?_[ee]:A[ee],W=p===ji?-A[ee]:-_[ee],D=t.elements.arrow,T=y&&D?Cv(D):{width:0,height:0},z=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:LD(),ne=z[K],he=z[ce],ue=Fl(0,_[ee],T[ee]),B=b?_[ee]/2-oe-ue-ne-$.mainAxis:G-ue-ne-$.mainAxis,le=b?-_[ee]/2+oe+ue+he+$.mainAxis:W+ue+he+$.mainAxis,Se=t.elements.arrow&&ou(t.elements.arrow),je=Se?x==="y"?Se.clientTop||0:Se.clientLeft||0:0,Re=(Y=V==null?void 0:V[x])!=null?Y:0,L=de+B-Re-je,ae=de+le-Re,P=Fl(y?xf(Z,L):Z,de,y?io(U,ae):U);k[x]=P,H[x]=P-de}if(l){var q,j=x==="x"?Rr:Or,R=x==="x"?cn:un,E=k[S],C=S==="y"?"height":"width",O=E+N[j],J=E-N[R],te=[Rr,Or].indexOf(v)!==-1,se=(q=V==null?void 0:V[S])!=null?q:0,fe=te?O:E-_[C]-A[C]-se+$.altAxis,ke=te?E+_[C]+A[C]-se-$.altAxis:J,we=y&&te?OF(fe,E,ke):Fl(y?fe:O,E,y?ke:J);k[S]=we,H[S]=we-E}t.modifiersData[n]=H}}const f5={name:"preventOverflow",enabled:!0,phase:"main",fn:d5,requiresIfExists:["offset"]};function h5(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function m5(e){return e===zr(e)||!ss(e)?_v(e):h5(e)}function p5(e){var t=e.getBoundingClientRect(),r=Si(t.width)/e.offsetWidth||1,n=Si(t.height)/e.offsetHeight||1;return r!==1||n!==1}function g5(e,t,r){r===void 0&&(r=!1);var n=ss(t),s=ss(t)&&p5(t),a=Ia(t),i=ki(e,s,r),l={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(n||!n&&!r)&&((Ea(t)!=="body"||Pv(a))&&(l=m5(t)),ss(t)?(c=ki(t,!0),c.x+=t.clientLeft,c.y+=t.clientTop):a&&(c.x=Tv(a))),{x:i.left+l.scrollLeft-c.x,y:i.top+l.scrollTop-c.y,width:i.width,height:i.height}}function y5(e){var t=new Map,r=new Set,n=[];e.forEach(function(a){t.set(a.name,a)});function s(a){r.add(a.name);var i=[].concat(a.requires||[],a.requiresIfExists||[]);i.forEach(function(l){if(!r.has(l)){var c=t.get(l);c&&s(c)}}),n.push(a)}return e.forEach(function(a){r.has(a.name)||s(a)}),n}function v5(e){var t=y5(e);return AF.reduce(function(r,n){return r.concat(t.filter(function(s){return s.phase===n}))},[])}function x5(e){var t;return function(){return t||(t=new Promise(function(r){Promise.resolve().then(function(){t=void 0,r(e())})})),t}}function b5(e){var t=e.reduce(function(r,n){var s=r[n.name];return r[n.name]=s?Object.assign({},s,n,{options:Object.assign({},s.options,n.options),data:Object.assign({},s.data,n.data)}):n,r},{});return Object.keys(t).map(function(r){return t[r]})}var xw={placement:"bottom",modifiers:[],strategy:"absolute"};function bw(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return!t.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function w5(e){e===void 0&&(e={});var t=e,r=t.defaultModifiers,n=r===void 0?[]:r,s=t.defaultOptions,a=s===void 0?xw:s;return function(l,c,u){u===void 0&&(u=a);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},xw,a),modifiersData:{},elements:{reference:l,popper:c},attributes:{},styles:{}},f=[],h=!1,y={state:d,setOptions:function(v){var p=typeof v=="function"?v(d.options):v;m(),d.options=Object.assign({},a,d.options,p),d.scrollParents={reference:wo(l)?Wl(l):l.contextElement?Wl(l.contextElement):[],popper:Wl(c)};var b=v5(b5([].concat(n,d.options.modifiers)));return d.orderedModifiers=b.filter(function(x){return x.enabled}),g(),y.update()},forceUpdate:function(){if(!h){var v=d.elements,p=v.reference,b=v.popper;if(bw(p,b)){d.rects={reference:g5(p,ou(b),d.options.strategy==="fixed"),popper:Cv(b)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function($){return d.modifiersData[$.name]=Object.assign({},$.data)});for(var x=0;x<d.orderedModifiers.length;x++){if(d.reset===!0){d.reset=!1,x=-1;continue}var S=d.orderedModifiers[x],k=S.fn,_=S.options,A=_===void 0?{}:_,M=S.name;typeof k=="function"&&(d=k({state:d,options:A,name:M,instance:y})||d)}}}},update:x5(function(){return new Promise(function(N){y.forceUpdate(),N(d)})}),destroy:function(){m(),h=!0}};if(!bw(l,c))return y;y.setOptions(u).then(function(N){!h&&u.onFirstUpdate&&u.onFirstUpdate(N)});function g(){d.orderedModifiers.forEach(function(N){var v=N.name,p=N.options,b=p===void 0?{}:p,x=N.effect;if(typeof x=="function"){var S=x({state:d,name:v,instance:y,options:b}),k=function(){};f.push(S||k)}})}function m(){f.forEach(function(N){return N()}),f=[]}return y}}var N5=w5({defaultModifiers:[s5,c5,HF,VF,i5,r5,f5,FF]}),ww=function(t){return{position:t,top:"0",left:"0",opacity:"0",pointerEvents:"none"}},j5={name:"applyStyles",enabled:!1},S5={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(t){var r=t.state;return function(){var n=r.elements,s=n.reference,a=n.popper;if("removeAttribute"in s){var i=(s.getAttribute("aria-describedby")||"").split(",").filter(function(l){return l.trim()!==a.id});i.length?s.setAttribute("aria-describedby",i.join(",")):s.removeAttribute("aria-describedby")}}},fn:function(t){var r,n=t.state,s=n.elements,a=s.popper,i=s.reference,l=(r=a.getAttribute("role"))==null?void 0:r.toLowerCase();if(a.id&&l==="tooltip"&&"setAttribute"in i){var c=i.getAttribute("aria-describedby");if(c&&c.split(",").indexOf(a.id)!==-1)return;i.setAttribute("aria-describedby",c?c+","+a.id:a.id)}}},k5=[];function D5(e,t,r){var n=r===void 0?{}:r,s=n.enabled,a=s===void 0?!0:s,i=n.placement,l=i===void 0?"bottom":i,c=n.strategy,u=c===void 0?"absolute":c,d=n.modifiers,f=d===void 0?k5:d,h=mh(n,["enabled","placement","strategy","modifiers"]),y=w.useRef(),g=w.useCallback(function(){var x;(x=y.current)==null||x.update()},[]),m=w.useCallback(function(){var x;(x=y.current)==null||x.forceUpdate()},[]),N=bF(w.useState({placement:l,update:g,forceUpdate:m,attributes:{},styles:{popper:ww(u),arrow:{}}})),v=N[0],p=N[1],b=w.useMemo(function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(S){var k=S.state,_={},A={};Object.keys(k.elements).forEach(function(M){_[M]=k.styles[M],A[M]=k.attributes[M]}),p({state:k,styles:_,attributes:A,update:g,forceUpdate:m,placement:k.placement})}}},[g,m,p]);return w.useEffect(function(){!y.current||!a||y.current.setOptions({placement:l,strategy:u,modifiers:[].concat(f,[b,j5])})},[u,l,b,a]),w.useEffect(function(){if(!(!a||e==null||t==null))return y.current=N5(e,t,Et({},h,{placement:l,strategy:u,modifiers:[].concat(f,[S5,b])})),function(){y.current!=null&&(y.current.destroy(),y.current=void 0,p(function(x){return Et({},x,{attributes:{},styles:{popper:ww(u)}})}))}},[a,e,t]),v}function C5(e,t,r,n){var s=n&&typeof n!="boolean"?n.capture:n;e.removeEventListener(t,r,s),r.__once&&e.removeEventListener(t,r.__once,s)}function Dl(e,t,r,n){return yF(e,t,r,n),function(){C5(e,t,r,n)}}var E5=function(){},_5=E5;const T5=wr(_5);function P5(e){return e&&"setState"in e?bS.findDOMNode(e):e??null}const A5=function(e){return su(P5(e))};var M5=27,Nw=function(){};function R5(e){return e.button===0}function O5(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}var jw=function(t){return t&&("current"in t?t.current:t)};function $5(e,t,r){var n=r===void 0?{}:r,s=n.disabled,a=n.clickTrigger,i=a===void 0?"click":a,l=w.useRef(!1),c=t||Nw,u=w.useCallback(function(h){var y,g=jw(e);T5(!!g,"RootClose captured a close event but does not have a ref to compare it to. useRootClose(), should be passed a ref that resolves to a DOM node"),l.current=!g||O5(h)||!R5(h)||!!jc(g,(y=h.composedPath==null?void 0:h.composedPath()[0])!=null?y:h.target)},[e]),d=uw(function(h){l.current||c(h)}),f=uw(function(h){h.keyCode===M5&&c(h)});w.useEffect(function(){if(!(s||e==null)){var h=window.event,y=A5(jw(e)),g=Dl(y,i,u,!0),m=Dl(y,i,function(p){if(p===h){h=void 0;return}d(p)}),N=Dl(y,"keyup",function(p){if(p===h){h=void 0;return}f(p)}),v=[];return"ontouchstart"in y.documentElement&&(v=[].slice.call(y.body.children).map(function(p){return Dl(p,"mousemove",Nw)})),function(){g(),m(),N(),v.forEach(function(p){return p()})}}},[e,s,i,u,d,f])}function I5(e){var t={};return Array.isArray(e)?(e==null||e.forEach(function(r){t[r.name]=r}),t):e||t}function L5(e){return e===void 0&&(e={}),Array.isArray(e)?e:Object.keys(e).map(function(t){return e[t].name=t,e[t]})}function F5(e){var t,r,n,s,a=e.enabled,i=e.enableEvents,l=e.placement,c=e.flip,u=e.offset,d=e.fixed,f=e.containerPadding,h=e.arrowElement,y=e.popperConfig,g=y===void 0?{}:y,m=I5(g.modifiers);return Et({},g,{placement:l,enabled:a,strategy:d?"fixed":g.strategy,modifiers:L5(Et({},m,{eventListeners:{enabled:i},preventOverflow:Et({},m.preventOverflow,{options:f?Et({padding:f},(t=m.preventOverflow)==null?void 0:t.options):(r=m.preventOverflow)==null?void 0:r.options}),offset:{options:Et({offset:u},(n=m.offset)==null?void 0:n.options)},arrow:Et({},m.arrow,{enabled:!!h,options:Et({},(s=m.arrow)==null?void 0:s.options,{element:h})}),flip:Et({enabled:!!c},m.flip)}))})}function W5(e,t){return e.classList?e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function B5(e,t){e.classList?e.classList.add(t):W5(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function Sw(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function U5(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=Sw(e.className,t):e.setAttribute("class",Sw(e.className&&e.className.baseVal||"",t))}var qu;function Av(e){if((!qu&&qu!==0||e)&&jv){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),qu=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return qu}var Wm=function(t){var r;return typeof document>"u"?null:t==null?su().body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),(r=t)!=null&&r.nodeType&&t||null)};function kw(e,t){var r=w.useState(function(){return Wm(e)}),n=r[0],s=r[1];if(!n){var a=Wm(e);a&&s(a)}return w.useEffect(function(){},[t,n]),w.useEffect(function(){var i=Wm(e);i!==n&&s(i)},[e,n]),n}const Dw=e=>!e||typeof e=="function"?e:t=>{e.current=t};function H5(e,t){const r=Dw(e),n=Dw(t);return s=>{r&&r(s),n&&n(s)}}function z5(e,t){return w.useMemo(()=>H5(e,t),[e,t])}var Mv=F.forwardRef(function(e,t){var r=e.flip,n=e.offset,s=e.placement,a=e.containerPadding,i=a===void 0?5:a,l=e.popperConfig,c=l===void 0?{}:l,u=e.transition,d=dw(),f=d[0],h=d[1],y=dw(),g=y[0],m=y[1],N=z5(h,t),v=kw(e.container),p=kw(e.target),b=w.useState(!e.show),x=b[0],S=b[1],k=D5(p,f,F5({placement:s,enableEvents:!!e.show,containerPadding:i||5,flip:r,offset:n,arrowElement:g,popperConfig:c})),_=k.styles,A=k.attributes,M=mh(k,["styles","attributes"]);e.show?x&&S(!1):!e.transition&&!x&&S(!0);var $=function(){S(!0),e.onExited&&e.onExited.apply(e,arguments)},V=e.show||u&&!x;if($5(f,e.onHide,{disabled:!e.rootClose||e.rootCloseDisabled,clickTrigger:e.rootCloseEvent}),!V)return null;var H=e.children(Et({},M,{show:!!e.show,props:Et({},A.popper,{style:_.popper,ref:N}),arrowProps:Et({},A.arrow,{style:_.arrow,ref:m})}));if(u){var Y=e.onExit,K=e.onExiting,ce=e.onEnter,ee=e.onEntering,de=e.onEntered;H=F.createElement(u,{in:e.show,appear:!0,onExit:Y,onExiting:K,onExited:$,onEnter:ce,onEntering:ee,onEntered:de},H)}return v?bS.createPortal(H,v):null});Mv.displayName="Overlay";Mv.propTypes={show:be.bool,placement:be.oneOf(kv),target:be.any,container:be.any,flip:be.bool,children:be.func.isRequired,containerPadding:be.number,popperConfig:be.object,rootClose:be.bool,rootCloseEvent:be.oneOf(["click","mousedown"]),rootCloseDisabled:be.bool,onHide:function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),s=1;s<r;s++)n[s-1]=arguments[s];if(t.rootClose){var a;return(a=be.func).isRequired.apply(a,[t].concat(n))}return be.func.apply(be,[t].concat(n))},transition:be.elementType,onEnter:be.func,onEntering:be.func,onEntered:be.func,onExit:be.func,onExiting:be.func,onExited:be.func};function V5(){this.__data__=[],this.size=0}var Y5=V5,q5=tu;function K5(e,t){for(var r=e.length;r--;)if(q5(e[r][0],t))return r;return-1}var vh=K5,G5=vh,Q5=Array.prototype,X5=Q5.splice;function J5(e){var t=this.__data__,r=G5(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():X5.call(t,r,1),--this.size,!0}var Z5=J5,e6=vh;function t6(e){var t=this.__data__,r=e6(t,e);return r<0?void 0:t[r][1]}var r6=t6,n6=vh;function s6(e){return n6(this.__data__,e)>-1}var a6=s6,o6=vh;function i6(e,t){var r=this.__data__,n=o6(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var l6=i6,c6=Y5,u6=Z5,d6=r6,f6=a6,h6=l6;function Bi(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Bi.prototype.clear=c6;Bi.prototype.delete=u6;Bi.prototype.get=d6;Bi.prototype.has=f6;Bi.prototype.set=h6;var xh=Bi,m6=xh;function p6(){this.__data__=new m6,this.size=0}var g6=p6;function y6(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var v6=y6;function x6(e){return this.__data__.get(e)}var b6=x6;function w6(e){return this.__data__.has(e)}var N6=w6,j6=cs,S6=j6["__core-js_shared__"],k6=S6,Bm=k6,Cw=function(){var e=/[^.]+$/.exec(Bm&&Bm.keys&&Bm.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function D6(e){return!!Cw&&Cw in e}var C6=D6,E6=Function.prototype,_6=E6.toString;function T6(e){if(e!=null){try{return _6.call(e)}catch{}try{return e+""}catch{}}return""}var HD=T6,P6=xv,A6=C6,M6=Bs,R6=HD,O6=/[\\^$.*+?()[\]{}|]/g,$6=/^\[object .+?Constructor\]$/,I6=Function.prototype,L6=Object.prototype,F6=I6.toString,W6=L6.hasOwnProperty,B6=RegExp("^"+F6.call(W6).replace(O6,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function U6(e){if(!M6(e)||A6(e))return!1;var t=P6(e)?B6:$6;return t.test(R6(e))}var H6=U6;function z6(e,t){return e==null?void 0:e[t]}var V6=z6,Y6=H6,q6=V6;function K6(e,t){var r=q6(e,t);return Y6(r)?r:void 0}var ko=K6,G6=ko,Q6=cs,X6=G6(Q6,"Map"),Rv=X6,J6=ko,Z6=J6(Object,"create"),bh=Z6,Ew=bh;function eW(){this.__data__=Ew?Ew(null):{},this.size=0}var tW=eW;function rW(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var nW=rW,sW=bh,aW="__lodash_hash_undefined__",oW=Object.prototype,iW=oW.hasOwnProperty;function lW(e){var t=this.__data__;if(sW){var r=t[e];return r===aW?void 0:r}return iW.call(t,e)?t[e]:void 0}var cW=lW,uW=bh,dW=Object.prototype,fW=dW.hasOwnProperty;function hW(e){var t=this.__data__;return uW?t[e]!==void 0:fW.call(t,e)}var mW=hW,pW=bh,gW="__lodash_hash_undefined__";function yW(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=pW&&t===void 0?gW:t,this}var vW=yW,xW=tW,bW=nW,wW=cW,NW=mW,jW=vW;function Ui(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Ui.prototype.clear=xW;Ui.prototype.delete=bW;Ui.prototype.get=wW;Ui.prototype.has=NW;Ui.prototype.set=jW;var SW=Ui,_w=SW,kW=xh,DW=Rv;function CW(){this.size=0,this.__data__={hash:new _w,map:new(DW||kW),string:new _w}}var EW=CW;function _W(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var TW=_W,PW=TW;function AW(e,t){var r=e.__data__;return PW(t)?r[typeof t=="string"?"string":"hash"]:r.map}var wh=AW,MW=wh;function RW(e){var t=MW(this,e).delete(e);return this.size-=t?1:0,t}var OW=RW,$W=wh;function IW(e){return $W(this,e).get(e)}var LW=IW,FW=wh;function WW(e){return FW(this,e).has(e)}var BW=WW,UW=wh;function HW(e,t){var r=UW(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var zW=HW,VW=EW,YW=OW,qW=LW,KW=BW,GW=zW;function Hi(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Hi.prototype.clear=VW;Hi.prototype.delete=YW;Hi.prototype.get=qW;Hi.prototype.has=KW;Hi.prototype.set=GW;var Ov=Hi,QW=xh,XW=Rv,JW=Ov,ZW=200;function eB(e,t){var r=this.__data__;if(r instanceof QW){var n=r.__data__;if(!XW||n.length<ZW-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new JW(n)}return r.set(e,t),this.size=r.size,this}var tB=eB,rB=xh,nB=g6,sB=v6,aB=b6,oB=N6,iB=tB;function zi(e){var t=this.__data__=new rB(e);this.size=t.size}zi.prototype.clear=nB;zi.prototype.delete=sB;zi.prototype.get=aB;zi.prototype.has=oB;zi.prototype.set=iB;var $v=zi,lB="__lodash_hash_undefined__";function cB(e){return this.__data__.set(e,lB),this}var uB=cB;function dB(e){return this.__data__.has(e)}var fB=dB,hB=Ov,mB=uB,pB=fB;function bf(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new hB;++t<r;)this.add(e[t])}bf.prototype.add=bf.prototype.push=mB;bf.prototype.has=pB;var gB=bf;function yB(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var vB=yB;function xB(e,t){return e.has(t)}var bB=xB,wB=gB,NB=vB,jB=bB,SB=1,kB=2;function DB(e,t,r,n,s,a){var i=r&SB,l=e.length,c=t.length;if(l!=c&&!(i&&c>l))return!1;var u=a.get(e),d=a.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,y=r&kB?new wB:void 0;for(a.set(e,t),a.set(t,e);++f<l;){var g=e[f],m=t[f];if(n)var N=i?n(m,g,f,t,e,a):n(g,m,f,e,t,a);if(N!==void 0){if(N)continue;h=!1;break}if(y){if(!NB(t,function(v,p){if(!jB(y,p)&&(g===v||s(g,v,r,n,a)))return y.push(p)})){h=!1;break}}else if(!(g===m||s(g,m,r,n,a))){h=!1;break}}return a.delete(e),a.delete(t),h}var zD=DB,CB=cs,EB=CB.Uint8Array,VD=EB;function _B(e){var t=-1,r=Array(e.size);return e.forEach(function(n,s){r[++t]=[s,n]}),r}var TB=_B;function PB(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var AB=PB,Tw=Fi,Pw=VD,MB=tu,RB=zD,OB=TB,$B=AB,IB=1,LB=2,FB="[object Boolean]",WB="[object Date]",BB="[object Error]",UB="[object Map]",HB="[object Number]",zB="[object RegExp]",VB="[object Set]",YB="[object String]",qB="[object Symbol]",KB="[object ArrayBuffer]",GB="[object DataView]",Aw=Tw?Tw.prototype:void 0,Um=Aw?Aw.valueOf:void 0;function QB(e,t,r,n,s,a,i){switch(r){case GB:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case KB:return!(e.byteLength!=t.byteLength||!a(new Pw(e),new Pw(t)));case FB:case WB:case HB:return MB(+e,+t);case BB:return e.name==t.name&&e.message==t.message;case zB:case YB:return e==t+"";case UB:var l=OB;case VB:var c=n&IB;if(l||(l=$B),e.size!=t.size&&!c)return!1;var u=i.get(e);if(u)return u==t;n|=LB,i.set(e,t);var d=RB(l(e),l(t),n,s,a,i);return i.delete(e),d;case qB:if(Um)return Um.call(e)==Um.call(t)}return!1}var XB=QB;function JB(e,t){for(var r=-1,n=t.length,s=e.length;++r<n;)e[s+r]=t[r];return e}var Iv=JB,ZB=Array.isArray,fn=ZB,eU=Iv,tU=fn;function rU(e,t,r){var n=t(e);return tU(e)?n:eU(n,r(e))}var YD=rU;function nU(e,t){for(var r=-1,n=e==null?0:e.length,s=0,a=[];++r<n;){var i=e[r];t(i,r,e)&&(a[s++]=i)}return a}var sU=nU;function aU(){return[]}var qD=aU,oU=sU,iU=qD,lU=Object.prototype,cU=lU.propertyIsEnumerable,Mw=Object.getOwnPropertySymbols,uU=Mw?function(e){return e==null?[]:(e=Object(e),oU(Mw(e),function(t){return cU.call(e,t)}))}:iU,Lv=uU;function dU(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var fU=dU,hU=Wi,mU=$a,pU="[object Arguments]";function gU(e){return mU(e)&&hU(e)==pU}var yU=gU,Rw=yU,vU=$a,KD=Object.prototype,xU=KD.hasOwnProperty,bU=KD.propertyIsEnumerable,wU=Rw(function(){return arguments}())?Rw:function(e){return vU(e)&&xU.call(e,"callee")&&!bU.call(e,"callee")},Fv=wU,wf={exports:{}};function NU(){return!1}var jU=NU;wf.exports;(function(e,t){var r=cs,n=jU,s=t&&!t.nodeType&&t,a=s&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===s,l=i?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(wf,wf.exports);var Nh=wf.exports,SU=Wi,kU=bv,DU=$a,CU="[object Arguments]",EU="[object Array]",_U="[object Boolean]",TU="[object Date]",PU="[object Error]",AU="[object Function]",MU="[object Map]",RU="[object Number]",OU="[object Object]",$U="[object RegExp]",IU="[object Set]",LU="[object String]",FU="[object WeakMap]",WU="[object ArrayBuffer]",BU="[object DataView]",UU="[object Float32Array]",HU="[object Float64Array]",zU="[object Int8Array]",VU="[object Int16Array]",YU="[object Int32Array]",qU="[object Uint8Array]",KU="[object Uint8ClampedArray]",GU="[object Uint16Array]",QU="[object Uint32Array]",mt={};mt[UU]=mt[HU]=mt[zU]=mt[VU]=mt[YU]=mt[qU]=mt[KU]=mt[GU]=mt[QU]=!0;mt[CU]=mt[EU]=mt[WU]=mt[_U]=mt[BU]=mt[TU]=mt[PU]=mt[AU]=mt[MU]=mt[RU]=mt[OU]=mt[$U]=mt[IU]=mt[LU]=mt[FU]=!1;function XU(e){return DU(e)&&kU(e.length)&&!!mt[SU(e)]}var JU=XU;function ZU(e){return function(t){return e(t)}}var jh=ZU,Nf={exports:{}};Nf.exports;(function(e,t){var r=DD,n=t&&!t.nodeType&&t,s=n&&!0&&e&&!e.nodeType&&e,a=s&&s.exports===n,i=a&&r.process,l=function(){try{var c=s&&s.require&&s.require("util").types;return c||i&&i.binding&&i.binding("util")}catch{}}();e.exports=l})(Nf,Nf.exports);var Wv=Nf.exports,eH=JU,tH=jh,Ow=Wv,$w=Ow&&Ow.isTypedArray,rH=$w?tH($w):eH,Bv=rH,nH=fU,sH=Fv,aH=fn,oH=Nh,iH=wv,lH=Bv,cH=Object.prototype,uH=cH.hasOwnProperty;function dH(e,t){var r=aH(e),n=!r&&sH(e),s=!r&&!n&&oH(e),a=!r&&!n&&!s&&lH(e),i=r||n||s||a,l=i?nH(e.length,String):[],c=l.length;for(var u in e)(t||uH.call(e,u))&&!(i&&(u=="length"||s&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||iH(u,c)))&&l.push(u);return l}var GD=dH,fH=Object.prototype;function hH(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||fH;return e===r}var Uv=hH;function mH(e,t){return function(r){return e(t(r))}}var QD=mH,pH=QD,gH=pH(Object.keys,Object),yH=gH,vH=Uv,xH=yH,bH=Object.prototype,wH=bH.hasOwnProperty;function NH(e){if(!vH(e))return xH(e);var t=[];for(var r in Object(e))wH.call(e,r)&&r!="constructor"&&t.push(r);return t}var jH=NH,SH=GD,kH=jH,DH=ru;function CH(e){return DH(e)?SH(e):kH(e)}var iu=CH,EH=YD,_H=Lv,TH=iu;function PH(e){return EH(e,TH,_H)}var XD=PH,Iw=XD,AH=1,MH=Object.prototype,RH=MH.hasOwnProperty;function OH(e,t,r,n,s,a){var i=r&AH,l=Iw(e),c=l.length,u=Iw(t),d=u.length;if(c!=d&&!i)return!1;for(var f=c;f--;){var h=l[f];if(!(i?h in t:RH.call(t,h)))return!1}var y=a.get(e),g=a.get(t);if(y&&g)return y==t&&g==e;var m=!0;a.set(e,t),a.set(t,e);for(var N=i;++f<c;){h=l[f];var v=e[h],p=t[h];if(n)var b=i?n(p,v,h,t,e,a):n(v,p,h,e,t,a);if(!(b===void 0?v===p||s(v,p,r,n,a):b)){m=!1;break}N||(N=h=="constructor")}if(m&&!N){var x=e.constructor,S=t.constructor;x!=S&&"constructor"in e&&"constructor"in t&&!(typeof x=="function"&&x instanceof x&&typeof S=="function"&&S instanceof S)&&(m=!1)}return a.delete(e),a.delete(t),m}var $H=OH,IH=ko,LH=cs,FH=IH(LH,"DataView"),WH=FH,BH=ko,UH=cs,HH=BH(UH,"Promise"),zH=HH,VH=ko,YH=cs,qH=VH(YH,"Set"),KH=qH,GH=ko,QH=cs,XH=GH(QH,"WeakMap"),JH=XH,Eg=WH,_g=Rv,Tg=zH,Pg=KH,Ag=JH,JD=Wi,Vi=HD,Lw="[object Map]",ZH="[object Object]",Fw="[object Promise]",Ww="[object Set]",Bw="[object WeakMap]",Uw="[object DataView]",ez=Vi(Eg),tz=Vi(_g),rz=Vi(Tg),nz=Vi(Pg),sz=Vi(Ag),Ua=JD;(Eg&&Ua(new Eg(new ArrayBuffer(1)))!=Uw||_g&&Ua(new _g)!=Lw||Tg&&Ua(Tg.resolve())!=Fw||Pg&&Ua(new Pg)!=Ww||Ag&&Ua(new Ag)!=Bw)&&(Ua=function(e){var t=JD(e),r=t==ZH?e.constructor:void 0,n=r?Vi(r):"";if(n)switch(n){case ez:return Uw;case tz:return Lw;case rz:return Fw;case nz:return Ww;case sz:return Bw}return t});var Sh=Ua,Hm=$v,az=zD,oz=XB,iz=$H,Hw=Sh,zw=fn,Vw=Nh,lz=Bv,cz=1,Yw="[object Arguments]",qw="[object Array]",Ku="[object Object]",uz=Object.prototype,Kw=uz.hasOwnProperty;function dz(e,t,r,n,s,a){var i=zw(e),l=zw(t),c=i?qw:Hw(e),u=l?qw:Hw(t);c=c==Yw?Ku:c,u=u==Yw?Ku:u;var d=c==Ku,f=u==Ku,h=c==u;if(h&&Vw(e)){if(!Vw(t))return!1;i=!0,d=!1}if(h&&!d)return a||(a=new Hm),i||lz(e)?az(e,t,r,n,s,a):oz(e,t,c,r,n,s,a);if(!(r&cz)){var y=d&&Kw.call(e,"__wrapped__"),g=f&&Kw.call(t,"__wrapped__");if(y||g){var m=y?e.value():e,N=g?t.value():t;return a||(a=new Hm),s(m,N,r,n,a)}}return h?(a||(a=new Hm),iz(e,t,r,n,s,a)):!1}var fz=dz,hz=fz,Gw=$a;function ZD(e,t,r,n,s){return e===t?!0:e==null||t==null||!Gw(e)&&!Gw(t)?e!==e&&t!==t:hz(e,t,r,n,ZD,s)}var Hv=ZD,mz=Hv;function pz(e,t){return mz(e,t)}var gz=pz;const yz=wr(gz);function zm(e,t){var r=Nv(e);return r?r.innerHeight:oo(e).height}function e2(e,t,r){e.closest&&!r&&e.closest(t);var n=e;do{if(mF(n,t))return n;n=n.parentElement}while(n&&n!==r&&n.nodeType===document.ELEMENT_NODE);return null}function vz(e,t,r,n){for(var s=e.length,a=r+(n?1:-1);n?a--:++a<s;)if(t(e[a],a,e))return a;return-1}var xz=vz,bz=$v,wz=Hv,Nz=1,jz=2;function Sz(e,t,r,n){var s=r.length,a=s,i=!n;if(e==null)return!a;for(e=Object(e);s--;){var l=r[s];if(i&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++s<a;){l=r[s];var c=l[0],u=e[c],d=l[1];if(i&&l[2]){if(u===void 0&&!(c in e))return!1}else{var f=new bz;if(n)var h=n(u,d,c,e,t,f);if(!(h===void 0?wz(d,u,Nz|jz,n,f):h))return!1}}return!0}var kz=Sz,Dz=Bs;function Cz(e){return e===e&&!Dz(e)}var t2=Cz,Ez=t2,_z=iu;function Tz(e){for(var t=_z(e),r=t.length;r--;){var n=t[r],s=e[n];t[r]=[n,s,Ez(s)]}return t}var Pz=Tz;function Az(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var r2=Az,Mz=kz,Rz=Pz,Oz=r2;function $z(e){var t=Rz(e);return t.length==1&&t[0][2]?Oz(t[0][0],t[0][1]):function(r){return r===e||Mz(r,e,t)}}var Iz=$z,Lz=fn,Fz=nu,Wz=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Bz=/^\w*$/;function Uz(e,t){if(Lz(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||Fz(e)?!0:Bz.test(e)||!Wz.test(e)||t!=null&&e in Object(t)}var zv=Uz,n2=Ov,Hz="Expected a function";function Vv(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Hz);var r=function(){var n=arguments,s=t?t.apply(this,n):n[0],a=r.cache;if(a.has(s))return a.get(s);var i=e.apply(this,n);return r.cache=a.set(s,i)||a,i};return r.cache=new(Vv.Cache||n2),r}Vv.Cache=n2;var zz=Vv,Vz=zz,Yz=500;function qz(e){var t=Vz(e,function(n){return r.size===Yz&&r.clear(),n}),r=t.cache;return t}var Kz=qz,Gz=Kz,Qz=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Xz=/\\(\\)?/g,Jz=Gz(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Qz,function(r,n,s,a){t.push(s?a.replace(Xz,"$1"):n||r)}),t}),Zz=Jz;function e9(e,t){for(var r=-1,n=e==null?0:e.length,s=Array(n);++r<n;)s[r]=t(e[r],r,e);return s}var Yv=e9,Qw=Fi,t9=Yv,r9=fn,n9=nu,Xw=Qw?Qw.prototype:void 0,Jw=Xw?Xw.toString:void 0;function s2(e){if(typeof e=="string")return e;if(r9(e))return t9(e,s2)+"";if(n9(e))return Jw?Jw.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var s9=s2,a9=s9;function o9(e){return e==null?"":a9(e)}var i9=o9,l9=fn,c9=zv,u9=Zz,d9=i9;function f9(e,t){return l9(e)?e:c9(e,t)?[e]:u9(d9(e))}var kh=f9,h9=nu;function m9(e){if(typeof e=="string"||h9(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var lu=m9,p9=kh,g9=lu;function y9(e,t){t=p9(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[g9(t[r++])];return r&&r==n?e:void 0}var Dh=y9,v9=Dh;function x9(e,t,r){var n=e==null?void 0:v9(e,t);return n===void 0?r:n}var b9=x9;function w9(e,t){return e!=null&&t in Object(e)}var N9=w9,j9=kh,S9=Fv,k9=fn,D9=wv,C9=bv,E9=lu;function _9(e,t,r){t=j9(t,e);for(var n=-1,s=t.length,a=!1;++n<s;){var i=E9(t[n]);if(!(a=e!=null&&r(e,i)))break;e=e[i]}return a||++n!=s?a:(s=e==null?0:e.length,!!s&&C9(s)&&D9(i,s)&&(k9(e)||S9(e)))}var T9=_9,P9=N9,A9=T9;function M9(e,t){return e!=null&&A9(e,t,P9)}var R9=M9,O9=Hv,$9=b9,I9=R9,L9=zv,F9=t2,W9=r2,B9=lu,U9=1,H9=2;function z9(e,t){return L9(e)&&F9(t)?W9(B9(e),t):function(r){var n=$9(r,e);return n===void 0&&n===t?I9(r,e):O9(t,n,U9|H9)}}var V9=z9;function Y9(e){return e}var Ch=Y9;function q9(e){return function(t){return t==null?void 0:t[e]}}var K9=q9,G9=Dh;function Q9(e){return function(t){return G9(t,e)}}var X9=Q9,J9=K9,Z9=X9,eV=zv,tV=lu;function rV(e){return eV(e)?J9(tV(e)):Z9(e)}var nV=rV,sV=Iz,aV=V9,oV=Ch,iV=fn,lV=nV;function cV(e){return typeof e=="function"?e:e==null?oV:typeof e=="object"?iV(e)?aV(e[0],e[1]):sV(e):lV(e)}var Eh=cV,uV=xz,dV=Eh,fV=_D,hV=Math.max;function mV(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var s=r==null?0:fV(r);return s<0&&(s=hV(n+s,0)),uV(e,dV(t),s)}var pV=mV;const gV=wr(pV);var yV=Math.ceil,vV=Math.max;function xV(e,t,r,n){for(var s=-1,a=vV(yV((t-e)/(r||1)),0),i=Array(a);a--;)i[n?a:++s]=e,e+=r;return i}var bV=xV,wV=bV,NV=gh,Vm=ED;function jV(e){return function(t,r,n){return n&&typeof n!="number"&&NV(t,r,n)&&(r=n=void 0),t=Vm(t),r===void 0?(r=t,t=0):r=Vm(r),n=n===void 0?t<r?1:-1:Vm(n),wV(t,r,n,e)}}var SV=jV,kV=SV,DV=kV(),CV=DV;const EV=wr(CV);var Zw=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function _V(e,t){return!!(e===t||Zw(e)&&Zw(t))}function TV(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!_V(e[r],t[r]))return!1;return!0}function a2(e,t){t===void 0&&(t=TV);var r=null;function n(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];if(r&&r.lastThis===this&&t(s,r.lastArgs))return r.lastResult;var i=e.apply(this,s);return r={lastResult:i,lastArgs:s,lastThis:this},i}return n.clear=function(){r=null},n}function Mg(e,t){var r=Nv(e);return r?r.innerWidth:oo(e).width}var e1=Fi,PV=Fv,AV=fn,t1=e1?e1.isConcatSpreadable:void 0;function MV(e){return AV(e)||PV(e)||!!(t1&&e&&e[t1])}var RV=MV,OV=Iv,$V=RV;function o2(e,t,r,n,s){var a=-1,i=e.length;for(r||(r=$V),s||(s=[]);++a<i;){var l=e[a];t>0&&r(l)?t>1?o2(l,t-1,r,n,s):OV(s,l):n||(s[s.length]=l)}return s}var i2=o2;function IV(e){return function(t,r,n){for(var s=-1,a=Object(t),i=n(t),l=i.length;l--;){var c=i[e?l:++s];if(r(a[c],c,a)===!1)break}return t}}var LV=IV,FV=LV,WV=FV(),BV=WV,UV=BV,HV=iu;function zV(e,t){return e&&UV(e,t,HV)}var qv=zV,VV=ru;function YV(e,t){return function(r,n){if(r==null)return r;if(!VV(r))return e(r,n);for(var s=r.length,a=t?s:-1,i=Object(r);(t?a--:++a<s)&&n(i[a],a,i)!==!1;);return r}}var qV=YV,KV=qv,GV=qV,QV=GV(KV),XV=QV,JV=XV,ZV=ru;function e7(e,t){var r=-1,n=ZV(e)?Array(e.length):[];return JV(e,function(s,a,i){n[++r]=t(s,a,i)}),n}var t7=e7;function r7(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var n7=r7,r1=nu;function s7(e,t){if(e!==t){var r=e!==void 0,n=e===null,s=e===e,a=r1(e),i=t!==void 0,l=t===null,c=t===t,u=r1(t);if(!l&&!u&&!a&&e>t||a&&i&&c&&!l&&!u||n&&i&&c||!r&&c||!s)return 1;if(!n&&!a&&!u&&e<t||u&&r&&s&&!n&&!a||l&&r&&s||!i&&s||!c)return-1}return 0}var a7=s7,o7=a7;function i7(e,t,r){for(var n=-1,s=e.criteria,a=t.criteria,i=s.length,l=r.length;++n<i;){var c=o7(s[n],a[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var l7=i7,Ym=Yv,c7=Dh,u7=Eh,d7=t7,f7=n7,h7=jh,m7=l7,p7=Ch,g7=fn;function y7(e,t,r){t.length?t=Ym(t,function(a){return g7(a)?function(i){return c7(i,a.length===1?a[0]:a)}:a}):t=[p7];var n=-1;t=Ym(t,h7(u7));var s=d7(e,function(a,i,l){var c=Ym(t,function(u){return u(a)});return{criteria:c,index:++n,value:a}});return f7(s,function(a,i){return m7(a,i,r)})}var v7=y7;function x7(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var b7=x7,w7=b7,n1=Math.max;function N7(e,t,r){return t=n1(t===void 0?e.length-1:t,0),function(){for(var n=arguments,s=-1,a=n1(n.length-t,0),i=Array(a);++s<a;)i[s]=n[t+s];s=-1;for(var l=Array(t+1);++s<t;)l[s]=n[s];return l[t]=r(i),w7(e,this,l)}}var l2=N7;function j7(e){return function(){return e}}var S7=j7,k7=ko,D7=function(){try{var e=k7(Object,"defineProperty");return e({},"",{}),e}catch{}}(),c2=D7,C7=S7,s1=c2,E7=Ch,_7=s1?function(e,t){return s1(e,"toString",{configurable:!0,enumerable:!1,value:C7(t),writable:!0})}:E7,T7=_7,P7=800,A7=16,M7=Date.now;function R7(e){var t=0,r=0;return function(){var n=M7(),s=A7-(n-r);if(r=n,s>0){if(++t>=P7)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var O7=R7,$7=T7,I7=O7,L7=I7($7),u2=L7,F7=Ch,W7=l2,B7=u2;function U7(e,t){return B7(W7(e,t,F7),e+"")}var d2=U7,H7=i2,z7=v7,V7=d2,a1=gh,Y7=V7(function(e,t){if(e==null)return[];var r=t.length;return r>1&&a1(e,t[0],t[1])?t=[]:r>2&&a1(t[0],t[1],t[2])&&(t=[t[0]]),z7(e,H7(t,1),[])}),q7=Y7;const K7=wr(q7);function f2(e){return iD(e)||SD(e)||dv(e)||lD()}function G7(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var Q7=G7,X7=Bs,J7=Uv,Z7=Q7,eY=Object.prototype,tY=eY.hasOwnProperty;function rY(e){if(!X7(e))return Z7(e);var t=J7(e),r=[];for(var n in e)n=="constructor"&&(t||!tY.call(e,n))||r.push(n);return r}var nY=rY,sY=GD,aY=nY,oY=ru;function iY(e){return oY(e)?sY(e,!0):aY(e)}var _h=iY,lY=d2,cY=tu,uY=gh,dY=_h,h2=Object.prototype,fY=h2.hasOwnProperty,hY=lY(function(e,t){e=Object(e);var r=-1,n=t.length,s=n>2?t[2]:void 0;for(s&&uY(t[0],t[1],s)&&(n=1);++r<n;)for(var a=t[r],i=dY(a),l=-1,c=i.length;++l<c;){var u=i[l],d=e[u];(d===void 0||cY(d,h2[u])&&!fY.call(e,u))&&(e[u]=a[u])}return e}),mY=hY;const pY=wr(mY);var o1=c2;function gY(e,t,r){t=="__proto__"&&o1?o1(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var Kv=gY,yY=Kv,vY=qv,xY=Eh;function bY(e,t){var r={};return t=xY(t),vY(e,function(n,s,a){yY(r,s,t(n,s,a))}),r}var wY=bY;const NY=wr(wY);function jY(e,t){for(var r=-1,n=e==null?0:e.length;++r<n&&t(e[r],r,e)!==!1;);return e}var m2=jY,SY=Kv,kY=tu,DY=Object.prototype,CY=DY.hasOwnProperty;function EY(e,t,r){var n=e[t];(!(CY.call(e,t)&&kY(n,r))||r===void 0&&!(t in e))&&SY(e,t,r)}var p2=EY,_Y=p2,TY=Kv;function PY(e,t,r,n){var s=!r;r||(r={});for(var a=-1,i=t.length;++a<i;){var l=t[a],c=n?n(r[l],e[l],l,r,e):void 0;c===void 0&&(c=e[l]),s?TY(r,l,c):_Y(r,l,c)}return r}var cu=PY,AY=cu,MY=iu;function RY(e,t){return e&&AY(t,MY(t),e)}var OY=RY,$Y=cu,IY=_h;function LY(e,t){return e&&$Y(t,IY(t),e)}var FY=LY,jf={exports:{}};jf.exports;(function(e,t){var r=cs,n=t&&!t.nodeType&&t,s=n&&!0&&e&&!e.nodeType&&e,a=s&&s.exports===n,i=a?r.Buffer:void 0,l=i?i.allocUnsafe:void 0;function c(u,d){if(d)return u.slice();var f=u.length,h=l?l(f):new u.constructor(f);return u.copy(h),h}e.exports=c})(jf,jf.exports);var WY=jf.exports;function BY(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}var UY=BY,HY=cu,zY=Lv;function VY(e,t){return HY(e,zY(e),t)}var YY=VY,qY=QD,KY=qY(Object.getPrototypeOf,Object),Th=KY,GY=Iv,QY=Th,XY=Lv,JY=qD,ZY=Object.getOwnPropertySymbols,e8=ZY?function(e){for(var t=[];e;)GY(t,XY(e)),e=QY(e);return t}:JY,g2=e8,t8=cu,r8=g2;function n8(e,t){return t8(e,r8(e),t)}var s8=n8,a8=YD,o8=g2,i8=_h;function l8(e){return a8(e,i8,o8)}var y2=l8,c8=Object.prototype,u8=c8.hasOwnProperty;function d8(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&u8.call(e,"index")&&(r.index=e.index,r.input=e.input),r}var f8=d8,i1=VD;function h8(e){var t=new e.constructor(e.byteLength);return new i1(t).set(new i1(e)),t}var Gv=h8,m8=Gv;function p8(e,t){var r=t?m8(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}var g8=p8,y8=/\w*$/;function v8(e){var t=new e.constructor(e.source,y8.exec(e));return t.lastIndex=e.lastIndex,t}var x8=v8,l1=Fi,c1=l1?l1.prototype:void 0,u1=c1?c1.valueOf:void 0;function b8(e){return u1?Object(u1.call(e)):{}}var w8=b8,N8=Gv;function j8(e,t){var r=t?N8(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var S8=j8,k8=Gv,D8=g8,C8=x8,E8=w8,_8=S8,T8="[object Boolean]",P8="[object Date]",A8="[object Map]",M8="[object Number]",R8="[object RegExp]",O8="[object Set]",$8="[object String]",I8="[object Symbol]",L8="[object ArrayBuffer]",F8="[object DataView]",W8="[object Float32Array]",B8="[object Float64Array]",U8="[object Int8Array]",H8="[object Int16Array]",z8="[object Int32Array]",V8="[object Uint8Array]",Y8="[object Uint8ClampedArray]",q8="[object Uint16Array]",K8="[object Uint32Array]";function G8(e,t,r){var n=e.constructor;switch(t){case L8:return k8(e);case T8:case P8:return new n(+e);case F8:return D8(e,r);case W8:case B8:case U8:case H8:case z8:case V8:case Y8:case q8:case K8:return _8(e,r);case A8:return new n;case M8:case $8:return new n(e);case R8:return C8(e);case O8:return new n;case I8:return E8(e)}}var Q8=G8,X8=Bs,d1=Object.create,J8=function(){function e(){}return function(t){if(!X8(t))return{};if(d1)return d1(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}(),v2=J8,Z8=v2,eq=Th,tq=Uv;function rq(e){return typeof e.constructor=="function"&&!tq(e)?Z8(eq(e)):{}}var nq=rq,sq=Sh,aq=$a,oq="[object Map]";function iq(e){return aq(e)&&sq(e)==oq}var lq=iq,cq=lq,uq=jh,f1=Wv,h1=f1&&f1.isMap,dq=h1?uq(h1):cq,fq=dq,hq=Sh,mq=$a,pq="[object Set]";function gq(e){return mq(e)&&hq(e)==pq}var yq=gq,vq=yq,xq=jh,m1=Wv,p1=m1&&m1.isSet,bq=p1?xq(p1):vq,wq=bq,Nq=$v,jq=m2,Sq=p2,kq=OY,Dq=FY,Cq=WY,Eq=UY,_q=YY,Tq=s8,Pq=XD,Aq=y2,Mq=Sh,Rq=f8,Oq=Q8,$q=nq,Iq=fn,Lq=Nh,Fq=fq,Wq=Bs,Bq=wq,Uq=iu,Hq=_h,zq=1,Vq=2,Yq=4,x2="[object Arguments]",qq="[object Array]",Kq="[object Boolean]",Gq="[object Date]",Qq="[object Error]",b2="[object Function]",Xq="[object GeneratorFunction]",Jq="[object Map]",Zq="[object Number]",w2="[object Object]",eK="[object RegExp]",tK="[object Set]",rK="[object String]",nK="[object Symbol]",sK="[object WeakMap]",aK="[object ArrayBuffer]",oK="[object DataView]",iK="[object Float32Array]",lK="[object Float64Array]",cK="[object Int8Array]",uK="[object Int16Array]",dK="[object Int32Array]",fK="[object Uint8Array]",hK="[object Uint8ClampedArray]",mK="[object Uint16Array]",pK="[object Uint32Array]",ut={};ut[x2]=ut[qq]=ut[aK]=ut[oK]=ut[Kq]=ut[Gq]=ut[iK]=ut[lK]=ut[cK]=ut[uK]=ut[dK]=ut[Jq]=ut[Zq]=ut[w2]=ut[eK]=ut[tK]=ut[rK]=ut[nK]=ut[fK]=ut[hK]=ut[mK]=ut[pK]=!0;ut[Qq]=ut[b2]=ut[sK]=!1;function Cd(e,t,r,n,s,a){var i,l=t&zq,c=t&Vq,u=t&Yq;if(r&&(i=s?r(e,n,s,a):r(e)),i!==void 0)return i;if(!Wq(e))return e;var d=Iq(e);if(d){if(i=Rq(e),!l)return Eq(e,i)}else{var f=Mq(e),h=f==b2||f==Xq;if(Lq(e))return Cq(e,l);if(f==w2||f==x2||h&&!s){if(i=c||h?{}:$q(e),!l)return c?Tq(e,Dq(i,e)):_q(e,kq(i,e))}else{if(!ut[f])return s?e:{};i=Oq(e,f,l)}}a||(a=new Nq);var y=a.get(e);if(y)return y;a.set(e,i),Bq(e)?e.forEach(function(N){i.add(Cd(N,t,r,N,e,a))}):Fq(e)&&e.forEach(function(N,v){i.set(v,Cd(N,t,r,v,e,a))});var g=u?c?Aq:Pq:c?Hq:Uq,m=d?void 0:g(e);return jq(m||e,function(N,v){m&&(v=N,N=e[v]),Sq(i,v,Cd(N,t,r,v,e,a))}),i}var gK=Cd;function yK(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var vK=yK,xK=Dh,bK=kD;function wK(e,t){return t.length<2?e:xK(e,bK(t,0,-1))}var NK=wK,jK=kh,SK=vK,kK=NK,DK=lu;function CK(e,t){return t=jK(t,e),e=kK(e,t),e==null||delete e[DK(SK(t))]}var EK=CK,_K=Wi,TK=Th,PK=$a,AK="[object Object]",MK=Function.prototype,RK=Object.prototype,N2=MK.toString,OK=RK.hasOwnProperty,$K=N2.call(Object);function IK(e){if(!PK(e)||_K(e)!=AK)return!1;var t=TK(e);if(t===null)return!0;var r=OK.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&N2.call(r)==$K}var LK=IK,FK=LK;function WK(e){return FK(e)?void 0:e}var BK=WK,UK=i2;function HK(e){var t=e==null?0:e.length;return t?UK(e,1):[]}var zK=HK,VK=zK,YK=l2,qK=u2;function KK(e){return qK(YK(e,void 0,VK),e+"")}var GK=KK,QK=Yv,XK=gK,JK=EK,ZK=kh,eG=cu,tG=BK,rG=GK,nG=y2,sG=1,aG=2,oG=4,iG=rG(function(e,t){var r={};if(e==null)return r;var n=!1;t=QK(t,function(a){return a=ZK(a,e),n||(n=a.length>1),a}),eG(e,nG(e),r),n&&(r=XK(r,sG|aG|oG,tG));for(var s=t.length;s--;)JK(r,t[s]);return r}),lG=iG;const cG=wr(lG);var uG=m2,dG=v2,fG=qv,hG=Eh,mG=Th,pG=fn,gG=Nh,yG=xv,vG=Bs,xG=Bv;function bG(e,t,r){var n=pG(e),s=n||gG(e)||xG(e);if(t=hG(t),r==null){var a=e&&e.constructor;s?r=n?new a:[]:vG(e)?r=yG(a)?dG(mG(e)):{}:r={}}return(s?uG:fG)(e,function(i,l,c){return t(r,i,l,c)}),r}var wG=bG;const NG=wr(wG);var jG={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(nn,function(){return function(r,n,s){n.prototype.isBetween=function(a,i,l,c){var u=s(a),d=s(i),f=(c=c||"()")[0]==="(",h=c[1]===")";return(f?this.isAfter(u,l):!this.isBefore(u,l))&&(h?this.isBefore(d,l):!this.isAfter(d,l))||(f?this.isBefore(u,l):!this.isAfter(u,l))&&(h?this.isAfter(d,l):!this.isBefore(d,l))}}})})(jG);var SG={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(nn,function(){return function(r,n){n.prototype.isSameOrAfter=function(s,a){return this.isSame(s,a)||this.isAfter(s,a)}}})})(SG);var kG={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(nn,function(){return function(r,n){n.prototype.isSameOrBefore=function(s,a){return this.isSame(s,a)||this.isBefore(s,a)}}})})(kG);var DG={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(nn,function(){return function(r,n,s){var a=n.prototype,i=function(f){return f&&(f.indexOf?f:f.s)},l=function(f,h,y,g,m){var N=f.name?f:f.$locale(),v=i(N[h]),p=i(N[y]),b=v||p.map(function(S){return S.slice(0,g)});if(!m)return b;var x=N.weekStart;return b.map(function(S,k){return b[(k+(x||0))%7]})},c=function(){return s.Ls[s.locale()]},u=function(f,h){return f.formats[h]||function(y){return y.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(g,m,N){return m||N.slice(1)})}(f.formats[h.toUpperCase()])},d=function(){var f=this;return{months:function(h){return h?h.format("MMMM"):l(f,"months")},monthsShort:function(h){return h?h.format("MMM"):l(f,"monthsShort","months",3)},firstDayOfWeek:function(){return f.$locale().weekStart||0},weekdays:function(h){return h?h.format("dddd"):l(f,"weekdays")},weekdaysMin:function(h){return h?h.format("dd"):l(f,"weekdaysMin","weekdays",2)},weekdaysShort:function(h){return h?h.format("ddd"):l(f,"weekdaysShort","weekdays",3)},longDateFormat:function(h){return u(f.$locale(),h)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};a.localeData=function(){return d.bind(this)()},s.localeData=function(){var f=c();return{firstDayOfWeek:function(){return f.weekStart||0},weekdays:function(){return s.weekdays()},weekdaysShort:function(){return s.weekdaysShort()},weekdaysMin:function(){return s.weekdaysMin()},months:function(){return s.months()},monthsShort:function(){return s.monthsShort()},longDateFormat:function(h){return u(f,h)},meridiem:f.meridiem,ordinal:f.ordinal}},s.months=function(){return l(c(),"months")},s.monthsShort=function(){return l(c(),"monthsShort","months",3)},s.weekdays=function(f){return l(c(),"weekdays",null,null,f)},s.weekdaysShort=function(f){return l(c(),"weekdaysShort","weekdays",3,f)},s.weekdaysMin=function(f){return l(c(),"weekdaysMin","weekdays",2,f)}}})})(DG);var CG={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(nn,function(){var r={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(n,s,a){var i=s.prototype,l=i.format;a.en.formats=r,i.format=function(c){c===void 0&&(c="YYYY-MM-DDTHH:mm:ssZ");var u=this.$locale().formats,d=function(f,h){return f.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(y,g,m){var N=m&&m.toUpperCase();return g||h[m]||r[m]||h[N].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(v,p,b){return p||b.slice(1)})})}(c,u===void 0?{}:u);return l.call(this,d)}}})})(CG);var EG={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(nn,function(){return function(r,n,s){var a=function(i,l){if(!l||!l.length||l.length===1&&!l[0]||l.length===1&&Array.isArray(l[0])&&!l[0].length)return null;var c;l.length===1&&l[0].length>0&&(l=l[0]),c=(l=l.filter(function(d){return d}))[0];for(var u=1;u<l.length;u+=1)l[u].isValid()&&!l[u][i](c)||(c=l[u]);return c};s.max=function(){var i=[].slice.call(arguments,0);return a("isAfter",i)},s.min=function(){var i=[].slice.call(arguments,0);return a("isBefore",i)}}})})(EG);var _G={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(nn,function(){var r="minute",n=/[+-]\d\d(?::?\d\d)?/g,s=/([+-]|\d\d)/g;return function(a,i,l){var c=i.prototype;l.utc=function(m){var N={date:m,utc:!0,args:arguments};return new i(N)},c.utc=function(m){var N=l(this.toDate(),{locale:this.$L,utc:!0});return m?N.add(this.utcOffset(),r):N},c.local=function(){return l(this.toDate(),{locale:this.$L,utc:!1})};var u=c.parse;c.parse=function(m){m.utc&&(this.$u=!0),this.$utils().u(m.$offset)||(this.$offset=m.$offset),u.call(this,m)};var d=c.init;c.init=function(){if(this.$u){var m=this.$d;this.$y=m.getUTCFullYear(),this.$M=m.getUTCMonth(),this.$D=m.getUTCDate(),this.$W=m.getUTCDay(),this.$H=m.getUTCHours(),this.$m=m.getUTCMinutes(),this.$s=m.getUTCSeconds(),this.$ms=m.getUTCMilliseconds()}else d.call(this)};var f=c.utcOffset;c.utcOffset=function(m,N){var v=this.$utils().u;if(v(m))return this.$u?0:v(this.$offset)?f.call(this):this.$offset;if(typeof m=="string"&&(m=function(S){S===void 0&&(S="");var k=S.match(n);if(!k)return null;var _=(""+k[0]).match(s)||["-",0,0],A=_[0],M=60*+_[1]+ +_[2];return M===0?0:A==="+"?M:-M}(m),m===null))return this;var p=Math.abs(m)<=16?60*m:m;if(p===0)return this.utc(N);var b=this.clone();if(N)return b.$offset=p,b.$u=!1,b;var x=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();return(b=this.local().add(p+x,r)).$offset=p,b.$x.$localOffset=x,b};var h=c.format;c.format=function(m){var N=m||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return h.call(this,N)},c.valueOf=function(){var m=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*m},c.isUTC=function(){return!!this.$u},c.toISOString=function(){return this.toDate().toISOString()},c.toString=function(){return this.toDate().toUTCString()};var y=c.toDate;c.toDate=function(m){return m==="s"&&this.$offset?l(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():y.call(this)};var g=c.diff;c.diff=function(m,N,v){if(m&&this.$u===m.$u)return g.call(this,m,N,v);var p=this.local(),b=l(m).local();return g.call(p,b,N,v)}}})})(_G);var TG={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(nn,function(){return function(r,n){n.prototype.isLeapYear=function(){return this.$y%4==0&&this.$y%100!=0||this.$y%400==0}}})})(TG);function Hn(e){return e.children}var $r={PREVIOUS:"PREV",NEXT:"NEXT",TODAY:"TODAY",DATE:"DATE"},xr={MONTH:"month",WEEK:"week",WORK_WEEK:"work_week",DAY:"day",AGENDA:"agenda"},g1=Object.keys(xr).map(function(e){return xr[e]});be.oneOfType([be.string,be.func]);be.any;be.func;be.oneOfType([be.arrayOf(be.oneOf(g1)),be.objectOf(function(e,t){var r=g1.indexOf(t)!==-1&&typeof e[t]=="boolean";if(r)return null;for(var n=arguments.length,s=new Array(n>2?n-2:0),a=2;a<n;a++)s[a-2]=arguments[a];return be.elementType.apply(be,[e,t].concat(s))})]);be.oneOfType([be.oneOf(["overlap","no-overlap"]),be.func]);var y1={seconds:1e3,minutes:1e3*60,hours:1e3*60*60,day:1e3*60*60*24};function j2(e,t){var r=nr(e,"month");return nr(r,"week",t.startOfWeek())}function S2(e,t){var r=yf(e,"month");return yf(r,"week",t.startOfWeek())}function PG(e,t){for(var r=j2(e,t),n=S2(e,t),s=[];Ii(r,n,"day");)s.push(r),r=Pn(r,1,"day");return s}function AG(e,t){var r=nr(e,t);return Zc(r,e)?r:Pn(r,1,t)}function MG(e,t){for(var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",n=e,s=[];Ii(n,t,r);)s.push(n),n=Pn(n,1,r);return s}function RG(e,t){return t==null&&e==null?null:(t==null&&(t=new Date),e==null&&(e=new Date),e=nr(e,"day"),e=Nc(e,Nc(t)),e=Ni(e,Ni(t)),e=wc(e,wc(t)),bc(e,bc(t)))}function v1(e){return Nc(e)===0&&Ni(e)===0&&wc(e)===0&&bc(e)===0}function OG(e,t,r,n){return r==="day"&&(r="date"),Math.abs(ew[r](e,void 0,n)-ew[r](t,void 0,n))}function Qv(e,t,r){return!r||r==="milliseconds"?Math.abs(+e-+t):Math.round(Math.abs(+nr(e,r)/y1[r]-+nr(t,r)/y1[r]))}var $G=be.oneOfType([be.string,be.func]);function IG(e,t,r,n,s){var a=typeof n=="function"?n(r,s,e):t.call(e,r,n,s);return mc(a==null||typeof a=="string","`localizer format(..)` must return a string, null, or undefined"),a}function LG(e,t,r){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,t+r,0,0)}function Xv(e,t){return e.getTimezoneOffset()-t.getTimezoneOffset()}function FG(e,t){return Qv(e,t,"minutes")+Xv(e,t)}function WG(e){var t=nr(e,"day");return Qv(t,e,"minutes")+Xv(t,e)}function BG(e,t){return vv(e,t,"day")}function UG(e,t,r){var n=Zc(e,t,"minutes");return n?eu(t,r,"minutes"):ph(t,r,"minutes")}function Rg(e,t){return OG(e,t,"day")}function HG(e){var t=e.evtA,r=t.start,n=t.end,s=t.allDay,a=e.evtB,i=a.start,l=a.end,c=a.allDay,u=+nr(r,"day")-+nr(i,"day"),d=Rg(r,n),f=Rg(i,l);return u||f-d||!!c-!!s||+r-+i||+n-+l}function zG(e){var t=e.event,r=t.start,n=t.end,s=e.range,a=s.start,i=s.end,l=nr(r,"day"),c=Ii(l,i,"day"),u=yv(l,n,"minutes"),d=u?ph(n,a,"minutes"):eu(n,a,"minutes");return c&&d}function VG(e,t){return Zc(e,t,"day")}function YG(e,t){return v1(e)&&v1(t)}var qG=Yt(function e(t){var r=this;Vt(this,e),mc(typeof t.format=="function","date localizer `format(..)` must be a function"),mc(typeof t.firstOfWeek=="function","date localizer `firstOfWeek(..)` must be a function"),this.propType=t.propType||$G,this.formats=t.formats,this.format=function(){for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return IG.apply(void 0,[r,t.format].concat(s))},this.startOfWeek=t.firstOfWeek,this.merge=t.merge||RG,this.inRange=t.inRange||bD,this.lt=t.lt||vv,this.lte=t.lte||Ii,this.gt=t.gt||ph,this.gte=t.gte||eu,this.eq=t.eq||Zc,this.neq=t.neq||yv,this.startOf=t.startOf||nr,this.endOf=t.endOf||yf,this.add=t.add||Pn,this.range=t.range||MG,this.diff=t.diff||Qv,this.ceil=t.ceil||AG,this.min=t.min||vD,this.max=t.max||xD,this.minutes=t.minutes||Ni,this.daySpan=t.daySpan||Rg,this.firstVisibleDay=t.firstVisibleDay||j2,this.lastVisibleDay=t.lastVisibleDay||S2,this.visibleDays=t.visibleDays||PG,this.getSlotDate=t.getSlotDate||LG,this.getTimezoneOffset=t.getTimezoneOffset||function(n){return n.getTimezoneOffset()},this.getDstOffset=t.getDstOffset||Xv,this.getTotalMin=t.getTotalMin||FG,this.getMinutesFromMidnight=t.getMinutesFromMidnight||WG,this.continuesPrior=t.continuesPrior||BG,this.continuesAfter=t.continuesAfter||UG,this.sortEvents=t.sortEvents||HG,this.inEventRange=t.inEventRange||zG,this.isSameDate=t.isSameDate||VG,this.startAndEndAreDateOnly=t.startAndEndAreDateOnly||YG,this.segmentOffset=t.browserTZOffset?t.browserTZOffset():0});function KG(e,t,r,n){var s=lt(lt({},e.formats),r);return lt(lt({},e),{},{messages:n,startOfWeek:function(){return e.startOfWeek(t)},format:function(i,l){return e.format(i,s[l]||l,t)}})}var GG=function(e){function t(){var r;Vt(this,t);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return r=mr(this,t,[].concat(s)),r.navigate=function(i){r.props.onNavigate(i)},r.view=function(i){r.props.onView(i)},r}return hr(t,e),Yt(t,[{key:"render",value:function(){var n=this.props,s=n.localizer.messages,a=n.label;return F.createElement("div",{className:"rbc-toolbar"},F.createElement("span",{className:"rbc-btn-group"},F.createElement("button",{type:"button",onClick:this.navigate.bind(null,$r.TODAY)},s.today),F.createElement("button",{type:"button",onClick:this.navigate.bind(null,$r.PREVIOUS)},s.previous),F.createElement("button",{type:"button",onClick:this.navigate.bind(null,$r.NEXT)},s.next)),F.createElement("span",{className:"rbc-toolbar-label"},a),F.createElement("span",{className:"rbc-btn-group"},this.viewNamesGroup(s)))}},{key:"viewNamesGroup",value:function(n){var s=this,a=this.props.views,i=this.props.view;if(a.length>1)return a.map(function(l){return F.createElement("button",{type:"button",key:l,className:_t({"rbc-active":i===l}),onClick:s.view.bind(null,l)},n[l])})}}])}(F.Component);function pt(e,t){e&&e.apply(null,[].concat(t))}var QG={date:"Date",time:"Time",event:"Event",allDay:"All Day",week:"Week",work_week:"Work Week",day:"Day",month:"Month",previous:"Back",next:"Next",yesterday:"Yesterday",tomorrow:"Tomorrow",today:"Today",agenda:"Agenda",noEventsInRange:"There are no events in this range.",showMore:function(t){return"+".concat(t," more")}};function XG(e){return lt(lt({},QG),e)}function JG(e){var t=e.ref,r=e.callback;w.useEffect(function(){var n=function(a){t.current&&!t.current.contains(a.target)&&r()};return document.addEventListener("mousedown",n),function(){document.removeEventListener("mousedown",n)}},[t,r])}var ZG=["style","className","event","selected","isAllDay","onSelect","onDoubleClick","onKeyPress","localizer","continuesPrior","continuesAfter","accessors","getters","children","components","slotStart","slotEnd"],k2=function(e){function t(){return Vt(this,t),mr(this,t,arguments)}return hr(t,e),Yt(t,[{key:"render",value:function(){var n=this.props,s=n.style,a=n.className,i=n.event,l=n.selected,c=n.isAllDay,u=n.onSelect,d=n.onDoubleClick,f=n.onKeyPress,h=n.localizer,y=n.continuesPrior,g=n.continuesAfter,m=n.accessors,N=n.getters,v=n.children,p=n.components,b=p.event,x=p.eventWrapper,S=n.slotStart,k=n.slotEnd,_=os(n,ZG);delete _.resizable;var A=m.title(i),M=m.tooltip(i),$=m.end(i),V=m.start(i),H=m.allDay(i),Y=c||H||h.diff(V,h.ceil($,"day"),"day")>1,K=N.eventProp(i,V,$,l),ce=F.createElement("div",{className:"rbc-event-content",title:M||void 0},b?F.createElement(b,{event:i,continuesPrior:y,continuesAfter:g,title:A,isAllDay:H,localizer:h,slotStart:S,slotEnd:k}):A);return F.createElement(x,Object.assign({},this.props,{type:"date"}),F.createElement("div",Object.assign({},_,{style:lt(lt({},K.style),s),className:_t("rbc-event",a,K.className,{"rbc-selected":l,"rbc-event-allday":Y,"rbc-event-continues-prior":y,"rbc-event-continues-after":g}),onClick:function(de){return u&&u(i,de)},onDoubleClick:function(de){return d&&d(i,de)},onKeyDown:function(de){return f&&f(i,de)}}),typeof v=="function"?v(ce):ce))}}])}(F.Component);function Ph(e,t){return!e||t==null?!1:yz(e,t)}function D2(e,t){var r=e.right-e.left,n=r/t;return n}function C2(e,t,r,n){var s=D2(e,n);return r?n-1-Math.floor((t-e.left)/s):Math.floor((t-e.left)/s)}function eQ(e,t){var r=t.x,n=t.y;return n>=e.top&&n<=e.bottom&&r>=e.left&&r<=e.right}function tQ(e,t,r,n,s){var a=-1,i=-1,l=n-1,c=D2(t,n),u=C2(t,r.x,s,n),d=t.top<r.y&&t.bottom>r.y,f=t.top<e.y&&t.bottom>e.y,h=e.y>t.bottom,y=t.top>e.y,g=r.top<t.top&&r.bottom>t.bottom;return g&&(a=0,i=l),d&&(y?(a=0,i=u):h&&(a=u,i=l)),f&&(a=i=s?l-Math.floor((e.x-t.left)/c):Math.floor((e.x-t.left)/c),d?u<a?a=u:i=u:e.y<r.y?i=l:a=0),{startIdx:a,endIdx:i}}function rQ(e){var t=e.target,r=e.offset,n=e.container,s=e.box,a=oo(t),i=a.top,l=a.left,c=a.width,u=a.height,d=oo(n),f=d.top,h=d.left,y=d.width,g=d.height,m=oo(s),N=m.width,v=m.height,p=f+g,b=h+y,x=i+v,S=l+N,k=r.x,_=r.y,A=x>p?i-v-_:i+_+u,M=S>b?l+k-N+c:l+k;return{topOffset:A,leftOffset:M}}function nQ(e){var t=e.containerRef,r=e.accessors,n=e.getters,s=e.selected,a=e.components,i=e.localizer,l=e.position,c=e.show,u=e.events,d=e.slotStart,f=e.slotEnd,h=e.onSelect,y=e.onDoubleClick,g=e.onKeyPress,m=e.handleDragStart,N=e.popperRef,v=e.target,p=e.offset;JG({ref:N,callback:c}),w.useLayoutEffect(function(){var S=rQ({target:v,offset:p,container:t.current,box:N.current}),k=S.topOffset,_=S.leftOffset;N.current.style.top="".concat(k,"px"),N.current.style.left="".concat(_,"px")},[p.x,p.y,v]);var b=l.width,x={minWidth:b+b/2};return F.createElement("div",{style:x,className:"rbc-overlay",ref:N},F.createElement("div",{className:"rbc-overlay-header"},i.format(d,"dayHeaderFormat")),u.map(function(S,k){return F.createElement(k2,{key:k,type:"popup",localizer:i,event:S,getters:n,onSelect:h,accessors:r,components:a,onDoubleClick:y,onKeyPress:g,continuesPrior:i.lt(r.end(S),d,"day"),continuesAfter:i.gte(r.start(S),f,"day"),slotStart:d,slotEnd:f,selected:Ph(S,s),draggable:!0,onDragStart:function(){return m(S)},onDragEnd:function(){return c()}})}))}var E2=F.forwardRef(function(e,t){return F.createElement(nQ,Object.assign({},e,{popperRef:t}))});E2.propTypes={accessors:be.object.isRequired,getters:be.object.isRequired,selected:be.object,components:be.object.isRequired,localizer:be.object.isRequired,position:be.object.isRequired,show:be.func.isRequired,events:be.array.isRequired,slotStart:be.instanceOf(Date).isRequired,slotEnd:be.instanceOf(Date),onSelect:be.func,onDoubleClick:be.func,onKeyPress:be.func,handleDragStart:be.func,style:be.object,offset:be.shape({x:be.number,y:be.number})};function sQ(e){var t=e.containerRef,r=e.popupOffset,n=r===void 0?5:r,s=e.overlay,a=e.accessors,i=e.localizer,l=e.components,c=e.getters,u=e.selected,d=e.handleSelectEvent,f=e.handleDoubleClickEvent,h=e.handleKeyPressEvent,y=e.handleDragStart,g=e.onHide,m=e.overlayDisplay,N=w.useRef(null);if(!s.position)return null;var v=n;isNaN(n)||(v={x:n,y:n});var p=s.position,b=s.events,x=s.date,S=s.end;return F.createElement(Mv,{rootClose:!0,flip:!0,show:!0,placement:"bottom",onHide:g,target:s.target},function(k){var _=k.props;return F.createElement(E2,Object.assign({},_,{containerRef:t,ref:N,target:s.target,offset:v,accessors:a,getters:c,selected:u,components:l,localizer:i,position:p,show:m,events:b,slotStart:x,slotEnd:S,onSelect:d,onDoubleClick:f,onKeyPress:h,handleDragStart:y}))})}var Jv=F.forwardRef(function(e,t){return F.createElement(sQ,Object.assign({},e,{containerRef:t}))});Jv.propTypes={popupOffset:be.oneOfType([be.number,be.shape({x:be.number,y:be.number})]),overlay:be.shape({position:be.object,events:be.array,date:be.instanceOf(Date),end:be.instanceOf(Date)}),accessors:be.object.isRequired,localizer:be.object.isRequired,components:be.object.isRequired,getters:be.object.isRequired,selected:be.object,handleSelectEvent:be.func,handleDoubleClickEvent:be.func,handleKeyPressEvent:be.func,handleDragStart:be.func,onHide:be.func,overlayDisplay:be.func};function ir(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document;return Dl(r,e,t,{passive:!1})}function aQ(e,t,r){return!e||jc(e,document.elementFromPoint(t,r))}function oQ(e,t){var r=t.clientX,n=t.clientY,s=document.elementFromPoint(r,n);return e2(s,".rbc-event",e)}function iQ(e,t){var r=t.clientX,n=t.clientY,s=document.elementFromPoint(r,n);return e2(s,".rbc-show-more",e)}function Sf(e,t){return!!oQ(e,t)}function lQ(e,t){return!!iQ(e,t)}function gl(e){var t=e;return e.touches&&e.touches.length&&(t=e.touches[0]),{clientX:t.clientX,clientY:t.clientY,pageX:t.pageX,pageY:t.pageY}}var x1=5,cQ=250,_2=function(){function e(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.global,s=n===void 0?!1:n,a=r.longPressThreshold,i=a===void 0?250:a,l=r.validContainers,c=l===void 0?[]:l;Vt(this,e),this._initialEvent=null,this.selecting=!1,this.isDetached=!1,this.container=t,this.globalMouse=!t||s,this.longPressThreshold=i,this.validContainers=c,this._listeners=Object.create(null),this._handleInitialEvent=this._handleInitialEvent.bind(this),this._handleMoveEvent=this._handleMoveEvent.bind(this),this._handleTerminatingEvent=this._handleTerminatingEvent.bind(this),this._keyListener=this._keyListener.bind(this),this._dropFromOutsideListener=this._dropFromOutsideListener.bind(this),this._dragOverFromOutsideListener=this._dragOverFromOutsideListener.bind(this),this._removeTouchMoveWindowListener=ir("touchmove",function(){},window),this._removeKeyDownListener=ir("keydown",this._keyListener),this._removeKeyUpListener=ir("keyup",this._keyListener),this._removeDropFromOutsideListener=ir("drop",this._dropFromOutsideListener),this._removeDragOverFromOutsideListener=ir("dragover",this._dragOverFromOutsideListener),this._addInitialEventListener()}return Yt(e,[{key:"on",value:function(r,n){var s=this._listeners[r]||(this._listeners[r]=[]);return s.push(n),{remove:function(){var i=s.indexOf(n);i!==-1&&s.splice(i,1)}}}},{key:"emit",value:function(r){for(var n=arguments.length,s=new Array(n>1?n-1:0),a=1;a<n;a++)s[a-1]=arguments[a];var i,l=this._listeners[r]||[];return l.forEach(function(c){i===void 0&&(i=c.apply(void 0,s))}),i}},{key:"teardown",value:function(){this._initialEvent=null,this._initialEventData=null,this._selectRect=null,this.selecting=!1,this._lastClickData=null,this.isDetached=!0,this._listeners=Object.create(null),this._removeTouchMoveWindowListener&&this._removeTouchMoveWindowListener(),this._removeInitialEventListener&&this._removeInitialEventListener(),this._removeEndListener&&this._removeEndListener(),this._onEscListener&&this._onEscListener(),this._removeMoveListener&&this._removeMoveListener(),this._removeKeyUpListener&&this._removeKeyUpListener(),this._removeKeyDownListener&&this._removeKeyDownListener(),this._removeDropFromOutsideListener&&this._removeDropFromOutsideListener(),this._removeDragOverFromOutsideListener&&this._removeDragOverFromOutsideListener()}},{key:"isSelected",value:function(r){var n=this._selectRect;return!n||!this.selecting?!1:b1(n,No(r))}},{key:"filter",value:function(r){var n=this._selectRect;return!n||!this.selecting?[]:r.filter(this.isSelected,this)}},{key:"_addLongPressListener",value:function(r,n){var s=this,a=null,i=null,l=null,c=function(h){a=setTimeout(function(){d(),r(h)},s.longPressThreshold),i=ir("touchmove",function(){return d()}),l=ir("touchend",function(){return d()})},u=ir("touchstart",c),d=function(){a&&clearTimeout(a),i&&i(),l&&l(),a=null,i=null,l=null};return n&&c(n),function(){d(),u()}}},{key:"_addInitialEventListener",value:function(){var r=this,n=ir("mousedown",function(a){r._removeInitialEventListener(),r._handleInitialEvent(a),r._removeInitialEventListener=ir("mousedown",r._handleInitialEvent)}),s=ir("touchstart",function(a){r._removeInitialEventListener(),r._removeInitialEventListener=r._addLongPressListener(r._handleInitialEvent,a)});this._removeInitialEventListener=function(){n(),s()}}},{key:"_dropFromOutsideListener",value:function(r){var n=gl(r),s=n.pageX,a=n.pageY,i=n.clientX,l=n.clientY;this.emit("dropFromOutside",{x:s,y:a,clientX:i,clientY:l}),r.preventDefault()}},{key:"_dragOverFromOutsideListener",value:function(r){var n=gl(r),s=n.pageX,a=n.pageY,i=n.clientX,l=n.clientY;this.emit("dragOverFromOutside",{x:s,y:a,clientX:i,clientY:l}),r.preventDefault()}},{key:"_handleInitialEvent",value:function(r){if(this._initialEvent=r,!this.isDetached){var n=gl(r),s=n.clientX,a=n.clientY,i=n.pageX,l=n.pageY,c=this.container(),u,d;if(!(r.which===3||r.button===2||!aQ(c,s,a))){if(!this.globalMouse&&c&&!jc(c,r.target)){var f=uQ(0),h=f.top,y=f.left,g=f.bottom,m=f.right;if(d=No(c),u=b1({top:d.top-h,left:d.left-y,bottom:d.bottom+g,right:d.right+m},{top:l,left:i}),!u)return}var N=this.emit("beforeSelect",this._initialEventData={isTouch:/^touch/.test(r.type),x:i,y:l,clientX:s,clientY:a});if(N!==!1)switch(r.type){case"mousedown":this._removeEndListener=ir("mouseup",this._handleTerminatingEvent),this._onEscListener=ir("keydown",this._handleTerminatingEvent),this._removeMoveListener=ir("mousemove",this._handleMoveEvent);break;case"touchstart":this._handleMoveEvent(r),this._removeEndListener=ir("touchend",this._handleTerminatingEvent),this._removeMoveListener=ir("touchmove",this._handleMoveEvent);break}}}}},{key:"_isWithinValidContainer",value:function(r){var n=r.target,s=this.validContainers;return!s||!s.length||!n?!0:s.some(function(a){return!!n.closest(a)})}},{key:"_handleTerminatingEvent",value:function(r){var n=this.selecting,s=this._selectRect;if(!n&&r.type.includes("key")&&(r=this._initialEvent),this.selecting=!1,this._removeEndListener&&this._removeEndListener(),this._removeMoveListener&&this._removeMoveListener(),this._selectRect=null,this._initialEvent=null,this._initialEventData=null,!!r){var a=!this.container||jc(this.container(),r.target),i=this._isWithinValidContainer(r);return r.key==="Escape"||!i?this.emit("reset"):!n&&a?this._handleClickEvent(r):n?this.emit("select",s):this.emit("reset")}}},{key:"_handleClickEvent",value:function(r){var n=gl(r),s=n.pageX,a=n.pageY,i=n.clientX,l=n.clientY,c=new Date().getTime();return this._lastClickData&&c-this._lastClickData.timestamp<cQ?(this._lastClickData=null,this.emit("doubleClick",{x:s,y:a,clientX:i,clientY:l})):(this._lastClickData={timestamp:c},this.emit("click",{x:s,y:a,clientX:i,clientY:l}))}},{key:"_handleMoveEvent",value:function(r){if(!(this._initialEventData===null||this.isDetached)){var n=this._initialEventData,s=n.x,a=n.y,i=gl(r),l=i.pageX,c=i.pageY,u=Math.abs(s-l),d=Math.abs(a-c),f=Math.min(l,s),h=Math.min(c,a),y=this.selecting,g=this.isClick(l,c);g&&!y&&!(u||d)||(!y&&!g&&this.emit("selectStart",this._initialEventData),g||(this.selecting=!0,this._selectRect={top:h,left:f,x:l,y:c,right:f+u,bottom:h+d},this.emit("selecting",this._selectRect)),r.preventDefault())}}},{key:"_keyListener",value:function(r){this.ctrl=r.metaKey||r.ctrlKey}},{key:"isClick",value:function(r,n){var s=this._initialEventData,a=s.x,i=s.y,l=s.isTouch;return!l&&Math.abs(r-a)<=x1&&Math.abs(n-i)<=x1}}])}();function uQ(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return Tn(e)!=="object"&&(e={top:e,left:e,right:e,bottom:e}),e}function b1(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,n=No(e),s=n.top,a=n.left,i=n.right,l=i===void 0?a:i,c=n.bottom,u=c===void 0?s:c,d=No(t),f=d.top,h=d.left,y=d.right,g=y===void 0?h:y,m=d.bottom,N=m===void 0?f:m;return!(u-r<f||s+r>N||l-r<h||a+r>g)}function No(e){if(!e.getBoundingClientRect)return e;var t=e.getBoundingClientRect(),r=t.left+w1("left"),n=t.top+w1("top");return{top:n,left:r,right:(e.offsetWidth||0)+r,bottom:(e.offsetHeight||0)+n}}function w1(e){if(e==="left")return window.pageXOffset||document.body.scrollLeft||0;if(e==="top")return window.pageYOffset||document.body.scrollTop||0}var dQ=function(e){function t(r,n){var s;return Vt(this,t),s=mr(this,t,[r,n]),s.state={selecting:!1},s.containerRef=w.createRef(),s}return hr(t,e),Yt(t,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"componentDidUpdate",value:function(n){!n.selectable&&this.props.selectable&&this._selectable(),n.selectable&&!this.props.selectable&&this._teardownSelectable()}},{key:"render",value:function(){var n=this.props,s=n.range,a=n.getNow,i=n.getters,l=n.date,c=n.components.dateCellWrapper,u=n.localizer,d=this.state,f=d.selecting,h=d.startIdx,y=d.endIdx,g=a();return F.createElement("div",{className:"rbc-row-bg",ref:this.containerRef},s.map(function(m,N){var v=f&&N>=h&&N<=y,p=i.dayProp(m),b=p.className,x=p.style;return F.createElement(c,{key:N,value:m,range:s},F.createElement("div",{style:x,className:_t("rbc-day-bg",b,v&&"rbc-selected-cell",u.isSameDate(m,g)&&"rbc-today",l&&u.neq(l,m,"month")&&"rbc-off-range-bg")}))}))}},{key:"_selectable",value:function(){var n=this,s=this.containerRef.current,a=this._selector=new _2(this.props.container,{longPressThreshold:this.props.longPressThreshold}),i=function(c,u){if(!Sf(s,c)&&!lQ(s,c)){var d=No(s),f=n.props,h=f.range,y=f.rtl;if(eQ(d,c)){var g=C2(d,c.x,y,h.length);n._selectSlot({startIdx:g,endIdx:g,action:u,box:c})}}n._initial={},n.setState({selecting:!1})};a.on("selecting",function(l){var c=n.props,u=c.range,d=c.rtl,f=-1,h=-1;if(n.state.selecting||(pt(n.props.onSelectStart,[l]),n._initial={x:l.x,y:l.y}),a.isSelected(s)){var y=No(s),g=tQ(n._initial,y,l,u.length,d);f=g.startIdx,h=g.endIdx}n.setState({selecting:!0,startIdx:f,endIdx:h})}),a.on("beforeSelect",function(l){if(n.props.selectable==="ignoreEvents")return!Sf(n.containerRef.current,l)}),a.on("click",function(l){return i(l,"click")}),a.on("doubleClick",function(l){return i(l,"doubleClick")}),a.on("select",function(l){n._selectSlot(lt(lt({},n.state),{},{action:"select",bounds:l})),n._initial={},n.setState({selecting:!1}),pt(n.props.onSelectEnd,[n.state])})}},{key:"_teardownSelectable",value:function(){this._selector&&(this._selector.teardown(),this._selector=null)}},{key:"_selectSlot",value:function(n){var s=n.endIdx,a=n.startIdx,i=n.action,l=n.bounds,c=n.box;s!==-1&&a!==-1&&this.props.onSelectSlot&&this.props.onSelectSlot({start:a,end:s,action:i,bounds:l,box:c,resourceId:this.props.resourceId})}}])}(F.Component),Qr={propTypes:{slotMetrics:be.object.isRequired,selected:be.object,isAllDay:be.bool,accessors:be.object.isRequired,localizer:be.object.isRequired,components:be.object.isRequired,getters:be.object.isRequired,onSelect:be.func,onDoubleClick:be.func,onKeyPress:be.func},defaultProps:{segments:[],selected:{}},renderEvent:function(t,r){var n=t.selected;t.isAllDay;var s=t.accessors,a=t.getters,i=t.onSelect,l=t.onDoubleClick,c=t.onKeyPress,u=t.localizer,d=t.slotMetrics,f=t.components,h=t.resizable,y=d.continuesPrior(r),g=d.continuesAfter(r);return F.createElement(k2,{event:r,getters:a,localizer:u,accessors:s,components:f,onSelect:i,onDoubleClick:l,onKeyPress:c,continuesPrior:y,continuesAfter:g,slotStart:d.first,slotEnd:d.last,selected:Ph(r,n),resizable:h})},renderSpan:function(t,r,n){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:" ",a=Math.abs(r)/t*100+"%";return F.createElement("div",{key:n,className:"rbc-row-segment",style:{WebkitFlexBasis:a,flexBasis:a,maxWidth:a}},s)}},T2=function(e){function t(){return Vt(this,t),mr(this,t,arguments)}return hr(t,e),Yt(t,[{key:"render",value:function(){var n=this,s=this.props,a=s.segments,i=s.slotMetrics.slots,l=s.className,c=1;return F.createElement("div",{className:_t(l,"rbc-row")},a.reduce(function(u,d,f){var h=d.event,y=d.left,g=d.right,m=d.span,N="_lvl_"+f,v=y-c,p=Qr.renderEvent(n.props,h);return v&&u.push(Qr.renderSpan(i,v,"".concat(N,"_gap"))),u.push(Qr.renderSpan(i,m,N,p)),c=g+1,u},[]))}}])}(F.Component);T2.defaultProps=lt({},Qr.defaultProps);function P2(e){var t=e.dateRange,r=e.unit,n=r===void 0?"day":r,s=e.localizer;return{first:t[0],last:s.add(t[t.length-1],1,n)}}function fQ(e,t,r,n){var s=P2({dateRange:t,localizer:n}),a=s.first,i=s.last,l=n.diff(a,i,"day"),c=n.max(n.startOf(r.start(e),"day"),a),u=n.min(n.ceil(r.end(e),"day"),i),d=gV(t,function(h){return n.isSameDate(h,c)}),f=n.diff(c,u,"day");return f=Math.min(f,l),f=Math.max(f-n.segmentOffset,1),{event:e,span:f,left:d+1,right:Math.max(d+f,1)}}function Og(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0,r,n,s,a=[],i=[];for(r=0;r<e.length;r++){for(s=e[r],n=0;n<a.length&&hQ(s,a[n]);n++);n>=t?i.push(s):(a[n]||(a[n]=[])).push(s)}for(r=0;r<a.length;r++)a[r].sort(function(l,c){return l.left-c.left});return{levels:a,extra:i}}function Dc(e,t,r,n,s){var a={start:n.start(e),end:n.end(e)},i={start:t,end:r};return s.inEventRange({event:a,range:i})}function hQ(e,t){return t.some(function(r){return r.left<=e.right&&r.right>=e.left})}function mQ(e,t,r){var n=kd(e),s=[],a=[];n.forEach(function(c){var u=t.start(c),d=t.end(c);r.daySpan(u,d)>1?s.push(c):a.push(c)});var i=s.sort(function(c,u){return $g(c,u,t,r)}),l=a.sort(function(c,u){return $g(c,u,t,r)});return[].concat(kd(i),kd(l))}function $g(e,t,r,n){var s={start:r.start(e),end:r.end(e),allDay:r.allDay(e)},a={start:r.start(t),end:r.end(t),allDay:r.allDay(t)};return n.sortEvents({evtA:s,evtB:a})}var Ig=function(t,r){return t.left<=r&&t.right>=r},qm=function(t,r){return t.filter(function(n){return Ig(n,r)}).map(function(n){return n.event})},A2=function(e){function t(){return Vt(this,t),mr(this,t,arguments)}return hr(t,e),Yt(t,[{key:"render",value:function(){for(var n=this.props,s=n.segments,a=n.slotMetrics.slots,i=Og(s).levels[0],l=1,c=1,u=[];l<=a;){var d="_lvl_"+l,f=i.filter(function(x){return Ig(x,l)})[0]||{},h=f.event,y=f.left,g=f.right,m=f.span;if(!h){var N=this.getHiddenEventsForSlot(s,l);if(N.length>0){var v=l-c;v&&u.push(Qr.renderSpan(a,v,d+"_gap")),u.push(Qr.renderSpan(a,1,d,this.renderShowMore(s,l))),c=l=l+1;continue}l++;continue}var p=Math.max(0,y-c);if(this.canRenderSlotEvent(y,m)){var b=Qr.renderEvent(this.props,h);p&&u.push(Qr.renderSpan(a,p,d+"_gap")),u.push(Qr.renderSpan(a,m,d,b)),c=l=g+1}else p&&u.push(Qr.renderSpan(a,p,d+"_gap")),u.push(Qr.renderSpan(a,1,d,this.renderShowMore(s,l))),c=l=l+1}return F.createElement("div",{className:"rbc-row"},u)}},{key:"getHiddenEventsForSlot",value:function(n,s){var a=qm(n,s),i=Og(n).levels[0],l=i.filter(function(c){return Ig(c,s)}).map(function(c){return c.event});return a.filter(function(c){return!l.some(function(u){return u===c})})}},{key:"canRenderSlotEvent",value:function(n,s){var a=this.props.segments;return EV(n,n+s).every(function(i){var l=qm(a,i).length;return l===1})}},{key:"renderShowMore",value:function(n,s){var a=this,i=this.props,l=i.localizer,c=i.slotMetrics,u=i.components,d=c.getEventsForSlot(s),f=qm(n,s),h=f.length;if(u!=null&&u.showMore){var y=u.showMore,g=c.getDateForSlot(s-1);return h?F.createElement(y,{localizer:l,slotDate:g,slot:s,count:h,events:d,remainingEvents:f}):!1}return h?F.createElement("button",{type:"button",key:"sm_"+s,className:_t("rbc-button-link","rbc-show-more"),onClick:function(N){return a.showMore(s,N)}},l.messages.showMore(h,f,d)):!1}},{key:"showMore",value:function(n,s){s.preventDefault(),s.stopPropagation(),this.props.onShowMore(n,s.target)}}])}(F.Component);A2.defaultProps=lt({},Qr.defaultProps);var pQ=function(t){var r=t.children;return F.createElement("div",{className:"rbc-row-content-scroll-container"},r)},gQ=function(t,r){return t.left<=r&&t.right>=r},yQ=function(t,r){return t[0].range===r[0].range&&t[0].events===r[0].events};function M2(){return a2(function(e){for(var t=e.range,r=e.events,n=e.maxRows,s=e.minRows,a=e.accessors,i=e.localizer,l=P2({dateRange:t,localizer:i}),c=l.first,u=l.last,d=r.map(function(m){return fQ(m,t,a,i)}),f=Og(d,Math.max(n-1,1)),h=f.levels,y=f.extra,g=y.length>0?s-1:s;h.length<g;)h.push([]);return{first:c,last:u,levels:h,extra:y,range:t,slots:t.length,clone:function(N){var v=M2();return v(lt(lt({},e),N))},getDateForSlot:function(N){return t[N]},getSlotForDate:function(N){return t.find(function(v){return i.isSameDate(v,N)})},getEventsForSlot:function(N){return d.filter(function(v){return gQ(v,N)}).map(function(v){return v.event})},continuesPrior:function(N){return i.continuesPrior(a.start(N),c)},continuesAfter:function(N){var v=a.start(N),p=a.end(N);return i.continuesAfter(v,p,u)}}},yQ)}var Cc=function(e){function t(){var r;Vt(this,t);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return r=mr(this,t,[].concat(s)),r.handleSelectSlot=function(i){var l=r.props,c=l.range,u=l.onSelectSlot;u(c.slice(i.start,i.end+1),i)},r.handleShowMore=function(i,l){var c=r.props,u=c.range,d=c.onShowMore,f=r.slotMetrics(r.props),h=gF(r.containerRef.current,".rbc-row-bg")[0],y;h&&(y=h.children[i-1]);var g=f.getEventsForSlot(i);d(g,u[i-1],y,i,l)},r.getContainer=function(){var i=r.props.container;return i?i():r.containerRef.current},r.renderHeadingCell=function(i,l){var c=r.props,u=c.renderHeader,d=c.getNow,f=c.localizer;return u({date:i,key:"header_".concat(l),className:_t("rbc-date-cell",f.isSameDate(i,d())&&"rbc-now")})},r.renderDummy=function(){var i=r.props,l=i.className,c=i.range,u=i.renderHeader,d=i.showAllEvents;return F.createElement("div",{className:l,ref:r.containerRef},F.createElement("div",{className:_t("rbc-row-content",d&&"rbc-row-content-scrollable")},u&&F.createElement("div",{className:"rbc-row",ref:r.headingRowRef},c.map(r.renderHeadingCell)),F.createElement("div",{className:"rbc-row",ref:r.eventRowRef},F.createElement("div",{className:"rbc-row-segment"},F.createElement("div",{className:"rbc-event"},F.createElement("div",{className:"rbc-event-content"},""))))))},r.containerRef=w.createRef(),r.headingRowRef=w.createRef(),r.eventRowRef=w.createRef(),r.slotMetrics=M2(),r}return hr(t,e),Yt(t,[{key:"getRowLimit",value:function(){var n,s=zm(this.eventRowRef.current),a=(n=this.headingRowRef)!==null&&n!==void 0&&n.current?zm(this.headingRowRef.current):0,i=zm(this.containerRef.current)-a;return Math.max(Math.floor(i/s),1)}},{key:"render",value:function(){var n=this.props,s=n.date,a=n.rtl,i=n.range,l=n.className,c=n.selected,u=n.selectable,d=n.renderForMeasure,f=n.accessors,h=n.getters,y=n.components,g=n.getNow,m=n.renderHeader,N=n.onSelect,v=n.localizer,p=n.onSelectStart,b=n.onSelectEnd,x=n.onDoubleClick,S=n.onKeyPress,k=n.resourceId,_=n.longPressThreshold,A=n.isAllDay,M=n.resizable,$=n.showAllEvents;if(d)return this.renderDummy();var V=this.slotMetrics(this.props),H=V.levels,Y=V.extra,K=$?pQ:Hn,ce=y.weekWrapper,ee={selected:c,accessors:f,getters:h,localizer:v,components:y,onSelect:N,onDoubleClick:x,onKeyPress:S,resourceId:k,slotMetrics:V,resizable:M};return F.createElement("div",{className:l,role:"rowgroup",ref:this.containerRef},F.createElement(dQ,{localizer:v,date:s,getNow:g,rtl:a,range:i,selectable:u,container:this.getContainer,getters:h,onSelectStart:p,onSelectEnd:b,onSelectSlot:this.handleSelectSlot,components:y,longPressThreshold:_,resourceId:k}),F.createElement("div",{className:_t("rbc-row-content",$&&"rbc-row-content-scrollable"),role:"row"},m&&F.createElement("div",{className:"rbc-row ",ref:this.headingRowRef},i.map(this.renderHeadingCell)),F.createElement(K,null,F.createElement(ce,Object.assign({isAllDay:A},ee,{rtl:this.props.rtl}),H.map(function(de,Z){return F.createElement(T2,Object.assign({key:Z,segments:de},ee))}),!!Y.length&&F.createElement(A2,Object.assign({segments:Y,onShowMore:this.handleShowMore},ee))))))}}])}(F.Component);Cc.defaultProps={minRows:0,maxRows:1/0};var Zv=function(t){var r=t.label;return F.createElement("span",{role:"columnheader","aria-sort":"none"},r)},vQ=function(t){var r=t.label,n=t.drilldownView,s=t.onDrillDown;return n?F.createElement("button",{type:"button",className:"rbc-button-link",onClick:s},r):F.createElement("span",null,r)},xQ=["date","className"],bQ=function(t,r,n,s,a){return t.filter(function(i){return Dc(i,r,n,s,a)})},Ah=function(e){function t(){var r;Vt(this,t);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return r=mr(this,t,[].concat(s)),r.getContainer=function(){return r.containerRef.current},r.renderWeek=function(i,l){var c=r.props,u=c.events,d=c.components,f=c.selectable,h=c.getNow,y=c.selected,g=c.date,m=c.localizer,N=c.longPressThreshold,v=c.accessors,p=c.getters,b=c.showAllEvents,x=r.state,S=x.needLimitMeasure,k=x.rowLimit,_=bQ(kd(u),i[0],i[i.length-1],v,m),A=mQ(_,v,m);return F.createElement(Cc,{key:l,ref:l===0?r.slotRowRef:void 0,container:r.getContainer,className:"rbc-month-row",getNow:h,date:g,range:i,events:A,maxRows:b?1/0:k,selected:y,selectable:f,components:d,accessors:v,getters:p,localizer:m,renderHeader:r.readerDateHeading,renderForMeasure:S,onShowMore:r.handleShowMore,onSelect:r.handleSelectEvent,onDoubleClick:r.handleDoubleClickEvent,onKeyPress:r.handleKeyPressEvent,onSelectSlot:r.handleSelectSlot,longPressThreshold:N,rtl:r.props.rtl,resizable:r.props.resizable,showAllEvents:b})},r.readerDateHeading=function(i){var l=i.date,c=i.className,u=os(i,xQ),d=r.props,f=d.date,h=d.getDrilldownView,y=d.localizer,g=y.neq(f,l,"month"),m=y.isSameDate(l,f),N=h(l),v=y.format(l,"dateFormat"),p=r.props.components.dateHeader||vQ;return F.createElement("div",Object.assign({},u,{className:_t(c,g&&"rbc-off-range",m&&"rbc-current"),role:"cell"}),F.createElement(p,{label:v,date:l,drilldownView:N,isOffRange:g,onDrillDown:function(x){return r.handleHeadingClick(l,N,x)}}))},r.handleSelectSlot=function(i,l){r._pendingSelection=r._pendingSelection.concat(i),clearTimeout(r._selectTimer),r._selectTimer=setTimeout(function(){return r.selectDates(l)})},r.handleHeadingClick=function(i,l,c){c.preventDefault(),r.clearSelection(),pt(r.props.onDrillDown,[i,l])},r.handleSelectEvent=function(){r.clearSelection();for(var i=arguments.length,l=new Array(i),c=0;c<i;c++)l[c]=arguments[c];pt(r.props.onSelectEvent,l)},r.handleDoubleClickEvent=function(){r.clearSelection();for(var i=arguments.length,l=new Array(i),c=0;c<i;c++)l[c]=arguments[c];pt(r.props.onDoubleClickEvent,l)},r.handleKeyPressEvent=function(){r.clearSelection();for(var i=arguments.length,l=new Array(i),c=0;c<i;c++)l[c]=arguments[c];pt(r.props.onKeyPressEvent,l)},r.handleShowMore=function(i,l,c,u,d){var f=r.props,h=f.popup,y=f.onDrillDown,g=f.onShowMore,m=f.getDrilldownView,N=f.doShowMoreDrillDown;if(r.clearSelection(),h){var v=MD(c,r.containerRef.current);r.setState({overlay:{date:l,events:i,position:v,target:d}})}else N&&pt(y,[l,m(l)||xr.DAY]);pt(g,[i,l,u])},r.overlayDisplay=function(){r.setState({overlay:null})},r.state={rowLimit:5,needLimitMeasure:!0,date:null},r.containerRef=w.createRef(),r.slotRowRef=w.createRef(),r._bgRows=[],r._pendingSelection=[],r}return hr(t,e),Yt(t,[{key:"componentDidMount",value:function(){var n=this,s;this.state.needLimitMeasure&&this.measureRowLimit(this.props),window.addEventListener("resize",this._resizeListener=function(){s||RD(function(){s=!1,n.setState({needLimitMeasure:!0})})},!1)}},{key:"componentDidUpdate",value:function(){this.state.needLimitMeasure&&this.measureRowLimit(this.props)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._resizeListener,!1)}},{key:"render",value:function(){var n=this.props,s=n.date,a=n.localizer,i=n.className,l=a.visibleDays(s,a),c=eF(l,7);return this._weekCount=c.length,F.createElement("div",{className:_t("rbc-month-view",i),role:"table","aria-label":"Month View",ref:this.containerRef},F.createElement("div",{className:"rbc-row rbc-month-header",role:"row"},this.renderHeaders(c[0])),c.map(this.renderWeek),this.props.popup&&this.renderOverlay())}},{key:"renderHeaders",value:function(n){var s=this.props,a=s.localizer,i=s.components,l=n[0],c=n[n.length-1],u=i.header||Zv;return a.range(l,c,"day").map(function(d,f){return F.createElement("div",{key:"header_"+f,className:"rbc-header"},F.createElement(u,{date:d,localizer:a,label:a.format(d,"weekdayFormat")}))})}},{key:"renderOverlay",value:function(){var n,s,a=this,i=(n=(s=this.state)===null||s===void 0?void 0:s.overlay)!==null&&n!==void 0?n:{},l=this.props,c=l.accessors,u=l.localizer,d=l.components,f=l.getters,h=l.selected,y=l.popupOffset,g=l.handleDragStart,m=function(){return a.setState({overlay:null})};return F.createElement(Jv,{overlay:i,accessors:c,localizer:u,components:d,getters:f,selected:h,popupOffset:y,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:g,show:!!i.position,overlayDisplay:this.overlayDisplay,onHide:m})}},{key:"measureRowLimit",value:function(){this.setState({needLimitMeasure:!1,rowLimit:this.slotRowRef.current.getRowLimit()})}},{key:"selectDates",value:function(n){var s=this._pendingSelection.slice();this._pendingSelection=[],s.sort(function(l,c){return+l-+c});var a=new Date(s[0]),i=new Date(s[s.length-1]);i.setDate(s[s.length-1].getDate()+1),pt(this.props.onSelectSlot,{slots:s,start:a,end:i,action:n.action,bounds:n.bounds,box:n.box})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}}],[{key:"getDerivedStateFromProps",value:function(n,s){var a=n.date,i=n.localizer;return{date:a,needLimitMeasure:i.neq(a,s.date,"month")}}}])}(F.Component);Ah.range=function(e,t){var r=t.localizer,n=r.firstVisibleDay(e,r),s=r.lastVisibleDay(e,r);return{start:n,end:s}};Ah.navigate=function(e,t,r){var n=r.localizer;switch(t){case $r.PREVIOUS:return n.add(e,-1,"month");case $r.NEXT:return n.add(e,1,"month");default:return e}};Ah.title=function(e,t){var r=t.localizer;return r.format(e,"monthHeaderFormat")};var N1=function(t){var r=t.min,n=t.max,s=t.step,a=t.slots,i=t.localizer;return"".concat(+i.startOf(r,"minutes"))+"".concat(+i.startOf(n,"minutes"))+"".concat(s,"-").concat(a)};function e0(e){for(var t=e.min,r=e.max,n=e.step,s=e.timeslots,a=e.localizer,i=N1({step:n,localizer:a}),l=1+a.getTotalMin(t,r),c=a.getMinutesFromMidnight(t),u=Math.ceil((l-1)/(n*s)),d=u*s,f=new Array(u),h=new Array(d),y=0;y<u;y++){f[y]=new Array(s);for(var g=0;g<s;g++){var m=y*s+g,N=m*n;h[m]=f[y][g]=a.getSlotDate(t,c,N)}}var v=h.length*n;h.push(a.getSlotDate(t,c,v));function p(b){var x=a.diff(t,b,"minutes")+a.getDstOffset(t,b);return Math.min(x,l)}return{groups:f,update:function(x){return N1(x)!==i?e0(x):this},dateIsInGroup:function(x,S){var k=f[S+1];return a.inRange(x,f[S][0],k?k[0]:r,"minutes")},nextSlot:function(x){var S=h[Math.min(h.findIndex(function(k){return k===x||a.eq(k,x)})+1,h.length-1)];return a.eq(S,x)&&(S=a.add(x,n,"minutes")),S},closestSlotToPosition:function(x){var S=Math.min(h.length-1,Math.max(0,Math.floor(x*d)));return h[S]},closestSlotFromPoint:function(x,S){var k=Math.abs(S.top-S.bottom);return this.closestSlotToPosition((x.y-S.top)/k)},closestSlotFromDate:function(x){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(a.lt(x,t,"minutes"))return h[0];if(a.gt(x,r,"minutes"))return h[h.length-1];var k=a.diff(t,x,"minutes");return h[(k-k%n)/n+S]},startsBeforeDay:function(x){return a.lt(x,t,"day")},startsAfterDay:function(x){return a.gt(x,r,"day")},startsBefore:function(x){return a.lt(a.merge(t,x),t,"minutes")},startsAfter:function(x){return a.gt(a.merge(r,x),r,"minutes")},getRange:function(x,S,k,_){k||(x=a.min(r,a.max(t,x))),_||(S=a.min(r,a.max(t,S)));var A=p(x),M=p(S),$=M>n*d&&!a.eq(r,S)?(A-n)/(n*d)*100:A/(n*d)*100;return{top:$,height:M/(n*d)*100-$,start:p(x),startDate:x,end:p(S),endDate:S}},getCurrentTimePosition:function(x){var S=p(x),k=S/(n*d)*100;return k}}}var wQ=function(){function e(t,r){var n=r.accessors,s=r.slotMetrics;Vt(this,e);var a=s.getRange(n.start(t),n.end(t)),i=a.start,l=a.startDate,c=a.end,u=a.endDate,d=a.top,f=a.height;this.start=i,this.end=c,this.startMs=+l,this.endMs=+u,this.top=d,this.height=f,this.data=t}return Yt(e,[{key:"_width",get:function(){if(this.rows){var r=this.rows.reduce(function(s,a){return Math.max(s,a.leaves.length+1)},0)+1;return 100/r}if(this.leaves){var n=100-this.container._width;return n/(this.leaves.length+1)}return this.row._width}},{key:"width",get:function(){var r=this._width,n=Math.min(100,this._width*1.7);if(this.rows)return n;if(this.leaves)return this.leaves.length>0?n:r;var s=this.row.leaves,a=s.indexOf(this);return a===s.length-1?r:n}},{key:"xOffset",get:function(){if(this.rows)return 0;if(this.leaves)return this.container._width;var r=this.row,n=r.leaves,s=r.xOffset,a=r._width,i=n.indexOf(this)+1;return s+i*a}}])}();function NQ(e,t,r){return Math.abs(t.start-e.start)<r||t.start>e.start&&t.start<e.end}function jQ(e){for(var t=K7(e,["startMs",function(l){return-l.endMs}]),r=[];t.length>0;){var n=t.shift();r.push(n);for(var s=0;s<t.length;s++){var a=t[s];if(!(n.endMs>a.startMs)){if(s>0){var i=t.splice(s,1)[0];r.push(i)}break}}}return r}function R2(e){for(var t=e.events,r=e.minimumStartDifference,n=e.slotMetrics,s=e.accessors,a=t.map(function(d){return new wQ(d,{slotMetrics:n,accessors:s})}),i=jQ(a),l=[],c=function(){var f=i[u],h=l.find(function(m){return m.end>f.start||Math.abs(f.start-m.start)<r});if(!h)return f.rows=[],l.push(f),1;f.container=h;for(var y=null,g=h.rows.length-1;!y&&g>=0;g--)NQ(h.rows[g],f,r)&&(y=h.rows[g]);y?(y.leaves.push(f),f.row=y):(f.leaves=[],h.rows.push(f))},u=0;u<i.length;u++)c();return i.map(function(d){return{event:d.data,style:{top:d.top,height:d.height,width:d.width,xOffset:Math.max(0,d.xOffset)}}})}function O2(e,t,r){for(var n=0;n<e.friends.length;++n)if(!(r.indexOf(e.friends[n])>-1)){t=t>e.friends[n].idx?t:e.friends[n].idx,r.push(e.friends[n]);var s=O2(e.friends[n],t,r);t=t>s?t:s}return t}function SQ(e){var t=e.events,r=e.minimumStartDifference,n=e.slotMetrics,s=e.accessors,a=R2({events:t,minimumStartDifference:r,slotMetrics:n,accessors:s});a.sort(function(ce,ee){return ce=ce.style,ee=ee.style,ce.top!==ee.top?ce.top>ee.top?1:-1:ce.height!==ee.height?ce.top+ce.height<ee.top+ee.height?1:-1:0});for(var i=0;i<a.length;++i)a[i].friends=[],delete a[i].style.left,delete a[i].style.left,delete a[i].idx,delete a[i].size;for(var l=0;l<a.length-1;++l)for(var c=a[l],u=c.style.top,d=c.style.top+c.style.height,f=l+1;f<a.length;++f){var h=a[f],y=h.style.top,g=h.style.top+h.style.height;(y>=u&&g<=d||g>u&&g<=d||y>=u&&y<d)&&(c.friends.push(h),h.friends.push(c))}for(var m=0;m<a.length;++m){for(var N=a[m],v=[],p=0;p<100;++p)v.push(1);for(var b=0;b<N.friends.length;++b)N.friends[b].idx!==void 0&&(v[N.friends[b].idx]=0);N.idx=v.indexOf(1)}for(var x=0;x<a.length;++x){var S=0;if(!a[x].size){var k=[],_=O2(a[x],0,k);S=100/(_+1),a[x].size=S;for(var A=0;A<k.length;++A)k[A].size=S}}for(var M=0;M<a.length;++M){var $=a[M];$.style.left=$.idx*$.size;for(var V=0,H=0;H<$.friends.length;++H){var Y=$.friends[H].idx;V=V>Y?V:Y}V<=$.idx&&($.size=100-$.idx*$.size);var K=$.idx===0?0:3;$.style.width="calc(".concat($.size,"% - ").concat(K,"px)"),$.style.height="calc(".concat($.style.height,"% - 2px)"),$.style.xOffset="calc(".concat($.style.left,"% + ").concat(K,"px)")}return a}var j1={overlap:R2,"no-overlap":SQ};function kQ(e){return!!(e&&e.constructor&&e.call&&e.apply)}function DQ(e){e.events,e.minimumStartDifference,e.slotMetrics,e.accessors;var t=e.dayLayoutAlgorithm,r=t;return t in j1&&(r=j1[t]),kQ(r)?r.apply(this,arguments):[]}var $2=function(e){function t(){return Vt(this,t),mr(this,t,arguments)}return hr(t,e),Yt(t,[{key:"render",value:function(){var n=this.props,s=n.renderSlot,a=n.resource,i=n.group,l=n.getters,c=n.components,u=c===void 0?{}:c,d=u.timeSlotWrapper,f=d===void 0?Hn:d,h=l?l.slotGroupProp(i):{};return F.createElement("div",Object.assign({className:"rbc-timeslot-group"},h),i.map(function(y,g){var m=l?l.slotProp(y,a):{};return F.createElement(f,{key:g,value:y,resource:a},F.createElement("div",Object.assign({},m,{className:_t("rbc-time-slot",m.className)}),s&&s(y,g)))}))}}])}(w.Component);function Gu(e){return typeof e=="string"?e:e+"%"}function CQ(e){var t=e.style,r=e.className,n=e.event,s=e.accessors,a=e.rtl,i=e.selected,l=e.label,c=e.continuesPrior,u=e.continuesAfter,d=e.getters,f=e.onClick,h=e.onDoubleClick,y=e.isBackgroundEvent,g=e.onKeyPress,m=e.components,N=m.event,v=m.eventWrapper,p=s.title(n),b=s.tooltip(n),x=s.end(n),S=s.start(n),k=d.eventProp(n,S,x,i),_=[F.createElement("div",{key:"1",className:"rbc-event-label"},l),F.createElement("div",{key:"2",className:"rbc-event-content"},N?F.createElement(N,{event:n,title:p}):p)],A=t.height,M=t.top,$=t.width,V=t.xOffset,H=lt(lt({},k.style),{},Ha({top:Gu(M),height:Gu(A),width:Gu($)},a?"right":"left",Gu(V)));return F.createElement(v,Object.assign({type:"time"},e),F.createElement("div",{role:"button",tabIndex:0,onClick:f,onDoubleClick:h,style:H,onKeyDown:g,title:b?(typeof l=="string"?l+": ":"")+b:void 0,className:_t(y?"rbc-background-event":"rbc-event",r,k.className,{"rbc-selected":i,"rbc-event-continues-earlier":c,"rbc-event-continues-later":u})},_))}var EQ=function(t){var r=t.children,n=t.className,s=t.style,a=t.innerRef;return F.createElement("div",{className:n,style:s,ref:a},r)},_Q=F.forwardRef(function(e,t){return F.createElement(EQ,Object.assign({},e,{innerRef:t}))}),TQ=["dayProp"],PQ=["eventContainerWrapper","timeIndicatorWrapper"],I2=function(e){function t(){var r;Vt(this,t);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return r=mr(this,t,[].concat(s)),r.state={selecting:!1,timeIndicatorPosition:null},r.intervalTriggered=!1,r.renderEvents=function(i){var l=i.events,c=i.isBackgroundEvent,u=r.props,d=u.rtl,f=u.selected,h=u.accessors,y=u.localizer,g=u.getters,m=u.components,N=u.step,v=u.timeslots,p=u.dayLayoutAlgorithm,b=u.resizable,x=r,S=x.slotMetrics,k=y.messages,_=DQ({events:l,accessors:h,slotMetrics:S,minimumStartDifference:Math.ceil(N*v/2),dayLayoutAlgorithm:p});return _.map(function(A,M){var $,V=A.event,H=A.style,Y=h.end(V),K=h.start(V),ce=($=h.eventId(V))!==null&&$!==void 0?$:"evt_"+M,ee="eventTimeRangeFormat",de,Z=S.startsBeforeDay(K),U=S.startsAfterDay(Y);Z?ee="eventTimeRangeEndFormat":U&&(ee="eventTimeRangeStartFormat"),Z&&U?de=k.allDay:de=y.format({start:K,end:Y},ee);var oe=Z||S.startsBefore(K),G=U||S.startsAfter(Y);return F.createElement(CQ,{style:H,event:V,label:de,key:ce,getters:g,rtl:d,components:m,continuesPrior:oe,continuesAfter:G,accessors:h,resource:r.props.resource,selected:Ph(V,f),onClick:function(D){return r._select(lt(lt(lt({},V),r.props.resource&&{sourceResource:r.props.resource}),c&&{isBackgroundEvent:!0}),D)},onDoubleClick:function(D){return r._doubleClick(V,D)},isBackgroundEvent:c,onKeyPress:function(D){return r._keyPress(V,D)},resizable:b})})},r._selectable=function(){var i=r.containerRef.current,l=r.props,c=l.longPressThreshold,u=l.localizer,d=r._selector=new _2(function(){return i},{longPressThreshold:c}),f=function(m){var N=r.props.onSelecting,v=r.state||{},p=h(m),b=p.startDate,x=p.endDate;N&&(u.eq(v.startDate,b,"minutes")&&u.eq(v.endDate,x,"minutes")||N({start:b,end:x,resourceId:r.props.resource})===!1)||(r.state.start!==p.start||r.state.end!==p.end||r.state.selecting!==p.selecting)&&r.setState(p)},h=function(m){var N=r.slotMetrics.closestSlotFromPoint(m,No(i));r.state.selecting||(r._initialSlot=N);var v=r._initialSlot;u.lte(v,N)?N=r.slotMetrics.nextSlot(N):u.gt(v,N)&&(v=r.slotMetrics.nextSlot(v));var p=r.slotMetrics.getRange(u.min(v,N),u.max(v,N));return lt(lt({},p),{},{selecting:!0,top:"".concat(p.top,"%"),height:"".concat(p.height,"%")})},y=function(m,N){if(!Sf(r.containerRef.current,m)){var v=h(m),p=v.startDate,b=v.endDate;r._selectSlot({startDate:p,endDate:b,action:N,box:m})}r.setState({selecting:!1})};d.on("selecting",f),d.on("selectStart",f),d.on("beforeSelect",function(g){if(r.props.selectable==="ignoreEvents")return!Sf(r.containerRef.current,g)}),d.on("click",function(g){return y(g,"click")}),d.on("doubleClick",function(g){return y(g,"doubleClick")}),d.on("select",function(g){r.state.selecting&&(r._selectSlot(lt(lt({},r.state),{},{action:"select",bounds:g})),r.setState({selecting:!1}))}),d.on("reset",function(){r.state.selecting&&r.setState({selecting:!1})})},r._teardownSelectable=function(){r._selector&&(r._selector.teardown(),r._selector=null)},r._selectSlot=function(i){for(var l=i.startDate,c=i.endDate,u=i.action,d=i.bounds,f=i.box,h=l,y=[];r.props.localizer.lte(h,c);)y.push(h),h=new Date(+h+r.props.step*60*1e3);pt(r.props.onSelectSlot,{slots:y,start:l,end:c,resourceId:r.props.resource,action:u,bounds:d,box:f})},r._select=function(){for(var i=arguments.length,l=new Array(i),c=0;c<i;c++)l[c]=arguments[c];pt(r.props.onSelectEvent,l)},r._doubleClick=function(){for(var i=arguments.length,l=new Array(i),c=0;c<i;c++)l[c]=arguments[c];pt(r.props.onDoubleClickEvent,l)},r._keyPress=function(){for(var i=arguments.length,l=new Array(i),c=0;c<i;c++)l[c]=arguments[c];pt(r.props.onKeyPressEvent,l)},r.slotMetrics=e0(r.props),r.containerRef=w.createRef(),r}return hr(t,e),Yt(t,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable(),this.props.isNow&&this.setTimeIndicatorPositionUpdateInterval()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable(),this.clearTimeIndicatorInterval()}},{key:"componentDidUpdate",value:function(n,s){this.props.selectable&&!n.selectable&&this._selectable(),!this.props.selectable&&n.selectable&&this._teardownSelectable();var a=this.props,i=a.getNow,l=a.isNow,c=a.localizer,u=a.date,d=a.min,f=a.max,h=c.neq(n.getNow(),i(),"minutes");if(n.isNow!==l||h){if(this.clearTimeIndicatorInterval(),l){var y=!h&&c.eq(n.date,u,"minutes")&&s.timeIndicatorPosition===this.state.timeIndicatorPosition;this.setTimeIndicatorPositionUpdateInterval(y)}}else l&&(c.neq(n.min,d,"minutes")||c.neq(n.max,f,"minutes"))&&this.positionTimeIndicator()}},{key:"setTimeIndicatorPositionUpdateInterval",value:function(){var n=this,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;!this.intervalTriggered&&!s&&this.positionTimeIndicator(),this._timeIndicatorTimeout=window.setTimeout(function(){n.intervalTriggered=!0,n.positionTimeIndicator(),n.setTimeIndicatorPositionUpdateInterval()},6e4)}},{key:"clearTimeIndicatorInterval",value:function(){this.intervalTriggered=!1,window.clearTimeout(this._timeIndicatorTimeout)}},{key:"positionTimeIndicator",value:function(){var n=this.props,s=n.min,a=n.max,i=n.getNow,l=i();if(l>=s&&l<=a){var c=this.slotMetrics.getCurrentTimePosition(l);this.intervalTriggered=!0,this.setState({timeIndicatorPosition:c})}else this.clearTimeIndicatorInterval()}},{key:"render",value:function(){var n=this.props,s=n.date,a=n.max,i=n.rtl,l=n.isNow,c=n.resource,u=n.accessors,d=n.localizer,f=n.getters,h=f.dayProp,y=os(f,TQ),g=n.components,m=g.eventContainerWrapper,N=g.timeIndicatorWrapper,v=os(g,PQ);this.slotMetrics=this.slotMetrics.update(this.props);var p=this.slotMetrics,b=this.state,x=b.selecting,S=b.top,k=b.height,_=b.startDate,A=b.endDate,M={start:_,end:A},$=h(a,c),V=$.className,H=$.style,Y={className:"rbc-current-time-indicator",style:{top:"".concat(this.state.timeIndicatorPosition,"%")}},K=v.dayColumnWrapper||_Q;return F.createElement(K,{ref:this.containerRef,date:s,style:H,className:_t(V,"rbc-day-slot","rbc-time-column",l&&"rbc-now",l&&"rbc-today",x&&"rbc-slot-selecting"),slotMetrics:p,resource:c},p.groups.map(function(ce,ee){return F.createElement($2,{key:ee,group:ce,resource:c,getters:y,components:v})}),F.createElement(m,{localizer:d,resource:c,accessors:u,getters:y,components:v,slotMetrics:p},F.createElement("div",{className:_t("rbc-events-container",i&&"rtl")},this.renderEvents({events:this.props.backgroundEvents,isBackgroundEvent:!0}),this.renderEvents({events:this.props.events}))),x&&F.createElement("div",{className:"rbc-slot-selection",style:{top:S,height:k}},F.createElement("span",null,d.format(M,"selectRangeFormat"))),l&&this.intervalTriggered&&F.createElement(N,Y,F.createElement("div",Y)))}}])}(F.Component);I2.defaultProps={dragThroughEvents:!0,timeslots:2};var L2=function(t){var r=t.label;return F.createElement(F.Fragment,null,r)},AQ=function(e){function t(){var r;Vt(this,t);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return r=mr(this,t,[].concat(s)),r.handleHeaderClick=function(i,l,c){c.preventDefault(),pt(r.props.onDrillDown,[i,l])},r.renderRow=function(i){var l=r.props,c=l.events,u=l.rtl,d=l.selectable,f=l.getNow,h=l.range,y=l.getters,g=l.localizer,m=l.accessors,N=l.components,v=l.resizable,p=m.resourceId(i),b=i?c.filter(function(x){return m.resource(x)===p}):c;return F.createElement(Cc,{isAllDay:!0,rtl:u,getNow:f,minRows:2,maxRows:r.props.allDayMaxRows+1,range:h,events:b,resourceId:p,className:"rbc-allday-cell",selectable:d,selected:r.props.selected,components:N,accessors:m,getters:y,localizer:g,onSelect:r.props.onSelectEvent,onShowMore:r.props.onShowMore,onDoubleClick:r.props.onDoubleClickEvent,onKeyPress:r.props.onKeyPressEvent,onSelectSlot:r.props.onSelectSlot,longPressThreshold:r.props.longPressThreshold,resizable:v})},r}return hr(t,e),Yt(t,[{key:"renderHeaderCells",value:function(n){var s=this,a=this.props,i=a.localizer,l=a.getDrilldownView,c=a.getNow,u=a.getters.dayProp,d=a.components.header,f=d===void 0?Zv:d,h=c();return n.map(function(y,g){var m=l(y),N=i.format(y,"dayFormat"),v=u(y),p=v.className,b=v.style,x=F.createElement(f,{date:y,label:N,localizer:i});return F.createElement("div",{key:g,style:b,className:_t("rbc-header",p,i.isSameDate(y,h)&&"rbc-today")},m?F.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(k){return s.handleHeaderClick(y,m,k)}},x):F.createElement("span",null,x))})}},{key:"render",value:function(){var n=this,s=this.props,a=s.width,i=s.rtl,l=s.resources,c=s.range,u=s.events,d=s.getNow,f=s.accessors,h=s.selectable,y=s.components,g=s.getters,m=s.scrollRef,N=s.localizer,v=s.isOverflowing,p=s.components,b=p.timeGutterHeader,x=p.resourceHeader,S=x===void 0?L2:x,k=s.resizable,_={};v&&(_[i?"marginLeft":"marginRight"]="".concat(Av()-1,"px"));var A=l.groupEvents(u);return F.createElement("div",{style:_,ref:m,className:_t("rbc-time-header",v&&"rbc-overflowing")},F.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:a,minWidth:a,maxWidth:a}},b&&F.createElement(b,null)),l.map(function(M,$){var V=rn(M,2),H=V[0],Y=V[1];return F.createElement("div",{className:"rbc-time-header-content",key:H||$},Y&&F.createElement("div",{className:"rbc-row rbc-row-resource",key:"resource_".concat($)},F.createElement("div",{className:"rbc-header"},F.createElement(S,{index:$,label:f.resourceTitle(Y),resource:Y}))),F.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(c.length<=1?" rbc-time-header-cell-single-day":"")},n.renderHeaderCells(c)),F.createElement(Cc,{isAllDay:!0,rtl:i,getNow:d,minRows:2,maxRows:n.props.allDayMaxRows+1,range:c,events:A.get(H)||[],resourceId:Y&&H,className:"rbc-allday-cell",selectable:h,selected:n.props.selected,components:y,accessors:f,getters:g,localizer:N,onSelect:n.props.onSelectEvent,onShowMore:n.props.onShowMore,onDoubleClick:n.props.onDoubleClickEvent,onKeyDown:n.props.onKeyPressEvent,onSelectSlot:n.props.onSelectSlot,longPressThreshold:n.props.longPressThreshold,resizable:k}))}))}}])}(F.Component),MQ=function(e){function t(){var r;Vt(this,t);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return r=mr(this,t,[].concat(s)),r.handleHeaderClick=function(i,l,c){c.preventDefault(),pt(r.props.onDrillDown,[i,l])},r}return hr(t,e),Yt(t,[{key:"renderHeaderCells",value:function(n){var s=this,a=this.props,i=a.localizer,l=a.getDrilldownView,c=a.getNow,u=a.getters.dayProp,d=a.components,f=d.header,h=f===void 0?Zv:f,y=d.resourceHeader,g=y===void 0?L2:y,m=a.resources,N=a.accessors,v=a.events,p=a.rtl,b=a.selectable,x=a.components,S=a.getters,k=a.resizable,_=c(),A=m.groupEvents(v);return n.map(function(M,$){var V=l(M),H=i.format(M,"dayFormat"),Y=u(M),K=Y.className,ce=Y.style,ee=F.createElement(h,{date:M,label:H,localizer:i});return F.createElement("div",{key:$,className:"rbc-time-header-content rbc-resource-grouping"},F.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(n.length<=1?" rbc-time-header-cell-single-day":"")},F.createElement("div",{style:ce,className:_t("rbc-header",K,i.isSameDate(M,_)&&"rbc-today")},V?F.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(Z){return s.handleHeaderClick(M,V,Z)}},ee):F.createElement("span",null,ee))),F.createElement("div",{className:"rbc-row"},m.map(function(de,Z){var U=rn(de,2),oe=U[0],G=U[1];return F.createElement("div",{key:"resource_".concat(oe,"_").concat(Z),className:_t("rbc-header",K,i.isSameDate(M,_)&&"rbc-today")},F.createElement(g,{index:Z,label:N.resourceTitle(G),resource:G}))})),F.createElement("div",{className:"rbc-row rbc-m-b-negative-3 rbc-h-full"},m.map(function(de,Z){var U=rn(de,2),oe=U[0],G=U[1],W=(A.get(oe)||[]).filter(function(D){return i.isSameDate(D.start,M)||i.isSameDate(D.end,M)});return F.createElement(Cc,{key:"resource_".concat(oe,"_").concat(Z),isAllDay:!0,rtl:p,getNow:c,minRows:2,maxRows:s.props.allDayMaxRows+1,range:[M],events:W,resourceId:G&&oe,className:"rbc-allday-cell",selectable:b,selected:s.props.selected,components:x,accessors:N,getters:S,localizer:i,onSelect:s.props.onSelectEvent,onShowMore:s.props.onShowMore,onDoubleClick:s.props.onDoubleClickEvent,onKeyDown:s.props.onKeyPressEvent,onSelectSlot:s.props.onSelectSlot,longPressThreshold:s.props.longPressThreshold,resizable:k})})))})}},{key:"render",value:function(){var n=this.props,s=n.width,a=n.rtl,i=n.range,l=n.scrollRef,c=n.isOverflowing,u=n.components.timeGutterHeader,d={};return c&&(d[a?"marginLeft":"marginRight"]="".concat(Av()-1,"px")),F.createElement("div",{style:d,ref:l,className:_t("rbc-time-header",c&&"rbc-overflowing")},F.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:s,minWidth:s,maxWidth:s}},u&&F.createElement(u,null)),this.renderHeaderCells(i))}}])}(F.Component);function RQ(e){var t=e.min,r=e.max,n=e.localizer;return n.getTimezoneOffset(t)!==n.getTimezoneOffset(r)?{start:n.add(t,-1,"day"),end:n.add(r,-1,"day")}:{start:t,end:r}}var OQ=function(t){var r=t.min,n=t.max,s=t.timeslots,a=t.step,i=t.localizer,l=t.getNow,c=t.resource,u=t.components,d=t.getters,f=t.gutterRef,h=u.timeGutterWrapper,y=w.useMemo(function(){return RQ({min:r,max:n,localizer:i})},[r==null?void 0:r.toISOString(),n==null?void 0:n.toISOString(),i]),g=y.start,m=y.end,N=w.useState(e0({min:g,max:m,timeslots:s,step:a,localizer:i})),v=rn(N,2),p=v[0],b=v[1];w.useEffect(function(){p&&b(p.update({min:g,max:m,timeslots:s,step:a,localizer:i}))},[g==null?void 0:g.toISOString(),m==null?void 0:m.toISOString(),s,a]);var x=w.useCallback(function(S,k){if(k)return null;var _=p.dateIsInGroup(l(),k);return F.createElement("span",{className:_t("rbc-label",_&&"rbc-now")},i.format(S,"timeGutterFormat"))},[p,i,l]);return F.createElement(h,{slotMetrics:p},F.createElement("div",{className:"rbc-time-gutter rbc-time-column",ref:f},p.groups.map(function(S,k){return F.createElement($2,{key:k,group:S,resource:c,components:u,renderSlot:x,getters:d})})))},$Q=F.forwardRef(function(e,t){return F.createElement(OQ,Object.assign({gutterRef:t},e))}),Km={};function IQ(e,t){return{map:function(n){return e?e.map(function(s,a){return n([t.resourceId(s),s],a)}):[n([Km,null],0)]},groupEvents:function(n){var s=new Map;return e?(n.forEach(function(a){var i=t.resource(a)||Km;if(Array.isArray(i))i.forEach(function(c){var u=s.get(c)||[];u.push(a),s.set(c,u)});else{var l=s.get(i)||[];l.push(a),s.set(i,l)}}),s):(s.set(Km,n),s)}}}var Yi=function(e){function t(r){var n;return Vt(this,t),n=mr(this,t,[r]),n.handleScroll=function(s){n.scrollRef.current&&(n.scrollRef.current.scrollLeft=s.target.scrollLeft)},n.handleResize=function(){cw(n.rafHandle),n.rafHandle=RD(n.checkOverflow)},n.handleKeyPressEvent=function(){n.clearSelection();for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];pt(n.props.onKeyPressEvent,a)},n.handleSelectEvent=function(){n.clearSelection();for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];pt(n.props.onSelectEvent,a)},n.handleDoubleClickEvent=function(){n.clearSelection();for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];pt(n.props.onDoubleClickEvent,a)},n.handleShowMore=function(s,a,i,l,c){var u=n.props,d=u.popup,f=u.onDrillDown,h=u.onShowMore,y=u.getDrilldownView,g=u.doShowMoreDrillDown;if(n.clearSelection(),d){var m=MD(i,n.containerRef.current);n.setState({overlay:{date:a,events:s,position:lt(lt({},m),{},{width:"200px"}),target:c}})}else g&&pt(f,[a,y(a)||xr.DAY]);pt(h,[s,a,l])},n.handleSelectAllDaySlot=function(s,a){var i=n.props.onSelectSlot,l=new Date(s[0]),c=new Date(s[s.length-1]);c.setDate(s[s.length-1].getDate()+1),pt(i,{slots:s,start:l,end:c,action:a.action,resourceId:a.resourceId})},n.overlayDisplay=function(){n.setState({overlay:null})},n.checkOverflow=function(){if(!n._updatingOverflow){var s=n.contentRef.current;if(s!=null&&s.scrollHeight){var a=s.scrollHeight>s.clientHeight;n.state.isOverflowing!==a&&(n._updatingOverflow=!0,n.setState({isOverflowing:a},function(){n._updatingOverflow=!1}))}}},n.memoizedResources=a2(function(s,a){return IQ(s,a)}),n.state={gutterWidth:void 0,isOverflowing:null},n.scrollRef=F.createRef(),n.contentRef=F.createRef(),n.containerRef=F.createRef(),n._scrollRatio=null,n.gutterRef=w.createRef(),n}return hr(t,e),Yt(t,[{key:"getSnapshotBeforeUpdate",value:function(){return this.checkOverflow(),null}},{key:"componentDidMount",value:function(){this.props.width==null&&this.measureGutter(),this.calculateScroll(),this.applyScroll(),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),cw(this.rafHandle),this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest)}},{key:"componentDidUpdate",value:function(){this.applyScroll()}},{key:"renderDayColumn",value:function(n,s,a,i,l,c,u,d,f,h){var y=this.props,g=y.min,m=y.max,N=(i.get(s)||[]).filter(function(p){return c.inRange(n,u.start(p),u.end(p),"day")}),v=(l.get(s)||[]).filter(function(p){return c.inRange(n,u.start(p),u.end(p),"day")});return F.createElement(I2,Object.assign({},this.props,{localizer:c,min:c.merge(n,g),max:c.merge(n,m),resource:a&&s,components:d,isNow:c.isSameDate(n,h),key:"".concat(s,"-").concat(n),date:n,events:N,backgroundEvents:v,dayLayoutAlgorithm:f}))}},{key:"renderResourcesFirst",value:function(n,s,a,i,l,c,u,d,f){var h=this;return s.map(function(y){var g=rn(y,2),m=g[0],N=g[1];return n.map(function(v){return h.renderDayColumn(v,m,N,a,i,l,c,d,f,u)})})}},{key:"renderRangeFirst",value:function(n,s,a,i,l,c,u,d,f){var h=this;return n.map(function(y){return F.createElement("div",{style:{display:"flex",minHeight:"100%",flex:1},key:y},s.map(function(g){var m=rn(g,2),N=m[0],v=m[1];return F.createElement("div",{style:{flex:1},key:c.resourceId(v)},h.renderDayColumn(y,N,v,a,i,l,c,d,f,u))}))})}},{key:"renderEvents",value:function(n,s,a,i){var l=this.props,c=l.accessors,u=l.localizer,d=l.resourceGroupingLayout,f=l.components,h=l.dayLayoutAlgorithm,y=this.memoizedResources(this.props.resources,c),g=y.groupEvents(s),m=y.groupEvents(a);return d?this.renderRangeFirst(n,y,g,m,u,c,i,f,h):this.renderResourcesFirst(n,y,g,m,u,c,i,f,h)}},{key:"render",value:function(){var n,s=this.props,a=s.events,i=s.backgroundEvents,l=s.range,c=s.width,u=s.rtl,d=s.selected,f=s.getNow,h=s.resources,y=s.components,g=s.accessors,m=s.getters,N=s.localizer,v=s.min,p=s.max,b=s.showMultiDayTimes,x=s.longPressThreshold,S=s.resizable,k=s.resourceGroupingLayout;c=c||this.state.gutterWidth;var _=l[0],A=l[l.length-1];this.slots=l.length;var M=[],$=[],V=[];a.forEach(function(Y){if(Dc(Y,_,A,g,N)){var K=g.start(Y),ce=g.end(Y);g.allDay(Y)||N.startAndEndAreDateOnly(K,ce)||!b&&!N.isSameDate(K,ce)?M.push(Y):$.push(Y)}}),i.forEach(function(Y){Dc(Y,_,A,g,N)&&V.push(Y)}),M.sort(function(Y,K){return $g(Y,K,g,N)});var H={range:l,events:M,width:c,rtl:u,getNow:f,localizer:N,selected:d,allDayMaxRows:this.props.showAllEvents?1/0:(n=this.props.allDayMaxRows)!==null&&n!==void 0?n:1/0,resources:this.memoizedResources(h,g),selectable:this.props.selectable,accessors:g,getters:m,components:y,scrollRef:this.scrollRef,isOverflowing:this.state.isOverflowing,longPressThreshold:x,onSelectSlot:this.handleSelectAllDaySlot,onSelectEvent:this.handleSelectEvent,onShowMore:this.handleShowMore,onDoubleClickEvent:this.props.onDoubleClickEvent,onKeyPressEvent:this.props.onKeyPressEvent,onDrillDown:this.props.onDrillDown,getDrilldownView:this.props.getDrilldownView,resizable:S};return F.createElement("div",{className:_t("rbc-time-view",h&&"rbc-time-view-resources"),ref:this.containerRef},h&&h.length>1&&k?F.createElement(MQ,H):F.createElement(AQ,H),this.props.popup&&this.renderOverlay(),F.createElement("div",{ref:this.contentRef,className:"rbc-time-content",onScroll:this.handleScroll},F.createElement($Q,{date:_,ref:this.gutterRef,localizer:N,min:N.merge(_,v),max:N.merge(_,p),step:this.props.step,getNow:this.props.getNow,timeslots:this.props.timeslots,components:y,className:"rbc-time-gutter",getters:m}),this.renderEvents(l,$,V,f())))}},{key:"renderOverlay",value:function(){var n,s,a=this,i=(n=(s=this.state)===null||s===void 0?void 0:s.overlay)!==null&&n!==void 0?n:{},l=this.props,c=l.accessors,u=l.localizer,d=l.components,f=l.getters,h=l.selected,y=l.popupOffset,g=l.handleDragStart,m=function(){return a.setState({overlay:null})};return F.createElement(Jv,{overlay:i,accessors:c,localizer:u,components:d,getters:f,selected:h,popupOffset:y,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:g,show:!!i.position,overlayDisplay:this.overlayDisplay,onHide:m})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}},{key:"measureGutter",value:function(){var n=this;this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest),this.measureGutterAnimationFrameRequest=window.requestAnimationFrame(function(){var s,a=(s=n.gutterRef)!==null&&s!==void 0&&s.current?Mg(n.gutterRef.current):void 0;a&&n.state.gutterWidth!==a&&n.setState({gutterWidth:a})})}},{key:"applyScroll",value:function(){if(this._scrollRatio!=null&&this.props.enableAutoScroll===!0){var n=this.contentRef.current;n.scrollTop=n.scrollHeight*this._scrollRatio,this._scrollRatio=null}}},{key:"calculateScroll",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,s=n.min,a=n.max,i=n.scrollToTime,l=n.localizer,c=l.diff(l.merge(i,s),i,"milliseconds"),u=l.diff(s,a,"milliseconds");this._scrollRatio=c/u}}])}(w.Component);Yi.defaultProps={step:30,timeslots:2,resourceGroupingLayout:!1};var LQ=["date","localizer","min","max","scrollToTime","enableAutoScroll"],Mh=function(e){function t(){return Vt(this,t),mr(this,t,arguments)}return hr(t,e),Yt(t,[{key:"render",value:function(){var n=this.props,s=n.date,a=n.localizer,i=n.min,l=i===void 0?a.startOf(new Date,"day"):i,c=n.max,u=c===void 0?a.endOf(new Date,"day"):c,d=n.scrollToTime,f=d===void 0?a.startOf(new Date,"day"):d,h=n.enableAutoScroll,y=h===void 0?!0:h,g=os(n,LQ),m=t.range(s,{localizer:a});return F.createElement(Yi,Object.assign({},g,{range:m,eventOffset:10,localizer:a,min:l,max:u,scrollToTime:f,enableAutoScroll:y}))}}])}(F.Component);Mh.range=function(e,t){var r=t.localizer;return[r.startOf(e,"day")]};Mh.navigate=function(e,t,r){var n=r.localizer;switch(t){case $r.PREVIOUS:return n.add(e,-1,"day");case $r.NEXT:return n.add(e,1,"day");default:return e}};Mh.title=function(e,t){var r=t.localizer;return r.format(e,"dayHeaderFormat")};var FQ=["date","localizer","min","max","scrollToTime","enableAutoScroll"],_a=function(e){function t(){return Vt(this,t),mr(this,t,arguments)}return hr(t,e),Yt(t,[{key:"render",value:function(){var n=this.props,s=n.date,a=n.localizer,i=n.min,l=i===void 0?a.startOf(new Date,"day"):i,c=n.max,u=c===void 0?a.endOf(new Date,"day"):c,d=n.scrollToTime,f=d===void 0?a.startOf(new Date,"day"):d,h=n.enableAutoScroll,y=h===void 0?!0:h,g=os(n,FQ),m=t.range(s,this.props);return F.createElement(Yi,Object.assign({},g,{range:m,eventOffset:15,localizer:a,min:l,max:u,scrollToTime:f,enableAutoScroll:y}))}}])}(F.Component);_a.defaultProps=Yi.defaultProps;_a.navigate=function(e,t,r){var n=r.localizer;switch(t){case $r.PREVIOUS:return n.add(e,-1,"week");case $r.NEXT:return n.add(e,1,"week");default:return e}};_a.range=function(e,t){var r=t.localizer,n=r.startOfWeek(),s=r.startOf(e,"week",n),a=r.endOf(e,"week",n);return r.range(s,a)};_a.title=function(e,t){var r=t.localizer,n=_a.range(e,{localizer:r}),s=f2(n),a=s[0],i=s.slice(1);return r.format({start:a,end:i.pop()},"dayRangeHeaderFormat")};var WQ=["date","localizer","min","max","scrollToTime","enableAutoScroll"];function t0(e,t){return _a.range(e,t).filter(function(r){return[6,0].indexOf(r.getDay())===-1})}var uu=function(e){function t(){return Vt(this,t),mr(this,t,arguments)}return hr(t,e),Yt(t,[{key:"render",value:function(){var n=this.props,s=n.date,a=n.localizer,i=n.min,l=i===void 0?a.startOf(new Date,"day"):i,c=n.max,u=c===void 0?a.endOf(new Date,"day"):c,d=n.scrollToTime,f=d===void 0?a.startOf(new Date,"day"):d,h=n.enableAutoScroll,y=h===void 0?!0:h,g=os(n,WQ),m=t0(s,this.props);return F.createElement(Yi,Object.assign({},g,{range:m,eventOffset:15,localizer:a,min:l,max:u,scrollToTime:f,enableAutoScroll:y}))}}])}(F.Component);uu.defaultProps=Yi.defaultProps;uu.range=t0;uu.navigate=_a.navigate;uu.title=function(e,t){var r=t.localizer,n=t0(e,{localizer:r}),s=f2(n),a=s[0],i=s.slice(1);return r.format({start:a,end:i.pop()},"dayRangeHeaderFormat")};var Rh=30;function Oh(e){var t=e.accessors,r=e.components,n=e.date,s=e.events,a=e.getters,i=e.length,l=i===void 0?Rh:i,c=e.localizer,u=e.onDoubleClickEvent,d=e.onSelectEvent,f=e.selected,h=w.useRef(null),y=w.useRef(null),g=w.useRef(null),m=w.useRef(null),N=w.useRef(null);w.useEffect(function(){b()});var v=function(A,M,$){var V=r.event,H=r.date;return M=M.filter(function(Y){return Dc(Y,c.startOf(A,"day"),c.endOf(A,"day"),t,c)}),M.map(function(Y,K){var ce=t.title(Y),ee=t.end(Y),de=t.start(Y),Z=a.eventProp(Y,de,ee,Ph(Y,f)),U=K===0&&c.format(A,"agendaDateFormat"),oe=K===0?F.createElement("td",{rowSpan:M.length,className:"rbc-agenda-date-cell"},H?F.createElement(H,{day:A,label:U}):U):!1;return F.createElement("tr",{key:$+"_"+K,className:Z.className,style:Z.style},oe,F.createElement("td",{className:"rbc-agenda-time-cell"},p(A,Y)),F.createElement("td",{className:"rbc-agenda-event-cell",onClick:function(W){return d&&d(Y,W)},onDoubleClick:function(W){return u&&u(Y,W)}},V?F.createElement(V,{event:Y,title:ce}):ce))},[])},p=function(A,M){var $="",V=r.time,H=c.messages.allDay,Y=t.end(M),K=t.start(M);return t.allDay(M)||(c.eq(K,Y)?H=c.format(K,"agendaTimeFormat"):c.isSameDate(K,Y)?H=c.format({start:K,end:Y},"agendaTimeRangeFormat"):c.isSameDate(A,K)?H=c.format(K,"agendaTimeFormat"):c.isSameDate(A,Y)&&(H=c.format(Y,"agendaTimeFormat"))),c.gt(A,K,"day")&&($="rbc-continues-prior"),c.lt(A,Y,"day")&&($+=" rbc-continues-after"),F.createElement("span",{className:$.trim()},V?F.createElement(V,{event:M,day:A,label:H}):H)},b=function(){if(N.current){var A=h.current,M=N.current.firstChild;if(M){var $=m.current.scrollHeight>m.current.clientHeight,V=[],H=V;V=[Mg(M.children[0]),Mg(M.children[1])],(H[0]!==V[0]||H[1]!==V[1])&&(y.current.style.width=V[0]+"px",g.current.style.width=V[1]+"px"),$?(B5(A,"rbc-header-overflowing"),A.style.marginRight=Av()+"px"):U5(A,"rbc-header-overflowing")}}},x=c.messages,S=c.add(n,l,"day"),k=c.range(n,S,"day");return s=s.filter(function(_){return Dc(_,c.startOf(n,"day"),c.endOf(S,"day"),t,c)}),s.sort(function(_,A){return+t.start(_)-+t.start(A)}),F.createElement("div",{className:"rbc-agenda-view"},s.length!==0?F.createElement(F.Fragment,null,F.createElement("table",{ref:h,className:"rbc-agenda-table"},F.createElement("thead",null,F.createElement("tr",null,F.createElement("th",{className:"rbc-header",ref:y},x.date),F.createElement("th",{className:"rbc-header",ref:g},x.time),F.createElement("th",{className:"rbc-header"},x.event)))),F.createElement("div",{className:"rbc-agenda-content",ref:m},F.createElement("table",{className:"rbc-agenda-table"},F.createElement("tbody",{ref:N},k.map(function(_,A){return v(_,s,A)}))))):F.createElement("span",{className:"rbc-agenda-empty"},x.noEventsInRange))}Oh.range=function(e,t){var r=t.length,n=r===void 0?Rh:r,s=t.localizer,a=s.add(e,n,"day");return{start:e,end:a}};Oh.navigate=function(e,t,r){var n=r.length,s=n===void 0?Rh:n,a=r.localizer;switch(t){case $r.PREVIOUS:return a.add(e,-s,"day");case $r.NEXT:return a.add(e,s,"day");default:return e}};Oh.title=function(e,t){var r=t.length,n=r===void 0?Rh:r,s=t.localizer,a=s.add(e,n,"day");return s.format({start:e,end:a},"agendaHeaderFormat")};var Ed=Ha(Ha(Ha(Ha(Ha({},xr.MONTH,Ah),xr.WEEK,_a),xr.WORK_WEEK,uu),xr.DAY,Mh),xr.AGENDA,Oh),BQ=["action","date","today"];function UQ(e,t){var r=t.action,n=t.date,s=t.today,a=os(t,BQ);switch(e=typeof e=="string"?Ed[e]:e,r){case $r.TODAY:n=s||new Date;break;case $r.DATE:break;default:mc(e&&typeof e.navigate=="function","Calendar View components must implement a static `.navigate(date, action)` method.s"),n=e.navigate(n,r,a)}return n}function HQ(e,t){var r=null;return typeof t=="function"?r=t(e):typeof t=="string"&&Tn(e)==="object"&&e!=null&&t in e&&(r=e[t]),r}var ps=function(t){return function(r){return HQ(r,t)}},zQ=["view","date","getNow","onNavigate"],VQ=["view","toolbar","events","backgroundEvents","resourceGroupingLayout","style","className","elementProps","date","getNow","length","showMultiDayTimes","onShowMore","doShowMoreDrillDown","components","formats","messages","culture"];function F2(e){if(Array.isArray(e))return e;for(var t=[],r=0,n=Object.entries(e);r<n.length;r++){var s=rn(n[r],2),a=s[0],i=s[1];i&&t.push(a)}return t}function YQ(e,t){var r=t.views,n=F2(r);return n.indexOf(e)!==-1}var W2=function(e){function t(){var r;Vt(this,t);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return r=mr(this,t,[].concat(s)),r.getViews=function(){var i=r.props.views;return Array.isArray(i)?NG(i,function(l,c){return l[c]=Ed[c]},{}):Tn(i)==="object"?NY(i,function(l,c){return l===!0?Ed[c]:l}):Ed},r.getView=function(){var i=r.getViews();return i[r.props.view]},r.getDrilldownView=function(i){var l=r.props,c=l.view,u=l.drilldownView,d=l.getDrilldownView;return d?d(i,c,Object.keys(r.getViews())):u},r.handleRangeChange=function(i,l,c){var u=r.props,d=u.onRangeChange,f=u.localizer;d&&l.range&&d(l.range(i,{localizer:f}),c)},r.handleNavigate=function(i,l){var c=r.props,u=c.view,d=c.date,f=c.getNow,h=c.onNavigate,y=os(c,zQ),g=r.getView(),m=f();d=UQ(g,lt(lt({},y),{},{action:i,date:l||d||m,today:m})),h(d,u,i),r.handleRangeChange(d,g)},r.handleViewChange=function(i){i!==r.props.view&&YQ(i,r.props)&&r.props.onView(i);var l=r.getViews();r.handleRangeChange(r.props.date||r.props.getNow(),l[i],i)},r.handleSelectEvent=function(){for(var i=arguments.length,l=new Array(i),c=0;c<i;c++)l[c]=arguments[c];pt(r.props.onSelectEvent,l)},r.handleDoubleClickEvent=function(){for(var i=arguments.length,l=new Array(i),c=0;c<i;c++)l[c]=arguments[c];pt(r.props.onDoubleClickEvent,l)},r.handleKeyPressEvent=function(){for(var i=arguments.length,l=new Array(i),c=0;c<i;c++)l[c]=arguments[c];pt(r.props.onKeyPressEvent,l)},r.handleSelectSlot=function(i){pt(r.props.onSelectSlot,i)},r.handleDrillDown=function(i,l){var c=r.props.onDrillDown;if(c){c(i,l,r.drilldownView);return}l&&r.handleViewChange(l),r.handleNavigate($r.DATE,i)},r.state={context:t.getContext(r.props)},r}return hr(t,e),Yt(t,[{key:"render",value:function(){var n=this.props,s=n.view,a=n.toolbar,i=n.events,l=n.backgroundEvents,c=n.resourceGroupingLayout,u=n.style,d=n.className,f=n.elementProps,h=n.date,y=n.getNow,g=n.length,m=n.showMultiDayTimes,N=n.onShowMore,v=n.doShowMoreDrillDown;n.components,n.formats,n.messages,n.culture;var p=os(n,VQ);h=h||y();var b=this.getView(),x=this.state.context,S=x.accessors,k=x.components,_=x.getters,A=x.localizer,M=x.viewNames,$=k.toolbar||GG,V=b.title(h,{localizer:A,length:g});return F.createElement("div",Object.assign({},f,{className:_t(d,"rbc-calendar",p.rtl&&"rbc-rtl"),style:u}),a&&F.createElement($,{date:h,view:s,views:M,label:V,onView:this.handleViewChange,onNavigate:this.handleNavigate,localizer:A}),F.createElement(b,Object.assign({},p,{events:i,backgroundEvents:l,date:h,getNow:y,length:g,localizer:A,getters:_,components:k,accessors:S,showMultiDayTimes:m,getDrilldownView:this.getDrilldownView,onNavigate:this.handleNavigate,onDrillDown:this.handleDrillDown,onSelectEvent:this.handleSelectEvent,onDoubleClickEvent:this.handleDoubleClickEvent,onKeyPressEvent:this.handleKeyPressEvent,onSelectSlot:this.handleSelectSlot,onShowMore:N,doShowMoreDrillDown:v,resourceGroupingLayout:c})))}}],[{key:"getDerivedStateFromProps",value:function(n){return{context:t.getContext(n)}}},{key:"getContext",value:function(n){var s=n.startAccessor,a=n.endAccessor,i=n.allDayAccessor,l=n.tooltipAccessor,c=n.titleAccessor,u=n.resourceAccessor,d=n.resourceIdAccessor,f=n.resourceTitleAccessor,h=n.eventIdAccessor,y=n.eventPropGetter,g=n.backgroundEventPropGetter,m=n.slotPropGetter,N=n.slotGroupPropGetter,v=n.dayPropGetter,p=n.view,b=n.views,x=n.localizer,S=n.culture,k=n.messages,_=k===void 0?{}:k,A=n.components,M=A===void 0?{}:A,$=n.formats,V=$===void 0?{}:$,H=F2(b),Y=XG(_);return{viewNames:H,localizer:KG(x,S,V,Y),getters:{eventProp:function(){return y&&y.apply(void 0,arguments)||{}},backgroundEventProp:function(){return g&&g.apply(void 0,arguments)||{}},slotProp:function(){return m&&m.apply(void 0,arguments)||{}},slotGroupProp:function(){return N&&N.apply(void 0,arguments)||{}},dayProp:function(){return v&&v.apply(void 0,arguments)||{}}},components:pY(M[p]||{},cG(M,H),{eventWrapper:Hn,backgroundEventWrapper:Hn,eventContainerWrapper:Hn,dateCellWrapper:Hn,weekWrapper:Hn,timeSlotWrapper:Hn,timeGutterWrapper:Hn,timeIndicatorWrapper:Hn}),accessors:{start:ps(s),end:ps(a),allDay:ps(i),tooltip:ps(l),title:ps(c),resource:ps(u),resourceId:ps(d),resourceTitle:ps(f),eventId:ps(h)}}}}])}(F.Component);W2.defaultProps={events:[],backgroundEvents:[],elementProps:{},popup:!1,toolbar:!0,view:xr.MONTH,views:[xr.MONTH,xr.WEEK,xr.DAY,xr.AGENDA],step:30,length:30,allDayMaxRows:1/0,doShowMoreDrillDown:!0,drilldownView:xr.DAY,titleAccessor:"title",tooltipAccessor:"title",allDayAccessor:"allDay",startAccessor:"start",endAccessor:"end",resourceAccessor:"resourceId",resourceIdAccessor:"id",resourceTitleAccessor:"title",eventIdAccessor:"id",longPressThreshold:250,getNow:function(){return new Date},dayLayoutAlgorithm:"overlap"};var qQ=hD(W2,{view:"onView",date:"onNavigate",selected:"onSelectEvent"}),KQ=function(t,r,n){var s=t.start,a=t.end;return n.format(s,"MMMM DD",r)+"  "+n.format(a,n.eq(s,a,"month")?"DD":"MMMM DD",r)},GQ=function(t,r,n){var s=t.start,a=t.end;return n.format(s,"L",r)+"  "+n.format(a,"L",r)},Gm=function(t,r,n){var s=t.start,a=t.end;return n.format(s,"LT",r)+"  "+n.format(a,"LT",r)},QQ=function(t,r,n){var s=t.start;return n.format(s,"LT",r)+"  "},XQ=function(t,r,n){var s=t.end;return"  "+n.format(s,"LT",r)},JQ={dateFormat:"DD",dayFormat:"DD ddd",weekdayFormat:"ddd",selectRangeFormat:Gm,eventTimeRangeFormat:Gm,eventTimeRangeStartFormat:QQ,eventTimeRangeEndFormat:XQ,timeGutterFormat:"LT",monthHeaderFormat:"MMMM YYYY",dayHeaderFormat:"dddd MMM DD",dayRangeHeaderFormat:KQ,agendaHeaderFormat:GQ,agendaDateFormat:"ddd MMM DD",agendaTimeFormat:"LT",agendaTimeRangeFormat:Gm};function qs(e){var t=e&&e.toLowerCase();return t==="FullYear"?t="year":t||(t=void 0),t}function ZQ(e){var t=function(W,D){return D?W.locale(D):W};function r(G){return e(G).toDate().getTimezoneOffset()}function n(G,W){var D,T,z=e(G).local(),ne=e(W).local();if(!e.tz)return z.toDate().getTimezoneOffset()-ne.toDate().getTimezoneOffset();var he=(D=z==null||(T=z._z)===null||T===void 0?void 0:T.name)!==null&&D!==void 0?D:e.tz.guess(),ue=e.tz.zone(he).utcOffset(+z),B=e.tz.zone(he).utcOffset(+ne);return ue-B}function s(G){var W=e(G).startOf("day");return n(W,G)}function a(G,W,D){var T=qs(D),z=T?e(G).startOf(T):e(G),ne=T?e(W).startOf(T):e(W);return[z,ne,T]}function i(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,W=arguments.length>1?arguments[1]:void 0,D=qs(W);return D?e(G).startOf(D).toDate():e(G).toDate()}function l(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,W=arguments.length>1?arguments[1]:void 0,D=qs(W);return D?e(G).endOf(D).toDate():e(G).toDate()}function c(G,W,D){var T=a(G,W,D),z=rn(T,3),ne=z[0],he=z[1],ue=z[2];return ne.isSame(he,ue)}function u(G,W,D){return!c(G,W,D)}function d(G,W,D){var T=a(G,W,D),z=rn(T,3),ne=z[0],he=z[1],ue=z[2];return ne.isAfter(he,ue)}function f(G,W,D){var T=a(G,W,D),z=rn(T,3),ne=z[0],he=z[1],ue=z[2];return ne.isBefore(he,ue)}function h(G,W,D){var T=a(G,W,D),z=rn(T,3),ne=z[0],he=z[1],ue=z[2];return ne.isSameOrBefore(he,ue)}function y(G,W,D){var T=a(G,W,D),z=rn(T,3),ne=z[0],he=z[1],ue=z[2];return ne.isSameOrBefore(he,ue)}function g(G,W,D){var T=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"day",z=qs(T),ne=e(G),he=e(W),ue=e(D);return ne.isBetween(he,ue,z,"[]")}function m(G,W){var D=e(G),T=e(W),z=e.min(D,T);return z.toDate()}function N(G,W){var D=e(G),T=e(W),z=e.max(D,T);return z.toDate()}function v(G,W){if(!G&&!W)return null;var D=e(W).format("HH:mm:ss"),T=e(G).startOf("day").format("MM/DD/YYYY");return e("".concat(T," ").concat(D),"MM/DD/YYYY HH:mm:ss").toDate()}function p(G,W,D){var T=qs(D);return e(G).add(W,T).toDate()}function b(G,W){for(var D=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",T=qs(D),z=e(G).toDate(),ne=[];y(z,W);)ne.push(z),z=p(z,1,T);return ne}function x(G,W){var D=qs(W),T=i(G,D);return c(T,G)?T:p(T,1,D)}function S(G,W){var D=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",T=qs(D),z=e(G),ne=e(W);return ne.diff(z,T)}function k(G){var W=e(G);return W.minutes()}function _(G){var W=G?e.localeData(G):e.localeData();return W?W.firstDayOfWeek():0}function A(G){return e(G).startOf("month").startOf("week").toDate()}function M(G){return e(G).endOf("month").endOf("week").toDate()}function $(G){for(var W=A(G),D=M(G),T=[];y(W,D);)T.push(W),W=p(W,1,"d");return T}function V(G,W,D){return e(G).startOf("day").minute(W+D).toDate()}function H(G,W){return S(G,W,"minutes")}function Y(G){var W=e(G).startOf("day"),D=e(G);return D.diff(W,"minutes")+s(G)}function K(G,W){var D=e(G),T=e(W);return D.isBefore(T,"day")}function ce(G,W,D){var T=e(W),z=e(D);return T.isSameOrAfter(z,"minutes")}function ee(G,W){var D=e(G),T=e(W),z=e.duration(T.diff(D));return z.days()}function de(G){var W=G.evtA,D=W.start,T=W.end,z=W.allDay,ne=G.evtB,he=ne.start,ue=ne.end,B=ne.allDay,le=+i(D,"day")-+i(he,"day"),Se=ee(D,T),je=ee(he,ue);return le||je-Se||!!B-!!z||+D-+he||+T-+ue}function Z(G){var W=G.event,D=W.start,T=W.end,z=G.range,ne=z.start,he=z.end,ue=e(D).startOf("day"),B=e(T),le=e(ne),Se=e(he),je=ue.isSameOrBefore(Se,"day"),Re=!ue.isSame(B,"minutes"),L=Re?B.isAfter(le,"minutes"):B.isSameOrAfter(le,"minutes");return je&&L}function U(G,W){var D=e(G),T=e(W);return D.isSame(T,"day")}function oe(){var G=new Date,W=/-/.test(G.toString())?"-":"",D=G.getTimezoneOffset(),T=Number("".concat(W).concat(Math.abs(D))),z=e().utcOffset();return z>T?1:0}return new qG({formats:JQ,firstOfWeek:_,firstVisibleDay:A,lastVisibleDay:M,visibleDays:$,format:function(W,D,T){return t(e(W),T).format(D)},lt:f,lte:y,gt:d,gte:h,eq:c,neq:u,merge:v,inRange:g,startOf:i,endOf:l,range:b,add:p,diff:S,ceil:x,min:m,max:N,minutes:k,getSlotDate:V,getTimezoneOffset:r,getDstOffset:n,getTotalMin:H,getMinutesFromMidnight:Y,continuesPrior:K,continuesAfter:ce,sortEvents:de,inEventRange:Z,isSameDate:U,daySpan:ee,browserTZOffset:oe})}//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var B2;function pe(){return B2.apply(null,arguments)}function eX(e){B2=e}function An(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function lo(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function Ge(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function r0(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var t;for(t in e)if(Ge(e,t))return!1;return!0}function kr(e){return e===void 0}function Ls(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function du(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function U2(e,t){var r=[],n,s=e.length;for(n=0;n<s;++n)r.push(t(e[n],n));return r}function ha(e,t){for(var r in t)Ge(t,r)&&(e[r]=t[r]);return Ge(t,"toString")&&(e.toString=t.toString),Ge(t,"valueOf")&&(e.valueOf=t.valueOf),e}function us(e,t,r,n){return dC(e,t,r,n,!0).utc()}function tX(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function Fe(e){return e._pf==null&&(e._pf=tX()),e._pf}var Lg;Array.prototype.some?Lg=Array.prototype.some:Lg=function(e){var t=Object(this),r=t.length>>>0,n;for(n=0;n<r;n++)if(n in t&&e.call(this,t[n],n,t))return!0;return!1};function n0(e){var t=null,r=!1,n=e._d&&!isNaN(e._d.getTime());if(n&&(t=Fe(e),r=Lg.call(t.parsedDateParts,function(s){return s!=null}),n=t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&r),e._strict&&(n=n&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=n;else return n;return e._isValid}function $h(e){var t=us(NaN);return e!=null?ha(Fe(t),e):Fe(t).userInvalidated=!0,t}var S1=pe.momentProperties=[],Qm=!1;function s0(e,t){var r,n,s,a=S1.length;if(kr(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),kr(t._i)||(e._i=t._i),kr(t._f)||(e._f=t._f),kr(t._l)||(e._l=t._l),kr(t._strict)||(e._strict=t._strict),kr(t._tzm)||(e._tzm=t._tzm),kr(t._isUTC)||(e._isUTC=t._isUTC),kr(t._offset)||(e._offset=t._offset),kr(t._pf)||(e._pf=Fe(t)),kr(t._locale)||(e._locale=t._locale),a>0)for(r=0;r<a;r++)n=S1[r],s=t[n],kr(s)||(e[n]=s);return e}function fu(e){s0(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),Qm===!1&&(Qm=!0,pe.updateOffset(this),Qm=!1)}function Mn(e){return e instanceof fu||e!=null&&e._isAMomentObject!=null}function H2(e){pe.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+e)}function hn(e,t){var r=!0;return ha(function(){if(pe.deprecationHandler!=null&&pe.deprecationHandler(null,e),r){var n=[],s,a,i,l=arguments.length;for(a=0;a<l;a++){if(s="",typeof arguments[a]=="object"){s+=`
[`+a+"] ";for(i in arguments[0])Ge(arguments[0],i)&&(s+=i+": "+arguments[0][i]+", ");s=s.slice(0,-2)}else s=arguments[a];n.push(s)}H2(e+`
Arguments: `+Array.prototype.slice.call(n).join("")+`
`+new Error().stack),r=!1}return t.apply(this,arguments)},t)}var k1={};function z2(e,t){pe.deprecationHandler!=null&&pe.deprecationHandler(e,t),k1[e]||(H2(t),k1[e]=!0)}pe.suppressDeprecationWarnings=!1;pe.deprecationHandler=null;function ds(e){return typeof Function<"u"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function rX(e){var t,r;for(r in e)Ge(e,r)&&(t=e[r],ds(t)?this[r]=t:this["_"+r]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function Fg(e,t){var r=ha({},e),n;for(n in t)Ge(t,n)&&(lo(e[n])&&lo(t[n])?(r[n]={},ha(r[n],e[n]),ha(r[n],t[n])):t[n]!=null?r[n]=t[n]:delete r[n]);for(n in e)Ge(e,n)&&!Ge(t,n)&&lo(e[n])&&(r[n]=ha({},r[n]));return r}function a0(e){e!=null&&this.set(e)}var Wg;Object.keys?Wg=Object.keys:Wg=function(e){var t,r=[];for(t in e)Ge(e,t)&&r.push(t);return r};var nX={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function sX(e,t,r){var n=this._calendar[e]||this._calendar.sameElse;return ds(n)?n.call(t,r):n}function is(e,t,r){var n=""+Math.abs(e),s=t-n.length,a=e>=0;return(a?r?"+":"":"-")+Math.pow(10,Math.max(0,s)).toString().substr(1)+n}var o0=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Qu=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Xm={},ei={};function Me(e,t,r,n){var s=n;typeof n=="string"&&(s=function(){return this[n]()}),e&&(ei[e]=s),t&&(ei[t[0]]=function(){return is(s.apply(this,arguments),t[1],t[2])}),r&&(ei[r]=function(){return this.localeData().ordinal(s.apply(this,arguments),e)})}function aX(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function oX(e){var t=e.match(o0),r,n;for(r=0,n=t.length;r<n;r++)ei[t[r]]?t[r]=ei[t[r]]:t[r]=aX(t[r]);return function(s){var a="",i;for(i=0;i<n;i++)a+=ds(t[i])?t[i].call(s,e):t[i];return a}}function _d(e,t){return e.isValid()?(t=V2(t,e.localeData()),Xm[t]=Xm[t]||oX(t),Xm[t](e)):e.localeData().invalidDate()}function V2(e,t){var r=5;function n(s){return t.longDateFormat(s)||s}for(Qu.lastIndex=0;r>=0&&Qu.test(e);)e=e.replace(Qu,n),Qu.lastIndex=0,r-=1;return e}var iX={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function lX(e){var t=this._longDateFormat[e],r=this._longDateFormat[e.toUpperCase()];return t||!r?t:(this._longDateFormat[e]=r.match(o0).map(function(n){return n==="MMMM"||n==="MM"||n==="DD"||n==="dddd"?n.slice(1):n}).join(""),this._longDateFormat[e])}var cX="Invalid date";function uX(){return this._invalidDate}var dX="%d",fX=/\d{1,2}/;function hX(e){return this._ordinal.replace("%d",e)}var mX={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function pX(e,t,r,n){var s=this._relativeTime[r];return ds(s)?s(e,t,r,n):s.replace(/%d/i,e)}function gX(e,t){var r=this._relativeTime[e>0?"future":"past"];return ds(r)?r(t):r.replace(/%s/i,t)}var D1={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function mn(e){return typeof e=="string"?D1[e]||D1[e.toLowerCase()]:void 0}function i0(e){var t={},r,n;for(n in e)Ge(e,n)&&(r=mn(n),r&&(t[r]=e[n]));return t}var yX={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function vX(e){var t=[],r;for(r in e)Ge(e,r)&&t.push({unit:r,priority:yX[r]});return t.sort(function(n,s){return n.priority-s.priority}),t}var Y2=/\d/,qr=/\d\d/,q2=/\d{3}/,l0=/\d{4}/,Ih=/[+-]?\d{6}/,vt=/\d\d?/,K2=/\d\d\d\d?/,G2=/\d\d\d\d\d\d?/,Lh=/\d{1,3}/,c0=/\d{1,4}/,Fh=/[+-]?\d{1,6}/,qi=/\d+/,Wh=/[+-]?\d+/,xX=/Z|[+-]\d\d:?\d\d/gi,Bh=/Z|[+-]\d\d(?::?\d\d)?/gi,bX=/[+-]?\d+(\.\d{1,3})?/,hu=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Ki=/^[1-9]\d?/,u0=/^([1-9]\d|\d)/,kf;kf={};function Ce(e,t,r){kf[e]=ds(t)?t:function(n,s){return n&&r?r:t}}function wX(e,t){return Ge(kf,e)?kf[e](t._strict,t._locale):new RegExp(NX(e))}function NX(e){return _s(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,r,n,s,a){return r||n||s||a}))}function _s(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function tn(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function Ue(e){var t=+e,r=0;return t!==0&&isFinite(t)&&(r=tn(t)),r}var Bg={};function it(e,t){var r,n=t,s;for(typeof e=="string"&&(e=[e]),Ls(t)&&(n=function(a,i){i[t]=Ue(a)}),s=e.length,r=0;r<s;r++)Bg[e[r]]=n}function mu(e,t){it(e,function(r,n,s,a){s._w=s._w||{},t(r,s._w,s,a)})}function jX(e,t,r){t!=null&&Ge(Bg,e)&&Bg[e](t,r._a,r,e)}function Uh(e){return e%4===0&&e%100!==0||e%400===0}var dr=0,ks=1,Jn=2,zt=3,kn=4,Ds=5,Qa=6,SX=7,kX=8;Me("Y",0,0,function(){var e=this.year();return e<=9999?is(e,4):"+"+e});Me(0,["YY",2],0,function(){return this.year()%100});Me(0,["YYYY",4],0,"year");Me(0,["YYYYY",5],0,"year");Me(0,["YYYYYY",6,!0],0,"year");Ce("Y",Wh);Ce("YY",vt,qr);Ce("YYYY",c0,l0);Ce("YYYYY",Fh,Ih);Ce("YYYYYY",Fh,Ih);it(["YYYYY","YYYYYY"],dr);it("YYYY",function(e,t){t[dr]=e.length===2?pe.parseTwoDigitYear(e):Ue(e)});it("YY",function(e,t){t[dr]=pe.parseTwoDigitYear(e)});it("Y",function(e,t){t[dr]=parseInt(e,10)});function Bl(e){return Uh(e)?366:365}pe.parseTwoDigitYear=function(e){return Ue(e)+(Ue(e)>68?1900:2e3)};var Q2=Gi("FullYear",!0);function DX(){return Uh(this.year())}function Gi(e,t){return function(r){return r!=null?(X2(this,e,r),pe.updateOffset(this,t),this):Ec(this,e)}}function Ec(e,t){if(!e.isValid())return NaN;var r=e._d,n=e._isUTC;switch(t){case"Milliseconds":return n?r.getUTCMilliseconds():r.getMilliseconds();case"Seconds":return n?r.getUTCSeconds():r.getSeconds();case"Minutes":return n?r.getUTCMinutes():r.getMinutes();case"Hours":return n?r.getUTCHours():r.getHours();case"Date":return n?r.getUTCDate():r.getDate();case"Day":return n?r.getUTCDay():r.getDay();case"Month":return n?r.getUTCMonth():r.getMonth();case"FullYear":return n?r.getUTCFullYear():r.getFullYear();default:return NaN}}function X2(e,t,r){var n,s,a,i,l;if(!(!e.isValid()||isNaN(r))){switch(n=e._d,s=e._isUTC,t){case"Milliseconds":return void(s?n.setUTCMilliseconds(r):n.setMilliseconds(r));case"Seconds":return void(s?n.setUTCSeconds(r):n.setSeconds(r));case"Minutes":return void(s?n.setUTCMinutes(r):n.setMinutes(r));case"Hours":return void(s?n.setUTCHours(r):n.setHours(r));case"Date":return void(s?n.setUTCDate(r):n.setDate(r));case"FullYear":break;default:return}a=r,i=e.month(),l=e.date(),l=l===29&&i===1&&!Uh(a)?28:l,s?n.setUTCFullYear(a,i,l):n.setFullYear(a,i,l)}}function CX(e){return e=mn(e),ds(this[e])?this[e]():this}function EX(e,t){if(typeof e=="object"){e=i0(e);var r=vX(e),n,s=r.length;for(n=0;n<s;n++)this[r[n].unit](e[r[n].unit])}else if(e=mn(e),ds(this[e]))return this[e](t);return this}function _X(e,t){return(e%t+t)%t}var Tt;Array.prototype.indexOf?Tt=Array.prototype.indexOf:Tt=function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};function d0(e,t){if(isNaN(e)||isNaN(t))return NaN;var r=_X(t,12);return e+=(t-r)/12,r===1?Uh(e)?29:28:31-r%7%2}Me("M",["MM",2],"Mo",function(){return this.month()+1});Me("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)});Me("MMMM",0,0,function(e){return this.localeData().months(this,e)});Ce("M",vt,Ki);Ce("MM",vt,qr);Ce("MMM",function(e,t){return t.monthsShortRegex(e)});Ce("MMMM",function(e,t){return t.monthsRegex(e)});it(["M","MM"],function(e,t){t[ks]=Ue(e)-1});it(["MMM","MMMM"],function(e,t,r,n){var s=r._locale.monthsParse(e,n,r._strict);s!=null?t[ks]=s:Fe(r).invalidMonth=e});var TX="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),J2="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Z2=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,PX=hu,AX=hu;function MX(e,t){return e?An(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||Z2).test(t)?"format":"standalone"][e.month()]:An(this._months)?this._months:this._months.standalone}function RX(e,t){return e?An(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Z2.test(t)?"format":"standalone"][e.month()]:An(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function OX(e,t,r){var n,s,a,i=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)a=us([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(a,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(a,"").toLocaleLowerCase();return r?t==="MMM"?(s=Tt.call(this._shortMonthsParse,i),s!==-1?s:null):(s=Tt.call(this._longMonthsParse,i),s!==-1?s:null):t==="MMM"?(s=Tt.call(this._shortMonthsParse,i),s!==-1?s:(s=Tt.call(this._longMonthsParse,i),s!==-1?s:null)):(s=Tt.call(this._longMonthsParse,i),s!==-1?s:(s=Tt.call(this._shortMonthsParse,i),s!==-1?s:null))}function $X(e,t,r){var n,s,a;if(this._monthsParseExact)return OX.call(this,e,t,r);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(s=us([2e3,n]),r&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(s,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(s,"").replace(".","")+"$","i")),!r&&!this._monthsParse[n]&&(a="^"+this.months(s,"")+"|^"+this.monthsShort(s,""),this._monthsParse[n]=new RegExp(a.replace(".",""),"i")),r&&t==="MMMM"&&this._longMonthsParse[n].test(e))return n;if(r&&t==="MMM"&&this._shortMonthsParse[n].test(e))return n;if(!r&&this._monthsParse[n].test(e))return n}}function eC(e,t){if(!e.isValid())return e;if(typeof t=="string"){if(/^\d+$/.test(t))t=Ue(t);else if(t=e.localeData().monthsParse(t),!Ls(t))return e}var r=t,n=e.date();return n=n<29?n:Math.min(n,d0(e.year(),r)),e._isUTC?e._d.setUTCMonth(r,n):e._d.setMonth(r,n),e}function tC(e){return e!=null?(eC(this,e),pe.updateOffset(this,!0),this):Ec(this,"Month")}function IX(){return d0(this.year(),this.month())}function LX(e){return this._monthsParseExact?(Ge(this,"_monthsRegex")||rC.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(Ge(this,"_monthsShortRegex")||(this._monthsShortRegex=PX),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function FX(e){return this._monthsParseExact?(Ge(this,"_monthsRegex")||rC.call(this),e?this._monthsStrictRegex:this._monthsRegex):(Ge(this,"_monthsRegex")||(this._monthsRegex=AX),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function rC(){function e(c,u){return u.length-c.length}var t=[],r=[],n=[],s,a,i,l;for(s=0;s<12;s++)a=us([2e3,s]),i=_s(this.monthsShort(a,"")),l=_s(this.months(a,"")),t.push(i),r.push(l),n.push(l),n.push(i);t.sort(e),r.sort(e),n.sort(e),this._monthsRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}function WX(e,t,r,n,s,a,i){var l;return e<100&&e>=0?(l=new Date(e+400,t,r,n,s,a,i),isFinite(l.getFullYear())&&l.setFullYear(e)):l=new Date(e,t,r,n,s,a,i),l}function _c(e){var t,r;return e<100&&e>=0?(r=Array.prototype.slice.call(arguments),r[0]=e+400,t=new Date(Date.UTC.apply(null,r)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function Df(e,t,r){var n=7+t-r,s=(7+_c(e,0,n).getUTCDay()-t)%7;return-s+n-1}function nC(e,t,r,n,s){var a=(7+r-n)%7,i=Df(e,n,s),l=1+7*(t-1)+a+i,c,u;return l<=0?(c=e-1,u=Bl(c)+l):l>Bl(e)?(c=e+1,u=l-Bl(e)):(c=e,u=l),{year:c,dayOfYear:u}}function Tc(e,t,r){var n=Df(e.year(),t,r),s=Math.floor((e.dayOfYear()-n-1)/7)+1,a,i;return s<1?(i=e.year()-1,a=s+Ts(i,t,r)):s>Ts(e.year(),t,r)?(a=s-Ts(e.year(),t,r),i=e.year()+1):(i=e.year(),a=s),{week:a,year:i}}function Ts(e,t,r){var n=Df(e,t,r),s=Df(e+1,t,r);return(Bl(e)-n+s)/7}Me("w",["ww",2],"wo","week");Me("W",["WW",2],"Wo","isoWeek");Ce("w",vt,Ki);Ce("ww",vt,qr);Ce("W",vt,Ki);Ce("WW",vt,qr);mu(["w","ww","W","WW"],function(e,t,r,n){t[n.substr(0,1)]=Ue(e)});function BX(e){return Tc(e,this._week.dow,this._week.doy).week}var UX={dow:0,doy:6};function HX(){return this._week.dow}function zX(){return this._week.doy}function VX(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function YX(e){var t=Tc(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}Me("d",0,"do","day");Me("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)});Me("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)});Me("dddd",0,0,function(e){return this.localeData().weekdays(this,e)});Me("e",0,0,"weekday");Me("E",0,0,"isoWeekday");Ce("d",vt);Ce("e",vt);Ce("E",vt);Ce("dd",function(e,t){return t.weekdaysMinRegex(e)});Ce("ddd",function(e,t){return t.weekdaysShortRegex(e)});Ce("dddd",function(e,t){return t.weekdaysRegex(e)});mu(["dd","ddd","dddd"],function(e,t,r,n){var s=r._locale.weekdaysParse(e,n,r._strict);s!=null?t.d=s:Fe(r).invalidWeekday=e});mu(["d","e","E"],function(e,t,r,n){t[n]=Ue(e)});function qX(e,t){return typeof e!="string"?e:isNaN(e)?(e=t.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function KX(e,t){return typeof e=="string"?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function f0(e,t){return e.slice(t,7).concat(e.slice(0,t))}var GX="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),sC="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),QX="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),XX=hu,JX=hu,ZX=hu;function eJ(e,t){var r=An(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===!0?f0(r,this._week.dow):e?r[e.day()]:r}function tJ(e){return e===!0?f0(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function rJ(e){return e===!0?f0(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function nJ(e,t,r){var n,s,a,i=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)a=us([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(a,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(a,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(a,"").toLocaleLowerCase();return r?t==="dddd"?(s=Tt.call(this._weekdaysParse,i),s!==-1?s:null):t==="ddd"?(s=Tt.call(this._shortWeekdaysParse,i),s!==-1?s:null):(s=Tt.call(this._minWeekdaysParse,i),s!==-1?s:null):t==="dddd"?(s=Tt.call(this._weekdaysParse,i),s!==-1||(s=Tt.call(this._shortWeekdaysParse,i),s!==-1)?s:(s=Tt.call(this._minWeekdaysParse,i),s!==-1?s:null)):t==="ddd"?(s=Tt.call(this._shortWeekdaysParse,i),s!==-1||(s=Tt.call(this._weekdaysParse,i),s!==-1)?s:(s=Tt.call(this._minWeekdaysParse,i),s!==-1?s:null)):(s=Tt.call(this._minWeekdaysParse,i),s!==-1||(s=Tt.call(this._weekdaysParse,i),s!==-1)?s:(s=Tt.call(this._shortWeekdaysParse,i),s!==-1?s:null))}function sJ(e,t,r){var n,s,a;if(this._weekdaysParseExact)return nJ.call(this,e,t,r);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++){if(s=us([2e3,1]).day(n),r&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(s,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(s,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(s,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[n]||(a="^"+this.weekdays(s,"")+"|^"+this.weekdaysShort(s,"")+"|^"+this.weekdaysMin(s,""),this._weekdaysParse[n]=new RegExp(a.replace(".",""),"i")),r&&t==="dddd"&&this._fullWeekdaysParse[n].test(e))return n;if(r&&t==="ddd"&&this._shortWeekdaysParse[n].test(e))return n;if(r&&t==="dd"&&this._minWeekdaysParse[n].test(e))return n;if(!r&&this._weekdaysParse[n].test(e))return n}}function aJ(e){if(!this.isValid())return e!=null?this:NaN;var t=Ec(this,"Day");return e!=null?(e=qX(e,this.localeData()),this.add(e-t,"d")):t}function oJ(e){if(!this.isValid())return e!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function iJ(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var t=KX(e,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function lJ(e){return this._weekdaysParseExact?(Ge(this,"_weekdaysRegex")||h0.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(Ge(this,"_weekdaysRegex")||(this._weekdaysRegex=XX),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function cJ(e){return this._weekdaysParseExact?(Ge(this,"_weekdaysRegex")||h0.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(Ge(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=JX),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function uJ(e){return this._weekdaysParseExact?(Ge(this,"_weekdaysRegex")||h0.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(Ge(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=ZX),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function h0(){function e(d,f){return f.length-d.length}var t=[],r=[],n=[],s=[],a,i,l,c,u;for(a=0;a<7;a++)i=us([2e3,1]).day(a),l=_s(this.weekdaysMin(i,"")),c=_s(this.weekdaysShort(i,"")),u=_s(this.weekdays(i,"")),t.push(l),r.push(c),n.push(u),s.push(l),s.push(c),s.push(u);t.sort(e),r.sort(e),n.sort(e),s.sort(e),this._weekdaysRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function m0(){return this.hours()%12||12}function dJ(){return this.hours()||24}Me("H",["HH",2],0,"hour");Me("h",["hh",2],0,m0);Me("k",["kk",2],0,dJ);Me("hmm",0,0,function(){return""+m0.apply(this)+is(this.minutes(),2)});Me("hmmss",0,0,function(){return""+m0.apply(this)+is(this.minutes(),2)+is(this.seconds(),2)});Me("Hmm",0,0,function(){return""+this.hours()+is(this.minutes(),2)});Me("Hmmss",0,0,function(){return""+this.hours()+is(this.minutes(),2)+is(this.seconds(),2)});function aC(e,t){Me(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}aC("a",!0);aC("A",!1);function oC(e,t){return t._meridiemParse}Ce("a",oC);Ce("A",oC);Ce("H",vt,u0);Ce("h",vt,Ki);Ce("k",vt,Ki);Ce("HH",vt,qr);Ce("hh",vt,qr);Ce("kk",vt,qr);Ce("hmm",K2);Ce("hmmss",G2);Ce("Hmm",K2);Ce("Hmmss",G2);it(["H","HH"],zt);it(["k","kk"],function(e,t,r){var n=Ue(e);t[zt]=n===24?0:n});it(["a","A"],function(e,t,r){r._isPm=r._locale.isPM(e),r._meridiem=e});it(["h","hh"],function(e,t,r){t[zt]=Ue(e),Fe(r).bigHour=!0});it("hmm",function(e,t,r){var n=e.length-2;t[zt]=Ue(e.substr(0,n)),t[kn]=Ue(e.substr(n)),Fe(r).bigHour=!0});it("hmmss",function(e,t,r){var n=e.length-4,s=e.length-2;t[zt]=Ue(e.substr(0,n)),t[kn]=Ue(e.substr(n,2)),t[Ds]=Ue(e.substr(s)),Fe(r).bigHour=!0});it("Hmm",function(e,t,r){var n=e.length-2;t[zt]=Ue(e.substr(0,n)),t[kn]=Ue(e.substr(n))});it("Hmmss",function(e,t,r){var n=e.length-4,s=e.length-2;t[zt]=Ue(e.substr(0,n)),t[kn]=Ue(e.substr(n,2)),t[Ds]=Ue(e.substr(s))});function fJ(e){return(e+"").toLowerCase().charAt(0)==="p"}var hJ=/[ap]\.?m?\.?/i,mJ=Gi("Hours",!0);function pJ(e,t,r){return e>11?r?"pm":"PM":r?"am":"AM"}var iC={calendar:nX,longDateFormat:iX,invalidDate:cX,ordinal:dX,dayOfMonthOrdinalParse:fX,relativeTime:mX,months:TX,monthsShort:J2,week:UX,weekdays:GX,weekdaysMin:QX,weekdaysShort:sC,meridiemParse:hJ},bt={},yl={},Pc;function gJ(e,t){var r,n=Math.min(e.length,t.length);for(r=0;r<n;r+=1)if(e[r]!==t[r])return r;return n}function C1(e){return e&&e.toLowerCase().replace("_","-")}function yJ(e){for(var t=0,r,n,s,a;t<e.length;){for(a=C1(e[t]).split("-"),r=a.length,n=C1(e[t+1]),n=n?n.split("-"):null;r>0;){if(s=Hh(a.slice(0,r).join("-")),s)return s;if(n&&n.length>=r&&gJ(a,n)>=r-1)break;r--}t++}return Pc}function vJ(e){return!!(e&&e.match("^[^/\\\\]*$"))}function Hh(e){var t=null,r;if(bt[e]===void 0&&typeof Md<"u"&&Md&&Md.exports&&vJ(e))try{t=Pc._abbr,r=require,r("./locale/"+e),Sa(t)}catch{bt[e]=null}return bt[e]}function Sa(e,t){var r;return e&&(kr(t)?r=Us(e):r=p0(e,t),r?Pc=r:typeof console<"u"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),Pc._abbr}function p0(e,t){if(t!==null){var r,n=iC;if(t.abbr=e,bt[e]!=null)z2("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=bt[e]._config;else if(t.parentLocale!=null)if(bt[t.parentLocale]!=null)n=bt[t.parentLocale]._config;else if(r=Hh(t.parentLocale),r!=null)n=r._config;else return yl[t.parentLocale]||(yl[t.parentLocale]=[]),yl[t.parentLocale].push({name:e,config:t}),null;return bt[e]=new a0(Fg(n,t)),yl[e]&&yl[e].forEach(function(s){p0(s.name,s.config)}),Sa(e),bt[e]}else return delete bt[e],null}function xJ(e,t){if(t!=null){var r,n,s=iC;bt[e]!=null&&bt[e].parentLocale!=null?bt[e].set(Fg(bt[e]._config,t)):(n=Hh(e),n!=null&&(s=n._config),t=Fg(s,t),n==null&&(t.abbr=e),r=new a0(t),r.parentLocale=bt[e],bt[e]=r),Sa(e)}else bt[e]!=null&&(bt[e].parentLocale!=null?(bt[e]=bt[e].parentLocale,e===Sa()&&Sa(e)):bt[e]!=null&&delete bt[e]);return bt[e]}function Us(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Pc;if(!An(e)){if(t=Hh(e),t)return t;e=[e]}return yJ(e)}function bJ(){return Wg(bt)}function g0(e){var t,r=e._a;return r&&Fe(e).overflow===-2&&(t=r[ks]<0||r[ks]>11?ks:r[Jn]<1||r[Jn]>d0(r[dr],r[ks])?Jn:r[zt]<0||r[zt]>24||r[zt]===24&&(r[kn]!==0||r[Ds]!==0||r[Qa]!==0)?zt:r[kn]<0||r[kn]>59?kn:r[Ds]<0||r[Ds]>59?Ds:r[Qa]<0||r[Qa]>999?Qa:-1,Fe(e)._overflowDayOfYear&&(t<dr||t>Jn)&&(t=Jn),Fe(e)._overflowWeeks&&t===-1&&(t=SX),Fe(e)._overflowWeekday&&t===-1&&(t=kX),Fe(e).overflow=t),e}var wJ=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,NJ=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,jJ=/Z|[+-]\d\d(?::?\d\d)?/,Xu=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Jm=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],SJ=/^\/?Date\((-?\d+)/i,kJ=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,DJ={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function lC(e){var t,r,n=e._i,s=wJ.exec(n)||NJ.exec(n),a,i,l,c,u=Xu.length,d=Jm.length;if(s){for(Fe(e).iso=!0,t=0,r=u;t<r;t++)if(Xu[t][1].exec(s[1])){i=Xu[t][0],a=Xu[t][2]!==!1;break}if(i==null){e._isValid=!1;return}if(s[3]){for(t=0,r=d;t<r;t++)if(Jm[t][1].exec(s[3])){l=(s[2]||" ")+Jm[t][0];break}if(l==null){e._isValid=!1;return}}if(!a&&l!=null){e._isValid=!1;return}if(s[4])if(jJ.exec(s[4]))c="Z";else{e._isValid=!1;return}e._f=i+(l||"")+(c||""),v0(e)}else e._isValid=!1}function CJ(e,t,r,n,s,a){var i=[EJ(e),J2.indexOf(t),parseInt(r,10),parseInt(n,10),parseInt(s,10)];return a&&i.push(parseInt(a,10)),i}function EJ(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function _J(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function TJ(e,t,r){if(e){var n=sC.indexOf(e),s=new Date(t[0],t[1],t[2]).getDay();if(n!==s)return Fe(r).weekdayMismatch=!0,r._isValid=!1,!1}return!0}function PJ(e,t,r){if(e)return DJ[e];if(t)return 0;var n=parseInt(r,10),s=n%100,a=(n-s)/100;return a*60+s}function cC(e){var t=kJ.exec(_J(e._i)),r;if(t){if(r=CJ(t[4],t[3],t[2],t[5],t[6],t[7]),!TJ(t[1],r,e))return;e._a=r,e._tzm=PJ(t[8],t[9],t[10]),e._d=_c.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),Fe(e).rfc2822=!0}else e._isValid=!1}function AJ(e){var t=SJ.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}if(lC(e),e._isValid===!1)delete e._isValid;else return;if(cC(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:pe.createFromInputFallback(e)}pe.createFromInputFallback=hn("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function Mo(e,t,r){return e??t??r}function MJ(e){var t=new Date(pe.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function y0(e){var t,r,n=[],s,a,i;if(!e._d){for(s=MJ(e),e._w&&e._a[Jn]==null&&e._a[ks]==null&&RJ(e),e._dayOfYear!=null&&(i=Mo(e._a[dr],s[dr]),(e._dayOfYear>Bl(i)||e._dayOfYear===0)&&(Fe(e)._overflowDayOfYear=!0),r=_c(i,0,e._dayOfYear),e._a[ks]=r.getUTCMonth(),e._a[Jn]=r.getUTCDate()),t=0;t<3&&e._a[t]==null;++t)e._a[t]=n[t]=s[t];for(;t<7;t++)e._a[t]=n[t]=e._a[t]==null?t===2?1:0:e._a[t];e._a[zt]===24&&e._a[kn]===0&&e._a[Ds]===0&&e._a[Qa]===0&&(e._nextDay=!0,e._a[zt]=0),e._d=(e._useUTC?_c:WX).apply(null,n),a=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[zt]=24),e._w&&typeof e._w.d<"u"&&e._w.d!==a&&(Fe(e).weekdayMismatch=!0)}}function RJ(e){var t,r,n,s,a,i,l,c,u;t=e._w,t.GG!=null||t.W!=null||t.E!=null?(a=1,i=4,r=Mo(t.GG,e._a[dr],Tc(yt(),1,4).year),n=Mo(t.W,1),s=Mo(t.E,1),(s<1||s>7)&&(c=!0)):(a=e._locale._week.dow,i=e._locale._week.doy,u=Tc(yt(),a,i),r=Mo(t.gg,e._a[dr],u.year),n=Mo(t.w,u.week),t.d!=null?(s=t.d,(s<0||s>6)&&(c=!0)):t.e!=null?(s=t.e+a,(t.e<0||t.e>6)&&(c=!0)):s=a),n<1||n>Ts(r,a,i)?Fe(e)._overflowWeeks=!0:c!=null?Fe(e)._overflowWeekday=!0:(l=nC(r,n,s,a,i),e._a[dr]=l.year,e._dayOfYear=l.dayOfYear)}pe.ISO_8601=function(){};pe.RFC_2822=function(){};function v0(e){if(e._f===pe.ISO_8601){lC(e);return}if(e._f===pe.RFC_2822){cC(e);return}e._a=[],Fe(e).empty=!0;var t=""+e._i,r,n,s,a,i,l=t.length,c=0,u,d;for(s=V2(e._f,e._locale).match(o0)||[],d=s.length,r=0;r<d;r++)a=s[r],n=(t.match(wX(a,e))||[])[0],n&&(i=t.substr(0,t.indexOf(n)),i.length>0&&Fe(e).unusedInput.push(i),t=t.slice(t.indexOf(n)+n.length),c+=n.length),ei[a]?(n?Fe(e).empty=!1:Fe(e).unusedTokens.push(a),jX(a,n,e)):e._strict&&!n&&Fe(e).unusedTokens.push(a);Fe(e).charsLeftOver=l-c,t.length>0&&Fe(e).unusedInput.push(t),e._a[zt]<=12&&Fe(e).bigHour===!0&&e._a[zt]>0&&(Fe(e).bigHour=void 0),Fe(e).parsedDateParts=e._a.slice(0),Fe(e).meridiem=e._meridiem,e._a[zt]=OJ(e._locale,e._a[zt],e._meridiem),u=Fe(e).era,u!==null&&(e._a[dr]=e._locale.erasConvertYear(u,e._a[dr])),y0(e),g0(e)}function OJ(e,t,r){var n;return r==null?t:e.meridiemHour!=null?e.meridiemHour(t,r):(e.isPM!=null&&(n=e.isPM(r),n&&t<12&&(t+=12),!n&&t===12&&(t=0)),t)}function $J(e){var t,r,n,s,a,i,l=!1,c=e._f.length;if(c===0){Fe(e).invalidFormat=!0,e._d=new Date(NaN);return}for(s=0;s<c;s++)a=0,i=!1,t=s0({},e),e._useUTC!=null&&(t._useUTC=e._useUTC),t._f=e._f[s],v0(t),n0(t)&&(i=!0),a+=Fe(t).charsLeftOver,a+=Fe(t).unusedTokens.length*10,Fe(t).score=a,l?a<n&&(n=a,r=t):(n==null||a<n||i)&&(n=a,r=t,i&&(l=!0));ha(e,r||t)}function IJ(e){if(!e._d){var t=i0(e._i),r=t.day===void 0?t.date:t.day;e._a=U2([t.year,t.month,r,t.hour,t.minute,t.second,t.millisecond],function(n){return n&&parseInt(n,10)}),y0(e)}}function LJ(e){var t=new fu(g0(uC(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function uC(e){var t=e._i,r=e._f;return e._locale=e._locale||Us(e._l),t===null||r===void 0&&t===""?$h({nullInput:!0}):(typeof t=="string"&&(e._i=t=e._locale.preparse(t)),Mn(t)?new fu(g0(t)):(du(t)?e._d=t:An(r)?$J(e):r?v0(e):FJ(e),n0(e)||(e._d=null),e))}function FJ(e){var t=e._i;kr(t)?e._d=new Date(pe.now()):du(t)?e._d=new Date(t.valueOf()):typeof t=="string"?AJ(e):An(t)?(e._a=U2(t.slice(0),function(r){return parseInt(r,10)}),y0(e)):lo(t)?IJ(e):Ls(t)?e._d=new Date(t):pe.createFromInputFallback(e)}function dC(e,t,r,n,s){var a={};return(t===!0||t===!1)&&(n=t,t=void 0),(r===!0||r===!1)&&(n=r,r=void 0),(lo(e)&&r0(e)||An(e)&&e.length===0)&&(e=void 0),a._isAMomentObject=!0,a._useUTC=a._isUTC=s,a._l=r,a._i=e,a._f=t,a._strict=n,LJ(a)}function yt(e,t,r,n){return dC(e,t,r,n,!1)}var WJ=hn("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=yt.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:$h()}),BJ=hn("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=yt.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:$h()});function fC(e,t){var r,n;if(t.length===1&&An(t[0])&&(t=t[0]),!t.length)return yt();for(r=t[0],n=1;n<t.length;++n)(!t[n].isValid()||t[n][e](r))&&(r=t[n]);return r}function UJ(){var e=[].slice.call(arguments,0);return fC("isBefore",e)}function HJ(){var e=[].slice.call(arguments,0);return fC("isAfter",e)}var zJ=function(){return Date.now?Date.now():+new Date},vl=["year","quarter","month","week","day","hour","minute","second","millisecond"];function VJ(e){var t,r=!1,n,s=vl.length;for(t in e)if(Ge(e,t)&&!(Tt.call(vl,t)!==-1&&(e[t]==null||!isNaN(e[t]))))return!1;for(n=0;n<s;++n)if(e[vl[n]]){if(r)return!1;parseFloat(e[vl[n]])!==Ue(e[vl[n]])&&(r=!0)}return!0}function YJ(){return this._isValid}function qJ(){return Ln(NaN)}function zh(e){var t=i0(e),r=t.year||0,n=t.quarter||0,s=t.month||0,a=t.week||t.isoWeek||0,i=t.day||0,l=t.hour||0,c=t.minute||0,u=t.second||0,d=t.millisecond||0;this._isValid=VJ(t),this._milliseconds=+d+u*1e3+c*6e4+l*1e3*60*60,this._days=+i+a*7,this._months=+s+n*3+r*12,this._data={},this._locale=Us(),this._bubble()}function Td(e){return e instanceof zh}function Ug(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function KJ(e,t,r){var n=Math.min(e.length,t.length),s=Math.abs(e.length-t.length),a=0,i;for(i=0;i<n;i++)Ue(e[i])!==Ue(t[i])&&a++;return a+s}function hC(e,t){Me(e,0,0,function(){var r=this.utcOffset(),n="+";return r<0&&(r=-r,n="-"),n+is(~~(r/60),2)+t+is(~~r%60,2)})}hC("Z",":");hC("ZZ","");Ce("Z",Bh);Ce("ZZ",Bh);it(["Z","ZZ"],function(e,t,r){r._useUTC=!0,r._tzm=x0(Bh,e)});var GJ=/([\+\-]|\d\d)/gi;function x0(e,t){var r=(t||"").match(e),n,s,a;return r===null?null:(n=r[r.length-1]||[],s=(n+"").match(GJ)||["-",0,0],a=+(s[1]*60)+Ue(s[2]),a===0?0:s[0]==="+"?a:-a)}function b0(e,t){var r,n;return t._isUTC?(r=t.clone(),n=(Mn(e)||du(e)?e.valueOf():yt(e).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+n),pe.updateOffset(r,!1),r):yt(e).local()}function Hg(e){return-Math.round(e._d.getTimezoneOffset())}pe.updateOffset=function(){};function QJ(e,t,r){var n=this._offset||0,s;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=x0(Bh,e),e===null)return this}else Math.abs(e)<16&&!r&&(e=e*60);return!this._isUTC&&t&&(s=Hg(this)),this._offset=e,this._isUTC=!0,s!=null&&this.add(s,"m"),n!==e&&(!t||this._changeInProgress?gC(this,Ln(e-n,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,pe.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?n:Hg(this)}function XJ(e,t){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function JJ(e){return this.utcOffset(0,e)}function ZJ(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Hg(this),"m")),this}function eZ(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=x0(xX,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function tZ(e){return this.isValid()?(e=e?yt(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function rZ(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function nZ(){if(!kr(this._isDSTShifted))return this._isDSTShifted;var e={},t;return s0(e,this),e=uC(e),e._a?(t=e._isUTC?us(e._a):yt(e._a),this._isDSTShifted=this.isValid()&&KJ(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function sZ(){return this.isValid()?!this._isUTC:!1}function aZ(){return this.isValid()?this._isUTC:!1}function mC(){return this.isValid()?this._isUTC&&this._offset===0:!1}var oZ=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,iZ=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Ln(e,t){var r=e,n=null,s,a,i;return Td(e)?r={ms:e._milliseconds,d:e._days,M:e._months}:Ls(e)||!isNaN(+e)?(r={},t?r[t]=+e:r.milliseconds=+e):(n=oZ.exec(e))?(s=n[1]==="-"?-1:1,r={y:0,d:Ue(n[Jn])*s,h:Ue(n[zt])*s,m:Ue(n[kn])*s,s:Ue(n[Ds])*s,ms:Ue(Ug(n[Qa]*1e3))*s}):(n=iZ.exec(e))?(s=n[1]==="-"?-1:1,r={y:La(n[2],s),M:La(n[3],s),w:La(n[4],s),d:La(n[5],s),h:La(n[6],s),m:La(n[7],s),s:La(n[8],s)}):r==null?r={}:typeof r=="object"&&("from"in r||"to"in r)&&(i=lZ(yt(r.from),yt(r.to)),r={},r.ms=i.milliseconds,r.M=i.months),a=new zh(r),Td(e)&&Ge(e,"_locale")&&(a._locale=e._locale),Td(e)&&Ge(e,"_isValid")&&(a._isValid=e._isValid),a}Ln.fn=zh.prototype;Ln.invalid=qJ;function La(e,t){var r=e&&parseFloat(e.replace(",","."));return(isNaN(r)?0:r)*t}function E1(e,t){var r={};return r.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(r.months,"M").isAfter(t)&&--r.months,r.milliseconds=+t-+e.clone().add(r.months,"M"),r}function lZ(e,t){var r;return e.isValid()&&t.isValid()?(t=b0(t,e),e.isBefore(t)?r=E1(e,t):(r=E1(t,e),r.milliseconds=-r.milliseconds,r.months=-r.months),r):{milliseconds:0,months:0}}function pC(e,t){return function(r,n){var s,a;return n!==null&&!isNaN(+n)&&(z2(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),a=r,r=n,n=a),s=Ln(r,n),gC(this,s,e),this}}function gC(e,t,r,n){var s=t._milliseconds,a=Ug(t._days),i=Ug(t._months);e.isValid()&&(n=n??!0,i&&eC(e,Ec(e,"Month")+i*r),a&&X2(e,"Date",Ec(e,"Date")+a*r),s&&e._d.setTime(e._d.valueOf()+s*r),n&&pe.updateOffset(e,a||i))}var cZ=pC(1,"add"),uZ=pC(-1,"subtract");function yC(e){return typeof e=="string"||e instanceof String}function dZ(e){return Mn(e)||du(e)||yC(e)||Ls(e)||hZ(e)||fZ(e)||e===null||e===void 0}function fZ(e){var t=lo(e)&&!r0(e),r=!1,n=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],s,a,i=n.length;for(s=0;s<i;s+=1)a=n[s],r=r||Ge(e,a);return t&&r}function hZ(e){var t=An(e),r=!1;return t&&(r=e.filter(function(n){return!Ls(n)&&yC(e)}).length===0),t&&r}function mZ(e){var t=lo(e)&&!r0(e),r=!1,n=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],s,a;for(s=0;s<n.length;s+=1)a=n[s],r=r||Ge(e,a);return t&&r}function pZ(e,t){var r=e.diff(t,"days",!0);return r<-6?"sameElse":r<-1?"lastWeek":r<0?"lastDay":r<1?"sameDay":r<2?"nextDay":r<7?"nextWeek":"sameElse"}function gZ(e,t){arguments.length===1&&(arguments[0]?dZ(arguments[0])?(e=arguments[0],t=void 0):mZ(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var r=e||yt(),n=b0(r,this).startOf("day"),s=pe.calendarFormat(this,n)||"sameElse",a=t&&(ds(t[s])?t[s].call(this,r):t[s]);return this.format(a||this.localeData().calendar(s,this,yt(r)))}function yZ(){return new fu(this)}function vZ(e,t){var r=Mn(e)?e:yt(e);return this.isValid()&&r.isValid()?(t=mn(t)||"millisecond",t==="millisecond"?this.valueOf()>r.valueOf():r.valueOf()<this.clone().startOf(t).valueOf()):!1}function xZ(e,t){var r=Mn(e)?e:yt(e);return this.isValid()&&r.isValid()?(t=mn(t)||"millisecond",t==="millisecond"?this.valueOf()<r.valueOf():this.clone().endOf(t).valueOf()<r.valueOf()):!1}function bZ(e,t,r,n){var s=Mn(e)?e:yt(e),a=Mn(t)?t:yt(t);return this.isValid()&&s.isValid()&&a.isValid()?(n=n||"()",(n[0]==="("?this.isAfter(s,r):!this.isBefore(s,r))&&(n[1]===")"?this.isBefore(a,r):!this.isAfter(a,r))):!1}function wZ(e,t){var r=Mn(e)?e:yt(e),n;return this.isValid()&&r.isValid()?(t=mn(t)||"millisecond",t==="millisecond"?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf())):!1}function NZ(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function jZ(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function SZ(e,t,r){var n,s,a;if(!this.isValid())return NaN;if(n=b0(e,this),!n.isValid())return NaN;switch(s=(n.utcOffset()-this.utcOffset())*6e4,t=mn(t),t){case"year":a=Pd(this,n)/12;break;case"month":a=Pd(this,n);break;case"quarter":a=Pd(this,n)/3;break;case"second":a=(this-n)/1e3;break;case"minute":a=(this-n)/6e4;break;case"hour":a=(this-n)/36e5;break;case"day":a=(this-n-s)/864e5;break;case"week":a=(this-n-s)/6048e5;break;default:a=this-n}return r?a:tn(a)}function Pd(e,t){if(e.date()<t.date())return-Pd(t,e);var r=(t.year()-e.year())*12+(t.month()-e.month()),n=e.clone().add(r,"months"),s,a;return t-n<0?(s=e.clone().add(r-1,"months"),a=(t-n)/(n-s)):(s=e.clone().add(r+1,"months"),a=(t-n)/(s-n)),-(r+a)||0}pe.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";pe.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function kZ(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function DZ(e){if(!this.isValid())return null;var t=e!==!0,r=t?this.clone().utc():this;return r.year()<0||r.year()>9999?_d(r,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):ds(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",_d(r,"Z")):_d(r,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function CZ(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="",r,n,s,a;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),r="["+e+'("]',n=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",s="-MM-DD[T]HH:mm:ss.SSS",a=t+'[")]',this.format(r+n+s+a)}function EZ(e){e||(e=this.isUtc()?pe.defaultFormatUtc:pe.defaultFormat);var t=_d(this,e);return this.localeData().postformat(t)}function _Z(e,t){return this.isValid()&&(Mn(e)&&e.isValid()||yt(e).isValid())?Ln({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function TZ(e){return this.from(yt(),e)}function PZ(e,t){return this.isValid()&&(Mn(e)&&e.isValid()||yt(e).isValid())?Ln({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function AZ(e){return this.to(yt(),e)}function vC(e){var t;return e===void 0?this._locale._abbr:(t=Us(e),t!=null&&(this._locale=t),this)}var xC=hn("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function bC(){return this._locale}var Cf=1e3,ti=60*Cf,Ef=60*ti,wC=(365*400+97)*24*Ef;function ri(e,t){return(e%t+t)%t}function NC(e,t,r){return e<100&&e>=0?new Date(e+400,t,r)-wC:new Date(e,t,r).valueOf()}function jC(e,t,r){return e<100&&e>=0?Date.UTC(e+400,t,r)-wC:Date.UTC(e,t,r)}function MZ(e){var t,r;if(e=mn(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(r=this._isUTC?jC:NC,e){case"year":t=r(this.year(),0,1);break;case"quarter":t=r(this.year(),this.month()-this.month()%3,1);break;case"month":t=r(this.year(),this.month(),1);break;case"week":t=r(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=r(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=ri(t+(this._isUTC?0:this.utcOffset()*ti),Ef);break;case"minute":t=this._d.valueOf(),t-=ri(t,ti);break;case"second":t=this._d.valueOf(),t-=ri(t,Cf);break}return this._d.setTime(t),pe.updateOffset(this,!0),this}function RZ(e){var t,r;if(e=mn(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(r=this._isUTC?jC:NC,e){case"year":t=r(this.year()+1,0,1)-1;break;case"quarter":t=r(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=r(this.year(),this.month()+1,1)-1;break;case"week":t=r(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=r(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=Ef-ri(t+(this._isUTC?0:this.utcOffset()*ti),Ef)-1;break;case"minute":t=this._d.valueOf(),t+=ti-ri(t,ti)-1;break;case"second":t=this._d.valueOf(),t+=Cf-ri(t,Cf)-1;break}return this._d.setTime(t),pe.updateOffset(this,!0),this}function OZ(){return this._d.valueOf()-(this._offset||0)*6e4}function $Z(){return Math.floor(this.valueOf()/1e3)}function IZ(){return new Date(this.valueOf())}function LZ(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function FZ(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function WZ(){return this.isValid()?this.toISOString():null}function BZ(){return n0(this)}function UZ(){return ha({},Fe(this))}function HZ(){return Fe(this).overflow}function zZ(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}Me("N",0,0,"eraAbbr");Me("NN",0,0,"eraAbbr");Me("NNN",0,0,"eraAbbr");Me("NNNN",0,0,"eraName");Me("NNNNN",0,0,"eraNarrow");Me("y",["y",1],"yo","eraYear");Me("y",["yy",2],0,"eraYear");Me("y",["yyy",3],0,"eraYear");Me("y",["yyyy",4],0,"eraYear");Ce("N",w0);Ce("NN",w0);Ce("NNN",w0);Ce("NNNN",tee);Ce("NNNNN",ree);it(["N","NN","NNN","NNNN","NNNNN"],function(e,t,r,n){var s=r._locale.erasParse(e,n,r._strict);s?Fe(r).era=s:Fe(r).invalidEra=e});Ce("y",qi);Ce("yy",qi);Ce("yyy",qi);Ce("yyyy",qi);Ce("yo",nee);it(["y","yy","yyy","yyyy"],dr);it(["yo"],function(e,t,r,n){var s;r._locale._eraYearOrdinalRegex&&(s=e.match(r._locale._eraYearOrdinalRegex)),r._locale.eraYearOrdinalParse?t[dr]=r._locale.eraYearOrdinalParse(e,s):t[dr]=parseInt(e,10)});function VZ(e,t){var r,n,s,a=this._eras||Us("en")._eras;for(r=0,n=a.length;r<n;++r){switch(typeof a[r].since){case"string":s=pe(a[r].since).startOf("day"),a[r].since=s.valueOf();break}switch(typeof a[r].until){case"undefined":a[r].until=1/0;break;case"string":s=pe(a[r].until).startOf("day").valueOf(),a[r].until=s.valueOf();break}}return a}function YZ(e,t,r){var n,s,a=this.eras(),i,l,c;for(e=e.toUpperCase(),n=0,s=a.length;n<s;++n)if(i=a[n].name.toUpperCase(),l=a[n].abbr.toUpperCase(),c=a[n].narrow.toUpperCase(),r)switch(t){case"N":case"NN":case"NNN":if(l===e)return a[n];break;case"NNNN":if(i===e)return a[n];break;case"NNNNN":if(c===e)return a[n];break}else if([i,l,c].indexOf(e)>=0)return a[n]}function qZ(e,t){var r=e.since<=e.until?1:-1;return t===void 0?pe(e.since).year():pe(e.since).year()+(t-e.offset)*r}function KZ(){var e,t,r,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e)if(r=this.clone().startOf("day").valueOf(),n[e].since<=r&&r<=n[e].until||n[e].until<=r&&r<=n[e].since)return n[e].name;return""}function GZ(){var e,t,r,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e)if(r=this.clone().startOf("day").valueOf(),n[e].since<=r&&r<=n[e].until||n[e].until<=r&&r<=n[e].since)return n[e].narrow;return""}function QZ(){var e,t,r,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e)if(r=this.clone().startOf("day").valueOf(),n[e].since<=r&&r<=n[e].until||n[e].until<=r&&r<=n[e].since)return n[e].abbr;return""}function XZ(){var e,t,r,n,s=this.localeData().eras();for(e=0,t=s.length;e<t;++e)if(r=s[e].since<=s[e].until?1:-1,n=this.clone().startOf("day").valueOf(),s[e].since<=n&&n<=s[e].until||s[e].until<=n&&n<=s[e].since)return(this.year()-pe(s[e].since).year())*r+s[e].offset;return this.year()}function JZ(e){return Ge(this,"_erasNameRegex")||N0.call(this),e?this._erasNameRegex:this._erasRegex}function ZZ(e){return Ge(this,"_erasAbbrRegex")||N0.call(this),e?this._erasAbbrRegex:this._erasRegex}function eee(e){return Ge(this,"_erasNarrowRegex")||N0.call(this),e?this._erasNarrowRegex:this._erasRegex}function w0(e,t){return t.erasAbbrRegex(e)}function tee(e,t){return t.erasNameRegex(e)}function ree(e,t){return t.erasNarrowRegex(e)}function nee(e,t){return t._eraYearOrdinalRegex||qi}function N0(){var e=[],t=[],r=[],n=[],s,a,i,l,c,u=this.eras();for(s=0,a=u.length;s<a;++s)i=_s(u[s].name),l=_s(u[s].abbr),c=_s(u[s].narrow),t.push(i),e.push(l),r.push(c),n.push(i),n.push(l),n.push(c);this._erasRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+r.join("|")+")","i")}Me(0,["gg",2],0,function(){return this.weekYear()%100});Me(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Vh(e,t){Me(0,[e,e.length],0,t)}Vh("gggg","weekYear");Vh("ggggg","weekYear");Vh("GGGG","isoWeekYear");Vh("GGGGG","isoWeekYear");Ce("G",Wh);Ce("g",Wh);Ce("GG",vt,qr);Ce("gg",vt,qr);Ce("GGGG",c0,l0);Ce("gggg",c0,l0);Ce("GGGGG",Fh,Ih);Ce("ggggg",Fh,Ih);mu(["gggg","ggggg","GGGG","GGGGG"],function(e,t,r,n){t[n.substr(0,2)]=Ue(e)});mu(["gg","GG"],function(e,t,r,n){t[n]=pe.parseTwoDigitYear(e)});function see(e){return SC.call(this,e,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function aee(e){return SC.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function oee(){return Ts(this.year(),1,4)}function iee(){return Ts(this.isoWeekYear(),1,4)}function lee(){var e=this.localeData()._week;return Ts(this.year(),e.dow,e.doy)}function cee(){var e=this.localeData()._week;return Ts(this.weekYear(),e.dow,e.doy)}function SC(e,t,r,n,s){var a;return e==null?Tc(this,n,s).year:(a=Ts(e,n,s),t>a&&(t=a),uee.call(this,e,t,r,n,s))}function uee(e,t,r,n,s){var a=nC(e,t,r,n,s),i=_c(a.year,0,a.dayOfYear);return this.year(i.getUTCFullYear()),this.month(i.getUTCMonth()),this.date(i.getUTCDate()),this}Me("Q",0,"Qo","quarter");Ce("Q",Y2);it("Q",function(e,t){t[ks]=(Ue(e)-1)*3});function dee(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}Me("D",["DD",2],"Do","date");Ce("D",vt,Ki);Ce("DD",vt,qr);Ce("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient});it(["D","DD"],Jn);it("Do",function(e,t){t[Jn]=Ue(e.match(vt)[0])});var kC=Gi("Date",!0);Me("DDD",["DDDD",3],"DDDo","dayOfYear");Ce("DDD",Lh);Ce("DDDD",q2);it(["DDD","DDDD"],function(e,t,r){r._dayOfYear=Ue(e)});function fee(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}Me("m",["mm",2],0,"minute");Ce("m",vt,u0);Ce("mm",vt,qr);it(["m","mm"],kn);var hee=Gi("Minutes",!1);Me("s",["ss",2],0,"second");Ce("s",vt,u0);Ce("ss",vt,qr);it(["s","ss"],Ds);var mee=Gi("Seconds",!1);Me("S",0,0,function(){return~~(this.millisecond()/100)});Me(0,["SS",2],0,function(){return~~(this.millisecond()/10)});Me(0,["SSS",3],0,"millisecond");Me(0,["SSSS",4],0,function(){return this.millisecond()*10});Me(0,["SSSSS",5],0,function(){return this.millisecond()*100});Me(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});Me(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});Me(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});Me(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});Ce("S",Lh,Y2);Ce("SS",Lh,qr);Ce("SSS",Lh,q2);var ma,DC;for(ma="SSSS";ma.length<=9;ma+="S")Ce(ma,qi);function pee(e,t){t[Qa]=Ue(("0."+e)*1e3)}for(ma="S";ma.length<=9;ma+="S")it(ma,pee);DC=Gi("Milliseconds",!1);Me("z",0,0,"zoneAbbr");Me("zz",0,0,"zoneName");function gee(){return this._isUTC?"UTC":""}function yee(){return this._isUTC?"Coordinated Universal Time":""}var ye=fu.prototype;ye.add=cZ;ye.calendar=gZ;ye.clone=yZ;ye.diff=SZ;ye.endOf=RZ;ye.format=EZ;ye.from=_Z;ye.fromNow=TZ;ye.to=PZ;ye.toNow=AZ;ye.get=CX;ye.invalidAt=HZ;ye.isAfter=vZ;ye.isBefore=xZ;ye.isBetween=bZ;ye.isSame=wZ;ye.isSameOrAfter=NZ;ye.isSameOrBefore=jZ;ye.isValid=BZ;ye.lang=xC;ye.locale=vC;ye.localeData=bC;ye.max=BJ;ye.min=WJ;ye.parsingFlags=UZ;ye.set=EX;ye.startOf=MZ;ye.subtract=uZ;ye.toArray=LZ;ye.toObject=FZ;ye.toDate=IZ;ye.toISOString=DZ;ye.inspect=CZ;typeof Symbol<"u"&&Symbol.for!=null&&(ye[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});ye.toJSON=WZ;ye.toString=kZ;ye.unix=$Z;ye.valueOf=OZ;ye.creationData=zZ;ye.eraName=KZ;ye.eraNarrow=GZ;ye.eraAbbr=QZ;ye.eraYear=XZ;ye.year=Q2;ye.isLeapYear=DX;ye.weekYear=see;ye.isoWeekYear=aee;ye.quarter=ye.quarters=dee;ye.month=tC;ye.daysInMonth=IX;ye.week=ye.weeks=VX;ye.isoWeek=ye.isoWeeks=YX;ye.weeksInYear=lee;ye.weeksInWeekYear=cee;ye.isoWeeksInYear=oee;ye.isoWeeksInISOWeekYear=iee;ye.date=kC;ye.day=ye.days=aJ;ye.weekday=oJ;ye.isoWeekday=iJ;ye.dayOfYear=fee;ye.hour=ye.hours=mJ;ye.minute=ye.minutes=hee;ye.second=ye.seconds=mee;ye.millisecond=ye.milliseconds=DC;ye.utcOffset=QJ;ye.utc=JJ;ye.local=ZJ;ye.parseZone=eZ;ye.hasAlignedHourOffset=tZ;ye.isDST=rZ;ye.isLocal=sZ;ye.isUtcOffset=aZ;ye.isUtc=mC;ye.isUTC=mC;ye.zoneAbbr=gee;ye.zoneName=yee;ye.dates=hn("dates accessor is deprecated. Use date instead.",kC);ye.months=hn("months accessor is deprecated. Use month instead",tC);ye.years=hn("years accessor is deprecated. Use year instead",Q2);ye.zone=hn("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",XJ);ye.isDSTShifted=hn("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",nZ);function vee(e){return yt(e*1e3)}function xee(){return yt.apply(null,arguments).parseZone()}function CC(e){return e}var Qe=a0.prototype;Qe.calendar=sX;Qe.longDateFormat=lX;Qe.invalidDate=uX;Qe.ordinal=hX;Qe.preparse=CC;Qe.postformat=CC;Qe.relativeTime=pX;Qe.pastFuture=gX;Qe.set=rX;Qe.eras=VZ;Qe.erasParse=YZ;Qe.erasConvertYear=qZ;Qe.erasAbbrRegex=ZZ;Qe.erasNameRegex=JZ;Qe.erasNarrowRegex=eee;Qe.months=MX;Qe.monthsShort=RX;Qe.monthsParse=$X;Qe.monthsRegex=FX;Qe.monthsShortRegex=LX;Qe.week=BX;Qe.firstDayOfYear=zX;Qe.firstDayOfWeek=HX;Qe.weekdays=eJ;Qe.weekdaysMin=rJ;Qe.weekdaysShort=tJ;Qe.weekdaysParse=sJ;Qe.weekdaysRegex=lJ;Qe.weekdaysShortRegex=cJ;Qe.weekdaysMinRegex=uJ;Qe.isPM=fJ;Qe.meridiem=pJ;function _f(e,t,r,n){var s=Us(),a=us().set(n,t);return s[r](a,e)}function EC(e,t,r){if(Ls(e)&&(t=e,e=void 0),e=e||"",t!=null)return _f(e,t,r,"month");var n,s=[];for(n=0;n<12;n++)s[n]=_f(e,n,r,"month");return s}function j0(e,t,r,n){typeof e=="boolean"?(Ls(t)&&(r=t,t=void 0),t=t||""):(t=e,r=t,e=!1,Ls(t)&&(r=t,t=void 0),t=t||"");var s=Us(),a=e?s._week.dow:0,i,l=[];if(r!=null)return _f(t,(r+a)%7,n,"day");for(i=0;i<7;i++)l[i]=_f(t,(i+a)%7,n,"day");return l}function bee(e,t){return EC(e,t,"months")}function wee(e,t){return EC(e,t,"monthsShort")}function Nee(e,t,r){return j0(e,t,r,"weekdays")}function jee(e,t,r){return j0(e,t,r,"weekdaysShort")}function See(e,t,r){return j0(e,t,r,"weekdaysMin")}Sa("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,r=Ue(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+r}});pe.lang=hn("moment.lang is deprecated. Use moment.locale instead.",Sa);pe.langData=hn("moment.langData is deprecated. Use moment.localeData instead.",Us);var gs=Math.abs;function kee(){var e=this._data;return this._milliseconds=gs(this._milliseconds),this._days=gs(this._days),this._months=gs(this._months),e.milliseconds=gs(e.milliseconds),e.seconds=gs(e.seconds),e.minutes=gs(e.minutes),e.hours=gs(e.hours),e.months=gs(e.months),e.years=gs(e.years),this}function _C(e,t,r,n){var s=Ln(t,r);return e._milliseconds+=n*s._milliseconds,e._days+=n*s._days,e._months+=n*s._months,e._bubble()}function Dee(e,t){return _C(this,e,t,1)}function Cee(e,t){return _C(this,e,t,-1)}function _1(e){return e<0?Math.floor(e):Math.ceil(e)}function Eee(){var e=this._milliseconds,t=this._days,r=this._months,n=this._data,s,a,i,l,c;return e>=0&&t>=0&&r>=0||e<=0&&t<=0&&r<=0||(e+=_1(zg(r)+t)*864e5,t=0,r=0),n.milliseconds=e%1e3,s=tn(e/1e3),n.seconds=s%60,a=tn(s/60),n.minutes=a%60,i=tn(a/60),n.hours=i%24,t+=tn(i/24),c=tn(TC(t)),r+=c,t-=_1(zg(c)),l=tn(r/12),r%=12,n.days=t,n.months=r,n.years=l,this}function TC(e){return e*4800/146097}function zg(e){return e*146097/4800}function _ee(e){if(!this.isValid())return NaN;var t,r,n=this._milliseconds;if(e=mn(e),e==="month"||e==="quarter"||e==="year")switch(t=this._days+n/864e5,r=this._months+TC(t),e){case"month":return r;case"quarter":return r/3;case"year":return r/12}else switch(t=this._days+Math.round(zg(this._months)),e){case"week":return t/7+n/6048e5;case"day":return t+n/864e5;case"hour":return t*24+n/36e5;case"minute":return t*1440+n/6e4;case"second":return t*86400+n/1e3;case"millisecond":return Math.floor(t*864e5)+n;default:throw new Error("Unknown unit "+e)}}function Hs(e){return function(){return this.as(e)}}var PC=Hs("ms"),Tee=Hs("s"),Pee=Hs("m"),Aee=Hs("h"),Mee=Hs("d"),Ree=Hs("w"),Oee=Hs("M"),$ee=Hs("Q"),Iee=Hs("y"),Lee=PC;function Fee(){return Ln(this)}function Wee(e){return e=mn(e),this.isValid()?this[e+"s"]():NaN}function Do(e){return function(){return this.isValid()?this._data[e]:NaN}}var Bee=Do("milliseconds"),Uee=Do("seconds"),Hee=Do("minutes"),zee=Do("hours"),Vee=Do("days"),Yee=Do("months"),qee=Do("years");function Kee(){return tn(this.days()/7)}var xs=Math.round,Yo={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Gee(e,t,r,n,s){return s.relativeTime(t||1,!!r,e,n)}function Qee(e,t,r,n){var s=Ln(e).abs(),a=xs(s.as("s")),i=xs(s.as("m")),l=xs(s.as("h")),c=xs(s.as("d")),u=xs(s.as("M")),d=xs(s.as("w")),f=xs(s.as("y")),h=a<=r.ss&&["s",a]||a<r.s&&["ss",a]||i<=1&&["m"]||i<r.m&&["mm",i]||l<=1&&["h"]||l<r.h&&["hh",l]||c<=1&&["d"]||c<r.d&&["dd",c];return r.w!=null&&(h=h||d<=1&&["w"]||d<r.w&&["ww",d]),h=h||u<=1&&["M"]||u<r.M&&["MM",u]||f<=1&&["y"]||["yy",f],h[2]=t,h[3]=+e>0,h[4]=n,Gee.apply(null,h)}function Xee(e){return e===void 0?xs:typeof e=="function"?(xs=e,!0):!1}function Jee(e,t){return Yo[e]===void 0?!1:t===void 0?Yo[e]:(Yo[e]=t,e==="s"&&(Yo.ss=t-1),!0)}function Zee(e,t){if(!this.isValid())return this.localeData().invalidDate();var r=!1,n=Yo,s,a;return typeof e=="object"&&(t=e,e=!1),typeof e=="boolean"&&(r=e),typeof t=="object"&&(n=Object.assign({},Yo,t),t.s!=null&&t.ss==null&&(n.ss=t.s-1)),s=this.localeData(),a=Qee(this,!r,n,s),r&&(a=s.pastFuture(+this,a)),s.postformat(a)}var Zm=Math.abs;function To(e){return(e>0)-(e<0)||+e}function Yh(){if(!this.isValid())return this.localeData().invalidDate();var e=Zm(this._milliseconds)/1e3,t=Zm(this._days),r=Zm(this._months),n,s,a,i,l=this.asSeconds(),c,u,d,f;return l?(n=tn(e/60),s=tn(n/60),e%=60,n%=60,a=tn(r/12),r%=12,i=e?e.toFixed(3).replace(/\.?0+$/,""):"",c=l<0?"-":"",u=To(this._months)!==To(l)?"-":"",d=To(this._days)!==To(l)?"-":"",f=To(this._milliseconds)!==To(l)?"-":"",c+"P"+(a?u+a+"Y":"")+(r?u+r+"M":"")+(t?d+t+"D":"")+(s||n||e?"T":"")+(s?f+s+"H":"")+(n?f+n+"M":"")+(e?f+i+"S":"")):"P0D"}var Ye=zh.prototype;Ye.isValid=YJ;Ye.abs=kee;Ye.add=Dee;Ye.subtract=Cee;Ye.as=_ee;Ye.asMilliseconds=PC;Ye.asSeconds=Tee;Ye.asMinutes=Pee;Ye.asHours=Aee;Ye.asDays=Mee;Ye.asWeeks=Ree;Ye.asMonths=Oee;Ye.asQuarters=$ee;Ye.asYears=Iee;Ye.valueOf=Lee;Ye._bubble=Eee;Ye.clone=Fee;Ye.get=Wee;Ye.milliseconds=Bee;Ye.seconds=Uee;Ye.minutes=Hee;Ye.hours=zee;Ye.days=Vee;Ye.weeks=Kee;Ye.months=Yee;Ye.years=qee;Ye.humanize=Zee;Ye.toISOString=Yh;Ye.toString=Yh;Ye.toJSON=Yh;Ye.locale=vC;Ye.localeData=bC;Ye.toIsoString=hn("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Yh);Ye.lang=xC;Me("X",0,0,"unix");Me("x",0,0,"valueOf");Ce("x",Wh);Ce("X",bX);it("X",function(e,t,r){r._d=new Date(parseFloat(e)*1e3)});it("x",function(e,t,r){r._d=new Date(Ue(e))});//! moment.js
pe.version="2.30.1";eX(yt);pe.fn=ye;pe.min=UJ;pe.max=HJ;pe.now=zJ;pe.utc=us;pe.unix=vee;pe.months=bee;pe.isDate=du;pe.locale=Sa;pe.invalid=$h;pe.duration=Ln;pe.isMoment=Mn;pe.weekdays=Nee;pe.parseZone=xee;pe.localeData=Us;pe.isDuration=Td;pe.monthsShort=wee;pe.weekdaysMin=See;pe.defineLocale=p0;pe.updateLocale=xJ;pe.locales=bJ;pe.weekdaysShort=jee;pe.normalizeUnits=mn;pe.relativeTimeRounding=Xee;pe.relativeTimeThreshold=Jee;pe.calendarFormat=pZ;pe.prototype=ye;pe.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};pe.updateLocale("ko",{months:["1","2","3","4","5","6","7","8","9","10","11","12"],monthsShort:["1","2","3","4","5","6","7","8","9","10","11","12"],weekdays:["","","","","","",""],weekdaysShort:["","","","","","",""],weekdaysMin:["","","","","","",""],longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY MMMM D",LLL:"YYYY MMMM D A h:mm",LLLL:"YYYY MMMM D dddd A h:mm"},meridiem:e=>e<12?"":"",week:{dow:0,doy:1}});pe.locale("ko");const ete=ZQ(pe),T1=["#F3F4F6","#F3F4F6","#F3F4F6","#F3F4F6","#F3F4F6","#F3F4F6","#F3F4F6","#F3F4F6","#F3F4F6","#F3F4F6","#F3F4F6","#F3F4F6","#F3F4F6","#F3F4F6","#F3F4F6","#F3F4F6"],P1=e=>{if(!e)return e;const t=e.split("_");return t.length>1&&t[0].length>2?t[0].substring(0,2)+"_"+t.slice(1).join("_"):e},Ul={"2025-01-01":"","2025-01-28":" ","2025-01-29":"","2025-01-30":" ","2025-03-01":"","2025-03-03":"","2025-05-05":"","2025-05-06":"","2025-06-06":"","2025-08-15":"","2025-10-03":"","2025-10-05":" ","2025-10-06":"","2025-10-07":" ","2025-10-08":"","2025-10-09":"","2025-12-25":""},tte=F.memo(({date:e,label:t,filteredEvents:r,selectedDate:n,user:s,isMobileView:a})=>{const i=pe(e).format("YYYY-MM-DD"),l=Ul[i],c=!!Ul[i],u=n&&pe(e).isSame(n,"day"),d=r.filter(S=>pe(S.start).isSame(e,"day")),f=d.length,h=d.filter(S=>S.assignedTo&&S.assignedTo.includes((s==null?void 0:s.name)||"")).length,y=f-h,g=t.replace(/^0/,""),m=e.getDay()===0,N=e.getDay()===6;let v="#000000";c||m?v="#dc2626":N&&(v="#3b82f6");const p=pe(e).isSame(pe(),"day"),b=g.length===2,x=a?{backgroundColor:"transparent",color:v,borderRadius:"50%",width:"30px",height:"30px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",fontWeight:p?"700":"400",border:u?"1px solid #1f2937":"1px solid transparent",boxSizing:"border-box",gap:"1px"}:{color:v,fontWeight:p?"700":"400",paddingLeft:b?"0px":"4px"};return o.jsx("div",{className:a?"flex flex-col items-center":"flex items-center gap-2",style:{overflow:"visible",position:"relative",zIndex:10},children:a?o.jsxs("span",{style:x,children:[o.jsx("span",{style:{fontSize:"13px",lineHeight:"1"},children:g}),f>0&&o.jsxs("div",{className:"flex gap-0.5",style:{minHeight:"4px",marginTop:"1px"},children:[Array.from({length:h}).map((S,k)=>o.jsx("div",{style:{width:"4px",height:"4px",borderRadius:"50%",backgroundColor:"#66BB6A",flexShrink:0}},`user-${k}`)),Array.from({length:y}).map((S,k)=>o.jsx("div",{style:{width:"4px",height:"4px",borderRadius:"50%",backgroundColor:"#757575",flexShrink:0}},`other-${k}`))]})]}):o.jsxs(o.Fragment,{children:[o.jsx("span",{style:x,children:g}),l&&o.jsx("span",{className:"text-xs font-medium",style:{color:"#ef4444"},children:l})]})})}),rte=F.memo(({event:e,user:t})=>{const r=e.assignedTo||[],[n,s]=w.useState(window.innerWidth>=768&&window.innerWidth<1024),[a,i]=w.useState(!1),l=t!=null&&t.name?t.name.slice(-2):null,c=l&&["",""].includes(l),u=l&&["","",""].includes(l);return w.useEffect(()=>{const d=()=>{s(window.innerWidth>=768&&window.innerWidth<1024)};return window.addEventListener("resize",d),()=>window.removeEventListener("resize",d)},[]),n?o.jsxs("div",{className:"w-full relative block",onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),style:{padding:"2px 4px",minHeight:"40px",display:"flex",flexDirection:"column",justifyContent:"flex-start"},children:[o.jsxs("div",{className:"flex items-center justify-between w-full",style:{fontSize:"11px",opacity:.8,marginBottom:"2px"},children:[!e.isASVisit&&e.projectName&&o.jsxs("span",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:"60%",flexShrink:0},children:["[",P1(e.projectName),"]"]}),r.length>0&&o.jsx("span",{style:{flexShrink:0,fontSize:"11px"},children:r.map((d,f)=>{const h=d==="HV LAB"||d===""&&c||d===""&&u||d===(t==null?void 0:t.name);return o.jsxs(F.Fragment,{children:[o.jsx("span",{style:{fontWeight:h?"bold":"normal"},children:d}),f<r.length-1&&""]},d)})})]}),o.jsx("div",{style:{fontWeight:500,fontSize:"12px",lineHeight:"1.4",overflow:"hidden",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",wordBreak:"keep-all",textOverflow:"ellipsis"},title:e.title,children:e.title}),a&&o.jsxs("div",{className:"absolute z-50 bg-gray-900 text-white text-xs rounded p-2 shadow-lg",style:{bottom:"100%",left:"0",marginBottom:"4px",minWidth:"200px",maxWidth:"300px"},children:[o.jsx("div",{className:"font-semibold mb-1",children:e.title}),e.projectName&&o.jsxs("div",{className:"opacity-90",children:[": ",e.projectName]}),r.length>0&&o.jsxs("div",{className:"opacity-90 mt-1",children:[": ",r.join(", ")]})]})]}):o.jsxs("div",{className:"flex items-center justify-between w-full gap-1.5 overflow-hidden",children:[o.jsxs("div",{className:"flex items-center gap-1.5 overflow-hidden flex-1",children:[!e.isASVisit&&e.projectName&&o.jsxs("span",{className:"text-xs opacity-70 flex-shrink-0",children:["[",P1(e.projectName),"]"]}),o.jsx("span",{className:"font-medium truncate",children:e.title})]}),r.length>0&&o.jsx("span",{className:"text-xs opacity-80 flex-shrink-0 ml-auto",children:r.map((d,f)=>{const h=d==="HV LAB"||d===""&&c||d===""&&u||d===(t==null?void 0:t.name);return o.jsxs(F.Fragment,{children:[o.jsx("span",{className:h?"font-bold":"",children:d}),f<r.length-1&&""]},d)})})]})}),nte=()=>{const{schedules:e,loadSchedulesFromAPI:t,addScheduleToAPI:r,updateScheduleInAPI:n,deleteScheduleFromAPI:s,projects:a,asRequests:i,updateASRequestInAPI:l,constructionPayments:c,updateConstructionPaymentInAPI:u}=dn(),{user:d}=Ra(),f=d!=null&&d.name?d.name.slice(-2):null;console.log(" Current user:",d==null?void 0:d.name,"Short name:",f),w.useEffect(()=>{t().catch(P=>{console.error("Failed to load schedules:",P),Q.error("  ")})},[t]);const h=P=>{const q=a.findIndex(j=>j.name===P);return q>=0?T1[q%T1.length]:"#e8e2ea"},y=P=>{if(!P||P==="-")return"";const[q,j]=P.split(":"),R=parseInt(q,10),E=parseInt(j,10),C=R>=12?"":"",O=R>12?R-12:R===0?12:R;return E===0?`${C} ${O}`:`${C} ${O} ${E}`},g=e.filter(P=>!P.asRequestId).map(P=>{const q=P.project===""?"[]":P.project,j=a.find(te=>te.name===P.project),R=P.time,E=R&&R!=="-"?` - ${y(R)}`:"",C=P.attendees||[],O=C.includes("")||C.includes((d==null?void 0:d.name)||"")||f&&C.includes(f),J=O?new Date(P.start.getTime()-216e5):P.start;return O&&console.log(` User schedule found: ${P.title}, attendees:`,C),{id:P.id,title:P.title+E,originalTitle:P.title,start:J,end:P.end,projectId:(j==null?void 0:j.id)||"",projectName:q||"",type:P.type||"other",phase:"",assignedTo:C,priority:"medium",allDay:!R||R==="-",color:h(P.project||""),isASVisit:!1,time:R,description:P.description}}),m=i.filter(P=>P.scheduledVisitDate).map(P=>{const q=P.scheduledVisitTime,j=q&&q!=="-"?` - ${y(q)}`:"",R=a.find(C=>C.name===P.project),E=`[AS] ${P.project}`;return{id:`as-${P.id}`,title:E+j,originalTitle:E,start:P.scheduledVisitDate,end:P.scheduledVisitDate,projectId:(R==null?void 0:R.id)||"",projectName:P.project,type:"as_visit",phase:"",assignedTo:P.assignedTo||[],priority:"high",allDay:!q||q==="-",color:"#FEF3C7",isASVisit:!0,time:q,description:P.description}}),N=(d==null?void 0:d.role)==="manager"?c.flatMap(P=>{var C,O,J,te,se,fe,ke,we;const q=a.find(Ee=>Ee.name===P.project);if(!q){const Ee=[],rt=P.totalAmount+(P.vatType==="percentage"?P.totalAmount*(P.vatPercentage/100):P.vatAmount),We=new Set(P.payments.flatMap(Xe=>{var Ke;return((Ke=Xe.type)==null?void 0:Ke.split(", ").map(ct=>ct.trim()))||[]}));return!We.has("")&&((C=P.expectedPaymentDates)!=null&&C.contract)&&Ee.push({id:`payment-${P.id}-contract`,title:"[] ",originalTitle:"[] ",start:new Date(P.expectedPaymentDates.contract),end:new Date(P.expectedPaymentDates.contract),projectId:"",projectName:P.project,type:"expected_payment",phase:"",assignedTo:[],priority:"medium",allDay:!0,color:"#DBEAFE",isExpectedPayment:!0,description:` (10%): ${Math.round(rt*.1).toLocaleString()}`}),!We.has("")&&((O=P.expectedPaymentDates)!=null&&O.start)&&Ee.push({id:`payment-${P.id}-start`,title:"[] ",originalTitle:"[] ",start:new Date(P.expectedPaymentDates.start),end:new Date(P.expectedPaymentDates.start),projectId:"",projectName:P.project,type:"expected_payment",phase:"",assignedTo:[],priority:"medium",allDay:!0,color:"#DBEAFE",isExpectedPayment:!0,description:` (40%): ${Math.round(rt*.4).toLocaleString()}`}),!We.has("")&&((J=P.expectedPaymentDates)!=null&&J.middle)&&Ee.push({id:`payment-${P.id}-middle`,title:"[] ",originalTitle:"[] ",start:new Date(P.expectedPaymentDates.middle),end:new Date(P.expectedPaymentDates.middle),projectId:"",projectName:P.project,type:"expected_payment",phase:"",assignedTo:[],priority:"medium",allDay:!0,color:"#DBEAFE",isExpectedPayment:!0,description:` (40%): ${Math.round(rt*.4).toLocaleString()}`}),!We.has("")&&((te=P.expectedPaymentDates)!=null&&te.final)&&Ee.push({id:`payment-${P.id}-final`,title:"[] ",originalTitle:"[] ",start:new Date(P.expectedPaymentDates.final),end:new Date(P.expectedPaymentDates.final),projectId:"",projectName:P.project,type:"expected_payment",phase:"",assignedTo:[],priority:"medium",allDay:!0,color:"#DBEAFE",isExpectedPayment:!0,description:` (10%): ${Math.round(rt*.1).toLocaleString()}`}),Ee}if(!q.startDate||!q.endDate)return[];const j=P.totalAmount+(P.vatType==="percentage"?P.totalAmount*(P.vatPercentage/100):P.vatAmount),R=new Set(P.payments.flatMap(Ee=>{var rt;return((rt=Ee.type)==null?void 0:rt.split(", ").map(We=>We.trim()))||[]})),E=[];return!R.has("")&&((se=P.expectedPaymentDates)!=null&&se.contract)&&E.push({id:`payment-${P.id}-contract`,title:"[] ",originalTitle:"[] ",start:new Date(P.expectedPaymentDates.contract),end:new Date(P.expectedPaymentDates.contract),projectId:q.id||"",projectName:P.project,type:"expected_payment",phase:"",assignedTo:[],priority:"medium",allDay:!0,color:"#DBEAFE",isExpectedPayment:!0,description:` (10%): ${Math.round(j*.1).toLocaleString()}`}),!R.has("")&&((fe=P.expectedPaymentDates)!=null&&fe.start)&&E.push({id:`payment-${P.id}-start`,title:"[] ",originalTitle:"[] ",start:new Date(P.expectedPaymentDates.start),end:new Date(P.expectedPaymentDates.start),projectId:q.id||"",projectName:P.project,type:"expected_payment",phase:"",assignedTo:[],priority:"medium",allDay:!0,color:"#DBEAFE",isExpectedPayment:!0,description:` (40%): ${Math.round(j*.4).toLocaleString()}`}),!R.has("")&&((ke=P.expectedPaymentDates)!=null&&ke.middle)&&E.push({id:`payment-${P.id}-middle`,title:"[] ",originalTitle:"[] ",start:new Date(P.expectedPaymentDates.middle),end:new Date(P.expectedPaymentDates.middle),projectId:q.id||"",projectName:P.project,type:"expected_payment",phase:"",assignedTo:[],priority:"medium",allDay:!0,color:"#DBEAFE",isExpectedPayment:!0,description:` (40%): ${Math.round(j*.4).toLocaleString()}`}),!R.has("")&&((we=P.expectedPaymentDates)!=null&&we.final)&&E.push({id:`payment-${P.id}-final`,title:"[] ",originalTitle:"[] ",start:new Date(P.expectedPaymentDates.final),end:new Date(P.expectedPaymentDates.final),projectId:q.id||"",projectName:P.project,type:"expected_payment",phase:"",assignedTo:[],priority:"medium",allDay:!0,color:"#DBEAFE",isExpectedPayment:!0,description:` (10%): ${Math.round(j*.1).toLocaleString()}`}),E}):[],v=[...g,...m,...N],b=(P=>{const q=new Map;P.forEach(R=>{if(R.isASVisit||R.isExpectedPayment){const E=`single_${R.id}`;q.set(E,[R])}else{const E=R.start.toISOString().split("T")[0],C=[...R.assignedTo].sort().join(","),O=`${E}_${R.projectName}_${C}`;q.has(O)||q.set(O,[]),q.get(O).push(R)}});const j=[];return q.forEach(R=>{if(R.length===1)j.push(R[0]);else{const E=R[0],C=R.map(we=>we.originalTitle||we.title),O=[...new Set(C)],J=R.filter(we=>we.time&&we.time!=="-").map(we=>we.time),te=J.length>0?` - ${J.join(", ")}`:"",se=R.map(we=>{const Ee=we.originalTitle||we.title;return Ee.startsWith(E.projectName+" - ")?Ee.substring(E.projectName.length+3):Ee}),fe=[...new Set(se)],ke={...E,id:R[0].id,title:`${fe.join(", ")}${te}`,originalTitle:O.join(", "),description:R.map(we=>we.description||we.originalTitle||we.title).join(`
`),assignedTo:[...new Set(R.flatMap(we=>we.assignedTo))],mergedEventIds:R.map(we=>we.id)};j.push(ke)}}),j.sort((R,E)=>R.start.getTime()-E.start.getTime())})(v),[x,S]=w.useState("month"),[k,_]=w.useState(new Date),[A,M]=w.useState(!1),[$,V]=w.useState(null),[H,Y]=w.useState(null),[K,ce]=w.useState("all"),[ee,de]=w.useState(window.innerWidth<768?new Date:null),Z=K==="all"?b:b.filter(P=>P.projectName===K);w.useEffect(()=>{const P=()=>{document.querySelectorAll(".rbc-show-more, .rbc-button-link").forEach(O=>{O.style.display="none",O.style.visibility="hidden",O.style.pointerEvents="none"}),document.querySelectorAll('.rbc-overlay, .rbc-overlay-header, .rbc-popup, [class*="rbc-overlay"]').forEach(O=>{O.style.display="none",O.style.visibility="hidden",O.style.opacity="0",O.style.pointerEvents="none",O.style.position="absolute",O.style.left="-9999px",O.style.top="-9999px",O.style.zIndex="-1"})};P();const q=new MutationObserver(P),j=document.querySelector(".rbc-calendar");j&&q.observe(j,{childList:!0,subtree:!0});const R=new MutationObserver(P);return R.observe(document.body,{childList:!0,subtree:!0}),()=>{q.disconnect(),R.disconnect()}},[x,k]);const[U,oe]=w.useState({date:null,projectId:"",title:""}),G=F.useRef(!1),W=F.useRef(null),D=P=>{G.current=!0,W.current&&clearTimeout(W.current);const q={...P,title:P.originalTitle||P.title};Y(null),V(q),M(!0),W.current=setTimeout(()=>{G.current=!1,W.current=null},1500)},T=P=>{if(G.current)return;const q=window.innerWidth,j=q<768,R=q>=768&&q<1024;if(j){if(P.start){de(P.start);const C=document.querySelector(".md\\:hidden.mt-3.bg-white");C&&C.scrollIntoView({behavior:"smooth",block:"nearest"})}return}const E=P.action==="click"||P.action==="select";R&&!E||j||(Y(P),V(null),M(!0))},z=async()=>{if(!U.projectId||!U.title.trim()){alert("  ");return}const P=a.find(q=>q.id===U.projectId);if(!(!P||!U.date))try{await r({id:Date.now().toString(),title:U.title,start:U.date,end:U.date,type:"other",project:P.name,location:"",attendees:[],description:""}),oe({date:null,projectId:"",title:""}),de(null),Q.success(" ")}catch(q){console.error("Failed to add schedule:",q),Q.error("  ")}},ne=P=>{let q=P.color||"#E0E7FF",j="#1f2937";if(P.isASVisit)q="#E8F5E9",j="#1f2937";else{const R=P.assignedTo&&P.assignedTo.includes("HV LAB"),E=P.assignedTo&&P.assignedTo.includes("")&&f&&["",""].includes(f),C=P.assignedTo&&P.assignedTo.includes("")&&f&&["","",""].includes(f);P.assignedTo&&P.assignedTo.includes((d==null?void 0:d.name)||"")||R||E||C?(q="#FEF3C7",j="#1f2937"):P.color||(q="#e8e2ea")}return{style:{backgroundColor:q,"--event-bg-color":q,borderRadius:"6px",color:j,border:"none",display:"block",fontSize:"0.8125rem",padding:"4px 8px",fontWeight:"500",boxShadow:"0 1px 2px rgba(0,0,0,0.05)",overflow:"hidden"}}},he=F.useCallback(P=>{const q=pe(P).format("YYYY-MM-DD"),j=!!Ul[q],R=ee&&pe(P).isSame(ee,"day");let E="";return R&&(E+="selected-date "),j&&(E+="holiday-date "),{className:E.trim(),style:{}}},[ee]),[ue,B]=w.useState(window.innerWidth<768);w.useEffect(()=>{const P=()=>{B(window.innerWidth<768)};return window.addEventListener("resize",P),()=>window.removeEventListener("resize",P)},[]),w.useEffect(()=>{const P=()=>{const q=ee||new Date;Y({start:q,end:q}),V(null),M(!0)};return window.addEventListener("headerAddButtonClick",P),()=>window.removeEventListener("headerAddButtonClick",P)},[ee]);const le=F.useCallback(({date:P,label:q})=>o.jsx(tte,{date:P,label:q,filteredEvents:Z,selectedDate:ee,user:d,isMobileView:ue}),[Z,ee,d,ue]),Se=F.useCallback(({event:P})=>o.jsx(rte,{event:P,user:d}),[d]),je=({onNavigate:P})=>{const[q,j]=F.useState(!1),[R,E]=F.useState(pe(k).year()),[C,O]=F.useState(pe(k).month()),J=window.innerWidth<768,te=()=>{E(pe(k).year()),O(pe(k).month()),j(!0)},se=()=>{_(pe().year(R).month(C).toDate()),j(!1)};return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:`flex flex-col bg-white border-b border-gray-200 ${J?"px-2 py-1":"px-3 md:px-5 py-2"}`,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx("button",{onClick:()=>P("PREV"),className:"px-2 py-1.5 text-2xl md:text-3xl text-gray-700 hover:bg-gray-100 rounded-lg transition-colors font-bold",children:""}),o.jsx("div",{className:"text-base md:text-lg font-bold text-gray-900 hover:bg-gray-50 px-2 md:px-3 py-1 rounded-lg transition-colors cursor-pointer",onClick:te,children:o.jsx("span",{children:pe(k).format("YYYY MM")})}),o.jsx("button",{onClick:()=>P("NEXT"),className:"px-2 py-1.5 text-2xl md:text-3xl text-gray-700 hover:bg-gray-100 rounded-lg transition-colors font-bold",children:""})]}),o.jsxs("select",{className:"px-3 md:px-4 py-1.5 md:py-2 bg-white text-gray-700 rounded-lg text-xs md:text-sm font-medium focus:outline-none focus:ring-2 focus:ring-gray-300 border border-gray-300",value:K,onChange:fe=>ce(fe.target.value),style:{appearance:"none",backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%236b7280'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 0.5rem center",backgroundSize:"1.25rem",paddingRight:"2.5rem"},children:[o.jsx("option",{value:"all",children:" "}),a.filter(fe=>fe.status!=="completed").map(fe=>o.jsx("option",{value:fe.name,children:fe.name},fe.id))]})]})}),q&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-lg w-full max-w-sm shadow-xl",children:[o.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[o.jsx("h3",{className:"text-lg font-bold text-gray-900",children:" "}),o.jsx("button",{onClick:()=>j(!1),className:"p-1 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),o.jsx("div",{className:"p-4 border-b border-gray-200",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("button",{onClick:()=>E(R-1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),o.jsxs("span",{className:"text-xl font-bold text-gray-900",children:[R,""]}),o.jsx("button",{onClick:()=>E(R+1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})}),o.jsx("div",{className:"p-4",children:o.jsx("div",{className:"grid grid-cols-3 gap-2",children:[1,2,3,4,5,6,7,8,9,10,11,12].map(fe=>{const ke=C===fe-1,we=pe().year()===R&&pe().month()===fe-1;return o.jsxs("button",{onClick:()=>O(fe-1),className:`py-3 px-4 rounded-lg text-sm font-medium transition-colors ${ke?"bg-gray-900 text-white":we?"bg-gray-100 text-gray-900 border-2 border-gray-900":"bg-gray-50 text-gray-700 hover:bg-gray-100"}`,children:[fe,""]},fe)})})}),o.jsxs("div",{className:"p-4 border-t border-gray-200 flex gap-2",children:[o.jsx("button",{onClick:()=>{_(new Date),j(!1)},className:"flex-1 py-2 px-4 bg-gray-100 text-gray-900 rounded-lg text-sm font-medium hover:bg-gray-200 transition-colors",children:""}),o.jsx("button",{onClick:se,className:"flex-1 py-2 px-4 bg-gray-900 text-white rounded-lg text-sm font-medium hover:bg-gray-800 transition-colors",children:""})]})]})})]})},Re=()=>null,L=w.useMemo(()=>({toolbar:je,event:Se,month:{dateHeader:le,showMore:Re}}),[le,Se]),ae=F.useMemo(()=>{if(!ee)return[];const q=[...Z.filter(j=>pe(j.start).isSame(ee,"day"))].sort((j,R)=>{const E=j.assignedTo&&j.assignedTo.includes("HV LAB"),C=j.assignedTo&&j.assignedTo.includes("")&&f&&["",""].includes(f),O=j.assignedTo&&j.assignedTo.includes("")&&f&&["","",""].includes(f),J=j.assignedTo&&f&&j.assignedTo.includes(f)||j.assignedTo&&(d==null?void 0:d.name)&&j.assignedTo.includes(d.name)||E||C||O,te=R.assignedTo&&R.assignedTo.includes("HV LAB"),se=R.assignedTo&&R.assignedTo.includes("")&&f&&["",""].includes(f),fe=R.assignedTo&&R.assignedTo.includes("")&&f&&["","",""].includes(f),ke=R.assignedTo&&f&&R.assignedTo.includes(f)||R.assignedTo&&(d==null?void 0:d.name)&&R.assignedTo.includes(d.name)||te||se||fe;return J&&!ke?-1:!J&&ke?1:new Date(j.start).getTime()-new Date(R.start).getTime()});return console.log("Sorted events:",q.map(j=>({title:j.title,assignedTo:j.assignedTo,user:d==null?void 0:d.name,userShort:f}))),q},[ee,Z,d,f]);return w.useEffect(()=>{const q=setTimeout(()=>{const j=ue?document.querySelectorAll(".rbc-month-view td.rbc-date-cell"):document.querySelectorAll(".rbc-date-cell"),R=document.querySelectorAll(".rbc-month-row"),E=[];R.forEach((Ee,rt)=>{const We=Ee.querySelectorAll(".rbc-date-cell");let Xe=0;We.forEach(Ke=>{const ct=Ke.querySelector("button");let Je=ct==null?void 0:ct.textContent;if(!Je){const Jt=Ke.querySelector("span");Je=Jt==null?void 0:Jt.textContent}if(Je&&!isNaN(parseInt(Je))){const Jt=pe(k).date(parseInt(Je)),Lr=Z.filter(I=>pe(I.start).isSame(Jt,"day"));Xe=Math.max(Xe,Lr.length)}}),E.push(Xe)});const C=100,O=18,J=25,te=Math.floor((C-J)/O),se=E.length,fe=C*se,ke=E.map(Ee=>Ee<=te?C:J+Ee*O+10),we=ke.reduce((Ee,rt)=>Ee+rt,0);if(we>fe){const Ee=ke.map((Xe,Ke)=>({index:Ke,height:Xe,overflow:Xe>C})),rt=Ee.filter(Xe=>Xe.overflow).reduce((Xe,Ke)=>Xe+(Ke.height-C),0),We=Ee.filter(Xe=>!Xe.overflow);if(We.length>0){const Xe=fe-rt-We.length*C,Ke=Math.max(50,C+Xe/We.length);R.forEach((ct,Je)=>{const Lr=ke[Je]>C?ke[Je]:Ke;ct.style.height=`${Lr}px`,ct.style.minHeight=`${Lr}px`})}else{const Xe=fe/we;R.forEach((Ke,ct)=>{const Je=Math.max(80,ke[ct]*Xe);Ke.style.height=`${Je}px`,Ke.style.minHeight=`${Je}px`})}}else{const Ee=ke.reduce((Ke,ct)=>Ke+(ct>C?ct:0),0),rt=ke.filter(Ke=>Ke<=C).length,We=fe-Ee,Xe=rt>0?We/rt:C;R.forEach((Ke,ct)=>{const Je=ke[ct]>C?ke[ct]:Xe;Ke.style.height=`${Je}px`,Ke.style.minHeight=`${Je}px`})}j.forEach(Ee=>{const rt=Ee.querySelector("button");let We=rt==null?void 0:rt.textContent;if(!We){const Je=Ee.querySelector("span");We=Je==null?void 0:Je.textContent}if(!We||isNaN(parseInt(We)))return;const Xe=pe(k).date(parseInt(We)),Ke=Z.filter(Je=>pe(Je.start).isSame(Xe,"day"));Ke.length>0?Ee.setAttribute("data-event-count",Ke.length.toString()):Ee.removeAttribute("data-event-count");const ct=Xe.clone().toDate();if(ee&&pe(ct).isSame(ee,"day")?Ee.classList.add("selected-date"):Ee.classList.remove("selected-date"),ue){const Je=Ee,Jt=Je._mobileClickHandler;Jt&&Ee.removeEventListener("click",Jt);const Lr=I=>{if(I.target.closest(".rbc-event"))return;const me=Xe.clone().toDate();de(me);const xe=document.querySelector(".md\\:hidden.mt-3.bg-white");xe&&xe.scrollIntoView({behavior:"smooth",block:"nearest"})};Je._mobileClickHandler=Lr,Ee.addEventListener("click",Lr,!0),Ee.style.cursor="pointer",Ee.style.touchAction="manipulation"}})},200);return()=>{clearTimeout(q),ue&&document.querySelectorAll(".rbc-month-view td.rbc-date-cell").forEach(R=>{const E=R,C=E._mobileClickHandler;C&&(R.removeEventListener("click",C),delete E._mobileClickHandler)})}},[Z,k,ue,ee]),o.jsxs("div",{className:"space-y-3 md:space-y-2",children:[U.date&&o.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-3 md:p-4 shadow-sm",children:o.jsxs("div",{className:"flex flex-col md:flex-row items-stretch md:items-center gap-2 md:gap-3",children:[o.jsx("div",{className:"text-xs md:text-sm font-semibold text-gray-900 md:min-w-[80px]",children:pe(U.date).format("MM DD")}),o.jsx("select",{value:U.projectId,onChange:P=>oe({...U,projectId:P.target.value}),className:"px-3 md:px-4 py-2 border border-gray-300 rounded-lg text-xs md:text-sm focus:outline-none focus:ring-2 focus:ring-gray-500",children:a.filter(P=>P.status!=="completed").map(P=>o.jsx("option",{value:P.id,children:P.name},P.id))}),o.jsx("input",{type:"text",value:U.title,onChange:P=>oe({...U,title:P.target.value}),onKeyPress:P=>{P.key==="Enter"&&z()},placeholder:"  ...",className:"flex-1 px-3 md:px-4 py-2 border border-gray-300 rounded-lg text-xs md:text-sm focus:outline-none focus:ring-2 focus:ring-gray-500",autoFocus:!0}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:z,className:"flex-1 md:flex-none px-4 md:px-5 py-2 bg-gray-900 text-white text-xs md:text-sm font-medium rounded-lg hover:bg-gray-800 transition-colors",children:""}),o.jsx("button",{onClick:()=>{oe({date:null,projectId:"",title:""}),de(null)},className:"flex-1 md:flex-none px-4 md:px-5 py-2 bg-white border border-gray-300 text-gray-700 text-xs md:text-sm font-medium rounded-lg hover:bg-gray-50 transition-colors",children:""})]})]})}),o.jsxs("div",{className:"flex flex-col md:block",children:[o.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden shadow-sm calendar-container",style:{paddingBottom:0},children:o.jsx(qQ,{localizer:ete,events:Z,startAccessor:"start",endAccessor:"end",view:x,onView:S,date:k,onNavigate:_,onSelectEvent:D,onSelectSlot:T,selectable:!0,longPressThreshold:0,eventPropGetter:ne,dayPropGetter:he,components:L,popup:!1,doShowMoreDrillDown:!1,onShowMore:()=>{},showAllEvents:!0,messages:{today:"",previous:"",next:"",month:"",week:"",day:"",agenda:"",date:"",time:"",event:"",noEventsInRange:"   ",showMore:P=>`+${P} `}},`calendar-${(ee==null?void 0:ee.getTime())||"no-selection"}`)}),ee&&o.jsxs("div",{className:"md:hidden mt-3 bg-white border border-gray-200 rounded-lg overflow-hidden shadow-sm",children:[o.jsxs("div",{className:"flex items-center justify-between p-3 border-b border-gray-200 bg-gray-50",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("p",{className:"text-sm font-semibold text-gray-900",children:pe(ee).format("MM DD dddd")}),Ul[pe(ee).format("YYYY-MM-DD")]&&o.jsx("span",{className:"text-xs font-medium px-2 py-0.5 rounded-full bg-red-50 text-red-600",children:Ul[pe(ee).format("YYYY-MM-DD")]})]}),o.jsx("button",{onClick:()=>de(null),className:"p-1 hover:bg-gray-200 rounded-full transition-colors",children:o.jsx("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),o.jsx("div",{className:"max-h-[35vh] overflow-y-auto",children:ae.length===0?o.jsx("div",{className:"p-4 text-center",children:o.jsx("p",{className:"text-sm text-gray-500",children:" "})}):o.jsx("div",{className:"divide-y divide-gray-100",children:ae.map(P=>{const q=P.assignedTo&&P.assignedTo.includes("HV LAB"),j=P.assignedTo&&P.assignedTo.includes("")&&f&&["",""].includes(f),R=P.assignedTo&&P.assignedTo.includes("")&&f&&["","",""].includes(f),C=P.assignedTo&&(P.assignedTo.includes((d==null?void 0:d.name)||"")||f&&P.assignedTo.includes(f))||q||j||R,O=!P.color&&!C;return o.jsx("div",{onClick:()=>{const J={...P,title:P.originalTitle||P.title};D(J)},className:`p-3 transition-colors cursor-pointer ${C?"bg-yellow-50 hover:bg-yellow-100 active:bg-yellow-200":O?"hover:bg-purple-50 active:bg-purple-100":"hover:bg-gray-50 active:bg-gray-100"}`,style:O?{backgroundColor:"#f3f0f5"}:void 0,children:o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx("div",{className:"w-1 h-full rounded-full flex-shrink-0",style:{backgroundColor:C?"#FEF3C7":P.color||"#e8e2ea",minHeight:"28px"}}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-sm font-semibold text-gray-900 truncate",children:P.title}),P.projectName&&o.jsx("p",{className:"text-xs text-gray-600 mt-0.5",children:P.projectName}),P.assignedTo&&P.assignedTo.length>0&&o.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:["","",""].every(se=>P.assignedTo.includes(se))?"":P.assignedTo.join(", ")})]}),o.jsx("svg",{className:"w-4 h-4 text-gray-400 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})},P.id)})})})]})]}),A&&o.jsx(oD,{event:$,slotInfo:H,defaultProjectName:K!=="all"?K:void 0,onClose:()=>{M(!1),V(null),Y(null)},onSave:async P=>{console.log(" Schedule.tsx onSave called with newEvent:",P);try{if($)if($.id.startsWith("payment-")){const q=$.id.split("-"),j=q[1],R=q[2],E=c.find(C=>C.id===j);if(E){const C={...E.expectedPaymentDates};C[R]=P.start,await u(j,{expectedPaymentDates:C}),Q.success("  ")}}else{console.log(" Updating schedule with projectId:",P.projectId,"projectName:",P.projectName);let q=P.title;const j=/ - (|) \d{1,2}( \d{1,2})?$/;if(q=q.replace(j,""),$.mergedEventIds&&$.mergedEventIds.length>0){console.log(" Updating merged schedules:",$.mergedEventIds);const R=($.originalTitle||$.title).split(", "),E=q.split(", ");for(let C=0;C<$.mergedEventIds.length;C++){const O=$.mergedEventIds[C],J=E[C]||R[C]||q;await n(O,{title:J.trim(),start:P.start,end:P.end,type:"other",project:P.projectId||P.projectName,location:"",attendees:P.assignedTo||[],description:P.description,time:P.time})}Q.success(`${$.mergedEventIds.length}  `)}else await n($.id,{title:q,start:P.start,end:P.end,type:"other",project:P.projectId||P.projectName,location:"",attendees:P.assignedTo||[],description:P.description,time:P.time}),Q.success(" ");await t()}else console.log(" Adding schedule with projectId:",P.projectId,"projectName:",P.projectName),await r({id:Date.now().toString(),title:P.title,start:P.start,end:P.end,type:"other",project:P.projectId||P.projectName,location:"",attendees:P.assignedTo||[],description:P.description,time:P.time}),Q.success(" ");M(!1)}catch(q){console.error("Failed to save schedule:",q),Q.error("  ")}},onDelete:async P=>{try{if(P.startsWith("payment-")){const q=P.split("-"),j=q[1],R=q[2],E=c.find(C=>C.id===j);if(E){const C={...E.expectedPaymentDates};delete C[R],await u(j,{expectedPaymentDates:C}),Q.success("  ")}}else if(P.startsWith("as-")){const q=P.replace("as-","");await l(q,{scheduledVisitDate:null,scheduledVisitTime:null}),Q.success("AS   ")}else{const q=b.find(j=>j.id===P);if(q!=null&&q.mergedEventIds&&q.mergedEventIds.length>0){console.log("Deleting merged schedules:",q.mergedEventIds);for(const j of q.mergedEventIds)await s(j);Q.success(`${q.mergedEventIds.length}  `)}else await s(P),Q.success(" ")}M(!1)}catch(q){console.error("Failed to delete schedule:",q),Q.error("  ")}}})]})},A1=["","","","","",""],ste=({request:e,onClose:t,onSave:r})=>{const{register:n,handleSubmit:s,setValue:a,formState:{errors:i}}=$i(),{projects:l}=dn(),[c,u]=w.useState([]),[d,f]=w.useState(""),[h,y]=w.useState(""),[g,m]=w.useState(9),[N,v]=w.useState(0),p=l.filter(_=>_.status==="completed");w.useEffect(()=>{if(e){if(a("project",e.project),a("client",e.client),a("siteAddress",e.siteAddress),a("entrancePassword",e.entrancePassword),a("description",e.description),e.requestDate&&a("requestDate",e.requestDate.toISOString().split("T")[0]),e.scheduledVisitDate&&a("scheduledVisitDate",e.scheduledVisitDate.toISOString().split("T")[0]),e.scheduledVisitTime){const[_,A]=e.scheduledVisitTime.split(":"),M=parseInt(_,10),$=parseInt(A,10);M>=12?(y(""),m(M===12?12:M-12)):(y(""),m(M===0?12:M)),v($)}u(e.assignedTo||[])}else u([]),y(""),m(9),v(0)},[e,a]);const b=_=>{u(A=>A.includes(_)?A.filter(M=>M!==_):[...A,_])},x=()=>{d.trim()&&!c.includes(d.trim())&&(u(_=>[..._,d.trim()]),f(""))},S=_=>{u(A=>A.filter(M=>M!==_))},k=_=>{let A=g;h===""&&g!==12?A=g+12:h===""&&g===12&&(A=0);const M=`${A.toString().padStart(2,"0")}:${N.toString().padStart(2,"0")}`,$={..._,requestDate:new Date(_.requestDate),scheduledVisitDate:_.scheduledVisitDate?new Date(_.scheduledVisitDate):void 0,scheduledVisitTime:M,assignedTo:c};r($)};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b sticky top-0 bg-white z-10",children:[o.jsx("h2",{className:"text-xl font-semibold",children:e?"AS  ":"AS  "}),o.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx(ft,{className:"h-5 w-5"})})]}),o.jsxs("form",{onSubmit:s(k),className:"p-6 space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" * ( )"}),o.jsxs("select",{...n("project",{required:" "}),className:"input",onChange:_=>{const A=p.find(M=>M.name===_.target.value);A&&(a("client",A.client),a("siteAddress",A.location),a("entrancePassword",A.entrancePassword||""))},children:[o.jsx("option",{value:"",children:""}),p.map(_=>o.jsx("option",{value:_.name,children:_.name},_.id))]}),i.project&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(i.project.message)}),p.length===0&&o.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"  "})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"}),o.jsx("input",{...n("client",{required:" "}),type:"text",className:"input"}),i.client&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(i.client.message)})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"}),o.jsx("input",{...n("siteAddress",{required:" "}),type:"text",className:"input"}),i.siteAddress&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(i.siteAddress.message)})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),o.jsx("input",{...n("entrancePassword"),type:"text",className:"input"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),o.jsx("textarea",{...n("description"),rows:3,className:"input"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" (  )"}),o.jsxs("div",{className:"flex flex-wrap gap-1.5 mb-2",children:[A1.map(_=>o.jsx("button",{type:"button",onClick:()=>b(_),className:`px-2.5 py-1.5 rounded border transition-colors text-sm ${c.includes(_)?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:_},_)),c.filter(_=>!A1.includes(_)).map(_=>o.jsxs("button",{type:"button",onClick:()=>S(_),className:"px-2.5 py-1.5 rounded border transition-colors text-sm bg-gray-900 text-white border-gray-900 hover:bg-gray-800",children:[_," "]},_))]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"text",value:d,onChange:_=>f(_.target.value),onKeyPress:_=>{_.key==="Enter"&&(_.preventDefault(),x())},className:"flex-1 px-3 py-1.5 border border-gray-300 rounded-lg text-xs focus:outline-none focus:ring-2 focus:ring-gray-500"}),o.jsx("button",{type:"button",onClick:x,className:"px-3 py-1.5 bg-gray-100 text-gray-700 rounded-lg text-xs font-medium hover:bg-gray-200 transition-colors",children:""})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),o.jsx("input",{...n("requestDate"),type:"date",className:"input"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),o.jsx("input",{...n("scheduledVisitDate"),type:"date",className:"input"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("div",{className:"flex gap-1",children:[o.jsx("button",{type:"button",onClick:()=>y(""),className:`px-3 py-1.5 text-xs rounded border transition-colors ${h===""?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:""}),o.jsx("button",{type:"button",onClick:()=>y(""),className:`px-3 py-1.5 text-xs rounded border transition-colors ${h===""?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:""})]}),o.jsx("select",{value:g,onChange:_=>m(parseInt(_.target.value)),className:"px-2 py-1.5 text-sm border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-gray-500",children:[12,1,2,3,4,5,6,7,8,9,10,11].map(_=>o.jsxs("option",{value:_,children:[_,""]},_))}),o.jsx("select",{value:N,onChange:_=>v(parseInt(_.target.value)),className:"px-2 py-1.5 text-sm border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-gray-500",children:[0,10,20,30,40,50].map(_=>o.jsxs("option",{value:_,children:[_,""]},_))})]})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[o.jsx("button",{type:"button",onClick:t,className:"btn btn-outline",children:""}),o.jsx("button",{type:"submit",className:"btn btn-primary",children:e?"":""})]})]})]})})},M1=e=>{if(!e)return"";const[t]=e.split(":"),r=parseInt(t,10),n=r>=12?"":"",s=r>12?r-12:r===0?12:r;return`${n} ${s}`},ate=()=>{const{asRequests:e,loadASRequestsFromAPI:t,addASRequestToAPI:r,updateASRequestInAPI:n,deleteASRequestFromAPI:s}=dn(),a=e,[i,l]=w.useState(""),[c,u]=w.useState(!1),[d,f]=w.useState(null),[h,y]=w.useState("active"),[g,m]=w.useState(null),N=w.useRef(null),[v,p]=w.useState(null),[b,x]=w.useState(!1),[S,k]=w.useState(!1),[_,A]=w.useState("");w.useEffect(()=>{t().catch(D=>{console.error("Failed to load AS requests:",D),Q.error("AS    ")})},[t]),w.useEffect(()=>{const D=()=>{M()};return window.addEventListener("headerAddButtonClick",D),()=>window.removeEventListener("headerAddButtonClick",D)},[]),w.useEffect(()=>{var D,T;g&&N.current&&((T=(D=N.current).showPicker)==null||T.call(D))},[g]);const M=()=>{f(null),u(!0)},$=async D=>{try{if(d)await n(d.id,D),Q.success("AS  ");else{const T={id:"",...D};await r(T),Q.success("AS  ")}u(!1)}catch(T){console.error("Failed to save AS request:",T),Q.error("AS   ")}},V=D=>{f(D),u(!0)},H=async(D,T)=>{if(window.confirm(`"${T}" AS  ?

    .`))try{await s(D),Q.success("AS  ")}catch(z){console.error("Failed to delete AS request:",z),Q.error("AS   ")}},Y=(D,T)=>{m({requestId:D,field:T})},K=async D=>{if(!g)return;const T=new Date(D);if(!isNaN(T.getTime()))try{await n(g.requestId,{[g.field]:T}),m(null)}catch(z){console.error("Failed to update date:",z),Q.error("  "),m(null)}},ce=w.useCallback(D=>{var z;const T=(z=D.clipboardData)==null?void 0:z.items;if(T){for(let ne=0;ne<T.length;ne++)if(T[ne].type.indexOf("image")!==-1){D.preventDefault();const he=T[ne].getAsFile();if(he){const ue=new FileReader;ue.onload=B=>{var je,Re;const le=(je=B.target)==null?void 0:je.result,Se=v||((Re=D.target.closest("[data-request-id]"))==null?void 0:Re.getAttribute("data-request-id"));if(Se){const L=a.find(ae=>ae.id===Se);if(L){const ae=[...L.images||[],le];n(Se,{images:ae}),Q.success(" ")}}else Q.error("AS     ")},ue.readAsDataURL(he)}}}},[v,a,n]);w.useEffect(()=>(document.addEventListener("paste",ce),()=>document.removeEventListener("paste",ce)),[ce]);const ee=D=>{A(D),k(!0)},de=(D,T)=>{D.preventDefault(),D.stopPropagation(),T&&x(!0)},Z=D=>{D.preventDefault(),D.stopPropagation(),x(!1)},U=(D,T)=>{D.preventDefault(),D.stopPropagation(),x(!1);const z=Array.from(D.dataTransfer.files),ne=[],he=z.filter(ue=>ue.type.startsWith("image/"));if(he.length===0){Q.error("   ");return}he.forEach(ue=>{const B=new FileReader;B.onload=le=>{var je;const Se=(je=le.target)==null?void 0:je.result;if(ne.push(Se),ne.length===he.length){const Re=a.find(L=>L.id===T);if(Re){const L=[...Re.images||[],...ne];n(T,{images:L}),Q.success(`${ne.length}  `)}}},B.readAsDataURL(ue)})},oe=async(D,T)=>{try{const z={status:T};T==="completed"?z.completionDate=new Date:T==="pending"?z.completionDate=void 0:T==="revisit"&&(z.scheduledVisitDate=void 0,z.completionDate=void 0),await n(D,z);const ne=T==="completed"?"AS ":T==="revisit"?" ":"";Q.success(` "${ne}" `)}catch(z){console.error("Failed to update status:",z),Q.error("  ")}},G=D=>{const T={pending:{label:"",color:"bg-gray-100 text-gray-700 border-gray-300"},completed:{label:"AS ",color:"bg-green-100 text-green-700 border-green-300"},revisit:{label:"",color:"bg-orange-100 text-orange-700 border-orange-300"}},z=T[D]||T.pending;return o.jsx("span",{className:`px-2 py-1 text-xs font-medium border rounded ${z.color}`,children:z.label})},W=a.filter(D=>{const T=D.project.toLowerCase().includes(i.toLowerCase())||D.client.toLowerCase().includes(i.toLowerCase())||D.description.toLowerCase().includes(i.toLowerCase());return h==="completed"?T&&D.status==="completed":T&&D.status!=="completed"});return o.jsxs("div",{className:"space-y-3 md:space-y-4",children:[o.jsxs("div",{className:"border-b border-gray-200 flex items-center justify-between",children:[o.jsxs("nav",{className:"flex space-x-4 md:space-x-8",children:[o.jsxs("button",{onClick:()=>y("active"),className:`py-2 md:py-3 px-1 border-b-2 font-medium text-xs md:text-sm transition-colors whitespace-nowrap ${h==="active"?"border-gray-700 text-gray-700":"border-transparent text-gray-400 hover:text-gray-700 hover:border-gray-300"}`,children:["",o.jsx("span",{className:`ml-1 md:ml-2 py-0.5 px-1.5 md:px-2 rounded-full text-[10px] md:text-xs font-semibold ${h==="active"?"bg-gray-700 text-white":"bg-gray-200 text-gray-600"}`,children:a.filter(D=>D.status!=="completed").length})]}),o.jsxs("button",{onClick:()=>y("completed"),className:`py-2 md:py-3 px-1 border-b-2 font-medium text-xs md:text-sm transition-colors whitespace-nowrap ${h==="completed"?"border-gray-700 text-gray-700":"border-transparent text-gray-400 hover:text-gray-700 hover:border-gray-300"}`,children:["AS ",o.jsx("span",{className:`ml-1 md:ml-2 py-0.5 px-1.5 md:px-2 rounded-full text-[10px] md:text-xs font-semibold ${h==="completed"?"bg-gray-700 text-white":"bg-gray-200 text-gray-600"}`,children:a.filter(D=>D.status==="completed").length})]})]}),o.jsx("button",{onClick:M,className:"btn btn-primary px-4 py-2",children:"+AS "})]}),o.jsx("div",{children:o.jsx("input",{type:"text",placeholder:"...",value:i,onChange:D=>l(D.target.value),className:"w-full px-3 md:px-4 py-2 text-sm md:text-base border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-600 focus:border-transparent"})}),o.jsx("div",{className:"lg:hidden grid grid-cols-1 md:grid-cols-2 gap-3",children:W.map(D=>o.jsxs("div",{"data-request-id":D.id,className:"card p-3 md:p-4 hover:border-gray-400 transition-colors",onDragOver:T=>de(T,D.id),onDragLeave:Z,onDrop:T=>U(T,D.id),children:[o.jsxs("div",{className:"flex items-start justify-between mb-3",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"flex items-center gap-2 mb-1",children:G(D.status)}),o.jsx("h3",{className:"font-bold text-base text-gray-900",children:D.project}),o.jsxs("p",{className:"text-sm text-gray-600 mt-0.5",children:[D.client,""]})]}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx("button",{onClick:()=>V(D),className:"text-gray-600 hover:text-gray-700 p-1 -mt-1",children:o.jsx(fc,{className:"h-4 w-4"})}),o.jsx("button",{onClick:()=>H(D.id,D.project),className:"text-rose-600 hover:text-rose-700 p-1 -mt-1",children:o.jsx(rr,{className:"h-4 w-4"})})]})]}),o.jsxs("div",{className:"space-y-2 text-sm",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500",children:""}),o.jsx("p",{className:"text-gray-900 mt-0.5",children:D.siteAddress})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500",children:"AS "}),o.jsx("p",{className:"text-gray-900 mt-0.5",children:D.description})]}),D.assignedTo&&D.assignedTo.length>0&&o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500",children:""}),o.jsx("p",{className:"text-gray-900 mt-0.5",children:D.assignedTo.join(", ")})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-2 pt-2",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500 mb-1",children:""}),o.jsxs("div",{className:"relative inline-block",children:[(g==null?void 0:g.requestId)===D.id&&(g==null?void 0:g.field)==="requestDate"&&o.jsx("input",{ref:N,type:"date",defaultValue:Te(D.requestDate,"yyyy-MM-dd"),onChange:T=>K(T.target.value),onBlur:()=>m(null),className:"absolute left-0 top-0 w-auto h-auto opacity-0 z-50",style:{pointerEvents:"auto"}}),o.jsxs("button",{onClick:()=>Y(D.id,"requestDate"),className:"flex items-center space-x-1 text-xs text-gray-900 hover:text-gray-600 transition-colors",children:[o.jsx(fa,{className:"h-3 w-3"}),o.jsx("span",{children:Te(D.requestDate,"MM.dd (eee)",{locale:et})})]})]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500 mb-1",children:""}),o.jsxs("div",{className:"relative inline-block",children:[(g==null?void 0:g.requestId)===D.id&&(g==null?void 0:g.field)==="scheduledVisitDate"&&o.jsx("input",{ref:N,type:"date",defaultValue:D.scheduledVisitDate?Te(D.scheduledVisitDate,"yyyy-MM-dd"):"",onChange:T=>K(T.target.value),onBlur:()=>m(null),className:"absolute left-0 top-0 w-auto h-auto opacity-0 z-50",style:{pointerEvents:"auto"}}),o.jsxs("button",{onClick:()=>Y(D.id,"scheduledVisitDate"),className:"flex items-center space-x-1 text-xs text-gray-900 hover:text-gray-600 transition-colors",children:[o.jsx(fa,{className:"h-3 w-3"}),o.jsxs("span",{children:[D.scheduledVisitDate?Te(D.scheduledVisitDate,"MM.dd (eee)",{locale:et}):"",D.scheduledVisitTime&&` ${M1(D.scheduledVisitTime)}`]})]})]})]})]}),D.status!=="completed"&&o.jsxs("div",{className:"flex gap-2 mt-3 pt-3 border-t border-gray-100",children:[o.jsx("button",{onClick:()=>oe(D.id,"completed"),className:"flex-1 px-3 py-2 text-xs font-medium bg-blue-50 text-blue-700 rounded-lg hover:bg-blue-100 transition-colors",children:"AS "}),o.jsx("button",{onClick:()=>oe(D.id,"revisit"),className:"flex-1 px-3 py-2 text-xs font-medium bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",children:""})]}),D.status==="completed"&&o.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-100",children:[o.jsx("button",{onClick:()=>oe(D.id,"pending"),className:"w-full px-3 py-2 text-xs font-medium bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors mb-2",children:" "}),o.jsx("p",{className:"text-xs text-gray-500 text-center",children:D.completionDate&&`: ${Te(D.completionDate,"yyyy.MM.dd",{locale:et})}`})]}),D.images&&D.images.length>0&&o.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-100",children:[o.jsxs("p",{className:"text-xs text-gray-500 mb-2",children:["  (",D.images.length,")"]}),o.jsx("div",{className:"grid grid-cols-3 gap-2",children:D.images.map((T,z)=>o.jsx("img",{src:T,alt:`AS  ${z+1}`,className:"w-full h-20 object-cover rounded cursor-pointer hover:opacity-75",onClick:()=>ee(T)},z))})]})]})]},D.id))}),o.jsx("div",{className:"hidden lg:block bg-white border border-gray-200 rounded-lg overflow-hidden",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:""}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:""})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:W.map(D=>o.jsxs("tr",{"data-request-id":D.id,className:"hover:bg-gray-50",onDragOver:T=>de(T,D.id),onDragLeave:Z,onDrop:T=>U(T,D.id),children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:G(D.status)}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("p",{className:"font-medium text-gray-900",children:D.project})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("p",{className:"text-sm text-gray-900",children:D.client})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("p",{className:"text-sm text-gray-900",children:D.siteAddress})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("p",{className:"text-sm text-gray-900",children:D.description})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("p",{className:"text-sm text-gray-900",children:D.assignedTo&&D.assignedTo.length>0?D.assignedTo.join(", "):"-"})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("div",{className:"relative inline-block",children:[(g==null?void 0:g.requestId)===D.id&&(g==null?void 0:g.field)==="requestDate"&&o.jsx("input",{ref:N,type:"date",defaultValue:Te(D.requestDate,"yyyy-MM-dd"),onChange:T=>K(T.target.value),onBlur:()=>m(null),className:"absolute left-0 top-0 w-auto h-auto opacity-0 z-50",style:{pointerEvents:"auto"}}),o.jsxs("button",{onClick:()=>Y(D.id,"requestDate"),className:"flex items-center space-x-2 text-sm text-gray-900 hover:text-gray-600 transition-colors",children:[o.jsx(fa,{className:"h-4 w-4"}),o.jsx("span",{children:Te(D.requestDate,"yyyy.MM.dd (eee)",{locale:et})})]})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("div",{className:"relative inline-block",children:[(g==null?void 0:g.requestId)===D.id&&(g==null?void 0:g.field)==="scheduledVisitDate"&&o.jsx("input",{ref:N,type:"date",defaultValue:D.scheduledVisitDate?Te(D.scheduledVisitDate,"yyyy-MM-dd"):"",onChange:T=>K(T.target.value),onBlur:()=>m(null),className:"absolute left-0 top-0 w-auto h-auto opacity-0 z-50",style:{pointerEvents:"auto"}}),o.jsxs("button",{onClick:()=>Y(D.id,"scheduledVisitDate"),className:"flex items-center space-x-2 text-sm text-gray-900 hover:text-gray-600 transition-colors",children:[o.jsx(fa,{className:"h-4 w-4"}),o.jsxs("span",{children:[D.scheduledVisitDate?Te(D.scheduledVisitDate,"yyyy.MM.dd (eee)",{locale:et}):"-",D.scheduledVisitTime&&` ${M1(D.scheduledVisitTime)}`]})]})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("div",{className:"flex items-center justify-center",children:D.images&&D.images.length>0?o.jsxs("div",{className:"flex gap-1",children:[D.images.slice(0,3).map((T,z)=>o.jsx("img",{src:T,alt:` ${z+1}`,className:"w-8 h-8 object-cover rounded cursor-pointer hover:opacity-75",onClick:()=>ee(T)},z)),D.images.length>3&&o.jsxs("span",{className:"text-xs text-gray-500",children:["+",D.images.length-3]})]}):o.jsx("span",{className:"text-xs text-gray-400",children:"  "})})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[D.status!=="completed"?o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>oe(D.id,"completed"),className:"px-2 py-1 text-xs font-medium text-blue-700 bg-blue-50 hover:bg-blue-100 rounded transition-colors",children:""}),o.jsx("button",{onClick:()=>oe(D.id,"revisit"),className:"px-2 py-1 text-xs font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded transition-colors",children:""})]}):o.jsx("button",{onClick:()=>oe(D.id,"pending"),className:"px-2 py-1 text-xs font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded transition-colors",children:""}),o.jsx("button",{onClick:()=>V(D),className:"p-1.5 text-gray-600 hover:text-gray-700 hover:bg-gray-50 rounded transition-colors",title:"",children:o.jsx(fc,{className:"h-4 w-4"})}),o.jsx("button",{onClick:()=>H(D.id,D.project),className:"p-1.5 text-rose-600 hover:text-rose-700 hover:bg-rose-50 rounded transition-colors",title:"",children:o.jsx(rr,{className:"h-4 w-4"})})]})})]},D.id))})]})}),c&&o.jsx(ste,{request:d,onClose:()=>u(!1),onSave:$}),S&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-90",onClick:()=>k(!1),children:o.jsxs("div",{className:"relative max-w-[90vw] max-h-[90vh]",children:[o.jsx("button",{onClick:D=>{D.stopPropagation(),k(!1)},className:"absolute -top-10 right-0 text-white hover:text-gray-300 transition-colors",children:o.jsx(ft,{className:"h-8 w-8"})}),o.jsx("img",{src:_,alt:" ",className:"max-w-full max-h-[90vh] object-contain",onClick:D=>D.stopPropagation()})]})})]})},ote=({work:e,onClose:t,onSave:r})=>{const{register:n,handleSubmit:s,setValue:a,formState:{errors:i}}=$i(),{projects:l}=dn(),[c,u]=w.useState(!1),[d,f]=w.useState([]),[h,y]=w.useState([]);w.useEffect(()=>{if(e)a("project",e.project),a("description",e.description),a("amount",e.amount),a("date",e.date.toISOString().split("T")[0]),a("notes",e.notes||""),y(e.images||[]),f(e.images||[]);else{const S=new Date().toISOString().split("T")[0];a("date",S),y([]),f([])}},[e,a]);const g=w.useCallback(S=>{var _;const k=(_=S.clipboardData)==null?void 0:_.items;if(k){for(let A=0;A<k.length;A++)if(k[A].type.indexOf("image")!==-1){S.preventDefault();const M=k[A].getAsFile();if(M){const $=new FileReader;$.onload=V=>{var Y;const H=(Y=V.target)==null?void 0:Y.result;f(K=>[...K,H]),y(K=>[...K,H]),Q.success(" ")},$.readAsDataURL(M)}}}},[]);w.useEffect(()=>(document.addEventListener("paste",g),()=>document.removeEventListener("paste",g)),[g]);const m=S=>{S.preventDefault(),u(!0)},N=S=>{S.preventDefault(),u(!1)},v=S=>{S.preventDefault(),u(!1);const k=Array.from(S.dataTransfer.files);k.forEach(_=>{if(_.type.startsWith("image/")){const A=new FileReader;A.onload=M=>{var V;const $=(V=M.target)==null?void 0:V.result;f(H=>[...H,$]),y(H=>[...H,$])},A.readAsDataURL(_)}}),k.length>0&&Q.success(`${k.length}  `)},p=S=>{var _;const k=Array.from(((_=S.target)==null?void 0:_.files)||[]);k.forEach(A=>{if(A.type.startsWith("image/")){const M=new FileReader;M.onload=$=>{var H;const V=(H=$.target)==null?void 0:H.result;f(Y=>[...Y,V]),y(Y=>[...Y,V])},M.readAsDataURL(A)}}),k.length>0&&Q.success(`${k.length}  `)},b=S=>{f(k=>k.filter((_,A)=>A!==S)),y(k=>k.filter((_,A)=>A!==S)),Q.success(" ")},x=S=>{const k={...S,amount:Number(S.amount),date:new Date(S.date),images:h};r(k)};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b sticky top-0 bg-white z-10",children:[o.jsx("h2",{className:"text-xl font-semibold",children:e?" ":" "}),o.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx(ft,{className:"h-5 w-5"})})]}),o.jsxs("form",{onSubmit:s(x),className:"p-6 space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"}),o.jsxs("select",{...n("project",{required:" "}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",children:[o.jsx("option",{value:"",children:""}),l.map(S=>o.jsx("option",{value:S.name,children:S.name},S.id))]}),i.project&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(i.project.message)})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"}),o.jsx("textarea",{...n("description",{required:"  "}),rows:3,className:"input",placeholder:"    (:    )"}),i.description&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(i.description.message)})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" () *"}),o.jsx("input",{...n("amount",{required:" ",min:{value:0,message:" 0  "}}),type:"number",className:"input",placeholder:": 500000"}),i.amount&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(i.amount.message)})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"}),o.jsx("input",{...n("date",{required:" "}),type:"date",className:"input"}),i.date&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(i.date.message)})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),o.jsx("textarea",{...n("notes"),rows:2,className:"input",placeholder:"  ()"})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"  (Ctrl+V  )"}),o.jsx("div",{className:`border-2 border-dashed rounded-lg p-6 transition-colors ${c?"border-gray-500 bg-gray-50":"border-gray-300"}`,onDragOver:m,onDragLeave:N,onDrop:v,children:o.jsxs("div",{className:"text-center",children:[o.jsx(cv,{className:"mx-auto h-12 w-12 text-gray-400"}),o.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"    "}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:" Ctrl+V   "}),o.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:p,className:"hidden",id:"file-upload-additional"}),o.jsxs("label",{htmlFor:"file-upload-additional",className:"mt-4 inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 cursor-pointer",children:[o.jsx(dh,{className:"h-4 w-4 mr-2"})," "]})]})}),d.length>0&&o.jsx("div",{className:"mt-4 grid grid-cols-2 md:grid-cols-4 gap-4",children:d.map((S,k)=>o.jsxs("div",{className:"relative group",children:[o.jsx("img",{src:S,alt:` ${k+1}`,className:"w-full h-32 object-cover rounded-lg"}),o.jsx("button",{type:"button",onClick:()=>b(k),className:"absolute top-2 right-2 p-1 bg-red-500 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:o.jsx(rr,{className:"h-3 w-3"})})]},k))})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[o.jsx("button",{type:"button",onClick:t,className:"btn btn-outline",children:""}),o.jsx("button",{type:"submit",className:"btn btn-primary",children:e?"":""})]})]})]})})},Cl={getAllAdditionalWorks:async()=>(await Pe.get("/additional-works")).data,getAdditionalWorkById:async e=>(await Pe.get(`/additional-works/${e}`)).data,createAdditionalWork:async e=>{const t={project:e.project,description:e.description,amount:e.amount,work_date:e.date instanceof Date?e.date.toISOString().split("T")[0]:e.date,notes:e.notes||""};return console.log("[additionalWorkService.createAdditionalWork] Sending to backend:",t),(await Pe.post("/additional-works",t)).data},updateAdditionalWork:async(e,t)=>{const r={};return t.project!==void 0&&(r.project=t.project),t.description!==void 0&&(r.description=t.description),t.amount!==void 0&&(r.amount=t.amount),t.date!==void 0&&(r.work_date=t.date instanceof Date?t.date.toISOString().split("T")[0]:t.date),t.notes!==void 0&&(r.notes=t.notes),console.log("[additionalWorkService.updateAdditionalWork] Sending to backend:",r),(await Pe.put(`/additional-works/${e}`,r)).data},deleteAdditionalWork:async e=>{await Pe.delete(`/additional-works/${e}`)}},ite=()=>{const[e,t]=w.useState([]),[r,n]=w.useState(!1),[s,a]=w.useState(null),[i,l]=w.useState(""),[c,u]=w.useState(new Set);w.useEffect(()=>{d()},[]),w.useEffect(()=>{const b=()=>{f()};return window.addEventListener("headerAddButtonClick",b),()=>window.removeEventListener("headerAddButtonClick",b)},[]);const d=async()=>{try{const b=await Cl.getAllAdditionalWorks();t(b.map(x=>({id:x._id,project:x.project,description:x.description,amount:x.amount,date:new Date(x.date),notes:x.notes})))}catch(b){console.error("Failed to load additional works:",b),Q.error("   ")}},f=()=>{a(null),n(!0)},h=b=>{a(b),n(!0)},y=async(b,x)=>{if(window.confirm(`"${x}"  ?

    .`))try{await Cl.deleteAdditionalWork(b),await d(),Q.success(" ")}catch(S){console.error("Failed to delete additional work:",S),Q.error("  ")}},g=async b=>{try{s?(await Cl.updateAdditionalWork(s.id,b),Q.success(" ")):(await Cl.createAdditionalWork(b),Q.success(" ")),await d(),n(!1)}catch(x){console.error("Failed to save additional work:",x),Q.error("  ")}},m=e.filter(b=>{var S,k;return(((S=b.project)==null?void 0:S.toLowerCase())||"").includes(i.toLowerCase())||(((k=b.description)==null?void 0:k.toLowerCase())||"").includes(i.toLowerCase())}),N=m.reduce((b,x)=>{const S=b.find(k=>k.projectName===x.project);return S?(S.works.push(x),S.totalAmount+=x.amount):b.push({projectName:x.project,works:[x],totalAmount:x.amount}),b},[]);N.sort((b,x)=>b.projectName.localeCompare(x.projectName)),N.forEach(b=>{b.works.sort((x,S)=>S.date.getTime()-x.date.getTime())}),w.useEffect(()=>{const b=new Set(N.map(x=>x.projectName));u(b)},[m.length]);const v=b=>{const x=new Set(c);x.has(b)?x.delete(b):x.add(b),u(x)},p=N.reduce((b,x)=>b+x.totalAmount,0);return o.jsxs("div",{className:"space-y-3 md:space-y-4",children:[o.jsx("div",{className:"flex items-center justify-end",children:o.jsx("button",{onClick:f,className:"hidden lg:inline-flex btn btn-primary px-4 py-2",children:"+ "})}),o.jsx("div",{children:o.jsx("input",{type:"text",placeholder:"...",value:i,onChange:b=>l(b.target.value),className:"w-full px-3 md:px-4 py-2 text-sm md:text-base border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-600 focus:border-transparent"})}),N.length>0&&o.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4 md:p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm md:text-base text-gray-600",children:"  "}),o.jsxs("p",{className:"text-xl md:text-2xl font-bold text-gray-900 mt-1",children:[p.toLocaleString(),""]})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("p",{className:"text-sm text-gray-600",children:[N.length," "]}),o.jsxs("p",{className:"text-sm text-gray-600",children:[m.length,""]})]})]})}),o.jsxs("div",{className:"md:hidden space-y-4",children:[N.map(b=>o.jsxs("div",{className:"card overflow-hidden",children:[o.jsxs("button",{onClick:()=>v(b.projectName),className:"w-full p-4 flex items-center justify-between bg-gray-50 hover:bg-gray-100 transition-colors",children:[o.jsxs("div",{className:"flex-1 text-left",children:[o.jsx("h3",{className:"font-bold text-base text-gray-900",children:b.projectName}),o.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[b.works.length,"  ",b.totalAmount.toLocaleString(),""]})]}),c.has(b.projectName)?o.jsx(Sb,{className:"h-5 w-5 text-gray-600"}):o.jsx(jb,{className:"h-5 w-5 text-gray-600"})]}),c.has(b.projectName)&&o.jsx("div",{className:"divide-y divide-gray-200",children:b.works.map(x=>o.jsxs("div",{className:"p-3 hover:bg-gray-50 transition-colors",children:[o.jsxs("div",{className:"flex items-start justify-between mb-2",children:[o.jsx("p",{className:"text-sm text-gray-600",children:Te(x.date,"yyyy.MM.dd (eee)",{locale:et})}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx("button",{onClick:()=>h(x),className:"text-gray-600 hover:text-gray-700 p-1",children:o.jsx(fc,{className:"h-4 w-4"})}),o.jsx("button",{onClick:()=>y(x.id,x.project),className:"text-rose-600 hover:text-rose-700 p-1",children:o.jsx(rr,{className:"h-4 w-4"})})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500 mb-1",children:""}),o.jsx("p",{className:"text-sm text-gray-900",children:x.description})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500 mb-1",children:""}),o.jsxs("p",{className:"text-sm text-gray-900 font-medium",children:[x.amount.toLocaleString(),""]})]}),x.notes&&o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500 mb-1",children:""}),o.jsx("p",{className:"text-sm text-gray-900",children:x.notes})]})]})]},x.id))})]},b.projectName)),N.length===0&&o.jsx("div",{className:"text-center py-8 text-gray-500",children:" "})]}),o.jsxs("div",{className:"hidden md:grid md:grid-cols-3 gap-4",children:[N.map(b=>o.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:[o.jsxs("button",{onClick:()=>v(b.projectName),className:"w-full px-4 py-3 flex items-center justify-between bg-gray-50 hover:bg-gray-100 transition-colors",children:[o.jsx("h3",{className:"font-bold text-lg text-gray-900 truncate flex-1 text-left mr-3",children:b.projectName}),o.jsxs("div",{className:"flex items-center space-x-2 flex-shrink-0",children:[o.jsxs("p",{className:"text-base font-semibold text-gray-700",children:[b.works.length," ",b.totalAmount.toLocaleString(),""]}),c.has(b.projectName)?o.jsx(Sb,{className:"h-5 w-5 text-gray-600"}):o.jsx(jb,{className:"h-5 w-5 text-gray-600"})]})]}),c.has(b.projectName)&&o.jsx("div",{className:"divide-y divide-gray-200",children:b.works.map(x=>o.jsxs("div",{className:"p-4 hover:bg-gray-50 transition-colors",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("p",{className:"text-sm text-gray-600 flex-shrink-0",children:Te(x.date,"MM.dd (eee)",{locale:et})}),o.jsx("p",{className:"text-base text-gray-900 font-medium flex-1 truncate",children:x.description}),o.jsxs("p",{className:"text-base font-semibold text-gray-900 flex-shrink-0 mr-2",children:[x.amount.toLocaleString(),""]}),o.jsxs("div",{className:"flex items-center space-x-1 flex-shrink-0",children:[o.jsx("button",{onClick:()=>h(x),className:"text-gray-600 hover:text-gray-700 transition-colors p-1",children:o.jsx(fc,{className:"h-4 w-4"})}),o.jsx("button",{onClick:()=>y(x.id,x.project),className:"text-rose-600 hover:text-rose-700 transition-colors p-1",children:o.jsx(rr,{className:"h-4 w-4"})})]})]}),x.notes&&o.jsx("p",{className:"text-sm text-gray-600 mt-2",children:x.notes})]},x.id))})]},b.projectName)),N.length===0&&o.jsx("div",{className:"col-span-3 text-center py-8 text-gray-500 bg-white border border-gray-200 rounded-lg",children:" "})]}),r&&o.jsx(ote,{work:s,onClose:()=>n(!1),onSave:g})]})},lte=()=>{const{projects:e,constructionPayments:t,loadConstructionPaymentsFromAPI:r,addConstructionPaymentToAPI:n,updateConstructionPaymentInAPI:s,deleteConstructionPaymentFromAPI:a,executionRecords:i,payments:l}=dn(),[c,u]=w.useState(t),[d,f]=w.useState([]),[h,y]=w.useState(!1),[g,m]=w.useState({project:"",client:"",amount:"",date:Te(new Date,"yyyy-MM-dd"),clientSignature:"",totalContractAmount:0,previousAmount:0,remainingAmount:0,startDate:"",endDate:""});w.useEffect(()=>{console.log(" ConstructionPayment: Loading payments from API..."),r().then(()=>{console.log(" ConstructionPayment: Payments loaded successfully")}).catch(L=>{console.error(" ConstructionPayment: Failed to load construction payments:",L),Q.error("   ")})},[r]),w.useEffect(()=>{console.log(" ConstructionPayment: Loading additional works from API..."),Cl.getAllAdditionalWorks().then(L=>{console.log(" ConstructionPayment: Additional works loaded:",L),f(L.map(ae=>({_id:ae._id,project:ae.project,amount:ae.amount})))}).catch(L=>{console.error(" ConstructionPayment: Failed to load additional works:",L)})},[]),w.useEffect(()=>{const L=()=>{oe()};return window.addEventListener("headerAddButtonClick",L),()=>window.removeEventListener("headerAddButtonClick",L)},[]),w.useEffect(()=>{console.log(" ConstructionPayment: Syncing with dataStore"),console.log(" constructionPayments:",t),console.log(" projects:",e);const L=e.map(q=>q.name);console.log(" Valid project names:",L);const ae=t.filter(q=>L.includes(q.project));console.log(" Valid records after filtering:",ae);const P=ae.map(q=>({...q,vatType:q.vatType||"percentage",vatPercentage:q.vatPercentage??100,vatAmount:q.vatAmount??0,payments:q.payments.map(j=>{var R;return{...j,type:j.type||((R=j.types)==null?void 0:R[0])||""}})}));if(console.log(" Normalized records:",P),ae.length<t.length){const q=t.filter(j=>!L.includes(j.project));q.forEach(async j=>{try{await a(j.id)}catch(R){console.error("Failed to delete orphaned record:",R)}}),console.log("Removed orphaned construction payment records:",q.map(j=>`${j.project} (${j.id})`))}u(P)},[t,e,a]);const[N,v]=w.useState(""),[p,b]=w.useState(null),[x,S]=w.useState(!1),[k,_]=w.useState(!1),[A,M]=w.useState(null),[$,V]=w.useState("remaining"),[H,Y]=w.useState({projectId:"",totalAmount:0,vatType:"percentage",vatPercentage:100,vatAmount:0}),[K,ce]=w.useState({types:[],percentage:0,amount:0,date:"",method:"",notes:""}),ee={:10,:40,:40,:10,:0},de=L=>L.reduce((ae,P)=>ae+(ee[P]||0),0),Z=(L,ae)=>{const P=p?e.find(R=>R.name===p.project):null;if(!P||L.length===0||!P.startDate||!P.endDate)return"";const q=new Date(P.startDate),j=new Date(P.endDate);if(isNaN(q.getTime())||isNaN(j.getTime())||L.includes(""))return"";if(L.includes("")){const R=new Date(q);return R.setDate(R.getDate()-7),Te(R,"yyyy-MM-dd")}else if(L.includes("")){const R=q.getTime()+(j.getTime()-q.getTime())/2;return Te(new Date(R),"yyyy-MM-dd")}else if(L.includes("")||L.includes(""))return Te(j,"yyyy-MM-dd");return""},U=L=>{const ae=e.find(J=>J.name===L.project);if(!ae)return[];if(!ae.startDate||!ae.endDate)return[];const P=z(L),q=new Date(ae.startDate),j=new Date(ae.endDate);if(isNaN(q.getTime())||isNaN(j.getTime()))return[];const R=[];R.push({type:"",date:null,amount:Math.round(P*.1),percentage:10,status:"pending"});const E=new Date(q);E.setDate(E.getDate()-7),R.push({type:"",date:E,amount:Math.round(P*.4),percentage:40,status:E<=new Date?"overdue":"pending"});const C=q.getTime()+(j.getTime()-q.getTime())/2,O=new Date(C);return R.push({type:"",date:O,amount:Math.round(P*.4),percentage:40,status:O<=new Date?"overdue":"pending"}),R.push({type:"",date:j,amount:Math.round(P*.1),percentage:10,status:j<=new Date?"overdue":"pending"}),L.payments.forEach(J=>{var se;(((se=J.type)==null?void 0:se.split(", "))||[]).forEach(fe=>{const ke=R.find(we=>we.type===fe.trim());ke&&(ke.status="completed",ke.actualDate=J.date,ke.actualAmount=J.amount)})}),R},oe=()=>{S(!0)},G=async()=>{console.log(" handleSaveProject called"),console.log(" newProject:",H),console.log(" projects:",e);const L=e.find(ae=>ae.id===H.projectId||ae.id===parseInt(H.projectId)||ae.id.toString()===H.projectId.toString());if(console.log(" selectedProject:",L),console.log(" totalAmount:",H.totalAmount,"type:",typeof H.totalAmount),!L){alert(" ");return}if(H.totalAmount<=0){alert("   (0  )");return}try{const ae={id:"",project_id:L.id,project:L.name,client:L.client,totalAmount:H.totalAmount,vatType:H.vatType,vatPercentage:H.vatPercentage,vatAmount:H.vatAmount,payments:[]};console.log(" Sending to API:",ae),await n(ae),Q.success(" "),S(!1),Y({projectId:"",totalAmount:0,vatType:"percentage",vatPercentage:100,vatAmount:0})}catch(ae){console.error("Failed to add construction payment:",ae),Q.error("  ")}},W=()=>{M(null),ce({types:[],percentage:0,amount:0,date:"",method:"",notes:""}),_(!0)},D=L=>{const ae=p==null?void 0:p.payments[L];if(!ae)return;M(L);const P=ae.type?ae.type.split(",").map(q=>q.trim()):[];ce({types:P,percentage:de(P),amount:ae.amount,date:Te(ae.date,"yyyy-MM-dd"),method:ae.method,notes:ae.notes||""}),_(!0)},T=async()=>{if(!p||!K.date||K.amount<=0||K.types.length===0){alert("  ");return}try{let L;A!==null?L=p.payments.map((q,j)=>j===A?{type:K.types.join(", "),amount:K.amount,date:new Date(K.date),method:K.method,notes:K.notes}:q):L=[...p.payments,{type:K.types.join(", "),amount:K.amount,date:new Date(K.date),method:K.method,notes:K.notes}];const ae={...p,payments:L};await s(p.id,ae),Q.success(A!==null?" ":" ");const P=c.map(q=>q.id===p.id?ae:q);u(P),b(ae),_(!1),M(null),ce({types:[],percentage:0,amount:0,date:"",method:"",notes:""})}catch(L){console.error("Failed to save payment:",L),Q.error("  ")}},z=L=>{const ae=L.totalAmount;if(L.vatType==="amount")return ae+(L.vatAmount||0);{const P=ae*((L.vatPercentage??100)/100)*.1;return ae+P}},ne=L=>{const ae=je(L.project),P=L.totalAmount+ae;if(L.vatType==="amount")return P+(L.vatAmount||0);{const q=P*((L.vatPercentage??100)/100)*.1;return P+q}},he=L=>L.vatType==="amount"?L.vatAmount||0:L.totalAmount*((L.vatPercentage??100)/100)*.1,ue=L=>{if(!p)return 0;const ae=z(p);return Math.round(ae*L/100)},B=L=>L.payments.reduce((ae,P)=>ae+P.amount,0),le=L=>ne(L)-B(L),Se=L=>{const ae=i.filter(q=>q.project===L).reduce((q,j)=>q+(j.totalAmount||0),0),P=l.filter(q=>(q.status==="approved"||q.status==="completed")&&q.project===L).reduce((q,j)=>q+j.amount,0);return ae+P},je=L=>d.filter(ae=>ae.project===L).reduce((ae,P)=>ae+P.amount,0),Re=c.filter(L=>(L.project||"").toLowerCase().includes(N.toLowerCase())||(L.client||"").toLowerCase().includes(N.toLowerCase())).filter(L=>{if($==="all")return!0;const ae=le(L);return $==="completed"?ae===0:$==="remaining"?ae>0:!0});return o.jsxs("div",{className:"space-y-3 md:space-y-4",children:[o.jsxs("div",{className:"border-b border-gray-200 flex items-center justify-between",children:[o.jsx("nav",{className:"flex space-x-4 md:space-x-8 overflow-x-auto",children:[{id:"remaining",label:"",count:c.filter(L=>le(L)>0).length},{id:"completed",label:"",count:c.filter(L=>le(L)===0).length},{id:"all",label:"",count:c.length}].map(L=>o.jsxs("button",{onClick:()=>V(L.id),className:`py-3 md:py-4 px-1 border-b-2 font-medium text-xs md:text-sm transition-colors whitespace-nowrap ${$===L.id?"border-gray-700 text-gray-700":"border-transparent text-gray-400 hover:text-gray-700 hover:border-gray-300"}`,children:[L.label,o.jsx("span",{className:`ml-1 md:ml-2 py-0.5 px-1.5 md:px-2 rounded-full text-[10px] md:text-xs font-semibold ${$===L.id?"bg-gray-700 text-white":"bg-gray-200 text-gray-600"}`,children:L.count})]},L.id))}),o.jsx("button",{onClick:oe,className:"btn btn-primary px-4 py-2 whitespace-nowrap",children:"+"})]}),o.jsx("div",{children:o.jsx("input",{type:"text",placeholder:"   ...",value:N,onChange:L=>v(L.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-600 focus:border-transparent"})}),o.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:Re.map(L=>{const ae=B(L),P=le(L),q=z(L),j=ae/q*100;return o.jsxs("div",{className:"card hover:border-gray-400 transition-colors",children:[o.jsx("div",{className:"mb-4",children:o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("h3",{className:"font-bold text-lg text-gray-900",children:L.project}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>{const R=B(L),E=z(L),C=E-R,O=e.find(J=>J.name===L.project);m({project:L.project,client:L.client,amount:"",date:Te(new Date,"yyyy-MM-dd"),clientSignature:"",totalContractAmount:E,previousAmount:R,remainingAmount:C,startDate:O!=null&&O.startDate?Te(new Date(O.startDate),"yyyy-MM-dd"):"",endDate:O!=null&&O.endDate?Te(new Date(O.endDate),"yyyy-MM-dd"):""}),y(!0)},className:"px-3 py-1.5 text-sm bg-gray-800 text-white rounded hover:bg-gray-900 transition-colors",children:""}),o.jsx("button",{onClick:()=>b(L),className:"text-sm text-gray-600 hover:text-gray-800",children:""})]})]})}),o.jsx("div",{className:"mb-4",children:o.jsx("div",{className:"p-3 bg-gray-50 border border-gray-200 rounded-lg",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-xs text-gray-600 mb-1",children:""}),o.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["",L.totalAmount.toLocaleString()]})]}),o.jsxs("div",{className:"ml-4 text-right",children:[o.jsx("p",{className:"text-xs text-gray-500 mb-1",children:" "}),o.jsxs("p",{className:"text-sm font-semibold text-gray-700",children:["",q.toLocaleString()]}),o.jsxs("p",{className:"text-xs text-gray-500 mt-0.5",children:["( ",L.vatType==="percentage"?`${L.vatPercentage??100}%`:`${(L.vatAmount||0).toLocaleString()}`," )"]})]})]})})}),o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-sm text-gray-600",children:""}),o.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[j.toFixed(1),"%"]})]}),o.jsx("div",{className:"w-full bg-gray-200 h-2 rounded-full",children:o.jsx("div",{className:"bg-gray-600 h-2 rounded-full transition-all",style:{width:`${j}%`}})})]}),o.jsx("div",{className:"mb-4",children:o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[o.jsxs("div",{className:"p-3 bg-gray-50 border border-gray-200 rounded-lg",children:[o.jsx("p",{className:"text-xs text-gray-700 mb-1",children:""}),o.jsxs("p",{className:"text-base font-bold text-gray-800",children:["",ae.toLocaleString()]})]}),o.jsxs("div",{className:"p-3 bg-gray-50 border border-gray-200 rounded-lg",children:[o.jsx("p",{className:"text-xs text-gray-700 mb-1",children:" "}),o.jsxs("p",{className:"text-base font-bold text-gray-800",children:["",Se(L.project).toLocaleString()]})]}),o.jsxs("div",{className:"p-3 bg-gray-50 border border-gray-200 rounded-lg",children:[o.jsx("p",{className:"text-xs text-gray-700 mb-1",children:" "}),o.jsxs("p",{className:"text-base font-bold text-gray-800",children:["",je(L.project).toLocaleString()]})]}),o.jsxs("div",{className:"p-3 bg-gray-50 border border-gray-200 rounded-lg",children:[o.jsx("p",{className:"text-xs text-gray-700 mb-1",children:""}),o.jsxs("p",{className:"text-base font-bold text-gray-800",children:["",P.toLocaleString()]})]})]})}),L.payments.length>0&&o.jsxs("div",{className:"border-t pt-4",children:[o.jsx("p",{className:"text-xs text-gray-500 mb-2",children:""}),L.payments.slice(-2).reverse().map((R,E)=>o.jsxs("div",{className:"flex items-center justify-between text-sm mb-1",children:[o.jsxs("span",{className:"text-gray-700",children:[R.type||""," - ",Te(R.date,"MM/dd")]}),o.jsxs("span",{className:"font-medium text-gray-900",children:["",R.amount.toLocaleString()]})]},E))]})]},L.id)})}),p&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-lg max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsx("div",{className:"p-6 border-b",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h2",{className:"text-xl font-semibold",children:p.project}),o.jsx("button",{onClick:()=>b(null),className:"p-2 hover:bg-gray-100 rounded-lg",children:""})]})}),o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h3",{className:"text-lg font-semibold mb-4",children:" "}),o.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[o.jsx("div",{className:"space-y-3",children:U(p).map((L,ae)=>{var j;const q={:"contract",:"start",:"middle",:"final"}[L.type];return o.jsxs("div",{className:"flex items-center justify-between gap-3",children:[o.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[o.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded ${L.status==="completed"?"bg-green-100 text-green-800":L.status==="overdue"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:L.type}),L.status!=="completed"?o.jsx("input",{type:"date",value:(j=p.expectedPaymentDates)!=null&&j[q]?Te(new Date(p.expectedPaymentDates[q]),"yyyy-MM-dd"):L.date?Te(L.date,"yyyy-MM-dd"):"",onChange:async R=>{const E=R.target.value?new Date(R.target.value):null,C={...p.expectedPaymentDates,[q]:E},O={...p,expectedPaymentDates:C};b(O);try{await s(p.id,{expectedPaymentDates:C});const J=c.map(te=>te.id===p.id?O:te);u(J),Q.success("  ")}catch(J){console.error("Failed to update payment date:",J),Q.error("  ")}},className:"px-3 py-1.5 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-gray-600"}):o.jsxs("span",{className:"text-sm text-gray-700",children:[L.date?Te(L.date,"yyyy MM dd"):" ",L.actualDate&&o.jsxs("span",{className:"text-green-600 ml-2",children:["(: ",Te(L.actualDate,"MM/dd"),")"]})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["",L.amount.toLocaleString(),o.jsxs("span",{className:"text-xs text-gray-500 ml-1",children:["(",L.percentage,"%)"]})]}),L.status==="completed"&&L.actualAmount&&o.jsxs("p",{className:"text-xs text-green-600",children:[": ",L.actualAmount.toLocaleString()]})]})]},ae)})}),o.jsx("div",{className:"mt-4 pt-3 border-t border-gray-200",children:o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-600",children:" "}),o.jsxs("span",{className:"font-bold text-gray-900",children:["",z(p).toLocaleString()]})]})})]})]}),o.jsxs("div",{className:"space-y-4 mb-6",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"p-4 bg-gray-50 border border-gray-300 rounded-lg",children:[o.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"  ()"}),o.jsx("input",{type:"number",value:p.totalAmount||"",onChange:async L=>{const ae=L.target.value===""?0:Number(L.target.value),P={...p,totalAmount:ae};b(P);try{await s(p.id,P);const q=c.map(j=>j.id===p.id?P:j);u(q)}catch(q){console.error("Failed to update total amount:",q),Q.error("  ")}},className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-lg font-bold focus:outline-none focus:ring-2 focus:ring-gray-600 focus:border-transparent",placeholder:"50000000",min:"0"}),o.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"   "})]}),o.jsxs("div",{className:"p-4 bg-gray-50 border border-gray-200 rounded-lg",children:[o.jsxs("p",{className:"text-xs text-gray-700 mb-1",children:["  ( ",p.vatType==="percentage"?`${p.vatPercentage??100}%`:`${(p.vatAmount||0).toLocaleString()}`," )"]}),o.jsxs("p",{className:"text-xl font-bold text-gray-900",children:["",z(p).toLocaleString()]})]})]}),o.jsxs("div",{className:"p-4 bg-gray-50 border border-gray-300 rounded-lg",children:[o.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"  "}),o.jsxs("div",{className:"flex gap-2 mb-3",children:[o.jsx("button",{type:"button",onClick:async()=>{const L={...p,vatType:"percentage"};b(L);try{await s(p.id,L);const ae=c.map(P=>P.id===p.id?L:P);u(ae)}catch(ae){console.error("Failed to update VAT type:",ae),Q.error("   ")}},className:`flex-1 px-3 py-2 text-sm border rounded-lg font-medium transition-colors ${p.vatType==="percentage"?"border-gray-900 bg-gray-900 text-white":"border-gray-300 bg-white text-gray-700 hover:border-gray-400"}`,children:" (%)"}),o.jsx("button",{type:"button",onClick:async()=>{const L={...p,vatType:"amount"};b(L);try{await s(p.id,L);const ae=c.map(P=>P.id===p.id?L:P);u(ae)}catch(ae){console.error("Failed to update VAT type:",ae),Q.error("   ")}},className:`flex-1 px-3 py-2 text-sm border rounded-lg font-medium transition-colors ${p.vatType==="amount"?"border-gray-900 bg-gray-900 text-white":"border-gray-300 bg-white text-gray-700 hover:border-gray-400"}`,children:" ()"})]}),p.vatType==="percentage"&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"   (%)"}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("input",{type:"number",value:p.vatPercentage,onChange:async L=>{const ae=Number(L.target.value),P={...p,vatPercentage:ae};b(P);try{await s(p.id,P);const q=c.map(j=>j.id===p.id?P:j);u(q)}catch(q){console.error("Failed to update VAT percentage:",q),Q.error("   ")}},className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-gray-600 focus:border-transparent",placeholder:"100",min:"0",max:"100"}),o.jsx("div",{className:"text-xs text-gray-600",children:o.jsxs("p",{children:[": ",he(p).toLocaleString()]})})]}),o.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"0%:   | 100%:     | 50%:   "})]}),p.vatType==="amount"&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"   ()"}),o.jsx("input",{type:"number",value:p.vatAmount,onChange:async L=>{const ae=Number(L.target.value),P={...p,vatAmount:ae};b(P);try{await s(p.id,P);const q=c.map(j=>j.id===p.id?P:j);u(q)}catch(q){console.error("Failed to update VAT amount:",q),Q.error("   ")}},className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-gray-600 focus:border-transparent",placeholder:"5000000",min:"0"}),o.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"    "})]})]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[o.jsx("p",{className:"text-xs text-gray-700 mb-1",children:""}),o.jsxs("p",{className:"text-lg font-bold text-gray-800",children:["",B(p).toLocaleString()]})]}),o.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[o.jsx("p",{className:"text-xs text-gray-700 mb-1",children:" "}),o.jsxs("p",{className:"text-lg font-bold text-gray-800",children:["",Se(p.project).toLocaleString()]})]}),o.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[o.jsx("p",{className:"text-xs text-gray-700 mb-1",children:" "}),o.jsxs("p",{className:"text-lg font-bold text-gray-800",children:["",je(p.project).toLocaleString()]})]}),o.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[o.jsx("p",{className:"text-xs text-gray-700 mb-1",children:""}),o.jsxs("p",{className:"text-lg font-bold text-gray-800",children:["",le(p).toLocaleString()]})]})]})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"text-lg font-semibold",children:" "}),o.jsx("button",{onClick:W,className:"btn btn-primary btn-sm",children:"+  "})]}),o.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""}),o.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:""})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:p.payments.map((L,ae)=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-4 py-3",children:o.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-gray-100 text-gray-800 rounded",children:L.type||""})}),o.jsxs("td",{className:"px-4 py-3 font-medium text-gray-900",children:["",L.amount.toLocaleString()]}),o.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:Te(L.date,"yyyy MM dd")}),o.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:L.method}),o.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:L.notes||"-"}),o.jsx("td",{className:"px-4 py-3 text-center",children:o.jsx("button",{onClick:()=>D(ae),className:"text-gray-600 hover:text-gray-700 transition-colors",children:o.jsx(fc,{className:"h-4 w-4"})})})]},ae))})]})})]})]}),o.jsxs("div",{className:"p-6 border-t flex justify-between",children:[o.jsx("button",{onClick:async()=>{if(p&&window.confirm(`   ?
    .`))try{await a(p.id),Q.success(" "),b(null)}catch(L){console.error("Failed to delete construction payment:",L),Q.error(" ")}},className:"btn btn-outline text-red-600 hover:bg-red-50 hover:border-red-300",children:""}),o.jsx("button",{onClick:()=>b(null),className:"btn btn-outline",children:""})]})]})}),x&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full",children:[o.jsx("div",{className:"p-6 border-b",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h2",{className:"text-xl font-semibold",children:"  "}),o.jsx("button",{onClick:()=>S(!1),className:"p-2 hover:bg-gray-100 rounded-lg",children:o.jsx(ft,{className:"h-5 w-5"})})]})}),o.jsxs("div",{className:"p-6 space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  *"}),o.jsxs("select",{value:H.projectId,onChange:L=>Y({...H,projectId:L.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-600 focus:border-transparent",children:[o.jsx("option",{value:"",children:""}),e.map(L=>o.jsxs("option",{value:L.id,children:[L.name," - ",L.client]},L.id))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  *"}),o.jsx("input",{type:"number",value:H.totalAmount||"",onChange:L=>Y({...H,totalAmount:Number(L.target.value)}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-600 focus:border-transparent",placeholder:"50000000"}),o.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"  ( )"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"   *"}),o.jsxs("div",{className:"flex gap-2 mb-3",children:[o.jsx("button",{type:"button",onClick:()=>Y({...H,vatType:"percentage"}),className:`flex-1 px-3 py-2 text-sm border rounded-lg font-medium transition-colors ${H.vatType==="percentage"?"border-gray-900 bg-gray-900 text-white":"border-gray-300 bg-white text-gray-700 hover:border-gray-400"}`,children:" (%)"}),o.jsx("button",{type:"button",onClick:()=>Y({...H,vatType:"amount"}),className:`flex-1 px-3 py-2 text-sm border rounded-lg font-medium transition-colors ${H.vatType==="amount"?"border-gray-900 bg-gray-900 text-white":"border-gray-300 bg-white text-gray-700 hover:border-gray-400"}`,children:" ()"})]}),H.vatType==="percentage"&&o.jsxs("div",{children:[o.jsx("input",{type:"number",value:H.vatPercentage??100,onChange:L=>{const ae=L.target.value===""?100:Number(L.target.value);Y({...H,vatPercentage:ae})},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-600 focus:border-transparent",placeholder:"100",min:"0",max:"100"}),o.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"0%:   | 100%:     | 50%:   "})]}),H.vatType==="amount"&&o.jsxs("div",{children:[o.jsx("input",{type:"number",value:H.vatAmount??0,onChange:L=>{const ae=L.target.value===""?0:Number(L.target.value);Y({...H,vatAmount:ae})},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-600 focus:border-transparent",placeholder:"5000000",min:"0"}),o.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"    "})]}),H.totalAmount>0&&o.jsxs("div",{className:"mt-2 p-3 bg-gray-50 border border-gray-200 rounded-lg",children:[o.jsx("p",{className:"text-xs text-gray-700 mb-1",children:"  ( )"}),o.jsxs("p",{className:"text-xl font-bold text-gray-900",children:["",(H.totalAmount+(H.vatType==="percentage"?H.totalAmount*((H.vatPercentage??100)/100)*.1:H.vatAmount??0)).toLocaleString()]}),o.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:["=  ",H.totalAmount.toLocaleString()," +  ",(H.vatType==="percentage"?H.totalAmount*((H.vatPercentage??100)/100)*.1:H.vatAmount??0).toLocaleString()]})]})]})]}),o.jsxs("div",{className:"p-6 border-t flex justify-end space-x-3",children:[o.jsx("button",{onClick:()=>S(!1),className:"btn btn-outline",children:""}),o.jsx("button",{onClick:G,className:"btn btn-primary",children:""})]})]})}),k&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full",children:[o.jsx("div",{className:"p-6 border-b",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h2",{className:"text-xl font-semibold",children:A!==null?" ":" "}),o.jsx("button",{onClick:()=>{_(!1),M(null)},className:"p-2 hover:bg-gray-100 rounded-lg",children:o.jsx(ft,{className:"h-5 w-5"})})]})}),o.jsxs("div",{className:"p-6 space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" * (  )"}),o.jsx("div",{className:"space-y-2",children:["","","","",""].map(L=>{const ae=ee[L];return o.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:K.types.includes(L),onChange:P=>{let q;P.target.checked?q=[...K.types,L]:q=K.types.filter(C=>C!==L);const j=de(q),R=ue(j),E=Z(q);ce({...K,types:q,percentage:j,amount:R,date:E||K.date})},className:"w-4 h-4 text-gray-900 border-gray-300 rounded focus:ring-gray-600"}),o.jsxs("span",{className:"text-sm text-gray-900",children:[L,o.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:["(",ae,"%)"]}),L===""&&o.jsx("span",{className:"text-xs text-gray-400 ml-1",children:"(  )"}),L===""&&o.jsx("span",{className:"text-xs text-gray-400 ml-1",children:"(  1 )"}),L===""&&o.jsx("span",{className:"text-xs text-gray-400 ml-1",children:"( )"}),L===""&&o.jsx("span",{className:"text-xs text-gray-400 ml-1",children:"( )"}),L===""&&o.jsx("span",{className:"text-xs text-gray-400 ml-1",children:"( )"})]})]},L)})}),K.types.length>0&&o.jsx("div",{className:"mt-2 p-2 bg-gray-50 border border-gray-200 rounded",children:o.jsxs("p",{className:"text-xs text-gray-700",children:[" : ",K.types.join(" + ")," =  ",K.percentage,"%"]})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  *"}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{type:"button",onClick:()=>ce({...K,method:""}),className:`flex-1 px-4 py-3 border-2 rounded-lg font-medium transition-colors ${K.method===""?"border-gray-900 bg-gray-900 text-white":"border-gray-300 bg-white text-gray-700 hover:border-gray-400"}`,children:""}),o.jsx("button",{type:"button",onClick:()=>ce({...K,method:""}),className:`flex-1 px-4 py-3 border-2 rounded-lg font-medium transition-colors ${K.method===""?"border-gray-900 bg-gray-900 text-white":"border-gray-300 bg-white text-gray-700 hover:border-gray-400"}`,children:""})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"   (%)"}),o.jsx("input",{type:"number",value:K.percentage||"",onChange:L=>{const ae=Number(L.target.value),P=ue(ae);ce({...K,percentage:ae,amount:P})},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-600 focus:border-transparent",placeholder:"10",min:"0",max:"100"}),p&&K.percentage>0&&o.jsxs("div",{className:"mt-2 p-3 bg-gray-50 border border-gray-200 rounded-lg",children:[o.jsx("p",{className:"text-xs text-gray-700 mb-1",children:" "}),o.jsxs("p",{className:"text-xs text-gray-900",children:[" ( ",p.vatPercentage,"% ) ",z(p).toLocaleString(),"  ",K.percentage,"%"]}),o.jsxs("p",{className:"text-sm font-bold text-gray-900 mt-1",children:["= ",ue(K.percentage).toLocaleString()]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  *"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"number",value:K.amount||"",onChange:L=>ce({...K,amount:Number(L.target.value)}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-600 focus:border-transparent",placeholder:"5000000",min:"0"}),o.jsx("p",{className:"mt-1 text-xs text-gray-500",children:K.percentage>0?"       ":"   "})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"}),o.jsx("input",{type:"date",value:K.date,onChange:L=>ce({...K,date:L.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-600 focus:border-transparent"}),o.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"     ,   "})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),o.jsx("textarea",{value:K.notes,onChange:L=>ce({...K,notes:L.target.value}),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-600 focus:border-transparent",placeholder:"  "})]})]}),o.jsxs("div",{className:"p-6 border-t flex justify-between",children:[o.jsx("div",{children:A!==null&&o.jsx("button",{onClick:async()=>{if(p&&window.confirm("   ?"))try{const L=p.payments.filter((q,j)=>j!==A),ae={...p,payments:L};await s(p.id,{payments:L}),b(ae);const P=c.map(q=>q.id===p.id?ae:q);u(P),_(!1),M(null),Q.success("  ")}catch(L){console.error("Failed to delete payment:",L),Q.error(" ")}},className:"btn btn-outline text-red-600 hover:bg-red-50 hover:border-red-300",children:""})}),o.jsxs("div",{className:"flex space-x-3",children:[o.jsx("button",{onClick:()=>{_(!1),M(null)},className:"btn btn-outline",children:""}),o.jsx("button",{onClick:T,className:"btn btn-primary",children:A!==null?"":""})]})]})]})}),h&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4 print:bg-white print:relative print:p-0",children:o.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto print:shadow-none print:max-w-none print:max-h-none",children:o.jsxs("div",{className:"p-6 print:p-8",children:[o.jsx("div",{className:"flex items-center justify-end mb-6 print:hidden",children:o.jsx("button",{onClick:()=>y(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx(ft,{className:"w-5 h-5"})})}),o.jsxs("div",{className:"space-y-6 print:space-y-0",children:[o.jsxs("div",{className:"border border-black p-8 bg-white print:border print:p-12",children:[o.jsx("div",{className:"p-3 mb-8",children:o.jsx("h3",{className:"text-center text-2xl font-bold",children:""})}),o.jsxs("table",{className:"w-full mb-8 border-collapse",children:[o.jsxs("colgroup",{children:[o.jsx("col",{style:{width:"30%"}}),o.jsx("col",{style:{width:"70%"}})]}),o.jsxs("tbody",{children:[o.jsxs("tr",{className:"border border-black",children:[o.jsx("td",{className:"border-r border-black py-3 px-4 bg-white font-medium whitespace-nowrap",children:""}),o.jsxs("td",{className:"py-3 px-4 print:py-3 text-center",children:[o.jsx("span",{className:"print:hidden",children:g.project}),o.jsx("input",{type:"text",value:g.project,className:"hidden print:block w-full bg-transparent border-none outline-none p-0 text-center",readOnly:!0})]})]}),o.jsxs("tr",{className:"border border-t-0 border-black",children:[o.jsx("td",{className:"border-r border-black py-3 px-4 bg-white font-medium whitespace-nowrap",children:""}),o.jsx("td",{className:"py-3 px-4 text-center",children:g.startDate&&g.endDate?o.jsxs("span",{children:[Te(new Date(g.startDate),"yyyy.MM.dd")," ~ ",Te(new Date(g.endDate),"yyyy.MM.dd")]}):o.jsx("span",{className:"text-gray-400 print:hidden",children:"-"})})]}),o.jsxs("tr",{className:"border border-t-0 border-black",children:[o.jsx("td",{className:"border-r border-black py-3 px-4 bg-white font-medium whitespace-nowrap",children:""}),o.jsxs("td",{className:"py-3 px-4 text-right pr-4",children:[g.totalContractAmount.toLocaleString()," "]})]}),o.jsxs("tr",{className:"border border-t-0 border-black",children:[o.jsx("td",{className:"border-r border-black py-3 px-4 bg-white font-medium whitespace-nowrap",children:""}),o.jsxs("td",{className:"py-3 px-4 text-right pr-4",children:[g.previousAmount.toLocaleString()," "]})]}),o.jsxs("tr",{className:"border border-t-0 border-black",children:[o.jsx("td",{className:"border-r border-black py-3 px-4 bg-white font-medium whitespace-nowrap",children:""}),o.jsxs("td",{className:"py-3 px-4 text-right pr-4",children:[o.jsxs("span",{className:"print:hidden flex items-center justify-end gap-1",children:[o.jsx("input",{type:"text",value:g.amount,onChange:L=>{const ae=L.target.value.replace(/[^0-9]/g,""),P=ae?parseInt(ae).toLocaleString():"";m({...g,amount:P})},placeholder:" ",className:"w-full text-right border border-gray-300 rounded px-2 py-1"}),o.jsx("span",{children:""})]}),o.jsxs("span",{className:"hidden print:inline",children:[g.amount," "]})]})]}),o.jsxs("tr",{className:"border border-t-0 border-black",children:[o.jsxs("td",{className:"border-r border-black py-3 px-4 bg-white font-medium whitespace-nowrap",children:[" ",o.jsx("span",{className:"text-xs",children:"( )"})]}),o.jsxs("td",{className:"py-3 px-4 text-right pr-4",children:[(()=>{const L=g.amount?parseInt(g.amount.replace(/,/g,"")):0;return(g.remainingAmount-L).toLocaleString()})()," "]})]})]})]}),o.jsx("div",{className:"text-center mb-12",children:o.jsx("p",{className:"text-base",children:"*       ."})}),o.jsx("div",{className:"text-center mb-12",children:o.jsxs("p",{className:"text-base",children:[o.jsx("span",{className:"print:hidden",children:o.jsx("input",{type:"date",value:g.date,onChange:L=>m({...g,date:L.target.value}),className:"border border-gray-300 rounded px-2 py-1"})}),o.jsx("span",{className:"hidden print:inline",children:Te(new Date(g.date),"yyyy MM dd")})]})}),o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"flex items-center justify-between border-b border-gray-300 pb-2",children:[o.jsx("span",{className:"font-medium",children:"[]"}),o.jsx("span",{children:" "}),o.jsx("span",{className:"text-xl font-bold",children:"  "}),o.jsx("span",{className:"text-sm",children:"()"})]}),o.jsxs("div",{className:"flex items-center justify-between border-b border-gray-300 pb-2",children:[o.jsx("span",{className:"font-medium",children:"[]"}),o.jsx("span",{children:g.project.split("_")[0]}),o.jsx("span",{className:"text-xl",children:""}),o.jsx("span",{className:"text-sm",children:"()"})]})]})]}),o.jsxs("div",{className:"flex gap-3 print:hidden",children:[o.jsx("button",{onClick:()=>{if(!g.amount){Q.error(" ");return}window.print(),Q.success(" ")},className:"flex-1 px-4 py-3 bg-gray-800 text-white font-medium rounded-lg hover:bg-gray-900 transition-colors",children:""}),o.jsx("button",{onClick:()=>y(!1),className:"px-4 py-3 bg-gray-200 text-gray-700 font-medium rounded-lg hover:bg-gray-300 transition-colors",children:""})]})]})]})})})]})},Tf=["","","","","","","","","","","","","","","","","","","","","","","","","","",""],Ju=e=>{const t=e.replace(/$/g,"").trim(),r=t.split(" ");if(r.length>=2){const n=r[r.length-1];for(const s of Tf)if(n===s)return s}for(const n of Tf)if(t.endsWith(n))return n;return""},ep=e=>{if(!e)return e;const t=e.replace(/$/g,"").trim(),r=t.split(" ");if(r.length>=2){const n=r[r.length-1];for(const s of Tf)if(n===s)return r.slice(0,-1).join(" ").trim()}for(const n of Tf)if(t.endsWith(n))return t.substring(0,t.length-n.length).trim();return t};function cte(){const[e,t]=w.useState([]),[r,n]=w.useState(!0),[s,a]=w.useState(null),[i,l]=w.useState(!1),[c,u]=w.useState(null),[d,f]=w.useState(""),[h,y]=w.useState({rank:"",companyName:"",name:"",position:"",process:"",contact:"",bankName:"",accountNumber:"",notes:""});w.useEffect(()=>{g()},[]),w.useEffect(()=>{const k=()=>{m()};return window.addEventListener("headerAddButtonClick",k),()=>window.removeEventListener("headerAddButtonClick",k)},[]);const g=async()=>{var k,_;try{n(!0),a(null);const A=await Ss.getAllContractors();t(A.map(M=>({id:M._id,rank:M.rank,companyName:M.companyName,name:M.name,position:M.position,process:M.process,contact:M.contact,accountNumber:M.accountNumber,notes:M.notes,createdAt:new Date(M.createdAt),updatedAt:new Date(M.updatedAt)})))}catch(A){console.error("Failed to load contractors:",A);const M=A instanceof Error&&((_=(k=A.response)==null?void 0:k.data)==null?void 0:_.message);a(M||"   .")}finally{n(!1)}},m=k=>{if(k){u(k);let _="",A=k.accountNumber||"";if(k.accountNumber){const V=["KB","","","","NH","IBK","KEB","SC","","","","","","","","","","","","","","","","","NH","","","","","KB","",""];for(const H of V)if(k.accountNumber.startsWith(H)){_=H,A=k.accountNumber.substring(H.length).trim();break}}let M=k.name,$=k.position||"";$||($=Ju(k.name),M=ep(k.name)),y({rank:k.rank||"",companyName:k.companyName||"",name:M,position:$,process:k.process,contact:k.contact||"",bankName:_,accountNumber:A,notes:k.notes||""})}else u(null),y({rank:"",companyName:"",name:"",position:"",process:"",contact:"",bankName:"",accountNumber:"",notes:""});l(!0)},N=()=>{l(!1),u(null),y({rank:"",companyName:"",name:"",position:"",process:"",contact:"",bankName:"",accountNumber:"",notes:""})},v=async k=>{var A,M;k.preventDefault();const _=h.bankName&&h.accountNumber?`${h.bankName} ${h.accountNumber}`:h.accountNumber;try{const $={rank:h.rank,companyName:h.companyName,name:h.name,position:h.position,process:h.process,contact:h.contact,accountNumber:_,notes:h.notes};c?await Ss.updateContractor(c.id,$):await Ss.createContractor($),await g(),N()}catch($){console.error("Failed to save contractor:",$);const V=$ instanceof Error&&((M=(A=$.response)==null?void 0:A.data)==null?void 0:M.message);alert(V||"  .")}},p=async k=>{var _,A;if(window.confirm("   ?"))try{await Ss.deleteContractor(k),await g()}catch(M){console.error("Failed to delete contractor:",M);const $=M instanceof Error&&((A=(_=M.response)==null?void 0:_.data)==null?void 0:A.message);alert($||"  .")}},b=()=>"border-gray-200 text-gray-600 bg-gray-50",x=k=>k?k==="1"?1:k==="1()"?2:k==="2"?3:k==="2()"?4:k==="3"?5:k==="3()"?6:k===""?100:k===""?200:999:999,S=e.filter(k=>k.name.toLowerCase().includes(d.toLowerCase())||k.process.toLowerCase().includes(d.toLowerCase())||k.accountNumber.toLowerCase().includes(d.toLowerCase())||k.contact&&k.contact.toLowerCase().includes(d.toLowerCase())||k.rank&&k.rank.toLowerCase().includes(d.toLowerCase())||k.companyName&&k.companyName.toLowerCase().includes(d.toLowerCase())).sort((k,_)=>{const A=x(k.rank)-x(_.rank);if(A!==0)return A;const M=k.process.localeCompare(_.process,"ko");return M!==0?M:k.name.localeCompare(_.name,"ko")});return o.jsxs("div",{className:"space-y-3 md:space-y-4",children:[o.jsx("div",{className:"flex items-center justify-end",children:o.jsx("button",{onClick:()=>m(),className:"hidden lg:inline-flex btn btn-primary px-4 py-2",children:"+  "})}),o.jsxs("div",{className:"relative",children:[o.jsx(cf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4 md:w-5 md:h-5"}),o.jsx("input",{type:"text",placeholder:", ,  ...",value:d,onChange:k=>f(k.target.value),className:"w-full pl-9 md:pl-10 pr-4 py-2 text-sm md:text-base border border-gray-200 rounded-lg focus:ring-2 focus:ring-gray-400 focus:border-transparent"})]}),o.jsx("div",{className:"hidden md:block bg-white rounded-lg border border-gray-200 overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:" "}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),o.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:""})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r?o.jsx("tr",{children:o.jsx("td",{colSpan:9,className:"px-6 py-12 text-center",children:o.jsx("p",{className:"text-gray-500",children:" ..."})})}):s?o.jsx("tr",{children:o.jsx("td",{colSpan:9,className:"px-6 py-12 text-center",children:o.jsxs("div",{className:"space-y-4",children:[o.jsx("p",{className:"text-red-500",children:s}),o.jsx("button",{onClick:g,className:"inline-block px-6 py-3 bg-gray-900 text-white rounded-lg hover:bg-gray-800 transition-colors",children:" "})]})})}):S.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:9,className:"px-6 py-12 text-center",children:o.jsx("p",{className:"text-gray-500",children:d?"  .":"  ."})})}):S.map(k=>o.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("span",{className:`px-2 py-1 text-xs font-medium border rounded ${b(k.rank)}`,children:k.rank||"-"})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("span",{className:"text-xs font-medium text-gray-700",children:k.process})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("div",{className:"text-sm text-gray-900",children:k.companyName||"-"})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("div",{className:"font-medium text-gray-900",children:ep(k.name)})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("div",{className:"text-sm text-gray-900",children:k.position||Ju(k.name)||"-"})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("div",{className:"text-sm text-gray-900",children:k.contact||"-"})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("div",{className:"text-sm text-gray-900",children:k.accountNumber})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("div",{className:"text-sm text-gray-500 max-w-xs truncate",children:k.notes||"-"})}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[o.jsx("button",{onClick:()=>m(k),className:"text-gray-600 hover:text-gray-900 mr-3",children:o.jsx(kb,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>p(k.id),className:"text-red-600 hover:text-red-900",children:o.jsx(rr,{className:"w-4 h-4"})})]})]},k.id))})]})})}),o.jsx("div",{className:"md:hidden space-y-3",children:r?o.jsx("div",{className:"text-center py-12 text-gray-500 text-sm",children:" ..."}):s?o.jsxs("div",{className:"text-center py-12 space-y-4",children:[o.jsx("p",{className:"text-red-500 text-sm",children:s}),o.jsx("button",{onClick:g,className:"inline-block px-4 py-2 bg-gray-900 text-white rounded-lg hover:bg-gray-800 transition-colors text-sm",children:" "})]}):S.length===0?o.jsx("div",{className:"text-center py-12 text-gray-500 text-sm",children:d?"  .":"  ."}):S.map(k=>o.jsxs("div",{className:"card p-3 space-y-2",children:[o.jsxs("div",{className:"flex items-start justify-between mb-2",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[k.rank&&o.jsx("span",{className:`px-1.5 py-0.5 text-[10px] font-medium border rounded ${b(k.rank)}`,children:k.rank}),o.jsx("span",{className:"px-1.5 py-0.5 text-[10px] font-medium text-gray-700 bg-gray-100 rounded",children:k.process})]}),k.companyName&&o.jsx("p",{className:"text-xs text-gray-600 mb-0.5",children:k.companyName}),o.jsx("p",{className:"font-semibold text-gray-900 text-sm",children:ep(k.name)})]}),o.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[o.jsx("button",{onClick:()=>m(k),className:"p-1.5 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded",children:o.jsx(kb,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>p(k.id),className:"p-1.5 text-red-600 hover:text-red-900 hover:bg-red-50 rounded",children:o.jsx(rr,{className:"w-4 h-4"})})]})]}),o.jsxs("div",{className:"space-y-1 text-xs",children:[(k.position||Ju(k.name))&&o.jsxs("div",{className:"flex items-start",children:[o.jsx("span",{className:"text-gray-500 w-14 flex-shrink-0",children:":"}),o.jsx("span",{className:"text-gray-900",children:k.position||Ju(k.name)})]}),k.contact&&o.jsxs("div",{className:"flex items-start",children:[o.jsx("span",{className:"text-gray-500 w-14 flex-shrink-0",children:":"}),o.jsx("span",{className:"text-gray-900",children:k.contact})]}),o.jsxs("div",{className:"flex items-start",children:[o.jsx("span",{className:"text-gray-500 w-14 flex-shrink-0",children:":"}),o.jsx("span",{className:"text-gray-900 break-all",children:k.accountNumber})]}),k.notes&&o.jsxs("div",{className:"flex items-start",children:[o.jsx("span",{className:"text-gray-500 w-14 flex-shrink-0",children:":"}),o.jsx("span",{className:"text-gray-600",children:k.notes})]})]})]},k.id))}),i&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:o.jsx("div",{className:"bg-white rounded-lg max-w-md w-full max-h-[90vh] overflow-y-auto",children:o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900",children:c?" ":"  "}),o.jsx("button",{onClick:N,className:"text-gray-400 hover:text-gray-600",children:o.jsx(ft,{className:"w-6 h-6"})})]}),o.jsxs("form",{onSubmit:v,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsxs("select",{value:h.rank,onChange:k=>y({...h,rank:k.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-400 focus:border-transparent",children:[o.jsx("option",{value:"",children:""}),o.jsx("option",{value:"1",children:"1"}),o.jsx("option",{value:"2",children:"2"}),o.jsx("option",{value:"3",children:"3"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"text",value:h.companyName,onChange:k=>y({...h,companyName:k.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-400 focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[" ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",required:!0,value:h.name,onChange:k=>y({...h,name:k.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-400 focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),o.jsx("input",{type:"text",value:h.position,onChange:k=>y({...h,position:k.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-400 focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[" ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",required:!0,value:h.process,onChange:k=>y({...h,process:k.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-400 focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),o.jsx("input",{type:"text",value:h.contact,onChange:k=>y({...h,contact:k.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-400 focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),o.jsxs("select",{value:h.bankName,onChange:k=>y({...h,bankName:k.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-400 focus:border-transparent",children:[o.jsx("option",{value:"",children:""}),o.jsxs("optgroup",{label:"",children:[o.jsx("option",{value:"KB",children:"KB"}),o.jsx("option",{value:"",children:""}),o.jsx("option",{value:"",children:""}),o.jsx("option",{value:"",children:""}),o.jsx("option",{value:"NH",children:"NH"}),o.jsx("option",{value:"IBK",children:"IBK"}),o.jsx("option",{value:"KEB",children:"KEB"}),o.jsx("option",{value:"SC",children:"SC"}),o.jsx("option",{value:"",children:""})]}),o.jsxs("optgroup",{label:"",children:[o.jsx("option",{value:"",children:""}),o.jsx("option",{value:"",children:""}),o.jsx("option",{value:"",children:""}),o.jsx("option",{value:"",children:""}),o.jsx("option",{value:"",children:""}),o.jsx("option",{value:"",children:""})]}),o.jsxs("optgroup",{label:"",children:[o.jsx("option",{value:"",children:""}),o.jsx("option",{value:"",children:""}),o.jsx("option",{value:"",children:""}),o.jsx("option",{value:"",children:""}),o.jsx("option",{value:"",children:""}),o.jsx("option",{value:"",children:""})]}),o.jsxs("optgroup",{label:"",children:[o.jsx("option",{value:"",children:""}),o.jsx("option",{value:"",children:""}),o.jsx("option",{value:"",children:""})]}),o.jsxs("optgroup",{label:"",children:[o.jsx("option",{value:"NH",children:"NH"}),o.jsx("option",{value:"",children:""}),o.jsx("option",{value:"",children:""}),o.jsx("option",{value:"",children:""}),o.jsx("option",{value:"",children:""}),o.jsx("option",{value:"KB",children:"KB"}),o.jsx("option",{value:"",children:""}),o.jsx("option",{value:"",children:""})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),o.jsx("input",{type:"text",value:h.accountNumber,onChange:k=>y({...h,accountNumber:k.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-400 focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),o.jsx("textarea",{value:h.notes,onChange:k=>y({...h,notes:k.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-400 focus:border-transparent",rows:3})]}),o.jsxs("div",{className:"flex space-x-3 pt-4",children:[o.jsx("button",{type:"button",onClick:N,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:""}),o.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-gray-700 text-white rounded-lg hover:bg-gray-800 transition-colors",children:c?"":""})]})]})]})})})]})}const R1=["","","","","","","",""],ute=({request:e,onClose:t,onSave:r})=>{const{projects:n}=dn(),{user:s}=Ra(),a=()=>{const v=new Date,p=v.getFullYear(),b=String(v.getMonth()+1).padStart(2,"0"),x=String(v.getDate()).padStart(2,"0");return`${p}-${b}-${x}`},{register:i,handleSubmit:l,formState:{errors:c},watch:u,setValue:d}=$i({defaultValues:{project:(e==null?void 0:e.project)||"",requestType:(e==null?void 0:e.requestType)||"",requestDate:e!=null&&e.requestDate?Te(e.requestDate,"yyyy-MM-dd"):a(),dueDate:e!=null&&e.dueDate?Te(e.dueDate,"yyyy-MM-dd"):Te(new Date(Date.now()+3*24*60*60*1e3),"yyyy-MM-dd"),requestedBy:(e==null?void 0:e.requestedBy)||"",assignedTo:(e==null?void 0:e.assignedTo)||"",description:(e==null?void 0:e.description)||""}}),[f,h]=w.useState((e==null?void 0:e.priority)==="high"),[y,g]=w.useState(""),m=u("requestType");w.useEffect(()=>{h((e==null?void 0:e.priority)==="high"),!e&&(s!=null&&s.name)&&d("requestedBy",s.name)},[e,s,d]);const N=v=>{console.log(" WorkRequestModal onSubmit - Raw data:",v);const p={...v,requestType:v.requestType===""?y:v.requestType,requestDate:new Date(v.requestDate),dueDate:new Date(v.dueDate),status:(e==null?void 0:e.status)||"pending",priority:f?"high":"medium",completedDate:v.completedDate?new Date(v.completedDate):void 0};console.log(" WorkRequestModal onSubmit - Processed formData:",p),r(p)};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] flex flex-col",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b flex-shrink-0",children:[o.jsx("h2",{className:"text-xl font-semibold",children:e?" ":" "}),o.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx(ft,{className:"h-5 w-5"})})]}),o.jsxs("form",{onSubmit:l(N),className:"p-6 space-y-4 overflow-y-auto flex-1",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),o.jsxs("select",{...i("project"),className:"input w-full",children:[o.jsx("option",{value:""}),n.filter(v=>v.status!=="completed").map(v=>o.jsx("option",{value:v.name,children:v.name},v.id))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),o.jsxs("select",{...i("requestType"),className:"input w-full",children:[o.jsx("option",{value:""}),o.jsx("option",{value:"3D",children:"3D"}),o.jsx("option",{value:"",children:""}),o.jsx("option",{value:"",children:""}),o.jsx("option",{value:" ",children:" "}),o.jsx("option",{value:" ",children:" "}),o.jsx("option",{value:" ",children:" "}),o.jsx("option",{value:"",children:""}),o.jsx("option",{value:"",children:""}),o.jsx("option",{value:"",children:""}),o.jsx("option",{value:"",children:""}),o.jsx("option",{value:"",children:""}),o.jsx("option",{value:"",children:""}),o.jsx("option",{value:"",children:""}),o.jsx("option",{value:"",children:""}),o.jsx("option",{value:"",children:""}),o.jsx("option",{value:"",children:""}),o.jsx("option",{value:"",children:""})]}),m===""&&o.jsx("input",{type:"text",value:y,onChange:v=>g(v.target.value),placeholder:"  ",className:"input w-full mt-2"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),o.jsx("textarea",{...i("description"),rows:4,className:"input w-full",placeholder:"   "})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"}),o.jsx("input",{...i("requestDate",{required:" "}),type:"date",className:"input w-full",style:{position:"relative"}}),c.requestDate&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(c.requestDate.message)})]}),o.jsxs("div",{className:"relative",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"}),o.jsx("input",{...i("dueDate",{required:" "}),type:"date",className:"input w-full",style:{position:"relative"}}),c.dueDate&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(c.dueDate.message)})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"}),o.jsxs("select",{...i("requestedBy",{required:" "}),className:"input w-full",children:[o.jsx("option",{value:"",children:""}),R1.map(v=>o.jsx("option",{value:v,children:v},v))]}),c.requestedBy&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(c.requestedBy.message)})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"}),o.jsxs("select",{...i("assignedTo",{required:" "}),className:"input w-full",children:[o.jsx("option",{value:"",children:""}),R1.map(v=>o.jsx("option",{value:v,children:v},v))]}),c.assignedTo&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(c.assignedTo.message)})]})]}),o.jsx("div",{children:o.jsxs("button",{type:"button",onClick:()=>h(!f),className:`flex items-center gap-2 px-4 py-3 rounded-lg border-2 transition-all w-full ${f?"bg-rose-50 border-rose-500 text-rose-700":"bg-white border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[o.jsx(FO,{className:`h-5 w-5 ${f?"text-rose-600":"text-gray-400"}`}),o.jsx("span",{className:"font-medium",children:f?" ":"  "})]})}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[o.jsx("button",{type:"button",onClick:t,className:"btn btn-outline",children:""}),o.jsx("button",{type:"submit",className:"btn btn-primary",children:e?"":""})]})]})]})})},O1=["","","","","",""],dte=()=>{const{addScheduleToAPI:e,deleteScheduleFromAPI:t,updateScheduleInAPI:r,schedules:n,projects:s,fetchSchedules:a}=dn(),[i,l]=w.useState([]),[c,u]=w.useState(!1),[d,f]=w.useState(null),[h,y]=w.useState(""),[g,m]=w.useState("pending"),[N,v]=w.useState("all"),[p,b]=w.useState(null),[x,S]=w.useState(null),k=w.useRef(null);w.useEffect(()=>{_()},[]),w.useEffect(()=>{const D=()=>{f(null),u(!0)};return window.addEventListener("headerAddButtonClick",D),()=>window.removeEventListener("headerAddButtonClick",D)},[]);const _=async()=>{try{const T=(await Gs.getAllWorkRequests()).map(z=>({id:z._id,project:z.project,requestType:z.requestType,description:z.description,requestDate:new Date(z.requestDate),dueDate:new Date(z.dueDate),requestedBy:z.requestedBy,assignedTo:z.assignedTo,status:z.status,priority:z.priority,notes:z.notes,completedDate:z.completedDate?new Date(z.completedDate):void 0}));l(T)}catch(D){console.error("Failed to load work requests:",D),Q.error("  ")}};w.useEffect(()=>{var D,T;p&&k.current&&((T=(D=k.current).showPicker)==null||T.call(D))},[p]),w.useEffect(()=>{const D=()=>{x&&S(null)};if(x)return document.addEventListener("click",D),()=>document.removeEventListener("click",D)},[x]);const A=async(D,T)=>{if(window.confirm(`"${T}"  ?

    .`))try{const z=workRequests.find(ne=>ne.id===D);if(await Gs.deleteWorkRequest(D),z){let ne="";z.project?ne=z.requestType?`[] ${z.requestType}`:`[] ${z.description.substring(0,20)}`:ne=z.description;const he=n.filter(ue=>{const B=ue.start&&new Date(ue.start).toDateString()===z.dueDate.toDateString(),le=ue.title===ne;return B&&le});for(const ue of he)try{await t(ue.id),console.log(" Related schedule deleted:",ue.id)}catch(B){console.error("Failed to delete related schedule:",B)}await a()}l(i.filter(ne=>ne.id!==D)),Q.success(" ")}catch(z){console.error("Failed to delete work request:",z),Q.error("  ")}},M=D=>{f(D),u(!0)},$=async D=>{console.log(" handleSave called with data:",D),console.log(" selectedRequest:",d);try{if(d){console.log(" Update mode - selectedRequest.id:",d.id);const T=await Gs.updateWorkRequest(d.id,{project:D.project,requestType:D.requestType,description:D.description,requestDate:D.requestDate,dueDate:D.dueDate,requestedBy:D.requestedBy,assignedTo:D.assignedTo,status:D.status,priority:D.priority,notes:D.notes,completedDate:D.completedDate}),z={id:T._id,project:T.project,requestType:T.requestType,description:T.description,requestDate:new Date(T.requestDate),dueDate:new Date(T.dueDate),requestedBy:T.requestedBy,assignedTo:T.assignedTo,status:T.status,priority:T.priority,notes:T.notes,completedDate:T.completedDate?new Date(T.completedDate):void 0};let ne="";T.project?ne=T.requestType?`[] ${T.requestType}`:`[] ${T.description.substring(0,20)}`:ne=T.description,console.log(" Looking for schedule with title:",ne),console.log(" Looking for schedule on date:",T.dueDate),console.log(" All schedules on same date:",n.filter(ue=>ue.start&&new Date(ue.start).toDateString()===new Date(T.dueDate).toDateString()).map(ue=>({id:ue.id,title:ue.title,start:ue.start})));const he=n.find(ue=>{const B=ue.start&&new Date(ue.start).toDateString()===new Date(T.dueDate).toDateString(),le=ue.title===ne;return console.log(` Checking schedule ${ue.id}: date=${B}, title=${le}, s.title="${ue.title}", expected="${ne}"`),B&&le});if(console.log(" Found schedule?",he?`Yes: ${he.id}`:"No"),he){console.log(" Found related schedule:",he.id);try{let ue=null,B="";if(T.project){const Se=s.find(je=>je.name===T.project);ue=Se?Se.id:he.project,B=T.requestType?`[] ${T.requestType}`:`[] ${T.description.substring(0,20)}`}else B=T.description,ue=he.project;const le=T.assignedTo===""?["","",""]:[T.assignedTo];console.log(" Updating schedule with attendees:",le),await r(he.id,{title:B,start:new Date(T.dueDate),end:new Date(T.dueDate),project:ue,attendees:le,description:`${T.description}

: ${T.assignedTo}
: ${T.requestedBy}
: ${T.priority}
${T.notes||""}`}),console.log(" Related schedule updated successfully")}catch(ue){console.error(" Failed to update related schedule:",ue)}}else console.warn(" No related schedule found for work request ID:",T._id),console.warn(" Expected title:",ne),console.warn(" Expected date:",new Date(T.dueDate).toDateString());l(i.map(ue=>ue.id===d.id?z:ue)),Q.success(" ")}else{console.log(" Creating work request with data:",D);const T=await Gs.createWorkRequest({project:D.project,requestType:D.requestType,description:D.description||"",requestDate:D.requestDate,dueDate:D.dueDate,requestedBy:D.requestedBy,assignedTo:D.assignedTo,status:D.status||"pending",priority:D.priority||"medium",notes:D.notes,completedDate:D.completedDate});console.log(" Backend response:",T);const z={id:T._id,project:T.project,requestType:T.requestType,description:T.description,requestDate:new Date(T.requestDate),dueDate:new Date(T.dueDate),requestedBy:T.requestedBy,assignedTo:T.assignedTo,status:T.status,priority:T.priority,notes:T.notes,completedDate:T.completedDate?new Date(T.completedDate):void 0};try{let ne=null,he="";if(T.project){const B=s.find(le=>le.name===T.project);if(ne=B?B.id:null,!ne)throw console.warn(" Project not found for work request:",T.project),new Error("Project not found");he=T.requestType?`[] ${T.requestType}`:`[] ${T.description.substring(0,20)}`}else he=T.description;const ue=T.assignedTo===""?["","",""]:[T.assignedTo];await e({id:`workrequest-${T._id}`,title:he,start:new Date(T.dueDate),end:new Date(T.dueDate),type:"other",project:ne,location:"",attendees:ue,description:`${T.description}

: ${T.assignedTo}
: ${T.requestedBy}
: ${T.priority}
${T.notes||""}`}),console.log(" Schedule created:",he,"with project ID:",ne)}catch(ne){console.error("Failed to create schedule:",ne)}l([z,...i]),Q.success(" ")}u(!1),f(null)}catch(T){console.error("Failed to save work request:",T),Q.error("  ")}},V=(D,T)=>{b({requestId:D,field:T})},H=async D=>{if(!p)return;const T=new Date(D);if(!isNaN(T.getTime()))try{if(!i.find(ne=>ne.id===p.requestId))return;await Gs.updateWorkRequest(p.requestId,{[p.field]:T}),l(i.map(ne=>ne.id===p.requestId?{...ne,[p.field]:T}:ne)),b(null),Q.success(" ")}catch(z){console.error("Failed to update date:",z),Q.error("  "),b(null)}},Y=(D,T)=>{S({requestId:D,field:T})},K=async D=>{if(x)try{await Gs.updateWorkRequest(x.requestId,{[x.field]:D}),l(i.map(T=>T.id===x.requestId?{...T,[x.field]:D}:T)),S(null),Q.success(" ")}catch(T){console.error("Failed to update person:",T),Q.error("  "),S(null)}},ce=async(D,T)=>{try{const z=T==="completed"?new Date:void 0;if(await Gs.updateWorkRequest(D,{status:T,completedDate:z}),l(i.map(he=>he.id===D?{...he,status:T,completedDate:z}:he)),T==="completed"){const he=i.find(ue=>ue.id===D);if(he){const ue=n.find(B=>B.id===`workrequest-${D}`||B.title.includes("[]")&&B.project===he.project);if(ue)try{await t(ue.id),console.log(" Related schedule deleted on completion:",ue.id)}catch(B){console.error("Failed to delete related schedule:",B)}}}const ne={pending:"","in-progress":"",completed:""};Q.success(` ${ne[T]} `)}catch(z){console.error("Failed to update status:",z),Q.error("  ")}},ee=D=>{const z={pending:{label:"",color:"bg-gray-100 text-gray-700 border-gray-300"},"in-progress":{label:"",color:"bg-gray-100 text-gray-800 border-gray-300"},completed:{label:"",color:"bg-gray-900 text-white border-gray-900"},cancelled:{label:"",color:"bg-gray-100 text-gray-500 border-gray-300"}}[D];return o.jsx("span",{className:`px-3 py-1 text-xs font-medium border ${z.color}`,children:z.label})},de=D=>{const z={low:{label:"",color:"text-gray-600",bg:"",border:""},medium:{label:"",color:"text-gray-600",bg:"",border:""},high:{label:"",color:"text-rose-700",bg:"bg-rose-50",border:"border border-rose-300"}}[D];return o.jsx("span",{className:`inline-flex items-center px-2 py-0.5 text-xs font-semibold rounded ${z.color} ${z.bg} ${z.border}`,children:z.label})},Z=D=>{const T=new Date;T.setHours(0,0,0,0);const z=new Date(D);z.setHours(0,0,0,0);const ne=z.getTime()-T.getTime();return Math.ceil(ne/(1e3*60*60*24))},U=D=>{const T=Z(D);return T<0?o.jsxs("span",{className:"inline-flex items-center px-2 py-1 text-xs font-bold bg-gray-100 text-gray-700 border border-gray-300 rounded",children:["D+",Math.abs(T)]}):T===0?o.jsx("span",{className:"inline-flex items-center px-2 py-1 text-xs font-bold bg-gray-900 text-white border border-gray-900 rounded",children:"D-Day"}):T<=3?o.jsxs("span",{className:"inline-flex items-center px-2 py-1 text-xs font-bold bg-gray-100 text-gray-700 border border-gray-300 rounded",children:["D-",T]}):T<=7?o.jsxs("span",{className:"inline-flex items-center px-2 py-1 text-xs font-bold bg-gray-100 text-gray-700 border border-gray-300 rounded",children:["D-",T]}):o.jsxs("span",{className:"inline-flex items-center px-2 py-1 text-xs font-medium bg-gray-100 text-gray-700 border border-gray-300 rounded",children:["D-",T]})},G=(()=>{let D=i;return g!=="all"&&(D=D.filter(T=>T.status===g)),h&&(D=D.filter(T=>T.project.toLowerCase().includes(h.toLowerCase())||T.requestType.toLowerCase().includes(h.toLowerCase())||T.description.toLowerCase().includes(h.toLowerCase()))),N!=="all"&&(D=D.filter(T=>T.priority===N)),D})(),W={pending:i.filter(D=>D.status==="pending").length,inProgress:i.filter(D=>D.status==="in-progress").length,completed:i.filter(D=>D.status==="completed").length,total:i.length};return o.jsxs("div",{className:"space-y-3 md:space-y-4",children:[o.jsxs("div",{className:"border-b border-gray-200 flex items-center justify-between",children:[o.jsx("nav",{className:"flex space-x-4 md:space-x-8 overflow-x-auto",children:[{id:"pending",label:"",count:W.pending,color:"text-gray-700"},{id:"in-progress",label:"",count:W.inProgress,color:"text-gray-700"},{id:"completed",label:"",count:W.completed,color:"text-gray-700"},{id:"all",label:"",count:W.total,color:"text-gray-600"}].map(D=>o.jsxs("button",{onClick:()=>m(D.id),className:Gn("py-3 md:py-4 px-1 border-b-2 font-medium text-xs md:text-sm transition-colors whitespace-nowrap",g===D.id?`border-gray-700 ${D.color}`:"border-transparent text-gray-400 hover:text-gray-700 hover:border-gray-300"),children:[D.label,D.count>0&&o.jsx("span",{className:Gn("ml-1 md:ml-2 py-0.5 px-1.5 md:px-2 rounded-full text-[10px] md:text-xs font-semibold",g===D.id?"bg-gray-700 text-white":"bg-gray-200 text-gray-600"),children:D.count})]},D.id))}),o.jsx("button",{onClick:()=>{setEditingRequest(null),u(!0)},className:"btn btn-primary px-4 py-2 whitespace-nowrap",children:"+ "})]}),o.jsxs("div",{className:"hidden md:flex flex-col sm:flex-row sm:items-center space-y-2 sm:space-y-0 sm:space-x-2 md:space-x-4",children:[o.jsx("input",{type:"text",placeholder:"...",value:h,onChange:D=>y(D.target.value),className:"flex-1 px-3 md:px-4 py-2 text-sm md:text-base border border-gray-300 rounded-lg focus:outline-none focus:border-gray-900"}),o.jsxs("select",{value:N,onChange:D=>v(D.target.value),className:"px-3 md:px-4 py-2 text-sm md:text-base border border-gray-300 rounded-lg focus:outline-none focus:border-gray-900",children:[o.jsx("option",{value:"all",children:" "}),o.jsx("option",{value:"high",children:""}),o.jsx("option",{value:"medium",children:""}),o.jsx("option",{value:"low",children:""})]})]}),o.jsx("div",{className:"md:hidden space-y-3",children:G.map(D=>o.jsxs("div",{className:`card p-3 hover:border-gray-400 transition-colors ${D.priority==="high"?"border-2 border-rose-200 bg-rose-50/30":""}`,children:[o.jsxs("div",{className:"flex items-start justify-between mb-2",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[ee(D.status),U(D.dueDate),D.priority==="high"&&de(D.priority)]}),o.jsx("h3",{className:"font-bold text-base text-gray-900",children:D.project}),o.jsx("p",{className:"text-xs text-gray-600 mt-0.5",children:D.requestType})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:()=>M(D),className:"text-xs text-gray-600 hover:text-gray-900 px-2 py-1",children:""}),o.jsx("button",{onClick:()=>A(D.id,D.project),className:"text-gray-600 hover:text-gray-700 p-1",children:o.jsx(rr,{className:"h-4 w-4"})})]})]}),o.jsxs("div",{className:"space-y-2 text-sm border-t border-gray-100 pt-2",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500",children:" "}),o.jsx("p",{className:"text-gray-900 mt-0.5",children:D.description})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-500",children:""}),o.jsx("p",{className:"text-gray-900 font-medium mt-0.5",children:D.requestedBy})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-500",children:""}),o.jsx("p",{className:"text-gray-900 font-medium mt-0.5",children:D.assignedTo})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-2 pt-1",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500 mb-1",children:""}),o.jsx("p",{className:"text-xs text-gray-900",children:Te(D.requestDate,"MM.dd (eee)",{locale:et})})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500 mb-1",children:""}),o.jsx("p",{className:"text-xs text-gray-900",children:Te(D.dueDate,"MM.dd (eee)",{locale:et})})]})]}),o.jsx("div",{className:"flex items-center justify-between pt-1",children:o.jsxs("div",{className:"text-xs",children:[o.jsx("span",{className:"text-gray-500",children:": "}),de(D.priority)]})})]}),o.jsxs("div",{className:"flex gap-2 mt-3 pt-3 border-t border-gray-100",children:[D.status==="pending"&&o.jsx("button",{onClick:()=>ce(D.id,"in-progress"),className:"flex-1 px-3 py-2 text-xs font-semibold text-white rounded-lg transition-colors bg-gray-600 hover:bg-gray-700",children:""}),D.status==="in-progress"&&o.jsx("button",{onClick:()=>ce(D.id,"completed"),className:"flex-1 px-3 py-2 text-xs font-semibold bg-gray-900 text-white rounded-lg hover:bg-gray-800 transition-colors",children:""}),D.status==="completed"&&o.jsx("div",{className:"flex-1 text-center text-xs text-gray-500 py-2",children:" "})]})]},D.id))}),o.jsx("div",{className:"hidden md:block bg-white border border-gray-200 overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"D-day"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:""})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",style:{overflow:"visible"},children:G.map(D=>o.jsxs("tr",{className:`hover:bg-gray-50 ${D.priority==="high"?"bg-rose-50/30":""}`,style:{overflow:"visible"},children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("p",{className:"font-medium text-gray-900",children:D.project})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("p",{className:"text-sm text-gray-900",children:D.requestType})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("p",{className:"text-sm text-gray-900",children:D.description})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",style:{overflow:"visible"},children:o.jsxs("div",{className:"relative inline-block",children:[o.jsx("button",{onClick:T=>{T.stopPropagation(),Y(D.id,"requestedBy")},className:"text-sm text-gray-900 hover:text-gray-600 hover:underline transition-colors",children:D.requestedBy}),(x==null?void 0:x.requestId)===D.id&&(x==null?void 0:x.field)==="requestedBy"&&o.jsx("div",{onClick:T=>T.stopPropagation(),className:"absolute left-0 top-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg z-50 min-w-[100px]",children:O1.map(T=>o.jsx("button",{onClick:()=>K(T),className:`block w-full text-left px-4 py-2 text-sm hover:bg-gray-100 transition-colors first:rounded-t-lg last:rounded-b-lg ${T===D.requestedBy?"bg-gray-50 font-medium":""}`,children:T},T))})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",style:{overflow:"visible"},children:o.jsxs("div",{className:"relative inline-block",children:[o.jsx("button",{onClick:T=>{T.stopPropagation(),Y(D.id,"assignedTo")},className:"text-sm text-gray-900 hover:text-gray-600 hover:underline transition-colors",children:D.assignedTo}),(x==null?void 0:x.requestId)===D.id&&(x==null?void 0:x.field)==="assignedTo"&&o.jsx("div",{onClick:T=>T.stopPropagation(),className:"absolute left-0 top-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg z-50 min-w-[100px]",children:O1.map(T=>o.jsx("button",{onClick:()=>K(T),className:`block w-full text-left px-4 py-2 text-sm hover:bg-gray-100 transition-colors first:rounded-t-lg last:rounded-b-lg ${T===D.assignedTo?"bg-gray-50 font-medium":""}`,children:T},T))})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("div",{className:"relative inline-block",children:[(p==null?void 0:p.requestId)===D.id&&(p==null?void 0:p.field)==="requestDate"&&o.jsx("input",{ref:k,type:"date",defaultValue:Te(D.requestDate,"yyyy-MM-dd"),onChange:T=>H(T.target.value),onBlur:()=>b(null),className:"absolute left-0 top-0 w-auto h-auto opacity-0 z-50",style:{pointerEvents:"auto"}}),o.jsxs("button",{onClick:()=>V(D.id,"requestDate"),className:"flex items-center space-x-2 text-sm text-gray-900 hover:text-gray-600 transition-colors",children:[o.jsx(fa,{className:"h-4 w-4"}),o.jsx("span",{children:Te(D.requestDate,"yyyy.MM.dd (eee)",{locale:et})})]})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("div",{className:"relative inline-block",children:[(p==null?void 0:p.requestId)===D.id&&(p==null?void 0:p.field)==="dueDate"&&o.jsx("input",{ref:k,type:"date",defaultValue:Te(D.dueDate,"yyyy-MM-dd"),onChange:T=>H(T.target.value),onBlur:()=>b(null),className:"absolute left-0 top-0 w-auto h-auto opacity-0 z-50",style:{pointerEvents:"auto"}}),o.jsxs("button",{onClick:()=>V(D.id,"dueDate"),className:"flex items-center space-x-2 text-sm text-gray-900 hover:text-gray-600 transition-colors",children:[o.jsx(fa,{className:"h-4 w-4"}),o.jsx("span",{children:Te(D.dueDate,"yyyy.MM.dd (eee)",{locale:et})})]})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:U(D.dueDate)}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:de(D.priority)}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:ee(D.status)}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[D.status==="pending"&&o.jsx("button",{onClick:()=>ce(D.id,"in-progress"),className:"px-3 py-1 text-xs font-semibold text-white rounded transition-colors bg-gray-600 hover:bg-gray-700",children:""}),D.status==="in-progress"&&o.jsx("button",{onClick:()=>ce(D.id,"completed"),className:"px-3 py-1 text-xs font-semibold bg-gray-900 text-white rounded hover:bg-gray-800 transition-colors",children:""}),o.jsx("button",{onClick:()=>M(D),className:"text-xs text-gray-600 hover:text-gray-900",children:""}),o.jsx("button",{onClick:()=>A(D.id,D.project),className:"text-gray-600 hover:text-gray-700",children:o.jsx(rr,{className:"h-4 w-4"})})]})})]},D.id))})]})}),c&&o.jsx(ute,{request:d,onClose:()=>{u(!1),f(null)},onSave:$})]})};function fte(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return w.useMemo(()=>n=>{t.forEach(s=>s(n))},t)}const qh=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Qi(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function S0(e){return"nodeType"in e}function Ir(e){var t,r;return e?Qi(e)?e:S0(e)&&(t=(r=e.ownerDocument)==null?void 0:r.defaultView)!=null?t:window:window}function k0(e){const{Document:t}=Ir(e);return e instanceof t}function pu(e){return Qi(e)?!1:e instanceof Ir(e).HTMLElement}function AC(e){return e instanceof Ir(e).SVGElement}function Xi(e){return e?Qi(e)?e.document:S0(e)?k0(e)?e:pu(e)||AC(e)?e.ownerDocument:document:document:document}const ls=qh?w.useLayoutEffect:w.useEffect;function D0(e){const t=w.useRef(e);return ls(()=>{t.current=e}),w.useCallback(function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return t.current==null?void 0:t.current(...n)},[])}function hte(){const e=w.useRef(null),t=w.useCallback((n,s)=>{e.current=setInterval(n,s)},[]),r=w.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,r]}function Ac(e,t){t===void 0&&(t=[e]);const r=w.useRef(e);return ls(()=>{r.current!==e&&(r.current=e)},t),r}function gu(e,t){const r=w.useRef();return w.useMemo(()=>{const n=e(r.current);return r.current=n,n},[...t])}function Pf(e){const t=D0(e),r=w.useRef(null),n=w.useCallback(s=>{s!==r.current&&(t==null||t(s,r.current)),r.current=s},[]);return[r,n]}function Vg(e){const t=w.useRef();return w.useEffect(()=>{t.current=e},[e]),t.current}let tp={};function yu(e,t){return w.useMemo(()=>{if(t)return t;const r=tp[e]==null?0:tp[e]+1;return tp[e]=r,e+"-"+r},[e,t])}function MC(e){return function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),s=1;s<r;s++)n[s-1]=arguments[s];return n.reduce((a,i)=>{const l=Object.entries(i);for(const[c,u]of l){const d=a[c];d!=null&&(a[c]=d+e*u)}return a},{...t})}}const ni=MC(1),Mc=MC(-1);function mte(e){return"clientX"in e&&"clientY"in e}function C0(e){if(!e)return!1;const{KeyboardEvent:t}=Ir(e.target);return t&&e instanceof t}function pte(e){if(!e)return!1;const{TouchEvent:t}=Ir(e.target);return t&&e instanceof t}function Yg(e){if(pte(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:r}=e.touches[0];return{x:t,y:r}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:r}=e.changedTouches[0];return{x:t,y:r}}}return mte(e)?{x:e.clientX,y:e.clientY}:null}const Rc=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:r}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(r?Math.round(r):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:r}=e;return"scaleX("+t+") scaleY("+r+")"}},Transform:{toString(e){if(e)return[Rc.Translate.toString(e),Rc.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:r,easing:n}=e;return t+" "+r+"ms "+n}}}),$1="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function gte(e){return e.matches($1)?e:e.querySelector($1)}const yte={display:"none"};function vte(e){let{id:t,value:r}=e;return F.createElement("div",{id:t,style:yte},r)}function xte(e){let{id:t,announcement:r,ariaLiveType:n="assertive"}=e;const s={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return F.createElement("div",{id:t,style:s,role:"status","aria-live":n,"aria-atomic":!0},r)}function bte(){const[e,t]=w.useState("");return{announce:w.useCallback(n=>{n!=null&&t(n)},[]),announcement:e}}const RC=w.createContext(null);function wte(e){const t=w.useContext(RC);w.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function Nte(){const[e]=w.useState(()=>new Set),t=w.useCallback(n=>(e.add(n),()=>e.delete(n)),[e]);return[w.useCallback(n=>{let{type:s,event:a}=n;e.forEach(i=>{var l;return(l=i[s])==null?void 0:l.call(i,a)})},[e]),t]}const jte={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},Ste={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was moved over droppable area "+r.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was dropped over droppable area "+r.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function kte(e){let{announcements:t=Ste,container:r,hiddenTextDescribedById:n,screenReaderInstructions:s=jte}=e;const{announce:a,announcement:i}=bte(),l=yu("DndLiveRegion"),[c,u]=w.useState(!1);if(w.useEffect(()=>{u(!0)},[]),wte(w.useMemo(()=>({onDragStart(f){let{active:h}=f;a(t.onDragStart({active:h}))},onDragMove(f){let{active:h,over:y}=f;t.onDragMove&&a(t.onDragMove({active:h,over:y}))},onDragOver(f){let{active:h,over:y}=f;a(t.onDragOver({active:h,over:y}))},onDragEnd(f){let{active:h,over:y}=f;a(t.onDragEnd({active:h,over:y}))},onDragCancel(f){let{active:h,over:y}=f;a(t.onDragCancel({active:h,over:y}))}}),[a,t])),!c)return null;const d=F.createElement(F.Fragment,null,F.createElement(vte,{id:n,value:s.draggable}),F.createElement(xte,{id:l,announcement:i}));return r?qa.createPortal(d,r):d}var Bt;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(Bt||(Bt={}));function Af(){}function I1(e,t){return w.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function Dte(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return w.useMemo(()=>[...t].filter(n=>n!=null),[...t])}const Rn=Object.freeze({x:0,y:0});function OC(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function $C(e,t){let{data:{value:r}}=e,{data:{value:n}}=t;return r-n}function Cte(e,t){let{data:{value:r}}=e,{data:{value:n}}=t;return n-r}function L1(e){let{left:t,top:r,height:n,width:s}=e;return[{x:t,y:r},{x:t+s,y:r},{x:t,y:r+n},{x:t+s,y:r+n}]}function IC(e,t){if(!e||e.length===0)return null;const[r]=e;return r[t]}function F1(e,t,r){return t===void 0&&(t=e.left),r===void 0&&(r=e.top),{x:t+e.width*.5,y:r+e.height*.5}}const Ete=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:n}=e;const s=F1(t,t.left,t.top),a=[];for(const i of n){const{id:l}=i,c=r.get(l);if(c){const u=OC(F1(c),s);a.push({id:l,data:{droppableContainer:i,value:u}})}}return a.sort($C)},_te=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:n}=e;const s=L1(t),a=[];for(const i of n){const{id:l}=i,c=r.get(l);if(c){const u=L1(c),d=s.reduce((h,y,g)=>h+OC(u[g],y),0),f=Number((d/4).toFixed(4));a.push({id:l,data:{droppableContainer:i,value:f}})}}return a.sort($C)};function Tte(e,t){const r=Math.max(t.top,e.top),n=Math.max(t.left,e.left),s=Math.min(t.left+t.width,e.left+e.width),a=Math.min(t.top+t.height,e.top+e.height),i=s-n,l=a-r;if(n<s&&r<a){const c=t.width*t.height,u=e.width*e.height,d=i*l,f=d/(c+u-d);return Number(f.toFixed(4))}return 0}const Pte=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:n}=e;const s=[];for(const a of n){const{id:i}=a,l=r.get(i);if(l){const c=Tte(l,t);c>0&&s.push({id:i,data:{droppableContainer:a,value:c}})}}return s.sort(Cte)};function Ate(e,t,r){return{...e,scaleX:t&&r?t.width/r.width:1,scaleY:t&&r?t.height/r.height:1}}function LC(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Rn}function Mte(e){return function(r){for(var n=arguments.length,s=new Array(n>1?n-1:0),a=1;a<n;a++)s[a-1]=arguments[a];return s.reduce((i,l)=>({...i,top:i.top+e*l.y,bottom:i.bottom+e*l.y,left:i.left+e*l.x,right:i.right+e*l.x}),{...r})}}const Rte=Mte(1);function Ote(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function $te(e,t,r){const n=Ote(t);if(!n)return e;const{scaleX:s,scaleY:a,x:i,y:l}=n,c=e.left-i-(1-s)*parseFloat(r),u=e.top-l-(1-a)*parseFloat(r.slice(r.indexOf(" ")+1)),d=s?e.width/s:e.width,f=a?e.height/a:e.height;return{width:d,height:f,top:u,right:c+d,bottom:u+f,left:c}}const Ite={ignoreTransform:!1};function Ji(e,t){t===void 0&&(t=Ite);let r=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:u,transformOrigin:d}=Ir(e).getComputedStyle(e);u&&(r=$te(r,u,d))}const{top:n,left:s,width:a,height:i,bottom:l,right:c}=r;return{top:n,left:s,width:a,height:i,bottom:l,right:c}}function W1(e){return Ji(e,{ignoreTransform:!0})}function Lte(e){const t=e.innerWidth,r=e.innerHeight;return{top:0,left:0,right:t,bottom:r,width:t,height:r}}function Fte(e,t){return t===void 0&&(t=Ir(e).getComputedStyle(e)),t.position==="fixed"}function Wte(e,t){t===void 0&&(t=Ir(e).getComputedStyle(e));const r=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(s=>{const a=t[s];return typeof a=="string"?r.test(a):!1})}function Kh(e,t){const r=[];function n(s){if(t!=null&&r.length>=t||!s)return r;if(k0(s)&&s.scrollingElement!=null&&!r.includes(s.scrollingElement))return r.push(s.scrollingElement),r;if(!pu(s)||AC(s)||r.includes(s))return r;const a=Ir(e).getComputedStyle(s);return s!==e&&Wte(s,a)&&r.push(s),Fte(s,a)?r:n(s.parentNode)}return e?n(e):r}function FC(e){const[t]=Kh(e,1);return t??null}function rp(e){return!qh||!e?null:Qi(e)?e:S0(e)?k0(e)||e===Xi(e).scrollingElement?window:pu(e)?e:null:null}function WC(e){return Qi(e)?e.scrollX:e.scrollLeft}function BC(e){return Qi(e)?e.scrollY:e.scrollTop}function qg(e){return{x:WC(e),y:BC(e)}}var Qt;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(Qt||(Qt={}));function UC(e){return!qh||!e?!1:e===document.scrollingElement}function HC(e){const t={x:0,y:0},r=UC(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},n={x:e.scrollWidth-r.width,y:e.scrollHeight-r.height},s=e.scrollTop<=t.y,a=e.scrollLeft<=t.x,i=e.scrollTop>=n.y,l=e.scrollLeft>=n.x;return{isTop:s,isLeft:a,isBottom:i,isRight:l,maxScroll:n,minScroll:t}}const Bte={x:.2,y:.2};function Ute(e,t,r,n,s){let{top:a,left:i,right:l,bottom:c}=r;n===void 0&&(n=10),s===void 0&&(s=Bte);const{isTop:u,isBottom:d,isLeft:f,isRight:h}=HC(e),y={x:0,y:0},g={x:0,y:0},m={height:t.height*s.y,width:t.width*s.x};return!u&&a<=t.top+m.height?(y.y=Qt.Backward,g.y=n*Math.abs((t.top+m.height-a)/m.height)):!d&&c>=t.bottom-m.height&&(y.y=Qt.Forward,g.y=n*Math.abs((t.bottom-m.height-c)/m.height)),!h&&l>=t.right-m.width?(y.x=Qt.Forward,g.x=n*Math.abs((t.right-m.width-l)/m.width)):!f&&i<=t.left+m.width&&(y.x=Qt.Backward,g.x=n*Math.abs((t.left+m.width-i)/m.width)),{direction:y,speed:g}}function Hte(e){if(e===document.scrollingElement){const{innerWidth:a,innerHeight:i}=window;return{top:0,left:0,right:a,bottom:i,width:a,height:i}}const{top:t,left:r,right:n,bottom:s}=e.getBoundingClientRect();return{top:t,left:r,right:n,bottom:s,width:e.clientWidth,height:e.clientHeight}}function zC(e){return e.reduce((t,r)=>ni(t,qg(r)),Rn)}function zte(e){return e.reduce((t,r)=>t+WC(r),0)}function Vte(e){return e.reduce((t,r)=>t+BC(r),0)}function Yte(e,t){if(t===void 0&&(t=Ji),!e)return;const{top:r,left:n,bottom:s,right:a}=t(e);FC(e)&&(s<=0||a<=0||r>=window.innerHeight||n>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const qte=[["x",["left","right"],zte],["y",["top","bottom"],Vte]];class E0{constructor(t,r){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const n=Kh(r),s=zC(n);this.rect={...t},this.width=t.width,this.height=t.height;for(const[a,i,l]of qte)for(const c of i)Object.defineProperty(this,c,{get:()=>{const u=l(n),d=s[a]-u;return this.rect[c]+d},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Hl{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(r=>{var n;return(n=this.target)==null?void 0:n.removeEventListener(...r)})},this.target=t}add(t,r,n){var s;(s=this.target)==null||s.addEventListener(t,r,n),this.listeners.push([t,r,n])}}function Kte(e){const{EventTarget:t}=Ir(e);return e instanceof t?e:Xi(e)}function np(e,t){const r=Math.abs(e.x),n=Math.abs(e.y);return typeof t=="number"?Math.sqrt(r**2+n**2)>t:"x"in t&&"y"in t?r>t.x&&n>t.y:"x"in t?r>t.x:"y"in t?n>t.y:!1}var Xr;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(Xr||(Xr={}));function B1(e){e.preventDefault()}function Gte(e){e.stopPropagation()}var Ve;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(Ve||(Ve={}));const VC={start:[Ve.Space,Ve.Enter],cancel:[Ve.Esc],end:[Ve.Space,Ve.Enter,Ve.Tab]},Qte=(e,t)=>{let{currentCoordinates:r}=t;switch(e.code){case Ve.Right:return{...r,x:r.x+25};case Ve.Left:return{...r,x:r.x-25};case Ve.Down:return{...r,y:r.y+25};case Ve.Up:return{...r,y:r.y-25}}};class _0{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:r}}=t;this.props=t,this.listeners=new Hl(Xi(r)),this.windowListeners=new Hl(Ir(r)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Xr.Resize,this.handleCancel),this.windowListeners.add(Xr.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Xr.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:r}=this.props,n=t.node.current;n&&Yte(n),r(Rn)}handleKeyDown(t){if(C0(t)){const{active:r,context:n,options:s}=this.props,{keyboardCodes:a=VC,coordinateGetter:i=Qte,scrollBehavior:l="smooth"}=s,{code:c}=t;if(a.end.includes(c)){this.handleEnd(t);return}if(a.cancel.includes(c)){this.handleCancel(t);return}const{collisionRect:u}=n.current,d=u?{x:u.left,y:u.top}:Rn;this.referenceCoordinates||(this.referenceCoordinates=d);const f=i(t,{active:r,context:n.current,currentCoordinates:d});if(f){const h=Mc(f,d),y={x:0,y:0},{scrollableAncestors:g}=n.current;for(const m of g){const N=t.code,{isTop:v,isRight:p,isLeft:b,isBottom:x,maxScroll:S,minScroll:k}=HC(m),_=Hte(m),A={x:Math.min(N===Ve.Right?_.right-_.width/2:_.right,Math.max(N===Ve.Right?_.left:_.left+_.width/2,f.x)),y:Math.min(N===Ve.Down?_.bottom-_.height/2:_.bottom,Math.max(N===Ve.Down?_.top:_.top+_.height/2,f.y))},M=N===Ve.Right&&!p||N===Ve.Left&&!b,$=N===Ve.Down&&!x||N===Ve.Up&&!v;if(M&&A.x!==f.x){const V=m.scrollLeft+h.x,H=N===Ve.Right&&V<=S.x||N===Ve.Left&&V>=k.x;if(H&&!h.y){m.scrollTo({left:V,behavior:l});return}H?y.x=m.scrollLeft-V:y.x=N===Ve.Right?m.scrollLeft-S.x:m.scrollLeft-k.x,y.x&&m.scrollBy({left:-y.x,behavior:l});break}else if($&&A.y!==f.y){const V=m.scrollTop+h.y,H=N===Ve.Down&&V<=S.y||N===Ve.Up&&V>=k.y;if(H&&!h.x){m.scrollTo({top:V,behavior:l});return}H?y.y=m.scrollTop-V:y.y=N===Ve.Down?m.scrollTop-S.y:m.scrollTop-k.y,y.y&&m.scrollBy({top:-y.y,behavior:l});break}}this.handleMove(t,ni(Mc(f,this.referenceCoordinates),y))}}}handleMove(t,r){const{onMove:n}=this.props;t.preventDefault(),n(r)}handleEnd(t){const{onEnd:r}=this.props;t.preventDefault(),this.detach(),r()}handleCancel(t){const{onCancel:r}=this.props;t.preventDefault(),this.detach(),r()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}_0.activators=[{eventName:"onKeyDown",handler:(e,t,r)=>{let{keyboardCodes:n=VC,onActivation:s}=t,{active:a}=r;const{code:i}=e.nativeEvent;if(n.start.includes(i)){const l=a.activatorNode.current;return l&&e.target!==l?!1:(e.preventDefault(),s==null||s({event:e.nativeEvent}),!0)}return!1}}];function U1(e){return!!(e&&"distance"in e)}function H1(e){return!!(e&&"delay"in e)}class T0{constructor(t,r,n){var s;n===void 0&&(n=Kte(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=r;const{event:a}=t,{target:i}=a;this.props=t,this.events=r,this.document=Xi(i),this.documentListeners=new Hl(this.document),this.listeners=new Hl(n),this.windowListeners=new Hl(Ir(i)),this.initialCoordinates=(s=Yg(a))!=null?s:Rn,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:r,bypassActivationConstraint:n}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(Xr.Resize,this.handleCancel),this.windowListeners.add(Xr.DragStart,B1),this.windowListeners.add(Xr.VisibilityChange,this.handleCancel),this.windowListeners.add(Xr.ContextMenu,B1),this.documentListeners.add(Xr.Keydown,this.handleKeydown),r){if(n!=null&&n({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(H1(r)){this.timeoutId=setTimeout(this.handleStart,r.delay),this.handlePending(r);return}if(U1(r)){this.handlePending(r);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,r){const{active:n,onPending:s}=this.props;s(n,t,this.initialCoordinates,r)}handleStart(){const{initialCoordinates:t}=this,{onStart:r}=this.props;t&&(this.activated=!0,this.documentListeners.add(Xr.Click,Gte,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Xr.SelectionChange,this.removeTextSelection),r(t))}handleMove(t){var r;const{activated:n,initialCoordinates:s,props:a}=this,{onMove:i,options:{activationConstraint:l}}=a;if(!s)return;const c=(r=Yg(t))!=null?r:Rn,u=Mc(s,c);if(!n&&l){if(U1(l)){if(l.tolerance!=null&&np(u,l.tolerance))return this.handleCancel();if(np(u,l.distance))return this.handleStart()}if(H1(l)&&np(u,l.tolerance))return this.handleCancel();this.handlePending(l,u);return}t.cancelable&&t.preventDefault(),i(c)}handleEnd(){const{onAbort:t,onEnd:r}=this.props;this.detach(),this.activated||t(this.props.active),r()}handleCancel(){const{onAbort:t,onCancel:r}=this.props;this.detach(),this.activated||t(this.props.active),r()}handleKeydown(t){t.code===Ve.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const Xte={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class P0 extends T0{constructor(t){const{event:r}=t,n=Xi(r.target);super(t,Xte,n)}}P0.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;return!r.isPrimary||r.button!==0?!1:(n==null||n({event:r}),!0)}}];const Jte={move:{name:"mousemove"},end:{name:"mouseup"}};var Kg;(function(e){e[e.RightClick=2]="RightClick"})(Kg||(Kg={}));class Zte extends T0{constructor(t){super(t,Jte,Xi(t.event.target))}}Zte.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;return r.button===Kg.RightClick?!1:(n==null||n({event:r}),!0)}}];const sp={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class ere extends T0{constructor(t){super(t,sp)}static setup(){return window.addEventListener(sp.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(sp.move.name,t)};function t(){}}}ere.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;const{touches:s}=r;return s.length>1?!1:(n==null||n({event:r}),!0)}}];var zl;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(zl||(zl={}));var Mf;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(Mf||(Mf={}));function tre(e){let{acceleration:t,activator:r=zl.Pointer,canScroll:n,draggingRect:s,enabled:a,interval:i=5,order:l=Mf.TreeOrder,pointerCoordinates:c,scrollableAncestors:u,scrollableAncestorRects:d,delta:f,threshold:h}=e;const y=nre({delta:f,disabled:!a}),[g,m]=hte(),N=w.useRef({x:0,y:0}),v=w.useRef({x:0,y:0}),p=w.useMemo(()=>{switch(r){case zl.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case zl.DraggableRect:return s}},[r,s,c]),b=w.useRef(null),x=w.useCallback(()=>{const k=b.current;if(!k)return;const _=N.current.x*v.current.x,A=N.current.y*v.current.y;k.scrollBy(_,A)},[]),S=w.useMemo(()=>l===Mf.TreeOrder?[...u].reverse():u,[l,u]);w.useEffect(()=>{if(!a||!u.length||!p){m();return}for(const k of S){if((n==null?void 0:n(k))===!1)continue;const _=u.indexOf(k),A=d[_];if(!A)continue;const{direction:M,speed:$}=Ute(k,A,p,t,h);for(const V of["x","y"])y[V][M[V]]||($[V]=0,M[V]=0);if($.x>0||$.y>0){m(),b.current=k,g(x,i),N.current=$,v.current=M;return}}N.current={x:0,y:0},v.current={x:0,y:0},m()},[t,x,n,m,a,i,JSON.stringify(p),JSON.stringify(y),g,u,S,d,JSON.stringify(h)])}const rre={x:{[Qt.Backward]:!1,[Qt.Forward]:!1},y:{[Qt.Backward]:!1,[Qt.Forward]:!1}};function nre(e){let{delta:t,disabled:r}=e;const n=Vg(t);return gu(s=>{if(r||!n||!s)return rre;const a={x:Math.sign(t.x-n.x),y:Math.sign(t.y-n.y)};return{x:{[Qt.Backward]:s.x[Qt.Backward]||a.x===-1,[Qt.Forward]:s.x[Qt.Forward]||a.x===1},y:{[Qt.Backward]:s.y[Qt.Backward]||a.y===-1,[Qt.Forward]:s.y[Qt.Forward]||a.y===1}}},[r,t,n])}function sre(e,t){const r=t!=null?e.get(t):void 0,n=r?r.node.current:null;return gu(s=>{var a;return t==null?null:(a=n??s)!=null?a:null},[n,t])}function are(e,t){return w.useMemo(()=>e.reduce((r,n)=>{const{sensor:s}=n,a=s.activators.map(i=>({eventName:i.eventName,handler:t(i.handler,n)}));return[...r,...a]},[]),[e,t])}var Oc;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Oc||(Oc={}));var Gg;(function(e){e.Optimized="optimized"})(Gg||(Gg={}));const z1=new Map;function ore(e,t){let{dragging:r,dependencies:n,config:s}=t;const[a,i]=w.useState(null),{frequency:l,measure:c,strategy:u}=s,d=w.useRef(e),f=N(),h=Ac(f),y=w.useCallback(function(v){v===void 0&&(v=[]),!h.current&&i(p=>p===null?v:p.concat(v.filter(b=>!p.includes(b))))},[h]),g=w.useRef(null),m=gu(v=>{if(f&&!r)return z1;if(!v||v===z1||d.current!==e||a!=null){const p=new Map;for(let b of e){if(!b)continue;if(a&&a.length>0&&!a.includes(b.id)&&b.rect.current){p.set(b.id,b.rect.current);continue}const x=b.node.current,S=x?new E0(c(x),x):null;b.rect.current=S,S&&p.set(b.id,S)}return p}return v},[e,a,r,f,c]);return w.useEffect(()=>{d.current=e},[e]),w.useEffect(()=>{f||y()},[r,f]),w.useEffect(()=>{a&&a.length>0&&i(null)},[JSON.stringify(a)]),w.useEffect(()=>{f||typeof l!="number"||g.current!==null||(g.current=setTimeout(()=>{y(),g.current=null},l))},[l,f,y,...n]),{droppableRects:m,measureDroppableContainers:y,measuringScheduled:a!=null};function N(){switch(u){case Oc.Always:return!1;case Oc.BeforeDragging:return r;default:return!r}}}function YC(e,t){return gu(r=>e?r||(typeof t=="function"?t(e):e):null,[t,e])}function ire(e,t){return YC(e,t)}function lre(e){let{callback:t,disabled:r}=e;const n=D0(t),s=w.useMemo(()=>{if(r||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:a}=window;return new a(n)},[n,r]);return w.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function Gh(e){let{callback:t,disabled:r}=e;const n=D0(t),s=w.useMemo(()=>{if(r||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:a}=window;return new a(n)},[r]);return w.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function cre(e){return new E0(Ji(e),e)}function V1(e,t,r){t===void 0&&(t=cre);const[n,s]=w.useState(null);function a(){s(c=>{if(!e)return null;if(e.isConnected===!1){var u;return(u=c??r)!=null?u:null}const d=t(e);return JSON.stringify(c)===JSON.stringify(d)?c:d})}const i=lre({callback(c){if(e)for(const u of c){const{type:d,target:f}=u;if(d==="childList"&&f instanceof HTMLElement&&f.contains(e)){a();break}}}}),l=Gh({callback:a});return ls(()=>{a(),e?(l==null||l.observe(e),i==null||i.observe(document.body,{childList:!0,subtree:!0})):(l==null||l.disconnect(),i==null||i.disconnect())},[e]),n}function ure(e){const t=YC(e);return LC(e,t)}const Y1=[];function dre(e){const t=w.useRef(e),r=gu(n=>e?n&&n!==Y1&&e&&t.current&&e.parentNode===t.current.parentNode?n:Kh(e):Y1,[e]);return w.useEffect(()=>{t.current=e},[e]),r}function fre(e){const[t,r]=w.useState(null),n=w.useRef(e),s=w.useCallback(a=>{const i=rp(a.target);i&&r(l=>l?(l.set(i,qg(i)),new Map(l)):null)},[]);return w.useEffect(()=>{const a=n.current;if(e!==a){i(a);const l=e.map(c=>{const u=rp(c);return u?(u.addEventListener("scroll",s,{passive:!0}),[u,qg(u)]):null}).filter(c=>c!=null);r(l.length?new Map(l):null),n.current=e}return()=>{i(e),i(a)};function i(l){l.forEach(c=>{const u=rp(c);u==null||u.removeEventListener("scroll",s)})}},[s,e]),w.useMemo(()=>e.length?t?Array.from(t.values()).reduce((a,i)=>ni(a,i),Rn):zC(e):Rn,[e,t])}function q1(e,t){t===void 0&&(t=[]);const r=w.useRef(null);return w.useEffect(()=>{r.current=null},t),w.useEffect(()=>{const n=e!==Rn;n&&!r.current&&(r.current=e),!n&&r.current&&(r.current=null)},[e]),r.current?Mc(e,r.current):Rn}function hre(e){w.useEffect(()=>{if(!qh)return;const t=e.map(r=>{let{sensor:n}=r;return n.setup==null?void 0:n.setup()});return()=>{for(const r of t)r==null||r()}},e.map(t=>{let{sensor:r}=t;return r}))}function mre(e,t){return w.useMemo(()=>e.reduce((r,n)=>{let{eventName:s,handler:a}=n;return r[s]=i=>{a(i,t)},r},{}),[e,t])}function qC(e){return w.useMemo(()=>e?Lte(e):null,[e])}const K1=[];function pre(e,t){t===void 0&&(t=Ji);const[r]=e,n=qC(r?Ir(r):null),[s,a]=w.useState(K1);function i(){a(()=>e.length?e.map(c=>UC(c)?n:new E0(t(c),c)):K1)}const l=Gh({callback:i});return ls(()=>{l==null||l.disconnect(),i(),e.forEach(c=>l==null?void 0:l.observe(c))},[e]),s}function gre(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return pu(t)?t:e}function yre(e){let{measure:t}=e;const[r,n]=w.useState(null),s=w.useCallback(u=>{for(const{target:d}of u)if(pu(d)){n(f=>{const h=t(d);return f?{...f,width:h.width,height:h.height}:h});break}},[t]),a=Gh({callback:s}),i=w.useCallback(u=>{const d=gre(u);a==null||a.disconnect(),d&&(a==null||a.observe(d)),n(d?t(d):null)},[t,a]),[l,c]=Pf(i);return w.useMemo(()=>({nodeRef:l,rect:r,setRef:c}),[r,l,c])}const vre=[{sensor:P0,options:{}},{sensor:_0,options:{}}],xre={current:{}},Ad={draggable:{measure:W1},droppable:{measure:W1,strategy:Oc.WhileDragging,frequency:Gg.Optimized},dragOverlay:{measure:Ji}};class Vl extends Map{get(t){var r;return t!=null&&(r=super.get(t))!=null?r:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:r}=t;return!r})}getNodeFor(t){var r,n;return(r=(n=this.get(t))==null?void 0:n.node.current)!=null?r:void 0}}const bre={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Vl,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Af},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Ad,measureDroppableContainers:Af,windowRect:null,measuringScheduled:!1},wre={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Af,draggableNodes:new Map,over:null,measureDroppableContainers:Af},Qh=w.createContext(wre),KC=w.createContext(bre);function Nre(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Vl}}}function jre(e,t){switch(t.type){case Bt.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case Bt.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case Bt.DragEnd:case Bt.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Bt.RegisterDroppable:{const{element:r}=t,{id:n}=r,s=new Vl(e.droppable.containers);return s.set(n,r),{...e,droppable:{...e.droppable,containers:s}}}case Bt.SetDroppableDisabled:{const{id:r,key:n,disabled:s}=t,a=e.droppable.containers.get(r);if(!a||n!==a.key)return e;const i=new Vl(e.droppable.containers);return i.set(r,{...a,disabled:s}),{...e,droppable:{...e.droppable,containers:i}}}case Bt.UnregisterDroppable:{const{id:r,key:n}=t,s=e.droppable.containers.get(r);if(!s||n!==s.key)return e;const a=new Vl(e.droppable.containers);return a.delete(r),{...e,droppable:{...e.droppable,containers:a}}}default:return e}}function Sre(e){let{disabled:t}=e;const{active:r,activatorEvent:n,draggableNodes:s}=w.useContext(Qh),a=Vg(n),i=Vg(r==null?void 0:r.id);return w.useEffect(()=>{if(!t&&!n&&a&&i!=null){if(!C0(a)||document.activeElement===a.target)return;const l=s.get(i);if(!l)return;const{activatorNode:c,node:u}=l;if(!c.current&&!u.current)return;requestAnimationFrame(()=>{for(const d of[c.current,u.current]){if(!d)continue;const f=gte(d);if(f){f.focus();break}}})}},[n,t,s,i,a]),null}function kre(e,t){let{transform:r,...n}=t;return e!=null&&e.length?e.reduce((s,a)=>a({transform:s,...n}),r):r}function Dre(e){return w.useMemo(()=>({draggable:{...Ad.draggable,...e==null?void 0:e.draggable},droppable:{...Ad.droppable,...e==null?void 0:e.droppable},dragOverlay:{...Ad.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function Cre(e){let{activeNode:t,measure:r,initialRect:n,config:s=!0}=e;const a=w.useRef(!1),{x:i,y:l}=typeof s=="boolean"?{x:s,y:s}:s;ls(()=>{if(!i&&!l||!t){a.current=!1;return}if(a.current||!n)return;const u=t==null?void 0:t.node.current;if(!u||u.isConnected===!1)return;const d=r(u),f=LC(d,n);if(i||(f.x=0),l||(f.y=0),a.current=!0,Math.abs(f.x)>0||Math.abs(f.y)>0){const h=FC(u);h&&h.scrollBy({top:f.y,left:f.x})}},[t,i,l,n,r])}const GC=w.createContext({...Rn,scaleX:1,scaleY:1});var Zs;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Zs||(Zs={}));const Ere=w.memo(function(t){var r,n,s,a;let{id:i,accessibility:l,autoScroll:c=!0,children:u,sensors:d=vre,collisionDetection:f=Pte,measuring:h,modifiers:y,...g}=t;const m=w.useReducer(jre,void 0,Nre),[N,v]=m,[p,b]=Nte(),[x,S]=w.useState(Zs.Uninitialized),k=x===Zs.Initialized,{draggable:{active:_,nodes:A,translate:M},droppable:{containers:$}}=N,V=_!=null?A.get(_):null,H=w.useRef({initial:null,translated:null}),Y=w.useMemo(()=>{var re;return _!=null?{id:_,data:(re=V==null?void 0:V.data)!=null?re:xre,rect:H}:null},[_,V]),K=w.useRef(null),[ce,ee]=w.useState(null),[de,Z]=w.useState(null),U=Ac(g,Object.values(g)),oe=yu("DndDescribedBy",i),G=w.useMemo(()=>$.getEnabled(),[$]),W=Dre(h),{droppableRects:D,measureDroppableContainers:T,measuringScheduled:z}=ore(G,{dragging:k,dependencies:[M.x,M.y],config:W.droppable}),ne=sre(A,_),he=w.useMemo(()=>de?Yg(de):null,[de]),ue=xe(),B=ire(ne,W.draggable.measure);Cre({activeNode:_!=null?A.get(_):null,config:ue.layoutShiftCompensation,initialRect:B,measure:W.draggable.measure});const le=V1(ne,W.draggable.measure,B),Se=V1(ne?ne.parentElement:null),je=w.useRef({activatorEvent:null,active:null,activeNode:ne,collisionRect:null,collisions:null,droppableRects:D,draggableNodes:A,draggingNode:null,draggingNodeRect:null,droppableContainers:$,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Re=$.getNodeFor((r=je.current.over)==null?void 0:r.id),L=yre({measure:W.dragOverlay.measure}),ae=(n=L.nodeRef.current)!=null?n:ne,P=k?(s=L.rect)!=null?s:le:null,q=!!(L.nodeRef.current&&L.rect),j=ure(q?null:le),R=qC(ae?Ir(ae):null),E=dre(k?Re??ne:null),C=pre(E),O=kre(y,{transform:{x:M.x-j.x,y:M.y-j.y,scaleX:1,scaleY:1},activatorEvent:de,active:Y,activeNodeRect:le,containerNodeRect:Se,draggingNodeRect:P,over:je.current.over,overlayNodeRect:L.rect,scrollableAncestors:E,scrollableAncestorRects:C,windowRect:R}),J=he?ni(he,M):null,te=fre(E),se=q1(te),fe=q1(te,[le]),ke=ni(O,se),we=P?Rte(P,O):null,Ee=Y&&we?f({active:Y,collisionRect:we,droppableRects:D,droppableContainers:G,pointerCoordinates:J}):null,rt=IC(Ee,"id"),[We,Xe]=w.useState(null),Ke=q?O:ni(O,fe),ct=Ate(Ke,(a=We==null?void 0:We.rect)!=null?a:null,le),Je=w.useRef(null),Jt=w.useCallback((re,Ne)=>{let{sensor:De,options:Oe}=Ne;if(K.current==null)return;const nt=A.get(K.current);if(!nt)return;const Le=re.nativeEvent,Mt=new De({active:K.current,activeNode:nt,event:Le,options:Oe,context:je,onAbort(Rt){if(!A.get(Rt))return;const{onDragAbort:Fn}=U.current,fs={id:Rt};Fn==null||Fn(fs),p({type:"onDragAbort",event:fs})},onPending(Rt,Sr,Fn,fs){if(!A.get(Rt))return;const{onDragPending:el}=U.current,zs={id:Rt,constraint:Sr,initialCoordinates:Fn,offset:fs};el==null||el(zs),p({type:"onDragPending",event:zs})},onStart(Rt){const Sr=K.current;if(Sr==null)return;const Fn=A.get(Sr);if(!Fn)return;const{onDragStart:fs}=U.current,Zi={activatorEvent:Le,active:{id:Sr,data:Fn.data,rect:H}};qa.unstable_batchedUpdates(()=>{fs==null||fs(Zi),S(Zs.Initializing),v({type:Bt.DragStart,initialCoordinates:Rt,active:Sr}),p({type:"onDragStart",event:Zi}),ee(Je.current),Z(Le)})},onMove(Rt){v({type:Bt.DragMove,coordinates:Rt})},onEnd:Kr(Bt.DragEnd),onCancel:Kr(Bt.DragCancel)});Je.current=Mt;function Kr(Rt){return async function(){const{active:Fn,collisions:fs,over:Zi,scrollAdjustedTranslate:el}=je.current;let zs=null;if(Fn&&el){const{cancelDrop:tl}=U.current;zs={activatorEvent:Le,active:Fn,collisions:fs,delta:el,over:Zi},Rt===Bt.DragEnd&&typeof tl=="function"&&await Promise.resolve(tl(zs))&&(Rt=Bt.DragCancel)}K.current=null,qa.unstable_batchedUpdates(()=>{v({type:Rt}),S(Zs.Uninitialized),Xe(null),ee(null),Z(null),Je.current=null;const tl=Rt===Bt.DragEnd?"onDragEnd":"onDragCancel";if(zs){const Xh=U.current[tl];Xh==null||Xh(zs),p({type:tl,event:zs})}})}}},[A]),Lr=w.useCallback((re,Ne)=>(De,Oe)=>{const nt=De.nativeEvent,Le=A.get(Oe);if(K.current!==null||!Le||nt.dndKit||nt.defaultPrevented)return;const Mt={active:Le};re(De,Ne.options,Mt)===!0&&(nt.dndKit={capturedBy:Ne.sensor},K.current=Oe,Jt(De,Ne))},[A,Jt]),I=are(d,Lr);hre(d),ls(()=>{le&&x===Zs.Initializing&&S(Zs.Initialized)},[le,x]),w.useEffect(()=>{const{onDragMove:re}=U.current,{active:Ne,activatorEvent:De,collisions:Oe,over:nt}=je.current;if(!Ne||!De)return;const Le={active:Ne,activatorEvent:De,collisions:Oe,delta:{x:ke.x,y:ke.y},over:nt};qa.unstable_batchedUpdates(()=>{re==null||re(Le),p({type:"onDragMove",event:Le})})},[ke.x,ke.y]),w.useEffect(()=>{const{active:re,activatorEvent:Ne,collisions:De,droppableContainers:Oe,scrollAdjustedTranslate:nt}=je.current;if(!re||K.current==null||!Ne||!nt)return;const{onDragOver:Le}=U.current,Mt=Oe.get(rt),Kr=Mt&&Mt.rect.current?{id:Mt.id,rect:Mt.rect.current,data:Mt.data,disabled:Mt.disabled}:null,Rt={active:re,activatorEvent:Ne,collisions:De,delta:{x:nt.x,y:nt.y},over:Kr};qa.unstable_batchedUpdates(()=>{Xe(Kr),Le==null||Le(Rt),p({type:"onDragOver",event:Rt})})},[rt]),ls(()=>{je.current={activatorEvent:de,active:Y,activeNode:ne,collisionRect:we,collisions:Ee,droppableRects:D,draggableNodes:A,draggingNode:ae,draggingNodeRect:P,droppableContainers:$,over:We,scrollableAncestors:E,scrollAdjustedTranslate:ke},H.current={initial:P,translated:we}},[Y,ne,Ee,we,A,ae,P,D,$,We,E,ke]),tre({...ue,delta:M,draggingRect:we,pointerCoordinates:J,scrollableAncestors:E,scrollableAncestorRects:C});const ve=w.useMemo(()=>({active:Y,activeNode:ne,activeNodeRect:le,activatorEvent:de,collisions:Ee,containerNodeRect:Se,dragOverlay:L,draggableNodes:A,droppableContainers:$,droppableRects:D,over:We,measureDroppableContainers:T,scrollableAncestors:E,scrollableAncestorRects:C,measuringConfiguration:W,measuringScheduled:z,windowRect:R}),[Y,ne,le,de,Ee,Se,L,A,$,D,We,T,E,C,W,z,R]),me=w.useMemo(()=>({activatorEvent:de,activators:I,active:Y,activeNodeRect:le,ariaDescribedById:{draggable:oe},dispatch:v,draggableNodes:A,over:We,measureDroppableContainers:T}),[de,I,Y,le,v,oe,A,We,T]);return F.createElement(RC.Provider,{value:b},F.createElement(Qh.Provider,{value:me},F.createElement(KC.Provider,{value:ve},F.createElement(GC.Provider,{value:ct},u)),F.createElement(Sre,{disabled:(l==null?void 0:l.restoreFocus)===!1})),F.createElement(kte,{...l,hiddenTextDescribedById:oe}));function xe(){const re=(ce==null?void 0:ce.autoScrollEnabled)===!1,Ne=typeof c=="object"?c.enabled===!1:c===!1,De=k&&!re&&!Ne;return typeof c=="object"?{...c,enabled:De}:{enabled:De}}}),_re=w.createContext(null),G1="button",Tre="Draggable";function Pre(e){let{id:t,data:r,disabled:n=!1,attributes:s}=e;const a=yu(Tre),{activators:i,activatorEvent:l,active:c,activeNodeRect:u,ariaDescribedById:d,draggableNodes:f,over:h}=w.useContext(Qh),{role:y=G1,roleDescription:g="draggable",tabIndex:m=0}=s??{},N=(c==null?void 0:c.id)===t,v=w.useContext(N?GC:_re),[p,b]=Pf(),[x,S]=Pf(),k=mre(i,t),_=Ac(r);ls(()=>(f.set(t,{id:t,key:a,node:p,activatorNode:x,data:_}),()=>{const M=f.get(t);M&&M.key===a&&f.delete(t)}),[f,t]);const A=w.useMemo(()=>({role:y,tabIndex:m,"aria-disabled":n,"aria-pressed":N&&y===G1?!0:void 0,"aria-roledescription":g,"aria-describedby":d.draggable}),[n,y,m,N,g,d.draggable]);return{active:c,activatorEvent:l,activeNodeRect:u,attributes:A,isDragging:N,listeners:n?void 0:k,node:p,over:h,setNodeRef:b,setActivatorNodeRef:S,transform:v}}function Are(){return w.useContext(KC)}const Mre="Droppable",Rre={timeout:25};function Ore(e){let{data:t,disabled:r=!1,id:n,resizeObserverConfig:s}=e;const a=yu(Mre),{active:i,dispatch:l,over:c,measureDroppableContainers:u}=w.useContext(Qh),d=w.useRef({disabled:r}),f=w.useRef(!1),h=w.useRef(null),y=w.useRef(null),{disabled:g,updateMeasurementsFor:m,timeout:N}={...Rre,...s},v=Ac(m??n),p=w.useCallback(()=>{if(!f.current){f.current=!0;return}y.current!=null&&clearTimeout(y.current),y.current=setTimeout(()=>{u(Array.isArray(v.current)?v.current:[v.current]),y.current=null},N)},[N]),b=Gh({callback:p,disabled:g||!i}),x=w.useCallback((A,M)=>{b&&(M&&(b.unobserve(M),f.current=!1),A&&b.observe(A))},[b]),[S,k]=Pf(x),_=Ac(t);return w.useEffect(()=>{!b||!S.current||(b.disconnect(),f.current=!1,b.observe(S.current))},[S,b]),w.useEffect(()=>(l({type:Bt.RegisterDroppable,element:{id:n,key:a,disabled:r,node:S,rect:h,data:_}}),()=>l({type:Bt.UnregisterDroppable,key:a,id:n})),[n]),w.useEffect(()=>{r!==d.current.disabled&&(l({type:Bt.SetDroppableDisabled,id:n,key:a,disabled:r}),d.current.disabled=r)},[n,a,r,l]),{active:i,rect:h,isOver:(c==null?void 0:c.id)===n,node:S,over:c,setNodeRef:k}}function A0(e,t,r){const n=e.slice();return n.splice(r<0?n.length+r:r,0,n.splice(t,1)[0]),n}function $re(e,t){return e.reduce((r,n,s)=>{const a=t.get(n);return a&&(r[s]=a),r},Array(e.length))}function Zu(e){return e!==null&&e>=0}function Ire(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function Lre(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const QC=e=>{let{rects:t,activeIndex:r,overIndex:n,index:s}=e;const a=A0(t,n,r),i=t[s],l=a[s];return!l||!i?null:{x:l.left-i.left,y:l.top-i.top,scaleX:l.width/i.width,scaleY:l.height/i.height}},ed={scaleX:1,scaleY:1},Fre=e=>{var t;let{activeIndex:r,activeNodeRect:n,index:s,rects:a,overIndex:i}=e;const l=(t=a[r])!=null?t:n;if(!l)return null;if(s===r){const u=a[i];return u?{x:0,y:r<i?u.top+u.height-(l.top+l.height):u.top-l.top,...ed}:null}const c=Wre(a,s,r);return s>r&&s<=i?{x:0,y:-l.height-c,...ed}:s<r&&s>=i?{x:0,y:l.height+c,...ed}:{x:0,y:0,...ed}};function Wre(e,t,r){const n=e[t],s=e[t-1],a=e[t+1];return n?r<t?s?n.top-(s.top+s.height):a?a.top-(n.top+n.height):0:a?a.top-(n.top+n.height):s?n.top-(s.top+s.height):0:0}const XC="Sortable",JC=F.createContext({activeIndex:-1,containerId:XC,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:QC,disabled:{draggable:!1,droppable:!1}});function Bre(e){let{children:t,id:r,items:n,strategy:s=QC,disabled:a=!1}=e;const{active:i,dragOverlay:l,droppableRects:c,over:u,measureDroppableContainers:d}=Are(),f=yu(XC,r),h=l.rect!==null,y=w.useMemo(()=>n.map(k=>typeof k=="object"&&"id"in k?k.id:k),[n]),g=i!=null,m=i?y.indexOf(i.id):-1,N=u?y.indexOf(u.id):-1,v=w.useRef(y),p=!Ire(y,v.current),b=N!==-1&&m===-1||p,x=Lre(a);ls(()=>{p&&g&&d(y)},[p,y,g,d]),w.useEffect(()=>{v.current=y},[y]);const S=w.useMemo(()=>({activeIndex:m,containerId:f,disabled:x,disableTransforms:b,items:y,overIndex:N,useDragOverlay:h,sortedRects:$re(y,c),strategy:s}),[m,f,x.draggable,x.droppable,b,y,N,c,h,s]);return F.createElement(JC.Provider,{value:S},t)}const Ure=e=>{let{id:t,items:r,activeIndex:n,overIndex:s}=e;return A0(r,n,s).indexOf(t)},Hre=e=>{let{containerId:t,isSorting:r,wasDragging:n,index:s,items:a,newIndex:i,previousItems:l,previousContainerId:c,transition:u}=e;return!u||!n||l!==a&&s===i?!1:r?!0:i!==s&&t===c},zre={duration:200,easing:"ease"},ZC="transform",Vre=Rc.Transition.toString({property:ZC,duration:0,easing:"linear"}),Yre={roleDescription:"sortable"};function qre(e){let{disabled:t,index:r,node:n,rect:s}=e;const[a,i]=w.useState(null),l=w.useRef(r);return ls(()=>{if(!t&&r!==l.current&&n.current){const c=s.current;if(c){const u=Ji(n.current,{ignoreTransform:!0}),d={x:c.left-u.left,y:c.top-u.top,scaleX:c.width/u.width,scaleY:c.height/u.height};(d.x||d.y)&&i(d)}}r!==l.current&&(l.current=r)},[t,r,n,s]),w.useEffect(()=>{a&&i(null)},[a]),a}function Kre(e){let{animateLayoutChanges:t=Hre,attributes:r,disabled:n,data:s,getNewIndex:a=Ure,id:i,strategy:l,resizeObserverConfig:c,transition:u=zre}=e;const{items:d,containerId:f,activeIndex:h,disabled:y,disableTransforms:g,sortedRects:m,overIndex:N,useDragOverlay:v,strategy:p}=w.useContext(JC),b=Gre(n,y),x=d.indexOf(i),S=w.useMemo(()=>({sortable:{containerId:f,index:x,items:d},...s}),[f,s,x,d]),k=w.useMemo(()=>d.slice(d.indexOf(i)),[d,i]),{rect:_,node:A,isOver:M,setNodeRef:$}=Ore({id:i,data:S,disabled:b.droppable,resizeObserverConfig:{updateMeasurementsFor:k,...c}}),{active:V,activatorEvent:H,activeNodeRect:Y,attributes:K,setNodeRef:ce,listeners:ee,isDragging:de,over:Z,setActivatorNodeRef:U,transform:oe}=Pre({id:i,data:S,attributes:{...Yre,...r},disabled:b.draggable}),G=fte($,ce),W=!!V,D=W&&!g&&Zu(h)&&Zu(N),T=!v&&de,z=T&&D?oe:null,he=D?z??(l??p)({rects:m,activeNodeRect:Y,activeIndex:h,overIndex:N,index:x}):null,ue=Zu(h)&&Zu(N)?a({id:i,items:d,activeIndex:h,overIndex:N}):x,B=V==null?void 0:V.id,le=w.useRef({activeId:B,items:d,newIndex:ue,containerId:f}),Se=d!==le.current.items,je=t({active:V,containerId:f,isDragging:de,isSorting:W,id:i,index:x,items:d,newIndex:le.current.newIndex,previousItems:le.current.items,previousContainerId:le.current.containerId,transition:u,wasDragging:le.current.activeId!=null}),Re=qre({disabled:!je,index:x,node:A,rect:_});return w.useEffect(()=>{W&&le.current.newIndex!==ue&&(le.current.newIndex=ue),f!==le.current.containerId&&(le.current.containerId=f),d!==le.current.items&&(le.current.items=d)},[W,ue,f,d]),w.useEffect(()=>{if(B===le.current.activeId)return;if(B&&!le.current.activeId){le.current.activeId=B;return}const ae=setTimeout(()=>{le.current.activeId=B},50);return()=>clearTimeout(ae)},[B]),{active:V,activeIndex:h,attributes:K,data:S,rect:_,index:x,newIndex:ue,items:d,isOver:M,isSorting:W,isDragging:de,listeners:ee,node:A,overIndex:N,over:Z,setNodeRef:G,setActivatorNodeRef:U,setDroppableNodeRef:$,setDraggableNodeRef:ce,transform:Re??he,transition:L()};function L(){if(Re||Se&&le.current.newIndex===x)return Vre;if(!(T&&!C0(H)||!u)&&(W||je))return Rc.Transition.toString({...u,property:ZC})}}function Gre(e,t){var r,n;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(r=e==null?void 0:e.draggable)!=null?r:t.draggable,droppable:(n=e==null?void 0:e.droppable)!=null?n:t.droppable}}function Rf(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const Qre=[Ve.Down,Ve.Right,Ve.Up,Ve.Left],Xre=(e,t)=>{let{context:{active:r,collisionRect:n,droppableRects:s,droppableContainers:a,over:i,scrollableAncestors:l}}=t;if(Qre.includes(e.code)){if(e.preventDefault(),!r||!n)return;const c=[];a.getEnabled().forEach(f=>{if(!f||f!=null&&f.disabled)return;const h=s.get(f.id);if(h)switch(e.code){case Ve.Down:n.top<h.top&&c.push(f);break;case Ve.Up:n.top>h.top&&c.push(f);break;case Ve.Left:n.left>h.left&&c.push(f);break;case Ve.Right:n.left<h.left&&c.push(f);break}});const u=_te({collisionRect:n,droppableRects:s,droppableContainers:c});let d=IC(u,"id");if(d===(i==null?void 0:i.id)&&u.length>1&&(d=u[1].id),d!=null){const f=a.get(r.id),h=a.get(d),y=h?s.get(h.id):null,g=h==null?void 0:h.node.current;if(g&&y&&f&&h){const N=Kh(g).some((k,_)=>l[_]!==k),v=eE(f,h),p=Jre(f,h),b=N||!v?{x:0,y:0}:{x:p?n.width-y.width:0,y:p?n.height-y.height:0},x={x:y.left,y:y.top};return b.x&&b.y?x:Mc(x,b)}}}};function eE(e,t){return!Rf(e)||!Rf(t)?!1:e.data.current.sortable.containerId===t.data.current.sortable.containerId}function Jre(e,t){return!Rf(e)||!Rf(t)||!eE(e,t)?!1:e.data.current.sortable.index<t.data.current.sortable.index}const Zre=({category:e,onRemove:t,onEdit:r})=>{const{attributes:n,listeners:s,setNodeRef:a,transform:i,transition:l,isDragging:c}=Kre({id:e}),u={transform:Rc.Transform.toString(i),transition:l,opacity:c?.5:1};return o.jsxs("div",{ref:a,style:u,...n,...s,className:"flex items-center justify-between p-3 hover:bg-gray-50 border-b border-gray-100 last:border-b-0 bg-white cursor-grab active:cursor-grabbing",children:[o.jsx("div",{className:"flex items-center gap-2 flex-1",children:o.jsx("span",{className:"text-sm text-gray-900",children:e})}),e!==""&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("button",{onClick:d=>{d.stopPropagation(),r(e)},className:"text-gray-600 hover:text-gray-800 transition-colors",title:"",children:o.jsx(Ok,{className:"h-4 w-4"})}),o.jsx("button",{onClick:d=>{d.stopPropagation(),t(e)},className:"text-red-500 hover:text-red-700 transition-colors",title:"",children:o.jsx(rr,{className:"h-4 w-4"})})]})]})},ene=()=>{var q;const[e,t]=w.useState("library"),[r,n]=w.useState([]),[s,a]=w.useState([]),[i,l]=w.useState([]),[c,u]=w.useState([]),[d,f]=w.useState(""),[h,y]=w.useState([]),[g,m]=w.useState(null),[N,v]=w.useState(!0),[p,b]=w.useState(null),[x,S]=w.useState({name:"",category:"",brand:"",price:"",imageData:null}),[k,_]=w.useState(!1),[A,M]=w.useState(!1),[$,V]=w.useState([]),[H,Y]=w.useState(""),K=w.useRef(null),ce=Dte(I1(P0),I1(_0,{coordinateGetter:Xre}));w.useEffect(()=>{ee(),de(),Z()},[]),w.useEffect(()=>{oe()},[e,d,g]),w.useEffect(()=>{e==="project"&&g&&U()},[e,g]);const ee=async()=>{try{const j=await Pe.get("/specbook/categories");u(j.data)}catch(j){console.error("  :",j)}},de=async()=>{try{const j=await Pe.get("/specbook/projects");console.log("  :",j.data.length,"",j.data),y(j.data)}catch(j){console.error("  :",j)}},Z=async()=>{try{const j=await Pe.get("/specbook/library");a(j.data)}catch(j){console.error("    :",j)}},U=async()=>{if(g)try{const j=await Pe.get(`/specbook/project/${g}`);l(j.data)}catch(j){console.error("    :",j)}},oe=async()=>{try{v(!0);const j=d!==""?{category:d}:{};let R;if(e==="library")R=await Pe.get("/specbook/library",{params:j});else{if(!g){n([]),v(!1);return}R=await Pe.get(`/specbook/project/${g}`,{params:j})}n(R.data)}catch(j){console.error("   :",j),Q.error("   ")}finally{v(!1)}},G=j=>e==="library"?j===""?s.length:s.filter(R=>R.category===j).length:j===""?i.length:i.filter(R=>R.category===j).length,W=j=>{j.preventDefault(),_(!1);const R=j.dataTransfer.files[0];if(R&&R.type.startsWith("image/")){const E=new FileReader;E.onload=C=>{var O;S({...x,imageData:(O=C.target)==null?void 0:O.result})},E.readAsDataURL(R)}},D=j=>{var E;const R=(E=j.clipboardData)==null?void 0:E.items;if(R){for(let C=0;C<R.length;C++)if(R[C].type.indexOf("image")!==-1){const O=R[C].getAsFile();if(O){const J=new FileReader;J.onload=te=>{var se;S({...x,imageData:(se=te.target)==null?void 0:se.result})},J.readAsDataURL(O)}}}};w.useEffect(()=>(document.addEventListener("paste",D),()=>document.removeEventListener("paste",D)),[x]);const T=j=>{const R=j.replace(/[^\d]/g,"");return R?R.replace(/\B(?=(\d{3})+(?!\d))/g,","):""},z=j=>{const R=T(j.target.value);S({...x,price:R})},ne=async j=>{var R,E;if(j.preventDefault(),!x.name||!x.category){Q.error("  ");return}try{if(p){const C={name:x.name,category:x.category,brand:x.brand,price:x.price,description:"",imageData:x.imageData,projectId:e==="project"?g:null,isLibrary:e==="library"};await Pe.put(`/specbook/base64/${p.id}`,C),Q.success("  ")}else if(e==="project"&&g){const C={name:x.name,category:x.category,brand:x.brand,price:x.price,description:"",imageData:x.imageData,projectId:null,isLibrary:!0};await Pe.post("/specbook/base64",C);const O={name:x.name,category:x.category,brand:x.brand,price:x.price,description:"",imageData:x.imageData,projectId:g,isLibrary:!1};await Pe.post("/specbook/base64",O),Q.success("    ")}else{const C={name:x.name,category:x.category,brand:x.brand,price:x.price,description:"",imageData:x.imageData,projectId:null,isLibrary:!0};await Pe.post("/specbook/base64",C),Q.success("  ")}b(null),S({name:"",category:d!==""?d:"",brand:"",price:"",imageData:null}),oe(),(e==="library"||e==="project"&&!p)&&Z(),e==="project"&&g&&U()}catch(C){console.error("   :",C),Q.error(((E=(R=C.response)==null?void 0:R.data)==null?void 0:E.error)||" ")}},he=j=>{b(j),S({name:j.name,category:j.category,brand:j.brand,price:j.price,imageData:null}),window.scrollTo({top:0,behavior:"smooth"})},ue=async j=>{if(confirm(" ?"))try{await Pe.delete(`/specbook/${j}`),Q.success("  "),oe(),e==="library"?Z():e==="project"&&g&&U()}catch(R){console.error(" :",R),Q.error(" ")}},B=()=>{b(null),S({name:"",category:d!==""?d:"",brand:"",price:"",imageData:null})},le=()=>{V([...c]),M(!0)},Se=()=>{M(!1),Y("")},je=()=>{if(!H.trim()){Q.error("  ");return}if($.includes(H.trim())){Q.error("  ");return}V([...$,H.trim()]),Y("")},Re=j=>{if(j===""){Q.error("    ");return}const R=window.prompt("   ",j);if(!(!R||!R.trim())&&R.trim()!==j){if($.includes(R.trim())){Q.error("  ");return}V($.map(E=>E===j?R.trim():E)),Q.success("  ")}},L=j=>{if(j===""){Q.error("    ");return}V($.filter(R=>R!==j))},ae=async()=>{try{await Pe.put("/specbook/categories",{categories:$}),u($),Q.success(" "),Se()}catch(j){console.error("  :",j),Q.error("  ")}},P=j=>{const{active:R,over:E}=j;E&&R.id!==E.id&&V(C=>{const O=C.indexOf(R.id),J=C.indexOf(E.id);return A0(C,O,J)})};return o.jsxs("div",{className:"flex flex-col h-[calc(100vh-120px)] bg-gray-50",onDragOver:j=>{j.preventDefault(),showModal&&_(!0)},onDragLeave:()=>{showModal&&_(!1)},onDrop:j=>{showModal&&W(j)},children:[o.jsxs("div",{className:"flex-1 flex gap-6 overflow-hidden -ml-0",children:[o.jsxs("div",{className:"flex flex-col gap-4",style:{width:"18%"},children:[o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden flex flex-col",children:[o.jsx("div",{className:"p-3",children:o.jsx("h2",{className:"text-sm font-semibold mb-2 text-gray-900",children:p?" ":"  "})}),o.jsxs("form",{onSubmit:ne,className:"flex flex-col",children:[o.jsxs("div",{className:"flex gap-3 px-3",children:[o.jsxs("div",{onDragOver:j=>{j.preventDefault(),_(!0)},onDragLeave:()=>_(!1),onDrop:W,className:`w-56 h-56 flex-shrink-0 border-2 border-dashed rounded-lg flex items-center justify-center cursor-pointer transition-colors ${k?"border-gray-500 bg-gray-50":"border-gray-300 hover:border-gray-400"}`,onClick:()=>{var j;return(j=K.current)==null?void 0:j.click()},children:[x.imageData||p!=null&&p.image_url?o.jsx("img",{src:x.imageData||(p==null?void 0:p.image_url)||"",alt:"Preview",className:"w-full h-full object-contain rounded-lg"}):o.jsxs("div",{className:"text-center",children:[o.jsx(dh,{className:"w-8 h-8 mx-auto mb-1 text-gray-400"}),o.jsx("p",{className:"text-sm text-gray-500",children:""})]}),o.jsx("input",{ref:K,type:"file",accept:"image/*",onChange:j=>{var E;const R=(E=j.target.files)==null?void 0:E[0];if(R){const C=new FileReader;C.onload=O=>{var J;S({...x,imageData:(J=O.target)==null?void 0:J.result})},C.readAsDataURL(R)}},className:"hidden"})]}),o.jsxs("div",{className:"flex-1 flex flex-col justify-between h-56",children:[o.jsxs("div",{className:"space-y-1.5",children:[o.jsxs("select",{value:x.category,onChange:j=>S({...x,category:j.target.value}),className:"w-full px-2 py-1.5 text-xs border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-gray-500",required:!0,children:[o.jsx("option",{value:"",children:""}),c.filter(j=>j!=="").map(j=>o.jsx("option",{value:j,children:j},j))]}),o.jsx("input",{type:"text",value:x.brand,onChange:j=>S({...x,brand:j.target.value}),className:"w-full px-2 py-1.5 text-xs border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-gray-500",placeholder:""}),o.jsx("input",{type:"text",value:x.name,onChange:j=>S({...x,name:j.target.value}),className:"w-full px-2 py-1.5 text-xs border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-gray-500",placeholder:"",required:!0}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"text",value:x.price,onChange:z,className:"w-full px-2 py-1.5 text-xs border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-gray-500 pr-8",placeholder:""}),o.jsx("span",{className:"absolute right-2 top-1/2 -translate-y-1/2 text-xs text-gray-500",children:""})]})]}),o.jsxs("div",{className:"flex gap-1.5",children:[o.jsx("button",{type:"submit",className:"flex-1 px-3 py-1.5 text-xs bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors",children:p?"":""}),p&&o.jsx("button",{type:"button",onClick:B,className:"px-3 py-1.5 text-xs bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",children:""})]})]})]}),o.jsx("div",{className:"p-3 pt-0"})]})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-gray-200",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("h3",{className:"text-sm font-semibold text-gray-900",children:["",e==="project"&&g&&o.jsxs("span",{className:"ml-1 text-gray-600",children:["(",(q=h.find(j=>j.id===g))==null?void 0:q.title,")"]})]}),o.jsx("button",{onClick:le,className:"p-1 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded transition-colors",title:" ",children:o.jsx(XO,{className:"h-4 w-4"})})]}),o.jsx("div",{className:"grid grid-cols-3 gap-2",children:c.map(j=>{const R=G(j),E=(e==="library"||e==="project"&&g)&&R>0;return o.jsxs("button",{onClick:()=>f(j),className:`px-2 py-1.5 rounded text-xs font-medium transition-colors ${d===j?"bg-gray-800 text-white":"bg-gray-50 text-gray-700 hover:bg-gray-100"}`,children:[j,E&&o.jsxs("span",{className:`ml-1 ${d===j?"text-gray-300":"text-gray-400"}`,children:["(",R,")"]})]},j)})})]})]}),e==="library"?o.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden pr-4",children:[o.jsxs("div",{className:"mb-4 flex gap-6",children:[o.jsx("div",{className:"flex-1",children:o.jsx("button",{onClick:()=>{t("library"),m(null)},className:"px-4 py-2 rounded-lg font-medium transition-colors bg-gray-800 text-white",children:" "})}),o.jsx("div",{className:"flex-1",children:o.jsxs("select",{value:g||"",onChange:j=>{j.target.value?(t("project"),m(Number(j.target.value))):(t("library"),m(null))},className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 bg-white",children:[o.jsx("option",{value:"",children:" "}),h.map(j=>o.jsx("option",{value:j.id,children:j.title},j.id))]})})]}),o.jsx("div",{className:"flex-1 overflow-y-auto",children:N?o.jsx("div",{className:"flex items-center justify-center h-full",children:o.jsx("div",{className:"text-gray-500",children:" ..."})}):r.length===0?o.jsx("div",{className:"flex items-center justify-center h-full text-gray-500 text-sm",children:"   "}):o.jsx("div",{className:"grid grid-cols-6 gap-4",children:r.map(j=>o.jsxs("div",{className:"bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow border border-gray-200 overflow-hidden flex flex-col group",children:[o.jsxs("div",{className:"w-full aspect-square bg-gray-100 flex-shrink-0 relative",children:[j.image_url?o.jsx("img",{src:j.image_url,alt:j.name,className:"w-full h-full object-contain block"}):o.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400 text-xs",children:" "}),o.jsxs("div",{className:"absolute top-2 right-2 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[o.jsx("button",{onClick:()=>he(j),className:"p-1.5 bg-white text-gray-700 hover:bg-gray-100 rounded-md shadow-md transition-colors",title:"",children:o.jsx(Ok,{className:"w-3.5 h-3.5"})}),o.jsx("button",{onClick:()=>ue(j.id),className:"p-1.5 bg-white text-rose-600 hover:bg-rose-50 rounded-md shadow-md transition-colors",title:"",children:o.jsx(rr,{className:"w-3.5 h-3.5"})})]})]}),o.jsxs("div",{className:"p-2 pt-1.5 flex flex-col flex-1",children:[o.jsx("div",{className:"flex items-start justify-between mb-1",children:o.jsx("span",{className:"inline-block px-1.5 py-0.5 text-xs bg-gray-100 text-gray-700 rounded",children:j.category})}),o.jsxs("div",{className:"flex items-baseline justify-between gap-1 mt-auto",children:[o.jsxs("div",{className:"flex items-baseline gap-1 min-w-0",children:[o.jsx("h3",{className:"font-semibold text-xs text-gray-900 truncate",children:j.name}),j.brand&&o.jsx("span",{className:"text-xs text-gray-600 flex-shrink-0",children:j.brand})]}),j.price&&o.jsxs("span",{className:"text-xs text-gray-900 font-medium flex-shrink-0",children:[j.price,""]})]})]})]},j.id))})})]}):o.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden pr-4",children:[o.jsxs("div",{className:"mb-4 flex gap-6",children:[o.jsx("div",{className:"flex-1",children:o.jsx("button",{onClick:()=>{t("library"),m(null)},className:"px-4 py-2 rounded-lg font-medium transition-colors bg-gray-800 text-white",children:" "})}),o.jsx("div",{className:"flex-1",children:o.jsxs("select",{value:g||"",onChange:j=>{j.target.value?(t("project"),m(Number(j.target.value))):(t("library"),m(null))},className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 bg-gray-800 text-white",children:[o.jsx("option",{value:"",children:" "}),h.map(j=>o.jsx("option",{value:j.id,children:j.title},j.id))]})})]}),o.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[o.jsx("div",{className:"w-1/2 flex flex-col overflow-hidden px-4 pb-4 border-r border-gray-300",children:o.jsx("div",{className:"flex-1 overflow-y-auto bg-gray-50 rounded-lg p-4",children:N?o.jsx("div",{className:"flex items-center justify-center h-full",children:o.jsx("div",{className:"text-gray-500",children:" ..."})}):s.length===0?o.jsx("div",{className:"flex items-center justify-center h-full text-gray-500 text-sm",children:"  "}):o.jsx("div",{className:"grid grid-cols-3 gap-4",children:s.filter(j=>d===""||j.category===d).map(j=>o.jsxs("div",{draggable:!0,onDragStart:R=>{R.dataTransfer.setData("itemId",j.id.toString()),R.dataTransfer.effectAllowed="copy"},className:"bg-white rounded-lg shadow-sm hover:shadow-md transition-all border border-gray-200 overflow-hidden cursor-move flex flex-col",children:[o.jsx("div",{className:"w-full aspect-square bg-gray-100",children:j.image_url?o.jsx("img",{src:j.image_url,alt:j.name,className:"w-full h-full object-contain"}):o.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400 text-xs",children:" "})}),o.jsxs("div",{className:"p-2 pt-1.5 flex flex-col flex-1",children:[o.jsx("div",{className:"flex items-start justify-between mb-1",children:o.jsx("span",{className:"inline-block px-1.5 py-0.5 text-xs bg-gray-100 text-gray-700 rounded",children:j.category})}),o.jsxs("div",{className:"flex items-baseline justify-between gap-1 mt-auto",children:[o.jsxs("div",{className:"flex items-baseline gap-1 min-w-0",children:[o.jsx("h3",{className:"font-semibold text-xs text-gray-900 truncate",children:j.name}),j.brand&&o.jsx("span",{className:"text-xs text-gray-600 flex-shrink-0",children:j.brand})]}),j.price&&o.jsxs("span",{className:"text-xs text-gray-900 font-medium flex-shrink-0",children:[j.price,""]})]})]})]},j.id))})})}),o.jsx("div",{className:"w-1/2 flex flex-col overflow-hidden px-4 pb-4",children:o.jsx("div",{className:"flex-1 overflow-y-auto bg-gray-50 rounded-lg p-4",onDragOver:j=>{j.preventDefault(),j.dataTransfer.dropEffect="copy"},onDrop:async j=>{j.preventDefault();const R=j.dataTransfer.getData("itemId");if(R&&g)try{const E=s.find(C=>C.id===Number(R));if(E){const{id:C,created_at:O,updated_at:J,...te}=E;await Pe.post("/specbook/base64",{...te,isLibrary:!1,projectId:g}),Q.success("  "),oe(),U()}}catch(E){console.error("  :",E),Q.error("  ")}},children:N?o.jsx("div",{className:"flex items-center justify-center h-full",children:o.jsx("div",{className:"text-gray-500",children:" ..."})}):r.length===0?o.jsx("div",{className:"flex items-center justify-center h-full text-gray-600 text-sm",children:"   "}):o.jsx("div",{className:"grid grid-cols-3 gap-4",children:r.filter(j=>d===""||j.category===d).map(j=>o.jsxs("div",{className:"bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow border border-gray-200 overflow-hidden flex flex-col group",children:[o.jsxs("div",{className:"w-full aspect-square bg-gray-100 relative",children:[j.image_url?o.jsx("img",{src:j.image_url,alt:j.name,className:"w-full h-full object-contain",onError:R=>{R.currentTarget.style.display="none";const E=R.currentTarget.parentElement;if(E){const C=document.createElement("div");C.className="w-full h-full flex items-center justify-center text-gray-400 text-xs",C.textContent="  ",E.appendChild(C)}}}):o.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400 text-xs",children:" "}),o.jsx("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",children:o.jsx("button",{onClick:()=>ue(j.id),className:"p-1.5 bg-white text-rose-600 hover:bg-rose-50 rounded-md shadow-md transition-colors",title:"",children:o.jsx(rr,{className:"w-3.5 h-3.5"})})})]}),o.jsxs("div",{className:"p-2 flex flex-col flex-1",children:[o.jsx("div",{className:"flex items-start justify-between mb-1",children:o.jsx("span",{className:"inline-block px-1.5 py-0.5 text-xs bg-gray-100 text-gray-700 rounded",children:j.category})}),o.jsx("h3",{className:"font-semibold text-xs text-gray-900 line-clamp-2 mb-1",children:j.name}),j.price&&o.jsxs("p",{className:"text-xs text-gray-900 font-medium mt-auto",children:[j.price,""]})]})]},j.id))})})})]})]})]}),A&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md mx-4",children:[o.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[o.jsx("h2",{className:"text-lg font-bold text-gray-900",children:" "}),o.jsx("button",{onClick:Se,className:"text-gray-500 hover:text-gray-700 transition-colors",children:o.jsx(ft,{className:"h-5 w-5"})})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("div",{className:"mb-4",children:o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"text",value:H,onChange:j=>Y(j.target.value),onKeyPress:j=>{j.key==="Enter"&&je()},className:"flex-1 px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",placeholder:"  "}),o.jsxs("button",{onClick:je,className:"px-4 py-2 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors flex items-center gap-1",children:[o.jsx(uv,{className:"h-4 w-4"}),""]})]})}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  (  )"}),o.jsx("div",{className:"max-h-120 overflow-y-auto border border-gray-200 rounded-lg",children:o.jsx(Ere,{sensors:ce,collisionDetection:Ete,onDragEnd:P,children:o.jsx(Bre,{items:$,strategy:Fre,children:$.map(j=>o.jsx(Zre,{category:j,onRemove:L,onEdit:Re},j))})})})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:ae,className:"flex-1 px-4 py-2 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors",children:""}),o.jsx("button",{onClick:Se,className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",children:""})]})]})]})})]})},Q1=["","","/","","","","","","","","","","","","",""],tne=()=>{const{payments:e,executionRecords:t,loadPaymentsFromAPI:r,addExecutionRecord:n,deleteExecutionRecord:s,updateExecutionRecord:a,projects:i}=dn(),{user:l}=Ra(),[c,u]=w.useState(""),[d,f]=w.useState(null),[h,y]=w.useState(!1),[g,m]=w.useState(!1),[N,v]=w.useState(!1),[p,b]=w.useState(!1),[x,S]=w.useState(!1),[k,_]=w.useState(""),[A,M]=w.useState("form"),[$,V]=w.useState(!1),[H,Y]=w.useState(!1),K=w.useRef(null),[ce,ee]=w.useState([]),[de,Z]=w.useState(()=>{const j=localStorage.getItem("paymentRecordImages");return j?JSON.parse(j):{}}),[U,oe]=w.useState(()=>{const j=localStorage.getItem("hiddenPaymentIds");return j?JSON.parse(j):[]}),G=()=>{const j=localStorage.getItem("lastSelectedProject"),R=i.filter(E=>E.status!=="completed");return j&&R.some(E=>E.name===j)?j:R.length>0?R[0].name:""},[W,D]=w.useState({project:"",date:Te(new Date,"yyyy-MM-dd"),process:"",itemName:"",materialCost:"",laborCost:"",images:[]});w.useEffect(()=>{r().catch(R=>{console.error("Failed to load payments:",R)});const j=()=>{V(window.innerWidth<1024)};if(j(),window.addEventListener("resize",j),i.length>0&&!W.project){const R=G();R&&(D(E=>({...E,project:R})),localStorage.setItem("lastSelectedProject",R))}return()=>window.removeEventListener("resize",j)},[r,i]),w.useEffect(()=>{localStorage.setItem("paymentRecordImages",JSON.stringify(de))},[de]),w.useEffect(()=>{localStorage.setItem("hiddenPaymentIds",JSON.stringify(U))},[U]),w.useEffect(()=>{if(W.itemName&&W.itemName.trim().length>=1){const j=W.itemName.trim().toLowerCase(),R=[...t].sort((C,O)=>new Date(O.date).getTime()-new Date(C.date).getTime()).map(C=>C.itemName).filter(C=>C&&C.toLowerCase().includes(j)),E=Array.from(new Set(R));ee(E.slice(0,10))}else ee([])},[W.itemName,t]);const T=w.useCallback(j=>{var E;if(!d){Q.error("  ");return}const R=(E=j.clipboardData)==null?void 0:E.items;if(R){for(let C=0;C<R.length;C++)if(R[C].type.indexOf("image")!==-1){j.preventDefault();const O=R[C].getAsFile();if(O){const J=new FileReader;J.onload=te=>{var ke;const se=(ke=te.target)==null?void 0:ke.result,fe=t.find(we=>we.id===d);if(fe){const we=[...fe.images||[],se];a(d,{images:we})}else Z(we=>({...we,[d]:[...we[d]||[],se]}));Q.success(" ")},J.readAsDataURL(O)}}}},[d,t,a]);w.useEffect(()=>(document.addEventListener("paste",T),()=>document.removeEventListener("paste",T)),[T]);const z=e.filter(j=>(j.status==="approved"||j.status==="completed")&&!t.some(R=>R.paymentId===j.id)&&!U.includes(j.id)).map(j=>{const R=j.materialAmount||0,E=j.laborAmount||0,C=j.amount||0;let O=R,J=E,te=0;return R===0&&E===0&&C>0?j.includesVAT?(O=Math.round(C/1.1),te=C-O):(O=C,te=0):j.includesVAT?(R>0&&(O=Math.round(R/1.1)),E>0&&(J=Math.round(E/1.1)),te=C-(O+J)):te=0,{id:j.id,type:"payment",project:j.project,author:j.requestedBy||"-",date:j.requestDate,process:j.process||"-",itemName:j.itemName||j.purpose||"-",materialCost:O,laborCost:J,vatAmount:te,totalAmount:C,images:de[j.id]||[],notes:j.notes}}),ne=t.map(j=>({...j,type:"manual"})),he=[...z,...ne].sort((j,R)=>new Date(R.date).getTime()-new Date(j.date).getTime()),ue=he.filter(j=>{var C,O;const R=W.project===""||j.project===W.project,E=c===""||((C=j.itemName)==null?void 0:C.toLowerCase().includes(c.toLowerCase()))||((O=j.process)==null?void 0:O.toLowerCase().includes(c.toLowerCase()));return R&&E}),B=ue.reduce((j,R)=>(j.material+=R.materialCost||0,j.labor+=R.laborCost||0,j.vat+=R.vatAmount||0,j.total+=R.totalAmount||0,j),{material:0,labor:0,vat:0,total:0}),le=()=>{if(!W.project){Q.error(" ");return}const j=new Date;let R=Number(W.materialCost)||0,E=Number(W.laborCost)||0,C=0,O=0;if(g){const te=R+E,se=Math.round(te/1.1);if(C=te-se,te>0){const fe=R/te,ke=E/te;R=Math.round(se*fe),E=Math.round(se*ke)}O=te}else C=0,O=R+E;const J={id:`exec_${Date.now()}`,project:W.project,author:(l==null?void 0:l.name)||"  ",date:new Date(W.date),process:W.process,itemName:W.itemName,materialCost:R,laborCost:E,vatAmount:C,totalAmount:O,images:W.images,notes:"",createdAt:j,updatedAt:j};n(J),Q.success(" "),D(te=>({project:te.project,date:Te(new Date,"yyyy-MM-dd"),process:"",itemName:"",materialCost:"",laborCost:"",images:[]})),m(!1),v(!1)},Se=()=>{const j={};return ue.forEach(R=>{const E=R.process||"";j[E]||(j[E]={materialCost:0,laborCost:0,vatAmount:0,totalAmount:0}),j[E].materialCost+=R.materialCost||0,j[E].laborCost+=R.laborCost||0,j[E].vatAmount+=R.vatAmount||0,j[E].totalAmount+=R.totalAmount||0}),Object.entries(j).sort((R,E)=>E[1].totalAmount-R[1].totalAmount)},je=j=>{var O;if(!d){Q.error("  ");return}const R=Array.from(((O=j.target)==null?void 0:O.files)||[]),E=[],C=R.filter(J=>J.type.startsWith("image/"));C.length!==0&&C.forEach(J=>{const te=new FileReader;te.onload=se=>{var ke;const fe=(ke=se.target)==null?void 0:ke.result;if(E.push(fe),E.length===C.length){const we=t.find(Ee=>Ee.id===d);if(we){const Ee=[...we.images||[],...E];a(d,{images:Ee})}else Z(Ee=>({...Ee,[d]:[...Ee[d]||[],...E]}));Q.success(`${E.length}  `)}},te.readAsDataURL(J)})},Re=j=>{var E;if(!d)return;const R=t.find(C=>C.id===d);if(R){const C=((E=R.images)==null?void 0:E.filter((O,J)=>J!==j))||[];a(d,{images:C})}else Z(C=>{var O;return{...C,[d]:((O=C[d])==null?void 0:O.filter((J,te)=>te!==j))||[]}})},L=j=>{_(j),S(!0)},ae=j=>{j.preventDefault(),y(!0)},P=j=>{j.preventDefault(),y(!1)},q=j=>{if(j.preventDefault(),y(!1),!d){Q.error("  ");return}const R=Array.from(j.dataTransfer.files),E=[],C=R.filter(O=>O.type.startsWith("image/"));C.length!==0&&C.forEach(O=>{const J=new FileReader;J.onload=te=>{var fe;const se=(fe=te.target)==null?void 0:fe.result;if(E.push(se),E.length===C.length){const ke=t.find(we=>we.id===d);if(ke){const we=[...ke.images||[],...E];a(d,{images:we})}else Z(we=>({...we,[d]:[...we[d]||[],...E]}));Q.success(`${E.length}  `)}},J.readAsDataURL(O)})};return o.jsxs("div",{className:"space-y-3 md:space-y-4",children:[o.jsxs("div",{className:"lg:hidden mb-4",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),o.jsx("select",{value:W.project,onChange:j=>{D({...W,project:j.target.value}),j.target.value&&localStorage.setItem("lastSelectedProject",j.target.value)},className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",children:i.filter(j=>j.status!=="completed").map(j=>o.jsx("option",{value:j.name,children:j.name},j.id))})]}),o.jsx("div",{className:"lg:hidden border-b border-gray-200 mb-4",children:o.jsxs("nav",{className:"flex space-x-4",children:[o.jsx("button",{onClick:()=>M("form"),className:`py-2 px-1 border-b-2 font-medium text-sm ${A==="form"?"border-gray-900 text-gray-900":"border-transparent text-gray-500"}`,children:""}),o.jsx("button",{onClick:()=>M("list"),className:`py-2 px-1 border-b-2 font-medium text-sm ${A==="list"?"border-gray-900 text-gray-900":"border-transparent text-gray-500"}`,children:""}),o.jsx("button",{onClick:()=>M("image"),className:`py-2 px-1 border-b-2 font-medium text-sm ${A==="image"?"border-gray-900 text-gray-900":"border-transparent text-gray-500"}`,children:""})]})}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-4",children:[o.jsx("div",{className:`lg:col-span-2 bg-white rounded-lg border p-4 flex flex-col overflow-hidden ${A!=="form"?"hidden lg:flex":""}`,children:o.jsxs("div",{className:"space-y-4 overflow-y-auto flex-shrink-0",children:[o.jsxs("div",{className:"hidden lg:block",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" *"}),o.jsx("select",{value:W.project,onChange:j=>{D({...W,project:j.target.value}),j.target.value&&localStorage.setItem("lastSelectedProject",j.target.value)},className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",children:i.filter(j=>j.status!=="completed").map(j=>o.jsx("option",{value:j.name,children:j.name},j.id))})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[" ",W.date&&`(${Te(new Date(W.date),"E",{locale:et})})`]}),o.jsx("input",{type:"date",value:W.date,onChange:j=>D({...W,date:j.target.value}),className:"w-full px-3 py-2 border rounded-lg bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500 cursor-pointer text-gray-900",style:{WebkitAppearance:"none",MozAppearance:"none",appearance:"none",backgroundColor:"white",backgroundImage:"none"}})]}),o.jsxs("div",{className:"relative",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),o.jsx("button",{ref:K,type:"button",onClick:()=>Y(!0),className:"w-full px-3 py-2 border rounded-lg text-left bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500",children:W.process||o.jsx("span",{className:"text-gray-400",children:""})})]})]}),o.jsxs("div",{className:"relative",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),o.jsx("input",{type:"text",value:W.itemName,onChange:j=>D({...W,itemName:j.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"}),ce.length>0&&o.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:ce.map((j,R)=>o.jsx("button",{type:"button",onClick:()=>{D({...W,itemName:j}),ee([])},className:"w-full px-3 py-2 text-left hover:bg-gray-50 text-sm",children:o.jsx("div",{className:"font-medium text-gray-900",children:j})},R))})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),o.jsx("input",{type:"number",value:W.materialCost,onChange:j=>D({...W,materialCost:j.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),o.jsx("input",{type:"number",value:W.laborCost,onChange:j=>D({...W,laborCost:j.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",id:"includeVat",checked:g,onChange:j=>{j.target.checked&&v(!1),m(j.target.checked)},className:"h-4 w-4 text-gray-600 focus:ring-gray-500 border-gray-300 rounded"}),o.jsx("label",{htmlFor:"includeVat",className:"ml-2 block text-sm text-gray-700",children:"  (10%)"})]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",id:"includeTaxDeduction",checked:N,onChange:j=>{j.target.checked&&m(!1),v(j.target.checked)},className:"h-4 w-4 text-gray-600 focus:ring-gray-500 border-gray-300 rounded"}),o.jsx("label",{htmlFor:"includeTaxDeduction",className:"ml-2 block text-sm text-gray-700",children:"3.3% "})]})]}),o.jsx("div",{className:"pt-2 border-t",children:o.jsxs("div",{className:"flex justify-between items-baseline",children:[o.jsx("span",{className:"font-medium",children:""}),o.jsxs("div",{className:"text-right",children:[(g||N)&&o.jsxs("span",{className:"text-xs text-gray-500 mr-2",children:["(",g&&" ",N&&"3.3% ",")"]}),o.jsxs("span",{className:"font-semibold",children:[(()=>{const j=(Number(W.materialCost)||0)+(Number(W.laborCost)||0);return(N?Math.round(j*.967):j).toLocaleString()})(),""]})]})]})}),o.jsx("div",{className:"my-6",style:{marginTop:"20px"},children:o.jsx("button",{onClick:le,className:"w-full py-2 bg-gray-900 text-white rounded-lg hover:bg-gray-800",children:""})})]}),o.jsxs("div",{className:"hidden lg:block bg-gray-50 rounded-lg p-4 space-y-2",style:{marginTop:"114.67px"},children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-gray-600",children:" :"}),o.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[B.material.toLocaleString(),""]})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-gray-600",children:" :"}),o.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[B.labor.toLocaleString(),""]})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-gray-600",children:" :"}),o.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[B.vat.toLocaleString(),""]})]}),o.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-gray-200",style:{marginTop:"10px"},children:[o.jsx("span",{className:"text-sm font-bold text-gray-900",children:" :"}),o.jsxs("span",{className:"text-base font-bold text-gray-900",children:[B.total.toLocaleString(),""]})]})]})]})}),o.jsxs("div",{className:`lg:col-span-6 bg-white rounded-lg border overflow-hidden flex flex-col ${A!=="list"?"hidden lg:flex":""}`,children:[o.jsx("div",{className:"flex-1 overflow-auto",children:ue.length>0?o.jsxs(o.Fragment,{children:[o.jsxs("table",{className:"hidden lg:table w-full",children:[o.jsx("thead",{className:"bg-gray-50 sticky top-0",children:o.jsxs("tr",{className:"text-left text-sm text-gray-700 border-b",children:[o.jsx("th",{className:"px-3 py-3 font-medium w-[7%]",children:""}),o.jsx("th",{className:"px-3 py-3 font-medium w-[14%]",children:""}),o.jsx("th",{className:"px-3 py-3 font-medium w-[9%]",children:""}),o.jsx("th",{className:"px-3 py-3 font-medium w-[20%]",children:""}),o.jsx("th",{className:"px-3 py-3 font-medium text-right w-[12%]",children:""}),o.jsx("th",{className:"px-3 py-3 font-medium text-right w-[12%]",children:""}),o.jsx("th",{className:"px-3 py-3 font-medium text-right w-[12%]",children:""}),o.jsx("th",{className:"px-3 py-3 font-medium text-right w-[14%]",children:""})]})}),o.jsx("tbody",{className:"divide-y divide-gray-200",children:ue.map(j=>o.jsxs("tr",{className:`hover:bg-gray-50 cursor-pointer text-sm ${d===j.id?"bg-blue-50":""}`,onClick:()=>f(j.id),children:[o.jsx("td",{className:"px-3 py-3 text-gray-600",children:j.author||"-"}),o.jsx("td",{className:"px-3 py-3 text-gray-600",children:Te(new Date(j.date),"yyyy-MM-dd (EEE)",{locale:et})}),o.jsx("td",{className:"px-3 py-3 text-gray-600",children:j.process||"-"}),o.jsx("td",{className:"px-3 py-3 font-medium",children:j.itemName}),o.jsx("td",{className:"px-3 py-3 text-right",children:(j.materialCost||0).toLocaleString()}),o.jsx("td",{className:"px-3 py-3 text-right",children:(j.laborCost||0).toLocaleString()}),o.jsx("td",{className:"px-3 py-3 text-right",children:(j.vatAmount||0).toLocaleString()}),o.jsxs("td",{className:"px-3 py-3 text-right font-semibold",children:[(j.totalAmount||0).toLocaleString(),""]})]},j.id))})]}),o.jsx("div",{className:"lg:hidden space-y-3 p-3",children:ue.map(j=>o.jsxs("div",{className:`border rounded-lg p-4 ${d===j.id?"bg-blue-50 border-blue-300":"bg-white"}`,onClick:()=>f(j.id),children:[o.jsxs("div",{className:"flex justify-between items-start mb-2",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"font-medium text-gray-900",children:j.itemName}),o.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[j.process||"-","  ",j.author||"-"]})]}),o.jsxs("p",{className:"text-sm font-bold text-gray-900",children:["",(j.totalAmount||0).toLocaleString()]})]}),o.jsx("div",{className:"text-xs text-gray-500",children:Te(new Date(j.date),"yyyy.MM.dd (EEE)",{locale:et})}),o.jsxs("div",{className:"mt-2 pt-2 border-t grid grid-cols-3 gap-2 text-xs",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:""}),o.jsxs("p",{className:"font-medium",children:["",(j.materialCost||0).toLocaleString()]})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:""}),o.jsxs("p",{className:"font-medium",children:["",(j.laborCost||0).toLocaleString()]})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:""}),o.jsxs("p",{className:"font-medium",children:["",(j.vatAmount||0).toLocaleString()]})]})]})]},j.id))})]}):o.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:" "})}),o.jsxs("div",{className:"border-t bg-gray-50 p-3",children:[A==="list"&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"lg:hidden mb-3",children:o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"text",placeholder:"...",value:c,onChange:j=>u(j.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 text-sm"}),o.jsx(cf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"})]})}),o.jsxs("div",{className:"lg:hidden bg-white rounded-lg p-3 mb-3 space-y-2 border",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-gray-600",children:" :"}),o.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[B.material.toLocaleString(),""]})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-gray-600",children:" :"}),o.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[B.labor.toLocaleString(),""]})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-gray-600",children:" :"}),o.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[B.vat.toLocaleString(),""]})]}),o.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-gray-200",children:[o.jsx("span",{className:"text-sm font-bold text-gray-900",children:" :"}),o.jsxs("span",{className:"text-base font-bold text-gray-900",children:[B.total.toLocaleString(),""]})]})]})]}),o.jsxs("div",{className:"flex flex-col lg:flex-row items-stretch lg:items-center gap-3",children:[o.jsx("div",{className:"hidden lg:block flex-1 lg:max-w-sm",children:o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"text",placeholder:"...",value:c,onChange:j=>u(j.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 text-sm lg:text-base"}),o.jsx(cf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"})]})}),o.jsxs("div",{className:"flex items-center justify-between lg:justify-end gap-2",children:[d&&o.jsx("button",{onClick:()=>{const j=t.find(E=>E.id===d),R=he.find(E=>E.id===d);j?confirm("  ?")&&(s(d),f(null),Q.success(" ")):(R==null?void 0:R.type)==="payment"?confirm(`   ?
(   )`)&&(oe(E=>[...E,d]),f(null),Q.success("  ")):Q.error("   ")},className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"",children:o.jsx(rr,{className:"h-5 w-5"})}),o.jsx("button",{onClick:()=>b(!0),className:"px-3 py-2 text-sm lg:text-base lg:px-4 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 hover:border-gray-400 transition-all duration-200 font-medium whitespace-nowrap",children:" "})]})]})]})]}),o.jsxs("div",{className:`lg:col-span-4 bg-white rounded-lg border flex flex-col overflow-hidden ${A!=="image"?"hidden lg:flex":""}`,onDragOver:ae,onDragLeave:P,onDrop:q,children:[o.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:je,className:"hidden",id:"image-file-input"}),$&&d&&A==="image"&&(()=>{const j=he.find(R=>R.id===d);return j?o.jsx("div",{className:"border-b bg-gray-50 p-3",children:o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"font-medium text-gray-900 text-sm",children:j.itemName}),o.jsxs("p",{className:"text-xs text-gray-500 mt-0.5",children:[j.process||"-","  ",Te(new Date(j.date),"yyyy.MM.dd",{locale:et})]})]}),o.jsxs("p",{className:"text-sm font-bold text-gray-900",children:["",(j.totalAmount||0).toLocaleString()]})]})}):null})(),o.jsx("div",{className:"flex-1 overflow-y-auto p-4 relative",onClick:j=>{var E;const R=j.target;!R.closest("img")&&!R.closest("button")&&d&&(()=>{const O=t.find(J=>J.id===d);return(O==null?void 0:O.images)||de[d]||[]})().length>0&&((E=document.getElementById("image-file-input"))==null||E.click())},children:d?(()=>{const j=t.find(E=>E.id===d),R=(j==null?void 0:j.images)||de[d]||[];return R.length>0?o.jsx("div",{className:"grid grid-cols-1 gap-3",children:R.map((E,C)=>o.jsxs("div",{className:"relative group border rounded-lg overflow-hidden",children:[o.jsx("img",{src:E,alt:` ${C+1}`,className:"w-full h-auto cursor-pointer hover:opacity-90 transition-opacity",onClick:O=>{O.stopPropagation(),L(E)}}),o.jsx("button",{onClick:O=>{O.stopPropagation(),Re(C)},className:"absolute top-2 right-2 p-1.5 bg-red-500 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:o.jsx(ft,{className:"h-4 w-4"})})]},C))}):o.jsx("label",{htmlFor:"image-file-input",className:"h-full flex items-center justify-center cursor-pointer",children:o.jsxs("div",{className:`w-full h-full min-h-[200px] border-2 border-dashed rounded-lg p-6 text-center transition-colors flex flex-col items-center justify-center ${h?"border-gray-500 bg-gray-50":"border-gray-300 hover:border-gray-400"}`,children:[o.jsx(dh,{className:"h-10 w-10 mx-auto text-gray-400 mb-2"}),o.jsx("p",{className:"text-sm font-medium text-gray-700",children:" "}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"   Ctrl+V "})]})})})():o.jsx("div",{className:"h-full flex items-center justify-center min-h-[200px]",children:o.jsxs("div",{className:"text-center text-gray-400",children:[o.jsx(cv,{className:"h-12 w-12 mx-auto mb-2"}),o.jsx("p",{className:"text-sm",children:" "})]})})})]})]}),p&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-end lg:items-center justify-center bg-black bg-opacity-50",children:o.jsxs("div",{className:"bg-white rounded-t-2xl lg:rounded-lg w-full lg:max-w-4xl max-h-[85vh] lg:max-h-[80vh] overflow-hidden lg:m-4",children:[o.jsxs("div",{className:"flex items-center justify-between p-4 lg:p-6 border-b",children:[o.jsx("h2",{className:"text-lg lg:text-xl font-bold text-gray-900",children:" "}),o.jsx("button",{onClick:()=>b(!1),className:"p-1.5 lg:p-2 hover:bg-gray-100 rounded-full",children:o.jsx(ft,{className:"h-5 w-5 text-gray-500"})})]}),o.jsx("div",{className:"p-4 lg:p-6 overflow-y-auto max-h-[calc(85vh-120px)] lg:max-h-[calc(80vh-120px)]",children:Se().length>0?o.jsxs(o.Fragment,{children:[o.jsxs("table",{className:"hidden lg:table w-full",children:[o.jsx("thead",{className:"bg-gray-100",children:o.jsxs("tr",{className:"text-left text-sm text-gray-700",children:[o.jsx("th",{className:"px-4 py-3 font-medium",children:""}),o.jsx("th",{className:"px-4 py-3 font-medium text-right",children:""}),o.jsx("th",{className:"px-4 py-3 font-medium text-right",children:""}),o.jsx("th",{className:"px-4 py-3 font-medium text-right",children:""}),o.jsx("th",{className:"px-4 py-3 font-medium text-right",children:""})]})}),o.jsx("tbody",{className:"divide-y divide-gray-200",children:Se().map(([j,R])=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-4 py-3 font-medium text-gray-700",children:j}),o.jsx("td",{className:"px-4 py-3 text-right",children:R.materialCost.toLocaleString()}),o.jsx("td",{className:"px-4 py-3 text-right",children:R.laborCost.toLocaleString()}),o.jsx("td",{className:"px-4 py-3 text-right",children:R.vatAmount.toLocaleString()}),o.jsxs("td",{className:"px-4 py-3 text-right font-semibold",children:[R.totalAmount.toLocaleString(),""]})]},j))}),o.jsx("tfoot",{className:"bg-gray-100 border-t-2 border-gray-300",children:o.jsxs("tr",{children:[o.jsx("td",{className:"px-4 py-3 font-bold text-gray-700",children:""}),o.jsx("td",{className:"px-4 py-3 text-right font-bold",children:B.material.toLocaleString()}),o.jsx("td",{className:"px-4 py-3 text-right font-bold",children:B.labor.toLocaleString()}),o.jsx("td",{className:"px-4 py-3 text-right font-bold",children:B.vat.toLocaleString()}),o.jsxs("td",{className:"px-4 py-3 text-right font-bold text-gray-900",children:[B.total.toLocaleString(),""]})]})})]}),o.jsxs("div",{className:"lg:hidden space-y-3",children:[Se().map(([j,R])=>o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[o.jsxs("div",{className:"flex justify-between items-start mb-3",children:[o.jsx("h3",{className:"font-semibold text-gray-900",children:j}),o.jsxs("span",{className:"text-lg font-bold text-gray-900",children:["",R.totalAmount.toLocaleString()]})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-2 text-sm",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-500 text-xs",children:""}),o.jsxs("p",{className:"font-medium",children:["",R.materialCost.toLocaleString()]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-500 text-xs",children:""}),o.jsxs("p",{className:"font-medium",children:["",R.laborCost.toLocaleString()]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-500 text-xs",children:""}),o.jsxs("p",{className:"font-medium",children:["",R.vatAmount.toLocaleString()]})]})]})]},j)),o.jsxs("div",{className:"bg-gray-900 text-white rounded-lg p-4 mt-4",children:[o.jsxs("div",{className:"flex justify-between items-start mb-3",children:[o.jsx("h3",{className:"font-bold text-white",children:""}),o.jsxs("span",{className:"text-xl font-bold",children:["",B.total.toLocaleString()]})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-2 text-sm",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-300 text-xs",children:""}),o.jsxs("p",{className:"font-semibold",children:["",B.material.toLocaleString()]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-300 text-xs",children:""}),o.jsxs("p",{className:"font-semibold",children:["",B.labor.toLocaleString()]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-300 text-xs",children:""}),o.jsxs("p",{className:"font-semibold",children:["",B.vat.toLocaleString()]})]})]})]})]})]}):o.jsx("div",{className:"text-center py-8 text-gray-500",children:"  ."})})]})}),H&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"lg:hidden fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:o.jsxs("div",{className:"bg-white rounded-lg w-full max-w-md mx-4 max-h-[80vh] overflow-hidden",children:[o.jsxs("div",{className:"flex items-center justify-between p-3 border-b",children:[o.jsx("h2",{className:"text-base font-bold text-gray-900",children:" "}),o.jsx("button",{onClick:()=>Y(!1),className:"p-1 hover:bg-gray-100 rounded-full",children:o.jsx(ft,{className:"h-4 w-4 text-gray-500"})})]}),o.jsxs("div",{className:"p-3 overflow-y-auto max-h-[calc(80vh-100px)]",children:[o.jsx("div",{className:"grid grid-cols-2 gap-2 mb-2",children:Q1.map(j=>o.jsx("button",{onClick:()=>{D({...W,process:j}),Y(!1)},className:`p-2 text-sm text-center border rounded-lg transition-all ${W.process===j?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:border-gray-400 hover:bg-gray-50"}`,children:j},j))}),o.jsx("button",{onClick:()=>{D({...W,process:""}),Y(!1)},className:"w-full p-2 text-sm text-center border-2 border-dashed border-gray-300 rounded-lg hover:border-gray-400 hover:bg-gray-50 text-gray-500",children:" "})]})]})}),o.jsx("div",{className:"hidden lg:block fixed inset-0 z-40",onClick:()=>Y(!1),children:o.jsxs("div",{onClick:j=>j.stopPropagation(),className:"absolute bg-white rounded-lg shadow-xl border border-gray-200",style:{top:K.current?`${K.current.getBoundingClientRect().bottom+window.scrollY+4}px`:"50%",left:K.current?`${K.current.getBoundingClientRect().left+window.scrollX}px`:"50%"},children:[o.jsxs("div",{className:"flex items-center justify-between p-2 border-b",children:[o.jsx("h2",{className:"text-sm font-bold text-gray-900",children:" "}),o.jsx("button",{onClick:()=>Y(!1),className:"p-1 hover:bg-gray-100 rounded-full",children:o.jsx(ft,{className:"h-3 w-3 text-gray-500"})})]}),o.jsxs("div",{className:"p-2",children:[o.jsx("div",{className:"grid grid-cols-4 gap-1.5 mb-2",children:Q1.map(j=>o.jsx("button",{onClick:()=>{D({...W,process:j}),Y(!1)},className:`p-1.5 text-xs text-center border rounded-lg transition-all whitespace-nowrap ${W.process===j?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:border-gray-400 hover:bg-gray-50"}`,children:j},j))}),o.jsx("button",{onClick:()=>{D({...W,process:""}),Y(!1)},className:"w-full p-1.5 text-xs text-center border-2 border-dashed border-gray-300 rounded-lg hover:border-gray-400 hover:bg-gray-50 text-gray-500",children:" "})]})]})})]}),x&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-90",onClick:()=>S(!1),children:o.jsxs("div",{className:"relative max-w-[90vw] max-h-[90vh]",children:[o.jsx("button",{onClick:j=>{j.stopPropagation(),S(!1)},className:"absolute -top-10 right-0 text-white hover:text-gray-300 transition-colors",children:o.jsx(ft,{className:"h-8 w-8"})}),o.jsx("img",{src:k,alt:" ",className:"max-w-full max-h-[90vh] object-contain",onClick:j=>j.stopPropagation()})]})})]})},rne=({projectName:e,onClose:t})=>{const[r,n]=w.useState({receiptDate:Te(new Date,"yyyy-MM-dd"),customerName:"",amount:"",purpose:" ",receivedBy:""}),s=()=>{window.print()},a=l=>{const c=Number(l.replace(/,/g,""));return isNaN(c)?"":c.toLocaleString()},i=l=>{if(l===0)return"";const c=["","","",""],u=["","","",""],d=["","","","","","","","","",""];let f="",h=0;for(;l>0;){const y=l%1e4;if(y>0){let g="",m=y,N=0;for(;m>0;){const v=m%10;v>0&&(g=d[v]+u[N]+g),m=Math.floor(m/10),N++}f=g+c[h]+f}l=Math.floor(l/1e4),h++}return f+""};return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 print:relative print:bg-white",children:o.jsxs("div",{className:"bg-white rounded-lg w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto print:max-h-none print:mx-0 print:rounded-none",children:[o.jsxs("div",{className:"flex items-center justify-between p-4 border-b print:hidden",children:[o.jsx("h2",{className:"text-lg font-bold text-gray-900",children:""}),o.jsx("button",{onClick:t,className:"p-1 hover:bg-gray-100 rounded-full",children:o.jsx(ft,{className:"h-5 w-5 text-gray-500"})})]}),o.jsxs("div",{className:"p-6 space-y-4 print:hidden",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),o.jsx("input",{type:"date",value:r.receiptDate,onChange:l=>n({...r,receiptDate:l.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),o.jsx("input",{type:"text",value:r.customerName,onChange:l=>n({...r,customerName:l.target.value}),placeholder:" ",className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),o.jsx("input",{type:"text",value:a(r.amount),onChange:l=>{const c=l.target.value.replace(/,/g,"");/^\d*$/.test(c)&&n({...r,amount:c})},placeholder:" ",className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"}),r.amount&&o.jsx("p",{className:"text-sm text-gray-600 mt-1",children:i(Number(r.amount))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),o.jsx("input",{type:"text",value:r.purpose,onChange:l=>n({...r,purpose:l.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),o.jsx("input",{type:"text",value:r.receivedBy,onChange:l=>n({...r,receivedBy:l.target.value}),placeholder:" ",className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"})]}),o.jsxs("button",{onClick:s,disabled:!r.customerName||!r.amount||!r.receivedBy,className:"w-full py-2 bg-gray-900 text-white rounded-lg hover:bg-gray-800 disabled:bg-gray-300 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[o.jsx(QO,{className:"h-4 w-4"}),""]})]}),o.jsx("div",{className:"hidden print:block p-12",children:o.jsxs("div",{className:"border-4 border-double border-gray-900 p-8",children:[o.jsx("h1",{className:"text-center text-3xl font-bold mb-8",children:"    "}),o.jsxs("div",{className:"space-y-6 text-lg",children:[o.jsxs("div",{className:"flex items-baseline border-b border-gray-300 pb-2",children:[o.jsx("span",{className:"font-medium w-32",children:":"}),o.jsx("span",{className:"flex-1 receipt-date",children:Te(new Date(r.receiptDate),"yyyy MM dd",{locale:et})})]}),o.jsxs("div",{className:"flex items-baseline border-b border-gray-300 pb-2",children:[o.jsx("span",{className:"font-medium w-32",children:":"}),o.jsx("span",{className:"flex-1",children:r.customerName})]}),o.jsxs("div",{className:"flex items-baseline border-b border-gray-300 pb-2",children:[o.jsx("span",{className:"font-medium w-32",children:":"}),o.jsx("span",{className:"flex-1",children:e})]}),o.jsxs("div",{className:"flex items-baseline border-b border-gray-300 pb-2",children:[o.jsx("span",{className:"font-medium w-32",children:":"}),o.jsxs("span",{className:"flex-1 font-bold receipt-amount",children:["",Number(r.amount).toLocaleString(),""]})]}),o.jsxs("div",{className:"flex items-baseline border-b border-gray-300 pb-2",children:[o.jsx("span",{className:"font-medium w-32",children:"():"}),o.jsx("span",{className:"flex-1",children:i(Number(r.amount))})]}),o.jsxs("div",{className:"flex items-baseline border-b border-gray-300 pb-2",children:[o.jsx("span",{className:"font-medium w-32",children:":"}),o.jsx("span",{className:"flex-1",children:r.purpose})]})]}),o.jsxs("div",{className:"mt-12 text-center",children:[o.jsx("p",{className:"text-lg mb-8",children:"   ."}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("p",{className:"text-lg receipt-date",children:Te(new Date(r.receiptDate),"yyyy MM dd",{locale:et})}),o.jsxs("p",{className:"text-xl font-medium mt-8",children:[": ",r.receivedBy," ",o.jsx("span",{className:"ml-4",children:"()"})]})]})]})]})})]})}),o.jsx("style",{children:`
        @media print {
          body * {
            visibility: hidden;
          }
          .print\\:block, .print\\:block * {
            visibility: visible;
          }
          .print\\:hidden {
            display: none !important;
          }
        }
      `})]})};var ap={};const X1=["","","","","","","","","","","","","","","","","","","","","","","","","","",""],xl=e=>{if(!e)return e;const t=e.replace(/$/g,"").trim(),r=t.split(" ");if(r.length>=2){const n=r[r.length-1];for(const s of X1)if(n===s)return r.slice(0,-1).join(" ").trim()}for(const n of X1)if(t.endsWith(n))return t.substring(0,t.length-n.length).trim();return t},J1=["","","/","","","","","","","","","","","","",""],nne=()=>{const{payments:e,loadPaymentsFromAPI:t,addPaymentToAPI:r,deletePaymentFromAPI:n,updatePaymentInAPI:s,projects:a}=dn(),{user:i}=Ra(),[l,c]=w.useState(""),[u,d]=w.useState(null),[f,h]=w.useState(null),[y,g]=w.useState(!1),[m,N]=w.useState(!1),[v,p]=w.useState(!1),[b,x]=w.useState(!1),[S,k]=w.useState(""),[_,A]=w.useState("form"),[M,$]=w.useState(!1),[V,H]=w.useState(!1),Y=w.useRef(null),[K,ce]=w.useState("pending"),[ee,de]=w.useState("all"),[Z,U]=w.useState(!1),[oe,G]=w.useState(null),[W,D]=w.useState(!1),[T,z]=w.useState(""),[ne,he]=w.useState([]),[ue,B]=w.useState([]),[le,Se]=w.useState(null),[je,Re]=w.useState([]),[L,ae]=w.useState([]),[P,q]=w.useState(!1),[j,R]=w.useState(()=>{const I=localStorage.getItem("paymentRecordImages");return I?JSON.parse(I):{}}),E=()=>{const I=localStorage.getItem("lastSelectedProject"),ve=a.filter(me=>me.status!=="completed");return I&&ve.some(me=>me.name===I)?I:ve.length>0?ve[0].name:""},[C,O]=w.useState({project:"",date:Te(new Date,"yyyy-MM-dd"),process:"",itemName:"",materialCost:"",laborCost:"",amount:"",accountHolder:"",bankName:"",accountNumber:"",images:[]});w.useEffect(()=>{(async()=>{try{const ve=await Ss.getAllContractors();he(ve.map(me=>({id:me._id||me.id,rank:me.rank,companyName:me.companyName,name:me.name,process:me.process,contact:me.contact,accountNumber:me.accountNumber,bankName:me.bankName,notes:me.notes,createdAt:new Date(me.createdAt),updatedAt:new Date(me.updatedAt)})))}catch(ve){console.error("Failed to load contractors:",ve)}})()},[]),w.useEffect(()=>{t().catch(ve=>{console.error("Failed to load payments:",ve)});const I=()=>{$(window.innerWidth<1024)};if(I(),window.addEventListener("resize",I),a.length>0&&!C.project){const ve=E();ve&&(O(me=>({...me,project:ve})),localStorage.setItem("lastSelectedProject",ve))}return()=>window.removeEventListener("resize",I)},[t,a]),w.useEffect(()=>{if(C.process){const I=new Set(e.filter(xe=>{var re;return xe.status==="completed"&&((re=xe.bankInfo)==null?void 0:re.accountHolder)}).map(xe=>xe.bankInfo.accountHolder.trim().toLowerCase())),me=ne.filter(xe=>{if(!(xe.process.toLowerCase().includes(C.process.toLowerCase())||C.process.toLowerCase().includes(xe.process.toLowerCase())))return!1;const Ne=xe.accountNumber&&xe.accountNumber.trim()!=="",De=xe.name.trim().toLowerCase(),Oe=I.has(De);return Ne||Oe}).sort((xe,re)=>{const Ne=xe.accountNumber&&xe.accountNumber.trim()!=="",De=re.accountNumber&&re.accountNumber.trim()!=="";return Ne&&!De?-1:!Ne&&De?1:0});B(me)}else B([])},[C.process,ne,e]),w.useEffect(()=>{if(C.accountHolder&&C.accountHolder.trim().length>=1){const I=C.accountHolder.trim().toLowerCase(),ve=new Map;let me=null;if(le){const re=ne.find(Ne=>(Ne.id||Ne._id)===le);re&&re.accountNumber&&re.bankName&&(me=`${xl(re.name).trim()}_${re.bankName}_${re.accountNumber}`)}e.filter(re=>{var Ne,De,Oe;return re.status==="completed"&&((Ne=re.bankInfo)==null?void 0:Ne.accountHolder)&&((De=re.bankInfo)==null?void 0:De.bankName)&&((Oe=re.bankInfo)==null?void 0:Oe.accountNumber)}).forEach(re=>{const Ne=re.bankInfo.accountHolder.trim(),De=Ne.toLowerCase();if(De.includes(I)||I.includes(De)){const Oe=`${Ne}_${re.bankInfo.bankName}_${re.bankInfo.accountNumber}`;Oe!==me&&!ve.has(Oe)&&ve.set(Oe,{accountHolder:Ne,bankName:re.bankInfo.bankName,accountNumber:re.bankInfo.accountNumber})}}),ne.forEach(re=>{if((re.id||re._id)!==le&&re.accountNumber&&re.bankName){const Ne=xl(re.name).trim(),De=Ne.toLowerCase();if(De.includes(I)||I.includes(De)){const Oe=`${Ne}_${re.bankName}_${re.accountNumber}`;ve.has(Oe)||ve.set(Oe,{accountHolder:Ne,bankName:re.bankName,accountNumber:re.accountNumber})}}}),Re(Array.from(ve.values()))}else Re([])},[C.accountHolder,e,ne,le]),w.useEffect(()=>{if(P&&C.itemName&&C.itemName.trim().length>=1){const I=C.itemName.trim().toLowerCase(),ve=[...e].sort((xe,re)=>new Date(re.date).getTime()-new Date(xe.date).getTime()).map(xe=>xe.itemName).filter(xe=>xe&&xe.toLowerCase().includes(I)),me=Array.from(new Set(ve));ae(me.slice(0,10))}else ae([])},[C.itemName,e,P]);const J=w.useCallback(()=>{if(!le&&(!C.accountHolder||C.accountHolder.trim().length===0)){const I=new Map;e.filter(me=>{var xe,re,Ne;return me.status==="completed"&&((xe=me.bankInfo)==null?void 0:xe.accountHolder)&&((re=me.bankInfo)==null?void 0:re.bankName)&&((Ne=me.bankInfo)==null?void 0:Ne.accountNumber)}).forEach(me=>{const xe=me.bankInfo.accountHolder.trim(),re=`${xe}_${me.bankInfo.bankName}_${me.bankInfo.accountNumber}`;I.has(re)||I.set(re,{accountHolder:xe,bankName:me.bankInfo.bankName,accountNumber:me.bankInfo.accountNumber})}),ne.forEach(me=>{if(me.accountNumber&&me.bankName){const xe=xl(me.name).trim(),re=`${xe}_${me.bankName}_${me.accountNumber}`;I.has(re)||I.set(re,{accountHolder:xe,bankName:me.bankName,accountNumber:me.accountNumber})}}),Re(Array.from(I.values()))}},[C.accountHolder,e,ne,le]);w.useEffect(()=>{localStorage.setItem("paymentRecordImages",JSON.stringify(j))},[j]);const te=w.useCallback(I=>{var me;if(!u){Q.error("  ");return}const ve=(me=I.clipboardData)==null?void 0:me.items;if(ve){for(let xe=0;xe<ve.length;xe++)if(ve[xe].type.indexOf("image")!==-1){I.preventDefault();const re=ve[xe].getAsFile();if(re){const Ne=new FileReader;Ne.onload=De=>{var nt;const Oe=(nt=De.target)==null?void 0:nt.result;R(Le=>({...Le,[u]:[...Le[u]||[],Oe]})),Q.success(" ")},Ne.readAsDataURL(re)}}}},[u]);w.useEffect(()=>(document.addEventListener("paste",te),()=>document.removeEventListener("paste",te)),[te]);const se=[...e].sort((I,ve)=>new Date(ve.requestDate).getTime()-new Date(I.requestDate).getTime()),fe=se.filter(I=>{var re,Ne,De;const ve=l===""||((re=I.purpose)==null?void 0:re.toLowerCase().includes(l.toLowerCase()))||((Ne=I.itemName)==null?void 0:Ne.toLowerCase().includes(l.toLowerCase()))||((De=I.process)==null?void 0:De.toLowerCase().includes(l.toLowerCase())),me=I.status===K,xe=ee==="all"||I.project===ee;return ve&&me&&xe}),ke=I=>{const ve=I.id||I._id||null;if(le===ve){Se(null);const Ne=document.querySelector('input[placeholder=" "]');Ne&&setTimeout(()=>{Ne.focus()},100);return}Se(ve);const me=xl(I.name);let xe=I.bankName||"",re=I.accountNumber||"";if(re&&!xe){const Ne=re.trim().split(/\s+/);if(Ne.length>=2){const De=Ne[0];(De.includes("")||De.includes("")||De.includes("")||De.includes("")||De.includes(""))&&(xe=De,re=Ne.slice(1).join(""))}}O(Ne=>({...Ne,accountHolder:me,bankName:xe,accountNumber:re}))};fe.reduce((I,ve)=>{const me=ve.materialAmount||0,xe=ve.laborAmount||0,re=ve.amount||0;let Ne=me,De=xe,Oe=0;return me===0&&xe===0&&re>0?ve.includesVAT?(Ne=Math.round(re/1.1),Oe=re-Ne):(Ne=re,Oe=0):ve.includesVAT?(me>0&&(Ne=Math.round(me/1.1)),xe>0&&(De=Math.round(xe/1.1)),Oe=re-(Ne+De)):Oe=0,I.material+=Ne,I.labor+=De,I.vat+=Oe,I.total+=re,I},{material:0,labor:0,vat:0,total:0});const we=async()=>{if(console.log(" handleSave called"),console.log(" Current user:",i),console.log(" Form data:",C),!C.project){Q.error(" ");return}if(!C.itemName){Q.error(" ");return}const I=Number(C.materialCost)||0,ve=Number(C.laborCost)||0;if(I+ve===0){Q.error(" ");return}try{const xe=v?Math.round(I*.967):I,re=v?Math.round(ve*.967):ve,Ne=xe+re,De=new Date;if(f){const Oe={project:C.project,requestDate:new Date(C.date),purpose:C.itemName,amount:Ne,category:"material",urgency:"normal",process:C.process,itemName:C.itemName,includesVAT:m,applyTaxDeduction:v,materialAmount:xe,laborAmount:re,originalLaborAmount:ve,accountHolder:C.accountHolder,bank:C.bankName,accountNumber:C.accountNumber,bankInfo:C.accountHolder||C.bankName||C.accountNumber?{accountHolder:C.accountHolder,bankName:C.bankName,accountNumber:C.accountNumber}:void 0,updatedAt:De};console.log(" Updating payment:",Oe),await s(f,Oe),Q.success(" "),h(null)}else{const Oe={id:`payment_${Date.now()}`,project:C.project,requestDate:new Date(C.date),requestedBy:(i==null?void 0:i.name)||"  ",purpose:C.itemName,amount:Ne,status:"pending",category:"material",urgency:"normal",process:C.process,itemName:C.itemName,includesVAT:m,applyTaxDeduction:v,materialAmount:xe,laborAmount:re,originalLaborAmount:ve,accountHolder:C.accountHolder,bank:C.bankName,accountNumber:C.accountNumber,bankInfo:C.accountHolder||C.bankName||C.accountNumber?{accountHolder:C.accountHolder,bankName:C.bankName,accountNumber:C.accountNumber}:void 0,attachments:[],createdAt:De,updatedAt:De};console.log(" Creating payment:",Oe),await r(Oe),Q.success(" ")}O(Oe=>({project:Oe.project,date:Te(new Date,"yyyy-MM-dd"),process:"",itemName:"",materialCost:"",laborCost:"",amount:"",accountHolder:"",bankName:"",accountNumber:"",images:[]})),N(!1),p(!1),Se(null),M&&A("list")}catch(xe){console.error(" Payment save error:",xe),Q.error("  : "+xe.message)}},Ee=I=>{var xe,re,Ne,De;const ve=I.originalMaterialAmount!==void 0?I.originalMaterialAmount:I.materialAmount||0,me=I.originalLaborAmount!==void 0?I.originalLaborAmount:I.laborAmount||0;O({project:I.project,date:Te(new Date(I.requestDate),"yyyy-MM-dd"),process:I.process||"",itemName:I.itemName||I.purpose||"",materialCost:ve>0?ve.toString():"",laborCost:me>0?me.toString():"",amount:((xe=I.amount)==null?void 0:xe.toString())||"",accountHolder:((re=I.bankInfo)==null?void 0:re.accountHolder)||"",bankName:((Ne=I.bankInfo)==null?void 0:Ne.bankName)||"",accountNumber:((De=I.bankInfo)==null?void 0:De.accountNumber)||"",images:I.attachments||[]}),N(I.includesVAT||!1),p(I.applyTaxDeduction||!1),d(I.id),h(I.id),M&&A("form"),Q.success("  ")},rt=async I=>{var ve,me,xe;try{const re=((ve=I.bankInfo)==null?void 0:ve.accountHolder)||I.accountHolder,Ne=((me=I.bankInfo)==null?void 0:me.bankName)||I.bank,De=((xe=I.bankInfo)==null?void 0:xe.accountNumber)||I.accountNumber;if(!re||!Ne||!De){Q.error("  .    .");return}if(ap.TOSSPAY_API_KEY&&ap.TOSSPAY_SECRET_KEY&&ap.TOSSPAY_SENDER_ACCOUNT!=="1002-000-0000"){if(!window.confirm(` ${re} ${I.amount.toLocaleString()} ?

: ${Ne}
: ${De}
: ${re}

   .`))return;const Le=Q.loading("   ..."),Kr=await(await fetch("/api/payments/tosspay/instant-transfer",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({paymentId:I.id,receiverName:re,receiverBank:Ne,receiverAccount:De,amount:I.amount,description:`${I.project} - ${I.itemName||I.purpose}`})})).json();Q.dismiss(Le),Kr.success?(Q.success(" !"),await t()):Q.error(Kr.error||"  ")}else try{if(await navigator.clipboard.writeText(De),window.confirm(` !

: ${re}
: ${Ne}
: ${De}
: ${I.amount.toLocaleString()}

/   .
   ""  .`)){const Mt={KB:"kbbank://",:"shinhan-sr://",:"wooribank://",:"hanabank://",:"kakaotalk://kakaopay",:"toss://"}[Ne];Mt&&/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)&&(window.location.href=Mt)}}catch{alert(`: ${re}
: ${Ne}
: ${De}
: ${I.amount.toLocaleString()}

    .`)}}catch(re){console.error(" :",re),Q.error("   ")}},We=async I=>{try{await s(I,{status:"completed"}),Q.success(" "),U(!1)}catch{Q.error("  ")}},Xe=I=>{var re;if(!u){Q.error("  ");return}const ve=Array.from(((re=I.target)==null?void 0:re.files)||[]),me=[],xe=ve.filter(Ne=>Ne.type.startsWith("image/"));xe.length!==0&&xe.forEach(Ne=>{const De=new FileReader;De.onload=Oe=>{var Le;const nt=(Le=Oe.target)==null?void 0:Le.result;me.push(nt),me.length===xe.length&&(R(Mt=>({...Mt,[u]:[...Mt[u]||[],...me]})),Q.success(`${me.length}  `))},De.readAsDataURL(Ne)})},Ke=I=>{u&&R(ve=>{var me;return{...ve,[u]:((me=ve[u])==null?void 0:me.filter((xe,re)=>re!==I))||[]}})},ct=I=>{k(I),x(!0)},Je=I=>{I.preventDefault(),g(!0)},Jt=I=>{I.preventDefault(),g(!1)},Lr=I=>{if(I.preventDefault(),g(!1),!u){Q.error("  ");return}const ve=Array.from(I.dataTransfer.files),me=[],xe=ve.filter(re=>re.type.startsWith("image/"));xe.length!==0&&xe.forEach(re=>{const Ne=new FileReader;Ne.onload=De=>{var nt;const Oe=(nt=De.target)==null?void 0:nt.result;me.push(Oe),me.length===xe.length&&(R(Le=>({...Le,[u]:[...Le[u]||[],...me]})),Q.success(`${me.length}  `))},Ne.readAsDataURL(re)})};return o.jsxs("div",{className:"space-y-3 md:space-y-4",children:[o.jsxs("div",{className:"lg:hidden mb-4",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),o.jsx("select",{value:C.project,onChange:I=>{O({...C,project:I.target.value}),I.target.value&&localStorage.setItem("lastSelectedProject",I.target.value)},className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",children:a.filter(I=>I.status!=="completed").map(I=>o.jsx("option",{value:I.name,children:I.name},I.id))})]}),o.jsx("div",{className:"lg:hidden border-b border-gray-200 mb-4",children:o.jsxs("nav",{className:"flex space-x-4",children:[o.jsx("button",{onClick:()=>A("form"),className:`py-2 px-1 border-b-2 font-medium text-sm ${_==="form"?"border-gray-900 text-gray-900":"border-transparent text-gray-500"}`,children:""}),o.jsx("button",{onClick:()=>A("list"),className:`py-2 px-1 border-b-2 font-medium text-sm ${_==="list"?"border-gray-900 text-gray-900":"border-transparent text-gray-500"}`,children:""}),o.jsx("button",{onClick:()=>A("image"),className:`py-2 px-1 border-b-2 font-medium text-sm ${_==="image"?"border-gray-900 text-gray-900":"border-transparent text-gray-500"}`,children:""})]})}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-4",children:[o.jsx("div",{className:`lg:col-span-2 bg-white rounded-lg border p-4 overflow-y-auto ${_!=="form"?"hidden lg:block":""}`,children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"hidden lg:block",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" *"}),o.jsx("select",{value:C.project,onChange:I=>{O({...C,project:I.target.value}),I.target.value&&localStorage.setItem("lastSelectedProject",I.target.value)},className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",children:a.filter(I=>I.status!=="completed").map(I=>o.jsx("option",{value:I.name,children:I.name},I.id))})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[" ",C.date&&`(${Te(new Date(C.date),"E",{locale:et})})`]}),o.jsx("input",{type:"date",value:C.date,onChange:I=>O({...C,date:I.target.value}),className:"w-full px-3 py-2 border rounded-lg bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500 cursor-pointer text-gray-900",style:{WebkitAppearance:"none",MozAppearance:"none",appearance:"none",backgroundColor:"white",backgroundImage:"none"}})]}),o.jsxs("div",{className:"relative",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),o.jsx("button",{ref:Y,type:"button",onClick:()=>H(!0),className:"w-full px-3 py-2 border rounded-lg text-left bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500",children:C.process||o.jsx("span",{className:"text-gray-400",children:""})})]})]}),o.jsxs("div",{className:"relative",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),o.jsx("input",{type:"text",value:C.itemName,onChange:I=>O({...C,itemName:I.target.value}),onFocus:()=>q(!0),onBlur:()=>setTimeout(()=>q(!1),200),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"}),L.length>0&&o.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:L.map((I,ve)=>o.jsx("button",{type:"button",onClick:()=>{O({...C,itemName:I}),ae([])},className:"w-full px-3 py-2 text-left hover:bg-gray-50 text-sm",children:o.jsx("div",{className:"font-medium text-gray-900",children:I})},ve))})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),o.jsx("input",{type:"number",value:C.materialCost,onChange:I=>O({...C,materialCost:I.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),o.jsx("input",{type:"number",value:C.laborCost,onChange:I=>O({...C,laborCost:I.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",id:"includeVat",checked:m,onChange:I=>{I.target.checked&&p(!1),N(I.target.checked)},className:"h-4 w-4 text-gray-600 focus:ring-gray-500 border-gray-300 rounded"}),o.jsx("label",{htmlFor:"includeVat",className:"ml-2 block text-sm text-gray-700",children:"  (10%)"})]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",id:"includeTaxDeduction",checked:v,onChange:I=>{I.target.checked&&N(!1),p(I.target.checked)},className:"h-4 w-4 text-gray-600 focus:ring-gray-500 border-gray-300 rounded"}),o.jsx("label",{htmlFor:"includeTaxDeduction",className:"ml-2 block text-sm text-gray-700",children:"3.3% "})]})]})]}),ue.length>0&&o.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-3 mt-3",children:[o.jsx("label",{className:"block text-sm font-medium text-amber-900 mb-2",children:" "}),o.jsx("div",{className:"space-y-1 max-h-32 overflow-y-auto",children:ue.map(I=>{const ve=I.id||I._id,me=le===ve;return o.jsx("button",{type:"button",onClick:()=>ke(I),className:`w-full text-left px-3 py-2 rounded-lg border transition-colors ${me?"border-gray-900 bg-gray-50":"border-gray-200 hover:border-gray-400 hover:bg-gray-50"}`,children:o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"font-medium text-sm text-gray-900",children:xl(I.name)}),I.companyName&&o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"text-gray-300",children:"|"}),o.jsx("span",{className:"text-xs text-gray-600",children:I.companyName})]})]}),I.accountNumber&&I.bankName&&o.jsxs("div",{className:"text-xs text-gray-500",children:[I.bankName," ",I.accountNumber]})]})},ve)})})]}),o.jsxs("div",{className:"border-t pt-3 space-y-2",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),o.jsx("input",{type:"text",value:C.accountHolder,onChange:I=>O({...C,accountHolder:I.target.value}),onFocus:J,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",placeholder:" "})]}),je.length>0&&!le&&o.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[o.jsx("label",{className:"block text-sm font-medium text-blue-900 mb-2",children:"  "}),o.jsx("div",{className:"space-y-1 max-h-32 overflow-y-auto",children:je.map((I,ve)=>o.jsx("button",{type:"button",onClick:()=>{O(me=>({...me,accountHolder:I.accountHolder,bankName:I.bankName,accountNumber:I.accountNumber})),Re([])},className:"w-full text-left px-3 py-2 rounded-lg border border-blue-200 bg-white hover:border-blue-400 hover:bg-blue-50 transition-colors",children:o.jsx("div",{className:"flex justify-between items-start",children:o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-sm text-gray-900",children:I.accountHolder}),o.jsxs("div",{className:"text-xs text-gray-500 mt-0.5",children:[I.bankName," ",I.accountNumber]})]})})},ve))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),o.jsxs("select",{value:C.bankName,onChange:I=>O({...C,bankName:I.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",children:[o.jsx("option",{value:"",children:" "}),o.jsx("option",{value:"KB",children:"KB"}),o.jsx("option",{value:"",children:""}),o.jsx("option",{value:"",children:""}),o.jsx("option",{value:"",children:""}),o.jsx("option",{value:"NH",children:"NH"}),o.jsx("option",{value:"IBK",children:"IBK"}),o.jsx("option",{value:"SC",children:"SC"}),o.jsx("option",{value:"",children:""}),o.jsx("option",{value:"",children:""}),o.jsx("option",{value:"",children:""}),o.jsx("option",{value:"",children:""}),o.jsx("option",{value:"",children:""}),o.jsx("option",{value:"",children:""}),o.jsx("option",{value:"",children:""}),o.jsx("option",{value:"KDB",children:"KDB"}),o.jsx("option",{value:"",children:""}),o.jsx("option",{value:"",children:""}),o.jsx("option",{value:"",children:""}),o.jsx("option",{value:"",children:""}),o.jsx("option",{value:"",children:""}),o.jsx("option",{value:"",children:""}),o.jsx("option",{value:"",children:""})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),o.jsx("input",{type:"text",value:C.accountNumber,onChange:I=>O({...C,accountNumber:I.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",placeholder:" "})]}),o.jsx("div",{className:"pt-2 border-t",children:o.jsxs("div",{className:"flex justify-between items-baseline",children:[o.jsx("span",{className:"font-medium",children:""}),o.jsxs("div",{className:"text-right",children:[(m||v)&&o.jsxs("span",{className:"text-xs text-gray-500 mr-2",children:["(",m&&" ",v&&"3.3% ",")"]}),o.jsxs("span",{className:"font-semibold",children:[(()=>{const I=(Number(C.materialCost)||0)+(Number(C.laborCost)||0);return(v?Math.round(I*.967):I).toLocaleString()})(),""]})]})]})}),o.jsxs("div",{className:"my-6 lg:my-[50px] sticky bottom-0 bg-white pt-4 pb-4 -mb-4 lg:static lg:pb-0",style:{zIndex:100},children:[f&&o.jsx("button",{onClick:()=>{h(null),O(I=>({project:I.project,date:Te(new Date,"yyyy-MM-dd"),process:"",itemName:"",materialCost:"",laborCost:"",amount:"",accountHolder:"",bankName:"",accountNumber:"",images:[]})),N(!1),p(!1),Se(null),Q.info(" ")},className:"w-full py-2 mb-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 touch-manipulation",style:{minHeight:"48px"},children:""}),o.jsx("button",{onClick:I=>{console.log(" Payment button clicked!",I),console.log(" Button element:",I.currentTarget),console.log(" Form data:",C),we()},className:"w-full py-3 bg-gray-900 text-white rounded-lg hover:bg-gray-800 active:bg-gray-950 touch-manipulation font-medium text-base",style:{minHeight:"48px",position:"relative",zIndex:101,WebkitTapHighlightColor:"transparent"},children:f?"":""})]})]})]})}),o.jsxs("div",{className:`lg:col-span-4 bg-white rounded-lg border overflow-hidden flex flex-col ${_!=="list"?"hidden lg:flex":""}`,children:[o.jsx("div",{className:"bg-gray-50 px-4 pt-3 pb-0",children:o.jsxs("div",{className:"flex items-center justify-between gap-4",children:[o.jsxs("nav",{className:"flex gap-2 overflow-x-auto flex-1",children:[o.jsxs("button",{onClick:()=>ce("pending"),className:`px-4 py-2.5 rounded-t-lg font-medium text-sm transition-all whitespace-nowrap flex items-center gap-2 ${K==="pending"?"bg-white text-gray-900 shadow-sm border-b-2 border-gray-900":"text-gray-500 hover:text-gray-700 hover:bg-gray-100"}`,children:["",o.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-semibold ${K==="pending"?"bg-gray-900 text-white":"bg-gray-300 text-gray-600"}`,children:se.filter(I=>I.status==="pending").length})]}),o.jsxs("button",{onClick:()=>ce("completed"),className:`px-4 py-2.5 rounded-t-lg font-medium text-sm transition-all whitespace-nowrap flex items-center gap-2 ${K==="completed"?"bg-white text-gray-900 shadow-sm border-b-2 border-gray-900":"text-gray-500 hover:text-gray-700 hover:bg-gray-100"}`,children:["",o.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-semibold ${K==="completed"?"bg-gray-900 text-white":"bg-gray-300 text-gray-600"}`,children:se.filter(I=>I.status==="completed").length})]})]}),C.project&&o.jsx("button",{onClick:()=>de(ee==="all"?C.project:"all"),className:`px-3 py-1.5 text-xs font-medium rounded-lg whitespace-nowrap transition-colors ${ee===C.project?"bg-gray-900 text-white":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"}`,children:ee===C.project?"":`${C.project} `})]})}),o.jsx("div",{className:"border-b border-gray-200"}),o.jsx("div",{className:"flex-1 overflow-auto p-4",children:fe.length>0?o.jsx("div",{className:"space-y-4",children:K==="completed"?(()=>{const I=fe.reduce((ve,me)=>{const xe=me.project||"";return ve[xe]||(ve[xe]=[]),ve[xe].push(me),ve},{});return Object.entries(I).map(([ve,me])=>{const xe=me.reduce((re,Ne)=>re+(Ne.amount||0),0);return o.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[o.jsxs("div",{className:"bg-gray-50 px-3 py-2 border-b flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-gray-900 text-sm",children:ve}),o.jsxs("p",{className:"text-xs text-gray-500",children:[" ",me.length,"  ",xe.toLocaleString(),""]})]}),o.jsxs("button",{onClick:()=>{z(ve),D(!0)},className:"px-3 py-1.5 bg-gray-900 text-white rounded text-xs font-medium hover:bg-gray-800 flex items-center gap-1",children:[o.jsx(Rm,{className:"h-3.5 w-3.5"}),""]})]}),o.jsx("div",{className:"p-2 space-y-2",children:me.map(re=>{var Mt,Kr,Rt;const Ne=re.amount||0,De=((Mt=re.bankInfo)==null?void 0:Mt.accountHolder)||re.accountHolder||"",Oe=((Kr=re.bankInfo)==null?void 0:Kr.bankName)||re.bank||"",nt=((Rt=re.bankInfo)==null?void 0:Rt.accountNumber)||re.accountNumber||"",Le=De&&Oe&&nt?`${De} | ${Oe} ${nt}`:" ";return o.jsxs("div",{onClick:()=>d(re.id),className:`border rounded-lg p-3 cursor-pointer transition-colors ${u===re.id?"border-gray-900 bg-gray-50":"border-gray-200 bg-white hover:border-gray-400"}`,children:[o.jsxs("div",{className:"flex justify-between items-start mb-2.5",children:[o.jsx("div",{className:"flex-1 min-w-0",children:o.jsxs("div",{className:"flex items-baseline gap-2",children:[re.process&&o.jsxs("span",{className:"text-xs text-gray-500 shrink-0",children:["[",re.process,"]"]}),o.jsx("h3",{className:"font-semibold text-gray-900 text-sm truncate",children:re.purpose||re.itemName||"-"})]})}),o.jsxs("div",{className:"flex items-start gap-2 ml-3 shrink-0",children:[o.jsxs("div",{className:"text-right",children:[o.jsxs("p",{className:"text-base font-bold text-gray-900",children:[Ne.toLocaleString(),""]}),o.jsxs("p",{className:"text-[10px] text-gray-400",children:[re.requestedBy||"-","  ",Te(new Date(re.requestDate),"MM/dd",{locale:et})]})]}),o.jsx("button",{onClick:async Sr=>{Sr.stopPropagation(),window.confirm("  ?")&&(await n(re.id),Q.success(""))},className:"p-0.5 text-gray-300 hover:text-red-500 transition-colors",title:"",children:o.jsx(rr,{className:"h-3.5 w-3.5"})})]})]}),o.jsxs("div",{className:"flex items-center gap-2 mb-2.5 text-xs",children:[o.jsxs("span",{className:"text-gray-400",children:[" ",(re.materialAmount||0).toLocaleString()]}),o.jsx("span",{className:"text-gray-300",children:""}),o.jsxs("span",{className:"text-gray-400",children:[" ",(re.laborAmount||0).toLocaleString()]}),re.includesVAT&&o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"text-gray-300",children:""}),o.jsx("span",{className:"px-1.5 py-0.5 bg-blue-50 text-blue-700 text-[10px] rounded",children:"VAT"})]}),re.applyTaxDeduction&&o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"text-gray-300",children:""}),o.jsx("span",{className:"px-1.5 py-0.5 bg-purple-50 text-purple-700 text-[10px] rounded",children:"3.3%"})]})]}),o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("div",{className:"text-xs text-gray-500 truncate flex-1",children:Le}),o.jsx("button",{onClick:Sr=>{Sr.stopPropagation(),Ee(re)},className:"text-xs text-gray-600 hover:text-gray-900 ml-2 flex-shrink-0",children:""})]}),o.jsxs("button",{onClick:Sr=>{Sr.stopPropagation(),z(re.project),D(!0)},className:"w-full py-1.5 px-2 bg-green-600 text-white rounded text-xs font-medium hover:bg-green-700 transition-colors flex items-center justify-center gap-1",children:[o.jsx(Rm,{className:"h-3 w-3"}),""]})]},re.id)})})]},ve)})})():fe.map(I=>{var De,Oe,nt;const ve=I.amount||0,me=((De=I.bankInfo)==null?void 0:De.accountHolder)||I.accountHolder||"",xe=((Oe=I.bankInfo)==null?void 0:Oe.bankName)||I.bank||"",re=((nt=I.bankInfo)==null?void 0:nt.accountNumber)||I.accountNumber||"",Ne=me&&xe&&re?`${me} | ${xe} ${re}`:" ";return o.jsxs("div",{onClick:()=>d(I.id),className:`border rounded-lg p-3 cursor-pointer transition-colors ${u===I.id?"border-gray-900 bg-gray-50":"border-gray-200 bg-white hover:border-gray-400"}`,children:[o.jsxs("div",{className:"flex justify-between items-start mb-2.5",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-baseline gap-2",children:[I.process&&o.jsxs("span",{className:"text-xs text-gray-500 shrink-0",children:["[",I.process,"]"]}),o.jsx("h3",{className:"font-semibold text-gray-900 text-sm truncate",children:I.purpose||I.itemName||"-"})]}),o.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:I.project||"-"})]}),o.jsxs("div",{className:"flex items-start gap-2 ml-3 shrink-0",children:[o.jsxs("div",{className:"text-right",children:[o.jsxs("p",{className:"text-base font-bold text-gray-900",children:[ve.toLocaleString(),""]}),o.jsxs("p",{className:"text-[10px] text-gray-400",children:[I.requestedBy||"-","  ",Te(new Date(I.requestDate),"MM/dd",{locale:et})]})]}),o.jsx("button",{onClick:async Le=>{Le.stopPropagation(),window.confirm("  ?")&&(await n(I.id),Q.success(""))},className:"p-0.5 text-gray-300 hover:text-red-500 transition-colors",title:"",children:o.jsx(rr,{className:"h-3.5 w-3.5"})})]})]}),o.jsxs("div",{className:"flex items-center gap-2 mb-2.5 text-xs",children:[o.jsxs("span",{className:"text-gray-400",children:[" ",(I.materialAmount||0).toLocaleString()]}),o.jsx("span",{className:"text-gray-300",children:""}),o.jsxs("span",{className:"text-gray-400",children:[" ",(I.laborAmount||0).toLocaleString()]}),I.includesVAT&&o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"text-gray-300",children:""}),o.jsx("span",{className:"px-1.5 py-0.5 bg-blue-50 text-blue-700 text-[10px] rounded",children:"VAT"})]}),I.applyTaxDeduction&&o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"text-gray-300",children:""}),o.jsx("span",{className:"px-1.5 py-0.5 bg-purple-50 text-purple-700 text-[10px] rounded",children:"3.3%"})]})]}),o.jsxs("div",{className:"flex items-center justify-between mb-2.5",children:[o.jsx("div",{className:"text-xs text-gray-500 truncate flex-1",children:Ne}),o.jsx("button",{onClick:Le=>{Le.stopPropagation(),Ee(I)},className:"text-xs text-gray-600 hover:text-gray-900 ml-2 flex-shrink-0",children:""})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("button",{onClick:Le=>{Le.stopPropagation(),z(I.project),D(!0)},className:"flex-1 py-1.5 px-2 bg-green-600 text-white rounded text-xs font-medium hover:bg-green-700 transition-colors flex items-center justify-center gap-1",children:[o.jsx(Rm,{className:"h-3 w-3"}),""]}),K==="pending"&&(i==null?void 0:i.role)&&["manager","admin"].includes(i.role)&&o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:Le=>{Le.stopPropagation(),rt(I)},className:"flex-1 py-1.5 px-2 bg-gray-700 text-white rounded text-xs font-medium hover:bg-gray-800 transition-colors",children:""}),o.jsx("button",{onClick:Le=>{Le.stopPropagation(),We(I.id)},className:"flex-1 py-1.5 px-2 text-white rounded text-xs font-medium transition-colors",style:{backgroundColor:"#5f81a5"},onMouseEnter:Le=>Le.currentTarget.style.backgroundColor="#4a6b8a",onMouseLeave:Le=>Le.currentTarget.style.backgroundColor="#5f81a5",children:""})]})]})]},I.id)})}):o.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:" "})})]}),o.jsxs("div",{className:`lg:col-span-6 bg-white rounded-lg border flex flex-col overflow-hidden ${_!=="image"?"hidden lg:flex":""}`,onDragOver:Je,onDragLeave:Jt,onDrop:Lr,children:[o.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:Xe,className:"hidden",id:"image-file-input"}),M&&u&&_==="image"&&(()=>{const I=se.find(ve=>ve.id===u);return I?o.jsx("div",{className:"border-b bg-gray-50 p-3",children:o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"font-medium text-gray-900 text-sm",children:I.purpose||I.itemName}),o.jsxs("p",{className:"text-xs text-gray-500 mt-0.5",children:[I.process||"-","  ",Te(new Date(I.requestDate),"yyyy.MM.dd",{locale:et})]})]}),o.jsxs("p",{className:"text-sm font-bold text-gray-900",children:["",(I.amount||0).toLocaleString()]})]})}):null})(),o.jsx("div",{className:"flex-1 overflow-y-auto p-4 relative",onClick:I=>{var me;const ve=I.target;!ve.closest("img")&&!ve.closest("button")&&u&&(j[u]||[]).length>0&&((me=document.getElementById("image-file-input"))==null||me.click())},children:u?(()=>{const I=j[u]||[];return I.length>0?o.jsx("div",{className:"grid grid-cols-1 gap-3",children:I.map((ve,me)=>o.jsxs("div",{className:"relative group border rounded-lg overflow-hidden",children:[o.jsx("img",{src:ve,alt:` ${me+1}`,className:"w-full h-auto cursor-pointer hover:opacity-90 transition-opacity",onClick:xe=>{xe.stopPropagation(),ct(ve)}}),o.jsx("button",{onClick:xe=>{xe.stopPropagation(),Ke(me)},className:"absolute top-2 right-2 p-1.5 bg-red-500 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:o.jsx(ft,{className:"h-4 w-4"})})]},me))}):o.jsx("label",{htmlFor:"image-file-input",className:"h-full flex items-center justify-center cursor-pointer",children:o.jsxs("div",{className:`w-full h-full min-h-[200px] border-2 border-dashed rounded-lg p-6 text-center transition-colors flex flex-col items-center justify-center ${y?"border-gray-500 bg-gray-50":"border-gray-300 hover:border-gray-400"}`,children:[o.jsx(dh,{className:"h-10 w-10 mx-auto text-gray-400 mb-2"}),o.jsx("p",{className:"text-sm font-medium text-gray-700",children:" "}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"   Ctrl+V "})]})})})():o.jsx("div",{className:"h-full flex items-center justify-center min-h-[200px]",children:o.jsxs("div",{className:"text-center text-gray-400",children:[o.jsx(cv,{className:"h-12 w-12 mx-auto mb-2"}),o.jsx("p",{className:"text-sm",children:" "})]})})})]})]}),V&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"lg:hidden fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:o.jsxs("div",{className:"bg-white rounded-lg w-full max-w-md mx-4 max-h-[80vh] overflow-hidden",children:[o.jsxs("div",{className:"flex items-center justify-between p-3 border-b",children:[o.jsx("h2",{className:"text-base font-bold text-gray-900",children:" "}),o.jsx("button",{onClick:()=>H(!1),className:"p-1 hover:bg-gray-100 rounded-full",children:o.jsx(ft,{className:"h-4 w-4 text-gray-500"})})]}),o.jsxs("div",{className:"p-3 overflow-y-auto max-h-[calc(80vh-100px)]",children:[o.jsx("div",{className:"grid grid-cols-2 gap-2 mb-2",children:J1.map(I=>o.jsx("button",{onClick:()=>{O({...C,process:I}),H(!1)},className:`p-2 text-sm text-center border rounded-lg transition-all ${C.process===I?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:border-gray-400 hover:bg-gray-50"}`,children:I},I))}),o.jsx("button",{onClick:()=>{O({...C,process:""}),H(!1)},className:"w-full p-2 text-sm text-center border-2 border-dashed border-gray-300 rounded-lg hover:border-gray-400 hover:bg-gray-50 text-gray-500",children:" "})]})]})}),o.jsx("div",{className:"hidden lg:block fixed inset-0 z-40",onClick:()=>H(!1),children:o.jsxs("div",{onClick:I=>I.stopPropagation(),className:"absolute bg-white rounded-lg shadow-xl border border-gray-200",style:{top:Y.current?`${Y.current.getBoundingClientRect().bottom+window.scrollY+4}px`:"50%",left:Y.current?`${Y.current.getBoundingClientRect().left+window.scrollX}px`:"50%"},children:[o.jsxs("div",{className:"flex items-center justify-between p-2 border-b",children:[o.jsx("h2",{className:"text-sm font-bold text-gray-900",children:" "}),o.jsx("button",{onClick:()=>H(!1),className:"p-1 hover:bg-gray-100 rounded-full",children:o.jsx(ft,{className:"h-3 w-3 text-gray-500"})})]}),o.jsxs("div",{className:"p-2",children:[o.jsx("div",{className:"grid grid-cols-4 gap-1.5 mb-2",children:J1.map(I=>o.jsx("button",{onClick:()=>{O({...C,process:I}),H(!1)},className:`p-1.5 text-xs text-center border rounded-lg transition-all whitespace-nowrap ${C.process===I?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:border-gray-400 hover:bg-gray-50"}`,children:I},I))}),o.jsx("button",{onClick:()=>{O({...C,process:""}),H(!1)},className:"w-full p-1.5 text-xs text-center border-2 border-dashed border-gray-300 rounded-lg hover:border-gray-400 hover:bg-gray-50 text-gray-500",children:" "})]})]})})]}),b&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-90",onClick:()=>x(!1),children:o.jsxs("div",{className:"relative max-w-[90vw] max-h-[90vh]",children:[o.jsx("button",{onClick:I=>{I.stopPropagation(),x(!1)},className:"absolute -top-10 right-0 text-white hover:text-gray-300 transition-colors",children:o.jsx(ft,{className:"h-8 w-8"})}),o.jsx("img",{src:S,alt:" ",className:"max-w-full max-h-[90vh] object-contain",onClick:I=>I.stopPropagation()})]})}),W&&o.jsx(rne,{projectName:T,onClose:()=>D(!1)})]})},sne=()=>{const[e,t]=w.useState([]),[r,n]=w.useState(null),[s,a]=w.useState(!0);w.useEffect(()=>{i()},[]);const i=async()=>{try{a(!0);const d=await Pe.get("/quote-inquiries");t(d.data)}catch(d){console.error("Failed to load inquiries:",d),Q.error("  ")}finally{a(!1)}},l=async d=>{try{await Pe.put(`/quote-inquiries/${d}/read`),t(f=>f.map(h=>h.id===d?{...h,isRead:!0}:h))}catch(f){console.error("Failed to mark as read:",f)}},c=d=>{n(d),d.isRead||l(d.id)},u=e.filter(d=>!d.isRead).length;return s?o.jsx("div",{className:"flex items-center justify-center h-full",children:o.jsx("div",{className:"text-gray-500",children:" ..."})}):o.jsxs("div",{className:"h-full flex flex-col md:flex-row gap-4 p-4",children:[o.jsxs("div",{className:"w-full md:w-1/3 bg-white rounded-lg shadow overflow-hidden flex flex-col",children:[o.jsx("div",{className:"p-4 border-b bg-gray-50",children:o.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:[" ",u>0&&o.jsx("span",{className:"ml-2 px-2 py-1 text-xs bg-red-500 text-white rounded-full",children:u})]})}),o.jsx("div",{className:"flex-1 overflow-y-auto",children:e.length===0?o.jsx("div",{className:"p-4 text-center text-gray-500",children:"  "}):o.jsx("div",{className:"divide-y",children:e.map(d=>o.jsxs("button",{onClick:()=>c(d),className:`w-full p-4 text-left hover:bg-gray-50 transition-colors ${(r==null?void 0:r.id)===d.id?"bg-blue-50 border-l-4 border-blue-500":""} ${d.isRead?"":"bg-yellow-50"}`,children:[o.jsxs("div",{className:"flex justify-between items-start mb-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"font-medium text-gray-900",children:d.name}),!d.isRead&&o.jsx("span",{className:"w-2 h-2 bg-red-500 rounded-full"})]}),o.jsx("span",{className:"text-xs text-gray-500",children:Te(new Date(d.createdAt),"MM/dd HH:mm")})]}),o.jsxs("div",{className:"text-sm text-gray-600 flex items-center gap-1 mb-1",children:[o.jsx(Db,{className:"w-3 h-3"}),d.phone]}),o.jsx("div",{className:"text-sm text-gray-500 line-clamp-2",children:d.message})]},d.id))})})]}),o.jsx("div",{className:"flex-1 bg-white rounded-lg shadow overflow-hidden",children:r?o.jsxs("div",{className:"h-full flex flex-col",children:[o.jsxs("div",{className:"p-6 border-b bg-gray-50",children:[o.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:r.name}),o.jsx("div",{className:"text-sm text-gray-500",children:Te(new Date(r.createdAt),"yyyy MM dd HH:mm")})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsxs("h4",{className:"font-medium text-gray-900 flex items-center gap-2",children:[o.jsx(JO,{className:"w-4 h-4"})," "]}),o.jsxs("div",{className:"pl-6 space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[o.jsx(Db,{className:"w-4 h-4 text-gray-400"}),o.jsx("span",{children:r.phone})]}),o.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[o.jsx(KO,{className:"w-4 h-4 text-gray-400"}),o.jsx("span",{children:r.email})]}),r.address&&o.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[o.jsx(GO,{className:"w-4 h-4 text-gray-400"}),o.jsx("span",{children:r.address})]})]})]}),(r.projectType||r.budget)&&o.jsxs("div",{className:"space-y-3",children:[o.jsxs("h4",{className:"font-medium text-gray-900 flex items-center gap-2",children:[o.jsx(BO,{className:"w-4 h-4"})," "]}),o.jsxs("div",{className:"pl-6 space-y-2",children:[r.projectType&&o.jsxs("div",{className:"text-gray-700",children:[o.jsx("span",{className:"text-gray-500",children:" : "}),r.projectType]}),r.budget&&o.jsxs("div",{className:"text-gray-700",children:[o.jsx("span",{className:"text-gray-500",children:": "}),r.budget]})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("h4",{className:"font-medium text-gray-900",children:" "}),o.jsx("div",{className:"pl-6 text-gray-700 whitespace-pre-wrap bg-gray-50 p-4 rounded-lg",children:r.message})]})]})]}):o.jsx("div",{className:"h-full flex items-center justify-center text-gray-500",children:" "})})]})},ane=()=>{const{login:e}=Ra(),[t,r]=w.useState(!1),{register:n,handleSubmit:s,setValue:a,formState:{errors:i}}=$i(),l=async u=>{r(!0);try{await e(u.username,u.password)}finally{r(!1)}},c=u=>{a("username",u),a("password","0109")};return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:o.jsx("div",{className:"max-w-md w-full",children:o.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-8",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"HV LAB"}),o.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"   "})]}),o.jsxs("form",{onSubmit:s(l),className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-2",children:""}),o.jsx("input",{...n("username",{required:" "}),type:"text",className:"input",placeholder:" ",autoFocus:!0}),i.username&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.username.message})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:""}),o.jsx("input",{...n("password",{required:" "}),type:"password",className:"input",placeholder:""}),i.password&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.password.message})]}),o.jsx("button",{type:"submit",disabled:t,className:"w-full btn btn-primary flex items-center justify-center",children:t?o.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):o.jsxs(o.Fragment,{children:[o.jsx(qO,{className:"mr-2 h-5 w-5"}),""]})})]}),o.jsxs("div",{className:"mt-6 border-t pt-6",children:[o.jsx("p",{className:"text-sm text-gray-600 text-center mb-4",children:" "}),o.jsx("div",{className:"grid grid-cols-3 gap-2",children:["","","","","",""].map(u=>o.jsx("button",{onClick:()=>c(u),className:"px-3 py-2 text-sm bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",type:"button",children:u},u))})]})]})})})},one=e=>{try{const t=window.AudioContext||window.webkitAudioContext,r=new t,n=e==="emergency"?5:3;let s=0;const a=()=>{if(s>=n)return;const i=r.createOscillator(),l=r.createGain();i.connect(l),l.connect(r.destination),i.frequency.value=e==="emergency"?1e3:800,i.type="sine",l.gain.setValueAtTime(.3,r.currentTime),l.gain.exponentialRampToValueAtTime(.01,r.currentTime+.5),i.start(r.currentTime),i.stop(r.currentTime+.5),s++,s<n&&setTimeout(a,700)};a()}catch(t){console.error("  :",t)}},ine=e=>{if("vibrate"in navigator){const t=e==="emergency"?[200,200,200,200,200,200,200,200,200,200]:[200,200,200,200,200,200];navigator.vibrate(t)}},lne=(e,t)=>{one(e),ine(e),"Notification"in window&&Notification.permission==="granted"&&new Notification("  ",{body:t,icon:"/icon-192x192.png",badge:"/icon-192x192.png",tag:"urgent-payment",requireInteraction:!0})},cne=async()=>"Notification"in window&&Notification.permission==="default"?await Notification.requestPermission()==="granted":Notification.permission==="granted",une=new jA({defaultOptions:{queries:{staleTime:1e3*60*5,refetchOnWindowFocus:!1}}});function dne(){return w.useEffect(()=>{cne();const e=window.location.origin,t=xd(e,{transports:["websocket","polling"]});return t.on("connect",()=>{console.log(" Socket.IO ")}),t.on("urgent-payment",r=>{console.log("    :",r);const n=`${r.project}  ${r.amount.toLocaleString()}  `;lne(r.urgency,n)}),t.on("disconnect",()=>{console.log(" Socket.IO  ")}),()=>{t.disconnect()}},[]),o.jsx(kA,{client:une,children:o.jsx(HP,{children:o.jsxs($O,{children:[o.jsxs(bP,{children:[o.jsx(lr,{path:"/login",element:o.jsx(ane,{})}),o.jsxs(lr,{path:"/",element:o.jsx(AI,{}),children:[o.jsx(lr,{index:!0,element:o.jsx(yP,{to:"/dashboard",replace:!0})}),o.jsx(lr,{path:"dashboard",element:o.jsx(rL,{})}),o.jsx(lr,{path:"projects",element:o.jsx(lL,{})}),o.jsx(lr,{path:"schedule",element:o.jsx(nte,{})}),o.jsx(lr,{path:"after-service",element:o.jsx(ate,{})}),o.jsx(lr,{path:"additional-work",element:o.jsx(ite,{})}),o.jsx(lr,{path:"construction-payment",element:o.jsx(lte,{})}),o.jsx(lr,{path:"contractors",element:o.jsx(cte,{})}),o.jsx(lr,{path:"work-request",element:o.jsx(dte,{})}),o.jsx(lr,{path:"specbook",element:o.jsx(ene,{})}),o.jsx(lr,{path:"execution-history",element:o.jsx(tne,{})}),o.jsx(lr,{path:"payments",element:o.jsx(nne,{})}),o.jsx(lr,{path:"quote-inquiry",element:o.jsx(sne,{})})]})]}),o.jsx(hM,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#fff",color:"#363636",border:"1px solid #e5e5e5"}}})]})})})}"serviceWorker"in navigator&&navigator.serviceWorker.getRegistrations().then(function(e){for(const t of e)t.update()});wS(document.getElementById("root")).render(o.jsx(w.StrictMode,{children:o.jsx(dne,{})}))});export default fne();
