var _v=e=>{throw TypeError(e)};var h2=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var dh=(e,t,r)=>t.has(e)||_v("Cannot "+r);var ae=(e,t,r)=>(dh(e,t,"read from private field"),r?r.call(e):t.get(e)),Ue=(e,t,r)=>t.has(e)?_v("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Re=(e,t,r,n)=>(dh(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Xt=(e,t,r)=>(dh(e,t,"access private method"),r);var zc=(e,t,r,n)=>({set _(s){Re(e,t,s,r)},get _(){return ae(e,t,n)}});var $Z=h2((nee,rd)=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}})();var qr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function pr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Bw={exports:{}},Zd={},Hw={exports:{}},Fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hc=Symbol.for("react.element"),m2=Symbol.for("react.portal"),p2=Symbol.for("react.fragment"),g2=Symbol.for("react.strict_mode"),y2=Symbol.for("react.profiler"),v2=Symbol.for("react.provider"),x2=Symbol.for("react.context"),b2=Symbol.for("react.forward_ref"),w2=Symbol.for("react.suspense"),N2=Symbol.for("react.memo"),j2=Symbol.for("react.lazy"),Cv=Symbol.iterator;function S2(e){return e===null||typeof e!="object"?null:(e=Cv&&e[Cv]||e["@@iterator"],typeof e=="function"?e:null)}var zw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Vw=Object.assign,Yw={};function fo(e,t,r){this.props=e,this.context=t,this.refs=Yw,this.updater=r||zw}fo.prototype.isReactComponent={};fo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};fo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function qw(){}qw.prototype=fo.prototype;function tg(e,t,r){this.props=e,this.context=t,this.refs=Yw,this.updater=r||zw}var rg=tg.prototype=new qw;rg.constructor=tg;Vw(rg,fo.prototype);rg.isPureReactComponent=!0;var Ev=Array.isArray,Kw=Object.prototype.hasOwnProperty,ng={current:null},Gw={key:!0,ref:!0,__self:!0,__source:!0};function Qw(e,t,r){var n,s={},a=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)Kw.call(t,n)&&!Gw.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:hc,type:e,key:a,ref:o,props:s,_owner:ng.current}}function k2(e,t){return{$$typeof:hc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function sg(e){return typeof e=="object"&&e!==null&&e.$$typeof===hc}function D2(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Tv=/\/+/g;function fh(e,t){return typeof e=="object"&&e!==null&&e.key!=null?D2(""+e.key):t.toString(36)}function ku(e,t,r,n,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case hc:case m2:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+fh(o,0):n,Ev(s)?(r="",e!=null&&(r=e.replace(Tv,"$&/")+"/"),ku(s,t,r,"",function(u){return u})):s!=null&&(sg(s)&&(s=k2(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Tv,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",Ev(e))for(var l=0;l<e.length;l++){a=e[l];var c=n+fh(a,l);o+=ku(a,t,r,c,s)}else if(c=S2(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=n+fh(a,l++),o+=ku(a,t,r,c,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Vc(e,t,r){if(e==null)return e;var n=[],s=0;return ku(e,n,"","",function(a){return t.call(r,a,s++)}),n}function _2(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var gr={current:null},Du={transition:null},C2={ReactCurrentDispatcher:gr,ReactCurrentBatchConfig:Du,ReactCurrentOwner:ng};function Xw(){throw Error("act(...) is not supported in production builds of React.")}Fe.Children={map:Vc,forEach:function(e,t,r){Vc(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Vc(e,function(){t++}),t},toArray:function(e){return Vc(e,function(t){return t})||[]},only:function(e){if(!sg(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Fe.Component=fo;Fe.Fragment=p2;Fe.Profiler=y2;Fe.PureComponent=tg;Fe.StrictMode=g2;Fe.Suspense=w2;Fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=C2;Fe.act=Xw;Fe.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Vw({},e.props),s=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=ng.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)Kw.call(t,c)&&!Gw.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:hc,type:e.type,key:s,ref:a,props:n,_owner:o}};Fe.createContext=function(e){return e={$$typeof:x2,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:v2,_context:e},e.Consumer=e};Fe.createElement=Qw;Fe.createFactory=function(e){var t=Qw.bind(null,e);return t.type=e,t};Fe.createRef=function(){return{current:null}};Fe.forwardRef=function(e){return{$$typeof:b2,render:e}};Fe.isValidElement=sg;Fe.lazy=function(e){return{$$typeof:j2,_payload:{_status:-1,_result:e},_init:_2}};Fe.memo=function(e,t){return{$$typeof:N2,type:e,compare:t===void 0?null:t}};Fe.startTransition=function(e){var t=Du.transition;Du.transition={};try{e()}finally{Du.transition=t}};Fe.unstable_act=Xw;Fe.useCallback=function(e,t){return gr.current.useCallback(e,t)};Fe.useContext=function(e){return gr.current.useContext(e)};Fe.useDebugValue=function(){};Fe.useDeferredValue=function(e){return gr.current.useDeferredValue(e)};Fe.useEffect=function(e,t){return gr.current.useEffect(e,t)};Fe.useId=function(){return gr.current.useId()};Fe.useImperativeHandle=function(e,t,r){return gr.current.useImperativeHandle(e,t,r)};Fe.useInsertionEffect=function(e,t){return gr.current.useInsertionEffect(e,t)};Fe.useLayoutEffect=function(e,t){return gr.current.useLayoutEffect(e,t)};Fe.useMemo=function(e,t){return gr.current.useMemo(e,t)};Fe.useReducer=function(e,t,r){return gr.current.useReducer(e,t,r)};Fe.useRef=function(e){return gr.current.useRef(e)};Fe.useState=function(e){return gr.current.useState(e)};Fe.useSyncExternalStore=function(e,t,r){return gr.current.useSyncExternalStore(e,t,r)};Fe.useTransition=function(){return gr.current.useTransition()};Fe.version="18.3.1";Hw.exports=Fe;var N=Hw.exports;const B=pr(N);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E2=N,T2=Symbol.for("react.element"),P2=Symbol.for("react.fragment"),A2=Object.prototype.hasOwnProperty,O2=E2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,M2={key:!0,ref:!0,__self:!0,__source:!0};function Jw(e,t,r){var n,s={},a=null,o=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)A2.call(t,n)&&!M2.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:T2,type:e,key:a,ref:o,props:s,_owner:O2.current}}Zd.Fragment=P2;Zd.jsx=Jw;Zd.jsxs=Jw;Bw.exports=Zd;var i=Bw.exports,Zw={exports:{}},Ir={},e1={exports:{}},t1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(ee,H){var ue=ee.length;ee.push(H);e:for(;0<ue;){var C=ue-1>>>1,L=ee[C];if(0<s(L,H))ee[C]=H,ee[ue]=L,ue=C;else break e}}function r(ee){return ee.length===0?null:ee[0]}function n(ee){if(ee.length===0)return null;var H=ee[0],ue=ee.pop();if(ue!==H){ee[0]=ue;e:for(var C=0,L=ee.length,E=L>>>1;C<E;){var A=2*(C+1)-1,K=ee[A],I=A+1,G=ee[I];if(0>s(K,ue))I<L&&0>s(G,K)?(ee[C]=G,ee[I]=ue,C=I):(ee[C]=K,ee[A]=ue,C=A);else if(I<L&&0>s(G,ue))ee[C]=G,ee[I]=ue,C=I;else break e}}return H}function s(ee,H){var ue=ee.sortIndex-H.sortIndex;return ue!==0?ue:ee.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,h=3,x=!1,m=!1,p=!1,w=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(ee){for(var H=r(u);H!==null;){if(H.callback===null)n(u);else if(H.startTime<=ee)n(u),H.sortIndex=H.expirationTime,t(c,H);else break;H=r(u)}}function b(ee){if(p=!1,v(ee),!m)if(r(c)!==null)m=!0,te(S);else{var H=r(u);H!==null&&be(b,H.startTime-ee)}}function S(ee,H){m=!1,p&&(p=!1,y(T),T=-1),x=!0;var ue=h;try{for(v(H),f=r(c);f!==null&&(!(f.expirationTime>H)||ee&&!Y());){var C=f.callback;if(typeof C=="function"){f.callback=null,h=f.priorityLevel;var L=C(f.expirationTime<=H);H=e.unstable_now(),typeof L=="function"?f.callback=L:f===r(c)&&n(c),v(H)}else n(c);f=r(c)}if(f!==null)var E=!0;else{var A=r(u);A!==null&&be(b,A.startTime-H),E=!1}return E}finally{f=null,h=ue,x=!1}}var j=!1,_=null,T=-1,$=5,R=-1;function Y(){return!(e.unstable_now()-R<$)}function Q(){if(_!==null){var ee=e.unstable_now();R=ee;var H=!0;try{H=_(!0,ee)}finally{H?q():(j=!1,_=null)}}else j=!1}var q;if(typeof g=="function")q=function(){g(Q)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,pe=se.port2;se.port1.onmessage=Q,q=function(){pe.postMessage(null)}}else q=function(){w(Q,0)};function te(ee){_=ee,j||(j=!0,q())}function be(ee,H){T=w(function(){ee(e.unstable_now())},H)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ee){ee.callback=null},e.unstable_continueExecution=function(){m||x||(m=!0,te(S))},e.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<ee?Math.floor(1e3/ee):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(ee){switch(h){case 1:case 2:case 3:var H=3;break;default:H=h}var ue=h;h=H;try{return ee()}finally{h=ue}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(ee,H){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var ue=h;h=ee;try{return H()}finally{h=ue}},e.unstable_scheduleCallback=function(ee,H,ue){var C=e.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?C+ue:C):ue=C,ee){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=ue+L,ee={id:d++,callback:H,priorityLevel:ee,startTime:ue,expirationTime:L,sortIndex:-1},ue>C?(ee.sortIndex=ue,t(u,ee),r(c)===null&&ee===r(u)&&(p?(y(T),T=-1):p=!0,be(b,ue-C))):(ee.sortIndex=L,t(c,ee),m||x||(m=!0,te(S))),ee},e.unstable_shouldYield=Y,e.unstable_wrapCallback=function(ee){var H=h;return function(){var ue=h;h=H;try{return ee.apply(this,arguments)}finally{h=ue}}}})(t1);e1.exports=t1;var R2=e1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $2=N,Rr=R2;function ge(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r1=new Set,Sl={};function oi(e,t){Qi(e,t),Qi(e+"Capture",t)}function Qi(e,t){for(Sl[e]=t,e=0;e<t.length;e++)r1.add(t[e])}var xs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pm=Object.prototype.hasOwnProperty,I2=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Pv={},Av={};function L2(e){return pm.call(Av,e)?!0:pm.call(Pv,e)?!1:I2.test(e)?Av[e]=!0:(Pv[e]=!0,!1)}function F2(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function W2(e,t,r,n){if(t===null||typeof t>"u"||F2(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function yr(e,t,r,n,s,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var Kt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Kt[e]=new yr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Kt[t]=new yr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Kt[e]=new yr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Kt[e]=new yr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Kt[e]=new yr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Kt[e]=new yr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Kt[e]=new yr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Kt[e]=new yr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Kt[e]=new yr(e,5,!1,e.toLowerCase(),null,!1,!1)});var ag=/[\-:]([a-z])/g;function ig(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ag,ig);Kt[t]=new yr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ag,ig);Kt[t]=new yr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ag,ig);Kt[t]=new yr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Kt[e]=new yr(e,1,!1,e.toLowerCase(),null,!1,!1)});Kt.xlinkHref=new yr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Kt[e]=new yr(e,1,!1,e.toLowerCase(),null,!0,!0)});function og(e,t,r,n){var s=Kt.hasOwnProperty(t)?Kt[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(W2(t,r,s,n)&&(r=null),n||s===null?L2(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var _s=$2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Yc=Symbol.for("react.element"),vi=Symbol.for("react.portal"),xi=Symbol.for("react.fragment"),lg=Symbol.for("react.strict_mode"),gm=Symbol.for("react.profiler"),n1=Symbol.for("react.provider"),s1=Symbol.for("react.context"),cg=Symbol.for("react.forward_ref"),ym=Symbol.for("react.suspense"),vm=Symbol.for("react.suspense_list"),ug=Symbol.for("react.memo"),Ls=Symbol.for("react.lazy"),a1=Symbol.for("react.offscreen"),Ov=Symbol.iterator;function Io(e){return e===null||typeof e!="object"?null:(e=Ov&&e[Ov]||e["@@iterator"],typeof e=="function"?e:null)}var jt=Object.assign,hh;function tl(e){if(hh===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);hh=t&&t[1]||""}return`
`+hh+e}var mh=!1;function ph(e,t){if(!e||mh)return"";mh=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),a=n.stack.split(`
`),o=s.length-1,l=a.length-1;1<=o&&0<=l&&s[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==a[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{mh=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?tl(e):""}function U2(e){switch(e.tag){case 5:return tl(e.type);case 16:return tl("Lazy");case 13:return tl("Suspense");case 19:return tl("SuspenseList");case 0:case 2:case 15:return e=ph(e.type,!1),e;case 11:return e=ph(e.type.render,!1),e;case 1:return e=ph(e.type,!0),e;default:return""}}function xm(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case xi:return"Fragment";case vi:return"Portal";case gm:return"Profiler";case lg:return"StrictMode";case ym:return"Suspense";case vm:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case s1:return(e.displayName||"Context")+".Consumer";case n1:return(e._context.displayName||"Context")+".Provider";case cg:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ug:return t=e.displayName||null,t!==null?t:xm(e.type)||"Memo";case Ls:t=e._payload,e=e._init;try{return xm(e(t))}catch{}}return null}function B2(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xm(t);case 8:return t===lg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function da(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function i1(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function H2(e){var t=i1(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function qc(e){e._valueTracker||(e._valueTracker=H2(e))}function o1(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=i1(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function nd(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function bm(e,t){var r=t.checked;return jt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Mv(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=da(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function l1(e,t){t=t.checked,t!=null&&og(e,"checked",t,!1)}function wm(e,t){l1(e,t);var r=da(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Nm(e,t.type,r):t.hasOwnProperty("defaultValue")&&Nm(e,t.type,da(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Rv(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Nm(e,t,r){(t!=="number"||nd(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var rl=Array.isArray;function Pi(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+da(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function jm(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ge(91));return jt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function $v(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(ge(92));if(rl(r)){if(1<r.length)throw Error(ge(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:da(r)}}function c1(e,t){var r=da(t.value),n=da(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Iv(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function u1(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Sm(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?u1(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Kc,d1=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Kc=Kc||document.createElement("div"),Kc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Kc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function kl(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var cl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},z2=["Webkit","ms","Moz","O"];Object.keys(cl).forEach(function(e){z2.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),cl[t]=cl[e]})});function f1(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||cl.hasOwnProperty(e)&&cl[e]?(""+t).trim():t+"px"}function h1(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=f1(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var V2=jt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function km(e,t){if(t){if(V2[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ge(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ge(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ge(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ge(62))}}function Dm(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _m=null;function dg(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Cm=null,Ai=null,Oi=null;function Lv(e){if(e=gc(e)){if(typeof Cm!="function")throw Error(ge(280));var t=e.stateNode;t&&(t=sf(t),Cm(e.stateNode,e.type,t))}}function m1(e){Ai?Oi?Oi.push(e):Oi=[e]:Ai=e}function p1(){if(Ai){var e=Ai,t=Oi;if(Oi=Ai=null,Lv(e),t)for(e=0;e<t.length;e++)Lv(t[e])}}function g1(e,t){return e(t)}function y1(){}var gh=!1;function v1(e,t,r){if(gh)return e(t,r);gh=!0;try{return g1(e,t,r)}finally{gh=!1,(Ai!==null||Oi!==null)&&(y1(),p1())}}function Dl(e,t){var r=e.stateNode;if(r===null)return null;var n=sf(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(ge(231,t,typeof r));return r}var Em=!1;if(xs)try{var Lo={};Object.defineProperty(Lo,"passive",{get:function(){Em=!0}}),window.addEventListener("test",Lo,Lo),window.removeEventListener("test",Lo,Lo)}catch{Em=!1}function Y2(e,t,r,n,s,a,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var ul=!1,sd=null,ad=!1,Tm=null,q2={onError:function(e){ul=!0,sd=e}};function K2(e,t,r,n,s,a,o,l,c){ul=!1,sd=null,Y2.apply(q2,arguments)}function G2(e,t,r,n,s,a,o,l,c){if(K2.apply(this,arguments),ul){if(ul){var u=sd;ul=!1,sd=null}else throw Error(ge(198));ad||(ad=!0,Tm=u)}}function li(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function x1(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Fv(e){if(li(e)!==e)throw Error(ge(188))}function Q2(e){var t=e.alternate;if(!t){if(t=li(e),t===null)throw Error(ge(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var a=s.alternate;if(a===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===r)return Fv(s),e;if(a===n)return Fv(s),t;a=a.sibling}throw Error(ge(188))}if(r.return!==n.return)r=s,n=a;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=a;break}if(l===n){o=!0,n=s,r=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===r){o=!0,r=a,n=s;break}if(l===n){o=!0,n=a,r=s;break}l=l.sibling}if(!o)throw Error(ge(189))}}if(r.alternate!==n)throw Error(ge(190))}if(r.tag!==3)throw Error(ge(188));return r.stateNode.current===r?e:t}function b1(e){return e=Q2(e),e!==null?w1(e):null}function w1(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=w1(e);if(t!==null)return t;e=e.sibling}return null}var N1=Rr.unstable_scheduleCallback,Wv=Rr.unstable_cancelCallback,X2=Rr.unstable_shouldYield,J2=Rr.unstable_requestPaint,Et=Rr.unstable_now,Z2=Rr.unstable_getCurrentPriorityLevel,fg=Rr.unstable_ImmediatePriority,j1=Rr.unstable_UserBlockingPriority,id=Rr.unstable_NormalPriority,e_=Rr.unstable_LowPriority,S1=Rr.unstable_IdlePriority,ef=null,Hn=null;function t_(e){if(Hn&&typeof Hn.onCommitFiberRoot=="function")try{Hn.onCommitFiberRoot(ef,e,void 0,(e.current.flags&128)===128)}catch{}}var yn=Math.clz32?Math.clz32:s_,r_=Math.log,n_=Math.LN2;function s_(e){return e>>>=0,e===0?32:31-(r_(e)/n_|0)|0}var Gc=64,Qc=4194304;function nl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function od(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,a=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=nl(l):(a&=o,a!==0&&(n=nl(a)))}else o=r&~s,o!==0?n=nl(o):a!==0&&(n=nl(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-yn(t),s=1<<r,n|=e[r],t&=~s;return n}function a_(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function i_(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-yn(a),l=1<<o,c=s[o];c===-1?(!(l&r)||l&n)&&(s[o]=a_(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function Pm(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function k1(){var e=Gc;return Gc<<=1,!(Gc&4194240)&&(Gc=64),e}function yh(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function mc(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-yn(t),e[t]=r}function o_(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-yn(r),a=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~a}}function hg(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-yn(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var Ze=0;function D1(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var _1,mg,C1,E1,T1,Am=!1,Xc=[],ta=null,ra=null,na=null,_l=new Map,Cl=new Map,Ws=[],l_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Uv(e,t){switch(e){case"focusin":case"focusout":ta=null;break;case"dragenter":case"dragleave":ra=null;break;case"mouseover":case"mouseout":na=null;break;case"pointerover":case"pointerout":_l.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cl.delete(t.pointerId)}}function Fo(e,t,r,n,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[s]},t!==null&&(t=gc(t),t!==null&&mg(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function c_(e,t,r,n,s){switch(t){case"focusin":return ta=Fo(ta,e,t,r,n,s),!0;case"dragenter":return ra=Fo(ra,e,t,r,n,s),!0;case"mouseover":return na=Fo(na,e,t,r,n,s),!0;case"pointerover":var a=s.pointerId;return _l.set(a,Fo(_l.get(a)||null,e,t,r,n,s)),!0;case"gotpointercapture":return a=s.pointerId,Cl.set(a,Fo(Cl.get(a)||null,e,t,r,n,s)),!0}return!1}function P1(e){var t=Ta(e.target);if(t!==null){var r=li(t);if(r!==null){if(t=r.tag,t===13){if(t=x1(r),t!==null){e.blockedOn=t,T1(e.priority,function(){C1(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function _u(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Om(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);_m=n,r.target.dispatchEvent(n),_m=null}else return t=gc(r),t!==null&&mg(t),e.blockedOn=r,!1;t.shift()}return!0}function Bv(e,t,r){_u(e)&&r.delete(t)}function u_(){Am=!1,ta!==null&&_u(ta)&&(ta=null),ra!==null&&_u(ra)&&(ra=null),na!==null&&_u(na)&&(na=null),_l.forEach(Bv),Cl.forEach(Bv)}function Wo(e,t){e.blockedOn===t&&(e.blockedOn=null,Am||(Am=!0,Rr.unstable_scheduleCallback(Rr.unstable_NormalPriority,u_)))}function El(e){function t(s){return Wo(s,e)}if(0<Xc.length){Wo(Xc[0],e);for(var r=1;r<Xc.length;r++){var n=Xc[r];n.blockedOn===e&&(n.blockedOn=null)}}for(ta!==null&&Wo(ta,e),ra!==null&&Wo(ra,e),na!==null&&Wo(na,e),_l.forEach(t),Cl.forEach(t),r=0;r<Ws.length;r++)n=Ws[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Ws.length&&(r=Ws[0],r.blockedOn===null);)P1(r),r.blockedOn===null&&Ws.shift()}var Mi=_s.ReactCurrentBatchConfig,ld=!0;function d_(e,t,r,n){var s=Ze,a=Mi.transition;Mi.transition=null;try{Ze=1,pg(e,t,r,n)}finally{Ze=s,Mi.transition=a}}function f_(e,t,r,n){var s=Ze,a=Mi.transition;Mi.transition=null;try{Ze=4,pg(e,t,r,n)}finally{Ze=s,Mi.transition=a}}function pg(e,t,r,n){if(ld){var s=Om(e,t,r,n);if(s===null)_h(e,t,n,cd,r),Uv(e,n);else if(c_(s,e,t,r,n))n.stopPropagation();else if(Uv(e,n),t&4&&-1<l_.indexOf(e)){for(;s!==null;){var a=gc(s);if(a!==null&&_1(a),a=Om(e,t,r,n),a===null&&_h(e,t,n,cd,r),a===s)break;s=a}s!==null&&n.stopPropagation()}else _h(e,t,n,null,r)}}var cd=null;function Om(e,t,r,n){if(cd=null,e=dg(n),e=Ta(e),e!==null)if(t=li(e),t===null)e=null;else if(r=t.tag,r===13){if(e=x1(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return cd=e,null}function A1(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Z2()){case fg:return 1;case j1:return 4;case id:case e_:return 16;case S1:return 536870912;default:return 16}default:return 16}}var Qs=null,gg=null,Cu=null;function O1(){if(Cu)return Cu;var e,t=gg,r=t.length,n,s="value"in Qs?Qs.value:Qs.textContent,a=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[a-n];n++);return Cu=s.slice(e,1<n?1-n:void 0)}function Eu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Jc(){return!0}function Hv(){return!1}function Lr(e){function t(r,n,s,a,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Jc:Hv,this.isPropagationStopped=Hv,this}return jt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Jc)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Jc)},persist:function(){},isPersistent:Jc}),t}var ho={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yg=Lr(ho),pc=jt({},ho,{view:0,detail:0}),h_=Lr(pc),vh,xh,Uo,tf=jt({},pc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vg,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Uo&&(Uo&&e.type==="mousemove"?(vh=e.screenX-Uo.screenX,xh=e.screenY-Uo.screenY):xh=vh=0,Uo=e),vh)},movementY:function(e){return"movementY"in e?e.movementY:xh}}),zv=Lr(tf),m_=jt({},tf,{dataTransfer:0}),p_=Lr(m_),g_=jt({},pc,{relatedTarget:0}),bh=Lr(g_),y_=jt({},ho,{animationName:0,elapsedTime:0,pseudoElement:0}),v_=Lr(y_),x_=jt({},ho,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),b_=Lr(x_),w_=jt({},ho,{data:0}),Vv=Lr(w_),N_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},j_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},S_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function k_(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=S_[e])?!!t[e]:!1}function vg(){return k_}var D_=jt({},pc,{key:function(e){if(e.key){var t=N_[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Eu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?j_[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vg,charCode:function(e){return e.type==="keypress"?Eu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Eu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),__=Lr(D_),C_=jt({},tf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yv=Lr(C_),E_=jt({},pc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vg}),T_=Lr(E_),P_=jt({},ho,{propertyName:0,elapsedTime:0,pseudoElement:0}),A_=Lr(P_),O_=jt({},tf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),M_=Lr(O_),R_=[9,13,27,32],xg=xs&&"CompositionEvent"in window,dl=null;xs&&"documentMode"in document&&(dl=document.documentMode);var $_=xs&&"TextEvent"in window&&!dl,M1=xs&&(!xg||dl&&8<dl&&11>=dl),qv=" ",Kv=!1;function R1(e,t){switch(e){case"keyup":return R_.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $1(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var bi=!1;function I_(e,t){switch(e){case"compositionend":return $1(t);case"keypress":return t.which!==32?null:(Kv=!0,qv);case"textInput":return e=t.data,e===qv&&Kv?null:e;default:return null}}function L_(e,t){if(bi)return e==="compositionend"||!xg&&R1(e,t)?(e=O1(),Cu=gg=Qs=null,bi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return M1&&t.locale!=="ko"?null:t.data;default:return null}}var F_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!F_[e.type]:t==="textarea"}function I1(e,t,r,n){m1(n),t=ud(t,"onChange"),0<t.length&&(r=new yg("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var fl=null,Tl=null;function W_(e){K1(e,0)}function rf(e){var t=ji(e);if(o1(t))return e}function U_(e,t){if(e==="change")return t}var L1=!1;if(xs){var wh;if(xs){var Nh="oninput"in document;if(!Nh){var Qv=document.createElement("div");Qv.setAttribute("oninput","return;"),Nh=typeof Qv.oninput=="function"}wh=Nh}else wh=!1;L1=wh&&(!document.documentMode||9<document.documentMode)}function Xv(){fl&&(fl.detachEvent("onpropertychange",F1),Tl=fl=null)}function F1(e){if(e.propertyName==="value"&&rf(Tl)){var t=[];I1(t,Tl,e,dg(e)),v1(W_,t)}}function B_(e,t,r){e==="focusin"?(Xv(),fl=t,Tl=r,fl.attachEvent("onpropertychange",F1)):e==="focusout"&&Xv()}function H_(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return rf(Tl)}function z_(e,t){if(e==="click")return rf(t)}function V_(e,t){if(e==="input"||e==="change")return rf(t)}function Y_(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var xn=typeof Object.is=="function"?Object.is:Y_;function Pl(e,t){if(xn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!pm.call(t,s)||!xn(e[s],t[s]))return!1}return!0}function Jv(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Zv(e,t){var r=Jv(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Jv(r)}}function W1(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?W1(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function U1(){for(var e=window,t=nd();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=nd(e.document)}return t}function bg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function q_(e){var t=U1(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&W1(r.ownerDocument.documentElement,r)){if(n!==null&&bg(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,a=Math.min(n.start,s);n=n.end===void 0?a:Math.min(n.end,s),!e.extend&&a>n&&(s=n,n=a,a=s),s=Zv(r,a);var o=Zv(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var K_=xs&&"documentMode"in document&&11>=document.documentMode,wi=null,Mm=null,hl=null,Rm=!1;function e0(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Rm||wi==null||wi!==nd(n)||(n=wi,"selectionStart"in n&&bg(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),hl&&Pl(hl,n)||(hl=n,n=ud(Mm,"onSelect"),0<n.length&&(t=new yg("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=wi)))}function Zc(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Ni={animationend:Zc("Animation","AnimationEnd"),animationiteration:Zc("Animation","AnimationIteration"),animationstart:Zc("Animation","AnimationStart"),transitionend:Zc("Transition","TransitionEnd")},jh={},B1={};xs&&(B1=document.createElement("div").style,"AnimationEvent"in window||(delete Ni.animationend.animation,delete Ni.animationiteration.animation,delete Ni.animationstart.animation),"TransitionEvent"in window||delete Ni.transitionend.transition);function nf(e){if(jh[e])return jh[e];if(!Ni[e])return e;var t=Ni[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in B1)return jh[e]=t[r];return e}var H1=nf("animationend"),z1=nf("animationiteration"),V1=nf("animationstart"),Y1=nf("transitionend"),q1=new Map,t0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ga(e,t){q1.set(e,t),oi(t,[e])}for(var Sh=0;Sh<t0.length;Sh++){var kh=t0[Sh],G_=kh.toLowerCase(),Q_=kh[0].toUpperCase()+kh.slice(1);ga(G_,"on"+Q_)}ga(H1,"onAnimationEnd");ga(z1,"onAnimationIteration");ga(V1,"onAnimationStart");ga("dblclick","onDoubleClick");ga("focusin","onFocus");ga("focusout","onBlur");ga(Y1,"onTransitionEnd");Qi("onMouseEnter",["mouseout","mouseover"]);Qi("onMouseLeave",["mouseout","mouseover"]);Qi("onPointerEnter",["pointerout","pointerover"]);Qi("onPointerLeave",["pointerout","pointerover"]);oi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));oi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));oi("onBeforeInput",["compositionend","keypress","textInput","paste"]);oi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));oi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));oi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),X_=new Set("cancel close invalid load scroll toggle".split(" ").concat(sl));function r0(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,G2(n,t,void 0,e),e.currentTarget=null}function K1(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&s.isPropagationStopped())break e;r0(s,l,u),a=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&s.isPropagationStopped())break e;r0(s,l,u),a=c}}}if(ad)throw e=Tm,ad=!1,Tm=null,e}function ut(e,t){var r=t[Wm];r===void 0&&(r=t[Wm]=new Set);var n=e+"__bubble";r.has(n)||(G1(t,e,2,!1),r.add(n))}function Dh(e,t,r){var n=0;t&&(n|=4),G1(r,e,n,t)}var eu="_reactListening"+Math.random().toString(36).slice(2);function Al(e){if(!e[eu]){e[eu]=!0,r1.forEach(function(r){r!=="selectionchange"&&(X_.has(r)||Dh(r,!1,e),Dh(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[eu]||(t[eu]=!0,Dh("selectionchange",!1,t))}}function G1(e,t,r,n){switch(A1(t)){case 1:var s=d_;break;case 4:s=f_;break;default:s=pg}r=s.bind(null,t,r,e),s=void 0,!Em||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function _h(e,t,r,n,s){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Ta(l),o===null)return;if(c=o.tag,c===5||c===6){n=a=o;continue e}l=l.parentNode}}n=n.return}v1(function(){var u=a,d=dg(r),f=[];e:{var h=q1.get(e);if(h!==void 0){var x=yg,m=e;switch(e){case"keypress":if(Eu(r)===0)break e;case"keydown":case"keyup":x=__;break;case"focusin":m="focus",x=bh;break;case"focusout":m="blur",x=bh;break;case"beforeblur":case"afterblur":x=bh;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=zv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=p_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=T_;break;case H1:case z1:case V1:x=v_;break;case Y1:x=A_;break;case"scroll":x=h_;break;case"wheel":x=M_;break;case"copy":case"cut":case"paste":x=b_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=Yv}var p=(t&4)!==0,w=!p&&e==="scroll",y=p?h!==null?h+"Capture":null:h;p=[];for(var g=u,v;g!==null;){v=g;var b=v.stateNode;if(v.tag===5&&b!==null&&(v=b,y!==null&&(b=Dl(g,y),b!=null&&p.push(Ol(g,b,v)))),w)break;g=g.return}0<p.length&&(h=new x(h,m,null,r,d),f.push({event:h,listeners:p}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",x=e==="mouseout"||e==="pointerout",h&&r!==_m&&(m=r.relatedTarget||r.fromElement)&&(Ta(m)||m[bs]))break e;if((x||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,x?(m=r.relatedTarget||r.toElement,x=u,m=m?Ta(m):null,m!==null&&(w=li(m),m!==w||m.tag!==5&&m.tag!==6)&&(m=null)):(x=null,m=u),x!==m)){if(p=zv,b="onMouseLeave",y="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(p=Yv,b="onPointerLeave",y="onPointerEnter",g="pointer"),w=x==null?h:ji(x),v=m==null?h:ji(m),h=new p(b,g+"leave",x,r,d),h.target=w,h.relatedTarget=v,b=null,Ta(d)===u&&(p=new p(y,g+"enter",m,r,d),p.target=v,p.relatedTarget=w,b=p),w=b,x&&m)t:{for(p=x,y=m,g=0,v=p;v;v=di(v))g++;for(v=0,b=y;b;b=di(b))v++;for(;0<g-v;)p=di(p),g--;for(;0<v-g;)y=di(y),v--;for(;g--;){if(p===y||y!==null&&p===y.alternate)break t;p=di(p),y=di(y)}p=null}else p=null;x!==null&&n0(f,h,x,p,!1),m!==null&&w!==null&&n0(f,w,m,p,!0)}}e:{if(h=u?ji(u):window,x=h.nodeName&&h.nodeName.toLowerCase(),x==="select"||x==="input"&&h.type==="file")var S=U_;else if(Gv(h))if(L1)S=V_;else{S=H_;var j=B_}else(x=h.nodeName)&&x.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=z_);if(S&&(S=S(e,u))){I1(f,S,r,d);break e}j&&j(e,h,u),e==="focusout"&&(j=h._wrapperState)&&j.controlled&&h.type==="number"&&Nm(h,"number",h.value)}switch(j=u?ji(u):window,e){case"focusin":(Gv(j)||j.contentEditable==="true")&&(wi=j,Mm=u,hl=null);break;case"focusout":hl=Mm=wi=null;break;case"mousedown":Rm=!0;break;case"contextmenu":case"mouseup":case"dragend":Rm=!1,e0(f,r,d);break;case"selectionchange":if(K_)break;case"keydown":case"keyup":e0(f,r,d)}var _;if(xg)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else bi?R1(e,r)&&(T="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(T="onCompositionStart");T&&(M1&&r.locale!=="ko"&&(bi||T!=="onCompositionStart"?T==="onCompositionEnd"&&bi&&(_=O1()):(Qs=d,gg="value"in Qs?Qs.value:Qs.textContent,bi=!0)),j=ud(u,T),0<j.length&&(T=new Vv(T,e,null,r,d),f.push({event:T,listeners:j}),_?T.data=_:(_=$1(r),_!==null&&(T.data=_)))),(_=$_?I_(e,r):L_(e,r))&&(u=ud(u,"onBeforeInput"),0<u.length&&(d=new Vv("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=_))}K1(f,t)})}function Ol(e,t,r){return{instance:e,listener:t,currentTarget:r}}function ud(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=Dl(e,r),a!=null&&n.unshift(Ol(e,a,s)),a=Dl(e,t),a!=null&&n.push(Ol(e,a,s))),e=e.return}return n}function di(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function n0(e,t,r,n,s){for(var a=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=Dl(r,a),c!=null&&o.unshift(Ol(r,c,l))):s||(c=Dl(r,a),c!=null&&o.push(Ol(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var J_=/\r\n?/g,Z_=/\u0000|\uFFFD/g;function s0(e){return(typeof e=="string"?e:""+e).replace(J_,`
`).replace(Z_,"")}function tu(e,t,r){if(t=s0(t),s0(e)!==t&&r)throw Error(ge(425))}function dd(){}var $m=null,Im=null;function Lm(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Fm=typeof setTimeout=="function"?setTimeout:void 0,eC=typeof clearTimeout=="function"?clearTimeout:void 0,a0=typeof Promise=="function"?Promise:void 0,tC=typeof queueMicrotask=="function"?queueMicrotask:typeof a0<"u"?function(e){return a0.resolve(null).then(e).catch(rC)}:Fm;function rC(e){setTimeout(function(){throw e})}function Ch(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),El(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);El(t)}function sa(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function i0(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var mo=Math.random().toString(36).slice(2),In="__reactFiber$"+mo,Ml="__reactProps$"+mo,bs="__reactContainer$"+mo,Wm="__reactEvents$"+mo,nC="__reactListeners$"+mo,sC="__reactHandles$"+mo;function Ta(e){var t=e[In];if(t)return t;for(var r=e.parentNode;r;){if(t=r[bs]||r[In]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=i0(e);e!==null;){if(r=e[In])return r;e=i0(e)}return t}e=r,r=e.parentNode}return null}function gc(e){return e=e[In]||e[bs],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ji(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ge(33))}function sf(e){return e[Ml]||null}var Um=[],Si=-1;function ya(e){return{current:e}}function ht(e){0>Si||(e.current=Um[Si],Um[Si]=null,Si--)}function lt(e,t){Si++,Um[Si]=e.current,e.current=t}var fa={},ar=ya(fa),jr=ya(!1),Ka=fa;function Xi(e,t){var r=e.type.contextTypes;if(!r)return fa;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in r)s[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Sr(e){return e=e.childContextTypes,e!=null}function fd(){ht(jr),ht(ar)}function o0(e,t,r){if(ar.current!==fa)throw Error(ge(168));lt(ar,t),lt(jr,r)}function Q1(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(ge(108,B2(e)||"Unknown",s));return jt({},r,n)}function hd(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||fa,Ka=ar.current,lt(ar,e),lt(jr,jr.current),!0}function l0(e,t,r){var n=e.stateNode;if(!n)throw Error(ge(169));r?(e=Q1(e,t,Ka),n.__reactInternalMemoizedMergedChildContext=e,ht(jr),ht(ar),lt(ar,e)):ht(jr),lt(jr,r)}var ls=null,af=!1,Eh=!1;function X1(e){ls===null?ls=[e]:ls.push(e)}function aC(e){af=!0,X1(e)}function va(){if(!Eh&&ls!==null){Eh=!0;var e=0,t=Ze;try{var r=ls;for(Ze=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}ls=null,af=!1}catch(s){throw ls!==null&&(ls=ls.slice(e+1)),N1(fg,va),s}finally{Ze=t,Eh=!1}}return null}var ki=[],Di=0,md=null,pd=0,Br=[],Hr=0,Ga=null,us=1,ds="";function ka(e,t){ki[Di++]=pd,ki[Di++]=md,md=e,pd=t}function J1(e,t,r){Br[Hr++]=us,Br[Hr++]=ds,Br[Hr++]=Ga,Ga=e;var n=us;e=ds;var s=32-yn(n)-1;n&=~(1<<s),r+=1;var a=32-yn(t)+s;if(30<a){var o=s-s%5;a=(n&(1<<o)-1).toString(32),n>>=o,s-=o,us=1<<32-yn(t)+s|r<<s|n,ds=a+e}else us=1<<a|r<<s|n,ds=e}function wg(e){e.return!==null&&(ka(e,1),J1(e,1,0))}function Ng(e){for(;e===md;)md=ki[--Di],ki[Di]=null,pd=ki[--Di],ki[Di]=null;for(;e===Ga;)Ga=Br[--Hr],Br[Hr]=null,ds=Br[--Hr],Br[Hr]=null,us=Br[--Hr],Br[Hr]=null}var Mr=null,Or=null,xt=!1,hn=null;function Z1(e,t){var r=Kr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function c0(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Mr=e,Or=sa(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Mr=e,Or=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Ga!==null?{id:us,overflow:ds}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Kr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Mr=e,Or=null,!0):!1;default:return!1}}function Bm(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Hm(e){if(xt){var t=Or;if(t){var r=t;if(!c0(e,t)){if(Bm(e))throw Error(ge(418));t=sa(r.nextSibling);var n=Mr;t&&c0(e,t)?Z1(n,r):(e.flags=e.flags&-4097|2,xt=!1,Mr=e)}}else{if(Bm(e))throw Error(ge(418));e.flags=e.flags&-4097|2,xt=!1,Mr=e}}}function u0(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Mr=e}function ru(e){if(e!==Mr)return!1;if(!xt)return u0(e),xt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Lm(e.type,e.memoizedProps)),t&&(t=Or)){if(Bm(e))throw eN(),Error(ge(418));for(;t;)Z1(e,t),t=sa(t.nextSibling)}if(u0(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ge(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Or=sa(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Or=null}}else Or=Mr?sa(e.stateNode.nextSibling):null;return!0}function eN(){for(var e=Or;e;)e=sa(e.nextSibling)}function Ji(){Or=Mr=null,xt=!1}function jg(e){hn===null?hn=[e]:hn.push(e)}var iC=_s.ReactCurrentBatchConfig;function Bo(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ge(309));var n=r.stateNode}if(!n)throw Error(ge(147,e));var s=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var l=s.refs;o===null?delete l[a]:l[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(ge(284));if(!r._owner)throw Error(ge(290,e))}return e}function nu(e,t){throw e=Object.prototype.toString.call(t),Error(ge(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function d0(e){var t=e._init;return t(e._payload)}function tN(e){function t(y,g){if(e){var v=y.deletions;v===null?(y.deletions=[g],y.flags|=16):v.push(g)}}function r(y,g){if(!e)return null;for(;g!==null;)t(y,g),g=g.sibling;return null}function n(y,g){for(y=new Map;g!==null;)g.key!==null?y.set(g.key,g):y.set(g.index,g),g=g.sibling;return y}function s(y,g){return y=la(y,g),y.index=0,y.sibling=null,y}function a(y,g,v){return y.index=v,e?(v=y.alternate,v!==null?(v=v.index,v<g?(y.flags|=2,g):v):(y.flags|=2,g)):(y.flags|=1048576,g)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function l(y,g,v,b){return g===null||g.tag!==6?(g=$h(v,y.mode,b),g.return=y,g):(g=s(g,v),g.return=y,g)}function c(y,g,v,b){var S=v.type;return S===xi?d(y,g,v.props.children,b,v.key):g!==null&&(g.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ls&&d0(S)===g.type)?(b=s(g,v.props),b.ref=Bo(y,g,v),b.return=y,b):(b=$u(v.type,v.key,v.props,null,y.mode,b),b.ref=Bo(y,g,v),b.return=y,b)}function u(y,g,v,b){return g===null||g.tag!==4||g.stateNode.containerInfo!==v.containerInfo||g.stateNode.implementation!==v.implementation?(g=Ih(v,y.mode,b),g.return=y,g):(g=s(g,v.children||[]),g.return=y,g)}function d(y,g,v,b,S){return g===null||g.tag!==7?(g=Ha(v,y.mode,b,S),g.return=y,g):(g=s(g,v),g.return=y,g)}function f(y,g,v){if(typeof g=="string"&&g!==""||typeof g=="number")return g=$h(""+g,y.mode,v),g.return=y,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Yc:return v=$u(g.type,g.key,g.props,null,y.mode,v),v.ref=Bo(y,null,g),v.return=y,v;case vi:return g=Ih(g,y.mode,v),g.return=y,g;case Ls:var b=g._init;return f(y,b(g._payload),v)}if(rl(g)||Io(g))return g=Ha(g,y.mode,v,null),g.return=y,g;nu(y,g)}return null}function h(y,g,v,b){var S=g!==null?g.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return S!==null?null:l(y,g,""+v,b);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Yc:return v.key===S?c(y,g,v,b):null;case vi:return v.key===S?u(y,g,v,b):null;case Ls:return S=v._init,h(y,g,S(v._payload),b)}if(rl(v)||Io(v))return S!==null?null:d(y,g,v,b,null);nu(y,v)}return null}function x(y,g,v,b,S){if(typeof b=="string"&&b!==""||typeof b=="number")return y=y.get(v)||null,l(g,y,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Yc:return y=y.get(b.key===null?v:b.key)||null,c(g,y,b,S);case vi:return y=y.get(b.key===null?v:b.key)||null,u(g,y,b,S);case Ls:var j=b._init;return x(y,g,v,j(b._payload),S)}if(rl(b)||Io(b))return y=y.get(v)||null,d(g,y,b,S,null);nu(g,b)}return null}function m(y,g,v,b){for(var S=null,j=null,_=g,T=g=0,$=null;_!==null&&T<v.length;T++){_.index>T?($=_,_=null):$=_.sibling;var R=h(y,_,v[T],b);if(R===null){_===null&&(_=$);break}e&&_&&R.alternate===null&&t(y,_),g=a(R,g,T),j===null?S=R:j.sibling=R,j=R,_=$}if(T===v.length)return r(y,_),xt&&ka(y,T),S;if(_===null){for(;T<v.length;T++)_=f(y,v[T],b),_!==null&&(g=a(_,g,T),j===null?S=_:j.sibling=_,j=_);return xt&&ka(y,T),S}for(_=n(y,_);T<v.length;T++)$=x(_,y,T,v[T],b),$!==null&&(e&&$.alternate!==null&&_.delete($.key===null?T:$.key),g=a($,g,T),j===null?S=$:j.sibling=$,j=$);return e&&_.forEach(function(Y){return t(y,Y)}),xt&&ka(y,T),S}function p(y,g,v,b){var S=Io(v);if(typeof S!="function")throw Error(ge(150));if(v=S.call(v),v==null)throw Error(ge(151));for(var j=S=null,_=g,T=g=0,$=null,R=v.next();_!==null&&!R.done;T++,R=v.next()){_.index>T?($=_,_=null):$=_.sibling;var Y=h(y,_,R.value,b);if(Y===null){_===null&&(_=$);break}e&&_&&Y.alternate===null&&t(y,_),g=a(Y,g,T),j===null?S=Y:j.sibling=Y,j=Y,_=$}if(R.done)return r(y,_),xt&&ka(y,T),S;if(_===null){for(;!R.done;T++,R=v.next())R=f(y,R.value,b),R!==null&&(g=a(R,g,T),j===null?S=R:j.sibling=R,j=R);return xt&&ka(y,T),S}for(_=n(y,_);!R.done;T++,R=v.next())R=x(_,y,T,R.value,b),R!==null&&(e&&R.alternate!==null&&_.delete(R.key===null?T:R.key),g=a(R,g,T),j===null?S=R:j.sibling=R,j=R);return e&&_.forEach(function(Q){return t(y,Q)}),xt&&ka(y,T),S}function w(y,g,v,b){if(typeof v=="object"&&v!==null&&v.type===xi&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Yc:e:{for(var S=v.key,j=g;j!==null;){if(j.key===S){if(S=v.type,S===xi){if(j.tag===7){r(y,j.sibling),g=s(j,v.props.children),g.return=y,y=g;break e}}else if(j.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ls&&d0(S)===j.type){r(y,j.sibling),g=s(j,v.props),g.ref=Bo(y,j,v),g.return=y,y=g;break e}r(y,j);break}else t(y,j);j=j.sibling}v.type===xi?(g=Ha(v.props.children,y.mode,b,v.key),g.return=y,y=g):(b=$u(v.type,v.key,v.props,null,y.mode,b),b.ref=Bo(y,g,v),b.return=y,y=b)}return o(y);case vi:e:{for(j=v.key;g!==null;){if(g.key===j)if(g.tag===4&&g.stateNode.containerInfo===v.containerInfo&&g.stateNode.implementation===v.implementation){r(y,g.sibling),g=s(g,v.children||[]),g.return=y,y=g;break e}else{r(y,g);break}else t(y,g);g=g.sibling}g=Ih(v,y.mode,b),g.return=y,y=g}return o(y);case Ls:return j=v._init,w(y,g,j(v._payload),b)}if(rl(v))return m(y,g,v,b);if(Io(v))return p(y,g,v,b);nu(y,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,g!==null&&g.tag===6?(r(y,g.sibling),g=s(g,v),g.return=y,y=g):(r(y,g),g=$h(v,y.mode,b),g.return=y,y=g),o(y)):r(y,g)}return w}var Zi=tN(!0),rN=tN(!1),gd=ya(null),yd=null,_i=null,Sg=null;function kg(){Sg=_i=yd=null}function Dg(e){var t=gd.current;ht(gd),e._currentValue=t}function zm(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Ri(e,t){yd=e,Sg=_i=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Nr=!0),e.firstContext=null)}function Qr(e){var t=e._currentValue;if(Sg!==e)if(e={context:e,memoizedValue:t,next:null},_i===null){if(yd===null)throw Error(ge(308));_i=e,yd.dependencies={lanes:0,firstContext:e}}else _i=_i.next=e;return t}var Pa=null;function _g(e){Pa===null?Pa=[e]:Pa.push(e)}function nN(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,_g(t)):(r.next=s.next,s.next=r),t.interleaved=r,ws(e,n)}function ws(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Fs=!1;function Cg(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function sN(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ps(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function aa(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,ze&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,ws(e,r)}return s=n.interleaved,s===null?(t.next=t,_g(n)):(t.next=s.next,s.next=t),n.interleaved=t,ws(e,r)}function Tu(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,hg(e,r)}}function f0(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?s=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?s=a=t:a=a.next=t}else s=a=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function vd(e,t,r,n){var s=e.updateQueue;Fs=!1;var a=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?a=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(a!==null){var f=s.baseState;o=0,d=u=c=null,l=a;do{var h=l.lane,x=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:x,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var m=e,p=l;switch(h=t,x=r,p.tag){case 1:if(m=p.payload,typeof m=="function"){f=m.call(x,f,h);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=p.payload,h=typeof m=="function"?m.call(x,f,h):m,h==null)break e;f=jt({},f,h);break e;case 2:Fs=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else x={eventTime:x,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=x,c=f):d=d.next=x,o|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);Xa|=o,e.lanes=o,e.memoizedState=f}}function h0(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(ge(191,s));s.call(n)}}}var yc={},zn=ya(yc),Rl=ya(yc),$l=ya(yc);function Aa(e){if(e===yc)throw Error(ge(174));return e}function Eg(e,t){switch(lt($l,t),lt(Rl,e),lt(zn,yc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Sm(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Sm(t,e)}ht(zn),lt(zn,t)}function eo(){ht(zn),ht(Rl),ht($l)}function aN(e){Aa($l.current);var t=Aa(zn.current),r=Sm(t,e.type);t!==r&&(lt(Rl,e),lt(zn,r))}function Tg(e){Rl.current===e&&(ht(zn),ht(Rl))}var wt=ya(0);function xd(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Th=[];function Pg(){for(var e=0;e<Th.length;e++)Th[e]._workInProgressVersionPrimary=null;Th.length=0}var Pu=_s.ReactCurrentDispatcher,Ph=_s.ReactCurrentBatchConfig,Qa=0,Nt=null,$t=null,zt=null,bd=!1,ml=!1,Il=0,oC=0;function Jt(){throw Error(ge(321))}function Ag(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!xn(e[r],t[r]))return!1;return!0}function Og(e,t,r,n,s,a){if(Qa=a,Nt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Pu.current=e===null||e.memoizedState===null?dC:fC,e=r(n,s),ml){a=0;do{if(ml=!1,Il=0,25<=a)throw Error(ge(301));a+=1,zt=$t=null,t.updateQueue=null,Pu.current=hC,e=r(n,s)}while(ml)}if(Pu.current=wd,t=$t!==null&&$t.next!==null,Qa=0,zt=$t=Nt=null,bd=!1,t)throw Error(ge(300));return e}function Mg(){var e=Il!==0;return Il=0,e}function Pn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zt===null?Nt.memoizedState=zt=e:zt=zt.next=e,zt}function Xr(){if($t===null){var e=Nt.alternate;e=e!==null?e.memoizedState:null}else e=$t.next;var t=zt===null?Nt.memoizedState:zt.next;if(t!==null)zt=t,$t=e;else{if(e===null)throw Error(ge(310));$t=e,e={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},zt===null?Nt.memoizedState=zt=e:zt=zt.next=e}return zt}function Ll(e,t){return typeof t=="function"?t(e):t}function Ah(e){var t=Xr(),r=t.queue;if(r===null)throw Error(ge(311));r.lastRenderedReducer=e;var n=$t,s=n.baseQueue,a=r.pending;if(a!==null){if(s!==null){var o=s.next;s.next=a.next,a.next=o}n.baseQueue=s=a,r.pending=null}if(s!==null){a=s.next,n=n.baseState;var l=o=null,c=null,u=a;do{var d=u.lane;if((Qa&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=n):c=c.next=f,Nt.lanes|=d,Xa|=d}u=u.next}while(u!==null&&u!==a);c===null?o=n:c.next=l,xn(n,t.memoizedState)||(Nr=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do a=s.lane,Nt.lanes|=a,Xa|=a,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Oh(e){var t=Xr(),r=t.queue;if(r===null)throw Error(ge(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,a=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do a=e(a,o.action),o=o.next;while(o!==s);xn(a,t.memoizedState)||(Nr=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function iN(){}function oN(e,t){var r=Nt,n=Xr(),s=t(),a=!xn(n.memoizedState,s);if(a&&(n.memoizedState=s,Nr=!0),n=n.queue,Rg(uN.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||zt!==null&&zt.memoizedState.tag&1){if(r.flags|=2048,Fl(9,cN.bind(null,r,n,s,t),void 0,null),Vt===null)throw Error(ge(349));Qa&30||lN(r,t,s)}return s}function lN(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Nt.updateQueue,t===null?(t={lastEffect:null,stores:null},Nt.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function cN(e,t,r,n){t.value=r,t.getSnapshot=n,dN(t)&&fN(e)}function uN(e,t,r){return r(function(){dN(t)&&fN(e)})}function dN(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!xn(e,r)}catch{return!0}}function fN(e){var t=ws(e,1);t!==null&&vn(t,e,1,-1)}function m0(e){var t=Pn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ll,lastRenderedState:e},t.queue=e,e=e.dispatch=uC.bind(null,Nt,e),[t.memoizedState,e]}function Fl(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Nt.updateQueue,t===null?(t={lastEffect:null,stores:null},Nt.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function hN(){return Xr().memoizedState}function Au(e,t,r,n){var s=Pn();Nt.flags|=e,s.memoizedState=Fl(1|t,r,void 0,n===void 0?null:n)}function of(e,t,r,n){var s=Xr();n=n===void 0?null:n;var a=void 0;if($t!==null){var o=$t.memoizedState;if(a=o.destroy,n!==null&&Ag(n,o.deps)){s.memoizedState=Fl(t,r,a,n);return}}Nt.flags|=e,s.memoizedState=Fl(1|t,r,a,n)}function p0(e,t){return Au(8390656,8,e,t)}function Rg(e,t){return of(2048,8,e,t)}function mN(e,t){return of(4,2,e,t)}function pN(e,t){return of(4,4,e,t)}function gN(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function yN(e,t,r){return r=r!=null?r.concat([e]):null,of(4,4,gN.bind(null,t,e),r)}function $g(){}function vN(e,t){var r=Xr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Ag(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function xN(e,t){var r=Xr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Ag(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function bN(e,t,r){return Qa&21?(xn(r,t)||(r=k1(),Nt.lanes|=r,Xa|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Nr=!0),e.memoizedState=r)}function lC(e,t){var r=Ze;Ze=r!==0&&4>r?r:4,e(!0);var n=Ph.transition;Ph.transition={};try{e(!1),t()}finally{Ze=r,Ph.transition=n}}function wN(){return Xr().memoizedState}function cC(e,t,r){var n=oa(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},NN(e))jN(t,r);else if(r=nN(e,t,r,n),r!==null){var s=mr();vn(r,e,n,s),SN(r,t,n)}}function uC(e,t,r){var n=oa(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(NN(e))jN(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,l=a(o,r);if(s.hasEagerState=!0,s.eagerState=l,xn(l,o)){var c=t.interleaved;c===null?(s.next=s,_g(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=nN(e,t,s,n),r!==null&&(s=mr(),vn(r,e,n,s),SN(r,t,n))}}function NN(e){var t=e.alternate;return e===Nt||t!==null&&t===Nt}function jN(e,t){ml=bd=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function SN(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,hg(e,r)}}var wd={readContext:Qr,useCallback:Jt,useContext:Jt,useEffect:Jt,useImperativeHandle:Jt,useInsertionEffect:Jt,useLayoutEffect:Jt,useMemo:Jt,useReducer:Jt,useRef:Jt,useState:Jt,useDebugValue:Jt,useDeferredValue:Jt,useTransition:Jt,useMutableSource:Jt,useSyncExternalStore:Jt,useId:Jt,unstable_isNewReconciler:!1},dC={readContext:Qr,useCallback:function(e,t){return Pn().memoizedState=[e,t===void 0?null:t],e},useContext:Qr,useEffect:p0,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Au(4194308,4,gN.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Au(4194308,4,e,t)},useInsertionEffect:function(e,t){return Au(4,2,e,t)},useMemo:function(e,t){var r=Pn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Pn();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=cC.bind(null,Nt,e),[n.memoizedState,e]},useRef:function(e){var t=Pn();return e={current:e},t.memoizedState=e},useState:m0,useDebugValue:$g,useDeferredValue:function(e){return Pn().memoizedState=e},useTransition:function(){var e=m0(!1),t=e[0];return e=lC.bind(null,e[1]),Pn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Nt,s=Pn();if(xt){if(r===void 0)throw Error(ge(407));r=r()}else{if(r=t(),Vt===null)throw Error(ge(349));Qa&30||lN(n,t,r)}s.memoizedState=r;var a={value:r,getSnapshot:t};return s.queue=a,p0(uN.bind(null,n,a,e),[e]),n.flags|=2048,Fl(9,cN.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=Pn(),t=Vt.identifierPrefix;if(xt){var r=ds,n=us;r=(n&~(1<<32-yn(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Il++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=oC++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},fC={readContext:Qr,useCallback:vN,useContext:Qr,useEffect:Rg,useImperativeHandle:yN,useInsertionEffect:mN,useLayoutEffect:pN,useMemo:xN,useReducer:Ah,useRef:hN,useState:function(){return Ah(Ll)},useDebugValue:$g,useDeferredValue:function(e){var t=Xr();return bN(t,$t.memoizedState,e)},useTransition:function(){var e=Ah(Ll)[0],t=Xr().memoizedState;return[e,t]},useMutableSource:iN,useSyncExternalStore:oN,useId:wN,unstable_isNewReconciler:!1},hC={readContext:Qr,useCallback:vN,useContext:Qr,useEffect:Rg,useImperativeHandle:yN,useInsertionEffect:mN,useLayoutEffect:pN,useMemo:xN,useReducer:Oh,useRef:hN,useState:function(){return Oh(Ll)},useDebugValue:$g,useDeferredValue:function(e){var t=Xr();return $t===null?t.memoizedState=e:bN(t,$t.memoizedState,e)},useTransition:function(){var e=Oh(Ll)[0],t=Xr().memoizedState;return[e,t]},useMutableSource:iN,useSyncExternalStore:oN,useId:wN,unstable_isNewReconciler:!1};function on(e,t){if(e&&e.defaultProps){t=jt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Vm(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:jt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var lf={isMounted:function(e){return(e=e._reactInternals)?li(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=mr(),s=oa(e),a=ps(n,s);a.payload=t,r!=null&&(a.callback=r),t=aa(e,a,s),t!==null&&(vn(t,e,s,n),Tu(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=mr(),s=oa(e),a=ps(n,s);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=aa(e,a,s),t!==null&&(vn(t,e,s,n),Tu(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=mr(),n=oa(e),s=ps(r,n);s.tag=2,t!=null&&(s.callback=t),t=aa(e,s,n),t!==null&&(vn(t,e,n,r),Tu(t,e,n))}};function g0(e,t,r,n,s,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,o):t.prototype&&t.prototype.isPureReactComponent?!Pl(r,n)||!Pl(s,a):!0}function kN(e,t,r){var n=!1,s=fa,a=t.contextType;return typeof a=="object"&&a!==null?a=Qr(a):(s=Sr(t)?Ka:ar.current,n=t.contextTypes,a=(n=n!=null)?Xi(e,s):fa),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=lf,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function y0(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&lf.enqueueReplaceState(t,t.state,null)}function Ym(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Cg(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=Qr(a):(a=Sr(t)?Ka:ar.current,s.context=Xi(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Vm(e,t,a,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&lf.enqueueReplaceState(s,s.state,null),vd(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function to(e,t){try{var r="",n=t;do r+=U2(n),n=n.return;while(n);var s=r}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function Mh(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function qm(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var mC=typeof WeakMap=="function"?WeakMap:Map;function DN(e,t,r){r=ps(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){jd||(jd=!0,np=n),qm(e,t)},r}function _N(e,t,r){r=ps(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){qm(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){qm(e,t),typeof n!="function"&&(ia===null?ia=new Set([this]):ia.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function v0(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new mC;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=CC.bind(null,e,t,r),t.then(e,e))}function x0(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function b0(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=ps(-1,1),t.tag=2,aa(r,t,1))),r.lanes|=1),e)}var pC=_s.ReactCurrentOwner,Nr=!1;function ur(e,t,r,n){t.child=e===null?rN(t,null,r,n):Zi(t,e.child,r,n)}function w0(e,t,r,n,s){r=r.render;var a=t.ref;return Ri(t,s),n=Og(e,t,r,n,a,s),r=Mg(),e!==null&&!Nr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ns(e,t,s)):(xt&&r&&wg(t),t.flags|=1,ur(e,t,n,s),t.child)}function N0(e,t,r,n,s){if(e===null){var a=r.type;return typeof a=="function"&&!zg(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,CN(e,t,a,n,s)):(e=$u(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&s)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:Pl,r(o,n)&&e.ref===t.ref)return Ns(e,t,s)}return t.flags|=1,e=la(a,n),e.ref=t.ref,e.return=t,t.child=e}function CN(e,t,r,n,s){if(e!==null){var a=e.memoizedProps;if(Pl(a,n)&&e.ref===t.ref)if(Nr=!1,t.pendingProps=n=a,(e.lanes&s)!==0)e.flags&131072&&(Nr=!0);else return t.lanes=e.lanes,Ns(e,t,s)}return Km(e,t,r,n,s)}function EN(e,t,r){var n=t.pendingProps,s=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},lt(Ei,Pr),Pr|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,lt(Ei,Pr),Pr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,lt(Ei,Pr),Pr|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,lt(Ei,Pr),Pr|=n;return ur(e,t,s,r),t.child}function TN(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Km(e,t,r,n,s){var a=Sr(r)?Ka:ar.current;return a=Xi(t,a),Ri(t,s),r=Og(e,t,r,n,a,s),n=Mg(),e!==null&&!Nr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ns(e,t,s)):(xt&&n&&wg(t),t.flags|=1,ur(e,t,r,s),t.child)}function j0(e,t,r,n,s){if(Sr(r)){var a=!0;hd(t)}else a=!1;if(Ri(t,s),t.stateNode===null)Ou(e,t),kN(t,r,n),Ym(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Qr(u):(u=Sr(r)?Ka:ar.current,u=Xi(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&y0(t,o,n,u),Fs=!1;var h=t.memoizedState;o.state=h,vd(t,n,o,s),c=t.memoizedState,l!==n||h!==c||jr.current||Fs?(typeof d=="function"&&(Vm(t,r,d,n),c=t.memoizedState),(l=Fs||g0(t,r,l,n,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,sN(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:on(t.type,l),o.props=u,f=t.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Qr(c):(c=Sr(r)?Ka:ar.current,c=Xi(t,c));var x=r.getDerivedStateFromProps;(d=typeof x=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&y0(t,o,n,c),Fs=!1,h=t.memoizedState,o.state=h,vd(t,n,o,s);var m=t.memoizedState;l!==f||h!==m||jr.current||Fs?(typeof x=="function"&&(Vm(t,r,x,n),m=t.memoizedState),(u=Fs||g0(t,r,u,n,h,m,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,m,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,m,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=m),o.props=n,o.state=m,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Gm(e,t,r,n,a,s)}function Gm(e,t,r,n,s,a){TN(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&l0(t,r,!1),Ns(e,t,a);n=t.stateNode,pC.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Zi(t,e.child,null,a),t.child=Zi(t,null,l,a)):ur(e,t,l,a),t.memoizedState=n.state,s&&l0(t,r,!0),t.child}function PN(e){var t=e.stateNode;t.pendingContext?o0(e,t.pendingContext,t.pendingContext!==t.context):t.context&&o0(e,t.context,!1),Eg(e,t.containerInfo)}function S0(e,t,r,n,s){return Ji(),jg(s),t.flags|=256,ur(e,t,r,n),t.child}var Qm={dehydrated:null,treeContext:null,retryLane:0};function Xm(e){return{baseLanes:e,cachePool:null,transitions:null}}function AN(e,t,r){var n=t.pendingProps,s=wt.current,a=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),lt(wt,s&1),e===null)return Hm(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,a?(n=t.mode,a=t.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=df(o,n,0,null),e=Ha(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Xm(r),t.memoizedState=Qm,e):Ig(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return gC(e,t,o,n,l,s,r);if(a){a=n.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=la(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?a=la(l,a):(a=Ha(a,o,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,o=e.child.memoizedState,o=o===null?Xm(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~r,t.memoizedState=Qm,n}return a=e.child,e=a.sibling,n=la(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Ig(e,t){return t=df({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function su(e,t,r,n){return n!==null&&jg(n),Zi(t,e.child,null,r),e=Ig(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function gC(e,t,r,n,s,a,o){if(r)return t.flags&256?(t.flags&=-257,n=Mh(Error(ge(422))),su(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,s=t.mode,n=df({mode:"visible",children:n.children},s,0,null),a=Ha(a,s,o,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&Zi(t,e.child,null,o),t.child.memoizedState=Xm(o),t.memoizedState=Qm,a);if(!(t.mode&1))return su(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,a=Error(ge(419)),n=Mh(a,n,void 0),su(e,t,o,n)}if(l=(o&e.childLanes)!==0,Nr||l){if(n=Vt,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,ws(e,s),vn(n,e,s,-1))}return Hg(),n=Mh(Error(ge(421))),su(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=EC.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,Or=sa(s.nextSibling),Mr=t,xt=!0,hn=null,e!==null&&(Br[Hr++]=us,Br[Hr++]=ds,Br[Hr++]=Ga,us=e.id,ds=e.overflow,Ga=t),t=Ig(t,n.children),t.flags|=4096,t)}function k0(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),zm(e.return,t,r)}function Rh(e,t,r,n,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=s)}function ON(e,t,r){var n=t.pendingProps,s=n.revealOrder,a=n.tail;if(ur(e,t,n.children,r),n=wt.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&k0(e,r,t);else if(e.tag===19)k0(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(lt(wt,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&xd(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Rh(t,!1,s,r,a);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&xd(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Rh(t,!0,r,null,a);break;case"together":Rh(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ou(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ns(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Xa|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ge(153));if(t.child!==null){for(e=t.child,r=la(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=la(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function yC(e,t,r){switch(t.tag){case 3:PN(t),Ji();break;case 5:aN(t);break;case 1:Sr(t.type)&&hd(t);break;case 4:Eg(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;lt(gd,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(lt(wt,wt.current&1),t.flags|=128,null):r&t.child.childLanes?AN(e,t,r):(lt(wt,wt.current&1),e=Ns(e,t,r),e!==null?e.sibling:null);lt(wt,wt.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return ON(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),lt(wt,wt.current),n)break;return null;case 22:case 23:return t.lanes=0,EN(e,t,r)}return Ns(e,t,r)}var MN,Jm,RN,$N;MN=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Jm=function(){};RN=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Aa(zn.current);var a=null;switch(r){case"input":s=bm(e,s),n=bm(e,n),a=[];break;case"select":s=jt({},s,{value:void 0}),n=jt({},n,{value:void 0}),a=[];break;case"textarea":s=jm(e,s),n=jm(e,n),a=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=dd)}km(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Sl.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(a||(a=[]),a.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Sl.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ut("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}r&&(a=a||[]).push("style",r);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};$N=function(e,t,r,n){r!==n&&(t.flags|=4)};function Ho(e,t){if(!xt)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Zt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function vC(e,t,r){var n=t.pendingProps;switch(Ng(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zt(t),null;case 1:return Sr(t.type)&&fd(),Zt(t),null;case 3:return n=t.stateNode,eo(),ht(jr),ht(ar),Pg(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ru(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,hn!==null&&(ip(hn),hn=null))),Jm(e,t),Zt(t),null;case 5:Tg(t);var s=Aa($l.current);if(r=t.type,e!==null&&t.stateNode!=null)RN(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(ge(166));return Zt(t),null}if(e=Aa(zn.current),ru(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[In]=t,n[Ml]=a,e=(t.mode&1)!==0,r){case"dialog":ut("cancel",n),ut("close",n);break;case"iframe":case"object":case"embed":ut("load",n);break;case"video":case"audio":for(s=0;s<sl.length;s++)ut(sl[s],n);break;case"source":ut("error",n);break;case"img":case"image":case"link":ut("error",n),ut("load",n);break;case"details":ut("toggle",n);break;case"input":Mv(n,a),ut("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},ut("invalid",n);break;case"textarea":$v(n,a),ut("invalid",n)}km(r,a),s=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?n.textContent!==l&&(a.suppressHydrationWarning!==!0&&tu(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&tu(n.textContent,l,e),s=["children",""+l]):Sl.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&ut("scroll",n)}switch(r){case"input":qc(n),Rv(n,a,!0);break;case"textarea":qc(n),Iv(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=dd)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=u1(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[In]=t,e[Ml]=n,MN(e,t,!1,!1),t.stateNode=e;e:{switch(o=Dm(r,n),r){case"dialog":ut("cancel",e),ut("close",e),s=n;break;case"iframe":case"object":case"embed":ut("load",e),s=n;break;case"video":case"audio":for(s=0;s<sl.length;s++)ut(sl[s],e);s=n;break;case"source":ut("error",e),s=n;break;case"img":case"image":case"link":ut("error",e),ut("load",e),s=n;break;case"details":ut("toggle",e),s=n;break;case"input":Mv(e,n),s=bm(e,n),ut("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=jt({},n,{value:void 0}),ut("invalid",e);break;case"textarea":$v(e,n),s=jm(e,n),ut("invalid",e);break;default:s=n}km(r,s),l=s;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?h1(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&d1(e,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&kl(e,c):typeof c=="number"&&kl(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Sl.hasOwnProperty(a)?c!=null&&a==="onScroll"&&ut("scroll",e):c!=null&&og(e,a,c,o))}switch(r){case"input":qc(e),Rv(e,n,!1);break;case"textarea":qc(e),Iv(e);break;case"option":n.value!=null&&e.setAttribute("value",""+da(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?Pi(e,!!n.multiple,a,!1):n.defaultValue!=null&&Pi(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=dd)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Zt(t),null;case 6:if(e&&t.stateNode!=null)$N(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(ge(166));if(r=Aa($l.current),Aa(zn.current),ru(t)){if(n=t.stateNode,r=t.memoizedProps,n[In]=t,(a=n.nodeValue!==r)&&(e=Mr,e!==null))switch(e.tag){case 3:tu(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&tu(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[In]=t,t.stateNode=n}return Zt(t),null;case 13:if(ht(wt),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(xt&&Or!==null&&t.mode&1&&!(t.flags&128))eN(),Ji(),t.flags|=98560,a=!1;else if(a=ru(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(ge(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(ge(317));a[In]=t}else Ji(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Zt(t),a=!1}else hn!==null&&(ip(hn),hn=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||wt.current&1?Lt===0&&(Lt=3):Hg())),t.updateQueue!==null&&(t.flags|=4),Zt(t),null);case 4:return eo(),Jm(e,t),e===null&&Al(t.stateNode.containerInfo),Zt(t),null;case 10:return Dg(t.type._context),Zt(t),null;case 17:return Sr(t.type)&&fd(),Zt(t),null;case 19:if(ht(wt),a=t.memoizedState,a===null)return Zt(t),null;if(n=(t.flags&128)!==0,o=a.rendering,o===null)if(n)Ho(a,!1);else{if(Lt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=xd(e),o!==null){for(t.flags|=128,Ho(a,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return lt(wt,wt.current&1|2),t.child}e=e.sibling}a.tail!==null&&Et()>ro&&(t.flags|=128,n=!0,Ho(a,!1),t.lanes=4194304)}else{if(!n)if(e=xd(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Ho(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!xt)return Zt(t),null}else 2*Et()-a.renderingStartTime>ro&&r!==1073741824&&(t.flags|=128,n=!0,Ho(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(r=a.last,r!==null?r.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Et(),t.sibling=null,r=wt.current,lt(wt,n?r&1|2:r&1),t):(Zt(t),null);case 22:case 23:return Bg(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Pr&1073741824&&(Zt(t),t.subtreeFlags&6&&(t.flags|=8192)):Zt(t),null;case 24:return null;case 25:return null}throw Error(ge(156,t.tag))}function xC(e,t){switch(Ng(t),t.tag){case 1:return Sr(t.type)&&fd(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return eo(),ht(jr),ht(ar),Pg(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Tg(t),null;case 13:if(ht(wt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ge(340));Ji()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ht(wt),null;case 4:return eo(),null;case 10:return Dg(t.type._context),null;case 22:case 23:return Bg(),null;case 24:return null;default:return null}}var au=!1,rr=!1,bC=typeof WeakSet=="function"?WeakSet:Set,De=null;function Ci(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){kt(e,t,n)}else r.current=null}function Zm(e,t,r){try{r()}catch(n){kt(e,t,n)}}var D0=!1;function wC(e,t){if($m=ld,e=U1(),bg(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var x;f!==r||s!==0&&f.nodeType!==3||(l=o+s),f!==a||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(x=f.firstChild)!==null;)h=f,f=x;for(;;){if(f===e)break t;if(h===r&&++u===s&&(l=o),h===a&&++d===n&&(c=o),(x=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=x}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Im={focusedElem:e,selectionRange:r},ld=!1,De=t;De!==null;)if(t=De,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,De=e;else for(;De!==null;){t=De;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var p=m.memoizedProps,w=m.memoizedState,y=t.stateNode,g=y.getSnapshotBeforeUpdate(t.elementType===t.type?p:on(t.type,p),w);y.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ge(163))}}catch(b){kt(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,De=e;break}De=t.return}return m=D0,D0=!1,m}function pl(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&Zm(t,r,a)}s=s.next}while(s!==n)}}function cf(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function ep(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function IN(e){var t=e.alternate;t!==null&&(e.alternate=null,IN(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[In],delete t[Ml],delete t[Wm],delete t[nC],delete t[sC])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function LN(e){return e.tag===5||e.tag===3||e.tag===4}function _0(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||LN(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function tp(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=dd));else if(n!==4&&(e=e.child,e!==null))for(tp(e,t,r),e=e.sibling;e!==null;)tp(e,t,r),e=e.sibling}function rp(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(rp(e,t,r),e=e.sibling;e!==null;)rp(e,t,r),e=e.sibling}var Yt=null,dn=!1;function As(e,t,r){for(r=r.child;r!==null;)FN(e,t,r),r=r.sibling}function FN(e,t,r){if(Hn&&typeof Hn.onCommitFiberUnmount=="function")try{Hn.onCommitFiberUnmount(ef,r)}catch{}switch(r.tag){case 5:rr||Ci(r,t);case 6:var n=Yt,s=dn;Yt=null,As(e,t,r),Yt=n,dn=s,Yt!==null&&(dn?(e=Yt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Yt.removeChild(r.stateNode));break;case 18:Yt!==null&&(dn?(e=Yt,r=r.stateNode,e.nodeType===8?Ch(e.parentNode,r):e.nodeType===1&&Ch(e,r),El(e)):Ch(Yt,r.stateNode));break;case 4:n=Yt,s=dn,Yt=r.stateNode.containerInfo,dn=!0,As(e,t,r),Yt=n,dn=s;break;case 0:case 11:case 14:case 15:if(!rr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var a=s,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&Zm(r,t,o),s=s.next}while(s!==n)}As(e,t,r);break;case 1:if(!rr&&(Ci(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){kt(r,t,l)}As(e,t,r);break;case 21:As(e,t,r);break;case 22:r.mode&1?(rr=(n=rr)||r.memoizedState!==null,As(e,t,r),rr=n):As(e,t,r);break;default:As(e,t,r)}}function C0(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new bC),t.forEach(function(n){var s=TC.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function an(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var a=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Yt=l.stateNode,dn=!1;break e;case 3:Yt=l.stateNode.containerInfo,dn=!0;break e;case 4:Yt=l.stateNode.containerInfo,dn=!0;break e}l=l.return}if(Yt===null)throw Error(ge(160));FN(a,o,s),Yt=null,dn=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){kt(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)WN(t,e),t=t.sibling}function WN(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(an(t,e),En(e),n&4){try{pl(3,e,e.return),cf(3,e)}catch(p){kt(e,e.return,p)}try{pl(5,e,e.return)}catch(p){kt(e,e.return,p)}}break;case 1:an(t,e),En(e),n&512&&r!==null&&Ci(r,r.return);break;case 5:if(an(t,e),En(e),n&512&&r!==null&&Ci(r,r.return),e.flags&32){var s=e.stateNode;try{kl(s,"")}catch(p){kt(e,e.return,p)}}if(n&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,o=r!==null?r.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&l1(s,a),Dm(l,o);var u=Dm(l,a);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?h1(s,f):d==="dangerouslySetInnerHTML"?d1(s,f):d==="children"?kl(s,f):og(s,d,f,u)}switch(l){case"input":wm(s,a);break;case"textarea":c1(s,a);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var x=a.value;x!=null?Pi(s,!!a.multiple,x,!1):h!==!!a.multiple&&(a.defaultValue!=null?Pi(s,!!a.multiple,a.defaultValue,!0):Pi(s,!!a.multiple,a.multiple?[]:"",!1))}s[Ml]=a}catch(p){kt(e,e.return,p)}}break;case 6:if(an(t,e),En(e),n&4){if(e.stateNode===null)throw Error(ge(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(p){kt(e,e.return,p)}}break;case 3:if(an(t,e),En(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{El(t.containerInfo)}catch(p){kt(e,e.return,p)}break;case 4:an(t,e),En(e);break;case 13:an(t,e),En(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(Wg=Et())),n&4&&C0(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(rr=(u=rr)||d,an(t,e),rr=u):an(t,e),En(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(De=e,d=e.child;d!==null;){for(f=De=d;De!==null;){switch(h=De,x=h.child,h.tag){case 0:case 11:case 14:case 15:pl(4,h,h.return);break;case 1:Ci(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(p){kt(n,r,p)}}break;case 5:Ci(h,h.return);break;case 22:if(h.memoizedState!==null){T0(f);continue}}x!==null?(x.return=h,De=x):T0(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=f1("display",o))}catch(p){kt(e,e.return,p)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(p){kt(e,e.return,p)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:an(t,e),En(e),n&4&&C0(e);break;case 21:break;default:an(t,e),En(e)}}function En(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(LN(r)){var n=r;break e}r=r.return}throw Error(ge(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(kl(s,""),n.flags&=-33);var a=_0(e);rp(e,a,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=_0(e);tp(e,l,o);break;default:throw Error(ge(161))}}catch(c){kt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function NC(e,t,r){De=e,UN(e)}function UN(e,t,r){for(var n=(e.mode&1)!==0;De!==null;){var s=De,a=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||au;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||rr;l=au;var u=rr;if(au=o,(rr=c)&&!u)for(De=s;De!==null;)o=De,c=o.child,o.tag===22&&o.memoizedState!==null?P0(s):c!==null?(c.return=o,De=c):P0(s);for(;a!==null;)De=a,UN(a),a=a.sibling;De=s,au=l,rr=u}E0(e)}else s.subtreeFlags&8772&&a!==null?(a.return=s,De=a):E0(e)}}function E0(e){for(;De!==null;){var t=De;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:rr||cf(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!rr)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:on(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&h0(t,a,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}h0(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&El(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ge(163))}rr||t.flags&512&&ep(t)}catch(h){kt(t,t.return,h)}}if(t===e){De=null;break}if(r=t.sibling,r!==null){r.return=t.return,De=r;break}De=t.return}}function T0(e){for(;De!==null;){var t=De;if(t===e){De=null;break}var r=t.sibling;if(r!==null){r.return=t.return,De=r;break}De=t.return}}function P0(e){for(;De!==null;){var t=De;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{cf(4,t)}catch(c){kt(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){kt(t,s,c)}}var a=t.return;try{ep(t)}catch(c){kt(t,a,c)}break;case 5:var o=t.return;try{ep(t)}catch(c){kt(t,o,c)}}}catch(c){kt(t,t.return,c)}if(t===e){De=null;break}var l=t.sibling;if(l!==null){l.return=t.return,De=l;break}De=t.return}}var jC=Math.ceil,Nd=_s.ReactCurrentDispatcher,Lg=_s.ReactCurrentOwner,Gr=_s.ReactCurrentBatchConfig,ze=0,Vt=null,Ot=null,qt=0,Pr=0,Ei=ya(0),Lt=0,Wl=null,Xa=0,uf=0,Fg=0,gl=null,wr=null,Wg=0,ro=1/0,is=null,jd=!1,np=null,ia=null,iu=!1,Xs=null,Sd=0,yl=0,sp=null,Mu=-1,Ru=0;function mr(){return ze&6?Et():Mu!==-1?Mu:Mu=Et()}function oa(e){return e.mode&1?ze&2&&qt!==0?qt&-qt:iC.transition!==null?(Ru===0&&(Ru=k1()),Ru):(e=Ze,e!==0||(e=window.event,e=e===void 0?16:A1(e.type)),e):1}function vn(e,t,r,n){if(50<yl)throw yl=0,sp=null,Error(ge(185));mc(e,r,n),(!(ze&2)||e!==Vt)&&(e===Vt&&(!(ze&2)&&(uf|=r),Lt===4&&Us(e,qt)),kr(e,n),r===1&&ze===0&&!(t.mode&1)&&(ro=Et()+500,af&&va()))}function kr(e,t){var r=e.callbackNode;i_(e,t);var n=od(e,e===Vt?qt:0);if(n===0)r!==null&&Wv(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Wv(r),t===1)e.tag===0?aC(A0.bind(null,e)):X1(A0.bind(null,e)),tC(function(){!(ze&6)&&va()}),r=null;else{switch(D1(n)){case 1:r=fg;break;case 4:r=j1;break;case 16:r=id;break;case 536870912:r=S1;break;default:r=id}r=GN(r,BN.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function BN(e,t){if(Mu=-1,Ru=0,ze&6)throw Error(ge(327));var r=e.callbackNode;if($i()&&e.callbackNode!==r)return null;var n=od(e,e===Vt?qt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=kd(e,n);else{t=n;var s=ze;ze|=2;var a=zN();(Vt!==e||qt!==t)&&(is=null,ro=Et()+500,Ba(e,t));do try{DC();break}catch(l){HN(e,l)}while(!0);kg(),Nd.current=a,ze=s,Ot!==null?t=0:(Vt=null,qt=0,t=Lt)}if(t!==0){if(t===2&&(s=Pm(e),s!==0&&(n=s,t=ap(e,s))),t===1)throw r=Wl,Ba(e,0),Us(e,n),kr(e,Et()),r;if(t===6)Us(e,n);else{if(s=e.current.alternate,!(n&30)&&!SC(s)&&(t=kd(e,n),t===2&&(a=Pm(e),a!==0&&(n=a,t=ap(e,a))),t===1))throw r=Wl,Ba(e,0),Us(e,n),kr(e,Et()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(ge(345));case 2:Da(e,wr,is);break;case 3:if(Us(e,n),(n&130023424)===n&&(t=Wg+500-Et(),10<t)){if(od(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){mr(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Fm(Da.bind(null,e,wr,is),t);break}Da(e,wr,is);break;case 4:if(Us(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-yn(n);a=1<<o,o=t[o],o>s&&(s=o),n&=~a}if(n=s,n=Et()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*jC(n/1960))-n,10<n){e.timeoutHandle=Fm(Da.bind(null,e,wr,is),n);break}Da(e,wr,is);break;case 5:Da(e,wr,is);break;default:throw Error(ge(329))}}}return kr(e,Et()),e.callbackNode===r?BN.bind(null,e):null}function ap(e,t){var r=gl;return e.current.memoizedState.isDehydrated&&(Ba(e,t).flags|=256),e=kd(e,t),e!==2&&(t=wr,wr=r,t!==null&&ip(t)),e}function ip(e){wr===null?wr=e:wr.push.apply(wr,e)}function SC(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],a=s.getSnapshot;s=s.value;try{if(!xn(a(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Us(e,t){for(t&=~Fg,t&=~uf,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-yn(t),n=1<<r;e[r]=-1,t&=~n}}function A0(e){if(ze&6)throw Error(ge(327));$i();var t=od(e,0);if(!(t&1))return kr(e,Et()),null;var r=kd(e,t);if(e.tag!==0&&r===2){var n=Pm(e);n!==0&&(t=n,r=ap(e,n))}if(r===1)throw r=Wl,Ba(e,0),Us(e,t),kr(e,Et()),r;if(r===6)throw Error(ge(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Da(e,wr,is),kr(e,Et()),null}function Ug(e,t){var r=ze;ze|=1;try{return e(t)}finally{ze=r,ze===0&&(ro=Et()+500,af&&va())}}function Ja(e){Xs!==null&&Xs.tag===0&&!(ze&6)&&$i();var t=ze;ze|=1;var r=Gr.transition,n=Ze;try{if(Gr.transition=null,Ze=1,e)return e()}finally{Ze=n,Gr.transition=r,ze=t,!(ze&6)&&va()}}function Bg(){Pr=Ei.current,ht(Ei)}function Ba(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,eC(r)),Ot!==null)for(r=Ot.return;r!==null;){var n=r;switch(Ng(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&fd();break;case 3:eo(),ht(jr),ht(ar),Pg();break;case 5:Tg(n);break;case 4:eo();break;case 13:ht(wt);break;case 19:ht(wt);break;case 10:Dg(n.type._context);break;case 22:case 23:Bg()}r=r.return}if(Vt=e,Ot=e=la(e.current,null),qt=Pr=t,Lt=0,Wl=null,Fg=uf=Xa=0,wr=gl=null,Pa!==null){for(t=0;t<Pa.length;t++)if(r=Pa[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,a=r.pending;if(a!==null){var o=a.next;a.next=s,n.next=o}r.pending=n}Pa=null}return e}function HN(e,t){do{var r=Ot;try{if(kg(),Pu.current=wd,bd){for(var n=Nt.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}bd=!1}if(Qa=0,zt=$t=Nt=null,ml=!1,Il=0,Lg.current=null,r===null||r.return===null){Lt=1,Wl=t,Ot=null;break}e:{var a=e,o=r.return,l=r,c=t;if(t=qt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var x=x0(o);if(x!==null){x.flags&=-257,b0(x,o,l,a,t),x.mode&1&&v0(a,u,t),t=x,c=u;var m=t.updateQueue;if(m===null){var p=new Set;p.add(c),t.updateQueue=p}else m.add(c);break e}else{if(!(t&1)){v0(a,u,t),Hg();break e}c=Error(ge(426))}}else if(xt&&l.mode&1){var w=x0(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),b0(w,o,l,a,t),jg(to(c,l));break e}}a=c=to(c,l),Lt!==4&&(Lt=2),gl===null?gl=[a]:gl.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var y=DN(a,c,t);f0(a,y);break e;case 1:l=c;var g=a.type,v=a.stateNode;if(!(a.flags&128)&&(typeof g.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(ia===null||!ia.has(v)))){a.flags|=65536,t&=-t,a.lanes|=t;var b=_N(a,l,t);f0(a,b);break e}}a=a.return}while(a!==null)}YN(r)}catch(S){t=S,Ot===r&&r!==null&&(Ot=r=r.return);continue}break}while(!0)}function zN(){var e=Nd.current;return Nd.current=wd,e===null?wd:e}function Hg(){(Lt===0||Lt===3||Lt===2)&&(Lt=4),Vt===null||!(Xa&268435455)&&!(uf&268435455)||Us(Vt,qt)}function kd(e,t){var r=ze;ze|=2;var n=zN();(Vt!==e||qt!==t)&&(is=null,Ba(e,t));do try{kC();break}catch(s){HN(e,s)}while(!0);if(kg(),ze=r,Nd.current=n,Ot!==null)throw Error(ge(261));return Vt=null,qt=0,Lt}function kC(){for(;Ot!==null;)VN(Ot)}function DC(){for(;Ot!==null&&!X2();)VN(Ot)}function VN(e){var t=KN(e.alternate,e,Pr);e.memoizedProps=e.pendingProps,t===null?YN(e):Ot=t,Lg.current=null}function YN(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=xC(r,t),r!==null){r.flags&=32767,Ot=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Lt=6,Ot=null;return}}else if(r=vC(r,t,Pr),r!==null){Ot=r;return}if(t=t.sibling,t!==null){Ot=t;return}Ot=t=e}while(t!==null);Lt===0&&(Lt=5)}function Da(e,t,r){var n=Ze,s=Gr.transition;try{Gr.transition=null,Ze=1,_C(e,t,r,n)}finally{Gr.transition=s,Ze=n}return null}function _C(e,t,r,n){do $i();while(Xs!==null);if(ze&6)throw Error(ge(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ge(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(o_(e,a),e===Vt&&(Ot=Vt=null,qt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||iu||(iu=!0,GN(id,function(){return $i(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=Gr.transition,Gr.transition=null;var o=Ze;Ze=1;var l=ze;ze|=4,Lg.current=null,wC(e,r),WN(r,e),q_(Im),ld=!!$m,Im=$m=null,e.current=r,NC(r),J2(),ze=l,Ze=o,Gr.transition=a}else e.current=r;if(iu&&(iu=!1,Xs=e,Sd=s),a=e.pendingLanes,a===0&&(ia=null),t_(r.stateNode),kr(e,Et()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(jd)throw jd=!1,e=np,np=null,e;return Sd&1&&e.tag!==0&&$i(),a=e.pendingLanes,a&1?e===sp?yl++:(yl=0,sp=e):yl=0,va(),null}function $i(){if(Xs!==null){var e=D1(Sd),t=Gr.transition,r=Ze;try{if(Gr.transition=null,Ze=16>e?16:e,Xs===null)var n=!1;else{if(e=Xs,Xs=null,Sd=0,ze&6)throw Error(ge(331));var s=ze;for(ze|=4,De=e.current;De!==null;){var a=De,o=a.child;if(De.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(De=u;De!==null;){var d=De;switch(d.tag){case 0:case 11:case 15:pl(8,d,a)}var f=d.child;if(f!==null)f.return=d,De=f;else for(;De!==null;){d=De;var h=d.sibling,x=d.return;if(IN(d),d===u){De=null;break}if(h!==null){h.return=x,De=h;break}De=x}}}var m=a.alternate;if(m!==null){var p=m.child;if(p!==null){m.child=null;do{var w=p.sibling;p.sibling=null,p=w}while(p!==null)}}De=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,De=o;else e:for(;De!==null;){if(a=De,a.flags&2048)switch(a.tag){case 0:case 11:case 15:pl(9,a,a.return)}var y=a.sibling;if(y!==null){y.return=a.return,De=y;break e}De=a.return}}var g=e.current;for(De=g;De!==null;){o=De;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,De=v;else e:for(o=g;De!==null;){if(l=De,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:cf(9,l)}}catch(S){kt(l,l.return,S)}if(l===o){De=null;break e}var b=l.sibling;if(b!==null){b.return=l.return,De=b;break e}De=l.return}}if(ze=s,va(),Hn&&typeof Hn.onPostCommitFiberRoot=="function")try{Hn.onPostCommitFiberRoot(ef,e)}catch{}n=!0}return n}finally{Ze=r,Gr.transition=t}}return!1}function O0(e,t,r){t=to(r,t),t=DN(e,t,1),e=aa(e,t,1),t=mr(),e!==null&&(mc(e,1,t),kr(e,t))}function kt(e,t,r){if(e.tag===3)O0(e,e,r);else for(;t!==null;){if(t.tag===3){O0(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ia===null||!ia.has(n))){e=to(r,e),e=_N(t,e,1),t=aa(t,e,1),e=mr(),t!==null&&(mc(t,1,e),kr(t,e));break}}t=t.return}}function CC(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=mr(),e.pingedLanes|=e.suspendedLanes&r,Vt===e&&(qt&r)===r&&(Lt===4||Lt===3&&(qt&130023424)===qt&&500>Et()-Wg?Ba(e,0):Fg|=r),kr(e,t)}function qN(e,t){t===0&&(e.mode&1?(t=Qc,Qc<<=1,!(Qc&130023424)&&(Qc=4194304)):t=1);var r=mr();e=ws(e,t),e!==null&&(mc(e,t,r),kr(e,r))}function EC(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),qN(e,r)}function TC(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(ge(314))}n!==null&&n.delete(t),qN(e,r)}var KN;KN=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||jr.current)Nr=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Nr=!1,yC(e,t,r);Nr=!!(e.flags&131072)}else Nr=!1,xt&&t.flags&1048576&&J1(t,pd,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Ou(e,t),e=t.pendingProps;var s=Xi(t,ar.current);Ri(t,r),s=Og(null,t,n,e,s,r);var a=Mg();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Sr(n)?(a=!0,hd(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Cg(t),s.updater=lf,t.stateNode=s,s._reactInternals=t,Ym(t,n,e,r),t=Gm(null,t,n,!0,a,r)):(t.tag=0,xt&&a&&wg(t),ur(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Ou(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=AC(n),e=on(n,e),s){case 0:t=Km(null,t,n,e,r);break e;case 1:t=j0(null,t,n,e,r);break e;case 11:t=w0(null,t,n,e,r);break e;case 14:t=N0(null,t,n,on(n.type,e),r);break e}throw Error(ge(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:on(n,s),Km(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:on(n,s),j0(e,t,n,s,r);case 3:e:{if(PN(t),e===null)throw Error(ge(387));n=t.pendingProps,a=t.memoizedState,s=a.element,sN(e,t),vd(t,n,null,r);var o=t.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=to(Error(ge(423)),t),t=S0(e,t,n,r,s);break e}else if(n!==s){s=to(Error(ge(424)),t),t=S0(e,t,n,r,s);break e}else for(Or=sa(t.stateNode.containerInfo.firstChild),Mr=t,xt=!0,hn=null,r=rN(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ji(),n===s){t=Ns(e,t,r);break e}ur(e,t,n,r)}t=t.child}return t;case 5:return aN(t),e===null&&Hm(t),n=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,o=s.children,Lm(n,s)?o=null:a!==null&&Lm(n,a)&&(t.flags|=32),TN(e,t),ur(e,t,o,r),t.child;case 6:return e===null&&Hm(t),null;case 13:return AN(e,t,r);case 4:return Eg(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Zi(t,null,n,r):ur(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:on(n,s),w0(e,t,n,s,r);case 7:return ur(e,t,t.pendingProps,r),t.child;case 8:return ur(e,t,t.pendingProps.children,r),t.child;case 12:return ur(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,a=t.memoizedProps,o=s.value,lt(gd,n._currentValue),n._currentValue=o,a!==null)if(xn(a.value,o)){if(a.children===s.children&&!jr.current){t=Ns(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=ps(-1,r&-r),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),zm(a.return,r,t),l.lanes|=r;break}c=c.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(ge(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),zm(o,r,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}ur(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Ri(t,r),s=Qr(s),n=n(s),t.flags|=1,ur(e,t,n,r),t.child;case 14:return n=t.type,s=on(n,t.pendingProps),s=on(n.type,s),N0(e,t,n,s,r);case 15:return CN(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:on(n,s),Ou(e,t),t.tag=1,Sr(n)?(e=!0,hd(t)):e=!1,Ri(t,r),kN(t,n,s),Ym(t,n,s,r),Gm(null,t,n,!0,e,r);case 19:return ON(e,t,r);case 22:return EN(e,t,r)}throw Error(ge(156,t.tag))};function GN(e,t){return N1(e,t)}function PC(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kr(e,t,r,n){return new PC(e,t,r,n)}function zg(e){return e=e.prototype,!(!e||!e.isReactComponent)}function AC(e){if(typeof e=="function")return zg(e)?1:0;if(e!=null){if(e=e.$$typeof,e===cg)return 11;if(e===ug)return 14}return 2}function la(e,t){var r=e.alternate;return r===null?(r=Kr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function $u(e,t,r,n,s,a){var o=2;if(n=e,typeof e=="function")zg(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case xi:return Ha(r.children,s,a,t);case lg:o=8,s|=8;break;case gm:return e=Kr(12,r,t,s|2),e.elementType=gm,e.lanes=a,e;case ym:return e=Kr(13,r,t,s),e.elementType=ym,e.lanes=a,e;case vm:return e=Kr(19,r,t,s),e.elementType=vm,e.lanes=a,e;case a1:return df(r,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case n1:o=10;break e;case s1:o=9;break e;case cg:o=11;break e;case ug:o=14;break e;case Ls:o=16,n=null;break e}throw Error(ge(130,e==null?e:typeof e,""))}return t=Kr(o,r,t,s),t.elementType=e,t.type=n,t.lanes=a,t}function Ha(e,t,r,n){return e=Kr(7,e,n,t),e.lanes=r,e}function df(e,t,r,n){return e=Kr(22,e,n,t),e.elementType=a1,e.lanes=r,e.stateNode={isHidden:!1},e}function $h(e,t,r){return e=Kr(6,e,null,t),e.lanes=r,e}function Ih(e,t,r){return t=Kr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function OC(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yh(0),this.expirationTimes=yh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yh(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Vg(e,t,r,n,s,a,o,l,c){return e=new OC(e,t,r,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Kr(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Cg(a),e}function MC(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:vi,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function QN(e){if(!e)return fa;e=e._reactInternals;e:{if(li(e)!==e||e.tag!==1)throw Error(ge(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Sr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ge(171))}if(e.tag===1){var r=e.type;if(Sr(r))return Q1(e,r,t)}return t}function XN(e,t,r,n,s,a,o,l,c){return e=Vg(r,n,!0,e,s,a,o,l,c),e.context=QN(null),r=e.current,n=mr(),s=oa(r),a=ps(n,s),a.callback=t??null,aa(r,a,s),e.current.lanes=s,mc(e,s,n),kr(e,n),e}function ff(e,t,r,n){var s=t.current,a=mr(),o=oa(s);return r=QN(r),t.context===null?t.context=r:t.pendingContext=r,t=ps(a,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=aa(s,t,o),e!==null&&(vn(e,s,o,a),Tu(e,s,o)),o}function Dd(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function M0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Yg(e,t){M0(e,t),(e=e.alternate)&&M0(e,t)}function RC(){return null}var JN=typeof reportError=="function"?reportError:function(e){console.error(e)};function qg(e){this._internalRoot=e}hf.prototype.render=qg.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ge(409));ff(e,t,null,null)};hf.prototype.unmount=qg.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ja(function(){ff(null,e,null,null)}),t[bs]=null}};function hf(e){this._internalRoot=e}hf.prototype.unstable_scheduleHydration=function(e){if(e){var t=E1();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Ws.length&&t!==0&&t<Ws[r].priority;r++);Ws.splice(r,0,e),r===0&&P1(e)}};function Kg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function mf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function R0(){}function $C(e,t,r,n,s){if(s){if(typeof n=="function"){var a=n;n=function(){var u=Dd(o);a.call(u)}}var o=XN(t,n,e,0,null,!1,!1,"",R0);return e._reactRootContainer=o,e[bs]=o.current,Al(e.nodeType===8?e.parentNode:e),Ja(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=Dd(c);l.call(u)}}var c=Vg(e,0,!1,null,null,!1,!1,"",R0);return e._reactRootContainer=c,e[bs]=c.current,Al(e.nodeType===8?e.parentNode:e),Ja(function(){ff(t,c,r,n)}),c}function pf(e,t,r,n,s){var a=r._reactRootContainer;if(a){var o=a;if(typeof s=="function"){var l=s;s=function(){var c=Dd(o);l.call(c)}}ff(t,o,e,s)}else o=$C(r,t,e,s,n);return Dd(o)}_1=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=nl(t.pendingLanes);r!==0&&(hg(t,r|1),kr(t,Et()),!(ze&6)&&(ro=Et()+500,va()))}break;case 13:Ja(function(){var n=ws(e,1);if(n!==null){var s=mr();vn(n,e,1,s)}}),Yg(e,1)}};mg=function(e){if(e.tag===13){var t=ws(e,134217728);if(t!==null){var r=mr();vn(t,e,134217728,r)}Yg(e,134217728)}};C1=function(e){if(e.tag===13){var t=oa(e),r=ws(e,t);if(r!==null){var n=mr();vn(r,e,t,n)}Yg(e,t)}};E1=function(){return Ze};T1=function(e,t){var r=Ze;try{return Ze=e,t()}finally{Ze=r}};Cm=function(e,t,r){switch(t){case"input":if(wm(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=sf(n);if(!s)throw Error(ge(90));o1(n),wm(n,s)}}}break;case"textarea":c1(e,r);break;case"select":t=r.value,t!=null&&Pi(e,!!r.multiple,t,!1)}};g1=Ug;y1=Ja;var IC={usingClientEntryPoint:!1,Events:[gc,ji,sf,m1,p1,Ug]},zo={findFiberByHostInstance:Ta,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},LC={bundleType:zo.bundleType,version:zo.version,rendererPackageName:zo.rendererPackageName,rendererConfig:zo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_s.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=b1(e),e===null?null:e.stateNode},findFiberByHostInstance:zo.findFiberByHostInstance||RC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ou=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ou.isDisabled&&ou.supportsFiber)try{ef=ou.inject(LC),Hn=ou}catch{}}Ir.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=IC;Ir.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Kg(t))throw Error(ge(200));return MC(e,t,null,r)};Ir.createRoot=function(e,t){if(!Kg(e))throw Error(ge(299));var r=!1,n="",s=JN;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Vg(e,1,!1,null,null,r,!1,n,s),e[bs]=t.current,Al(e.nodeType===8?e.parentNode:e),new qg(t)};Ir.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ge(188)):(e=Object.keys(e).join(","),Error(ge(268,e)));return e=b1(t),e=e===null?null:e.stateNode,e};Ir.flushSync=function(e){return Ja(e)};Ir.hydrate=function(e,t,r){if(!mf(t))throw Error(ge(200));return pf(null,e,t,!0,r)};Ir.hydrateRoot=function(e,t,r){if(!Kg(e))throw Error(ge(405));var n=r!=null&&r.hydratedSources||null,s=!1,a="",o=JN;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=XN(t,null,e,1,r??null,s,!1,a,o),e[bs]=t.current,Al(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new hf(t)};Ir.render=function(e,t,r){if(!mf(t))throw Error(ge(200));return pf(null,e,t,!1,r)};Ir.unmountComponentAtNode=function(e){if(!mf(e))throw Error(ge(40));return e._reactRootContainer?(Ja(function(){pf(null,null,e,!1,function(){e._reactRootContainer=null,e[bs]=null})}),!0):!1};Ir.unstable_batchedUpdates=Ug;Ir.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!mf(r))throw Error(ge(200));if(e==null||e._reactInternals===void 0)throw Error(ge(38));return pf(e,t,r,!1,n)};Ir.version="18.3.1-next-f1338f8080-20240426";function ZN(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ZN)}catch(e){console.error(e)}}ZN(),Zw.exports=Ir;var ej=Zw.exports;const tj=pr(ej);var rj,$0=ej;rj=$0.createRoot,$0.hydrateRoot;/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var I0="popstate";function FC(e={}){function t(n,s){let{pathname:a,search:o,hash:l}=n.location;return op("",{pathname:a,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Ul(s)}return UC(t,r,null,e)}function bt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function bn(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function WC(){return Math.random().toString(36).substring(2,10)}function L0(e,t){return{usr:e.state,key:e.key,idx:t}}function op(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?po(t):t,state:r,key:t&&t.key||n||WC()}}function Ul({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function po(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function UC(e,t,r,n={}){let{window:s=document.defaultView,v5Compat:a=!1}=n,o=s.history,l="POP",c=null,u=d();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function d(){return(o.state||{idx:null}).idx}function f(){l="POP";let w=d(),y=w==null?null:w-u;u=w,c&&c({action:l,location:p.location,delta:y})}function h(w,y){l="PUSH";let g=op(p.location,w,y);u=d()+1;let v=L0(g,u),b=p.createHref(g);try{o.pushState(v,"",b)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(b)}a&&c&&c({action:l,location:p.location,delta:1})}function x(w,y){l="REPLACE";let g=op(p.location,w,y);u=d();let v=L0(g,u),b=p.createHref(g);o.replaceState(v,"",b),a&&c&&c({action:l,location:p.location,delta:0})}function m(w){return BC(w)}let p={get action(){return l},get location(){return e(s,o)},listen(w){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(I0,f),c=w,()=>{s.removeEventListener(I0,f),c=null}},createHref(w){return t(s,w)},createURL:m,encodeLocation(w){let y=m(w);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:x,go(w){return o.go(w)}};return p}function BC(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),bt(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:Ul(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function nj(e,t,r="/"){return HC(e,t,r,!1)}function HC(e,t,r,n){let s=typeof t=="string"?po(t):t,a=js(s.pathname||"/",r);if(a==null)return null;let o=sj(e);zC(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=tE(a);l=ZC(o[c],u,n)}return l}function sj(e,t=[],r=[],n="",s=!1){let a=(o,l,c=s,u)=>{let d={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(n)&&c)return;bt(d.relativePath.startsWith(n),`Absolute route path "${d.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(n.length)}let f=gs([n,d.relativePath]),h=r.concat(d);o.children&&o.children.length>0&&(bt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),sj(o.children,t,h,f,c)),!(o.path==null&&!o.index)&&t.push({path:f,score:XC(f,o.index),routesMeta:h})};return e.forEach((o,l)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))a(o,l);else for(let u of aj(o.path))a(o,l,!0,u)}),t}function aj(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return s?[a,""]:[a];let o=aj(n.join("/")),l=[];return l.push(...o.map(c=>c===""?a:[a,c].join("/"))),s&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function zC(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:JC(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var VC=/^:[\w-]+$/,YC=3,qC=2,KC=1,GC=10,QC=-2,F0=e=>e==="*";function XC(e,t){let r=e.split("/"),n=r.length;return r.some(F0)&&(n+=QC),t&&(n+=qC),r.filter(s=>!F0(s)).reduce((s,a)=>s+(VC.test(a)?YC:a===""?KC:GC),n)}function JC(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function ZC(e,t,r=!1){let{routesMeta:n}=e,s={},a="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=a==="/"?t:t.slice(a.length)||"/",f=_d({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f&&u&&r&&!n[n.length-1].route.index&&(f=_d({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:gs([a,f.pathname]),pathnameBase:aE(gs([a,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(a=gs([a,f.pathnameBase]))}return o}function _d(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=eE(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let a=s[0],o=a.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,{paramName:d,isOptional:f},h)=>{if(d==="*"){let m=l[h]||"";o=a.slice(0,a.length-m.length).replace(/(.)\/+$/,"$1")}const x=l[h];return f&&!x?u[d]=void 0:u[d]=(x||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:o,pattern:e}}function eE(e,t=!1,r=!0){bn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function tE(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return bn(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function js(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function rE(e,t="/"){let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?po(e):e;return{pathname:r?r.startsWith("/")?r:nE(r,t):t,search:iE(n),hash:oE(s)}}function nE(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Lh(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function sE(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Gg(e){let t=sE(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function Qg(e,t,r,n=!1){let s;typeof e=="string"?s=po(e):(s={...e},bt(!s.pathname||!s.pathname.includes("?"),Lh("?","pathname","search",s)),bt(!s.pathname||!s.pathname.includes("#"),Lh("#","pathname","hash",s)),bt(!s.search||!s.search.includes("#"),Lh("#","search","hash",s)));let a=e===""||s.pathname==="",o=a?"/":s.pathname,l;if(o==null)l=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=rE(s,l),u=o&&o!=="/"&&o.endsWith("/"),d=(a||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}var gs=e=>e.join("/").replace(/\/\/+/g,"/"),aE=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),iE=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,oE=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function lE(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var ij=["POST","PUT","PATCH","DELETE"];new Set(ij);var cE=["GET",...ij];new Set(cE);var go=N.createContext(null);go.displayName="DataRouter";var gf=N.createContext(null);gf.displayName="DataRouterState";N.createContext(!1);var oj=N.createContext({isTransitioning:!1});oj.displayName="ViewTransition";var uE=N.createContext(new Map);uE.displayName="Fetchers";var dE=N.createContext(null);dE.displayName="Await";var kn=N.createContext(null);kn.displayName="Navigation";var vc=N.createContext(null);vc.displayName="Location";var Dn=N.createContext({outlet:null,matches:[],isDataRoute:!1});Dn.displayName="Route";var Xg=N.createContext(null);Xg.displayName="RouteError";function fE(e,{relative:t}={}){bt(yo(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=N.useContext(kn),{hash:s,pathname:a,search:o}=xc(e,{relative:t}),l=a;return r!=="/"&&(l=a==="/"?r:gs([r,a])),n.createHref({pathname:l,search:o,hash:s})}function yo(){return N.useContext(vc)!=null}function Cs(){return bt(yo(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(vc).location}var lj="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function cj(e){N.useContext(kn).static||N.useLayoutEffect(e)}function yf(){let{isDataRoute:e}=N.useContext(Dn);return e?_E():hE()}function hE(){bt(yo(),"useNavigate() may be used only in the context of a <Router> component.");let e=N.useContext(go),{basename:t,navigator:r}=N.useContext(kn),{matches:n}=N.useContext(Dn),{pathname:s}=Cs(),a=JSON.stringify(Gg(n)),o=N.useRef(!1);return cj(()=>{o.current=!0}),N.useCallback((c,u={})=>{if(bn(o.current,lj),!o.current)return;if(typeof c=="number"){r.go(c);return}let d=Qg(c,JSON.parse(a),s,u.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:gs([t,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[t,r,a,s,e])}var mE=N.createContext(null);function pE(e){let t=N.useContext(Dn).outlet;return N.useMemo(()=>t&&N.createElement(mE.Provider,{value:e},t),[t,e])}function xc(e,{relative:t}={}){let{matches:r}=N.useContext(Dn),{pathname:n}=Cs(),s=JSON.stringify(Gg(r));return N.useMemo(()=>Qg(e,JSON.parse(s),n,t==="path"),[e,s,n,t])}function gE(e,t){return uj(e,t)}function uj(e,t,r,n,s){var g;bt(yo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=N.useContext(kn),{matches:o}=N.useContext(Dn),l=o[o.length-1],c=l?l.params:{},u=l?l.pathname:"/",d=l?l.pathnameBase:"/",f=l&&l.route;{let v=f&&f.path||"";dj(u,!f||v.endsWith("*")||v.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${v}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${v}"> to <Route path="${v==="/"?"*":`${v}/*`}">.`)}let h=Cs(),x;if(t){let v=typeof t=="string"?po(t):t;bt(d==="/"||((g=v.pathname)==null?void 0:g.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${v.pathname}" was given in the \`location\` prop.`),x=v}else x=h;let m=x.pathname||"/",p=m;if(d!=="/"){let v=d.replace(/^\//,"").split("/");p="/"+m.replace(/^\//,"").split("/").slice(v.length).join("/")}let w=nj(e,{pathname:p});bn(f||w!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),bn(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let y=wE(w&&w.map(v=>Object.assign({},v,{params:Object.assign({},c,v.params),pathname:gs([d,a.encodeLocation?a.encodeLocation(v.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?d:gs([d,a.encodeLocation?a.encodeLocation(v.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:v.pathnameBase])})),o,r,n,s);return t&&y?N.createElement(vc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},y):y}function yE(){let e=DE(),t=lE(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:n},a={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=N.createElement(N.Fragment,null,N.createElement("p",null," Hey developer "),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:a},"ErrorBoundary")," or"," ",N.createElement("code",{style:a},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},t),r?N.createElement("pre",{style:s},r):null,o)}var vE=N.createElement(yE,null),xE=class extends N.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?N.createElement(Dn.Provider,{value:this.props.routeContext},N.createElement(Xg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function bE({routeContext:e,match:t,children:r}){let n=N.useContext(go);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),N.createElement(Dn.Provider,{value:e},r)}function wE(e,t=[],r=null,n=null,s=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let a=e,o=r==null?void 0:r.errors;if(o!=null){let u=a.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);bt(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,u+1))}let l=!1,c=-1;if(r)for(let u=0;u<a.length;u++){let d=a[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:f,errors:h}=r,x=d.route.loader&&!f.hasOwnProperty(d.route.id)&&(!h||h[d.route.id]===void 0);if(d.route.lazy||x){l=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((u,d,f)=>{let h,x=!1,m=null,p=null;r&&(h=o&&d.route.id?o[d.route.id]:void 0,m=d.route.errorElement||vE,l&&(c<0&&f===0?(dj("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,p=null):c===f&&(x=!0,p=d.route.hydrateFallbackElement||null)));let w=t.concat(a.slice(0,f+1)),y=()=>{let g;return h?g=m:x?g=p:d.route.Component?g=N.createElement(d.route.Component,null):d.route.element?g=d.route.element:g=u,N.createElement(bE,{match:d,routeContext:{outlet:u,matches:w,isDataRoute:r!=null},children:g})};return r&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?N.createElement(xE,{location:r.location,revalidation:r.revalidation,component:m,error:h,children:y(),routeContext:{outlet:null,matches:w,isDataRoute:!0},unstable_onError:n}):y()},null)}function Jg(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function NE(e){let t=N.useContext(go);return bt(t,Jg(e)),t}function jE(e){let t=N.useContext(gf);return bt(t,Jg(e)),t}function SE(e){let t=N.useContext(Dn);return bt(t,Jg(e)),t}function Zg(e){let t=SE(e),r=t.matches[t.matches.length-1];return bt(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function kE(){return Zg("useRouteId")}function DE(){var n;let e=N.useContext(Xg),t=jE("useRouteError"),r=Zg("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function _E(){let{router:e}=NE("useNavigate"),t=Zg("useNavigate"),r=N.useRef(!1);return cj(()=>{r.current=!0}),N.useCallback(async(s,a={})=>{bn(r.current,lj),r.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...a}))},[e,t])}var W0={};function dj(e,t,r){!t&&!W0[e]&&(W0[e]=!0,bn(!1,r))}N.memo(CE);function CE({routes:e,future:t,state:r,unstable_onError:n}){return uj(e,void 0,r,n,t)}function EE({to:e,replace:t,state:r,relative:n}){bt(yo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=N.useContext(kn);bn(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=N.useContext(Dn),{pathname:o}=Cs(),l=yf(),c=Qg(e,Gg(a),o,n==="path"),u=JSON.stringify(c);return N.useEffect(()=>{l(JSON.parse(u),{replace:t,state:r,relative:n})},[l,u,n,t,r]),null}function TE(e){return pE(e.context)}function tr(e){bt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function PE({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:s,static:a=!1}){bt(!yo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),l=N.useMemo(()=>({basename:o,navigator:s,static:a,future:{}}),[o,s,a]);typeof r=="string"&&(r=po(r));let{pathname:c="/",search:u="",hash:d="",state:f=null,key:h="default"}=r,x=N.useMemo(()=>{let m=js(c,o);return m==null?null:{location:{pathname:m,search:u,hash:d,state:f,key:h},navigationType:n}},[o,c,u,d,f,h,n]);return bn(x!=null,`<Router basename="${o}"> is not able to match the URL "${c}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:N.createElement(kn.Provider,{value:l},N.createElement(vc.Provider,{children:t,value:x}))}function AE({children:e,location:t}){return gE(lp(e),t)}function lp(e,t=[]){let r=[];return N.Children.forEach(e,(n,s)=>{if(!N.isValidElement(n))return;let a=[...t,s];if(n.type===N.Fragment){r.push.apply(r,lp(n.props.children,a));return}bt(n.type===tr,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),bt(!n.props.index||!n.props.children,"An index route cannot have child routes.");let o={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=lp(n.props.children,a)),r.push(o)}),r}var Iu="get",Lu="application/x-www-form-urlencoded";function vf(e){return e!=null&&typeof e.tagName=="string"}function OE(e){return vf(e)&&e.tagName.toLowerCase()==="button"}function ME(e){return vf(e)&&e.tagName.toLowerCase()==="form"}function RE(e){return vf(e)&&e.tagName.toLowerCase()==="input"}function $E(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function IE(e,t){return e.button===0&&(!t||t==="_self")&&!$E(e)}var lu=null;function LE(){if(lu===null)try{new FormData(document.createElement("form"),0),lu=!1}catch{lu=!0}return lu}var FE=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Fh(e){return e!=null&&!FE.has(e)?(bn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Lu}"`),null):e}function WE(e,t){let r,n,s,a,o;if(ME(e)){let l=e.getAttribute("action");n=l?js(l,t):null,r=e.getAttribute("method")||Iu,s=Fh(e.getAttribute("enctype"))||Lu,a=new FormData(e)}else if(OE(e)||RE(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||l.getAttribute("action");if(n=c?js(c,t):null,r=e.getAttribute("formmethod")||l.getAttribute("method")||Iu,s=Fh(e.getAttribute("formenctype"))||Fh(l.getAttribute("enctype"))||Lu,a=new FormData(l,e),!LE()){let{name:u,type:d,value:f}=e;if(d==="image"){let h=u?`${u}.`:"";a.append(`${h}x`,"0"),a.append(`${h}y`,"0")}else u&&a.append(u,f)}}else{if(vf(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Iu,n=null,s=Lu,o=e}return a&&s==="text/plain"&&(o=a,a=void 0),{action:n,method:r.toLowerCase(),encType:s,formData:a,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ey(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function UE(e,t,r){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname=`_root.${r}`:t&&js(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function BE(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function HE(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function zE(e,t,r){let n=await Promise.all(e.map(async s=>{let a=t.routes[s.route.id];if(a){let o=await BE(a,r);return o.links?o.links():[]}return[]}));return KE(n.flat(1).filter(HE).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function U0(e,t,r,n,s,a){let o=(c,u)=>r[u]?c.route.id!==r[u].route.id:!0,l=(c,u)=>{var d;return r[u].pathname!==c.pathname||((d=r[u].route.path)==null?void 0:d.endsWith("*"))&&r[u].params["*"]!==c.params["*"]};return a==="assets"?t.filter((c,u)=>o(c,u)||l(c,u)):a==="data"?t.filter((c,u)=>{var f;let d=n.routes[c.route.id];if(!d||!d.hasLoader)return!1;if(o(c,u)||l(c,u))return!0;if(c.route.shouldRevalidate){let h=c.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((f=r[0])==null?void 0:f.params)||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function VE(e,t,{includeHydrateFallback:r}={}){return YE(e.map(n=>{let s=t.routes[n.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),r&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function YE(e){return[...new Set(e)]}function qE(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function KE(e,t){let r=new Set;return new Set(t),e.reduce((n,s)=>{let a=JSON.stringify(qE(s));return r.has(a)||(r.add(a),n.push({key:a,link:s})),n},[])}function fj(){let e=N.useContext(go);return ey(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function GE(){let e=N.useContext(gf);return ey(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var ty=N.createContext(void 0);ty.displayName="FrameworkContext";function hj(){let e=N.useContext(ty);return ey(e,"You must render this element inside a <HydratedRouter> element"),e}function QE(e,t){let r=N.useContext(ty),[n,s]=N.useState(!1),[a,o]=N.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:f}=t,h=N.useRef(null);N.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let p=y=>{y.forEach(g=>{o(g.isIntersecting)})},w=new IntersectionObserver(p,{threshold:.5});return h.current&&w.observe(h.current),()=>{w.disconnect()}}},[e]),N.useEffect(()=>{if(n){let p=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(p)}}},[n]);let x=()=>{s(!0)},m=()=>{s(!1),o(!1)};return r?e!=="intent"?[a,h,{}]:[a,h,{onFocus:Vo(l,x),onBlur:Vo(c,m),onMouseEnter:Vo(u,x),onMouseLeave:Vo(d,m),onTouchStart:Vo(f,x)}]:[!1,h,{}]}function Vo(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function XE({page:e,...t}){let{router:r}=fj(),n=N.useMemo(()=>nj(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?N.createElement(ZE,{page:e,matches:n,...t}):null}function JE(e){let{manifest:t,routeModules:r}=hj(),[n,s]=N.useState([]);return N.useEffect(()=>{let a=!1;return zE(e,t,r).then(o=>{a||s(o)}),()=>{a=!0}},[e,t,r]),n}function ZE({page:e,matches:t,...r}){let n=Cs(),{manifest:s,routeModules:a}=hj(),{basename:o}=fj(),{loaderData:l,matches:c}=GE(),u=N.useMemo(()=>U0(e,t,c,s,n,"data"),[e,t,c,s,n]),d=N.useMemo(()=>U0(e,t,c,s,n,"assets"),[e,t,c,s,n]),f=N.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let m=new Set,p=!1;if(t.forEach(y=>{var v;let g=s.routes[y.route.id];!g||!g.hasLoader||(!u.some(b=>b.route.id===y.route.id)&&y.route.id in l&&((v=a[y.route.id])!=null&&v.shouldRevalidate)||g.hasClientLoader?p=!0:m.add(y.route.id))}),m.size===0)return[];let w=UE(e,o,"data");return p&&m.size>0&&w.searchParams.set("_routes",t.filter(y=>m.has(y.route.id)).map(y=>y.route.id).join(",")),[w.pathname+w.search]},[o,l,n,s,u,t,e,a]),h=N.useMemo(()=>VE(d,s),[d,s]),x=JE(d);return N.createElement(N.Fragment,null,f.map(m=>N.createElement("link",{key:m,rel:"prefetch",as:"fetch",href:m,...r})),h.map(m=>N.createElement("link",{key:m,rel:"modulepreload",href:m,...r})),x.map(({key:m,link:p})=>N.createElement("link",{key:m,nonce:r.nonce,...p})))}function eT(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var mj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{mj&&(window.__reactRouterVersion="7.9.4")}catch{}function tT({basename:e,children:t,window:r}){let n=N.useRef();n.current==null&&(n.current=FC({window:r,v5Compat:!0}));let s=n.current,[a,o]=N.useState({action:s.action,location:s.location}),l=N.useCallback(c=>{N.startTransition(()=>o(c))},[o]);return N.useLayoutEffect(()=>s.listen(l),[s,l]),N.createElement(PE,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:s})}var pj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gj=N.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:s,reloadDocument:a,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f,...h},x){let{basename:m}=N.useContext(kn),p=typeof u=="string"&&pj.test(u),w,y=!1;if(typeof u=="string"&&p&&(w=u,mj))try{let $=new URL(window.location.href),R=u.startsWith("//")?new URL($.protocol+u):new URL(u),Y=js(R.pathname,m);R.origin===$.origin&&Y!=null?u=Y+R.search+R.hash:y=!0}catch{bn(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let g=fE(u,{relative:s}),[v,b,S]=QE(n,h),j=sT(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:f});function _($){t&&t($),$.defaultPrevented||j($)}let T=N.createElement("a",{...h,...S,href:w||g,onClick:y||a?t:_,ref:eT(x,b),target:c,"data-discover":!p&&r==="render"?"true":void 0});return v&&!p?N.createElement(N.Fragment,null,T,N.createElement(XE,{page:g})):T});gj.displayName="Link";var cp=N.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:s=!1,style:a,to:o,viewTransition:l,children:c,...u},d){let f=xc(o,{relative:u.relative}),h=Cs(),x=N.useContext(gf),{navigator:m,basename:p}=N.useContext(kn),w=x!=null&&cT(f)&&l===!0,y=m.encodeLocation?m.encodeLocation(f).pathname:f.pathname,g=h.pathname,v=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;r||(g=g.toLowerCase(),v=v?v.toLowerCase():null,y=y.toLowerCase()),v&&p&&(v=js(v,p)||v);const b=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let S=g===y||!s&&g.startsWith(y)&&g.charAt(b)==="/",j=v!=null&&(v===y||!s&&v.startsWith(y)&&v.charAt(y.length)==="/"),_={isActive:S,isPending:j,isTransitioning:w},T=S?t:void 0,$;typeof n=="function"?$=n(_):$=[n,S?"active":null,j?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let R=typeof a=="function"?a(_):a;return N.createElement(gj,{...u,"aria-current":T,className:$,ref:d,style:R,to:o,viewTransition:l},typeof c=="function"?c(_):c)});cp.displayName="NavLink";var rT=N.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:s,state:a,method:o=Iu,action:l,onSubmit:c,relative:u,preventScrollReset:d,viewTransition:f,...h},x)=>{let m=oT(),p=lT(l,{relative:u}),w=o.toLowerCase()==="get"?"get":"post",y=typeof l=="string"&&pj.test(l),g=v=>{if(c&&c(v),v.defaultPrevented)return;v.preventDefault();let b=v.nativeEvent.submitter,S=(b==null?void 0:b.getAttribute("formmethod"))||o;m(b||v.currentTarget,{fetcherKey:t,method:S,navigate:r,replace:s,state:a,relative:u,preventScrollReset:d,viewTransition:f})};return N.createElement("form",{ref:x,method:w,action:p,onSubmit:n?c:g,...h,"data-discover":!y&&e==="render"?"true":void 0})});rT.displayName="Form";function nT(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function yj(e){let t=N.useContext(go);return bt(t,nT(e)),t}function sT(e,{target:t,replace:r,state:n,preventScrollReset:s,relative:a,viewTransition:o}={}){let l=yf(),c=Cs(),u=xc(e,{relative:a});return N.useCallback(d=>{if(IE(d,t)){d.preventDefault();let f=r!==void 0?r:Ul(c)===Ul(u);l(e,{replace:f,state:n,preventScrollReset:s,relative:a,viewTransition:o})}},[c,l,u,r,n,t,e,s,a,o])}var aT=0,iT=()=>`__${String(++aT)}__`;function oT(){let{router:e}=yj("useSubmit"),{basename:t}=N.useContext(kn),r=kE();return N.useCallback(async(n,s={})=>{let{action:a,method:o,encType:l,formData:c,body:u}=WE(n,t);if(s.navigate===!1){let d=s.fetcherKey||iT();await e.fetch(d,r,s.action||a,{preventScrollReset:s.preventScrollReset,formData:c,body:u,formMethod:s.method||o,formEncType:s.encType||l,flushSync:s.flushSync})}else await e.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:c,body:u,formMethod:s.method||o,formEncType:s.encType||l,replace:s.replace,state:s.state,fromRouteId:r,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,r])}function lT(e,{relative:t}={}){let{basename:r}=N.useContext(kn),n=N.useContext(Dn);bt(n,"useFormAction must be used inside a RouteContext");let[s]=n.matches.slice(-1),a={...xc(e||".",{relative:t})},o=Cs();if(e==null){a.search=o.search;let l=new URLSearchParams(a.search),c=l.getAll("index");if(c.some(d=>d==="")){l.delete("index"),c.filter(f=>f).forEach(f=>l.append("index",f));let d=l.toString();a.search=d?`?${d}`:""}}return(!e||e===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(a.pathname=a.pathname==="/"?r:gs([r,a.pathname])),Ul(a)}function cT(e,{relative:t}={}){let r=N.useContext(oj);bt(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=yj("useViewTransitionState"),s=xc(e,{relative:t});if(!r.isTransitioning)return!1;let a=js(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=js(r.nextLocation.pathname,n)||r.nextLocation.pathname;return _d(s.pathname,o)!=null||_d(s.pathname,a)!=null}var xf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},uT={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},zs,eg,Ow,dT=(Ow=class{constructor(){Ue(this,zs,uT);Ue(this,eg,!1)}setTimeoutProvider(e){Re(this,zs,e)}setTimeout(e,t){return ae(this,zs).setTimeout(e,t)}clearTimeout(e){ae(this,zs).clearTimeout(e)}setInterval(e,t){return ae(this,zs).setInterval(e,t)}clearInterval(e){ae(this,zs).clearInterval(e)}},zs=new WeakMap,eg=new WeakMap,Ow),up=new dT;function fT(e){setTimeout(e,0)}var bf=typeof window>"u"||"Deno"in globalThis;function ln(){}function hT(e,t){return typeof e=="function"?e(t):e}function mT(e){return typeof e=="number"&&e>=0&&e!==1/0}function pT(e,t){return Math.max(e+(t||0)-Date.now(),0)}function dp(e,t){return typeof e=="function"?e(t):e}function gT(e,t){return typeof e=="function"?e(t):e}function B0(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:a,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==ry(o,t.options))return!1}else if(!Hl(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||a&&!a(t))}function H0(e,t){const{exact:r,status:n,predicate:s,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(r){if(Bl(t.options.mutationKey)!==Bl(a))return!1}else if(!Hl(t.options.mutationKey,a))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function ry(e,t){return((t==null?void 0:t.queryKeyHashFn)||Bl)(e)}function Bl(e){return JSON.stringify(e,(t,r)=>fp(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function Hl(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Hl(e[r],t[r])):!1}var yT=Object.prototype.hasOwnProperty;function vj(e,t){if(e===t)return e;const r=z0(e)&&z0(t);if(!r&&!(fp(e)&&fp(t)))return t;const s=(r?e:Object.keys(e)).length,a=r?t:Object.keys(t),o=a.length,l=r?new Array(o):{};let c=0;for(let u=0;u<o;u++){const d=r?u:a[u],f=e[d],h=t[d];if(f===h){l[d]=f,(r?u<s:yT.call(e,d))&&c++;continue}if(f===null||h===null||typeof f!="object"||typeof h!="object"){l[d]=h;continue}const x=vj(f,h);l[d]=x,x===f&&c++}return s===o&&c===s?e:l}function z0(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function fp(e){if(!V0(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!V0(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function V0(e){return Object.prototype.toString.call(e)==="[object Object]"}function vT(e){return new Promise(t=>{up.setTimeout(t,e)})}function xT(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?vj(e,t):t}function bT(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function wT(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var ny=Symbol();function xj(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===ny?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var $a,Vs,Bi,Mw,NT=(Mw=class extends xf{constructor(){super();Ue(this,$a);Ue(this,Vs);Ue(this,Bi);Re(this,Bi,t=>{if(!bf&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){ae(this,Vs)||this.setEventListener(ae(this,Bi))}onUnsubscribe(){var t;this.hasListeners()||((t=ae(this,Vs))==null||t.call(this),Re(this,Vs,void 0))}setEventListener(t){var r;Re(this,Bi,t),(r=ae(this,Vs))==null||r.call(this),Re(this,Vs,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){ae(this,$a)!==t&&(Re(this,$a,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof ae(this,$a)=="boolean"?ae(this,$a):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},$a=new WeakMap,Vs=new WeakMap,Bi=new WeakMap,Mw),bj=new NT;function jT(){let e,t;const r=new Promise((s,a)=>{e=s,t=a});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}var ST=fT;function kT(){let e=[],t=0,r=l=>{l()},n=l=>{l()},s=ST;const a=l=>{t?e.push(l):s(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&s(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{a(()=>{l(...c)})},schedule:a,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{s=l}}}var fr=kT(),Hi,Ys,zi,Rw,DT=(Rw=class extends xf{constructor(){super();Ue(this,Hi,!0);Ue(this,Ys);Ue(this,zi);Re(this,zi,t=>{if(!bf&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){ae(this,Ys)||this.setEventListener(ae(this,zi))}onUnsubscribe(){var t;this.hasListeners()||((t=ae(this,Ys))==null||t.call(this),Re(this,Ys,void 0))}setEventListener(t){var r;Re(this,zi,t),(r=ae(this,Ys))==null||r.call(this),Re(this,Ys,t(this.setOnline.bind(this)))}setOnline(t){ae(this,Hi)!==t&&(Re(this,Hi,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return ae(this,Hi)}},Hi=new WeakMap,Ys=new WeakMap,zi=new WeakMap,Rw),Cd=new DT;function _T(e){return Math.min(1e3*2**e,3e4)}function wj(e){return(e??"online")==="online"?Cd.isOnline():!0}var hp=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Nj(e){let t=!1,r=0,n;const s=jT(),a=()=>s.status!=="pending",o=p=>{var w;if(!a()){const y=new hp(p);h(y),(w=e.onCancel)==null||w.call(e,y)}},l=()=>{t=!0},c=()=>{t=!1},u=()=>bj.isFocused()&&(e.networkMode==="always"||Cd.isOnline())&&e.canRun(),d=()=>wj(e.networkMode)&&e.canRun(),f=p=>{a()||(n==null||n(),s.resolve(p))},h=p=>{a()||(n==null||n(),s.reject(p))},x=()=>new Promise(p=>{var w;n=y=>{(a()||u())&&p(y)},(w=e.onPause)==null||w.call(e)}).then(()=>{var p;n=void 0,a()||(p=e.onContinue)==null||p.call(e)}),m=()=>{if(a())return;let p;const w=r===0?e.initialPromise:void 0;try{p=w??e.fn()}catch(y){p=Promise.reject(y)}Promise.resolve(p).then(f).catch(y=>{var j;if(a())return;const g=e.retry??(bf?0:3),v=e.retryDelay??_T,b=typeof v=="function"?v(r,y):v,S=g===!0||typeof g=="number"&&r<g||typeof g=="function"&&g(r,y);if(t||!S){h(y);return}r++,(j=e.onFail)==null||j.call(e,r,y),vT(b).then(()=>u()?void 0:x()).then(()=>{t?h(y):m()})})};return{promise:s,status:()=>s.status,cancel:o,continue:()=>(n==null||n(),s),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?m():x().then(m),s)}}var Ia,$w,jj=($w=class{constructor(){Ue(this,Ia)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),mT(this.gcTime)&&Re(this,Ia,up.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(bf?1/0:5*60*1e3))}clearGcTimeout(){ae(this,Ia)&&(up.clearTimeout(ae(this,Ia)),Re(this,Ia,void 0))}},Ia=new WeakMap,$w),La,Vi,Wr,Fa,Ht,uc,Wa,cn,as,Iw,CT=(Iw=class extends jj{constructor(t){super();Ue(this,cn);Ue(this,La);Ue(this,Vi);Ue(this,Wr);Ue(this,Fa);Ue(this,Ht);Ue(this,uc);Ue(this,Wa);Re(this,Wa,!1),Re(this,uc,t.defaultOptions),this.setOptions(t.options),this.observers=[],Re(this,Fa,t.client),Re(this,Wr,ae(this,Fa).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Re(this,La,Y0(this.options)),this.state=t.state??ae(this,La),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=ae(this,Ht))==null?void 0:t.promise}setOptions(t){if(this.options={...ae(this,uc),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=Y0(this.options);r.data!==void 0&&(this.setData(r.data,{updatedAt:r.dataUpdatedAt,manual:!0}),Re(this,La,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ae(this,Wr).remove(this)}setData(t,r){const n=xT(this.state.data,t,this.options);return Xt(this,cn,as).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){Xt(this,cn,as).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,s;const r=(n=ae(this,Ht))==null?void 0:n.promise;return(s=ae(this,Ht))==null||s.cancel(t),r?r.then(ln).catch(ln):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ae(this,La))}isActive(){return this.observers.some(t=>gT(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===ny||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>dp(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!pT(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=ae(this,Ht))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=ae(this,Ht))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),ae(this,Wr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(ae(this,Ht)&&(ae(this,Wa)?ae(this,Ht).cancel({revert:!0}):ae(this,Ht).cancelRetry()),this.scheduleGc()),ae(this,Wr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Xt(this,cn,as).call(this,{type:"invalidate"})}async fetch(t,r){var c,u,d,f,h,x,m,p,w,y,g,v;if(this.state.fetchStatus!=="idle"&&((c=ae(this,Ht))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(ae(this,Ht))return ae(this,Ht).continueRetry(),ae(this,Ht).promise}if(t&&this.setOptions(t),!this.options.queryFn){const b=this.observers.find(S=>S.options.queryFn);b&&this.setOptions(b.options)}const n=new AbortController,s=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(Re(this,Wa,!0),n.signal)})},a=()=>{const b=xj(this.options,r),j=(()=>{const _={client:ae(this,Fa),queryKey:this.queryKey,meta:this.meta};return s(_),_})();return Re(this,Wa,!1),this.options.persister?this.options.persister(b,j,this):b(j)},l=(()=>{const b={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:ae(this,Fa),state:this.state,fetchFn:a};return s(b),b})();(u=this.options.behavior)==null||u.onFetch(l,this),Re(this,Vi,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&Xt(this,cn,as).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta}),Re(this,Ht,Nj({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,onCancel:b=>{b instanceof hp&&b.revert&&this.setState({...ae(this,Vi),fetchStatus:"idle"}),n.abort()},onFail:(b,S)=>{Xt(this,cn,as).call(this,{type:"failed",failureCount:b,error:S})},onPause:()=>{Xt(this,cn,as).call(this,{type:"pause"})},onContinue:()=>{Xt(this,cn,as).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const b=await ae(this,Ht).start();if(b===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(b),(x=(h=ae(this,Wr).config).onSuccess)==null||x.call(h,b,this),(p=(m=ae(this,Wr).config).onSettled)==null||p.call(m,b,this.state.error,this),b}catch(b){if(b instanceof hp){if(b.silent)return ae(this,Ht).promise;if(b.revert){if(this.state.data===void 0)throw b;return this.state.data}}throw Xt(this,cn,as).call(this,{type:"error",error:b}),(y=(w=ae(this,Wr).config).onError)==null||y.call(w,b,this),(v=(g=ae(this,Wr).config).onSettled)==null||v.call(g,this.state.data,b,this),b}finally{this.scheduleGc()}}},La=new WeakMap,Vi=new WeakMap,Wr=new WeakMap,Fa=new WeakMap,Ht=new WeakMap,uc=new WeakMap,Wa=new WeakMap,cn=new WeakSet,as=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...ET(n.data,this.options),fetchMeta:t.meta??null};case"success":const s={...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Re(this,Vi,t.manual?s:void 0),s;case"error":const a=t.error;return{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),fr.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),ae(this,Wr).notify({query:this,type:"updated",action:t})})},Iw);function ET(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:wj(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Y0(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}function q0(e){return{onFetch:(t,r)=>{var d,f,h,x,m;const n=t.options,s=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,a=((x=t.state.data)==null?void 0:x.pages)||[],o=((m=t.state.data)==null?void 0:m.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let p=!1;const w=v=>{Object.defineProperty(v,"signal",{enumerable:!0,get:()=>(t.signal.aborted?p=!0:t.signal.addEventListener("abort",()=>{p=!0}),t.signal)})},y=xj(t.options,t.fetchOptions),g=async(v,b,S)=>{if(p)return Promise.reject();if(b==null&&v.pages.length)return Promise.resolve(v);const _=(()=>{const Y={client:t.client,queryKey:t.queryKey,pageParam:b,direction:S?"backward":"forward",meta:t.options.meta};return w(Y),Y})(),T=await y(_),{maxPages:$}=t.options,R=S?wT:bT;return{pages:R(v.pages,T,$),pageParams:R(v.pageParams,b,$)}};if(s&&a.length){const v=s==="backward",b=v?TT:K0,S={pages:a,pageParams:o},j=b(n,S);l=await g(S,j,v)}else{const v=e??a.length;do{const b=c===0?o[0]??n.initialPageParam:K0(n,l);if(c>0&&b==null)break;l=await g(l,b),c++}while(c<v)}return l};t.options.persister?t.fetchFn=()=>{var p,w;return(w=(p=t.options).persister)==null?void 0:w.call(p,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function K0(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function TT(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var dc,Mn,cr,Ua,Rn,Rs,Lw,PT=(Lw=class extends jj{constructor(t){super();Ue(this,Rn);Ue(this,dc);Ue(this,Mn);Ue(this,cr);Ue(this,Ua);Re(this,dc,t.client),this.mutationId=t.mutationId,Re(this,cr,t.mutationCache),Re(this,Mn,[]),this.state=t.state||AT(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){ae(this,Mn).includes(t)||(ae(this,Mn).push(t),this.clearGcTimeout(),ae(this,cr).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Re(this,Mn,ae(this,Mn).filter(r=>r!==t)),this.scheduleGc(),ae(this,cr).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){ae(this,Mn).length||(this.state.status==="pending"?this.scheduleGc():ae(this,cr).remove(this))}continue(){var t;return((t=ae(this,Ua))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,l,c,u,d,f,h,x,m,p,w,y,g,v,b,S,j,_,T,$;const r=()=>{Xt(this,Rn,Rs).call(this,{type:"continue"})},n={client:ae(this,dc),meta:this.options.meta,mutationKey:this.options.mutationKey};Re(this,Ua,Nj({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(R,Y)=>{Xt(this,Rn,Rs).call(this,{type:"failed",failureCount:R,error:Y})},onPause:()=>{Xt(this,Rn,Rs).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ae(this,cr).canRun(this)}));const s=this.state.status==="pending",a=!ae(this,Ua).canStart();try{if(s)r();else{Xt(this,Rn,Rs).call(this,{type:"pending",variables:t,isPaused:a}),await((l=(o=ae(this,cr).config).onMutate)==null?void 0:l.call(o,t,this,n));const Y=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,t,n));Y!==this.state.context&&Xt(this,Rn,Rs).call(this,{type:"pending",context:Y,variables:t,isPaused:a})}const R=await ae(this,Ua).start();return await((f=(d=ae(this,cr).config).onSuccess)==null?void 0:f.call(d,R,t,this.state.context,this,n)),await((x=(h=this.options).onSuccess)==null?void 0:x.call(h,R,t,this.state.context,n)),await((p=(m=ae(this,cr).config).onSettled)==null?void 0:p.call(m,R,null,this.state.variables,this.state.context,this,n)),await((y=(w=this.options).onSettled)==null?void 0:y.call(w,R,null,t,this.state.context,n)),Xt(this,Rn,Rs).call(this,{type:"success",data:R}),R}catch(R){try{throw await((v=(g=ae(this,cr).config).onError)==null?void 0:v.call(g,R,t,this.state.context,this,n)),await((S=(b=this.options).onError)==null?void 0:S.call(b,R,t,this.state.context,n)),await((_=(j=ae(this,cr).config).onSettled)==null?void 0:_.call(j,void 0,R,this.state.variables,this.state.context,this,n)),await(($=(T=this.options).onSettled)==null?void 0:$.call(T,void 0,R,t,this.state.context,n)),R}finally{Xt(this,Rn,Rs).call(this,{type:"error",error:R})}}finally{ae(this,cr).runNext(this)}}},dc=new WeakMap,Mn=new WeakMap,cr=new WeakMap,Ua=new WeakMap,Rn=new WeakSet,Rs=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),fr.batch(()=>{ae(this,Mn).forEach(n=>{n.onMutationUpdate(t)}),ae(this,cr).notify({mutation:this,type:"updated",action:t})})},Lw);function AT(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var cs,un,fc,Fw,OT=(Fw=class extends xf{constructor(t={}){super();Ue(this,cs);Ue(this,un);Ue(this,fc);this.config=t,Re(this,cs,new Set),Re(this,un,new Map),Re(this,fc,0)}build(t,r,n){const s=new PT({client:t,mutationCache:this,mutationId:++zc(this,fc)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){ae(this,cs).add(t);const r=cu(t);if(typeof r=="string"){const n=ae(this,un).get(r);n?n.push(t):ae(this,un).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(ae(this,cs).delete(t)){const r=cu(t);if(typeof r=="string"){const n=ae(this,un).get(r);if(n)if(n.length>1){const s=n.indexOf(t);s!==-1&&n.splice(s,1)}else n[0]===t&&ae(this,un).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=cu(t);if(typeof r=="string"){const n=ae(this,un).get(r),s=n==null?void 0:n.find(a=>a.state.status==="pending");return!s||s===t}else return!0}runNext(t){var n;const r=cu(t);if(typeof r=="string"){const s=(n=ae(this,un).get(r))==null?void 0:n.find(a=>a!==t&&a.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){fr.batch(()=>{ae(this,cs).forEach(t=>{this.notify({type:"removed",mutation:t})}),ae(this,cs).clear(),ae(this,un).clear()})}getAll(){return Array.from(ae(this,cs))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>H0(r,n))}findAll(t={}){return this.getAll().filter(r=>H0(t,r))}notify(t){fr.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return fr.batch(()=>Promise.all(t.map(r=>r.continue().catch(ln))))}},cs=new WeakMap,un=new WeakMap,fc=new WeakMap,Fw);function cu(e){var t;return(t=e.options.scope)==null?void 0:t.id}var $n,Ww,MT=(Ww=class extends xf{constructor(t={}){super();Ue(this,$n);this.config=t,Re(this,$n,new Map)}build(t,r,n){const s=r.queryKey,a=r.queryHash??ry(s,r);let o=this.get(a);return o||(o=new CT({client:t,queryKey:s,queryHash:a,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){ae(this,$n).has(t.queryHash)||(ae(this,$n).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=ae(this,$n).get(t.queryHash);r&&(t.destroy(),r===t&&ae(this,$n).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){fr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return ae(this,$n).get(t)}getAll(){return[...ae(this,$n).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>B0(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>B0(t,n)):r}notify(t){fr.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){fr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){fr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},$n=new WeakMap,Ww),St,qs,Ks,Yi,qi,Gs,Ki,Gi,Uw,RT=(Uw=class{constructor(e={}){Ue(this,St);Ue(this,qs);Ue(this,Ks);Ue(this,Yi);Ue(this,qi);Ue(this,Gs);Ue(this,Ki);Ue(this,Gi);Re(this,St,e.queryCache||new MT),Re(this,qs,e.mutationCache||new OT),Re(this,Ks,e.defaultOptions||{}),Re(this,Yi,new Map),Re(this,qi,new Map),Re(this,Gs,0)}mount(){zc(this,Gs)._++,ae(this,Gs)===1&&(Re(this,Ki,bj.subscribe(async e=>{e&&(await this.resumePausedMutations(),ae(this,St).onFocus())})),Re(this,Gi,Cd.subscribe(async e=>{e&&(await this.resumePausedMutations(),ae(this,St).onOnline())})))}unmount(){var e,t;zc(this,Gs)._--,ae(this,Gs)===0&&((e=ae(this,Ki))==null||e.call(this),Re(this,Ki,void 0),(t=ae(this,Gi))==null||t.call(this),Re(this,Gi,void 0))}isFetching(e){return ae(this,St).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return ae(this,qs).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=ae(this,St).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=ae(this,St).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(dp(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return ae(this,St).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=ae(this,St).get(n.queryHash),a=s==null?void 0:s.state.data,o=hT(t,a);if(o!==void 0)return ae(this,St).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return fr.batch(()=>ae(this,St).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=ae(this,St).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=ae(this,St);fr.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=ae(this,St);return fr.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=fr.batch(()=>ae(this,St).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(ln).catch(ln)}invalidateQueries(e,t={}){return fr.batch(()=>(ae(this,St).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=fr.batch(()=>ae(this,St).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let a=s.fetch(void 0,r);return r.throwOnError||(a=a.catch(ln)),s.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(n).then(ln)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=ae(this,St).build(this,t);return r.isStaleByTime(dp(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(ln).catch(ln)}fetchInfiniteQuery(e){return e.behavior=q0(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(ln).catch(ln)}ensureInfiniteQueryData(e){return e.behavior=q0(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Cd.isOnline()?ae(this,qs).resumePausedMutations():Promise.resolve()}getQueryCache(){return ae(this,St)}getMutationCache(){return ae(this,qs)}getDefaultOptions(){return ae(this,Ks)}setDefaultOptions(e){Re(this,Ks,e)}setQueryDefaults(e,t){ae(this,Yi).set(Bl(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...ae(this,Yi).values()],r={};return t.forEach(n=>{Hl(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){ae(this,qi).set(Bl(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...ae(this,qi).values()],r={};return t.forEach(n=>{Hl(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...ae(this,Ks).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=ry(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===ny&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...ae(this,Ks).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){ae(this,St).clear(),ae(this,qs).clear()}},St=new WeakMap,qs=new WeakMap,Ks=new WeakMap,Yi=new WeakMap,qi=new WeakMap,Gs=new WeakMap,Ki=new WeakMap,Gi=new WeakMap,Uw),$T=N.createContext(void 0),IT=({client:e,children:t})=>(N.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),i.jsx($T.Provider,{value:e,children:t}));let LT={data:""},FT=e=>{if(typeof window=="object"){let t=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(e||document.head).appendChild(t),t.firstChild}return e||LT},WT=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,UT=/\/\*[^]*?\*\/|  +/g,G0=/\n+/g,Bs=(e,t)=>{let r="",n="",s="";for(let a in e){let o=e[a];a[0]=="@"?a[1]=="i"?r=a+" "+o+";":n+=a[1]=="f"?Bs(o,a):a+"{"+Bs(o,a[1]=="k"?"":t)+"}":typeof o=="object"?n+=Bs(o,t?t.replace(/([^,])+/g,l=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):a):o!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=Bs.p?Bs.p(a,o):a+":"+o+";")}return r+(t&&s?t+"{"+s+"}":s)+n},ts={},Sj=e=>{if(typeof e=="object"){let t="";for(let r in e)t+=r+Sj(e[r]);return t}return e},BT=(e,t,r,n,s)=>{let a=Sj(e),o=ts[a]||(ts[a]=(c=>{let u=0,d=11;for(;u<c.length;)d=101*d+c.charCodeAt(u++)>>>0;return"go"+d})(a));if(!ts[o]){let c=a!==e?e:(u=>{let d,f,h=[{}];for(;d=WT.exec(u.replace(UT,""));)d[4]?h.shift():d[3]?(f=d[3].replace(G0," ").trim(),h.unshift(h[0][f]=h[0][f]||{})):h[0][d[1]]=d[2].replace(G0," ").trim();return h[0]})(e);ts[o]=Bs(s?{["@keyframes "+o]:c}:c,r?"":"."+o)}let l=r&&ts.g?ts.g:null;return r&&(ts.g=ts[o]),((c,u,d,f)=>{f?u.data=u.data.replace(f,c):u.data.indexOf(c)===-1&&(u.data=d?c+u.data:u.data+c)})(ts[o],t,n,l),o},HT=(e,t,r)=>e.reduce((n,s,a)=>{let o=t[a];if(o&&o.call){let l=o(r),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;o=c?"."+c:l&&typeof l=="object"?l.props?"":Bs(l,""):l===!1?"":l}return n+s+(o??"")},"");function wf(e){let t=this||{},r=e.call?e(t.p):e;return BT(r.unshift?r.raw?HT(r,[].slice.call(arguments,1),t.p):r.reduce((n,s)=>Object.assign(n,s&&s.call?s(t.p):s),{}):r,FT(t.target),t.g,t.o,t.k)}let kj,mp,pp;wf.bind({g:1});let Ss=wf.bind({k:1});function zT(e,t,r,n){Bs.p=t,kj=e,mp=r,pp=n}function xa(e,t){let r=this||{};return function(){let n=arguments;function s(a,o){let l=Object.assign({},a),c=l.className||s.className;r.p=Object.assign({theme:mp&&mp()},l),r.o=/ *go\d+/.test(c),l.className=wf.apply(r,n)+(c?" "+c:"");let u=e;return e[0]&&(u=l.as||e,delete l.as),pp&&u[0]&&pp(l),kj(u,l)}return s}}var VT=e=>typeof e=="function",Ed=(e,t)=>VT(e)?e(t):e,YT=(()=>{let e=0;return()=>(++e).toString()})(),Dj=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),qT=20,sy="default",_j=(e,t)=>{let{toastLimit:r}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,r)};case 1:return{...e,toasts:e.toasts.map(o=>o.id===t.toast.id?{...o,...t.toast}:o)};case 2:let{toast:n}=t;return _j(e,{type:e.toasts.find(o=>o.id===n.id)?1:0,toast:n});case 3:let{toastId:s}=t;return{...e,toasts:e.toasts.map(o=>o.id===s||s===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(o=>o.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let a=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+a}))}}},Fu=[],Cj={toasts:[],pausedAt:void 0,settings:{toastLimit:qT}},Bn={},Ej=(e,t=sy)=>{Bn[t]=_j(Bn[t]||Cj,e),Fu.forEach(([r,n])=>{r===t&&n(Bn[t])})},Tj=e=>Object.keys(Bn).forEach(t=>Ej(e,t)),KT=e=>Object.keys(Bn).find(t=>Bn[t].toasts.some(r=>r.id===e)),Nf=(e=sy)=>t=>{Ej(t,e)},GT={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},QT=(e={},t=sy)=>{let[r,n]=N.useState(Bn[t]||Cj),s=N.useRef(Bn[t]);N.useEffect(()=>(s.current!==Bn[t]&&n(Bn[t]),Fu.push([t,n]),()=>{let o=Fu.findIndex(([l])=>l===t);o>-1&&Fu.splice(o,1)}),[t]);let a=r.toasts.map(o=>{var l,c,u;return{...e,...e[o.type],...o,removeDelay:o.removeDelay||((l=e[o.type])==null?void 0:l.removeDelay)||(e==null?void 0:e.removeDelay),duration:o.duration||((c=e[o.type])==null?void 0:c.duration)||(e==null?void 0:e.duration)||GT[o.type],style:{...e.style,...(u=e[o.type])==null?void 0:u.style,...o.style}}});return{...r,toasts:a}},XT=(e,t="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...r,id:(r==null?void 0:r.id)||YT()}),bc=e=>(t,r)=>{let n=XT(t,e,r);return Nf(n.toasterId||KT(n.id))({type:2,toast:n}),n.id},It=(e,t)=>bc("blank")(e,t);It.error=bc("error");It.success=bc("success");It.loading=bc("loading");It.custom=bc("custom");It.dismiss=(e,t)=>{let r={type:3,toastId:e};t?Nf(t)(r):Tj(r)};It.dismissAll=e=>It.dismiss(void 0,e);It.remove=(e,t)=>{let r={type:4,toastId:e};t?Nf(t)(r):Tj(r)};It.removeAll=e=>It.remove(void 0,e);It.promise=(e,t,r)=>{let n=It.loading(t.loading,{...r,...r==null?void 0:r.loading});return typeof e=="function"&&(e=e()),e.then(s=>{let a=t.success?Ed(t.success,s):void 0;return a?It.success(a,{id:n,...r,...r==null?void 0:r.success}):It.dismiss(n),s}).catch(s=>{let a=t.error?Ed(t.error,s):void 0;a?It.error(a,{id:n,...r,...r==null?void 0:r.error}):It.dismiss(n)}),e};var JT=1e3,ZT=(e,t="default")=>{let{toasts:r,pausedAt:n}=QT(e,t),s=N.useRef(new Map).current,a=N.useCallback((f,h=JT)=>{if(s.has(f))return;let x=setTimeout(()=>{s.delete(f),o({type:4,toastId:f})},h);s.set(f,x)},[]);N.useEffect(()=>{if(n)return;let f=Date.now(),h=r.map(x=>{if(x.duration===1/0)return;let m=(x.duration||0)+x.pauseDuration-(f-x.createdAt);if(m<0){x.visible&&It.dismiss(x.id);return}return setTimeout(()=>It.dismiss(x.id,t),m)});return()=>{h.forEach(x=>x&&clearTimeout(x))}},[r,n,t]);let o=N.useCallback(Nf(t),[t]),l=N.useCallback(()=>{o({type:5,time:Date.now()})},[o]),c=N.useCallback((f,h)=>{o({type:1,toast:{id:f,height:h}})},[o]),u=N.useCallback(()=>{n&&o({type:6,time:Date.now()})},[n,o]),d=N.useCallback((f,h)=>{let{reverseOrder:x=!1,gutter:m=8,defaultPosition:p}=h||{},w=r.filter(v=>(v.position||p)===(f.position||p)&&v.height),y=w.findIndex(v=>v.id===f.id),g=w.filter((v,b)=>b<y&&v.visible).length;return w.filter(v=>v.visible).slice(...x?[g+1]:[0,g]).reduce((v,b)=>v+(b.height||0)+m,0)},[r]);return N.useEffect(()=>{r.forEach(f=>{if(f.dismissed)a(f.id,f.removeDelay);else{let h=s.get(f.id);h&&(clearTimeout(h),s.delete(f.id))}})},[r,a]),{toasts:r,handlers:{updateHeight:c,startPause:l,endPause:u,calculateOffset:d}}},eP=Ss`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,tP=Ss`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,rP=Ss`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,nP=xa("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${eP} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${tP} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${rP} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,sP=Ss`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,aP=xa("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${sP} 1s linear infinite;
`,iP=Ss`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,oP=Ss`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,lP=xa("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${iP} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${oP} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,cP=xa("div")`
  position: absolute;
`,uP=xa("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,dP=Ss`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,fP=xa("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${dP} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,hP=({toast:e})=>{let{icon:t,type:r,iconTheme:n}=e;return t!==void 0?typeof t=="string"?N.createElement(fP,null,t):t:r==="blank"?null:N.createElement(uP,null,N.createElement(aP,{...n}),r!=="loading"&&N.createElement(cP,null,r==="error"?N.createElement(nP,{...n}):N.createElement(lP,{...n})))},mP=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,pP=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,gP="0%{opacity:0;} 100%{opacity:1;}",yP="0%{opacity:1;} 100%{opacity:0;}",vP=xa("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,xP=xa("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,bP=(e,t)=>{let r=e.includes("top")?1:-1,[n,s]=Dj()?[gP,yP]:[mP(r),pP(r)];return{animation:t?`${Ss(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Ss(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},wP=N.memo(({toast:e,position:t,style:r,children:n})=>{let s=e.height?bP(e.position||t||"top-center",e.visible):{opacity:0},a=N.createElement(hP,{toast:e}),o=N.createElement(xP,{...e.ariaProps},Ed(e.message,e));return N.createElement(vP,{className:e.className,style:{...s,...r,...e.style}},typeof n=="function"?n({icon:a,message:o}):N.createElement(N.Fragment,null,a,o))});zT(N.createElement);var NP=({id:e,className:t,style:r,onHeightUpdate:n,children:s})=>{let a=N.useCallback(o=>{if(o){let l=()=>{let c=o.getBoundingClientRect().height;n(e,c)};l(),new MutationObserver(l).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[e,n]);return N.createElement("div",{ref:a,className:t,style:r},s)},jP=(e,t)=>{let r=e.includes("top"),n=r?{top:0}:{bottom:0},s=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Dj()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(r?1:-1)}px)`,...n,...s}},SP=wf`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,uu=16,kP=({reverseOrder:e,position:t="top-center",toastOptions:r,gutter:n,children:s,toasterId:a,containerStyle:o,containerClassName:l})=>{let{toasts:c,handlers:u}=ZT(r,a);return N.createElement("div",{"data-rht-toaster":a||"",style:{position:"fixed",zIndex:9999,top:uu,left:uu,right:uu,bottom:uu,pointerEvents:"none",...o},className:l,onMouseEnter:u.startPause,onMouseLeave:u.endPause},c.map(d=>{let f=d.position||t,h=u.calculateOffset(d,{reverseOrder:e,gutter:n,defaultPosition:t}),x=jP(f,h);return N.createElement(NP,{id:d.id,key:d.id,onHeightUpdate:u.updateHeight,className:d.visible?SP:"",style:x},d.type==="custom"?Ed(d.message,d):s?s(d):N.createElement(wP,{toast:d,position:f}))}))},Z=It;const Kn=Object.create(null);Kn.open="0";Kn.close="1";Kn.ping="2";Kn.pong="3";Kn.message="4";Kn.upgrade="5";Kn.noop="6";const Wu=Object.create(null);Object.keys(Kn).forEach(e=>{Wu[Kn[e]]=e});const gp={type:"error",data:"parser error"},Pj=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Aj=typeof ArrayBuffer=="function",Oj=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,ay=({type:e,data:t},r,n)=>Pj&&t instanceof Blob?r?n(t):Q0(t,n):Aj&&(t instanceof ArrayBuffer||Oj(t))?r?n(t):Q0(new Blob([t]),n):n(Kn[e]+(t||"")),Q0=(e,t)=>{const r=new FileReader;return r.onload=function(){const n=r.result.split(",")[1];t("b"+(n||""))},r.readAsDataURL(e)};function X0(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let Wh;function DP(e,t){if(Pj&&e.data instanceof Blob)return e.data.arrayBuffer().then(X0).then(t);if(Aj&&(e.data instanceof ArrayBuffer||Oj(e.data)))return t(X0(e.data));ay(e,!1,r=>{Wh||(Wh=new TextEncoder),t(Wh.encode(r))})}const J0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",al=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<J0.length;e++)al[J0.charCodeAt(e)]=e;const _P=e=>{let t=e.length*.75,r=e.length,n,s=0,a,o,l,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const u=new ArrayBuffer(t),d=new Uint8Array(u);for(n=0;n<r;n+=4)a=al[e.charCodeAt(n)],o=al[e.charCodeAt(n+1)],l=al[e.charCodeAt(n+2)],c=al[e.charCodeAt(n+3)],d[s++]=a<<2|o>>4,d[s++]=(o&15)<<4|l>>2,d[s++]=(l&3)<<6|c&63;return u},CP=typeof ArrayBuffer=="function",iy=(e,t)=>{if(typeof e!="string")return{type:"message",data:Mj(e,t)};const r=e.charAt(0);return r==="b"?{type:"message",data:EP(e.substring(1),t)}:Wu[r]?e.length>1?{type:Wu[r],data:e.substring(1)}:{type:Wu[r]}:gp},EP=(e,t)=>{if(CP){const r=_P(e);return Mj(r,t)}else return{base64:!0,data:e}},Mj=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},Rj="",TP=(e,t)=>{const r=e.length,n=new Array(r);let s=0;e.forEach((a,o)=>{ay(a,!1,l=>{n[o]=l,++s===r&&t(n.join(Rj))})})},PP=(e,t)=>{const r=e.split(Rj),n=[];for(let s=0;s<r.length;s++){const a=iy(r[s],t);if(n.push(a),a.type==="error")break}return n};function AP(){return new TransformStream({transform(e,t){DP(e,r=>{const n=r.length;let s;if(n<126)s=new Uint8Array(1),new DataView(s.buffer).setUint8(0,n);else if(n<65536){s=new Uint8Array(3);const a=new DataView(s.buffer);a.setUint8(0,126),a.setUint16(1,n)}else{s=new Uint8Array(9);const a=new DataView(s.buffer);a.setUint8(0,127),a.setBigUint64(1,BigInt(n))}e.data&&typeof e.data!="string"&&(s[0]|=128),t.enqueue(s),t.enqueue(r)})}})}let Uh;function du(e){return e.reduce((t,r)=>t+r.length,0)}function fu(e,t){if(e[0].length===t)return e.shift();const r=new Uint8Array(t);let n=0;for(let s=0;s<t;s++)r[s]=e[0][n++],n===e[0].length&&(e.shift(),n=0);return e.length&&n<e[0].length&&(e[0]=e[0].slice(n)),r}function OP(e,t){Uh||(Uh=new TextDecoder);const r=[];let n=0,s=-1,a=!1;return new TransformStream({transform(o,l){for(r.push(o);;){if(n===0){if(du(r)<1)break;const c=fu(r,1);a=(c[0]&128)===128,s=c[0]&127,s<126?n=3:s===126?n=1:n=2}else if(n===1){if(du(r)<2)break;const c=fu(r,2);s=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),n=3}else if(n===2){if(du(r)<8)break;const c=fu(r,8),u=new DataView(c.buffer,c.byteOffset,c.length),d=u.getUint32(0);if(d>Math.pow(2,21)-1){l.enqueue(gp);break}s=d*Math.pow(2,32)+u.getUint32(4),n=3}else{if(du(r)<s)break;const c=fu(r,s);l.enqueue(iy(a?c:Uh.decode(c),t)),n=0}if(s===0||s>e){l.enqueue(gp);break}}}})}const $j=4;function Mt(e){if(e)return MP(e)}function MP(e){for(var t in Mt.prototype)e[t]=Mt.prototype[t];return e}Mt.prototype.on=Mt.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};Mt.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return r.fn=t,this.on(e,r),this};Mt.prototype.off=Mt.prototype.removeListener=Mt.prototype.removeAllListeners=Mt.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+e];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var n,s=0;s<r.length;s++)if(n=r[s],n===t||n.fn===t){r.splice(s,1);break}return r.length===0&&delete this._callbacks["$"+e],this};Mt.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),r=this._callbacks["$"+e],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(r){r=r.slice(0);for(var n=0,s=r.length;n<s;++n)r[n].apply(this,t)}return this};Mt.prototype.emitReserved=Mt.prototype.emit;Mt.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};Mt.prototype.hasListeners=function(e){return!!this.listeners(e).length};const jf=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,r)=>r(t,0),zr=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),RP="arraybuffer";function Ij(e,...t){return t.reduce((r,n)=>(e.hasOwnProperty(n)&&(r[n]=e[n]),r),{})}const $P=zr.setTimeout,IP=zr.clearTimeout;function Sf(e,t){t.useNativeTimers?(e.setTimeoutFn=$P.bind(zr),e.clearTimeoutFn=IP.bind(zr)):(e.setTimeoutFn=zr.setTimeout.bind(zr),e.clearTimeoutFn=zr.clearTimeout.bind(zr))}const LP=1.33;function FP(e){return typeof e=="string"?WP(e):Math.ceil((e.byteLength||e.size)*LP)}function WP(e){let t=0,r=0;for(let n=0,s=e.length;n<s;n++)t=e.charCodeAt(n),t<128?r+=1:t<2048?r+=2:t<55296||t>=57344?r+=3:(n++,r+=4);return r}function Lj(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function UP(e){let t="";for(let r in e)e.hasOwnProperty(r)&&(t.length&&(t+="&"),t+=encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t}function BP(e){let t={},r=e.split("&");for(let n=0,s=r.length;n<s;n++){let a=r[n].split("=");t[decodeURIComponent(a[0])]=decodeURIComponent(a[1])}return t}class HP extends Error{constructor(t,r,n){super(t),this.description=r,this.context=n,this.type="TransportError"}}class oy extends Mt{constructor(t){super(),this.writable=!1,Sf(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,r,n){return super.emitReserved("error",new HP(t,r,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const r=iy(t,this.socket.binaryType);this.onPacket(r)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,r={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(r)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const r=UP(t);return r.length?"?"+r:""}}class zP extends oy{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const r=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let n=0;this._polling&&(n++,this.once("pollComplete",function(){--n||r()})),this.writable||(n++,this.once("drain",function(){--n||r()}))}else r()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const r=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};PP(t,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,TP(t,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",r=this.query||{};return this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=Lj()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.createUri(t,r)}}let Fj=!1;try{Fj=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const VP=Fj;function YP(){}class qP extends zP{constructor(t){if(super(t),typeof location<"u"){const r=location.protocol==="https:";let n=location.port;n||(n=r?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||n!==t.port}}doWrite(t,r){const n=this.request({method:"POST",data:t});n.on("success",r),n.on("error",(s,a)=>{this.onError("xhr post error",s,a)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(r,n)=>{this.onError("xhr poll error",r,n)}),this.pollXhr=t}}class Vn extends Mt{constructor(t,r,n){super(),this.createRequest=t,Sf(this,n),this._opts=n,this._method=n.method||"GET",this._uri=r,this._data=n.data!==void 0?n.data:null,this._create()}_create(){var t;const r=Ij(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(r);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let s in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(s)&&n.setRequestHeader(s,this._opts.extraHeaders[s])}}catch{}if(this._method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var s;n.readyState===3&&((s=this._opts.cookieJar)===null||s===void 0||s.parseCookies(n.getResponseHeader("set-cookie"))),n.readyState===4&&(n.status===200||n.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof n.status=="number"?n.status:0)},0))},n.send(this._data)}catch(s){this.setTimeoutFn(()=>{this._onError(s)},0);return}typeof document<"u"&&(this._index=Vn.requestsCount++,Vn.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=YP,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Vn.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}Vn.requestsCount=0;Vn.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Z0);else if(typeof addEventListener=="function"){const e="onpagehide"in zr?"pagehide":"unload";addEventListener(e,Z0,!1)}}function Z0(){for(let e in Vn.requests)Vn.requests.hasOwnProperty(e)&&Vn.requests[e].abort()}const KP=function(){const e=Wj({xdomain:!1});return e&&e.responseType!==null}();class GP extends qP{constructor(t){super(t);const r=t&&t.forceBase64;this.supportsBinary=KP&&!r}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new Vn(Wj,this.uri(),t)}}function Wj(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||VP))return new XMLHttpRequest}catch{}if(!t)try{return new zr[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const Uj=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class QP extends oy{get name(){return"websocket"}doOpen(){const t=this.uri(),r=this.opts.protocols,n=Uj?{}:Ij(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,r,n)}catch(s){return this.emitReserved("error",s)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const n=t[r],s=r===t.length-1;ay(n,this.supportsBinary,a=>{try{this.doWrite(n,a)}catch{}s&&jf(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",r=this.query||{};return this.opts.timestampRequests&&(r[this.opts.timestampParam]=Lj()),this.supportsBinary||(r.b64=1),this.createUri(t,r)}}const Bh=zr.WebSocket||zr.MozWebSocket;class XP extends QP{createSocket(t,r,n){return Uj?new Bh(t,r,n):r?new Bh(t,r):new Bh(t)}doWrite(t,r){this.ws.send(r)}}class JP extends oy{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const r=OP(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=t.readable.pipeThrough(r).getReader(),s=AP();s.readable.pipeTo(t.writable),this._writer=s.writable.getWriter();const a=()=>{n.read().then(({done:l,value:c})=>{l||(this.onPacket(c),a())}).catch(l=>{})};a();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const n=t[r],s=r===t.length-1;this._writer.write(n).then(()=>{s&&jf(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const ZP={websocket:XP,webtransport:JP,polling:GP},eA=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,tA=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function yp(e){if(e.length>8e3)throw"URI too long";const t=e,r=e.indexOf("["),n=e.indexOf("]");r!=-1&&n!=-1&&(e=e.substring(0,r)+e.substring(r,n).replace(/:/g,";")+e.substring(n,e.length));let s=eA.exec(e||""),a={},o=14;for(;o--;)a[tA[o]]=s[o]||"";return r!=-1&&n!=-1&&(a.source=t,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a.pathNames=rA(a,a.path),a.queryKey=nA(a,a.query),a}function rA(e,t){const r=/\/{2,9}/g,n=t.replace(r,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&n.splice(0,1),t.slice(-1)=="/"&&n.splice(n.length-1,1),n}function nA(e,t){const r={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,s,a){s&&(r[s]=a)}),r}const vp=typeof addEventListener=="function"&&typeof removeEventListener=="function",Uu=[];vp&&addEventListener("offline",()=>{Uu.forEach(e=>e())},!1);class ca extends Mt{constructor(t,r){if(super(),this.binaryType=RP,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(r=t,t=null),t){const n=yp(t);r.hostname=n.host,r.secure=n.protocol==="https"||n.protocol==="wss",r.port=n.port,n.query&&(r.query=n.query)}else r.host&&(r.hostname=yp(r.host).host);Sf(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(n=>{const s=n.prototype.name;this.transports.push(s),this._transportsByName[s]=n}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=BP(this.opts.query)),vp&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Uu.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const r=Object.assign({},this.opts.query);r.EIO=$j,r.transport=t,this.id&&(r.sid=this.id);const n=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](n)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&ca.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const r=this.createTransport(t);r.open(),this.setTransport(r)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",ca.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const r=new Error("server error");r.code=t.data,this._onError(r);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let n=0;n<this.writeBuffer.length;n++){const s=this.writeBuffer[n].data;if(s&&(r+=FP(s)),n>0&&r>this._maxPayload)return this.writeBuffer.slice(0,n);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,jf(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,r,n){return this._sendPacket("message",t,r,n),this}send(t,r,n){return this._sendPacket("message",t,r,n),this}_sendPacket(t,r,n,s){if(typeof r=="function"&&(s=r,r=void 0),typeof n=="function"&&(s=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const a={type:t,data:r,options:n};this.emitReserved("packetCreate",a),this.writeBuffer.push(a),s&&this.once("flush",s),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),t()},n=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():t()}):this.upgrading?n():t()),this}_onError(t){if(ca.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),vp&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const n=Uu.indexOf(this._offlineEventListener);n!==-1&&Uu.splice(n,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,r),this.writeBuffer=[],this._prevBufferLen=0}}}ca.protocol=$j;class sA extends ca{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let r=this.createTransport(t),n=!1;ca.priorWebsocketSuccess=!1;const s=()=>{n||(r.send([{type:"ping",data:"probe"}]),r.once("packet",f=>{if(!n)if(f.type==="pong"&&f.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;ca.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(d(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const h=new Error("probe error");h.transport=r.name,this.emitReserved("upgradeError",h)}}))};function a(){n||(n=!0,d(),r.close(),r=null)}const o=f=>{const h=new Error("probe error: "+f);h.transport=r.name,a(),this.emitReserved("upgradeError",h)};function l(){o("transport closed")}function c(){o("socket closed")}function u(f){r&&f.name!==r.name&&a()}const d=()=>{r.removeListener("open",s),r.removeListener("error",o),r.removeListener("close",l),this.off("close",c),this.off("upgrading",u)};r.once("open",s),r.once("error",o),r.once("close",l),this.once("close",c),this.once("upgrading",u),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{n||r.open()},200):r.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const r=[];for(let n=0;n<t.length;n++)~this.transports.indexOf(t[n])&&r.push(t[n]);return r}}let aA=class extends sA{constructor(t,r={}){const n=typeof t=="object"?t:r;(!n.transports||n.transports&&typeof n.transports[0]=="string")&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map(s=>ZP[s]).filter(s=>!!s)),super(t,n)}};function iA(e,t="",r){let n=e;r=r||typeof location<"u"&&location,e==null&&(e=r.protocol+"//"+r.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=r.protocol+e:e=r.host+e),/^(https?|wss?):\/\//.test(e)||(typeof r<"u"?e=r.protocol+"//"+e:e="https://"+e),n=yp(e)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const a=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+a+":"+n.port+t,n.href=n.protocol+"://"+a+(r&&r.port===n.port?"":":"+n.port),n}const oA=typeof ArrayBuffer=="function",lA=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,Bj=Object.prototype.toString,cA=typeof Blob=="function"||typeof Blob<"u"&&Bj.call(Blob)==="[object BlobConstructor]",uA=typeof File=="function"||typeof File<"u"&&Bj.call(File)==="[object FileConstructor]";function ly(e){return oA&&(e instanceof ArrayBuffer||lA(e))||cA&&e instanceof Blob||uA&&e instanceof File}function Bu(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let r=0,n=e.length;r<n;r++)if(Bu(e[r]))return!0;return!1}if(ly(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return Bu(e.toJSON(),!0);for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&Bu(e[r]))return!0;return!1}function dA(e){const t=[],r=e.data,n=e;return n.data=xp(r,t),n.attachments=t.length,{packet:n,buffers:t}}function xp(e,t){if(!e)return e;if(ly(e)){const r={_placeholder:!0,num:t.length};return t.push(e),r}else if(Array.isArray(e)){const r=new Array(e.length);for(let n=0;n<e.length;n++)r[n]=xp(e[n],t);return r}else if(typeof e=="object"&&!(e instanceof Date)){const r={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=xp(e[n],t));return r}return e}function fA(e,t){return e.data=bp(e.data,t),delete e.attachments,e}function bp(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let r=0;r<e.length;r++)e[r]=bp(e[r],t);else if(typeof e=="object")for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(e[r]=bp(e[r],t));return e}const hA=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],mA=5;var Be;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(Be||(Be={}));class pA{constructor(t){this.replacer=t}encode(t){return(t.type===Be.EVENT||t.type===Be.ACK)&&Bu(t)?this.encodeAsBinary({type:t.type===Be.EVENT?Be.BINARY_EVENT:Be.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let r=""+t.type;return(t.type===Be.BINARY_EVENT||t.type===Be.BINARY_ACK)&&(r+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(r+=t.nsp+","),t.id!=null&&(r+=t.id),t.data!=null&&(r+=JSON.stringify(t.data,this.replacer)),r}encodeAsBinary(t){const r=dA(t),n=this.encodeAsString(r.packet),s=r.buffers;return s.unshift(n),s}}function ex(e){return Object.prototype.toString.call(e)==="[object Object]"}class cy extends Mt{constructor(t){super(),this.reviver=t}add(t){let r;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(t);const n=r.type===Be.BINARY_EVENT;n||r.type===Be.BINARY_ACK?(r.type=n?Be.EVENT:Be.ACK,this.reconstructor=new gA(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(ly(t)||t.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(t),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let r=0;const n={type:Number(t.charAt(0))};if(Be[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===Be.BINARY_EVENT||n.type===Be.BINARY_ACK){const a=r+1;for(;t.charAt(++r)!=="-"&&r!=t.length;);const o=t.substring(a,r);if(o!=Number(o)||t.charAt(r)!=="-")throw new Error("Illegal attachments");n.attachments=Number(o)}if(t.charAt(r+1)==="/"){const a=r+1;for(;++r&&!(t.charAt(r)===","||r===t.length););n.nsp=t.substring(a,r)}else n.nsp="/";const s=t.charAt(r+1);if(s!==""&&Number(s)==s){const a=r+1;for(;++r;){const o=t.charAt(r);if(o==null||Number(o)!=o){--r;break}if(r===t.length)break}n.id=Number(t.substring(a,r+1))}if(t.charAt(++r)){const a=this.tryParse(t.substr(r));if(cy.isPayloadValid(n.type,a))n.data=a;else throw new Error("invalid payload")}return n}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,r){switch(t){case Be.CONNECT:return ex(r);case Be.DISCONNECT:return r===void 0;case Be.CONNECT_ERROR:return typeof r=="string"||ex(r);case Be.EVENT:case Be.BINARY_EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&hA.indexOf(r[0])===-1);case Be.ACK:case Be.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class gA{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const r=fA(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const yA=Object.freeze(Object.defineProperty({__proto__:null,Decoder:cy,Encoder:pA,get PacketType(){return Be},protocol:mA},Symbol.toStringTag,{value:"Module"}));function fn(e,t,r){return e.on(t,r),function(){e.off(t,r)}}const vA=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Hj extends Mt{constructor(t,r,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=r,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[fn(t,"open",this.onopen.bind(this)),fn(t,"packet",this.onpacket.bind(this)),fn(t,"error",this.onerror.bind(this)),fn(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...r){var n,s,a;if(vA.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(r.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const o={type:Be.EVENT,data:r};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const d=this.ids++,f=r.pop();this._registerAckCallback(d,f),o.id=d}const l=(s=(n=this.io.engine)===null||n===void 0?void 0:n.transport)===null||s===void 0?void 0:s.writable,c=this.connected&&!(!((a=this.io.engine)===null||a===void 0)&&a._hasPingExpired());return this.flags.volatile&&!l||(c?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(t,r){var n;const s=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(s===void 0){this.acks[t]=r;return}const a=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let l=0;l<this.sendBuffer.length;l++)this.sendBuffer[l].id===t&&this.sendBuffer.splice(l,1);r.call(this,new Error("operation has timed out"))},s),o=(...l)=>{this.io.clearTimeoutFn(a),r.apply(this,l)};o.withError=!0,this.acks[t]=o}emitWithAck(t,...r){return new Promise((n,s)=>{const a=(o,l)=>o?s(o):n(l);a.withError=!0,r.push(a),this.emit(t,...r)})}_addToQueue(t){let r;typeof t[t.length-1]=="function"&&(r=t.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((s,...a)=>n!==this._queue[0]?void 0:(s!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),r&&r(s)):(this._queue.shift(),r&&r(null,...a)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const r=this._queue[0];r.pending&&!t||(r.pending=!0,r.tryCount++,this.flags=r.flags,this.emit.apply(this,r.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:Be.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,r),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(n=>String(n.id)===t)){const n=this.acks[t];delete this.acks[t],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case Be.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Be.EVENT:case Be.BINARY_EVENT:this.onevent(t);break;case Be.ACK:case Be.BINARY_ACK:this.onack(t);break;case Be.DISCONNECT:this.ondisconnect();break;case Be.CONNECT_ERROR:this.destroy();const n=new Error(t.data.message);n.data=t.data.data,this.emitReserved("connect_error",n);break}}onevent(t){const r=t.data||[];t.id!=null&&r.push(this.ack(t.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const n of r)n.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const r=this;let n=!1;return function(...s){n||(n=!0,r.packet({type:Be.ACK,id:t,data:s}))}}onack(t){const r=this.acks[t.id];typeof r=="function"&&(delete this.acks[t.id],r.withError&&t.data.unshift(null),r.apply(this,t.data))}onconnect(t,r){this.id=t,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Be.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const r=this._anyListeners;for(let n=0;n<r.length;n++)if(t===r[n])return r.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const r=this._anyOutgoingListeners;for(let n=0;n<r.length;n++)if(t===r[n])return r.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const n of r)n.apply(this,t.data)}}}function vo(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}vo.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),r=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+r:e-r}return Math.min(e,this.max)|0};vo.prototype.reset=function(){this.attempts=0};vo.prototype.setMin=function(e){this.ms=e};vo.prototype.setMax=function(e){this.max=e};vo.prototype.setJitter=function(e){this.jitter=e};class wp extends Mt{constructor(t,r){var n;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(r=t,t=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,Sf(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((n=r.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new vo({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=t;const s=r.parser||yA;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var r;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(r=this.backoff)===null||r===void 0||r.setMin(t),this)}randomizationFactor(t){var r;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(r=this.backoff)===null||r===void 0||r.setJitter(t),this)}reconnectionDelayMax(t){var r;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(r=this.backoff)===null||r===void 0||r.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new aA(this.uri,this.opts);const r=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const s=fn(r,"open",function(){n.onopen(),t&&t()}),a=l=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",l),t?t(l):this.maybeReconnectOnOpen()},o=fn(r,"error",a);if(this._timeout!==!1){const l=this._timeout,c=this.setTimeoutFn(()=>{s(),a(new Error("timeout")),r.close()},l);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(s),this.subs.push(o),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(fn(t,"ping",this.onping.bind(this)),fn(t,"data",this.ondata.bind(this)),fn(t,"error",this.onerror.bind(this)),fn(t,"close",this.onclose.bind(this)),fn(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(r){this.onclose("parse error",r)}}ondecoded(t){jf(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,r){let n=this.nsps[t];return n?this._autoConnect&&!n.active&&n.connect():(n=new Hj(this,t,r),this.nsps[t]=n),n}_destroy(t){const r=Object.keys(this.nsps);for(const n of r)if(this.nsps[n].active)return;this._close()}_packet(t){const r=this.encoder.encode(t);for(let n=0;n<r.length;n++)this.engine.write(r[n],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,r){var n;this.cleanup(),(n=this.engine)===null||n===void 0||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(s=>{s?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",s)):t.onreconnect()}))},r);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const Yo={};function Hu(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const r=iA(e,t.path||"/socket.io"),n=r.source,s=r.id,a=r.path,o=Yo[s]&&a in Yo[s].nsps,l=t.forceNew||t["force new connection"]||t.multiplex===!1||o;let c;return l?c=new wp(n,t):(Yo[s]||(Yo[s]=new wp(n,t)),c=Yo[s]),r.query&&!t.query&&(t.query=r.queryKey),c.socket(r.path,t)}Object.assign(Hu,{Manager:wp,Socket:Hj,io:Hu,connect:Hu});function zj(e,t){return function(){return e.apply(t,arguments)}}const{toString:xA}=Object.prototype,{getPrototypeOf:uy}=Object,{iterator:kf,toStringTag:Vj}=Symbol,Df=(e=>t=>{const r=xA.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),_n=e=>(e=e.toLowerCase(),t=>Df(t)===e),_f=e=>t=>typeof t===e,{isArray:xo}=Array,no=_f("undefined");function wc(e){return e!==null&&!no(e)&&e.constructor!==null&&!no(e.constructor)&&Dr(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Yj=_n("ArrayBuffer");function bA(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Yj(e.buffer),t}const wA=_f("string"),Dr=_f("function"),qj=_f("number"),Nc=e=>e!==null&&typeof e=="object",NA=e=>e===!0||e===!1,zu=e=>{if(Df(e)!=="object")return!1;const t=uy(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Vj in e)&&!(kf in e)},jA=e=>{if(!Nc(e)||wc(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},SA=_n("Date"),kA=_n("File"),DA=_n("Blob"),_A=_n("FileList"),CA=e=>Nc(e)&&Dr(e.pipe),EA=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Dr(e.append)&&((t=Df(e))==="formdata"||t==="object"&&Dr(e.toString)&&e.toString()==="[object FormData]"))},TA=_n("URLSearchParams"),[PA,AA,OA,MA]=["ReadableStream","Request","Response","Headers"].map(_n),RA=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function jc(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,s;if(typeof e!="object"&&(e=[e]),xo(e))for(n=0,s=e.length;n<s;n++)t.call(null,e[n],n,e);else{if(wc(e))return;const a=r?Object.getOwnPropertyNames(e):Object.keys(e),o=a.length;let l;for(n=0;n<o;n++)l=a[n],t.call(null,e[l],l,e)}}function Kj(e,t){if(wc(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,s;for(;n-- >0;)if(s=r[n],t===s.toLowerCase())return s;return null}const Oa=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Gj=e=>!no(e)&&e!==Oa;function Np(){const{caseless:e,skipUndefined:t}=Gj(this)&&this||{},r={},n=(s,a)=>{const o=e&&Kj(r,a)||a;zu(r[o])&&zu(s)?r[o]=Np(r[o],s):zu(s)?r[o]=Np({},s):xo(s)?r[o]=s.slice():(!t||!no(s))&&(r[o]=s)};for(let s=0,a=arguments.length;s<a;s++)arguments[s]&&jc(arguments[s],n);return r}const $A=(e,t,r,{allOwnKeys:n}={})=>(jc(t,(s,a)=>{r&&Dr(s)?e[a]=zj(s,r):e[a]=s},{allOwnKeys:n}),e),IA=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),LA=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},FA=(e,t,r,n)=>{let s,a,o;const l={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),a=s.length;a-- >0;)o=s[a],(!n||n(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=r!==!1&&uy(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},WA=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},UA=e=>{if(!e)return null;if(xo(e))return e;let t=e.length;if(!qj(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},BA=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&uy(Uint8Array)),HA=(e,t)=>{const n=(e&&e[kf]).call(e);let s;for(;(s=n.next())&&!s.done;){const a=s.value;t.call(e,a[0],a[1])}},zA=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},VA=_n("HTMLFormElement"),YA=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,s){return n.toUpperCase()+s}),tx=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),qA=_n("RegExp"),Qj=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};jc(r,(s,a)=>{let o;(o=t(s,a,e))!==!1&&(n[a]=o||s)}),Object.defineProperties(e,n)},KA=e=>{Qj(e,(t,r)=>{if(Dr(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(Dr(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},GA=(e,t)=>{const r={},n=s=>{s.forEach(a=>{r[a]=!0})};return xo(e)?n(e):n(String(e).split(t)),r},QA=()=>{},XA=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function JA(e){return!!(e&&Dr(e.append)&&e[Vj]==="FormData"&&e[kf])}const ZA=e=>{const t=new Array(10),r=(n,s)=>{if(Nc(n)){if(t.indexOf(n)>=0)return;if(wc(n))return n;if(!("toJSON"in n)){t[s]=n;const a=xo(n)?[]:{};return jc(n,(o,l)=>{const c=r(o,s+1);!no(c)&&(a[l]=c)}),t[s]=void 0,a}}return n};return r(e,0)},eO=_n("AsyncFunction"),tO=e=>e&&(Nc(e)||Dr(e))&&Dr(e.then)&&Dr(e.catch),Xj=((e,t)=>e?setImmediate:t?((r,n)=>(Oa.addEventListener("message",({source:s,data:a})=>{s===Oa&&a===r&&n.length&&n.shift()()},!1),s=>{n.push(s),Oa.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Dr(Oa.postMessage)),rO=typeof queueMicrotask<"u"?queueMicrotask.bind(Oa):typeof process<"u"&&process.nextTick||Xj,nO=e=>e!=null&&Dr(e[kf]),X={isArray:xo,isArrayBuffer:Yj,isBuffer:wc,isFormData:EA,isArrayBufferView:bA,isString:wA,isNumber:qj,isBoolean:NA,isObject:Nc,isPlainObject:zu,isEmptyObject:jA,isReadableStream:PA,isRequest:AA,isResponse:OA,isHeaders:MA,isUndefined:no,isDate:SA,isFile:kA,isBlob:DA,isRegExp:qA,isFunction:Dr,isStream:CA,isURLSearchParams:TA,isTypedArray:BA,isFileList:_A,forEach:jc,merge:Np,extend:$A,trim:RA,stripBOM:IA,inherits:LA,toFlatObject:FA,kindOf:Df,kindOfTest:_n,endsWith:WA,toArray:UA,forEachEntry:HA,matchAll:zA,isHTMLForm:VA,hasOwnProperty:tx,hasOwnProp:tx,reduceDescriptors:Qj,freezeMethods:KA,toObjectSet:GA,toCamelCase:YA,noop:QA,toFiniteNumber:XA,findKey:Kj,global:Oa,isContextDefined:Gj,isSpecCompliantForm:JA,toJSONObject:ZA,isAsyncFn:eO,isThenable:tO,setImmediate:Xj,asap:rO,isIterable:nO};function $e(e,t,r,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),s&&(this.response=s,this.status=s.status?s.status:null)}X.inherits($e,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:X.toJSONObject(this.config),code:this.code,status:this.status}}});const Jj=$e.prototype,Zj={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Zj[e]={value:e}});Object.defineProperties($e,Zj);Object.defineProperty(Jj,"isAxiosError",{value:!0});$e.from=(e,t,r,n,s,a)=>{const o=Object.create(Jj);X.toFlatObject(e,o,function(d){return d!==Error.prototype},u=>u!=="isAxiosError");const l=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return $e.call(o,l,c,r,n,s),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",a&&Object.assign(o,a),o};const sO=null;function jp(e){return X.isPlainObject(e)||X.isArray(e)}function eS(e){return X.endsWith(e,"[]")?e.slice(0,-2):e}function rx(e,t,r){return e?e.concat(t).map(function(s,a){return s=eS(s),!r&&a?"["+s+"]":s}).join(r?".":""):t}function aO(e){return X.isArray(e)&&!e.some(jp)}const iO=X.toFlatObject(X,{},null,function(t){return/^is[A-Z]/.test(t)});function Cf(e,t,r){if(!X.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=X.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(p,w){return!X.isUndefined(w[p])});const n=r.metaTokens,s=r.visitor||d,a=r.dots,o=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&X.isSpecCompliantForm(t);if(!X.isFunction(s))throw new TypeError("visitor must be a function");function u(m){if(m===null)return"";if(X.isDate(m))return m.toISOString();if(X.isBoolean(m))return m.toString();if(!c&&X.isBlob(m))throw new $e("Blob is not supported. Use a Buffer instead.");return X.isArrayBuffer(m)||X.isTypedArray(m)?c&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function d(m,p,w){let y=m;if(m&&!w&&typeof m=="object"){if(X.endsWith(p,"{}"))p=n?p:p.slice(0,-2),m=JSON.stringify(m);else if(X.isArray(m)&&aO(m)||(X.isFileList(m)||X.endsWith(p,"[]"))&&(y=X.toArray(m)))return p=eS(p),y.forEach(function(v,b){!(X.isUndefined(v)||v===null)&&t.append(o===!0?rx([p],b,a):o===null?p:p+"[]",u(v))}),!1}return jp(m)?!0:(t.append(rx(w,p,a),u(m)),!1)}const f=[],h=Object.assign(iO,{defaultVisitor:d,convertValue:u,isVisitable:jp});function x(m,p){if(!X.isUndefined(m)){if(f.indexOf(m)!==-1)throw Error("Circular reference detected in "+p.join("."));f.push(m),X.forEach(m,function(y,g){(!(X.isUndefined(y)||y===null)&&s.call(t,y,X.isString(g)?g.trim():g,p,h))===!0&&x(y,p?p.concat(g):[g])}),f.pop()}}if(!X.isObject(e))throw new TypeError("data must be an object");return x(e),t}function nx(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function dy(e,t){this._pairs=[],e&&Cf(e,this,t)}const tS=dy.prototype;tS.append=function(t,r){this._pairs.push([t,r])};tS.toString=function(t){const r=t?function(n){return t.call(this,n,nx)}:nx;return this._pairs.map(function(s){return r(s[0])+"="+r(s[1])},"").join("&")};function oO(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function rS(e,t,r){if(!t)return e;const n=r&&r.encode||oO;X.isFunction(r)&&(r={serialize:r});const s=r&&r.serialize;let a;if(s?a=s(t,r):a=X.isURLSearchParams(t)?t.toString():new dy(t,r).toString(n),a){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class sx{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){X.forEach(this.handlers,function(n){n!==null&&t(n)})}}const nS={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},lO=typeof URLSearchParams<"u"?URLSearchParams:dy,cO=typeof FormData<"u"?FormData:null,uO=typeof Blob<"u"?Blob:null,dO={isBrowser:!0,classes:{URLSearchParams:lO,FormData:cO,Blob:uO},protocols:["http","https","file","blob","url","data"]},fy=typeof window<"u"&&typeof document<"u",Sp=typeof navigator=="object"&&navigator||void 0,fO=fy&&(!Sp||["ReactNative","NativeScript","NS"].indexOf(Sp.product)<0),hO=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",mO=fy&&window.location.href||"http://localhost",pO=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:fy,hasStandardBrowserEnv:fO,hasStandardBrowserWebWorkerEnv:hO,navigator:Sp,origin:mO},Symbol.toStringTag,{value:"Module"})),nr={...pO,...dO};function gO(e,t){return Cf(e,new nr.classes.URLSearchParams,{visitor:function(r,n,s,a){return nr.isNode&&X.isBuffer(r)?(this.append(n,r.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...t})}function yO(e){return X.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function vO(e){const t={},r=Object.keys(e);let n;const s=r.length;let a;for(n=0;n<s;n++)a=r[n],t[a]=e[a];return t}function sS(e){function t(r,n,s,a){let o=r[a++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=a>=r.length;return o=!o&&X.isArray(s)?s.length:o,c?(X.hasOwnProp(s,o)?s[o]=[s[o],n]:s[o]=n,!l):((!s[o]||!X.isObject(s[o]))&&(s[o]=[]),t(r,n,s[o],a)&&X.isArray(s[o])&&(s[o]=vO(s[o])),!l)}if(X.isFormData(e)&&X.isFunction(e.entries)){const r={};return X.forEachEntry(e,(n,s)=>{t(yO(n),s,r,0)}),r}return null}function xO(e,t,r){if(X.isString(e))try{return(t||JSON.parse)(e),X.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const Sc={transitional:nS,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",s=n.indexOf("application/json")>-1,a=X.isObject(t);if(a&&X.isHTMLForm(t)&&(t=new FormData(t)),X.isFormData(t))return s?JSON.stringify(sS(t)):t;if(X.isArrayBuffer(t)||X.isBuffer(t)||X.isStream(t)||X.isFile(t)||X.isBlob(t)||X.isReadableStream(t))return t;if(X.isArrayBufferView(t))return t.buffer;if(X.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return gO(t,this.formSerializer).toString();if((l=X.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Cf(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return a||s?(r.setContentType("application/json",!1),xO(t)):t}],transformResponse:[function(t){const r=this.transitional||Sc.transitional,n=r&&r.forcedJSONParsing,s=this.responseType==="json";if(X.isResponse(t)||X.isReadableStream(t))return t;if(t&&X.isString(t)&&(n&&!this.responseType||s)){const o=!(r&&r.silentJSONParsing)&&s;try{return JSON.parse(t,this.parseReviver)}catch(l){if(o)throw l.name==="SyntaxError"?$e.from(l,$e.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:nr.classes.FormData,Blob:nr.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};X.forEach(["delete","get","head","post","put","patch"],e=>{Sc.headers[e]={}});const bO=X.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),wO=e=>{const t={};let r,n,s;return e&&e.split(`
`).forEach(function(o){s=o.indexOf(":"),r=o.substring(0,s).trim().toLowerCase(),n=o.substring(s+1).trim(),!(!r||t[r]&&bO[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},ax=Symbol("internals");function qo(e){return e&&String(e).trim().toLowerCase()}function Vu(e){return e===!1||e==null?e:X.isArray(e)?e.map(Vu):String(e)}function NO(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const jO=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Hh(e,t,r,n,s){if(X.isFunction(n))return n.call(this,t,r);if(s&&(t=r),!!X.isString(t)){if(X.isString(n))return t.indexOf(n)!==-1;if(X.isRegExp(n))return n.test(t)}}function SO(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function kO(e,t){const r=X.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(s,a,o){return this[n].call(this,t,s,a,o)},configurable:!0})})}let _r=class{constructor(t){t&&this.set(t)}set(t,r,n){const s=this;function a(l,c,u){const d=qo(c);if(!d)throw new Error("header name must be a non-empty string");const f=X.findKey(s,d);(!f||s[f]===void 0||u===!0||u===void 0&&s[f]!==!1)&&(s[f||c]=Vu(l))}const o=(l,c)=>X.forEach(l,(u,d)=>a(u,d,c));if(X.isPlainObject(t)||t instanceof this.constructor)o(t,r);else if(X.isString(t)&&(t=t.trim())&&!jO(t))o(wO(t),r);else if(X.isObject(t)&&X.isIterable(t)){let l={},c,u;for(const d of t){if(!X.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[u=d[0]]=(c=l[u])?X.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}o(l,r)}else t!=null&&a(r,t,n);return this}get(t,r){if(t=qo(t),t){const n=X.findKey(this,t);if(n){const s=this[n];if(!r)return s;if(r===!0)return NO(s);if(X.isFunction(r))return r.call(this,s,n);if(X.isRegExp(r))return r.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=qo(t),t){const n=X.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||Hh(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let s=!1;function a(o){if(o=qo(o),o){const l=X.findKey(n,o);l&&(!r||Hh(n,n[l],l,r))&&(delete n[l],s=!0)}}return X.isArray(t)?t.forEach(a):a(t),s}clear(t){const r=Object.keys(this);let n=r.length,s=!1;for(;n--;){const a=r[n];(!t||Hh(this,this[a],a,t,!0))&&(delete this[a],s=!0)}return s}normalize(t){const r=this,n={};return X.forEach(this,(s,a)=>{const o=X.findKey(n,a);if(o){r[o]=Vu(s),delete r[a];return}const l=t?SO(a):String(a).trim();l!==a&&delete r[a],r[l]=Vu(s),n[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return X.forEach(this,(n,s)=>{n!=null&&n!==!1&&(r[s]=t&&X.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(s=>n.set(s)),n}static accessor(t){const n=(this[ax]=this[ax]={accessors:{}}).accessors,s=this.prototype;function a(o){const l=qo(o);n[l]||(kO(s,o),n[l]=!0)}return X.isArray(t)?t.forEach(a):a(t),this}};_r.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);X.reduceDescriptors(_r.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});X.freezeMethods(_r);function zh(e,t){const r=this||Sc,n=t||r,s=_r.from(n.headers);let a=n.data;return X.forEach(e,function(l){a=l.call(r,a,s.normalize(),t?t.status:void 0)}),s.normalize(),a}function aS(e){return!!(e&&e.__CANCEL__)}function bo(e,t,r){$e.call(this,e??"canceled",$e.ERR_CANCELED,t,r),this.name="CanceledError"}X.inherits(bo,$e,{__CANCEL__:!0});function iS(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new $e("Request failed with status code "+r.status,[$e.ERR_BAD_REQUEST,$e.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function DO(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function _O(e,t){e=e||10;const r=new Array(e),n=new Array(e);let s=0,a=0,o;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),d=n[a];o||(o=u),r[s]=c,n[s]=u;let f=a,h=0;for(;f!==s;)h+=r[f++],f=f%e;if(s=(s+1)%e,s===a&&(a=(a+1)%e),u-o<t)return;const x=d&&u-d;return x?Math.round(h*1e3/x):void 0}}function CO(e,t){let r=0,n=1e3/t,s,a;const o=(u,d=Date.now())=>{r=d,s=null,a&&(clearTimeout(a),a=null),e(...u)};return[(...u)=>{const d=Date.now(),f=d-r;f>=n?o(u,d):(s=u,a||(a=setTimeout(()=>{a=null,o(s)},n-f)))},()=>s&&o(s)]}const Td=(e,t,r=3)=>{let n=0;const s=_O(50,250);return CO(a=>{const o=a.loaded,l=a.lengthComputable?a.total:void 0,c=o-n,u=s(c),d=o<=l;n=o;const f={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&d?(l-o)/u:void 0,event:a,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(f)},r)},ix=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},ox=e=>(...t)=>X.asap(()=>e(...t)),EO=nr.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,nr.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(nr.origin),nr.navigator&&/(msie|trident)/i.test(nr.navigator.userAgent)):()=>!0,TO=nr.hasStandardBrowserEnv?{write(e,t,r,n,s,a){const o=[e+"="+encodeURIComponent(t)];X.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),X.isString(n)&&o.push("path="+n),X.isString(s)&&o.push("domain="+s),a===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function PO(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function AO(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function oS(e,t,r){let n=!PO(t);return e&&(n||r==!1)?AO(e,t):t}const lx=e=>e instanceof _r?{...e}:e;function Za(e,t){t=t||{};const r={};function n(u,d,f,h){return X.isPlainObject(u)&&X.isPlainObject(d)?X.merge.call({caseless:h},u,d):X.isPlainObject(d)?X.merge({},d):X.isArray(d)?d.slice():d}function s(u,d,f,h){if(X.isUndefined(d)){if(!X.isUndefined(u))return n(void 0,u,f,h)}else return n(u,d,f,h)}function a(u,d){if(!X.isUndefined(d))return n(void 0,d)}function o(u,d){if(X.isUndefined(d)){if(!X.isUndefined(u))return n(void 0,u)}else return n(void 0,d)}function l(u,d,f){if(f in t)return n(u,d);if(f in e)return n(void 0,u)}const c={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(u,d,f)=>s(lx(u),lx(d),f,!0)};return X.forEach(Object.keys({...e,...t}),function(d){const f=c[d]||s,h=f(e[d],t[d],d);X.isUndefined(h)&&f!==l||(r[d]=h)}),r}const lS=e=>{const t=Za({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:a,headers:o,auth:l}=t;if(t.headers=o=_r.from(o),t.url=rS(oS(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),X.isFormData(r)){if(nr.hasStandardBrowserEnv||nr.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(X.isFunction(r.getHeaders)){const c=r.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([d,f])=>{u.includes(d.toLowerCase())&&o.set(d,f)})}}if(nr.hasStandardBrowserEnv&&(n&&X.isFunction(n)&&(n=n(t)),n||n!==!1&&EO(t.url))){const c=s&&a&&TO.read(a);c&&o.set(s,c)}return t},OO=typeof XMLHttpRequest<"u",MO=OO&&function(e){return new Promise(function(r,n){const s=lS(e);let a=s.data;const o=_r.from(s.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=s,d,f,h,x,m;function p(){x&&x(),m&&m(),s.cancelToken&&s.cancelToken.unsubscribe(d),s.signal&&s.signal.removeEventListener("abort",d)}let w=new XMLHttpRequest;w.open(s.method.toUpperCase(),s.url,!0),w.timeout=s.timeout;function y(){if(!w)return;const v=_r.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),S={data:!l||l==="text"||l==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:v,config:e,request:w};iS(function(_){r(_),p()},function(_){n(_),p()},S),w=null}"onloadend"in w?w.onloadend=y:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(y)},w.onabort=function(){w&&(n(new $e("Request aborted",$e.ECONNABORTED,e,w)),w=null)},w.onerror=function(b){const S=b&&b.message?b.message:"Network Error",j=new $e(S,$e.ERR_NETWORK,e,w);j.event=b||null,n(j),w=null},w.ontimeout=function(){let b=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const S=s.transitional||nS;s.timeoutErrorMessage&&(b=s.timeoutErrorMessage),n(new $e(b,S.clarifyTimeoutError?$e.ETIMEDOUT:$e.ECONNABORTED,e,w)),w=null},a===void 0&&o.setContentType(null),"setRequestHeader"in w&&X.forEach(o.toJSON(),function(b,S){w.setRequestHeader(S,b)}),X.isUndefined(s.withCredentials)||(w.withCredentials=!!s.withCredentials),l&&l!=="json"&&(w.responseType=s.responseType),u&&([h,m]=Td(u,!0),w.addEventListener("progress",h)),c&&w.upload&&([f,x]=Td(c),w.upload.addEventListener("progress",f),w.upload.addEventListener("loadend",x)),(s.cancelToken||s.signal)&&(d=v=>{w&&(n(!v||v.type?new bo(null,e,w):v),w.abort(),w=null)},s.cancelToken&&s.cancelToken.subscribe(d),s.signal&&(s.signal.aborted?d():s.signal.addEventListener("abort",d)));const g=DO(s.url);if(g&&nr.protocols.indexOf(g)===-1){n(new $e("Unsupported protocol "+g+":",$e.ERR_BAD_REQUEST,e));return}w.send(a||null)})},RO=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,s;const a=function(u){if(!s){s=!0,l();const d=u instanceof Error?u:this.reason;n.abort(d instanceof $e?d:new bo(d instanceof Error?d.message:d))}};let o=t&&setTimeout(()=>{o=null,a(new $e(`timeout ${t} of ms exceeded`,$e.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(a):u.removeEventListener("abort",a)}),e=null)};e.forEach(u=>u.addEventListener("abort",a));const{signal:c}=n;return c.unsubscribe=()=>X.asap(l),c}},$O=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,s;for(;n<r;)s=n+t,yield e.slice(n,s),n=s},IO=async function*(e,t){for await(const r of LO(e))yield*$O(r,t)},LO=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},cx=(e,t,r,n)=>{const s=IO(e,t);let a=0,o,l=c=>{o||(o=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await s.next();if(u){l(),c.close();return}let f=d.byteLength;if(r){let h=a+=f;r(h)}c.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(c){return l(c),s.return()}},{highWaterMark:2})},ux=64*1024,{isFunction:hu}=X,FO=(({Request:e,Response:t})=>({Request:e,Response:t}))(X.global),{ReadableStream:dx,TextEncoder:fx}=X.global,hx=(e,...t)=>{try{return!!e(...t)}catch{return!1}},WO=e=>{e=X.merge.call({skipUndefined:!0},FO,e);const{fetch:t,Request:r,Response:n}=e,s=t?hu(t):typeof fetch=="function",a=hu(r),o=hu(n);if(!s)return!1;const l=s&&hu(dx),c=s&&(typeof fx=="function"?(m=>p=>m.encode(p))(new fx):async m=>new Uint8Array(await new r(m).arrayBuffer())),u=a&&l&&hx(()=>{let m=!1;const p=new r(nr.origin,{body:new dx,method:"POST",get duplex(){return m=!0,"half"}}).headers.has("Content-Type");return m&&!p}),d=o&&l&&hx(()=>X.isReadableStream(new n("").body)),f={stream:d&&(m=>m.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(m=>{!f[m]&&(f[m]=(p,w)=>{let y=p&&p[m];if(y)return y.call(p);throw new $e(`Response type '${m}' is not supported`,$e.ERR_NOT_SUPPORT,w)})});const h=async m=>{if(m==null)return 0;if(X.isBlob(m))return m.size;if(X.isSpecCompliantForm(m))return(await new r(nr.origin,{method:"POST",body:m}).arrayBuffer()).byteLength;if(X.isArrayBufferView(m)||X.isArrayBuffer(m))return m.byteLength;if(X.isURLSearchParams(m)&&(m=m+""),X.isString(m))return(await c(m)).byteLength},x=async(m,p)=>{const w=X.toFiniteNumber(m.getContentLength());return w??h(p)};return async m=>{let{url:p,method:w,data:y,signal:g,cancelToken:v,timeout:b,onDownloadProgress:S,onUploadProgress:j,responseType:_,headers:T,withCredentials:$="same-origin",fetchOptions:R}=lS(m),Y=t||fetch;_=_?(_+"").toLowerCase():"text";let Q=RO([g,v&&v.toAbortSignal()],b),q=null;const se=Q&&Q.unsubscribe&&(()=>{Q.unsubscribe()});let pe;try{if(j&&u&&w!=="get"&&w!=="head"&&(pe=await x(T,y))!==0){let C=new r(p,{method:"POST",body:y,duplex:"half"}),L;if(X.isFormData(y)&&(L=C.headers.get("content-type"))&&T.setContentType(L),C.body){const[E,A]=ix(pe,Td(ox(j)));y=cx(C.body,ux,E,A)}}X.isString($)||($=$?"include":"omit");const te=a&&"credentials"in r.prototype,be={...R,signal:Q,method:w.toUpperCase(),headers:T.normalize().toJSON(),body:y,duplex:"half",credentials:te?$:void 0};q=a&&new r(p,be);let ee=await(a?Y(q,R):Y(p,be));const H=d&&(_==="stream"||_==="response");if(d&&(S||H&&se)){const C={};["status","statusText","headers"].forEach(K=>{C[K]=ee[K]});const L=X.toFiniteNumber(ee.headers.get("content-length")),[E,A]=S&&ix(L,Td(ox(S),!0))||[];ee=new n(cx(ee.body,ux,E,()=>{A&&A(),se&&se()}),C)}_=_||"text";let ue=await f[X.findKey(f,_)||"text"](ee,m);return!H&&se&&se(),await new Promise((C,L)=>{iS(C,L,{data:ue,headers:_r.from(ee.headers),status:ee.status,statusText:ee.statusText,config:m,request:q})})}catch(te){throw se&&se(),te&&te.name==="TypeError"&&/Load failed|fetch/i.test(te.message)?Object.assign(new $e("Network Error",$e.ERR_NETWORK,m,q),{cause:te.cause||te}):$e.from(te,te&&te.code,m,q)}}},UO=new Map,cS=e=>{let t=e?e.env:{};const{fetch:r,Request:n,Response:s}=t,a=[n,s,r];let o=a.length,l=o,c,u,d=UO;for(;l--;)c=a[l],u=d.get(c),u===void 0&&d.set(c,u=l?new Map:WO(t)),d=u;return u};cS();const kp={http:sO,xhr:MO,fetch:{get:cS}};X.forEach(kp,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const mx=e=>`- ${e}`,BO=e=>X.isFunction(e)||e===null||e===!1,uS={getAdapter:(e,t)=>{e=X.isArray(e)?e:[e];const{length:r}=e;let n,s;const a={};for(let o=0;o<r;o++){n=e[o];let l;if(s=n,!BO(n)&&(s=kp[(l=String(n)).toLowerCase()],s===void 0))throw new $e(`Unknown adapter '${l}'`);if(s&&(X.isFunction(s)||(s=s.get(t))))break;a[l||"#"+o]=s}if(!s){const o=Object.entries(a).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let l=r?o.length>1?`since :
`+o.map(mx).join(`
`):" "+mx(o[0]):"as no adapter specified";throw new $e("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return s},adapters:kp};function Vh(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new bo(null,e)}function px(e){return Vh(e),e.headers=_r.from(e.headers),e.data=zh.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),uS.getAdapter(e.adapter||Sc.adapter,e)(e).then(function(n){return Vh(e),n.data=zh.call(e,e.transformResponse,n),n.headers=_r.from(n.headers),n},function(n){return aS(n)||(Vh(e),n&&n.response&&(n.response.data=zh.call(e,e.transformResponse,n.response),n.response.headers=_r.from(n.response.headers))),Promise.reject(n)})}const dS="1.12.2",Ef={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Ef[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const gx={};Ef.transitional=function(t,r,n){function s(a,o){return"[Axios v"+dS+"] Transitional option '"+a+"'"+o+(n?". "+n:"")}return(a,o,l)=>{if(t===!1)throw new $e(s(o," has been removed"+(r?" in "+r:"")),$e.ERR_DEPRECATED);return r&&!gx[o]&&(gx[o]=!0,console.warn(s(o," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(a,o,l):!0}};Ef.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function HO(e,t,r){if(typeof e!="object")throw new $e("options must be an object",$e.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let s=n.length;for(;s-- >0;){const a=n[s],o=t[a];if(o){const l=e[a],c=l===void 0||o(l,a,e);if(c!==!0)throw new $e("option "+a+" must be "+c,$e.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new $e("Unknown option "+a,$e.ERR_BAD_OPTION)}}const Yu={assertOptions:HO,validators:Ef},Tn=Yu.validators;let za=class{constructor(t){this.defaults=t||{},this.interceptors={request:new sx,response:new sx}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const a=s.stack?s.stack.replace(/^.+\n/,""):"";try{n.stack?a&&!String(n.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+a):n.stack=a}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Za(this.defaults,r);const{transitional:n,paramsSerializer:s,headers:a}=r;n!==void 0&&Yu.assertOptions(n,{silentJSONParsing:Tn.transitional(Tn.boolean),forcedJSONParsing:Tn.transitional(Tn.boolean),clarifyTimeoutError:Tn.transitional(Tn.boolean)},!1),s!=null&&(X.isFunction(s)?r.paramsSerializer={serialize:s}:Yu.assertOptions(s,{encode:Tn.function,serialize:Tn.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Yu.assertOptions(r,{baseUrl:Tn.spelling("baseURL"),withXsrfToken:Tn.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=a&&X.merge(a.common,a[r.method]);a&&X.forEach(["delete","get","head","post","put","patch","common"],m=>{delete a[m]}),r.headers=_r.concat(o,a);const l=[];let c=!0;this.interceptors.request.forEach(function(p){typeof p.runWhen=="function"&&p.runWhen(r)===!1||(c=c&&p.synchronous,l.unshift(p.fulfilled,p.rejected))});const u=[];this.interceptors.response.forEach(function(p){u.push(p.fulfilled,p.rejected)});let d,f=0,h;if(!c){const m=[px.bind(this),void 0];for(m.unshift(...l),m.push(...u),h=m.length,d=Promise.resolve(r);f<h;)d=d.then(m[f++],m[f++]);return d}h=l.length;let x=r;for(;f<h;){const m=l[f++],p=l[f++];try{x=m(x)}catch(w){p.call(this,w);break}}try{d=px.call(this,x)}catch(m){return Promise.reject(m)}for(f=0,h=u.length;f<h;)d=d.then(u[f++],u[f++]);return d}getUri(t){t=Za(this.defaults,t);const r=oS(t.baseURL,t.url,t.allowAbsoluteUrls);return rS(r,t.params,t.paramsSerializer)}};X.forEach(["delete","get","head","options"],function(t){za.prototype[t]=function(r,n){return this.request(Za(n||{},{method:t,url:r,data:(n||{}).data}))}});X.forEach(["post","put","patch"],function(t){function r(n){return function(a,o,l){return this.request(Za(l||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:a,data:o}))}}za.prototype[t]=r(),za.prototype[t+"Form"]=r(!0)});let zO=class fS{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(a){r=a});const n=this;this.promise.then(s=>{if(!n._listeners)return;let a=n._listeners.length;for(;a-- >0;)n._listeners[a](s);n._listeners=null}),this.promise.then=s=>{let a;const o=new Promise(l=>{n.subscribe(l),a=l}).then(s);return o.cancel=function(){n.unsubscribe(a)},o},t(function(a,o,l){n.reason||(n.reason=new bo(a,o,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new fS(function(s){t=s}),cancel:t}}};function VO(e){return function(r){return e.apply(null,r)}}function YO(e){return X.isObject(e)&&e.isAxiosError===!0}const Dp={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Dp).forEach(([e,t])=>{Dp[t]=e});function hS(e){const t=new za(e),r=zj(za.prototype.request,t);return X.extend(r,za.prototype,t,{allOwnKeys:!0}),X.extend(r,t,null,{allOwnKeys:!0}),r.create=function(s){return hS(Za(e,s))},r}const Tt=hS(Sc);Tt.Axios=za;Tt.CanceledError=bo;Tt.CancelToken=zO;Tt.isCancel=aS;Tt.VERSION=dS;Tt.toFormData=Cf;Tt.AxiosError=$e;Tt.Cancel=Tt.CanceledError;Tt.all=function(t){return Promise.all(t)};Tt.spread=VO;Tt.isAxiosError=YO;Tt.mergeConfig=Za;Tt.AxiosHeaders=_r;Tt.formToJSON=e=>sS(X.isHTMLForm(e)?new FormData(e):e);Tt.getAdapter=uS.getAdapter;Tt.HttpStatusCode=Dp;Tt.default=Tt;const{Axios:UZ,AxiosError:BZ,CanceledError:HZ,isCancel:zZ,CancelToken:VZ,VERSION:YZ,all:qZ,Cancel:KZ,isAxiosError:GZ,spread:QZ,toFormData:XZ,AxiosHeaders:JZ,HttpStatusCode:ZZ,formToJSON:eee,getAdapter:tee,mergeConfig:ree}=Tt,qO="/api",Te=Tt.create({baseURL:qO,headers:{"Content-Type":"application/json"}});Te.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));Te.interceptors.response.use(e=>e,e=>{var t;return((t=e.response)==null?void 0:t.status)===401&&(localStorage.removeItem("token"),window.location.href="/login"),Promise.reject(e)});const mS=N.createContext(void 0);function KO({children:e}){const[t,r]=N.useState(null),[n,s]=N.useState(!0),a=yf();N.useEffect(()=>{o()},[]);const o=async()=>{try{const d=localStorage.getItem("token");if(!d){s(!1);return}Te.defaults.headers.common.Authorization=`Bearer ${d}`;const f=await Te.get("/auth/me");f.data.success&&r(f.data.user)}catch{localStorage.removeItem("token"),delete Te.defaults.headers.common.Authorization}finally{s(!1)}},l=async(d,f)=>{var h,x;try{const m=await Te.post("/auth/login",{username:d,password:f}),{token:p,user:w}=m.data;localStorage.setItem("token",p),Te.defaults.headers.common.Authorization=`Bearer ${p}`,r(w),Z.success(`${w.name}, !`),a("/")}catch(m){const p=m;throw Z.error(((x=(h=p.response)==null?void 0:h.data)==null?void 0:x.message)||" "),m}},c=()=>{localStorage.removeItem("token"),delete Te.defaults.headers.common.Authorization,r(null),a("/login"),Z.success("")},u=d=>{r(d)};return i.jsx(mS.Provider,{value:{user:t,loading:n,login:l,logout:c,updateUser:u},children:e})}function ba(){const e=N.useContext(mS);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function pS(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=pS(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Ln(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=pS(e))&&(n&&(n+=" "),n+=t);return n}/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var GO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QO=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),et=(e,t)=>{const r=N.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:a=2,absoluteStrokeWidth:o,className:l="",children:c,...u},d)=>N.createElement("svg",{ref:d,...GO,width:s,height:s,stroke:n,strokeWidth:o?Number(a)*24/Number(s):a,className:["lucide",`lucide-${QO(e)}`,l].join(" "),...u},[...t.map(([f,h])=>N.createElement(f,h)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XO=et("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yh=et("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JO=et("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZO=et("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Js=et("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eM=et("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tM=et("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yx=et("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vx=et("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rM=et("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nM=et("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sM=et("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qh=et("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ii=et("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aM=et("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iM=et("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oM=et("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zl=et("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xx=et("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lM=et("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bx=et("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gS=et("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cM=et("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pd=et("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ir=et("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kc=et("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uM=et("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dM=et("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ct=et("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),fM={},wx=e=>{let t;const r=new Set,n=(d,f)=>{const h=typeof d=="function"?d(t):d;if(!Object.is(h,t)){const x=t;t=f??(typeof h!="object"||h===null)?h:Object.assign({},t,h),r.forEach(m=>m(t,x))}},s=()=>t,c={setState:n,getState:s,getInitialState:()=>u,subscribe:d=>(r.add(d),()=>r.delete(d)),destroy:()=>{(fM?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},u=t=e(n,s,c);return c},hM=e=>e?wx(e):wx;var yS={exports:{}},vS={},xS={exports:{}},bS={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var so=N;function mM(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var pM=typeof Object.is=="function"?Object.is:mM,gM=so.useState,yM=so.useEffect,vM=so.useLayoutEffect,xM=so.useDebugValue;function bM(e,t){var r=t(),n=gM({inst:{value:r,getSnapshot:t}}),s=n[0].inst,a=n[1];return vM(function(){s.value=r,s.getSnapshot=t,Kh(s)&&a({inst:s})},[e,r,t]),yM(function(){return Kh(s)&&a({inst:s}),e(function(){Kh(s)&&a({inst:s})})},[e]),xM(r),r}function Kh(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!pM(e,r)}catch{return!0}}function wM(e,t){return t()}var NM=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?wM:bM;bS.useSyncExternalStore=so.useSyncExternalStore!==void 0?so.useSyncExternalStore:NM;xS.exports=bS;var jM=xS.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tf=N,SM=jM;function kM(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var DM=typeof Object.is=="function"?Object.is:kM,_M=SM.useSyncExternalStore,CM=Tf.useRef,EM=Tf.useEffect,TM=Tf.useMemo,PM=Tf.useDebugValue;vS.useSyncExternalStoreWithSelector=function(e,t,r,n,s){var a=CM(null);if(a.current===null){var o={hasValue:!1,value:null};a.current=o}else o=a.current;a=TM(function(){function c(x){if(!u){if(u=!0,d=x,x=n(x),s!==void 0&&o.hasValue){var m=o.value;if(s(m,x))return f=m}return f=x}if(m=f,DM(d,x))return m;var p=n(x);return s!==void 0&&s(m,p)?(d=x,m):(d=x,f=p)}var u=!1,d,f,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,n,s]);var l=_M(e,a[0],a[1]);return EM(function(){o.hasValue=!0,o.value=l},[l]),PM(l),l};yS.exports=vS;var AM=yS.exports;const OM=pr(AM),wS={},{useDebugValue:MM}=B,{useSyncExternalStoreWithSelector:RM}=OM;let Nx=!1;const $M=e=>e;function IM(e,t=$M,r){(wS?"production":void 0)!=="production"&&r&&!Nx&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Nx=!0);const n=RM(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return MM(n),n}const LM=e=>{(wS?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?hM(e):e,r=(n,s)=>IM(t,n,s);return Object.assign(r,t),r},NS=e=>LM,FM={};function WM(e,t){let r;try{r=e()}catch{return}return{getItem:s=>{var a;const o=c=>c===null?null:JSON.parse(c,void 0),l=(a=r.getItem(s))!=null?a:null;return l instanceof Promise?l.then(o):o(l)},setItem:(s,a)=>r.setItem(s,JSON.stringify(a,void 0)),removeItem:s=>r.removeItem(s)}}const Vl=e=>t=>{try{const r=e(t);return r instanceof Promise?r:{then(n){return Vl(n)(r)},catch(n){return this}}}catch(r){return{then(n){return this},catch(n){return Vl(n)(r)}}}},UM=(e,t)=>(r,n,s)=>{let a={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:w=>w,version:0,merge:(w,y)=>({...y,...w}),...t},o=!1;const l=new Set,c=new Set;let u;try{u=a.getStorage()}catch{}if(!u)return e((...w)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),r(...w)},n,s);const d=Vl(a.serialize),f=()=>{const w=a.partialize({...n()});let y;const g=d({state:w,version:a.version}).then(v=>u.setItem(a.name,v)).catch(v=>{y=v});if(y)throw y;return g},h=s.setState;s.setState=(w,y)=>{h(w,y),f()};const x=e((...w)=>{r(...w),f()},n,s);let m;const p=()=>{var w;if(!u)return;o=!1,l.forEach(g=>g(n()));const y=((w=a.onRehydrateStorage)==null?void 0:w.call(a,n()))||void 0;return Vl(u.getItem.bind(u))(a.name).then(g=>{if(g)return a.deserialize(g)}).then(g=>{if(g)if(typeof g.version=="number"&&g.version!==a.version){if(a.migrate)return a.migrate(g.state,g.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return g.state}).then(g=>{var v;return m=a.merge(g,(v=n())!=null?v:x),r(m,!0),f()}).then(()=>{y==null||y(m,void 0),o=!0,c.forEach(g=>g(m))}).catch(g=>{y==null||y(void 0,g)})};return s.persist={setOptions:w=>{a={...a,...w},w.getStorage&&(u=w.getStorage())},clearStorage:()=>{u==null||u.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>p(),hasHydrated:()=>o,onHydrate:w=>(l.add(w),()=>{l.delete(w)}),onFinishHydration:w=>(c.add(w),()=>{c.delete(w)})},p(),m||x},BM=(e,t)=>(r,n,s)=>{let a={storage:WM(()=>localStorage),partialize:p=>p,version:0,merge:(p,w)=>({...w,...p}),...t},o=!1;const l=new Set,c=new Set;let u=a.storage;if(!u)return e((...p)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),r(...p)},n,s);const d=()=>{const p=a.partialize({...n()});return u.setItem(a.name,{state:p,version:a.version})},f=s.setState;s.setState=(p,w)=>{f(p,w),d()};const h=e((...p)=>{r(...p),d()},n,s);s.getInitialState=()=>h;let x;const m=()=>{var p,w;if(!u)return;o=!1,l.forEach(g=>{var v;return g((v=n())!=null?v:h)});const y=((w=a.onRehydrateStorage)==null?void 0:w.call(a,(p=n())!=null?p:h))||void 0;return Vl(u.getItem.bind(u))(a.name).then(g=>{if(g)if(typeof g.version=="number"&&g.version!==a.version){if(a.migrate)return[!0,a.migrate(g.state,g.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,g.state];return[!1,void 0]}).then(g=>{var v;const[b,S]=g;if(x=a.merge(S,(v=n())!=null?v:h),r(x,!0),b)return d()}).then(()=>{y==null||y(x,void 0),x=n(),o=!0,c.forEach(g=>g(x))}).catch(g=>{y==null||y(void 0,g)})};return s.persist={setOptions:p=>{a={...a,...p},p.storage&&(u=p.storage)},clearStorage:()=>{u==null||u.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>m(),hasHydrated:()=>o,onHydrate:p=>(l.add(p),()=>{l.delete(p)}),onFinishHydration:p=>(c.add(p),()=>{c.delete(p)})},a.skipHydration||m(),x||h},HM=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((FM?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),UM(e,t)):BM(e,t),jS=HM,SS=NS()(jS((e,t)=>({notifications:[],unreadCount:0,addNotification:r=>{const n={...r,id:Date.now().toString()+Math.random().toString(36).substr(2,9),read:!1,createdAt:new Date};e(s=>({notifications:[n,...s.notifications].slice(0,50),unreadCount:s.unreadCount+1}))},markAsRead:r=>{e(n=>({notifications:n.notifications.map(s=>s.id===r?{...s,read:!0}:s),unreadCount:Math.max(0,n.unreadCount-1)}))},markAllAsRead:()=>{e(r=>({notifications:r.notifications.map(n=>({...n,read:!0})),unreadCount:0}))},deleteNotification:r=>{e(n=>{const s=n.notifications.find(o=>o.id===r),a=s&&!s.read;return{notifications:n.notifications.filter(o=>o.id!==r),unreadCount:a?Math.max(0,n.unreadCount-1):n.unreadCount}})},clearAll:()=>{e({notifications:[],unreadCount:0})},getUnreadCount:()=>t().unreadCount}),{name:"notification-storage",partialize:e=>({notifications:e.notifications,unreadCount:e.unreadCount})}));function wn(e){"@babel/helpers - typeof";return wn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wn(e)}function ha(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function Ke(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function Je(e){Ke(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||wn(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function zM(e,t){Ke(2,arguments);var r=Je(e),n=ha(t);return isNaN(n)?new Date(NaN):(n&&r.setDate(r.getDate()+n),r)}function VM(e,t){Ke(2,arguments);var r=Je(e).getTime(),n=ha(t);return new Date(r+n)}var YM={};function Dc(){return YM}function _p(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function jx(e){Ke(1,arguments);var t=Je(e);return t.setHours(0,0,0,0),t}function qu(e,t){Ke(2,arguments);var r=Je(e),n=Je(t),s=r.getTime()-n.getTime();return s<0?-1:s>0?1:s}function kS(e,t){Ke(2,arguments);var r=jx(e),n=jx(t);return r.getTime()===n.getTime()}function qM(e){return Ke(1,arguments),e instanceof Date||wn(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function KM(e){if(Ke(1,arguments),!qM(e)&&typeof e!="number")return!1;var t=Je(e);return!isNaN(Number(t))}function GM(e,t){Ke(2,arguments);var r=Je(e),n=Je(t),s=r.getFullYear()-n.getFullYear(),a=r.getMonth()-n.getMonth();return s*12+a}function QM(e,t){return Ke(2,arguments),Je(e).getTime()-Je(t).getTime()}var XM={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}},JM="trunc";function ZM(e){return XM[JM]}function eR(e){Ke(1,arguments);var t=Je(e);return t.setHours(23,59,59,999),t}function tR(e){Ke(1,arguments);var t=Je(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function rR(e){Ke(1,arguments);var t=Je(e);return eR(t).getTime()===tR(t).getTime()}function nR(e,t){Ke(2,arguments);var r=Je(e),n=Je(t),s=qu(r,n),a=Math.abs(GM(r,n)),o;if(a<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-s*a);var l=qu(r,n)===-s;rR(Je(e))&&a===1&&qu(e,n)===1&&(l=!1),o=s*(a-Number(l))}return o===0?0:o}function sR(e,t,r){Ke(2,arguments);var n=QM(e,t)/1e3;return ZM()(n)}function aR(e,t){Ke(2,arguments);var r=ha(t);return VM(e,-r)}var iR=864e5;function oR(e){Ke(1,arguments);var t=Je(e),r=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var n=t.getTime(),s=r-n;return Math.floor(s/iR)+1}function Ad(e){Ke(1,arguments);var t=1,r=Je(e),n=r.getUTCDay(),s=(n<t?7:0)+n-t;return r.setUTCDate(r.getUTCDate()-s),r.setUTCHours(0,0,0,0),r}function DS(e){Ke(1,arguments);var t=Je(e),r=t.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(r+1,0,4),n.setUTCHours(0,0,0,0);var s=Ad(n),a=new Date(0);a.setUTCFullYear(r,0,4),a.setUTCHours(0,0,0,0);var o=Ad(a);return t.getTime()>=s.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function lR(e){Ke(1,arguments);var t=DS(e),r=new Date(0);r.setUTCFullYear(t,0,4),r.setUTCHours(0,0,0,0);var n=Ad(r);return n}var cR=6048e5;function uR(e){Ke(1,arguments);var t=Je(e),r=Ad(t).getTime()-lR(t).getTime();return Math.round(r/cR)+1}function Od(e,t){var r,n,s,a,o,l,c,u;Ke(1,arguments);var d=Dc(),f=ha((r=(n=(s=(a=t==null?void 0:t.weekStartsOn)!==null&&a!==void 0?a:t==null||(o=t.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&s!==void 0?s:d.weekStartsOn)!==null&&n!==void 0?n:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&r!==void 0?r:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=Je(e),x=h.getUTCDay(),m=(x<f?7:0)+x-f;return h.setUTCDate(h.getUTCDate()-m),h.setUTCHours(0,0,0,0),h}function _S(e,t){var r,n,s,a,o,l,c,u;Ke(1,arguments);var d=Je(e),f=d.getUTCFullYear(),h=Dc(),x=ha((r=(n=(s=(a=t==null?void 0:t.firstWeekContainsDate)!==null&&a!==void 0?a:t==null||(o=t.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&s!==void 0?s:h.firstWeekContainsDate)!==null&&n!==void 0?n:(c=h.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&r!==void 0?r:1);if(!(x>=1&&x<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var m=new Date(0);m.setUTCFullYear(f+1,0,x),m.setUTCHours(0,0,0,0);var p=Od(m,t),w=new Date(0);w.setUTCFullYear(f,0,x),w.setUTCHours(0,0,0,0);var y=Od(w,t);return d.getTime()>=p.getTime()?f+1:d.getTime()>=y.getTime()?f:f-1}function dR(e,t){var r,n,s,a,o,l,c,u;Ke(1,arguments);var d=Dc(),f=ha((r=(n=(s=(a=t==null?void 0:t.firstWeekContainsDate)!==null&&a!==void 0?a:t==null||(o=t.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&s!==void 0?s:d.firstWeekContainsDate)!==null&&n!==void 0?n:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&r!==void 0?r:1),h=_S(e,t),x=new Date(0);x.setUTCFullYear(h,0,f),x.setUTCHours(0,0,0,0);var m=Od(x,t);return m}var fR=6048e5;function hR(e,t){Ke(1,arguments);var r=Je(e),n=Od(r,t).getTime()-dR(r,t).getTime();return Math.round(n/fR)+1}function Xe(e,t){for(var r=e<0?"-":"",n=Math.abs(e).toString();n.length<t;)n="0"+n;return r+n}var Os={y:function(t,r){var n=t.getUTCFullYear(),s=n>0?n:1-n;return Xe(r==="yy"?s%100:s,r.length)},M:function(t,r){var n=t.getUTCMonth();return r==="M"?String(n+1):Xe(n+1,2)},d:function(t,r){return Xe(t.getUTCDate(),r.length)},a:function(t,r){var n=t.getUTCHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h:function(t,r){return Xe(t.getUTCHours()%12||12,r.length)},H:function(t,r){return Xe(t.getUTCHours(),r.length)},m:function(t,r){return Xe(t.getUTCMinutes(),r.length)},s:function(t,r){return Xe(t.getUTCSeconds(),r.length)},S:function(t,r){var n=r.length,s=t.getUTCMilliseconds(),a=Math.floor(s*Math.pow(10,n-3));return Xe(a,r.length)}},fi={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},mR={G:function(t,r,n){var s=t.getUTCFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return n.era(s,{width:"abbreviated"});case"GGGGG":return n.era(s,{width:"narrow"});case"GGGG":default:return n.era(s,{width:"wide"})}},y:function(t,r,n){if(r==="yo"){var s=t.getUTCFullYear(),a=s>0?s:1-s;return n.ordinalNumber(a,{unit:"year"})}return Os.y(t,r)},Y:function(t,r,n,s){var a=_S(t,s),o=a>0?a:1-a;if(r==="YY"){var l=o%100;return Xe(l,2)}return r==="Yo"?n.ordinalNumber(o,{unit:"year"}):Xe(o,r.length)},R:function(t,r){var n=DS(t);return Xe(n,r.length)},u:function(t,r){var n=t.getUTCFullYear();return Xe(n,r.length)},Q:function(t,r,n){var s=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"Q":return String(s);case"QQ":return Xe(s,2);case"Qo":return n.ordinalNumber(s,{unit:"quarter"});case"QQQ":return n.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(s,{width:"wide",context:"formatting"})}},q:function(t,r,n){var s=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"q":return String(s);case"qq":return Xe(s,2);case"qo":return n.ordinalNumber(s,{unit:"quarter"});case"qqq":return n.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(s,{width:"wide",context:"standalone"})}},M:function(t,r,n){var s=t.getUTCMonth();switch(r){case"M":case"MM":return Os.M(t,r);case"Mo":return n.ordinalNumber(s+1,{unit:"month"});case"MMM":return n.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(s,{width:"wide",context:"formatting"})}},L:function(t,r,n){var s=t.getUTCMonth();switch(r){case"L":return String(s+1);case"LL":return Xe(s+1,2);case"Lo":return n.ordinalNumber(s+1,{unit:"month"});case"LLL":return n.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(s,{width:"wide",context:"standalone"})}},w:function(t,r,n,s){var a=hR(t,s);return r==="wo"?n.ordinalNumber(a,{unit:"week"}):Xe(a,r.length)},I:function(t,r,n){var s=uR(t);return r==="Io"?n.ordinalNumber(s,{unit:"week"}):Xe(s,r.length)},d:function(t,r,n){return r==="do"?n.ordinalNumber(t.getUTCDate(),{unit:"date"}):Os.d(t,r)},D:function(t,r,n){var s=oR(t);return r==="Do"?n.ordinalNumber(s,{unit:"dayOfYear"}):Xe(s,r.length)},E:function(t,r,n){var s=t.getUTCDay();switch(r){case"E":case"EE":case"EEE":return n.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(s,{width:"short",context:"formatting"});case"EEEE":default:return n.day(s,{width:"wide",context:"formatting"})}},e:function(t,r,n,s){var a=t.getUTCDay(),o=(a-s.weekStartsOn+8)%7||7;switch(r){case"e":return String(o);case"ee":return Xe(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});case"eeee":default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(t,r,n,s){var a=t.getUTCDay(),o=(a-s.weekStartsOn+8)%7||7;switch(r){case"c":return String(o);case"cc":return Xe(o,r.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});case"cccc":default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(t,r,n){var s=t.getUTCDay(),a=s===0?7:s;switch(r){case"i":return String(a);case"ii":return Xe(a,r.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(s,{width:"short",context:"formatting"});case"iiii":default:return n.day(s,{width:"wide",context:"formatting"})}},a:function(t,r,n){var s=t.getUTCHours(),a=s/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(t,r,n){var s=t.getUTCHours(),a;switch(s===12?a=fi.noon:s===0?a=fi.midnight:a=s/12>=1?"pm":"am",r){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(t,r,n){var s=t.getUTCHours(),a;switch(s>=17?a=fi.evening:s>=12?a=fi.afternoon:s>=4?a=fi.morning:a=fi.night,r){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(t,r,n){if(r==="ho"){var s=t.getUTCHours()%12;return s===0&&(s=12),n.ordinalNumber(s,{unit:"hour"})}return Os.h(t,r)},H:function(t,r,n){return r==="Ho"?n.ordinalNumber(t.getUTCHours(),{unit:"hour"}):Os.H(t,r)},K:function(t,r,n){var s=t.getUTCHours()%12;return r==="Ko"?n.ordinalNumber(s,{unit:"hour"}):Xe(s,r.length)},k:function(t,r,n){var s=t.getUTCHours();return s===0&&(s=24),r==="ko"?n.ordinalNumber(s,{unit:"hour"}):Xe(s,r.length)},m:function(t,r,n){return r==="mo"?n.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):Os.m(t,r)},s:function(t,r,n){return r==="so"?n.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):Os.s(t,r)},S:function(t,r){return Os.S(t,r)},X:function(t,r,n,s){var a=s._originalDate||t,o=a.getTimezoneOffset();if(o===0)return"Z";switch(r){case"X":return kx(o);case"XXXX":case"XX":return _a(o);case"XXXXX":case"XXX":default:return _a(o,":")}},x:function(t,r,n,s){var a=s._originalDate||t,o=a.getTimezoneOffset();switch(r){case"x":return kx(o);case"xxxx":case"xx":return _a(o);case"xxxxx":case"xxx":default:return _a(o,":")}},O:function(t,r,n,s){var a=s._originalDate||t,o=a.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+Sx(o,":");case"OOOO":default:return"GMT"+_a(o,":")}},z:function(t,r,n,s){var a=s._originalDate||t,o=a.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+Sx(o,":");case"zzzz":default:return"GMT"+_a(o,":")}},t:function(t,r,n,s){var a=s._originalDate||t,o=Math.floor(a.getTime()/1e3);return Xe(o,r.length)},T:function(t,r,n,s){var a=s._originalDate||t,o=a.getTime();return Xe(o,r.length)}};function Sx(e,t){var r=e>0?"-":"+",n=Math.abs(e),s=Math.floor(n/60),a=n%60;if(a===0)return r+String(s);var o=t;return r+String(s)+o+Xe(a,2)}function kx(e,t){if(e%60===0){var r=e>0?"-":"+";return r+Xe(Math.abs(e)/60,2)}return _a(e,t)}function _a(e,t){var r=t||"",n=e>0?"-":"+",s=Math.abs(e),a=Xe(Math.floor(s/60),2),o=Xe(s%60,2);return n+a+r+o}var Dx=function(t,r){switch(t){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},CS=function(t,r){switch(t){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},pR=function(t,r){var n=t.match(/(P+)(p+)?/)||[],s=n[1],a=n[2];if(!a)return Dx(t,r);var o;switch(s){case"P":o=r.dateTime({width:"short"});break;case"PP":o=r.dateTime({width:"medium"});break;case"PPP":o=r.dateTime({width:"long"});break;case"PPPP":default:o=r.dateTime({width:"full"});break}return o.replace("{{date}}",Dx(s,r)).replace("{{time}}",CS(a,r))},gR={p:CS,P:pR},yR=["D","DD"],vR=["YY","YYYY"];function xR(e){return yR.indexOf(e)!==-1}function bR(e){return vR.indexOf(e)!==-1}function _x(e,t,r){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var wR={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},NR=function(t,r,n){var s,a=wR[t];return typeof a=="string"?s=a:r===1?s=a.one:s=a.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+s:s+" ago":s};function Li(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.width?String(t.width):e.defaultWidth,n=e.formats[r]||e.formats[e.defaultWidth];return n}}var jR={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},SR={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},kR={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},DR={date:Li({formats:jR,defaultWidth:"full"}),time:Li({formats:SR,defaultWidth:"full"}),dateTime:Li({formats:kR,defaultWidth:"full"})},_R={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},CR=function(t,r,n,s){return _R[t]};function Fn(e){return function(t,r){var n=r!=null&&r.context?String(r.context):"standalone",s;if(n==="formatting"&&e.formattingValues){var a=e.defaultFormattingWidth||e.defaultWidth,o=r!=null&&r.width?String(r.width):a;s=e.formattingValues[o]||e.formattingValues[a]}else{var l=e.defaultWidth,c=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[c]||e.values[l]}var u=e.argumentCallback?e.argumentCallback(t):t;return s[u]}}var ER={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},TR={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},PR={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},AR={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},OR={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},MR={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},RR=function(t,r){var n=Number(t),s=n%100;if(s>20||s<10)switch(s%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},$R={ordinalNumber:RR,era:Fn({values:ER,defaultWidth:"wide"}),quarter:Fn({values:TR,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:Fn({values:PR,defaultWidth:"wide"}),day:Fn({values:AR,defaultWidth:"wide"}),dayPeriod:Fn({values:OR,defaultWidth:"wide",formattingValues:MR,defaultFormattingWidth:"wide"})};function Wn(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],a=t.match(s);if(!a)return null;var o=a[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?LR(l,function(f){return f.test(o)}):IR(l,function(f){return f.test(o)}),u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;var d=t.slice(o.length);return{value:u,rest:d}}}function IR(e,t){for(var r in e)if(e.hasOwnProperty(r)&&t(e[r]))return r}function LR(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return r}function ES(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.match(e.matchPattern);if(!n)return null;var s=n[0],a=t.match(e.parsePattern);if(!a)return null;var o=e.valueCallback?e.valueCallback(a[0]):a[0];o=r.valueCallback?r.valueCallback(o):o;var l=t.slice(s.length);return{value:o,rest:l}}}var FR=/^(\d+)(th|st|nd|rd)?/i,WR=/\d+/i,UR={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},BR={any:[/^b/i,/^(a|c)/i]},HR={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},zR={any:[/1/i,/2/i,/3/i,/4/i]},VR={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},YR={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},qR={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},KR={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},GR={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},QR={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},XR={ordinalNumber:ES({matchPattern:FR,parsePattern:WR,valueCallback:function(t){return parseInt(t,10)}}),era:Wn({matchPatterns:UR,defaultMatchWidth:"wide",parsePatterns:BR,defaultParseWidth:"any"}),quarter:Wn({matchPatterns:HR,defaultMatchWidth:"wide",parsePatterns:zR,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Wn({matchPatterns:VR,defaultMatchWidth:"wide",parsePatterns:YR,defaultParseWidth:"any"}),day:Wn({matchPatterns:qR,defaultMatchWidth:"wide",parsePatterns:KR,defaultParseWidth:"any"}),dayPeriod:Wn({matchPatterns:GR,defaultMatchWidth:"any",parsePatterns:QR,defaultParseWidth:"any"})},TS={code:"en-US",formatDistance:NR,formatLong:DR,formatRelative:CR,localize:$R,match:XR,options:{weekStartsOn:0,firstWeekContainsDate:1}},JR=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ZR=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,e$=/^'([^]*?)'?$/,t$=/''/g,r$=/[a-zA-Z]/;function Pe(e,t,r){var n,s,a,o,l,c,u,d,f,h,x,m,p,w,y,g,v,b;Ke(2,arguments);var S=String(t),j=Dc(),_=(n=(s=r==null?void 0:r.locale)!==null&&s!==void 0?s:j.locale)!==null&&n!==void 0?n:TS,T=ha((a=(o=(l=(c=r==null?void 0:r.firstWeekContainsDate)!==null&&c!==void 0?c:r==null||(u=r.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&l!==void 0?l:j.firstWeekContainsDate)!==null&&o!==void 0?o:(f=j.locale)===null||f===void 0||(h=f.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&a!==void 0?a:1);if(!(T>=1&&T<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var $=ha((x=(m=(p=(w=r==null?void 0:r.weekStartsOn)!==null&&w!==void 0?w:r==null||(y=r.locale)===null||y===void 0||(g=y.options)===null||g===void 0?void 0:g.weekStartsOn)!==null&&p!==void 0?p:j.weekStartsOn)!==null&&m!==void 0?m:(v=j.locale)===null||v===void 0||(b=v.options)===null||b===void 0?void 0:b.weekStartsOn)!==null&&x!==void 0?x:0);if(!($>=0&&$<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!_.localize)throw new RangeError("locale must contain localize property");if(!_.formatLong)throw new RangeError("locale must contain formatLong property");var R=Je(e);if(!KM(R))throw new RangeError("Invalid time value");var Y=_p(R),Q=aR(R,Y),q={firstWeekContainsDate:T,weekStartsOn:$,locale:_,_originalDate:R},se=S.match(ZR).map(function(pe){var te=pe[0];if(te==="p"||te==="P"){var be=gR[te];return be(pe,_.formatLong)}return pe}).join("").match(JR).map(function(pe){if(pe==="''")return"'";var te=pe[0];if(te==="'")return n$(pe);var be=mR[te];if(be)return!(r!=null&&r.useAdditionalWeekYearTokens)&&bR(pe)&&_x(pe,t,String(e)),!(r!=null&&r.useAdditionalDayOfYearTokens)&&xR(pe)&&_x(pe,t,String(e)),be(Q,pe,_.localize,q);if(te.match(r$))throw new RangeError("Format string contains an unescaped latin alphabet character `"+te+"`");return pe}).join("");return se}function n$(e){var t=e.match(e$);return t?t[1].replace(t$,"'"):e}function PS(e,t){if(e==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}function s$(e){return PS({},e)}var Cx=1440,a$=2520,Gh=43200,i$=86400;function o$(e,t,r){var n,s;Ke(2,arguments);var a=Dc(),o=(n=(s=r==null?void 0:r.locale)!==null&&s!==void 0?s:a.locale)!==null&&n!==void 0?n:TS;if(!o.formatDistance)throw new RangeError("locale must contain formatDistance property");var l=qu(e,t);if(isNaN(l))throw new RangeError("Invalid time value");var c=PS(s$(r),{addSuffix:!!(r!=null&&r.addSuffix),comparison:l}),u,d;l>0?(u=Je(t),d=Je(e)):(u=Je(e),d=Je(t));var f=sR(d,u),h=(_p(d)-_p(u))/1e3,x=Math.round((f-h)/60),m;if(x<2)return r!=null&&r.includeSeconds?f<5?o.formatDistance("lessThanXSeconds",5,c):f<10?o.formatDistance("lessThanXSeconds",10,c):f<20?o.formatDistance("lessThanXSeconds",20,c):f<40?o.formatDistance("halfAMinute",0,c):f<60?o.formatDistance("lessThanXMinutes",1,c):o.formatDistance("xMinutes",1,c):x===0?o.formatDistance("lessThanXMinutes",1,c):o.formatDistance("xMinutes",x,c);if(x<45)return o.formatDistance("xMinutes",x,c);if(x<90)return o.formatDistance("aboutXHours",1,c);if(x<Cx){var p=Math.round(x/60);return o.formatDistance("aboutXHours",p,c)}else{if(x<a$)return o.formatDistance("xDays",1,c);if(x<Gh){var w=Math.round(x/Cx);return o.formatDistance("xDays",w,c)}else if(x<i$)return m=Math.round(x/Gh),o.formatDistance("aboutXMonths",m,c)}if(m=nR(d,u),m<12){var y=Math.round(x/Gh);return o.formatDistance("xMonths",y,c)}else{var g=m%12,v=Math.floor(m/12);return g<3?o.formatDistance("aboutXYears",v,c):g<9?o.formatDistance("overXYears",v,c):o.formatDistance("almostXYears",v+1,c)}}function l$(e,t){return Ke(1,arguments),o$(e,Date.now(),t)}function c$(e){return Ke(1,arguments),Je(e).getTime()>Date.now()}function Cp(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function hy(e,t){if(e){if(typeof e=="string")return Cp(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Cp(e,t):void 0}}function u$(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Md(e,t){return Md=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Md(e,t)}function or(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Md(e,t)}function Rd(e){return Rd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Rd(e)}function AS(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AS=function(){return!!e})()}function d$(e,t){if(t&&(wn(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return u$(e)}function Wt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f$(e,t){if(wn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function OS(e){var t=f$(e,"string");return wn(t)=="symbol"?t:t+""}function Ex(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,OS(n.key),n)}}function Ut(e,t,r){return t&&Ex(e.prototype,t),r&&Ex(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ea(e,t,r){return(t=OS(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tx(e){return Ke(1,arguments),kS(e,Date.now())}function h$(e){return Ke(1,arguments),kS(e,zM(Date.now(),1))}var m$={lessThanXSeconds:{one:"1 ",other:"{{count}} "},xSeconds:{one:"1",other:"{{count}}"},halfAMinute:"30",lessThanXMinutes:{one:"1 ",other:"{{count}} "},xMinutes:{one:"1",other:"{{count}}"},aboutXHours:{one:" 1",other:" {{count}}"},xHours:{one:"1",other:"{{count}}"},xDays:{one:"1",other:"{{count}}"},aboutXWeeks:{one:" 1",other:" {{count}}"},xWeeks:{one:"1",other:"{{count}}"},aboutXMonths:{one:" 1",other:" {{count}}"},xMonths:{one:"1",other:"{{count}}"},aboutXYears:{one:" 1",other:" {{count}}"},xYears:{one:"1",other:"{{count}}"},overXYears:{one:"1 ",other:"{{count}} "},almostXYears:{one:" 1",other:" {{count}}"}},p$=function(t,r,n){var s,a=m$[t];return typeof a=="string"?s=a:r===1?s=a.one:s=a.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?s+" ":s+" ":s},g$={full:"y M d EEEE",long:"y M d",medium:"y.MM.dd",short:"y.MM.dd"},y$={full:"a H mm ss zzzz",long:"a H:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},v$={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},x$={date:Li({formats:g$,defaultWidth:"full"}),time:Li({formats:y$,defaultWidth:"full"}),dateTime:Li({formats:v$,defaultWidth:"full"})},b$={lastWeek:"'' eeee p",yesterday:"'' p",today:"'' p",tomorrow:"'' p",nextWeek:"'' eeee p",other:"P"},w$=function(t,r,n,s){return b$[t]},N$={narrow:["BC","AD"],abbreviated:["BC","AD"],wide:["",""]},j$={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1","2","3","4"]},S$={narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],abbreviated:["1","2","3","4","5","6","7","8","9","10","11","12"],wide:["1","2","3","4","5","6","7","8","9","10","11","12"]},k$={narrow:["","","","","","",""],short:["","","","","","",""],abbreviated:["","","","","","",""],wide:["","","","","","",""]},D$={narrow:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},abbreviated:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},_$={narrow:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},abbreviated:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},C$=function(t,r){var n=Number(t),s=String(r==null?void 0:r.unit);switch(s){case"minute":case"second":return String(n);case"date":return n+"";default:return n+""}},E$={ordinalNumber:C$,era:Fn({values:N$,defaultWidth:"wide"}),quarter:Fn({values:j$,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:Fn({values:S$,defaultWidth:"wide"}),day:Fn({values:k$,defaultWidth:"wide"}),dayPeriod:Fn({values:D$,defaultWidth:"wide",formattingValues:_$,defaultFormattingWidth:"wide"})},T$=/^(\d+)(|)?/i,P$=/\d+/i,A$={narrow:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(|)/i},O$={any:[/^(bc|)/i,/^(ad|)/i]},M$={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234]?/i},R$={any:[/1/i,/2/i,/3/i,/4/i]},$$={narrow:/^(1[012]|[123456789])/,abbreviated:/^(1[012]|[123456789])/i,wide:/^(1[012]|[123456789])/i},I$={any:[/^1?$/,/^2/,/^3/,/^4/,/^5/,/^6/,/^7/,/^8/,/^9/,/^10/,/^11/,/^12/]},L$={narrow:/^[]/,short:/^[]/,abbreviated:/^[]/,wide:/^[]/},F$={any:[/^/,/^/,/^/,/^/,/^/,/^/,/^/]},W$={any:/^(am|pm|||||||)/i},U$={any:{am:/^(am|)/i,pm:/^(pm|)/i,midnight:/^/i,noon:/^/i,morning:/^/i,afternoon:/^/i,evening:/^/i,night:/^/i}},B$={ordinalNumber:ES({matchPattern:T$,parsePattern:P$,valueCallback:function(t){return parseInt(t,10)}}),era:Wn({matchPatterns:A$,defaultMatchWidth:"wide",parsePatterns:O$,defaultParseWidth:"any"}),quarter:Wn({matchPatterns:M$,defaultMatchWidth:"wide",parsePatterns:R$,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Wn({matchPatterns:$$,defaultMatchWidth:"wide",parsePatterns:I$,defaultParseWidth:"any"}),day:Wn({matchPatterns:L$,defaultMatchWidth:"wide",parsePatterns:F$,defaultParseWidth:"any"}),dayPeriod:Wn({matchPatterns:W$,defaultMatchWidth:"any",parsePatterns:U$,defaultParseWidth:"any"})},Qe={code:"ko",formatDistance:p$,formatLong:x$,formatRelative:w$,localize:E$,match:B$,options:{weekStartsOn:0,firstWeekContainsDate:1}};const H$=({isOpen:e,onClose:t})=>{const r=yf(),{notifications:n,unreadCount:s,markAsRead:a,markAllAsRead:o,deleteNotification:l,clearAll:c}=SS();if(!e)return null;const u=h=>{switch(h){case"payment":return i.jsx(sM,{className:"h-5 w-5"});case"as_request":return i.jsx(dM,{className:"h-5 w-5"});case"schedule":return i.jsx(Js,{className:"h-5 w-5"});case"work_request":return i.jsx(JO,{className:"h-5 w-5"});default:return i.jsx(Yh,{className:"h-5 w-5"})}},d=h=>{switch(h){case"payment":return"text-green-600 bg-green-50";case"as_request":return"text-yellow-600 bg-yellow-50";case"schedule":return"text-blue-600 bg-blue-50";case"work_request":return"text-purple-600 bg-purple-50";default:return"text-gray-600 bg-gray-50"}},f=h=>{a(h.id),h.link&&(r(h.link),t())};return i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-25 z-40",onClick:t}),i.jsxs("div",{className:"fixed right-0 top-16 h-[calc(100vh-4rem)] w-full sm:w-96 bg-white shadow-2xl z-50 flex flex-col",children:[i.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Yh,{className:"h-5 w-5 text-gray-900"}),i.jsx("h2",{className:"text-lg font-bold text-gray-900",children:""}),s>0&&i.jsx("span",{className:"px-2 py-0.5 bg-gray-900 text-white text-xs font-bold rounded-full",children:s})]}),i.jsx("button",{onClick:t,className:"p-1 hover:bg-gray-100 rounded-lg transition-colors",children:i.jsx(ct,{className:"h-5 w-5 text-gray-600"})})]}),n.length>0&&i.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-gray-50 border-b border-gray-200",children:[s>0&&i.jsxs("button",{onClick:o,className:"flex items-center gap-1 text-xs text-gray-600 hover:text-gray-900",children:[i.jsx(tM,{className:"h-3 w-3"})," "]}),i.jsxs("button",{onClick:c,className:"flex items-center gap-1 text-xs text-gray-600 hover:text-red-600 ml-auto",children:[i.jsx(ir,{className:"h-3 w-3"})," "]})]}),i.jsx("div",{className:"flex-1 overflow-y-auto",children:n.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center p-8",children:[i.jsx(Yh,{className:"h-12 w-12 text-gray-300 mb-3"}),i.jsx("p",{className:"text-sm text-gray-500",children:" "})]}):i.jsx("div",{className:"divide-y divide-gray-100",children:n.map(h=>i.jsx("div",{className:`p-4 hover:bg-gray-50 transition-colors cursor-pointer ${h.read?"":"bg-blue-50"}`,onClick:()=>f(h),children:i.jsxs("div",{className:"flex gap-3",children:[i.jsx("div",{className:`flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center ${d(h.type)}`,children:u(h.type)}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-start justify-between gap-2",children:[i.jsx("p",{className:`text-sm font-semibold ${h.read?"text-gray-700":"text-gray-900"}`,children:h.title}),!h.read&&i.jsx("span",{className:"flex-shrink-0 w-2 h-2 bg-blue-600 rounded-full mt-1"})]}),i.jsx("p",{className:"text-xs text-gray-600 mt-1 line-clamp-2",children:h.message}),i.jsx("p",{className:"text-xs text-gray-400 mt-1",children:l$(new Date(h.createdAt),{addSuffix:!0,locale:Qe})})]}),i.jsx("button",{onClick:x=>{x.stopPropagation(),l(h.id)},className:"flex-shrink-0 p-1 hover:bg-gray-200 rounded transition-colors",children:i.jsx(ct,{className:"h-4 w-4 text-gray-400"})})]})},h.id))})})]})]})},$s={getAllWorkRequests:async()=>(await Te.get("/workrequests")).data,getWorkRequestById:async e=>(await Te.get(`/workrequests/${e}`)).data,createWorkRequest:async e=>{console.log("[workRequestService.createWorkRequest] Input data:",e);const t={project:e.project,requestType:e.requestType,description:e.description,requestDate:e.requestDate instanceof Date?e.requestDate.toISOString():e.requestDate,dueDate:e.dueDate instanceof Date?e.dueDate.toISOString():e.dueDate,requestedBy:e.requestedBy,assignedTo:e.assignedTo,priority:e.priority||"medium",status:e.status||"pending",notes:e.notes||""};return console.log("[workRequestService.createWorkRequest] Sending to backend:",t),(await Te.post("/workrequests",t)).data},updateWorkRequest:async(e,t)=>{console.log("[workRequestService.updateWorkRequest] Input data:",t);const r={};return t.project!==void 0&&(r.project=t.project),t.requestType!==void 0&&(r.requestType=t.requestType),t.description!==void 0&&(r.description=t.description),t.requestDate!==void 0&&(r.requestDate=t.requestDate instanceof Date?t.requestDate.toISOString():t.requestDate),t.dueDate!==void 0&&(r.dueDate=t.dueDate instanceof Date?t.dueDate.toISOString():t.dueDate),t.requestedBy!==void 0&&(r.requestedBy=t.requestedBy),t.assignedTo!==void 0&&(r.assignedTo=t.assignedTo),t.priority!==void 0&&(r.priority=t.priority),t.status!==void 0&&(r.status=t.status),t.notes!==void 0&&(r.notes=t.notes),t.completedDate!==void 0&&(r.completedDate=t.completedDate instanceof Date?t.completedDate.toISOString():t.completedDate),console.log("[workRequestService.updateWorkRequest] Sending to backend:",r),(await Te.put(`/workrequests/${e}`,r)).data},deleteWorkRequest:async e=>{await Te.delete(`/workrequests/${e}`)}},Is={getAllPayments:async()=>(await Te.get("/payments")).data,getPaymentById:async e=>(await Te.get(`/payments/${e}`)).data,createPayment:async e=>{var n,s,a;const t={project_id:e.projectId,request_type:e.category,vendor_name:e.process||"",description:e.purpose||"",amount:e.amount,account_holder:((n=e.bankInfo)==null?void 0:n.accountHolder)||"",bank_name:((s=e.bankInfo)==null?void 0:s.bankName)||"",account_number:((a=e.bankInfo)==null?void 0:a.accountNumber)||"",notes:e.notes||"",itemName:e.itemName||"",materialAmount:e.materialAmount||0,laborAmount:e.laborAmount||0,originalLaborAmount:e.originalLaborAmount||0,applyTaxDeduction:e.applyTaxDeduction||!1,includesVAT:e.includesVAT||!1};return console.log("[paymentService.createPayment] Sending to backend:",t),(await Te.post("/payments",t)).data},updatePayment:async(e,t)=>{const r={};return t.purpose!==void 0&&(r.description=t.purpose),t.amount!==void 0&&(r.amount=t.amount),t.process!==void 0&&(r.vendor_name=t.process),t.category!==void 0&&(r.request_type=t.category),t.itemName!==void 0&&(r.itemName=t.itemName),t.materialAmount!==void 0&&(r.materialAmount=t.materialAmount),t.laborAmount!==void 0&&(r.laborAmount=t.laborAmount),t.originalLaborAmount!==void 0&&(r.originalLaborAmount=t.originalLaborAmount),t.applyTaxDeduction!==void 0&&(r.applyTaxDeduction=t.applyTaxDeduction),t.includesVAT!==void 0&&(r.includesVAT=t.includesVAT),t.notes!==void 0&&(r.notes=t.notes),t.bankInfo!==void 0&&(t.bankInfo.accountHolder&&(r.account_holder=t.bankInfo.accountHolder),t.bankInfo.bankName&&(r.bank_name=t.bankInfo.bankName),t.bankInfo.accountNumber&&(r.account_number=t.bankInfo.accountNumber)),(await Te.put(`/payments/${e}`,r)).data},updatePaymentStatus:async(e,t)=>(await Te.put(`/payments/${e}/status`,{status:t})).data,deletePayment:async e=>{await Te.delete(`/payments/${e}`)}},il={getAllASRequests:async()=>(await Te.get("/as-requests")).data,getASRequestById:async e=>(await Te.get(`/as-requests/${e}`)).data,createASRequest:async e=>(await Te.post("/as-requests",e)).data,updateASRequest:async(e,t)=>(await Te.put(`/as-requests/${e}`,t)).data,deleteASRequest:async e=>{await Te.delete(`/as-requests/${e}`)}},z$=()=>{var v,b;const{user:e,logout:t}=ba(),[r,n]=N.useState(!1),[s,a]=N.useState(!1),o=Cs(),{unreadCount:l}=SS(),[c,u]=N.useState(0),[d,f]=N.useState(0),[h,x]=N.useState(0),m=[{name:"",href:"/dashboard"},{name:"",href:"/projects"},{name:"",href:"/schedule"},{name:"AS ",href:"/after-service",...h>0&&{badge:h}},{name:"",href:"/additional-work"},{name:"",href:"/construction-payment",roles:["admin","manager"]},{name:"",href:"/contractors"},{name:"",href:"/work-request",...c>0&&{badge:c}},{name:"",href:"/specbook"},{name:"",href:"/execution-history"},{name:"",href:"/payments",...d>0&&{badge:d}},{name:"",href:"/quote-inquiry",roles:["admin","manager"]}];N.useEffect(()=>{const S=async()=>{if(e)try{const T=(await $s.getAllWorkRequests()).filter($=>$.assignedTo===e.name&&$.status==="pending").length;u(T)}catch(_){console.error("Failed to load pending work requests:",_)}};S();const j=setInterval(S,3e4);return()=>clearInterval(j)},[e]),N.useEffect(()=>{const S=async()=>{if(e)try{const T=(await Is.getAllPayments()).filter($=>$.status==="pending").length;f(T)}catch(_){console.error("Failed to load pending payments:",_)}};S();const j=setInterval(S,3e4);return()=>clearInterval(j)},[e]),N.useEffect(()=>{const S=async()=>{if(e)try{const T=(await il.getAllASRequests()).filter($=>$.status==="in-progress").length;x(T)}catch(_){console.error("Failed to load in-progress AS requests:",_)}};S();const j=setInterval(S,3e4);return()=>clearInterval(j)},[e]);const p=m.filter(S=>!S.roles||S.roles.includes((e==null?void 0:e.role)||"")),w=((v=m.find(S=>S.href===o.pathname))==null?void 0:v.name)||"",g=(()=>{const S=o.pathname;return["/projects","/schedule","/after-service","/additional-work","/construction-payment","/contractors","/work-request","/payments"].includes(S)?()=>{const _=new CustomEvent("headerAddButtonClick");window.dispatchEvent(_)}:null})();return i.jsxs("div",{className:"min-h-screen bg-gray-50",children:[i.jsxs("div",{className:Ln("fixed inset-0 z-40 lg:hidden",r?"block":"hidden"),children:[i.jsx("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-50",onClick:()=>n(!1)}),i.jsxs("div",{className:"fixed inset-y-0 left-0 flex w-64 flex-col bg-white",children:[i.jsxs("div",{className:"flex h-16 items-center justify-between px-6 border-b border-gray-200",children:[i.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"HV LAB"}),i.jsx("button",{onClick:()=>n(!1),className:"text-sm text-gray-600 hover:text-gray-900",children:""})]}),i.jsx("nav",{className:"flex-1 space-y-1 px-4 py-4",children:p.map(S=>i.jsx(cp,{to:S.href,className:({isActive:j})=>Ln("block px-4 py-3 text-sm font-medium border-l-2 transition-colors relative",j?"border-gray-900 bg-gray-50 text-gray-900":"border-transparent text-gray-600 hover:border-gray-400 hover:bg-gray-50"),onClick:()=>n(!1),children:i.jsxs("span",{className:"flex items-center justify-between",children:[i.jsx("span",{children:S.name}),S.badge&&S.badge>0&&i.jsx("span",{className:"ml-2 inline-flex items-center justify-center px-2 py-0.5 text-xs font-bold leading-none text-white bg-red-600 rounded-full",children:S.badge>99?"99+":S.badge})]})},S.name))}),i.jsx("div",{className:"border-t border-gray-200 px-4 py-4",children:i.jsx("button",{onClick:t,className:"w-full px-4 py-3 text-sm font-medium text-gray-600 hover:bg-gray-50 text-left",children:""})})]})]}),i.jsx("div",{className:"hidden lg:fixed lg:inset-y-0 lg:flex lg:w-64 lg:flex-col",children:i.jsxs("div",{className:"flex flex-col bg-white border-r border-gray-200",children:[i.jsx("div",{className:"flex h-16 items-center px-6 border-b border-gray-200",children:i.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"HV LAB"})}),i.jsx("nav",{className:"flex-1 space-y-1 px-4 py-4",children:p.map(S=>i.jsx(cp,{to:S.href,className:({isActive:j})=>Ln("block px-4 py-3 text-sm font-medium border-l-2 transition-colors relative",j?"border-gray-900 bg-gray-50 text-gray-900":"border-transparent text-gray-600 hover:border-gray-400 hover:bg-gray-50"),children:i.jsxs("span",{className:"flex items-center justify-between",children:[i.jsx("span",{children:S.name}),S.badge&&S.badge>0&&i.jsx("span",{className:"ml-2 inline-flex items-center justify-center px-2 py-0.5 text-xs font-bold leading-none text-white bg-red-600 rounded-full",children:S.badge>99?"99+":S.badge})]})},S.name))}),i.jsx("div",{className:"border-t border-gray-200 px-4 py-4",children:i.jsx("button",{onClick:t,className:"w-full px-4 py-3 text-sm font-medium text-gray-600 hover:bg-gray-50 text-left",children:""})})]})}),i.jsxs("div",{className:"lg:pl-64",children:[i.jsx("header",{className:"sticky top-0 z-30 bg-white border-b border-gray-200",children:i.jsxs("div",{className:"flex items-center justify-between px-4 py-3 sm:px-6 lg:px-8",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("button",{onClick:()=>n(!0),className:"lg:hidden p-2 text-gray-600 hover:text-gray-900 -ml-2","aria-label":" ",children:i.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),w&&i.jsx("h1",{className:"text-lg font-bold text-gray-900 lg:hidden",children:w}),i.jsx("div",{className:"hidden lg:block w-0"})]}),i.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-6 ml-auto",children:[g&&i.jsx("button",{onClick:g,className:"lg:hidden p-2 text-gray-900 hover:text-gray-700","aria-label":"",children:i.jsx(gS,{className:"h-6 w-6"})}),i.jsxs("button",{onClick:()=>a(!s),className:"hidden sm:block relative p-2 text-gray-600 hover:text-gray-900 transition-colors","aria-label":"",children:[i.jsx("svg",{className:"h-5 w-5 sm:h-6 sm:w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),l>0&&i.jsx("span",{className:"absolute top-1 right-1 flex items-center justify-center h-4 w-4 bg-red-600 text-white text-[10px] font-bold rounded-full",children:l>9?"9+":l})]}),i.jsxs("div",{className:"hidden sm:flex items-center space-x-2 sm:space-x-3",children:[i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-sm font-medium text-gray-900",children:e==null?void 0:e.name}),i.jsx("p",{className:"text-xs text-gray-500",children:e==null?void 0:e.role})]}),i.jsx("div",{className:"h-8 w-8 sm:h-9 sm:w-9 bg-gray-900 text-white flex items-center justify-center text-xs font-bold rounded-full",children:(b=e==null?void 0:e.name)==null?void 0:b.substring(0,1)})]})]})]})}),i.jsx("main",{className:"py-[10px] md:py-6 lg:py-8",children:i.jsx("div",{className:"px-3 sm:px-4 md:px-6 lg:px-8",children:i.jsx(TE,{})})})]}),i.jsx(H$,{isOpen:s,onClose:()=>a(!1)})]})},mu={getAllSchedules:async()=>(await Te.get("/schedules")).data,getScheduleById:async e=>(await Te.get(`/schedules/${e}`)).data,createSchedule:async e=>(await Te.post("/schedules",{project:e.project,title:e.title,type:e.type||"other",phase:e.phase||"",startDate:e.startDate,endDate:e.endDate,allDay:e.allDay!==void 0?e.allDay:!0,assignedTo:e.assignedTo||[],description:e.description,location:e.location,priority:e.priority||"medium",progress:e.progress||0,isCompleted:e.isCompleted||!1,asRequestId:e.asRequestId,time:e.time})).data,updateSchedule:async(e,t)=>(await Te.put(`/schedules/${e}`,t)).data,deleteSchedule:async e=>{await Te.delete(`/schedules/${e}`)}},pu={getAllProjects:async()=>(await Te.get("/projects")).data,getProjectById:async e=>(await Te.get(`/projects/${e}`)).data,createProject:async e=>{const t={name:e.name,client:typeof e.client=="string"?e.client:e.client.name,location:typeof e.location=="string"?e.location:e.location.address,status:e.status||"planning",manager:e.manager,description:e.description||""};if(e.startDate){const n=typeof e.startDate=="string"?new Date(e.startDate):e.startDate;t.startDate=n.toISOString().split("T")[0]}if(e.endDate){const n=typeof e.endDate=="string"?new Date(e.endDate):e.endDate;t.endDate=n.toISOString().split("T")[0]}return console.log("[projectService.createProject] Sending to backend:",t),(await Te.post("/projects",t)).data},updateProject:async(e,t)=>{var n;const r={};if(t.name!==void 0&&(r.name=t.name),t.client!==void 0&&(r.client=typeof t.client=="string"?t.client:t.client.name),t.location!==void 0&&(r.location=typeof t.location=="string"?t.location:t.location.address),t.startDate!==void 0)if(typeof t.startDate=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(t.startDate))r.startDate=t.startDate;else{const s=typeof t.startDate=="string"?new Date(t.startDate):t.startDate;r.startDate=s.toISOString().split("T")[0]}if(t.endDate!==void 0)if(typeof t.endDate=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(t.endDate))r.endDate=t.endDate;else{const s=typeof t.endDate=="string"?new Date(t.endDate):t.endDate;r.endDate=s.toISOString().split("T")[0]}t.status!==void 0&&(r.status=t.status),t.manager!==void 0&&(r.manager=t.manager),t.description!==void 0&&(r.description=t.description),t.meetingNotes!==void 0&&(r.meetingNotes=t.meetingNotes),t.customerRequests!==void 0&&(r.customerRequests=t.customerRequests),t.entrancePassword!==void 0&&(r.entrancePassword=t.entrancePassword),t.sitePassword!==void 0&&(r.sitePassword=t.sitePassword),console.log("[projectService.updateProject] Sending to backend:",r);try{return(await Te.put(`/projects/${e}`,r)).data}catch(s){const a=s;throw console.error("[projectService.updateProject] Error:",s),console.error("[projectService.updateProject] Error response:",(n=a.response)==null?void 0:n.data),s}},deleteProject:async e=>{await Te.delete(`/projects/${e}`)}},fs={getAllContractors:async()=>(await Te.get("/contractors")).data,getContractorById:async e=>(await Te.get(`/contractors/${e}`)).data,createContractor:async e=>(await Te.post("/contractors",e)).data,updateContractor:async(e,t)=>(await Te.put(`/contractors/${e}`,t)).data,deleteContractor:async e=>{await Te.delete(`/contractors/${e}`)}},gu={getAllConstructionPayments:async()=>(await Te.get("/construction-payments")).data,getConstructionPaymentById:async e=>(await Te.get(`/construction-payments/${e}`)).data,createConstructionPayment:async e=>(await Te.post("/construction-payments",e)).data,updateConstructionPayment:async(e,t)=>(await Te.put(`/construction-payments/${e}`,t)).data,deleteConstructionPayment:async e=>{await Te.delete(`/construction-payments/${e}`)}},en=NS()(jS(e=>({projects:[],schedules:[],payments:[],contractors:[],constructionPayments:[],asRequests:[],executionRecords:[],setProjects:t=>e({projects:t}),addProject:t=>e(r=>{const n={id:t.id,project:t.name,client:t.client,totalAmount:t.contractAmount,vatType:"percentage",vatPercentage:100,vatAmount:0,payments:[]};return{projects:[t,...r.projects],constructionPayments:[n,...r.constructionPayments]}}),updateProject:(t,r)=>e(n=>({projects:n.projects.map(s=>s.id===t?{...s,...r}:s)})),deleteProject:t=>e(r=>({projects:r.projects.filter(n=>n.id!==t),constructionPayments:r.constructionPayments.filter(n=>n.id!==t)})),setSchedules:t=>e({schedules:t}),addSchedule:t=>e(r=>({schedules:[t,...r.schedules]})),updateSchedule:(t,r)=>e(n=>({schedules:n.schedules.map(s=>s.id===t?{...s,...r}:s)})),deleteSchedule:t=>e(r=>({schedules:r.schedules.filter(n=>n.id!==t)})),setPayments:t=>e({payments:t}),addPayment:t=>e(r=>({payments:[t,...r.payments]})),updatePayment:(t,r)=>e(n=>({payments:n.payments.map(s=>s.id===t?{...s,...r}:s)})),deletePayment:t=>e(r=>({payments:r.payments.filter(n=>n.id!==t)})),setContractors:t=>e({contractors:t}),addContractor:t=>e(r=>({contractors:[t,...r.contractors]})),updateContractor:(t,r)=>e(n=>({contractors:n.contractors.map(s=>s.id===t?{...s,...r}:s)})),deleteContractor:t=>e(r=>({contractors:r.contractors.filter(n=>n.id!==t)})),setConstructionPayments:t=>e({constructionPayments:t}),addConstructionPayment:t=>e(r=>({constructionPayments:[t,...r.constructionPayments]})),updateConstructionPayment:(t,r)=>e(n=>({constructionPayments:n.constructionPayments.map(s=>s.id===t?{...s,...r}:s)})),deleteConstructionPayment:t=>e(r=>({constructionPayments:r.constructionPayments.filter(n=>n.id!==t)})),setASRequests:t=>e({asRequests:t}),addASRequest:t=>e(r=>({asRequests:[t,...r.asRequests]})),updateASRequest:(t,r)=>e(n=>({asRequests:n.asRequests.map(s=>s.id===t?{...s,...r}:s)})),deleteASRequest:t=>e(r=>({asRequests:r.asRequests.filter(n=>n.id!==t)})),setExecutionRecords:t=>e({executionRecords:t}),addExecutionRecord:t=>e(r=>({executionRecords:[t,...r.executionRecords]})),updateExecutionRecord:(t,r)=>e(n=>({executionRecords:n.executionRecords.map(s=>s.id===t?{...s,...r}:s)})),deleteExecutionRecord:t=>e(r=>({executionRecords:r.executionRecords.filter(n=>n.id!==t)})),loadPaymentsFromAPI:async()=>{try{const r=(await Is.getAllPayments()).map(n=>({id:String(n.id),project:n.project_name,purpose:n.description,process:n.vendor_name,itemName:n.item_name||"",amount:n.amount,materialAmount:n.material_amount||0,laborAmount:n.labor_amount||0,originalLaborAmount:n.original_labor_amount||0,applyTaxDeduction:n.apply_tax_deduction===1,includesVAT:n.includes_vat===1,category:n.request_type,status:n.status,urgency:"normal",requestedBy:n.requester_name,requestDate:new Date(n.created_at),approvalDate:n.approved_at?new Date(n.approved_at):void 0,bankInfo:{accountHolder:n.account_holder||"",bankName:n.bank_name||"",accountNumber:n.account_number||""},attachments:[],notes:n.notes||""}));e({payments:r})}catch(t){throw console.error("Failed to load payments from API:",t),t}},addPaymentToAPI:async t=>{try{const r={projectId:t.project,purpose:t.purpose,process:t.process,itemName:t.itemName,amount:t.amount,category:t.category,urgency:t.urgency,requestedBy:t.requestedBy,bankInfo:t.bankInfo,notes:t.notes,attachments:[],materialAmount:t.materialAmount||0,laborAmount:t.laborAmount||0,originalLaborAmount:t.originalLaborAmount||0,applyTaxDeduction:t.applyTaxDeduction||!1,includesVAT:t.includesVAT||!1};console.log("[addPaymentToAPI] Sending payment data:",r),await Is.createPayment(r);const s=(await Is.getAllPayments()).map(a=>({id:String(a.id),project:a.project_name,purpose:a.description,process:a.vendor_name,itemName:a.item_name||"",amount:a.amount,materialAmount:a.material_amount||0,laborAmount:a.labor_amount||0,originalLaborAmount:a.original_labor_amount||0,applyTaxDeduction:a.apply_tax_deduction===1,includesVAT:a.includes_vat===1,category:a.request_type,status:a.status,urgency:"normal",requestedBy:a.requester_name,requestDate:new Date(a.created_at),approvalDate:a.approved_at?new Date(a.approved_at):void 0,bankInfo:{accountHolder:a.account_holder||"",bankName:a.bank_name||"",accountNumber:a.account_number||""},attachments:[],notes:a.notes||""}));e({payments:s})}catch(r){throw console.error("Failed to add payment to API:",r),r}},updatePaymentInAPI:async(t,r)=>{try{r.status&&Object.keys(r).length===1?await Is.updatePaymentStatus(t,r.status):await Is.updatePayment(t,{projectId:r.project,purpose:r.purpose,process:r.process,itemName:r.itemName,amount:r.amount,category:r.category,urgency:r.urgency,bankInfo:r.bankInfo,notes:r.notes});const s=(await Is.getAllPayments()).map(a=>({id:String(a.id),project:a.project_name,purpose:a.description,process:a.vendor_name,itemName:a.item_name||"",amount:a.amount,materialAmount:a.material_amount||0,laborAmount:a.labor_amount||0,originalLaborAmount:a.original_labor_amount||0,applyTaxDeduction:a.apply_tax_deduction===1,includesVAT:a.includes_vat===1,category:a.request_type,status:a.status,urgency:"normal",requestedBy:a.requester_name,requestDate:new Date(a.created_at),approvalDate:a.approved_at?new Date(a.approved_at):void 0,bankInfo:{accountHolder:a.account_holder||"",bankName:a.bank_name||"",accountNumber:a.account_number||""},attachments:[],notes:a.notes||""}));e({payments:s})}catch(n){throw console.error("Failed to update payment in API:",n),n}},deletePaymentFromAPI:async t=>{try{await Is.deletePayment(t),e(r=>({payments:r.payments.filter(n=>n.id!==t)}))}catch(r){throw console.error("Failed to delete payment from API:",r),r}},loadSchedulesFromAPI:async()=>{try{const t=await mu.getAllSchedules();console.log(" LOAD SCHEDULES - Raw API response sample:",t[0]);const r=t.map(n=>{var a;console.log(" Processing schedule:",{id:n._id,title:n.title,assigneeNames:n.assigneeNames,assignedTo:n.assignedTo,assignedToType:typeof n.assignedTo,assignedToLength:Array.isArray(n.assignedTo)?n.assignedTo.length:"not array"});const s=n.assigneeNames||((a=n.assignedTo)==null?void 0:a.map(o=>typeof o=="object"?o.name:o))||[];return console.log(" Final attendees:",s),{id:n._id,title:n.title,start:new Date(n.startDate),end:new Date(n.endDate),type:n.type,project:typeof n.project=="object"?n.project.name:n.project,location:n.location,attendees:s,description:n.description,time:n.time}});e({schedules:r})}catch(t){throw console.error("Failed to load schedules from API:",t),t}},addScheduleToAPI:async t=>{var r;try{console.log(" addScheduleToAPI - Input schedule:",{project:t.project,attendees:t.attendees,title:t.title});const n=await mu.createSchedule({project:t.project||"",title:t.title,type:t.type,startDate:t.start,endDate:t.end,allDay:!t.time||t.time==="-",location:t.location,assignedTo:t.attendees||[],description:t.description,asRequestId:t.asRequestId,time:t.time});console.log(" addScheduleToAPI - API Response:",{id:n._id,assigneeNames:n.assigneeNames,assignedTo:n.assignedTo,project:n.project});const s=t.attendees||[];let a=n.assigneeNames||((r=n.assignedTo)==null?void 0:r.map(l=>typeof l=="object"?l.name:l))||[];s.length>0&&a.length>s.length&&(console.log(" Server added extra attendees, filtering to match request:",{requested:s,serverReturned:a}),a=s);const o={id:n._id,title:n.title,start:new Date(n.startDate),end:new Date(n.endDate),type:n.type,project:typeof n.project=="object"?n.project.name:n.project,location:n.location,attendees:a,description:n.description,time:n.time};console.log(" addScheduleToAPI - Final schedule attendees:",o.attendees),e(l=>({schedules:[o,...l.schedules]}))}catch(n){throw console.error("Failed to add schedule to API:",n),n}},updateScheduleInAPI:async(t,r)=>{var n,s,a;try{console.log(" updateScheduleInAPI called with:",{id:t,updatedSchedule:r});const o=await mu.updateSchedule(t,{project:r.project,title:r.title,type:r.type,startDate:r.start,endDate:r.end,location:r.location,description:r.description,assignedTo:r.attendees||[],time:r.time});console.log(" updateScheduleInAPI response:",o);const l={id:o._id,title:o.title,start:new Date(o.startDate),end:new Date(o.endDate),type:o.type,project:typeof o.project=="object"?o.project.name:o.project,location:o.location,attendees:o.assigneeNames||((n=o.assignedTo)==null?void 0:n.map(c=>typeof c=="object"?c.name:c))||[],description:o.description,time:o.time};e(c=>({schedules:c.schedules.map(u=>u.id===t?l:u)}))}catch(o){throw console.error("Failed to update schedule in API:",o),console.error("Error details:",{message:o instanceof Error?o.message:"Unknown error",response:o&&typeof o=="object"&&"response"in o?(s=o.response)==null?void 0:s.data:void 0,status:o&&typeof o=="object"&&"response"in o?(a=o.response)==null?void 0:a.status:void 0}),o}},deleteScheduleFromAPI:async t=>{try{await mu.deleteSchedule(t),e(r=>({schedules:r.schedules.filter(n=>n.id!==t)}))}catch(r){throw console.error("Failed to delete schedule from API:",r),r}},loadProjectsFromAPI:async()=>{try{const r=(await pu.getAllProjects()).map(n=>{var s,a;return{id:n._id||n.id,name:n.name,client:typeof n.client=="object"?n.client.name:n.client||"",location:typeof n.location=="object"?n.location.address:n.location||n.address||"",status:n.status==="inProgress"?"in-progress":n.status==="onHold"?"on-hold":n.status,progress:n.progress||0,startDate:n.startDate||n.start_date?new Date(n.startDate||n.start_date):void 0,endDate:n.endDate||n.end_date?new Date(n.endDate||n.end_date):void 0,contractAmount:n.budget||n.contractAmount||0,spent:n.actualCost||n.spent||0,manager:n.manager||"",team:[],description:n.description||"",meetingNotes:((s=n.meetingNotes)==null?void 0:s.map(o=>({id:o.id,content:o.content,date:new Date(o.date)})))||[],customerRequests:((a=n.customerRequests)==null?void 0:a.map(o=>({id:o.id,content:o.content,completed:o.completed,createdAt:new Date(o.createdAt)})))||[],entrancePassword:n.entrancePassword||"",sitePassword:n.sitePassword||""}});e({projects:r})}catch(t){throw console.error("Failed to load projects from API:",t),t}},addProjectToAPI:async t=>{var r,n;try{const s=await pu.createProject({name:t.name,client:t.client,location:t.location,startDate:t.startDate,endDate:t.endDate,status:t.status,contractAmount:t.contractAmount,spent:t.spent,manager:t.manager,team:t.team,progress:t.progress,description:t.description}),a={id:s._id||s.id,name:s.name,client:typeof s.client=="object"?s.client.name:s.client||"",location:typeof s.location=="object"?s.location.address:s.location||s.address||"",status:s.status==="inProgress"?"in-progress":s.status==="onHold"?"on-hold":s.status,progress:s.progress||0,startDate:s.startDate||s.start_date?new Date(s.startDate||s.start_date):void 0,endDate:s.endDate||s.end_date?new Date(s.endDate||s.end_date):void 0,contractAmount:s.budget||s.contractAmount||0,spent:s.actualCost||s.spent||0,manager:s.manager||"",team:[],description:s.description||"",meetingNotes:((r=s.meetingNotes)==null?void 0:r.map(o=>({id:o.id,content:o.content,date:new Date(o.date)})))||[],customerRequests:((n=s.customerRequests)==null?void 0:n.map(o=>({id:o.id,content:o.content,completed:o.completed,createdAt:new Date(o.createdAt)})))||[],entrancePassword:s.entrancePassword||"",sitePassword:s.sitePassword||""};e(o=>({projects:[a,...o.projects]}))}catch(s){throw console.error("Failed to add project to API:",s),s}},updateProjectInAPI:async(t,r)=>{var n,s;try{const a=await pu.updateProject(t,r),o={id:a._id||a.id,name:a.name,client:typeof a.client=="object"?a.client.name:a.client||"",location:typeof a.location=="object"?a.location.address:a.location||a.address||"",status:a.status==="inProgress"?"in-progress":a.status==="onHold"?"on-hold":a.status,progress:a.progress||0,startDate:a.startDate||a.start_date?new Date(a.startDate||a.start_date):void 0,endDate:a.endDate||a.end_date?new Date(a.endDate||a.end_date):void 0,contractAmount:a.budget||a.contractAmount||0,spent:a.actualCost||a.spent||0,manager:a.manager||"",team:[],description:a.description||"",meetingNotes:((n=a.meetingNotes)==null?void 0:n.map(l=>({id:l.id,content:l.content,date:new Date(l.date)})))||[],customerRequests:((s=a.customerRequests)==null?void 0:s.map(l=>({id:l.id,content:l.content,completed:l.completed,createdAt:new Date(l.createdAt)})))||[],entrancePassword:a.entrancePassword||"",sitePassword:a.sitePassword||""};e(l=>({projects:l.projects.map(c=>c.id===t?o:c)}))}catch(a){throw console.error("Failed to update project in API:",a),a}},deleteProjectFromAPI:async t=>{try{await pu.deleteProject(t),e(r=>({projects:r.projects.filter(n=>n.id!==t)}))}catch(r){throw console.error("Failed to delete project from API:",r),r}},loadContractorsFromAPI:async()=>{try{const r=(await fs.getAllContractors()).map(n=>({id:n._id,rank:n.rank,companyName:n.companyName,name:n.name,process:n.process,contact:n.contact,accountNumber:n.accountNumber,notes:n.notes,createdAt:new Date(n.createdAt),updatedAt:new Date(n.updatedAt)}));e({contractors:r})}catch(t){throw console.error("Failed to load contractors from API:",t),t}},addContractorToAPI:async t=>{try{const r=await fs.createContractor({rank:t.rank,companyName:t.companyName,name:t.name,process:t.process,contact:t.contact,accountNumber:t.accountNumber,notes:t.notes}),n={id:r._id,rank:r.rank,companyName:r.companyName,name:r.name,process:r.process,contact:r.contact,accountNumber:r.accountNumber,notes:r.notes,createdAt:new Date(r.createdAt),updatedAt:new Date(r.updatedAt)};e(s=>({contractors:[n,...s.contractors]}))}catch(r){throw console.error("Failed to add contractor to API:",r),r}},updateContractorInAPI:async(t,r)=>{try{const n=await fs.updateContractor(t,{rank:r.rank,companyName:r.companyName,name:r.name,process:r.process,contact:r.contact,accountNumber:r.accountNumber,notes:r.notes}),s={id:n._id,rank:n.rank,companyName:n.companyName,name:n.name,process:n.process,contact:n.contact,accountNumber:n.accountNumber,notes:n.notes,createdAt:new Date(n.createdAt),updatedAt:new Date(n.updatedAt)};e(a=>({contractors:a.contractors.map(o=>o.id===t?s:o)}))}catch(n){throw console.error("Failed to update contractor in API:",n),n}},deleteContractorFromAPI:async t=>{try{await fs.deleteContractor(t),e(r=>({contractors:r.contractors.filter(n=>n.id!==t)}))}catch(r){throw console.error("Failed to delete contractor from API:",r),r}},loadConstructionPaymentsFromAPI:async()=>{try{const r=(await gu.getAllConstructionPayments()).map(n=>{var a;let s;return n.expectedPaymentDates&&(s={contract:n.expectedPaymentDates.contract?new Date(n.expectedPaymentDates.contract):void 0,start:n.expectedPaymentDates.start?new Date(n.expectedPaymentDates.start):void 0,middle:n.expectedPaymentDates.middle?new Date(n.expectedPaymentDates.middle):void 0,final:n.expectedPaymentDates.final?new Date(n.expectedPaymentDates.final):void 0}),{id:n._id,project:n.project,client:n.client,totalAmount:n.totalAmount,vatType:n.vatType,vatPercentage:n.vatPercentage,vatAmount:n.vatAmount,expectedPaymentDates:s,payments:((a=n.payments)==null?void 0:a.map(o=>{var u;const l=o.date?new Date(o.date):new Date,c=isNaN(l.getTime())?new Date:l;return{type:o.type||((u=o.types)==null?void 0:u[0])||"",amount:o.amount,date:c,method:o.method,notes:o.notes}}))||[]}});e({constructionPayments:r})}catch(t){throw console.error("Failed to load construction payments from API:",t),t}},addConstructionPaymentToAPI:async t=>{var r;try{const n=await gu.createConstructionPayment(t),s={id:n._id,project:n.project,client:n.client,totalAmount:n.totalAmount,vatType:n.vatType,vatPercentage:n.vatPercentage,vatAmount:n.vatAmount,payments:((r=n.payments)==null?void 0:r.map(a=>{var c;const o=a.date?new Date(a.date):new Date,l=isNaN(o.getTime())?new Date:o;return{type:a.type||((c=a.types)==null?void 0:c[0])||"",amount:a.amount,date:l,method:a.method,notes:a.notes}}))||[]};e(a=>({constructionPayments:[s,...a.constructionPayments]}))}catch(n){throw console.error("Failed to add construction payment to API:",n),n}},updateConstructionPaymentInAPI:async(t,r)=>{var n;try{const s=await gu.updateConstructionPayment(t,r);let a;s.expectedPaymentDates&&(a={contract:s.expectedPaymentDates.contract?new Date(s.expectedPaymentDates.contract):void 0,start:s.expectedPaymentDates.start?new Date(s.expectedPaymentDates.start):void 0,middle:s.expectedPaymentDates.middle?new Date(s.expectedPaymentDates.middle):void 0,final:s.expectedPaymentDates.final?new Date(s.expectedPaymentDates.final):void 0});const o={id:s._id,project:s.project,client:s.client,totalAmount:s.totalAmount,vatType:s.vatType,vatPercentage:s.vatPercentage,vatAmount:s.vatAmount,expectedPaymentDates:a,payments:((n=s.payments)==null?void 0:n.map(l=>{var c;return{type:l.type||((c=l.types)==null?void 0:c[0])||"",amount:l.amount,date:new Date(l.date),method:l.method,notes:l.notes}}))||[]};e(l=>({constructionPayments:l.constructionPayments.map(c=>c.id===t?o:c)}))}catch(s){throw console.error("Failed to update construction payment in API:",s),s}},deleteConstructionPaymentFromAPI:async t=>{try{await gu.deleteConstructionPayment(t),e(r=>({constructionPayments:r.constructionPayments.filter(n=>n.id!==t)}))}catch(r){throw console.error("Failed to delete construction payment from API:",r),r}},loadASRequestsFromAPI:async()=>{try{const r=(await il.getAllASRequests()).map(n=>({id:n._id,project:n.project,client:n.client,requestDate:new Date(n.requestDate),siteAddress:n.siteAddress,entrancePassword:n.entrancePassword,description:n.description,scheduledVisitDate:n.scheduledVisitDate?new Date(n.scheduledVisitDate):void 0,scheduledVisitTime:n.scheduledVisitTime,assignedTo:n.assignedTo||[],completionDate:n.completionDate?new Date(n.completionDate):void 0,notes:n.notes,status:n.status||"pending"}));e({asRequests:r})}catch(t){throw console.error("Failed to load AS requests from API:",t),t}},addASRequestToAPI:async t=>{try{const r=await il.createASRequest(t),n={id:r._id,project:r.project,client:r.client,requestDate:new Date(r.requestDate),siteAddress:r.siteAddress,entrancePassword:r.entrancePassword,description:r.description,scheduledVisitDate:r.scheduledVisitDate?new Date(r.scheduledVisitDate):void 0,scheduledVisitTime:r.scheduledVisitTime,assignedTo:Array.isArray(r.assignedTo)?r.assignedTo:[],completionDate:r.completionDate?new Date(r.completionDate):void 0,notes:r.notes};return e(s=>({asRequests:[n,...s.asRequests]})),n}catch(r){throw console.error("Failed to add AS request to API:",r),r}},updateASRequestInAPI:async(t,r)=>{try{const n=await il.updateASRequest(t,r),s={id:n._id,project:n.project,client:n.client,requestDate:new Date(n.requestDate),siteAddress:n.siteAddress,entrancePassword:n.entrancePassword,description:n.description,scheduledVisitDate:n.scheduledVisitDate?new Date(n.scheduledVisitDate):void 0,scheduledVisitTime:n.scheduledVisitTime,assignedTo:Array.isArray(n.assignedTo)?n.assignedTo:[],completionDate:n.completionDate?new Date(n.completionDate):void 0,notes:n.notes,status:n.status||"pending"};e(a=>({asRequests:a.asRequests.map(o=>o.id===t?s:o)}))}catch(n){throw console.error("Failed to update AS request in API:",n),n}},deleteASRequestFromAPI:async t=>{try{await il.deleteASRequest(t),e(r=>({asRequests:r.asRequests.filter(n=>n.id!==t)}))}catch(r){throw console.error("Failed to delete AS request from API:",r),r}}}),{name:"interior-management-storage",storage:{getItem:e=>{var c,u,d,f,h,x,m;const t=localStorage.getItem(e);if(!t)return null;const{state:r}=JSON.parse(t),n=((c=r.projects)==null?void 0:c.map(p=>({...p,startDate:p.startDate?new Date(p.startDate):void 0,endDate:p.endDate?new Date(p.endDate):void 0,contractAmount:p.contractAmount!==void 0?p.contractAmount:p.budget||0})))||[],s=((u=r.constructionPayments)==null?void 0:u.map(p=>{var w;return{...p,vatType:p.vatType||"percentage",vatPercentage:p.vatPercentage??100,vatAmount:p.vatAmount??0,payments:((w=p.payments)==null?void 0:w.map(y=>({...y,date:new Date(y.date)})))||[]}}))||[],a=new Set(s.map(p=>p.id)),o=n.filter(p=>!a.has(p.id)).map(p=>({id:p.id,project:p.name,client:p.client,totalAmount:p.contractAmount||0,vatType:"percentage",vatPercentage:100,vatAmount:0,payments:[]})),l=[...s,...o];return{state:{...r,projects:n,schedules:((d=r.schedules)==null?void 0:d.map(p=>({...p,start:new Date(p.start),end:new Date(p.end)})))||[],payments:((f=r.payments)==null?void 0:f.map(p=>({...p,requestDate:new Date(p.requestDate),approvalDate:p.approvalDate?new Date(p.approvalDate):void 0})))||[],contractors:((h=r.contractors)==null?void 0:h.map(p=>({...p,createdAt:new Date(p.createdAt),updatedAt:new Date(p.updatedAt)})))||[],constructionPayments:l,asRequests:((x=r.asRequests)==null?void 0:x.map(p=>({...p,requestDate:new Date(p.requestDate),scheduledVisitDate:p.scheduledVisitDate?new Date(p.scheduledVisitDate):void 0,completionDate:p.completionDate?new Date(p.completionDate):void 0})))||[],executionRecords:((m=r.executionRecords)==null?void 0:m.map(p=>({...p,date:new Date(p.date),createdAt:new Date(p.createdAt),updatedAt:new Date(p.updatedAt)})))||[]}}},setItem:(e,t)=>{const r=JSON.stringify(t);localStorage.setItem(e,r)},removeItem:e=>localStorage.removeItem(e)}}));var _c=e=>e.type==="checkbox",Ma=e=>e instanceof Date,dr=e=>e==null;const MS=e=>typeof e=="object";var Rt=e=>!dr(e)&&!Array.isArray(e)&&MS(e)&&!Ma(e),V$=e=>Rt(e)&&e.target?_c(e.target)?e.target.checked:e.target.value:e,Y$=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,q$=(e,t)=>e.has(Y$(t)),K$=e=>{const t=e.constructor&&e.constructor.prototype;return Rt(t)&&t.hasOwnProperty("isPrototypeOf")},my=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Bt(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(my&&(e instanceof Blob||n))&&(r||Rt(e)))if(t=r?[]:Object.create(Object.getPrototypeOf(e)),!r&&!K$(e))t=e;else for(const s in e)e.hasOwnProperty(s)&&(t[s]=Bt(e[s]));else return e;return t}var Pf=e=>/^\w*$/.test(e),At=e=>e===void 0,py=e=>Array.isArray(e)?e.filter(Boolean):[],gy=e=>py(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Ce=(e,t,r)=>{if(!t||!Rt(e))return r;const n=(Pf(t)?[t]:gy(t)).reduce((s,a)=>dr(s)?s:s[a],e);return At(n)||n===e?At(e[t])?r:e[t]:n},On=e=>typeof e=="boolean",yt=(e,t,r)=>{let n=-1;const s=Pf(t)?[t]:gy(t),a=s.length,o=a-1;for(;++n<a;){const l=s[n];let c=r;if(n!==o){const u=e[l];c=Rt(u)||Array.isArray(u)?u:isNaN(+s[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const Px={BLUR:"blur",FOCUS_OUT:"focusout"},mn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},rs={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},G$=B.createContext(null);G$.displayName="HookFormContext";var Q$=(e,t,r,n=!0)=>{const s={defaultValues:t._defaultValues};for(const a in e)Object.defineProperty(s,a,{get:()=>{const o=a;return t._proxyFormState[o]!==mn.all&&(t._proxyFormState[o]=!n||mn.all),e[o]}});return s};const X$=typeof window<"u"?B.useLayoutEffect:B.useEffect;var Ar=e=>typeof e=="string",J$=(e,t,r,n,s)=>Ar(e)?(n&&t.watch.add(e),Ce(r,e,s)):Array.isArray(e)?e.map(a=>(n&&t.watch.add(a),Ce(r,a))):(n&&(t.watchAll=!0),r),Ep=e=>dr(e)||!MS(e);function Hs(e,t,r=new WeakSet){if(Ep(e)||Ep(t))return e===t;if(Ma(e)&&Ma(t))return e.getTime()===t.getTime();const n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const a of n){const o=e[a];if(!s.includes(a))return!1;if(a!=="ref"){const l=t[a];if(Ma(o)&&Ma(l)||Rt(o)&&Rt(l)||Array.isArray(o)&&Array.isArray(l)?!Hs(o,l,r):o!==l)return!1}}return!0}var Z$=(e,t,r,n,s)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:s||!0}}:{},vl=e=>Array.isArray(e)?e:[e],Ax=()=>{let e=[];return{get observers(){return e},next:s=>{for(const a of e)a.next&&a.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(a=>a!==s)}}),unsubscribe:()=>{e=[]}}};function RS(e,t){const r={};for(const n in e)if(e.hasOwnProperty(n)){const s=e[n],a=t[n];if(s&&Rt(s)&&a){const o=RS(s,a);Rt(o)&&(r[n]=o)}else e[n]&&(r[n]=a)}return r}var br=e=>Rt(e)&&!Object.keys(e).length,yy=e=>e.type==="file",pn=e=>typeof e=="function",$d=e=>{if(!my)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},$S=e=>e.type==="select-multiple",vy=e=>e.type==="radio",e3=e=>vy(e)||_c(e),Qh=e=>$d(e)&&e.isConnected;function t3(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=At(e)?n++:e[t[n++]];return e}function r3(e){for(const t in e)if(e.hasOwnProperty(t)&&!At(e[t]))return!1;return!0}function Pt(e,t){const r=Array.isArray(t)?t:Pf(t)?[t]:gy(t),n=r.length===1?e:t3(e,r),s=r.length-1,a=r[s];return n&&delete n[a],s!==0&&(Rt(n)&&br(n)||Array.isArray(n)&&r3(n))&&Pt(e,r.slice(0,-1)),e}var n3=e=>{for(const t in e)if(pn(e[t]))return!0;return!1};function IS(e){return Array.isArray(e)||Rt(e)&&!n3(e)}function Tp(e,t={}){for(const r in e)IS(e[r])?(t[r]=Array.isArray(e[r])?[]:{},Tp(e[r],t[r])):dr(e[r])||(t[r]=!0);return t}function pi(e,t,r){r||(r=Tp(t));for(const n in e)IS(e[n])?At(t)||Ep(r[n])?r[n]=Tp(e[n],Array.isArray(e[n])?[]:{}):pi(e[n],dr(t)?{}:t[n],r[n]):r[n]=!Hs(e[n],t[n]);return r}const Ox={value:!1,isValid:!1},Mx={value:!0,isValid:!0};var LS=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!At(e[0].attributes.value)?At(e[0].value)||e[0].value===""?Mx:{value:e[0].value,isValid:!0}:Mx:Ox}return Ox},FS=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>At(e)?e:t?e===""?NaN:e&&+e:r&&Ar(e)?new Date(e):n?n(e):e;const Rx={isValid:!1,value:null};var WS=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,Rx):Rx;function $x(e){const t=e.ref;return yy(t)?t.files:vy(t)?WS(e.refs).value:$S(t)?[...t.selectedOptions].map(({value:r})=>r):_c(t)?LS(e.refs).value:FS(At(t.value)?e.ref.value:t.value,e)}var s3=(e,t,r,n)=>{const s={};for(const a of e){const o=Ce(t,a);o&&yt(s,a,o._f)}return{criteriaMode:r,names:[...e],fields:s,shouldUseNativeValidation:n}},Id=e=>e instanceof RegExp,Ko=e=>At(e)?e:Id(e)?e.source:Rt(e)?Id(e.value)?e.value.source:e.value:e,Ix=e=>({isOnSubmit:!e||e===mn.onSubmit,isOnBlur:e===mn.onBlur,isOnChange:e===mn.onChange,isOnAll:e===mn.all,isOnTouch:e===mn.onTouched});const Lx="AsyncFunction";var a3=e=>!!e&&!!e.validate&&!!(pn(e.validate)&&e.validate.constructor.name===Lx||Rt(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===Lx)),i3=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),Fx=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const xl=(e,t,r,n)=>{for(const s of r||Object.keys(e)){const a=Ce(e,s);if(a){const{_f:o,...l}=a;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],s)&&!n)return!0;if(o.ref&&t(o.ref,o.name)&&!n)return!0;if(xl(l,t))break}else if(Rt(l)&&xl(l,t))break}}};function Wx(e,t,r){const n=Ce(e,r);if(n||Pf(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const a=s.join("."),o=Ce(t,a),l=Ce(e,a);if(o&&!Array.isArray(o)&&r!==a)return{name:r};if(l&&l.type)return{name:a,error:l};if(l&&l.root&&l.root.type)return{name:`${a}.root`,error:l.root};s.pop()}return{name:r}}var o3=(e,t,r,n)=>{r(e);const{name:s,...a}=e;return br(a)||Object.keys(a).length>=Object.keys(t).length||Object.keys(a).find(o=>t[o]===(!n||mn.all))},l3=(e,t,r)=>!e||!t||e===t||vl(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),c3=(e,t,r,n,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(t||e):(r?n.isOnBlur:s.isOnBlur)?!e:(r?n.isOnChange:s.isOnChange)?e:!0,u3=(e,t)=>!py(Ce(e,t)).length&&Pt(e,t),d3=(e,t,r)=>{const n=vl(Ce(e,r));return yt(n,"root",t[r]),yt(e,r,n),e};function Ux(e,t,r="validate"){if(Ar(e)||Array.isArray(e)&&e.every(Ar)||On(e)&&!e)return{type:r,message:Ar(e)?e:"",ref:t}}var hi=e=>Rt(e)&&!Id(e)?e:{value:e,message:""},Bx=async(e,t,r,n,s,a)=>{const{ref:o,refs:l,required:c,maxLength:u,minLength:d,min:f,max:h,pattern:x,validate:m,name:p,valueAsNumber:w,mount:y}=e._f,g=Ce(r,p);if(!y||t.has(p))return{};const v=l?l[0]:o,b=Q=>{s&&v.reportValidity&&(v.setCustomValidity(On(Q)?"":Q||""),v.reportValidity())},S={},j=vy(o),_=_c(o),T=j||_,$=(w||yy(o))&&At(o.value)&&At(g)||$d(o)&&o.value===""||g===""||Array.isArray(g)&&!g.length,R=Z$.bind(null,p,n,S),Y=(Q,q,se,pe=rs.maxLength,te=rs.minLength)=>{const be=Q?q:se;S[p]={type:Q?pe:te,message:be,ref:o,...R(Q?pe:te,be)}};if(a?!Array.isArray(g)||!g.length:c&&(!T&&($||dr(g))||On(g)&&!g||_&&!LS(l).isValid||j&&!WS(l).isValid)){const{value:Q,message:q}=Ar(c)?{value:!!c,message:c}:hi(c);if(Q&&(S[p]={type:rs.required,message:q,ref:v,...R(rs.required,q)},!n))return b(q),S}if(!$&&(!dr(f)||!dr(h))){let Q,q;const se=hi(h),pe=hi(f);if(!dr(g)&&!isNaN(g)){const te=o.valueAsNumber||g&&+g;dr(se.value)||(Q=te>se.value),dr(pe.value)||(q=te<pe.value)}else{const te=o.valueAsDate||new Date(g),be=ue=>new Date(new Date().toDateString()+" "+ue),ee=o.type=="time",H=o.type=="week";Ar(se.value)&&g&&(Q=ee?be(g)>be(se.value):H?g>se.value:te>new Date(se.value)),Ar(pe.value)&&g&&(q=ee?be(g)<be(pe.value):H?g<pe.value:te<new Date(pe.value))}if((Q||q)&&(Y(!!Q,se.message,pe.message,rs.max,rs.min),!n))return b(S[p].message),S}if((u||d)&&!$&&(Ar(g)||a&&Array.isArray(g))){const Q=hi(u),q=hi(d),se=!dr(Q.value)&&g.length>+Q.value,pe=!dr(q.value)&&g.length<+q.value;if((se||pe)&&(Y(se,Q.message,q.message),!n))return b(S[p].message),S}if(x&&!$&&Ar(g)){const{value:Q,message:q}=hi(x);if(Id(Q)&&!g.match(Q)&&(S[p]={type:rs.pattern,message:q,ref:o,...R(rs.pattern,q)},!n))return b(q),S}if(m){if(pn(m)){const Q=await m(g,r),q=Ux(Q,v);if(q&&(S[p]={...q,...R(rs.validate,q.message)},!n))return b(q.message),S}else if(Rt(m)){let Q={};for(const q in m){if(!br(Q)&&!n)break;const se=Ux(await m[q](g,r),v,q);se&&(Q={...se,...R(q,se.message)},b(se.message),n&&(S[p]=Q))}if(!br(Q)&&(S[p]={ref:v,...Q},!n))return S}}return b(!0),S};const f3={mode:mn.onSubmit,reValidateMode:mn.onChange,shouldFocusError:!0};function h3(e={}){let t={...f3,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:pn(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},s=Rt(t.defaultValues)||Rt(t.values)?Bt(t.defaultValues||t.values)||{}:{},a=t.shouldUnregister?{}:Bt(s),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const h={array:Ax(),state:Ax()},x=t.criteriaMode===mn.all,m=D=>k=>{clearTimeout(u),u=setTimeout(D,k)},p=async D=>{if(!t.disabled&&(d.isValid||f.isValid||D)){const k=t.resolver?br((await _()).errors):await $(n,!0);k!==r.isValid&&h.state.next({isValid:k})}},w=(D,k)=>{!t.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((D||Array.from(l.mount)).forEach(W=>{W&&(k?yt(r.validatingFields,W,k):Pt(r.validatingFields,W))}),h.state.next({validatingFields:r.validatingFields,isValidating:!br(r.validatingFields)}))},y=(D,k=[],W,ie,ne=!0,oe=!0)=>{if(ie&&W&&!t.disabled){if(o.action=!0,oe&&Array.isArray(Ce(n,D))){const me=W(Ce(n,D),ie.argA,ie.argB);ne&&yt(n,D,me)}if(oe&&Array.isArray(Ce(r.errors,D))){const me=W(Ce(r.errors,D),ie.argA,ie.argB);ne&&yt(r.errors,D,me),u3(r.errors,D)}if((d.touchedFields||f.touchedFields)&&oe&&Array.isArray(Ce(r.touchedFields,D))){const me=W(Ce(r.touchedFields,D),ie.argA,ie.argB);ne&&yt(r.touchedFields,D,me)}(d.dirtyFields||f.dirtyFields)&&(r.dirtyFields=pi(s,a)),h.state.next({name:D,isDirty:Y(D,k),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else yt(a,D,k)},g=(D,k)=>{yt(r.errors,D,k),h.state.next({errors:r.errors})},v=D=>{r.errors=D,h.state.next({errors:r.errors,isValid:!1})},b=(D,k,W,ie)=>{const ne=Ce(n,D);if(ne){const oe=Ce(a,D,At(W)?Ce(s,D):W);At(oe)||ie&&ie.defaultChecked||k?yt(a,D,k?oe:$x(ne._f)):se(D,oe),o.mount&&p()}},S=(D,k,W,ie,ne)=>{let oe=!1,me=!1;const _e={name:D};if(!t.disabled){if(!W||ie){(d.isDirty||f.isDirty)&&(me=r.isDirty,r.isDirty=_e.isDirty=Y(),oe=me!==_e.isDirty);const je=Hs(Ce(s,D),k);me=!!Ce(r.dirtyFields,D),je?Pt(r.dirtyFields,D):yt(r.dirtyFields,D,!0),_e.dirtyFields=r.dirtyFields,oe=oe||(d.dirtyFields||f.dirtyFields)&&me!==!je}if(W){const je=Ce(r.touchedFields,D);je||(yt(r.touchedFields,D,W),_e.touchedFields=r.touchedFields,oe=oe||(d.touchedFields||f.touchedFields)&&je!==W)}oe&&ne&&h.state.next(_e)}return oe?_e:{}},j=(D,k,W,ie)=>{const ne=Ce(r.errors,D),oe=(d.isValid||f.isValid)&&On(k)&&r.isValid!==k;if(t.delayError&&W?(c=m(()=>g(D,W)),c(t.delayError)):(clearTimeout(u),c=null,W?yt(r.errors,D,W):Pt(r.errors,D)),(W?!Hs(ne,W):ne)||!br(ie)||oe){const me={...ie,...oe&&On(k)?{isValid:k}:{},errors:r.errors,name:D};r={...r,...me},h.state.next(me)}},_=async D=>{w(D,!0);const k=await t.resolver(a,t.context,s3(D||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return w(D),k},T=async D=>{const{errors:k}=await _(D);if(D)for(const W of D){const ie=Ce(k,W);ie?yt(r.errors,W,ie):Pt(r.errors,W)}else r.errors=k;return k},$=async(D,k,W={valid:!0})=>{for(const ie in D){const ne=D[ie];if(ne){const{_f:oe,...me}=ne;if(oe){const _e=l.array.has(oe.name),je=ne._f&&a3(ne._f);je&&d.validatingFields&&w([oe.name],!0);const Ee=await Bx(ne,l.disabled,a,x,t.shouldUseNativeValidation&&!k,_e);if(je&&d.validatingFields&&w([oe.name]),Ee[oe.name]&&(W.valid=!1,k))break;!k&&(Ce(Ee,oe.name)?_e?d3(r.errors,Ee,oe.name):yt(r.errors,oe.name,Ee[oe.name]):Pt(r.errors,oe.name))}!br(me)&&await $(me,k,W)}}return W.valid},R=()=>{for(const D of l.unMount){const k=Ce(n,D);k&&(k._f.refs?k._f.refs.every(W=>!Qh(W)):!Qh(k._f.ref))&&G(D)}l.unMount=new Set},Y=(D,k)=>!t.disabled&&(D&&k&&yt(a,D,k),!Hs(ue(),s)),Q=(D,k,W)=>J$(D,l,{...o.mount?a:At(k)?s:Ar(D)?{[D]:k}:k},W,k),q=D=>py(Ce(o.mount?a:s,D,t.shouldUnregister?Ce(s,D,[]):[])),se=(D,k,W={})=>{const ie=Ce(n,D);let ne=k;if(ie){const oe=ie._f;oe&&(!oe.disabled&&yt(a,D,FS(k,oe)),ne=$d(oe.ref)&&dr(k)?"":k,$S(oe.ref)?[...oe.ref.options].forEach(me=>me.selected=ne.includes(me.value)):oe.refs?_c(oe.ref)?oe.refs.forEach(me=>{(!me.defaultChecked||!me.disabled)&&(Array.isArray(ne)?me.checked=!!ne.find(_e=>_e===me.value):me.checked=ne===me.value||!!ne)}):oe.refs.forEach(me=>me.checked=me.value===ne):yy(oe.ref)?oe.ref.value="":(oe.ref.value=ne,oe.ref.type||h.state.next({name:D,values:Bt(a)})))}(W.shouldDirty||W.shouldTouch)&&S(D,ne,W.shouldTouch,W.shouldDirty,!0),W.shouldValidate&&H(D)},pe=(D,k,W)=>{for(const ie in k){if(!k.hasOwnProperty(ie))return;const ne=k[ie],oe=D+"."+ie,me=Ce(n,oe);(l.array.has(D)||Rt(ne)||me&&!me._f)&&!Ma(ne)?pe(oe,ne,W):se(oe,ne,W)}},te=(D,k,W={})=>{const ie=Ce(n,D),ne=l.array.has(D),oe=Bt(k);yt(a,D,oe),ne?(h.array.next({name:D,values:Bt(a)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&W.shouldDirty&&h.state.next({name:D,dirtyFields:pi(s,a),isDirty:Y(D,oe)})):ie&&!ie._f&&!dr(oe)?pe(D,oe,W):se(D,oe,W),Fx(D,l)&&h.state.next({...r,name:D}),h.state.next({name:o.mount?D:void 0,values:Bt(a)})},be=async D=>{o.mount=!0;const k=D.target;let W=k.name,ie=!0;const ne=Ce(n,W),oe=je=>{ie=Number.isNaN(je)||Ma(je)&&isNaN(je.getTime())||Hs(je,Ce(a,W,je))},me=Ix(t.mode),_e=Ix(t.reValidateMode);if(ne){let je,Ee;const it=k.type?$x(ne._f):V$(D),qe=D.type===Px.BLUR||D.type===Px.FOCUS_OUT,tt=!i3(ne._f)&&!t.resolver&&!Ce(r.errors,W)&&!ne._f.deps||c3(qe,Ce(r.touchedFields,W),r.isSubmitted,_e,me),Ge=Fx(W,l,qe);yt(a,W,it),qe?(!k||!k.readOnly)&&(ne._f.onBlur&&ne._f.onBlur(D),c&&c(0)):ne._f.onChange&&ne._f.onChange(D);const gt=S(W,it,qe),nt=!br(gt)||Ge;if(!qe&&h.state.next({name:W,type:D.type,values:Bt(a)}),tt)return(d.isValid||f.isValid)&&(t.mode==="onBlur"?qe&&p():qe||p()),nt&&h.state.next({name:W,...Ge?{}:gt});if(!qe&&Ge&&h.state.next({...r}),t.resolver){const{errors:vr}=await _([W]);if(oe(it),ie){const sn=Wx(r.errors,n,W),F=Wx(vr,n,sn.name||W);je=F.error,W=F.name,Ee=br(vr)}}else w([W],!0),je=(await Bx(ne,l.disabled,a,x,t.shouldUseNativeValidation))[W],w([W]),oe(it),ie&&(je?Ee=!1:(d.isValid||f.isValid)&&(Ee=await $(n,!0)));ie&&(ne._f.deps&&(!Array.isArray(ne._f.deps)||ne._f.deps.length>0)&&H(ne._f.deps),j(W,Ee,je,gt))}},ee=(D,k)=>{if(Ce(r.errors,k)&&D.focus)return D.focus(),1},H=async(D,k={})=>{let W,ie;const ne=vl(D);if(t.resolver){const oe=await T(At(D)?D:ne);W=br(oe),ie=D?!ne.some(me=>Ce(oe,me)):W}else D?(ie=(await Promise.all(ne.map(async oe=>{const me=Ce(n,oe);return await $(me&&me._f?{[oe]:me}:me)}))).every(Boolean),!(!ie&&!r.isValid)&&p()):ie=W=await $(n);return h.state.next({...!Ar(D)||(d.isValid||f.isValid)&&W!==r.isValid?{}:{name:D},...t.resolver||!D?{isValid:W}:{},errors:r.errors}),k.shouldFocus&&!ie&&xl(n,ee,D?ne:l.mount),ie},ue=(D,k)=>{let W={...o.mount?a:s};return k&&(W=RS(k.dirtyFields?r.dirtyFields:r.touchedFields,W)),At(D)?W:Ar(D)?Ce(W,D):D.map(ie=>Ce(W,ie))},C=(D,k)=>({invalid:!!Ce((k||r).errors,D),isDirty:!!Ce((k||r).dirtyFields,D),error:Ce((k||r).errors,D),isValidating:!!Ce(r.validatingFields,D),isTouched:!!Ce((k||r).touchedFields,D)}),L=D=>{D&&vl(D).forEach(k=>Pt(r.errors,k)),h.state.next({errors:D?r.errors:{}})},E=(D,k,W)=>{const ie=(Ce(n,D,{_f:{}})._f||{}).ref,ne=Ce(r.errors,D)||{},{ref:oe,message:me,type:_e,...je}=ne;yt(r.errors,D,{...je,...k,ref:ie}),h.state.next({name:D,errors:r.errors,isValid:!1}),W&&W.shouldFocus&&ie&&ie.focus&&ie.focus()},A=(D,k)=>pn(D)?h.state.subscribe({next:W=>"values"in W&&D(Q(void 0,k),W)}):Q(D,k,!0),K=D=>h.state.subscribe({next:k=>{l3(D.name,k.name,D.exact)&&o3(k,D.formState||d,de,D.reRenderRoot)&&D.callback({values:{...a},...r,...k,defaultValues:s})}}).unsubscribe,I=D=>(o.mount=!0,f={...f,...D.formState},K({...D,formState:f})),G=(D,k={})=>{for(const W of D?vl(D):l.mount)l.mount.delete(W),l.array.delete(W),k.keepValue||(Pt(n,W),Pt(a,W)),!k.keepError&&Pt(r.errors,W),!k.keepDirty&&Pt(r.dirtyFields,W),!k.keepTouched&&Pt(r.touchedFields,W),!k.keepIsValidating&&Pt(r.validatingFields,W),!t.shouldUnregister&&!k.keepDefaultValue&&Pt(s,W);h.state.next({values:Bt(a)}),h.state.next({...r,...k.keepDirty?{isDirty:Y()}:{}}),!k.keepIsValid&&p()},J=({disabled:D,name:k})=>{(On(D)&&o.mount||D||l.disabled.has(k))&&(D?l.disabled.add(k):l.disabled.delete(k))},U=(D,k={})=>{let W=Ce(n,D);const ie=On(k.disabled)||On(t.disabled);return yt(n,D,{...W||{},_f:{...W&&W._f?W._f:{ref:{name:D}},name:D,mount:!0,...k}}),l.mount.add(D),W?J({disabled:On(k.disabled)?k.disabled:t.disabled,name:D}):b(D,!0,k.value),{...ie?{disabled:k.disabled||t.disabled}:{},...t.progressive?{required:!!k.required,min:Ko(k.min),max:Ko(k.max),minLength:Ko(k.minLength),maxLength:Ko(k.maxLength),pattern:Ko(k.pattern)}:{},name:D,onChange:be,onBlur:be,ref:ne=>{if(ne){U(D,k),W=Ce(n,D);const oe=At(ne.value)&&ne.querySelectorAll&&ne.querySelectorAll("input,select,textarea")[0]||ne,me=e3(oe),_e=W._f.refs||[];if(me?_e.find(je=>je===oe):oe===W._f.ref)return;yt(n,D,{_f:{...W._f,...me?{refs:[..._e.filter(Qh),oe,...Array.isArray(Ce(s,D))?[{}]:[]],ref:{type:oe.type,name:D}}:{ref:oe}}}),b(D,!1,void 0,oe)}else W=Ce(n,D,{}),W._f&&(W._f.mount=!1),(t.shouldUnregister||k.shouldUnregister)&&!(q$(l.array,D)&&o.action)&&l.unMount.add(D)}}},P=()=>t.shouldFocusError&&xl(n,ee,l.mount),V=D=>{On(D)&&(h.state.next({disabled:D}),xl(n,(k,W)=>{const ie=Ce(n,W);ie&&(k.disabled=ie._f.disabled||D,Array.isArray(ie._f.refs)&&ie._f.refs.forEach(ne=>{ne.disabled=ie._f.disabled||D}))},0,!1))},re=(D,k)=>async W=>{let ie;W&&(W.preventDefault&&W.preventDefault(),W.persist&&W.persist());let ne=Bt(a);if(h.state.next({isSubmitting:!0}),t.resolver){const{errors:oe,values:me}=await _();r.errors=oe,ne=Bt(me)}else await $(n);if(l.disabled.size)for(const oe of l.disabled)Pt(ne,oe);if(Pt(r.errors,"root"),br(r.errors)){h.state.next({errors:{}});try{await D(ne,W)}catch(oe){ie=oe}}else k&&await k({...r.errors},W),P(),setTimeout(P);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:br(r.errors)&&!ie,submitCount:r.submitCount+1,errors:r.errors}),ie)throw ie},ce=(D,k={})=>{Ce(n,D)&&(At(k.defaultValue)?te(D,Bt(Ce(s,D))):(te(D,k.defaultValue),yt(s,D,Bt(k.defaultValue))),k.keepTouched||Pt(r.touchedFields,D),k.keepDirty||(Pt(r.dirtyFields,D),r.isDirty=k.defaultValue?Y(D,Bt(Ce(s,D))):Y()),k.keepError||(Pt(r.errors,D),d.isValid&&p()),h.state.next({...r}))},Ne=(D,k={})=>{const W=D?Bt(D):s,ie=Bt(W),ne=br(D),oe=ne?s:ie;if(k.keepDefaultValues||(s=W),!k.keepValues){if(k.keepDirtyValues){const me=new Set([...l.mount,...Object.keys(pi(s,a))]);for(const _e of Array.from(me))Ce(r.dirtyFields,_e)?yt(oe,_e,Ce(a,_e)):te(_e,Ce(oe,_e))}else{if(my&&At(D))for(const me of l.mount){const _e=Ce(n,me);if(_e&&_e._f){const je=Array.isArray(_e._f.refs)?_e._f.refs[0]:_e._f.ref;if($d(je)){const Ee=je.closest("form");if(Ee){Ee.reset();break}}}}if(k.keepFieldsRef)for(const me of l.mount)te(me,Ce(oe,me));else n={}}a=t.shouldUnregister?k.keepDefaultValues?Bt(s):{}:Bt(oe),h.array.next({values:{...oe}}),h.state.next({values:{...oe}})}l={mount:k.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!k.keepIsValid||!!k.keepDirtyValues,o.watch=!!t.shouldUnregister,h.state.next({submitCount:k.keepSubmitCount?r.submitCount:0,isDirty:ne?!1:k.keepDirty?r.isDirty:!!(k.keepDefaultValues&&!Hs(D,s)),isSubmitted:k.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:ne?{}:k.keepDirtyValues?k.keepDefaultValues&&a?pi(s,a):r.dirtyFields:k.keepDefaultValues&&D?pi(s,D):k.keepDirty?r.dirtyFields:{},touchedFields:k.keepTouched?r.touchedFields:{},errors:k.keepErrors?r.errors:{},isSubmitSuccessful:k.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:s})},Me=(D,k)=>Ne(pn(D)?D(a):D,k),O=(D,k={})=>{const W=Ce(n,D),ie=W&&W._f;if(ie){const ne=ie.refs?ie.refs[0]:ie.ref;ne.focus&&(ne.focus(),k.shouldSelect&&pn(ne.select)&&ne.select())}},de=D=>{r={...r,...D}},z={control:{register:U,unregister:G,getFieldState:C,handleSubmit:re,setError:E,_subscribe:K,_runSchema:_,_focusError:P,_getWatch:Q,_getDirty:Y,_setValid:p,_setFieldArray:y,_setDisabledField:J,_setErrors:v,_getFieldArray:q,_reset:Ne,_resetDefaultValues:()=>pn(t.defaultValues)&&t.defaultValues().then(D=>{Me(D,t.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:R,_disableForm:V,_subjects:h,_proxyFormState:d,get _fields(){return n},get _formValues(){return a},get _state(){return o},set _state(D){o=D},get _defaultValues(){return s},get _names(){return l},set _names(D){l=D},get _formState(){return r},get _options(){return t},set _options(D){t={...t,...D}}},subscribe:I,trigger:H,register:U,handleSubmit:re,watch:A,setValue:te,getValues:ue,reset:Me,resetField:ce,clearErrors:L,unregister:G,setError:E,setFocus:O,getFieldState:C};return{...z,formControl:z}}function wo(e={}){const t=B.useRef(void 0),r=B.useRef(void 0),[n,s]=B.useState({isDirty:!1,isValidating:!1,isLoading:pn(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:pn(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!pn(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...l}=h3(e);t.current={...l,formState:n}}const a=t.current.control;return a._options=e,X$(()=>{const o=a._subscribe({formState:a._proxyFormState,callback:()=>s({...a._formState}),reRenderRoot:!0});return s(l=>({...l,isReady:!0})),a._formState.isReady=!0,o},[a]),B.useEffect(()=>a._disableForm(e.disabled),[a,e.disabled]),B.useEffect(()=>{e.mode&&(a._options.mode=e.mode),e.reValidateMode&&(a._options.reValidateMode=e.reValidateMode)},[a,e.mode,e.reValidateMode]),B.useEffect(()=>{e.errors&&(a._setErrors(e.errors),a._focusError())},[a,e.errors]),B.useEffect(()=>{e.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[a,e.shouldUnregister]),B.useEffect(()=>{if(a._proxyFormState.isDirty){const o=a._getDirty();o!==n.isDirty&&a._subjects.state.next({isDirty:o})}},[a,n.isDirty]),B.useEffect(()=>{e.values&&!Hs(e.values,r.current)?(a._reset(e.values,{keepFieldsRef:!0,...a._options.resetOptions}),r.current=e.values,s(o=>({...o}))):a._resetDefaultValues()},[a,e.values]),B.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),t.current.formState=Q$(n,a),t.current}const Hx=["","","","","",""],US=({event:e,slotInfo:t,defaultProjectName:r,onClose:n,onSave:s,onDelete:a})=>{const{register:o,handleSubmit:l,setValue:c,watch:u,formState:{errors:d},reset:f}=wo({defaultValues:{projectId:"",title:"",date:"",description:""}}),{projects:h}=en(),[x,m]=N.useState([]),[p,w]=N.useState(""),[y,g]=N.useState(!1),[v,b]=N.useState(""),[S,j]=N.useState(9),[_,T]=N.useState(0),[$,R]=N.useState(""),Y=u("projectId");N.useEffect(()=>{if(Y){const H=h.find(ue=>ue.id===Y||ue.id===parseInt(Y)||ue.id.toString()===Y.toString());console.log(" Selected project:",H==null?void 0:H.name),console.log(" Project team:",H==null?void 0:H.team),console.log(" Current selectedMembers:",x)}},[Y,h,x]),N.useEffect(()=>{console.log(" Modal mount - initializing states"),m([]),R(""),w("")},[]),N.useEffect(()=>{if(console.log(" ScheduleModal useEffect triggered:",{hasEvent:!!e,eventId:e==null?void 0:e.id,hasSlotInfo:!!t,hasMergedEvents:!!(e!=null&&e.mergedEventIds)}),e&&e.id){console.log(" ScheduleModal processing event:",{title:e.title,projectId:e.projectId,projectName:e.projectName,start:e.start,assignedTo:e.assignedTo,time:e.time});const H=e.originalTitle||e.title,ue=/ - (|) \d{1,2}$/,C=H.replace(ue,"");if(c("title",C,{shouldValidate:!1,shouldDirty:!1}),c("date",Pe(e.start,"yyyy-MM-dd"),{shouldValidate:!1,shouldDirty:!1}),c("description",e.description||"",{shouldValidate:!1,shouldDirty:!1}),e.projectId&&e.projectId!==""&&e.projectId!=="undefined")console.log(" Setting projectId from event:",e.projectId),c("projectId",e.projectId,{shouldValidate:!1,shouldDirty:!1}),R("");else if(e.projectName){const E=h.find(A=>A.name===e.projectName);console.log(" Finding project by name:",e.projectName,"found:",E),E?(console.log(" Setting projectId from found project:",E.id),c("projectId",E.id,{shouldValidate:!1,shouldDirty:!1}),R("")):(console.log(" Project not found, leaving empty"),c("projectId","",{shouldValidate:!1,shouldDirty:!1}),R(""))}else console.log(" No project info, leaving empty"),c("projectId","",{shouldValidate:!1,shouldDirty:!1}),R("");const L=e.assignedTo||e.attendees||[];if(console.log(" Setting selectedMembers to:",L),m(Array.isArray(L)?L:[]),e.time&&e.time!=="-"){console.log(" Setting time from event:",{eventTime:e.time,parsedHours:e.time.split(":")[0],parsedMinutes:e.time.split(":")[1]}),g(!0);const[E,A]=e.time.split(":"),K=parseInt(E,10),I=parseInt(A,10);K>=12?(b(""),j(K===12?12:K-12)):(b(""),j(K===0?12:K)),T(I),console.log(" Time state set:",{hasTime:!0,period:K>=12?"":"",hour:K>=12?K===12?12:K-12:K===0?12:K,minute:I})}else console.log(" No time in event, setting hasTime to false"),g(!1),b(""),j(9),T(0)}else if(t&&!e&&(console.log(" New schedule from slot:",t),f({projectId:"",title:"",date:Pe(t.start,"yyyy-MM-dd"),description:""}),console.log(" New schedule - resetting selectedMembers to empty array"),m([]),R(""),r)){const H=h.find(ue=>ue.name===r);H&&c("projectId",H.id,{shouldValidate:!1,shouldDirty:!1})}},[e==null?void 0:e.id]);const Q=H=>{console.log(" toggleMember called with:",H),console.log(" Current selectedMembers before toggle:",x),m(ue=>{console.log(" Previous members in setState:",ue);const C=ue.includes(H)?ue.filter(L=>L!==H):[...ue,H];return console.log(" Updated members after toggle:",C),C})},q=()=>{const H="HV LAB";x.includes(H)?m(ue=>ue.filter(C=>C!==H)):m(ue=>[...ue,H])},se=()=>{const H="";x.includes(H)?m(ue=>ue.filter(C=>C!==H)):m(ue=>[...ue,H])},pe=()=>{const H="";x.includes(H)?m(ue=>ue.filter(C=>C!==H)):m(ue=>[...ue,H])},te=()=>{p.trim()&&!x.includes(p.trim())&&(m(H=>[...H,p.trim()]),w(""))},be=H=>{m(ue=>ue.filter(C=>C!==H))},ee=async H=>{console.log(" Form onSubmit called with data:",H),console.log(" selectedMembers:",x),console.log(" hasTime state:",y),console.log(" timePeriod:",v,"timeHour:",S,"timeMinute:",_),console.log(" Available projects:",h.map(G=>({id:G.id,name:G.name,idType:typeof G.id}))),console.log(" Merged event IDs:",e==null?void 0:e.mergedEventIds);const ue=/ - (|) \d{1,2}$/,C=H.title.replace(ue,"").trim();let L="",E="";if(H.projectId){const G=h.find(J=>J.id===H.projectId||J.id===parseInt(H.projectId)||J.id.toString()===H.projectId.toString());console.log(" Looking for project with id:",H.projectId,"type:",typeof H.projectId),console.log(" Found project:",G),L=(G==null?void 0:G.name)||"",E=H.projectId}else L="",E="";console.log(" Final projectId:",E,"projectName:",L,"cleanedTitle:",C);const A=new Date(H.date);let K="-";if(y){let G=S;v===""&&S!==12?G=S+12:v===""&&S===12&&(G=0),K=`${G.toString().padStart(2,"0")}:${_.toString().padStart(2,"0")}`,console.log(" Time calculated:",K)}else console.log(" No time set (hasTime is false)");const I={...e,title:C,start:A,end:A,projectId:E,projectName:L,assignedTo:x,description:H.description||"",time:K,mergedEventIds:e==null?void 0:e.mergedEventIds};console.log(" Calling onSave with newEvent:",I);try{await s(I),console.log(" onSave completed successfully")}catch(G){throw console.error(" onSave failed:",G),G}};return console.log(" Rendering ScheduleModal with selectedMembers:",x),i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-3 md:p-4",children:i.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"flex items-center justify-between p-4 md:p-6 border-b",children:[i.jsx("h2",{className:"text-lg md:text-xl font-semibold",children:e?" ":"  "}),i.jsx("button",{onClick:n,className:"p-1.5 md:p-2 hover:bg-gray-100 rounded-lg transition-colors",children:i.jsx(ct,{className:"h-5 w-5"})})]}),i.jsxs("form",{onSubmit:l(ee),className:"p-4 md:p-6 space-y-3 md:space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),i.jsxs("select",{...o("projectId"),className:"input w-full",children:[i.jsx("option",{value:""}),h.filter(H=>e!=null&&e.isASVisit?!0:H.status!=="completed").map(H=>i.jsx("option",{value:H.id,children:H.name},H.id))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  *"}),i.jsx("input",{...o("title",{required:" "}),type:"text",className:"input w-full"}),d.title&&i.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(d.title.message)})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"}),i.jsx("input",{...o("date",{required:" "}),type:"date",className:"input w-full"}),d.date&&i.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(d.date.message)})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),i.jsx("div",{className:"mb-2",children:i.jsx("button",{type:"button",onClick:()=>g(!y),className:`px-3 py-1.5 text-xs rounded border transition-colors ${y?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:y?" ":"  (-)"})}),y&&i.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[i.jsxs("div",{className:"flex gap-1",children:[i.jsx("button",{type:"button",onClick:()=>b(""),className:`px-3 py-1.5 text-xs rounded border transition-colors ${v===""?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:""}),i.jsx("button",{type:"button",onClick:()=>b(""),className:`px-3 py-1.5 text-xs rounded border transition-colors ${v===""?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:""})]}),i.jsx("select",{value:S,onChange:H=>j(parseInt(H.target.value)),className:"flex-1 min-w-[80px] max-w-[120px] px-2 py-1.5 text-sm border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-gray-500",children:[12,1,2,3,4,5,6,7,8,9,10,11].map(H=>i.jsxs("option",{value:H,children:[H,""]},H))}),i.jsx("select",{value:_,onChange:H=>T(parseInt(H.target.value)),className:"flex-1 min-w-[80px] max-w-[120px] px-2 py-1.5 text-sm border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-gray-500",children:[0,10,20,30,40,50].map(H=>i.jsxs("option",{value:H,children:[H,""]},H))})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" (  )"}),i.jsxs("div",{className:"flex flex-wrap gap-1.5 mb-2",children:[i.jsx("button",{type:"button",onClick:q,className:`px-2.5 py-1.5 rounded border transition-colors text-sm ${x.includes("HV LAB")?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:"HV LAB"}),i.jsx("button",{type:"button",onClick:se,className:`px-2.5 py-1.5 rounded border transition-colors text-sm ${x.includes("")?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:""}),i.jsx("button",{type:"button",onClick:pe,className:`px-2.5 py-1.5 rounded border transition-colors text-sm ${x.includes("")?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:""}),Hx.map(H=>i.jsx("button",{type:"button",onClick:()=>Q(H),className:`px-2.5 py-1.5 rounded border transition-colors text-sm ${x.includes(H)?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:H},H)),x.filter(H=>!Hx.includes(H)&&H!=="HV LAB"&&H!==""&&H!=="").map(H=>i.jsxs("button",{type:"button",onClick:()=>be(H),className:"px-2.5 py-1.5 rounded border transition-colors text-sm bg-gray-900 text-white border-gray-900 hover:bg-gray-800",children:[H," "]},H))]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("input",{type:"text",value:p,onChange:H=>w(H.target.value),onKeyPress:H=>{H.key==="Enter"&&(H.preventDefault(),te())},className:"flex-1 px-3 py-1.5 border border-gray-300 rounded-lg text-xs focus:outline-none focus:ring-2 focus:ring-gray-500"}),i.jsx("button",{type:"button",onClick:te,className:"px-3 py-1.5 bg-gray-100 text-gray-700 rounded-lg text-xs font-medium hover:bg-gray-200 transition-colors",children:""})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),i.jsx("textarea",{...o("description"),rows:4,className:"input w-full text-sm md:text-base"})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between gap-2 sm:gap-0 pt-4 border-t",children:[i.jsx("div",{children:e&&i.jsxs("button",{type:"button",onClick:()=>{window.confirm("  ?")&&a(e.id)},className:"btn btn-outline text-red-600 hover:bg-red-50 flex items-center w-full sm:w-auto justify-center text-sm md:text-base",children:[i.jsx(ir,{className:"h-4 w-4 mr-2"}),""]})}),i.jsxs("div",{className:"flex gap-2 sm:space-x-3",children:[i.jsx("button",{type:"button",onClick:n,className:"btn btn-outline flex-1 sm:flex-none text-sm md:text-base",children:""}),i.jsx("button",{type:"submit",className:"btn btn-primary flex-1 sm:flex-none text-sm md:text-base",children:e?"":""})]})]})]})]})})},zx=["","","","","",""],m3=()=>{const{schedules:e,loadSchedulesFromAPI:t,addScheduleToAPI:r,deleteScheduleFromAPI:n}=en(),{user:s}=ba(),[a,o]=N.useState(!1),l=s!=null&&s.name?s.name.slice(-2):null,c=f=>{if(!f||f==="-")return"";const[h,x]=f.split(":"),m=parseInt(h,10),p=parseInt(x,10),w=m>=12?"":"",y=m%12||12;return p>0?`${w} ${y} ${p}`:`${w} ${y}`},u=l?[l,...zx.filter(f=>f!==l)]:zx,d=f=>{const h=e.filter(p=>p.attendees?!!(p.attendees.includes(f)||p.attendees.includes("HV LAB")||p.attendees.includes("")&&["",""].includes(f)||p.attendees.includes("")&&["","",""].includes(f)):!1),x=h.filter(p=>Tx(new Date(p.start))),m=h.filter(p=>c$(new Date(p.start))&&!Tx(new Date(p.start))).sort((p,w)=>new Date(p.start).getTime()-new Date(w.start).getTime()).slice(0,3);return{todaySchedules:x,upcomingSchedules:m,member:f}};return i.jsxs("div",{className:"space-y-3 md:space-y-4",children:[i.jsx("div",{children:i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 md:gap-4",children:u.map(f=>{const{todaySchedules:h,upcomingSchedules:x}=d(f),m=h.length+x.length,p=f===l;return i.jsxs("div",{className:`card p-4 md:p-4 ${p?"ring-1 ring-gray-400":""}`,children:[i.jsxs("div",{className:"flex items-center justify-between mb-4 pb-3 border-b border-gray-200",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("h3",{className:"font-bold text-lg md:text-lg text-gray-900",children:f}),p&&i.jsx("span",{className:"text-xs px-2 py-0.5 bg-gray-100/50 text-gray-900 rounded font-medium",children:""})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[p&&i.jsx("button",{onClick:()=>o(!0),className:"p-1.5 hover:bg-gray-100 rounded-full transition-colors",title:" ",children:i.jsx(gS,{className:"h-4 w-4 text-gray-700"})}),i.jsxs("span",{className:`text-xs px-2.5 py-1 ${p&&h.length>0?"bg-amber-100 text-gray-900":"bg-gray-100 text-gray-900"} rounded-full font-semibold whitespace-nowrap`,children:[h.length," "]}),i.jsxs("span",{className:"text-xs px-2.5 py-1 bg-gray-100 text-gray-700 rounded-full font-semibold whitespace-nowrap",children:[x.length," "]})]})]}),h.length>0&&i.jsxs("div",{className:"mb-4",children:[i.jsxs("div",{className:"flex items-center gap-1.5 mb-2",children:[i.jsx(Js,{className:"h-4 w-4 text-gray-900"}),i.jsx("p",{className:"text-xs font-semibold text-gray-900 uppercase",children:""})]}),i.jsx("div",{className:"space-y-2",children:(()=>{const w=h.reduce((y,g)=>{const v=g.project||"-";return y[v]||(y[v]=[]),y[v].push(g),y},{});return Object.entries(w).map(([y,g])=>{const v=f===l;return i.jsxs("div",{className:`border-l-3 ${v?"border-gray-400":"border-gray-900"} ${v?"bg-amber-50":"bg-gray-50"} rounded-r overflow-hidden`,children:[i.jsx("div",{className:`px-3 py-1.5 ${v?"bg-amber-100":"bg-gray-100"} border-b ${v?"border-amber-200":"border-gray-200"}`,children:i.jsx("span",{className:"text-xs font-semibold text-gray-900",children:y})}),i.jsx("div",{className:"px-3 py-2 space-y-1",children:g.map(b=>{const S=b.time&&b.time!=="-"?` - ${c(b.time)}`:"";return i.jsxs("p",{className:"font-medium text-gray-900 text-sm leading-relaxed",children:[" ",b.title,S]},b.id)})})]},y)})})()})]}),x.length>0&&i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-1.5 mb-2",children:[i.jsx(nM,{className:"h-4 w-4 text-gray-600"}),i.jsx("p",{className:"text-xs font-semibold text-gray-600 uppercase",children:""})]}),i.jsx("div",{className:"space-y-2",children:(()=>{const w=x.reduce((y,g)=>{const v=Pe(new Date(g.start),"MM.dd",{locale:Qe}),b=g.project||"-",S=`${v}|${b}`;return y[S]||(y[S]={date:v,project:b,schedules:[]}),y[S].schedules.push(g),y},{});return Object.values(w).map(({date:y,project:g,schedules:v})=>{const S=v.length>0&&h$(new Date(v[0].start))?`${y} ()`:y;return i.jsxs("div",{className:"border-l-3 border-gray-400 bg-gray-50 rounded-r overflow-hidden",children:[i.jsxs("div",{className:"px-3 py-1.5 bg-gray-100 border-b border-gray-200 flex items-center justify-between",children:[i.jsx("span",{className:"text-xs font-semibold text-gray-700",children:g}),i.jsx("span",{className:"text-xs text-gray-500 font-medium",children:S})]}),i.jsx("div",{className:"px-3 py-2 space-y-1",children:v.map(j=>{const _=j.time&&j.time!=="-"?` - ${c(j.time)}`:"";return i.jsxs("p",{className:"font-medium text-gray-900 text-sm leading-relaxed",children:[" ",j.title,_]},j.id)})})]},`${y}-${g}`)})})()})]}),m===0&&i.jsx("div",{className:"text-center py-8 text-gray-400 text-sm",children:"  "})]},f)})})}),a&&i.jsx(US,{event:null,slotInfo:{start:new Date,end:new Date},onClose:()=>o(!1),onSave:async f=>{try{console.log("Dashboard: Adding schedule...",f),await r({id:Date.now().toString(),title:f.title||"",start:f.start||new Date,end:f.end||new Date,type:"other",project:f.projectId||f.projectName||"",location:"",attendees:f.assignedTo||[],description:f.description||"",time:f.time}),console.log("Dashboard: Schedule added successfully"),await t(),console.log("Dashboard: Schedules fetched, closing modal"),o(!1)}catch(h){console.error("Failed to add schedule:",h),alert("  : "+(h instanceof Error?h.message:"   "))}},onDelete:async f=>{try{await n(f),await t(),o(!1)}catch(h){console.error("Failed to delete schedule:",h),alert("  : "+(h instanceof Error?h.message:"   "))}}})]})},p3=({value:e,detailValue:t="",onChange:r,onDetailChange:n,placeholder:s=" ",error:a})=>{const[o,l]=N.useState(!1),[c,u]=N.useState(e),[d,f]=N.useState(t),h=N.useRef(null);N.useEffect(()=>{const y=g=>{h.current&&!h.current.contains(g.target)&&l(!1)};return o&&document.addEventListener("mousedown",y),()=>{document.removeEventListener("mousedown",y)}},[o]),N.useEffect(()=>{u(e)},[e]),N.useEffect(()=>{f(t)},[t]);const x=()=>new Promise((y,g)=>{if(window.daum&&window.daum.Postcode){y(!0);return}const v=document.createElement("script");v.src="//t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js",v.async=!0,v.onload=()=>y(!0),v.onerror=()=>g(new Error("Kakao Postcode   ")),document.head.appendChild(v)}),m=y=>{const g=y.roadAddr||y.jibunAddr;u(g),r(g,d),l(!1)},p=y=>{const g=y.target.value;f(g),n&&n(g),c&&r(c,g)},w=async()=>{try{(!window.daum||!window.daum.Postcode)&&await x(),window.daum&&new window.daum.Postcode({oncomplete:function(y){const g={roadAddr:y.roadAddress,jibunAddr:y.jibunAddress||y.autoJibunAddress||"",zipNo:y.zonecode,bdNm:y.buildingName,siNm:y.sido,sggNm:y.sigungu,emdNm:y.bname,rn:y.roadname};m(g)}}).open()}catch(y){console.error("  :",y),alert("     .  .")}};return i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"relative",children:[i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("div",{className:"relative flex-1",children:[i.jsx("input",{type:"text",value:c,onClick:()=>w(),onChange:y=>{u(y.target.value),r(y.target.value,d)},placeholder:s,className:`input pr-8 cursor-pointer ${a?"border-red-500":""}`,readOnly:!0}),i.jsx(Pd,{className:"absolute right-2 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400 pointer-events-none"})]}),i.jsx("button",{type:"button",onClick:w,className:"px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg text-sm font-medium transition-colors",children:" "})]}),a&&i.jsx("p",{className:"mt-1 text-sm text-red-600",children:a})]}),i.jsx("div",{children:i.jsx("input",{type:"text",value:d,onChange:p,placeholder:" (/ )",className:"input",disabled:!c})}),c&&i.jsx("div",{className:"p-3 bg-gray-50 rounded-lg",children:i.jsxs("p",{className:"text-sm text-gray-600",children:[i.jsx("span",{className:"font-medium",children:" :"})," ",c,d&&`, ${d}`]})}),i.jsx("div",{id:"address-search-container",style:{display:"none",width:"100%",height:"400px"}})]})},Vx=["","","","","",""],g3=({project:e,onClose:t,onSave:r})=>{const{register:n,handleSubmit:s,setValue:a,reset:o,formState:{errors:l}}=wo({defaultValues:{name:"",client:"",location:"",detailLocation:"",startDate:"",endDate:""}}),[c,u]=N.useState([]),[d,f]=N.useState(""),[h,x]=N.useState(""),[m,p]=N.useState("");N.useEffect(()=>{var b;if(e){const S=e.location?e.location.split(","):["",""],j=((b=S[0])==null?void 0:b.trim())||e.location||"",_=S.length>1?S.slice(1).join(",").trim():"";o({name:e.name,client:e.client||"",location:j,detailLocation:_,startDate:e.startDate?new Date(e.startDate).toISOString().split("T")[0]:"",endDate:e.endDate?new Date(e.endDate).toISOString().split("T")[0]:""}),x(j),p(_);const T=e.manager?e.manager.split(",").map($=>$.trim()).filter($=>$&&$!==""):[];u(T)}else o({name:"",client:"",location:"",detailLocation:"",startDate:"",endDate:""}),x(""),p(""),u([])},[e,o]);const w=b=>{u(S=>S.includes(b)?S.filter(j=>j!==b):[...S,b])},y=()=>{d.trim()&&!c.includes(d.trim())&&(u(b=>[...b,d.trim()]),f(""))},g=b=>{u(S=>S.filter(j=>j!==b))},v=b=>{console.log(" ProjectModal onSubmit - Raw form data:",b);const S=h&&m?`${h}, ${m}`:h||b.location,j={name:b.name,client:b.client,location:S,manager:c.join(", "),contractAmount:(e==null?void 0:e.contractAmount)??0,spent:(e==null?void 0:e.spent)??0,status:(e==null?void 0:e.status)??"planning",progress:(e==null?void 0:e.progress)??0,description:(e==null?void 0:e.description)??"",meetingNotes:(e==null?void 0:e.meetingNotes)??[],customerRequests:(e==null?void 0:e.customerRequests)??[],entrancePassword:(e==null?void 0:e.entrancePassword)??"",sitePassword:(e==null?void 0:e.sitePassword)??""};if(b.startDate&&b.startDate!=="")j.startDate=b.startDate,console.log(" Setting startDate from form:",b.startDate);else if(e!=null&&e.startDate){const _=typeof e.startDate=="string"&&e.startDate.includes("T")?e.startDate.split("T")[0]:e.startDate;j.startDate=_,console.log(" Keeping existing startDate:",j.startDate)}if(b.endDate&&b.endDate!=="")j.endDate=b.endDate,console.log(" Setting endDate from form:",b.endDate);else if(e!=null&&e.endDate){const _=typeof e.endDate=="string"&&e.endDate.includes("T")?e.endDate.split("T")[0]:e.endDate;j.endDate=_,console.log(" Keeping existing endDate:",j.endDate)}console.log(" ProjectModal onSubmit - Final formData:",j),r(j)};return i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-3 md:p-4",children:i.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"flex items-center justify-between p-4 md:p-6 border-b sticky top-0 bg-white z-10",children:[i.jsx("h2",{className:"text-lg md:text-xl font-semibold",children:e?" ":" "}),i.jsx("button",{onClick:t,className:"p-1.5 md:p-2 hover:bg-gray-100 rounded-lg transition-colors",children:i.jsx(ct,{className:"h-5 w-5"})})]}),i.jsxs("form",{onSubmit:s(v),className:"p-4 md:p-6 space-y-4 md:space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"}),i.jsx("input",{...n("name",{required:" "}),type:"text",className:"input"}),l.name&&i.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(l.name.message)})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),i.jsx("input",{...n("client"),type:"text",className:"input"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"}),i.jsx(p3,{value:h,detailValue:m,onChange:(b,S)=>{x(b),p(S||""),a("location",b),a("detailLocation",S||"")},onDetailChange:b=>{p(b),a("detailLocation",b)},placeholder:"  ",required:!0,error:l.location?String(l.location.message):void 0})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),i.jsx("input",{...n("startDate"),type:"date",className:"input"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),i.jsx("input",{...n("endDate"),type:"date",className:"input"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" (  )"}),i.jsxs("div",{className:"flex flex-wrap gap-1.5 mb-2",children:[Vx.map(b=>i.jsx("button",{type:"button",onClick:()=>w(b),className:`px-2.5 py-1.5 rounded border transition-colors text-sm ${c.includes(b)?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:b},b)),c.filter(b=>!Vx.includes(b)).map(b=>i.jsxs("button",{type:"button",onClick:()=>g(b),className:"px-2.5 py-1.5 rounded border transition-colors text-sm bg-gray-900 text-white border-gray-900 hover:bg-gray-800",children:[b," "]},b))]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("input",{type:"text",value:d,onChange:b=>f(b.target.value),onKeyPress:b=>{b.key==="Enter"&&(b.preventDefault(),y())},placeholder:"   ",className:"flex-1 px-3 py-1.5 border border-gray-300 rounded-lg text-xs focus:outline-none focus:ring-2 focus:ring-gray-500"}),i.jsx("button",{type:"button",onClick:y,className:"px-3 py-1.5 bg-gray-100 text-gray-700 rounded-lg text-xs font-medium hover:bg-gray-200 transition-colors",children:""})]})]}),i.jsxs("div",{className:"flex justify-end space-x-2 md:space-x-3 pt-4 border-t",children:[i.jsx("button",{type:"button",onClick:t,className:"btn btn-outline text-sm md:text-base",children:""}),i.jsx("button",{type:"submit",className:"btn btn-primary text-sm md:text-base",children:e?"":""})]})]})]})})},y3=({projectName:e,meetingNotes:t,onClose:r,onSave:n,onDelete:s})=>{const[a,o]=N.useState(""),[l,c]=N.useState(new Date().toISOString().split("T")[0]),[u,d]=N.useState(!1),f=()=>{d(!0),o(""),c(new Date().toISOString().split("T")[0])},h=()=>{if(!a.trim()){alert(" ");return}if(!l){alert(" ");return}n(a.trim(),new Date(l)),o(""),c(new Date().toISOString().split("T")[0]),d(!1)},x=()=>{o(""),c(new Date().toISOString().split("T")[0]),d(!1)},m=p=>{window.confirm("   ?")&&s(p)};return i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",onClick:r,children:i.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[80vh] flex flex-col shadow-xl",onClick:p=>p.stopPropagation(),children:[i.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:" "}),i.jsx("p",{className:"text-sm text-gray-500 mt-0.5",children:e})]}),i.jsx("button",{onClick:r,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:i.jsx(ct,{className:"h-5 w-5 text-gray-500"})})]}),i.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[!u&&i.jsx("button",{onClick:f,className:"w-full mb-4 px-4 py-2.5 border border-gray-300 rounded text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:"+ "}),u&&i.jsxs("div",{className:"mb-4 p-4 bg-gray-50 rounded border border-gray-200",children:[i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"}),i.jsx("input",{type:"date",value:l,onChange:p=>c(p.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded text-sm focus:outline-none focus:border-gray-900"})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  *"}),i.jsx("textarea",{value:a,onChange:p=>o(p.target.value),placeholder:"  ",className:"w-full px-3 py-2 border border-gray-300 rounded text-sm focus:outline-none focus:border-gray-900 resize-none",rows:4})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:h,className:"px-4 py-1.5 bg-gray-900 text-white text-sm rounded hover:bg-gray-800 transition-colors",children:""}),i.jsx("button",{onClick:x,className:"px-4 py-1.5 bg-gray-200 text-gray-700 text-sm rounded hover:bg-gray-300 transition-colors",children:""})]})]}),i.jsx("div",{className:"space-y-3",children:t.length===0?i.jsx("div",{className:"text-center py-12 text-gray-400 text-sm",children:"   "}):t.map(p=>i.jsx("div",{className:"p-4 bg-white border border-gray-200 rounded hover:border-gray-300 transition-colors group",children:i.jsxs("div",{className:"flex items-start justify-between gap-3",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm text-gray-600 mb-2",children:Pe(new Date(p.date),"yyyy.MM.dd (eee)",{locale:Qe})}),i.jsx("p",{className:"text-sm text-gray-900 whitespace-pre-wrap break-words",children:p.content})]}),i.jsx("button",{onClick:()=>m(p.id),className:"opacity-0 group-hover:opacity-100 px-2 py-1 text-xs text-gray-500 hover:text-red-600 transition-all",children:""})]})},p.id))})]})]})})},v3=({projectName:e,customerRequests:t,onClose:r,onSave:n,onToggleComplete:s,onDelete:a})=>{const[o,l]=N.useState(""),[c,u]=N.useState(new Date().toISOString().split("T")[0]),[d,f]=N.useState(!1),h=()=>{f(!0),l(""),u(new Date().toISOString().split("T")[0])},x=()=>{if(!o.trim()){alert(" ");return}if(!c){alert(" ");return}n(o.trim(),new Date(c)),l(""),u(new Date().toISOString().split("T")[0]),f(!1)},m=()=>{l(""),u(new Date().toISOString().split("T")[0]),f(!1)},p=v=>{window.confirm("  ?")&&a(v)},w=v=>{s(v)},y=t.filter(v=>!v.completed),g=t.filter(v=>v.completed);return i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",onClick:r,children:i.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[80vh] flex flex-col shadow-xl",onClick:v=>v.stopPropagation(),children:[i.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:" "}),i.jsx("p",{className:"text-sm text-gray-500 mt-0.5",children:e})]}),i.jsx("button",{onClick:r,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:i.jsx(ct,{className:"h-5 w-5 text-gray-500"})})]}),i.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[!d&&i.jsx("button",{onClick:h,className:"w-full mb-4 px-4 py-2.5 border border-gray-300 rounded text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:"+ "}),d&&i.jsxs("div",{className:"mb-4 p-4 bg-gray-50 rounded border border-gray-200",children:[i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"}),i.jsx("input",{type:"date",value:c,onChange:v=>u(v.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded text-sm focus:outline-none focus:border-gray-900"})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  *"}),i.jsx("textarea",{value:o,onChange:v=>l(v.target.value),placeholder:"  ",className:"w-full px-3 py-2 border border-gray-300 rounded text-sm focus:outline-none focus:border-gray-900 resize-none",rows:3})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:x,className:"px-4 py-1.5 bg-gray-900 text-white text-sm rounded hover:bg-gray-800 transition-colors",children:""}),i.jsx("button",{onClick:m,className:"px-4 py-1.5 bg-gray-200 text-gray-700 text-sm rounded hover:bg-gray-300 transition-colors",children:""})]})]}),i.jsx("div",{className:"space-y-2",children:t.length===0?i.jsx("div",{className:"text-center py-12 text-gray-400 text-sm",children:"  "}):i.jsxs(i.Fragment,{children:[y.map(v=>i.jsx("div",{className:"p-3 bg-white border border-gray-300 rounded hover:border-gray-400 transition-colors group",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("button",{onClick:()=>w(v.id),className:"mt-0.5 flex-shrink-0",children:i.jsx(rM,{className:"h-4 w-4 text-gray-400"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm text-gray-900 whitespace-pre-wrap break-words",children:v.content}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:Pe(new Date(v.createdAt),"yyyy.MM.dd",{locale:Qe})})]}),i.jsx("button",{onClick:()=>p(v.id),className:"opacity-0 group-hover:opacity-100 px-2 py-1 text-xs text-gray-500 hover:text-red-600 transition-all",children:""})]})},v.id)),g.map(v=>i.jsx("div",{className:"p-3 bg-gray-50 border border-gray-200 rounded hover:border-gray-300 transition-colors group",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("button",{onClick:()=>w(v.id),className:"mt-0.5 flex-shrink-0",children:i.jsx(eM,{className:"h-4 w-4 text-gray-900"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm text-gray-500 line-through whitespace-pre-wrap break-words",children:v.content}),i.jsx("p",{className:"text-xs text-gray-400 mt-1",children:Pe(new Date(v.createdAt),"yyyy.MM.dd",{locale:Qe})})]}),i.jsx("button",{onClick:()=>p(v.id),className:"opacity-0 group-hover:opacity-100 px-2 py-1 text-xs text-gray-500 hover:text-red-600 transition-all",children:""})]})},v.id))]})})]})]})})},x3=({projectName:e,entrancePassword:t,sitePassword:r,onClose:n,onSave:s})=>{const[a,o]=N.useState(t||""),[l,c]=N.useState(r||""),[u,d]=N.useState(!1),f=()=>{d(!0)},h=()=>{s(a,l),d(!1)},x=()=>{o(t||""),c(r||""),d(!1)};return i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",onClick:n,children:i.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full shadow-xl",onClick:m=>m.stopPropagation(),children:[i.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:""}),i.jsx("p",{className:"text-sm text-gray-500 mt-0.5",children:e})]}),i.jsx("button",{onClick:n,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:i.jsx(ct,{className:"h-5 w-5 text-gray-500"})})]}),i.jsxs("div",{className:"p-6 space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),u?i.jsx("input",{type:"text",value:a,onChange:m=>o(m.target.value),placeholder:"  ",className:"w-full px-3 py-2 border border-gray-300 rounded text-sm focus:outline-none focus:border-gray-900"}):i.jsx("div",{className:"px-3 py-2 bg-gray-50 border border-gray-200 rounded",children:a?i.jsx("span",{className:"text-sm font-mono text-gray-900",children:a}):i.jsx("span",{className:"text-sm text-gray-400",children:""})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),u?i.jsx("input",{type:"text",value:l,onChange:m=>c(m.target.value),placeholder:"  ",className:"w-full px-3 py-2 border border-gray-300 rounded text-sm focus:outline-none focus:border-gray-900"}):i.jsx("div",{className:"px-3 py-2 bg-gray-50 border border-gray-200 rounded",children:l?i.jsx("span",{className:"text-sm font-mono text-gray-900",children:l}):i.jsx("span",{className:"text-sm text-gray-400",children:""})})]})]}),i.jsx("div",{className:"border-t border-gray-200 px-6 py-4 flex gap-2",children:u?i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:h,className:"flex-1 px-4 py-2 bg-gray-900 text-white text-sm rounded hover:bg-gray-800 transition-colors",children:""}),i.jsx("button",{onClick:x,className:"flex-1 px-4 py-2 bg-gray-200 text-gray-700 text-sm rounded hover:bg-gray-300 transition-colors",children:""})]}):i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:f,className:"flex-1 px-4 py-2 bg-gray-200 text-gray-700 text-sm rounded hover:bg-gray-300 transition-colors",children:""}),i.jsx("button",{onClick:n,className:"flex-1 px-4 py-2 bg-gray-900 text-white text-sm rounded hover:bg-gray-800 transition-colors",children:""})]})})]})})},b3=()=>{const{projects:e,loadProjectsFromAPI:t,addProjectToAPI:r,updateProjectInAPI:n,deleteProjectFromAPI:s}=en(),{user:a}=ba(),[o,l]=N.useState("in-progress"),[c,u]=N.useState("grid"),[d,f]=N.useState(!1),[h,x]=N.useState(null),[m,p]=N.useState(!1),[w,y]=N.useState(!1),[g,v]=N.useState(!1),[b,S]=N.useState(null),j=(U,P)=>`lastViewed_${a==null?void 0:a.id}_${U}_${P}`,_=(U,P)=>{const V=j(U,P),re=localStorage.getItem(V);return re?parseInt(re,10):0},T=(U,P)=>{const V=j(U,P);localStorage.setItem(V,Date.now().toString())},$=(U,P)=>{const V=_(U.id,P);return P==="meeting"?(U.meetingNotes||[]).some(ce=>(ce.createdAt?new Date(ce.createdAt).getTime():new Date(ce.date).getTime())>V):(U.customerRequests||[]).some(ce=>(ce.createdAt?new Date(ce.createdAt).getTime():0)>V)};N.useEffect(()=>{t().catch(U=>{console.error("Failed to load projects:",U),Z.error("   ")})},[t]),N.useEffect(()=>{const U=()=>{x(null),f(!0)};return window.addEventListener("headerAddButtonClick",U),()=>window.removeEventListener("headerAddButtonClick",U)},[]);const R=(U,P)=>{if(!U||!P)return 0;const V=new Date,re=new Date(U),ce=new Date(P);if(V<re)return 0;if(V>ce)return 100;const Ne=Math.ceil((ce.getTime()-re.getTime())/(1e3*60*60*24)),Me=Math.ceil((V.getTime()-re.getTime())/(1e3*60*60*24)),O=Math.round(Me/Ne*100);return Math.min(100,Math.max(0,O))},Y=U=>{x(U),f(!0)},Q=async(U,P)=>{if(window.confirm(`"${P}"  ?

    .`))try{await s(U),Z.success(" ")}catch(V){console.error("Failed to delete project:",V),Z.error("  ")}},q=async U=>{try{if(h)await n(h.id,U),Z.success(" ");else{const P={id:"",...U,team:U.team||[]};await r(P),Z.success(" "),l(U.status||"planning")}f(!1),x(null)}catch(P){console.error("Failed to save project:",P),Z.error("  ")}},se=async(U,P)=>{try{await n(U,{status:P}),Z.success(" ")}catch(V){console.error("Failed to update project status:",V),Z.error("  ")}},pe=U=>{S(U),p(!0),T(U.id,"meeting")},te=U=>{S(U),y(!0),T(U.id,"request")},be=U=>{S(U),v(!0)},ee=async(U,P)=>{if(!b)return;const V=b.entrancePassword,re=b.sitePassword;S({...b,entrancePassword:U,sitePassword:P});try{await n(b.id,{entrancePassword:U,sitePassword:P}),Z.success(" ")}catch(ce){console.error("Failed to save passwords:",ce),Z.error("  "),S({...b,entrancePassword:V,sitePassword:re})}},H=async(U,P)=>{if(!b)return;const V={id:Date.now().toString(),content:U,date:P,createdAt:new Date},re=[...b.meetingNotes||[],V];S({...b,meetingNotes:re});try{await n(b.id,{meetingNotes:re}),Z.success("  ")}catch(ce){console.error("Failed to save meeting note:",ce),Z.error("   "),S({...b,meetingNotes:b.meetingNotes||[]})}},ue=async(U,P)=>{if(!b)return;const V={id:Date.now().toString(),content:U,completed:!1,createdAt:P},re=[...b.customerRequests||[],V];S({...b,customerRequests:re});try{await n(b.id,{customerRequests:re}),Z.success("  ")}catch(ce){console.error("Failed to save customer request:",ce),Z.error("   "),S({...b,customerRequests:b.customerRequests||[]})}},C=async U=>{if(!b)return;const P=b.customerRequests||[],V=P.map(re=>re.id===U?{...re,completed:!re.completed}:re);S({...b,customerRequests:V});try{await n(b.id,{customerRequests:V}),Z.success("  ")}catch(re){console.error("Failed to toggle request:",re),Z.error("  "),S({...b,customerRequests:P})}},L=async U=>{if(!b)return;const P=b.meetingNotes||[],V=P.filter(re=>re.id!==U);S({...b,meetingNotes:V});try{await n(b.id,{meetingNotes:V}),Z.success("  ")}catch(re){console.error("Failed to delete meeting note:",re),Z.error(" "),S({...b,meetingNotes:P})}},E=async U=>{if(!b)return;const P=b.customerRequests||[],V=P.filter(re=>re.id!==U);S({...b,customerRequests:V});try{await n(b.id,{customerRequests:V}),Z.success("  ")}catch(re){console.error("Failed to delete customer request:",re),Z.error(" "),S({...b,customerRequests:P})}},A=({project:U})=>{const V={planning:{label:"",color:"bg-white text-gray-700 border-gray-300"},"in-progress":{label:"",color:"bg-white text-gray-900 border-gray-300"},completed:{label:"",color:"bg-gray-900 text-white border-gray-900"},"on-hold":{label:"",color:"bg-white text-gray-600 border-gray-300"}}[U.status];return i.jsxs("select",{value:U.status,onChange:re=>se(U.id,re.target.value),className:Ln("px-2 py-1 text-xs font-medium border rounded cursor-pointer","focus:outline-none focus:ring-2 focus:ring-gray-500",V.color),onClick:re=>re.stopPropagation(),children:[i.jsx("option",{value:"planning",children:""}),i.jsx("option",{value:"in-progress",children:""}),i.jsx("option",{value:"completed",children:""}),i.jsx("option",{value:"on-hold",children:""})]})},I=(()=>{let U=e;return o!=="all"&&(U=U.filter(P=>P.status===o)),U})(),G={planning:e.filter(U=>U.status==="planning").length,inProgress:e.filter(U=>U.status==="in-progress").length,completed:e.filter(U=>U.status==="completed").length,onHold:e.filter(U=>U.status==="on-hold").length},J=({project:U})=>{var V,re,ce,Ne;const P=R(U.startDate,U.endDate);return i.jsxs("div",{className:"card p-3 md:p-4 hover:border-gray-400 transition-colors",children:[i.jsxs("div",{className:"flex items-start justify-between mb-3 md:mb-4",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"font-bold text-base md:text-lg text-gray-900",children:U.name}),i.jsxs("p",{className:"text-xs md:text-sm text-gray-600 mt-1",children:[U.client,""]})]}),i.jsxs("div",{className:"flex flex-col items-end",children:[i.jsx(A,{project:U}),i.jsx("button",{onClick:()=>Y(U),className:"text-xs text-gray-600 hover:text-gray-900 mt-2",children:""})]})]}),i.jsxs("div",{className:"space-y-1.5 md:space-y-2 mb-3 md:mb-4 text-xs md:text-sm",children:[i.jsxs("div",{className:"text-gray-600",children:[": ",U.location]}),i.jsxs("div",{className:"text-gray-600",children:[": ",U.startDate&&U.endDate?`${Pe(U.startDate,"MM.dd (eee)",{locale:Qe})} - ${Pe(U.endDate,"MM.dd (eee)",{locale:Qe})}`:""]}),i.jsxs("div",{className:"text-gray-600",children:[": ",U.manager]})]}),i.jsxs("div",{className:"mb-3 md:mb-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1.5 md:mb-2",children:[i.jsx("span",{className:"text-[10px] md:text-xs text-gray-600",children:" ( )"}),i.jsxs("span",{className:"text-xs md:text-sm font-medium text-gray-900",children:[P,"%"]})]}),i.jsx("div",{className:"w-full bg-gray-200 h-1",children:i.jsx("div",{className:"bg-gray-900 h-1 transition-all",style:{width:`${P}%`}})})]}),i.jsxs("div",{className:"pt-2 border-t border-gray-200 space-y-2",children:[i.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[i.jsxs("button",{onClick:()=>pe(U),className:"relative px-2 py-1.5 text-xs font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:["",(((V=U.meetingNotes)==null?void 0:V.length)||0)>0&&i.jsxs("span",{className:"ml-1 text-[10px] text-gray-500",children:["(",((re=U.meetingNotes)==null?void 0:re.length)||0,")"]}),$(U,"meeting")&&i.jsx("span",{className:"absolute -top-1 -right-1 inline-flex items-center justify-center px-1.5 py-0.5 text-[9px] font-bold leading-none text-white bg-red-500 rounded-full",children:"N"})]}),i.jsxs("button",{onClick:()=>te(U),className:"relative px-2 py-1.5 text-xs font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:["",(((ce=U.customerRequests)==null?void 0:ce.length)||0)>0&&i.jsxs("span",{className:"ml-1 text-[10px] text-gray-500",children:["(",((Ne=U.customerRequests)==null?void 0:Ne.length)||0,")"]}),$(U,"request")&&i.jsx("span",{className:"absolute -top-1 -right-1 inline-flex items-center justify-center px-1.5 py-0.5 text-[9px] font-bold leading-none text-white bg-red-500 rounded-full",children:"N"})]}),i.jsx("button",{onClick:()=>be(U),className:"px-2 py-1.5 text-xs font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:""})]}),((a==null?void 0:a.role)==="admin"||(a==null?void 0:a.role)==="manager")&&i.jsx("div",{className:"flex space-x-2",children:i.jsx("button",{onClick:()=>Q(U.id,U.name),className:"text-xs text-rose-600 hover:text-rose-700",children:""})})]})]})};return i.jsxs("div",{className:"space-y-3 md:space-y-4",children:[i.jsx("div",{className:"border-b border-gray-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("nav",{className:"flex space-x-4 md:space-x-8 overflow-x-auto",children:[{id:"planning",label:"",count:G.planning,color:"text-gray-700"},{id:"in-progress",label:"",count:G.inProgress,color:"text-gray-700"},{id:"completed",label:"",count:G.completed,color:"text-gray-700"},{id:"all",label:"",count:e.length,color:"text-gray-600"}].map(U=>i.jsxs("button",{onClick:()=>l(U.id),className:Ln("py-3 md:py-4 px-1 border-b-2 font-medium text-xs md:text-sm transition-colors whitespace-nowrap",o===U.id?`border-gray-700 ${U.color}`:"border-transparent text-gray-400 hover:text-gray-700 hover:border-gray-300"),children:[U.label,i.jsx("span",{className:Ln("ml-1 md:ml-2 py-0.5 px-1.5 md:px-2 rounded-full text-[10px] md:text-xs font-semibold",o===U.id?"bg-gray-700 text-white":"bg-gray-200 text-gray-600"),children:U.count})]},U.id))}),i.jsxs("div",{className:"flex items-center gap-6 mb-3 md:mb-4",children:[i.jsxs("div",{className:"hidden sm:flex border border-gray-300 overflow-hidden rounded",children:[i.jsx("button",{onClick:()=>u("grid"),className:Ln("px-3 md:px-4 py-2 text-xs md:text-sm",c==="grid"?"bg-gray-100":"hover:bg-gray-50"),children:""}),i.jsx("button",{onClick:()=>u("list"),className:Ln("px-3 md:px-4 py-2 text-xs md:text-sm border-l border-gray-300",c==="list"?"bg-gray-100":"hover:bg-gray-50"),children:""})]}),i.jsx("button",{onClick:()=>{x(null),f(!0)},className:"hidden lg:inline-flex btn btn-primary px-4 py-2",children:"+  "})]})]})}),c==="grid"||window.innerWidth<768?i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 md:gap-6",children:I.map(U=>i.jsx(J,{project:U},U.id))}):i.jsx("div",{className:"bg-white border border-gray-200 overflow-hidden",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:I.map(U=>{var V,re,ce,Ne;const P=R(U.startDate,U.endDate);return i.jsxs("tr",{className:"hover:bg-gray-50",children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:U.name}),i.jsx("p",{className:"text-sm text-gray-500",children:U.location})]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("p",{className:"text-sm",children:[U.client,""]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:U.startDate&&U.endDate?i.jsxs(i.Fragment,{children:[Pe(U.startDate,"yyyy.MM.dd (eee)",{locale:Qe})," -",i.jsx("br",{}),Pe(U.endDate,"yyyy.MM.dd (eee)",{locale:Qe})]}):""}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx(A,{project:U})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"w-24 bg-gray-200 h-1 mr-2",children:i.jsx("div",{className:"bg-gray-900 h-1",style:{width:`${P}%`}})}),i.jsxs("span",{className:"text-sm",children:[P,"%"]})]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("div",{className:"flex flex-col gap-2",children:[i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("button",{onClick:()=>pe(U),className:"relative px-3 py-1.5 text-xs font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:["",(((V=U.meetingNotes)==null?void 0:V.length)||0)>0&&i.jsxs("span",{className:"ml-1 text-[10px] text-gray-500",children:["(",((re=U.meetingNotes)==null?void 0:re.length)||0,")"]}),$(U,"meeting")&&i.jsx("span",{className:"absolute -top-1 -right-1 inline-flex items-center justify-center px-1.5 py-0.5 text-[9px] font-bold leading-none text-white bg-red-500 rounded-full",children:"N"})]}),i.jsxs("button",{onClick:()=>te(U),className:"relative px-3 py-1.5 text-xs font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:["",(((ce=U.customerRequests)==null?void 0:ce.length)||0)>0&&i.jsxs("span",{className:"ml-1 text-[10px] text-gray-500",children:["(",((Ne=U.customerRequests)==null?void 0:Ne.length)||0,")"]}),$(U,"request")&&i.jsx("span",{className:"absolute -top-1 -right-1 inline-flex items-center justify-center px-1.5 py-0.5 text-[9px] font-bold leading-none text-white bg-red-500 rounded-full",children:"N"})]}),i.jsx("button",{onClick:()=>be(U),className:"px-3 py-1.5 text-xs font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:""})]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx("button",{onClick:()=>Y(U),className:"text-xs text-gray-600 hover:text-gray-900",children:""}),((a==null?void 0:a.role)==="admin"||(a==null?void 0:a.role)==="manager")&&i.jsx("button",{onClick:()=>Q(U.id,U.name),className:"text-xs text-rose-600 hover:text-rose-700",children:""})]})]})})]},U.id)})})]})}),d&&i.jsx(g3,{project:h,onClose:()=>{f(!1),x(null)},onSave:q}),m&&b&&i.jsx(y3,{projectName:b.name,meetingNotes:b.meetingNotes||[],onClose:()=>{p(!1),S(null)},onSave:H,onDelete:L}),w&&b&&i.jsx(v3,{projectName:b.name,customerRequests:b.customerRequests||[],onClose:()=>{y(!1),S(null)},onSave:ue,onToggleComplete:C,onDelete:E}),g&&b&&i.jsx(x3,{projectName:b.name,entrancePassword:b.entrancePassword||"",sitePassword:b.sitePassword||"",onClose:()=>{v(!1),S(null)},onSave:ee})]})};function Yx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function at(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Yx(Object(r),!0).forEach(function(n){Ea(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Af(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Gn(e,t){if(e==null)return{};var r,n,s=Af(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function lr(e,t,r){return t=Rd(t),d$(e,AS()?Reflect.construct(t,r||[],Rd(e).constructor):t.apply(e,r))}function BS(e){if(Array.isArray(e))return e}function w3(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function HS(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yr(e,t){return BS(e)||w3(e,t)||hy(e,t)||HS()}function zS(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=zS(e[t]))&&(n&&(n+=" "),n+=r);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}function _t(){for(var e,t,r=0,n="";r<arguments.length;)(e=arguments[r++])&&(t=zS(e))&&(n&&(n+=" "),n+=t);return n}function Dt(){return Dt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dt.apply(null,arguments)}var N3=function(e,t,r,n,s,a,o,l){if(!e){var c;if(t===void 0)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[r,n,s,a,o,l],d=0;c=new Error(t.replace(/%s/g,function(){return u[d++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}},j3=N3;const Yl=pr(j3);var S3=function(){};function k3(e,t){var r={};return Object.keys(e).forEach(function(n){r[Ku(n)]=S3}),r}function qx(e,t){return e[t]!==void 0}function Ku(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function D3(e){return!!e&&(typeof e!="function"||e.prototype&&e.prototype.isReactComponent)}function _3(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Md(e,t)}function VS(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);e!=null&&this.setState(e)}function YS(e){function t(r){var n=this.constructor.getDerivedStateFromProps(e,r);return n??null}this.setState(t.bind(this))}function qS(e,t){try{var r=this.props,n=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(r,n)}finally{this.props=r,this.state=n}}VS.__suppressDeprecationWarning=!0;YS.__suppressDeprecationWarning=!0;qS.__suppressDeprecationWarning=!0;function C3(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if(typeof e.getDerivedStateFromProps!="function"&&typeof t.getSnapshotBeforeUpdate!="function")return e;var r=null,n=null,s=null;if(typeof t.componentWillMount=="function"?r="componentWillMount":typeof t.UNSAFE_componentWillMount=="function"&&(r="UNSAFE_componentWillMount"),typeof t.componentWillReceiveProps=="function"?n="componentWillReceiveProps":typeof t.UNSAFE_componentWillReceiveProps=="function"&&(n="UNSAFE_componentWillReceiveProps"),typeof t.componentWillUpdate=="function"?s="componentWillUpdate":typeof t.UNSAFE_componentWillUpdate=="function"&&(s="UNSAFE_componentWillUpdate"),r!==null||n!==null||s!==null){var a=e.displayName||e.name,o=typeof e.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+a+" uses "+o+" but also contains the following legacy lifecycles:"+(r!==null?`
  `+r:"")+(n!==null?`
  `+n:"")+(s!==null?`
  `+s:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof e.getDerivedStateFromProps=="function"&&(t.componentWillMount=VS,t.componentWillReceiveProps=YS),typeof t.getSnapshotBeforeUpdate=="function"){if(typeof t.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=qS;var l=t.componentDidUpdate;t.componentDidUpdate=function(u,d,f){var h=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:f;l.call(this,u,d,h)}}return e}var E3="/Users/jquense/src/uncontrollable/src/uncontrollable.js";function KS(e,t,r){r===void 0&&(r=[]);var n=e.displayName||e.name||"Component",s=D3(e),a=Object.keys(t),o=a.map(Ku);s||!r.length||Yl(!1);var l=function(u){_3(d,u);function d(){for(var h,x=arguments.length,m=new Array(x),p=0;p<x;p++)m[p]=arguments[p];h=u.call.apply(u,[this].concat(m))||this,h.handlers=Object.create(null),a.forEach(function(y){var g=t[y],v=function(S){if(h.props[g]){var j;h._notifying=!0;for(var _=arguments.length,T=new Array(_>1?_-1:0),$=1;$<_;$++)T[$-1]=arguments[$];(j=h.props)[g].apply(j,[S].concat(T)),h._notifying=!1}h.unmounted||h.setState(function(R){var Y,Q=R.values;return{values:Dt(Object.create(null),Q,(Y={},Y[y]=S,Y))}})};h.handlers[g]=v}),r.length&&(h.attachRef=function(y){h.inner=y});var w=Object.create(null);return a.forEach(function(y){w[y]=h.props[Ku(y)]}),h.state={values:w,prevProps:{}},h}var f=d.prototype;return f.shouldComponentUpdate=function(){return!this._notifying},d.getDerivedStateFromProps=function(x,m){var p=m.values,w=m.prevProps,y={values:Dt(Object.create(null),p),prevProps:{}};return a.forEach(function(g){y.prevProps[g]=x[g],!qx(x,g)&&qx(w,g)&&(y.values[g]=x[Ku(g)])}),y},f.componentWillUnmount=function(){this.unmounted=!0},f.render=function(){var x=this,m=this.props,p=m.innerRef,w=Af(m,["innerRef"]);o.forEach(function(g){delete w[g]});var y={};return a.forEach(function(g){var v=x.props[g];y[g]=v!==void 0?v:x.state.values[g]}),B.createElement(e,Dt({},w,y,this.handlers,{ref:p||this.attachRef}))},d}(B.Component);C3(l),l.displayName="Uncontrolled("+n+")",l.propTypes=Dt({innerRef:function(){}},k3(t)),r.forEach(function(u){l.prototype[u]=function(){var f;return(f=this.inner)[u].apply(f,arguments)}});var c=l;return B.forwardRef&&(c=B.forwardRef(function(u,d){return B.createElement(l,Dt({},u,{innerRef:d,__source:{fileName:E3,lineNumber:128},__self:this}))}),c.propTypes=l.propTypes),c.ControlledComponent=e,c.deferControlTo=function(u,d,f){return d===void 0&&(d={}),KS(u,Dt({},t,d),f)},c}var GS={exports:{}},T3="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",P3=T3,A3=P3;function QS(){}function XS(){}XS.resetWarningCache=QS;var O3=function(){function e(n,s,a,o,l,c){if(c!==A3){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:XS,resetWarningCache:QS};return r.PropTypes=r,r};GS.exports=O3();var M3=GS.exports;const xe=pr(M3);var Ld="milliseconds",ql="seconds",Kl="minutes",Gl="hours",ei="day",ao="week",Ql="month",ti="year",ri="decade",ni="century",JS={milliseconds:1,seconds:1e3,minutes:60*1e3,hours:60*60*1e3,day:24*60*60*1e3,week:7*24*60*60*1e3},R3={month:1,year:12,decade:10*12,century:100*12};function $3(e){return[31,I3(e),31,30,31,30,31,31,30,31,30,31]}function I3(e){return e%4===0&&e%100!==0||e%400===0?29:28}function Nn(e,t,r){switch(e=new Date(e),r){case Ld:case ql:case Kl:case Gl:case ei:case ao:return L3(e,t*JS[r]);case Ql:case ti:case ri:case ni:return F3(e,t*R3[r])}throw new TypeError('Invalid units: "'+r+'"')}function L3(e,t){var r=new Date(+e+t);return W3(e,r)}function F3(e,t){var r=e.getFullYear(),n=e.getMonth(),s=e.getDate(),a=r*12+n+t,o=Math.trunc(a/12),l=a%12,c=Math.min(s,$3(o)[l]),u=new Date(e);return u.setFullYear(o),u.setDate(1),u.setMonth(l),u.setDate(c),u}function W3(e,t){var r=e.getTimezoneOffset(),n=t.getTimezoneOffset(),s=n-r;return new Date(+t+s*JS.minutes)}function Xl(e,t,r){return Nn(e,-t,r)}function Gt(e,t,r){switch(e=new Date(e),t){case ni:case ri:case ti:e=Wd(e,0);case Ql:e=nk(e,1);case ao:case ei:e=ec(e,0);case Gl:e=io(e,0);case Kl:e=Zl(e,0);case ql:e=Jl(e,0)}return t===ri&&(e=Xl(e,si(e)%10,"year")),t===ni&&(e=Xl(e,si(e)%100,"year")),t===ao&&(e=sk(e,0,r)),e}function Fd(e,t,r){switch(e=new Date(e),e=Gt(e,t,r),t){case ni:case ri:case ti:case Ql:case ao:e=Nn(e,1,t),e=Xl(e,1,ei),e.setHours(23,59,59,999);break;case ei:e.setHours(23,59,59,999);break;case Gl:case Kl:case ql:e=Nn(e,1,t),e=Xl(e,1,Ld)}return e}var Cc=jo(function(e,t){return e===t}),xy=jo(function(e,t){return e!==t}),Of=jo(function(e,t){return e>t}),Ec=jo(function(e,t){return e>=t}),by=jo(function(e,t){return e<t}),No=jo(function(e,t){return e<=t});function ZS(){return new Date(Math.min.apply(Math,arguments))}function ek(){return new Date(Math.max.apply(Math,arguments))}function tk(e,t,r,n){return n=n||"day",(!t||Ec(e,t,n))&&(!r||No(e,r,n))}var Jl=wa("Milliseconds"),Zl=wa("Seconds"),io=wa("Minutes"),ec=wa("Hours"),rk=wa("Day"),nk=wa("Date"),Wd=wa("Month"),si=wa("FullYear");function U3(e,t){return t===void 0?si(Gt(e,ri)):Nn(e,t+10,ti)}function B3(e,t){return t===void 0?si(Gt(e,ni)):Nn(e,t+100,ti)}function sk(e,t,r){var n=(rk(e)+7-(r||0))%7;return t===void 0?n:Nn(e,t-n,ei)}function H3(e,t,r,n){var s,a,o;switch(r){case Ld:case ql:case Kl:case Gl:case ei:case ao:s=t.getTime()-e.getTime();break;case Ql:case ti:case ri:case ni:s=(si(t)-si(e))*12+Wd(t)-Wd(e);break;default:throw new TypeError('Invalid units: "'+r+'"')}switch(r){case Ld:a=1;break;case ql:a=1e3;break;case Kl:a=1e3*60;break;case Gl:a=1e3*60*60;break;case ei:a=1e3*60*60*24;break;case ao:a=1e3*60*60*24*7;break;case Ql:a=1;break;case ti:a=12;break;case ri:a=120;break;case ni:a=1200;break;default:throw new TypeError('Invalid units: "'+r+'"')}return o=s/a,n?o:Math.round(o)}function wa(e){var t=function(r){switch(r){case"Milliseconds":return 36e5;case"Seconds":return 3600;case"Minutes":return 60;case"Hours":return 1;default:return null}}(e);return function(r,n){if(n===void 0)return r["get"+e]();var s=new Date(r);return s["set"+e](n),t&&s["get"+e]()!=n&&(e==="Hours"||n>=t&&s.getHours()-r.getHours()<Math.floor(n/t))&&s["set"+e](n+t),s}}function jo(e){return function(t,r,n){return e(+Gt(t,n),+Gt(r,n))}}const Kx=Object.freeze(Object.defineProperty({__proto__:null,add:Nn,century:B3,date:nk,day:rk,decade:U3,diff:H3,endOf:Fd,eq:Cc,gt:Of,gte:Ec,hours:ec,inRange:tk,lt:by,lte:No,max:ek,milliseconds:Jl,min:ZS,minutes:io,month:Wd,neq:xy,seconds:Zl,startOf:Gt,subtract:Xl,weekday:sk,year:si},Symbol.toStringTag,{value:"Module"}));function z3(e){if(Array.isArray(e))return Cp(e)}function ak(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function V3(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gu(e){return z3(e)||ak(e)||hy(e)||V3()}function Y3(e,t,r){var n=-1,s=e.length;t<0&&(t=-t>s?0:s+t),r=r>s?s:r,r<0&&(r+=s),s=t>r?0:r-t>>>0,t>>>=0;for(var a=Array(s);++n<s;)a[n]=e[n+t];return a}var ik=Y3;function q3(e,t){return e===t||e!==e&&t!==t}var Tc=q3,K3=typeof qr=="object"&&qr&&qr.Object===Object&&qr,ok=K3,G3=ok,Q3=typeof self=="object"&&self&&self.Object===Object&&self,X3=G3||Q3||Function("return this")(),Xn=X3,J3=Xn,Z3=J3.Symbol,So=Z3,Gx=So,lk=Object.prototype,e4=lk.hasOwnProperty,t4=lk.toString,Go=Gx?Gx.toStringTag:void 0;function r4(e){var t=e4.call(e,Go),r=e[Go];try{e[Go]=void 0;var n=!0}catch{}var s=t4.call(e);return n&&(t?e[Go]=r:delete e[Go]),s}var n4=r4,s4=Object.prototype,a4=s4.toString;function i4(e){return a4.call(e)}var o4=i4,Qx=So,l4=n4,c4=o4,u4="[object Null]",d4="[object Undefined]",Xx=Qx?Qx.toStringTag:void 0;function f4(e){return e==null?e===void 0?d4:u4:Xx&&Xx in Object(e)?l4(e):c4(e)}var ko=f4;function h4(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Es=h4,m4=ko,p4=Es,g4="[object AsyncFunction]",y4="[object Function]",v4="[object GeneratorFunction]",x4="[object Proxy]";function b4(e){if(!p4(e))return!1;var t=m4(e);return t==y4||t==v4||t==g4||t==x4}var wy=b4,w4=9007199254740991;function N4(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=w4}var Ny=N4,j4=wy,S4=Ny;function k4(e){return e!=null&&S4(e.length)&&!j4(e)}var Pc=k4,D4=9007199254740991,_4=/^(?:0|[1-9]\d*)$/;function C4(e,t){var r=typeof e;return t=t??D4,!!t&&(r=="number"||r!="symbol"&&_4.test(e))&&e>-1&&e%1==0&&e<t}var jy=C4,E4=Tc,T4=Pc,P4=jy,A4=Es;function O4(e,t,r){if(!A4(r))return!1;var n=typeof t;return(n=="number"?T4(r)&&P4(t,r.length):n=="string"&&t in r)?E4(r[t],e):!1}var Mf=O4,M4=/\s/;function R4(e){for(var t=e.length;t--&&M4.test(e.charAt(t)););return t}var $4=R4,I4=$4,L4=/^\s+/;function F4(e){return e&&e.slice(0,I4(e)+1).replace(L4,"")}var W4=F4;function U4(e){return e!=null&&typeof e=="object"}var Na=U4,B4=ko,H4=Na,z4="[object Symbol]";function V4(e){return typeof e=="symbol"||H4(e)&&B4(e)==z4}var Ac=V4,Y4=W4,Jx=Es,q4=Ac,Zx=NaN,K4=/^[-+]0x[0-9a-f]+$/i,G4=/^0b[01]+$/i,Q4=/^0o[0-7]+$/i,X4=parseInt;function J4(e){if(typeof e=="number")return e;if(q4(e))return Zx;if(Jx(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Jx(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Y4(e);var r=G4.test(e);return r||Q4.test(e)?X4(e.slice(2),r?2:8):K4.test(e)?Zx:+e}var Z4=J4,eI=Z4,eb=1/0,tI=17976931348623157e292;function rI(e){if(!e)return e===0?e:0;if(e=eI(e),e===eb||e===-eb){var t=e<0?-1:1;return t*tI}return e===e?e:0}var ck=rI,nI=ck;function sI(e){var t=nI(e),r=t%1;return t===t?r?t-r:t:0}var uk=sI,aI=ik,iI=Mf,oI=uk,lI=Math.ceil,cI=Math.max;function uI(e,t,r){(r?iI(e,t,r):t===void 0)?t=1:t=cI(oI(t),0);var n=e==null?0:e.length;if(!n||t<1)return[];for(var s=0,a=0,o=Array(lI(n/t));s<n;)o[a++]=aI(e,s,s+=t);return o}var dI=uI;const fI=pr(dI);function Oc(e){return e&&e.ownerDocument||document}function hI(e){var t=Oc(e);return t&&t.defaultView||window}function mI(e,t){return hI(e).getComputedStyle(e,t)}var pI=/([A-Z])/g;function gI(e){return e.replace(pI,"-$1").toLowerCase()}var yI=/^ms-/;function yu(e){return gI(e).replace(yI,"-ms-")}var vI=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function xI(e){return!!(e&&vI.test(e))}function gi(e,t){var r="",n="";if(typeof t=="string")return e.style.getPropertyValue(yu(t))||mI(e).getPropertyValue(yu(t));Object.keys(t).forEach(function(s){var a=t[s];!a&&a!==0?e.style.removeProperty(yu(s)):xI(s)?n+=s+"("+a+") ":r+=yu(s)+": "+a+";"}),n&&(r+="transform: "+n+";"),e.style.cssText+=";"+r}function tc(e,t){if(e.contains)return e.contains(t);if(e.compareDocumentPosition)return e===t||!!(e.compareDocumentPosition(t)&16)}function bI(e){return"nodeType"in e&&e.nodeType===document.DOCUMENT_NODE}function Sy(e){return"window"in e&&e.window===e?e:bI(e)&&e.defaultView||!1}function dk(e){var t=e==="pageXOffset"?"scrollLeft":"scrollTop";function r(n,s){var a=Sy(n);if(s===void 0)return a?a[e]:n[t];a?a.scrollTo(a[e],s):n[t]=s}return r}const fk=dk("pageXOffset"),hk=dk("pageYOffset");function Va(e){var t=Oc(e),r={top:0,left:0,height:0,width:0},n=t&&t.documentElement;return!n||!tc(n,e)||(e.getBoundingClientRect!==void 0&&(r=e.getBoundingClientRect()),r={top:r.top+hk(n)-(n.clientTop||0),left:r.left+fk(n)-(n.clientLeft||0),width:r.width,height:r.height}),r}var wI=function(t){return!!t&&"offsetParent"in t};function NI(e){for(var t=Oc(e),r=e&&e.offsetParent;wI(r)&&r.nodeName!=="HTML"&&gi(r,"position")==="static";)r=r.offsetParent;return r||t.documentElement}var jI=function(t){return t.nodeName&&t.nodeName.toLowerCase()};function mk(e,t){var r={top:0,left:0},n;if(gi(e,"position")==="fixed")n=e.getBoundingClientRect();else{var s=t||NI(e);n=Va(e),jI(s)!=="html"&&(r=Va(s));var a=String(gi(s,"borderTopWidth")||0);r.top+=parseInt(a,10)-hk(s)||0;var o=String(gi(s,"borderLeftWidth")||0);r.left+=parseInt(o,10)-fk(s)||0}var l=String(gi(e,"marginTop")||0),c=String(gi(e,"marginLeft")||0);return Dt({},n,{top:n.top-r.top-(parseInt(l,10)||0),left:n.left-r.left-(parseInt(c,10)||0)})}const ky=!!(typeof window<"u"&&window.document&&window.document.createElement);var tb=new Date().getTime();function SI(e){var t=new Date().getTime(),r=Math.max(0,16-(t-tb)),n=setTimeout(e,r);return tb=t,n}var kI=["","webkit","moz","o","ms"],Pp="clearTimeout",Ap=SI,rb=function(t,r){return t+(t?r[0].toUpperCase()+r.substr(1):r)+"AnimationFrame"};ky&&kI.some(function(e){var t=rb(e,"request");return t in window&&(Pp=rb(e,"cancel"),Ap=function(n){return window[t](n)}),!!Ap});var nb=function(t){typeof window[Pp]=="function"&&window[Pp](t)},pk=Ap,Xh;function DI(e,t){if(!Xh){var r=document.body,n=r.matches||r.matchesSelector||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector;Xh=function(a,o){return n.call(a,o)}}return Xh(e,t)}var _I=Function.prototype.bind.call(Function.prototype.call,[].slice);function CI(e,t){return _I(e.querySelectorAll(t))}var Op=!1,Mp=!1;try{var Jh={get passive(){return Op=!0},get once(){return Mp=Op=!0}};ky&&(window.addEventListener("test",Jh,Jh),window.removeEventListener("test",Jh,!0))}catch{}function EI(e,t,r,n){if(n&&typeof n!="boolean"&&!Mp){var s=n.once,a=n.capture,o=r;!Mp&&s&&(o=r.__once||function l(c){this.removeEventListener(t,l,a),r.call(this,c)},r.__once=o),e.addEventListener(t,o,Op?n:a)}e.addEventListener(t,r,n)}function TI(e){const t=N.useRef(e);return N.useEffect(()=>{t.current=e},[e]),t}function sb(e){const t=TI(e);return N.useCallback(function(...r){return t.current&&t.current(...r)},[t])}function ab(){return N.useState(null)}function PI(){const e=N.useRef(!0),t=N.useRef(()=>e.current);return N.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),t.current}function AI(e){const t=PI();return[e[0],N.useCallback(r=>{if(t())return e[1](r)},[t,e[1]])]}var Cr="top",Jr="bottom",Zr="right",Er="left",Dy="auto",Mc=[Cr,Jr,Zr,Er],oo="start",rc="end",OI="clippingParents",gk="viewport",Qo="popper",MI="reference",ib=Mc.reduce(function(e,t){return e.concat([t+"-"+oo,t+"-"+rc])},[]),_y=[].concat(Mc,[Dy]).reduce(function(e,t){return e.concat([t,t+"-"+oo,t+"-"+rc])},[]),RI="beforeRead",$I="read",II="afterRead",LI="beforeMain",FI="main",WI="afterMain",UI="beforeWrite",BI="write",HI="afterWrite",zI=[RI,$I,II,LI,FI,WI,UI,BI,HI];function Yn(e){return e.split("-")[0]}function $r(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function ai(e){var t=$r(e).Element;return e instanceof t||e instanceof Element}function qn(e){var t=$r(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function Cy(e){if(typeof ShadowRoot>"u")return!1;var t=$r(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}var Ya=Math.max,Ud=Math.min,lo=Math.round;function Rp(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function yk(){return!/^((?!chrome|android).)*safari/i.test(Rp())}function co(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!1);var n=e.getBoundingClientRect(),s=1,a=1;t&&qn(e)&&(s=e.offsetWidth>0&&lo(n.width)/e.offsetWidth||1,a=e.offsetHeight>0&&lo(n.height)/e.offsetHeight||1);var o=ai(e)?$r(e):window,l=o.visualViewport,c=!yk()&&r,u=(n.left+(c&&l?l.offsetLeft:0))/s,d=(n.top+(c&&l?l.offsetTop:0))/a,f=n.width/s,h=n.height/a;return{width:f,height:h,top:d,right:u+f,bottom:d+h,left:u,x:u,y:d}}function Ey(e){var t=co(e),r=e.offsetWidth,n=e.offsetHeight;return Math.abs(t.width-r)<=1&&(r=t.width),Math.abs(t.height-n)<=1&&(n=t.height),{x:e.offsetLeft,y:e.offsetTop,width:r,height:n}}function vk(e,t){var r=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(r&&Cy(r)){var n=t;do{if(n&&e.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function ma(e){return e?(e.nodeName||"").toLowerCase():null}function ks(e){return $r(e).getComputedStyle(e)}function VI(e){return["table","td","th"].indexOf(ma(e))>=0}function ja(e){return((ai(e)?e.ownerDocument:e.document)||window.document).documentElement}function Rf(e){return ma(e)==="html"?e:e.assignedSlot||e.parentNode||(Cy(e)?e.host:null)||ja(e)}function ob(e){return!qn(e)||ks(e).position==="fixed"?null:e.offsetParent}function YI(e){var t=/firefox/i.test(Rp()),r=/Trident/i.test(Rp());if(r&&qn(e)){var n=ks(e);if(n.position==="fixed")return null}var s=Rf(e);for(Cy(s)&&(s=s.host);qn(s)&&["html","body"].indexOf(ma(s))<0;){var a=ks(s);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||t&&a.willChange==="filter"||t&&a.filter&&a.filter!=="none")return s;s=s.parentNode}return null}function Rc(e){for(var t=$r(e),r=ob(e);r&&VI(r)&&ks(r).position==="static";)r=ob(r);return r&&(ma(r)==="html"||ma(r)==="body"&&ks(r).position==="static")?t:r||YI(e)||t}function Ty(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function bl(e,t,r){return Ya(e,Ud(t,r))}function qI(e,t,r){var n=bl(e,t,r);return n>r?r:n}function xk(){return{top:0,right:0,bottom:0,left:0}}function bk(e){return Object.assign({},xk(),e)}function wk(e,t){return t.reduce(function(r,n){return r[n]=e,r},{})}var KI=function(t,r){return t=typeof t=="function"?t(Object.assign({},r.rects,{placement:r.placement})):t,bk(typeof t!="number"?t:wk(t,Mc))};function GI(e){var t,r=e.state,n=e.name,s=e.options,a=r.elements.arrow,o=r.modifiersData.popperOffsets,l=Yn(r.placement),c=Ty(l),u=[Er,Zr].indexOf(l)>=0,d=u?"height":"width";if(!(!a||!o)){var f=KI(s.padding,r),h=Ey(a),x=c==="y"?Cr:Er,m=c==="y"?Jr:Zr,p=r.rects.reference[d]+r.rects.reference[c]-o[c]-r.rects.popper[d],w=o[c]-r.rects.reference[c],y=Rc(a),g=y?c==="y"?y.clientHeight||0:y.clientWidth||0:0,v=p/2-w/2,b=f[x],S=g-h[d]-f[m],j=g/2-h[d]/2+v,_=bl(b,j,S),T=c;r.modifiersData[n]=(t={},t[T]=_,t.centerOffset=_-j,t)}}function QI(e){var t=e.state,r=e.options,n=r.element,s=n===void 0?"[data-popper-arrow]":n;s!=null&&(typeof s=="string"&&(s=t.elements.popper.querySelector(s),!s)||vk(t.elements.popper,s)&&(t.elements.arrow=s))}const XI={name:"arrow",enabled:!0,phase:"main",fn:GI,effect:QI,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function uo(e){return e.split("-")[1]}var JI={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ZI(e,t){var r=e.x,n=e.y,s=t.devicePixelRatio||1;return{x:lo(r*s)/s||0,y:lo(n*s)/s||0}}function lb(e){var t,r=e.popper,n=e.popperRect,s=e.placement,a=e.variation,o=e.offsets,l=e.position,c=e.gpuAcceleration,u=e.adaptive,d=e.roundOffsets,f=e.isFixed,h=o.x,x=h===void 0?0:h,m=o.y,p=m===void 0?0:m,w=typeof d=="function"?d({x,y:p}):{x,y:p};x=w.x,p=w.y;var y=o.hasOwnProperty("x"),g=o.hasOwnProperty("y"),v=Er,b=Cr,S=window;if(u){var j=Rc(r),_="clientHeight",T="clientWidth";if(j===$r(r)&&(j=ja(r),ks(j).position!=="static"&&l==="absolute"&&(_="scrollHeight",T="scrollWidth")),j=j,s===Cr||(s===Er||s===Zr)&&a===rc){b=Jr;var $=f&&j===S&&S.visualViewport?S.visualViewport.height:j[_];p-=$-n.height,p*=c?1:-1}if(s===Er||(s===Cr||s===Jr)&&a===rc){v=Zr;var R=f&&j===S&&S.visualViewport?S.visualViewport.width:j[T];x-=R-n.width,x*=c?1:-1}}var Y=Object.assign({position:l},u&&JI),Q=d===!0?ZI({x,y:p},$r(r)):{x,y:p};if(x=Q.x,p=Q.y,c){var q;return Object.assign({},Y,(q={},q[b]=g?"0":"",q[v]=y?"0":"",q.transform=(S.devicePixelRatio||1)<=1?"translate("+x+"px, "+p+"px)":"translate3d("+x+"px, "+p+"px, 0)",q))}return Object.assign({},Y,(t={},t[b]=g?p+"px":"",t[v]=y?x+"px":"",t.transform="",t))}function eL(e){var t=e.state,r=e.options,n=r.gpuAcceleration,s=n===void 0?!0:n,a=r.adaptive,o=a===void 0?!0:a,l=r.roundOffsets,c=l===void 0?!0:l,u={placement:Yn(t.placement),variation:uo(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:s,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,lb(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:c})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,lb(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const tL={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:eL,data:{}};var vu={passive:!0};function rL(e){var t=e.state,r=e.instance,n=e.options,s=n.scroll,a=s===void 0?!0:s,o=n.resize,l=o===void 0?!0:o,c=$r(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&u.forEach(function(d){d.addEventListener("scroll",r.update,vu)}),l&&c.addEventListener("resize",r.update,vu),function(){a&&u.forEach(function(d){d.removeEventListener("scroll",r.update,vu)}),l&&c.removeEventListener("resize",r.update,vu)}}const nL={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:rL,data:{}};var sL={left:"right",right:"left",bottom:"top",top:"bottom"};function Qu(e){return e.replace(/left|right|bottom|top/g,function(t){return sL[t]})}var aL={start:"end",end:"start"};function cb(e){return e.replace(/start|end/g,function(t){return aL[t]})}function Py(e){var t=$r(e),r=t.pageXOffset,n=t.pageYOffset;return{scrollLeft:r,scrollTop:n}}function Ay(e){return co(ja(e)).left+Py(e).scrollLeft}function iL(e,t){var r=$r(e),n=ja(e),s=r.visualViewport,a=n.clientWidth,o=n.clientHeight,l=0,c=0;if(s){a=s.width,o=s.height;var u=yk();(u||!u&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:a,height:o,x:l+Ay(e),y:c}}function oL(e){var t,r=ja(e),n=Py(e),s=(t=e.ownerDocument)==null?void 0:t.body,a=Ya(r.scrollWidth,r.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),o=Ya(r.scrollHeight,r.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),l=-n.scrollLeft+Ay(e),c=-n.scrollTop;return ks(s||r).direction==="rtl"&&(l+=Ya(r.clientWidth,s?s.clientWidth:0)-a),{width:a,height:o,x:l,y:c}}function Oy(e){var t=ks(e),r=t.overflow,n=t.overflowX,s=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+s+n)}function Nk(e){return["html","body","#document"].indexOf(ma(e))>=0?e.ownerDocument.body:qn(e)&&Oy(e)?e:Nk(Rf(e))}function wl(e,t){var r;t===void 0&&(t=[]);var n=Nk(e),s=n===((r=e.ownerDocument)==null?void 0:r.body),a=$r(n),o=s?[a].concat(a.visualViewport||[],Oy(n)?n:[]):n,l=t.concat(o);return s?l:l.concat(wl(Rf(o)))}function $p(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function lL(e,t){var r=co(e,!1,t==="fixed");return r.top=r.top+e.clientTop,r.left=r.left+e.clientLeft,r.bottom=r.top+e.clientHeight,r.right=r.left+e.clientWidth,r.width=e.clientWidth,r.height=e.clientHeight,r.x=r.left,r.y=r.top,r}function ub(e,t,r){return t===gk?$p(iL(e,r)):ai(t)?lL(t,r):$p(oL(ja(e)))}function cL(e){var t=wl(Rf(e)),r=["absolute","fixed"].indexOf(ks(e).position)>=0,n=r&&qn(e)?Rc(e):e;return ai(n)?t.filter(function(s){return ai(s)&&vk(s,n)&&ma(s)!=="body"}):[]}function uL(e,t,r,n){var s=t==="clippingParents"?cL(e):[].concat(t),a=[].concat(s,[r]),o=a[0],l=a.reduce(function(c,u){var d=ub(e,u,n);return c.top=Ya(d.top,c.top),c.right=Ud(d.right,c.right),c.bottom=Ud(d.bottom,c.bottom),c.left=Ya(d.left,c.left),c},ub(e,o,n));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function jk(e){var t=e.reference,r=e.element,n=e.placement,s=n?Yn(n):null,a=n?uo(n):null,o=t.x+t.width/2-r.width/2,l=t.y+t.height/2-r.height/2,c;switch(s){case Cr:c={x:o,y:t.y-r.height};break;case Jr:c={x:o,y:t.y+t.height};break;case Zr:c={x:t.x+t.width,y:l};break;case Er:c={x:t.x-r.width,y:l};break;default:c={x:t.x,y:t.y}}var u=s?Ty(s):null;if(u!=null){var d=u==="y"?"height":"width";switch(a){case oo:c[u]=c[u]-(t[d]/2-r[d]/2);break;case rc:c[u]=c[u]+(t[d]/2-r[d]/2);break}}return c}function nc(e,t){t===void 0&&(t={});var r=t,n=r.placement,s=n===void 0?e.placement:n,a=r.strategy,o=a===void 0?e.strategy:a,l=r.boundary,c=l===void 0?OI:l,u=r.rootBoundary,d=u===void 0?gk:u,f=r.elementContext,h=f===void 0?Qo:f,x=r.altBoundary,m=x===void 0?!1:x,p=r.padding,w=p===void 0?0:p,y=bk(typeof w!="number"?w:wk(w,Mc)),g=h===Qo?MI:Qo,v=e.rects.popper,b=e.elements[m?g:h],S=uL(ai(b)?b:b.contextElement||ja(e.elements.popper),c,d,o),j=co(e.elements.reference),_=jk({reference:j,element:v,placement:s}),T=$p(Object.assign({},v,_)),$=h===Qo?T:j,R={top:S.top-$.top+y.top,bottom:$.bottom-S.bottom+y.bottom,left:S.left-$.left+y.left,right:$.right-S.right+y.right},Y=e.modifiersData.offset;if(h===Qo&&Y){var Q=Y[s];Object.keys(R).forEach(function(q){var se=[Zr,Jr].indexOf(q)>=0?1:-1,pe=[Cr,Jr].indexOf(q)>=0?"y":"x";R[q]+=Q[pe]*se})}return R}function dL(e,t){t===void 0&&(t={});var r=t,n=r.placement,s=r.boundary,a=r.rootBoundary,o=r.padding,l=r.flipVariations,c=r.allowedAutoPlacements,u=c===void 0?_y:c,d=uo(n),f=d?l?ib:ib.filter(function(m){return uo(m)===d}):Mc,h=f.filter(function(m){return u.indexOf(m)>=0});h.length===0&&(h=f);var x=h.reduce(function(m,p){return m[p]=nc(e,{placement:p,boundary:s,rootBoundary:a,padding:o})[Yn(p)],m},{});return Object.keys(x).sort(function(m,p){return x[m]-x[p]})}function fL(e){if(Yn(e)===Dy)return[];var t=Qu(e);return[cb(e),t,cb(t)]}function hL(e){var t=e.state,r=e.options,n=e.name;if(!t.modifiersData[n]._skip){for(var s=r.mainAxis,a=s===void 0?!0:s,o=r.altAxis,l=o===void 0?!0:o,c=r.fallbackPlacements,u=r.padding,d=r.boundary,f=r.rootBoundary,h=r.altBoundary,x=r.flipVariations,m=x===void 0?!0:x,p=r.allowedAutoPlacements,w=t.options.placement,y=Yn(w),g=y===w,v=c||(g||!m?[Qu(w)]:fL(w)),b=[w].concat(v).reduce(function(A,K){return A.concat(Yn(K)===Dy?dL(t,{placement:K,boundary:d,rootBoundary:f,padding:u,flipVariations:m,allowedAutoPlacements:p}):K)},[]),S=t.rects.reference,j=t.rects.popper,_=new Map,T=!0,$=b[0],R=0;R<b.length;R++){var Y=b[R],Q=Yn(Y),q=uo(Y)===oo,se=[Cr,Jr].indexOf(Q)>=0,pe=se?"width":"height",te=nc(t,{placement:Y,boundary:d,rootBoundary:f,altBoundary:h,padding:u}),be=se?q?Zr:Er:q?Jr:Cr;S[pe]>j[pe]&&(be=Qu(be));var ee=Qu(be),H=[];if(a&&H.push(te[Q]<=0),l&&H.push(te[be]<=0,te[ee]<=0),H.every(function(A){return A})){$=Y,T=!1;break}_.set(Y,H)}if(T)for(var ue=m?3:1,C=function(K){var I=b.find(function(G){var J=_.get(G);if(J)return J.slice(0,K).every(function(U){return U})});if(I)return $=I,"break"},L=ue;L>0;L--){var E=C(L);if(E==="break")break}t.placement!==$&&(t.modifiersData[n]._skip=!0,t.placement=$,t.reset=!0)}}const mL={name:"flip",enabled:!0,phase:"main",fn:hL,requiresIfExists:["offset"],data:{_skip:!1}};function db(e,t,r){return r===void 0&&(r={x:0,y:0}),{top:e.top-t.height-r.y,right:e.right-t.width+r.x,bottom:e.bottom-t.height+r.y,left:e.left-t.width-r.x}}function fb(e){return[Cr,Zr,Jr,Er].some(function(t){return e[t]>=0})}function pL(e){var t=e.state,r=e.name,n=t.rects.reference,s=t.rects.popper,a=t.modifiersData.preventOverflow,o=nc(t,{elementContext:"reference"}),l=nc(t,{altBoundary:!0}),c=db(o,n),u=db(l,s,a),d=fb(c),f=fb(u);t.modifiersData[r]={referenceClippingOffsets:c,popperEscapeOffsets:u,isReferenceHidden:d,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":f})}const gL={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:pL};function yL(e,t,r){var n=Yn(e),s=[Er,Cr].indexOf(n)>=0?-1:1,a=typeof r=="function"?r(Object.assign({},t,{placement:e})):r,o=a[0],l=a[1];return o=o||0,l=(l||0)*s,[Er,Zr].indexOf(n)>=0?{x:l,y:o}:{x:o,y:l}}function vL(e){var t=e.state,r=e.options,n=e.name,s=r.offset,a=s===void 0?[0,0]:s,o=_y.reduce(function(d,f){return d[f]=yL(f,t.rects,a),d},{}),l=o[t.placement],c=l.x,u=l.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=c,t.modifiersData.popperOffsets.y+=u),t.modifiersData[n]=o}const xL={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:vL};function bL(e){var t=e.state,r=e.name;t.modifiersData[r]=jk({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})}const wL={name:"popperOffsets",enabled:!0,phase:"read",fn:bL,data:{}};function NL(e){return e==="x"?"y":"x"}function jL(e){var t=e.state,r=e.options,n=e.name,s=r.mainAxis,a=s===void 0?!0:s,o=r.altAxis,l=o===void 0?!1:o,c=r.boundary,u=r.rootBoundary,d=r.altBoundary,f=r.padding,h=r.tether,x=h===void 0?!0:h,m=r.tetherOffset,p=m===void 0?0:m,w=nc(t,{boundary:c,rootBoundary:u,padding:f,altBoundary:d}),y=Yn(t.placement),g=uo(t.placement),v=!g,b=Ty(y),S=NL(b),j=t.modifiersData.popperOffsets,_=t.rects.reference,T=t.rects.popper,$=typeof p=="function"?p(Object.assign({},t.rects,{placement:t.placement})):p,R=typeof $=="number"?{mainAxis:$,altAxis:$}:Object.assign({mainAxis:0,altAxis:0},$),Y=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,Q={x:0,y:0};if(j){if(a){var q,se=b==="y"?Cr:Er,pe=b==="y"?Jr:Zr,te=b==="y"?"height":"width",be=j[b],ee=be+w[se],H=be-w[pe],ue=x?-T[te]/2:0,C=g===oo?_[te]:T[te],L=g===oo?-T[te]:-_[te],E=t.elements.arrow,A=x&&E?Ey(E):{width:0,height:0},K=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:xk(),I=K[se],G=K[pe],J=bl(0,_[te],A[te]),U=v?_[te]/2-ue-J-I-R.mainAxis:C-J-I-R.mainAxis,P=v?-_[te]/2+ue+J+G+R.mainAxis:L+J+G+R.mainAxis,V=t.elements.arrow&&Rc(t.elements.arrow),re=V?b==="y"?V.clientTop||0:V.clientLeft||0:0,ce=(q=Y==null?void 0:Y[b])!=null?q:0,Ne=be+U-ce-re,Me=be+P-ce,O=bl(x?Ud(ee,Ne):ee,be,x?Ya(H,Me):H);j[b]=O,Q[b]=O-be}if(l){var de,M=b==="x"?Cr:Er,z=b==="x"?Jr:Zr,D=j[S],k=S==="y"?"height":"width",W=D+w[M],ie=D-w[z],ne=[Cr,Er].indexOf(y)!==-1,oe=(de=Y==null?void 0:Y[S])!=null?de:0,me=ne?W:D-_[k]-T[k]-oe+R.altAxis,_e=ne?D+_[k]+T[k]-oe-R.altAxis:ie,je=x&&ne?qI(me,D,_e):bl(x?me:W,D,x?_e:ie);j[S]=je,Q[S]=je-D}t.modifiersData[n]=Q}}const SL={name:"preventOverflow",enabled:!0,phase:"main",fn:jL,requiresIfExists:["offset"]};function kL(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function DL(e){return e===$r(e)||!qn(e)?Py(e):kL(e)}function _L(e){var t=e.getBoundingClientRect(),r=lo(t.width)/e.offsetWidth||1,n=lo(t.height)/e.offsetHeight||1;return r!==1||n!==1}function CL(e,t,r){r===void 0&&(r=!1);var n=qn(t),s=qn(t)&&_L(t),a=ja(t),o=co(e,s,r),l={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(n||!n&&!r)&&((ma(t)!=="body"||Oy(a))&&(l=DL(t)),qn(t)?(c=co(t,!0),c.x+=t.clientLeft,c.y+=t.clientTop):a&&(c.x=Ay(a))),{x:o.left+l.scrollLeft-c.x,y:o.top+l.scrollTop-c.y,width:o.width,height:o.height}}function EL(e){var t=new Map,r=new Set,n=[];e.forEach(function(a){t.set(a.name,a)});function s(a){r.add(a.name);var o=[].concat(a.requires||[],a.requiresIfExists||[]);o.forEach(function(l){if(!r.has(l)){var c=t.get(l);c&&s(c)}}),n.push(a)}return e.forEach(function(a){r.has(a.name)||s(a)}),n}function TL(e){var t=EL(e);return zI.reduce(function(r,n){return r.concat(t.filter(function(s){return s.phase===n}))},[])}function PL(e){var t;return function(){return t||(t=new Promise(function(r){Promise.resolve().then(function(){t=void 0,r(e())})})),t}}function AL(e){var t=e.reduce(function(r,n){var s=r[n.name];return r[n.name]=s?Object.assign({},s,n,{options:Object.assign({},s.options,n.options),data:Object.assign({},s.data,n.data)}):n,r},{});return Object.keys(t).map(function(r){return t[r]})}var hb={placement:"bottom",modifiers:[],strategy:"absolute"};function mb(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return!t.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function OL(e){e===void 0&&(e={});var t=e,r=t.defaultModifiers,n=r===void 0?[]:r,s=t.defaultOptions,a=s===void 0?hb:s;return function(l,c,u){u===void 0&&(u=a);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},hb,a),modifiersData:{},elements:{reference:l,popper:c},attributes:{},styles:{}},f=[],h=!1,x={state:d,setOptions:function(y){var g=typeof y=="function"?y(d.options):y;p(),d.options=Object.assign({},a,d.options,g),d.scrollParents={reference:ai(l)?wl(l):l.contextElement?wl(l.contextElement):[],popper:wl(c)};var v=TL(AL([].concat(n,d.options.modifiers)));return d.orderedModifiers=v.filter(function(b){return b.enabled}),m(),x.update()},forceUpdate:function(){if(!h){var y=d.elements,g=y.reference,v=y.popper;if(mb(g,v)){d.rects={reference:CL(g,Rc(v),d.options.strategy==="fixed"),popper:Ey(v)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(R){return d.modifiersData[R.name]=Object.assign({},R.data)});for(var b=0;b<d.orderedModifiers.length;b++){if(d.reset===!0){d.reset=!1,b=-1;continue}var S=d.orderedModifiers[b],j=S.fn,_=S.options,T=_===void 0?{}:_,$=S.name;typeof j=="function"&&(d=j({state:d,options:T,name:$,instance:x})||d)}}}},update:PL(function(){return new Promise(function(w){x.forceUpdate(),w(d)})}),destroy:function(){p(),h=!0}};if(!mb(l,c))return x;x.setOptions(u).then(function(w){!h&&u.onFirstUpdate&&u.onFirstUpdate(w)});function m(){d.orderedModifiers.forEach(function(w){var y=w.name,g=w.options,v=g===void 0?{}:g,b=w.effect;if(typeof b=="function"){var S=b({state:d,name:y,instance:x,options:v}),j=function(){};f.push(S||j)}})}function p(){f.forEach(function(w){return w()}),f=[]}return x}}var ML=OL({defaultModifiers:[gL,wL,tL,nL,xL,mL,SL,XI]}),pb=function(t){return{position:t,top:"0",left:"0",opacity:"0",pointerEvents:"none"}},RL={name:"applyStyles",enabled:!1},$L={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(t){var r=t.state;return function(){var n=r.elements,s=n.reference,a=n.popper;if("removeAttribute"in s){var o=(s.getAttribute("aria-describedby")||"").split(",").filter(function(l){return l.trim()!==a.id});o.length?s.setAttribute("aria-describedby",o.join(",")):s.removeAttribute("aria-describedby")}}},fn:function(t){var r,n=t.state,s=n.elements,a=s.popper,o=s.reference,l=(r=a.getAttribute("role"))==null?void 0:r.toLowerCase();if(a.id&&l==="tooltip"&&"setAttribute"in o){var c=o.getAttribute("aria-describedby");if(c&&c.split(",").indexOf(a.id)!==-1)return;o.setAttribute("aria-describedby",c?c+","+a.id:a.id)}}},IL=[];function LL(e,t,r){var n=r===void 0?{}:r,s=n.enabled,a=s===void 0?!0:s,o=n.placement,l=o===void 0?"bottom":o,c=n.strategy,u=c===void 0?"absolute":c,d=n.modifiers,f=d===void 0?IL:d,h=Af(n,["enabled","placement","strategy","modifiers"]),x=N.useRef(),m=N.useCallback(function(){var b;(b=x.current)==null||b.update()},[]),p=N.useCallback(function(){var b;(b=x.current)==null||b.forceUpdate()},[]),w=AI(N.useState({placement:l,update:m,forceUpdate:p,attributes:{},styles:{popper:pb(u),arrow:{}}})),y=w[0],g=w[1],v=N.useMemo(function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(S){var j=S.state,_={},T={};Object.keys(j.elements).forEach(function($){_[$]=j.styles[$],T[$]=j.attributes[$]}),g({state:j,styles:_,attributes:T,update:m,forceUpdate:p,placement:j.placement})}}},[m,p,g]);return N.useEffect(function(){!x.current||!a||x.current.setOptions({placement:l,strategy:u,modifiers:[].concat(f,[v,RL])})},[u,l,v,a]),N.useEffect(function(){if(!(!a||e==null||t==null))return x.current=ML(e,t,Dt({},h,{placement:l,strategy:u,modifiers:[].concat(f,[$L,v])})),function(){x.current!=null&&(x.current.destroy(),x.current=void 0,g(function(b){return Dt({},b,{attributes:{},styles:{popper:pb(u)}})}))}},[a,e,t]),y}function FL(e,t,r,n){var s=n&&typeof n!="boolean"?n.capture:n;e.removeEventListener(t,r,s),r.__once&&e.removeEventListener(t,r.__once,s)}function ol(e,t,r,n){return EI(e,t,r,n),function(){FL(e,t,r,n)}}var WL=function(){},UL=WL;const BL=pr(UL);function HL(e){return e&&"setState"in e?tj.findDOMNode(e):e??null}const zL=function(e){return Oc(HL(e))};var VL=27,gb=function(){};function YL(e){return e.button===0}function qL(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}var yb=function(t){return t&&("current"in t?t.current:t)};function KL(e,t,r){var n=r===void 0?{}:r,s=n.disabled,a=n.clickTrigger,o=a===void 0?"click":a,l=N.useRef(!1),c=t||gb,u=N.useCallback(function(h){var x,m=yb(e);BL(!!m,"RootClose captured a close event but does not have a ref to compare it to. useRootClose(), should be passed a ref that resolves to a DOM node"),l.current=!m||qL(h)||!YL(h)||!!tc(m,(x=h.composedPath==null?void 0:h.composedPath()[0])!=null?x:h.target)},[e]),d=sb(function(h){l.current||c(h)}),f=sb(function(h){h.keyCode===VL&&c(h)});N.useEffect(function(){if(!(s||e==null)){var h=window.event,x=zL(yb(e)),m=ol(x,o,u,!0),p=ol(x,o,function(g){if(g===h){h=void 0;return}d(g)}),w=ol(x,"keyup",function(g){if(g===h){h=void 0;return}f(g)}),y=[];return"ontouchstart"in x.documentElement&&(y=[].slice.call(x.body.children).map(function(g){return ol(g,"mousemove",gb)})),function(){m(),p(),w(),y.forEach(function(g){return g()})}}},[e,s,o,u,d,f])}function GL(e){var t={};return Array.isArray(e)?(e==null||e.forEach(function(r){t[r.name]=r}),t):e||t}function QL(e){return e===void 0&&(e={}),Array.isArray(e)?e:Object.keys(e).map(function(t){return e[t].name=t,e[t]})}function XL(e){var t,r,n,s,a=e.enabled,o=e.enableEvents,l=e.placement,c=e.flip,u=e.offset,d=e.fixed,f=e.containerPadding,h=e.arrowElement,x=e.popperConfig,m=x===void 0?{}:x,p=GL(m.modifiers);return Dt({},m,{placement:l,enabled:a,strategy:d?"fixed":m.strategy,modifiers:QL(Dt({},p,{eventListeners:{enabled:o},preventOverflow:Dt({},p.preventOverflow,{options:f?Dt({padding:f},(t=p.preventOverflow)==null?void 0:t.options):(r=p.preventOverflow)==null?void 0:r.options}),offset:{options:Dt({offset:u},(n=p.offset)==null?void 0:n.options)},arrow:Dt({},p.arrow,{enabled:!!h,options:Dt({},(s=p.arrow)==null?void 0:s.options,{element:h})}),flip:Dt({enabled:!!c},p.flip)}))})}function JL(e,t){return e.classList?e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function ZL(e,t){e.classList?e.classList.add(t):JL(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function vb(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function eF(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=vb(e.className,t):e.setAttribute("class",vb(e.className&&e.className.baseVal||"",t))}var xu;function My(e){if((!xu&&xu!==0||e)&&ky){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),xu=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return xu}var Zh=function(t){var r;return typeof document>"u"?null:t==null?Oc().body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),(r=t)!=null&&r.nodeType&&t||null)};function xb(e,t){var r=N.useState(function(){return Zh(e)}),n=r[0],s=r[1];if(!n){var a=Zh(e);a&&s(a)}return N.useEffect(function(){},[t,n]),N.useEffect(function(){var o=Zh(e);o!==n&&s(o)},[e,n]),n}const bb=e=>!e||typeof e=="function"?e:t=>{e.current=t};function tF(e,t){const r=bb(e),n=bb(t);return s=>{r&&r(s),n&&n(s)}}function rF(e,t){return N.useMemo(()=>tF(e,t),[e,t])}var Ry=B.forwardRef(function(e,t){var r=e.flip,n=e.offset,s=e.placement,a=e.containerPadding,o=a===void 0?5:a,l=e.popperConfig,c=l===void 0?{}:l,u=e.transition,d=ab(),f=d[0],h=d[1],x=ab(),m=x[0],p=x[1],w=rF(h,t),y=xb(e.container),g=xb(e.target),v=N.useState(!e.show),b=v[0],S=v[1],j=LL(g,f,XL({placement:s,enableEvents:!!e.show,containerPadding:o||5,flip:r,offset:n,arrowElement:m,popperConfig:c})),_=j.styles,T=j.attributes,$=Af(j,["styles","attributes"]);e.show?b&&S(!1):!e.transition&&!b&&S(!0);var R=function(){S(!0),e.onExited&&e.onExited.apply(e,arguments)},Y=e.show||u&&!b;if(KL(f,e.onHide,{disabled:!e.rootClose||e.rootCloseDisabled,clickTrigger:e.rootCloseEvent}),!Y)return null;var Q=e.children(Dt({},$,{show:!!e.show,props:Dt({},T.popper,{style:_.popper,ref:w}),arrowProps:Dt({},T.arrow,{style:_.arrow,ref:p})}));if(u){var q=e.onExit,se=e.onExiting,pe=e.onEnter,te=e.onEntering,be=e.onEntered;Q=B.createElement(u,{in:e.show,appear:!0,onExit:q,onExiting:se,onExited:R,onEnter:pe,onEntering:te,onEntered:be},Q)}return y?tj.createPortal(Q,y):null});Ry.displayName="Overlay";Ry.propTypes={show:xe.bool,placement:xe.oneOf(_y),target:xe.any,container:xe.any,flip:xe.bool,children:xe.func.isRequired,containerPadding:xe.number,popperConfig:xe.object,rootClose:xe.bool,rootCloseEvent:xe.oneOf(["click","mousedown"]),rootCloseDisabled:xe.bool,onHide:function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),s=1;s<r;s++)n[s-1]=arguments[s];if(t.rootClose){var a;return(a=xe.func).isRequired.apply(a,[t].concat(n))}return xe.func.apply(xe,[t].concat(n))},transition:xe.elementType,onEnter:xe.func,onEntering:xe.func,onEntered:xe.func,onExit:xe.func,onExiting:xe.func,onExited:xe.func};function nF(){this.__data__=[],this.size=0}var sF=nF,aF=Tc;function iF(e,t){for(var r=e.length;r--;)if(aF(e[r][0],t))return r;return-1}var $f=iF,oF=$f,lF=Array.prototype,cF=lF.splice;function uF(e){var t=this.__data__,r=oF(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():cF.call(t,r,1),--this.size,!0}var dF=uF,fF=$f;function hF(e){var t=this.__data__,r=fF(t,e);return r<0?void 0:t[r][1]}var mF=hF,pF=$f;function gF(e){return pF(this.__data__,e)>-1}var yF=gF,vF=$f;function xF(e,t){var r=this.__data__,n=vF(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var bF=xF,wF=sF,NF=dF,jF=mF,SF=yF,kF=bF;function Do(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Do.prototype.clear=wF;Do.prototype.delete=NF;Do.prototype.get=jF;Do.prototype.has=SF;Do.prototype.set=kF;var If=Do,DF=If;function _F(){this.__data__=new DF,this.size=0}var CF=_F;function EF(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var TF=EF;function PF(e){return this.__data__.get(e)}var AF=PF;function OF(e){return this.__data__.has(e)}var MF=OF,RF=Xn,$F=RF["__core-js_shared__"],IF=$F,em=IF,wb=function(){var e=/[^.]+$/.exec(em&&em.keys&&em.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function LF(e){return!!wb&&wb in e}var FF=LF,WF=Function.prototype,UF=WF.toString;function BF(e){if(e!=null){try{return UF.call(e)}catch{}try{return e+""}catch{}}return""}var Sk=BF,HF=wy,zF=FF,VF=Es,YF=Sk,qF=/[\\^$.*+?()[\]{}|]/g,KF=/^\[object .+?Constructor\]$/,GF=Function.prototype,QF=Object.prototype,XF=GF.toString,JF=QF.hasOwnProperty,ZF=RegExp("^"+XF.call(JF).replace(qF,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function e5(e){if(!VF(e)||zF(e))return!1;var t=HF(e)?ZF:KF;return t.test(YF(e))}var t5=e5;function r5(e,t){return e==null?void 0:e[t]}var n5=r5,s5=t5,a5=n5;function i5(e,t){var r=a5(e,t);return s5(r)?r:void 0}var ci=i5,o5=ci,l5=Xn,c5=o5(l5,"Map"),$y=c5,u5=ci,d5=u5(Object,"create"),Lf=d5,Nb=Lf;function f5(){this.__data__=Nb?Nb(null):{},this.size=0}var h5=f5;function m5(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var p5=m5,g5=Lf,y5="__lodash_hash_undefined__",v5=Object.prototype,x5=v5.hasOwnProperty;function b5(e){var t=this.__data__;if(g5){var r=t[e];return r===y5?void 0:r}return x5.call(t,e)?t[e]:void 0}var w5=b5,N5=Lf,j5=Object.prototype,S5=j5.hasOwnProperty;function k5(e){var t=this.__data__;return N5?t[e]!==void 0:S5.call(t,e)}var D5=k5,_5=Lf,C5="__lodash_hash_undefined__";function E5(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=_5&&t===void 0?C5:t,this}var T5=E5,P5=h5,A5=p5,O5=w5,M5=D5,R5=T5;function _o(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}_o.prototype.clear=P5;_o.prototype.delete=A5;_o.prototype.get=O5;_o.prototype.has=M5;_o.prototype.set=R5;var $5=_o,jb=$5,I5=If,L5=$y;function F5(){this.size=0,this.__data__={hash:new jb,map:new(L5||I5),string:new jb}}var W5=F5;function U5(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var B5=U5,H5=B5;function z5(e,t){var r=e.__data__;return H5(t)?r[typeof t=="string"?"string":"hash"]:r.map}var Ff=z5,V5=Ff;function Y5(e){var t=V5(this,e).delete(e);return this.size-=t?1:0,t}var q5=Y5,K5=Ff;function G5(e){return K5(this,e).get(e)}var Q5=G5,X5=Ff;function J5(e){return X5(this,e).has(e)}var Z5=J5,e6=Ff;function t6(e,t){var r=e6(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var r6=t6,n6=W5,s6=q5,a6=Q5,i6=Z5,o6=r6;function Co(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Co.prototype.clear=n6;Co.prototype.delete=s6;Co.prototype.get=a6;Co.prototype.has=i6;Co.prototype.set=o6;var Iy=Co,l6=If,c6=$y,u6=Iy,d6=200;function f6(e,t){var r=this.__data__;if(r instanceof l6){var n=r.__data__;if(!c6||n.length<d6-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new u6(n)}return r.set(e,t),this.size=r.size,this}var h6=f6,m6=If,p6=CF,g6=TF,y6=AF,v6=MF,x6=h6;function Eo(e){var t=this.__data__=new m6(e);this.size=t.size}Eo.prototype.clear=p6;Eo.prototype.delete=g6;Eo.prototype.get=y6;Eo.prototype.has=v6;Eo.prototype.set=x6;var Ly=Eo,b6="__lodash_hash_undefined__";function w6(e){return this.__data__.set(e,b6),this}var N6=w6;function j6(e){return this.__data__.has(e)}var S6=j6,k6=Iy,D6=N6,_6=S6;function Bd(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new k6;++t<r;)this.add(e[t])}Bd.prototype.add=Bd.prototype.push=D6;Bd.prototype.has=_6;var C6=Bd;function E6(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var T6=E6;function P6(e,t){return e.has(t)}var A6=P6,O6=C6,M6=T6,R6=A6,$6=1,I6=2;function L6(e,t,r,n,s,a){var o=r&$6,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=a.get(e),d=a.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,x=r&I6?new O6:void 0;for(a.set(e,t),a.set(t,e);++f<l;){var m=e[f],p=t[f];if(n)var w=o?n(p,m,f,t,e,a):n(m,p,f,e,t,a);if(w!==void 0){if(w)continue;h=!1;break}if(x){if(!M6(t,function(y,g){if(!R6(x,g)&&(m===y||s(m,y,r,n,a)))return x.push(g)})){h=!1;break}}else if(!(m===p||s(m,p,r,n,a))){h=!1;break}}return a.delete(e),a.delete(t),h}var kk=L6,F6=Xn,W6=F6.Uint8Array,Dk=W6;function U6(e){var t=-1,r=Array(e.size);return e.forEach(function(n,s){r[++t]=[s,n]}),r}var B6=U6;function H6(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var z6=H6,Sb=So,kb=Dk,V6=Tc,Y6=kk,q6=B6,K6=z6,G6=1,Q6=2,X6="[object Boolean]",J6="[object Date]",Z6="[object Error]",eW="[object Map]",tW="[object Number]",rW="[object RegExp]",nW="[object Set]",sW="[object String]",aW="[object Symbol]",iW="[object ArrayBuffer]",oW="[object DataView]",Db=Sb?Sb.prototype:void 0,tm=Db?Db.valueOf:void 0;function lW(e,t,r,n,s,a,o){switch(r){case oW:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case iW:return!(e.byteLength!=t.byteLength||!a(new kb(e),new kb(t)));case X6:case J6:case tW:return V6(+e,+t);case Z6:return e.name==t.name&&e.message==t.message;case rW:case sW:return e==t+"";case eW:var l=q6;case nW:var c=n&G6;if(l||(l=K6),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;n|=Q6,o.set(e,t);var d=Y6(l(e),l(t),n,s,a,o);return o.delete(e),d;case aW:if(tm)return tm.call(e)==tm.call(t)}return!1}var cW=lW;function uW(e,t){for(var r=-1,n=t.length,s=e.length;++r<n;)e[s+r]=t[r];return e}var Fy=uW,dW=Array.isArray,tn=dW,fW=Fy,hW=tn;function mW(e,t,r){var n=t(e);return hW(e)?n:fW(n,r(e))}var _k=mW;function pW(e,t){for(var r=-1,n=e==null?0:e.length,s=0,a=[];++r<n;){var o=e[r];t(o,r,e)&&(a[s++]=o)}return a}var gW=pW;function yW(){return[]}var Ck=yW,vW=gW,xW=Ck,bW=Object.prototype,wW=bW.propertyIsEnumerable,_b=Object.getOwnPropertySymbols,NW=_b?function(e){return e==null?[]:(e=Object(e),vW(_b(e),function(t){return wW.call(e,t)}))}:xW,Wy=NW;function jW(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var SW=jW,kW=ko,DW=Na,_W="[object Arguments]";function CW(e){return DW(e)&&kW(e)==_W}var EW=CW,Cb=EW,TW=Na,Ek=Object.prototype,PW=Ek.hasOwnProperty,AW=Ek.propertyIsEnumerable,OW=Cb(function(){return arguments}())?Cb:function(e){return TW(e)&&PW.call(e,"callee")&&!AW.call(e,"callee")},Uy=OW,Hd={exports:{}};function MW(){return!1}var RW=MW;Hd.exports;(function(e,t){var r=Xn,n=RW,s=t&&!t.nodeType&&t,a=s&&!0&&e&&!e.nodeType&&e,o=a&&a.exports===s,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(Hd,Hd.exports);var Wf=Hd.exports,$W=ko,IW=Ny,LW=Na,FW="[object Arguments]",WW="[object Array]",UW="[object Boolean]",BW="[object Date]",HW="[object Error]",zW="[object Function]",VW="[object Map]",YW="[object Number]",qW="[object Object]",KW="[object RegExp]",GW="[object Set]",QW="[object String]",XW="[object WeakMap]",JW="[object ArrayBuffer]",ZW="[object DataView]",eU="[object Float32Array]",tU="[object Float64Array]",rU="[object Int8Array]",nU="[object Int16Array]",sU="[object Int32Array]",aU="[object Uint8Array]",iU="[object Uint8ClampedArray]",oU="[object Uint16Array]",lU="[object Uint32Array]",dt={};dt[eU]=dt[tU]=dt[rU]=dt[nU]=dt[sU]=dt[aU]=dt[iU]=dt[oU]=dt[lU]=!0;dt[FW]=dt[WW]=dt[JW]=dt[UW]=dt[ZW]=dt[BW]=dt[HW]=dt[zW]=dt[VW]=dt[YW]=dt[qW]=dt[KW]=dt[GW]=dt[QW]=dt[XW]=!1;function cU(e){return LW(e)&&IW(e.length)&&!!dt[$W(e)]}var uU=cU;function dU(e){return function(t){return e(t)}}var Uf=dU,zd={exports:{}};zd.exports;(function(e,t){var r=ok,n=t&&!t.nodeType&&t,s=n&&!0&&e&&!e.nodeType&&e,a=s&&s.exports===n,o=a&&r.process,l=function(){try{var c=s&&s.require&&s.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(zd,zd.exports);var By=zd.exports,fU=uU,hU=Uf,Eb=By,Tb=Eb&&Eb.isTypedArray,mU=Tb?hU(Tb):fU,Hy=mU,pU=SW,gU=Uy,yU=tn,vU=Wf,xU=jy,bU=Hy,wU=Object.prototype,NU=wU.hasOwnProperty;function jU(e,t){var r=yU(e),n=!r&&gU(e),s=!r&&!n&&vU(e),a=!r&&!n&&!s&&bU(e),o=r||n||s||a,l=o?pU(e.length,String):[],c=l.length;for(var u in e)(t||NU.call(e,u))&&!(o&&(u=="length"||s&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||xU(u,c)))&&l.push(u);return l}var Tk=jU,SU=Object.prototype;function kU(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||SU;return e===r}var zy=kU;function DU(e,t){return function(r){return e(t(r))}}var Pk=DU,_U=Pk,CU=_U(Object.keys,Object),EU=CU,TU=zy,PU=EU,AU=Object.prototype,OU=AU.hasOwnProperty;function MU(e){if(!TU(e))return PU(e);var t=[];for(var r in Object(e))OU.call(e,r)&&r!="constructor"&&t.push(r);return t}var RU=MU,$U=Tk,IU=RU,LU=Pc;function FU(e){return LU(e)?$U(e):IU(e)}var $c=FU,WU=_k,UU=Wy,BU=$c;function HU(e){return WU(e,BU,UU)}var Ak=HU,Pb=Ak,zU=1,VU=Object.prototype,YU=VU.hasOwnProperty;function qU(e,t,r,n,s,a){var o=r&zU,l=Pb(e),c=l.length,u=Pb(t),d=u.length;if(c!=d&&!o)return!1;for(var f=c;f--;){var h=l[f];if(!(o?h in t:YU.call(t,h)))return!1}var x=a.get(e),m=a.get(t);if(x&&m)return x==t&&m==e;var p=!0;a.set(e,t),a.set(t,e);for(var w=o;++f<c;){h=l[f];var y=e[h],g=t[h];if(n)var v=o?n(g,y,h,t,e,a):n(y,g,h,e,t,a);if(!(v===void 0?y===g||s(y,g,r,n,a):v)){p=!1;break}w||(w=h=="constructor")}if(p&&!w){var b=e.constructor,S=t.constructor;b!=S&&"constructor"in e&&"constructor"in t&&!(typeof b=="function"&&b instanceof b&&typeof S=="function"&&S instanceof S)&&(p=!1)}return a.delete(e),a.delete(t),p}var KU=qU,GU=ci,QU=Xn,XU=GU(QU,"DataView"),JU=XU,ZU=ci,eB=Xn,tB=ZU(eB,"Promise"),rB=tB,nB=ci,sB=Xn,aB=nB(sB,"Set"),iB=aB,oB=ci,lB=Xn,cB=oB(lB,"WeakMap"),uB=cB,Ip=JU,Lp=$y,Fp=rB,Wp=iB,Up=uB,Ok=ko,To=Sk,Ab="[object Map]",dB="[object Object]",Ob="[object Promise]",Mb="[object Set]",Rb="[object WeakMap]",$b="[object DataView]",fB=To(Ip),hB=To(Lp),mB=To(Fp),pB=To(Wp),gB=To(Up),Ca=Ok;(Ip&&Ca(new Ip(new ArrayBuffer(1)))!=$b||Lp&&Ca(new Lp)!=Ab||Fp&&Ca(Fp.resolve())!=Ob||Wp&&Ca(new Wp)!=Mb||Up&&Ca(new Up)!=Rb)&&(Ca=function(e){var t=Ok(e),r=t==dB?e.constructor:void 0,n=r?To(r):"";if(n)switch(n){case fB:return $b;case hB:return Ab;case mB:return Ob;case pB:return Mb;case gB:return Rb}return t});var Bf=Ca,rm=Ly,yB=kk,vB=cW,xB=KU,Ib=Bf,Lb=tn,Fb=Wf,bB=Hy,wB=1,Wb="[object Arguments]",Ub="[object Array]",bu="[object Object]",NB=Object.prototype,Bb=NB.hasOwnProperty;function jB(e,t,r,n,s,a){var o=Lb(e),l=Lb(t),c=o?Ub:Ib(e),u=l?Ub:Ib(t);c=c==Wb?bu:c,u=u==Wb?bu:u;var d=c==bu,f=u==bu,h=c==u;if(h&&Fb(e)){if(!Fb(t))return!1;o=!0,d=!1}if(h&&!d)return a||(a=new rm),o||bB(e)?yB(e,t,r,n,s,a):vB(e,t,c,r,n,s,a);if(!(r&wB)){var x=d&&Bb.call(e,"__wrapped__"),m=f&&Bb.call(t,"__wrapped__");if(x||m){var p=x?e.value():e,w=m?t.value():t;return a||(a=new rm),s(p,w,r,n,a)}}return h?(a||(a=new rm),xB(e,t,r,n,s,a)):!1}var SB=jB,kB=SB,Hb=Na;function Mk(e,t,r,n,s){return e===t?!0:e==null||t==null||!Hb(e)&&!Hb(t)?e!==e&&t!==t:kB(e,t,r,n,Mk,s)}var Vy=Mk,DB=Vy;function _B(e,t){return DB(e,t)}var CB=_B;const EB=pr(CB);function nm(e,t){var r=Sy(e);return r?r.innerHeight:Va(e).height}function Rk(e,t,r){e.closest&&!r&&e.closest(t);var n=e;do{if(DI(n,t))return n;n=n.parentElement}while(n&&n!==r&&n.nodeType===document.ELEMENT_NODE);return null}function TB(e,t,r,n){for(var s=e.length,a=r+(n?1:-1);n?a--:++a<s;)if(t(e[a],a,e))return a;return-1}var PB=TB,AB=Ly,OB=Vy,MB=1,RB=2;function $B(e,t,r,n){var s=r.length,a=s,o=!n;if(e==null)return!a;for(e=Object(e);s--;){var l=r[s];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++s<a;){l=r[s];var c=l[0],u=e[c],d=l[1];if(o&&l[2]){if(u===void 0&&!(c in e))return!1}else{var f=new AB;if(n)var h=n(u,d,c,e,t,f);if(!(h===void 0?OB(d,u,MB|RB,n,f):h))return!1}}return!0}var IB=$B,LB=Es;function FB(e){return e===e&&!LB(e)}var $k=FB,WB=$k,UB=$c;function BB(e){for(var t=UB(e),r=t.length;r--;){var n=t[r],s=e[n];t[r]=[n,s,WB(s)]}return t}var HB=BB;function zB(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var Ik=zB,VB=IB,YB=HB,qB=Ik;function KB(e){var t=YB(e);return t.length==1&&t[0][2]?qB(t[0][0],t[0][1]):function(r){return r===e||VB(r,e,t)}}var GB=KB,QB=tn,XB=Ac,JB=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ZB=/^\w*$/;function eH(e,t){if(QB(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||XB(e)?!0:ZB.test(e)||!JB.test(e)||t!=null&&e in Object(t)}var Yy=eH,Lk=Iy,tH="Expected a function";function qy(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(tH);var r=function(){var n=arguments,s=t?t.apply(this,n):n[0],a=r.cache;if(a.has(s))return a.get(s);var o=e.apply(this,n);return r.cache=a.set(s,o)||a,o};return r.cache=new(qy.Cache||Lk),r}qy.Cache=Lk;var rH=qy,nH=rH,sH=500;function aH(e){var t=nH(e,function(n){return r.size===sH&&r.clear(),n}),r=t.cache;return t}var iH=aH,oH=iH,lH=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,cH=/\\(\\)?/g,uH=oH(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(lH,function(r,n,s,a){t.push(s?a.replace(cH,"$1"):n||r)}),t}),dH=uH;function fH(e,t){for(var r=-1,n=e==null?0:e.length,s=Array(n);++r<n;)s[r]=t(e[r],r,e);return s}var Ky=fH,zb=So,hH=Ky,mH=tn,pH=Ac,Vb=zb?zb.prototype:void 0,Yb=Vb?Vb.toString:void 0;function Fk(e){if(typeof e=="string")return e;if(mH(e))return hH(e,Fk)+"";if(pH(e))return Yb?Yb.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var gH=Fk,yH=gH;function vH(e){return e==null?"":yH(e)}var xH=vH,bH=tn,wH=Yy,NH=dH,jH=xH;function SH(e,t){return bH(e)?e:wH(e,t)?[e]:NH(jH(e))}var Hf=SH,kH=Ac;function DH(e){if(typeof e=="string"||kH(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var Ic=DH,_H=Hf,CH=Ic;function EH(e,t){t=_H(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[CH(t[r++])];return r&&r==n?e:void 0}var zf=EH,TH=zf;function PH(e,t,r){var n=e==null?void 0:TH(e,t);return n===void 0?r:n}var AH=PH;function OH(e,t){return e!=null&&t in Object(e)}var MH=OH,RH=Hf,$H=Uy,IH=tn,LH=jy,FH=Ny,WH=Ic;function UH(e,t,r){t=RH(t,e);for(var n=-1,s=t.length,a=!1;++n<s;){var o=WH(t[n]);if(!(a=e!=null&&r(e,o)))break;e=e[o]}return a||++n!=s?a:(s=e==null?0:e.length,!!s&&FH(s)&&LH(o,s)&&(IH(e)||$H(e)))}var BH=UH,HH=MH,zH=BH;function VH(e,t){return e!=null&&zH(e,t,HH)}var YH=VH,qH=Vy,KH=AH,GH=YH,QH=Yy,XH=$k,JH=Ik,ZH=Ic,e9=1,t9=2;function r9(e,t){return QH(e)&&XH(t)?JH(ZH(e),t):function(r){var n=KH(r,e);return n===void 0&&n===t?GH(r,e):qH(t,n,e9|t9)}}var n9=r9;function s9(e){return e}var Vf=s9;function a9(e){return function(t){return t==null?void 0:t[e]}}var i9=a9,o9=zf;function l9(e){return function(t){return o9(t,e)}}var c9=l9,u9=i9,d9=c9,f9=Yy,h9=Ic;function m9(e){return f9(e)?u9(h9(e)):d9(e)}var p9=m9,g9=GB,y9=n9,v9=Vf,x9=tn,b9=p9;function w9(e){return typeof e=="function"?e:e==null?v9:typeof e=="object"?x9(e)?y9(e[0],e[1]):g9(e):b9(e)}var Yf=w9,N9=PB,j9=Yf,S9=uk,k9=Math.max;function D9(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var s=r==null?0:S9(r);return s<0&&(s=k9(n+s,0)),N9(e,j9(t),s)}var _9=D9;const C9=pr(_9);var E9=Math.ceil,T9=Math.max;function P9(e,t,r,n){for(var s=-1,a=T9(E9((t-e)/(r||1)),0),o=Array(a);a--;)o[n?a:++s]=e,e+=r;return o}var A9=P9,O9=A9,M9=Mf,sm=ck;function R9(e){return function(t,r,n){return n&&typeof n!="number"&&M9(t,r,n)&&(r=n=void 0),t=sm(t),r===void 0?(r=t,t=0):r=sm(r),n=n===void 0?t<r?1:-1:sm(n),O9(t,r,n,e)}}var $9=R9,I9=$9,L9=I9(),F9=L9;const W9=pr(F9);var qb=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function U9(e,t){return!!(e===t||qb(e)&&qb(t))}function B9(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!U9(e[r],t[r]))return!1;return!0}function Wk(e,t){t===void 0&&(t=B9);var r=null;function n(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];if(r&&r.lastThis===this&&t(s,r.lastArgs))return r.lastResult;var o=e.apply(this,s);return r={lastResult:o,lastArgs:s,lastThis:this},o}return n.clear=function(){r=null},n}function Bp(e,t){var r=Sy(e);return r?r.innerWidth:Va(e).width}var Kb=So,H9=Uy,z9=tn,Gb=Kb?Kb.isConcatSpreadable:void 0;function V9(e){return z9(e)||H9(e)||!!(Gb&&e&&e[Gb])}var Y9=V9,q9=Fy,K9=Y9;function Uk(e,t,r,n,s){var a=-1,o=e.length;for(r||(r=K9),s||(s=[]);++a<o;){var l=e[a];t>0&&r(l)?t>1?Uk(l,t-1,r,n,s):q9(s,l):n||(s[s.length]=l)}return s}var Bk=Uk;function G9(e){return function(t,r,n){for(var s=-1,a=Object(t),o=n(t),l=o.length;l--;){var c=o[e?l:++s];if(r(a[c],c,a)===!1)break}return t}}var Q9=G9,X9=Q9,J9=X9(),Z9=J9,ez=Z9,tz=$c;function rz(e,t){return e&&ez(e,t,tz)}var Gy=rz,nz=Pc;function sz(e,t){return function(r,n){if(r==null)return r;if(!nz(r))return e(r,n);for(var s=r.length,a=t?s:-1,o=Object(r);(t?a--:++a<s)&&n(o[a],a,o)!==!1;);return r}}var az=sz,iz=Gy,oz=az,lz=oz(iz),cz=lz,uz=cz,dz=Pc;function fz(e,t){var r=-1,n=dz(e)?Array(e.length):[];return uz(e,function(s,a,o){n[++r]=t(s,a,o)}),n}var hz=fz;function mz(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var pz=mz,Qb=Ac;function gz(e,t){if(e!==t){var r=e!==void 0,n=e===null,s=e===e,a=Qb(e),o=t!==void 0,l=t===null,c=t===t,u=Qb(t);if(!l&&!u&&!a&&e>t||a&&o&&c&&!l&&!u||n&&o&&c||!r&&c||!s)return 1;if(!n&&!a&&!u&&e<t||u&&r&&s&&!n&&!a||l&&r&&s||!o&&s||!c)return-1}return 0}var yz=gz,vz=yz;function xz(e,t,r){for(var n=-1,s=e.criteria,a=t.criteria,o=s.length,l=r.length;++n<o;){var c=vz(s[n],a[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var bz=xz,am=Ky,wz=zf,Nz=Yf,jz=hz,Sz=pz,kz=Uf,Dz=bz,_z=Vf,Cz=tn;function Ez(e,t,r){t.length?t=am(t,function(a){return Cz(a)?function(o){return wz(o,a.length===1?a[0]:a)}:a}):t=[_z];var n=-1;t=am(t,kz(Nz));var s=jz(e,function(a,o,l){var c=am(t,function(u){return u(a)});return{criteria:c,index:++n,value:a}});return Sz(s,function(a,o){return Dz(a,o,r)})}var Tz=Ez;function Pz(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var Az=Pz,Oz=Az,Xb=Math.max;function Mz(e,t,r){return t=Xb(t===void 0?e.length-1:t,0),function(){for(var n=arguments,s=-1,a=Xb(n.length-t,0),o=Array(a);++s<a;)o[s]=n[t+s];s=-1;for(var l=Array(t+1);++s<t;)l[s]=n[s];return l[t]=r(o),Oz(e,this,l)}}var Hk=Mz;function Rz(e){return function(){return e}}var $z=Rz,Iz=ci,Lz=function(){try{var e=Iz(Object,"defineProperty");return e({},"",{}),e}catch{}}(),zk=Lz,Fz=$z,Jb=zk,Wz=Vf,Uz=Jb?function(e,t){return Jb(e,"toString",{configurable:!0,enumerable:!1,value:Fz(t),writable:!0})}:Wz,Bz=Uz,Hz=800,zz=16,Vz=Date.now;function Yz(e){var t=0,r=0;return function(){var n=Vz(),s=zz-(n-r);if(r=n,s>0){if(++t>=Hz)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var qz=Yz,Kz=Bz,Gz=qz,Qz=Gz(Kz),Vk=Qz,Xz=Vf,Jz=Hk,Zz=Vk;function eV(e,t){return Zz(Jz(e,t,Xz),e+"")}var Yk=eV,tV=Bk,rV=Tz,nV=Yk,Zb=Mf,sV=nV(function(e,t){if(e==null)return[];var r=t.length;return r>1&&Zb(e,t[0],t[1])?t=[]:r>2&&Zb(t[0],t[1],t[2])&&(t=[t[0]]),rV(e,tV(t,1),[])}),aV=sV;const iV=pr(aV);function qk(e){return BS(e)||ak(e)||hy(e)||HS()}function oV(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var lV=oV,cV=Es,uV=zy,dV=lV,fV=Object.prototype,hV=fV.hasOwnProperty;function mV(e){if(!cV(e))return dV(e);var t=uV(e),r=[];for(var n in e)n=="constructor"&&(t||!hV.call(e,n))||r.push(n);return r}var pV=mV,gV=Tk,yV=pV,vV=Pc;function xV(e){return vV(e)?gV(e,!0):yV(e)}var qf=xV,bV=Yk,wV=Tc,NV=Mf,jV=qf,Kk=Object.prototype,SV=Kk.hasOwnProperty,kV=bV(function(e,t){e=Object(e);var r=-1,n=t.length,s=n>2?t[2]:void 0;for(s&&NV(t[0],t[1],s)&&(n=1);++r<n;)for(var a=t[r],o=jV(a),l=-1,c=o.length;++l<c;){var u=o[l],d=e[u];(d===void 0||wV(d,Kk[u])&&!SV.call(e,u))&&(e[u]=a[u])}return e}),DV=kV;const _V=pr(DV);var ew=zk;function CV(e,t,r){t=="__proto__"&&ew?ew(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var Qy=CV,EV=Qy,TV=Gy,PV=Yf;function AV(e,t){var r={};return t=PV(t),TV(e,function(n,s,a){EV(r,s,t(n,s,a))}),r}var OV=AV;const MV=pr(OV);function RV(e,t){for(var r=-1,n=e==null?0:e.length;++r<n&&t(e[r],r,e)!==!1;);return e}var Gk=RV,$V=Qy,IV=Tc,LV=Object.prototype,FV=LV.hasOwnProperty;function WV(e,t,r){var n=e[t];(!(FV.call(e,t)&&IV(n,r))||r===void 0&&!(t in e))&&$V(e,t,r)}var Qk=WV,UV=Qk,BV=Qy;function HV(e,t,r,n){var s=!r;r||(r={});for(var a=-1,o=t.length;++a<o;){var l=t[a],c=n?n(r[l],e[l],l,r,e):void 0;c===void 0&&(c=e[l]),s?BV(r,l,c):UV(r,l,c)}return r}var Lc=HV,zV=Lc,VV=$c;function YV(e,t){return e&&zV(t,VV(t),e)}var qV=YV,KV=Lc,GV=qf;function QV(e,t){return e&&KV(t,GV(t),e)}var XV=QV,Vd={exports:{}};Vd.exports;(function(e,t){var r=Xn,n=t&&!t.nodeType&&t,s=n&&!0&&e&&!e.nodeType&&e,a=s&&s.exports===n,o=a?r.Buffer:void 0,l=o?o.allocUnsafe:void 0;function c(u,d){if(d)return u.slice();var f=u.length,h=l?l(f):new u.constructor(f);return u.copy(h),h}e.exports=c})(Vd,Vd.exports);var JV=Vd.exports;function ZV(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}var e7=ZV,t7=Lc,r7=Wy;function n7(e,t){return t7(e,r7(e),t)}var s7=n7,a7=Pk,i7=a7(Object.getPrototypeOf,Object),Kf=i7,o7=Fy,l7=Kf,c7=Wy,u7=Ck,d7=Object.getOwnPropertySymbols,f7=d7?function(e){for(var t=[];e;)o7(t,c7(e)),e=l7(e);return t}:u7,Xk=f7,h7=Lc,m7=Xk;function p7(e,t){return h7(e,m7(e),t)}var g7=p7,y7=_k,v7=Xk,x7=qf;function b7(e){return y7(e,x7,v7)}var Jk=b7,w7=Object.prototype,N7=w7.hasOwnProperty;function j7(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&N7.call(e,"index")&&(r.index=e.index,r.input=e.input),r}var S7=j7,tw=Dk;function k7(e){var t=new e.constructor(e.byteLength);return new tw(t).set(new tw(e)),t}var Xy=k7,D7=Xy;function _7(e,t){var r=t?D7(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}var C7=_7,E7=/\w*$/;function T7(e){var t=new e.constructor(e.source,E7.exec(e));return t.lastIndex=e.lastIndex,t}var P7=T7,rw=So,nw=rw?rw.prototype:void 0,sw=nw?nw.valueOf:void 0;function A7(e){return sw?Object(sw.call(e)):{}}var O7=A7,M7=Xy;function R7(e,t){var r=t?M7(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var $7=R7,I7=Xy,L7=C7,F7=P7,W7=O7,U7=$7,B7="[object Boolean]",H7="[object Date]",z7="[object Map]",V7="[object Number]",Y7="[object RegExp]",q7="[object Set]",K7="[object String]",G7="[object Symbol]",Q7="[object ArrayBuffer]",X7="[object DataView]",J7="[object Float32Array]",Z7="[object Float64Array]",eY="[object Int8Array]",tY="[object Int16Array]",rY="[object Int32Array]",nY="[object Uint8Array]",sY="[object Uint8ClampedArray]",aY="[object Uint16Array]",iY="[object Uint32Array]";function oY(e,t,r){var n=e.constructor;switch(t){case Q7:return I7(e);case B7:case H7:return new n(+e);case X7:return L7(e,r);case J7:case Z7:case eY:case tY:case rY:case nY:case sY:case aY:case iY:return U7(e,r);case z7:return new n;case V7:case K7:return new n(e);case Y7:return F7(e);case q7:return new n;case G7:return W7(e)}}var lY=oY,cY=Es,aw=Object.create,uY=function(){function e(){}return function(t){if(!cY(t))return{};if(aw)return aw(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}(),Zk=uY,dY=Zk,fY=Kf,hY=zy;function mY(e){return typeof e.constructor=="function"&&!hY(e)?dY(fY(e)):{}}var pY=mY,gY=Bf,yY=Na,vY="[object Map]";function xY(e){return yY(e)&&gY(e)==vY}var bY=xY,wY=bY,NY=Uf,iw=By,ow=iw&&iw.isMap,jY=ow?NY(ow):wY,SY=jY,kY=Bf,DY=Na,_Y="[object Set]";function CY(e){return DY(e)&&kY(e)==_Y}var EY=CY,TY=EY,PY=Uf,lw=By,cw=lw&&lw.isSet,AY=cw?PY(cw):TY,OY=AY,MY=Ly,RY=Gk,$Y=Qk,IY=qV,LY=XV,FY=JV,WY=e7,UY=s7,BY=g7,HY=Ak,zY=Jk,VY=Bf,YY=S7,qY=lY,KY=pY,GY=tn,QY=Wf,XY=SY,JY=Es,ZY=OY,e8=$c,t8=qf,r8=1,n8=2,s8=4,eD="[object Arguments]",a8="[object Array]",i8="[object Boolean]",o8="[object Date]",l8="[object Error]",tD="[object Function]",c8="[object GeneratorFunction]",u8="[object Map]",d8="[object Number]",rD="[object Object]",f8="[object RegExp]",h8="[object Set]",m8="[object String]",p8="[object Symbol]",g8="[object WeakMap]",y8="[object ArrayBuffer]",v8="[object DataView]",x8="[object Float32Array]",b8="[object Float64Array]",w8="[object Int8Array]",N8="[object Int16Array]",j8="[object Int32Array]",S8="[object Uint8Array]",k8="[object Uint8ClampedArray]",D8="[object Uint16Array]",_8="[object Uint32Array]",ot={};ot[eD]=ot[a8]=ot[y8]=ot[v8]=ot[i8]=ot[o8]=ot[x8]=ot[b8]=ot[w8]=ot[N8]=ot[j8]=ot[u8]=ot[d8]=ot[rD]=ot[f8]=ot[h8]=ot[m8]=ot[p8]=ot[S8]=ot[k8]=ot[D8]=ot[_8]=!0;ot[l8]=ot[tD]=ot[g8]=!1;function Xu(e,t,r,n,s,a){var o,l=t&r8,c=t&n8,u=t&s8;if(r&&(o=s?r(e,n,s,a):r(e)),o!==void 0)return o;if(!JY(e))return e;var d=GY(e);if(d){if(o=YY(e),!l)return WY(e,o)}else{var f=VY(e),h=f==tD||f==c8;if(QY(e))return FY(e,l);if(f==rD||f==eD||h&&!s){if(o=c||h?{}:KY(e),!l)return c?BY(e,LY(o,e)):UY(e,IY(o,e))}else{if(!ot[f])return s?e:{};o=qY(e,f,l)}}a||(a=new MY);var x=a.get(e);if(x)return x;a.set(e,o),ZY(e)?e.forEach(function(w){o.add(Xu(w,t,r,w,e,a))}):XY(e)&&e.forEach(function(w,y){o.set(y,Xu(w,t,r,y,e,a))});var m=u?c?zY:HY:c?t8:e8,p=d?void 0:m(e);return RY(p||e,function(w,y){p&&(y=w,w=e[y]),$Y(o,y,Xu(w,t,r,y,e,a))}),o}var C8=Xu;function E8(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var T8=E8,P8=zf,A8=ik;function O8(e,t){return t.length<2?e:P8(e,A8(t,0,-1))}var M8=O8,R8=Hf,$8=T8,I8=M8,L8=Ic;function F8(e,t){return t=R8(t,e),e=I8(e,t),e==null||delete e[L8($8(t))]}var W8=F8,U8=ko,B8=Kf,H8=Na,z8="[object Object]",V8=Function.prototype,Y8=Object.prototype,nD=V8.toString,q8=Y8.hasOwnProperty,K8=nD.call(Object);function G8(e){if(!H8(e)||U8(e)!=z8)return!1;var t=B8(e);if(t===null)return!0;var r=q8.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&nD.call(r)==K8}var Q8=G8,X8=Q8;function J8(e){return X8(e)?void 0:e}var Z8=J8,eq=Bk;function tq(e){var t=e==null?0:e.length;return t?eq(e,1):[]}var rq=tq,nq=rq,sq=Hk,aq=Vk;function iq(e){return aq(sq(e,void 0,nq),e+"")}var oq=iq,lq=Ky,cq=C8,uq=W8,dq=Hf,fq=Lc,hq=Z8,mq=oq,pq=Jk,gq=1,yq=2,vq=4,xq=mq(function(e,t){var r={};if(e==null)return r;var n=!1;t=lq(t,function(a){return a=dq(a,e),n||(n=a.length>1),a}),fq(e,pq(e),r),n&&(r=cq(r,gq|yq|vq,hq));for(var s=t.length;s--;)uq(r,t[s]);return r}),bq=xq;const wq=pr(bq);var Nq=Gk,jq=Zk,Sq=Gy,kq=Yf,Dq=Kf,_q=tn,Cq=Wf,Eq=wy,Tq=Es,Pq=Hy;function Aq(e,t,r){var n=_q(e),s=n||Cq(e)||Pq(e);if(t=kq(t),r==null){var a=e&&e.constructor;s?r=n?new a:[]:Tq(e)?r=Eq(a)?jq(Dq(e)):{}:r={}}return(s?Nq:Sq)(e,function(o,l,c){return t(r,o,l,c)}),r}var Oq=Aq;const Mq=pr(Oq);var Rq={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(qr,function(){return function(r,n,s){n.prototype.isBetween=function(a,o,l,c){var u=s(a),d=s(o),f=(c=c||"()")[0]==="(",h=c[1]===")";return(f?this.isAfter(u,l):!this.isBefore(u,l))&&(h?this.isBefore(d,l):!this.isAfter(d,l))||(f?this.isBefore(u,l):!this.isAfter(u,l))&&(h?this.isAfter(d,l):!this.isBefore(d,l))}}})})(Rq);var $q={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(qr,function(){return function(r,n){n.prototype.isSameOrAfter=function(s,a){return this.isSame(s,a)||this.isAfter(s,a)}}})})($q);var Iq={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(qr,function(){return function(r,n){n.prototype.isSameOrBefore=function(s,a){return this.isSame(s,a)||this.isBefore(s,a)}}})})(Iq);var Lq={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(qr,function(){return function(r,n,s){var a=n.prototype,o=function(f){return f&&(f.indexOf?f:f.s)},l=function(f,h,x,m,p){var w=f.name?f:f.$locale(),y=o(w[h]),g=o(w[x]),v=y||g.map(function(S){return S.slice(0,m)});if(!p)return v;var b=w.weekStart;return v.map(function(S,j){return v[(j+(b||0))%7]})},c=function(){return s.Ls[s.locale()]},u=function(f,h){return f.formats[h]||function(x){return x.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(m,p,w){return p||w.slice(1)})}(f.formats[h.toUpperCase()])},d=function(){var f=this;return{months:function(h){return h?h.format("MMMM"):l(f,"months")},monthsShort:function(h){return h?h.format("MMM"):l(f,"monthsShort","months",3)},firstDayOfWeek:function(){return f.$locale().weekStart||0},weekdays:function(h){return h?h.format("dddd"):l(f,"weekdays")},weekdaysMin:function(h){return h?h.format("dd"):l(f,"weekdaysMin","weekdays",2)},weekdaysShort:function(h){return h?h.format("ddd"):l(f,"weekdaysShort","weekdays",3)},longDateFormat:function(h){return u(f.$locale(),h)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};a.localeData=function(){return d.bind(this)()},s.localeData=function(){var f=c();return{firstDayOfWeek:function(){return f.weekStart||0},weekdays:function(){return s.weekdays()},weekdaysShort:function(){return s.weekdaysShort()},weekdaysMin:function(){return s.weekdaysMin()},months:function(){return s.months()},monthsShort:function(){return s.monthsShort()},longDateFormat:function(h){return u(f,h)},meridiem:f.meridiem,ordinal:f.ordinal}},s.months=function(){return l(c(),"months")},s.monthsShort=function(){return l(c(),"monthsShort","months",3)},s.weekdays=function(f){return l(c(),"weekdays",null,null,f)},s.weekdaysShort=function(f){return l(c(),"weekdaysShort","weekdays",3,f)},s.weekdaysMin=function(f){return l(c(),"weekdaysMin","weekdays",2,f)}}})})(Lq);var Fq={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(qr,function(){var r={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(n,s,a){var o=s.prototype,l=o.format;a.en.formats=r,o.format=function(c){c===void 0&&(c="YYYY-MM-DDTHH:mm:ssZ");var u=this.$locale().formats,d=function(f,h){return f.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(x,m,p){var w=p&&p.toUpperCase();return m||h[p]||r[p]||h[w].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(y,g,v){return g||v.slice(1)})})}(c,u===void 0?{}:u);return l.call(this,d)}}})})(Fq);var Wq={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(qr,function(){return function(r,n,s){var a=function(o,l){if(!l||!l.length||l.length===1&&!l[0]||l.length===1&&Array.isArray(l[0])&&!l[0].length)return null;var c;l.length===1&&l[0].length>0&&(l=l[0]),c=(l=l.filter(function(d){return d}))[0];for(var u=1;u<l.length;u+=1)l[u].isValid()&&!l[u][o](c)||(c=l[u]);return c};s.max=function(){var o=[].slice.call(arguments,0);return a("isAfter",o)},s.min=function(){var o=[].slice.call(arguments,0);return a("isBefore",o)}}})})(Wq);var Uq={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(qr,function(){var r="minute",n=/[+-]\d\d(?::?\d\d)?/g,s=/([+-]|\d\d)/g;return function(a,o,l){var c=o.prototype;l.utc=function(p){var w={date:p,utc:!0,args:arguments};return new o(w)},c.utc=function(p){var w=l(this.toDate(),{locale:this.$L,utc:!0});return p?w.add(this.utcOffset(),r):w},c.local=function(){return l(this.toDate(),{locale:this.$L,utc:!1})};var u=c.parse;c.parse=function(p){p.utc&&(this.$u=!0),this.$utils().u(p.$offset)||(this.$offset=p.$offset),u.call(this,p)};var d=c.init;c.init=function(){if(this.$u){var p=this.$d;this.$y=p.getUTCFullYear(),this.$M=p.getUTCMonth(),this.$D=p.getUTCDate(),this.$W=p.getUTCDay(),this.$H=p.getUTCHours(),this.$m=p.getUTCMinutes(),this.$s=p.getUTCSeconds(),this.$ms=p.getUTCMilliseconds()}else d.call(this)};var f=c.utcOffset;c.utcOffset=function(p,w){var y=this.$utils().u;if(y(p))return this.$u?0:y(this.$offset)?f.call(this):this.$offset;if(typeof p=="string"&&(p=function(S){S===void 0&&(S="");var j=S.match(n);if(!j)return null;var _=(""+j[0]).match(s)||["-",0,0],T=_[0],$=60*+_[1]+ +_[2];return $===0?0:T==="+"?$:-$}(p),p===null))return this;var g=Math.abs(p)<=16?60*p:p;if(g===0)return this.utc(w);var v=this.clone();if(w)return v.$offset=g,v.$u=!1,v;var b=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();return(v=this.local().add(g+b,r)).$offset=g,v.$x.$localOffset=b,v};var h=c.format;c.format=function(p){var w=p||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return h.call(this,w)},c.valueOf=function(){var p=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*p},c.isUTC=function(){return!!this.$u},c.toISOString=function(){return this.toDate().toISOString()},c.toString=function(){return this.toDate().toUTCString()};var x=c.toDate;c.toDate=function(p){return p==="s"&&this.$offset?l(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():x.call(this)};var m=c.diff;c.diff=function(p,w,y){if(p&&this.$u===p.$u)return m.call(this,p,w,y);var g=this.local(),v=l(p).local();return m.call(g,v,w,y)}}})})(Uq);var Bq={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(qr,function(){return function(r,n){n.prototype.isLeapYear=function(){return this.$y%4==0&&this.$y%100!=0||this.$y%400==0}}})})(Bq);function An(e){return e.children}var Tr={PREVIOUS:"PREV",NEXT:"NEXT",TODAY:"TODAY",DATE:"DATE"},hr={MONTH:"month",WEEK:"week",WORK_WEEK:"work_week",DAY:"day",AGENDA:"agenda"},uw=Object.keys(hr).map(function(e){return hr[e]});xe.oneOfType([xe.string,xe.func]);xe.any;xe.func;xe.oneOfType([xe.arrayOf(xe.oneOf(uw)),xe.objectOf(function(e,t){var r=uw.indexOf(t)!==-1&&typeof e[t]=="boolean";if(r)return null;for(var n=arguments.length,s=new Array(n>2?n-2:0),a=2;a<n;a++)s[a-2]=arguments[a];return xe.elementType.apply(xe,[e,t].concat(s))})]);xe.oneOfType([xe.oneOf(["overlap","no-overlap"]),xe.func]);var dw={seconds:1e3,minutes:1e3*60,hours:1e3*60*60,day:1e3*60*60*24};function sD(e,t){var r=Gt(e,"month");return Gt(r,"week",t.startOfWeek())}function aD(e,t){var r=Fd(e,"month");return Fd(r,"week",t.startOfWeek())}function Hq(e,t){for(var r=sD(e,t),n=aD(e,t),s=[];No(r,n,"day");)s.push(r),r=Nn(r,1,"day");return s}function zq(e,t){var r=Gt(e,t);return Cc(r,e)?r:Nn(r,1,t)}function Vq(e,t){for(var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",n=e,s=[];No(n,t,r);)s.push(n),n=Nn(n,1,r);return s}function Yq(e,t){return t==null&&e==null?null:(t==null&&(t=new Date),e==null&&(e=new Date),e=Gt(e,"day"),e=ec(e,ec(t)),e=io(e,io(t)),e=Zl(e,Zl(t)),Jl(e,Jl(t)))}function fw(e){return ec(e)===0&&io(e)===0&&Zl(e)===0&&Jl(e)===0}function qq(e,t,r,n){return r==="day"&&(r="date"),Math.abs(Kx[r](e,void 0,n)-Kx[r](t,void 0,n))}function Jy(e,t,r){return!r||r==="milliseconds"?Math.abs(+e-+t):Math.round(Math.abs(+Gt(e,r)/dw[r]-+Gt(t,r)/dw[r]))}var Kq=xe.oneOfType([xe.string,xe.func]);function Gq(e,t,r,n,s){var a=typeof n=="function"?n(r,s,e):t.call(e,r,n,s);return Yl(a==null||typeof a=="string","`localizer format(..)` must return a string, null, or undefined"),a}function Qq(e,t,r){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,t+r,0,0)}function Zy(e,t){return e.getTimezoneOffset()-t.getTimezoneOffset()}function Xq(e,t){return Jy(e,t,"minutes")+Zy(e,t)}function Jq(e){var t=Gt(e,"day");return Jy(t,e,"minutes")+Zy(t,e)}function Zq(e,t){return by(e,t,"day")}function eK(e,t,r){var n=Cc(e,t,"minutes");return n?Ec(t,r,"minutes"):Of(t,r,"minutes")}function Hp(e,t){return qq(e,t,"day")}function tK(e){var t=e.evtA,r=t.start,n=t.end,s=t.allDay,a=e.evtB,o=a.start,l=a.end,c=a.allDay,u=+Gt(r,"day")-+Gt(o,"day"),d=Hp(r,n),f=Hp(o,l);return u||f-d||!!c-!!s||+r-+o||+n-+l}function rK(e){var t=e.event,r=t.start,n=t.end,s=e.range,a=s.start,o=s.end,l=Gt(r,"day"),c=No(l,o,"day"),u=xy(l,n,"minutes"),d=u?Of(n,a,"minutes"):Ec(n,a,"minutes");return c&&d}function nK(e,t){return Cc(e,t,"day")}function sK(e,t){return fw(e)&&fw(t)}var aK=Ut(function e(t){var r=this;Wt(this,e),Yl(typeof t.format=="function","date localizer `format(..)` must be a function"),Yl(typeof t.firstOfWeek=="function","date localizer `firstOfWeek(..)` must be a function"),this.propType=t.propType||Kq,this.formats=t.formats,this.format=function(){for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return Gq.apply(void 0,[r,t.format].concat(s))},this.startOfWeek=t.firstOfWeek,this.merge=t.merge||Yq,this.inRange=t.inRange||tk,this.lt=t.lt||by,this.lte=t.lte||No,this.gt=t.gt||Of,this.gte=t.gte||Ec,this.eq=t.eq||Cc,this.neq=t.neq||xy,this.startOf=t.startOf||Gt,this.endOf=t.endOf||Fd,this.add=t.add||Nn,this.range=t.range||Vq,this.diff=t.diff||Jy,this.ceil=t.ceil||zq,this.min=t.min||ZS,this.max=t.max||ek,this.minutes=t.minutes||io,this.daySpan=t.daySpan||Hp,this.firstVisibleDay=t.firstVisibleDay||sD,this.lastVisibleDay=t.lastVisibleDay||aD,this.visibleDays=t.visibleDays||Hq,this.getSlotDate=t.getSlotDate||Qq,this.getTimezoneOffset=t.getTimezoneOffset||function(n){return n.getTimezoneOffset()},this.getDstOffset=t.getDstOffset||Zy,this.getTotalMin=t.getTotalMin||Xq,this.getMinutesFromMidnight=t.getMinutesFromMidnight||Jq,this.continuesPrior=t.continuesPrior||Zq,this.continuesAfter=t.continuesAfter||eK,this.sortEvents=t.sortEvents||tK,this.inEventRange=t.inEventRange||rK,this.isSameDate=t.isSameDate||nK,this.startAndEndAreDateOnly=t.startAndEndAreDateOnly||sK,this.segmentOffset=t.browserTZOffset?t.browserTZOffset():0});function iK(e,t,r,n){var s=at(at({},e.formats),r);return at(at({},e),{},{messages:n,startOfWeek:function(){return e.startOfWeek(t)},format:function(o,l){return e.format(o,s[l]||l,t)}})}var oK=function(e){function t(){var r;Wt(this,t);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return r=lr(this,t,[].concat(s)),r.navigate=function(o){r.props.onNavigate(o)},r.view=function(o){r.props.onView(o)},r}return or(t,e),Ut(t,[{key:"render",value:function(){var n=this.props,s=n.localizer.messages,a=n.label;return B.createElement("div",{className:"rbc-toolbar"},B.createElement("span",{className:"rbc-btn-group"},B.createElement("button",{type:"button",onClick:this.navigate.bind(null,Tr.TODAY)},s.today),B.createElement("button",{type:"button",onClick:this.navigate.bind(null,Tr.PREVIOUS)},s.previous),B.createElement("button",{type:"button",onClick:this.navigate.bind(null,Tr.NEXT)},s.next)),B.createElement("span",{className:"rbc-toolbar-label"},a),B.createElement("span",{className:"rbc-btn-group"},this.viewNamesGroup(s)))}},{key:"viewNamesGroup",value:function(n){var s=this,a=this.props.views,o=this.props.view;if(a.length>1)return a.map(function(l){return B.createElement("button",{type:"button",key:l,className:_t({"rbc-active":o===l}),onClick:s.view.bind(null,l)},n[l])})}}])}(B.Component);function ft(e,t){e&&e.apply(null,[].concat(t))}var lK={date:"Date",time:"Time",event:"Event",allDay:"All Day",week:"Week",work_week:"Work Week",day:"Day",month:"Month",previous:"Back",next:"Next",yesterday:"Yesterday",tomorrow:"Tomorrow",today:"Today",agenda:"Agenda",noEventsInRange:"There are no events in this range.",showMore:function(t){return"+".concat(t," more")}};function cK(e){return at(at({},lK),e)}function uK(e){var t=e.ref,r=e.callback;N.useEffect(function(){var n=function(a){t.current&&!t.current.contains(a.target)&&r()};return document.addEventListener("mousedown",n),function(){document.removeEventListener("mousedown",n)}},[t,r])}var dK=["style","className","event","selected","isAllDay","onSelect","onDoubleClick","onKeyPress","localizer","continuesPrior","continuesAfter","accessors","getters","children","components","slotStart","slotEnd"],iD=function(e){function t(){return Wt(this,t),lr(this,t,arguments)}return or(t,e),Ut(t,[{key:"render",value:function(){var n=this.props,s=n.style,a=n.className,o=n.event,l=n.selected,c=n.isAllDay,u=n.onSelect,d=n.onDoubleClick,f=n.onKeyPress,h=n.localizer,x=n.continuesPrior,m=n.continuesAfter,p=n.accessors,w=n.getters,y=n.children,g=n.components,v=g.event,b=g.eventWrapper,S=n.slotStart,j=n.slotEnd,_=Gn(n,dK);delete _.resizable;var T=p.title(o),$=p.tooltip(o),R=p.end(o),Y=p.start(o),Q=p.allDay(o),q=c||Q||h.diff(Y,h.ceil(R,"day"),"day")>1,se=w.eventProp(o,Y,R,l),pe=B.createElement("div",{className:"rbc-event-content",title:$||void 0},v?B.createElement(v,{event:o,continuesPrior:x,continuesAfter:m,title:T,isAllDay:Q,localizer:h,slotStart:S,slotEnd:j}):T);return B.createElement(b,Object.assign({},this.props,{type:"date"}),B.createElement("div",Object.assign({},_,{style:at(at({},se.style),s),className:_t("rbc-event",a,se.className,{"rbc-selected":l,"rbc-event-allday":q,"rbc-event-continues-prior":x,"rbc-event-continues-after":m}),onClick:function(be){return u&&u(o,be)},onDoubleClick:function(be){return d&&d(o,be)},onKeyDown:function(be){return f&&f(o,be)}}),typeof y=="function"?y(pe):pe))}}])}(B.Component);function Gf(e,t){return!e||t==null?!1:EB(e,t)}function oD(e,t){var r=e.right-e.left,n=r/t;return n}function lD(e,t,r,n){var s=oD(e,n);return r?n-1-Math.floor((t-e.left)/s):Math.floor((t-e.left)/s)}function fK(e,t){var r=t.x,n=t.y;return n>=e.top&&n<=e.bottom&&r>=e.left&&r<=e.right}function hK(e,t,r,n,s){var a=-1,o=-1,l=n-1,c=oD(t,n),u=lD(t,r.x,s,n),d=t.top<r.y&&t.bottom>r.y,f=t.top<e.y&&t.bottom>e.y,h=e.y>t.bottom,x=t.top>e.y,m=r.top<t.top&&r.bottom>t.bottom;return m&&(a=0,o=l),d&&(x?(a=0,o=u):h&&(a=u,o=l)),f&&(a=o=s?l-Math.floor((e.x-t.left)/c):Math.floor((e.x-t.left)/c),d?u<a?a=u:o=u:e.y<r.y?o=l:a=0),{startIdx:a,endIdx:o}}function mK(e){var t=e.target,r=e.offset,n=e.container,s=e.box,a=Va(t),o=a.top,l=a.left,c=a.width,u=a.height,d=Va(n),f=d.top,h=d.left,x=d.width,m=d.height,p=Va(s),w=p.width,y=p.height,g=f+m,v=h+x,b=o+y,S=l+w,j=r.x,_=r.y,T=b>g?o-y-_:o+_+u,$=S>v?l+j-w+c:l+j;return{topOffset:T,leftOffset:$}}function pK(e){var t=e.containerRef,r=e.accessors,n=e.getters,s=e.selected,a=e.components,o=e.localizer,l=e.position,c=e.show,u=e.events,d=e.slotStart,f=e.slotEnd,h=e.onSelect,x=e.onDoubleClick,m=e.onKeyPress,p=e.handleDragStart,w=e.popperRef,y=e.target,g=e.offset;uK({ref:w,callback:c}),N.useLayoutEffect(function(){var S=mK({target:y,offset:g,container:t.current,box:w.current}),j=S.topOffset,_=S.leftOffset;w.current.style.top="".concat(j,"px"),w.current.style.left="".concat(_,"px")},[g.x,g.y,y]);var v=l.width,b={minWidth:v+v/2};return B.createElement("div",{style:b,className:"rbc-overlay",ref:w},B.createElement("div",{className:"rbc-overlay-header"},o.format(d,"dayHeaderFormat")),u.map(function(S,j){return B.createElement(iD,{key:j,type:"popup",localizer:o,event:S,getters:n,onSelect:h,accessors:r,components:a,onDoubleClick:x,onKeyPress:m,continuesPrior:o.lt(r.end(S),d,"day"),continuesAfter:o.gte(r.start(S),f,"day"),slotStart:d,slotEnd:f,selected:Gf(S,s),draggable:!0,onDragStart:function(){return p(S)},onDragEnd:function(){return c()}})}))}var cD=B.forwardRef(function(e,t){return B.createElement(pK,Object.assign({},e,{popperRef:t}))});cD.propTypes={accessors:xe.object.isRequired,getters:xe.object.isRequired,selected:xe.object,components:xe.object.isRequired,localizer:xe.object.isRequired,position:xe.object.isRequired,show:xe.func.isRequired,events:xe.array.isRequired,slotStart:xe.instanceOf(Date).isRequired,slotEnd:xe.instanceOf(Date),onSelect:xe.func,onDoubleClick:xe.func,onKeyPress:xe.func,handleDragStart:xe.func,style:xe.object,offset:xe.shape({x:xe.number,y:xe.number})};function gK(e){var t=e.containerRef,r=e.popupOffset,n=r===void 0?5:r,s=e.overlay,a=e.accessors,o=e.localizer,l=e.components,c=e.getters,u=e.selected,d=e.handleSelectEvent,f=e.handleDoubleClickEvent,h=e.handleKeyPressEvent,x=e.handleDragStart,m=e.onHide,p=e.overlayDisplay,w=N.useRef(null);if(!s.position)return null;var y=n;isNaN(n)||(y={x:n,y:n});var g=s.position,v=s.events,b=s.date,S=s.end;return B.createElement(Ry,{rootClose:!0,flip:!0,show:!0,placement:"bottom",onHide:m,target:s.target},function(j){var _=j.props;return B.createElement(cD,Object.assign({},_,{containerRef:t,ref:w,target:s.target,offset:y,accessors:a,getters:c,selected:u,components:l,localizer:o,position:g,show:p,events:v,slotStart:b,slotEnd:S,onSelect:d,onDoubleClick:f,onKeyPress:h,handleDragStart:x}))})}var ev=B.forwardRef(function(e,t){return B.createElement(gK,Object.assign({},e,{containerRef:t}))});ev.propTypes={popupOffset:xe.oneOfType([xe.number,xe.shape({x:xe.number,y:xe.number})]),overlay:xe.shape({position:xe.object,events:xe.array,date:xe.instanceOf(Date),end:xe.instanceOf(Date)}),accessors:xe.object.isRequired,localizer:xe.object.isRequired,components:xe.object.isRequired,getters:xe.object.isRequired,selected:xe.object,handleSelectEvent:xe.func,handleDoubleClickEvent:xe.func,handleKeyPressEvent:xe.func,handleDragStart:xe.func,onHide:xe.func,overlayDisplay:xe.func};function er(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document;return ol(r,e,t,{passive:!1})}function yK(e,t,r){return!e||tc(e,document.elementFromPoint(t,r))}function vK(e,t){var r=t.clientX,n=t.clientY,s=document.elementFromPoint(r,n);return Rk(s,".rbc-event",e)}function xK(e,t){var r=t.clientX,n=t.clientY,s=document.elementFromPoint(r,n);return Rk(s,".rbc-show-more",e)}function Yd(e,t){return!!vK(e,t)}function bK(e,t){return!!xK(e,t)}function Xo(e){var t=e;return e.touches&&e.touches.length&&(t=e.touches[0]),{clientX:t.clientX,clientY:t.clientY,pageX:t.pageX,pageY:t.pageY}}var hw=5,wK=250,uD=function(){function e(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.global,s=n===void 0?!1:n,a=r.longPressThreshold,o=a===void 0?250:a,l=r.validContainers,c=l===void 0?[]:l;Wt(this,e),this._initialEvent=null,this.selecting=!1,this.isDetached=!1,this.container=t,this.globalMouse=!t||s,this.longPressThreshold=o,this.validContainers=c,this._listeners=Object.create(null),this._handleInitialEvent=this._handleInitialEvent.bind(this),this._handleMoveEvent=this._handleMoveEvent.bind(this),this._handleTerminatingEvent=this._handleTerminatingEvent.bind(this),this._keyListener=this._keyListener.bind(this),this._dropFromOutsideListener=this._dropFromOutsideListener.bind(this),this._dragOverFromOutsideListener=this._dragOverFromOutsideListener.bind(this),this._removeTouchMoveWindowListener=er("touchmove",function(){},window),this._removeKeyDownListener=er("keydown",this._keyListener),this._removeKeyUpListener=er("keyup",this._keyListener),this._removeDropFromOutsideListener=er("drop",this._dropFromOutsideListener),this._removeDragOverFromOutsideListener=er("dragover",this._dragOverFromOutsideListener),this._addInitialEventListener()}return Ut(e,[{key:"on",value:function(r,n){var s=this._listeners[r]||(this._listeners[r]=[]);return s.push(n),{remove:function(){var o=s.indexOf(n);o!==-1&&s.splice(o,1)}}}},{key:"emit",value:function(r){for(var n=arguments.length,s=new Array(n>1?n-1:0),a=1;a<n;a++)s[a-1]=arguments[a];var o,l=this._listeners[r]||[];return l.forEach(function(c){o===void 0&&(o=c.apply(void 0,s))}),o}},{key:"teardown",value:function(){this._initialEvent=null,this._initialEventData=null,this._selectRect=null,this.selecting=!1,this._lastClickData=null,this.isDetached=!0,this._listeners=Object.create(null),this._removeTouchMoveWindowListener&&this._removeTouchMoveWindowListener(),this._removeInitialEventListener&&this._removeInitialEventListener(),this._removeEndListener&&this._removeEndListener(),this._onEscListener&&this._onEscListener(),this._removeMoveListener&&this._removeMoveListener(),this._removeKeyUpListener&&this._removeKeyUpListener(),this._removeKeyDownListener&&this._removeKeyDownListener(),this._removeDropFromOutsideListener&&this._removeDropFromOutsideListener(),this._removeDragOverFromOutsideListener&&this._removeDragOverFromOutsideListener()}},{key:"isSelected",value:function(r){var n=this._selectRect;return!n||!this.selecting?!1:mw(n,ii(r))}},{key:"filter",value:function(r){var n=this._selectRect;return!n||!this.selecting?[]:r.filter(this.isSelected,this)}},{key:"_addLongPressListener",value:function(r,n){var s=this,a=null,o=null,l=null,c=function(h){a=setTimeout(function(){d(),r(h)},s.longPressThreshold),o=er("touchmove",function(){return d()}),l=er("touchend",function(){return d()})},u=er("touchstart",c),d=function(){a&&clearTimeout(a),o&&o(),l&&l(),a=null,o=null,l=null};return n&&c(n),function(){d(),u()}}},{key:"_addInitialEventListener",value:function(){var r=this,n=er("mousedown",function(a){r._removeInitialEventListener(),r._handleInitialEvent(a),r._removeInitialEventListener=er("mousedown",r._handleInitialEvent)}),s=er("touchstart",function(a){r._removeInitialEventListener(),r._removeInitialEventListener=r._addLongPressListener(r._handleInitialEvent,a)});this._removeInitialEventListener=function(){n(),s()}}},{key:"_dropFromOutsideListener",value:function(r){var n=Xo(r),s=n.pageX,a=n.pageY,o=n.clientX,l=n.clientY;this.emit("dropFromOutside",{x:s,y:a,clientX:o,clientY:l}),r.preventDefault()}},{key:"_dragOverFromOutsideListener",value:function(r){var n=Xo(r),s=n.pageX,a=n.pageY,o=n.clientX,l=n.clientY;this.emit("dragOverFromOutside",{x:s,y:a,clientX:o,clientY:l}),r.preventDefault()}},{key:"_handleInitialEvent",value:function(r){if(this._initialEvent=r,!this.isDetached){var n=Xo(r),s=n.clientX,a=n.clientY,o=n.pageX,l=n.pageY,c=this.container(),u,d;if(!(r.which===3||r.button===2||!yK(c,s,a))){if(!this.globalMouse&&c&&!tc(c,r.target)){var f=NK(0),h=f.top,x=f.left,m=f.bottom,p=f.right;if(d=ii(c),u=mw({top:d.top-h,left:d.left-x,bottom:d.bottom+m,right:d.right+p},{top:l,left:o}),!u)return}var w=this.emit("beforeSelect",this._initialEventData={isTouch:/^touch/.test(r.type),x:o,y:l,clientX:s,clientY:a});if(w!==!1)switch(r.type){case"mousedown":this._removeEndListener=er("mouseup",this._handleTerminatingEvent),this._onEscListener=er("keydown",this._handleTerminatingEvent),this._removeMoveListener=er("mousemove",this._handleMoveEvent);break;case"touchstart":this._handleMoveEvent(r),this._removeEndListener=er("touchend",this._handleTerminatingEvent),this._removeMoveListener=er("touchmove",this._handleMoveEvent);break}}}}},{key:"_isWithinValidContainer",value:function(r){var n=r.target,s=this.validContainers;return!s||!s.length||!n?!0:s.some(function(a){return!!n.closest(a)})}},{key:"_handleTerminatingEvent",value:function(r){var n=this.selecting,s=this._selectRect;if(!n&&r.type.includes("key")&&(r=this._initialEvent),this.selecting=!1,this._removeEndListener&&this._removeEndListener(),this._removeMoveListener&&this._removeMoveListener(),this._selectRect=null,this._initialEvent=null,this._initialEventData=null,!!r){var a=!this.container||tc(this.container(),r.target),o=this._isWithinValidContainer(r);return r.key==="Escape"||!o?this.emit("reset"):!n&&a?this._handleClickEvent(r):n?this.emit("select",s):this.emit("reset")}}},{key:"_handleClickEvent",value:function(r){var n=Xo(r),s=n.pageX,a=n.pageY,o=n.clientX,l=n.clientY,c=new Date().getTime();return this._lastClickData&&c-this._lastClickData.timestamp<wK?(this._lastClickData=null,this.emit("doubleClick",{x:s,y:a,clientX:o,clientY:l})):(this._lastClickData={timestamp:c},this.emit("click",{x:s,y:a,clientX:o,clientY:l}))}},{key:"_handleMoveEvent",value:function(r){if(!(this._initialEventData===null||this.isDetached)){var n=this._initialEventData,s=n.x,a=n.y,o=Xo(r),l=o.pageX,c=o.pageY,u=Math.abs(s-l),d=Math.abs(a-c),f=Math.min(l,s),h=Math.min(c,a),x=this.selecting,m=this.isClick(l,c);m&&!x&&!(u||d)||(!x&&!m&&this.emit("selectStart",this._initialEventData),m||(this.selecting=!0,this._selectRect={top:h,left:f,x:l,y:c,right:f+u,bottom:h+d},this.emit("selecting",this._selectRect)),r.preventDefault())}}},{key:"_keyListener",value:function(r){this.ctrl=r.metaKey||r.ctrlKey}},{key:"isClick",value:function(r,n){var s=this._initialEventData,a=s.x,o=s.y,l=s.isTouch;return!l&&Math.abs(r-a)<=hw&&Math.abs(n-o)<=hw}}])}();function NK(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return wn(e)!=="object"&&(e={top:e,left:e,right:e,bottom:e}),e}function mw(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,n=ii(e),s=n.top,a=n.left,o=n.right,l=o===void 0?a:o,c=n.bottom,u=c===void 0?s:c,d=ii(t),f=d.top,h=d.left,x=d.right,m=x===void 0?h:x,p=d.bottom,w=p===void 0?f:p;return!(u-r<f||s+r>w||l-r<h||a+r>m)}function ii(e){if(!e.getBoundingClientRect)return e;var t=e.getBoundingClientRect(),r=t.left+pw("left"),n=t.top+pw("top");return{top:n,left:r,right:(e.offsetWidth||0)+r,bottom:(e.offsetHeight||0)+n}}function pw(e){if(e==="left")return window.pageXOffset||document.body.scrollLeft||0;if(e==="top")return window.pageYOffset||document.body.scrollTop||0}var jK=function(e){function t(r,n){var s;return Wt(this,t),s=lr(this,t,[r,n]),s.state={selecting:!1},s.containerRef=N.createRef(),s}return or(t,e),Ut(t,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"componentDidUpdate",value:function(n){!n.selectable&&this.props.selectable&&this._selectable(),n.selectable&&!this.props.selectable&&this._teardownSelectable()}},{key:"render",value:function(){var n=this.props,s=n.range,a=n.getNow,o=n.getters,l=n.date,c=n.components.dateCellWrapper,u=n.localizer,d=this.state,f=d.selecting,h=d.startIdx,x=d.endIdx,m=a();return B.createElement("div",{className:"rbc-row-bg",ref:this.containerRef},s.map(function(p,w){var y=f&&w>=h&&w<=x,g=o.dayProp(p),v=g.className,b=g.style;return B.createElement(c,{key:w,value:p,range:s},B.createElement("div",{style:b,className:_t("rbc-day-bg",v,y&&"rbc-selected-cell",u.isSameDate(p,m)&&"rbc-today",l&&u.neq(l,p,"month")&&"rbc-off-range-bg")}))}))}},{key:"_selectable",value:function(){var n=this,s=this.containerRef.current,a=this._selector=new uD(this.props.container,{longPressThreshold:this.props.longPressThreshold}),o=function(c,u){if(!Yd(s,c)&&!bK(s,c)){var d=ii(s),f=n.props,h=f.range,x=f.rtl;if(fK(d,c)){var m=lD(d,c.x,x,h.length);n._selectSlot({startIdx:m,endIdx:m,action:u,box:c})}}n._initial={},n.setState({selecting:!1})};a.on("selecting",function(l){var c=n.props,u=c.range,d=c.rtl,f=-1,h=-1;if(n.state.selecting||(ft(n.props.onSelectStart,[l]),n._initial={x:l.x,y:l.y}),a.isSelected(s)){var x=ii(s),m=hK(n._initial,x,l,u.length,d);f=m.startIdx,h=m.endIdx}n.setState({selecting:!0,startIdx:f,endIdx:h})}),a.on("beforeSelect",function(l){if(n.props.selectable==="ignoreEvents")return!Yd(n.containerRef.current,l)}),a.on("click",function(l){return o(l,"click")}),a.on("doubleClick",function(l){return o(l,"doubleClick")}),a.on("select",function(l){n._selectSlot(at(at({},n.state),{},{action:"select",bounds:l})),n._initial={},n.setState({selecting:!1}),ft(n.props.onSelectEnd,[n.state])})}},{key:"_teardownSelectable",value:function(){this._selector&&(this._selector.teardown(),this._selector=null)}},{key:"_selectSlot",value:function(n){var s=n.endIdx,a=n.startIdx,o=n.action,l=n.bounds,c=n.box;s!==-1&&a!==-1&&this.props.onSelectSlot&&this.props.onSelectSlot({start:a,end:s,action:o,bounds:l,box:c,resourceId:this.props.resourceId})}}])}(B.Component),Ur={propTypes:{slotMetrics:xe.object.isRequired,selected:xe.object,isAllDay:xe.bool,accessors:xe.object.isRequired,localizer:xe.object.isRequired,components:xe.object.isRequired,getters:xe.object.isRequired,onSelect:xe.func,onDoubleClick:xe.func,onKeyPress:xe.func},defaultProps:{segments:[],selected:{}},renderEvent:function(t,r){var n=t.selected;t.isAllDay;var s=t.accessors,a=t.getters,o=t.onSelect,l=t.onDoubleClick,c=t.onKeyPress,u=t.localizer,d=t.slotMetrics,f=t.components,h=t.resizable,x=d.continuesPrior(r),m=d.continuesAfter(r);return B.createElement(iD,{event:r,getters:a,localizer:u,accessors:s,components:f,onSelect:o,onDoubleClick:l,onKeyPress:c,continuesPrior:x,continuesAfter:m,slotStart:d.first,slotEnd:d.last,selected:Gf(r,n),resizable:h})},renderSpan:function(t,r,n){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:" ",a=Math.abs(r)/t*100+"%";return B.createElement("div",{key:n,className:"rbc-row-segment",style:{WebkitFlexBasis:a,flexBasis:a,maxWidth:a}},s)}},dD=function(e){function t(){return Wt(this,t),lr(this,t,arguments)}return or(t,e),Ut(t,[{key:"render",value:function(){var n=this,s=this.props,a=s.segments,o=s.slotMetrics.slots,l=s.className,c=1;return B.createElement("div",{className:_t(l,"rbc-row")},a.reduce(function(u,d,f){var h=d.event,x=d.left,m=d.right,p=d.span,w="_lvl_"+f,y=x-c,g=Ur.renderEvent(n.props,h);return y&&u.push(Ur.renderSpan(o,y,"".concat(w,"_gap"))),u.push(Ur.renderSpan(o,p,w,g)),c=m+1,u},[]))}}])}(B.Component);dD.defaultProps=at({},Ur.defaultProps);function fD(e){var t=e.dateRange,r=e.unit,n=r===void 0?"day":r,s=e.localizer;return{first:t[0],last:s.add(t[t.length-1],1,n)}}function SK(e,t,r,n){var s=fD({dateRange:t,localizer:n}),a=s.first,o=s.last,l=n.diff(a,o,"day"),c=n.max(n.startOf(r.start(e),"day"),a),u=n.min(n.ceil(r.end(e),"day"),o),d=C9(t,function(h){return n.isSameDate(h,c)}),f=n.diff(c,u,"day");return f=Math.min(f,l),f=Math.max(f-n.segmentOffset,1),{event:e,span:f,left:d+1,right:Math.max(d+f,1)}}function zp(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0,r,n,s,a=[],o=[];for(r=0;r<e.length;r++){for(s=e[r],n=0;n<a.length&&kK(s,a[n]);n++);n>=t?o.push(s):(a[n]||(a[n]=[])).push(s)}for(r=0;r<a.length;r++)a[r].sort(function(l,c){return l.left-c.left});return{levels:a,extra:o}}function sc(e,t,r,n,s){var a={start:n.start(e),end:n.end(e)},o={start:t,end:r};return s.inEventRange({event:a,range:o})}function kK(e,t){return t.some(function(r){return r.left<=e.right&&r.right>=e.left})}function DK(e,t,r){var n=Gu(e),s=[],a=[];n.forEach(function(c){var u=t.start(c),d=t.end(c);r.daySpan(u,d)>1?s.push(c):a.push(c)});var o=s.sort(function(c,u){return Vp(c,u,t,r)}),l=a.sort(function(c,u){return Vp(c,u,t,r)});return[].concat(Gu(o),Gu(l))}function Vp(e,t,r,n){var s={start:r.start(e),end:r.end(e),allDay:r.allDay(e)},a={start:r.start(t),end:r.end(t),allDay:r.allDay(t)};return n.sortEvents({evtA:s,evtB:a})}var Yp=function(t,r){return t.left<=r&&t.right>=r},im=function(t,r){return t.filter(function(n){return Yp(n,r)}).map(function(n){return n.event})},hD=function(e){function t(){return Wt(this,t),lr(this,t,arguments)}return or(t,e),Ut(t,[{key:"render",value:function(){for(var n=this.props,s=n.segments,a=n.slotMetrics.slots,o=zp(s).levels[0],l=1,c=1,u=[];l<=a;){var d="_lvl_"+l,f=o.filter(function(b){return Yp(b,l)})[0]||{},h=f.event,x=f.left,m=f.right,p=f.span;if(!h){var w=this.getHiddenEventsForSlot(s,l);if(w.length>0){var y=l-c;y&&u.push(Ur.renderSpan(a,y,d+"_gap")),u.push(Ur.renderSpan(a,1,d,this.renderShowMore(s,l))),c=l=l+1;continue}l++;continue}var g=Math.max(0,x-c);if(this.canRenderSlotEvent(x,p)){var v=Ur.renderEvent(this.props,h);g&&u.push(Ur.renderSpan(a,g,d+"_gap")),u.push(Ur.renderSpan(a,p,d,v)),c=l=m+1}else g&&u.push(Ur.renderSpan(a,g,d+"_gap")),u.push(Ur.renderSpan(a,1,d,this.renderShowMore(s,l))),c=l=l+1}return B.createElement("div",{className:"rbc-row"},u)}},{key:"getHiddenEventsForSlot",value:function(n,s){var a=im(n,s),o=zp(n).levels[0],l=o.filter(function(c){return Yp(c,s)}).map(function(c){return c.event});return a.filter(function(c){return!l.some(function(u){return u===c})})}},{key:"canRenderSlotEvent",value:function(n,s){var a=this.props.segments;return W9(n,n+s).every(function(o){var l=im(a,o).length;return l===1})}},{key:"renderShowMore",value:function(n,s){var a=this,o=this.props,l=o.localizer,c=o.slotMetrics,u=o.components,d=c.getEventsForSlot(s),f=im(n,s),h=f.length;if(u!=null&&u.showMore){var x=u.showMore,m=c.getDateForSlot(s-1);return h?B.createElement(x,{localizer:l,slotDate:m,slot:s,count:h,events:d,remainingEvents:f}):!1}return h?B.createElement("button",{type:"button",key:"sm_"+s,className:_t("rbc-button-link","rbc-show-more"),onClick:function(w){return a.showMore(s,w)}},l.messages.showMore(h,f,d)):!1}},{key:"showMore",value:function(n,s){s.preventDefault(),s.stopPropagation(),this.props.onShowMore(n,s.target)}}])}(B.Component);hD.defaultProps=at({},Ur.defaultProps);var _K=function(t){var r=t.children;return B.createElement("div",{className:"rbc-row-content-scroll-container"},r)},CK=function(t,r){return t.left<=r&&t.right>=r},EK=function(t,r){return t[0].range===r[0].range&&t[0].events===r[0].events};function mD(){return Wk(function(e){for(var t=e.range,r=e.events,n=e.maxRows,s=e.minRows,a=e.accessors,o=e.localizer,l=fD({dateRange:t,localizer:o}),c=l.first,u=l.last,d=r.map(function(p){return SK(p,t,a,o)}),f=zp(d,Math.max(n-1,1)),h=f.levels,x=f.extra,m=x.length>0?s-1:s;h.length<m;)h.push([]);return{first:c,last:u,levels:h,extra:x,range:t,slots:t.length,clone:function(w){var y=mD();return y(at(at({},e),w))},getDateForSlot:function(w){return t[w]},getSlotForDate:function(w){return t.find(function(y){return o.isSameDate(y,w)})},getEventsForSlot:function(w){return d.filter(function(y){return CK(y,w)}).map(function(y){return y.event})},continuesPrior:function(w){return o.continuesPrior(a.start(w),c)},continuesAfter:function(w){var y=a.start(w),g=a.end(w);return o.continuesAfter(y,g,u)}}},EK)}var ac=function(e){function t(){var r;Wt(this,t);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return r=lr(this,t,[].concat(s)),r.handleSelectSlot=function(o){var l=r.props,c=l.range,u=l.onSelectSlot;u(c.slice(o.start,o.end+1),o)},r.handleShowMore=function(o,l){var c=r.props,u=c.range,d=c.onShowMore,f=r.slotMetrics(r.props),h=CI(r.containerRef.current,".rbc-row-bg")[0],x;h&&(x=h.children[o-1]);var m=f.getEventsForSlot(o);d(m,u[o-1],x,o,l)},r.getContainer=function(){var o=r.props.container;return o?o():r.containerRef.current},r.renderHeadingCell=function(o,l){var c=r.props,u=c.renderHeader,d=c.getNow,f=c.localizer;return u({date:o,key:"header_".concat(l),className:_t("rbc-date-cell",f.isSameDate(o,d())&&"rbc-now")})},r.renderDummy=function(){var o=r.props,l=o.className,c=o.range,u=o.renderHeader,d=o.showAllEvents;return B.createElement("div",{className:l,ref:r.containerRef},B.createElement("div",{className:_t("rbc-row-content",d&&"rbc-row-content-scrollable")},u&&B.createElement("div",{className:"rbc-row",ref:r.headingRowRef},c.map(r.renderHeadingCell)),B.createElement("div",{className:"rbc-row",ref:r.eventRowRef},B.createElement("div",{className:"rbc-row-segment"},B.createElement("div",{className:"rbc-event"},B.createElement("div",{className:"rbc-event-content"},""))))))},r.containerRef=N.createRef(),r.headingRowRef=N.createRef(),r.eventRowRef=N.createRef(),r.slotMetrics=mD(),r}return or(t,e),Ut(t,[{key:"getRowLimit",value:function(){var n,s=nm(this.eventRowRef.current),a=(n=this.headingRowRef)!==null&&n!==void 0&&n.current?nm(this.headingRowRef.current):0,o=nm(this.containerRef.current)-a;return Math.max(Math.floor(o/s),1)}},{key:"render",value:function(){var n=this.props,s=n.date,a=n.rtl,o=n.range,l=n.className,c=n.selected,u=n.selectable,d=n.renderForMeasure,f=n.accessors,h=n.getters,x=n.components,m=n.getNow,p=n.renderHeader,w=n.onSelect,y=n.localizer,g=n.onSelectStart,v=n.onSelectEnd,b=n.onDoubleClick,S=n.onKeyPress,j=n.resourceId,_=n.longPressThreshold,T=n.isAllDay,$=n.resizable,R=n.showAllEvents;if(d)return this.renderDummy();var Y=this.slotMetrics(this.props),Q=Y.levels,q=Y.extra,se=R?_K:An,pe=x.weekWrapper,te={selected:c,accessors:f,getters:h,localizer:y,components:x,onSelect:w,onDoubleClick:b,onKeyPress:S,resourceId:j,slotMetrics:Y,resizable:$};return B.createElement("div",{className:l,role:"rowgroup",ref:this.containerRef},B.createElement(jK,{localizer:y,date:s,getNow:m,rtl:a,range:o,selectable:u,container:this.getContainer,getters:h,onSelectStart:g,onSelectEnd:v,onSelectSlot:this.handleSelectSlot,components:x,longPressThreshold:_,resourceId:j}),B.createElement("div",{className:_t("rbc-row-content",R&&"rbc-row-content-scrollable"),role:"row"},p&&B.createElement("div",{className:"rbc-row ",ref:this.headingRowRef},o.map(this.renderHeadingCell)),B.createElement(se,null,B.createElement(pe,Object.assign({isAllDay:T},te,{rtl:this.props.rtl}),Q.map(function(be,ee){return B.createElement(dD,Object.assign({key:ee,segments:be},te))}),!!q.length&&B.createElement(hD,Object.assign({segments:q,onShowMore:this.handleShowMore},te))))))}}])}(B.Component);ac.defaultProps={minRows:0,maxRows:1/0};var tv=function(t){var r=t.label;return B.createElement("span",{role:"columnheader","aria-sort":"none"},r)},TK=function(t){var r=t.label,n=t.drilldownView,s=t.onDrillDown;return n?B.createElement("button",{type:"button",className:"rbc-button-link",onClick:s},r):B.createElement("span",null,r)},PK=["date","className"],AK=function(t,r,n,s,a){return t.filter(function(o){return sc(o,r,n,s,a)})},Qf=function(e){function t(){var r;Wt(this,t);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return r=lr(this,t,[].concat(s)),r.getContainer=function(){return r.containerRef.current},r.renderWeek=function(o,l){var c=r.props,u=c.events,d=c.components,f=c.selectable,h=c.getNow,x=c.selected,m=c.date,p=c.localizer,w=c.longPressThreshold,y=c.accessors,g=c.getters,v=c.showAllEvents,b=r.state,S=b.needLimitMeasure,j=b.rowLimit,_=AK(Gu(u),o[0],o[o.length-1],y,p),T=DK(_,y,p);return B.createElement(ac,{key:l,ref:l===0?r.slotRowRef:void 0,container:r.getContainer,className:"rbc-month-row",getNow:h,date:m,range:o,events:T,maxRows:v?1/0:j,selected:x,selectable:f,components:d,accessors:y,getters:g,localizer:p,renderHeader:r.readerDateHeading,renderForMeasure:S,onShowMore:r.handleShowMore,onSelect:r.handleSelectEvent,onDoubleClick:r.handleDoubleClickEvent,onKeyPress:r.handleKeyPressEvent,onSelectSlot:r.handleSelectSlot,longPressThreshold:w,rtl:r.props.rtl,resizable:r.props.resizable,showAllEvents:v})},r.readerDateHeading=function(o){var l=o.date,c=o.className,u=Gn(o,PK),d=r.props,f=d.date,h=d.getDrilldownView,x=d.localizer,m=x.neq(f,l,"month"),p=x.isSameDate(l,f),w=h(l),y=x.format(l,"dateFormat"),g=r.props.components.dateHeader||TK;return B.createElement("div",Object.assign({},u,{className:_t(c,m&&"rbc-off-range",p&&"rbc-current"),role:"cell"}),B.createElement(g,{label:y,date:l,drilldownView:w,isOffRange:m,onDrillDown:function(b){return r.handleHeadingClick(l,w,b)}}))},r.handleSelectSlot=function(o,l){r._pendingSelection=r._pendingSelection.concat(o),clearTimeout(r._selectTimer),r._selectTimer=setTimeout(function(){return r.selectDates(l)})},r.handleHeadingClick=function(o,l,c){c.preventDefault(),r.clearSelection(),ft(r.props.onDrillDown,[o,l])},r.handleSelectEvent=function(){r.clearSelection();for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];ft(r.props.onSelectEvent,l)},r.handleDoubleClickEvent=function(){r.clearSelection();for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];ft(r.props.onDoubleClickEvent,l)},r.handleKeyPressEvent=function(){r.clearSelection();for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];ft(r.props.onKeyPressEvent,l)},r.handleShowMore=function(o,l,c,u,d){var f=r.props,h=f.popup,x=f.onDrillDown,m=f.onShowMore,p=f.getDrilldownView,w=f.doShowMoreDrillDown;if(r.clearSelection(),h){var y=mk(c,r.containerRef.current);r.setState({overlay:{date:l,events:o,position:y,target:d}})}else w&&ft(x,[l,p(l)||hr.DAY]);ft(m,[o,l,u])},r.overlayDisplay=function(){r.setState({overlay:null})},r.state={rowLimit:5,needLimitMeasure:!0,date:null},r.containerRef=N.createRef(),r.slotRowRef=N.createRef(),r._bgRows=[],r._pendingSelection=[],r}return or(t,e),Ut(t,[{key:"componentDidMount",value:function(){var n=this,s;this.state.needLimitMeasure&&this.measureRowLimit(this.props),window.addEventListener("resize",this._resizeListener=function(){s||pk(function(){s=!1,n.setState({needLimitMeasure:!0})})},!1)}},{key:"componentDidUpdate",value:function(){this.state.needLimitMeasure&&this.measureRowLimit(this.props)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._resizeListener,!1)}},{key:"render",value:function(){var n=this.props,s=n.date,a=n.localizer,o=n.className,l=a.visibleDays(s,a),c=fI(l,7);return this._weekCount=c.length,B.createElement("div",{className:_t("rbc-month-view",o),role:"table","aria-label":"Month View",ref:this.containerRef},B.createElement("div",{className:"rbc-row rbc-month-header",role:"row"},this.renderHeaders(c[0])),c.map(this.renderWeek),this.props.popup&&this.renderOverlay())}},{key:"renderHeaders",value:function(n){var s=this.props,a=s.localizer,o=s.components,l=n[0],c=n[n.length-1],u=o.header||tv;return a.range(l,c,"day").map(function(d,f){return B.createElement("div",{key:"header_"+f,className:"rbc-header"},B.createElement(u,{date:d,localizer:a,label:a.format(d,"weekdayFormat")}))})}},{key:"renderOverlay",value:function(){var n,s,a=this,o=(n=(s=this.state)===null||s===void 0?void 0:s.overlay)!==null&&n!==void 0?n:{},l=this.props,c=l.accessors,u=l.localizer,d=l.components,f=l.getters,h=l.selected,x=l.popupOffset,m=l.handleDragStart,p=function(){return a.setState({overlay:null})};return B.createElement(ev,{overlay:o,accessors:c,localizer:u,components:d,getters:f,selected:h,popupOffset:x,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:m,show:!!o.position,overlayDisplay:this.overlayDisplay,onHide:p})}},{key:"measureRowLimit",value:function(){this.setState({needLimitMeasure:!1,rowLimit:this.slotRowRef.current.getRowLimit()})}},{key:"selectDates",value:function(n){var s=this._pendingSelection.slice();this._pendingSelection=[],s.sort(function(l,c){return+l-+c});var a=new Date(s[0]),o=new Date(s[s.length-1]);o.setDate(s[s.length-1].getDate()+1),ft(this.props.onSelectSlot,{slots:s,start:a,end:o,action:n.action,bounds:n.bounds,box:n.box})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}}],[{key:"getDerivedStateFromProps",value:function(n,s){var a=n.date,o=n.localizer;return{date:a,needLimitMeasure:o.neq(a,s.date,"month")}}}])}(B.Component);Qf.range=function(e,t){var r=t.localizer,n=r.firstVisibleDay(e,r),s=r.lastVisibleDay(e,r);return{start:n,end:s}};Qf.navigate=function(e,t,r){var n=r.localizer;switch(t){case Tr.PREVIOUS:return n.add(e,-1,"month");case Tr.NEXT:return n.add(e,1,"month");default:return e}};Qf.title=function(e,t){var r=t.localizer;return r.format(e,"monthHeaderFormat")};var gw=function(t){var r=t.min,n=t.max,s=t.step,a=t.slots,o=t.localizer;return"".concat(+o.startOf(r,"minutes"))+"".concat(+o.startOf(n,"minutes"))+"".concat(s,"-").concat(a)};function rv(e){for(var t=e.min,r=e.max,n=e.step,s=e.timeslots,a=e.localizer,o=gw({step:n,localizer:a}),l=1+a.getTotalMin(t,r),c=a.getMinutesFromMidnight(t),u=Math.ceil((l-1)/(n*s)),d=u*s,f=new Array(u),h=new Array(d),x=0;x<u;x++){f[x]=new Array(s);for(var m=0;m<s;m++){var p=x*s+m,w=p*n;h[p]=f[x][m]=a.getSlotDate(t,c,w)}}var y=h.length*n;h.push(a.getSlotDate(t,c,y));function g(v){var b=a.diff(t,v,"minutes")+a.getDstOffset(t,v);return Math.min(b,l)}return{groups:f,update:function(b){return gw(b)!==o?rv(b):this},dateIsInGroup:function(b,S){var j=f[S+1];return a.inRange(b,f[S][0],j?j[0]:r,"minutes")},nextSlot:function(b){var S=h[Math.min(h.findIndex(function(j){return j===b||a.eq(j,b)})+1,h.length-1)];return a.eq(S,b)&&(S=a.add(b,n,"minutes")),S},closestSlotToPosition:function(b){var S=Math.min(h.length-1,Math.max(0,Math.floor(b*d)));return h[S]},closestSlotFromPoint:function(b,S){var j=Math.abs(S.top-S.bottom);return this.closestSlotToPosition((b.y-S.top)/j)},closestSlotFromDate:function(b){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(a.lt(b,t,"minutes"))return h[0];if(a.gt(b,r,"minutes"))return h[h.length-1];var j=a.diff(t,b,"minutes");return h[(j-j%n)/n+S]},startsBeforeDay:function(b){return a.lt(b,t,"day")},startsAfterDay:function(b){return a.gt(b,r,"day")},startsBefore:function(b){return a.lt(a.merge(t,b),t,"minutes")},startsAfter:function(b){return a.gt(a.merge(r,b),r,"minutes")},getRange:function(b,S,j,_){j||(b=a.min(r,a.max(t,b))),_||(S=a.min(r,a.max(t,S)));var T=g(b),$=g(S),R=$>n*d&&!a.eq(r,S)?(T-n)/(n*d)*100:T/(n*d)*100;return{top:R,height:$/(n*d)*100-R,start:g(b),startDate:b,end:g(S),endDate:S}},getCurrentTimePosition:function(b){var S=g(b),j=S/(n*d)*100;return j}}}var OK=function(){function e(t,r){var n=r.accessors,s=r.slotMetrics;Wt(this,e);var a=s.getRange(n.start(t),n.end(t)),o=a.start,l=a.startDate,c=a.end,u=a.endDate,d=a.top,f=a.height;this.start=o,this.end=c,this.startMs=+l,this.endMs=+u,this.top=d,this.height=f,this.data=t}return Ut(e,[{key:"_width",get:function(){if(this.rows){var r=this.rows.reduce(function(s,a){return Math.max(s,a.leaves.length+1)},0)+1;return 100/r}if(this.leaves){var n=100-this.container._width;return n/(this.leaves.length+1)}return this.row._width}},{key:"width",get:function(){var r=this._width,n=Math.min(100,this._width*1.7);if(this.rows)return n;if(this.leaves)return this.leaves.length>0?n:r;var s=this.row.leaves,a=s.indexOf(this);return a===s.length-1?r:n}},{key:"xOffset",get:function(){if(this.rows)return 0;if(this.leaves)return this.container._width;var r=this.row,n=r.leaves,s=r.xOffset,a=r._width,o=n.indexOf(this)+1;return s+o*a}}])}();function MK(e,t,r){return Math.abs(t.start-e.start)<r||t.start>e.start&&t.start<e.end}function RK(e){for(var t=iV(e,["startMs",function(l){return-l.endMs}]),r=[];t.length>0;){var n=t.shift();r.push(n);for(var s=0;s<t.length;s++){var a=t[s];if(!(n.endMs>a.startMs)){if(s>0){var o=t.splice(s,1)[0];r.push(o)}break}}}return r}function pD(e){for(var t=e.events,r=e.minimumStartDifference,n=e.slotMetrics,s=e.accessors,a=t.map(function(d){return new OK(d,{slotMetrics:n,accessors:s})}),o=RK(a),l=[],c=function(){var f=o[u],h=l.find(function(p){return p.end>f.start||Math.abs(f.start-p.start)<r});if(!h)return f.rows=[],l.push(f),1;f.container=h;for(var x=null,m=h.rows.length-1;!x&&m>=0;m--)MK(h.rows[m],f,r)&&(x=h.rows[m]);x?(x.leaves.push(f),f.row=x):(f.leaves=[],h.rows.push(f))},u=0;u<o.length;u++)c();return o.map(function(d){return{event:d.data,style:{top:d.top,height:d.height,width:d.width,xOffset:Math.max(0,d.xOffset)}}})}function gD(e,t,r){for(var n=0;n<e.friends.length;++n)if(!(r.indexOf(e.friends[n])>-1)){t=t>e.friends[n].idx?t:e.friends[n].idx,r.push(e.friends[n]);var s=gD(e.friends[n],t,r);t=t>s?t:s}return t}function $K(e){var t=e.events,r=e.minimumStartDifference,n=e.slotMetrics,s=e.accessors,a=pD({events:t,minimumStartDifference:r,slotMetrics:n,accessors:s});a.sort(function(pe,te){return pe=pe.style,te=te.style,pe.top!==te.top?pe.top>te.top?1:-1:pe.height!==te.height?pe.top+pe.height<te.top+te.height?1:-1:0});for(var o=0;o<a.length;++o)a[o].friends=[],delete a[o].style.left,delete a[o].style.left,delete a[o].idx,delete a[o].size;for(var l=0;l<a.length-1;++l)for(var c=a[l],u=c.style.top,d=c.style.top+c.style.height,f=l+1;f<a.length;++f){var h=a[f],x=h.style.top,m=h.style.top+h.style.height;(x>=u&&m<=d||m>u&&m<=d||x>=u&&x<d)&&(c.friends.push(h),h.friends.push(c))}for(var p=0;p<a.length;++p){for(var w=a[p],y=[],g=0;g<100;++g)y.push(1);for(var v=0;v<w.friends.length;++v)w.friends[v].idx!==void 0&&(y[w.friends[v].idx]=0);w.idx=y.indexOf(1)}for(var b=0;b<a.length;++b){var S=0;if(!a[b].size){var j=[],_=gD(a[b],0,j);S=100/(_+1),a[b].size=S;for(var T=0;T<j.length;++T)j[T].size=S}}for(var $=0;$<a.length;++$){var R=a[$];R.style.left=R.idx*R.size;for(var Y=0,Q=0;Q<R.friends.length;++Q){var q=R.friends[Q].idx;Y=Y>q?Y:q}Y<=R.idx&&(R.size=100-R.idx*R.size);var se=R.idx===0?0:3;R.style.width="calc(".concat(R.size,"% - ").concat(se,"px)"),R.style.height="calc(".concat(R.style.height,"% - 2px)"),R.style.xOffset="calc(".concat(R.style.left,"% + ").concat(se,"px)")}return a}var yw={overlap:pD,"no-overlap":$K};function IK(e){return!!(e&&e.constructor&&e.call&&e.apply)}function LK(e){e.events,e.minimumStartDifference,e.slotMetrics,e.accessors;var t=e.dayLayoutAlgorithm,r=t;return t in yw&&(r=yw[t]),IK(r)?r.apply(this,arguments):[]}var yD=function(e){function t(){return Wt(this,t),lr(this,t,arguments)}return or(t,e),Ut(t,[{key:"render",value:function(){var n=this.props,s=n.renderSlot,a=n.resource,o=n.group,l=n.getters,c=n.components,u=c===void 0?{}:c,d=u.timeSlotWrapper,f=d===void 0?An:d,h=l?l.slotGroupProp(o):{};return B.createElement("div",Object.assign({className:"rbc-timeslot-group"},h),o.map(function(x,m){var p=l?l.slotProp(x,a):{};return B.createElement(f,{key:m,value:x,resource:a},B.createElement("div",Object.assign({},p,{className:_t("rbc-time-slot",p.className)}),s&&s(x,m)))}))}}])}(N.Component);function wu(e){return typeof e=="string"?e:e+"%"}function FK(e){var t=e.style,r=e.className,n=e.event,s=e.accessors,a=e.rtl,o=e.selected,l=e.label,c=e.continuesPrior,u=e.continuesAfter,d=e.getters,f=e.onClick,h=e.onDoubleClick,x=e.isBackgroundEvent,m=e.onKeyPress,p=e.components,w=p.event,y=p.eventWrapper,g=s.title(n),v=s.tooltip(n),b=s.end(n),S=s.start(n),j=d.eventProp(n,S,b,o),_=[B.createElement("div",{key:"1",className:"rbc-event-label"},l),B.createElement("div",{key:"2",className:"rbc-event-content"},w?B.createElement(w,{event:n,title:g}):g)],T=t.height,$=t.top,R=t.width,Y=t.xOffset,Q=at(at({},j.style),{},Ea({top:wu($),height:wu(T),width:wu(R)},a?"right":"left",wu(Y)));return B.createElement(y,Object.assign({type:"time"},e),B.createElement("div",{role:"button",tabIndex:0,onClick:f,onDoubleClick:h,style:Q,onKeyDown:m,title:v?(typeof l=="string"?l+": ":"")+v:void 0,className:_t(x?"rbc-background-event":"rbc-event",r,j.className,{"rbc-selected":o,"rbc-event-continues-earlier":c,"rbc-event-continues-later":u})},_))}var WK=function(t){var r=t.children,n=t.className,s=t.style,a=t.innerRef;return B.createElement("div",{className:n,style:s,ref:a},r)},UK=B.forwardRef(function(e,t){return B.createElement(WK,Object.assign({},e,{innerRef:t}))}),BK=["dayProp"],HK=["eventContainerWrapper","timeIndicatorWrapper"],vD=function(e){function t(){var r;Wt(this,t);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return r=lr(this,t,[].concat(s)),r.state={selecting:!1,timeIndicatorPosition:null},r.intervalTriggered=!1,r.renderEvents=function(o){var l=o.events,c=o.isBackgroundEvent,u=r.props,d=u.rtl,f=u.selected,h=u.accessors,x=u.localizer,m=u.getters,p=u.components,w=u.step,y=u.timeslots,g=u.dayLayoutAlgorithm,v=u.resizable,b=r,S=b.slotMetrics,j=x.messages,_=LK({events:l,accessors:h,slotMetrics:S,minimumStartDifference:Math.ceil(w*y/2),dayLayoutAlgorithm:g});return _.map(function(T,$){var R,Y=T.event,Q=T.style,q=h.end(Y),se=h.start(Y),pe=(R=h.eventId(Y))!==null&&R!==void 0?R:"evt_"+$,te="eventTimeRangeFormat",be,ee=S.startsBeforeDay(se),H=S.startsAfterDay(q);ee?te="eventTimeRangeEndFormat":H&&(te="eventTimeRangeStartFormat"),ee&&H?be=j.allDay:be=x.format({start:se,end:q},te);var ue=ee||S.startsBefore(se),C=H||S.startsAfter(q);return B.createElement(FK,{style:Q,event:Y,label:be,key:pe,getters:m,rtl:d,components:p,continuesPrior:ue,continuesAfter:C,accessors:h,resource:r.props.resource,selected:Gf(Y,f),onClick:function(E){return r._select(at(at(at({},Y),r.props.resource&&{sourceResource:r.props.resource}),c&&{isBackgroundEvent:!0}),E)},onDoubleClick:function(E){return r._doubleClick(Y,E)},isBackgroundEvent:c,onKeyPress:function(E){return r._keyPress(Y,E)},resizable:v})})},r._selectable=function(){var o=r.containerRef.current,l=r.props,c=l.longPressThreshold,u=l.localizer,d=r._selector=new uD(function(){return o},{longPressThreshold:c}),f=function(p){var w=r.props.onSelecting,y=r.state||{},g=h(p),v=g.startDate,b=g.endDate;w&&(u.eq(y.startDate,v,"minutes")&&u.eq(y.endDate,b,"minutes")||w({start:v,end:b,resourceId:r.props.resource})===!1)||(r.state.start!==g.start||r.state.end!==g.end||r.state.selecting!==g.selecting)&&r.setState(g)},h=function(p){var w=r.slotMetrics.closestSlotFromPoint(p,ii(o));r.state.selecting||(r._initialSlot=w);var y=r._initialSlot;u.lte(y,w)?w=r.slotMetrics.nextSlot(w):u.gt(y,w)&&(y=r.slotMetrics.nextSlot(y));var g=r.slotMetrics.getRange(u.min(y,w),u.max(y,w));return at(at({},g),{},{selecting:!0,top:"".concat(g.top,"%"),height:"".concat(g.height,"%")})},x=function(p,w){if(!Yd(r.containerRef.current,p)){var y=h(p),g=y.startDate,v=y.endDate;r._selectSlot({startDate:g,endDate:v,action:w,box:p})}r.setState({selecting:!1})};d.on("selecting",f),d.on("selectStart",f),d.on("beforeSelect",function(m){if(r.props.selectable==="ignoreEvents")return!Yd(r.containerRef.current,m)}),d.on("click",function(m){return x(m,"click")}),d.on("doubleClick",function(m){return x(m,"doubleClick")}),d.on("select",function(m){r.state.selecting&&(r._selectSlot(at(at({},r.state),{},{action:"select",bounds:m})),r.setState({selecting:!1}))}),d.on("reset",function(){r.state.selecting&&r.setState({selecting:!1})})},r._teardownSelectable=function(){r._selector&&(r._selector.teardown(),r._selector=null)},r._selectSlot=function(o){for(var l=o.startDate,c=o.endDate,u=o.action,d=o.bounds,f=o.box,h=l,x=[];r.props.localizer.lte(h,c);)x.push(h),h=new Date(+h+r.props.step*60*1e3);ft(r.props.onSelectSlot,{slots:x,start:l,end:c,resourceId:r.props.resource,action:u,bounds:d,box:f})},r._select=function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];ft(r.props.onSelectEvent,l)},r._doubleClick=function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];ft(r.props.onDoubleClickEvent,l)},r._keyPress=function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];ft(r.props.onKeyPressEvent,l)},r.slotMetrics=rv(r.props),r.containerRef=N.createRef(),r}return or(t,e),Ut(t,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable(),this.props.isNow&&this.setTimeIndicatorPositionUpdateInterval()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable(),this.clearTimeIndicatorInterval()}},{key:"componentDidUpdate",value:function(n,s){this.props.selectable&&!n.selectable&&this._selectable(),!this.props.selectable&&n.selectable&&this._teardownSelectable();var a=this.props,o=a.getNow,l=a.isNow,c=a.localizer,u=a.date,d=a.min,f=a.max,h=c.neq(n.getNow(),o(),"minutes");if(n.isNow!==l||h){if(this.clearTimeIndicatorInterval(),l){var x=!h&&c.eq(n.date,u,"minutes")&&s.timeIndicatorPosition===this.state.timeIndicatorPosition;this.setTimeIndicatorPositionUpdateInterval(x)}}else l&&(c.neq(n.min,d,"minutes")||c.neq(n.max,f,"minutes"))&&this.positionTimeIndicator()}},{key:"setTimeIndicatorPositionUpdateInterval",value:function(){var n=this,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;!this.intervalTriggered&&!s&&this.positionTimeIndicator(),this._timeIndicatorTimeout=window.setTimeout(function(){n.intervalTriggered=!0,n.positionTimeIndicator(),n.setTimeIndicatorPositionUpdateInterval()},6e4)}},{key:"clearTimeIndicatorInterval",value:function(){this.intervalTriggered=!1,window.clearTimeout(this._timeIndicatorTimeout)}},{key:"positionTimeIndicator",value:function(){var n=this.props,s=n.min,a=n.max,o=n.getNow,l=o();if(l>=s&&l<=a){var c=this.slotMetrics.getCurrentTimePosition(l);this.intervalTriggered=!0,this.setState({timeIndicatorPosition:c})}else this.clearTimeIndicatorInterval()}},{key:"render",value:function(){var n=this.props,s=n.date,a=n.max,o=n.rtl,l=n.isNow,c=n.resource,u=n.accessors,d=n.localizer,f=n.getters,h=f.dayProp,x=Gn(f,BK),m=n.components,p=m.eventContainerWrapper,w=m.timeIndicatorWrapper,y=Gn(m,HK);this.slotMetrics=this.slotMetrics.update(this.props);var g=this.slotMetrics,v=this.state,b=v.selecting,S=v.top,j=v.height,_=v.startDate,T=v.endDate,$={start:_,end:T},R=h(a,c),Y=R.className,Q=R.style,q={className:"rbc-current-time-indicator",style:{top:"".concat(this.state.timeIndicatorPosition,"%")}},se=y.dayColumnWrapper||UK;return B.createElement(se,{ref:this.containerRef,date:s,style:Q,className:_t(Y,"rbc-day-slot","rbc-time-column",l&&"rbc-now",l&&"rbc-today",b&&"rbc-slot-selecting"),slotMetrics:g,resource:c},g.groups.map(function(pe,te){return B.createElement(yD,{key:te,group:pe,resource:c,getters:x,components:y})}),B.createElement(p,{localizer:d,resource:c,accessors:u,getters:x,components:y,slotMetrics:g},B.createElement("div",{className:_t("rbc-events-container",o&&"rtl")},this.renderEvents({events:this.props.backgroundEvents,isBackgroundEvent:!0}),this.renderEvents({events:this.props.events}))),b&&B.createElement("div",{className:"rbc-slot-selection",style:{top:S,height:j}},B.createElement("span",null,d.format($,"selectRangeFormat"))),l&&this.intervalTriggered&&B.createElement(w,q,B.createElement("div",q)))}}])}(B.Component);vD.defaultProps={dragThroughEvents:!0,timeslots:2};var xD=function(t){var r=t.label;return B.createElement(B.Fragment,null,r)},zK=function(e){function t(){var r;Wt(this,t);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return r=lr(this,t,[].concat(s)),r.handleHeaderClick=function(o,l,c){c.preventDefault(),ft(r.props.onDrillDown,[o,l])},r.renderRow=function(o){var l=r.props,c=l.events,u=l.rtl,d=l.selectable,f=l.getNow,h=l.range,x=l.getters,m=l.localizer,p=l.accessors,w=l.components,y=l.resizable,g=p.resourceId(o),v=o?c.filter(function(b){return p.resource(b)===g}):c;return B.createElement(ac,{isAllDay:!0,rtl:u,getNow:f,minRows:2,maxRows:r.props.allDayMaxRows+1,range:h,events:v,resourceId:g,className:"rbc-allday-cell",selectable:d,selected:r.props.selected,components:w,accessors:p,getters:x,localizer:m,onSelect:r.props.onSelectEvent,onShowMore:r.props.onShowMore,onDoubleClick:r.props.onDoubleClickEvent,onKeyPress:r.props.onKeyPressEvent,onSelectSlot:r.props.onSelectSlot,longPressThreshold:r.props.longPressThreshold,resizable:y})},r}return or(t,e),Ut(t,[{key:"renderHeaderCells",value:function(n){var s=this,a=this.props,o=a.localizer,l=a.getDrilldownView,c=a.getNow,u=a.getters.dayProp,d=a.components.header,f=d===void 0?tv:d,h=c();return n.map(function(x,m){var p=l(x),w=o.format(x,"dayFormat"),y=u(x),g=y.className,v=y.style,b=B.createElement(f,{date:x,label:w,localizer:o});return B.createElement("div",{key:m,style:v,className:_t("rbc-header",g,o.isSameDate(x,h)&&"rbc-today")},p?B.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(j){return s.handleHeaderClick(x,p,j)}},b):B.createElement("span",null,b))})}},{key:"render",value:function(){var n=this,s=this.props,a=s.width,o=s.rtl,l=s.resources,c=s.range,u=s.events,d=s.getNow,f=s.accessors,h=s.selectable,x=s.components,m=s.getters,p=s.scrollRef,w=s.localizer,y=s.isOverflowing,g=s.components,v=g.timeGutterHeader,b=g.resourceHeader,S=b===void 0?xD:b,j=s.resizable,_={};y&&(_[o?"marginLeft":"marginRight"]="".concat(My()-1,"px"));var T=l.groupEvents(u);return B.createElement("div",{style:_,ref:p,className:_t("rbc-time-header",y&&"rbc-overflowing")},B.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:a,minWidth:a,maxWidth:a}},v&&B.createElement(v,null)),l.map(function($,R){var Y=Yr($,2),Q=Y[0],q=Y[1];return B.createElement("div",{className:"rbc-time-header-content",key:Q||R},q&&B.createElement("div",{className:"rbc-row rbc-row-resource",key:"resource_".concat(R)},B.createElement("div",{className:"rbc-header"},B.createElement(S,{index:R,label:f.resourceTitle(q),resource:q}))),B.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(c.length<=1?" rbc-time-header-cell-single-day":"")},n.renderHeaderCells(c)),B.createElement(ac,{isAllDay:!0,rtl:o,getNow:d,minRows:2,maxRows:n.props.allDayMaxRows+1,range:c,events:T.get(Q)||[],resourceId:q&&Q,className:"rbc-allday-cell",selectable:h,selected:n.props.selected,components:x,accessors:f,getters:m,localizer:w,onSelect:n.props.onSelectEvent,onShowMore:n.props.onShowMore,onDoubleClick:n.props.onDoubleClickEvent,onKeyDown:n.props.onKeyPressEvent,onSelectSlot:n.props.onSelectSlot,longPressThreshold:n.props.longPressThreshold,resizable:j}))}))}}])}(B.Component),VK=function(e){function t(){var r;Wt(this,t);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return r=lr(this,t,[].concat(s)),r.handleHeaderClick=function(o,l,c){c.preventDefault(),ft(r.props.onDrillDown,[o,l])},r}return or(t,e),Ut(t,[{key:"renderHeaderCells",value:function(n){var s=this,a=this.props,o=a.localizer,l=a.getDrilldownView,c=a.getNow,u=a.getters.dayProp,d=a.components,f=d.header,h=f===void 0?tv:f,x=d.resourceHeader,m=x===void 0?xD:x,p=a.resources,w=a.accessors,y=a.events,g=a.rtl,v=a.selectable,b=a.components,S=a.getters,j=a.resizable,_=c(),T=p.groupEvents(y);return n.map(function($,R){var Y=l($),Q=o.format($,"dayFormat"),q=u($),se=q.className,pe=q.style,te=B.createElement(h,{date:$,label:Q,localizer:o});return B.createElement("div",{key:R,className:"rbc-time-header-content rbc-resource-grouping"},B.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(n.length<=1?" rbc-time-header-cell-single-day":"")},B.createElement("div",{style:pe,className:_t("rbc-header",se,o.isSameDate($,_)&&"rbc-today")},Y?B.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(ee){return s.handleHeaderClick($,Y,ee)}},te):B.createElement("span",null,te))),B.createElement("div",{className:"rbc-row"},p.map(function(be,ee){var H=Yr(be,2),ue=H[0],C=H[1];return B.createElement("div",{key:"resource_".concat(ue,"_").concat(ee),className:_t("rbc-header",se,o.isSameDate($,_)&&"rbc-today")},B.createElement(m,{index:ee,label:w.resourceTitle(C),resource:C}))})),B.createElement("div",{className:"rbc-row rbc-m-b-negative-3 rbc-h-full"},p.map(function(be,ee){var H=Yr(be,2),ue=H[0],C=H[1],L=(T.get(ue)||[]).filter(function(E){return o.isSameDate(E.start,$)||o.isSameDate(E.end,$)});return B.createElement(ac,{key:"resource_".concat(ue,"_").concat(ee),isAllDay:!0,rtl:g,getNow:c,minRows:2,maxRows:s.props.allDayMaxRows+1,range:[$],events:L,resourceId:C&&ue,className:"rbc-allday-cell",selectable:v,selected:s.props.selected,components:b,accessors:w,getters:S,localizer:o,onSelect:s.props.onSelectEvent,onShowMore:s.props.onShowMore,onDoubleClick:s.props.onDoubleClickEvent,onKeyDown:s.props.onKeyPressEvent,onSelectSlot:s.props.onSelectSlot,longPressThreshold:s.props.longPressThreshold,resizable:j})})))})}},{key:"render",value:function(){var n=this.props,s=n.width,a=n.rtl,o=n.range,l=n.scrollRef,c=n.isOverflowing,u=n.components.timeGutterHeader,d={};return c&&(d[a?"marginLeft":"marginRight"]="".concat(My()-1,"px")),B.createElement("div",{style:d,ref:l,className:_t("rbc-time-header",c&&"rbc-overflowing")},B.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:s,minWidth:s,maxWidth:s}},u&&B.createElement(u,null)),this.renderHeaderCells(o))}}])}(B.Component);function YK(e){var t=e.min,r=e.max,n=e.localizer;return n.getTimezoneOffset(t)!==n.getTimezoneOffset(r)?{start:n.add(t,-1,"day"),end:n.add(r,-1,"day")}:{start:t,end:r}}var qK=function(t){var r=t.min,n=t.max,s=t.timeslots,a=t.step,o=t.localizer,l=t.getNow,c=t.resource,u=t.components,d=t.getters,f=t.gutterRef,h=u.timeGutterWrapper,x=N.useMemo(function(){return YK({min:r,max:n,localizer:o})},[r==null?void 0:r.toISOString(),n==null?void 0:n.toISOString(),o]),m=x.start,p=x.end,w=N.useState(rv({min:m,max:p,timeslots:s,step:a,localizer:o})),y=Yr(w,2),g=y[0],v=y[1];N.useEffect(function(){g&&v(g.update({min:m,max:p,timeslots:s,step:a,localizer:o}))},[m==null?void 0:m.toISOString(),p==null?void 0:p.toISOString(),s,a]);var b=N.useCallback(function(S,j){if(j)return null;var _=g.dateIsInGroup(l(),j);return B.createElement("span",{className:_t("rbc-label",_&&"rbc-now")},o.format(S,"timeGutterFormat"))},[g,o,l]);return B.createElement(h,{slotMetrics:g},B.createElement("div",{className:"rbc-time-gutter rbc-time-column",ref:f},g.groups.map(function(S,j){return B.createElement(yD,{key:j,group:S,resource:c,components:u,renderSlot:b,getters:d})})))},KK=B.forwardRef(function(e,t){return B.createElement(qK,Object.assign({gutterRef:t},e))}),om={};function GK(e,t){return{map:function(n){return e?e.map(function(s,a){return n([t.resourceId(s),s],a)}):[n([om,null],0)]},groupEvents:function(n){var s=new Map;return e?(n.forEach(function(a){var o=t.resource(a)||om;if(Array.isArray(o))o.forEach(function(c){var u=s.get(c)||[];u.push(a),s.set(c,u)});else{var l=s.get(o)||[];l.push(a),s.set(o,l)}}),s):(s.set(om,n),s)}}}var Po=function(e){function t(r){var n;return Wt(this,t),n=lr(this,t,[r]),n.handleScroll=function(s){n.scrollRef.current&&(n.scrollRef.current.scrollLeft=s.target.scrollLeft)},n.handleResize=function(){nb(n.rafHandle),n.rafHandle=pk(n.checkOverflow)},n.handleKeyPressEvent=function(){n.clearSelection();for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];ft(n.props.onKeyPressEvent,a)},n.handleSelectEvent=function(){n.clearSelection();for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];ft(n.props.onSelectEvent,a)},n.handleDoubleClickEvent=function(){n.clearSelection();for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];ft(n.props.onDoubleClickEvent,a)},n.handleShowMore=function(s,a,o,l,c){var u=n.props,d=u.popup,f=u.onDrillDown,h=u.onShowMore,x=u.getDrilldownView,m=u.doShowMoreDrillDown;if(n.clearSelection(),d){var p=mk(o,n.containerRef.current);n.setState({overlay:{date:a,events:s,position:at(at({},p),{},{width:"200px"}),target:c}})}else m&&ft(f,[a,x(a)||hr.DAY]);ft(h,[s,a,l])},n.handleSelectAllDaySlot=function(s,a){var o=n.props.onSelectSlot,l=new Date(s[0]),c=new Date(s[s.length-1]);c.setDate(s[s.length-1].getDate()+1),ft(o,{slots:s,start:l,end:c,action:a.action,resourceId:a.resourceId})},n.overlayDisplay=function(){n.setState({overlay:null})},n.checkOverflow=function(){if(!n._updatingOverflow){var s=n.contentRef.current;if(s!=null&&s.scrollHeight){var a=s.scrollHeight>s.clientHeight;n.state.isOverflowing!==a&&(n._updatingOverflow=!0,n.setState({isOverflowing:a},function(){n._updatingOverflow=!1}))}}},n.memoizedResources=Wk(function(s,a){return GK(s,a)}),n.state={gutterWidth:void 0,isOverflowing:null},n.scrollRef=B.createRef(),n.contentRef=B.createRef(),n.containerRef=B.createRef(),n._scrollRatio=null,n.gutterRef=N.createRef(),n}return or(t,e),Ut(t,[{key:"getSnapshotBeforeUpdate",value:function(){return this.checkOverflow(),null}},{key:"componentDidMount",value:function(){this.props.width==null&&this.measureGutter(),this.calculateScroll(),this.applyScroll(),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),nb(this.rafHandle),this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest)}},{key:"componentDidUpdate",value:function(){this.applyScroll()}},{key:"renderDayColumn",value:function(n,s,a,o,l,c,u,d,f,h){var x=this.props,m=x.min,p=x.max,w=(o.get(s)||[]).filter(function(g){return c.inRange(n,u.start(g),u.end(g),"day")}),y=(l.get(s)||[]).filter(function(g){return c.inRange(n,u.start(g),u.end(g),"day")});return B.createElement(vD,Object.assign({},this.props,{localizer:c,min:c.merge(n,m),max:c.merge(n,p),resource:a&&s,components:d,isNow:c.isSameDate(n,h),key:"".concat(s,"-").concat(n),date:n,events:w,backgroundEvents:y,dayLayoutAlgorithm:f}))}},{key:"renderResourcesFirst",value:function(n,s,a,o,l,c,u,d,f){var h=this;return s.map(function(x){var m=Yr(x,2),p=m[0],w=m[1];return n.map(function(y){return h.renderDayColumn(y,p,w,a,o,l,c,d,f,u)})})}},{key:"renderRangeFirst",value:function(n,s,a,o,l,c,u,d,f){var h=this;return n.map(function(x){return B.createElement("div",{style:{display:"flex",minHeight:"100%",flex:1},key:x},s.map(function(m){var p=Yr(m,2),w=p[0],y=p[1];return B.createElement("div",{style:{flex:1},key:c.resourceId(y)},h.renderDayColumn(x,w,y,a,o,l,c,d,f,u))}))})}},{key:"renderEvents",value:function(n,s,a,o){var l=this.props,c=l.accessors,u=l.localizer,d=l.resourceGroupingLayout,f=l.components,h=l.dayLayoutAlgorithm,x=this.memoizedResources(this.props.resources,c),m=x.groupEvents(s),p=x.groupEvents(a);return d?this.renderRangeFirst(n,x,m,p,u,c,o,f,h):this.renderResourcesFirst(n,x,m,p,u,c,o,f,h)}},{key:"render",value:function(){var n,s=this.props,a=s.events,o=s.backgroundEvents,l=s.range,c=s.width,u=s.rtl,d=s.selected,f=s.getNow,h=s.resources,x=s.components,m=s.accessors,p=s.getters,w=s.localizer,y=s.min,g=s.max,v=s.showMultiDayTimes,b=s.longPressThreshold,S=s.resizable,j=s.resourceGroupingLayout;c=c||this.state.gutterWidth;var _=l[0],T=l[l.length-1];this.slots=l.length;var $=[],R=[],Y=[];a.forEach(function(q){if(sc(q,_,T,m,w)){var se=m.start(q),pe=m.end(q);m.allDay(q)||w.startAndEndAreDateOnly(se,pe)||!v&&!w.isSameDate(se,pe)?$.push(q):R.push(q)}}),o.forEach(function(q){sc(q,_,T,m,w)&&Y.push(q)}),$.sort(function(q,se){return Vp(q,se,m,w)});var Q={range:l,events:$,width:c,rtl:u,getNow:f,localizer:w,selected:d,allDayMaxRows:this.props.showAllEvents?1/0:(n=this.props.allDayMaxRows)!==null&&n!==void 0?n:1/0,resources:this.memoizedResources(h,m),selectable:this.props.selectable,accessors:m,getters:p,components:x,scrollRef:this.scrollRef,isOverflowing:this.state.isOverflowing,longPressThreshold:b,onSelectSlot:this.handleSelectAllDaySlot,onSelectEvent:this.handleSelectEvent,onShowMore:this.handleShowMore,onDoubleClickEvent:this.props.onDoubleClickEvent,onKeyPressEvent:this.props.onKeyPressEvent,onDrillDown:this.props.onDrillDown,getDrilldownView:this.props.getDrilldownView,resizable:S};return B.createElement("div",{className:_t("rbc-time-view",h&&"rbc-time-view-resources"),ref:this.containerRef},h&&h.length>1&&j?B.createElement(VK,Q):B.createElement(zK,Q),this.props.popup&&this.renderOverlay(),B.createElement("div",{ref:this.contentRef,className:"rbc-time-content",onScroll:this.handleScroll},B.createElement(KK,{date:_,ref:this.gutterRef,localizer:w,min:w.merge(_,y),max:w.merge(_,g),step:this.props.step,getNow:this.props.getNow,timeslots:this.props.timeslots,components:x,className:"rbc-time-gutter",getters:p}),this.renderEvents(l,R,Y,f())))}},{key:"renderOverlay",value:function(){var n,s,a=this,o=(n=(s=this.state)===null||s===void 0?void 0:s.overlay)!==null&&n!==void 0?n:{},l=this.props,c=l.accessors,u=l.localizer,d=l.components,f=l.getters,h=l.selected,x=l.popupOffset,m=l.handleDragStart,p=function(){return a.setState({overlay:null})};return B.createElement(ev,{overlay:o,accessors:c,localizer:u,components:d,getters:f,selected:h,popupOffset:x,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:m,show:!!o.position,overlayDisplay:this.overlayDisplay,onHide:p})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}},{key:"measureGutter",value:function(){var n=this;this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest),this.measureGutterAnimationFrameRequest=window.requestAnimationFrame(function(){var s,a=(s=n.gutterRef)!==null&&s!==void 0&&s.current?Bp(n.gutterRef.current):void 0;a&&n.state.gutterWidth!==a&&n.setState({gutterWidth:a})})}},{key:"applyScroll",value:function(){if(this._scrollRatio!=null&&this.props.enableAutoScroll===!0){var n=this.contentRef.current;n.scrollTop=n.scrollHeight*this._scrollRatio,this._scrollRatio=null}}},{key:"calculateScroll",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,s=n.min,a=n.max,o=n.scrollToTime,l=n.localizer,c=l.diff(l.merge(o,s),o,"milliseconds"),u=l.diff(s,a,"milliseconds");this._scrollRatio=c/u}}])}(N.Component);Po.defaultProps={step:30,timeslots:2,resourceGroupingLayout:!1};var QK=["date","localizer","min","max","scrollToTime","enableAutoScroll"],Xf=function(e){function t(){return Wt(this,t),lr(this,t,arguments)}return or(t,e),Ut(t,[{key:"render",value:function(){var n=this.props,s=n.date,a=n.localizer,o=n.min,l=o===void 0?a.startOf(new Date,"day"):o,c=n.max,u=c===void 0?a.endOf(new Date,"day"):c,d=n.scrollToTime,f=d===void 0?a.startOf(new Date,"day"):d,h=n.enableAutoScroll,x=h===void 0?!0:h,m=Gn(n,QK),p=t.range(s,{localizer:a});return B.createElement(Po,Object.assign({},m,{range:p,eventOffset:10,localizer:a,min:l,max:u,scrollToTime:f,enableAutoScroll:x}))}}])}(B.Component);Xf.range=function(e,t){var r=t.localizer;return[r.startOf(e,"day")]};Xf.navigate=function(e,t,r){var n=r.localizer;switch(t){case Tr.PREVIOUS:return n.add(e,-1,"day");case Tr.NEXT:return n.add(e,1,"day");default:return e}};Xf.title=function(e,t){var r=t.localizer;return r.format(e,"dayHeaderFormat")};var XK=["date","localizer","min","max","scrollToTime","enableAutoScroll"],pa=function(e){function t(){return Wt(this,t),lr(this,t,arguments)}return or(t,e),Ut(t,[{key:"render",value:function(){var n=this.props,s=n.date,a=n.localizer,o=n.min,l=o===void 0?a.startOf(new Date,"day"):o,c=n.max,u=c===void 0?a.endOf(new Date,"day"):c,d=n.scrollToTime,f=d===void 0?a.startOf(new Date,"day"):d,h=n.enableAutoScroll,x=h===void 0?!0:h,m=Gn(n,XK),p=t.range(s,this.props);return B.createElement(Po,Object.assign({},m,{range:p,eventOffset:15,localizer:a,min:l,max:u,scrollToTime:f,enableAutoScroll:x}))}}])}(B.Component);pa.defaultProps=Po.defaultProps;pa.navigate=function(e,t,r){var n=r.localizer;switch(t){case Tr.PREVIOUS:return n.add(e,-1,"week");case Tr.NEXT:return n.add(e,1,"week");default:return e}};pa.range=function(e,t){var r=t.localizer,n=r.startOfWeek(),s=r.startOf(e,"week",n),a=r.endOf(e,"week",n);return r.range(s,a)};pa.title=function(e,t){var r=t.localizer,n=pa.range(e,{localizer:r}),s=qk(n),a=s[0],o=s.slice(1);return r.format({start:a,end:o.pop()},"dayRangeHeaderFormat")};var JK=["date","localizer","min","max","scrollToTime","enableAutoScroll"];function nv(e,t){return pa.range(e,t).filter(function(r){return[6,0].indexOf(r.getDay())===-1})}var Fc=function(e){function t(){return Wt(this,t),lr(this,t,arguments)}return or(t,e),Ut(t,[{key:"render",value:function(){var n=this.props,s=n.date,a=n.localizer,o=n.min,l=o===void 0?a.startOf(new Date,"day"):o,c=n.max,u=c===void 0?a.endOf(new Date,"day"):c,d=n.scrollToTime,f=d===void 0?a.startOf(new Date,"day"):d,h=n.enableAutoScroll,x=h===void 0?!0:h,m=Gn(n,JK),p=nv(s,this.props);return B.createElement(Po,Object.assign({},m,{range:p,eventOffset:15,localizer:a,min:l,max:u,scrollToTime:f,enableAutoScroll:x}))}}])}(B.Component);Fc.defaultProps=Po.defaultProps;Fc.range=nv;Fc.navigate=pa.navigate;Fc.title=function(e,t){var r=t.localizer,n=nv(e,{localizer:r}),s=qk(n),a=s[0],o=s.slice(1);return r.format({start:a,end:o.pop()},"dayRangeHeaderFormat")};var Jf=30;function Zf(e){var t=e.accessors,r=e.components,n=e.date,s=e.events,a=e.getters,o=e.length,l=o===void 0?Jf:o,c=e.localizer,u=e.onDoubleClickEvent,d=e.onSelectEvent,f=e.selected,h=N.useRef(null),x=N.useRef(null),m=N.useRef(null),p=N.useRef(null),w=N.useRef(null);N.useEffect(function(){v()});var y=function(T,$,R){var Y=r.event,Q=r.date;return $=$.filter(function(q){return sc(q,c.startOf(T,"day"),c.endOf(T,"day"),t,c)}),$.map(function(q,se){var pe=t.title(q),te=t.end(q),be=t.start(q),ee=a.eventProp(q,be,te,Gf(q,f)),H=se===0&&c.format(T,"agendaDateFormat"),ue=se===0?B.createElement("td",{rowSpan:$.length,className:"rbc-agenda-date-cell"},Q?B.createElement(Q,{day:T,label:H}):H):!1;return B.createElement("tr",{key:R+"_"+se,className:ee.className,style:ee.style},ue,B.createElement("td",{className:"rbc-agenda-time-cell"},g(T,q)),B.createElement("td",{className:"rbc-agenda-event-cell",onClick:function(L){return d&&d(q,L)},onDoubleClick:function(L){return u&&u(q,L)}},Y?B.createElement(Y,{event:q,title:pe}):pe))},[])},g=function(T,$){var R="",Y=r.time,Q=c.messages.allDay,q=t.end($),se=t.start($);return t.allDay($)||(c.eq(se,q)?Q=c.format(se,"agendaTimeFormat"):c.isSameDate(se,q)?Q=c.format({start:se,end:q},"agendaTimeRangeFormat"):c.isSameDate(T,se)?Q=c.format(se,"agendaTimeFormat"):c.isSameDate(T,q)&&(Q=c.format(q,"agendaTimeFormat"))),c.gt(T,se,"day")&&(R="rbc-continues-prior"),c.lt(T,q,"day")&&(R+=" rbc-continues-after"),B.createElement("span",{className:R.trim()},Y?B.createElement(Y,{event:$,day:T,label:Q}):Q)},v=function(){if(w.current){var T=h.current,$=w.current.firstChild;if($){var R=p.current.scrollHeight>p.current.clientHeight,Y=[],Q=Y;Y=[Bp($.children[0]),Bp($.children[1])],(Q[0]!==Y[0]||Q[1]!==Y[1])&&(x.current.style.width=Y[0]+"px",m.current.style.width=Y[1]+"px"),R?(ZL(T,"rbc-header-overflowing"),T.style.marginRight=My()+"px"):eF(T,"rbc-header-overflowing")}}},b=c.messages,S=c.add(n,l,"day"),j=c.range(n,S,"day");return s=s.filter(function(_){return sc(_,c.startOf(n,"day"),c.endOf(S,"day"),t,c)}),s.sort(function(_,T){return+t.start(_)-+t.start(T)}),B.createElement("div",{className:"rbc-agenda-view"},s.length!==0?B.createElement(B.Fragment,null,B.createElement("table",{ref:h,className:"rbc-agenda-table"},B.createElement("thead",null,B.createElement("tr",null,B.createElement("th",{className:"rbc-header",ref:x},b.date),B.createElement("th",{className:"rbc-header",ref:m},b.time),B.createElement("th",{className:"rbc-header"},b.event)))),B.createElement("div",{className:"rbc-agenda-content",ref:p},B.createElement("table",{className:"rbc-agenda-table"},B.createElement("tbody",{ref:w},j.map(function(_,T){return y(_,s,T)}))))):B.createElement("span",{className:"rbc-agenda-empty"},b.noEventsInRange))}Zf.range=function(e,t){var r=t.length,n=r===void 0?Jf:r,s=t.localizer,a=s.add(e,n,"day");return{start:e,end:a}};Zf.navigate=function(e,t,r){var n=r.length,s=n===void 0?Jf:n,a=r.localizer;switch(t){case Tr.PREVIOUS:return a.add(e,-s,"day");case Tr.NEXT:return a.add(e,s,"day");default:return e}};Zf.title=function(e,t){var r=t.length,n=r===void 0?Jf:r,s=t.localizer,a=s.add(e,n,"day");return s.format({start:e,end:a},"agendaHeaderFormat")};var Ju=Ea(Ea(Ea(Ea(Ea({},hr.MONTH,Qf),hr.WEEK,pa),hr.WORK_WEEK,Fc),hr.DAY,Xf),hr.AGENDA,Zf),ZK=["action","date","today"];function eG(e,t){var r=t.action,n=t.date,s=t.today,a=Gn(t,ZK);switch(e=typeof e=="string"?Ju[e]:e,r){case Tr.TODAY:n=s||new Date;break;case Tr.DATE:break;default:Yl(e&&typeof e.navigate=="function","Calendar View components must implement a static `.navigate(date, action)` method.s"),n=e.navigate(n,r,a)}return n}function tG(e,t){var r=null;return typeof t=="function"?r=t(e):typeof t=="string"&&wn(e)==="object"&&e!=null&&t in e&&(r=e[t]),r}var ns=function(t){return function(r){return tG(r,t)}},rG=["view","date","getNow","onNavigate"],nG=["view","toolbar","events","backgroundEvents","resourceGroupingLayout","style","className","elementProps","date","getNow","length","showMultiDayTimes","onShowMore","doShowMoreDrillDown","components","formats","messages","culture"];function bD(e){if(Array.isArray(e))return e;for(var t=[],r=0,n=Object.entries(e);r<n.length;r++){var s=Yr(n[r],2),a=s[0],o=s[1];o&&t.push(a)}return t}function sG(e,t){var r=t.views,n=bD(r);return n.indexOf(e)!==-1}var wD=function(e){function t(){var r;Wt(this,t);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return r=lr(this,t,[].concat(s)),r.getViews=function(){var o=r.props.views;return Array.isArray(o)?Mq(o,function(l,c){return l[c]=Ju[c]},{}):wn(o)==="object"?MV(o,function(l,c){return l===!0?Ju[c]:l}):Ju},r.getView=function(){var o=r.getViews();return o[r.props.view]},r.getDrilldownView=function(o){var l=r.props,c=l.view,u=l.drilldownView,d=l.getDrilldownView;return d?d(o,c,Object.keys(r.getViews())):u},r.handleRangeChange=function(o,l,c){var u=r.props,d=u.onRangeChange,f=u.localizer;d&&l.range&&d(l.range(o,{localizer:f}),c)},r.handleNavigate=function(o,l){var c=r.props,u=c.view,d=c.date,f=c.getNow,h=c.onNavigate,x=Gn(c,rG),m=r.getView(),p=f();d=eG(m,at(at({},x),{},{action:o,date:l||d||p,today:p})),h(d,u,o),r.handleRangeChange(d,m)},r.handleViewChange=function(o){o!==r.props.view&&sG(o,r.props)&&r.props.onView(o);var l=r.getViews();r.handleRangeChange(r.props.date||r.props.getNow(),l[o],o)},r.handleSelectEvent=function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];ft(r.props.onSelectEvent,l)},r.handleDoubleClickEvent=function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];ft(r.props.onDoubleClickEvent,l)},r.handleKeyPressEvent=function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];ft(r.props.onKeyPressEvent,l)},r.handleSelectSlot=function(o){ft(r.props.onSelectSlot,o)},r.handleDrillDown=function(o,l){var c=r.props.onDrillDown;if(c){c(o,l,r.drilldownView);return}l&&r.handleViewChange(l),r.handleNavigate(Tr.DATE,o)},r.state={context:t.getContext(r.props)},r}return or(t,e),Ut(t,[{key:"render",value:function(){var n=this.props,s=n.view,a=n.toolbar,o=n.events,l=n.backgroundEvents,c=n.resourceGroupingLayout,u=n.style,d=n.className,f=n.elementProps,h=n.date,x=n.getNow,m=n.length,p=n.showMultiDayTimes,w=n.onShowMore,y=n.doShowMoreDrillDown;n.components,n.formats,n.messages,n.culture;var g=Gn(n,nG);h=h||x();var v=this.getView(),b=this.state.context,S=b.accessors,j=b.components,_=b.getters,T=b.localizer,$=b.viewNames,R=j.toolbar||oK,Y=v.title(h,{localizer:T,length:m});return B.createElement("div",Object.assign({},f,{className:_t(d,"rbc-calendar",g.rtl&&"rbc-rtl"),style:u}),a&&B.createElement(R,{date:h,view:s,views:$,label:Y,onView:this.handleViewChange,onNavigate:this.handleNavigate,localizer:T}),B.createElement(v,Object.assign({},g,{events:o,backgroundEvents:l,date:h,getNow:x,length:m,localizer:T,getters:_,components:j,accessors:S,showMultiDayTimes:p,getDrilldownView:this.getDrilldownView,onNavigate:this.handleNavigate,onDrillDown:this.handleDrillDown,onSelectEvent:this.handleSelectEvent,onDoubleClickEvent:this.handleDoubleClickEvent,onKeyPressEvent:this.handleKeyPressEvent,onSelectSlot:this.handleSelectSlot,onShowMore:w,doShowMoreDrillDown:y,resourceGroupingLayout:c})))}}],[{key:"getDerivedStateFromProps",value:function(n){return{context:t.getContext(n)}}},{key:"getContext",value:function(n){var s=n.startAccessor,a=n.endAccessor,o=n.allDayAccessor,l=n.tooltipAccessor,c=n.titleAccessor,u=n.resourceAccessor,d=n.resourceIdAccessor,f=n.resourceTitleAccessor,h=n.eventIdAccessor,x=n.eventPropGetter,m=n.backgroundEventPropGetter,p=n.slotPropGetter,w=n.slotGroupPropGetter,y=n.dayPropGetter,g=n.view,v=n.views,b=n.localizer,S=n.culture,j=n.messages,_=j===void 0?{}:j,T=n.components,$=T===void 0?{}:T,R=n.formats,Y=R===void 0?{}:R,Q=bD(v),q=cK(_);return{viewNames:Q,localizer:iK(b,S,Y,q),getters:{eventProp:function(){return x&&x.apply(void 0,arguments)||{}},backgroundEventProp:function(){return m&&m.apply(void 0,arguments)||{}},slotProp:function(){return p&&p.apply(void 0,arguments)||{}},slotGroupProp:function(){return w&&w.apply(void 0,arguments)||{}},dayProp:function(){return y&&y.apply(void 0,arguments)||{}}},components:_V($[g]||{},wq($,Q),{eventWrapper:An,backgroundEventWrapper:An,eventContainerWrapper:An,dateCellWrapper:An,weekWrapper:An,timeSlotWrapper:An,timeGutterWrapper:An,timeIndicatorWrapper:An}),accessors:{start:ns(s),end:ns(a),allDay:ns(o),tooltip:ns(l),title:ns(c),resource:ns(u),resourceId:ns(d),resourceTitle:ns(f),eventId:ns(h)}}}}])}(B.Component);wD.defaultProps={events:[],backgroundEvents:[],elementProps:{},popup:!1,toolbar:!0,view:hr.MONTH,views:[hr.MONTH,hr.WEEK,hr.DAY,hr.AGENDA],step:30,length:30,allDayMaxRows:1/0,doShowMoreDrillDown:!0,drilldownView:hr.DAY,titleAccessor:"title",tooltipAccessor:"title",allDayAccessor:"allDay",startAccessor:"start",endAccessor:"end",resourceAccessor:"resourceId",resourceIdAccessor:"id",resourceTitleAccessor:"title",eventIdAccessor:"id",longPressThreshold:250,getNow:function(){return new Date},dayLayoutAlgorithm:"overlap"};var aG=KS(wD,{view:"onView",date:"onNavigate",selected:"onSelectEvent"}),iG=function(t,r,n){var s=t.start,a=t.end;return n.format(s,"MMMM DD",r)+"  "+n.format(a,n.eq(s,a,"month")?"DD":"MMMM DD",r)},oG=function(t,r,n){var s=t.start,a=t.end;return n.format(s,"L",r)+"  "+n.format(a,"L",r)},lm=function(t,r,n){var s=t.start,a=t.end;return n.format(s,"LT",r)+"  "+n.format(a,"LT",r)},lG=function(t,r,n){var s=t.start;return n.format(s,"LT",r)+"  "},cG=function(t,r,n){var s=t.end;return"  "+n.format(s,"LT",r)},uG={dateFormat:"DD",dayFormat:"DD ddd",weekdayFormat:"ddd",selectRangeFormat:lm,eventTimeRangeFormat:lm,eventTimeRangeStartFormat:lG,eventTimeRangeEndFormat:cG,timeGutterFormat:"LT",monthHeaderFormat:"MMMM YYYY",dayHeaderFormat:"dddd MMM DD",dayRangeHeaderFormat:iG,agendaHeaderFormat:oG,agendaDateFormat:"ddd MMM DD",agendaTimeFormat:"LT",agendaTimeRangeFormat:lm};function Ms(e){var t=e&&e.toLowerCase();return t==="FullYear"?t="year":t||(t=void 0),t}function dG(e){var t=function(L,E){return E?L.locale(E):L};function r(C){return e(C).toDate().getTimezoneOffset()}function n(C,L){var E,A,K=e(C).local(),I=e(L).local();if(!e.tz)return K.toDate().getTimezoneOffset()-I.toDate().getTimezoneOffset();var G=(E=K==null||(A=K._z)===null||A===void 0?void 0:A.name)!==null&&E!==void 0?E:e.tz.guess(),J=e.tz.zone(G).utcOffset(+K),U=e.tz.zone(G).utcOffset(+I);return J-U}function s(C){var L=e(C).startOf("day");return n(L,C)}function a(C,L,E){var A=Ms(E),K=A?e(C).startOf(A):e(C),I=A?e(L).startOf(A):e(L);return[K,I,A]}function o(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,L=arguments.length>1?arguments[1]:void 0,E=Ms(L);return E?e(C).startOf(E).toDate():e(C).toDate()}function l(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,L=arguments.length>1?arguments[1]:void 0,E=Ms(L);return E?e(C).endOf(E).toDate():e(C).toDate()}function c(C,L,E){var A=a(C,L,E),K=Yr(A,3),I=K[0],G=K[1],J=K[2];return I.isSame(G,J)}function u(C,L,E){return!c(C,L,E)}function d(C,L,E){var A=a(C,L,E),K=Yr(A,3),I=K[0],G=K[1],J=K[2];return I.isAfter(G,J)}function f(C,L,E){var A=a(C,L,E),K=Yr(A,3),I=K[0],G=K[1],J=K[2];return I.isBefore(G,J)}function h(C,L,E){var A=a(C,L,E),K=Yr(A,3),I=K[0],G=K[1],J=K[2];return I.isSameOrBefore(G,J)}function x(C,L,E){var A=a(C,L,E),K=Yr(A,3),I=K[0],G=K[1],J=K[2];return I.isSameOrBefore(G,J)}function m(C,L,E){var A=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"day",K=Ms(A),I=e(C),G=e(L),J=e(E);return I.isBetween(G,J,K,"[]")}function p(C,L){var E=e(C),A=e(L),K=e.min(E,A);return K.toDate()}function w(C,L){var E=e(C),A=e(L),K=e.max(E,A);return K.toDate()}function y(C,L){if(!C&&!L)return null;var E=e(L).format("HH:mm:ss"),A=e(C).startOf("day").format("MM/DD/YYYY");return e("".concat(A," ").concat(E),"MM/DD/YYYY HH:mm:ss").toDate()}function g(C,L,E){var A=Ms(E);return e(C).add(L,A).toDate()}function v(C,L){for(var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",A=Ms(E),K=e(C).toDate(),I=[];x(K,L);)I.push(K),K=g(K,1,A);return I}function b(C,L){var E=Ms(L),A=o(C,E);return c(A,C)?A:g(A,1,E)}function S(C,L){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",A=Ms(E),K=e(C),I=e(L);return I.diff(K,A)}function j(C){var L=e(C);return L.minutes()}function _(C){var L=C?e.localeData(C):e.localeData();return L?L.firstDayOfWeek():0}function T(C){return e(C).startOf("month").startOf("week").toDate()}function $(C){return e(C).endOf("month").endOf("week").toDate()}function R(C){for(var L=T(C),E=$(C),A=[];x(L,E);)A.push(L),L=g(L,1,"d");return A}function Y(C,L,E){return e(C).startOf("day").minute(L+E).toDate()}function Q(C,L){return S(C,L,"minutes")}function q(C){var L=e(C).startOf("day"),E=e(C);return E.diff(L,"minutes")+s(C)}function se(C,L){var E=e(C),A=e(L);return E.isBefore(A,"day")}function pe(C,L,E){var A=e(L),K=e(E);return A.isSameOrAfter(K,"minutes")}function te(C,L){var E=e(C),A=e(L),K=e.duration(A.diff(E));return K.days()}function be(C){var L=C.evtA,E=L.start,A=L.end,K=L.allDay,I=C.evtB,G=I.start,J=I.end,U=I.allDay,P=+o(E,"day")-+o(G,"day"),V=te(E,A),re=te(G,J);return P||re-V||!!U-!!K||+E-+G||+A-+J}function ee(C){var L=C.event,E=L.start,A=L.end,K=C.range,I=K.start,G=K.end,J=e(E).startOf("day"),U=e(A),P=e(I),V=e(G),re=J.isSameOrBefore(V,"day"),ce=!J.isSame(U,"minutes"),Ne=ce?U.isAfter(P,"minutes"):U.isSameOrAfter(P,"minutes");return re&&Ne}function H(C,L){var E=e(C),A=e(L);return E.isSame(A,"day")}function ue(){var C=new Date,L=/-/.test(C.toString())?"-":"",E=C.getTimezoneOffset(),A=Number("".concat(L).concat(Math.abs(E))),K=e().utcOffset();return K>A?1:0}return new aK({formats:uG,firstOfWeek:_,firstVisibleDay:T,lastVisibleDay:$,visibleDays:R,format:function(L,E,A){return t(e(L),A).format(E)},lt:f,lte:x,gt:d,gte:h,eq:c,neq:u,merge:y,inRange:m,startOf:o,endOf:l,range:v,add:g,diff:S,ceil:b,min:p,max:w,minutes:j,getSlotDate:Y,getTimezoneOffset:r,getDstOffset:n,getTotalMin:Q,getMinutesFromMidnight:q,continuesPrior:se,continuesAfter:pe,sortEvents:be,inEventRange:ee,isSameDate:H,daySpan:te,browserTZOffset:ue})}//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var ND;function he(){return ND.apply(null,arguments)}function fG(e){ND=e}function jn(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function qa(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function Ve(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function sv(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var t;for(t in e)if(Ve(e,t))return!1;return!0}function xr(e){return e===void 0}function Ds(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function Wc(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function jD(e,t){var r=[],n,s=e.length;for(n=0;n<s;++n)r.push(t(e[n],n));return r}function Zs(e,t){for(var r in t)Ve(t,r)&&(e[r]=t[r]);return Ve(t,"toString")&&(e.toString=t.toString),Ve(t,"valueOf")&&(e.valueOf=t.valueOf),e}function Jn(e,t,r,n){return YD(e,t,r,n,!0).utc()}function hG(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function Ie(e){return e._pf==null&&(e._pf=hG()),e._pf}var qp;Array.prototype.some?qp=Array.prototype.some:qp=function(e){var t=Object(this),r=t.length>>>0,n;for(n=0;n<r;n++)if(n in t&&e.call(this,t[n],n,t))return!0;return!1};function av(e){var t=null,r=!1,n=e._d&&!isNaN(e._d.getTime());if(n&&(t=Ie(e),r=qp.call(t.parsedDateParts,function(s){return s!=null}),n=t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&r),e._strict&&(n=n&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=n;else return n;return e._isValid}function eh(e){var t=Jn(NaN);return e!=null?Zs(Ie(t),e):Ie(t).userInvalidated=!0,t}var vw=he.momentProperties=[],cm=!1;function iv(e,t){var r,n,s,a=vw.length;if(xr(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),xr(t._i)||(e._i=t._i),xr(t._f)||(e._f=t._f),xr(t._l)||(e._l=t._l),xr(t._strict)||(e._strict=t._strict),xr(t._tzm)||(e._tzm=t._tzm),xr(t._isUTC)||(e._isUTC=t._isUTC),xr(t._offset)||(e._offset=t._offset),xr(t._pf)||(e._pf=Ie(t)),xr(t._locale)||(e._locale=t._locale),a>0)for(r=0;r<a;r++)n=vw[r],s=t[n],xr(s)||(e[n]=s);return e}function Uc(e){iv(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),cm===!1&&(cm=!0,he.updateOffset(this),cm=!1)}function Sn(e){return e instanceof Uc||e!=null&&e._isAMomentObject!=null}function SD(e){he.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+e)}function rn(e,t){var r=!0;return Zs(function(){if(he.deprecationHandler!=null&&he.deprecationHandler(null,e),r){var n=[],s,a,o,l=arguments.length;for(a=0;a<l;a++){if(s="",typeof arguments[a]=="object"){s+=`
[`+a+"] ";for(o in arguments[0])Ve(arguments[0],o)&&(s+=o+": "+arguments[0][o]+", ");s=s.slice(0,-2)}else s=arguments[a];n.push(s)}SD(e+`
Arguments: `+Array.prototype.slice.call(n).join("")+`
`+new Error().stack),r=!1}return t.apply(this,arguments)},t)}var xw={};function kD(e,t){he.deprecationHandler!=null&&he.deprecationHandler(e,t),xw[e]||(SD(t),xw[e]=!0)}he.suppressDeprecationWarnings=!1;he.deprecationHandler=null;function Zn(e){return typeof Function<"u"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function mG(e){var t,r;for(r in e)Ve(e,r)&&(t=e[r],Zn(t)?this[r]=t:this["_"+r]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function Kp(e,t){var r=Zs({},e),n;for(n in t)Ve(t,n)&&(qa(e[n])&&qa(t[n])?(r[n]={},Zs(r[n],e[n]),Zs(r[n],t[n])):t[n]!=null?r[n]=t[n]:delete r[n]);for(n in e)Ve(e,n)&&!Ve(t,n)&&qa(e[n])&&(r[n]=Zs({},r[n]));return r}function ov(e){e!=null&&this.set(e)}var Gp;Object.keys?Gp=Object.keys:Gp=function(e){var t,r=[];for(t in e)Ve(e,t)&&r.push(t);return r};var pG={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function gG(e,t,r){var n=this._calendar[e]||this._calendar.sameElse;return Zn(n)?n.call(t,r):n}function Qn(e,t,r){var n=""+Math.abs(e),s=t-n.length,a=e>=0;return(a?r?"+":"":"-")+Math.pow(10,Math.max(0,s)).toString().substr(1)+n}var lv=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Nu=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,um={},Fi={};function Ae(e,t,r,n){var s=n;typeof n=="string"&&(s=function(){return this[n]()}),e&&(Fi[e]=s),t&&(Fi[t[0]]=function(){return Qn(s.apply(this,arguments),t[1],t[2])}),r&&(Fi[r]=function(){return this.localeData().ordinal(s.apply(this,arguments),e)})}function yG(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function vG(e){var t=e.match(lv),r,n;for(r=0,n=t.length;r<n;r++)Fi[t[r]]?t[r]=Fi[t[r]]:t[r]=yG(t[r]);return function(s){var a="",o;for(o=0;o<n;o++)a+=Zn(t[o])?t[o].call(s,e):t[o];return a}}function Zu(e,t){return e.isValid()?(t=DD(t,e.localeData()),um[t]=um[t]||vG(t),um[t](e)):e.localeData().invalidDate()}function DD(e,t){var r=5;function n(s){return t.longDateFormat(s)||s}for(Nu.lastIndex=0;r>=0&&Nu.test(e);)e=e.replace(Nu,n),Nu.lastIndex=0,r-=1;return e}var xG={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function bG(e){var t=this._longDateFormat[e],r=this._longDateFormat[e.toUpperCase()];return t||!r?t:(this._longDateFormat[e]=r.match(lv).map(function(n){return n==="MMMM"||n==="MM"||n==="DD"||n==="dddd"?n.slice(1):n}).join(""),this._longDateFormat[e])}var wG="Invalid date";function NG(){return this._invalidDate}var jG="%d",SG=/\d{1,2}/;function kG(e){return this._ordinal.replace("%d",e)}var DG={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function _G(e,t,r,n){var s=this._relativeTime[r];return Zn(s)?s(e,t,r,n):s.replace(/%d/i,e)}function CG(e,t){var r=this._relativeTime[e>0?"future":"past"];return Zn(r)?r(t):r.replace(/%s/i,t)}var bw={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function nn(e){return typeof e=="string"?bw[e]||bw[e.toLowerCase()]:void 0}function cv(e){var t={},r,n;for(n in e)Ve(e,n)&&(r=nn(n),r&&(t[r]=e[n]));return t}var EG={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function TG(e){var t=[],r;for(r in e)Ve(e,r)&&t.push({unit:r,priority:EG[r]});return t.sort(function(n,s){return n.priority-s.priority}),t}var _D=/\d/,Fr=/\d\d/,CD=/\d{3}/,uv=/\d{4}/,th=/[+-]?\d{6}/,pt=/\d\d?/,ED=/\d\d\d\d?/,TD=/\d\d\d\d\d\d?/,rh=/\d{1,3}/,dv=/\d{1,4}/,nh=/[+-]?\d{1,6}/,Ao=/\d+/,sh=/[+-]?\d+/,PG=/Z|[+-]\d\d:?\d\d/gi,ah=/Z|[+-]\d\d(?::?\d\d)?/gi,AG=/[+-]?\d+(\.\d{1,3})?/,Bc=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Oo=/^[1-9]\d?/,fv=/^([1-9]\d|\d)/,qd;qd={};function ke(e,t,r){qd[e]=Zn(t)?t:function(n,s){return n&&r?r:t}}function OG(e,t){return Ve(qd,e)?qd[e](t._strict,t._locale):new RegExp(MG(e))}function MG(e){return ys(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,r,n,s,a){return r||n||s||a}))}function ys(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Vr(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function We(e){var t=+e,r=0;return t!==0&&isFinite(t)&&(r=Vr(t)),r}var Qp={};function rt(e,t){var r,n=t,s;for(typeof e=="string"&&(e=[e]),Ds(t)&&(n=function(a,o){o[t]=We(a)}),s=e.length,r=0;r<s;r++)Qp[e[r]]=n}function Hc(e,t){rt(e,function(r,n,s,a){s._w=s._w||{},t(r,s._w,s,a)})}function RG(e,t,r){t!=null&&Ve(Qp,e)&&Qp[e](t,r._a,r,e)}function ih(e){return e%4===0&&e%100!==0||e%400===0}var sr=0,hs=1,Un=2,Ft=3,gn=4,ms=5,Ra=6,$G=7,IG=8;Ae("Y",0,0,function(){var e=this.year();return e<=9999?Qn(e,4):"+"+e});Ae(0,["YY",2],0,function(){return this.year()%100});Ae(0,["YYYY",4],0,"year");Ae(0,["YYYYY",5],0,"year");Ae(0,["YYYYYY",6,!0],0,"year");ke("Y",sh);ke("YY",pt,Fr);ke("YYYY",dv,uv);ke("YYYYY",nh,th);ke("YYYYYY",nh,th);rt(["YYYYY","YYYYYY"],sr);rt("YYYY",function(e,t){t[sr]=e.length===2?he.parseTwoDigitYear(e):We(e)});rt("YY",function(e,t){t[sr]=he.parseTwoDigitYear(e)});rt("Y",function(e,t){t[sr]=parseInt(e,10)});function Nl(e){return ih(e)?366:365}he.parseTwoDigitYear=function(e){return We(e)+(We(e)>68?1900:2e3)};var PD=Mo("FullYear",!0);function LG(){return ih(this.year())}function Mo(e,t){return function(r){return r!=null?(AD(this,e,r),he.updateOffset(this,t),this):ic(this,e)}}function ic(e,t){if(!e.isValid())return NaN;var r=e._d,n=e._isUTC;switch(t){case"Milliseconds":return n?r.getUTCMilliseconds():r.getMilliseconds();case"Seconds":return n?r.getUTCSeconds():r.getSeconds();case"Minutes":return n?r.getUTCMinutes():r.getMinutes();case"Hours":return n?r.getUTCHours():r.getHours();case"Date":return n?r.getUTCDate():r.getDate();case"Day":return n?r.getUTCDay():r.getDay();case"Month":return n?r.getUTCMonth():r.getMonth();case"FullYear":return n?r.getUTCFullYear():r.getFullYear();default:return NaN}}function AD(e,t,r){var n,s,a,o,l;if(!(!e.isValid()||isNaN(r))){switch(n=e._d,s=e._isUTC,t){case"Milliseconds":return void(s?n.setUTCMilliseconds(r):n.setMilliseconds(r));case"Seconds":return void(s?n.setUTCSeconds(r):n.setSeconds(r));case"Minutes":return void(s?n.setUTCMinutes(r):n.setMinutes(r));case"Hours":return void(s?n.setUTCHours(r):n.setHours(r));case"Date":return void(s?n.setUTCDate(r):n.setDate(r));case"FullYear":break;default:return}a=r,o=e.month(),l=e.date(),l=l===29&&o===1&&!ih(a)?28:l,s?n.setUTCFullYear(a,o,l):n.setFullYear(a,o,l)}}function FG(e){return e=nn(e),Zn(this[e])?this[e]():this}function WG(e,t){if(typeof e=="object"){e=cv(e);var r=TG(e),n,s=r.length;for(n=0;n<s;n++)this[r[n].unit](e[r[n].unit])}else if(e=nn(e),Zn(this[e]))return this[e](t);return this}function UG(e,t){return(e%t+t)%t}var Ct;Array.prototype.indexOf?Ct=Array.prototype.indexOf:Ct=function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};function hv(e,t){if(isNaN(e)||isNaN(t))return NaN;var r=UG(t,12);return e+=(t-r)/12,r===1?ih(e)?29:28:31-r%7%2}Ae("M",["MM",2],"Mo",function(){return this.month()+1});Ae("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)});Ae("MMMM",0,0,function(e){return this.localeData().months(this,e)});ke("M",pt,Oo);ke("MM",pt,Fr);ke("MMM",function(e,t){return t.monthsShortRegex(e)});ke("MMMM",function(e,t){return t.monthsRegex(e)});rt(["M","MM"],function(e,t){t[hs]=We(e)-1});rt(["MMM","MMMM"],function(e,t,r,n){var s=r._locale.monthsParse(e,n,r._strict);s!=null?t[hs]=s:Ie(r).invalidMonth=e});var BG="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),OD="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),MD=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,HG=Bc,zG=Bc;function VG(e,t){return e?jn(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||MD).test(t)?"format":"standalone"][e.month()]:jn(this._months)?this._months:this._months.standalone}function YG(e,t){return e?jn(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[MD.test(t)?"format":"standalone"][e.month()]:jn(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function qG(e,t,r){var n,s,a,o=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)a=Jn([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(a,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(a,"").toLocaleLowerCase();return r?t==="MMM"?(s=Ct.call(this._shortMonthsParse,o),s!==-1?s:null):(s=Ct.call(this._longMonthsParse,o),s!==-1?s:null):t==="MMM"?(s=Ct.call(this._shortMonthsParse,o),s!==-1?s:(s=Ct.call(this._longMonthsParse,o),s!==-1?s:null)):(s=Ct.call(this._longMonthsParse,o),s!==-1?s:(s=Ct.call(this._shortMonthsParse,o),s!==-1?s:null))}function KG(e,t,r){var n,s,a;if(this._monthsParseExact)return qG.call(this,e,t,r);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(s=Jn([2e3,n]),r&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(s,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(s,"").replace(".","")+"$","i")),!r&&!this._monthsParse[n]&&(a="^"+this.months(s,"")+"|^"+this.monthsShort(s,""),this._monthsParse[n]=new RegExp(a.replace(".",""),"i")),r&&t==="MMMM"&&this._longMonthsParse[n].test(e))return n;if(r&&t==="MMM"&&this._shortMonthsParse[n].test(e))return n;if(!r&&this._monthsParse[n].test(e))return n}}function RD(e,t){if(!e.isValid())return e;if(typeof t=="string"){if(/^\d+$/.test(t))t=We(t);else if(t=e.localeData().monthsParse(t),!Ds(t))return e}var r=t,n=e.date();return n=n<29?n:Math.min(n,hv(e.year(),r)),e._isUTC?e._d.setUTCMonth(r,n):e._d.setMonth(r,n),e}function $D(e){return e!=null?(RD(this,e),he.updateOffset(this,!0),this):ic(this,"Month")}function GG(){return hv(this.year(),this.month())}function QG(e){return this._monthsParseExact?(Ve(this,"_monthsRegex")||ID.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(Ve(this,"_monthsShortRegex")||(this._monthsShortRegex=HG),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function XG(e){return this._monthsParseExact?(Ve(this,"_monthsRegex")||ID.call(this),e?this._monthsStrictRegex:this._monthsRegex):(Ve(this,"_monthsRegex")||(this._monthsRegex=zG),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function ID(){function e(c,u){return u.length-c.length}var t=[],r=[],n=[],s,a,o,l;for(s=0;s<12;s++)a=Jn([2e3,s]),o=ys(this.monthsShort(a,"")),l=ys(this.months(a,"")),t.push(o),r.push(l),n.push(l),n.push(o);t.sort(e),r.sort(e),n.sort(e),this._monthsRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}function JG(e,t,r,n,s,a,o){var l;return e<100&&e>=0?(l=new Date(e+400,t,r,n,s,a,o),isFinite(l.getFullYear())&&l.setFullYear(e)):l=new Date(e,t,r,n,s,a,o),l}function oc(e){var t,r;return e<100&&e>=0?(r=Array.prototype.slice.call(arguments),r[0]=e+400,t=new Date(Date.UTC.apply(null,r)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function Kd(e,t,r){var n=7+t-r,s=(7+oc(e,0,n).getUTCDay()-t)%7;return-s+n-1}function LD(e,t,r,n,s){var a=(7+r-n)%7,o=Kd(e,n,s),l=1+7*(t-1)+a+o,c,u;return l<=0?(c=e-1,u=Nl(c)+l):l>Nl(e)?(c=e+1,u=l-Nl(e)):(c=e,u=l),{year:c,dayOfYear:u}}function lc(e,t,r){var n=Kd(e.year(),t,r),s=Math.floor((e.dayOfYear()-n-1)/7)+1,a,o;return s<1?(o=e.year()-1,a=s+vs(o,t,r)):s>vs(e.year(),t,r)?(a=s-vs(e.year(),t,r),o=e.year()+1):(o=e.year(),a=s),{week:a,year:o}}function vs(e,t,r){var n=Kd(e,t,r),s=Kd(e+1,t,r);return(Nl(e)-n+s)/7}Ae("w",["ww",2],"wo","week");Ae("W",["WW",2],"Wo","isoWeek");ke("w",pt,Oo);ke("ww",pt,Fr);ke("W",pt,Oo);ke("WW",pt,Fr);Hc(["w","ww","W","WW"],function(e,t,r,n){t[n.substr(0,1)]=We(e)});function ZG(e){return lc(e,this._week.dow,this._week.doy).week}var eQ={dow:0,doy:6};function tQ(){return this._week.dow}function rQ(){return this._week.doy}function nQ(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function sQ(e){var t=lc(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}Ae("d",0,"do","day");Ae("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)});Ae("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)});Ae("dddd",0,0,function(e){return this.localeData().weekdays(this,e)});Ae("e",0,0,"weekday");Ae("E",0,0,"isoWeekday");ke("d",pt);ke("e",pt);ke("E",pt);ke("dd",function(e,t){return t.weekdaysMinRegex(e)});ke("ddd",function(e,t){return t.weekdaysShortRegex(e)});ke("dddd",function(e,t){return t.weekdaysRegex(e)});Hc(["dd","ddd","dddd"],function(e,t,r,n){var s=r._locale.weekdaysParse(e,n,r._strict);s!=null?t.d=s:Ie(r).invalidWeekday=e});Hc(["d","e","E"],function(e,t,r,n){t[n]=We(e)});function aQ(e,t){return typeof e!="string"?e:isNaN(e)?(e=t.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function iQ(e,t){return typeof e=="string"?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function mv(e,t){return e.slice(t,7).concat(e.slice(0,t))}var oQ="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),FD="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),lQ="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),cQ=Bc,uQ=Bc,dQ=Bc;function fQ(e,t){var r=jn(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===!0?mv(r,this._week.dow):e?r[e.day()]:r}function hQ(e){return e===!0?mv(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function mQ(e){return e===!0?mv(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function pQ(e,t,r){var n,s,a,o=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)a=Jn([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(a,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(a,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(a,"").toLocaleLowerCase();return r?t==="dddd"?(s=Ct.call(this._weekdaysParse,o),s!==-1?s:null):t==="ddd"?(s=Ct.call(this._shortWeekdaysParse,o),s!==-1?s:null):(s=Ct.call(this._minWeekdaysParse,o),s!==-1?s:null):t==="dddd"?(s=Ct.call(this._weekdaysParse,o),s!==-1||(s=Ct.call(this._shortWeekdaysParse,o),s!==-1)?s:(s=Ct.call(this._minWeekdaysParse,o),s!==-1?s:null)):t==="ddd"?(s=Ct.call(this._shortWeekdaysParse,o),s!==-1||(s=Ct.call(this._weekdaysParse,o),s!==-1)?s:(s=Ct.call(this._minWeekdaysParse,o),s!==-1?s:null)):(s=Ct.call(this._minWeekdaysParse,o),s!==-1||(s=Ct.call(this._weekdaysParse,o),s!==-1)?s:(s=Ct.call(this._shortWeekdaysParse,o),s!==-1?s:null))}function gQ(e,t,r){var n,s,a;if(this._weekdaysParseExact)return pQ.call(this,e,t,r);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++){if(s=Jn([2e3,1]).day(n),r&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(s,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(s,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(s,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[n]||(a="^"+this.weekdays(s,"")+"|^"+this.weekdaysShort(s,"")+"|^"+this.weekdaysMin(s,""),this._weekdaysParse[n]=new RegExp(a.replace(".",""),"i")),r&&t==="dddd"&&this._fullWeekdaysParse[n].test(e))return n;if(r&&t==="ddd"&&this._shortWeekdaysParse[n].test(e))return n;if(r&&t==="dd"&&this._minWeekdaysParse[n].test(e))return n;if(!r&&this._weekdaysParse[n].test(e))return n}}function yQ(e){if(!this.isValid())return e!=null?this:NaN;var t=ic(this,"Day");return e!=null?(e=aQ(e,this.localeData()),this.add(e-t,"d")):t}function vQ(e){if(!this.isValid())return e!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function xQ(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var t=iQ(e,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function bQ(e){return this._weekdaysParseExact?(Ve(this,"_weekdaysRegex")||pv.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(Ve(this,"_weekdaysRegex")||(this._weekdaysRegex=cQ),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function wQ(e){return this._weekdaysParseExact?(Ve(this,"_weekdaysRegex")||pv.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(Ve(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=uQ),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function NQ(e){return this._weekdaysParseExact?(Ve(this,"_weekdaysRegex")||pv.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(Ve(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=dQ),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function pv(){function e(d,f){return f.length-d.length}var t=[],r=[],n=[],s=[],a,o,l,c,u;for(a=0;a<7;a++)o=Jn([2e3,1]).day(a),l=ys(this.weekdaysMin(o,"")),c=ys(this.weekdaysShort(o,"")),u=ys(this.weekdays(o,"")),t.push(l),r.push(c),n.push(u),s.push(l),s.push(c),s.push(u);t.sort(e),r.sort(e),n.sort(e),s.sort(e),this._weekdaysRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function gv(){return this.hours()%12||12}function jQ(){return this.hours()||24}Ae("H",["HH",2],0,"hour");Ae("h",["hh",2],0,gv);Ae("k",["kk",2],0,jQ);Ae("hmm",0,0,function(){return""+gv.apply(this)+Qn(this.minutes(),2)});Ae("hmmss",0,0,function(){return""+gv.apply(this)+Qn(this.minutes(),2)+Qn(this.seconds(),2)});Ae("Hmm",0,0,function(){return""+this.hours()+Qn(this.minutes(),2)});Ae("Hmmss",0,0,function(){return""+this.hours()+Qn(this.minutes(),2)+Qn(this.seconds(),2)});function WD(e,t){Ae(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}WD("a",!0);WD("A",!1);function UD(e,t){return t._meridiemParse}ke("a",UD);ke("A",UD);ke("H",pt,fv);ke("h",pt,Oo);ke("k",pt,Oo);ke("HH",pt,Fr);ke("hh",pt,Fr);ke("kk",pt,Fr);ke("hmm",ED);ke("hmmss",TD);ke("Hmm",ED);ke("Hmmss",TD);rt(["H","HH"],Ft);rt(["k","kk"],function(e,t,r){var n=We(e);t[Ft]=n===24?0:n});rt(["a","A"],function(e,t,r){r._isPm=r._locale.isPM(e),r._meridiem=e});rt(["h","hh"],function(e,t,r){t[Ft]=We(e),Ie(r).bigHour=!0});rt("hmm",function(e,t,r){var n=e.length-2;t[Ft]=We(e.substr(0,n)),t[gn]=We(e.substr(n)),Ie(r).bigHour=!0});rt("hmmss",function(e,t,r){var n=e.length-4,s=e.length-2;t[Ft]=We(e.substr(0,n)),t[gn]=We(e.substr(n,2)),t[ms]=We(e.substr(s)),Ie(r).bigHour=!0});rt("Hmm",function(e,t,r){var n=e.length-2;t[Ft]=We(e.substr(0,n)),t[gn]=We(e.substr(n))});rt("Hmmss",function(e,t,r){var n=e.length-4,s=e.length-2;t[Ft]=We(e.substr(0,n)),t[gn]=We(e.substr(n,2)),t[ms]=We(e.substr(s))});function SQ(e){return(e+"").toLowerCase().charAt(0)==="p"}var kQ=/[ap]\.?m?\.?/i,DQ=Mo("Hours",!0);function _Q(e,t,r){return e>11?r?"pm":"PM":r?"am":"AM"}var BD={calendar:pG,longDateFormat:xG,invalidDate:wG,ordinal:jG,dayOfMonthOrdinalParse:SG,relativeTime:DG,months:BG,monthsShort:OD,week:eQ,weekdays:oQ,weekdaysMin:lQ,weekdaysShort:FD,meridiemParse:kQ},vt={},Jo={},cc;function CQ(e,t){var r,n=Math.min(e.length,t.length);for(r=0;r<n;r+=1)if(e[r]!==t[r])return r;return n}function ww(e){return e&&e.toLowerCase().replace("_","-")}function EQ(e){for(var t=0,r,n,s,a;t<e.length;){for(a=ww(e[t]).split("-"),r=a.length,n=ww(e[t+1]),n=n?n.split("-"):null;r>0;){if(s=oh(a.slice(0,r).join("-")),s)return s;if(n&&n.length>=r&&CQ(a,n)>=r-1)break;r--}t++}return cc}function TQ(e){return!!(e&&e.match("^[^/\\\\]*$"))}function oh(e){var t=null,r;if(vt[e]===void 0&&typeof rd<"u"&&rd&&rd.exports&&TQ(e))try{t=cc._abbr,r=require,r("./locale/"+e),ua(t)}catch{vt[e]=null}return vt[e]}function ua(e,t){var r;return e&&(xr(t)?r=Ts(e):r=yv(e,t),r?cc=r:typeof console<"u"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),cc._abbr}function yv(e,t){if(t!==null){var r,n=BD;if(t.abbr=e,vt[e]!=null)kD("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=vt[e]._config;else if(t.parentLocale!=null)if(vt[t.parentLocale]!=null)n=vt[t.parentLocale]._config;else if(r=oh(t.parentLocale),r!=null)n=r._config;else return Jo[t.parentLocale]||(Jo[t.parentLocale]=[]),Jo[t.parentLocale].push({name:e,config:t}),null;return vt[e]=new ov(Kp(n,t)),Jo[e]&&Jo[e].forEach(function(s){yv(s.name,s.config)}),ua(e),vt[e]}else return delete vt[e],null}function PQ(e,t){if(t!=null){var r,n,s=BD;vt[e]!=null&&vt[e].parentLocale!=null?vt[e].set(Kp(vt[e]._config,t)):(n=oh(e),n!=null&&(s=n._config),t=Kp(s,t),n==null&&(t.abbr=e),r=new ov(t),r.parentLocale=vt[e],vt[e]=r),ua(e)}else vt[e]!=null&&(vt[e].parentLocale!=null?(vt[e]=vt[e].parentLocale,e===ua()&&ua(e)):vt[e]!=null&&delete vt[e]);return vt[e]}function Ts(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return cc;if(!jn(e)){if(t=oh(e),t)return t;e=[e]}return EQ(e)}function AQ(){return Gp(vt)}function vv(e){var t,r=e._a;return r&&Ie(e).overflow===-2&&(t=r[hs]<0||r[hs]>11?hs:r[Un]<1||r[Un]>hv(r[sr],r[hs])?Un:r[Ft]<0||r[Ft]>24||r[Ft]===24&&(r[gn]!==0||r[ms]!==0||r[Ra]!==0)?Ft:r[gn]<0||r[gn]>59?gn:r[ms]<0||r[ms]>59?ms:r[Ra]<0||r[Ra]>999?Ra:-1,Ie(e)._overflowDayOfYear&&(t<sr||t>Un)&&(t=Un),Ie(e)._overflowWeeks&&t===-1&&(t=$G),Ie(e)._overflowWeekday&&t===-1&&(t=IG),Ie(e).overflow=t),e}var OQ=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,MQ=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,RQ=/Z|[+-]\d\d(?::?\d\d)?/,ju=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],dm=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],$Q=/^\/?Date\((-?\d+)/i,IQ=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,LQ={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function HD(e){var t,r,n=e._i,s=OQ.exec(n)||MQ.exec(n),a,o,l,c,u=ju.length,d=dm.length;if(s){for(Ie(e).iso=!0,t=0,r=u;t<r;t++)if(ju[t][1].exec(s[1])){o=ju[t][0],a=ju[t][2]!==!1;break}if(o==null){e._isValid=!1;return}if(s[3]){for(t=0,r=d;t<r;t++)if(dm[t][1].exec(s[3])){l=(s[2]||" ")+dm[t][0];break}if(l==null){e._isValid=!1;return}}if(!a&&l!=null){e._isValid=!1;return}if(s[4])if(RQ.exec(s[4]))c="Z";else{e._isValid=!1;return}e._f=o+(l||"")+(c||""),bv(e)}else e._isValid=!1}function FQ(e,t,r,n,s,a){var o=[WQ(e),OD.indexOf(t),parseInt(r,10),parseInt(n,10),parseInt(s,10)];return a&&o.push(parseInt(a,10)),o}function WQ(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function UQ(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function BQ(e,t,r){if(e){var n=FD.indexOf(e),s=new Date(t[0],t[1],t[2]).getDay();if(n!==s)return Ie(r).weekdayMismatch=!0,r._isValid=!1,!1}return!0}function HQ(e,t,r){if(e)return LQ[e];if(t)return 0;var n=parseInt(r,10),s=n%100,a=(n-s)/100;return a*60+s}function zD(e){var t=IQ.exec(UQ(e._i)),r;if(t){if(r=FQ(t[4],t[3],t[2],t[5],t[6],t[7]),!BQ(t[1],r,e))return;e._a=r,e._tzm=HQ(t[8],t[9],t[10]),e._d=oc.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),Ie(e).rfc2822=!0}else e._isValid=!1}function zQ(e){var t=$Q.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}if(HD(e),e._isValid===!1)delete e._isValid;else return;if(zD(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:he.createFromInputFallback(e)}he.createFromInputFallback=rn("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function yi(e,t,r){return e??t??r}function VQ(e){var t=new Date(he.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function xv(e){var t,r,n=[],s,a,o;if(!e._d){for(s=VQ(e),e._w&&e._a[Un]==null&&e._a[hs]==null&&YQ(e),e._dayOfYear!=null&&(o=yi(e._a[sr],s[sr]),(e._dayOfYear>Nl(o)||e._dayOfYear===0)&&(Ie(e)._overflowDayOfYear=!0),r=oc(o,0,e._dayOfYear),e._a[hs]=r.getUTCMonth(),e._a[Un]=r.getUTCDate()),t=0;t<3&&e._a[t]==null;++t)e._a[t]=n[t]=s[t];for(;t<7;t++)e._a[t]=n[t]=e._a[t]==null?t===2?1:0:e._a[t];e._a[Ft]===24&&e._a[gn]===0&&e._a[ms]===0&&e._a[Ra]===0&&(e._nextDay=!0,e._a[Ft]=0),e._d=(e._useUTC?oc:JG).apply(null,n),a=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Ft]=24),e._w&&typeof e._w.d<"u"&&e._w.d!==a&&(Ie(e).weekdayMismatch=!0)}}function YQ(e){var t,r,n,s,a,o,l,c,u;t=e._w,t.GG!=null||t.W!=null||t.E!=null?(a=1,o=4,r=yi(t.GG,e._a[sr],lc(mt(),1,4).year),n=yi(t.W,1),s=yi(t.E,1),(s<1||s>7)&&(c=!0)):(a=e._locale._week.dow,o=e._locale._week.doy,u=lc(mt(),a,o),r=yi(t.gg,e._a[sr],u.year),n=yi(t.w,u.week),t.d!=null?(s=t.d,(s<0||s>6)&&(c=!0)):t.e!=null?(s=t.e+a,(t.e<0||t.e>6)&&(c=!0)):s=a),n<1||n>vs(r,a,o)?Ie(e)._overflowWeeks=!0:c!=null?Ie(e)._overflowWeekday=!0:(l=LD(r,n,s,a,o),e._a[sr]=l.year,e._dayOfYear=l.dayOfYear)}he.ISO_8601=function(){};he.RFC_2822=function(){};function bv(e){if(e._f===he.ISO_8601){HD(e);return}if(e._f===he.RFC_2822){zD(e);return}e._a=[],Ie(e).empty=!0;var t=""+e._i,r,n,s,a,o,l=t.length,c=0,u,d;for(s=DD(e._f,e._locale).match(lv)||[],d=s.length,r=0;r<d;r++)a=s[r],n=(t.match(OG(a,e))||[])[0],n&&(o=t.substr(0,t.indexOf(n)),o.length>0&&Ie(e).unusedInput.push(o),t=t.slice(t.indexOf(n)+n.length),c+=n.length),Fi[a]?(n?Ie(e).empty=!1:Ie(e).unusedTokens.push(a),RG(a,n,e)):e._strict&&!n&&Ie(e).unusedTokens.push(a);Ie(e).charsLeftOver=l-c,t.length>0&&Ie(e).unusedInput.push(t),e._a[Ft]<=12&&Ie(e).bigHour===!0&&e._a[Ft]>0&&(Ie(e).bigHour=void 0),Ie(e).parsedDateParts=e._a.slice(0),Ie(e).meridiem=e._meridiem,e._a[Ft]=qQ(e._locale,e._a[Ft],e._meridiem),u=Ie(e).era,u!==null&&(e._a[sr]=e._locale.erasConvertYear(u,e._a[sr])),xv(e),vv(e)}function qQ(e,t,r){var n;return r==null?t:e.meridiemHour!=null?e.meridiemHour(t,r):(e.isPM!=null&&(n=e.isPM(r),n&&t<12&&(t+=12),!n&&t===12&&(t=0)),t)}function KQ(e){var t,r,n,s,a,o,l=!1,c=e._f.length;if(c===0){Ie(e).invalidFormat=!0,e._d=new Date(NaN);return}for(s=0;s<c;s++)a=0,o=!1,t=iv({},e),e._useUTC!=null&&(t._useUTC=e._useUTC),t._f=e._f[s],bv(t),av(t)&&(o=!0),a+=Ie(t).charsLeftOver,a+=Ie(t).unusedTokens.length*10,Ie(t).score=a,l?a<n&&(n=a,r=t):(n==null||a<n||o)&&(n=a,r=t,o&&(l=!0));Zs(e,r||t)}function GQ(e){if(!e._d){var t=cv(e._i),r=t.day===void 0?t.date:t.day;e._a=jD([t.year,t.month,r,t.hour,t.minute,t.second,t.millisecond],function(n){return n&&parseInt(n,10)}),xv(e)}}function QQ(e){var t=new Uc(vv(VD(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function VD(e){var t=e._i,r=e._f;return e._locale=e._locale||Ts(e._l),t===null||r===void 0&&t===""?eh({nullInput:!0}):(typeof t=="string"&&(e._i=t=e._locale.preparse(t)),Sn(t)?new Uc(vv(t)):(Wc(t)?e._d=t:jn(r)?KQ(e):r?bv(e):XQ(e),av(e)||(e._d=null),e))}function XQ(e){var t=e._i;xr(t)?e._d=new Date(he.now()):Wc(t)?e._d=new Date(t.valueOf()):typeof t=="string"?zQ(e):jn(t)?(e._a=jD(t.slice(0),function(r){return parseInt(r,10)}),xv(e)):qa(t)?GQ(e):Ds(t)?e._d=new Date(t):he.createFromInputFallback(e)}function YD(e,t,r,n,s){var a={};return(t===!0||t===!1)&&(n=t,t=void 0),(r===!0||r===!1)&&(n=r,r=void 0),(qa(e)&&sv(e)||jn(e)&&e.length===0)&&(e=void 0),a._isAMomentObject=!0,a._useUTC=a._isUTC=s,a._l=r,a._i=e,a._f=t,a._strict=n,QQ(a)}function mt(e,t,r,n){return YD(e,t,r,n,!1)}var JQ=rn("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=mt.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:eh()}),ZQ=rn("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=mt.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:eh()});function qD(e,t){var r,n;if(t.length===1&&jn(t[0])&&(t=t[0]),!t.length)return mt();for(r=t[0],n=1;n<t.length;++n)(!t[n].isValid()||t[n][e](r))&&(r=t[n]);return r}function eX(){var e=[].slice.call(arguments,0);return qD("isBefore",e)}function tX(){var e=[].slice.call(arguments,0);return qD("isAfter",e)}var rX=function(){return Date.now?Date.now():+new Date},Zo=["year","quarter","month","week","day","hour","minute","second","millisecond"];function nX(e){var t,r=!1,n,s=Zo.length;for(t in e)if(Ve(e,t)&&!(Ct.call(Zo,t)!==-1&&(e[t]==null||!isNaN(e[t]))))return!1;for(n=0;n<s;++n)if(e[Zo[n]]){if(r)return!1;parseFloat(e[Zo[n]])!==We(e[Zo[n]])&&(r=!0)}return!0}function sX(){return this._isValid}function aX(){return Cn(NaN)}function lh(e){var t=cv(e),r=t.year||0,n=t.quarter||0,s=t.month||0,a=t.week||t.isoWeek||0,o=t.day||0,l=t.hour||0,c=t.minute||0,u=t.second||0,d=t.millisecond||0;this._isValid=nX(t),this._milliseconds=+d+u*1e3+c*6e4+l*1e3*60*60,this._days=+o+a*7,this._months=+s+n*3+r*12,this._data={},this._locale=Ts(),this._bubble()}function ed(e){return e instanceof lh}function Xp(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function iX(e,t,r){var n=Math.min(e.length,t.length),s=Math.abs(e.length-t.length),a=0,o;for(o=0;o<n;o++)We(e[o])!==We(t[o])&&a++;return a+s}function KD(e,t){Ae(e,0,0,function(){var r=this.utcOffset(),n="+";return r<0&&(r=-r,n="-"),n+Qn(~~(r/60),2)+t+Qn(~~r%60,2)})}KD("Z",":");KD("ZZ","");ke("Z",ah);ke("ZZ",ah);rt(["Z","ZZ"],function(e,t,r){r._useUTC=!0,r._tzm=wv(ah,e)});var oX=/([\+\-]|\d\d)/gi;function wv(e,t){var r=(t||"").match(e),n,s,a;return r===null?null:(n=r[r.length-1]||[],s=(n+"").match(oX)||["-",0,0],a=+(s[1]*60)+We(s[2]),a===0?0:s[0]==="+"?a:-a)}function Nv(e,t){var r,n;return t._isUTC?(r=t.clone(),n=(Sn(e)||Wc(e)?e.valueOf():mt(e).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+n),he.updateOffset(r,!1),r):mt(e).local()}function Jp(e){return-Math.round(e._d.getTimezoneOffset())}he.updateOffset=function(){};function lX(e,t,r){var n=this._offset||0,s;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=wv(ah,e),e===null)return this}else Math.abs(e)<16&&!r&&(e=e*60);return!this._isUTC&&t&&(s=Jp(this)),this._offset=e,this._isUTC=!0,s!=null&&this.add(s,"m"),n!==e&&(!t||this._changeInProgress?XD(this,Cn(e-n,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,he.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?n:Jp(this)}function cX(e,t){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function uX(e){return this.utcOffset(0,e)}function dX(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Jp(this),"m")),this}function fX(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=wv(PG,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function hX(e){return this.isValid()?(e=e?mt(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function mX(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function pX(){if(!xr(this._isDSTShifted))return this._isDSTShifted;var e={},t;return iv(e,this),e=VD(e),e._a?(t=e._isUTC?Jn(e._a):mt(e._a),this._isDSTShifted=this.isValid()&&iX(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function gX(){return this.isValid()?!this._isUTC:!1}function yX(){return this.isValid()?this._isUTC:!1}function GD(){return this.isValid()?this._isUTC&&this._offset===0:!1}var vX=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,xX=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Cn(e,t){var r=e,n=null,s,a,o;return ed(e)?r={ms:e._milliseconds,d:e._days,M:e._months}:Ds(e)||!isNaN(+e)?(r={},t?r[t]=+e:r.milliseconds=+e):(n=vX.exec(e))?(s=n[1]==="-"?-1:1,r={y:0,d:We(n[Un])*s,h:We(n[Ft])*s,m:We(n[gn])*s,s:We(n[ms])*s,ms:We(Xp(n[Ra]*1e3))*s}):(n=xX.exec(e))?(s=n[1]==="-"?-1:1,r={y:Sa(n[2],s),M:Sa(n[3],s),w:Sa(n[4],s),d:Sa(n[5],s),h:Sa(n[6],s),m:Sa(n[7],s),s:Sa(n[8],s)}):r==null?r={}:typeof r=="object"&&("from"in r||"to"in r)&&(o=bX(mt(r.from),mt(r.to)),r={},r.ms=o.milliseconds,r.M=o.months),a=new lh(r),ed(e)&&Ve(e,"_locale")&&(a._locale=e._locale),ed(e)&&Ve(e,"_isValid")&&(a._isValid=e._isValid),a}Cn.fn=lh.prototype;Cn.invalid=aX;function Sa(e,t){var r=e&&parseFloat(e.replace(",","."));return(isNaN(r)?0:r)*t}function Nw(e,t){var r={};return r.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(r.months,"M").isAfter(t)&&--r.months,r.milliseconds=+t-+e.clone().add(r.months,"M"),r}function bX(e,t){var r;return e.isValid()&&t.isValid()?(t=Nv(t,e),e.isBefore(t)?r=Nw(e,t):(r=Nw(t,e),r.milliseconds=-r.milliseconds,r.months=-r.months),r):{milliseconds:0,months:0}}function QD(e,t){return function(r,n){var s,a;return n!==null&&!isNaN(+n)&&(kD(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),a=r,r=n,n=a),s=Cn(r,n),XD(this,s,e),this}}function XD(e,t,r,n){var s=t._milliseconds,a=Xp(t._days),o=Xp(t._months);e.isValid()&&(n=n??!0,o&&RD(e,ic(e,"Month")+o*r),a&&AD(e,"Date",ic(e,"Date")+a*r),s&&e._d.setTime(e._d.valueOf()+s*r),n&&he.updateOffset(e,a||o))}var wX=QD(1,"add"),NX=QD(-1,"subtract");function JD(e){return typeof e=="string"||e instanceof String}function jX(e){return Sn(e)||Wc(e)||JD(e)||Ds(e)||kX(e)||SX(e)||e===null||e===void 0}function SX(e){var t=qa(e)&&!sv(e),r=!1,n=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],s,a,o=n.length;for(s=0;s<o;s+=1)a=n[s],r=r||Ve(e,a);return t&&r}function kX(e){var t=jn(e),r=!1;return t&&(r=e.filter(function(n){return!Ds(n)&&JD(e)}).length===0),t&&r}function DX(e){var t=qa(e)&&!sv(e),r=!1,n=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],s,a;for(s=0;s<n.length;s+=1)a=n[s],r=r||Ve(e,a);return t&&r}function _X(e,t){var r=e.diff(t,"days",!0);return r<-6?"sameElse":r<-1?"lastWeek":r<0?"lastDay":r<1?"sameDay":r<2?"nextDay":r<7?"nextWeek":"sameElse"}function CX(e,t){arguments.length===1&&(arguments[0]?jX(arguments[0])?(e=arguments[0],t=void 0):DX(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var r=e||mt(),n=Nv(r,this).startOf("day"),s=he.calendarFormat(this,n)||"sameElse",a=t&&(Zn(t[s])?t[s].call(this,r):t[s]);return this.format(a||this.localeData().calendar(s,this,mt(r)))}function EX(){return new Uc(this)}function TX(e,t){var r=Sn(e)?e:mt(e);return this.isValid()&&r.isValid()?(t=nn(t)||"millisecond",t==="millisecond"?this.valueOf()>r.valueOf():r.valueOf()<this.clone().startOf(t).valueOf()):!1}function PX(e,t){var r=Sn(e)?e:mt(e);return this.isValid()&&r.isValid()?(t=nn(t)||"millisecond",t==="millisecond"?this.valueOf()<r.valueOf():this.clone().endOf(t).valueOf()<r.valueOf()):!1}function AX(e,t,r,n){var s=Sn(e)?e:mt(e),a=Sn(t)?t:mt(t);return this.isValid()&&s.isValid()&&a.isValid()?(n=n||"()",(n[0]==="("?this.isAfter(s,r):!this.isBefore(s,r))&&(n[1]===")"?this.isBefore(a,r):!this.isAfter(a,r))):!1}function OX(e,t){var r=Sn(e)?e:mt(e),n;return this.isValid()&&r.isValid()?(t=nn(t)||"millisecond",t==="millisecond"?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf())):!1}function MX(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function RX(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function $X(e,t,r){var n,s,a;if(!this.isValid())return NaN;if(n=Nv(e,this),!n.isValid())return NaN;switch(s=(n.utcOffset()-this.utcOffset())*6e4,t=nn(t),t){case"year":a=td(this,n)/12;break;case"month":a=td(this,n);break;case"quarter":a=td(this,n)/3;break;case"second":a=(this-n)/1e3;break;case"minute":a=(this-n)/6e4;break;case"hour":a=(this-n)/36e5;break;case"day":a=(this-n-s)/864e5;break;case"week":a=(this-n-s)/6048e5;break;default:a=this-n}return r?a:Vr(a)}function td(e,t){if(e.date()<t.date())return-td(t,e);var r=(t.year()-e.year())*12+(t.month()-e.month()),n=e.clone().add(r,"months"),s,a;return t-n<0?(s=e.clone().add(r-1,"months"),a=(t-n)/(n-s)):(s=e.clone().add(r+1,"months"),a=(t-n)/(s-n)),-(r+a)||0}he.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";he.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function IX(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function LX(e){if(!this.isValid())return null;var t=e!==!0,r=t?this.clone().utc():this;return r.year()<0||r.year()>9999?Zu(r,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):Zn(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",Zu(r,"Z")):Zu(r,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function FX(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="",r,n,s,a;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),r="["+e+'("]',n=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",s="-MM-DD[T]HH:mm:ss.SSS",a=t+'[")]',this.format(r+n+s+a)}function WX(e){e||(e=this.isUtc()?he.defaultFormatUtc:he.defaultFormat);var t=Zu(this,e);return this.localeData().postformat(t)}function UX(e,t){return this.isValid()&&(Sn(e)&&e.isValid()||mt(e).isValid())?Cn({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function BX(e){return this.from(mt(),e)}function HX(e,t){return this.isValid()&&(Sn(e)&&e.isValid()||mt(e).isValid())?Cn({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function zX(e){return this.to(mt(),e)}function ZD(e){var t;return e===void 0?this._locale._abbr:(t=Ts(e),t!=null&&(this._locale=t),this)}var e2=rn("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function t2(){return this._locale}var Gd=1e3,Wi=60*Gd,Qd=60*Wi,r2=(365*400+97)*24*Qd;function Ui(e,t){return(e%t+t)%t}function n2(e,t,r){return e<100&&e>=0?new Date(e+400,t,r)-r2:new Date(e,t,r).valueOf()}function s2(e,t,r){return e<100&&e>=0?Date.UTC(e+400,t,r)-r2:Date.UTC(e,t,r)}function VX(e){var t,r;if(e=nn(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(r=this._isUTC?s2:n2,e){case"year":t=r(this.year(),0,1);break;case"quarter":t=r(this.year(),this.month()-this.month()%3,1);break;case"month":t=r(this.year(),this.month(),1);break;case"week":t=r(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=r(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=Ui(t+(this._isUTC?0:this.utcOffset()*Wi),Qd);break;case"minute":t=this._d.valueOf(),t-=Ui(t,Wi);break;case"second":t=this._d.valueOf(),t-=Ui(t,Gd);break}return this._d.setTime(t),he.updateOffset(this,!0),this}function YX(e){var t,r;if(e=nn(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(r=this._isUTC?s2:n2,e){case"year":t=r(this.year()+1,0,1)-1;break;case"quarter":t=r(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=r(this.year(),this.month()+1,1)-1;break;case"week":t=r(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=r(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=Qd-Ui(t+(this._isUTC?0:this.utcOffset()*Wi),Qd)-1;break;case"minute":t=this._d.valueOf(),t+=Wi-Ui(t,Wi)-1;break;case"second":t=this._d.valueOf(),t+=Gd-Ui(t,Gd)-1;break}return this._d.setTime(t),he.updateOffset(this,!0),this}function qX(){return this._d.valueOf()-(this._offset||0)*6e4}function KX(){return Math.floor(this.valueOf()/1e3)}function GX(){return new Date(this.valueOf())}function QX(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function XX(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function JX(){return this.isValid()?this.toISOString():null}function ZX(){return av(this)}function eJ(){return Zs({},Ie(this))}function tJ(){return Ie(this).overflow}function rJ(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}Ae("N",0,0,"eraAbbr");Ae("NN",0,0,"eraAbbr");Ae("NNN",0,0,"eraAbbr");Ae("NNNN",0,0,"eraName");Ae("NNNNN",0,0,"eraNarrow");Ae("y",["y",1],"yo","eraYear");Ae("y",["yy",2],0,"eraYear");Ae("y",["yyy",3],0,"eraYear");Ae("y",["yyyy",4],0,"eraYear");ke("N",jv);ke("NN",jv);ke("NNN",jv);ke("NNNN",hJ);ke("NNNNN",mJ);rt(["N","NN","NNN","NNNN","NNNNN"],function(e,t,r,n){var s=r._locale.erasParse(e,n,r._strict);s?Ie(r).era=s:Ie(r).invalidEra=e});ke("y",Ao);ke("yy",Ao);ke("yyy",Ao);ke("yyyy",Ao);ke("yo",pJ);rt(["y","yy","yyy","yyyy"],sr);rt(["yo"],function(e,t,r,n){var s;r._locale._eraYearOrdinalRegex&&(s=e.match(r._locale._eraYearOrdinalRegex)),r._locale.eraYearOrdinalParse?t[sr]=r._locale.eraYearOrdinalParse(e,s):t[sr]=parseInt(e,10)});function nJ(e,t){var r,n,s,a=this._eras||Ts("en")._eras;for(r=0,n=a.length;r<n;++r){switch(typeof a[r].since){case"string":s=he(a[r].since).startOf("day"),a[r].since=s.valueOf();break}switch(typeof a[r].until){case"undefined":a[r].until=1/0;break;case"string":s=he(a[r].until).startOf("day").valueOf(),a[r].until=s.valueOf();break}}return a}function sJ(e,t,r){var n,s,a=this.eras(),o,l,c;for(e=e.toUpperCase(),n=0,s=a.length;n<s;++n)if(o=a[n].name.toUpperCase(),l=a[n].abbr.toUpperCase(),c=a[n].narrow.toUpperCase(),r)switch(t){case"N":case"NN":case"NNN":if(l===e)return a[n];break;case"NNNN":if(o===e)return a[n];break;case"NNNNN":if(c===e)return a[n];break}else if([o,l,c].indexOf(e)>=0)return a[n]}function aJ(e,t){var r=e.since<=e.until?1:-1;return t===void 0?he(e.since).year():he(e.since).year()+(t-e.offset)*r}function iJ(){var e,t,r,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e)if(r=this.clone().startOf("day").valueOf(),n[e].since<=r&&r<=n[e].until||n[e].until<=r&&r<=n[e].since)return n[e].name;return""}function oJ(){var e,t,r,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e)if(r=this.clone().startOf("day").valueOf(),n[e].since<=r&&r<=n[e].until||n[e].until<=r&&r<=n[e].since)return n[e].narrow;return""}function lJ(){var e,t,r,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e)if(r=this.clone().startOf("day").valueOf(),n[e].since<=r&&r<=n[e].until||n[e].until<=r&&r<=n[e].since)return n[e].abbr;return""}function cJ(){var e,t,r,n,s=this.localeData().eras();for(e=0,t=s.length;e<t;++e)if(r=s[e].since<=s[e].until?1:-1,n=this.clone().startOf("day").valueOf(),s[e].since<=n&&n<=s[e].until||s[e].until<=n&&n<=s[e].since)return(this.year()-he(s[e].since).year())*r+s[e].offset;return this.year()}function uJ(e){return Ve(this,"_erasNameRegex")||Sv.call(this),e?this._erasNameRegex:this._erasRegex}function dJ(e){return Ve(this,"_erasAbbrRegex")||Sv.call(this),e?this._erasAbbrRegex:this._erasRegex}function fJ(e){return Ve(this,"_erasNarrowRegex")||Sv.call(this),e?this._erasNarrowRegex:this._erasRegex}function jv(e,t){return t.erasAbbrRegex(e)}function hJ(e,t){return t.erasNameRegex(e)}function mJ(e,t){return t.erasNarrowRegex(e)}function pJ(e,t){return t._eraYearOrdinalRegex||Ao}function Sv(){var e=[],t=[],r=[],n=[],s,a,o,l,c,u=this.eras();for(s=0,a=u.length;s<a;++s)o=ys(u[s].name),l=ys(u[s].abbr),c=ys(u[s].narrow),t.push(o),e.push(l),r.push(c),n.push(o),n.push(l),n.push(c);this._erasRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+r.join("|")+")","i")}Ae(0,["gg",2],0,function(){return this.weekYear()%100});Ae(0,["GG",2],0,function(){return this.isoWeekYear()%100});function ch(e,t){Ae(0,[e,e.length],0,t)}ch("gggg","weekYear");ch("ggggg","weekYear");ch("GGGG","isoWeekYear");ch("GGGGG","isoWeekYear");ke("G",sh);ke("g",sh);ke("GG",pt,Fr);ke("gg",pt,Fr);ke("GGGG",dv,uv);ke("gggg",dv,uv);ke("GGGGG",nh,th);ke("ggggg",nh,th);Hc(["gggg","ggggg","GGGG","GGGGG"],function(e,t,r,n){t[n.substr(0,2)]=We(e)});Hc(["gg","GG"],function(e,t,r,n){t[n]=he.parseTwoDigitYear(e)});function gJ(e){return a2.call(this,e,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function yJ(e){return a2.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function vJ(){return vs(this.year(),1,4)}function xJ(){return vs(this.isoWeekYear(),1,4)}function bJ(){var e=this.localeData()._week;return vs(this.year(),e.dow,e.doy)}function wJ(){var e=this.localeData()._week;return vs(this.weekYear(),e.dow,e.doy)}function a2(e,t,r,n,s){var a;return e==null?lc(this,n,s).year:(a=vs(e,n,s),t>a&&(t=a),NJ.call(this,e,t,r,n,s))}function NJ(e,t,r,n,s){var a=LD(e,t,r,n,s),o=oc(a.year,0,a.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}Ae("Q",0,"Qo","quarter");ke("Q",_D);rt("Q",function(e,t){t[hs]=(We(e)-1)*3});function jJ(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}Ae("D",["DD",2],"Do","date");ke("D",pt,Oo);ke("DD",pt,Fr);ke("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient});rt(["D","DD"],Un);rt("Do",function(e,t){t[Un]=We(e.match(pt)[0])});var i2=Mo("Date",!0);Ae("DDD",["DDDD",3],"DDDo","dayOfYear");ke("DDD",rh);ke("DDDD",CD);rt(["DDD","DDDD"],function(e,t,r){r._dayOfYear=We(e)});function SJ(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}Ae("m",["mm",2],0,"minute");ke("m",pt,fv);ke("mm",pt,Fr);rt(["m","mm"],gn);var kJ=Mo("Minutes",!1);Ae("s",["ss",2],0,"second");ke("s",pt,fv);ke("ss",pt,Fr);rt(["s","ss"],ms);var DJ=Mo("Seconds",!1);Ae("S",0,0,function(){return~~(this.millisecond()/100)});Ae(0,["SS",2],0,function(){return~~(this.millisecond()/10)});Ae(0,["SSS",3],0,"millisecond");Ae(0,["SSSS",4],0,function(){return this.millisecond()*10});Ae(0,["SSSSS",5],0,function(){return this.millisecond()*100});Ae(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});Ae(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});Ae(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});Ae(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});ke("S",rh,_D);ke("SS",rh,Fr);ke("SSS",rh,CD);var ea,o2;for(ea="SSSS";ea.length<=9;ea+="S")ke(ea,Ao);function _J(e,t){t[Ra]=We(("0."+e)*1e3)}for(ea="S";ea.length<=9;ea+="S")rt(ea,_J);o2=Mo("Milliseconds",!1);Ae("z",0,0,"zoneAbbr");Ae("zz",0,0,"zoneName");function CJ(){return this._isUTC?"UTC":""}function EJ(){return this._isUTC?"Coordinated Universal Time":""}var ye=Uc.prototype;ye.add=wX;ye.calendar=CX;ye.clone=EX;ye.diff=$X;ye.endOf=YX;ye.format=WX;ye.from=UX;ye.fromNow=BX;ye.to=HX;ye.toNow=zX;ye.get=FG;ye.invalidAt=tJ;ye.isAfter=TX;ye.isBefore=PX;ye.isBetween=AX;ye.isSame=OX;ye.isSameOrAfter=MX;ye.isSameOrBefore=RX;ye.isValid=ZX;ye.lang=e2;ye.locale=ZD;ye.localeData=t2;ye.max=ZQ;ye.min=JQ;ye.parsingFlags=eJ;ye.set=WG;ye.startOf=VX;ye.subtract=NX;ye.toArray=QX;ye.toObject=XX;ye.toDate=GX;ye.toISOString=LX;ye.inspect=FX;typeof Symbol<"u"&&Symbol.for!=null&&(ye[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});ye.toJSON=JX;ye.toString=IX;ye.unix=KX;ye.valueOf=qX;ye.creationData=rJ;ye.eraName=iJ;ye.eraNarrow=oJ;ye.eraAbbr=lJ;ye.eraYear=cJ;ye.year=PD;ye.isLeapYear=LG;ye.weekYear=gJ;ye.isoWeekYear=yJ;ye.quarter=ye.quarters=jJ;ye.month=$D;ye.daysInMonth=GG;ye.week=ye.weeks=nQ;ye.isoWeek=ye.isoWeeks=sQ;ye.weeksInYear=bJ;ye.weeksInWeekYear=wJ;ye.isoWeeksInYear=vJ;ye.isoWeeksInISOWeekYear=xJ;ye.date=i2;ye.day=ye.days=yQ;ye.weekday=vQ;ye.isoWeekday=xQ;ye.dayOfYear=SJ;ye.hour=ye.hours=DQ;ye.minute=ye.minutes=kJ;ye.second=ye.seconds=DJ;ye.millisecond=ye.milliseconds=o2;ye.utcOffset=lX;ye.utc=uX;ye.local=dX;ye.parseZone=fX;ye.hasAlignedHourOffset=hX;ye.isDST=mX;ye.isLocal=gX;ye.isUtcOffset=yX;ye.isUtc=GD;ye.isUTC=GD;ye.zoneAbbr=CJ;ye.zoneName=EJ;ye.dates=rn("dates accessor is deprecated. Use date instead.",i2);ye.months=rn("months accessor is deprecated. Use month instead",$D);ye.years=rn("years accessor is deprecated. Use year instead",PD);ye.zone=rn("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",cX);ye.isDSTShifted=rn("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",pX);function TJ(e){return mt(e*1e3)}function PJ(){return mt.apply(null,arguments).parseZone()}function l2(e){return e}var Ye=ov.prototype;Ye.calendar=gG;Ye.longDateFormat=bG;Ye.invalidDate=NG;Ye.ordinal=kG;Ye.preparse=l2;Ye.postformat=l2;Ye.relativeTime=_G;Ye.pastFuture=CG;Ye.set=mG;Ye.eras=nJ;Ye.erasParse=sJ;Ye.erasConvertYear=aJ;Ye.erasAbbrRegex=dJ;Ye.erasNameRegex=uJ;Ye.erasNarrowRegex=fJ;Ye.months=VG;Ye.monthsShort=YG;Ye.monthsParse=KG;Ye.monthsRegex=XG;Ye.monthsShortRegex=QG;Ye.week=ZG;Ye.firstDayOfYear=rQ;Ye.firstDayOfWeek=tQ;Ye.weekdays=fQ;Ye.weekdaysMin=mQ;Ye.weekdaysShort=hQ;Ye.weekdaysParse=gQ;Ye.weekdaysRegex=bQ;Ye.weekdaysShortRegex=wQ;Ye.weekdaysMinRegex=NQ;Ye.isPM=SQ;Ye.meridiem=_Q;function Xd(e,t,r,n){var s=Ts(),a=Jn().set(n,t);return s[r](a,e)}function c2(e,t,r){if(Ds(e)&&(t=e,e=void 0),e=e||"",t!=null)return Xd(e,t,r,"month");var n,s=[];for(n=0;n<12;n++)s[n]=Xd(e,n,r,"month");return s}function kv(e,t,r,n){typeof e=="boolean"?(Ds(t)&&(r=t,t=void 0),t=t||""):(t=e,r=t,e=!1,Ds(t)&&(r=t,t=void 0),t=t||"");var s=Ts(),a=e?s._week.dow:0,o,l=[];if(r!=null)return Xd(t,(r+a)%7,n,"day");for(o=0;o<7;o++)l[o]=Xd(t,(o+a)%7,n,"day");return l}function AJ(e,t){return c2(e,t,"months")}function OJ(e,t){return c2(e,t,"monthsShort")}function MJ(e,t,r){return kv(e,t,r,"weekdays")}function RJ(e,t,r){return kv(e,t,r,"weekdaysShort")}function $J(e,t,r){return kv(e,t,r,"weekdaysMin")}ua("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,r=We(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+r}});he.lang=rn("moment.lang is deprecated. Use moment.locale instead.",ua);he.langData=rn("moment.langData is deprecated. Use moment.localeData instead.",Ts);var ss=Math.abs;function IJ(){var e=this._data;return this._milliseconds=ss(this._milliseconds),this._days=ss(this._days),this._months=ss(this._months),e.milliseconds=ss(e.milliseconds),e.seconds=ss(e.seconds),e.minutes=ss(e.minutes),e.hours=ss(e.hours),e.months=ss(e.months),e.years=ss(e.years),this}function u2(e,t,r,n){var s=Cn(t,r);return e._milliseconds+=n*s._milliseconds,e._days+=n*s._days,e._months+=n*s._months,e._bubble()}function LJ(e,t){return u2(this,e,t,1)}function FJ(e,t){return u2(this,e,t,-1)}function jw(e){return e<0?Math.floor(e):Math.ceil(e)}function WJ(){var e=this._milliseconds,t=this._days,r=this._months,n=this._data,s,a,o,l,c;return e>=0&&t>=0&&r>=0||e<=0&&t<=0&&r<=0||(e+=jw(Zp(r)+t)*864e5,t=0,r=0),n.milliseconds=e%1e3,s=Vr(e/1e3),n.seconds=s%60,a=Vr(s/60),n.minutes=a%60,o=Vr(a/60),n.hours=o%24,t+=Vr(o/24),c=Vr(d2(t)),r+=c,t-=jw(Zp(c)),l=Vr(r/12),r%=12,n.days=t,n.months=r,n.years=l,this}function d2(e){return e*4800/146097}function Zp(e){return e*146097/4800}function UJ(e){if(!this.isValid())return NaN;var t,r,n=this._milliseconds;if(e=nn(e),e==="month"||e==="quarter"||e==="year")switch(t=this._days+n/864e5,r=this._months+d2(t),e){case"month":return r;case"quarter":return r/3;case"year":return r/12}else switch(t=this._days+Math.round(Zp(this._months)),e){case"week":return t/7+n/6048e5;case"day":return t+n/864e5;case"hour":return t*24+n/36e5;case"minute":return t*1440+n/6e4;case"second":return t*86400+n/1e3;case"millisecond":return Math.floor(t*864e5)+n;default:throw new Error("Unknown unit "+e)}}function Ps(e){return function(){return this.as(e)}}var f2=Ps("ms"),BJ=Ps("s"),HJ=Ps("m"),zJ=Ps("h"),VJ=Ps("d"),YJ=Ps("w"),qJ=Ps("M"),KJ=Ps("Q"),GJ=Ps("y"),QJ=f2;function XJ(){return Cn(this)}function JJ(e){return e=nn(e),this.isValid()?this[e+"s"]():NaN}function ui(e){return function(){return this.isValid()?this._data[e]:NaN}}var ZJ=ui("milliseconds"),eZ=ui("seconds"),tZ=ui("minutes"),rZ=ui("hours"),nZ=ui("days"),sZ=ui("months"),aZ=ui("years");function iZ(){return Vr(this.days()/7)}var os=Math.round,Ti={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function oZ(e,t,r,n,s){return s.relativeTime(t||1,!!r,e,n)}function lZ(e,t,r,n){var s=Cn(e).abs(),a=os(s.as("s")),o=os(s.as("m")),l=os(s.as("h")),c=os(s.as("d")),u=os(s.as("M")),d=os(s.as("w")),f=os(s.as("y")),h=a<=r.ss&&["s",a]||a<r.s&&["ss",a]||o<=1&&["m"]||o<r.m&&["mm",o]||l<=1&&["h"]||l<r.h&&["hh",l]||c<=1&&["d"]||c<r.d&&["dd",c];return r.w!=null&&(h=h||d<=1&&["w"]||d<r.w&&["ww",d]),h=h||u<=1&&["M"]||u<r.M&&["MM",u]||f<=1&&["y"]||["yy",f],h[2]=t,h[3]=+e>0,h[4]=n,oZ.apply(null,h)}function cZ(e){return e===void 0?os:typeof e=="function"?(os=e,!0):!1}function uZ(e,t){return Ti[e]===void 0?!1:t===void 0?Ti[e]:(Ti[e]=t,e==="s"&&(Ti.ss=t-1),!0)}function dZ(e,t){if(!this.isValid())return this.localeData().invalidDate();var r=!1,n=Ti,s,a;return typeof e=="object"&&(t=e,e=!1),typeof e=="boolean"&&(r=e),typeof t=="object"&&(n=Object.assign({},Ti,t),t.s!=null&&t.ss==null&&(n.ss=t.s-1)),s=this.localeData(),a=lZ(this,!r,n,s),r&&(a=s.pastFuture(+this,a)),s.postformat(a)}var fm=Math.abs;function mi(e){return(e>0)-(e<0)||+e}function uh(){if(!this.isValid())return this.localeData().invalidDate();var e=fm(this._milliseconds)/1e3,t=fm(this._days),r=fm(this._months),n,s,a,o,l=this.asSeconds(),c,u,d,f;return l?(n=Vr(e/60),s=Vr(n/60),e%=60,n%=60,a=Vr(r/12),r%=12,o=e?e.toFixed(3).replace(/\.?0+$/,""):"",c=l<0?"-":"",u=mi(this._months)!==mi(l)?"-":"",d=mi(this._days)!==mi(l)?"-":"",f=mi(this._milliseconds)!==mi(l)?"-":"",c+"P"+(a?u+a+"Y":"")+(r?u+r+"M":"")+(t?d+t+"D":"")+(s||n||e?"T":"")+(s?f+s+"H":"")+(n?f+n+"M":"")+(e?f+o+"S":"")):"P0D"}var He=lh.prototype;He.isValid=sX;He.abs=IJ;He.add=LJ;He.subtract=FJ;He.as=UJ;He.asMilliseconds=f2;He.asSeconds=BJ;He.asMinutes=HJ;He.asHours=zJ;He.asDays=VJ;He.asWeeks=YJ;He.asMonths=qJ;He.asQuarters=KJ;He.asYears=GJ;He.valueOf=QJ;He._bubble=WJ;He.clone=XJ;He.get=JJ;He.milliseconds=ZJ;He.seconds=eZ;He.minutes=tZ;He.hours=rZ;He.days=nZ;He.weeks=iZ;He.months=sZ;He.years=aZ;He.humanize=dZ;He.toISOString=uh;He.toString=uh;He.toJSON=uh;He.locale=ZD;He.localeData=t2;He.toIsoString=rn("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",uh);He.lang=e2;Ae("X",0,0,"unix");Ae("x",0,0,"valueOf");ke("x",sh);ke("X",AG);rt("X",function(e,t,r){r._d=new Date(parseFloat(e)*1e3)});rt("x",function(e,t,r){r._d=new Date(We(e))});//! moment.js
he.version="2.30.1";fG(mt);he.fn=ye;he.min=eX;he.max=tX;he.now=rX;he.utc=Jn;he.unix=TJ;he.months=AJ;he.isDate=Wc;he.locale=ua;he.invalid=eh;he.duration=Cn;he.isMoment=Sn;he.weekdays=MJ;he.parseZone=PJ;he.localeData=Ts;he.isDuration=ed;he.monthsShort=OJ;he.weekdaysMin=$J;he.defineLocale=yv;he.updateLocale=PQ;he.locales=AQ;he.weekdaysShort=RJ;he.normalizeUnits=nn;he.relativeTimeRounding=cZ;he.relativeTimeThreshold=uZ;he.calendarFormat=_X;he.prototype=ye;he.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};he.updateLocale("ko",{months:["1","2","3","4","5","6","7","8","9","10","11","12"],monthsShort:["1","2","3","4","5","6","7","8","9","10","11","12"],weekdays:["","","","","","",""],weekdaysShort:["","","","","","",""],weekdaysMin:["","","","","","",""],longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY MMMM D",LLL:"YYYY MMMM D A h:mm",LLLL:"YYYY MMMM D dddd A h:mm"},meridiem:e=>e<12?"":"",week:{dow:0,doy:1}});he.locale("ko");const fZ=dG(he),Sw=["#F3F4F6","#F3F4F6","#F3F4F6","#F3F4F6","#F3F4F6","#F3F4F6","#F3F4F6","#F3F4F6","#F3F4F6","#F3F4F6","#F3F4F6","#F3F4F6","#F3F4F6","#F3F4F6","#F3F4F6","#F3F4F6"],kw=e=>{if(!e)return e;const t=e.split("_");return t.length>1&&t[0].length>2?t[0].substring(0,2)+"_"+t.slice(1).join("_"):e},jl={"2025-01-01":"","2025-01-28":" ","2025-01-29":"","2025-01-30":" ","2025-03-01":"","2025-03-03":"","2025-05-05":"","2025-05-06":"","2025-06-06":"","2025-08-15":"","2025-10-03":"","2025-10-05":" ","2025-10-06":"","2025-10-07":" ","2025-10-08":"","2025-10-09":"","2025-12-25":""},hZ=B.memo(({date:e,label:t,filteredEvents:r,selectedDate:n,user:s,isMobileView:a})=>{const o=he(e).format("YYYY-MM-DD"),l=jl[o],c=!!jl[o],u=n&&he(e).isSame(n,"day"),d=r.filter(S=>he(S.start).isSame(e,"day")),f=d.length,h=d.filter(S=>S.assignedTo&&S.assignedTo.includes((s==null?void 0:s.name)||"")).length,x=f-h,m=t.replace(/^0/,""),p=e.getDay()===0,w=e.getDay()===6;let y="#000000";c||p?y="#dc2626":w&&(y="#3b82f6");const g=he(e).isSame(he(),"day"),v=m.length===2,b=a?{backgroundColor:"transparent",color:y,borderRadius:"50%",width:"30px",height:"30px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",fontWeight:g?"700":"400",border:u?"1px solid #1f2937":"1px solid transparent",boxSizing:"border-box",gap:"1px"}:{color:y,fontWeight:g?"700":"400",paddingLeft:v?"0px":"4px"};return i.jsx("div",{className:a?"flex flex-col items-center":"flex items-center gap-2",style:{overflow:"visible",position:"relative",zIndex:10},children:a?i.jsxs("span",{style:b,children:[i.jsx("span",{style:{fontSize:"13px",lineHeight:"1"},children:m}),f>0&&i.jsxs("div",{className:"flex gap-0.5",style:{minHeight:"4px",marginTop:"1px"},children:[Array.from({length:h}).map((S,j)=>i.jsx("div",{style:{width:"4px",height:"4px",borderRadius:"50%",backgroundColor:"#66BB6A",flexShrink:0}},`user-${j}`)),Array.from({length:x}).map((S,j)=>i.jsx("div",{style:{width:"4px",height:"4px",borderRadius:"50%",backgroundColor:"#757575",flexShrink:0}},`other-${j}`))]})]}):i.jsxs(i.Fragment,{children:[i.jsx("span",{style:b,children:m}),l&&i.jsx("span",{className:"text-xs font-medium",style:{color:"#ef4444"},children:l})]})})}),mZ=B.memo(({event:e,user:t})=>{const r=e.assignedTo||[],[n,s]=N.useState(window.innerWidth>=768&&window.innerWidth<1024),[a,o]=N.useState(!1),l=t!=null&&t.name?t.name.slice(-2):null,c=l&&["",""].includes(l),u=l&&["","",""].includes(l);return N.useEffect(()=>{const d=()=>{s(window.innerWidth>=768&&window.innerWidth<1024)};return window.addEventListener("resize",d),()=>window.removeEventListener("resize",d)},[]),n?i.jsxs("div",{className:"w-full relative block",onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),style:{padding:"2px 4px",minHeight:"40px",display:"flex",flexDirection:"column",justifyContent:"flex-start"},children:[i.jsxs("div",{className:"flex items-center justify-between w-full",style:{fontSize:"11px",opacity:.8,marginBottom:"2px"},children:[!e.isASVisit&&e.projectName&&i.jsxs("span",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:"60%",flexShrink:0},children:["[",kw(e.projectName),"]"]}),r.length>0&&i.jsx("span",{style:{flexShrink:0,fontSize:"11px"},children:r.map((d,f)=>{const h=d==="HV LAB"||d===""&&c||d===""&&u||d===(t==null?void 0:t.name);return i.jsxs(B.Fragment,{children:[i.jsx("span",{style:{fontWeight:h?"bold":"normal"},children:d}),f<r.length-1&&""]},d)})})]}),i.jsx("div",{style:{fontWeight:500,fontSize:"12px",lineHeight:"1.4",overflow:"hidden",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",wordBreak:"keep-all",textOverflow:"ellipsis"},title:e.title,children:e.title}),a&&i.jsxs("div",{className:"absolute z-50 bg-gray-900 text-white text-xs rounded p-2 shadow-lg",style:{bottom:"100%",left:"0",marginBottom:"4px",minWidth:"200px",maxWidth:"300px"},children:[i.jsx("div",{className:"font-semibold mb-1",children:e.title}),e.projectName&&i.jsxs("div",{className:"opacity-90",children:[": ",e.projectName]}),r.length>0&&i.jsxs("div",{className:"opacity-90 mt-1",children:[": ",r.join(", ")]})]})]}):i.jsxs("div",{className:"flex items-center justify-between w-full gap-1.5 overflow-hidden",children:[i.jsxs("div",{className:"flex items-center gap-1.5 overflow-hidden flex-1",children:[!e.isASVisit&&e.projectName&&i.jsxs("span",{className:"text-xs opacity-70 flex-shrink-0",children:["[",kw(e.projectName),"]"]}),i.jsx("span",{className:"font-medium truncate",children:e.title})]}),r.length>0&&i.jsx("span",{className:"text-xs opacity-80 flex-shrink-0 ml-auto",children:r.map((d,f)=>{const h=d==="HV LAB"||d===""&&c||d===""&&u||d===(t==null?void 0:t.name);return i.jsxs(B.Fragment,{children:[i.jsx("span",{className:h?"font-bold":"",children:d}),f<r.length-1&&""]},d)})})]})}),pZ=()=>{const{schedules:e,loadSchedulesFromAPI:t,addScheduleToAPI:r,updateScheduleInAPI:n,deleteScheduleFromAPI:s,projects:a,asRequests:o,updateASRequestInAPI:l,constructionPayments:c,updateConstructionPaymentInAPI:u}=en(),{user:d}=ba(),f=d!=null&&d.name?d.name.slice(-2):null;console.log(" Current user:",d==null?void 0:d.name,"Short name:",f),N.useEffect(()=>{t().catch(O=>{console.error("Failed to load schedules:",O),Z.error("  ")})},[t]);const h=O=>{const de=a.findIndex(M=>M.name===O);return de>=0?Sw[de%Sw.length]:"#e8e2ea"},x=O=>{if(!O||O==="-")return"";const[de,M]=O.split(":"),z=parseInt(de,10),D=parseInt(M,10),k=z>=12?"":"",W=z>12?z-12:z===0?12:z;return D===0?`${k} ${W}`:`${k} ${W} ${D}`},m=e.filter(O=>!O.asRequestId).map(O=>{const de=O.project===""?"[]":O.project,M=a.find(ne=>ne.name===O.project),z=O.time,D=z&&z!=="-"?` - ${x(z)}`:"",k=O.attendees||[],W=k.includes("")||k.includes((d==null?void 0:d.name)||"")||f&&k.includes(f),ie=W?new Date(O.start.getTime()-216e5):O.start;return W&&console.log(` User schedule found: ${O.title}, attendees:`,k),{id:O.id,title:O.title+D,originalTitle:O.title,start:ie,end:O.end,projectId:(M==null?void 0:M.id)||"",projectName:de||"",type:O.type||"other",phase:"",assignedTo:k,priority:"medium",allDay:!z||z==="-",color:h(O.project||""),isASVisit:!1,time:z,description:O.description}}),p=o.filter(O=>O.scheduledVisitDate).map(O=>{const de=O.scheduledVisitTime,M=de&&de!=="-"?` - ${x(de)}`:"",z=a.find(k=>k.name===O.project),D=`[AS] ${O.project}`;return{id:`as-${O.id}`,title:D+M,originalTitle:D,start:O.scheduledVisitDate,end:O.scheduledVisitDate,projectId:(z==null?void 0:z.id)||"",projectName:O.project,type:"as_visit",phase:"",assignedTo:O.assignedTo||[],priority:"high",allDay:!de||de==="-",color:"#FEF3C7",isASVisit:!0,time:de,description:O.description}}),w=(d==null?void 0:d.role)==="manager"?c.flatMap(O=>{var k,W,ie,ne,oe,me,_e,je;const de=a.find(Ee=>Ee.name===O.project);if(!de){const Ee=[],it=O.totalAmount+(O.vatType==="percentage"?O.totalAmount*(O.vatPercentage/100):O.vatAmount),qe=new Set(O.payments.flatMap(tt=>{var Ge;return((Ge=tt.type)==null?void 0:Ge.split(", ").map(gt=>gt.trim()))||[]}));return!qe.has("")&&((k=O.expectedPaymentDates)!=null&&k.contract)&&Ee.push({id:`payment-${O.id}-contract`,title:`[] ${O.project} - `,originalTitle:`[] ${O.project} - `,start:new Date(O.expectedPaymentDates.contract),end:new Date(O.expectedPaymentDates.contract),projectId:"",projectName:O.project,type:"expected_payment",phase:"",assignedTo:[],priority:"medium",allDay:!0,color:"#DBEAFE",isExpectedPayment:!0,description:` (10%): ${Math.round(it*.1).toLocaleString()}`}),!qe.has("")&&((W=O.expectedPaymentDates)!=null&&W.start)&&Ee.push({id:`payment-${O.id}-start`,title:`[] ${O.project} - `,originalTitle:`[] ${O.project} - `,start:new Date(O.expectedPaymentDates.start),end:new Date(O.expectedPaymentDates.start),projectId:"",projectName:O.project,type:"expected_payment",phase:"",assignedTo:[],priority:"medium",allDay:!0,color:"#DBEAFE",isExpectedPayment:!0,description:` (40%): ${Math.round(it*.4).toLocaleString()}`}),!qe.has("")&&((ie=O.expectedPaymentDates)!=null&&ie.middle)&&Ee.push({id:`payment-${O.id}-middle`,title:`[] ${O.project} - `,originalTitle:`[] ${O.project} - `,start:new Date(O.expectedPaymentDates.middle),end:new Date(O.expectedPaymentDates.middle),projectId:"",projectName:O.project,type:"expected_payment",phase:"",assignedTo:[],priority:"medium",allDay:!0,color:"#DBEAFE",isExpectedPayment:!0,description:` (40%): ${Math.round(it*.4).toLocaleString()}`}),!qe.has("")&&((ne=O.expectedPaymentDates)!=null&&ne.final)&&Ee.push({id:`payment-${O.id}-final`,title:`[] ${O.project} - `,originalTitle:`[] ${O.project} - `,start:new Date(O.expectedPaymentDates.final),end:new Date(O.expectedPaymentDates.final),projectId:"",projectName:O.project,type:"expected_payment",phase:"",assignedTo:[],priority:"medium",allDay:!0,color:"#DBEAFE",isExpectedPayment:!0,description:` (10%): ${Math.round(it*.1).toLocaleString()}`}),Ee}if(!de.startDate||!de.endDate)return[];const M=O.totalAmount+(O.vatType==="percentage"?O.totalAmount*(O.vatPercentage/100):O.vatAmount),z=new Set(O.payments.flatMap(Ee=>{var it;return((it=Ee.type)==null?void 0:it.split(", ").map(qe=>qe.trim()))||[]})),D=[];return!z.has("")&&((oe=O.expectedPaymentDates)!=null&&oe.contract)&&D.push({id:`payment-${O.id}-contract`,title:`[] ${O.project} - `,originalTitle:`[] ${O.project} - `,start:new Date(O.expectedPaymentDates.contract),end:new Date(O.expectedPaymentDates.contract),projectId:de.id||"",projectName:O.project,type:"expected_payment",phase:"",assignedTo:[],priority:"medium",allDay:!0,color:"#DBEAFE",isExpectedPayment:!0,description:` (10%): ${Math.round(M*.1).toLocaleString()}`}),!z.has("")&&((me=O.expectedPaymentDates)!=null&&me.start)&&D.push({id:`payment-${O.id}-start`,title:`[] ${O.project} - `,originalTitle:`[] ${O.project} - `,start:new Date(O.expectedPaymentDates.start),end:new Date(O.expectedPaymentDates.start),projectId:de.id||"",projectName:O.project,type:"expected_payment",phase:"",assignedTo:[],priority:"medium",allDay:!0,color:"#DBEAFE",isExpectedPayment:!0,description:` (40%): ${Math.round(M*.4).toLocaleString()}`}),!z.has("")&&((_e=O.expectedPaymentDates)!=null&&_e.middle)&&D.push({id:`payment-${O.id}-middle`,title:`[] ${O.project} - `,originalTitle:`[] ${O.project} - `,start:new Date(O.expectedPaymentDates.middle),end:new Date(O.expectedPaymentDates.middle),projectId:de.id||"",projectName:O.project,type:"expected_payment",phase:"",assignedTo:[],priority:"medium",allDay:!0,color:"#DBEAFE",isExpectedPayment:!0,description:` (40%): ${Math.round(M*.4).toLocaleString()}`}),!z.has("")&&((je=O.expectedPaymentDates)!=null&&je.final)&&D.push({id:`payment-${O.id}-final`,title:`[] ${O.project} - `,originalTitle:`[] ${O.project} - `,start:new Date(O.expectedPaymentDates.final),end:new Date(O.expectedPaymentDates.final),projectId:de.id||"",projectName:O.project,type:"expected_payment",phase:"",assignedTo:[],priority:"medium",allDay:!0,color:"#DBEAFE",isExpectedPayment:!0,description:` (10%): ${Math.round(M*.1).toLocaleString()}`}),D}):[],y=[...m,...p,...w],v=(O=>{const de=new Map;O.forEach(z=>{if(z.isASVisit||z.isExpectedPayment){const D=`single_${z.id}`;de.set(D,[z])}else{const D=z.start.toISOString().split("T")[0],k=[...z.assignedTo].sort().join(","),W=`${D}_${z.projectName}_${k}`;de.has(W)||de.set(W,[]),de.get(W).push(z)}});const M=[];return de.forEach(z=>{if(z.length===1)M.push(z[0]);else{const D=z[0],k=z.map(je=>je.originalTitle||je.title),W=[...new Set(k)],ie=z.filter(je=>je.time&&je.time!=="-").map(je=>je.time),ne=ie.length>0?` - ${ie.join(", ")}`:"",oe=z.map(je=>{const Ee=je.originalTitle||je.title;return Ee.startsWith(D.projectName+" - ")?Ee.substring(D.projectName.length+3):Ee}),me=[...new Set(oe)],_e={...D,id:z[0].id,title:`${me.join(", ")}${ne}`,originalTitle:W.join(", "),description:z.map(je=>je.description||je.originalTitle||je.title).join(`
`),assignedTo:[...new Set(z.flatMap(je=>je.assignedTo))],mergedEventIds:z.map(je=>je.id)};M.push(_e)}}),M.sort((z,D)=>z.start.getTime()-D.start.getTime())})(y),[b,S]=N.useState("month"),[j,_]=N.useState(new Date),[T,$]=N.useState(!1),[R,Y]=N.useState(null),[Q,q]=N.useState(null),[se,pe]=N.useState("all"),[te,be]=N.useState(window.innerWidth<768?new Date:null),ee=se==="all"?v:v.filter(O=>O.projectName===se);N.useEffect(()=>{const O=()=>{document.querySelectorAll(".rbc-show-more, .rbc-button-link").forEach(W=>{W.style.display="none",W.style.visibility="hidden",W.style.pointerEvents="none"}),document.querySelectorAll('.rbc-overlay, .rbc-overlay-header, .rbc-popup, [class*="rbc-overlay"]').forEach(W=>{W.style.display="none",W.style.visibility="hidden",W.style.opacity="0",W.style.pointerEvents="none",W.style.position="absolute",W.style.left="-9999px",W.style.top="-9999px",W.style.zIndex="-1"})};O();const de=new MutationObserver(O),M=document.querySelector(".rbc-calendar");M&&de.observe(M,{childList:!0,subtree:!0});const z=new MutationObserver(O);return z.observe(document.body,{childList:!0,subtree:!0}),()=>{de.disconnect(),z.disconnect()}},[b,j]);const[H,ue]=N.useState({date:null,projectId:"",title:""}),C=B.useRef(!1),L=B.useRef(null),E=O=>{C.current=!0,L.current&&clearTimeout(L.current);const de={...O,title:O.originalTitle||O.title};q(null),Y(de),$(!0),L.current=setTimeout(()=>{C.current=!1,L.current=null},1500)},A=O=>{if(C.current)return;const de=window.innerWidth,M=de<768,z=de>=768&&de<1024;if(M){if(O.start){be(O.start);const k=document.querySelector(".md\\:hidden.mt-3.bg-white");k&&k.scrollIntoView({behavior:"smooth",block:"nearest"})}return}const D=O.action==="click"||O.action==="select";z&&!D||M||(q(O),Y(null),$(!0))},K=async()=>{if(!H.projectId||!H.title.trim()){alert("  ");return}const O=a.find(de=>de.id===H.projectId);if(!(!O||!H.date))try{await r({id:Date.now().toString(),title:H.title,start:H.date,end:H.date,type:"other",project:O.name,location:"",attendees:[],description:""}),ue({date:null,projectId:"",title:""}),be(null),Z.success(" ")}catch(de){console.error("Failed to add schedule:",de),Z.error("  ")}},I=O=>{let de=O.color||"#E0E7FF",M="#1f2937";if(O.isASVisit)de="#E8F5E9",M="#1f2937";else{const z=O.assignedTo&&O.assignedTo.includes("HV LAB"),D=O.assignedTo&&O.assignedTo.includes("")&&f&&["",""].includes(f),k=O.assignedTo&&O.assignedTo.includes("")&&f&&["","",""].includes(f);O.assignedTo&&O.assignedTo.includes((d==null?void 0:d.name)||"")||z||D||k?(de="#FEF3C7",M="#1f2937"):O.color||(de="#e8e2ea")}return{style:{backgroundColor:de,"--event-bg-color":de,borderRadius:"6px",color:M,border:"none",display:"block",fontSize:"0.8125rem",padding:"4px 8px",fontWeight:"500",boxShadow:"0 1px 2px rgba(0,0,0,0.05)",overflow:"hidden"}}},G=B.useCallback(O=>{const de=he(O).format("YYYY-MM-DD"),M=!!jl[de],z=te&&he(O).isSame(te,"day");let D="";return z&&(D+="selected-date "),M&&(D+="holiday-date "),{className:D.trim(),style:{}}},[te]),[J,U]=N.useState(window.innerWidth<768);N.useEffect(()=>{const O=()=>{U(window.innerWidth<768)};return window.addEventListener("resize",O),()=>window.removeEventListener("resize",O)},[]),N.useEffect(()=>{const O=()=>{const de=te||new Date;q({start:de,end:de}),Y(null),$(!0)};return window.addEventListener("headerAddButtonClick",O),()=>window.removeEventListener("headerAddButtonClick",O)},[te]);const P=B.useCallback(({date:O,label:de})=>i.jsx(hZ,{date:O,label:de,filteredEvents:ee,selectedDate:te,user:d,isMobileView:J}),[ee,te,d,J]),V=B.useCallback(({event:O})=>i.jsx(mZ,{event:O,user:d}),[d]),re=({onNavigate:O})=>{const[de,M]=B.useState(!1),[z,D]=B.useState(he(j).year()),[k,W]=B.useState(he(j).month()),ie=window.innerWidth<768,ne=()=>{D(he(j).year()),W(he(j).month()),M(!0)},oe=()=>{_(he().year(z).month(k).toDate()),M(!1)};return i.jsxs(i.Fragment,{children:[i.jsx("div",{className:`flex flex-col bg-white border-b border-gray-200 ${ie?"px-2 py-2":"px-3 md:px-5 pt-3 md:pt-5 pb-0"}`,children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-2 md:space-x-3",children:[i.jsx("button",{onClick:()=>O("PREV"),className:"px-3 md:px-4 py-1.5 md:py-2 text-xl md:text-2xl text-gray-700 hover:bg-gray-100 rounded-lg transition-colors font-bold",children:""}),i.jsx("div",{className:"text-base md:text-lg font-bold text-gray-900 hover:bg-gray-50 px-2 md:px-3 py-1 rounded-lg transition-colors cursor-pointer",onClick:ne,children:i.jsx("span",{children:he(j).format("YYYY MM")})}),i.jsx("button",{onClick:()=>O("NEXT"),className:"px-3 md:px-4 py-1.5 md:py-2 text-xl md:text-2xl text-gray-700 hover:bg-gray-100 rounded-lg transition-colors font-bold",children:""})]}),i.jsxs("select",{className:"px-3 md:px-4 py-1.5 md:py-2 bg-white text-gray-700 rounded-lg text-xs md:text-sm font-medium focus:outline-none focus:ring-2 focus:ring-gray-300 border border-gray-300",value:se,onChange:me=>pe(me.target.value),style:{appearance:"none",backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%236b7280'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 0.5rem center",backgroundSize:"1.25rem",paddingRight:"2.5rem"},children:[i.jsx("option",{value:"all",children:" "}),a.filter(me=>me.status!=="completed").map(me=>i.jsx("option",{value:me.name,children:me.name},me.id))]})]})}),de&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"bg-white rounded-lg w-full max-w-sm shadow-xl",children:[i.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[i.jsx("h3",{className:"text-lg font-bold text-gray-900",children:" "}),i.jsx("button",{onClick:()=>M(!1),className:"p-1 hover:bg-gray-100 rounded-lg transition-colors",children:i.jsx("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),i.jsx("div",{className:"p-4 border-b border-gray-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("button",{onClick:()=>D(z-1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:i.jsx("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),i.jsxs("span",{className:"text-xl font-bold text-gray-900",children:[z,""]}),i.jsx("button",{onClick:()=>D(z+1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:i.jsx("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})}),i.jsx("div",{className:"p-4",children:i.jsx("div",{className:"grid grid-cols-3 gap-2",children:[1,2,3,4,5,6,7,8,9,10,11,12].map(me=>{const _e=k===me-1,je=he().year()===z&&he().month()===me-1;return i.jsxs("button",{onClick:()=>W(me-1),className:`py-3 px-4 rounded-lg text-sm font-medium transition-colors ${_e?"bg-gray-900 text-white":je?"bg-gray-100 text-gray-900 border-2 border-gray-900":"bg-gray-50 text-gray-700 hover:bg-gray-100"}`,children:[me,""]},me)})})}),i.jsxs("div",{className:"p-4 border-t border-gray-200 flex gap-2",children:[i.jsx("button",{onClick:()=>{_(new Date),M(!1)},className:"flex-1 py-2 px-4 bg-gray-100 text-gray-900 rounded-lg text-sm font-medium hover:bg-gray-200 transition-colors",children:""}),i.jsx("button",{onClick:oe,className:"flex-1 py-2 px-4 bg-gray-900 text-white rounded-lg text-sm font-medium hover:bg-gray-800 transition-colors",children:""})]})]})})]})},ce=()=>null,Ne=N.useMemo(()=>({toolbar:re,event:V,month:{dateHeader:P,showMore:ce}}),[P,V]),Me=B.useMemo(()=>{if(!te)return[];const de=[...ee.filter(M=>he(M.start).isSame(te,"day"))].sort((M,z)=>{const D=M.assignedTo&&M.assignedTo.includes("HV LAB"),k=M.assignedTo&&M.assignedTo.includes("")&&f&&["",""].includes(f),W=M.assignedTo&&M.assignedTo.includes("")&&f&&["","",""].includes(f),ie=M.assignedTo&&f&&M.assignedTo.includes(f)||M.assignedTo&&(d==null?void 0:d.name)&&M.assignedTo.includes(d.name)||D||k||W,ne=z.assignedTo&&z.assignedTo.includes("HV LAB"),oe=z.assignedTo&&z.assignedTo.includes("")&&f&&["",""].includes(f),me=z.assignedTo&&z.assignedTo.includes("")&&f&&["","",""].includes(f),_e=z.assignedTo&&f&&z.assignedTo.includes(f)||z.assignedTo&&(d==null?void 0:d.name)&&z.assignedTo.includes(d.name)||ne||oe||me;return ie&&!_e?-1:!ie&&_e?1:new Date(M.start).getTime()-new Date(z.start).getTime()});return console.log("Sorted events:",de.map(M=>({title:M.title,assignedTo:M.assignedTo,user:d==null?void 0:d.name,userShort:f}))),de},[te,ee,d,f]);return N.useEffect(()=>{const de=setTimeout(()=>{const M=J?document.querySelectorAll(".rbc-month-view td.rbc-date-cell"):document.querySelectorAll(".rbc-date-cell"),z=document.querySelectorAll(".rbc-month-row"),D=[];z.forEach((Ee,it)=>{const qe=Ee.querySelectorAll(".rbc-date-cell");let tt=0;qe.forEach(Ge=>{const gt=Ge.querySelector("button");let nt=gt==null?void 0:gt.textContent;if(!nt){const vr=Ge.querySelector("span");nt=vr==null?void 0:vr.textContent}if(nt&&!isNaN(parseInt(nt))){const vr=he(j).date(parseInt(nt)),sn=ee.filter(F=>he(F.start).isSame(vr,"day"));tt=Math.max(tt,sn.length)}}),D.push(tt)});const k=100,W=18,ie=25,ne=Math.floor((k-ie)/W),oe=D.length,me=k*oe,_e=D.map(Ee=>Ee<=ne?k:ie+Ee*W+10),je=_e.reduce((Ee,it)=>Ee+it,0);if(je>me){const Ee=_e.map((tt,Ge)=>({index:Ge,height:tt,overflow:tt>k})),it=Ee.filter(tt=>tt.overflow).reduce((tt,Ge)=>tt+(Ge.height-k),0),qe=Ee.filter(tt=>!tt.overflow);if(qe.length>0){const tt=me-it-qe.length*k,Ge=Math.max(50,k+tt/qe.length);z.forEach((gt,nt)=>{const sn=_e[nt]>k?_e[nt]:Ge;gt.style.height=`${sn}px`,gt.style.minHeight=`${sn}px`})}else{const tt=me/je;z.forEach((Ge,gt)=>{const nt=Math.max(80,_e[gt]*tt);Ge.style.height=`${nt}px`,Ge.style.minHeight=`${nt}px`})}}else{const Ee=_e.reduce((Ge,gt)=>Ge+(gt>k?gt:0),0),it=_e.filter(Ge=>Ge<=k).length,qe=me-Ee,tt=it>0?qe/it:k;z.forEach((Ge,gt)=>{const nt=_e[gt]>k?_e[gt]:tt;Ge.style.height=`${nt}px`,Ge.style.minHeight=`${nt}px`})}M.forEach(Ee=>{const it=Ee.querySelector("button");let qe=it==null?void 0:it.textContent;if(!qe){const nt=Ee.querySelector("span");qe=nt==null?void 0:nt.textContent}if(!qe||isNaN(parseInt(qe)))return;const tt=he(j).date(parseInt(qe)),Ge=ee.filter(nt=>he(nt.start).isSame(tt,"day"));Ge.length>0?Ee.setAttribute("data-event-count",Ge.length.toString()):Ee.removeAttribute("data-event-count");const gt=tt.clone().toDate();if(te&&he(gt).isSame(te,"day")?Ee.classList.add("selected-date"):Ee.classList.remove("selected-date"),J){const nt=Ee,vr=nt._mobileClickHandler;vr&&Ee.removeEventListener("click",vr);const sn=F=>{if(F.target.closest(".rbc-event"))return;const fe=tt.clone().toDate();be(fe);const we=document.querySelector(".md\\:hidden.mt-3.bg-white");we&&we.scrollIntoView({behavior:"smooth",block:"nearest"})};nt._mobileClickHandler=sn,Ee.addEventListener("click",sn,!0),Ee.style.cursor="pointer",Ee.style.touchAction="manipulation"}})},200);return()=>{clearTimeout(de),J&&document.querySelectorAll(".rbc-month-view td.rbc-date-cell").forEach(z=>{const D=z,k=D._mobileClickHandler;k&&(z.removeEventListener("click",k),delete D._mobileClickHandler)})}},[ee,j,J,te]),i.jsxs("div",{className:"space-y-3 md:space-y-2",children:[H.date&&i.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-3 md:p-4 shadow-sm",children:i.jsxs("div",{className:"flex flex-col md:flex-row items-stretch md:items-center gap-2 md:gap-3",children:[i.jsx("div",{className:"text-xs md:text-sm font-semibold text-gray-900 md:min-w-[80px]",children:he(H.date).format("MM DD")}),i.jsx("select",{value:H.projectId,onChange:O=>ue({...H,projectId:O.target.value}),className:"px-3 md:px-4 py-2 border border-gray-300 rounded-lg text-xs md:text-sm focus:outline-none focus:ring-2 focus:ring-gray-500",children:a.filter(O=>O.status!=="completed").map(O=>i.jsx("option",{value:O.id,children:O.name},O.id))}),i.jsx("input",{type:"text",value:H.title,onChange:O=>ue({...H,title:O.target.value}),onKeyPress:O=>{O.key==="Enter"&&K()},placeholder:"  ...",className:"flex-1 px-3 md:px-4 py-2 border border-gray-300 rounded-lg text-xs md:text-sm focus:outline-none focus:ring-2 focus:ring-gray-500",autoFocus:!0}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:K,className:"flex-1 md:flex-none px-4 md:px-5 py-2 bg-gray-900 text-white text-xs md:text-sm font-medium rounded-lg hover:bg-gray-800 transition-colors",children:""}),i.jsx("button",{onClick:()=>{ue({date:null,projectId:"",title:""}),be(null)},className:"flex-1 md:flex-none px-4 md:px-5 py-2 bg-white border border-gray-300 text-gray-700 text-xs md:text-sm font-medium rounded-lg hover:bg-gray-50 transition-colors",children:""})]})]})}),i.jsxs("div",{className:"flex flex-col md:block",children:[i.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden shadow-sm calendar-container",children:i.jsx(aG,{localizer:fZ,events:ee,startAccessor:"start",endAccessor:"end",view:b,onView:S,date:j,onNavigate:_,onSelectEvent:E,onSelectSlot:A,selectable:!0,longPressThreshold:0,eventPropGetter:I,dayPropGetter:G,components:Ne,popup:!1,doShowMoreDrillDown:!1,onShowMore:()=>{},showAllEvents:!0,messages:{today:"",previous:"",next:"",month:"",week:"",day:"",agenda:"",date:"",time:"",event:"",noEventsInRange:"   ",showMore:O=>`+${O} `}},`calendar-${(te==null?void 0:te.getTime())||"no-selection"}`)}),te&&i.jsxs("div",{className:"md:hidden mt-3 bg-white border border-gray-200 rounded-lg overflow-hidden shadow-sm",children:[i.jsxs("div",{className:"flex items-center justify-between p-3 border-b border-gray-200 bg-gray-50",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("p",{className:"text-sm font-semibold text-gray-900",children:he(te).format("MM DD dddd")}),jl[he(te).format("YYYY-MM-DD")]&&i.jsx("span",{className:"text-xs font-medium px-2 py-0.5 rounded-full bg-red-50 text-red-600",children:jl[he(te).format("YYYY-MM-DD")]})]}),i.jsx("button",{onClick:()=>be(null),className:"p-1 hover:bg-gray-200 rounded-full transition-colors",children:i.jsx("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),i.jsx("div",{className:"max-h-[35vh] overflow-y-auto",children:Me.length===0?i.jsx("div",{className:"p-4 text-center",children:i.jsx("p",{className:"text-sm text-gray-500",children:" "})}):i.jsx("div",{className:"divide-y divide-gray-100",children:Me.map(O=>{const de=O.assignedTo&&O.assignedTo.includes("HV LAB"),M=O.assignedTo&&O.assignedTo.includes("")&&f&&["",""].includes(f),z=O.assignedTo&&O.assignedTo.includes("")&&f&&["","",""].includes(f),k=O.assignedTo&&(O.assignedTo.includes((d==null?void 0:d.name)||"")||f&&O.assignedTo.includes(f))||de||M||z,W=!O.color&&!k;return i.jsx("div",{onClick:()=>{const ie={...O,title:O.originalTitle||O.title};E(ie)},className:`p-3 transition-colors cursor-pointer ${k?"bg-yellow-50 hover:bg-yellow-100 active:bg-yellow-200":W?"hover:bg-purple-50 active:bg-purple-100":"hover:bg-gray-50 active:bg-gray-100"}`,style:W?{backgroundColor:"#f3f0f5"}:void 0,children:i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx("div",{className:"w-1 h-full rounded-full flex-shrink-0",style:{backgroundColor:k?"#FEF3C7":O.color||"#e8e2ea",minHeight:"28px"}}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm font-semibold text-gray-900 truncate",children:O.title}),O.projectName&&i.jsx("p",{className:"text-xs text-gray-600 mt-0.5",children:O.projectName}),O.assignedTo&&O.assignedTo.length>0&&i.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:["","",""].every(oe=>O.assignedTo.includes(oe))?"":O.assignedTo.join(", ")})]}),i.jsx("svg",{className:"w-4 h-4 text-gray-400 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})},O.id)})})})]})]}),T&&i.jsx(US,{event:R,slotInfo:Q,defaultProjectName:se!=="all"?se:void 0,onClose:()=>{$(!1),Y(null),q(null)},onSave:async O=>{console.log(" Schedule.tsx onSave called with newEvent:",O);try{if(R)if(R.id.startsWith("payment-")){const de=R.id.split("-"),M=de[1],z=de[2],D=c.find(k=>k.id===M);if(D){const k={...D.expectedPaymentDates};k[z]=O.start,await u(M,{expectedPaymentDates:k}),Z.success("  ")}}else{console.log(" Updating schedule with projectId:",O.projectId,"projectName:",O.projectName);let de=O.title;const M=/ - (|) \d{1,2}( \d{1,2})?$/;if(de=de.replace(M,""),R.mergedEventIds&&R.mergedEventIds.length>0){console.log(" Updating merged schedules:",R.mergedEventIds);const z=(R.originalTitle||R.title).split(", "),D=de.split(", ");for(let k=0;k<R.mergedEventIds.length;k++){const W=R.mergedEventIds[k],ie=D[k]||z[k]||de;await n(W,{title:ie.trim(),start:O.start,end:O.end,type:"other",project:O.projectId||O.projectName,location:"",attendees:O.assignedTo||[],description:O.description,time:O.time})}Z.success(`${R.mergedEventIds.length}  `)}else await n(R.id,{title:de,start:O.start,end:O.end,type:"other",project:O.projectId||O.projectName,location:"",attendees:O.assignedTo||[],description:O.description,time:O.time}),Z.success(" ");await t()}else console.log(" Adding schedule with projectId:",O.projectId,"projectName:",O.projectName),await r({id:Date.now().toString(),title:O.title,start:O.start,end:O.end,type:"other",project:O.projectId||O.projectName,location:"",attendees:O.assignedTo||[],description:O.description,time:O.time}),Z.success(" ");$(!1)}catch(de){console.error("Failed to save schedule:",de),Z.error("  ")}},onDelete:async O=>{try{if(O.startsWith("payment-")){const de=O.split("-"),M=de[1],z=de[2],D=c.find(k=>k.id===M);if(D){const k={...D.expectedPaymentDates};delete k[z],await u(M,{expectedPaymentDates:k}),Z.success("  ")}}else if(O.startsWith("as-")){const de=O.replace("as-","");await l(de,{scheduledVisitDate:null,scheduledVisitTime:null}),Z.success("AS   ")}else{const de=v.find(M=>M.id===O);if(de!=null&&de.mergedEventIds&&de.mergedEventIds.length>0){console.log("Deleting merged schedules:",de.mergedEventIds);for(const M of de.mergedEventIds)await s(M);Z.success(`${de.mergedEventIds.length}  `)}else await s(O),Z.success(" ")}$(!1)}catch(de){console.error("Failed to delete schedule:",de),Z.error("  ")}}})]})},Dw=["","","","","",""],gZ=({request:e,onClose:t,onSave:r})=>{const{register:n,handleSubmit:s,setValue:a,formState:{errors:o}}=wo(),{projects:l}=en(),[c,u]=N.useState([]),[d,f]=N.useState(""),[h,x]=N.useState(""),[m,p]=N.useState(9),[w,y]=N.useState(0),g=l.filter(_=>_.status==="completed");N.useEffect(()=>{if(e){if(a("project",e.project),a("client",e.client),a("siteAddress",e.siteAddress),a("entrancePassword",e.entrancePassword),a("description",e.description),e.requestDate&&a("requestDate",e.requestDate.toISOString().split("T")[0]),e.scheduledVisitDate&&a("scheduledVisitDate",e.scheduledVisitDate.toISOString().split("T")[0]),e.scheduledVisitTime){const[_,T]=e.scheduledVisitTime.split(":"),$=parseInt(_,10),R=parseInt(T,10);$>=12?(x(""),p($===12?12:$-12)):(x(""),p($===0?12:$)),y(R)}u(e.assignedTo||[])}else u([]),x(""),p(9),y(0)},[e,a]);const v=_=>{u(T=>T.includes(_)?T.filter($=>$!==_):[...T,_])},b=()=>{d.trim()&&!c.includes(d.trim())&&(u(_=>[..._,d.trim()]),f(""))},S=_=>{u(T=>T.filter($=>$!==_))},j=_=>{let T=m;h===""&&m!==12?T=m+12:h===""&&m===12&&(T=0);const $=`${T.toString().padStart(2,"0")}:${w.toString().padStart(2,"0")}`,R={..._,requestDate:new Date(_.requestDate),scheduledVisitDate:_.scheduledVisitDate?new Date(_.scheduledVisitDate):void 0,scheduledVisitTime:$,assignedTo:c};r(R)};return i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"flex items-center justify-between p-6 border-b sticky top-0 bg-white z-10",children:[i.jsx("h2",{className:"text-xl font-semibold",children:e?"AS  ":"AS  "}),i.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:i.jsx(ct,{className:"h-5 w-5"})})]}),i.jsxs("form",{onSubmit:s(j),className:"p-6 space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" * ( )"}),i.jsxs("select",{...n("project",{required:" "}),className:"input",onChange:_=>{const T=g.find($=>$.name===_.target.value);T&&(a("client",T.client),a("siteAddress",T.location),a("entrancePassword",T.entrancePassword||""))},children:[i.jsx("option",{value:"",children:""}),g.map(_=>i.jsx("option",{value:_.name,children:_.name},_.id))]}),o.project&&i.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(o.project.message)}),g.length===0&&i.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"  "})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"}),i.jsx("input",{...n("client",{required:" "}),type:"text",className:"input"}),o.client&&i.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(o.client.message)})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"}),i.jsx("input",{...n("siteAddress",{required:" "}),type:"text",className:"input"}),o.siteAddress&&i.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(o.siteAddress.message)})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),i.jsx("input",{...n("entrancePassword"),type:"text",className:"input"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),i.jsx("textarea",{...n("description"),rows:3,className:"input"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" (  )"}),i.jsxs("div",{className:"flex flex-wrap gap-1.5 mb-2",children:[Dw.map(_=>i.jsx("button",{type:"button",onClick:()=>v(_),className:`px-2.5 py-1.5 rounded border transition-colors text-sm ${c.includes(_)?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:_},_)),c.filter(_=>!Dw.includes(_)).map(_=>i.jsxs("button",{type:"button",onClick:()=>S(_),className:"px-2.5 py-1.5 rounded border transition-colors text-sm bg-gray-900 text-white border-gray-900 hover:bg-gray-800",children:[_," "]},_))]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("input",{type:"text",value:d,onChange:_=>f(_.target.value),onKeyPress:_=>{_.key==="Enter"&&(_.preventDefault(),b())},className:"flex-1 px-3 py-1.5 border border-gray-300 rounded-lg text-xs focus:outline-none focus:ring-2 focus:ring-gray-500"}),i.jsx("button",{type:"button",onClick:b,className:"px-3 py-1.5 bg-gray-100 text-gray-700 rounded-lg text-xs font-medium hover:bg-gray-200 transition-colors",children:""})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),i.jsx("input",{...n("requestDate"),type:"date",className:"input"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),i.jsx("input",{...n("scheduledVisitDate"),type:"date",className:"input"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("div",{className:"flex gap-1",children:[i.jsx("button",{type:"button",onClick:()=>x(""),className:`px-3 py-1.5 text-xs rounded border transition-colors ${h===""?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:""}),i.jsx("button",{type:"button",onClick:()=>x(""),className:`px-3 py-1.5 text-xs rounded border transition-colors ${h===""?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:""})]}),i.jsx("select",{value:m,onChange:_=>p(parseInt(_.target.value)),className:"px-2 py-1.5 text-sm border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-gray-500",children:[12,1,2,3,4,5,6,7,8,9,10,11].map(_=>i.jsxs("option",{value:_,children:[_,""]},_))}),i.jsx("select",{value:w,onChange:_=>y(parseInt(_.target.value)),className:"px-2 py-1.5 text-sm border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-gray-500",children:[0,10,20,30,40,50].map(_=>i.jsxs("option",{value:_,children:[_,""]},_))})]})]}),i.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[i.jsx("button",{type:"button",onClick:t,className:"btn btn-outline",children:""}),i.jsx("button",{type:"submit",className:"btn btn-primary",children:e?"":""})]})]})]})})},_w=e=>{if(!e)return"";const[t]=e.split(":"),r=parseInt(t,10),n=r>=12?"":"",s=r>12?r-12:r===0?12:r;return`${n} ${s}`},yZ=()=>{var K;const{asRequests:e,loadASRequestsFromAPI:t,addASRequestToAPI:r,updateASRequestInAPI:n,deleteASRequestFromAPI:s}=en(),a=e,[o,l]=N.useState(""),[c,u]=N.useState(!1),[d,f]=N.useState(null),[h,x]=N.useState("active"),[m,p]=N.useState(null),w=N.useRef(null),[y,g]=N.useState(null),[v,b]=N.useState(!1),[S,j]=N.useState(!1),[_,T]=N.useState("");N.useEffect(()=>{t().catch(I=>{console.error("Failed to load AS requests:",I),Z.error("AS    ")})},[t]),N.useEffect(()=>{const I=()=>{$()};return window.addEventListener("headerAddButtonClick",I),()=>window.removeEventListener("headerAddButtonClick",I)},[]),N.useEffect(()=>{var I,G;m&&w.current&&((G=(I=w.current).showPicker)==null||G.call(I))},[m]);const $=()=>{f(null),u(!0)},R=async I=>{try{if(d)await n(d.id,I),Z.success("AS  ");else{const G={id:"",...I};await r(G),Z.success("AS  ")}u(!1)}catch(G){console.error("Failed to save AS request:",G),Z.error("AS   ")}},Y=I=>{f(I),u(!0)},Q=async(I,G)=>{if(window.confirm(`"${G}" AS  ?

    .`))try{await s(I),Z.success("AS  ")}catch(J){console.error("Failed to delete AS request:",J),Z.error("AS   ")}},q=(I,G)=>{p({requestId:I,field:G})},se=async I=>{if(!m)return;const G=new Date(I);if(!isNaN(G.getTime()))try{await n(m.requestId,{[m.field]:G}),p(null)}catch(J){console.error("Failed to update date:",J),Z.error("  "),p(null)}},pe=N.useCallback(I=>{var J;if(!y){Z.error(" AS  ");return}const G=(J=I.clipboardData)==null?void 0:J.items;if(G){for(let U=0;U<G.length;U++)if(G[U].type.indexOf("image")!==-1){I.preventDefault();const P=G[U].getAsFile();if(P){const V=new FileReader;V.onload=re=>{var Me;const ce=(Me=re.target)==null?void 0:Me.result,Ne=a.find(O=>O.id===y);if(Ne){const O=[...Ne.images||[],ce];n(y,{images:O}),Z.success(" ")}},V.readAsDataURL(P)}}}},[y,a,n]);N.useEffect(()=>(document.addEventListener("paste",pe),()=>document.removeEventListener("paste",pe)),[pe]);const te=I=>{var P;if(!y){Z.error(" AS  ");return}const G=Array.from(((P=I.target)==null?void 0:P.files)||[]),J=[],U=G.filter(V=>V.type.startsWith("image/"));U.length!==0&&U.forEach(V=>{const re=new FileReader;re.onload=ce=>{var Me;const Ne=(Me=ce.target)==null?void 0:Me.result;if(J.push(Ne),J.length===U.length){const O=a.find(de=>de.id===y);if(O){const de=[...O.images||[],...J];n(y,{images:de}),Z.success(`${J.length}  `)}}},re.readAsDataURL(V)})},be=I=>{var J;if(!y)return;const G=a.find(U=>U.id===y);if(G){const U=((J=G.images)==null?void 0:J.filter((P,V)=>V!==I))||[];n(y,{images:U})}},ee=I=>{T(I),j(!0)},H=I=>{I.preventDefault(),b(!0)},ue=I=>{I.preventDefault(),b(!1)},C=I=>{if(I.preventDefault(),b(!1),!y){Z.error(" AS  ");return}const G=Array.from(I.dataTransfer.files),J=[],U=G.filter(P=>P.type.startsWith("image/"));U.length!==0&&U.forEach(P=>{const V=new FileReader;V.onload=re=>{var Ne;const ce=(Ne=re.target)==null?void 0:Ne.result;if(J.push(ce),J.length===U.length){const Me=a.find(O=>O.id===y);if(Me){const O=[...Me.images||[],...J];n(y,{images:O}),Z.success(`${J.length}  `)}}},V.readAsDataURL(P)})},L=async(I,G)=>{try{const J={status:G};G==="completed"?J.completionDate=new Date:G==="pending"?J.completionDate=void 0:G==="revisit"&&(J.scheduledVisitDate=void 0,J.completionDate=void 0),await n(I,J);const U=G==="completed"?"AS ":G==="revisit"?" ":"";Z.success(` "${U}" `)}catch(J){console.error("Failed to update status:",J),Z.error("  ")}},E=I=>{const G={pending:{label:"",color:"bg-gray-100 text-gray-700 border-gray-300"},completed:{label:"AS ",color:"bg-green-100 text-green-700 border-green-300"},revisit:{label:"",color:"bg-orange-100 text-orange-700 border-orange-300"}},J=G[I]||G.pending;return i.jsx("span",{className:`px-2 py-1 text-xs font-medium border rounded ${J.color}`,children:J.label})},A=a.filter(I=>{const G=I.project.toLowerCase().includes(o.toLowerCase())||I.client.toLowerCase().includes(o.toLowerCase())||I.description.toLowerCase().includes(o.toLowerCase());return h==="completed"?G&&I.status==="completed":G&&I.status!=="completed"});return i.jsxs("div",{className:"space-y-3 md:space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("div",{className:"flex items-center gap-2",children:y&&i.jsxs("span",{className:"text-sm text-gray-600",children:["  : ",((K=a.find(I=>I.id===y))==null?void 0:K.project)||""]})}),i.jsx("button",{onClick:$,className:"hidden lg:inline-flex btn btn-primary px-4 py-2",children:"+ AS "})]}),i.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:te,className:"hidden",id:"as-image-file-input"}),i.jsx("div",{className:"border-b border-gray-200",children:i.jsxs("nav",{className:"flex space-x-4 md:space-x-8",children:[i.jsxs("button",{onClick:()=>x("active"),className:`py-3 md:py-4 px-1 border-b-2 font-medium text-xs md:text-sm transition-colors whitespace-nowrap ${h==="active"?"border-gray-700 text-gray-700":"border-transparent text-gray-400 hover:text-gray-700 hover:border-gray-300"}`,children:["",i.jsx("span",{className:`ml-1 md:ml-2 py-0.5 px-1.5 md:px-2 rounded-full text-[10px] md:text-xs font-semibold ${h==="active"?"bg-gray-700 text-white":"bg-gray-200 text-gray-600"}`,children:a.filter(I=>I.status!=="completed").length})]}),i.jsxs("button",{onClick:()=>x("completed"),className:`py-3 md:py-4 px-1 border-b-2 font-medium text-xs md:text-sm transition-colors whitespace-nowrap ${h==="completed"?"border-gray-700 text-gray-700":"border-transparent text-gray-400 hover:text-gray-700 hover:border-gray-300"}`,children:["AS ",i.jsx("span",{className:`ml-1 md:ml-2 py-0.5 px-1.5 md:px-2 rounded-full text-[10px] md:text-xs font-semibold ${h==="completed"?"bg-gray-700 text-white":"bg-gray-200 text-gray-600"}`,children:a.filter(I=>I.status==="completed").length})]})]})}),i.jsx("div",{children:i.jsx("input",{type:"text",placeholder:"...",value:o,onChange:I=>l(I.target.value),className:"w-full px-3 md:px-4 py-2 text-sm md:text-base border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-600 focus:border-transparent"})}),i.jsx("div",{className:"lg:hidden grid grid-cols-1 md:grid-cols-2 gap-3",children:A.map(I=>i.jsxs("div",{className:"card p-3 md:p-4 hover:border-gray-400 transition-colors",children:[i.jsxs("div",{className:"flex items-start justify-between mb-3",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"flex items-center gap-2 mb-1",children:E(I.status)}),i.jsx("h3",{className:"font-bold text-base text-gray-900",children:I.project}),i.jsxs("p",{className:"text-sm text-gray-600 mt-0.5",children:[I.client,""]})]}),i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx("button",{onClick:()=>g(y===I.id?null:I.id),className:`p-1 -mt-1 ${y===I.id?"text-blue-600":"text-gray-600 hover:text-gray-700"}`,title:" ",children:i.jsx(Ii,{className:"h-4 w-4"})}),i.jsx("button",{onClick:()=>Y(I),className:"text-gray-600 hover:text-gray-700 p-1 -mt-1",children:i.jsx(zl,{className:"h-4 w-4"})}),i.jsx("button",{onClick:()=>Q(I.id,I.project),className:"text-rose-600 hover:text-rose-700 p-1 -mt-1",children:i.jsx(ir,{className:"h-4 w-4"})})]})]}),i.jsxs("div",{className:"space-y-2 text-sm",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-gray-500",children:""}),i.jsx("p",{className:"text-gray-900 mt-0.5",children:I.siteAddress})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-gray-500",children:"AS "}),i.jsx("p",{className:"text-gray-900 mt-0.5",children:I.description})]}),I.assignedTo&&I.assignedTo.length>0&&i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-gray-500",children:""}),i.jsx("p",{className:"text-gray-900 mt-0.5",children:I.assignedTo.join(", ")})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-2 pt-2",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-gray-500 mb-1",children:""}),i.jsxs("div",{className:"relative inline-block",children:[(m==null?void 0:m.requestId)===I.id&&(m==null?void 0:m.field)==="requestDate"&&i.jsx("input",{ref:w,type:"date",defaultValue:Pe(I.requestDate,"yyyy-MM-dd"),onChange:G=>se(G.target.value),onBlur:()=>p(null),className:"absolute left-0 top-0 w-auto h-auto opacity-0 z-50",style:{pointerEvents:"auto"}}),i.jsxs("button",{onClick:()=>q(I.id,"requestDate"),className:"flex items-center space-x-1 text-xs text-gray-900 hover:text-gray-600 transition-colors",children:[i.jsx(Js,{className:"h-3 w-3"}),i.jsx("span",{children:Pe(I.requestDate,"MM.dd (eee)",{locale:Qe})})]})]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-gray-500 mb-1",children:""}),i.jsxs("div",{className:"relative inline-block",children:[(m==null?void 0:m.requestId)===I.id&&(m==null?void 0:m.field)==="scheduledVisitDate"&&i.jsx("input",{ref:w,type:"date",defaultValue:I.scheduledVisitDate?Pe(I.scheduledVisitDate,"yyyy-MM-dd"):"",onChange:G=>se(G.target.value),onBlur:()=>p(null),className:"absolute left-0 top-0 w-auto h-auto opacity-0 z-50",style:{pointerEvents:"auto"}}),i.jsxs("button",{onClick:()=>q(I.id,"scheduledVisitDate"),className:"flex items-center space-x-1 text-xs text-gray-900 hover:text-gray-600 transition-colors",children:[i.jsx(Js,{className:"h-3 w-3"}),i.jsxs("span",{children:[I.scheduledVisitDate?Pe(I.scheduledVisitDate,"MM.dd (eee)",{locale:Qe}):"",I.scheduledVisitTime&&` ${_w(I.scheduledVisitTime)}`]})]})]})]})]}),I.status!=="completed"&&i.jsxs("div",{className:"flex gap-2 mt-3 pt-3 border-t border-gray-100",children:[i.jsx("button",{onClick:()=>L(I.id,"completed"),className:"flex-1 px-3 py-2 text-xs font-medium bg-blue-50 text-blue-700 rounded-lg hover:bg-blue-100 transition-colors",children:"AS "}),i.jsx("button",{onClick:()=>L(I.id,"revisit"),className:"flex-1 px-3 py-2 text-xs font-medium bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",children:""})]}),I.status==="completed"&&i.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-100",children:[i.jsx("button",{onClick:()=>L(I.id,"pending"),className:"w-full px-3 py-2 text-xs font-medium bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors mb-2",children:" "}),i.jsx("p",{className:"text-xs text-gray-500 text-center",children:I.completionDate&&`: ${Pe(I.completionDate,"yyyy.MM.dd",{locale:Qe})}`})]}),I.images&&I.images.length>0&&i.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-100",children:[i.jsxs("p",{className:"text-xs text-gray-500 mb-2",children:["  (",I.images.length,")"]}),i.jsx("div",{className:"grid grid-cols-3 gap-2",children:I.images.map((G,J)=>i.jsx("img",{src:G,alt:`AS  ${J+1}`,className:"w-full h-20 object-cover rounded cursor-pointer hover:opacity-75",onClick:()=>ee(G)},J))})]})]})]},I.id))}),i.jsx("div",{className:"hidden lg:block bg-white border border-gray-200 rounded-lg overflow-hidden",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""}),i.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:""}),i.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:""})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:A.map(I=>i.jsxs("tr",{className:"hover:bg-gray-50",children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:E(I.status)}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("p",{className:"font-medium text-gray-900",children:I.project})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("p",{className:"text-sm text-gray-900",children:I.client})}),i.jsx("td",{className:"px-6 py-4",children:i.jsx("p",{className:"text-sm text-gray-900",children:I.siteAddress})}),i.jsx("td",{className:"px-6 py-4",children:i.jsx("p",{className:"text-sm text-gray-900",children:I.description})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("p",{className:"text-sm text-gray-900",children:I.assignedTo&&I.assignedTo.length>0?I.assignedTo.join(", "):"-"})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("div",{className:"relative inline-block",children:[(m==null?void 0:m.requestId)===I.id&&(m==null?void 0:m.field)==="requestDate"&&i.jsx("input",{ref:w,type:"date",defaultValue:Pe(I.requestDate,"yyyy-MM-dd"),onChange:G=>se(G.target.value),onBlur:()=>p(null),className:"absolute left-0 top-0 w-auto h-auto opacity-0 z-50",style:{pointerEvents:"auto"}}),i.jsxs("button",{onClick:()=>q(I.id,"requestDate"),className:"flex items-center space-x-2 text-sm text-gray-900 hover:text-gray-600 transition-colors",children:[i.jsx(Js,{className:"h-4 w-4"}),i.jsx("span",{children:Pe(I.requestDate,"yyyy.MM.dd (eee)",{locale:Qe})})]})]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("div",{className:"relative inline-block",children:[(m==null?void 0:m.requestId)===I.id&&(m==null?void 0:m.field)==="scheduledVisitDate"&&i.jsx("input",{ref:w,type:"date",defaultValue:I.scheduledVisitDate?Pe(I.scheduledVisitDate,"yyyy-MM-dd"):"",onChange:G=>se(G.target.value),onBlur:()=>p(null),className:"absolute left-0 top-0 w-auto h-auto opacity-0 z-50",style:{pointerEvents:"auto"}}),i.jsxs("button",{onClick:()=>q(I.id,"scheduledVisitDate"),className:"flex items-center space-x-2 text-sm text-gray-900 hover:text-gray-600 transition-colors",children:[i.jsx(Js,{className:"h-4 w-4"}),i.jsxs("span",{children:[I.scheduledVisitDate?Pe(I.scheduledVisitDate,"yyyy.MM.dd (eee)",{locale:Qe}):"-",I.scheduledVisitTime&&` ${_w(I.scheduledVisitTime)}`]})]})]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("div",{className:"flex items-center justify-center",children:I.images&&I.images.length>0?i.jsxs("div",{className:"flex gap-1",children:[I.images.slice(0,3).map((G,J)=>i.jsx("img",{src:G,alt:` ${J+1}`,className:"w-8 h-8 object-cover rounded cursor-pointer hover:opacity-75",onClick:()=>ee(G)},J)),I.images.length>3&&i.jsxs("span",{className:"text-xs text-gray-500",children:["+",I.images.length-3]})]}):i.jsx("button",{onClick:()=>{var G;g(I.id),(G=document.getElementById("as-image-file-input"))==null||G.click()},className:"text-gray-400 hover:text-gray-600",title:" ",children:i.jsx(Ii,{className:"h-4 w-4"})})})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[I.status!=="completed"?i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:()=>L(I.id,"completed"),className:"px-2 py-1 text-xs font-medium text-blue-700 bg-blue-50 hover:bg-blue-100 rounded transition-colors",children:""}),i.jsx("button",{onClick:()=>L(I.id,"revisit"),className:"px-2 py-1 text-xs font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded transition-colors",children:""})]}):i.jsx("button",{onClick:()=>L(I.id,"pending"),className:"px-2 py-1 text-xs font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded transition-colors",children:""}),i.jsx("button",{onClick:()=>g(y===I.id?null:I.id),className:`p-1.5 rounded transition-colors ${y===I.id?"text-blue-600 bg-blue-50":"text-gray-600 hover:text-gray-700 hover:bg-gray-50"}`,title:" ",children:i.jsx(Ii,{className:"h-4 w-4"})}),i.jsx("button",{onClick:()=>Y(I),className:"p-1.5 text-gray-600 hover:text-gray-700 hover:bg-gray-50 rounded transition-colors",title:"",children:i.jsx(zl,{className:"h-4 w-4"})}),i.jsx("button",{onClick:()=>Q(I.id,I.project),className:"p-1.5 text-rose-600 hover:text-rose-700 hover:bg-rose-50 rounded transition-colors",title:"",children:i.jsx(ir,{className:"h-4 w-4"})})]})})]},I.id))})]})}),c&&i.jsx(gZ,{request:d,onClose:()=>u(!1),onSave:R}),y&&i.jsxs("div",{className:"fixed bottom-4 right-4 bg-white rounded-lg shadow-xl border-2 border-gray-300 p-4 w-80 z-40",onDragOver:H,onDragLeave:ue,onDrop:C,children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("h3",{className:"font-semibold text-gray-900",children:" "}),i.jsx("button",{onClick:()=>g(null),className:"text-gray-400 hover:text-gray-600",children:i.jsx(ct,{className:"h-5 w-5"})})]}),(()=>{const I=a.find(J=>J.id===y),G=(I==null?void 0:I.images)||[];return G.length>0?i.jsxs("div",{className:"space-y-2",children:[i.jsx("div",{className:"grid grid-cols-3 gap-2 max-h-48 overflow-y-auto",children:G.map((J,U)=>i.jsxs("div",{className:"relative group",children:[i.jsx("img",{src:J,alt:` ${U+1}`,className:"w-full h-20 object-cover rounded cursor-pointer hover:opacity-75",onClick:()=>ee(J)}),i.jsx("button",{onClick:()=>be(U),className:"absolute -top-1 -right-1 p-1 bg-red-500 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:i.jsx(ct,{className:"h-3 w-3"})})]},U))}),i.jsx("button",{onClick:()=>{var J;return(J=document.getElementById("as-image-file-input"))==null?void 0:J.click()},className:"w-full py-2 text-sm text-gray-700 bg-gray-100 hover:bg-gray-200 rounded transition-colors",children:"+  "})]}):i.jsx("label",{htmlFor:"as-image-file-input",className:"block cursor-pointer",children:i.jsxs("div",{className:`border-2 border-dashed rounded-lg p-6 text-center transition-colors ${v?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400"}`,children:[i.jsx(kc,{className:"h-8 w-8 mx-auto text-gray-400 mb-2"}),i.jsx("p",{className:"text-sm font-medium text-gray-700",children:" "}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"  Ctrl+V "})]})})})()]}),S&&i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-90",onClick:()=>j(!1),children:i.jsxs("div",{className:"relative max-w-[90vw] max-h-[90vh]",children:[i.jsx("button",{onClick:I=>{I.stopPropagation(),j(!1)},className:"absolute -top-10 right-0 text-white hover:text-gray-300 transition-colors",children:i.jsx(ct,{className:"h-8 w-8"})}),i.jsx("img",{src:_,alt:" ",className:"max-w-full max-h-[90vh] object-contain",onClick:I=>I.stopPropagation()})]})})]})},vZ=({work:e,onClose:t,onSave:r})=>{const{register:n,handleSubmit:s,setValue:a,formState:{errors:o}}=wo(),{projects:l}=en(),[c,u]=N.useState(!1),[d,f]=N.useState([]),[h,x]=N.useState([]);N.useEffect(()=>{if(e)a("project",e.project),a("description",e.description),a("amount",e.amount),a("date",e.date.toISOString().split("T")[0]),a("notes",e.notes||""),x(e.images||[]),f(e.images||[]);else{const S=new Date().toISOString().split("T")[0];a("date",S),x([]),f([])}},[e,a]);const m=N.useCallback(S=>{var _;const j=(_=S.clipboardData)==null?void 0:_.items;if(j){for(let T=0;T<j.length;T++)if(j[T].type.indexOf("image")!==-1){S.preventDefault();const $=j[T].getAsFile();if($){const R=new FileReader;R.onload=Y=>{var q;const Q=(q=Y.target)==null?void 0:q.result;f(se=>[...se,Q]),x(se=>[...se,Q]),Z.success(" ")},R.readAsDataURL($)}}}},[]);N.useEffect(()=>(document.addEventListener("paste",m),()=>document.removeEventListener("paste",m)),[m]);const p=S=>{S.preventDefault(),u(!0)},w=S=>{S.preventDefault(),u(!1)},y=S=>{S.preventDefault(),u(!1);const j=Array.from(S.dataTransfer.files);j.forEach(_=>{if(_.type.startsWith("image/")){const T=new FileReader;T.onload=$=>{var Y;const R=(Y=$.target)==null?void 0:Y.result;f(Q=>[...Q,R]),x(Q=>[...Q,R])},T.readAsDataURL(_)}}),j.length>0&&Z.success(`${j.length}  `)},g=S=>{var _;const j=Array.from(((_=S.target)==null?void 0:_.files)||[]);j.forEach(T=>{if(T.type.startsWith("image/")){const $=new FileReader;$.onload=R=>{var Q;const Y=(Q=R.target)==null?void 0:Q.result;f(q=>[...q,Y]),x(q=>[...q,Y])},$.readAsDataURL(T)}}),j.length>0&&Z.success(`${j.length}  `)},v=S=>{f(j=>j.filter((_,T)=>T!==S)),x(j=>j.filter((_,T)=>T!==S)),Z.success(" ")},b=S=>{const j={...S,amount:Number(S.amount),date:new Date(S.date),images:h};r(j)};return i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"flex items-center justify-between p-6 border-b sticky top-0 bg-white z-10",children:[i.jsx("h2",{className:"text-xl font-semibold",children:e?" ":" "}),i.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:i.jsx(ct,{className:"h-5 w-5"})})]}),i.jsxs("form",{onSubmit:s(b),className:"p-6 space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"}),i.jsxs("select",{...n("project",{required:" "}),className:"input",children:[i.jsx("option",{value:"",children:""}),l.map(S=>i.jsx("option",{value:S.name,children:S.name},S.id))]}),o.project&&i.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(o.project.message)})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"}),i.jsx("textarea",{...n("description",{required:"  "}),rows:3,className:"input",placeholder:"    (:    )"}),o.description&&i.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(o.description.message)})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" () *"}),i.jsx("input",{...n("amount",{required:" ",min:{value:0,message:" 0  "}}),type:"number",className:"input",placeholder:": 500000"}),o.amount&&i.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(o.amount.message)})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"}),i.jsx("input",{...n("date",{required:" "}),type:"date",className:"input"}),o.date&&i.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(o.date.message)})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),i.jsx("textarea",{...n("notes"),rows:2,className:"input",placeholder:"  ()"})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"  (Ctrl+V  )"}),i.jsx("div",{className:`border-2 border-dashed rounded-lg p-6 transition-colors ${c?"border-gray-500 bg-gray-50":"border-gray-300"}`,onDragOver:p,onDragLeave:w,onDrop:y,children:i.jsxs("div",{className:"text-center",children:[i.jsx(Ii,{className:"mx-auto h-12 w-12 text-gray-400"}),i.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"    "}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:" Ctrl+V   "}),i.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:g,className:"hidden",id:"file-upload-additional"}),i.jsxs("label",{htmlFor:"file-upload-additional",className:"mt-4 inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 cursor-pointer",children:[i.jsx(kc,{className:"h-4 w-4 mr-2"})," "]})]})}),d.length>0&&i.jsx("div",{className:"mt-4 grid grid-cols-2 md:grid-cols-4 gap-4",children:d.map((S,j)=>i.jsxs("div",{className:"relative group",children:[i.jsx("img",{src:S,alt:` ${j+1}`,className:"w-full h-32 object-cover rounded-lg"}),i.jsx("button",{type:"button",onClick:()=>v(j),className:"absolute top-2 right-2 p-1 bg-red-500 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:i.jsx(ir,{className:"h-3 w-3"})})]},j))})]}),i.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[i.jsx("button",{type:"button",onClick:t,className:"btn btn-outline",children:""}),i.jsx("button",{type:"submit",className:"btn btn-primary",children:e?"":""})]})]})]})})},ll={getAllAdditionalWorks:async()=>(await Te.get("/additional-works")).data,getAdditionalWorkById:async e=>(await Te.get(`/additional-works/${e}`)).data,createAdditionalWork:async e=>{const t={project:e.project,description:e.description,amount:e.amount,work_date:e.date instanceof Date?e.date.toISOString().split("T")[0]:e.date,notes:e.notes||""};return console.log("[additionalWorkService.createAdditionalWork] Sending to backend:",t),(await Te.post("/additional-works",t)).data},updateAdditionalWork:async(e,t)=>{const r={};return t.project!==void 0&&(r.project=t.project),t.description!==void 0&&(r.description=t.description),t.amount!==void 0&&(r.amount=t.amount),t.date!==void 0&&(r.work_date=t.date instanceof Date?t.date.toISOString().split("T")[0]:t.date),t.notes!==void 0&&(r.notes=t.notes),console.log("[additionalWorkService.updateAdditionalWork] Sending to backend:",r),(await Te.put(`/additional-works/${e}`,r)).data},deleteAdditionalWork:async e=>{await Te.delete(`/additional-works/${e}`)}},xZ=()=>{const[e,t]=N.useState([]),[r,n]=N.useState(!1),[s,a]=N.useState(null),[o,l]=N.useState(""),[c,u]=N.useState(new Set);N.useEffect(()=>{d()},[]),N.useEffect(()=>{const v=()=>{f()};return window.addEventListener("headerAddButtonClick",v),()=>window.removeEventListener("headerAddButtonClick",v)},[]);const d=async()=>{try{const v=await ll.getAllAdditionalWorks();t(v.map(b=>({id:b._id,project:b.project,description:b.description,amount:b.amount,date:new Date(b.date),notes:b.notes})))}catch(v){console.error("Failed to load additional works:",v),Z.error("   ")}},f=()=>{a(null),n(!0)},h=v=>{a(v),n(!0)},x=async(v,b)=>{if(window.confirm(`"${b}"  ?

    .`))try{await ll.deleteAdditionalWork(v),await d(),Z.success(" ")}catch(S){console.error("Failed to delete additional work:",S),Z.error("  ")}},m=async v=>{try{s?(await ll.updateAdditionalWork(s.id,v),Z.success(" ")):(await ll.createAdditionalWork(v),Z.success(" ")),await d(),n(!1)}catch(b){console.error("Failed to save additional work:",b),Z.error("  ")}},p=e.filter(v=>{var S,j;return(((S=v.project)==null?void 0:S.toLowerCase())||"").includes(o.toLowerCase())||(((j=v.description)==null?void 0:j.toLowerCase())||"").includes(o.toLowerCase())}),w=p.reduce((v,b)=>{const S=v.find(j=>j.projectName===b.project);return S?(S.works.push(b),S.totalAmount+=b.amount):v.push({projectName:b.project,works:[b],totalAmount:b.amount}),v},[]);w.sort((v,b)=>v.projectName.localeCompare(b.projectName)),w.forEach(v=>{v.works.sort((b,S)=>S.date.getTime()-b.date.getTime())});const y=v=>{const b=new Set(c);b.has(v)?b.delete(v):b.add(v),u(b)},g=w.reduce((v,b)=>v+b.totalAmount,0);return i.jsxs("div",{className:"space-y-3 md:space-y-4",children:[i.jsx("div",{className:"flex items-center justify-end",children:i.jsx("button",{onClick:f,className:"hidden lg:inline-flex btn btn-primary px-4 py-2",children:"+ "})}),i.jsx("div",{children:i.jsx("input",{type:"text",placeholder:"...",value:o,onChange:v=>l(v.target.value),className:"w-full px-3 md:px-4 py-2 text-sm md:text-base border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-600 focus:border-transparent"})}),w.length>0&&i.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4 md:p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm md:text-base text-gray-600",children:"  "}),i.jsxs("p",{className:"text-xl md:text-2xl font-bold text-gray-900 mt-1",children:[g.toLocaleString(),""]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:"text-sm text-gray-600",children:[w.length," "]}),i.jsxs("p",{className:"text-sm text-gray-600",children:[p.length,""]})]})]})}),i.jsxs("div",{className:"md:hidden space-y-4",children:[w.map(v=>i.jsxs("div",{className:"card overflow-hidden",children:[i.jsxs("button",{onClick:()=>y(v.projectName),className:"w-full p-4 flex items-center justify-between bg-gray-50 hover:bg-gray-100 transition-colors",children:[i.jsxs("div",{className:"flex-1 text-left",children:[i.jsx("h3",{className:"font-bold text-base text-gray-900",children:v.projectName}),i.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[v.works.length,"  ",v.totalAmount.toLocaleString(),""]})]}),c.has(v.projectName)?i.jsx(vx,{className:"h-5 w-5 text-gray-600"}):i.jsx(yx,{className:"h-5 w-5 text-gray-600"})]}),c.has(v.projectName)&&i.jsx("div",{className:"divide-y divide-gray-200",children:v.works.map(b=>i.jsxs("div",{className:"p-3 hover:bg-gray-50 transition-colors",children:[i.jsxs("div",{className:"flex items-start justify-between mb-2",children:[i.jsx("p",{className:"text-sm text-gray-600",children:Pe(b.date,"yyyy.MM.dd (eee)",{locale:Qe})}),i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx("button",{onClick:()=>h(b),className:"text-gray-600 hover:text-gray-700 p-1",children:i.jsx(zl,{className:"h-4 w-4"})}),i.jsx("button",{onClick:()=>x(b.id,b.project),className:"text-rose-600 hover:text-rose-700 p-1",children:i.jsx(ir,{className:"h-4 w-4"})})]})]}),i.jsxs("div",{className:"space-y-2 text-sm",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-gray-500",children:""}),i.jsx("p",{className:"text-gray-900 mt-0.5",children:b.description})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-gray-500",children:""}),i.jsxs("p",{className:"text-gray-900 mt-0.5 font-medium",children:[b.amount.toLocaleString(),""]})]}),b.notes&&i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-gray-500",children:""}),i.jsx("p",{className:"text-gray-900 mt-0.5",children:b.notes})]})]})]},b.id))})]},v.projectName)),w.length===0&&i.jsx("div",{className:"text-center py-8 text-gray-500",children:" "})]}),i.jsxs("div",{className:"hidden md:block space-y-4",children:[w.map(v=>i.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:[i.jsxs("button",{onClick:()=>y(v.projectName),className:"w-full px-6 py-4 flex items-center justify-between bg-gray-50 hover:bg-gray-100 transition-colors",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("h3",{className:"font-bold text-lg text-gray-900",children:v.projectName}),i.jsxs("span",{className:"text-sm text-gray-600",children:[v.works.length,""]})]}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-sm text-gray-500",children:" "}),i.jsxs("p",{className:"text-lg font-bold text-gray-900",children:[v.totalAmount.toLocaleString(),""]})]}),c.has(v.projectName)?i.jsx(vx,{className:"h-5 w-5 text-gray-600"}):i.jsx(yx,{className:"h-5 w-5 text-gray-600"})]})]}),c.has(v.projectName)&&i.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""}),i.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:""}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""}),i.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:""}),i.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:""})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:v.works.map(b=>i.jsxs("tr",{className:"hover:bg-gray-50",children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("p",{className:"text-sm text-gray-900",children:Pe(b.date,"yyyy.MM.dd (eee)",{locale:Qe})})}),i.jsx("td",{className:"px-6 py-4",children:i.jsx("p",{className:"text-sm text-gray-900",children:b.description})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:i.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[b.amount.toLocaleString(),""]})}),i.jsx("td",{className:"px-6 py-4",children:i.jsx("p",{className:"text-sm text-gray-900",children:b.notes||"-"})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:i.jsx("button",{onClick:()=>h(b),className:"text-gray-600 hover:text-gray-700 transition-colors",children:i.jsx(zl,{className:"h-4 w-4"})})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:i.jsx("button",{onClick:()=>x(b.id,b.project),className:"text-rose-600 hover:text-rose-700 transition-colors",children:i.jsx(ir,{className:"h-4 w-4"})})})]},b.id))})]})]},v.projectName)),w.length===0&&i.jsx("div",{className:"text-center py-8 text-gray-500 bg-white border border-gray-200 rounded-lg",children:" "})]}),r&&i.jsx(vZ,{work:s,onClose:()=>n(!1),onSave:m})]})},bZ=()=>{const{projects:e,constructionPayments:t,loadConstructionPaymentsFromAPI:r,addConstructionPaymentToAPI:n,updateConstructionPaymentInAPI:s,deleteConstructionPaymentFromAPI:a,executionRecords:o,payments:l}=en(),[c,u]=N.useState(t),[d,f]=N.useState([]);N.useEffect(()=>{console.log(" ConstructionPayment: Loading payments from API..."),r().then(()=>{console.log(" ConstructionPayment: Payments loaded successfully")}).catch(P=>{console.error(" ConstructionPayment: Failed to load construction payments:",P),Z.error("   ")})},[r]),N.useEffect(()=>{console.log(" ConstructionPayment: Loading additional works from API..."),ll.getAllAdditionalWorks().then(P=>{console.log(" ConstructionPayment: Additional works loaded:",P),f(P.map(V=>({_id:V._id,project:V.project,amount:V.amount})))}).catch(P=>{console.error(" ConstructionPayment: Failed to load additional works:",P)})},[]),N.useEffect(()=>{const P=()=>{te()};return window.addEventListener("headerAddButtonClick",P),()=>window.removeEventListener("headerAddButtonClick",P)},[]),N.useEffect(()=>{console.log(" ConstructionPayment: Syncing with dataStore"),console.log(" constructionPayments:",t),console.log(" projects:",e);const P=e.map(ce=>ce.name);console.log(" Valid project names:",P);const V=t.filter(ce=>P.includes(ce.project));console.log(" Valid records after filtering:",V);const re=V.map(ce=>({...ce,vatType:ce.vatType||"percentage",vatPercentage:ce.vatPercentage??100,vatAmount:ce.vatAmount??0,payments:ce.payments.map(Ne=>{var Me;return{...Ne,type:Ne.type||((Me=Ne.types)==null?void 0:Me[0])||""}})}));if(console.log(" Normalized records:",re),V.length<t.length){const ce=t.filter(Ne=>!P.includes(Ne.project));ce.forEach(async Ne=>{try{await a(Ne.id)}catch(Me){console.error("Failed to delete orphaned record:",Me)}}),console.log("Removed orphaned construction payment records:",ce.map(Ne=>`${Ne.project} (${Ne.id})`))}u(re)},[t,e,a]);const[h,x]=N.useState(""),[m,p]=N.useState(null),[w,y]=N.useState(!1),[g,v]=N.useState(!1),[b,S]=N.useState(null),[j,_]=N.useState("remaining"),[T,$]=N.useState({projectId:"",totalAmount:0,vatType:"percentage",vatPercentage:100,vatAmount:0}),[R,Y]=N.useState({types:[],percentage:0,amount:0,date:"",method:"",notes:""}),Q={:10,:40,:40,:10,:0},q=P=>P.reduce((V,re)=>V+(Q[re]||0),0),se=(P,V)=>{const re=m?e.find(Me=>Me.name===m.project):null;if(!re||P.length===0||!re.startDate||!re.endDate)return"";const ce=new Date(re.startDate),Ne=new Date(re.endDate);if(isNaN(ce.getTime())||isNaN(Ne.getTime())||P.includes(""))return"";if(P.includes("")){const Me=new Date(ce);return Me.setDate(Me.getDate()-7),Pe(Me,"yyyy-MM-dd")}else if(P.includes("")){const Me=ce.getTime()+(Ne.getTime()-ce.getTime())/2;return Pe(new Date(Me),"yyyy-MM-dd")}else if(P.includes("")||P.includes(""))return Pe(Ne,"yyyy-MM-dd");return""},pe=P=>{const V=e.find(z=>z.name===P.project);if(!V)return[];if(!V.startDate||!V.endDate)return[];const re=C(P),ce=new Date(V.startDate),Ne=new Date(V.endDate);if(isNaN(ce.getTime())||isNaN(Ne.getTime()))return[];const Me=[];Me.push({type:"",date:null,amount:Math.round(re*.1),percentage:10,status:"pending"});const O=new Date(ce);O.setDate(O.getDate()-7),Me.push({type:"",date:O,amount:Math.round(re*.4),percentage:40,status:O<=new Date?"overdue":"pending"});const de=ce.getTime()+(Ne.getTime()-ce.getTime())/2,M=new Date(de);return Me.push({type:"",date:M,amount:Math.round(re*.4),percentage:40,status:M<=new Date?"overdue":"pending"}),Me.push({type:"",date:Ne,amount:Math.round(re*.1),percentage:10,status:Ne<=new Date?"overdue":"pending"}),P.payments.forEach(z=>{var k;(((k=z.type)==null?void 0:k.split(", "))||[]).forEach(W=>{const ie=Me.find(ne=>ne.type===W.trim());ie&&(ie.status="completed",ie.actualDate=z.date,ie.actualAmount=z.amount)})}),Me},te=()=>{y(!0)},be=async()=>{console.log(" handleSaveProject called"),console.log(" newProject:",T),console.log(" projects:",e);const P=e.find(V=>V.id===T.projectId||V.id===parseInt(T.projectId)||V.id.toString()===T.projectId.toString());if(console.log(" selectedProject:",P),console.log(" totalAmount:",T.totalAmount,"type:",typeof T.totalAmount),!P){alert(" ");return}if(T.totalAmount<=0){alert("   (0  )");return}try{const V={id:"",project_id:P.id,project:P.name,client:P.client,totalAmount:T.totalAmount,vatType:T.vatType,vatPercentage:T.vatPercentage,vatAmount:T.vatAmount,payments:[]};console.log(" Sending to API:",V),await n(V),Z.success(" "),y(!1),$({projectId:"",totalAmount:0,vatType:"percentage",vatPercentage:100,vatAmount:0})}catch(V){console.error("Failed to add construction payment:",V),Z.error("  ")}},ee=()=>{S(null),Y({types:[],percentage:0,amount:0,date:"",method:"",notes:""}),v(!0)},H=P=>{const V=m==null?void 0:m.payments[P];if(!V)return;S(P);const re=V.type?V.type.split(",").map(ce=>ce.trim()):[];Y({types:re,percentage:q(re),amount:V.amount,date:Pe(V.date,"yyyy-MM-dd"),method:V.method,notes:V.notes||""}),v(!0)},ue=async()=>{if(!m||!R.date||R.amount<=0||R.types.length===0){alert("  ");return}try{let P;b!==null?P=m.payments.map((ce,Ne)=>Ne===b?{type:R.types.join(", "),amount:R.amount,date:new Date(R.date),method:R.method,notes:R.notes}:ce):P=[...m.payments,{type:R.types.join(", "),amount:R.amount,date:new Date(R.date),method:R.method,notes:R.notes}];const V={...m,payments:P};await s(m.id,V),Z.success(b!==null?" ":" ");const re=c.map(ce=>ce.id===m.id?V:ce);u(re),p(V),v(!1),S(null),Y({types:[],percentage:0,amount:0,date:"",method:"",notes:""})}catch(P){console.error("Failed to save payment:",P),Z.error("  ")}},C=P=>{const V=P.totalAmount;if(P.vatType==="amount")return V+(P.vatAmount||0);{const re=V*((P.vatPercentage??100)/100)*.1;return V+re}},L=P=>{const V=J(P.project),re=P.totalAmount+V;if(P.vatType==="amount")return re+(P.vatAmount||0);{const ce=re*((P.vatPercentage??100)/100)*.1;return re+ce}},E=P=>P.vatType==="amount"?P.vatAmount||0:P.totalAmount*((P.vatPercentage??100)/100)*.1,A=P=>{if(!m)return 0;const V=C(m);return Math.round(V*P/100)},K=P=>P.payments.reduce((V,re)=>V+re.amount,0),I=P=>L(P)-K(P),G=P=>{const V=o.filter(ce=>ce.project===P).reduce((ce,Ne)=>ce+(Ne.totalAmount||0),0),re=l.filter(ce=>(ce.status==="approved"||ce.status==="completed")&&ce.project===P).reduce((ce,Ne)=>ce+Ne.amount,0);return V+re},J=P=>d.filter(V=>V.project===P).reduce((V,re)=>V+re.amount,0),U=c.filter(P=>(P.project||"").toLowerCase().includes(h.toLowerCase())||(P.client||"").toLowerCase().includes(h.toLowerCase())).filter(P=>{if(j==="all")return!0;const V=I(P);return j==="completed"?V===0:j==="remaining"?V>0:!0});return i.jsxs("div",{className:"space-y-3 md:space-y-4",children:[i.jsx("div",{className:"flex items-center justify-end",children:i.jsx("button",{onClick:te,className:"hidden lg:inline-flex btn btn-primary px-4 py-2",children:"+ "})}),i.jsx("div",{className:"border-b border-gray-200",children:i.jsx("nav",{className:"flex space-x-4 md:space-x-8 overflow-x-auto",children:[{id:"remaining",label:"",count:c.filter(P=>I(P)>0).length},{id:"completed",label:"",count:c.filter(P=>I(P)===0).length},{id:"all",label:"",count:c.length}].map(P=>i.jsxs("button",{onClick:()=>_(P.id),className:`py-3 md:py-4 px-1 border-b-2 font-medium text-xs md:text-sm transition-colors whitespace-nowrap ${j===P.id?"border-gray-700 text-gray-700":"border-transparent text-gray-400 hover:text-gray-700 hover:border-gray-300"}`,children:[P.label,i.jsx("span",{className:`ml-1 md:ml-2 py-0.5 px-1.5 md:px-2 rounded-full text-[10px] md:text-xs font-semibold ${j===P.id?"bg-gray-700 text-white":"bg-gray-200 text-gray-600"}`,children:P.count})]},P.id))})}),i.jsx("div",{children:i.jsx("input",{type:"text",placeholder:"   ...",value:h,onChange:P=>x(P.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-600 focus:border-transparent"})}),i.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:U.map(P=>{const V=K(P),re=I(P),ce=C(P),Ne=V/ce*100;return i.jsxs("div",{className:"card hover:border-gray-400 transition-colors",children:[i.jsxs("div",{className:"mb-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h3",{className:"font-bold text-lg text-gray-900",children:P.project}),i.jsx("button",{onClick:()=>p(P),className:"text-sm text-gray-600 hover:text-gray-800",children:""})]}),i.jsxs("p",{className:"text-sm text-gray-600",children:[P.client,""]})]}),i.jsxs("div",{className:"mb-4 space-y-2",children:[i.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[i.jsx("p",{className:"text-xs text-gray-600 mb-1",children:" "}),i.jsxs("p",{className:"text-lg font-bold text-gray-900",children:["",P.totalAmount.toLocaleString()]})]}),i.jsxs("div",{className:"p-3 bg-gray-50 border border-gray-200 rounded-lg",children:[i.jsx("div",{className:"flex items-center justify-between mb-1",children:i.jsxs("p",{className:"text-xs text-gray-700",children:["  ( ",P.vatType==="percentage"?`${P.vatPercentage??100}%`:`${(P.vatAmount||0).toLocaleString()}`," )"]})}),i.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["",ce.toLocaleString()]})]})]}),i.jsxs("div",{className:"mb-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-sm text-gray-600",children:""}),i.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[Ne.toFixed(1),"%"]})]}),i.jsx("div",{className:"w-full bg-gray-200 h-2 rounded-full",children:i.jsx("div",{className:"bg-gray-600 h-2 rounded-full transition-all",style:{width:`${Ne}%`}})})]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-4",children:[i.jsxs("div",{className:"p-3 bg-gray-50 border border-gray-200 rounded-lg",children:[i.jsx("p",{className:"text-xs text-gray-700 mb-1",children:""}),i.jsxs("p",{className:"text-base font-bold text-gray-800",children:["",V.toLocaleString()]})]}),i.jsxs("div",{className:"p-3 bg-gray-50 border border-gray-200 rounded-lg",children:[i.jsx("p",{className:"text-xs text-gray-700 mb-1",children:" "}),i.jsxs("p",{className:"text-base font-bold text-gray-800",children:["",G(P.project).toLocaleString()]})]}),i.jsxs("div",{className:"p-3 bg-gray-50 border border-gray-200 rounded-lg",children:[i.jsx("p",{className:"text-xs text-gray-700 mb-1",children:" "}),i.jsxs("p",{className:"text-base font-bold text-gray-800",children:["",J(P.project).toLocaleString()]})]}),i.jsxs("div",{className:"p-3 bg-gray-50 border border-gray-200 rounded-lg",children:[i.jsx("p",{className:"text-xs text-gray-700 mb-1",children:""}),i.jsxs("p",{className:"text-base font-bold text-gray-800",children:["",re.toLocaleString()]})]})]}),P.payments.length>0&&i.jsxs("div",{className:"border-t pt-4",children:[i.jsx("p",{className:"text-xs text-gray-500 mb-2",children:" "}),P.payments.slice(-2).reverse().map((Me,O)=>i.jsxs("div",{className:"flex items-center justify-between text-sm mb-1",children:[i.jsxs("span",{className:"text-gray-700",children:[Me.type||""," - ",Pe(Me.date,"MM/dd")]}),i.jsxs("span",{className:"font-medium text-gray-900",children:["",Me.amount.toLocaleString()]})]},O))]})]},P.id)})}),m&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"bg-white rounded-lg max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[i.jsx("div",{className:"p-6 border-b",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-semibold",children:m.project}),i.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[m.client,""]})]}),i.jsx("button",{onClick:()=>p(null),className:"p-2 hover:bg-gray-100 rounded-lg",children:""})]})}),i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"mb-6",children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:" "}),i.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[i.jsx("div",{className:"space-y-3",children:pe(m).map((P,V)=>{var Ne;const ce={:"contract",:"start",:"middle",:"final"}[P.type];return i.jsxs("div",{className:"flex items-center justify-between gap-3",children:[i.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[i.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded ${P.status==="completed"?"bg-green-100 text-green-800":P.status==="overdue"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:P.type}),P.status!=="completed"?i.jsx("input",{type:"date",value:(Ne=m.expectedPaymentDates)!=null&&Ne[ce]?Pe(new Date(m.expectedPaymentDates[ce]),"yyyy-MM-dd"):P.date?Pe(P.date,"yyyy-MM-dd"):"",onChange:async Me=>{const O=Me.target.value?new Date(Me.target.value):null,de={...m.expectedPaymentDates,[ce]:O},M={...m,expectedPaymentDates:de};p(M);try{await s(m.id,{expectedPaymentDates:de});const z=c.map(D=>D.id===m.id?M:D);u(z),Z.success("  ")}catch(z){console.error("Failed to update payment date:",z),Z.error("  ")}},className:"px-3 py-1.5 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-gray-600"}):i.jsxs("span",{className:"text-sm text-gray-700",children:[P.date?Pe(P.date,"yyyy MM dd"):" ",P.actualDate&&i.jsxs("span",{className:"text-green-600 ml-2",children:["(: ",Pe(P.actualDate,"MM/dd"),")"]})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["",P.amount.toLocaleString(),i.jsxs("span",{className:"text-xs text-gray-500 ml-1",children:["(",P.percentage,"%)"]})]}),P.status==="completed"&&P.actualAmount&&i.jsxs("p",{className:"text-xs text-green-600",children:[": ",P.actualAmount.toLocaleString()]})]})]},V)})}),i.jsx("div",{className:"mt-4 pt-3 border-t border-gray-200",children:i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-gray-600",children:" "}),i.jsxs("span",{className:"font-bold text-gray-900",children:["",C(m).toLocaleString()]})]})})]})]}),i.jsxs("div",{className:"space-y-4 mb-6",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"p-4 bg-gray-50 border border-gray-300 rounded-lg",children:[i.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"  ()"}),i.jsx("input",{type:"number",value:m.totalAmount||"",onChange:async P=>{const V=P.target.value===""?0:Number(P.target.value),re={...m,totalAmount:V};p(re);try{await s(m.id,re);const ce=c.map(Ne=>Ne.id===m.id?re:Ne);u(ce)}catch(ce){console.error("Failed to update total amount:",ce),Z.error("  ")}},className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-lg font-bold focus:outline-none focus:ring-2 focus:ring-gray-600 focus:border-transparent",placeholder:"50000000",min:"0"}),i.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"   "})]}),i.jsxs("div",{className:"p-4 bg-gray-50 border border-gray-200 rounded-lg",children:[i.jsxs("p",{className:"text-xs text-gray-700 mb-1",children:["  ( ",m.vatType==="percentage"?`${m.vatPercentage??100}%`:`${(m.vatAmount||0).toLocaleString()}`," )"]}),i.jsxs("p",{className:"text-xl font-bold text-gray-900",children:["",C(m).toLocaleString()]})]})]}),i.jsxs("div",{className:"p-4 bg-gray-50 border border-gray-300 rounded-lg",children:[i.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"  "}),i.jsxs("div",{className:"flex gap-2 mb-3",children:[i.jsx("button",{type:"button",onClick:async()=>{const P={...m,vatType:"percentage"};p(P);try{await s(m.id,P);const V=c.map(re=>re.id===m.id?P:re);u(V)}catch(V){console.error("Failed to update VAT type:",V),Z.error("   ")}},className:`flex-1 px-3 py-2 text-sm border rounded-lg font-medium transition-colors ${m.vatType==="percentage"?"border-gray-900 bg-gray-900 text-white":"border-gray-300 bg-white text-gray-700 hover:border-gray-400"}`,children:" (%)"}),i.jsx("button",{type:"button",onClick:async()=>{const P={...m,vatType:"amount"};p(P);try{await s(m.id,P);const V=c.map(re=>re.id===m.id?P:re);u(V)}catch(V){console.error("Failed to update VAT type:",V),Z.error("   ")}},className:`flex-1 px-3 py-2 text-sm border rounded-lg font-medium transition-colors ${m.vatType==="amount"?"border-gray-900 bg-gray-900 text-white":"border-gray-300 bg-white text-gray-700 hover:border-gray-400"}`,children:" ()"})]}),m.vatType==="percentage"&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"   (%)"}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("input",{type:"number",value:m.vatPercentage,onChange:async P=>{const V=Number(P.target.value),re={...m,vatPercentage:V};p(re);try{await s(m.id,re);const ce=c.map(Ne=>Ne.id===m.id?re:Ne);u(ce)}catch(ce){console.error("Failed to update VAT percentage:",ce),Z.error("   ")}},className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-gray-600 focus:border-transparent",placeholder:"100",min:"0",max:"100"}),i.jsx("div",{className:"text-xs text-gray-600",children:i.jsxs("p",{children:[": ",E(m).toLocaleString()]})})]}),i.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"0%:   | 100%:     | 50%:   "})]}),m.vatType==="amount"&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"   ()"}),i.jsx("input",{type:"number",value:m.vatAmount,onChange:async P=>{const V=Number(P.target.value),re={...m,vatAmount:V};p(re);try{await s(m.id,re);const ce=c.map(Ne=>Ne.id===m.id?re:Ne);u(ce)}catch(ce){console.error("Failed to update VAT amount:",ce),Z.error("   ")}},className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-gray-600 focus:border-transparent",placeholder:"5000000",min:"0"}),i.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"    "})]})]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[i.jsx("p",{className:"text-xs text-gray-700 mb-1",children:""}),i.jsxs("p",{className:"text-lg font-bold text-gray-800",children:["",K(m).toLocaleString()]})]}),i.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[i.jsx("p",{className:"text-xs text-gray-700 mb-1",children:" "}),i.jsxs("p",{className:"text-lg font-bold text-gray-800",children:["",G(m.project).toLocaleString()]})]}),i.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[i.jsx("p",{className:"text-xs text-gray-700 mb-1",children:" "}),i.jsxs("p",{className:"text-lg font-bold text-gray-800",children:["",J(m.project).toLocaleString()]})]}),i.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[i.jsx("p",{className:"text-xs text-gray-700 mb-1",children:""}),i.jsxs("p",{className:"text-lg font-bold text-gray-800",children:["",I(m).toLocaleString()]})]})]})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-lg font-semibold",children:" "}),i.jsx("button",{onClick:ee,className:"btn btn-primary btn-sm",children:"+  "})]}),i.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""}),i.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:""})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:m.payments.map((P,V)=>i.jsxs("tr",{className:"hover:bg-gray-50",children:[i.jsx("td",{className:"px-4 py-3",children:i.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-gray-100 text-gray-800 rounded",children:P.type||""})}),i.jsxs("td",{className:"px-4 py-3 font-medium text-gray-900",children:["",P.amount.toLocaleString()]}),i.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:Pe(P.date,"yyyy MM dd")}),i.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:P.method}),i.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:P.notes||"-"}),i.jsx("td",{className:"px-4 py-3 text-center",children:i.jsx("button",{onClick:()=>H(V),className:"text-gray-600 hover:text-gray-700 transition-colors",children:i.jsx(zl,{className:"h-4 w-4"})})})]},V))})]})})]})]}),i.jsxs("div",{className:"p-6 border-t flex justify-between",children:[i.jsx("button",{onClick:async()=>{if(m&&window.confirm(`   ?
    .`))try{await a(m.id),Z.success(" "),p(null)}catch(P){console.error("Failed to delete construction payment:",P),Z.error(" ")}},className:"btn btn-outline text-red-600 hover:bg-red-50 hover:border-red-300",children:""}),i.jsx("button",{onClick:()=>p(null),className:"btn btn-outline",children:""})]})]})}),w&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full",children:[i.jsx("div",{className:"p-6 border-b",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h2",{className:"text-xl font-semibold",children:"  "}),i.jsx("button",{onClick:()=>y(!1),className:"p-2 hover:bg-gray-100 rounded-lg",children:i.jsx(ct,{className:"h-5 w-5"})})]})}),i.jsxs("div",{className:"p-6 space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  *"}),i.jsxs("select",{value:T.projectId,onChange:P=>$({...T,projectId:P.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-600 focus:border-transparent",children:[i.jsx("option",{value:"",children:""}),e.map(P=>i.jsxs("option",{value:P.id,children:[P.name," - ",P.client]},P.id))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  *"}),i.jsx("input",{type:"number",value:T.totalAmount||"",onChange:P=>$({...T,totalAmount:Number(P.target.value)}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-600 focus:border-transparent",placeholder:"50000000"}),i.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"  ( )"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"   *"}),i.jsxs("div",{className:"flex gap-2 mb-3",children:[i.jsx("button",{type:"button",onClick:()=>$({...T,vatType:"percentage"}),className:`flex-1 px-3 py-2 text-sm border rounded-lg font-medium transition-colors ${T.vatType==="percentage"?"border-gray-900 bg-gray-900 text-white":"border-gray-300 bg-white text-gray-700 hover:border-gray-400"}`,children:" (%)"}),i.jsx("button",{type:"button",onClick:()=>$({...T,vatType:"amount"}),className:`flex-1 px-3 py-2 text-sm border rounded-lg font-medium transition-colors ${T.vatType==="amount"?"border-gray-900 bg-gray-900 text-white":"border-gray-300 bg-white text-gray-700 hover:border-gray-400"}`,children:" ()"})]}),T.vatType==="percentage"&&i.jsxs("div",{children:[i.jsx("input",{type:"number",value:T.vatPercentage??100,onChange:P=>{const V=P.target.value===""?100:Number(P.target.value);$({...T,vatPercentage:V})},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-600 focus:border-transparent",placeholder:"100",min:"0",max:"100"}),i.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"0%:   | 100%:     | 50%:   "})]}),T.vatType==="amount"&&i.jsxs("div",{children:[i.jsx("input",{type:"number",value:T.vatAmount??0,onChange:P=>{const V=P.target.value===""?0:Number(P.target.value);$({...T,vatAmount:V})},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-600 focus:border-transparent",placeholder:"5000000",min:"0"}),i.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"    "})]}),T.totalAmount>0&&i.jsxs("div",{className:"mt-2 p-3 bg-gray-50 border border-gray-200 rounded-lg",children:[i.jsx("p",{className:"text-xs text-gray-700 mb-1",children:"  ( )"}),i.jsxs("p",{className:"text-xl font-bold text-gray-900",children:["",(T.totalAmount+(T.vatType==="percentage"?T.totalAmount*((T.vatPercentage??100)/100)*.1:T.vatAmount??0)).toLocaleString()]}),i.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:["=  ",T.totalAmount.toLocaleString()," +  ",(T.vatType==="percentage"?T.totalAmount*((T.vatPercentage??100)/100)*.1:T.vatAmount??0).toLocaleString()]})]})]})]}),i.jsxs("div",{className:"p-6 border-t flex justify-end space-x-3",children:[i.jsx("button",{onClick:()=>y(!1),className:"btn btn-outline",children:""}),i.jsx("button",{onClick:be,className:"btn btn-primary",children:""})]})]})}),g&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full",children:[i.jsx("div",{className:"p-6 border-b",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h2",{className:"text-xl font-semibold",children:b!==null?" ":" "}),i.jsx("button",{onClick:()=>{v(!1),S(null)},className:"p-2 hover:bg-gray-100 rounded-lg",children:i.jsx(ct,{className:"h-5 w-5"})})]})}),i.jsxs("div",{className:"p-6 space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" * (  )"}),i.jsx("div",{className:"space-y-2",children:["","","","",""].map(P=>{const V=Q[P];return i.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:R.types.includes(P),onChange:re=>{let ce;re.target.checked?ce=[...R.types,P]:ce=R.types.filter(de=>de!==P);const Ne=q(ce),Me=A(Ne),O=se(ce);Y({...R,types:ce,percentage:Ne,amount:Me,date:O||R.date})},className:"w-4 h-4 text-gray-900 border-gray-300 rounded focus:ring-gray-600"}),i.jsxs("span",{className:"text-sm text-gray-900",children:[P,i.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:["(",V,"%)"]}),P===""&&i.jsx("span",{className:"text-xs text-gray-400 ml-1",children:"(  )"}),P===""&&i.jsx("span",{className:"text-xs text-gray-400 ml-1",children:"(  1 )"}),P===""&&i.jsx("span",{className:"text-xs text-gray-400 ml-1",children:"( )"}),P===""&&i.jsx("span",{className:"text-xs text-gray-400 ml-1",children:"( )"}),P===""&&i.jsx("span",{className:"text-xs text-gray-400 ml-1",children:"( )"})]})]},P)})}),R.types.length>0&&i.jsx("div",{className:"mt-2 p-2 bg-gray-50 border border-gray-200 rounded",children:i.jsxs("p",{className:"text-xs text-gray-700",children:[" : ",R.types.join(" + ")," =  ",R.percentage,"%"]})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  *"}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{type:"button",onClick:()=>Y({...R,method:""}),className:`flex-1 px-4 py-3 border-2 rounded-lg font-medium transition-colors ${R.method===""?"border-gray-900 bg-gray-900 text-white":"border-gray-300 bg-white text-gray-700 hover:border-gray-400"}`,children:""}),i.jsx("button",{type:"button",onClick:()=>Y({...R,method:""}),className:`flex-1 px-4 py-3 border-2 rounded-lg font-medium transition-colors ${R.method===""?"border-gray-900 bg-gray-900 text-white":"border-gray-300 bg-white text-gray-700 hover:border-gray-400"}`,children:""})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"   (%)"}),i.jsx("input",{type:"number",value:R.percentage||"",onChange:P=>{const V=Number(P.target.value),re=A(V);Y({...R,percentage:V,amount:re})},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-600 focus:border-transparent",placeholder:"10",min:"0",max:"100"}),m&&R.percentage>0&&i.jsxs("div",{className:"mt-2 p-3 bg-gray-50 border border-gray-200 rounded-lg",children:[i.jsx("p",{className:"text-xs text-gray-700 mb-1",children:" "}),i.jsxs("p",{className:"text-xs text-gray-900",children:[" ( ",m.vatPercentage,"% ) ",C(m).toLocaleString(),"  ",R.percentage,"%"]}),i.jsxs("p",{className:"text-sm font-bold text-gray-900 mt-1",children:["= ",A(R.percentage).toLocaleString()]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  *"}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"number",value:R.amount||"",onChange:P=>Y({...R,amount:Number(P.target.value)}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-600 focus:border-transparent",placeholder:"5000000",min:"0"}),i.jsx("p",{className:"mt-1 text-xs text-gray-500",children:R.percentage>0?"       ":"   "})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"}),i.jsx("input",{type:"date",value:R.date,onChange:P=>Y({...R,date:P.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-600 focus:border-transparent"}),i.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"     ,   "})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),i.jsx("textarea",{value:R.notes,onChange:P=>Y({...R,notes:P.target.value}),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-600 focus:border-transparent",placeholder:"  "})]})]}),i.jsxs("div",{className:"p-6 border-t flex justify-between",children:[i.jsx("div",{children:b!==null&&i.jsx("button",{onClick:async()=>{if(m&&window.confirm("   ?"))try{const P=m.payments.filter((ce,Ne)=>Ne!==b),V={...m,payments:P};await s(m.id,{payments:P}),p(V);const re=c.map(ce=>ce.id===m.id?V:ce);u(re),v(!1),S(null),Z.success("  ")}catch(P){console.error("Failed to delete payment:",P),Z.error(" ")}},className:"btn btn-outline text-red-600 hover:bg-red-50 hover:border-red-300",children:""})}),i.jsxs("div",{className:"flex space-x-3",children:[i.jsx("button",{onClick:()=>{v(!1),S(null)},className:"btn btn-outline",children:""}),i.jsx("button",{onClick:ue,className:"btn btn-primary",children:b!==null?"":""})]})]})]})})]})},Jd=["","","","","","","","","","","","","","","","","","","","","","","","","","",""],Su=e=>{const t=e.replace(/$/g,"").trim(),r=t.split(" ");if(r.length>=2){const n=r[r.length-1];for(const s of Jd)if(n===s)return s}for(const n of Jd)if(t.endsWith(n))return n;return""},hm=e=>{if(!e)return e;const t=e.replace(/$/g,"").trim(),r=t.split(" ");if(r.length>=2){const n=r[r.length-1];for(const s of Jd)if(n===s)return r.slice(0,-1).join(" ").trim()}for(const n of Jd)if(t.endsWith(n))return t.substring(0,t.length-n.length).trim();return t};function wZ(){const[e,t]=N.useState([]),[r,n]=N.useState(!0),[s,a]=N.useState(null),[o,l]=N.useState(!1),[c,u]=N.useState(null),[d,f]=N.useState(""),[h,x]=N.useState({rank:"",companyName:"",name:"",position:"",process:"",contact:"",bankName:"",accountNumber:"",notes:""});N.useEffect(()=>{m()},[]),N.useEffect(()=>{const j=()=>{p()};return window.addEventListener("headerAddButtonClick",j),()=>window.removeEventListener("headerAddButtonClick",j)},[]);const m=async()=>{var j,_;try{n(!0),a(null);const T=await fs.getAllContractors();t(T.map($=>({id:$._id,rank:$.rank,companyName:$.companyName,name:$.name,position:$.position,process:$.process,contact:$.contact,accountNumber:$.accountNumber,notes:$.notes,createdAt:new Date($.createdAt),updatedAt:new Date($.updatedAt)})))}catch(T){console.error("Failed to load contractors:",T);const $=T instanceof Error&&((_=(j=T.response)==null?void 0:j.data)==null?void 0:_.message);a($||"   .")}finally{n(!1)}},p=j=>{if(j){u(j);let _="",T=j.accountNumber||"";if(j.accountNumber){const Y=["KB","","","","NH","IBK","KEB","SC","","","","","","","","","","","","","","","","","NH","","","","","KB","",""];for(const Q of Y)if(j.accountNumber.startsWith(Q)){_=Q,T=j.accountNumber.substring(Q.length).trim();break}}let $=j.name,R=j.position||"";R||(R=Su(j.name),$=hm(j.name)),x({rank:j.rank||"",companyName:j.companyName||"",name:$,position:R,process:j.process,contact:j.contact||"",bankName:_,accountNumber:T,notes:j.notes||""})}else u(null),x({rank:"",companyName:"",name:"",position:"",process:"",contact:"",bankName:"",accountNumber:"",notes:""});l(!0)},w=()=>{l(!1),u(null),x({rank:"",companyName:"",name:"",position:"",process:"",contact:"",bankName:"",accountNumber:"",notes:""})},y=async j=>{var T,$;j.preventDefault();const _=h.bankName&&h.accountNumber?`${h.bankName} ${h.accountNumber}`:h.accountNumber;try{const R={rank:h.rank,companyName:h.companyName,name:h.name,position:h.position,process:h.process,contact:h.contact,accountNumber:_,notes:h.notes};c?await fs.updateContractor(c.id,R):await fs.createContractor(R),await m(),w()}catch(R){console.error("Failed to save contractor:",R);const Y=R instanceof Error&&(($=(T=R.response)==null?void 0:T.data)==null?void 0:$.message);alert(Y||"  .")}},g=async j=>{var _,T;if(window.confirm("   ?"))try{await fs.deleteContractor(j),await m()}catch($){console.error("Failed to delete contractor:",$);const R=$ instanceof Error&&((T=(_=$.response)==null?void 0:_.data)==null?void 0:T.message);alert(R||"  .")}},v=()=>"border-gray-200 text-gray-600 bg-gray-50",b=j=>j?j==="1"?1:j==="1()"?2:j==="2"?3:j==="2()"?4:j==="3"?5:j==="3()"?6:j===""?100:j===""?200:999:999,S=e.filter(j=>j.name.toLowerCase().includes(d.toLowerCase())||j.process.toLowerCase().includes(d.toLowerCase())||j.accountNumber.toLowerCase().includes(d.toLowerCase())||j.contact&&j.contact.toLowerCase().includes(d.toLowerCase())||j.rank&&j.rank.toLowerCase().includes(d.toLowerCase())||j.companyName&&j.companyName.toLowerCase().includes(d.toLowerCase())).sort((j,_)=>{const T=b(j.rank)-b(_.rank);if(T!==0)return T;const $=j.process.localeCompare(_.process,"ko");return $!==0?$:j.name.localeCompare(_.name,"ko")});return i.jsxs("div",{className:"space-y-3 md:space-y-4",children:[i.jsx("div",{className:"flex items-center justify-end",children:i.jsx("button",{onClick:()=>p(),className:"hidden lg:inline-flex btn btn-primary px-4 py-2",children:"+  "})}),i.jsxs("div",{className:"relative",children:[i.jsx(Pd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4 md:w-5 md:h-5"}),i.jsx("input",{type:"text",placeholder:", ,  ...",value:d,onChange:j=>f(j.target.value),className:"w-full pl-9 md:pl-10 pr-4 py-2 text-sm md:text-base border border-gray-200 rounded-lg focus:ring-2 focus:ring-gray-400 focus:border-transparent"})]}),i.jsx("div",{className:"hidden md:block bg-white rounded-lg border border-gray-200 overflow-hidden",children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:" "}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),i.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:""})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r?i.jsx("tr",{children:i.jsx("td",{colSpan:9,className:"px-6 py-12 text-center",children:i.jsx("p",{className:"text-gray-500",children:" ..."})})}):s?i.jsx("tr",{children:i.jsx("td",{colSpan:9,className:"px-6 py-12 text-center",children:i.jsxs("div",{className:"space-y-4",children:[i.jsx("p",{className:"text-red-500",children:s}),i.jsx("button",{onClick:m,className:"inline-block px-6 py-3 bg-gray-900 text-white rounded-lg hover:bg-gray-800 transition-colors",children:" "})]})})}):S.length===0?i.jsx("tr",{children:i.jsx("td",{colSpan:9,className:"px-6 py-12 text-center",children:i.jsx("p",{className:"text-gray-500",children:d?"  .":"  ."})})}):S.map(j=>i.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("span",{className:`px-2 py-1 text-xs font-medium border rounded ${v(j.rank)}`,children:j.rank||"-"})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("span",{className:"text-xs font-medium text-gray-700",children:j.process})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("div",{className:"text-sm text-gray-900",children:j.companyName||"-"})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("div",{className:"font-medium text-gray-900",children:hm(j.name)})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("div",{className:"text-sm text-gray-900",children:j.position||Su(j.name)||"-"})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("div",{className:"text-sm text-gray-900",children:j.contact||"-"})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("div",{className:"text-sm text-gray-900",children:j.accountNumber})}),i.jsx("td",{className:"px-6 py-4",children:i.jsx("div",{className:"text-sm text-gray-500 max-w-xs truncate",children:j.notes||"-"})}),i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[i.jsx("button",{onClick:()=>p(j),className:"text-gray-600 hover:text-gray-900 mr-3",children:i.jsx(xx,{className:"w-4 h-4"})}),i.jsx("button",{onClick:()=>g(j.id),className:"text-red-600 hover:text-red-900",children:i.jsx(ir,{className:"w-4 h-4"})})]})]},j.id))})]})})}),i.jsx("div",{className:"md:hidden space-y-3",children:r?i.jsx("div",{className:"text-center py-12 text-gray-500 text-sm",children:" ..."}):s?i.jsxs("div",{className:"text-center py-12 space-y-4",children:[i.jsx("p",{className:"text-red-500 text-sm",children:s}),i.jsx("button",{onClick:m,className:"inline-block px-4 py-2 bg-gray-900 text-white rounded-lg hover:bg-gray-800 transition-colors text-sm",children:" "})]}):S.length===0?i.jsx("div",{className:"text-center py-12 text-gray-500 text-sm",children:d?"  .":"  ."}):S.map(j=>i.jsxs("div",{className:"card p-3 space-y-2",children:[i.jsxs("div",{className:"flex items-start justify-between mb-2",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[j.rank&&i.jsx("span",{className:`px-1.5 py-0.5 text-[10px] font-medium border rounded ${v(j.rank)}`,children:j.rank}),i.jsx("span",{className:"px-1.5 py-0.5 text-[10px] font-medium text-gray-700 bg-gray-100 rounded",children:j.process})]}),j.companyName&&i.jsx("p",{className:"text-xs text-gray-600 mb-0.5",children:j.companyName}),i.jsx("p",{className:"font-semibold text-gray-900 text-sm",children:hm(j.name)})]}),i.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[i.jsx("button",{onClick:()=>p(j),className:"p-1.5 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded",children:i.jsx(xx,{className:"w-4 h-4"})}),i.jsx("button",{onClick:()=>g(j.id),className:"p-1.5 text-red-600 hover:text-red-900 hover:bg-red-50 rounded",children:i.jsx(ir,{className:"w-4 h-4"})})]})]}),i.jsxs("div",{className:"space-y-1 text-xs",children:[(j.position||Su(j.name))&&i.jsxs("div",{className:"flex items-start",children:[i.jsx("span",{className:"text-gray-500 w-14 flex-shrink-0",children:":"}),i.jsx("span",{className:"text-gray-900",children:j.position||Su(j.name)})]}),j.contact&&i.jsxs("div",{className:"flex items-start",children:[i.jsx("span",{className:"text-gray-500 w-14 flex-shrink-0",children:":"}),i.jsx("span",{className:"text-gray-900",children:j.contact})]}),i.jsxs("div",{className:"flex items-start",children:[i.jsx("span",{className:"text-gray-500 w-14 flex-shrink-0",children:":"}),i.jsx("span",{className:"text-gray-900 break-all",children:j.accountNumber})]}),j.notes&&i.jsxs("div",{className:"flex items-start",children:[i.jsx("span",{className:"text-gray-500 w-14 flex-shrink-0",children:":"}),i.jsx("span",{className:"text-gray-600",children:j.notes})]})]})]},j.id))}),o&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:i.jsx("div",{className:"bg-white rounded-lg max-w-md w-full max-h-[90vh] overflow-y-auto",children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("h2",{className:"text-xl font-bold text-gray-900",children:c?" ":"  "}),i.jsx("button",{onClick:w,className:"text-gray-400 hover:text-gray-600",children:i.jsx(ct,{className:"w-6 h-6"})})]}),i.jsxs("form",{onSubmit:y,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),i.jsxs("select",{value:h.rank,onChange:j=>x({...h,rank:j.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-400 focus:border-transparent",children:[i.jsx("option",{value:"",children:""}),i.jsx("option",{value:"1",children:"1"}),i.jsx("option",{value:"2",children:"2"}),i.jsx("option",{value:"3",children:"3"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),i.jsx("input",{type:"text",value:h.companyName,onChange:j=>x({...h,companyName:j.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-400 focus:border-transparent"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[" ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",required:!0,value:h.name,onChange:j=>x({...h,name:j.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-400 focus:border-transparent"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),i.jsx("input",{type:"text",value:h.position,onChange:j=>x({...h,position:j.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-400 focus:border-transparent"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[" ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",required:!0,value:h.process,onChange:j=>x({...h,process:j.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-400 focus:border-transparent"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),i.jsx("input",{type:"text",value:h.contact,onChange:j=>x({...h,contact:j.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-400 focus:border-transparent"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),i.jsxs("select",{value:h.bankName,onChange:j=>x({...h,bankName:j.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-400 focus:border-transparent",children:[i.jsx("option",{value:"",children:""}),i.jsxs("optgroup",{label:"",children:[i.jsx("option",{value:"KB",children:"KB"}),i.jsx("option",{value:"",children:""}),i.jsx("option",{value:"",children:""}),i.jsx("option",{value:"",children:""}),i.jsx("option",{value:"NH",children:"NH"}),i.jsx("option",{value:"IBK",children:"IBK"}),i.jsx("option",{value:"KEB",children:"KEB"}),i.jsx("option",{value:"SC",children:"SC"}),i.jsx("option",{value:"",children:""})]}),i.jsxs("optgroup",{label:"",children:[i.jsx("option",{value:"",children:""}),i.jsx("option",{value:"",children:""}),i.jsx("option",{value:"",children:""}),i.jsx("option",{value:"",children:""}),i.jsx("option",{value:"",children:""}),i.jsx("option",{value:"",children:""})]}),i.jsxs("optgroup",{label:"",children:[i.jsx("option",{value:"",children:""}),i.jsx("option",{value:"",children:""}),i.jsx("option",{value:"",children:""}),i.jsx("option",{value:"",children:""}),i.jsx("option",{value:"",children:""}),i.jsx("option",{value:"",children:""})]}),i.jsxs("optgroup",{label:"",children:[i.jsx("option",{value:"",children:""}),i.jsx("option",{value:"",children:""}),i.jsx("option",{value:"",children:""})]}),i.jsxs("optgroup",{label:"",children:[i.jsx("option",{value:"NH",children:"NH"}),i.jsx("option",{value:"",children:""}),i.jsx("option",{value:"",children:""}),i.jsx("option",{value:"",children:""}),i.jsx("option",{value:"",children:""}),i.jsx("option",{value:"KB",children:"KB"}),i.jsx("option",{value:"",children:""}),i.jsx("option",{value:"",children:""})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),i.jsx("input",{type:"text",value:h.accountNumber,onChange:j=>x({...h,accountNumber:j.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-400 focus:border-transparent"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),i.jsx("textarea",{value:h.notes,onChange:j=>x({...h,notes:j.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-400 focus:border-transparent",rows:3})]}),i.jsxs("div",{className:"flex space-x-3 pt-4",children:[i.jsx("button",{type:"button",onClick:w,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:""}),i.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-gray-700 text-white rounded-lg hover:bg-gray-800 transition-colors",children:c?"":""})]})]})]})})})]})}const Cw=["","","","","","","",""],NZ=({request:e,onClose:t,onSave:r})=>{const{projects:n}=en(),{user:s}=ba(),a=()=>{const y=new Date,g=y.getFullYear(),v=String(y.getMonth()+1).padStart(2,"0"),b=String(y.getDate()).padStart(2,"0");return`${g}-${v}-${b}`},{register:o,handleSubmit:l,formState:{errors:c},watch:u,setValue:d}=wo({defaultValues:{project:(e==null?void 0:e.project)||"",requestType:(e==null?void 0:e.requestType)||"",requestDate:e!=null&&e.requestDate?Pe(e.requestDate,"yyyy-MM-dd"):a(),dueDate:e!=null&&e.dueDate?Pe(e.dueDate,"yyyy-MM-dd"):Pe(new Date(Date.now()+3*24*60*60*1e3),"yyyy-MM-dd"),requestedBy:(e==null?void 0:e.requestedBy)||"",assignedTo:(e==null?void 0:e.assignedTo)||"",description:(e==null?void 0:e.description)||""}}),[f,h]=N.useState((e==null?void 0:e.priority)==="high"),[x,m]=N.useState(""),p=u("requestType");N.useEffect(()=>{h((e==null?void 0:e.priority)==="high"),!e&&(s!=null&&s.name)&&d("requestedBy",s.name)},[e,s,d]);const w=y=>{console.log(" WorkRequestModal onSubmit - Raw data:",y);const g={...y,requestType:y.requestType===""?x:y.requestType,requestDate:new Date(y.requestDate),dueDate:new Date(y.dueDate),status:(e==null?void 0:e.status)||"pending",priority:f?"high":"medium",completedDate:y.completedDate?new Date(y.completedDate):void 0};console.log(" WorkRequestModal onSubmit - Processed formData:",g),r(g)};return i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] flex flex-col",children:[i.jsxs("div",{className:"flex items-center justify-between p-6 border-b flex-shrink-0",children:[i.jsx("h2",{className:"text-xl font-semibold",children:e?" ":" "}),i.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:i.jsx(ct,{className:"h-5 w-5"})})]}),i.jsxs("form",{onSubmit:l(w),className:"p-6 space-y-4 overflow-y-auto flex-1",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),i.jsxs("select",{...o("project"),className:"input w-full",children:[i.jsx("option",{value:""}),n.filter(y=>y.status!=="completed").map(y=>i.jsx("option",{value:y.name,children:y.name},y.id))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),i.jsxs("select",{...o("requestType"),className:"input w-full",children:[i.jsx("option",{value:""}),i.jsx("option",{value:"3D",children:"3D"}),i.jsx("option",{value:"",children:""}),i.jsx("option",{value:"",children:""}),i.jsx("option",{value:" ",children:" "}),i.jsx("option",{value:" ",children:" "}),i.jsx("option",{value:" ",children:" "}),i.jsx("option",{value:"",children:""}),i.jsx("option",{value:"",children:""}),i.jsx("option",{value:"",children:""}),i.jsx("option",{value:"",children:""}),i.jsx("option",{value:"",children:""}),i.jsx("option",{value:"",children:""}),i.jsx("option",{value:"",children:""}),i.jsx("option",{value:"",children:""}),i.jsx("option",{value:"",children:""}),i.jsx("option",{value:"",children:""}),i.jsx("option",{value:"",children:""})]}),p===""&&i.jsx("input",{type:"text",value:x,onChange:y=>m(y.target.value),placeholder:"  ",className:"input w-full mt-2"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),i.jsx("textarea",{...o("description"),rows:4,className:"input w-full",placeholder:"   "})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"}),i.jsx("input",{...o("requestDate",{required:" "}),type:"date",className:"input w-full",style:{position:"relative"}}),c.requestDate&&i.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(c.requestDate.message)})]}),i.jsxs("div",{className:"relative",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"}),i.jsx("input",{...o("dueDate",{required:" "}),type:"date",className:"input w-full",style:{position:"relative"}}),c.dueDate&&i.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(c.dueDate.message)})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"}),i.jsxs("select",{...o("requestedBy",{required:" "}),className:"input w-full",children:[i.jsx("option",{value:"",children:""}),Cw.map(y=>i.jsx("option",{value:y,children:y},y))]}),c.requestedBy&&i.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(c.requestedBy.message)})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"}),i.jsxs("select",{...o("assignedTo",{required:" "}),className:"input w-full",children:[i.jsx("option",{value:"",children:""}),Cw.map(y=>i.jsx("option",{value:y,children:y},y))]}),c.assignedTo&&i.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(c.assignedTo.message)})]})]}),i.jsx("div",{children:i.jsxs("button",{type:"button",onClick:()=>h(!f),className:`flex items-center gap-2 px-4 py-3 rounded-lg border-2 transition-all w-full ${f?"bg-rose-50 border-rose-500 text-rose-700":"bg-white border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[i.jsx(XO,{className:`h-5 w-5 ${f?"text-rose-600":"text-gray-400"}`}),i.jsx("span",{className:"font-medium",children:f?" ":"  "})]})}),i.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[i.jsx("button",{type:"button",onClick:t,className:"btn btn-outline",children:""}),i.jsx("button",{type:"submit",className:"btn btn-primary",children:e?"":""})]})]})]})})},Ew=["","","","","",""],jZ=()=>{const{addScheduleToAPI:e,deleteScheduleFromAPI:t,updateScheduleInAPI:r,schedules:n,projects:s,fetchSchedules:a}=en(),[o,l]=N.useState([]),[c,u]=N.useState(!1),[d,f]=N.useState(null),[h,x]=N.useState(""),[m,p]=N.useState("pending"),[w,y]=N.useState("all"),[g,v]=N.useState(null),[b,S]=N.useState(null),j=N.useRef(null);N.useEffect(()=>{_()},[]),N.useEffect(()=>{const E=()=>{f(null),u(!0)};return window.addEventListener("headerAddButtonClick",E),()=>window.removeEventListener("headerAddButtonClick",E)},[]);const _=async()=>{try{const A=(await $s.getAllWorkRequests()).map(K=>({id:K._id,project:K.project,requestType:K.requestType,description:K.description,requestDate:new Date(K.requestDate),dueDate:new Date(K.dueDate),requestedBy:K.requestedBy,assignedTo:K.assignedTo,status:K.status,priority:K.priority,notes:K.notes,completedDate:K.completedDate?new Date(K.completedDate):void 0}));l(A)}catch(E){console.error("Failed to load work requests:",E),Z.error("  ")}};N.useEffect(()=>{var E,A;g&&j.current&&((A=(E=j.current).showPicker)==null||A.call(E))},[g]),N.useEffect(()=>{const E=()=>{b&&S(null)};if(b)return document.addEventListener("click",E),()=>document.removeEventListener("click",E)},[b]);const T=async(E,A)=>{if(window.confirm(`"${A}"  ?

    .`))try{const K=workRequests.find(I=>I.id===E);if(await $s.deleteWorkRequest(E),K){let I="";K.project?I=K.requestType?`[] ${K.requestType}`:`[] ${K.description.substring(0,20)}`:I=K.description;const G=n.filter(J=>{const U=J.start&&new Date(J.start).toDateString()===K.dueDate.toDateString(),P=J.title===I;return U&&P});for(const J of G)try{await t(J.id),console.log(" Related schedule deleted:",J.id)}catch(U){console.error("Failed to delete related schedule:",U)}await a()}l(o.filter(I=>I.id!==E)),Z.success(" ")}catch(K){console.error("Failed to delete work request:",K),Z.error("  ")}},$=E=>{f(E),u(!0)},R=async E=>{console.log(" handleSave called with data:",E),console.log(" selectedRequest:",d);try{if(d){console.log(" Update mode - selectedRequest.id:",d.id);const A=await $s.updateWorkRequest(d.id,{project:E.project,requestType:E.requestType,description:E.description,requestDate:E.requestDate,dueDate:E.dueDate,requestedBy:E.requestedBy,assignedTo:E.assignedTo,status:E.status,priority:E.priority,notes:E.notes,completedDate:E.completedDate}),K={id:A._id,project:A.project,requestType:A.requestType,description:A.description,requestDate:new Date(A.requestDate),dueDate:new Date(A.dueDate),requestedBy:A.requestedBy,assignedTo:A.assignedTo,status:A.status,priority:A.priority,notes:A.notes,completedDate:A.completedDate?new Date(A.completedDate):void 0};let I="";A.project?I=A.requestType?`[] ${A.requestType}`:`[] ${A.description.substring(0,20)}`:I=A.description,console.log(" Looking for schedule with title:",I),console.log(" Looking for schedule on date:",A.dueDate),console.log(" All schedules on same date:",n.filter(J=>J.start&&new Date(J.start).toDateString()===new Date(A.dueDate).toDateString()).map(J=>({id:J.id,title:J.title,start:J.start})));const G=n.find(J=>{const U=J.start&&new Date(J.start).toDateString()===new Date(A.dueDate).toDateString(),P=J.title===I;return console.log(` Checking schedule ${J.id}: date=${U}, title=${P}, s.title="${J.title}", expected="${I}"`),U&&P});if(console.log(" Found schedule?",G?`Yes: ${G.id}`:"No"),G){console.log(" Found related schedule:",G.id);try{let J=null,U="";if(A.project){const V=s.find(re=>re.name===A.project);J=V?V.id:G.project,U=A.requestType?`[] ${A.requestType}`:`[] ${A.description.substring(0,20)}`}else U=A.description,J=G.project;const P=A.assignedTo===""?["","",""]:[A.assignedTo];console.log(" Updating schedule with attendees:",P),await r(G.id,{title:U,start:new Date(A.dueDate),end:new Date(A.dueDate),project:J,attendees:P,description:`${A.description}

: ${A.assignedTo}
: ${A.requestedBy}
: ${A.priority}
${A.notes||""}`}),console.log(" Related schedule updated successfully")}catch(J){console.error(" Failed to update related schedule:",J)}}else console.warn(" No related schedule found for work request ID:",A._id),console.warn(" Expected title:",I),console.warn(" Expected date:",new Date(A.dueDate).toDateString());l(o.map(J=>J.id===d.id?K:J)),Z.success(" ")}else{console.log(" Creating work request with data:",E);const A=await $s.createWorkRequest({project:E.project,requestType:E.requestType,description:E.description||"",requestDate:E.requestDate,dueDate:E.dueDate,requestedBy:E.requestedBy,assignedTo:E.assignedTo,status:E.status||"pending",priority:E.priority||"medium",notes:E.notes,completedDate:E.completedDate});console.log(" Backend response:",A);const K={id:A._id,project:A.project,requestType:A.requestType,description:A.description,requestDate:new Date(A.requestDate),dueDate:new Date(A.dueDate),requestedBy:A.requestedBy,assignedTo:A.assignedTo,status:A.status,priority:A.priority,notes:A.notes,completedDate:A.completedDate?new Date(A.completedDate):void 0};try{let I=null,G="";if(A.project){const U=s.find(P=>P.name===A.project);if(I=U?U.id:null,!I)throw console.warn(" Project not found for work request:",A.project),new Error("Project not found");G=A.requestType?`[] ${A.requestType}`:`[] ${A.description.substring(0,20)}`}else G=A.description;const J=A.assignedTo===""?["","",""]:[A.assignedTo];await e({id:`workrequest-${A._id}`,title:G,start:new Date(A.dueDate),end:new Date(A.dueDate),type:"other",project:I,location:"",attendees:J,description:`${A.description}

: ${A.assignedTo}
: ${A.requestedBy}
: ${A.priority}
${A.notes||""}`}),console.log(" Schedule created:",G,"with project ID:",I)}catch(I){console.error("Failed to create schedule:",I)}l([K,...o]),Z.success(" ")}u(!1),f(null)}catch(A){console.error("Failed to save work request:",A),Z.error("  ")}},Y=(E,A)=>{v({requestId:E,field:A})},Q=async E=>{if(!g)return;const A=new Date(E);if(!isNaN(A.getTime()))try{if(!o.find(I=>I.id===g.requestId))return;await $s.updateWorkRequest(g.requestId,{[g.field]:A}),l(o.map(I=>I.id===g.requestId?{...I,[g.field]:A}:I)),v(null),Z.success(" ")}catch(K){console.error("Failed to update date:",K),Z.error("  "),v(null)}},q=(E,A)=>{S({requestId:E,field:A})},se=async E=>{if(b)try{await $s.updateWorkRequest(b.requestId,{[b.field]:E}),l(o.map(A=>A.id===b.requestId?{...A,[b.field]:E}:A)),S(null),Z.success(" ")}catch(A){console.error("Failed to update person:",A),Z.error("  "),S(null)}},pe=async(E,A)=>{try{const K=A==="completed"?new Date:void 0;if(await $s.updateWorkRequest(E,{status:A,completedDate:K}),l(o.map(G=>G.id===E?{...G,status:A,completedDate:K}:G)),A==="completed"){const G=o.find(J=>J.id===E);if(G){const J=n.find(U=>U.id===`workrequest-${E}`||U.title.includes("[]")&&U.project===G.project);if(J)try{await t(J.id),console.log(" Related schedule deleted on completion:",J.id)}catch(U){console.error("Failed to delete related schedule:",U)}}}const I={pending:"","in-progress":"",completed:""};Z.success(` ${I[A]} `)}catch(K){console.error("Failed to update status:",K),Z.error("  ")}},te=E=>{const K={pending:{label:"",color:"bg-gray-100 text-gray-700 border-gray-300"},"in-progress":{label:"",color:"bg-gray-100 text-gray-800 border-gray-300"},completed:{label:"",color:"bg-gray-900 text-white border-gray-900"},cancelled:{label:"",color:"bg-gray-100 text-gray-500 border-gray-300"}}[E];return i.jsx("span",{className:`px-3 py-1 text-xs font-medium border ${K.color}`,children:K.label})},be=E=>{const K={low:{label:"",color:"text-gray-600",bg:"",border:""},medium:{label:"",color:"text-gray-600",bg:"",border:""},high:{label:"",color:"text-rose-700",bg:"bg-rose-50",border:"border border-rose-300"}}[E];return i.jsx("span",{className:`inline-flex items-center px-2 py-0.5 text-xs font-semibold rounded ${K.color} ${K.bg} ${K.border}`,children:K.label})},ee=E=>{const A=new Date;A.setHours(0,0,0,0);const K=new Date(E);K.setHours(0,0,0,0);const I=K.getTime()-A.getTime();return Math.ceil(I/(1e3*60*60*24))},H=E=>{const A=ee(E);return A<0?i.jsxs("span",{className:"inline-flex items-center px-2 py-1 text-xs font-bold bg-gray-100 text-gray-700 border border-gray-300 rounded",children:["D+",Math.abs(A)]}):A===0?i.jsx("span",{className:"inline-flex items-center px-2 py-1 text-xs font-bold bg-gray-900 text-white border border-gray-900 rounded",children:"D-Day"}):A<=3?i.jsxs("span",{className:"inline-flex items-center px-2 py-1 text-xs font-bold bg-gray-100 text-gray-700 border border-gray-300 rounded",children:["D-",A]}):A<=7?i.jsxs("span",{className:"inline-flex items-center px-2 py-1 text-xs font-bold bg-gray-100 text-gray-700 border border-gray-300 rounded",children:["D-",A]}):i.jsxs("span",{className:"inline-flex items-center px-2 py-1 text-xs font-medium bg-gray-100 text-gray-700 border border-gray-300 rounded",children:["D-",A]})},C=(()=>{let E=o;return m!=="all"&&(E=E.filter(A=>A.status===m)),h&&(E=E.filter(A=>A.project.toLowerCase().includes(h.toLowerCase())||A.requestType.toLowerCase().includes(h.toLowerCase())||A.description.toLowerCase().includes(h.toLowerCase()))),w!=="all"&&(E=E.filter(A=>A.priority===w)),E})(),L={pending:o.filter(E=>E.status==="pending").length,inProgress:o.filter(E=>E.status==="in-progress").length,completed:o.filter(E=>E.status==="completed").length,total:o.length};return i.jsxs("div",{className:"space-y-3 md:space-y-4",children:[i.jsx("div",{className:"flex items-center justify-end",children:i.jsx("button",{onClick:()=>{f(null),u(!0)},className:"hidden lg:inline-flex btn btn-primary px-4 py-2 ml-auto",children:"+  "})}),i.jsx("div",{className:"border-b border-gray-200",children:i.jsx("nav",{className:"flex space-x-4 md:space-x-8 overflow-x-auto",children:[{id:"pending",label:"",count:L.pending,color:"text-gray-700"},{id:"in-progress",label:"",count:L.inProgress,color:"text-gray-700"},{id:"completed",label:"",count:L.completed,color:"text-gray-700"},{id:"all",label:"",count:L.total,color:"text-gray-600"}].map(E=>i.jsxs("button",{onClick:()=>p(E.id),className:Ln("py-3 md:py-4 px-1 border-b-2 font-medium text-xs md:text-sm transition-colors whitespace-nowrap",m===E.id?`border-gray-700 ${E.color}`:"border-transparent text-gray-400 hover:text-gray-700 hover:border-gray-300"),children:[E.label,E.count>0&&i.jsx("span",{className:Ln("ml-1 md:ml-2 py-0.5 px-1.5 md:px-2 rounded-full text-[10px] md:text-xs font-semibold",m===E.id?"bg-gray-700 text-white":"bg-gray-200 text-gray-600"),children:E.count})]},E.id))})}),i.jsxs("div",{className:"hidden md:flex flex-col sm:flex-row sm:items-center space-y-2 sm:space-y-0 sm:space-x-2 md:space-x-4",children:[i.jsx("input",{type:"text",placeholder:"...",value:h,onChange:E=>x(E.target.value),className:"flex-1 px-3 md:px-4 py-2 text-sm md:text-base border border-gray-300 rounded-lg focus:outline-none focus:border-gray-900"}),i.jsxs("select",{value:w,onChange:E=>y(E.target.value),className:"px-3 md:px-4 py-2 text-sm md:text-base border border-gray-300 rounded-lg focus:outline-none focus:border-gray-900",children:[i.jsx("option",{value:"all",children:" "}),i.jsx("option",{value:"high",children:""}),i.jsx("option",{value:"medium",children:""}),i.jsx("option",{value:"low",children:""})]})]}),i.jsx("div",{className:"md:hidden space-y-3",children:C.map(E=>i.jsxs("div",{className:`card p-3 hover:border-gray-400 transition-colors ${E.priority==="high"?"border-2 border-rose-200 bg-rose-50/30":""}`,children:[i.jsxs("div",{className:"flex items-start justify-between mb-2",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[te(E.status),H(E.dueDate),E.priority==="high"&&be(E.priority)]}),i.jsx("h3",{className:"font-bold text-base text-gray-900",children:E.project}),i.jsx("p",{className:"text-xs text-gray-600 mt-0.5",children:E.requestType})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{onClick:()=>$(E),className:"text-xs text-gray-600 hover:text-gray-900 px-2 py-1",children:""}),i.jsx("button",{onClick:()=>T(E.id,E.project),className:"text-gray-600 hover:text-gray-700 p-1",children:i.jsx(ir,{className:"h-4 w-4"})})]})]}),i.jsxs("div",{className:"space-y-2 text-sm border-t border-gray-100 pt-2",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-gray-500",children:" "}),i.jsx("p",{className:"text-gray-900 mt-0.5",children:E.description})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-gray-500",children:""}),i.jsx("p",{className:"text-gray-900 font-medium mt-0.5",children:E.requestedBy})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-gray-500",children:""}),i.jsx("p",{className:"text-gray-900 font-medium mt-0.5",children:E.assignedTo})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-2 pt-1",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-gray-500 mb-1",children:""}),i.jsx("p",{className:"text-xs text-gray-900",children:Pe(E.requestDate,"MM.dd (eee)",{locale:Qe})})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-gray-500 mb-1",children:""}),i.jsx("p",{className:"text-xs text-gray-900",children:Pe(E.dueDate,"MM.dd (eee)",{locale:Qe})})]})]}),i.jsx("div",{className:"flex items-center justify-between pt-1",children:i.jsxs("div",{className:"text-xs",children:[i.jsx("span",{className:"text-gray-500",children:": "}),be(E.priority)]})})]}),i.jsxs("div",{className:"flex gap-2 mt-3 pt-3 border-t border-gray-100",children:[E.status==="pending"&&i.jsx("button",{onClick:()=>pe(E.id,"in-progress"),className:"flex-1 px-3 py-2 text-xs font-semibold text-white rounded-lg transition-colors bg-gray-600 hover:bg-gray-700",children:""}),E.status==="in-progress"&&i.jsx("button",{onClick:()=>pe(E.id,"completed"),className:"flex-1 px-3 py-2 text-xs font-semibold bg-gray-900 text-white rounded-lg hover:bg-gray-800 transition-colors",children:""}),E.status==="completed"&&i.jsx("div",{className:"flex-1 text-center text-xs text-gray-500 py-2",children:" "})]})]},E.id))}),i.jsx("div",{className:"hidden md:block bg-white border border-gray-200 overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"D-day"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""}),i.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:""})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",style:{overflow:"visible"},children:C.map(E=>i.jsxs("tr",{className:`hover:bg-gray-50 ${E.priority==="high"?"bg-rose-50/30":""}`,style:{overflow:"visible"},children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("p",{className:"font-medium text-gray-900",children:E.project})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("p",{className:"text-sm text-gray-900",children:E.requestType})}),i.jsx("td",{className:"px-6 py-4",children:i.jsx("p",{className:"text-sm text-gray-900",children:E.description})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",style:{overflow:"visible"},children:i.jsxs("div",{className:"relative inline-block",children:[i.jsx("button",{onClick:A=>{A.stopPropagation(),q(E.id,"requestedBy")},className:"text-sm text-gray-900 hover:text-gray-600 hover:underline transition-colors",children:E.requestedBy}),(b==null?void 0:b.requestId)===E.id&&(b==null?void 0:b.field)==="requestedBy"&&i.jsx("div",{onClick:A=>A.stopPropagation(),className:"absolute left-0 top-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg z-50 min-w-[100px]",children:Ew.map(A=>i.jsx("button",{onClick:()=>se(A),className:`block w-full text-left px-4 py-2 text-sm hover:bg-gray-100 transition-colors first:rounded-t-lg last:rounded-b-lg ${A===E.requestedBy?"bg-gray-50 font-medium":""}`,children:A},A))})]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",style:{overflow:"visible"},children:i.jsxs("div",{className:"relative inline-block",children:[i.jsx("button",{onClick:A=>{A.stopPropagation(),q(E.id,"assignedTo")},className:"text-sm text-gray-900 hover:text-gray-600 hover:underline transition-colors",children:E.assignedTo}),(b==null?void 0:b.requestId)===E.id&&(b==null?void 0:b.field)==="assignedTo"&&i.jsx("div",{onClick:A=>A.stopPropagation(),className:"absolute left-0 top-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg z-50 min-w-[100px]",children:Ew.map(A=>i.jsx("button",{onClick:()=>se(A),className:`block w-full text-left px-4 py-2 text-sm hover:bg-gray-100 transition-colors first:rounded-t-lg last:rounded-b-lg ${A===E.assignedTo?"bg-gray-50 font-medium":""}`,children:A},A))})]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("div",{className:"relative inline-block",children:[(g==null?void 0:g.requestId)===E.id&&(g==null?void 0:g.field)==="requestDate"&&i.jsx("input",{ref:j,type:"date",defaultValue:Pe(E.requestDate,"yyyy-MM-dd"),onChange:A=>Q(A.target.value),onBlur:()=>v(null),className:"absolute left-0 top-0 w-auto h-auto opacity-0 z-50",style:{pointerEvents:"auto"}}),i.jsxs("button",{onClick:()=>Y(E.id,"requestDate"),className:"flex items-center space-x-2 text-sm text-gray-900 hover:text-gray-600 transition-colors",children:[i.jsx(Js,{className:"h-4 w-4"}),i.jsx("span",{children:Pe(E.requestDate,"yyyy.MM.dd (eee)",{locale:Qe})})]})]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("div",{className:"relative inline-block",children:[(g==null?void 0:g.requestId)===E.id&&(g==null?void 0:g.field)==="dueDate"&&i.jsx("input",{ref:j,type:"date",defaultValue:Pe(E.dueDate,"yyyy-MM-dd"),onChange:A=>Q(A.target.value),onBlur:()=>v(null),className:"absolute left-0 top-0 w-auto h-auto opacity-0 z-50",style:{pointerEvents:"auto"}}),i.jsxs("button",{onClick:()=>Y(E.id,"dueDate"),className:"flex items-center space-x-2 text-sm text-gray-900 hover:text-gray-600 transition-colors",children:[i.jsx(Js,{className:"h-4 w-4"}),i.jsx("span",{children:Pe(E.dueDate,"yyyy.MM.dd (eee)",{locale:Qe})})]})]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:H(E.dueDate)}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:be(E.priority)}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:te(E.status)}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[E.status==="pending"&&i.jsx("button",{onClick:()=>pe(E.id,"in-progress"),className:"px-3 py-1 text-xs font-semibold text-white rounded transition-colors bg-gray-600 hover:bg-gray-700",children:""}),E.status==="in-progress"&&i.jsx("button",{onClick:()=>pe(E.id,"completed"),className:"px-3 py-1 text-xs font-semibold bg-gray-900 text-white rounded hover:bg-gray-800 transition-colors",children:""}),i.jsx("button",{onClick:()=>$(E),className:"text-xs text-gray-600 hover:text-gray-900",children:""}),i.jsx("button",{onClick:()=>T(E.id,E.project),className:"text-gray-600 hover:text-gray-700",children:i.jsx(ir,{className:"h-4 w-4"})})]})})]},E.id))})]})}),c&&i.jsx(NZ,{request:d,onClose:()=>{u(!1),f(null)},onSave:R})]})},SZ=()=>{var ue;const[e,t]=N.useState("library"),[r,n]=N.useState([]),[s,a]=N.useState([]),[o,l]=N.useState([]),[c,u]=N.useState(""),[d,f]=N.useState([]),[h,x]=N.useState(null),[m,p]=N.useState(!0),[w,y]=N.useState(null),[g,v]=N.useState({name:"",category:"",brand:"",price:"",imageData:null}),[b,S]=N.useState(!1),j=N.useRef(null);N.useEffect(()=>{_(),T(),$()},[]),N.useEffect(()=>{R()},[e,c,h]);const _=async()=>{try{const C=await Te.get("/specbook/categories");l(C.data)}catch(C){console.error("  :",C)}},T=async()=>{try{const C=await Te.get("/specbook/projects");console.log("  :",C.data.length,"",C.data),f(C.data)}catch(C){console.error("  :",C)}},$=async()=>{try{const C=await Te.get("/specbook/library");a(C.data)}catch(C){console.error("    :",C)}},R=async()=>{try{p(!0);const C=c!==""?{category:c}:{};let L;if(e==="library")L=await Te.get("/specbook/library",{params:C});else{if(!h){n([]),p(!1);return}L=await Te.get(`/specbook/project/${h}`,{params:C})}n(L.data)}catch(C){console.error("   :",C),Z.error("   ")}finally{p(!1)}},Y=C=>e!=="library"?0:C===""?s.length:s.filter(L=>L.category===C).length,Q=C=>{C.preventDefault(),S(!1);const L=C.dataTransfer.files[0];if(L&&L.type.startsWith("image/")){const E=new FileReader;E.onload=A=>{var K;v({...g,imageData:(K=A.target)==null?void 0:K.result})},E.readAsDataURL(L)}},q=C=>{var E;const L=(E=C.clipboardData)==null?void 0:E.items;if(L){for(let A=0;A<L.length;A++)if(L[A].type.indexOf("image")!==-1){const K=L[A].getAsFile();if(K){const I=new FileReader;I.onload=G=>{var J;v({...g,imageData:(J=G.target)==null?void 0:J.result})},I.readAsDataURL(K)}}}};N.useEffect(()=>(document.addEventListener("paste",q),()=>document.removeEventListener("paste",q)),[g]);const se=C=>{const L=C.replace(/[^\d]/g,"");return L?L.replace(/\B(?=(\d{3})+(?!\d))/g,","):""},pe=C=>{const L=se(C.target.value);v({...g,price:L})},te=async C=>{var L,E;if(C.preventDefault(),!g.name||!g.category){Z.error("  ");return}try{const A={name:g.name,category:g.category,brand:g.brand,price:g.price,description:"",imageData:g.imageData,projectId:e==="project"?h:null,isLibrary:e==="library"};w?(await Te.put(`/specbook/${w.id}`,A),Z.success("  ")):(await Te.post("/specbook/base64",A),Z.success("  ")),y(null),v({name:"",category:c!==""?c:"",brand:"",price:"",imageData:null}),R(),e==="library"&&$()}catch(A){console.error("   :",A),Z.error(((E=(L=A.response)==null?void 0:L.data)==null?void 0:E.error)||" ")}},be=C=>{y(C),v({name:C.name,category:C.category,brand:C.brand,price:C.price,imageData:null}),window.scrollTo({top:0,behavior:"smooth"})},ee=async C=>{if(confirm(" ?"))try{await Te.delete(`/specbook/${C}`),Z.success("  "),R(),e==="library"&&$()}catch(L){console.error(" :",L),Z.error(" ")}},H=()=>{y(null),v({name:"",category:c!==""?c:"",brand:"",price:"",imageData:null})};return i.jsxs("div",{className:"flex flex-col h-screen bg-gray-50",children:[i.jsx("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:""}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>{t("library"),x(null)},className:`px-4 py-2 rounded-lg font-medium transition-colors ${e==="library"?"bg-gray-800 text-white":"bg-white text-gray-700 hover:bg-gray-100 border border-gray-300"}`,children:" "}),i.jsxs("select",{value:h||"",onChange:C=>{C.target.value?(t("project"),x(Number(C.target.value))):(t("library"),x(null))},className:`px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 ${e==="project"&&h?"bg-gray-800 text-white":"bg-white"}`,children:[i.jsx("option",{value:"",children:" "}),d.map(C=>i.jsx("option",{value:C.id,children:C.title},C.id))]})]})]})}),i.jsxs("div",{className:"flex-1 flex gap-6 overflow-hidden",children:[e==="library"&&i.jsxs("div",{className:"w-1/4 flex flex-col gap-4 p-4",children:[i.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-gray-200",children:[i.jsx("h2",{className:"text-base font-semibold mb-3 text-gray-900",children:w?" ":"  "}),i.jsx("form",{onSubmit:te,className:"space-y-3",children:i.jsxs("div",{className:"flex gap-3",children:[i.jsxs("div",{onDragOver:C=>{C.preventDefault(),S(!0)},onDragLeave:()=>S(!1),onDrop:Q,className:`aspect-square w-full max-w-xs flex-shrink-0 border-2 border-dashed rounded-lg flex items-center justify-center cursor-pointer transition-colors ${b?"border-gray-500 bg-gray-50":"border-gray-300 hover:border-gray-400"}`,onClick:()=>{var C;return(C=j.current)==null?void 0:C.click()},children:[g.imageData||w!=null&&w.image_url?i.jsx("img",{src:g.imageData||(w==null?void 0:w.image_url)||"",alt:"Preview",className:"w-full h-full object-cover rounded-lg"}):i.jsxs("div",{className:"text-center",children:[i.jsx(kc,{className:"w-8 h-8 mx-auto mb-1 text-gray-400"}),i.jsx("p",{className:"text-sm text-gray-500",children:""})]}),i.jsx("input",{ref:j,type:"file",accept:"image/*",onChange:C=>{var E;const L=(E=C.target.files)==null?void 0:E[0];if(L){const A=new FileReader;A.onload=K=>{var I;v({...g,imageData:(I=K.target)==null?void 0:I.result})},A.readAsDataURL(L)}},className:"hidden"})]}),i.jsxs("div",{className:"flex-1 flex flex-col justify-between",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("select",{value:g.category,onChange:C=>v({...g,category:C.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-gray-500",required:!0,children:[i.jsx("option",{value:"",children:""}),o.filter(C=>C!=="").map(C=>i.jsx("option",{value:C,children:C},C))]}),i.jsx("input",{type:"text",value:g.brand,onChange:C=>v({...g,brand:C.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-gray-500",placeholder:""}),i.jsx("input",{type:"text",value:g.name,onChange:C=>v({...g,name:C.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-gray-500",placeholder:"",required:!0}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"text",value:g.price,onChange:pe,className:"w-full px-3 py-2 text-sm border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-gray-500 pr-10",placeholder:""}),i.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-sm text-gray-500",children:""})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 text-sm bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors",children:w?"":""}),w&&i.jsx("button",{type:"button",onClick:H,className:"px-4 py-2 text-sm bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",children:""})]})]})]})})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-gray-200",children:[i.jsx("h3",{className:"text-sm font-semibold mb-3 text-gray-900",children:""}),i.jsx("div",{className:"grid grid-cols-4 gap-2",children:o.map(C=>{const L=Y(C),E=e==="library"&&L>0;return i.jsxs("button",{onClick:()=>u(C),className:`px-2 py-1.5 rounded text-xs font-medium transition-colors ${c===C?"bg-gray-800 text-white":"bg-gray-50 text-gray-700 hover:bg-gray-100"}`,children:[C,E&&i.jsxs("span",{className:`ml-1 ${c===C?"text-gray-300":"text-gray-400"}`,children:["(",L,")"]})]},C)})})]})]}),e==="library"?i.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:m?i.jsx("div",{className:"flex items-center justify-center h-full",children:i.jsx("div",{className:"text-gray-500",children:" ..."})}):r.length===0?i.jsx("div",{className:"flex items-center justify-center h-full text-gray-500 text-sm",children:"   "}):i.jsx("div",{className:"grid grid-cols-3 gap-4",children:r.map(C=>i.jsx("div",{className:"bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow border border-gray-200 overflow-hidden",children:i.jsxs("div",{className:"flex h-32",children:[i.jsx("div",{className:"w-32 h-32 flex-shrink-0 bg-gray-100",children:C.image_url?i.jsx("img",{src:C.image_url,alt:C.name,className:"w-full h-full object-cover"}):i.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400 text-xs",children:" "})}),i.jsxs("div",{className:"flex-1 p-3 flex flex-col justify-between",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-start justify-between mb-1",children:[i.jsx("span",{className:"inline-block px-1.5 py-0.5 text-xs bg-gray-100 text-gray-700 rounded",children:C.category}),i.jsxs("div",{className:"flex gap-1",children:[i.jsx("button",{onClick:()=>be(C),className:"p-1 text-gray-600 hover:bg-gray-100 rounded transition-colors",title:"",children:i.jsx(lM,{className:"w-3 h-3"})}),i.jsx("button",{onClick:()=>ee(C.id),className:"p-1 text-gray-600 hover:bg-gray-100 rounded transition-colors",title:"",children:i.jsx(ir,{className:"w-3 h-3"})})]})]}),i.jsx("h3",{className:"font-semibold text-sm text-gray-900 mb-1 line-clamp-2",children:C.name})]}),i.jsxs("div",{className:"space-y-0.5",children:[C.brand&&i.jsxs("p",{className:"text-xs text-gray-600",children:[": ",C.brand]}),C.price&&i.jsxs("p",{className:"text-xs text-gray-900 font-medium",children:[C.price,""]})]})]})]})},C.id))})}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"w-1/2 flex flex-col overflow-hidden p-4",children:[i.jsxs("div",{className:"mb-3",children:[i.jsx("h2",{className:"text-lg font-bold mb-2 text-gray-900",children:" "}),i.jsx("div",{className:"grid grid-cols-8 gap-1",children:o.map(C=>{const L=s.filter(E=>C===""||E.category===C).length;return i.jsxs("button",{onClick:()=>u(C),className:`px-1 py-0.5 rounded text-[10px] font-medium transition-colors truncate ${c===C?"bg-gray-800 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,title:`${C}${L>0?` (${L})`:""}`,children:[C,L>0&&i.jsxs("span",{className:`ml-0.5 ${c===C?"text-gray-300":"text-gray-400"}`,children:["(",L,")"]})]},C)})})]}),i.jsx("div",{className:"flex-1 overflow-y-auto bg-gray-50 rounded-lg p-4",children:m?i.jsx("div",{className:"flex items-center justify-center h-full",children:i.jsx("div",{className:"text-gray-500",children:" ..."})}):s.length===0?i.jsx("div",{className:"flex items-center justify-center h-full text-gray-500 text-sm",children:"  "}):i.jsx("div",{className:"grid grid-cols-2 gap-3",children:s.filter(C=>c===""||C.category===c).map(C=>i.jsx("div",{draggable:!0,onDragStart:L=>{L.dataTransfer.setData("itemId",C.id.toString()),L.dataTransfer.effectAllowed="copy"},className:"bg-white rounded-lg shadow-sm hover:shadow-md transition-all border border-gray-200 overflow-hidden cursor-move",children:i.jsxs("div",{className:"flex h-24",children:[i.jsx("div",{className:"w-24 h-24 flex-shrink-0 bg-gray-100",children:C.image_url?i.jsx("img",{src:C.image_url,alt:C.name,className:"w-full h-full object-cover"}):i.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400 text-xs",children:" "})}),i.jsxs("div",{className:"flex-1 p-2 flex flex-col justify-between overflow-hidden",children:[i.jsxs("div",{children:[i.jsx("span",{className:"inline-block px-1 py-0.5 text-xs bg-gray-100 text-gray-700 rounded mb-1",children:C.category}),i.jsx("h3",{className:"font-semibold text-xs text-gray-900 line-clamp-2",children:C.name})]}),C.price&&i.jsxs("p",{className:"text-xs text-gray-900 font-medium",children:[C.price,""]})]})]})},C.id))})})]}),i.jsxs("div",{className:"w-1/2 flex flex-col overflow-hidden p-4",children:[i.jsxs("div",{className:"mb-3",children:[i.jsx("h2",{className:"text-lg font-bold mb-2 text-gray-900",children:(ue=d.find(C=>C.id===h))==null?void 0:ue.title}),i.jsx("div",{className:"grid grid-cols-8 gap-1",children:o.map(C=>{const L=r.filter(E=>C===""||E.category===C).length;return i.jsxs("button",{onClick:()=>u(C),className:`px-1 py-0.5 rounded text-[10px] font-medium transition-colors truncate ${c===C?"bg-gray-800 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,title:`${C}${L>0?` (${L})`:""}`,children:[C,L>0&&i.jsxs("span",{className:`ml-0.5 ${c===C?"text-gray-300":"text-gray-400"}`,children:["(",L,")"]})]},C)})})]}),i.jsx("div",{className:"flex-1 overflow-y-auto bg-gray-50 rounded-lg p-4 border-2 border-dashed border-gray-300",onDragOver:C=>{C.preventDefault(),C.dataTransfer.dropEffect="copy"},onDrop:async C=>{C.preventDefault();const L=C.dataTransfer.getData("itemId");if(L&&h)try{const E=s.find(A=>A.id===Number(L));if(E){const{id:A,created_at:K,updated_at:I,...G}=E;await Te.post("/specbook/base64",{...G,isLibrary:!1,projectId:h}),Z.success("  "),R()}}catch(E){console.error("  :",E),Z.error("  ")}},children:m?i.jsx("div",{className:"flex items-center justify-center h-full",children:i.jsx("div",{className:"text-gray-500",children:" ..."})}):r.length===0?i.jsx("div",{className:"flex items-center justify-center h-full text-gray-600 text-sm",children:"   "}):i.jsx("div",{className:"grid grid-cols-2 gap-3",children:r.filter(C=>c===""||C.category===c).map(C=>i.jsx("div",{className:"bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow border border-gray-200 overflow-hidden",children:i.jsxs("div",{className:"flex h-24",children:[i.jsx("div",{className:"w-24 h-24 flex-shrink-0 bg-gray-100",children:C.image_url?i.jsx("img",{src:C.image_url,alt:C.name,className:"w-full h-full object-cover"}):i.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400 text-xs",children:" "})}),i.jsxs("div",{className:"flex-1 p-2 flex flex-col justify-between",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-start justify-between mb-1",children:[i.jsx("span",{className:"inline-block px-1 py-0.5 text-xs bg-gray-100 text-gray-700 rounded",children:C.category}),i.jsx("button",{onClick:()=>ee(C.id),className:"p-0.5 text-gray-600 hover:bg-gray-100 rounded transition-colors",title:"",children:i.jsx(ir,{className:"w-3 h-3"})})]}),i.jsx("h3",{className:"font-semibold text-xs text-gray-900 line-clamp-2",children:C.name})]}),C.price&&i.jsxs("p",{className:"text-xs text-gray-900 font-medium",children:[C.price,""]})]})]})},C.id))})})]})]})]})]})},Tw=["","","/","","","","","","","","","","","","",""],kZ=()=>{const{payments:e,executionRecords:t,loadPaymentsFromAPI:r,addExecutionRecord:n,deleteExecutionRecord:s,updateExecutionRecord:a,projects:o}=en(),{user:l}=ba(),[c,u]=N.useState(""),[d,f]=N.useState(null),[h,x]=N.useState(!1),[m,p]=N.useState(!1),[w,y]=N.useState(!1),[g,v]=N.useState(!1),[b,S]=N.useState(!1),[j,_]=N.useState(""),[T,$]=N.useState("form"),[R,Y]=N.useState(!1),[Q,q]=N.useState(!1),se=N.useRef(null),[pe,te]=N.useState([]),[be,ee]=N.useState(()=>{const M=localStorage.getItem("paymentRecordImages");return M?JSON.parse(M):{}}),[H,ue]=N.useState(()=>{const M=localStorage.getItem("hiddenPaymentIds");return M?JSON.parse(M):[]}),C=()=>{const M=localStorage.getItem("lastSelectedProject"),z=o.filter(D=>D.status!=="completed");return M&&z.some(D=>D.name===M)?M:z.length>0?z[0].name:""},[L,E]=N.useState({project:"",date:Pe(new Date,"yyyy-MM-dd"),process:"",itemName:"",materialCost:"",laborCost:"",images:[]});N.useEffect(()=>{r().catch(z=>{console.error("Failed to load payments:",z)});const M=()=>{Y(window.innerWidth<1024)};if(M(),window.addEventListener("resize",M),o.length>0&&!L.project){const z=C();z&&(E(D=>({...D,project:z})),localStorage.setItem("lastSelectedProject",z))}return()=>window.removeEventListener("resize",M)},[r,o]),N.useEffect(()=>{localStorage.setItem("paymentRecordImages",JSON.stringify(be))},[be]),N.useEffect(()=>{localStorage.setItem("hiddenPaymentIds",JSON.stringify(H))},[H]),N.useEffect(()=>{if(L.itemName&&L.itemName.trim().length>=1){const M=L.itemName.trim().toLowerCase(),z=[...t].sort((k,W)=>new Date(W.date).getTime()-new Date(k.date).getTime()).map(k=>k.itemName).filter(k=>k&&k.toLowerCase().includes(M)),D=Array.from(new Set(z));te(D.slice(0,10))}else te([])},[L.itemName,t]);const A=N.useCallback(M=>{var D;if(!d){Z.error("  ");return}const z=(D=M.clipboardData)==null?void 0:D.items;if(z){for(let k=0;k<z.length;k++)if(z[k].type.indexOf("image")!==-1){M.preventDefault();const W=z[k].getAsFile();if(W){const ie=new FileReader;ie.onload=ne=>{var _e;const oe=(_e=ne.target)==null?void 0:_e.result,me=t.find(je=>je.id===d);if(me){const je=[...me.images||[],oe];a(d,{images:je})}else ee(je=>({...je,[d]:[...je[d]||[],oe]}));Z.success(" ")},ie.readAsDataURL(W)}}}},[d,t,a]);N.useEffect(()=>(document.addEventListener("paste",A),()=>document.removeEventListener("paste",A)),[A]);const K=e.filter(M=>(M.status==="approved"||M.status==="completed")&&!t.some(z=>z.paymentId===M.id)&&!H.includes(M.id)).map(M=>{const z=M.materialAmount||0,D=M.laborAmount||0,k=M.amount||0;let W=z,ie=D,ne=0;return z===0&&D===0&&k>0?M.includesVAT?(W=Math.round(k/1.1),ne=k-W):(W=k,ne=0):M.includesVAT?(z>0&&(W=Math.round(z/1.1)),D>0&&(ie=Math.round(D/1.1)),ne=k-(W+ie)):ne=0,{id:M.id,type:"payment",project:M.project,author:M.requestedBy||"-",date:M.requestDate,process:M.process||"-",itemName:M.itemName||M.purpose||"-",materialCost:W,laborCost:ie,vatAmount:ne,totalAmount:k,images:be[M.id]||[],notes:M.notes}}),I=t.map(M=>({...M,type:"manual"})),G=[...K,...I].sort((M,z)=>new Date(z.date).getTime()-new Date(M.date).getTime()),J=G.filter(M=>{var k,W;const z=L.project===""||M.project===L.project,D=c===""||((k=M.itemName)==null?void 0:k.toLowerCase().includes(c.toLowerCase()))||((W=M.process)==null?void 0:W.toLowerCase().includes(c.toLowerCase()));return z&&D}),U=J.reduce((M,z)=>(M.material+=z.materialCost||0,M.labor+=z.laborCost||0,M.vat+=z.vatAmount||0,M.total+=z.totalAmount||0,M),{material:0,labor:0,vat:0,total:0}),P=()=>{if(!L.project){Z.error(" ");return}const M=new Date;let z=Number(L.materialCost)||0,D=Number(L.laborCost)||0,k=0,W=0;if(m){const ne=z+D,oe=Math.round(ne/1.1);if(k=ne-oe,ne>0){const me=z/ne,_e=D/ne;z=Math.round(oe*me),D=Math.round(oe*_e)}W=ne}else k=0,W=z+D;const ie={id:`exec_${Date.now()}`,project:L.project,author:(l==null?void 0:l.name)||"  ",date:new Date(L.date),process:L.process,itemName:L.itemName,materialCost:z,laborCost:D,vatAmount:k,totalAmount:W,images:L.images,notes:"",createdAt:M,updatedAt:M};n(ie),Z.success(" "),E(ne=>({project:ne.project,date:Pe(new Date,"yyyy-MM-dd"),process:"",itemName:"",materialCost:"",laborCost:"",images:[]})),p(!1),y(!1)},V=()=>{const M={};return J.forEach(z=>{const D=z.process||"";M[D]||(M[D]={materialCost:0,laborCost:0,vatAmount:0,totalAmount:0}),M[D].materialCost+=z.materialCost||0,M[D].laborCost+=z.laborCost||0,M[D].vatAmount+=z.vatAmount||0,M[D].totalAmount+=z.totalAmount||0}),Object.entries(M).sort((z,D)=>D[1].totalAmount-z[1].totalAmount)},re=M=>{var W;if(!d){Z.error("  ");return}const z=Array.from(((W=M.target)==null?void 0:W.files)||[]),D=[],k=z.filter(ie=>ie.type.startsWith("image/"));k.length!==0&&k.forEach(ie=>{const ne=new FileReader;ne.onload=oe=>{var _e;const me=(_e=oe.target)==null?void 0:_e.result;if(D.push(me),D.length===k.length){const je=t.find(Ee=>Ee.id===d);if(je){const Ee=[...je.images||[],...D];a(d,{images:Ee})}else ee(Ee=>({...Ee,[d]:[...Ee[d]||[],...D]}));Z.success(`${D.length}  `)}},ne.readAsDataURL(ie)})},ce=M=>{var D;if(!d)return;const z=t.find(k=>k.id===d);if(z){const k=((D=z.images)==null?void 0:D.filter((W,ie)=>ie!==M))||[];a(d,{images:k})}else ee(k=>{var W;return{...k,[d]:((W=k[d])==null?void 0:W.filter((ie,ne)=>ne!==M))||[]}})},Ne=M=>{_(M),S(!0)},Me=M=>{M.preventDefault(),x(!0)},O=M=>{M.preventDefault(),x(!1)},de=M=>{if(M.preventDefault(),x(!1),!d){Z.error("  ");return}const z=Array.from(M.dataTransfer.files),D=[],k=z.filter(W=>W.type.startsWith("image/"));k.length!==0&&k.forEach(W=>{const ie=new FileReader;ie.onload=ne=>{var me;const oe=(me=ne.target)==null?void 0:me.result;if(D.push(oe),D.length===k.length){const _e=t.find(je=>je.id===d);if(_e){const je=[..._e.images||[],...D];a(d,{images:je})}else ee(je=>({...je,[d]:[...je[d]||[],...D]}));Z.success(`${D.length}  `)}},ie.readAsDataURL(W)})};return i.jsxs("div",{className:"space-y-3 md:space-y-4",children:[i.jsxs("div",{className:"lg:hidden mb-4",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),i.jsx("select",{value:L.project,onChange:M=>{E({...L,project:M.target.value}),M.target.value&&localStorage.setItem("lastSelectedProject",M.target.value)},className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",children:o.filter(M=>M.status!=="completed").map(M=>i.jsx("option",{value:M.name,children:M.name},M.id))})]}),i.jsx("div",{className:"lg:hidden border-b border-gray-200 mb-4",children:i.jsxs("nav",{className:"flex space-x-4",children:[i.jsx("button",{onClick:()=>$("form"),className:`py-2 px-1 border-b-2 font-medium text-sm ${T==="form"?"border-gray-900 text-gray-900":"border-transparent text-gray-500"}`,children:""}),i.jsx("button",{onClick:()=>$("list"),className:`py-2 px-1 border-b-2 font-medium text-sm ${T==="list"?"border-gray-900 text-gray-900":"border-transparent text-gray-500"}`,children:""}),i.jsx("button",{onClick:()=>$("image"),className:`py-2 px-1 border-b-2 font-medium text-sm ${T==="image"?"border-gray-900 text-gray-900":"border-transparent text-gray-500"}`,children:""})]})}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-4",children:[i.jsx("div",{className:`lg:col-span-2 bg-white rounded-lg border p-4 overflow-y-auto ${T!=="form"?"hidden lg:block":""}`,children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"hidden lg:block",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" *"}),i.jsx("select",{value:L.project,onChange:M=>{E({...L,project:M.target.value}),M.target.value&&localStorage.setItem("lastSelectedProject",M.target.value)},className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",children:o.filter(M=>M.status!=="completed").map(M=>i.jsx("option",{value:M.name,children:M.name},M.id))})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[" ",L.date&&`(${Pe(new Date(L.date),"E",{locale:Qe})})`]}),i.jsx("input",{type:"date",value:L.date,onChange:M=>E({...L,date:M.target.value}),className:"w-full px-3 py-2 border rounded-lg bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500 cursor-pointer text-gray-900",style:{WebkitAppearance:"none",MozAppearance:"none",appearance:"none",backgroundColor:"white",backgroundImage:"none"}})]}),i.jsxs("div",{className:"relative",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),i.jsx("button",{ref:se,type:"button",onClick:()=>q(!0),className:"w-full px-3 py-2 border rounded-lg text-left bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500",children:L.process||i.jsx("span",{className:"text-gray-400",children:""})})]})]}),i.jsxs("div",{className:"relative",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),i.jsx("input",{type:"text",value:L.itemName,onChange:M=>E({...L,itemName:M.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"}),pe.length>0&&i.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:pe.map((M,z)=>i.jsx("button",{type:"button",onClick:()=>{E({...L,itemName:M}),te([])},className:"w-full px-3 py-2 text-left hover:bg-gray-50 text-sm",children:i.jsx("div",{className:"font-medium text-gray-900",children:M})},z))})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),i.jsx("input",{type:"number",value:L.materialCost,onChange:M=>E({...L,materialCost:M.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),i.jsx("input",{type:"number",value:L.laborCost,onChange:M=>E({...L,laborCost:M.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",id:"includeVat",checked:m,onChange:M=>{M.target.checked&&y(!1),p(M.target.checked)},className:"h-4 w-4 text-gray-600 focus:ring-gray-500 border-gray-300 rounded"}),i.jsx("label",{htmlFor:"includeVat",className:"ml-2 block text-sm text-gray-700",children:"  (10%)"})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",id:"includeTaxDeduction",checked:w,onChange:M=>{M.target.checked&&p(!1),y(M.target.checked)},className:"h-4 w-4 text-gray-600 focus:ring-gray-500 border-gray-300 rounded"}),i.jsx("label",{htmlFor:"includeTaxDeduction",className:"ml-2 block text-sm text-gray-700",children:"3.3% "})]})]}),i.jsx("div",{className:"pt-2 border-t",children:i.jsxs("div",{className:"flex justify-between items-baseline",children:[i.jsx("span",{className:"font-medium",children:""}),i.jsxs("div",{className:"text-right",children:[(m||w)&&i.jsxs("span",{className:"text-xs text-gray-500 mr-2",children:["(",m&&" ",w&&"3.3% ",")"]}),i.jsxs("span",{className:"font-semibold",children:[(()=>{const M=(Number(L.materialCost)||0)+(Number(L.laborCost)||0);return(w?Math.round(M*.967):M).toLocaleString()})(),""]})]})]})}),i.jsx("div",{className:"my-6 lg:my-[50px]",children:i.jsx("button",{onClick:P,className:"w-full py-2 bg-gray-900 text-white rounded-lg hover:bg-gray-800",children:""})})]}),i.jsxs("div",{className:"hidden lg:block bg-gray-50 rounded-lg p-4 space-y-2",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm text-gray-600",children:" :"}),i.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[U.material.toLocaleString(),""]})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm text-gray-600",children:" :"}),i.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[U.labor.toLocaleString(),""]})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm text-gray-600",children:" :"}),i.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[U.vat.toLocaleString(),""]})]}),i.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-gray-200",children:[i.jsx("span",{className:"text-sm font-bold text-gray-900",children:" :"}),i.jsxs("span",{className:"text-base font-bold text-gray-900",children:[U.total.toLocaleString(),""]})]})]})]})}),i.jsxs("div",{className:`lg:col-span-7 bg-white rounded-lg border overflow-hidden flex flex-col ${T!=="list"?"hidden lg:flex":""}`,children:[i.jsx("div",{className:"flex-1 overflow-auto",children:J.length>0?i.jsxs(i.Fragment,{children:[i.jsxs("table",{className:"hidden lg:table w-full",children:[i.jsx("thead",{className:"bg-gray-50 sticky top-0",children:i.jsxs("tr",{className:"text-left text-xs text-gray-700 border-b",children:[i.jsx("th",{className:"px-3 py-3 font-medium w-[12%]",children:""}),i.jsx("th",{className:"px-3 py-3 font-medium w-[15%]",children:""}),i.jsx("th",{className:"px-3 py-3 font-medium w-[10%]",children:""}),i.jsx("th",{className:"px-3 py-3 font-medium w-[23%]",children:""}),i.jsx("th",{className:"px-3 py-3 font-medium text-right w-[10%]",children:""}),i.jsx("th",{className:"px-3 py-3 font-medium text-right w-[10%]",children:""}),i.jsx("th",{className:"px-3 py-3 font-medium text-right w-[10%]",children:""}),i.jsx("th",{className:"px-3 py-3 font-medium text-right w-[10%]",children:""})]})}),i.jsx("tbody",{className:"divide-y divide-gray-200",children:J.map(M=>i.jsxs("tr",{className:`hover:bg-gray-50 cursor-pointer text-sm ${d===M.id?"bg-blue-50":""}`,onClick:()=>f(M.id),children:[i.jsx("td",{className:"px-3 py-3 text-gray-600",children:M.author||"-"}),i.jsx("td",{className:"px-3 py-3 text-gray-600",children:Pe(new Date(M.date),"yyyy-MM-dd (EEE)",{locale:Qe})}),i.jsx("td",{className:"px-3 py-3 text-gray-600",children:M.process||"-"}),i.jsx("td",{className:"px-3 py-3 font-medium",children:M.itemName}),i.jsx("td",{className:"px-3 py-3 text-right",children:(M.materialCost||0).toLocaleString()}),i.jsx("td",{className:"px-3 py-3 text-right",children:(M.laborCost||0).toLocaleString()}),i.jsx("td",{className:"px-3 py-3 text-right",children:(M.vatAmount||0).toLocaleString()}),i.jsxs("td",{className:"px-3 py-3 text-right font-semibold",children:[(M.totalAmount||0).toLocaleString(),""]})]},M.id))})]}),i.jsx("div",{className:"lg:hidden space-y-3 p-3",children:J.map(M=>i.jsxs("div",{className:`border rounded-lg p-4 ${d===M.id?"bg-blue-50 border-blue-300":"bg-white"}`,onClick:()=>f(M.id),children:[i.jsxs("div",{className:"flex justify-between items-start mb-2",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"font-medium text-gray-900",children:M.itemName}),i.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[M.process||"-","  ",M.author||"-"]})]}),i.jsxs("p",{className:"text-sm font-bold text-gray-900",children:["",(M.totalAmount||0).toLocaleString()]})]}),i.jsx("div",{className:"text-xs text-gray-500",children:Pe(new Date(M.date),"yyyy.MM.dd (EEE)",{locale:Qe})}),i.jsxs("div",{className:"mt-2 pt-2 border-t grid grid-cols-3 gap-2 text-xs",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-500",children:""}),i.jsxs("p",{className:"font-medium",children:["",(M.materialCost||0).toLocaleString()]})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-500",children:""}),i.jsxs("p",{className:"font-medium",children:["",(M.laborCost||0).toLocaleString()]})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-500",children:""}),i.jsxs("p",{className:"font-medium",children:["",(M.vatAmount||0).toLocaleString()]})]})]})]},M.id))})]}):i.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:" "})}),i.jsxs("div",{className:"border-t bg-gray-50 p-3",children:[T==="list"&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"lg:hidden mb-3",children:i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"text",placeholder:"...",value:c,onChange:M=>u(M.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 text-sm"}),i.jsx(Pd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"})]})}),i.jsxs("div",{className:"lg:hidden bg-white rounded-lg p-3 mb-3 space-y-2 border",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm text-gray-600",children:" :"}),i.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[U.material.toLocaleString(),""]})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm text-gray-600",children:" :"}),i.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[U.labor.toLocaleString(),""]})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm text-gray-600",children:" :"}),i.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[U.vat.toLocaleString(),""]})]}),i.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-gray-200",children:[i.jsx("span",{className:"text-sm font-bold text-gray-900",children:" :"}),i.jsxs("span",{className:"text-base font-bold text-gray-900",children:[U.total.toLocaleString(),""]})]})]})]}),i.jsxs("div",{className:"flex flex-col lg:flex-row items-stretch lg:items-center gap-3",children:[i.jsx("div",{className:"hidden lg:block flex-1 lg:max-w-sm",children:i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"text",placeholder:"...",value:c,onChange:M=>u(M.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 text-sm lg:text-base"}),i.jsx(Pd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"})]})}),i.jsxs("div",{className:"flex items-center justify-between lg:justify-end gap-2",children:[d&&i.jsx("button",{onClick:()=>{const M=t.find(D=>D.id===d),z=G.find(D=>D.id===d);M?confirm("  ?")&&(s(d),f(null),Z.success(" ")):(z==null?void 0:z.type)==="payment"?confirm(`   ?
(   )`)&&(ue(D=>[...D,d]),f(null),Z.success("  ")):Z.error("   ")},className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"",children:i.jsx(ir,{className:"h-5 w-5"})}),i.jsx("button",{onClick:()=>v(!0),className:"px-3 py-2 text-sm lg:text-base lg:px-4 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 hover:border-gray-400 transition-all duration-200 font-medium whitespace-nowrap",children:" "})]})]})]})]}),i.jsxs("div",{className:`lg:col-span-3 bg-white rounded-lg border flex flex-col overflow-hidden ${T!=="image"?"hidden lg:flex":""}`,onDragOver:Me,onDragLeave:O,onDrop:de,children:[i.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:re,className:"hidden",id:"image-file-input"}),R&&d&&T==="image"&&(()=>{const M=G.find(z=>z.id===d);return M?i.jsx("div",{className:"border-b bg-gray-50 p-3",children:i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"font-medium text-gray-900 text-sm",children:M.itemName}),i.jsxs("p",{className:"text-xs text-gray-500 mt-0.5",children:[M.process||"-","  ",Pe(new Date(M.date),"yyyy.MM.dd",{locale:Qe})]})]}),i.jsxs("p",{className:"text-sm font-bold text-gray-900",children:["",(M.totalAmount||0).toLocaleString()]})]})}):null})(),i.jsx("div",{className:"flex-1 overflow-y-auto p-4 relative",onClick:M=>{var D;const z=M.target;!z.closest("img")&&!z.closest("button")&&d&&(()=>{const W=t.find(ie=>ie.id===d);return(W==null?void 0:W.images)||be[d]||[]})().length>0&&((D=document.getElementById("image-file-input"))==null||D.click())},children:d?(()=>{const M=t.find(D=>D.id===d),z=(M==null?void 0:M.images)||be[d]||[];return z.length>0?i.jsx("div",{className:"grid grid-cols-1 gap-3",children:z.map((D,k)=>i.jsxs("div",{className:"relative group border rounded-lg overflow-hidden",children:[i.jsx("img",{src:D,alt:` ${k+1}`,className:"w-full h-auto cursor-pointer hover:opacity-90 transition-opacity",onClick:W=>{W.stopPropagation(),Ne(D)}}),i.jsx("button",{onClick:W=>{W.stopPropagation(),ce(k)},className:"absolute top-2 right-2 p-1.5 bg-red-500 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:i.jsx(ct,{className:"h-4 w-4"})})]},k))}):i.jsx("label",{htmlFor:"image-file-input",className:"h-full flex items-center justify-center cursor-pointer",children:i.jsxs("div",{className:`w-full h-full min-h-[200px] border-2 border-dashed rounded-lg p-6 text-center transition-colors flex flex-col items-center justify-center ${h?"border-gray-500 bg-gray-50":"border-gray-300 hover:border-gray-400"}`,children:[i.jsx(kc,{className:"h-10 w-10 mx-auto text-gray-400 mb-2"}),i.jsx("p",{className:"text-sm font-medium text-gray-700",children:" "}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"   Ctrl+V "})]})})})():i.jsx("div",{className:"h-full flex items-center justify-center min-h-[200px]",children:i.jsxs("div",{className:"text-center text-gray-400",children:[i.jsx(Ii,{className:"h-12 w-12 mx-auto mb-2"}),i.jsx("p",{className:"text-sm",children:" "})]})})})]})]}),g&&i.jsx("div",{className:"fixed inset-0 z-50 flex items-end lg:items-center justify-center bg-black bg-opacity-50",children:i.jsxs("div",{className:"bg-white rounded-t-2xl lg:rounded-lg w-full lg:max-w-4xl max-h-[85vh] lg:max-h-[80vh] overflow-hidden lg:m-4",children:[i.jsxs("div",{className:"flex items-center justify-between p-4 lg:p-6 border-b",children:[i.jsx("h2",{className:"text-lg lg:text-xl font-bold text-gray-900",children:" "}),i.jsx("button",{onClick:()=>v(!1),className:"p-1.5 lg:p-2 hover:bg-gray-100 rounded-full",children:i.jsx(ct,{className:"h-5 w-5 text-gray-500"})})]}),i.jsx("div",{className:"p-4 lg:p-6 overflow-y-auto max-h-[calc(85vh-120px)] lg:max-h-[calc(80vh-120px)]",children:V().length>0?i.jsxs(i.Fragment,{children:[i.jsxs("table",{className:"hidden lg:table w-full",children:[i.jsx("thead",{className:"bg-gray-100",children:i.jsxs("tr",{className:"text-left text-sm text-gray-700",children:[i.jsx("th",{className:"px-4 py-3 font-medium",children:""}),i.jsx("th",{className:"px-4 py-3 font-medium text-right",children:""}),i.jsx("th",{className:"px-4 py-3 font-medium text-right",children:""}),i.jsx("th",{className:"px-4 py-3 font-medium text-right",children:""}),i.jsx("th",{className:"px-4 py-3 font-medium text-right",children:""})]})}),i.jsx("tbody",{className:"divide-y divide-gray-200",children:V().map(([M,z])=>i.jsxs("tr",{className:"hover:bg-gray-50",children:[i.jsx("td",{className:"px-4 py-3 font-medium text-gray-700",children:M}),i.jsx("td",{className:"px-4 py-3 text-right",children:z.materialCost.toLocaleString()}),i.jsx("td",{className:"px-4 py-3 text-right",children:z.laborCost.toLocaleString()}),i.jsx("td",{className:"px-4 py-3 text-right",children:z.vatAmount.toLocaleString()}),i.jsxs("td",{className:"px-4 py-3 text-right font-semibold",children:[z.totalAmount.toLocaleString(),""]})]},M))}),i.jsx("tfoot",{className:"bg-gray-100 border-t-2 border-gray-300",children:i.jsxs("tr",{children:[i.jsx("td",{className:"px-4 py-3 font-bold text-gray-700",children:""}),i.jsx("td",{className:"px-4 py-3 text-right font-bold",children:U.material.toLocaleString()}),i.jsx("td",{className:"px-4 py-3 text-right font-bold",children:U.labor.toLocaleString()}),i.jsx("td",{className:"px-4 py-3 text-right font-bold",children:U.vat.toLocaleString()}),i.jsxs("td",{className:"px-4 py-3 text-right font-bold text-gray-900",children:[U.total.toLocaleString(),""]})]})})]}),i.jsxs("div",{className:"lg:hidden space-y-3",children:[V().map(([M,z])=>i.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[i.jsxs("div",{className:"flex justify-between items-start mb-3",children:[i.jsx("h3",{className:"font-semibold text-gray-900",children:M}),i.jsxs("span",{className:"text-lg font-bold text-gray-900",children:["",z.totalAmount.toLocaleString()]})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-2 text-sm",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-gray-500 text-xs",children:""}),i.jsxs("p",{className:"font-medium",children:["",z.materialCost.toLocaleString()]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-gray-500 text-xs",children:""}),i.jsxs("p",{className:"font-medium",children:["",z.laborCost.toLocaleString()]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-gray-500 text-xs",children:""}),i.jsxs("p",{className:"font-medium",children:["",z.vatAmount.toLocaleString()]})]})]})]},M)),i.jsxs("div",{className:"bg-gray-900 text-white rounded-lg p-4 mt-4",children:[i.jsxs("div",{className:"flex justify-between items-start mb-3",children:[i.jsx("h3",{className:"font-bold text-white",children:""}),i.jsxs("span",{className:"text-xl font-bold",children:["",U.total.toLocaleString()]})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-2 text-sm",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-gray-300 text-xs",children:""}),i.jsxs("p",{className:"font-semibold",children:["",U.material.toLocaleString()]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-gray-300 text-xs",children:""}),i.jsxs("p",{className:"font-semibold",children:["",U.labor.toLocaleString()]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-gray-300 text-xs",children:""}),i.jsxs("p",{className:"font-semibold",children:["",U.vat.toLocaleString()]})]})]})]})]})]}):i.jsx("div",{className:"text-center py-8 text-gray-500",children:"  ."})})]})}),Q&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"lg:hidden fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:i.jsxs("div",{className:"bg-white rounded-lg w-full max-w-md mx-4 max-h-[80vh] overflow-hidden",children:[i.jsxs("div",{className:"flex items-center justify-between p-3 border-b",children:[i.jsx("h2",{className:"text-base font-bold text-gray-900",children:" "}),i.jsx("button",{onClick:()=>q(!1),className:"p-1 hover:bg-gray-100 rounded-full",children:i.jsx(ct,{className:"h-4 w-4 text-gray-500"})})]}),i.jsxs("div",{className:"p-3 overflow-y-auto max-h-[calc(80vh-100px)]",children:[i.jsx("div",{className:"grid grid-cols-2 gap-2 mb-2",children:Tw.map(M=>i.jsx("button",{onClick:()=>{E({...L,process:M}),q(!1)},className:`p-2 text-sm text-center border rounded-lg transition-all ${L.process===M?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:border-gray-400 hover:bg-gray-50"}`,children:M},M))}),i.jsx("button",{onClick:()=>{E({...L,process:""}),q(!1)},className:"w-full p-2 text-sm text-center border-2 border-dashed border-gray-300 rounded-lg hover:border-gray-400 hover:bg-gray-50 text-gray-500",children:" "})]})]})}),i.jsx("div",{className:"hidden lg:block fixed inset-0 z-40",onClick:()=>q(!1),children:i.jsxs("div",{onClick:M=>M.stopPropagation(),className:"absolute bg-white rounded-lg shadow-xl border border-gray-200",style:{top:se.current?`${se.current.getBoundingClientRect().bottom+window.scrollY+4}px`:"50%",left:se.current?`${se.current.getBoundingClientRect().left+window.scrollX}px`:"50%"},children:[i.jsxs("div",{className:"flex items-center justify-between p-2 border-b",children:[i.jsx("h2",{className:"text-sm font-bold text-gray-900",children:" "}),i.jsx("button",{onClick:()=>q(!1),className:"p-1 hover:bg-gray-100 rounded-full",children:i.jsx(ct,{className:"h-3 w-3 text-gray-500"})})]}),i.jsxs("div",{className:"p-2",children:[i.jsx("div",{className:"grid grid-cols-4 gap-1.5 mb-2",children:Tw.map(M=>i.jsx("button",{onClick:()=>{E({...L,process:M}),q(!1)},className:`p-1.5 text-xs text-center border rounded-lg transition-all whitespace-nowrap ${L.process===M?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:border-gray-400 hover:bg-gray-50"}`,children:M},M))}),i.jsx("button",{onClick:()=>{E({...L,process:""}),q(!1)},className:"w-full p-1.5 text-xs text-center border-2 border-dashed border-gray-300 rounded-lg hover:border-gray-400 hover:bg-gray-50 text-gray-500",children:" "})]})]})})]}),b&&i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-90",onClick:()=>S(!1),children:i.jsxs("div",{className:"relative max-w-[90vw] max-h-[90vh]",children:[i.jsx("button",{onClick:M=>{M.stopPropagation(),S(!1)},className:"absolute -top-10 right-0 text-white hover:text-gray-300 transition-colors",children:i.jsx(ct,{className:"h-8 w-8"})}),i.jsx("img",{src:j,alt:" ",className:"max-w-full max-h-[90vh] object-contain",onClick:M=>M.stopPropagation()})]})})]})},DZ=({projectName:e,onClose:t})=>{const[r,n]=N.useState({receiptDate:Pe(new Date,"yyyy-MM-dd"),customerName:"",amount:"",purpose:" ",receivedBy:""}),s=()=>{window.print()},a=l=>{const c=Number(l.replace(/,/g,""));return isNaN(c)?"":c.toLocaleString()},o=l=>{if(l===0)return"";const c=["","","",""],u=["","","",""],d=["","","","","","","","","",""];let f="",h=0;for(;l>0;){const x=l%1e4;if(x>0){let m="",p=x,w=0;for(;p>0;){const y=p%10;y>0&&(m=d[y]+u[w]+m),p=Math.floor(p/10),w++}f=m+c[h]+f}l=Math.floor(l/1e4),h++}return f+""};return i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 print:relative print:bg-white",children:i.jsxs("div",{className:"bg-white rounded-lg w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto print:max-h-none print:mx-0 print:rounded-none",children:[i.jsxs("div",{className:"flex items-center justify-between p-4 border-b print:hidden",children:[i.jsx("h2",{className:"text-lg font-bold text-gray-900",children:""}),i.jsx("button",{onClick:t,className:"p-1 hover:bg-gray-100 rounded-full",children:i.jsx(ct,{className:"h-5 w-5 text-gray-500"})})]}),i.jsxs("div",{className:"p-6 space-y-4 print:hidden",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),i.jsx("input",{type:"date",value:r.receiptDate,onChange:l=>n({...r,receiptDate:l.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),i.jsx("input",{type:"text",value:r.customerName,onChange:l=>n({...r,customerName:l.target.value}),placeholder:" ",className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),i.jsx("input",{type:"text",value:a(r.amount),onChange:l=>{const c=l.target.value.replace(/,/g,"");/^\d*$/.test(c)&&n({...r,amount:c})},placeholder:" ",className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"}),r.amount&&i.jsx("p",{className:"text-sm text-gray-600 mt-1",children:o(Number(r.amount))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),i.jsx("input",{type:"text",value:r.purpose,onChange:l=>n({...r,purpose:l.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),i.jsx("input",{type:"text",value:r.receivedBy,onChange:l=>n({...r,receivedBy:l.target.value}),placeholder:" ",className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"})]}),i.jsxs("button",{onClick:s,disabled:!r.customerName||!r.amount||!r.receivedBy,className:"w-full py-2 bg-gray-900 text-white rounded-lg hover:bg-gray-800 disabled:bg-gray-300 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[i.jsx(cM,{className:"h-4 w-4"}),""]})]}),i.jsx("div",{className:"hidden print:block p-12",children:i.jsxs("div",{className:"border-4 border-double border-gray-900 p-8",children:[i.jsx("h1",{className:"text-center text-3xl font-bold mb-8",children:"    "}),i.jsxs("div",{className:"space-y-6 text-lg",children:[i.jsxs("div",{className:"flex items-baseline border-b border-gray-300 pb-2",children:[i.jsx("span",{className:"font-medium w-32",children:":"}),i.jsx("span",{className:"flex-1",children:Pe(new Date(r.receiptDate),"yyyy MM dd",{locale:Qe})})]}),i.jsxs("div",{className:"flex items-baseline border-b border-gray-300 pb-2",children:[i.jsx("span",{className:"font-medium w-32",children:":"}),i.jsx("span",{className:"flex-1",children:r.customerName})]}),i.jsxs("div",{className:"flex items-baseline border-b border-gray-300 pb-2",children:[i.jsx("span",{className:"font-medium w-32",children:":"}),i.jsx("span",{className:"flex-1",children:e})]}),i.jsxs("div",{className:"flex items-baseline border-b border-gray-300 pb-2",children:[i.jsx("span",{className:"font-medium w-32",children:":"}),i.jsxs("span",{className:"flex-1 font-bold",children:["",Number(r.amount).toLocaleString(),""]})]}),i.jsxs("div",{className:"flex items-baseline border-b border-gray-300 pb-2",children:[i.jsx("span",{className:"font-medium w-32",children:"():"}),i.jsx("span",{className:"flex-1",children:o(Number(r.amount))})]}),i.jsxs("div",{className:"flex items-baseline border-b border-gray-300 pb-2",children:[i.jsx("span",{className:"font-medium w-32",children:":"}),i.jsx("span",{className:"flex-1",children:r.purpose})]})]}),i.jsxs("div",{className:"mt-12 text-center",children:[i.jsx("p",{className:"text-lg mb-8",children:"   ."}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{className:"text-lg",children:Pe(new Date(r.receiptDate),"yyyy MM dd",{locale:Qe})}),i.jsxs("p",{className:"text-xl font-medium mt-8",children:[": ",r.receivedBy," ",i.jsx("span",{className:"ml-4",children:"()"})]})]})]})]})})]})}),i.jsx("style",{children:`
        @media print {
          body * {
            visibility: hidden;
          }
          .print\\:block, .print\\:block * {
            visibility: visible;
          }
          .print\\:hidden {
            display: none !important;
          }
          @page {
            size: A4;
            margin: 2cm;
          }
        }
      `})]})};var mm={};const Pw=["","","","","","","","","","","","","","","","","","","","","","","","","","",""],el=e=>{if(!e)return e;const t=e.replace(/$/g,"").trim(),r=t.split(" ");if(r.length>=2){const n=r[r.length-1];for(const s of Pw)if(n===s)return r.slice(0,-1).join(" ").trim()}for(const n of Pw)if(t.endsWith(n))return t.substring(0,t.length-n.length).trim();return t},Aw=["","","/","","","","","","","","","","","","",""],_Z=()=>{const{payments:e,loadPaymentsFromAPI:t,addPaymentToAPI:r,deletePaymentFromAPI:n,updatePaymentInAPI:s,projects:a}=en(),{user:o}=ba(),[l,c]=N.useState(""),[u,d]=N.useState(null),[f,h]=N.useState(null),[x,m]=N.useState(!1),[p,w]=N.useState(!1),[y,g]=N.useState(!1),[v,b]=N.useState(!1),[S,j]=N.useState(""),[_,T]=N.useState("form"),[$,R]=N.useState(!1),[Y,Q]=N.useState(!1),q=N.useRef(null),[se,pe]=N.useState("pending"),[te,be]=N.useState("all"),[ee,H]=N.useState(!1),[ue,C]=N.useState(null),[L,E]=N.useState(!1),[A,K]=N.useState(""),[I,G]=N.useState([]),[J,U]=N.useState([]),[P,V]=N.useState(null),[re,ce]=N.useState([]),[Ne,Me]=N.useState([]),[O,de]=N.useState(!1),[M,z]=N.useState(()=>{const F=localStorage.getItem("paymentRecordImages");return F?JSON.parse(F):{}}),D=()=>{const F=localStorage.getItem("lastSelectedProject"),ve=a.filter(fe=>fe.status!=="completed");return F&&ve.some(fe=>fe.name===F)?F:ve.length>0?ve[0].name:""},[k,W]=N.useState({project:"",date:Pe(new Date,"yyyy-MM-dd"),process:"",itemName:"",materialCost:"",laborCost:"",amount:"",accountHolder:"",bankName:"",accountNumber:"",images:[]});N.useEffect(()=>{(async()=>{try{const ve=await fs.getAllContractors();G(ve.map(fe=>({id:fe._id||fe.id,rank:fe.rank,companyName:fe.companyName,name:fe.name,process:fe.process,contact:fe.contact,accountNumber:fe.accountNumber,bankName:fe.bankName,notes:fe.notes,createdAt:new Date(fe.createdAt),updatedAt:new Date(fe.updatedAt)})))}catch(ve){console.error("Failed to load contractors:",ve)}})()},[]),N.useEffect(()=>{t().catch(ve=>{console.error("Failed to load payments:",ve)});const F=()=>{R(window.innerWidth<1024)};if(F(),window.addEventListener("resize",F),a.length>0&&!k.project){const ve=D();ve&&(W(fe=>({...fe,project:ve})),localStorage.setItem("lastSelectedProject",ve))}return()=>window.removeEventListener("resize",F)},[t,a]),N.useEffect(()=>{if(k.process){const F=new Set(e.filter(we=>{var le;return we.status==="completed"&&((le=we.bankInfo)==null?void 0:le.accountHolder)}).map(we=>we.bankInfo.accountHolder.trim().toLowerCase())),fe=I.filter(we=>{if(!(we.process.toLowerCase().includes(k.process.toLowerCase())||k.process.toLowerCase().includes(we.process.toLowerCase())))return!1;const Se=we.accountNumber&&we.accountNumber.trim()!=="",Oe=we.name.trim().toLowerCase(),Le=F.has(Oe);return Se||Le}).sort((we,le)=>{const Se=we.accountNumber&&we.accountNumber.trim()!=="",Oe=le.accountNumber&&le.accountNumber.trim()!=="";return Se&&!Oe?-1:!Se&&Oe?1:0});U(fe)}else U([])},[k.process,I,e]),N.useEffect(()=>{if(k.accountHolder&&k.accountHolder.trim().length>=1){const F=k.accountHolder.trim().toLowerCase(),ve=new Map;let fe=null;if(P){const le=I.find(Se=>(Se.id||Se._id)===P);le&&le.accountNumber&&le.bankName&&(fe=`${el(le.name).trim()}_${le.bankName}_${le.accountNumber}`)}e.filter(le=>{var Se,Oe,Le;return le.status==="completed"&&((Se=le.bankInfo)==null?void 0:Se.accountHolder)&&((Oe=le.bankInfo)==null?void 0:Oe.bankName)&&((Le=le.bankInfo)==null?void 0:Le.accountNumber)}).forEach(le=>{const Se=le.bankInfo.accountHolder.trim(),Oe=Se.toLowerCase();if(Oe.includes(F)||F.includes(Oe)){const Le=`${Se}_${le.bankInfo.bankName}_${le.bankInfo.accountNumber}`;Le!==fe&&!ve.has(Le)&&ve.set(Le,{accountHolder:Se,bankName:le.bankInfo.bankName,accountNumber:le.bankInfo.accountNumber})}}),I.forEach(le=>{if((le.id||le._id)!==P&&le.accountNumber&&le.bankName){const Se=el(le.name).trim(),Oe=Se.toLowerCase();if(Oe.includes(F)||F.includes(Oe)){const Le=`${Se}_${le.bankName}_${le.accountNumber}`;ve.has(Le)||ve.set(Le,{accountHolder:Se,bankName:le.bankName,accountNumber:le.accountNumber})}}}),ce(Array.from(ve.values()))}else ce([])},[k.accountHolder,e,I,P]),N.useEffect(()=>{if(O&&k.itemName&&k.itemName.trim().length>=1){const F=k.itemName.trim().toLowerCase(),ve=[...e].sort((we,le)=>new Date(le.date).getTime()-new Date(we.date).getTime()).map(we=>we.itemName).filter(we=>we&&we.toLowerCase().includes(F)),fe=Array.from(new Set(ve));Me(fe.slice(0,10))}else Me([])},[k.itemName,e,O]);const ie=N.useCallback(()=>{if(!P&&(!k.accountHolder||k.accountHolder.trim().length===0)){const F=new Map;e.filter(fe=>{var we,le,Se;return fe.status==="completed"&&((we=fe.bankInfo)==null?void 0:we.accountHolder)&&((le=fe.bankInfo)==null?void 0:le.bankName)&&((Se=fe.bankInfo)==null?void 0:Se.accountNumber)}).forEach(fe=>{const we=fe.bankInfo.accountHolder.trim(),le=`${we}_${fe.bankInfo.bankName}_${fe.bankInfo.accountNumber}`;F.has(le)||F.set(le,{accountHolder:we,bankName:fe.bankInfo.bankName,accountNumber:fe.bankInfo.accountNumber})}),I.forEach(fe=>{if(fe.accountNumber&&fe.bankName){const we=el(fe.name).trim(),le=`${we}_${fe.bankName}_${fe.accountNumber}`;F.has(le)||F.set(le,{accountHolder:we,bankName:fe.bankName,accountNumber:fe.accountNumber})}}),ce(Array.from(F.values()))}},[k.accountHolder,e,I,P]);N.useEffect(()=>{localStorage.setItem("paymentRecordImages",JSON.stringify(M))},[M]);const ne=N.useCallback(F=>{var fe;if(!u){Z.error("  ");return}const ve=(fe=F.clipboardData)==null?void 0:fe.items;if(ve){for(let we=0;we<ve.length;we++)if(ve[we].type.indexOf("image")!==-1){F.preventDefault();const le=ve[we].getAsFile();if(le){const Se=new FileReader;Se.onload=Oe=>{var Qt;const Le=(Qt=Oe.target)==null?void 0:Qt.result;z(st=>({...st,[u]:[...st[u]||[],Le]})),Z.success(" ")},Se.readAsDataURL(le)}}}},[u]);N.useEffect(()=>(document.addEventListener("paste",ne),()=>document.removeEventListener("paste",ne)),[ne]);const oe=[...e].sort((F,ve)=>new Date(ve.requestDate).getTime()-new Date(F.requestDate).getTime()),me=oe.filter(F=>{var le,Se,Oe;const ve=l===""||((le=F.purpose)==null?void 0:le.toLowerCase().includes(l.toLowerCase()))||((Se=F.itemName)==null?void 0:Se.toLowerCase().includes(l.toLowerCase()))||((Oe=F.process)==null?void 0:Oe.toLowerCase().includes(l.toLowerCase())),fe=F.status===se,we=te==="all"||F.project===te;return ve&&fe&&we}),_e=F=>{const ve=F.id||F._id||null;if(P===ve){V(null);const Se=document.querySelector('input[placeholder=" "]');Se&&setTimeout(()=>{Se.focus()},100);return}V(ve);const fe=el(F.name);let we=F.bankName||"",le=F.accountNumber||"";if(le&&!we){const Se=le.trim().split(/\s+/);if(Se.length>=2){const Oe=Se[0];(Oe.includes("")||Oe.includes("")||Oe.includes("")||Oe.includes("")||Oe.includes(""))&&(we=Oe,le=Se.slice(1).join(""))}}W(Se=>({...Se,accountHolder:fe,bankName:we,accountNumber:le}))};me.reduce((F,ve)=>{const fe=ve.materialAmount||0,we=ve.laborAmount||0,le=ve.amount||0;let Se=fe,Oe=we,Le=0;return fe===0&&we===0&&le>0?ve.includesVAT?(Se=Math.round(le/1.1),Le=le-Se):(Se=le,Le=0):ve.includesVAT?(fe>0&&(Se=Math.round(fe/1.1)),we>0&&(Oe=Math.round(we/1.1)),Le=le-(Se+Oe)):Le=0,F.material+=Se,F.labor+=Oe,F.vat+=Le,F.total+=le,F},{material:0,labor:0,vat:0,total:0});const je=async()=>{if(console.log(" handleSave called"),console.log(" Current user:",o),console.log(" Form data:",k),!k.project){Z.error(" ");return}if(!k.itemName){Z.error(" ");return}const F=Number(k.materialCost)||0,ve=Number(k.laborCost)||0;if(F+ve===0){Z.error(" ");return}try{const we=y?Math.round(F*.967):F,le=y?Math.round(ve*.967):ve,Se=we+le,Oe=new Date;if(f){const Le={project:k.project,requestDate:new Date(k.date),purpose:k.itemName,amount:Se,category:"material",urgency:"normal",process:k.process,itemName:k.itemName,includesVAT:p,applyTaxDeduction:y,materialAmount:we,laborAmount:le,originalLaborAmount:ve,accountHolder:k.accountHolder,bank:k.bankName,accountNumber:k.accountNumber,bankInfo:k.accountHolder||k.bankName||k.accountNumber?{accountHolder:k.accountHolder,bankName:k.bankName,accountNumber:k.accountNumber}:void 0,updatedAt:Oe};console.log(" Updating payment:",Le),await s(f,Le),Z.success(" "),h(null)}else{const Le={id:`payment_${Date.now()}`,project:k.project,requestDate:new Date(k.date),requestedBy:(o==null?void 0:o.name)||"  ",purpose:k.itemName,amount:Se,status:"pending",category:"material",urgency:"normal",process:k.process,itemName:k.itemName,includesVAT:p,applyTaxDeduction:y,materialAmount:we,laborAmount:le,originalLaborAmount:ve,accountHolder:k.accountHolder,bank:k.bankName,accountNumber:k.accountNumber,bankInfo:k.accountHolder||k.bankName||k.accountNumber?{accountHolder:k.accountHolder,bankName:k.bankName,accountNumber:k.accountNumber}:void 0,attachments:[],createdAt:Oe,updatedAt:Oe};console.log(" Creating payment:",Le),await r(Le),Z.success(" ")}W(Le=>({project:Le.project,date:Pe(new Date,"yyyy-MM-dd"),process:"",itemName:"",materialCost:"",laborCost:"",amount:"",accountHolder:"",bankName:"",accountNumber:"",images:[]})),w(!1),g(!1),V(null),$&&T("list")}catch(we){console.error(" Payment save error:",we),Z.error("  : "+we.message)}},Ee=F=>{var we,le,Se,Oe;const ve=F.originalMaterialAmount!==void 0?F.originalMaterialAmount:F.materialAmount||0,fe=F.originalLaborAmount!==void 0?F.originalLaborAmount:F.laborAmount||0;W({project:F.project,date:Pe(new Date(F.requestDate),"yyyy-MM-dd"),process:F.process||"",itemName:F.itemName||F.purpose||"",materialCost:ve>0?ve.toString():"",laborCost:fe>0?fe.toString():"",amount:((we=F.amount)==null?void 0:we.toString())||"",accountHolder:((le=F.bankInfo)==null?void 0:le.accountHolder)||"",bankName:((Se=F.bankInfo)==null?void 0:Se.bankName)||"",accountNumber:((Oe=F.bankInfo)==null?void 0:Oe.accountNumber)||"",images:F.attachments||[]}),w(F.includesVAT||!1),g(F.applyTaxDeduction||!1),d(F.id),h(F.id),$&&T("form"),Z.success("  ")},it=async F=>{var ve,fe,we;try{const le=((ve=F.bankInfo)==null?void 0:ve.accountHolder)||F.accountHolder,Se=((fe=F.bankInfo)==null?void 0:fe.bankName)||F.bank,Oe=((we=F.bankInfo)==null?void 0:we.accountNumber)||F.accountNumber;if(!le||!Se||!Oe){Z.error("  .    .");return}if(mm.TOSSPAY_API_KEY&&mm.TOSSPAY_SECRET_KEY&&mm.TOSSPAY_SENDER_ACCOUNT!=="1002-000-0000"){if(!window.confirm(` ${le} ${F.amount.toLocaleString()} ?

: ${Se}
: ${Oe}
: ${le}

   .`))return;const st=Z.loading("   ..."),Ro=await(await fetch("/api/payments/tosspay/instant-transfer",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({paymentId:F.id,receiverName:le,receiverBank:Se,receiverAccount:Oe,amount:F.amount,description:`${F.project} - ${F.itemName||F.purpose}`})})).json();Z.dismiss(st),Ro.success?(Z.success(" !"),await t()):Z.error(Ro.error||"  ")}else try{if(await navigator.clipboard.writeText(Oe),window.confirm(` !

: ${le}
: ${Se}
: ${Oe}
: ${F.amount.toLocaleString()}

/   .
   ""  .`)){const es={KB:"kbbank://",:"shinhan-sr://",:"wooribank://",:"hanabank://",:"kakaotalk://kakaopay",:"toss://"}[Se];es&&/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)&&(window.location.href=es)}}catch{alert(`: ${le}
: ${Se}
: ${Oe}
: ${F.amount.toLocaleString()}

    .`)}}catch(le){console.error(" :",le),Z.error("   ")}},qe=async F=>{try{await s(F,{status:"completed"}),Z.success(" "),H(!1)}catch{Z.error("  ")}},tt=F=>{var le;if(!u){Z.error("  ");return}const ve=Array.from(((le=F.target)==null?void 0:le.files)||[]),fe=[],we=ve.filter(Se=>Se.type.startsWith("image/"));we.length!==0&&we.forEach(Se=>{const Oe=new FileReader;Oe.onload=Le=>{var st;const Qt=(st=Le.target)==null?void 0:st.result;fe.push(Qt),fe.length===we.length&&(z(es=>({...es,[u]:[...es[u]||[],...fe]})),Z.success(`${fe.length}  `))},Oe.readAsDataURL(Se)})},Ge=F=>{u&&z(ve=>{var fe;return{...ve,[u]:((fe=ve[u])==null?void 0:fe.filter((we,le)=>le!==F))||[]}})},gt=F=>{j(F),b(!0)},nt=F=>{F.preventDefault(),m(!0)},vr=F=>{F.preventDefault(),m(!1)},sn=F=>{if(F.preventDefault(),m(!1),!u){Z.error("  ");return}const ve=Array.from(F.dataTransfer.files),fe=[],we=ve.filter(le=>le.type.startsWith("image/"));we.length!==0&&we.forEach(le=>{const Se=new FileReader;Se.onload=Oe=>{var Qt;const Le=(Qt=Oe.target)==null?void 0:Qt.result;fe.push(Le),fe.length===we.length&&(z(st=>({...st,[u]:[...st[u]||[],...fe]})),Z.success(`${fe.length}  `))},Se.readAsDataURL(le)})};return i.jsxs("div",{className:"space-y-3 md:space-y-4",children:[i.jsxs("div",{className:"lg:hidden mb-4",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),i.jsx("select",{value:k.project,onChange:F=>{W({...k,project:F.target.value}),F.target.value&&localStorage.setItem("lastSelectedProject",F.target.value)},className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",children:a.filter(F=>F.status!=="completed").map(F=>i.jsx("option",{value:F.name,children:F.name},F.id))})]}),i.jsx("div",{className:"lg:hidden border-b border-gray-200 mb-4",children:i.jsxs("nav",{className:"flex space-x-4",children:[i.jsx("button",{onClick:()=>T("form"),className:`py-2 px-1 border-b-2 font-medium text-sm ${_==="form"?"border-gray-900 text-gray-900":"border-transparent text-gray-500"}`,children:""}),i.jsx("button",{onClick:()=>T("list"),className:`py-2 px-1 border-b-2 font-medium text-sm ${_==="list"?"border-gray-900 text-gray-900":"border-transparent text-gray-500"}`,children:""}),i.jsx("button",{onClick:()=>T("image"),className:`py-2 px-1 border-b-2 font-medium text-sm ${_==="image"?"border-gray-900 text-gray-900":"border-transparent text-gray-500"}`,children:""})]})}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-4",children:[i.jsx("div",{className:`lg:col-span-2 bg-white rounded-lg border p-4 overflow-y-auto ${_!=="form"?"hidden lg:block":""}`,children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"hidden lg:block",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" *"}),i.jsx("select",{value:k.project,onChange:F=>{W({...k,project:F.target.value}),F.target.value&&localStorage.setItem("lastSelectedProject",F.target.value)},className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",children:a.filter(F=>F.status!=="completed").map(F=>i.jsx("option",{value:F.name,children:F.name},F.id))})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[" ",k.date&&`(${Pe(new Date(k.date),"E",{locale:Qe})})`]}),i.jsx("input",{type:"date",value:k.date,onChange:F=>W({...k,date:F.target.value}),className:"w-full px-3 py-2 border rounded-lg bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500 cursor-pointer text-gray-900",style:{WebkitAppearance:"none",MozAppearance:"none",appearance:"none",backgroundColor:"white",backgroundImage:"none"}})]}),i.jsxs("div",{className:"relative",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),i.jsx("button",{ref:q,type:"button",onClick:()=>Q(!0),className:"w-full px-3 py-2 border rounded-lg text-left bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500",children:k.process||i.jsx("span",{className:"text-gray-400",children:""})})]})]}),i.jsxs("div",{className:"relative",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),i.jsx("input",{type:"text",value:k.itemName,onChange:F=>W({...k,itemName:F.target.value}),onFocus:()=>de(!0),onBlur:()=>setTimeout(()=>de(!1),200),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"}),Ne.length>0&&i.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:Ne.map((F,ve)=>i.jsx("button",{type:"button",onClick:()=>{W({...k,itemName:F}),Me([])},className:"w-full px-3 py-2 text-left hover:bg-gray-50 text-sm",children:i.jsx("div",{className:"font-medium text-gray-900",children:F})},ve))})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),i.jsx("input",{type:"number",value:k.materialCost,onChange:F=>W({...k,materialCost:F.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),i.jsx("input",{type:"number",value:k.laborCost,onChange:F=>W({...k,laborCost:F.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",id:"includeVat",checked:p,onChange:F=>{F.target.checked&&g(!1),w(F.target.checked)},className:"h-4 w-4 text-gray-600 focus:ring-gray-500 border-gray-300 rounded"}),i.jsx("label",{htmlFor:"includeVat",className:"ml-2 block text-sm text-gray-700",children:"  (10%)"})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",id:"includeTaxDeduction",checked:y,onChange:F=>{F.target.checked&&w(!1),g(F.target.checked)},className:"h-4 w-4 text-gray-600 focus:ring-gray-500 border-gray-300 rounded"}),i.jsx("label",{htmlFor:"includeTaxDeduction",className:"ml-2 block text-sm text-gray-700",children:"3.3% "})]})]})]}),J.length>0&&i.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-3 mt-3",children:[i.jsx("label",{className:"block text-sm font-medium text-amber-900 mb-2",children:" "}),i.jsx("div",{className:"space-y-1 max-h-32 overflow-y-auto",children:J.map(F=>{const ve=F.id||F._id,fe=P===ve;return i.jsx("button",{type:"button",onClick:()=>_e(F),className:`w-full text-left px-3 py-2 rounded-lg border transition-colors ${fe?"border-gray-900 bg-gray-50":"border-gray-200 hover:border-gray-400 hover:bg-gray-50"}`,children:i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"font-medium text-sm text-gray-900",children:el(F.name)}),F.companyName&&i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"text-gray-300",children:"|"}),i.jsx("span",{className:"text-xs text-gray-600",children:F.companyName})]})]}),F.accountNumber&&F.bankName&&i.jsxs("div",{className:"text-xs text-gray-500",children:[F.bankName," ",F.accountNumber]})]})},ve)})})]}),i.jsxs("div",{className:"border-t pt-3 space-y-2",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),i.jsx("input",{type:"text",value:k.accountHolder,onChange:F=>W({...k,accountHolder:F.target.value}),onFocus:ie,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",placeholder:" "})]}),re.length>0&&!P&&i.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[i.jsx("label",{className:"block text-sm font-medium text-blue-900 mb-2",children:"  "}),i.jsx("div",{className:"space-y-1 max-h-32 overflow-y-auto",children:re.map((F,ve)=>i.jsx("button",{type:"button",onClick:()=>{W(fe=>({...fe,accountHolder:F.accountHolder,bankName:F.bankName,accountNumber:F.accountNumber})),ce([])},className:"w-full text-left px-3 py-2 rounded-lg border border-blue-200 bg-white hover:border-blue-400 hover:bg-blue-50 transition-colors",children:i.jsx("div",{className:"flex justify-between items-start",children:i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-sm text-gray-900",children:F.accountHolder}),i.jsxs("div",{className:"text-xs text-gray-500 mt-0.5",children:[F.bankName," ",F.accountNumber]})]})})},ve))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),i.jsxs("select",{value:k.bankName,onChange:F=>W({...k,bankName:F.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",children:[i.jsx("option",{value:"",children:" "}),i.jsx("option",{value:"KB",children:"KB"}),i.jsx("option",{value:"",children:""}),i.jsx("option",{value:"",children:""}),i.jsx("option",{value:"",children:""}),i.jsx("option",{value:"NH",children:"NH"}),i.jsx("option",{value:"IBK",children:"IBK"}),i.jsx("option",{value:"SC",children:"SC"}),i.jsx("option",{value:"",children:""}),i.jsx("option",{value:"",children:""}),i.jsx("option",{value:"",children:""}),i.jsx("option",{value:"",children:""}),i.jsx("option",{value:"",children:""}),i.jsx("option",{value:"",children:""}),i.jsx("option",{value:"",children:""}),i.jsx("option",{value:"KDB",children:"KDB"}),i.jsx("option",{value:"",children:""}),i.jsx("option",{value:"",children:""}),i.jsx("option",{value:"",children:""}),i.jsx("option",{value:"",children:""}),i.jsx("option",{value:"",children:""}),i.jsx("option",{value:"",children:""}),i.jsx("option",{value:"",children:""})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),i.jsx("input",{type:"text",value:k.accountNumber,onChange:F=>W({...k,accountNumber:F.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",placeholder:" "})]}),i.jsx("div",{className:"pt-2 border-t",children:i.jsxs("div",{className:"flex justify-between items-baseline",children:[i.jsx("span",{className:"font-medium",children:""}),i.jsxs("div",{className:"text-right",children:[(p||y)&&i.jsxs("span",{className:"text-xs text-gray-500 mr-2",children:["(",p&&" ",y&&"3.3% ",")"]}),i.jsxs("span",{className:"font-semibold",children:[(()=>{const F=(Number(k.materialCost)||0)+(Number(k.laborCost)||0);return(y?Math.round(F*.967):F).toLocaleString()})(),""]})]})]})}),i.jsxs("div",{className:"my-6 lg:my-[50px] sticky bottom-0 bg-white pt-4 pb-4 -mb-4 lg:static lg:pb-0",style:{zIndex:100},children:[f&&i.jsx("button",{onClick:()=>{h(null),W(F=>({project:F.project,date:Pe(new Date,"yyyy-MM-dd"),process:"",itemName:"",materialCost:"",laborCost:"",amount:"",accountHolder:"",bankName:"",accountNumber:"",images:[]})),w(!1),g(!1),V(null),Z.info(" ")},className:"w-full py-2 mb-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 touch-manipulation",style:{minHeight:"48px"},children:""}),i.jsx("button",{onClick:F=>{console.log(" Payment button clicked!",F),console.log(" Button element:",F.currentTarget),console.log(" Form data:",k),je()},className:"w-full py-3 bg-gray-900 text-white rounded-lg hover:bg-gray-800 active:bg-gray-950 touch-manipulation font-medium text-base",style:{minHeight:"48px",position:"relative",zIndex:101,WebkitTapHighlightColor:"transparent"},children:f?"":""})]})]})]})}),i.jsxs("div",{className:`lg:col-span-4 bg-white rounded-lg border overflow-hidden flex flex-col ${_!=="list"?"hidden lg:flex":""}`,children:[i.jsx("div",{className:"bg-gray-50 px-4 pt-3 pb-0",children:i.jsxs("div",{className:"flex items-center justify-between gap-4",children:[i.jsxs("nav",{className:"flex gap-2 overflow-x-auto flex-1",children:[i.jsxs("button",{onClick:()=>pe("pending"),className:`px-4 py-2.5 rounded-t-lg font-medium text-sm transition-all whitespace-nowrap flex items-center gap-2 ${se==="pending"?"bg-white text-gray-900 shadow-sm border-b-2 border-gray-900":"text-gray-500 hover:text-gray-700 hover:bg-gray-100"}`,children:["",i.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-semibold ${se==="pending"?"bg-gray-900 text-white":"bg-gray-300 text-gray-600"}`,children:oe.filter(F=>F.status==="pending").length})]}),i.jsxs("button",{onClick:()=>pe("completed"),className:`px-4 py-2.5 rounded-t-lg font-medium text-sm transition-all whitespace-nowrap flex items-center gap-2 ${se==="completed"?"bg-white text-gray-900 shadow-sm border-b-2 border-gray-900":"text-gray-500 hover:text-gray-700 hover:bg-gray-100"}`,children:["",i.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-semibold ${se==="completed"?"bg-gray-900 text-white":"bg-gray-300 text-gray-600"}`,children:oe.filter(F=>F.status==="completed").length})]})]}),k.project&&i.jsx("button",{onClick:()=>be(te==="all"?k.project:"all"),className:`px-3 py-1.5 text-xs font-medium rounded-lg whitespace-nowrap transition-colors ${te===k.project?"bg-gray-900 text-white":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"}`,children:te===k.project?"":`${k.project} `})]})}),i.jsx("div",{className:"border-b border-gray-200"}),i.jsx("div",{className:"flex-1 overflow-auto p-4",children:me.length>0?i.jsx("div",{className:"space-y-4",children:se==="completed"?(()=>{const F=me.reduce((ve,fe)=>{const we=fe.project||"";return ve[we]||(ve[we]=[]),ve[we].push(fe),ve},{});return Object.entries(F).map(([ve,fe])=>{const we=fe.reduce((le,Se)=>le+(Se.amount||0),0);return i.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[i.jsxs("div",{className:"bg-gray-50 px-3 py-2 border-b flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-gray-900 text-sm",children:ve}),i.jsxs("p",{className:"text-xs text-gray-500",children:[" ",fe.length,"  ",we.toLocaleString(),""]})]}),i.jsxs("button",{onClick:()=>{K(ve),E(!0)},className:"px-3 py-1.5 bg-gray-900 text-white rounded text-xs font-medium hover:bg-gray-800 flex items-center gap-1",children:[i.jsx(qh,{className:"h-3.5 w-3.5"}),""]})]}),i.jsx("div",{className:"p-2 space-y-2",children:fe.map(le=>{var es,Ro,Dv;const Se=le.amount||0,Oe=((es=le.bankInfo)==null?void 0:es.accountHolder)||le.accountHolder||"",Le=((Ro=le.bankInfo)==null?void 0:Ro.bankName)||le.bank||"",Qt=((Dv=le.bankInfo)==null?void 0:Dv.accountNumber)||le.accountNumber||"",st=Oe&&Le&&Qt?`${Oe} | ${Le} ${Qt}`:" ";return i.jsxs("div",{onClick:()=>d(le.id),className:`border rounded-lg p-3 cursor-pointer transition-colors ${u===le.id?"border-gray-900 bg-gray-50":"border-gray-200 bg-white hover:border-gray-400"}`,children:[i.jsxs("div",{className:"flex justify-between items-start mb-2.5",children:[i.jsx("div",{className:"flex-1 min-w-0",children:i.jsxs("div",{className:"flex items-baseline gap-2",children:[le.process&&i.jsxs("span",{className:"text-xs text-gray-500 shrink-0",children:["[",le.process,"]"]}),i.jsx("h3",{className:"font-semibold text-gray-900 text-sm truncate",children:le.purpose||le.itemName||"-"})]})}),i.jsxs("div",{className:"flex items-start gap-2 ml-3 shrink-0",children:[i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:"text-base font-bold text-gray-900",children:[Se.toLocaleString(),""]}),i.jsxs("p",{className:"text-[10px] text-gray-400",children:[le.requestedBy||"-","  ",Pe(new Date(le.requestDate),"MM/dd",{locale:Qe})]})]}),i.jsx("button",{onClick:async $o=>{$o.stopPropagation(),window.confirm("  ?")&&(await n(le.id),Z.success(""))},className:"p-0.5 text-gray-300 hover:text-red-500 transition-colors",title:"",children:i.jsx(ir,{className:"h-3.5 w-3.5"})})]})]}),i.jsxs("div",{className:"flex items-center gap-2 mb-2.5 text-xs",children:[i.jsxs("span",{className:"text-gray-400",children:[" ",(le.materialAmount||0).toLocaleString()]}),i.jsx("span",{className:"text-gray-300",children:""}),i.jsxs("span",{className:"text-gray-400",children:[" ",(le.laborAmount||0).toLocaleString()]}),le.includesVAT&&i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"text-gray-300",children:""}),i.jsx("span",{className:"px-1.5 py-0.5 bg-blue-50 text-blue-700 text-[10px] rounded",children:"VAT"})]}),le.applyTaxDeduction&&i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"text-gray-300",children:""}),i.jsx("span",{className:"px-1.5 py-0.5 bg-purple-50 text-purple-700 text-[10px] rounded",children:"3.3%"})]})]}),i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("div",{className:"text-xs text-gray-500 truncate flex-1",children:st}),i.jsx("button",{onClick:$o=>{$o.stopPropagation(),Ee(le)},className:"text-xs text-gray-600 hover:text-gray-900 ml-2 flex-shrink-0",children:""})]}),i.jsxs("button",{onClick:$o=>{$o.stopPropagation(),K(le.project),E(!0)},className:"w-full py-1.5 px-2 bg-green-600 text-white rounded text-xs font-medium hover:bg-green-700 transition-colors flex items-center justify-center gap-1",children:[i.jsx(qh,{className:"h-3 w-3"}),""]})]},le.id)})})]},ve)})})():me.map(F=>{var Oe,Le,Qt;const ve=F.amount||0,fe=((Oe=F.bankInfo)==null?void 0:Oe.accountHolder)||F.accountHolder||"",we=((Le=F.bankInfo)==null?void 0:Le.bankName)||F.bank||"",le=((Qt=F.bankInfo)==null?void 0:Qt.accountNumber)||F.accountNumber||"",Se=fe&&we&&le?`${fe} | ${we} ${le}`:" ";return i.jsxs("div",{onClick:()=>d(F.id),className:`border rounded-lg p-3 cursor-pointer transition-colors ${u===F.id?"border-gray-900 bg-gray-50":"border-gray-200 bg-white hover:border-gray-400"}`,children:[i.jsxs("div",{className:"flex justify-between items-start mb-2.5",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-baseline gap-2",children:[F.process&&i.jsxs("span",{className:"text-xs text-gray-500 shrink-0",children:["[",F.process,"]"]}),i.jsx("h3",{className:"font-semibold text-gray-900 text-sm truncate",children:F.purpose||F.itemName||"-"})]}),i.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:F.project||"-"})]}),i.jsxs("div",{className:"flex items-start gap-2 ml-3 shrink-0",children:[i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:"text-base font-bold text-gray-900",children:[ve.toLocaleString(),""]}),i.jsxs("p",{className:"text-[10px] text-gray-400",children:[F.requestedBy||"-","  ",Pe(new Date(F.requestDate),"MM/dd",{locale:Qe})]})]}),i.jsx("button",{onClick:async st=>{st.stopPropagation(),window.confirm("  ?")&&(await n(F.id),Z.success(""))},className:"p-0.5 text-gray-300 hover:text-red-500 transition-colors",title:"",children:i.jsx(ir,{className:"h-3.5 w-3.5"})})]})]}),i.jsxs("div",{className:"flex items-center gap-2 mb-2.5 text-xs",children:[i.jsxs("span",{className:"text-gray-400",children:[" ",(F.materialAmount||0).toLocaleString()]}),i.jsx("span",{className:"text-gray-300",children:""}),i.jsxs("span",{className:"text-gray-400",children:[" ",(F.laborAmount||0).toLocaleString()]}),F.includesVAT&&i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"text-gray-300",children:""}),i.jsx("span",{className:"px-1.5 py-0.5 bg-blue-50 text-blue-700 text-[10px] rounded",children:"VAT"})]}),F.applyTaxDeduction&&i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"text-gray-300",children:""}),i.jsx("span",{className:"px-1.5 py-0.5 bg-purple-50 text-purple-700 text-[10px] rounded",children:"3.3%"})]})]}),i.jsxs("div",{className:"flex items-center justify-between mb-2.5",children:[i.jsx("div",{className:"text-xs text-gray-500 truncate flex-1",children:Se}),i.jsx("button",{onClick:st=>{st.stopPropagation(),Ee(F)},className:"text-xs text-gray-600 hover:text-gray-900 ml-2 flex-shrink-0",children:""})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("button",{onClick:st=>{st.stopPropagation(),K(F.project),E(!0)},className:"flex-1 py-1.5 px-2 bg-green-600 text-white rounded text-xs font-medium hover:bg-green-700 transition-colors flex items-center justify-center gap-1",children:[i.jsx(qh,{className:"h-3 w-3"}),""]}),se==="pending"&&(o==null?void 0:o.role)&&["manager","admin"].includes(o.role)&&i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:st=>{st.stopPropagation(),it(F)},className:"flex-1 py-1.5 px-2 bg-gray-700 text-white rounded text-xs font-medium hover:bg-gray-800 transition-colors",children:""}),i.jsx("button",{onClick:st=>{st.stopPropagation(),qe(F.id)},className:"flex-1 py-1.5 px-2 text-white rounded text-xs font-medium transition-colors",style:{backgroundColor:"#5f81a5"},onMouseEnter:st=>st.currentTarget.style.backgroundColor="#4a6b8a",onMouseLeave:st=>st.currentTarget.style.backgroundColor="#5f81a5",children:""})]})]})]},F.id)})}):i.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:" "})})]}),i.jsxs("div",{className:`lg:col-span-6 bg-white rounded-lg border flex flex-col overflow-hidden ${_!=="image"?"hidden lg:flex":""}`,onDragOver:nt,onDragLeave:vr,onDrop:sn,children:[i.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:tt,className:"hidden",id:"image-file-input"}),$&&u&&_==="image"&&(()=>{const F=oe.find(ve=>ve.id===u);return F?i.jsx("div",{className:"border-b bg-gray-50 p-3",children:i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"font-medium text-gray-900 text-sm",children:F.purpose||F.itemName}),i.jsxs("p",{className:"text-xs text-gray-500 mt-0.5",children:[F.process||"-","  ",Pe(new Date(F.requestDate),"yyyy.MM.dd",{locale:Qe})]})]}),i.jsxs("p",{className:"text-sm font-bold text-gray-900",children:["",(F.amount||0).toLocaleString()]})]})}):null})(),i.jsx("div",{className:"flex-1 overflow-y-auto p-4 relative",onClick:F=>{var fe;const ve=F.target;!ve.closest("img")&&!ve.closest("button")&&u&&(M[u]||[]).length>0&&((fe=document.getElementById("image-file-input"))==null||fe.click())},children:u?(()=>{const F=M[u]||[];return F.length>0?i.jsx("div",{className:"grid grid-cols-1 gap-3",children:F.map((ve,fe)=>i.jsxs("div",{className:"relative group border rounded-lg overflow-hidden",children:[i.jsx("img",{src:ve,alt:` ${fe+1}`,className:"w-full h-auto cursor-pointer hover:opacity-90 transition-opacity",onClick:we=>{we.stopPropagation(),gt(ve)}}),i.jsx("button",{onClick:we=>{we.stopPropagation(),Ge(fe)},className:"absolute top-2 right-2 p-1.5 bg-red-500 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:i.jsx(ct,{className:"h-4 w-4"})})]},fe))}):i.jsx("label",{htmlFor:"image-file-input",className:"h-full flex items-center justify-center cursor-pointer",children:i.jsxs("div",{className:`w-full h-full min-h-[200px] border-2 border-dashed rounded-lg p-6 text-center transition-colors flex flex-col items-center justify-center ${x?"border-gray-500 bg-gray-50":"border-gray-300 hover:border-gray-400"}`,children:[i.jsx(kc,{className:"h-10 w-10 mx-auto text-gray-400 mb-2"}),i.jsx("p",{className:"text-sm font-medium text-gray-700",children:" "}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"   Ctrl+V "})]})})})():i.jsx("div",{className:"h-full flex items-center justify-center min-h-[200px]",children:i.jsxs("div",{className:"text-center text-gray-400",children:[i.jsx(Ii,{className:"h-12 w-12 mx-auto mb-2"}),i.jsx("p",{className:"text-sm",children:" "})]})})})]})]}),Y&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"lg:hidden fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:i.jsxs("div",{className:"bg-white rounded-lg w-full max-w-md mx-4 max-h-[80vh] overflow-hidden",children:[i.jsxs("div",{className:"flex items-center justify-between p-3 border-b",children:[i.jsx("h2",{className:"text-base font-bold text-gray-900",children:" "}),i.jsx("button",{onClick:()=>Q(!1),className:"p-1 hover:bg-gray-100 rounded-full",children:i.jsx(ct,{className:"h-4 w-4 text-gray-500"})})]}),i.jsxs("div",{className:"p-3 overflow-y-auto max-h-[calc(80vh-100px)]",children:[i.jsx("div",{className:"grid grid-cols-2 gap-2 mb-2",children:Aw.map(F=>i.jsx("button",{onClick:()=>{W({...k,process:F}),Q(!1)},className:`p-2 text-sm text-center border rounded-lg transition-all ${k.process===F?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:border-gray-400 hover:bg-gray-50"}`,children:F},F))}),i.jsx("button",{onClick:()=>{W({...k,process:""}),Q(!1)},className:"w-full p-2 text-sm text-center border-2 border-dashed border-gray-300 rounded-lg hover:border-gray-400 hover:bg-gray-50 text-gray-500",children:" "})]})]})}),i.jsx("div",{className:"hidden lg:block fixed inset-0 z-40",onClick:()=>Q(!1),children:i.jsxs("div",{onClick:F=>F.stopPropagation(),className:"absolute bg-white rounded-lg shadow-xl border border-gray-200",style:{top:q.current?`${q.current.getBoundingClientRect().bottom+window.scrollY+4}px`:"50%",left:q.current?`${q.current.getBoundingClientRect().left+window.scrollX}px`:"50%"},children:[i.jsxs("div",{className:"flex items-center justify-between p-2 border-b",children:[i.jsx("h2",{className:"text-sm font-bold text-gray-900",children:" "}),i.jsx("button",{onClick:()=>Q(!1),className:"p-1 hover:bg-gray-100 rounded-full",children:i.jsx(ct,{className:"h-3 w-3 text-gray-500"})})]}),i.jsxs("div",{className:"p-2",children:[i.jsx("div",{className:"grid grid-cols-4 gap-1.5 mb-2",children:Aw.map(F=>i.jsx("button",{onClick:()=>{W({...k,process:F}),Q(!1)},className:`p-1.5 text-xs text-center border rounded-lg transition-all whitespace-nowrap ${k.process===F?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:border-gray-400 hover:bg-gray-50"}`,children:F},F))}),i.jsx("button",{onClick:()=>{W({...k,process:""}),Q(!1)},className:"w-full p-1.5 text-xs text-center border-2 border-dashed border-gray-300 rounded-lg hover:border-gray-400 hover:bg-gray-50 text-gray-500",children:" "})]})]})})]}),v&&i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-90",onClick:()=>b(!1),children:i.jsxs("div",{className:"relative max-w-[90vw] max-h-[90vh]",children:[i.jsx("button",{onClick:F=>{F.stopPropagation(),b(!1)},className:"absolute -top-10 right-0 text-white hover:text-gray-300 transition-colors",children:i.jsx(ct,{className:"h-8 w-8"})}),i.jsx("img",{src:S,alt:" ",className:"max-w-full max-h-[90vh] object-contain",onClick:F=>F.stopPropagation()})]})}),L&&i.jsx(DZ,{projectName:A,onClose:()=>E(!1)})]})},CZ=()=>{const[e,t]=N.useState([]),[r,n]=N.useState(null),[s,a]=N.useState(!0);N.useEffect(()=>{o()},[]);const o=async()=>{try{a(!0);const d=await Te.get("/quote-inquiries");t(d.data)}catch(d){console.error("Failed to load inquiries:",d),Z.error("  ")}finally{a(!1)}},l=async d=>{try{await Te.put(`/quote-inquiries/${d}/read`),t(f=>f.map(h=>h.id===d?{...h,isRead:!0}:h))}catch(f){console.error("Failed to mark as read:",f)}},c=d=>{n(d),d.isRead||l(d.id)},u=e.filter(d=>!d.isRead).length;return s?i.jsx("div",{className:"flex items-center justify-center h-full",children:i.jsx("div",{className:"text-gray-500",children:" ..."})}):i.jsxs("div",{className:"h-full flex flex-col md:flex-row gap-4 p-4",children:[i.jsxs("div",{className:"w-full md:w-1/3 bg-white rounded-lg shadow overflow-hidden flex flex-col",children:[i.jsx("div",{className:"p-4 border-b bg-gray-50",children:i.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:[" ",u>0&&i.jsx("span",{className:"ml-2 px-2 py-1 text-xs bg-red-500 text-white rounded-full",children:u})]})}),i.jsx("div",{className:"flex-1 overflow-y-auto",children:e.length===0?i.jsx("div",{className:"p-4 text-center text-gray-500",children:"  "}):i.jsx("div",{className:"divide-y",children:e.map(d=>i.jsxs("button",{onClick:()=>c(d),className:`w-full p-4 text-left hover:bg-gray-50 transition-colors ${(r==null?void 0:r.id)===d.id?"bg-blue-50 border-l-4 border-blue-500":""} ${d.isRead?"":"bg-yellow-50"}`,children:[i.jsxs("div",{className:"flex justify-between items-start mb-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"font-medium text-gray-900",children:d.name}),!d.isRead&&i.jsx("span",{className:"w-2 h-2 bg-red-500 rounded-full"})]}),i.jsx("span",{className:"text-xs text-gray-500",children:Pe(new Date(d.createdAt),"MM/dd HH:mm")})]}),i.jsxs("div",{className:"text-sm text-gray-600 flex items-center gap-1 mb-1",children:[i.jsx(bx,{className:"w-3 h-3"}),d.phone]}),i.jsx("div",{className:"text-sm text-gray-500 line-clamp-2",children:d.message})]},d.id))})})]}),i.jsx("div",{className:"flex-1 bg-white rounded-lg shadow overflow-hidden",children:r?i.jsxs("div",{className:"h-full flex flex-col",children:[i.jsxs("div",{className:"p-6 border-b bg-gray-50",children:[i.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:r.name}),i.jsx("div",{className:"text-sm text-gray-500",children:Pe(new Date(r.createdAt),"yyyy MM dd HH:mm")})]}),i.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsxs("h4",{className:"font-medium text-gray-900 flex items-center gap-2",children:[i.jsx(uM,{className:"w-4 h-4"})," "]}),i.jsxs("div",{className:"pl-6 space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[i.jsx(bx,{className:"w-4 h-4 text-gray-400"}),i.jsx("span",{children:r.phone})]}),i.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[i.jsx(iM,{className:"w-4 h-4 text-gray-400"}),i.jsx("span",{children:r.email})]}),r.address&&i.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[i.jsx(oM,{className:"w-4 h-4 text-gray-400"}),i.jsx("span",{children:r.address})]})]})]}),(r.projectType||r.budget)&&i.jsxs("div",{className:"space-y-3",children:[i.jsxs("h4",{className:"font-medium text-gray-900 flex items-center gap-2",children:[i.jsx(ZO,{className:"w-4 h-4"})," "]}),i.jsxs("div",{className:"pl-6 space-y-2",children:[r.projectType&&i.jsxs("div",{className:"text-gray-700",children:[i.jsx("span",{className:"text-gray-500",children:" : "}),r.projectType]}),r.budget&&i.jsxs("div",{className:"text-gray-700",children:[i.jsx("span",{className:"text-gray-500",children:": "}),r.budget]})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("h4",{className:"font-medium text-gray-900",children:" "}),i.jsx("div",{className:"pl-6 text-gray-700 whitespace-pre-wrap bg-gray-50 p-4 rounded-lg",children:r.message})]})]})]}):i.jsx("div",{className:"h-full flex items-center justify-center text-gray-500",children:" "})})]})},EZ=()=>{const{login:e}=ba(),[t,r]=N.useState(!1),{register:n,handleSubmit:s,setValue:a,formState:{errors:o}}=wo(),l=async u=>{r(!0);try{await e(u.username,u.password)}finally{r(!1)}},c=u=>{a("username",u),a("password","0109")};return i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:i.jsx("div",{className:"max-w-md w-full",children:i.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-8",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"HV LAB"}),i.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"   "})]}),i.jsxs("form",{onSubmit:s(l),className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-2",children:""}),i.jsx("input",{...n("username",{required:" "}),type:"text",className:"input",placeholder:" ",autoFocus:!0}),o.username&&i.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.username.message})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:""}),i.jsx("input",{...n("password",{required:" "}),type:"password",className:"input",placeholder:""}),o.password&&i.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.password.message})]}),i.jsx("button",{type:"submit",disabled:t,className:"w-full btn btn-primary flex items-center justify-center",children:t?i.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):i.jsxs(i.Fragment,{children:[i.jsx(aM,{className:"mr-2 h-5 w-5"}),""]})})]}),i.jsxs("div",{className:"mt-6 border-t pt-6",children:[i.jsx("p",{className:"text-sm text-gray-600 text-center mb-4",children:" "}),i.jsx("div",{className:"grid grid-cols-3 gap-2",children:["","","","","",""].map(u=>i.jsx("button",{onClick:()=>c(u),className:"px-3 py-2 text-sm bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",type:"button",children:u},u))})]})]})})})},TZ=e=>{try{const t=window.AudioContext||window.webkitAudioContext,r=new t,n=e==="emergency"?5:3;let s=0;const a=()=>{if(s>=n)return;const o=r.createOscillator(),l=r.createGain();o.connect(l),l.connect(r.destination),o.frequency.value=e==="emergency"?1e3:800,o.type="sine",l.gain.setValueAtTime(.3,r.currentTime),l.gain.exponentialRampToValueAtTime(.01,r.currentTime+.5),o.start(r.currentTime),o.stop(r.currentTime+.5),s++,s<n&&setTimeout(a,700)};a()}catch(t){console.error("  :",t)}},PZ=e=>{if("vibrate"in navigator){const t=e==="emergency"?[200,200,200,200,200,200,200,200,200,200]:[200,200,200,200,200,200];navigator.vibrate(t)}},AZ=(e,t)=>{TZ(e),PZ(e),"Notification"in window&&Notification.permission==="granted"&&new Notification("  ",{body:t,icon:"/icon-192x192.png",badge:"/icon-192x192.png",tag:"urgent-payment",requireInteraction:!0})},OZ=async()=>"Notification"in window&&Notification.permission==="default"?await Notification.requestPermission()==="granted":Notification.permission==="granted",MZ=new RT({defaultOptions:{queries:{staleTime:1e3*60*5,refetchOnWindowFocus:!1}}});function RZ(){return N.useEffect(()=>{OZ();const e=window.location.origin,t=Hu(e,{transports:["websocket","polling"]});return t.on("connect",()=>{console.log(" Socket.IO ")}),t.on("urgent-payment",r=>{console.log("    :",r);const n=`${r.project}  ${r.amount.toLocaleString()}  `;AZ(r.urgency,n)}),t.on("disconnect",()=>{console.log(" Socket.IO  ")}),()=>{t.disconnect()}},[]),i.jsx(IT,{client:MZ,children:i.jsx(tT,{children:i.jsxs(KO,{children:[i.jsxs(AE,{children:[i.jsx(tr,{path:"/login",element:i.jsx(EZ,{})}),i.jsxs(tr,{path:"/",element:i.jsx(z$,{}),children:[i.jsx(tr,{index:!0,element:i.jsx(EE,{to:"/dashboard",replace:!0})}),i.jsx(tr,{path:"dashboard",element:i.jsx(m3,{})}),i.jsx(tr,{path:"projects",element:i.jsx(b3,{})}),i.jsx(tr,{path:"schedule",element:i.jsx(pZ,{})}),i.jsx(tr,{path:"after-service",element:i.jsx(yZ,{})}),i.jsx(tr,{path:"additional-work",element:i.jsx(xZ,{})}),i.jsx(tr,{path:"construction-payment",element:i.jsx(bZ,{})}),i.jsx(tr,{path:"contractors",element:i.jsx(wZ,{})}),i.jsx(tr,{path:"work-request",element:i.jsx(jZ,{})}),i.jsx(tr,{path:"specbook",element:i.jsx(SZ,{})}),i.jsx(tr,{path:"execution-history",element:i.jsx(kZ,{})}),i.jsx(tr,{path:"payments",element:i.jsx(_Z,{})}),i.jsx(tr,{path:"quote-inquiry",element:i.jsx(CZ,{})})]})]}),i.jsx(kP,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#fff",color:"#363636",border:"1px solid #e5e5e5"}}})]})})})}"serviceWorker"in navigator&&navigator.serviceWorker.getRegistrations().then(function(e){for(const t of e)t.update()});rj(document.getElementById("root")).render(i.jsx(N.StrictMode,{children:i.jsx(RZ,{})}))});export default $Z();
