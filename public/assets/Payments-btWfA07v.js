import{j as s,l as oe,u as ds,s as Me,z as g,p as ue,a as us}from"./index-BVK6v-c7.js";import{r as p}from"./vendor-react-B9Yt5e0k.js";import{u as ps,c as fs}from"./dataStore-DoH1woa1.js";import{u as gs}from"./useFilteredProjects-BMs_oauh.js";import{p as _}from"./vendor-date-9Cl9d1sr.js";import{X as re,h as bs,j as Ns,T as xs,U as ys,I as ks}from"./vendor-ui-CcgAtStV.js";import{r as Se}from"./formatters-15aXprTM.js";import{s as hs,m as Ds,g as vs}from"./imageStorage-DjLpiDnu.js";import{a as Ce,b as Vs,B as Cs}from"./index-CSlX1tQB.js";import"./vendor-data-BwGxWJIh.js";const As=({projectName:D,onClose:C,type:pe="cash"})=>{const ee=pe==="cash",W=ee?"í˜„ê¸ˆìˆ˜ë ¹ì¦":"ì´ì²´í™•ì¸ì¦",F=ee?"ìœ„ì™€ ê°™ì´ í˜„ê¸ˆìœ¼ë¡œ ì§€ê¸‰ ë°›ì•˜ìŒì„ í™•ì¸ í•©ë‹ˆë‹¤.":"ìœ„ì™€ ê°™ì´ ê³„ì¢Œì´ì²´ë¡œ ì§€ê¸‰ ë°›ì•˜ìŒì„ í™•ì¸ í•©ë‹ˆë‹¤.",[u,L]=p.useState({receiptDate:_(new Date,"yyyy-MM-dd"),customerName:"",amount:"",purpose:"ì¸í…Œë¦¬ì–´ ê³µì‚¬ëŒ€ê¸ˆ",receivedBy:""}),z=()=>{window.print()},Ae=k=>{const E=Number(k.replace(/,/g,""));return isNaN(E)?"":E.toLocaleString()},b=k=>{if(k===0)return"ì˜";const E=["","ë§Œ","ì–µ","ì¡°"],se=["","ì‹­","ë°±","ì²œ"],fe=["","ì¼","ì´","ì‚¼","ì‚¬","ì˜¤","ìœ¡","ì¹ ","íŒ”","êµ¬"];let q="",B=0;for(;k>0;){const U=k%1e4;if(U>0){let A="",P=U,me=0;for(;P>0;){const Z=P%10;Z>0&&(A=fe[Z]+se[me]+A),P=Math.floor(P/10),me++}q=A+E[B]+q}k=Math.floor(k/1e4),B++}return q+"ì›ì •"};return s.jsxDEV(s.Fragment,{children:[s.jsxDEV("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 print:relative print:bg-white",children:s.jsxDEV("div",{className:"bg-white rounded-lg w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto print:max-h-none print:mx-0 print:rounded-none",children:[s.jsxDEV("div",{className:"flex items-center justify-between p-4 border-b print:hidden",children:[s.jsxDEV("h2",{className:"text-lg font-bold text-gray-900",children:W},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:76,columnNumber:13},void 0),s.jsxDEV("button",{onClick:C,className:"p-1 hover:bg-gray-100 rounded-full",children:s.jsxDEV(re,{className:"h-5 w-5 text-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:81,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:77,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:75,columnNumber:11},void 0),s.jsxDEV("div",{className:"p-6 space-y-4 print:hidden",children:[s.jsxDEV("div",{children:[s.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ìˆ˜ë ¹ì¼ìž"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:88,columnNumber:15},void 0),s.jsxDEV("input",{type:"date",value:u.receiptDate,onChange:k=>L({...u,receiptDate:k.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:89,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:87,columnNumber:13},void 0),s.jsxDEV("div",{children:[s.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ê³ ê°ëª…"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:98,columnNumber:15},void 0),s.jsxDEV("input",{type:"text",value:u.customerName,onChange:k=>L({...u,customerName:k.target.value}),placeholder:"ê³ ê°ëª…ì„ ìž…ë ¥í•˜ì„¸ìš”",className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:99,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:97,columnNumber:13},void 0),s.jsxDEV("div",{children:[s.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ê¸ˆì•¡"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:109,columnNumber:15},void 0),s.jsxDEV("input",{type:"text",value:Ae(u.amount),onChange:k=>{const E=k.target.value.replace(/,/g,"");/^\d*$/.test(E)&&L({...u,amount:E})},placeholder:"ê¸ˆì•¡ì„ ìž…ë ¥í•˜ì„¸ìš”",className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:110,columnNumber:15},void 0),u.amount&&s.jsxDEV("p",{className:"text-sm text-gray-600 mt-1",children:b(Number(u.amount))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:123,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:108,columnNumber:13},void 0),s.jsxDEV("div",{children:[s.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ë‚´ì—­"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:130,columnNumber:15},void 0),s.jsxDEV("input",{type:"text",value:u.purpose,onChange:k=>L({...u,purpose:k.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:131,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:129,columnNumber:13},void 0),s.jsxDEV("div",{children:[s.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ìˆ˜ë ¹ì¸"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:140,columnNumber:15},void 0),s.jsxDEV("input",{type:"text",value:u.receivedBy,onChange:k=>L({...u,receivedBy:k.target.value}),placeholder:"ìˆ˜ë ¹ì¸ëª…ì„ ìž…ë ¥í•˜ì„¸ìš”",className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:141,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:139,columnNumber:13},void 0),s.jsxDEV("button",{onClick:z,disabled:!u.customerName||!u.amount||!u.receivedBy,className:"w-full py-2 bg-gray-900 text-white rounded-lg hover:bg-gray-800 disabled:bg-gray-300 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[s.jsxDEV(bs,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:155,columnNumber:15},void 0),"ì¸ì‡„í•˜ê¸°"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:150,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:86,columnNumber:11},void 0),s.jsxDEV("div",{className:"hidden print:block p-12",children:s.jsxDEV("div",{className:"border-4 border-double border-gray-900 p-8",children:[s.jsxDEV("h1",{className:"text-center text-3xl font-bold mb-8",children:ee?"í˜„ ê¸ˆ ìˆ˜ ë ¹ ì¦":"ì´ ì²´ í™• ì¸ ì¦"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:163,columnNumber:15},void 0),s.jsxDEV("div",{className:"space-y-6 text-lg",children:[s.jsxDEV("div",{className:"flex items-baseline border-b border-gray-300 pb-2",children:[s.jsxDEV("span",{className:"font-medium w-32",children:"ìˆ˜ë ¹ì¼ìž:"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:169,columnNumber:19},void 0),s.jsxDEV("span",{className:"flex-1 receipt-date",children:_(new Date(u.receiptDate),"yyyyë…„ MMì›” ddì¼",{locale:oe})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:170,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:168,columnNumber:17},void 0),s.jsxDEV("div",{className:"flex items-baseline border-b border-gray-300 pb-2",children:[s.jsxDEV("span",{className:"font-medium w-32",children:"ê³ ê°ëª…:"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:174,columnNumber:19},void 0),s.jsxDEV("span",{className:"flex-1",children:u.customerName},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:175,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:173,columnNumber:17},void 0),s.jsxDEV("div",{className:"flex items-baseline border-b border-gray-300 pb-2",children:[s.jsxDEV("span",{className:"font-medium w-32",children:"í”„ë¡œì íŠ¸:"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:179,columnNumber:19},void 0),s.jsxDEV("span",{className:"flex-1",children:D},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:180,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:178,columnNumber:17},void 0),s.jsxDEV("div",{className:"flex items-baseline border-b border-gray-300 pb-2",children:[s.jsxDEV("span",{className:"font-medium w-32",children:"ê¸ˆì•¡:"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:184,columnNumber:19},void 0),s.jsxDEV("span",{className:"flex-1 font-bold receipt-amount",children:["â‚©",Number(u.amount).toLocaleString(),"ì›"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:185,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:183,columnNumber:17},void 0),s.jsxDEV("div",{className:"flex items-baseline border-b border-gray-300 pb-2",children:[s.jsxDEV("span",{className:"font-medium w-32",children:"ê¸ˆì•¡(í•œê¸€):"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:191,columnNumber:19},void 0),s.jsxDEV("span",{className:"flex-1",children:b(Number(u.amount))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:192,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:190,columnNumber:17},void 0),s.jsxDEV("div",{className:"flex items-baseline border-b border-gray-300 pb-2",children:[s.jsxDEV("span",{className:"font-medium w-32",children:"ë‚´ì—­:"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:196,columnNumber:19},void 0),s.jsxDEV("span",{className:"flex-1",children:u.purpose},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:197,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:195,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:167,columnNumber:15},void 0),s.jsxDEV("div",{className:"mt-12 text-center",children:[s.jsxDEV("p",{className:"text-lg mb-8",children:F},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:202,columnNumber:17},void 0),s.jsxDEV("div",{className:"space-y-2",children:[s.jsxDEV("p",{className:"text-lg receipt-date",children:_(new Date(u.receiptDate),"yyyyë…„ MMì›” ddì¼",{locale:oe})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:205,columnNumber:19},void 0),s.jsxDEV("p",{className:"text-xl font-medium mt-8",children:["ìˆ˜ë ¹ì¸: ",u.receivedBy," ",s.jsxDEV("span",{className:"ml-4",children:"(ì¸)"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:207,columnNumber:48},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:206,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:204,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:201,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:162,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:161,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:73,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:72,columnNumber:7},void 0),s.jsxDEV("style",{children:`
        @media print {
          body * {
            visibility: hidden;
          }
          .print\\:block, .print\\:block * {
            visibility: visible;
          }
          .print\\:hidden {
            display: none !important;
          }
        }
      `},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:217,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:71,columnNumber:5},void 0)},Ks=()=>{const{payments:D,loadPaymentsFromAPI:C,addPaymentToAPI:pe,deletePaymentFromAPI:ee,updatePaymentInAPI:W,updatePayment:F}=ps(),{user:u}=ds(),L=gs(),[z,Ae]=p.useState(""),[b,k]=p.useState(null),[E,se]=p.useState(null),[fe,q]=p.useState(!1),[B,U]=p.useState(!1),[A,P]=p.useState(!1),[me,Z]=p.useState(!1),[Re,$e]=p.useState(""),[K,J]=p.useState("form"),[ge,Te]=p.useState(!1),[Fe,$]=p.useState(!1),ne=p.useRef(null),[M,X]=p.useState("pending"),[Hs,js]=p.useState("all"),[He,qe]=p.useState(()=>localStorage.getItem("payments_showMyRequestsOnly")==="true"),[Ls,Ke]=p.useState(!1),[Es,Bs]=p.useState(null),[Oe,We]=p.useState(!1),[ze,Ps]=p.useState(""),[ie,je]=p.useState(!1),Le=p.useRef(!1),[te,Ze]=p.useState([]),[be,Ee]=p.useState([]),[le,Y]=p.useState(null),[Ne,xe]=p.useState([]),[Be,Pe]=p.useState([]),[ye,ke]=p.useState(!1),[w,ae]=p.useState({}),[_e,Ue]=p.useState(!1),Je=()=>{const e=localStorage.getItem("lastSelectedProject"),t=L.filter(n=>n.status!=="completed");return e&&t.some(n=>n.name===e)?e:t.length>0?t[0].name:""},[i,y]=p.useState({project:"",date:_(new Date,"yyyy-MM-dd"),process:"",itemName:"",amount:"",accountHolder:"",bankName:"",accountNumber:"",images:[],quickText:"",quickImages:[]});p.useEffect(()=>{(async()=>{try{const t=await fs.getAllContractors();Ze(t.map(n=>({id:n._id||n.id,rank:n.rank,companyName:n.companyName,name:n.name,process:n.process,contact:n.contact,accountNumber:n.accountNumber,bankName:n.bankName,notes:n.notes,createdAt:new Date(n.createdAt),updatedAt:new Date(n.updatedAt)})))}catch(t){console.error("Failed to load contractors:",t)}})()},[]),p.useEffect(()=>{C().catch(t=>{console.error("Failed to load payments:",t)});const e=()=>{Te(window.innerWidth<1024)};if(e(),window.addEventListener("resize",e),L.length>0&&!i.project){const t=Je();t&&(y(n=>({...n,project:t})),localStorage.setItem("lastSelectedProject",t))}return()=>window.removeEventListener("resize",e)},[C,L]),p.useEffect(()=>{const e=setInterval(()=>{console.log("[ìžë™ ìƒˆë¡œê³ ì¹¨] ê²°ì œ ë‚´ì—­ ì—…ë°ì´íŠ¸ ì¤‘..."),C().catch(n=>{console.error("[ìžë™ ìƒˆë¡œê³ ì¹¨] ì‹¤íŒ¨:",n)})},3e4),t=()=>{document.visibilityState==="visible"&&(console.log("[í¬ì»¤ìŠ¤ ìƒˆë¡œê³ ì¹¨] íŽ˜ì´ì§€ í™œì„±í™” - ê²°ì œ ë‚´ì—­ ì—…ë°ì´íŠ¸ ì¤‘..."),C().catch(n=>{console.error("[í¬ì»¤ìŠ¤ ìƒˆë¡œê³ ì¹¨] ì‹¤íŒ¨:",n)}))};return document.addEventListener("visibilitychange",t),()=>{clearInterval(e),document.removeEventListener("visibilitychange",t)}},[C]),p.useEffect(()=>{const e=Me.getSocket();if(!e)return;const t=n=>{console.log("ðŸ”„ [ì‹¤ì‹œê°„ ë™ê¸°í™”] ê²°ì œ ìƒíƒœ ë³€ê²½ ê°ì§€:",n),C().catch(m=>{console.error("[ì‹¤ì‹œê°„ ë™ê¸°í™”] ìƒˆë¡œê³ ì¹¨ ì‹¤íŒ¨:",m)})};return e.on("payment:refresh",t),()=>{e.off("payment:refresh",t)}},[C]),p.useEffect(()=>{(async()=>{var m,r,o,l;if(Le.current)return;const t=new URLSearchParams(window.location.search),n=t.get("complete")||t.get("c");if(n){if(!u){console.log("[ìžë™ ì†¡ê¸ˆì™„ë£Œ] ë¡œê·¸ì¸ í•„ìš” - ëŒ€ê¸° ì¤‘");return}Le.current=!0,console.log("[ìžë™ ì†¡ê¸ˆì™„ë£Œ] ì²˜ë¦¬ ì‹œìž‘:",n),window.history.replaceState({},"","/payments"),J("list"),X("completed"),F(String(n),{status:"completed"}),g.success("ì†¡ê¸ˆì™„ë£Œ ì²˜ë¦¬ë˜ì—ˆìŠµë‹ˆë‹¤");try{await W(String(n),{status:"completed"}),C()}catch(a){console.error("[ìžë™ ì†¡ê¸ˆì™„ë£Œ] ì²˜ë¦¬ ì‹¤íŒ¨:",a),F(String(n),{status:"pending"}),X("pending");let d="ì†¡ê¸ˆì™„ë£Œ ì²˜ë¦¬ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤";((m=a.response)==null?void 0:m.status)===401?d="ì¸ì¦ì´ ë§Œë£Œë˜ì—ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ë¡œê·¸ì¸í•´ì£¼ì„¸ìš”":((r=a.response)==null?void 0:r.status)===404?d="ê²°ì œ ìš”ì²­ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤ (ID: "+n+")":(l=(o=a.response)==null?void 0:o.data)!=null&&l.error?d=a.response.data.error:a.message&&(d+=": "+a.message),g.error(d)}}})()},[C,W,F,u]),p.useEffect(()=>{if(i.process){const e=new Set(D.filter(r=>{var o;return r.status==="completed"&&((o=r.bankInfo)==null?void 0:o.accountHolder)}).map(r=>r.bankInfo.accountHolder.trim().toLowerCase())),t=(r,o)=>{const l=r.toLowerCase(),a=o.toLowerCase();if(l.includes(a)||a.includes(l))return!0;const d=l.split("/").map(N=>N.trim()),c=a.replace(/ê³µì‚¬$/,"").trim();for(const N of d)if(N===c||c.includes(N)||N.includes(c))return!0;return!1},m=te.filter(r=>{if(!t(i.process,r.process))return!1;const l=r.accountNumber&&r.accountNumber.trim()!=="",a=r.name.trim().toLowerCase(),d=e.has(a);return l||d}).sort((r,o)=>{const l=r.accountNumber&&r.accountNumber.trim()!=="",a=o.accountNumber&&o.accountNumber.trim()!=="";return l&&!a?-1:!l&&a?1:0});Ee(m)}else Ee([])},[i.process,te,D]),p.useEffect(()=>{if(i.process){const e=(m,r)=>{if(!r)return!1;const o=m.toLowerCase(),l=r.toLowerCase();if(o.includes(l)||l.includes(o))return!0;const a=o.split("/").map(c=>c.trim()),d=l.replace(/ê³µì‚¬$/,"").trim();for(const c of a)if(c===d||d.includes(c)||c.includes(d))return!0;return!1},t=D.filter(m=>{var r,o,l;return m.status==="completed"&&m.process&&e(i.process,m.process)&&((r=m.bankInfo)==null?void 0:r.accountHolder)&&((o=m.bankInfo)==null?void 0:o.bankName)&&((l=m.bankInfo)==null?void 0:l.accountNumber)}),n=new Map;t.forEach(m=>{const r=`${m.bankInfo.accountHolder}_${m.bankInfo.bankName}_${m.bankInfo.accountNumber}`;n.has(r)||n.set(r,{accountHolder:m.bankInfo.accountHolder,bankName:m.bankInfo.bankName,accountNumber:m.bankInfo.accountNumber,itemName:m.itemName||"",amount:m.amount||0})}),xe(Array.from(n.values()))}else xe([])},[i.process,D]),p.useEffect(()=>{var t;const e=((t=i.accountHolder)==null?void 0:t.trim())||"";if(e.length>=1&&ye){const n=[],m=new Set;te.filter(r=>r.accountNumber&&r.accountNumber.trim()!=="").forEach(r=>{const o=r.name.trim(),l=o.toLowerCase(),a=e.toLowerCase();l.startsWith(a)&&!m.has(l)&&(m.add(l),n.push({name:o,bankName:r.bankName||"",accountNumber:r.accountNumber||"",source:"contractor"}))}),D.filter(r=>{var o;return r.status==="completed"&&((o=r.bankInfo)==null?void 0:o.accountHolder)}).forEach(r=>{const o=r.bankInfo.accountHolder.trim(),l=o.toLowerCase(),a=e.toLowerCase();l.startsWith(a)&&!m.has(l)&&(m.add(l),n.push({name:o,bankName:r.bankInfo.bankName||"",accountNumber:r.bankInfo.accountNumber||"",source:"payment"}))}),Pe(n)}else Pe([])},[i.accountHolder,ye,te,D]);const Xe=e=>{const t=e.split(`
`).map(a=>a.trim()).filter(a=>a),n={amounts:{},bankInfo:{},vendor:null,itemName:void 0,includeVat:!1},m=["ê¹€","ì´","ë°•","ìµœ","ì •","ê°•","ì¡°","ìœ¤","ìž¥","ìž„","í•œ","ì˜¤","ì„œ","ì‹ ","ê¶Œ","í™©","ì•ˆ","ì†¡","ë¥˜","ì „","í™","ê³ ","ë¬¸","ì–‘","ì†","ë°°","ë°±","í—ˆ","ìœ ","ë‚¨","ì‹¬","ë…¸","í•˜","ê³½","ì„±","ì°¨","ì£¼","ìš°","êµ¬","ë¯¼","ì§„","ë‚˜","ì—„","ì±„","ì›","ì²œ","ë°©","ê³µ","í˜„","í•¨","ë³€","ì—¼","ì—¬","ì¶”","ë„","ì„","ì„ ","ì„¤","ë§ˆ","ê¸¸","ì—°","ìœ„","í‘œ","ëª…","ê¸°","ë°˜","ë¼","ì™•","ê¸ˆ","ì˜¥","ìœ¡","ì¸","ë§¹","ì œ","íƒ","êµ­","ì–´","ê²½","ë´‰","ì‚¬"],r=a=>{const d=["ë¡œ","ì—ê²Œ","ì•žìœ¼ë¡œ","ë‹˜","ì”¨","ê»˜","í•œí…Œ","ë³´ê³ "];for(const c of d)if(a.endsWith(c)&&a.length>c.length+1)return a.slice(0,-c.length);return a},o=a=>{if(!a||a.length<2||a.length>5||!/^[ê°€-íž£]{2,5}$/.test(a)||["ì€í–‰","ë±…í¬","ê¸ˆê³ ","ì‹ í˜‘","ì¦ê¶Œ","íˆ¬ìž","ì €ì¶•","ìš°ì²´êµ­","êµ­ë¯¼","ì‹ í•œ","ìš°ë¦¬","í•˜ë‚˜","ë†í˜‘","ê¸°ì—…","ì œì¼","ì”¨í‹°","ì¹´ì¹´ì˜¤","ì¼€ì´","í† ìŠ¤","ë¶€ì‚°","ëŒ€êµ¬","ê²½ë‚¨","ê´‘ì£¼","ì „ë¶","ì œì£¼","ì‚°ì—…","ìˆ˜í˜‘","ìƒˆë§ˆì„","í•˜ë‚˜ì€í–‰","êµ­ë¯¼ì€í–‰","ì‹ í•œì€í–‰","ìš°ë¦¬ì€í–‰","ë†í˜‘ì€í–‰","ê¸°ì—…ì€í–‰","ì œì¼ì€í–‰","í† ìŠ¤ë±…í¬","ì¹´ì¹´ì˜¤ë±…í¬"].includes(a)||["ê°€ì„¤","ì² ê±°","ì„¤ë¹„","ë¯¸ìž¥","ì „ê¸°","ëª©ê³µ","ì¡°ê²½","ê°€êµ¬","ë§ˆë£¨","íƒ€ì¼","ìš•ì‹¤","í•„ë¦„","ë„ë°°","ë„ìž¥","ì°½í˜¸","ì—ì–´ì»¨","ê¸°íƒ€","ë°©ìˆ˜","ì²­ì†Œ","ìœ ë¦¬","ìƒ¤ì‹œ","ë°°ê´€","ì„ê³µ","ì£¼ë°©","ë°”ë‹¥","ê°„íŒ"].includes(a))return!1;if(a.length>=2){const N=a.charAt(0),h=a.substring(0,2);if(["ë‚¨ê¶","ì„ ìš°","ë…ê³ ","í™©ë³´","ì‚¬ê³µ","ì„œë¬¸","ì œê°ˆ"].includes(h)||m.includes(N))return!0}return a.length>=2&&a.length<=4},l=t.some(a=>a.includes("ë¬´í†µìž¥ ìž…ê¸ˆ")||a.includes("ë¬´í†µìž¥ìž…ê¸ˆ"));if(t.forEach((a,d)=>{if(a.includes("ìƒí’ˆëª…")&&a.includes(":")){const c=a.match(/ìƒí’ˆëª…\s*:\s*(.+)/);c&&(n.itemName=c[1].trim())}if(a.includes("ì˜ˆê¸ˆì£¼")&&a.includes(":")){const c=a.match(/ì˜ˆê¸ˆì£¼\s*:\s*(.+)/);c&&(n.bankInfo.accountHolder=c[1].trim())}if(a.includes("ìž…ê¸ˆì€í–‰")&&a.includes(":")){const c=a.match(/ìž…ê¸ˆì€í–‰\s*:\s*(.+)/);c&&(n.bankInfo.bankName=c[1].trim())}if(a.includes("ê³„ì¢Œë²ˆí˜¸")&&a.includes(":")){const c=a.match(/ê³„ì¢Œë²ˆí˜¸\s*:\s*(.+)/);c&&(n.bankInfo.accountNumber=c[1].trim())}if(a.includes("ìž…ê¸ˆê¸ˆì•¡")&&a.includes(":")){const c=a.match(/ìž…ê¸ˆê¸ˆì•¡\s*:\s*([\d,]+)ì›?/);c&&(n.amounts.total=parseInt(c[1].replace(/,/g,"")))}}),l||(t.forEach(a=>{const d=a.match(/\[([^\]]+)\]/);d&&!n.itemName&&(n.itemName=d[1].trim())}),t.forEach((a,d)=>{(a.includes("ë¶€ê°€ì„¸í¬í•¨")||a.includes("ë¶€ê°€ì„¸ í¬í•¨")||a.includes("(ë¶€ê°€ì„¸í¬í•¨)"))&&(n.includeVat=!0);const c=a.match(/=\s*([\d,]+)\s*ì›?/);if(c){const f=parseInt(c[1].replace(/,/g,""));f>=1e3&&(n.amounts.total=f)}else{const f=a.match(/(\d+)\s*ë§Œ\s*ì›?/);if(f){const x=parseInt(f[1])*1e4;a.includes("ìžìž¬")||a.includes("ìž¬ë£Œ")?n.amounts.material=x:a.includes("ì¸ê±´")||a.includes("ë…¸ë¬´")?n.amounts.labor=x:n.amounts.total||(n.amounts.total=x),a=a.replace(/(\d+)\s*ë§Œ\s*ì›?/g,"")}}a.includes("/")&&a.split("/").forEach(x=>{const v=x.trim();v.startsWith("[")||v.endsWith("]")||(/^[\d\-]+$/.test(v)&&v.replace(/\-/g,"").length>=10?n.bankInfo.accountNumber||(n.bankInfo.accountNumber=v):o(v)&&!n.bankInfo.accountHolder&&(n.bankInfo.accountHolder=v))});const N=[/\d{6}[\s\-]+\d{2}[\s\-]+\d{6}/,/\d{5,7}[\s\-]+\d{2}[\s\-]+\d{5,7}/,/\d{3,4}[\s\-]+\d{3,4}[\s\-]+\d{3,4}[\s\-]+\d{3,4}/,/\d{3}[\s\-]+\d{2}[\s\-]+\d{6}/,/\d{3}[\s\-]+\d{4}[\s\-]+\d{7}/,/\d{4}[\s\-]+\d{4}[\s\-]+\d{5}/,/\d{3,4}[\s\-]+\d{2,6}[\s\-]+\d{4,7}/,/\d{10,}/];let h="",j=-1;for(const f of N){const x=a.match(f);if(x&&!n.bankInfo.accountNumber){h=x[0],j=x.index||-1,n.bankInfo.accountNumber=x[0].trim().replace(/\s+/g,"-");const T=a.substring(j+h.length).trim().split(/\s+/);for(const H of T){if(H.startsWith("[")||H.endsWith("]"))continue;const I=r(H);if(o(I)){n.bankInfo.accountHolder=I;break}}if(!n.bankInfo.accountHolder&&d+1<t.length){const H=t[d+1],I=H.split(/\s+/);for(const R of I){if(R.startsWith("[")||R.endsWith("]"))continue;const G=r(R);if(o(G)){n.bankInfo.accountHolder=G;break}}if(!n.bankInfo.accountHolder){const R=H.match(/^([ê°€-íž£]{2,6})/);if(R){const G=r(R[1].trim());o(G)&&(n.bankInfo.accountHolder=G)}}}break}}const V=a.match(/[\d,]+/g);V&&V.forEach(f=>{const x=parseInt(f.replace(/,/g,"")),v=f.replace(/,/g,""),T=h&&h.includes(v);!n.bankInfo.accountNumber&&v.length>=10&&v.length<=20?(n.bankInfo.accountNumber=v,h=v):x>=1e3&&!manwonMatch&&!T&&(a.includes("ìžìž¬")||a.includes("ìž¬ë£Œ")?n.amounts.material=x:a.includes("ì¸ê±´")||a.includes("ë…¸ë¬´")?n.amounts.labor=x:n.amounts.total||(n.amounts.total=x))});const S={êµ­ë¯¼:"KBêµ­ë¯¼ì€í–‰",KB:"KBêµ­ë¯¼ì€í–‰",ì‹ í•œ:"ì‹ í•œì€í–‰",í•˜ë‚˜:"í•˜ë‚˜ì€í–‰",ìš°ë¦¬:"ìš°ë¦¬ì€í–‰",ê¸°ì—…:"IBKê¸°ì—…ì€í–‰",IBK:"IBKê¸°ì—…ì€í–‰",ë†í˜‘:"NHë†í˜‘ì€í–‰",NH:"NHë†í˜‘ì€í–‰",ì¹´ì¹´ì˜¤:"ì¹´ì¹´ì˜¤ë±…í¬",ì¹´ë±…:"ì¹´ì¹´ì˜¤ë±…í¬",í† ìŠ¤:"í† ìŠ¤ë±…í¬",ì¼€ì´:"ì¼€ì´ë±…í¬",Kë±…í¬:"ì¼€ì´ë±…í¬",ì‚°ì—…:"KDBì‚°ì—…ì€í–‰",KDB:"KDBì‚°ì—…ì€í–‰",ìˆ˜í˜‘:"ìˆ˜í˜‘ì€í–‰",ëŒ€êµ¬:"ëŒ€êµ¬ì€í–‰",ë¶€ì‚°:"ë¶€ì‚°ì€í–‰",ê²½ë‚¨:"ê²½ë‚¨ì€í–‰",ê´‘ì£¼:"ê´‘ì£¼ì€í–‰",ì „ë¶:"ì „ë¶ì€í–‰",SCì œì¼ì€í–‰:"SCì œì¼ì€í–‰",SCì œì¼:"SCì œì¼ì€í–‰",ì œì¼:"SCì œì¼ì€í–‰",SC:"SCì œì¼ì€í–‰",ì”¨í‹°:"í•œêµ­ì”¨í‹°ì€í–‰",ìš°ì²´êµ­:"ìš°ì²´êµ­",ìƒˆë§ˆì„:"ìƒˆë§ˆì„ê¸ˆê³ ",ì‹ í˜‘:"ì‹ í˜‘"},Ve=Object.keys(S).sort((f,x)=>x.length-f.length);for(const f of Ve)if(a.includes(f)){const x=S[f];n.bankInfo.bankName=x;const v=new RegExp(`${f}(?:ì€í–‰|ë±…í¬)?\\s+([ê°€-íž£]{2,5})`),T=a.match(v);if(T){const H=r(T[1]);o(H)&&(n.bankInfo.accountHolder=H)}break}if(!n.bankInfo.bankName){const f=a.match(/([ê°€-íž£]+)(ì€í–‰|ë±…í¬)/);f&&(n.bankInfo.bankName=f[0])}const ls=[/\(ì£¼\)[ê°€-íž£a-zA-Z0-9]+/,/\(ìœ \)[ê°€-íž£a-zA-Z0-9]+/,/\(ì‚¬\)[ê°€-íž£a-zA-Z0-9]+/,/ì£¼ì‹íšŒì‚¬\s*[ê°€-íž£a-zA-Z0-9]+/,/ìœ í•œíšŒì‚¬\s*[ê°€-íž£a-zA-Z0-9]+/];for(const f of ls){const x=a.match(f);if(x&&!n.bankInfo.accountHolder){n.bankInfo.accountHolder=x[0].trim();break}}const ce=a.match(/\(([ê°€-íž£]{2,5})\)/);if(ce&&!n.bankInfo.accountHolder){const f=ce[1];o(f)&&!["ì£¼","ìœ ","ì‚¬"].includes(f)&&(n.bankInfo.accountHolder=f)}if(!n.bankInfo.accountHolder){const f=/[ê°€-íž£]{2,6}/g,x=a.match(f);if(x){const v=a.match(/\d{10,}/)||a.match(/\d{3,4}[\s\-]+\d{3,4}[\s\-]+\d{3,4}[\s\-]+\d{3,4}/),T=a.match(/ì€í–‰|ë±…í¬|ê¸ˆê³ |ì‹ í˜‘|ìš°ì²´êµ­/);x.forEach(H=>{const I=r(H),R=e.split(`
`)[d];if(R&&R.includes(`[${H}]`)||!o(I)||["ì² ê±°","íê¸°ë¬¼","ëª©ê³µ","íƒ€ì¼","ë„ë°°","ì „ê¸°","ì„¤ë¹„","ì²­ì†Œ","ë¯¸ìž¥","ë„ìž¥","ë°©ìˆ˜","ìƒ·ì‹œ","ìƒ¤ì‹œ","ìœ ë¦¬","í•„ë¦„","ì¡°ëª…","ê°€êµ¬","ì‹±í¬","ì£¼ë°©","ìš•ì‹¤","í™”ìž¥ì‹¤","ë§ˆë£¨","ìž¥íŒ","ë²½ì§€","íŽ˜ì¸íŠ¸","ë„ìƒ‰","ë°°ê´€","ëˆ„ìˆ˜","í•˜ìž","ë³´ìˆ˜","ì‹œê³µ","ê³µì‚¬","ëª°ë”©","ì‹œìŠ¤í…œ","ë§ˆì´ë„ˆìŠ¤","í”ŒëŸ¬ìŠ¤","ìžìž¬","ë¶€ìžìž¬","ì¡°ê³µ","ë§Œì›","ì²œì›","ë°±ì›","ìž…ê¸ˆ","ì†¡ê¸ˆ","ì´ì²´","ê³„ì¢Œ","ì°©ë¶ˆ","ì„ ë¶ˆ","í›„ë¶ˆ","ë°°ì†¡","íƒë°°","ìš´ì†¡"].includes(I))return;const de=a.indexOf(H);if(de>0){const O=a[de-1];if(/[ê°€-íž£]/.test(O))return}if(de+H.length<a.length){const O=a[de+H.length];if(/[ê°€-íž£]/.test(O))return}if(!(ce&&I===ce[1])){if((v||T)&&!n.bankInfo.accountHolder)n.bankInfo.accountHolder=I;else if(!n.bankInfo.accountHolder){const O=/ì€í–‰|ë±…í¬|ìš°ì²´êµ­|ê¸ˆê³ |ì‹ í˜‘/,Ie=/\d{6,}/;(d>0&&(Ie.test(t[d-1])||O.test(t[d-1]))||d<t.length-1&&(Ie.test(t[d+1])||O.test(t[d+1]))||O.test(a))&&(n.bankInfo.accountHolder=I)}}})}}const cs={ëª©ê³µ:"ëª©ê³µ",ëª©ìž¬:"ëª©ê³µ",ë‚˜ë¬´:"ëª©ê³µ",íƒ€ì¼:"íƒ€ì¼",íƒ€ì¼ê³µì‚¬:"íƒ€ì¼",ë„ë°°:"ë„ë°°",ë„ë°°ì§€:"ë„ë°°",ë²½ì§€:"ë„ë°°",ì „ê¸°:"ì „ê¸°",ì „ê¸°ìžìž¬:"ì „ê¸°",ì „ë“±:"ì „ê¸°",ì¡°ëª…:"ì „ê¸°",ìŠ¤ìœ„ì¹˜:"ì „ê¸°",ì½˜ì„¼íŠ¸:"ì „ê¸°",ì„¤ë¹„:"ì„¤ë¹„",ë°°ê´€:"ì„¤ë¹„",ìˆ˜ë„:"ì„¤ë¹„",í•˜ìˆ˜:"ì„¤ë¹„",ìƒ¤ì‹œ:"ìƒ¤ì‹œ",ì°½ë¬¸:"ìƒ¤ì‹œ",ì°½í˜¸:"ìƒ¤ì‹œ",ìœ ë¦¬:"ìœ ë¦¬",ê±°ìš¸:"ìœ ë¦¬",ë°©ìˆ˜:"ë°©ìˆ˜",ë°©ìˆ˜ê³µì‚¬:"ë°©ìˆ˜",ì² ê±°:"ì² ê±°",ì² ê±°ê³µì‚¬:"ì² ê±°",í•´ì²´:"ì² ê±°",ì²­ì†Œ:"ì²­ì†Œ",ì¤€ê³µì²­ì†Œ:"ì²­ì†Œ",ìž…ì£¼ì²­ì†Œ:"ì²­ì†Œ",ë¯¸ìž¥:"ë¯¸ìž¥",ëª°íƒˆ:"ë¯¸ìž¥",ì‹œë©˜íŠ¸:"ë¯¸ìž¥",ì„ê³µ:"ì„ê³µ",ëŒ€ë¦¬ì„:"ì„ê³µ",í™”ê°•ì„:"ì„ê³µ",ë„ìž¥:"ë„ìž¥",íŽ˜ì¸íŠ¸:"ë„ìž¥",ë„ìƒ‰:"ë„ìž¥",í•„ë¦„:"í•„ë¦„",ì‹œíŠ¸ì§€:"í•„ë¦„",ì¬íŒ…:"í•„ë¦„",ë°”ë‹¥:"ë°”ë‹¥",ë§ˆë£¨:"ë°”ë‹¥",ìž¥íŒ:"ë°”ë‹¥",ë°ì½”íƒ€ì¼:"ë°”ë‹¥",ê°€êµ¬:"ê°€êµ¬",ë¶™ë°•ì´ìž¥:"ê°€êµ¬",ìˆ˜ë‚©ìž¥:"ê°€êµ¬",ì£¼ë°©:"ì£¼ë°©",ì‹±í¬ëŒ€:"ì£¼ë°©",ì£¼ë°©ê°€êµ¬:"ì£¼ë°©",ìš•ì‹¤:"ìš•ì‹¤",í™”ìž¥ì‹¤:"ìš•ì‹¤",ë³€ê¸°:"ìš•ì‹¤",ì„¸ë©´ëŒ€:"ìš•ì‹¤",ì–‘ë³€ê¸°:"ìš•ì‹¤",ê°„íŒ:"ê°„íŒ",ì‚¬ì¸ë¬¼:"ê°„íŒ",í˜„ìˆ˜ë§‰:"ê°„íŒ",ë³´ì–‘:"ê°€ì„¤",ê°€ì„¤:"ê°€ì„¤"};for(const[f,x]of Object.entries(cs))if(a.includes(f)){n.vendor=x;break}if(d===0&&!n.itemName){const f=a.replace(/[\[\]{}()<>]/g,"").trim();f&&!f.includes("ë¬´í†µìž¥ ìž…ê¸ˆ")&&(o(f)||(n.itemName=f.substring(0,50)))}})),n.itemName&&n.itemName.includes("ë³´ì–‘")&&(n.vendor="ê°€ì„¤"),n.itemName){const a=["ì€í–‰","ë±…í¬","ê¸ˆê³ ","ì‹ í˜‘","ì¦ê¶Œ","íˆ¬ìž","ì €ì¶•","ìš°ì²´êµ­","êµ­ë¯¼","ì‹ í•œ","ìš°ë¦¬","í•˜ë‚˜","ë†í˜‘","ê¸°ì—…","ì œì¼","ì”¨í‹°","ì¹´ì¹´ì˜¤","ì¼€ì´","í† ìŠ¤","ë¶€ì‚°","ëŒ€êµ¬","ê²½ë‚¨","ê´‘ì£¼","ì „ë¶","ì œì£¼","ì‚°ì—…","ìˆ˜í˜‘","ìƒˆë§ˆì„","í•˜ë‚˜ì€í–‰","êµ­ë¯¼ì€í–‰","ì‹ í•œì€í–‰","ìš°ë¦¬ì€í–‰","ë†í˜‘ì€í–‰","ê¸°ì—…ì€í–‰","KBêµ­ë¯¼ì€í–‰","NHë†í˜‘ì€í–‰","IBKê¸°ì—…ì€í–‰","SCì œì¼ì€í–‰","ì¹´ì¹´ì˜¤ë±…í¬","í† ìŠ¤ë±…í¬","ì¼€ì´ë±…í¬"],d=n.itemName.toLowerCase(),c=a.some(V=>d===V.toLowerCase()||d.startsWith(V.toLowerCase()+" ")||d.replace(/\s+/g,"").match(/^[\d\-\s]+$/)),N=/^[\d\-\s]/.test(n.itemName),h=/^\d{2,}[\s\-]?\d+/.test(n.itemName.replace(/[ê°€-íž£]/g,"").trim()),j=n.bankInfo.accountHolder&&(n.itemName===n.bankInfo.accountHolder||n.itemName.includes(n.bankInfo.accountHolder));(c||N||h||j)&&(n.itemName=void 0)}return n},Ye=()=>{try{const e=i.quickText;if(!e.trim())return;const t=Xe(e);console.log("ìžë™ì±„ìš°ê¸° ë¶„ì„ ê²°ê³¼:",t);const n={project:i.project,date:i.date,quickText:i.quickText,quickImages:i.quickImages||[],process:"",itemName:"",amount:"",accountHolder:"",bankName:"",accountNumber:"",images:[]};Y(null),U(!1),P(!1);let m=0;if(t.amounts.material&&(m+=t.amounts.material),t.amounts.labor&&(m+=t.amounts.labor),t.amounts.total&&!t.amounts.material&&!t.amounts.labor&&(m=t.amounts.total),m>0&&(n.amount=m),t.bankInfo.bankName&&(n.bankName=t.bankInfo.bankName),t.bankInfo.accountNumber){n.accountNumber=t.bankInfo.accountNumber;const o=te.find(l=>{var c,N;const a=(c=t.bankInfo.accountNumber)==null?void 0:c.replace(/[-\s]/g,"");return((N=l.accountNumber)==null?void 0:N.replace(/[-\s]/g,""))===a});o?(n.accountHolder=o.name||t.bankInfo.accountHolder,n.bankName=o.bankName||t.bankInfo.bankName,n.accountNumber=o.accountNumber||t.bankInfo.accountNumber,Y(o.id||o._id||null),o.process&&(n.process=o.process)):t.bankInfo.accountHolder&&(n.accountHolder=t.bankInfo.accountHolder)}else t.bankInfo.accountHolder&&(n.accountHolder=t.bankInfo.accountHolder);if(t.vendor&&(n.process=t.vendor),!n.process){const o=e.toLowerCase();for(const l of Ce)if(o.includes(l.toLowerCase())){n.process=l;break}}t.itemName&&(n.itemName=t.itemName),y(n),t.includeVat&&(U(!0),P(!1));let r=[];if(t.amounts.material||t.amounts.labor||t.amounts.total){const o=[];t.amounts.material&&o.push(`ìžìž¬ë¹„: ${t.amounts.material.toLocaleString()}ì›`),t.amounts.labor&&o.push(`ì¸ê±´ë¹„: ${t.amounts.labor.toLocaleString()}ì›`),t.amounts.total&&!t.amounts.material&&!t.amounts.labor&&o.push(`ê¸ˆì•¡: ${t.amounts.total.toLocaleString()}ì›`),r.push(o.join(", "))}if(t.bankInfo.bankName||t.bankInfo.accountHolder){const o=[];t.bankInfo.bankName&&o.push(t.bankInfo.bankName),t.bankInfo.accountHolder&&o.push(t.bankInfo.accountHolder),t.bankInfo.accountNumber&&o.push(t.bankInfo.accountNumber),o.length>0&&r.push(`ê³„ì¢Œ: ${o.join(" ")}`)}t.vendor&&r.push(`ê³µì •: ${t.vendor}`),t.includeVat&&r.push("ë¶€ê°€ì„¸ í¬í•¨ ì„¤ì •ë¨"),r.length>0?g.success(`ìžë™ ì¸ì‹ ì™„ë£Œ!
${r.join(`
`)}`,{duration:4e3,style:{whiteSpace:"pre-line"}}):g.info("í…ìŠ¤íŠ¸ë¥¼ ë¶„ì„ ì¤‘... ë” ëª…í™•í•œ ì •ë³´ë¥¼ ìž…ë ¥í•´ì£¼ì„¸ìš”.")}catch(e){console.error("ìžë™ì±„ìš°ê¸° ì—ëŸ¬:",e),g.error("ìžë™ì±„ìš°ê¸° ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.")}};p.useEffect(()=>{(async()=>{try{await Ds();const t=await vs();ae(t),Ue(!0)}catch(t){console.error("ì´ë¯¸ì§€ ë¡œë“œ ì‹¤íŒ¨:",t),Ue(!0)}})()},[]);const we=p.useRef({});p.useEffect(()=>{_e&&(Object.entries(w).forEach(([e,t])=>{JSON.stringify(we.current[e])!==JSON.stringify(t)&&hs(e,t).catch(n=>{console.error("ì´ë¯¸ì§€ ì €ìž¥ ì‹¤íŒ¨:",n),g.error("ì´ë¯¸ì§€ ì €ìž¥ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤")})}),we.current={...w})},[w,_e]);const he=p.useCallback(async e=>{var m;const t=(m=e.clipboardData)==null?void 0:m.items;if(!t)return;let n=!1;for(let r=0;r<t.length;r++)if(t[r].type.indexOf("image")!==-1){n=!0;break}if(n){if(!b){const r=document.activeElement;(r==null?void 0:r.tagName)==="INPUT"||(r==null?void 0:r.tagName)==="TEXTAREA"||(r==null?void 0:r.classList.contains("form-input"))||g.error("ë¨¼ì € ê²°ì œìš”ì²­ì„ ì„ íƒí•´ì£¼ì„¸ìš”");return}for(let r=0;r<t.length;r++)if(t[r].type.indexOf("image")!==-1){e.preventDefault();const o=t[r].getAsFile();if(o){const l=new FileReader;l.onload=async a=>{var c;const d=(c=a.target)==null?void 0:c.result;if(d)try{const N=D.find(V=>V.id===b),j=[...(N==null?void 0:N.images)||w[b]||[],d];await ue.updatePaymentImages(b,j),ae(V=>({...V,[b]:j})),await C(),g.success("ì´ë¯¸ì§€ê°€ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤")}catch(N){console.error("ì´ë¯¸ì§€ ì €ìž¥ ì‹¤íŒ¨:",N),g.error("ì´ë¯¸ì§€ ì €ìž¥ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤")}},l.readAsDataURL(o)}}}},[b,D,w,C]);p.useEffect(()=>(document.addEventListener("paste",he),()=>document.removeEventListener("paste",he)),[he]);const De=(u==null?void 0:u.name)==="ì•ˆíŒ€"?D.filter(e=>L.some(t=>t.name===e.project)):D,Q=[...De].sort((e,t)=>new Date(t.requestDate).getTime()-new Date(e.requestDate).getTime());console.log("[ê²°ì œìš”ì²­ ë””ë²„ê¹…]",{"ì „ì²´ payments":D.length,"í”„ë¡œì íŠ¸ í•„í„°ë§ í›„":De.length,"ì™„ë£Œëœ ê²°ì œ(ì „ì²´)":D.filter(e=>e.status==="completed").length,"ì™„ë£Œëœ ê²°ì œ(í•„í„°ë§ í›„)":De.filter(e=>e.status==="completed").length,"í˜„ìž¬ ì‚¬ìš©ìž":u==null?void 0:u.name,"í”„ë¡œì íŠ¸ ìˆ˜":L.length});const ve=Q.filter(e=>{var o,l,a;const t=z===""||((o=e.purpose)==null?void 0:o.toLowerCase().includes(z.toLowerCase()))||((l=e.itemName)==null?void 0:l.toLowerCase().includes(z.toLowerCase()))||((a=e.process)==null?void 0:a.toLowerCase().includes(z.toLowerCase())),n=e.status===M,m=M==="pending"||!i.project||e.project===i.project,r=!He||M!=="completed"||e.requestedBy===(u==null?void 0:u.name);return t&&n&&m&&r}),Qe=e=>{const t=e.id||e._id||null;if(le===t){Y(null);const o=document.querySelector('input[placeholder="ì˜ˆê¸ˆì£¼ëª…ì„ ìž…ë ¥í•˜ì„¸ìš”"]');o&&setTimeout(()=>{o.focus()},100);return}Y(t);const n=Se(e.name);let m=e.bankName||"",r=e.accountNumber||"";if(r&&!m){const o=r.trim().split(/\s+/);if(o.length>=2){const l=o[0];(l.includes("ì€í–‰")||l.includes("ë±…í¬")||l.includes("ê¸ˆê³ ")||l.includes("ì‹ í˜‘")||l.includes("ìš°ì²´êµ­"))&&(m=l,r=o.slice(1).join(""))}}y(o=>({...o,accountHolder:n,bankName:m,accountNumber:r}))};ve.reduce((e,t)=>{const n=t.materialAmount||0,m=t.laborAmount||0,r=t.amount||0;let o=n,l=m,a=0;return n===0&&m===0&&r>0?t.includesVAT?(o=Math.round(r/1.1),a=r-o):(o=r,a=0):t.includesVAT?(n>0&&(o=Math.round(n/1.1)),m>0&&(l=Math.round(m/1.1)),a=r-(o+l)):a=0,e.material+=o,e.labor+=l,e.vat+=a,e.total+=r,e},{material:0,labor:0,vat:0,total:0});const Ge=async()=>{var t;if(ie){console.log("ðŸ’° Already submitting, ignoring click");return}if(console.log("ðŸ’° handleSave called"),console.log("ðŸ’° Current user:",u),console.log("ðŸ’° Form data:",i),!i.project){g.error("í”„ë¡œì íŠ¸ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”");return}if(!i.itemName){g.error("í•­ëª©ëª…ì„ ìž…ë ¥í•´ì£¼ì„¸ìš”");return}const e=Number(i.amount)||0;if(e===0){g.error("ê¸ˆì•¡ì„ ìž…ë ¥í•´ì£¼ì„¸ìš”");return}je(!0);try{const n=A?Math.round(e*.967):e,m=new Date;if(E){const r={project:i.project,requestDate:new Date(i.date),purpose:i.itemName,amount:n,category:"material",urgency:"normal",process:i.process,itemName:i.itemName,includesVAT:B,applyTaxDeduction:A,materialAmount:n,laborAmount:0,originalLaborAmount:0,accountHolder:i.accountHolder,bank:i.bankName,accountNumber:i.accountNumber,bankInfo:i.accountHolder||i.bankName||i.accountNumber?{accountHolder:i.accountHolder,bankName:i.bankName,accountNumber:i.accountNumber}:void 0,updatedAt:m};console.log("ðŸ’° Updating payment:",r),await W(E,r),g.success("ê²°ì œìš”ì²­ì´ ìˆ˜ì •ë˜ì—ˆìŠµë‹ˆë‹¤"),se(null)}else{const r=i.project||"ê¸°íƒ€",o={id:`payment_${Date.now()}`,project:r,requestDate:new Date(i.date),requestedBy:(u==null?void 0:u.name)||"ì•Œ ìˆ˜ ì—†ìŒ",purpose:i.itemName,amount:n,status:"pending",category:"material",urgency:"normal",process:i.process,itemName:i.itemName,includesVAT:B,applyTaxDeduction:A,materialAmount:n,laborAmount:0,originalLaborAmount:0,accountHolder:i.accountHolder,bank:i.bankName,accountNumber:i.accountNumber,bankInfo:i.accountHolder||i.bankName||i.accountNumber?{accountHolder:i.accountHolder,bankName:i.bankName,accountNumber:i.accountNumber}:void 0,quickText:i.quickText||"",images:i.quickImages,attachments:[],createdAt:m,updatedAt:m};console.log("ðŸ’° Creating payment:",o),console.log("ðŸ’° Images in payment:",((t=i.quickImages)==null?void 0:t.length)||0,"ê°œ");const l=await pe(o);if(g.success("ê²°ì œìš”ì²­ì´ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤"),!B&&!A&&i.accountHolder&&i.bankName&&i.accountNumber)try{await us.post("/payments/send-toss-payment-sms",{recipientPhone:"01089423283",accountHolder:i.accountHolder,bankName:i.bankName,accountNumber:i.accountNumber,amount:n,projectName:r,itemName:i.itemName,process:i.process,paymentId:l}),g.success("ê²°ì œ ìš”ì²­ ë¬¸ìžê°€ ë°œì†¡ë˜ì—ˆìŠµë‹ˆë‹¤")}catch(a){console.error("SMS ë°œì†¡ ì‹¤íŒ¨:",a)}}y(r=>({project:r.project,date:_(new Date,"yyyy-MM-dd"),process:"",itemName:"",materialCost:"",laborCost:"",amount:"",accountHolder:"",bankName:"",accountNumber:"",images:[],quickText:"",quickImages:[]})),U(!1),P(!1),Y(null),window.innerWidth<768&&J("list")}catch(n){console.error("ðŸ’° Payment save error:",n),g.error("ê²°ì œìš”ì²­ ì €ìž¥ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤: "+n.message)}finally{je(!1)}},es=e=>{var t,n,m,r;try{console.log("[handleEdit] Starting edit for payment:",e.id);const o=e.originalMaterialAmount!==void 0?e.originalMaterialAmount:e.materialAmount||0,l=e.originalLaborAmount!==void 0?e.originalLaborAmount:e.laborAmount||0,a={project:e.project||"",date:e.requestDate?_(new Date(e.requestDate),"yyyy-MM-dd"):_(new Date,"yyyy-MM-dd"),process:e.process||"",itemName:e.itemName||e.purpose||"",materialCost:o>0?o.toString():"",laborCost:l>0?l.toString():"",amount:((t=e.amount)==null?void 0:t.toString())||"",accountHolder:((n=e.bankInfo)==null?void 0:n.accountHolder)||"",bankName:((m=e.bankInfo)==null?void 0:m.bankName)||"",accountNumber:((r=e.bankInfo)==null?void 0:r.accountNumber)||"",images:e.attachments||[],quickText:e.quickText||"",quickImages:e.images||[]};console.log("[handleEdit] Setting form data:",a),y(a),U(e.includesVAT||!1),P(e.applyTaxDeduction||!1),k(e.id),se(e.id),ge&&J("form"),console.log("[handleEdit] Edit setup complete"),g.success("ìˆ˜ì •í•  ë‚´ì—­ì„ ë¶ˆëŸ¬ì™”ìŠµë‹ˆë‹¤")}catch(o){console.error("[handleEdit] Error:",o),g.error("ìˆ˜ì • ë°ì´í„° ë¡œë“œ ì¤‘ ì˜¤ë¥˜ ë°œìƒ")}},ss=async e=>{var t,n,m;try{const r=((t=e.bankInfo)==null?void 0:t.accountHolder)||e.accountHolder,o=((n=e.bankInfo)==null?void 0:n.bankName)||e.bank,l=((m=e.bankInfo)==null?void 0:m.accountNumber)||e.accountNumber;if(!r||!o||!l){g.error("ê³„ì¢Œ ì •ë³´ê°€ ì—†ìŠµë‹ˆë‹¤. ê²°ì œ ìš”ì²­ ì •ë³´ë¥¼ í™•ì¸í•´ì£¼ì„¸ìš”.");return}if(!window.confirm(`í† ìŠ¤ ì•±ìœ¼ë¡œ ì´ì²´í•˜ì‹œê² ìŠµë‹ˆê¹Œ?

ë°›ëŠ”ë¶„: ì—ì´ì¹˜ë¸Œì´ëž©
ì€í–‰: ${o}
ê³„ì¢Œ: ${l}
ê¸ˆì•¡: ${e.amount.toLocaleString()}ì›`))return;const d=l.replace(/[-\s]/g,""),c=Vs[o]||o,N=Cs[o]||"004",h="ì—ì´ì¹˜ë¸Œì´ëž©",j=`supertoss://send?amount=${e.amount}&bankCode=${N}&bank=${encodeURIComponent(c)}&accountNo=${d}&receiverName=${encodeURIComponent(h)}&toName=${encodeURIComponent(h)}`;let V=!1;try{window.location.href=j,V=!0,g.success("í† ìŠ¤ ì•±ì„ ì‹¤í–‰í•©ë‹ˆë‹¤...",{duration:3e3}),setTimeout(()=>{const S=/iPhone|iPad|iPod/i.test(navigator.userAgent),Ve=/Android/i.test(navigator.userAgent);(S||Ve)&&g(`í† ìŠ¤ ì•±ì´ ì„¤ì¹˜ë˜ì–´ ìžˆì§€ ì•Šê±°ë‚˜ ì‹¤í–‰ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.

ë°›ëŠ”ë¶„: ì—ì´ì¹˜ë¸Œì´ëž©
ê³„ì¢Œ: ${l}
ê¸ˆì•¡: ${e.amount.toLocaleString()}ì›

í† ìŠ¤ ì•±ì„ ì§ì ‘ ì—´ì–´ ì´ì²´í•´ì£¼ì„¸ìš”.`,{icon:"ðŸ’³",duration:8e3})},2e3)}catch(S){console.error("í† ìŠ¤ ì•± ì‹¤í–‰ ì‹¤íŒ¨:",S),g(`í† ìŠ¤ ì•± ì‹¤í–‰ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.

ë°›ëŠ”ë¶„: ì—ì´ì¹˜ë¸Œì´ëž©
ì€í–‰: ${o}
ê³„ì¢Œ: ${l}
ê¸ˆì•¡: ${e.amount.toLocaleString()}ì›

í† ìŠ¤ ì•±ì„ ì§ì ‘ ì—´ì–´ ì´ì²´í•´ì£¼ì„¸ìš”.`,{icon:"ðŸ’³",duration:1e4})}}catch(r){console.error("ì¦‰ì‹œì†¡ê¸ˆ ì˜¤ë¥˜:",r),g.error(`ì²˜ë¦¬ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤: ${r.message}`)}},ns=async e=>{const t=D.find(n=>n.id===e);if(t&&t.quickText){const n=localStorage.getItem("executionMemos"),m=n?JSON.parse(n):{};m[e]=t.quickText,localStorage.setItem("executionMemos",JSON.stringify(m))}F(e,{status:"completed"}),Ke(!1),X("completed"),g.success("ì†¡ê¸ˆì™„ë£Œ ì²˜ë¦¬ë˜ì—ˆìŠµë‹ˆë‹¤"),window.dispatchEvent(new CustomEvent("paymentCompleted")),W(e,{status:"completed"}).then(()=>{Me.getSocket().emit("payment:refresh")}).catch(n=>{console.error("ì†¡ê¸ˆì™„ë£Œ ì²˜ë¦¬ ì‹¤íŒ¨:",n),F(e,{status:"pending"}),X("pending"),g.error("ì†¡ê¸ˆì™„ë£Œ ì²˜ë¦¬ ì‹¤íŒ¨ - ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”")})},ts=async e=>{var m;if(!b){g.error("ë¨¼ì € ê²°ì œìš”ì²­ì„ ì„ íƒí•´ì£¼ì„¸ìš”");return}const n=Array.from(((m=e.target)==null?void 0:m.files)||[]).filter(r=>r.type.startsWith("image/"));if(n.length!==0){try{const r=await Promise.all(n.map(d=>new Promise((c,N)=>{const h=new FileReader;h.onload=j=>{var S;const V=(S=j.target)==null?void 0:S.result;V?c(V):N(new Error("ì´ë¯¸ì§€ ì½ê¸° ì‹¤íŒ¨"))},h.onerror=()=>N(new Error("FileReader ì˜¤ë¥˜")),h.readAsDataURL(d)}))),o=D.find(d=>d.id===b),a=[...(o==null?void 0:o.images)||w[b]||[],...r];await ue.updatePaymentImages(b,a),ae(d=>({...d,[b]:a})),await C(),g.success(`${r.length}ê°œì˜ ì´ë¯¸ì§€ê°€ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤`)}catch(r){console.error("ì´ë¯¸ì§€ ì €ìž¥ ì‹¤íŒ¨:",r),g.error("ì´ë¯¸ì§€ ì €ìž¥ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤")}e.target.value=""}},as=async e=>{if(b)try{const t=D.find(r=>r.id===b),m=((t==null?void 0:t.images)||w[b]||[]).filter((r,o)=>o!==e);await ue.updatePaymentImages(b,m),ae(r=>({...r,[b]:m})),await C()}catch(t){console.error("ì´ë¯¸ì§€ ì‚­ì œ ì‹¤íŒ¨:",t),g.error("ì´ë¯¸ì§€ ì‚­ì œì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤")}},rs=e=>{$e(e),Z(!0)},os=e=>{e.preventDefault(),q(!0)},ms=e=>{e.preventDefault(),q(!1)},is=async e=>{if(e.preventDefault(),q(!1),!b){g.error("ë¨¼ì € ê²°ì œìš”ì²­ì„ ì„ íƒí•´ì£¼ì„¸ìš”");return}const n=Array.from(e.dataTransfer.files).filter(m=>m.type.startsWith("image/"));if(n.length!==0)try{const m=await Promise.all(n.map(a=>new Promise((d,c)=>{const N=new FileReader;N.onload=h=>{var V;const j=(V=h.target)==null?void 0:V.result;j?d(j):c(new Error("ì´ë¯¸ì§€ ì½ê¸° ì‹¤íŒ¨"))},N.onerror=()=>c(new Error("FileReader ì˜¤ë¥˜")),N.readAsDataURL(a)}))),r=D.find(a=>a.id===b),l=[...(r==null?void 0:r.images)||w[b]||[],...m];await ue.updatePaymentImages(b,l),ae(a=>({...a,[b]:l})),await C(),g.success(`${m.length}ê°œì˜ ì´ë¯¸ì§€ê°€ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤`)}catch(m){console.error("ì´ë¯¸ì§€ ì €ìž¥ ì‹¤íŒ¨:",m),g.error("ì´ë¯¸ì§€ ì €ìž¥ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤")}};return s.jsxDEV("div",{className:"space-y-3 md:space-y-4",children:[s.jsxDEV("div",{className:"lg:hidden mb-4",children:s.jsxDEV("select",{value:i.project,onChange:e=>{y({...i,project:e.target.value}),e.target.value&&localStorage.setItem("lastSelectedProject",e.target.value)},className:"w-full px-3 py-2.5 md:py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 bg-white cursor-pointer hover:border-gray-400 transition-colors appearance-none bg-[url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20fill%3D%22none%22%20viewBox%3D%220%200%2020%2020%22%3E%3Cpath%20stroke%3D%22%236b7280%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%221.5%22%20d%3D%22M6%208l4%204%204-4%22%2F%3E%3C%2Fsvg%3E')] bg-[length:1.5em_1.5em] bg-[right_0.5rem_center] bg-no-repeat pr-10",children:[(u==null?void 0:u.name)!=="ì•ˆíŒ€"&&s.jsxDEV("option",{value:"",children:"í”„ë¡œì íŠ¸ ì„ íƒ"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2030,columnNumber:35},void 0),L.filter(e=>e.status!=="completed").map(e=>s.jsxDEV("option",{value:e.name,children:e.name},e.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2032,columnNumber:13},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2020,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2019,columnNumber:7},void 0),s.jsxDEV("div",{className:"lg:hidden border-b border-gray-200 mb-4",children:s.jsxDEV("div",{className:"flex items-center justify-between",children:s.jsxDEV("nav",{className:"flex space-x-4",children:[s.jsxDEV("button",{onClick:()=>J("form"),className:`py-2 px-1 border-b-2 font-medium text-sm ${K==="form"?"border-gray-900 text-gray-900":"border-transparent text-gray-500"}`,children:"ìž…ë ¥"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2041,columnNumber:13},void 0),s.jsxDEV("button",{onClick:()=>J("list"),className:`py-2 px-1 border-b-2 font-medium text-sm ${K==="list"?"border-gray-900 text-gray-900":"border-transparent text-gray-500"}`,children:"ë‚´ì—­"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2051,columnNumber:13},void 0),s.jsxDEV("button",{onClick:()=>J("image"),className:`py-2 px-1 border-b-2 font-medium text-sm ${K==="image"?"border-gray-900 text-gray-900":"border-transparent text-gray-500"}`,children:"ì´ë¯¸ì§€"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2061,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2040,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2039,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2038,columnNumber:7},void 0),s.jsxDEV("div",{className:"payment-container grid grid-cols-1 md:grid-cols-6 ipad:grid-cols-6 ipad-lg:grid-cols-6 ipad-xl:grid-cols-12 ipad-2xl:grid-cols-12 gap-3 md:gap-4",children:[s.jsxDEV("div",{className:`payment-form md:col-span-2 ipad:col-span-2 ipad-lg:col-span-2 ipad-xl:col-span-2 ipad-2xl:col-span-2 bg-white rounded-lg border p-3 md:p-4 overflow-y-auto h-[calc(100vh-180px)] ${K!=="form"?"hidden md:block":""}`,children:s.jsxDEV("div",{className:"space-y-4",children:[s.jsxDEV("div",{className:"hidden lg:block payment-project-row",children:s.jsxDEV("div",{className:"flex gap-2",children:[s.jsxDEV("select",{value:i.project,onChange:e=>{y({...i,project:e.target.value}),e.target.value&&localStorage.setItem("lastSelectedProject",e.target.value)},className:"flex-1 px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 bg-white cursor-pointer hover:border-gray-400 transition-colors appearance-none bg-[url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20fill%3D%22none%22%20viewBox%3D%220%200%2020%2020%22%3E%3Cpath%20stroke%3D%22%236b7280%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%221.5%22%20d%3D%22M6%208l4%204%204-4%22%2F%3E%3C%2Fsvg%3E')] bg-[length:1.5em_1.5em] bg-[right_0.5rem_center] bg-no-repeat pr-10",children:[(u==null?void 0:u.name)!=="ì•ˆíŒ€"&&s.jsxDEV("option",{value:"",children:"í”„ë¡œì íŠ¸ ì„ íƒ"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2096,columnNumber:43},void 0),L.filter(e=>e.status!=="completed").map(e=>s.jsxDEV("option",{value:e.name,children:e.name},e.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2098,columnNumber:21},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2086,columnNumber:17},void 0),s.jsxDEV("select",{value:i.bankName,onChange:e=>y({...i,bankName:e.target.value}),className:"payment-bank-select hidden px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 bg-white cursor-pointer hover:border-gray-400 transition-colors appearance-none bg-[url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20fill%3D%22none%22%20viewBox%3D%220%200%2020%2020%22%3E%3Cpath%20stroke%3D%22%236b7280%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%221.5%22%20d%3D%22M6%208l4%204%204-4%22%2F%3E%3C%2Fsvg%3E')] bg-[length:1.5em_1.5em] bg-[right_0.5rem_center] bg-no-repeat pr-8",children:[s.jsxDEV("option",{value:"",children:"ì€í–‰"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2106,columnNumber:19},void 0),s.jsxDEV("option",{value:"KBêµ­ë¯¼ì€í–‰",children:"KBêµ­ë¯¼"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2107,columnNumber:19},void 0),s.jsxDEV("option",{value:"ì‹ í•œì€í–‰",children:"ì‹ í•œ"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2108,columnNumber:19},void 0),s.jsxDEV("option",{value:"ìš°ë¦¬ì€í–‰",children:"ìš°ë¦¬"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2109,columnNumber:19},void 0),s.jsxDEV("option",{value:"í•˜ë‚˜ì€í–‰",children:"í•˜ë‚˜"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2110,columnNumber:19},void 0),s.jsxDEV("option",{value:"NHë†í˜‘ì€í–‰",children:"ë†í˜‘"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2111,columnNumber:19},void 0),s.jsxDEV("option",{value:"IBKê¸°ì—…ì€í–‰",children:"ê¸°ì—…"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2112,columnNumber:19},void 0),s.jsxDEV("option",{value:"ì¹´ì¹´ì˜¤ë±…í¬",children:"ì¹´ì¹´ì˜¤"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2113,columnNumber:19},void 0),s.jsxDEV("option",{value:"ì¼€ì´ë±…í¬",children:"ì¼€ì´"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2114,columnNumber:19},void 0),s.jsxDEV("option",{value:"í† ìŠ¤ë±…í¬",children:"í† ìŠ¤"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2115,columnNumber:19},void 0),s.jsxDEV("option",{value:"ìƒˆë§ˆì„ê¸ˆê³ ",children:"ìƒˆë§ˆì„"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2116,columnNumber:19},void 0),s.jsxDEV("option",{value:"ì‹ í˜‘",children:"ì‹ í˜‘"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2117,columnNumber:19},void 0),s.jsxDEV("option",{value:"ìš°ì²´êµ­",children:"ìš°ì²´êµ­"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2118,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2101,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2085,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2084,columnNumber:13},void 0),s.jsxDEV("div",{children:[s.jsxDEV("textarea",{value:i.quickText,onChange:e=>y({...i,quickText:e.target.value}),onPaste:e=>{var n;const t=(n=e.clipboardData)==null?void 0:n.items;if(t){for(let m=0;m<t.length;m++)if(t[m].type.indexOf("image")!==-1){e.preventDefault();const r=t[m].getAsFile();if(r){const o=new FileReader;o.onload=l=>{var d;const a=(d=l.target)==null?void 0:d.result;y(c=>({...c,quickImages:[...c.quickImages,a]}))},o.readAsDataURL(r)}break}}},onDragOver:e=>{e.preventDefault(),e.stopPropagation()},onDrop:e=>{e.preventDefault(),e.stopPropagation(),Array.from(e.dataTransfer.files).filter(m=>m.type.startsWith("image/")).forEach(m=>{const r=new FileReader;r.onload=o=>{var a;const l=(a=o.target)==null?void 0:a.result;y(d=>({...d,quickImages:[...d.quickImages,l]}))},r.readAsDataURL(m)})},rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",placeholder:ge?"ì²­êµ¬ ë‚´ì—­ ë¶™ì—¬ë„£ê¸°":"ì²­êµ¬ ë‚´ì—­ ë¶™ì—¬ë„£ê¸° (ì´ë¯¸ì§€ ë“œëž˜ê·¸ ë˜ëŠ” Ctrl+V)"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2125,columnNumber:15},void 0),i.quickImages.length>0&&s.jsxDEV("div",{className:"mt-2 mb-2 grid grid-cols-3 gap-2",children:i.quickImages.map((e,t)=>s.jsxDEV("div",{className:"relative group",children:[s.jsxDEV("img",{src:e,alt:`ì²­êµ¬ë‚´ì—­ ${t+1}`,className:"w-full h-20 object-cover rounded-lg border"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2180,columnNumber:23},void 0),s.jsxDEV("button",{type:"button",onClick:()=>{y(n=>({...n,quickImages:n.quickImages.filter((m,r)=>r!==t)}))},className:"absolute top-1 right-1 w-5 h-5 bg-red-500 text-white rounded-full flex items-center justify-center text-xs opacity-0 group-hover:opacity-100 transition-opacity",children:"Ã—"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2185,columnNumber:23},void 0)]},t,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2179,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2177,columnNumber:17},void 0),s.jsxDEV("div",{className:"grid grid-cols-2 gap-2 mt-2",children:[s.jsxDEV("label",{className:"cursor-pointer",children:[s.jsxDEV("input",{type:"file",accept:"image/*",multiple:!0,className:"hidden",onChange:e=>{Array.from(e.target.files||[]).forEach(n=>{const m=new FileReader;m.onload=r=>{var l;const o=(l=r.target)==null?void 0:l.result;y(a=>({...a,quickImages:[...a.quickImages,o]}))},m.readAsDataURL(n)}),e.target.value=""}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2204,columnNumber:19},void 0),s.jsxDEV("div",{className:"w-full h-10 flex items-center justify-center bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm font-medium border border-gray-300",children:"ì´ë¯¸ì§€ ì²¨ë¶€"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2225,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2203,columnNumber:17},void 0),s.jsxDEV("button",{type:"button",onClick:Ye,className:"h-10 flex items-center justify-center bg-gray-400 text-white rounded-lg hover:bg-gray-500 transition-colors text-sm font-medium",children:"ìžë™ ì±„ìš°ê¸°"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2229,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2202,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2124,columnNumber:13},void 0),s.jsxDEV("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxDEV("div",{children:[s.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["ë‚ ì§œ ",i.date&&`(${_(new Date(i.date),"E",{locale:oe})})`]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2242,columnNumber:17},void 0),s.jsxDEV("input",{type:"date",value:i.date,onChange:e=>y({...i,date:e.target.value}),className:"w-full px-3 py-2 border rounded-lg bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500 cursor-pointer text-gray-900",style:{WebkitAppearance:"none",MozAppearance:"none",appearance:"none",backgroundColor:"white",backgroundImage:"none"}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2245,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2241,columnNumber:15},void 0),s.jsxDEV("div",{className:"relative",children:[s.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ê³µì •"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2261,columnNumber:17},void 0),s.jsxDEV("button",{ref:ne,type:"button",onClick:()=>$(!0),className:"w-full px-3 py-2 border rounded-lg text-left bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500",children:i.process||s.jsxDEV("span",{className:"text-gray-400",children:"ì„ íƒí•˜ì„¸ìš”"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2268,columnNumber:40},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2262,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2260,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2240,columnNumber:13},void 0),s.jsxDEV("div",{children:[s.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"í•­ëª©ëª…"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2275,columnNumber:15},void 0),s.jsxDEV("input",{type:"text",value:i.itemName,onChange:e=>y({...i,itemName:e.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2276,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2274,columnNumber:13},void 0),s.jsxDEV("div",{className:"space-y-2 payment-amount-section",children:[s.jsxDEV("div",{children:[s.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ê³µì‚¬ë¹„"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2287,columnNumber:17},void 0),s.jsxDEV("div",{className:"relative",children:[s.jsxDEV("input",{type:"text",value:i.amount?Number(i.amount).toLocaleString():"",onChange:e=>{const t=e.target.value.replace(/[^0-9]/g,"");y({...i,amount:t})},className:"w-full px-3 py-2 pr-8 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",placeholder:"ê¸ˆì•¡ì„ ìž…ë ¥í•˜ì„¸ìš”"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2289,columnNumber:19},void 0),s.jsxDEV("span",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"ì›"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2300,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2288,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2286,columnNumber:15},void 0),s.jsxDEV("div",{className:"flex items-center gap-4",children:[s.jsxDEV("button",{type:"button",className:"flex items-center cursor-pointer",onMouseDown:e=>e.preventDefault(),onClick:()=>{B||P(!1),U(!B)},children:[s.jsxDEV("div",{className:`h-4 w-4 border rounded flex items-center justify-center ${B?"bg-gray-600 border-gray-600":"border-gray-300"}`,children:B&&s.jsxDEV("span",{className:"text-white text-xs",children:"âœ“"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2318,columnNumber:36},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2317,columnNumber:19},void 0),s.jsxDEV("span",{className:"ml-2 text-sm text-gray-700",children:"ë¶€ê°€ì„¸ í¬í•¨ (10%)"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2320,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2306,columnNumber:17},void 0),s.jsxDEV("button",{type:"button",className:"flex items-center cursor-pointer",onMouseDown:e=>e.preventDefault(),onClick:()=>{A||U(!1),P(!A)},children:[s.jsxDEV("div",{className:`h-4 w-4 border rounded flex items-center justify-center ${A?"bg-gray-600 border-gray-600":"border-gray-300"}`,children:A&&s.jsxDEV("span",{className:"text-white text-xs",children:"âœ“"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2336,columnNumber:45},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2335,columnNumber:19},void 0),s.jsxDEV("span",{className:"ml-2 text-sm text-gray-700",children:"3.3% ì„¸ê¸ˆê³µì œ"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2338,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2324,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2305,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2285,columnNumber:13},void 0),s.jsxDEV("div",{className:"payment-account-section border-t pt-3 space-y-2",children:[(be.length>0||Ne.length>0&&!le)&&s.jsxDEV("div",{className:"payment-suggestions-row grid grid-cols-2 gap-2",children:[s.jsxDEV("div",{className:`payment-contractor-suggestions bg-amber-50 border border-amber-200 rounded-lg p-2 ${be.length===0?"hidden":""}`,children:[s.jsxDEV("label",{className:"block text-xs font-medium text-amber-900 mb-1",children:"ì¶”ì²œ í˜‘ë ¥ì—…ì²´"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2354,columnNumber:21},void 0),s.jsxDEV("div",{className:"space-y-1 max-h-56 overflow-y-auto",children:be.map(e=>{const t=e.id||e._id,n=le===t;return s.jsxDEV("button",{type:"button",onClick:()=>Qe(e),className:`w-full text-left px-2 py-1.5 rounded border transition-colors ${n?"border-gray-900 bg-gray-50":"border-gray-200 hover:border-gray-400 hover:bg-gray-50"}`,children:[s.jsxDEV("div",{className:"font-medium text-xs text-gray-900",children:Se(e.name)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2370,columnNumber:29},void 0),s.jsxDEV("div",{className:"text-[10px] text-gray-500 truncate",children:[e.bankName||""," ",e.accountNumber||""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2373,columnNumber:29},void 0)]},t,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2360,columnNumber:27},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2355,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2351,columnNumber:19},void 0),s.jsxDEV("div",{className:`payment-history-suggestions bg-blue-50 border border-blue-200 rounded-lg p-2 ${Ne.length===0||le?"hidden":""}`,children:[s.jsxDEV("label",{className:"block text-xs font-medium text-blue-900 mb-1",children:"ì´ì „ ì†¡ê¸ˆ ë‚´ì—­"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2386,columnNumber:21},void 0),s.jsxDEV("div",{className:"space-y-1 max-h-56 overflow-y-auto",children:Ne.map((e,t)=>s.jsxDEV("button",{type:"button",onClick:()=>{y(n=>({...n,accountHolder:e.accountHolder,bankName:e.bankName,accountNumber:e.accountNumber})),xe([])},className:"w-full text-left px-2 py-1.5 rounded border border-blue-200 bg-white hover:border-blue-400 hover:bg-blue-50 transition-colors",children:[s.jsxDEV("div",{className:"font-medium text-xs text-gray-900",children:e.accountHolder},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2403,columnNumber:27},void 0),s.jsxDEV("div",{className:"text-[10px] text-gray-500 truncate",children:[e.bankName," ",e.accountNumber]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2406,columnNumber:27},void 0)]},t,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2389,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2387,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2383,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2349,columnNumber:17},void 0),s.jsxDEV("div",{className:"relative",children:[s.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ì˜ˆê¸ˆì£¼"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2418,columnNumber:17},void 0),s.jsxDEV("input",{type:"text",value:i.accountHolder,onChange:e=>y({...i,accountHolder:e.target.value}),onFocus:()=>ke(!0),onBlur:()=>setTimeout(()=>ke(!1),150),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",placeholder:"ì˜ˆê¸ˆì£¼ëª…ì„ ìž…ë ¥í•˜ì„¸ìš”"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2419,columnNumber:17},void 0),ye&&Be.length>0&&s.jsxDEV("div",{className:"absolute z-20 w-full mt-1 bg-white border rounded-lg shadow-lg max-h-48 overflow-y-auto",children:Be.map((e,t)=>s.jsxDEV("button",{type:"button",className:"w-full px-3 py-2 text-left hover:bg-gray-100 border-b last:border-b-0 flex justify-between items-center",onMouseDown:n=>n.preventDefault(),onClick:()=>{y({...i,accountHolder:e.name,bankName:e.bankName||i.bankName,accountNumber:e.accountNumber||i.accountNumber}),ke(!1)},children:[s.jsxDEV("span",{className:"font-medium",children:e.name},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2447,columnNumber:25},void 0),s.jsxDEV("span",{className:"text-xs text-gray-500",children:e.source==="contractor"?"í˜‘ë ¥ì—…ì²´":"ì†¡ê¸ˆë‚´ì—­"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2448,columnNumber:25},void 0)]},`${e.name}-${t}`,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2432,columnNumber:23},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2430,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2417,columnNumber:15},void 0),s.jsxDEV("div",{className:"payment-bank-field",children:[s.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ì€í–‰"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2459,columnNumber:17},void 0),s.jsxDEV("select",{value:i.bankName,onChange:e=>y({...i,bankName:e.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",children:[s.jsxDEV("option",{value:"",children:"ì€í–‰ ì„ íƒ"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2465,columnNumber:19},void 0),s.jsxDEV("option",{value:"KBêµ­ë¯¼ì€í–‰",children:"KBêµ­ë¯¼ì€í–‰"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2466,columnNumber:19},void 0),s.jsxDEV("option",{value:"ì‹ í•œì€í–‰",children:"ì‹ í•œì€í–‰"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2467,columnNumber:19},void 0),s.jsxDEV("option",{value:"ìš°ë¦¬ì€í–‰",children:"ìš°ë¦¬ì€í–‰"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2468,columnNumber:19},void 0),s.jsxDEV("option",{value:"í•˜ë‚˜ì€í–‰",children:"í•˜ë‚˜ì€í–‰"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2469,columnNumber:19},void 0),s.jsxDEV("option",{value:"NHë†í˜‘ì€í–‰",children:"NHë†í˜‘ì€í–‰"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2470,columnNumber:19},void 0),s.jsxDEV("option",{value:"IBKê¸°ì—…ì€í–‰",children:"IBKê¸°ì—…ì€í–‰"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2471,columnNumber:19},void 0),s.jsxDEV("option",{value:"SCì œì¼ì€í–‰",children:"SCì œì¼ì€í–‰"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2472,columnNumber:19},void 0),s.jsxDEV("option",{value:"í•œêµ­ì”¨í‹°ì€í–‰",children:"í•œêµ­ì”¨í‹°ì€í–‰"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2473,columnNumber:19},void 0),s.jsxDEV("option",{value:"ì¹´ì¹´ì˜¤ë±…í¬",children:"ì¹´ì¹´ì˜¤ë±…í¬"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2474,columnNumber:19},void 0),s.jsxDEV("option",{value:"ì¼€ì´ë±…í¬",children:"ì¼€ì´ë±…í¬"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2475,columnNumber:19},void 0),s.jsxDEV("option",{value:"í† ìŠ¤ë±…í¬",children:"í† ìŠ¤ë±…í¬"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2476,columnNumber:19},void 0),s.jsxDEV("option",{value:"ìƒˆë§ˆì„ê¸ˆê³ ",children:"ìƒˆë§ˆì„ê¸ˆê³ "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2477,columnNumber:19},void 0),s.jsxDEV("option",{value:"ì‹ í˜‘",children:"ì‹ í˜‘"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2478,columnNumber:19},void 0),s.jsxDEV("option",{value:"ìš°ì²´êµ­",children:"ìš°ì²´êµ­"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2479,columnNumber:19},void 0),s.jsxDEV("option",{value:"KDBì‚°ì—…ì€í–‰",children:"KDBì‚°ì—…ì€í–‰"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2480,columnNumber:19},void 0),s.jsxDEV("option",{value:"ìˆ˜í˜‘ì€í–‰",children:"ìˆ˜í˜‘ì€í–‰"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2481,columnNumber:19},void 0),s.jsxDEV("option",{value:"ëŒ€êµ¬ì€í–‰",children:"ëŒ€êµ¬ì€í–‰"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2482,columnNumber:19},void 0),s.jsxDEV("option",{value:"ë¶€ì‚°ì€í–‰",children:"ë¶€ì‚°ì€í–‰"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2483,columnNumber:19},void 0),s.jsxDEV("option",{value:"ê²½ë‚¨ì€í–‰",children:"ê²½ë‚¨ì€í–‰"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2484,columnNumber:19},void 0),s.jsxDEV("option",{value:"ê´‘ì£¼ì€í–‰",children:"ê´‘ì£¼ì€í–‰"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2485,columnNumber:19},void 0),s.jsxDEV("option",{value:"ì „ë¶ì€í–‰",children:"ì „ë¶ì€í–‰"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2486,columnNumber:19},void 0),s.jsxDEV("option",{value:"ì œì£¼ì€í–‰",children:"ì œì£¼ì€í–‰"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2487,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2460,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2458,columnNumber:15},void 0),s.jsxDEV("div",{children:[s.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ê³„ì¢Œë²ˆí˜¸"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2492,columnNumber:17},void 0),s.jsxDEV("input",{type:"text",value:i.accountNumber,onChange:e=>y({...i,accountNumber:e.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",placeholder:"ê³„ì¢Œë²ˆí˜¸ë¥¼ ìž…ë ¥í•˜ì„¸ìš”"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2493,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2491,columnNumber:15},void 0),s.jsxDEV("div",{className:"pt-2 border-t",children:s.jsxDEV("div",{className:"flex justify-between items-baseline",children:[s.jsxDEV("span",{className:"font-medium",children:"ì´ì•¡"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2504,columnNumber:19},void 0),s.jsxDEV("div",{className:"text-right",children:[(B||A)&&s.jsxDEV("span",{className:"text-xs text-gray-500 mr-2",children:["(",B&&"ë¶€ê°€ì„¸ í¬í•¨",A&&"3.3% ì„¸ê¸ˆê³µì œ",")"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2507,columnNumber:23},void 0),s.jsxDEV("span",{className:"font-semibold",children:[(()=>{const e=Number(i.amount)||0;let t=e;return A&&(t=Math.round(e*.967)),t.toLocaleString()})(),"ì›"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2511,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2505,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2503,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2502,columnNumber:15},void 0),s.jsxDEV("div",{className:"mt-6 lg:my-[50px]",children:[E&&s.jsxDEV("button",{onClick:()=>{se(null),y(e=>({project:e.project,date:_(new Date,"yyyy-MM-dd"),process:"",itemName:"",materialCost:"",laborCost:"",amount:"",accountHolder:"",bankName:"",accountNumber:"",images:[],quickText:"",quickImages:[]})),U(!1),P(!1),Y(null),g.info("ìˆ˜ì •ì´ ì·¨ì†Œë˜ì—ˆìŠµë‹ˆë‹¤")},className:"w-full py-2 mb-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 touch-manipulation",style:{minHeight:"48px"},children:"ì·¨ì†Œ"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2530,columnNumber:19},void 0),s.jsxDEV("button",{onClick:e=>{console.log("ðŸ’° Payment button clicked!",e),console.log("ðŸ’° Button element:",e.currentTarget),console.log("ðŸ’° Form data:",i),Ge()},disabled:ie,className:`w-full py-3 rounded-lg touch-manipulation font-medium text-base ${ie?"bg-gray-400 text-gray-200 cursor-not-allowed":"bg-gray-900 text-white hover:bg-gray-800 active:bg-gray-950"}`,style:{minHeight:"48px",WebkitTapHighlightColor:"transparent"},children:ie?"ì²˜ë¦¬ì¤‘...":E?"ìˆ˜ì •ì™„ë£Œ":"ê²°ì œìš”ì²­"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2559,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2528,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2346,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2082,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2079,columnNumber:9},void 0),s.jsxDEV("div",{className:`payment-list md:col-span-4 ipad:col-span-4 ipad-lg:col-span-4 ipad-xl:col-span-4 ipad-2xl:col-span-4 bg-white rounded-lg border overflow-hidden flex flex-col h-[calc(100vh-180px)] ${K!=="list"?"hidden md:flex":""}`,children:[s.jsxDEV("div",{className:"bg-gray-50 px-4 pt-3 pb-0 flex-shrink-0",children:s.jsxDEV("div",{className:"flex items-center justify-between gap-4",children:s.jsxDEV("nav",{className:"flex gap-2 overflow-x-auto flex-1",children:[s.jsxDEV("button",{onClick:()=>X("pending"),className:`px-4 py-2.5 rounded-t-lg font-medium text-sm transition-all whitespace-nowrap flex items-center gap-2 ${M==="pending"?"bg-white text-gray-900 shadow-sm border-b-2 border-gray-900":"text-gray-500 hover:text-gray-700 hover:bg-gray-100"}`,children:["ëŒ€ê¸°ì¤‘",s.jsxDEV("span",{className:`px-2 py-0.5 rounded-full text-xs font-semibold ${M==="pending"?"bg-gray-900 text-white":"bg-gray-300 text-gray-600"}`,children:Q.filter(e=>e.status==="pending").length},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2598,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2589,columnNumber:17},void 0),s.jsxDEV("button",{onClick:()=>X("completed"),className:`px-4 py-2.5 rounded-t-lg font-medium text-sm transition-all whitespace-nowrap flex items-center gap-2 ${M==="completed"?"bg-white text-gray-900 shadow-sm border-b-2 border-gray-900":"text-gray-500 hover:text-gray-700 hover:bg-gray-100"}`,children:["ì†¡ê¸ˆì™„ë£Œ",s.jsxDEV("span",{className:`px-2 py-0.5 rounded-full text-xs font-semibold ${M==="completed"?"bg-gray-900 text-white":"bg-gray-300 text-gray-600"}`,children:Q.filter(e=>e.status==="completed").length},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2613,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2604,columnNumber:17},void 0),M==="completed"&&s.jsxDEV("label",{className:"ml-3 flex items-center gap-1.5 cursor-pointer text-xs text-gray-600",children:[s.jsxDEV("input",{type:"checkbox",checked:He,onChange:e=>{qe(e.target.checked),localStorage.setItem("payments_showMyRequestsOnly",String(e.target.checked))},className:"w-3.5 h-3.5 rounded border-gray-300 text-gray-600 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2622,columnNumber:21},void 0),"ë‚´ ìš”ì²­ë§Œ"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2621,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2588,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2587,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2586,columnNumber:11},void 0),s.jsxDEV("div",{className:"border-b border-gray-200"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2637,columnNumber:11},void 0),s.jsxDEV("div",{className:"flex-1 overflow-auto p-4",children:ve.length>0?s.jsxDEV("div",{className:"space-y-4",children:ve.map(e=>{var l,a,d;const t=e.amount||0,n=((l=e.bankInfo)==null?void 0:l.accountHolder)||e.accountHolder||"",m=((a=e.bankInfo)==null?void 0:a.bankName)||e.bank||"",r=((d=e.bankInfo)==null?void 0:d.accountNumber)||e.accountNumber||"",o=n&&m&&r?`${n} | ${m} ${r}`:"ê³„ì¢Œì •ë³´ ì—†ìŒ";return s.jsxDEV("div",{onClick:()=>k(e.id),className:`border rounded-lg p-3 cursor-pointer transition-colors ${b===e.id?"border-gray-900 bg-gray-50":"border-gray-200 bg-white hover:border-gray-400"}`,children:[s.jsxDEV("div",{className:"flex justify-between items-start mb-2.5",children:[s.jsxDEV("div",{className:"flex-1 min-w-0",children:[s.jsxDEV("div",{className:"flex items-baseline gap-2",children:[e.process&&s.jsxDEV("span",{className:"text-xs text-gray-500 shrink-0",children:["[",e.process,"]"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2669,columnNumber:31},void 0),s.jsxDEV("h3",{className:"font-semibold text-gray-900 text-sm truncate",children:e.purpose||e.itemName||"-"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2671,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2667,columnNumber:27},void 0),s.jsxDEV("p",{className:"text-xs text-gray-500 mt-0.5",children:e.project||"-"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2675,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2666,columnNumber:25},void 0),s.jsxDEV("div",{className:"text-right ml-3 shrink-0",children:[s.jsxDEV("p",{className:"text-base font-bold text-gray-900",children:[t.toLocaleString(),"ì›"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2678,columnNumber:27},void 0),s.jsxDEV("p",{className:"text-[10px] text-gray-400",children:[e.requestedBy||"-"," Â· ",_(new Date(e.requestDate),"MM/dd",{locale:oe})]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2681,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2677,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2665,columnNumber:23},void 0),s.jsxDEV("div",{className:"flex items-center gap-2 mb-2.5 text-xs",children:[s.jsxDEV("span",{className:"text-gray-400",children:["ìžìž¬ë¹„ ",(e.materialAmount||0).toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2689,columnNumber:25},void 0),s.jsxDEV("span",{className:"text-gray-300",children:"Â·"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2690,columnNumber:25},void 0),s.jsxDEV("span",{className:"text-gray-400",children:["ì¸ê±´ë¹„ ",(e.laborAmount||0).toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2691,columnNumber:25},void 0),e.includesVAT&&s.jsxDEV(s.Fragment,{children:[s.jsxDEV("span",{className:"text-gray-300",children:"Â·"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2694,columnNumber:29},void 0),s.jsxDEV("span",{className:"px-1.5 py-0.5 bg-blue-50 text-blue-700 text-[10px] rounded",children:"VAT"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2695,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2693,columnNumber:27},void 0),e.applyTaxDeduction&&s.jsxDEV(s.Fragment,{children:[s.jsxDEV("span",{className:"text-gray-300",children:"Â·"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2700,columnNumber:29},void 0),s.jsxDEV("span",{className:"px-1.5 py-0.5 bg-purple-50 text-purple-700 text-[10px] rounded",children:"3.3%"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2701,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2699,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2688,columnNumber:23},void 0),s.jsxDEV("div",{className:"flex items-center justify-between mb-2.5",children:[s.jsxDEV("div",{className:"text-xs text-gray-500 truncate flex-1",children:o},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2708,columnNumber:25},void 0),s.jsxDEV("div",{className:"flex items-center gap-1 ml-2 flex-shrink-0",children:[s.jsxDEV("button",{onClick:c=>{c.stopPropagation(),es(e)},className:"p-1 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded transition-colors",title:"ìˆ˜ì •",children:s.jsxDEV(Ns,{className:"h-3.5 w-3.5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2720,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2712,columnNumber:27},void 0),s.jsxDEV("button",{onClick:async c=>{c.stopPropagation(),window.confirm("ì´ ê²°ì œìš”ì²­ì„ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?")&&(await ee(e.id),g.success("ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤"))},className:"p-1 text-red-400 hover:text-red-600 hover:bg-red-50 rounded transition-colors",title:"ì‚­ì œ",children:s.jsxDEV(xs,{className:"h-3.5 w-3.5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2733,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2722,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2711,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2707,columnNumber:23},void 0),M==="pending"&&(u==null?void 0:u.role)&&["manager","admin"].includes(u.role)&&s.jsxDEV("div",{className:"flex items-center gap-2",children:[s.jsxDEV("button",{onClick:c=>{if(c.stopPropagation(),e.status==="completed"){g.info("ì´ë¯¸ ì†¡ê¸ˆì™„ë£Œ ì²˜ë¦¬ëœ ê±´ìž…ë‹ˆë‹¤");return}ss(e)},disabled:e.status==="completed",className:`flex-1 py-1.5 px-2 rounded text-xs font-medium transition-colors ${e.status==="completed"?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-gray-700 text-white hover:bg-gray-800"}`,children:e.status==="completed"?"ì†¡ê¸ˆì™„ë£Œë¨":"ì¦‰ì‹œì†¡ê¸ˆ"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2742,columnNumber:27},void 0),s.jsxDEV("button",{onClick:c=>{c.stopPropagation(),ns(e.id)},disabled:e.status==="completed",className:`flex-1 py-1.5 px-2 text-white rounded text-xs font-medium transition-colors ${e.status==="completed"?"opacity-50 cursor-not-allowed":""}`,style:{backgroundColor:e.status==="completed"?"#9ca3af":"#5f81a5"},onMouseEnter:c=>{e.status!=="completed"&&(c.currentTarget.style.backgroundColor="#4a6b8a")},onMouseLeave:c=>{e.status!=="completed"&&(c.currentTarget.style.backgroundColor="#5f81a5")},children:"ì†¡ê¸ˆì™„ë£Œ"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2760,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2741,columnNumber:25},void 0)]},e.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2655,columnNumber:21},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2641,columnNumber:15},void 0):s.jsxDEV("div",{className:"flex items-center justify-center h-full text-gray-500",children:"ê²°ì œìš”ì²­ì´ ì—†ìŠµë‹ˆë‹¤"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2791,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2639,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2582,columnNumber:9},void 0),s.jsxDEV("div",{className:`payment-images md:col-span-6 ipad:col-span-6 ipad-lg:col-span-6 ipad-xl:col-span-6 ipad-2xl:col-span-6 bg-white rounded-lg border flex flex-col overflow-hidden h-[calc(100vh-180px)] ${K!=="image"?"hidden lg:flex":""}`,onDragOver:os,onDragLeave:ms,onDrop:is,children:[s.jsxDEV("input",{type:"file",multiple:!0,accept:"image/*",onChange:ts,className:"hidden",id:"image-file-input"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2807,columnNumber:11},void 0),ge&&b&&K==="image"&&(()=>{const e=Q.find(t=>t.id===b);return e?s.jsxDEV("div",{className:"border-b bg-gray-50 p-3",children:s.jsxDEV("div",{className:"flex justify-between items-start",children:[s.jsxDEV("div",{className:"flex-1",children:[s.jsxDEV("p",{className:"font-medium text-gray-900 text-sm",children:e.purpose||e.itemName},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2824,columnNumber:23},void 0),s.jsxDEV("p",{className:"text-xs text-gray-500 mt-0.5",children:[e.process||"-"," â€¢ ",_(new Date(e.requestDate),"yyyy.MM.dd",{locale:oe})]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2825,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2823,columnNumber:21},void 0),s.jsxDEV("p",{className:"text-sm font-bold text-gray-900",children:["â‚©",(e.amount||0).toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2829,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2822,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2821,columnNumber:17},void 0):null})(),s.jsxDEV("div",{className:"flex-1 overflow-y-auto p-4 relative",onClick:e=>{var n;const t=e.target;if(!t.closest("img")&&!t.closest("button")&&b){const m=Q.find(a=>a.id===b),r=(m==null?void 0:m.images)||[],o=w[b]||[];(r.length>0?r:o).length>0&&((n=document.getElementById("image-file-input"))==null||n.click())}},children:b?(()=>{const e=Q.find(r=>r.id===b),t=(e==null?void 0:e.images)||[],n=w[b]||[],m=t.length>0?t:n;return s.jsxDEV("div",{className:"h-full flex flex-col",children:[s.jsxDEV("div",{className:"mb-3",children:[s.jsxDEV("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"ë©”ëª¨"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2865,columnNumber:21},void 0),s.jsxDEV("textarea",{value:(e==null?void 0:e.quickText)||(e==null?void 0:e.notes)||"",readOnly:!0,placeholder:"ë©”ëª¨ ì—†ìŒ",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm bg-gray-50 resize-none",rows:8},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2866,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2864,columnNumber:19},void 0),m.length>0&&s.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2 mb-3",children:m.map((r,o)=>s.jsxDEV("div",{className:"relative group",children:[s.jsxDEV("img",{src:r,alt:`ì¦ë¹™ ${o+1}`,className:"w-full aspect-square object-contain rounded-lg cursor-pointer hover:opacity-90 transition-opacity border bg-gray-100",onClick:l=>{l.stopPropagation(),rs(r)}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2880,columnNumber:27},void 0),s.jsxDEV("button",{onClick:l=>{l.stopPropagation(),as(o)},className:"absolute top-1 right-1 p-1 bg-red-500 text-white rounded-full opacity-100 md:opacity-0 md:group-hover:opacity-100 transition-opacity",children:s.jsxDEV(re,{className:"h-3 w-3"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2896,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2889,columnNumber:27},void 0),s.jsxDEV("div",{className:"absolute bottom-1 left-1 bg-black bg-opacity-50 text-white text-xs px-1.5 py-0.5 rounded",children:[o+1,"/",m.length]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2898,columnNumber:27},void 0)]},o,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2879,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2877,columnNumber:21},void 0),s.jsxDEV("label",{htmlFor:"image-file-input",className:`block cursor-pointer ${m.length>0?"":"flex-1"}`,onClick:r=>r.stopPropagation(),children:s.jsxDEV("div",{className:`w-full border-2 border-dashed rounded-lg p-4 text-center transition-colors flex flex-col items-center justify-center ${fe?"border-gray-500 bg-gray-50":"border-gray-300 hover:border-gray-400"} ${m.length>0?"min-h-[80px]":"min-h-[200px]"}`,children:[s.jsxDEV(ys,{className:`mx-auto text-gray-400 mb-1 ${m.length>0?"h-6 w-6":"h-10 w-10 mb-2"}`},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2917,columnNumber:23},void 0),s.jsxDEV("p",{className:"text-sm font-medium text-gray-700",children:m.length>0?"ì´ë¯¸ì§€ ì²¨ë¶€":"í´ë¦­í•˜ì—¬ ì„ íƒ"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2918,columnNumber:23},void 0),m.length===0&&s.jsxDEV("p",{className:"text-xs text-gray-500 mt-1",children:"ë˜ëŠ” ì´ë¯¸ì§€ë¥¼ ë“œëž˜ê·¸í•˜ê±°ë‚˜ Ctrl+Vë¡œ ë¶™ì—¬ë„£ê¸°"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2922,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2912,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2907,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2862,columnNumber:17},void 0)})():s.jsxDEV("div",{className:"h-full flex items-center justify-center min-h-[200px]",children:s.jsxDEV("div",{className:"text-center text-gray-400",children:[s.jsxDEV(ks,{className:"h-12 w-12 mx-auto mb-2"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2931,columnNumber:19},void 0),s.jsxDEV("p",{className:"text-sm",children:"ê²°ì œìš”ì²­ì„ ì„ íƒí•˜ì„¸ìš”"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2932,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2930,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2929,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2839,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2799,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2076,columnNumber:7},void 0),Fe&&s.jsxDEV(s.Fragment,{children:[s.jsxDEV("div",{className:"lg:hidden fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:s.jsxDEV("div",{className:"bg-white rounded-lg w-full max-w-md mx-4 max-h-[80vh] overflow-hidden",children:[s.jsxDEV("div",{className:"flex items-center justify-between p-3 border-b",children:[s.jsxDEV("h2",{className:"text-base font-bold text-gray-900",children:"ê³µì • ì„ íƒ"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2947,columnNumber:17},void 0),s.jsxDEV("button",{onClick:()=>$(!1),className:"p-1 hover:bg-gray-100 rounded-full",children:s.jsxDEV(re,{className:"h-4 w-4 text-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2952,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2948,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2946,columnNumber:15},void 0),s.jsxDEV("div",{className:"p-3 overflow-y-auto max-h-[calc(80vh-100px)]",children:[s.jsxDEV("div",{className:"grid grid-cols-2 gap-2 mb-2",children:Ce.map(e=>s.jsxDEV("button",{onClick:()=>{y({...i,process:e}),$(!1)},className:`p-2 text-sm text-center border rounded-lg transition-all ${i.process===e?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:border-gray-400 hover:bg-gray-50"}`,children:e},e,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2959,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2957,columnNumber:17},void 0),s.jsxDEV("button",{onClick:()=>{y({...i,process:""}),$(!1)},className:"w-full p-2 text-sm text-center border-2 border-dashed border-gray-300 rounded-lg hover:border-gray-400 hover:bg-gray-50 text-gray-500",children:"ì„ íƒ ì•ˆí•¨"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2976,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2956,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2945,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2944,columnNumber:11},void 0),s.jsxDEV("div",{className:"hidden lg:block fixed inset-0 z-40",onClick:()=>$(!1),children:s.jsxDEV("div",{onClick:e=>e.stopPropagation(),className:"absolute bg-white rounded-lg shadow-xl border border-gray-200",style:{top:ne.current?`${ne.current.getBoundingClientRect().bottom+window.scrollY+4}px`:"50%",left:ne.current?`${ne.current.getBoundingClientRect().left+window.scrollX}px`:"50%"},children:[s.jsxDEV("div",{className:"flex items-center justify-between p-2 border-b",children:[s.jsxDEV("h2",{className:"text-sm font-bold text-gray-900",children:"ê³µì • ì„ íƒ"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:3e3,columnNumber:17},void 0),s.jsxDEV("button",{onClick:()=>$(!1),className:"p-1 hover:bg-gray-100 rounded-full",children:s.jsxDEV(re,{className:"h-3 w-3 text-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:3005,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:3001,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2999,columnNumber:15},void 0),s.jsxDEV("div",{className:"p-2",children:[s.jsxDEV("div",{className:"grid grid-cols-4 gap-1.5 mb-2",children:Ce.map(e=>s.jsxDEV("button",{onClick:()=>{y({...i,process:e}),$(!1)},className:`p-1.5 text-xs text-center border rounded-lg transition-all whitespace-nowrap ${i.process===e?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:border-gray-400 hover:bg-gray-50"}`,children:e},e,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:3012,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:3010,columnNumber:17},void 0),s.jsxDEV("button",{onClick:()=>{y({...i,process:""}),$(!1)},className:"w-full p-1.5 text-xs text-center border-2 border-dashed border-gray-300 rounded-lg hover:border-gray-400 hover:bg-gray-50 text-gray-500",children:"ì„ íƒ ì•ˆí•¨"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:3029,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:3009,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2991,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2990,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2942,columnNumber:9},void 0),me&&s.jsxDEV("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-90",onClick:()=>Z(!1),children:s.jsxDEV("div",{className:"relative max-w-[90vw] max-h-[90vh]",children:[s.jsxDEV("button",{onClick:e=>{e.stopPropagation(),Z(!1)},className:"absolute -top-10 right-0 text-white hover:text-gray-300 transition-colors",children:s.jsxDEV(re,{className:"h-8 w-8"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:3058,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:3051,columnNumber:13},void 0),s.jsxDEV("img",{src:Re,alt:"ì›ë³¸ ì´ë¯¸ì§€",className:"max-w-full max-h-[90vh] object-contain",onClick:e=>e.stopPropagation()},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:3060,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:3050,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:3046,columnNumber:9},void 0),Oe&&s.jsxDEV(As,{projectName:ze,onClose:()=>We(!1)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:3072,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2017,columnNumber:5},void 0)};export{Ks as default};
