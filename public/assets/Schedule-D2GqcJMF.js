import{u as ia,z as L,j as l}from"./index-Dv07cY3q.js";import{i as ht,r as k,R as F}from"./vendor-react-B9Yt5e0k.js";import{c as oa,p as pn,l as Ut,s as ge,i as la,h as da,q as pr,a as fr,m as gr,b as ca,d as Ot,o as Bt,e as ua,f as Mt,r as hr,g as vr,j as xr,k as yr,n as br,t as fn,u as gn,v as hn,w as vn,x as xn,y as yn,z as bn,A as Dn,B as Nn,C as kn,D as _n,E as En,F as ma,G as pa,H as fa,I as ga,J as ha,K as va,L as xa}from"./vendor-calendar-DTyCd1d2.js";import{t as w}from"./vendor-date-9Cl9d1sr.js";import{S as ya}from"./ScheduleModal-Dzl6MyZW.js";import{u as ba}from"./dataStore-kpqxWLk1.js";import{u as Da}from"./useFilteredProjects-DqcZNAHQ.js";import{f as Na}from"./formatters-15aXprTM.js";import{P as ka}from"./index-CSlX1tQB.js";import"./vendor-data-BwGxWJIh.js";import"./vendor-ui-CcgAtStV.js";import"./index.esm-CwHht2tV.js";var Dr={},Sn={exports:{}};(function(e){function s(t){return t&&t.__esModule?t:{default:t}}e.exports=s,e.exports.__esModule=!0,e.exports.default=e.exports})(Sn);var Q=Sn.exports,Nr={},Cn={exports:{}},An={exports:{}},wn={exports:{}},jn={exports:{}};(function(e){function s(t){"@babel/helpers - typeof";return e.exports=s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},e.exports.__esModule=!0,e.exports.default=e.exports,s(t)}e.exports=s,e.exports.__esModule=!0,e.exports.default=e.exports})(jn);var tt=jn.exports,Vn={exports:{}};(function(e){var s=tt.default;function t(n,a){if(s(n)!="object"||!n)return n;var i=n[Symbol.toPrimitive];if(i!==void 0){var o=i.call(n,a||"default");if(s(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(Vn);var _a=Vn.exports;(function(e){var s=tt.default,t=_a;function n(a){var i=t(a,"string");return s(i)=="symbol"?i:i+""}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports})(wn);var Ln=wn.exports;(function(e){var s=Ln;function t(n,a,i){return(a=s(a))in n?Object.defineProperty(n,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[a]=i,n}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(An);var Tn=An.exports;(function(e){var s=Tn;function t(a,i){var o=Object.keys(a);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(a);i&&(u=u.filter(function(c){return Object.getOwnPropertyDescriptor(a,c).enumerable})),o.push.apply(o,u)}return o}function n(a){for(var i=1;i<arguments.length;i++){var o=arguments[i]!=null?arguments[i]:{};i%2?t(Object(o),!0).forEach(function(u){s(a,u,o[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(o)):t(Object(o)).forEach(function(u){Object.defineProperty(a,u,Object.getOwnPropertyDescriptor(o,u))})}return a}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports})(Cn);var Te=Cn.exports,Pn={exports:{}},Hn={exports:{}};(function(e){function s(t,n){if(t==null)return{};var a={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(n.indexOf(i)!==-1)continue;a[i]=t[i]}return a}e.exports=s,e.exports.__esModule=!0,e.exports.default=e.exports})(Hn);var Ea=Hn.exports;(function(e){var s=Ea;function t(n,a){if(n==null)return{};var i,o,u=s(n,a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(n);for(o=0;o<c.length;o++)i=c[o],a.indexOf(i)===-1&&{}.propertyIsEnumerable.call(n,i)&&(u[i]=n[i])}return u}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(Pn);var kr=Pn.exports,Bn={exports:{}};(function(e){function s(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}e.exports=s,e.exports.__esModule=!0,e.exports.default=e.exports})(Bn);var ze=Bn.exports,Mn={exports:{}};(function(e){var s=Ln;function t(a,i){for(var o=0;o<i.length;o++){var u=i[o];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(a,s(u.key),u)}}function n(a,i,o){return i&&t(a.prototype,i),o&&t(a,o),Object.defineProperty(a,"prototype",{writable:!1}),a}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports})(Mn);var Ye=Mn.exports,Un={exports:{}},On={exports:{}};(function(e){function s(t){return e.exports=s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},e.exports.__esModule=!0,e.exports.default=e.exports,s(t)}e.exports=s,e.exports.__esModule=!0,e.exports.default=e.exports})(On);var Sa=On.exports,Fn={exports:{}};(function(e){function s(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(e.exports=s=function(){return!!t},e.exports.__esModule=!0,e.exports.default=e.exports)()}e.exports=s,e.exports.__esModule=!0,e.exports.default=e.exports})(Fn);var Ca=Fn.exports,In={exports:{}},$n={exports:{}};(function(e){function s(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}e.exports=s,e.exports.__esModule=!0,e.exports.default=e.exports})($n);var Aa=$n.exports;(function(e){var s=tt.default,t=Aa;function n(a,i){if(i&&(s(i)=="object"||typeof i=="function"))return i;if(i!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return t(a)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports})(In);var wa=In.exports;(function(e){var s=Sa,t=Ca,n=wa;function a(i,o,u){return o=s(o),n(i,t()?Reflect.construct(o,u||[],s(i).constructor):o.apply(i,u))}e.exports=a,e.exports.__esModule=!0,e.exports.default=e.exports})(Un);var rt=Un.exports,Rn={exports:{}},Wn={exports:{}};(function(e){function s(t,n){return e.exports=s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},e.exports.__esModule=!0,e.exports.default=e.exports,s(t,n)}e.exports=s,e.exports.__esModule=!0,e.exports.default=e.exports})(Wn);var ja=Wn.exports;(function(e){var s=ja;function t(n,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(a&&a.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),a&&s(n,a)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(Rn);var nt=Rn.exports;const vt=ht(oa);var he={},et={};Object.defineProperty(et,"__esModule",{value:!0});et.views=et.navigate=void 0;et.navigate={PREVIOUS:"PREV",NEXT:"NEXT",TODAY:"TODAY",DATE:"DATE"};et.views={MONTH:"month",WEEK:"week",WORK_WEEK:"work_week",DAY:"day",AGENDA:"agenda"};var Va=Q.default;Object.defineProperty(he,"__esModule",{value:!0});he.views=he.dateRangeFormat=he.dateFormat=he.accessor=he.DayLayoutAlgorithmPropType=void 0;var ne=Va(pn),Zr=et,Jr=Object.keys(Zr.views).map(function(e){return Zr.views[e]});he.accessor=ne.default.oneOfType([ne.default.string,ne.default.func]);he.dateFormat=ne.default.any;he.dateRangeFormat=ne.default.func;he.views=ne.default.oneOfType([ne.default.arrayOf(ne.default.oneOf(Jr)),ne.default.objectOf(function(e,s){var t=Jr.indexOf(s)!==-1&&typeof e[s]=="boolean";if(t)return null;for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i];return ne.default.elementType.apply(ne.default,[e,s].concat(a))})]);he.DayLayoutAlgorithmPropType=ne.default.oneOfType([ne.default.oneOf(["overlap","no-overlap"]),ne.default.func]);var Ft={},st={},La=Q.default;Object.defineProperty(st,"__esModule",{value:!0});st.accessor=zn;st.wrapAccessor=void 0;var Ta=La(tt);function zn(e,s){var t=null;return typeof s=="function"?t=s(e):typeof s=="string"&&(0,Ta.default)(e)==="object"&&e!=null&&s in e&&(t=e[s]),t}st.wrapAccessor=function(s){return function(t){return zn(t,s)}};var qe={},Pa=Q.default;Object.defineProperty(qe,"__esModule",{value:!0});qe.DnDContext=void 0;var Ha=Pa(k);qe.DnDContext=Ha.default.createContext();var Ke=Q.default;Object.defineProperty(Ft,"__esModule",{value:!0});Ft.default=void 0;var Ba=Ke(Te),Ma=Ke(ze),Ua=Ke(Ye),Oa=Ke(rt),Fa=Ke(nt),Je=Ke(k),Qr=Ke(vt),en=st,Ia=qe,Yn=function(e){function s(){var t;(0,Ma.default)(this,s);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return t=(0,Oa.default)(this,s,[].concat(a)),t.handleResizeUp=function(o){o.button===0&&t.context.draggable.onBeginAction(t.props.event,"resize","UP")},t.handleResizeDown=function(o){o.button===0&&t.context.draggable.onBeginAction(t.props.event,"resize","DOWN")},t.handleResizeLeft=function(o){o.button===0&&t.context.draggable.onBeginAction(t.props.event,"resize","LEFT")},t.handleResizeRight=function(o){o.button===0&&t.context.draggable.onBeginAction(t.props.event,"resize","RIGHT")},t.handleStartDragging=function(o){var u;if(o.button===0){var c=(u=o.target.getAttribute("class"))===null||u===void 0?void 0:u.includes("rbc-addons-dnd-resize");if(!c){var g=(0,Ba.default)({},t.props.event);g.sourceResource=t.props.resource,t.context.draggable.onBeginAction(t.props.event,"move")}}},t}return(0,Fa.default)(s,e),(0,Ua.default)(s,[{key:"renderAnchor",value:function(n){var a=n==="Up"||n==="Down"?"ns":"ew";return Je.default.createElement("div",{className:"rbc-addons-dnd-resize-".concat(a,"-anchor"),onMouseDown:this["handleResize".concat(n)]},Je.default.createElement("div",{className:"rbc-addons-dnd-resize-".concat(a,"-icon")}))}},{key:"render",value:function(){var n=this.props,a=n.event,i=n.type,o=n.continuesPrior,u=n.continuesAfter,c=n.resizable,g=this.props.children;if(a.__isPreview)return Je.default.cloneElement(g,{className:(0,Qr.default)(g.props.className,"rbc-addons-dnd-drag-preview")});var h=this.context.draggable,v=h.draggableAccessor,x=h.resizableAccessor,m=v?!!(0,en.accessor)(a,v):!0;if(!m)return g;var N=c&&(x?!!(0,en.accessor)(a,x):!0);if(N||m){var _={onMouseDown:this.handleStartDragging,onTouchStart:this.handleStartDragging};if(N){var V=null,T=null;i==="date"?(V=!o&&this.renderAnchor("Left"),T=!u&&this.renderAnchor("Right")):(V=!o&&this.renderAnchor("Up"),T=!u&&this.renderAnchor("Down")),_.children=Je.default.createElement("div",{className:"rbc-addons-dnd-resizable"},V,g.props.children,T)}h.dragAndDropAction.interacting&&h.dragAndDropAction.event===a&&(_.className=(0,Qr.default)(g.props.className,"rbc-addons-dnd-dragged-event")),g=Je.default.cloneElement(g,_)}return g}}])}(Je.default.Component);Yn.contextType=Ia.DnDContext;Ft.default=Yn;var It={},qn={exports:{}};(function(e){var s=tt.default;function t(n,a){if(typeof WeakMap=="function")var i=new WeakMap,o=new WeakMap;return(e.exports=t=function(c,g){if(!g&&c&&c.__esModule)return c;var h,v,x={__proto__:null,default:c};if(c===null||s(c)!="object"&&typeof c!="function")return x;if(h=g?o:i){if(h.has(c))return h.get(c);h.set(c,x)}for(var m in c)m!=="default"&&{}.hasOwnProperty.call(c,m)&&((v=(h=Object.defineProperty)&&Object.getOwnPropertyDescriptor(c,m))&&(v.get||v.set)?h(x,m,v):x[m]=c[m]);return x},e.exports.__esModule=!0,e.exports.default=e.exports)(n,a)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(qn);var Kn=qn.exports;function _r(e,s,t,n){if(t===void 0&&(t=!1),n===void 0&&(n=!0),e){var a=document.createEvent("HTMLEvents");a.initEvent(s,t,n),e.dispatchEvent(a)}}function $a(e){var s=ge(e,"transitionDuration")||"",t=s.indexOf("ms")===-1?1e3:1;return parseFloat(s)*t}function Ra(e,s,t){t===void 0&&(t=5);var n=!1,a=setTimeout(function(){n||_r(e,"transitionend",!0)},s+t),i=Ut(e,"transitionend",function(){n=!0},{once:!0});return function(){clearTimeout(a),i()}}function Er(e,s,t,n){t==null&&(t=$a(e)||0);var a=Ra(e,t,n),i=Ut(e,"transitionend",s);return function(){a(),i()}}var tn={transition:"","transition-duration":"","transition-delay":"","transition-timing-function":""};function rn(e){var s=e.node,t=e.properties,n=e.duration,a=n===void 0?200:n,i=e.easing,o=e.callback,u=[],c={},g="";Object.keys(t).forEach(function(x){var m=t[x];la(x)?g+=x+"("+m+") ":(c[x]=m,u.push(da(x)))}),g&&(c.transform=g,u.push("transform"));function h(x){x.target===x.currentTarget&&(ge(s,tn),o&&o.call(this,x))}a>0&&(c.transition=u.join(", "),c["transition-duration"]=a/1e3+"s",c["transition-delay"]="0s",c["transition-timing-function"]=i||"linear");var v=Er(s,h,a);return s.clientLeft,ge(s,c),{cancel:function(){v(),ge(s,tn)}}}function Xn(e,s,t,n,a){if(!("nodeType"in e))return rn(e);if(!s)throw new Error("must include properties to animate");return typeof n=="function"&&(a=n,n=""),rn({node:e,properties:s,duration:t,easing:n,callback:a})}function Gn(e,s,t){if(e){if(typeof t>"u")return e.getAttribute(s);!t&&t!==""?e.removeAttribute(s):e.setAttribute(s,String(t))}}function Zn(e){return e?Array.from(e.children):[]}function Jn(e){if(e){for(;e.firstChild;)e.removeChild(e.firstChild);return e}return null}var Wa=Function.prototype.bind.call(Function.prototype.call,[].slice);function Qn(e){return e?Wa(e.childNodes):[]}function es(e,s){return function(n){var a=n.currentTarget,i=n.target,o=pr(a,e);o.some(function(u){return fr(u,i)})&&s.call(this,n)}}function ts(e,s){return e&&s&&s.parentNode?(s.nextSibling?s.parentNode.insertBefore(e,s.nextSibling):s.parentNode.appendChild(e),e):null}var za=/^(?:input|select|textarea|button)$/i;function rs(e){return e?za.test(e.nodeName):!1}function ns(e){return e?!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length):!1}function ss(e,s,t){s===void 0&&(s=null),t===void 0&&(t=null);for(var n=[];e;e=e.nextElementSibling)if(e!==s){if(t&&gr(e,t))break;n.push(e)}return n}function as(e,s){return ss(e,e,s)}function Ya(e,s){var t=null,n=[];for(t=e?e[s]:null;t&&t.nodeType!==9;)n.push(t),t=t[s]||null;return n}function is(e){return Ya(e,"parentElement")}function os(e,s){return e&&s?(s.firstElementChild?s.insertBefore(e,s.firstElementChild):s.appendChild(e),e):null}function ls(e){return e&&e.parentNode?(e.parentNode.removeChild(e),e):null}function Sr(e,s){var t=ge(e,"position"),n=t==="absolute",a=e.ownerDocument;if(t==="fixed")return a||document;for(;(e=e.parentNode)&&!ca(e);){var i=n&&ge(e,"position")==="static",o=(ge(e,"overflow")||"")+(ge(e,"overflow-y")||"")+ge(e,"overflow-x");if(!i&&/(auto|scroll)/.test(o)&&(s||Ot(e)<e.scrollHeight))return e}return a||document}function ds(e,s){var t=Bt(e),n={top:0,left:0};if(e){var a=s||Sr(e),i=ua(a),o=Mt(a),u=Ot(a,!0);i||(n=Bt(a)),t={top:t.top-n.top,left:t.left-n.left,height:t.height,width:t.width};var c=t.height,g=t.top+(i?0:o),h=g+c;o=o>g?g:h>o+u?h-u:o;var v=hr(function(){return Mt(a,o)});return function(){return vr(v)}}}function cs(e){return ss(e&&e.parentElement?e.parentElement.firstElementChild:null,e)}var qa=/&nbsp;/gi,Ka=/\xA0/g,Xa=/\s+([^\s])/gm;function us(e,s,t){s===void 0&&(s=!0),t===void 0&&(t=!0);var n="";return e&&(n=(e.textContent||"").replace(qa," ").replace(Ka," "),s&&(n=n.trim()),t&&(n=n.replace(Xa," $1"))),n}function ms(e,s){e.classList?e.classList.toggle(s):xr(e,s)?yr(e,s):br(e,s)}const Ga={addEventListener:En,removeEventListener:_n,triggerEvent:_r,animate:Xn,filter:es,listen:Ut,style:ge,getComputedStyle:kn,attribute:Gn,activeElement:Nn,ownerDocument:Dn,ownerWindow:bn,requestAnimationFrame:hr,cancelAnimationFrame:vr,matches:gr,height:Ot,width:yn,offset:Bt,offsetParent:xn,position:vn,contains:fr,scrollbarSize:hn,scrollLeft:gn,scrollParent:Sr,scrollTo:ds,scrollTop:Mt,querySelectorAll:pr,closest:fn,addClass:br,removeClass:yr,hasClass:xr,toggleClass:ms,transitionEnd:Er,childNodes:Qn,childElements:Zn,nextUntil:as,parents:is,siblings:cs,clear:Jn,insertAfter:ts,isInput:rs,isVisible:ns,prepend:os,remove:ls,text:us},Za=Object.freeze(Object.defineProperty({__proto__:null,activeElement:Nn,addClass:br,addEventListener:En,animate:Xn,attribute:Gn,cancelAnimationFrame:vr,childElements:Zn,childNodes:Qn,clear:Jn,closest:fn,contains:fr,default:Ga,filter:es,getComputedStyle:kn,hasClass:xr,height:Ot,insertAfter:ts,isInput:rs,isVisible:ns,listen:Ut,matches:gr,nextUntil:as,offset:Bt,offsetParent:xn,ownerDocument:Dn,ownerWindow:bn,parents:is,position:vn,prepend:os,querySelectorAll:pr,remove:ls,removeClass:yr,removeEventListener:_n,requestAnimationFrame:hr,scrollLeft:gn,scrollParent:Sr,scrollTo:ds,scrollTop:Mt,scrollbarSize:hn,siblings:cs,style:ge,text:us,toggleClass:ms,transitionEnd:Er,triggerEvent:_r,width:yn},Symbol.toStringTag,{value:"Module"})),Ja=ht(Za);var dr={exports:{}};(function(e,s){s.__esModule=!0,s.default=n;var t=Function.prototype.bind.call(Function.prototype.call,[].slice);function n(a,i){return t(a.querySelectorAll(i))}e.exports=s.default})(dr,dr.exports);var Qa=dr.exports,ve={};const ei=ht(ma),ti=ht(pa),ri=ht(fa);var at=Q.default;Object.defineProperty(ve,"__esModule",{value:!0});ve.default=void 0;ve.getBoundsForNode=gt;ve.getEventNodeFromPoint=fs;ve.getShowMoreNodeFromPoint=gs;ve.isEvent=li;ve.isShowMore=di;ve.objectsCollide=ur;var ni=at(tt),si=at(ze),ai=at(Ye),cr=at(ei),ps=at(ti),ii=at(ri);function J(e,s){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document;return(0,ii.default)(t,e,s,{passive:!1})}function oi(e,s,t){return!e||(0,cr.default)(e,document.elementFromPoint(s,t))}function fs(e,s){var t=s.clientX,n=s.clientY,a=document.elementFromPoint(t,n);return(0,ps.default)(a,".rbc-event",e)}function gs(e,s){var t=s.clientX,n=s.clientY,a=document.elementFromPoint(t,n);return(0,ps.default)(a,".rbc-show-more",e)}function li(e,s){return!!fs(e,s)}function di(e,s){return!!gs(e,s)}function ut(e){var s=e;return e.touches&&e.touches.length&&(s=e.touches[0]),{clientX:s.clientX,clientY:s.clientY,pageX:s.pageX,pageY:s.pageY}}var nn=5,ci=250,ui=function(){function e(s){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.global,a=n===void 0?!1:n,i=t.longPressThreshold,o=i===void 0?250:i,u=t.validContainers,c=u===void 0?[]:u;(0,si.default)(this,e),this._initialEvent=null,this.selecting=!1,this.isDetached=!1,this.container=s,this.globalMouse=!s||a,this.longPressThreshold=o,this.validContainers=c,this._listeners=Object.create(null),this._handleInitialEvent=this._handleInitialEvent.bind(this),this._handleMoveEvent=this._handleMoveEvent.bind(this),this._handleTerminatingEvent=this._handleTerminatingEvent.bind(this),this._keyListener=this._keyListener.bind(this),this._dropFromOutsideListener=this._dropFromOutsideListener.bind(this),this._dragOverFromOutsideListener=this._dragOverFromOutsideListener.bind(this),this._removeTouchMoveWindowListener=J("touchmove",function(){},window),this._removeKeyDownListener=J("keydown",this._keyListener),this._removeKeyUpListener=J("keyup",this._keyListener),this._removeDropFromOutsideListener=J("drop",this._dropFromOutsideListener),this._removeDragOverFromOutsideListener=J("dragover",this._dragOverFromOutsideListener),this._addInitialEventListener()}return(0,ai.default)(e,[{key:"on",value:function(t,n){var a=this._listeners[t]||(this._listeners[t]=[]);return a.push(n),{remove:function(){var o=a.indexOf(n);o!==-1&&a.splice(o,1)}}}},{key:"emit",value:function(t){for(var n=arguments.length,a=new Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];var o,u=this._listeners[t]||[];return u.forEach(function(c){o===void 0&&(o=c.apply(void 0,a))}),o}},{key:"teardown",value:function(){this._initialEvent=null,this._initialEventData=null,this._selectRect=null,this.selecting=!1,this._lastClickData=null,this.isDetached=!0,this._listeners=Object.create(null),this._removeTouchMoveWindowListener&&this._removeTouchMoveWindowListener(),this._removeInitialEventListener&&this._removeInitialEventListener(),this._removeEndListener&&this._removeEndListener(),this._onEscListener&&this._onEscListener(),this._removeMoveListener&&this._removeMoveListener(),this._removeKeyUpListener&&this._removeKeyUpListener(),this._removeKeyDownListener&&this._removeKeyDownListener(),this._removeDropFromOutsideListener&&this._removeDropFromOutsideListener(),this._removeDragOverFromOutsideListener&&this._removeDragOverFromOutsideListener()}},{key:"isSelected",value:function(t){var n=this._selectRect;return!n||!this.selecting?!1:ur(n,gt(t))}},{key:"filter",value:function(t){var n=this._selectRect;return!n||!this.selecting?[]:t.filter(this.isSelected,this)}},{key:"_addLongPressListener",value:function(t,n){var a=this,i=null,o=null,u=null,c=function(x){i=setTimeout(function(){h(),t(x)},a.longPressThreshold),o=J("touchmove",function(){return h()}),u=J("touchend",function(){return h()})},g=J("touchstart",c),h=function(){i&&clearTimeout(i),o&&o(),u&&u(),i=null,o=null,u=null};return n&&c(n),function(){h(),g()}}},{key:"_addInitialEventListener",value:function(){var t=this,n=J("mousedown",function(i){t._removeInitialEventListener(),t._handleInitialEvent(i),t._removeInitialEventListener=J("mousedown",t._handleInitialEvent)}),a=J("touchstart",function(i){t._removeInitialEventListener(),t._removeInitialEventListener=t._addLongPressListener(t._handleInitialEvent,i)});this._removeInitialEventListener=function(){n(),a()}}},{key:"_dropFromOutsideListener",value:function(t){var n=ut(t),a=n.pageX,i=n.pageY,o=n.clientX,u=n.clientY;this.emit("dropFromOutside",{x:a,y:i,clientX:o,clientY:u}),t.preventDefault()}},{key:"_dragOverFromOutsideListener",value:function(t){var n=ut(t),a=n.pageX,i=n.pageY,o=n.clientX,u=n.clientY;this.emit("dragOverFromOutside",{x:a,y:i,clientX:o,clientY:u}),t.preventDefault()}},{key:"_handleInitialEvent",value:function(t){if(this._initialEvent=t,!this.isDetached){var n=ut(t),a=n.clientX,i=n.clientY,o=n.pageX,u=n.pageY,c=this.container(),g,h;if(!(t.which===3||t.button===2||!oi(c,a,i))){if(!this.globalMouse&&c&&!(0,cr.default)(c,t.target)){var v=mi(0),x=v.top,m=v.left,N=v.bottom,_=v.right;if(h=gt(c),g=ur({top:h.top-x,left:h.left-m,bottom:h.bottom+N,right:h.right+_},{top:u,left:o}),!g)return}var V=this.emit("beforeSelect",this._initialEventData={isTouch:/^touch/.test(t.type),x:o,y:u,clientX:a,clientY:i});if(V!==!1)switch(t.type){case"mousedown":this._removeEndListener=J("mouseup",this._handleTerminatingEvent),this._onEscListener=J("keydown",this._handleTerminatingEvent),this._removeMoveListener=J("mousemove",this._handleMoveEvent);break;case"touchstart":this._handleMoveEvent(t),this._removeEndListener=J("touchend",this._handleTerminatingEvent),this._removeMoveListener=J("touchmove",this._handleMoveEvent);break}}}}},{key:"_isWithinValidContainer",value:function(t){var n=t.target,a=this.validContainers;return!a||!a.length||!n?!0:a.some(function(i){return!!n.closest(i)})}},{key:"_handleTerminatingEvent",value:function(t){var n=this.selecting,a=this._selectRect;if(!n&&t.type.includes("key")&&(t=this._initialEvent),this.selecting=!1,this._removeEndListener&&this._removeEndListener(),this._removeMoveListener&&this._removeMoveListener(),this._selectRect=null,this._initialEvent=null,this._initialEventData=null,!!t){var i=!this.container||(0,cr.default)(this.container(),t.target),o=this._isWithinValidContainer(t);return t.key==="Escape"||!o?this.emit("reset"):!n&&i?this._handleClickEvent(t):n?this.emit("select",a):this.emit("reset")}}},{key:"_handleClickEvent",value:function(t){var n=ut(t),a=n.pageX,i=n.pageY,o=n.clientX,u=n.clientY,c=new Date().getTime();return this._lastClickData&&c-this._lastClickData.timestamp<ci?(this._lastClickData=null,this.emit("doubleClick",{x:a,y:i,clientX:o,clientY:u})):(this._lastClickData={timestamp:c},this.emit("click",{x:a,y:i,clientX:o,clientY:u}))}},{key:"_handleMoveEvent",value:function(t){if(!(this._initialEventData===null||this.isDetached)){var n=this._initialEventData,a=n.x,i=n.y,o=ut(t),u=o.pageX,c=o.pageY,g=Math.abs(a-u),h=Math.abs(i-c),v=Math.min(u,a),x=Math.min(c,i),m=this.selecting,N=this.isClick(u,c);N&&!m&&!(g||h)||(!m&&!N&&this.emit("selectStart",this._initialEventData),N||(this.selecting=!0,this._selectRect={top:x,left:v,x:u,y:c,right:v+g,bottom:x+h},this.emit("selecting",this._selectRect)),t.preventDefault())}}},{key:"_keyListener",value:function(t){this.ctrl=t.metaKey||t.ctrlKey}},{key:"isClick",value:function(t,n){var a=this._initialEventData,i=a.x,o=a.y,u=a.isTouch;return!u&&Math.abs(t-i)<=nn&&Math.abs(n-o)<=nn}}])}();function mi(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return(0,ni.default)(e)!=="object"&&(e={top:e,left:e,right:e,bottom:e}),e}function ur(e,s){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,n=gt(e),a=n.top,i=n.left,o=n.right,u=o===void 0?i:o,c=n.bottom,g=c===void 0?a:c,h=gt(s),v=h.top,x=h.left,m=h.right,N=m===void 0?x:m,_=h.bottom,V=_===void 0?v:_;return!(g-t<v||a+t>V||u-t<x||i+t>N)}function gt(e){if(!e.getBoundingClientRect)return e;var s=e.getBoundingClientRect(),t=s.left+sn("left"),n=s.top+sn("top");return{top:n,left:t,right:(e.offsetWidth||0)+t,bottom:(e.offsetHeight||0)+n}}function sn(e){if(e==="left")return window.pageXOffset||document.body.scrollLeft||0;if(e==="top")return window.pageYOffset||document.body.scrollTop||0}ve.default=ui;var $t={},Rt=Q.default;Object.defineProperty($t,"__esModule",{value:!0});$t.default=void 0;var pi=Rt(Tn),an=Rt(Te),fi=Rt(vt),mt=Rt(k);function jt(e){return typeof e=="string"?e:e+"%"}function gi(e){var s=e.style,t=e.className,n=e.event,a=e.accessors,i=e.rtl,o=e.selected,u=e.label,c=e.continuesPrior,g=e.continuesAfter,h=e.getters,v=e.onClick,x=e.onDoubleClick,m=e.isBackgroundEvent,N=e.onKeyPress,_=e.components,V=_.event,T=_.eventWrapper,C=a.title(n),M=a.tooltip(n),R=a.end(n),z=a.start(n),K=h.eventProp(n,z,R,o),te=[mt.default.createElement("div",{key:"1",className:"rbc-event-label"},u),mt.default.createElement("div",{key:"2",className:"rbc-event-content"},V?mt.default.createElement(V,{event:n,title:C}):C)],se=s.height,me=s.top,ie=s.width,Y=s.xOffset,S=(0,an.default)((0,an.default)({},K.style),{},(0,pi.default)({top:jt(me),height:jt(se),width:jt(ie)},i?"right":"left",jt(Y)));return mt.default.createElement(T,Object.assign({type:"time"},e),mt.default.createElement("div",{role:"button",tabIndex:0,onClick:v,onDoubleClick:x,style:S,onKeyDown:N,title:M?(typeof u=="string"?u+": ":"")+M:void 0,className:(0,fi.default)(m?"rbc-background-event":"rbc-event",t,K.className,{"rbc-selected":o,"rbc-event-continues-earlier":c,"rbc-event-continues-later":g})},te))}$t.default=gi;var Se={},hs=Q.default;Object.defineProperty(Se,"__esModule",{value:!0});Se.dragAccessors=void 0;Se.eventTimes=ki;Se.mergeComponents=Di;Se.pointInColumn=Ni;var hi=hs(Te),vi=hs(kr),on=st,xi=k,yi=["children"];Se.dragAccessors={start:(0,on.wrapAccessor)(function(e){return e.start}),end:(0,on.wrapAccessor)(function(e){return e.end})};function bi(){for(var e=arguments.length,s=new Array(e),t=0;t<e;t++)s[t]=arguments[t];var n=function(i){var o=i.children,u=(0,vi.default)(i,yi);return s.filter(Boolean).reduceRight(function(c,g){return(0,xi.createElement)(g,u,c)},o)};return n}function Di(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0,t=Object.keys(s),n=(0,hi.default)({},e);return t.forEach(function(a){n[a]=e[a]?bi(e[a],s[a]):s[a]}),n}function Ni(e,s){var t=e.left,n=e.right,a=e.top,i=s.x,o=s.y;return i<n+10&&i>t&&o>a}function ki(e,s,t){var n=s.start(e),a=s.end(e),i=t.eq(n,a,"minutes")&&t.diff(n,a,"minutes")===0;i&&(a=t.add(a,1,"day"));var o=t.diff(n,a,"milliseconds");return{start:n,end:a,duration:o}}var _i=Kn.default,Pe=Q.default;Object.defineProperty(It,"__esModule",{value:!0});It.default=void 0;var je=Pe(Te),Ei=Pe(ze),Si=Pe(Ye),Ci=Pe(rt),Ai=Pe(nt),ir=Ja,wi=Pe(Qa),We=Pe(k),ji=qe,Ve=_i(ve),Vi=Pe($t),Ee=Se,vs=function(e){function s(){var t;(0,Ei.default)(this,s);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return t=(0,Ci.default)(this,s,[].concat(a)),t.handleMove=function(o,u){if(!(0,Ee.pointInColumn)(u,o))return t.reset();var c=t.context.draggable.dragAndDropAction.event,g=t.props,h=g.accessors,v=g.slotMetrics,x=v.closestSlotFromPoint({y:o.y-t.eventOffsetTop,x:o.x},u),m=(0,Ee.eventTimes)(c,h,t.props.localizer),N=m.duration,_=t.props.localizer.add(x,N,"milliseconds");t.update(c,v.getRange(x,_,!1,!0))},t.handleDropFromOutside=function(o,u){var c=t.props,g=c.slotMetrics,h=c.resource,v=g.closestSlotFromPoint({y:o.y,x:o.x},u),x=t._calculateDnDEnd(v);t.context.draggable.onDropFromOutside({start:v,end:x,allDay:!1,resource:h}),t.reset()},t.handleDragOverFromOutside=function(o,u){var c=t.props.slotMetrics,g=c.closestSlotFromPoint({y:o.y,x:o.x},u),h=t._calculateDnDEnd(g),v=t.context.draggable.dragFromOutsideItem();t.update(v,c.getRange(g,h,!1,!0))},t._calculateDnDEnd=function(o){var u=t.props,c=u.accessors,g=u.slotMetrics,h=u.localizer,v=t.context.draggable.dragFromOutsideItem(),x=(0,Ee.eventTimes)(v,c,h),m=x.duration,N=g.nextSlot(o),_=!isNaN(m);if(_){var V=h.add(o,m,"milliseconds");N=new Date(Math.max(V,N))}return N},t.updateParentScroll=function(o,u){setTimeout(function(){var c=(0,wi.default)(u,".rbc-addons-dnd-drag-preview")[0];c&&(c.offsetTop<o.scrollTop?(0,ir.scrollTop)(o,Math.max(c.offsetTop,0)):c.offsetTop+c.offsetHeight>o.scrollTop+o.clientHeight&&(0,ir.scrollTop)(o,Math.min(c.offsetTop-o.offsetHeight+c.offsetHeight,o.scrollHeight)))})},t._selectable=function(){var o=t.ref.current,u=o.children[0],c=!1,g=t._selector=new Ve.default(function(){return o.closest(".rbc-time-view")}),h=(0,ir.scrollParent)(o);g.on("beforeSelect",function(v){var x=t.context.draggable.dragAndDropAction;if(!x.action)return!1;if(x.action==="resize")return(0,Ee.pointInColumn)((0,Ve.getBoundsForNode)(u),v);var m=(0,Ve.getEventNodeFromPoint)(u,v);if(!m)return!1;t.eventOffsetTop=v.y-(0,Ve.getBoundsForNode)(m).top}),g.on("selecting",function(v){var x=(0,Ve.getBoundsForNode)(u),m=t.context.draggable.dragAndDropAction;m.action==="move"&&(t.updateParentScroll(h,u),t.handleMove(v,x)),m.action==="resize"&&(t.updateParentScroll(h,u),t.handleResize(v,x))}),g.on("dropFromOutside",function(v){if(t.context.draggable.onDropFromOutside){var x=(0,Ve.getBoundsForNode)(u);(0,Ee.pointInColumn)(x,v)&&t.handleDropFromOutside(v,x)}}),g.on("dragOverFromOutside",function(v){var x=t.context.draggable.dragFromOutsideItem?t.context.draggable.dragFromOutsideItem():null;if(x){var m=(0,Ve.getBoundsForNode)(u);if(!(0,Ee.pointInColumn)(m,v))return t.reset();t.handleDragOverFromOutside(v,m)}}),g.on("selectStart",function(){c=!0,t.context.draggable.onStart()}),g.on("select",function(v){var x=(0,Ve.getBoundsForNode)(u);c=!1;var m=t.context.draggable.dragAndDropAction;if(m.action==="resize")t.handleInteractionEnd();else{if(!t.state.event||!(0,Ee.pointInColumn)(x,v))return;t.handleInteractionEnd()}}),g.on("click",function(){c&&t.reset(),t.context.draggable.onEnd(null)}),g.on("reset",function(){t.reset(),t.context.draggable.onEnd(null)})},t.handleInteractionEnd=function(){var o=t.props.resource,u=t.state.event;t.reset(),t.context.draggable.onEnd({start:u.start,end:u.end,resourceId:o})},t._teardownSelectable=function(){t._selector&&(t._selector.teardown(),t._selector=null)},t.state={},t.ref=We.default.createRef(),t}return(0,Ai.default)(s,e),(0,Si.default)(s,[{key:"componentDidMount",value:function(){this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"reset",value:function(){this.state.event&&this.setState({event:null,top:null,height:null})}},{key:"update",value:function(n,a){var i=a.startDate,o=a.endDate,u=a.top,c=a.height,g=this.state.event;g&&i===g.start&&o===g.end||this.setState({top:u,height:c,event:(0,je.default)((0,je.default)({},n),{},{start:i,end:o})})}},{key:"handleResize",value:function(n,a){var i=this.props,o=i.accessors,u=i.slotMetrics,c=i.localizer,g=this.context.draggable.dragAndDropAction,h=g.event,v=g.direction,x=u.closestSlotFromPoint(n,a),m=(0,Ee.eventTimes)(h,o,c),N=m.start,_=m.end,V;if(v==="UP"){var T=c.min(x,u.closestSlotFromDate(_,-1));V=u.getRange(T,_),V=(0,je.default)((0,je.default)({},V),{},{endDate:_})}else if(v==="DOWN"){var C=c.max(x,u.closestSlotFromDate(N));V=u.getRange(N,C),V=(0,je.default)((0,je.default)({},V),{},{startDate:N})}this.update(h,V)}},{key:"renderContent",value:function(){var n=this.props,a=n.children,i=n.accessors,o=n.components,u=n.getters,c=n.slotMetrics,g=n.localizer,h=this.state,v=h.event,x=h.top,m=h.height;if(!v)return a;var N=a.props.children,_=v.start,V=v.end,T,C="eventTimeRangeFormat",M=c.startsBeforeDay(_),R=c.startsAfterDay(V);return M?C="eventTimeRangeEndFormat":R&&(C="eventTimeRangeStartFormat"),M&&R?T=g.messages.allDay:T=g.format({start:_,end:V},C),We.default.cloneElement(a,{children:We.default.createElement(We.default.Fragment,null,N,v&&We.default.createElement(Vi.default,{event:v,label:T,className:"rbc-addons-dnd-drag-preview",style:{top:x,height:m,width:100},getters:u,components:o,accessors:(0,je.default)((0,je.default)({},i),Ee.dragAccessors),continuesPrior:M,continuesAfter:R}))})}},{key:"render",value:function(){return We.default.createElement("div",{ref:this.ref},this.renderContent())}}])}(We.default.Component);vs.contextType=ji.DnDContext;It.default=vs;var Wt={},xs={exports:{}},ys={exports:{}},bs={exports:{}};(function(e){function s(t,n){(n==null||n>t.length)&&(n=t.length);for(var a=0,i=Array(n);a<n;a++)i[a]=t[a];return i}e.exports=s,e.exports.__esModule=!0,e.exports.default=e.exports})(bs);var Ds=bs.exports;(function(e){var s=Ds;function t(n){if(Array.isArray(n))return s(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(ys);var Li=ys.exports,Ns={exports:{}};(function(e){function s(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}e.exports=s,e.exports.__esModule=!0,e.exports.default=e.exports})(Ns);var Ti=Ns.exports,ks={exports:{}};(function(e){var s=Ds;function t(n,a){if(n){if(typeof n=="string")return s(n,a);var i={}.toString.call(n).slice(8,-1);return i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set"?Array.from(n):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?s(n,a):void 0}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(ks);var Pi=ks.exports,_s={exports:{}};(function(e){function s(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}e.exports=s,e.exports.__esModule=!0,e.exports.default=e.exports})(_s);var Hi=_s.exports;(function(e){var s=Li,t=Ti,n=Pi,a=Hi;function i(o){return s(o)||t(o)||n(o)||a()}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports})(xs);var Es=xs.exports,zt={},Yt={},qt={},He=Q.default;Object.defineProperty(qt,"__esModule",{value:!0});qt.default=void 0;var ln=He(Te),Bi=He(kr),Mi=He(ze),Ui=He(Ye),Oi=He(rt),Fi=He(nt),pt=He(k),Ii=He(vt),$i=["style","className","event","selected","isAllDay","onSelect","onDoubleClick","onKeyPress","localizer","continuesPrior","continuesAfter","accessors","getters","children","components","slotStart","slotEnd"],Ri=function(e){function s(){return(0,Mi.default)(this,s),(0,Oi.default)(this,s,arguments)}return(0,Fi.default)(s,e),(0,Ui.default)(s,[{key:"render",value:function(){var n=this.props,a=n.style,i=n.className,o=n.event,u=n.selected,c=n.isAllDay,g=n.onSelect,h=n.onDoubleClick,v=n.onKeyPress,x=n.localizer,m=n.continuesPrior,N=n.continuesAfter,_=n.accessors,V=n.getters,T=n.children,C=n.components,M=C.event,R=C.eventWrapper,z=n.slotStart,K=n.slotEnd,te=(0,Bi.default)(n,$i);delete te.resizable;var se=_.title(o),me=_.tooltip(o),ie=_.end(o),Y=_.start(o),S=_.allDay(o),pe=c||S||x.diff(Y,x.ceil(ie,"day"),"day")>1,oe=V.eventProp(o,Y,ie,u),xt=pt.default.createElement("div",{className:"rbc-event-content",title:me||void 0},M?pt.default.createElement(M,{event:o,continuesPrior:m,continuesAfter:N,title:se,isAllDay:S,localizer:x,slotStart:z,slotEnd:K}):se);return pt.default.createElement(R,Object.assign({},this.props,{type:"date"}),pt.default.createElement("div",Object.assign({},te,{style:(0,ln.default)((0,ln.default)({},oe.style),a),className:(0,Ii.default)("rbc-event",i,oe.className,{"rbc-selected":u,"rbc-event-allday":pe,"rbc-event-continues-prior":m,"rbc-event-continues-after":N}),onClick:function(le){return g&&g(o,le)},onDoubleClick:function(le){return h&&h(o,le)},onKeyDown:function(le){return v&&v(o,le)}}),typeof T=="function"?T(xt):xt))}}])}(pt.default.Component);qt.default=Ri;var Be={},Wi=Q.default;Object.defineProperty(Be,"__esModule",{value:!0});Be.dateCellSelection=Ki;Be.getSlotAtX=Ss;Be.isSelected=Yi;Be.pointInBox=qi;Be.slotWidth=Cr;var zi=Wi(ga);function Yi(e,s){return!e||s==null?!1:(0,zi.default)(e,s)}function Cr(e,s){var t=e.right-e.left,n=t/s;return n}function Ss(e,s,t,n){var a=Cr(e,n);return t?n-1-Math.floor((s-e.left)/a):Math.floor((s-e.left)/a)}function qi(e,s){var t=s.x,n=s.y;return n>=e.top&&n<=e.bottom&&t>=e.left&&t<=e.right}function Ki(e,s,t,n,a){var i=-1,o=-1,u=n-1,c=Cr(s,n),g=Ss(s,t.x,a,n),h=s.top<t.y&&s.bottom>t.y,v=s.top<e.y&&s.bottom>e.y,x=e.y>s.bottom,m=s.top>e.y,N=t.top<s.top&&t.bottom>s.bottom;return N&&(i=0,o=u),h&&(m?(i=0,o=g):x&&(i=g,o=u)),v&&(i=o=a?u-Math.floor((e.x-s.left)/c):Math.floor((e.x-s.left)/c),h?g<i?i=g:o=g:e.y<t.y?o=u:i=0),{startIdx:i,endIdx:o}}var Ar=Q.default;Object.defineProperty(Yt,"__esModule",{value:!0});Yt.default=void 0;var De=Ar(pn),dn=Ar(k),Xi=Ar(qt),Gi=Be;Yt.default={propTypes:{slotMetrics:De.default.object.isRequired,selected:De.default.object,isAllDay:De.default.bool,accessors:De.default.object.isRequired,localizer:De.default.object.isRequired,components:De.default.object.isRequired,getters:De.default.object.isRequired,onSelect:De.default.func,onDoubleClick:De.default.func,onKeyPress:De.default.func},defaultProps:{segments:[],selected:{}},renderEvent:function(s,t){var n=s.selected;s.isAllDay;var a=s.accessors,i=s.getters,o=s.onSelect,u=s.onDoubleClick,c=s.onKeyPress,g=s.localizer,h=s.slotMetrics,v=s.components,x=s.resizable,m=h.continuesPrior(t),N=h.continuesAfter(t);return dn.default.createElement(Xi.default,{event:t,getters:i,localizer:g,accessors:a,components:v,onSelect:o,onDoubleClick:u,onKeyPress:c,continuesPrior:m,continuesAfter:N,slotStart:h.first,slotEnd:h.last,selected:(0,Gi.isSelected)(t,n),resizable:x})},renderSpan:function(s,t,n){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:" ",i=Math.abs(t)/s*100+"%";return dn.default.createElement("div",{key:n,className:"rbc-row-segment",style:{WebkitFlexBasis:i,flexBasis:i,maxWidth:i}},a)}};var Me=Q.default;Object.defineProperty(zt,"__esModule",{value:!0});zt.default=void 0;var Zi=Me(Te),Ji=Me(ze),Qi=Me(Ye),eo=Me(rt),to=Me(nt),ro=Me(vt),cn=Me(k),Ht=Me(Yt),Cs=function(e){function s(){return(0,Ji.default)(this,s),(0,eo.default)(this,s,arguments)}return(0,to.default)(s,e),(0,Qi.default)(s,[{key:"render",value:function(){var n=this,a=this.props,i=a.segments,o=a.slotMetrics.slots,u=a.className,c=1;return cn.default.createElement("div",{className:(0,ro.default)(u,"rbc-row")},i.reduce(function(g,h,v){var x=h.event,m=h.left,N=h.right,_=h.span,V="_lvl_"+v,T=m-c,C=Ht.default.renderEvent(n.props,x);return T&&g.push(Ht.default.renderSpan(o,T,"".concat(V,"_gap"))),g.push(Ht.default.renderSpan(o,_,V,C)),c=N+1,g},[]))}}])}(cn.default.Component);Cs.defaultProps=(0,Zi.default)({},Ht.default.defaultProps);zt.default=Cs;var Ce={},As=Q.default;Object.defineProperty(Ce,"__esModule",{value:!0});Ce.endOfRange=ws;Ce.eventLevels=ao;Ce.eventSegments=so;Ce.inRange=io;Ce.segsOverlap=js;Ce.sortEvents=mr;Ce.sortWeekEvents=oo;var or=As(Es),no=As(ha);function ws(e){var s=e.dateRange,t=e.unit,n=t===void 0?"day":t,a=e.localizer;return{first:s[0],last:a.add(s[s.length-1],1,n)}}function so(e,s,t,n){var a=ws({dateRange:s,localizer:n}),i=a.first,o=a.last,u=n.diff(i,o,"day"),c=n.max(n.startOf(t.start(e),"day"),i),g=n.min(n.ceil(t.end(e),"day"),o),h=(0,no.default)(s,function(x){return n.isSameDate(x,c)}),v=n.diff(c,g,"day");return v=Math.min(v,u),v=Math.max(v-n.segmentOffset,1),{event:e,span:v,left:h+1,right:Math.max(h+v,1)}}function ao(e){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0,t,n,a,i=[],o=[];for(t=0;t<e.length;t++){for(a=e[t],n=0;n<i.length&&js(a,i[n]);n++);n>=s?o.push(a):(i[n]||(i[n]=[])).push(a)}for(t=0;t<i.length;t++)i[t].sort(function(u,c){return u.left-c.left});return{levels:i,extra:o}}function io(e,s,t,n,a){var i={start:n.start(e),end:n.end(e)},o={start:s,end:t};return a.inEventRange({event:i,range:o})}function js(e,s){return s.some(function(t){return t.left<=e.right&&t.right>=e.left})}function oo(e,s,t){var n=(0,or.default)(e),a=[],i=[];n.forEach(function(c){var g=s.start(c),h=s.end(c);t.daySpan(g,h)>1?a.push(c):i.push(c)});var o=a.sort(function(c,g){return mr(c,g,s,t)}),u=i.sort(function(c,g){return mr(c,g,s,t)});return[].concat((0,or.default)(o),(0,or.default)(u))}function mr(e,s,t,n){var a={start:t.start(e),end:t.end(e),allDay:t.allDay(e)},i={start:t.start(s),end:t.end(s),allDay:t.allDay(s)};return n.sortEvents({evtA:a,evtB:i})}var lo=Kn.default,Ue=Q.default;Object.defineProperty(Wt,"__esModule",{value:!0});Wt.default=void 0;var Vt=Ue(Te),co=Ue(Es),uo=Ue(ze),mo=Ue(Ye),po=Ue(rt),fo=Ue(nt),Lt=Ue(k),go=Ue(zt),Qe=lo(ve),ho=Ce,Le=Be,Tt=Se,vo=qe,Vs=function(e){function s(){var t;(0,uo.default)(this,s);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return t=(0,po.default)(this,s,[].concat(a)),t.handleMove=function(o,u,c){if(!(0,Le.pointInBox)(u,o))return t.reset();var g=t.context.draggable.dragAndDropAction.event||c,h=t.props,v=h.accessors,x=h.slotMetrics,m=h.rtl,N=h.localizer,_=(0,Le.getSlotAtX)(u,o.x,m,x.slots),V=x.getDateForSlot(_),T=(0,Tt.eventTimes)(g,v,N),C=T.start,M=T.duration;C=N.merge(V,C);var R=N.add(C,M,"milliseconds");t.update(g,C,R)},t.handleDropFromOutside=function(o,u){if(t.context.draggable.onDropFromOutside){var c=t.props,g=c.slotMetrics,h=c.rtl,v=c.localizer,x=(0,Le.getSlotAtX)(u,o.x,h,g.slots),m=g.getDateForSlot(x);t.context.draggable.onDropFromOutside({start:m,end:v.add(m,1,"day"),allDay:!1})}},t.handleDragOverFromOutside=function(o,u){var c=t.context.draggable.dragFromOutsideItem?t.context.draggable.dragFromOutsideItem():null;c&&t.handleMove(o,u,c)},t._selectable=function(){var o=t.ref.current.closest(".rbc-month-row, .rbc-allday-cell"),u=o.closest(".rbc-month-view, .rbc-time-view"),c=o.classList.contains("rbc-month-row"),g=t._selector=new Qe.default(function(){return u},{validContainers:(0,co.default)(c?[]:[".rbc-day-slot",".rbc-allday-cell"])});g.on("beforeSelect",function(h){var v=t.props.isAllDay,x=t.context.draggable.dragAndDropAction.action,m=(0,Qe.getBoundsForNode)(o),N=(0,Le.pointInBox)(m,h);return x==="move"||x==="resize"&&(!v||N)}),g.on("selecting",function(h){var v=(0,Qe.getBoundsForNode)(o),x=t.context.draggable.dragAndDropAction;x.action==="move"&&t.handleMove(h,v),x.action==="resize"&&t.handleResize(h,v)}),g.on("selectStart",function(){return t.context.draggable.onStart()}),g.on("select",function(h){var v=(0,Qe.getBoundsForNode)(o);t.state.segment&&((0,Le.pointInBox)(v,h)?t.handleInteractionEnd():t.reset())}),g.on("dropFromOutside",function(h){if(t.context.draggable.onDropFromOutside){var v=(0,Qe.getBoundsForNode)(o);(0,Le.pointInBox)(v,h)&&t.handleDropFromOutside(h,v)}}),g.on("dragOverFromOutside",function(h){if(t.context.draggable.dragFromOutsideItem){var v=(0,Qe.getBoundsForNode)(o);t.handleDragOverFromOutside(h,v)}}),g.on("click",function(){return t.context.draggable.onEnd(null)}),g.on("reset",function(){t.reset(),t.context.draggable.onEnd(null)})},t.handleInteractionEnd=function(){var o=t.props,u=o.resourceId,c=o.isAllDay,g=t.state.segment.event;t.reset(),t.context.draggable.onEnd({start:g.start,end:g.end,resourceId:u,isAllDay:c})},t._teardownSelectable=function(){t._selector&&(t._selector.teardown(),t._selector=null)},t.state={},t.ref=Lt.default.createRef(),t}return(0,fo.default)(s,e),(0,mo.default)(s,[{key:"componentDidMount",value:function(){this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"reset",value:function(){this.state.segment&&this.setState({segment:null})}},{key:"update",value:function(n,a,i){var o=(0,ho.eventSegments)((0,Vt.default)((0,Vt.default)({},n),{},{end:i,start:a,__isPreview:!0}),this.props.slotMetrics.range,Tt.dragAccessors,this.props.localizer),u=this.state.segment;u&&o.span===u.span&&o.left===u.left&&o.right===u.right||this.setState({segment:o})}},{key:"handleResize",value:function(n,a){var i=this.context.draggable.dragAndDropAction,o=i.event,u=i.direction,c=this.props,g=c.accessors,h=c.slotMetrics,v=c.rtl,x=c.localizer,m=(0,Tt.eventTimes)(o,g,x),N=m.start,_=m.end,V=(0,Le.getSlotAtX)(a,n.x,v,h.slots),T=h.getDateForSlot(V),C=(0,Le.pointInBox)(a,n);if(u==="RIGHT"){if(C){if(h.last<N)return this.reset();x.eq(x.startOf(_,"day"),_)?_=x.add(T,1,"day"):_=T}else if(x.inRange(N,h.first,h.last)||a.bottom<n.y&&+h.first>+N)_=x.add(h.last,1,"milliseconds");else{this.setState({segment:null});return}var M=g.end(o);_=x.merge(_,M),x.lt(_,N)&&(_=M)}else if(u==="LEFT"){if(C){if(h.first>_)return this.reset();N=T}else if(x.inRange(_,h.first,h.last)||a.top>n.y&&x.lt(h.last,_))N=x.add(h.first,-1,"milliseconds");else{this.reset();return}var R=g.start(o);N=x.merge(N,R),x.gt(N,_)&&(N=R)}this.update(o,N,_)}},{key:"render",value:function(){var n=this.props,a=n.children,i=n.accessors,o=this.state.segment;return Lt.default.createElement("div",{ref:this.ref,className:"rbc-addons-dnd-row-body"},a,o&&Lt.default.createElement(go.default,Object.assign({},this.props,{selected:null,className:"rbc-addons-dnd-drag-row",segments:[o],accessors:(0,Vt.default)((0,Vt.default)({},i),Tt.dragAccessors)})))}}])}(Lt.default.Component);Vs.contextType=vo.DnDContext;Wt.default=Vs;var xe=Q.default;Object.defineProperty(Nr,"__esModule",{value:!0});Nr.default=jo;var Pt=xe(Te),xo=xe(kr),yo=xe(ze),bo=xe(Ye),Do=xe(rt),No=xe(nt),lr=xe(k),ko=xe(vt),_o=xe(Ft),Eo=xe(It),So=xe(Wt),Co=Se,Ao=qe,wo=["selectable","elementProps","components"];function jo(e){var s=function(t){function n(){var a;(0,yo.default)(this,n);for(var i=arguments.length,o=new Array(i),u=0;u<i;u++)o[u]=arguments[u];return a=(0,Do.default)(this,n,[].concat(o)),a.defaultOnDragOver=function(c){c.preventDefault()},a.handleBeginAction=function(c,g,h){a.setState({event:c,action:g,direction:h});var v=a.props.onDragStart;v&&v({event:c,action:g,direction:h})},a.handleInteractionStart=function(){a.state.interacting===!1&&a.setState({interacting:!0})},a.handleInteractionEnd=function(c){var g=a.state,h=g.action,v=g.event;if(h&&(a.setState({action:null,event:null,interacting:!1,direction:null}),c!=null)){c.event=v;var x=a.props,m=x.onEventDrop,N=x.onEventResize;h==="move"&&m&&m(c),h==="resize"&&N&&N(c)}},a.state={interacting:!1},a}return(0,No.default)(n,t),(0,bo.default)(n,[{key:"getDnDContextValue",value:function(){return{draggable:{onStart:this.handleInteractionStart,onEnd:this.handleInteractionEnd,onBeginAction:this.handleBeginAction,onDropFromOutside:this.props.onDropFromOutside,dragFromOutsideItem:this.props.dragFromOutsideItem,draggableAccessor:this.props.draggableAccessor,resizableAccessor:this.props.resizableAccessor,dragAndDropAction:this.state}}}},{key:"render",value:function(){var i=this.props,o=i.selectable,u=i.elementProps,c=i.components,g=(0,xo.default)(i,wo),h=this.state.interacting;delete g.onEventDrop,delete g.onEventResize,g.selectable=o?"ignoreEvents":!1,this.components=(0,Co.mergeComponents)(c,{eventWrapper:_o.default,eventContainerWrapper:Eo.default,weekWrapper:So.default});var v=this.props.onDropFromOutside?(0,Pt.default)((0,Pt.default)({},u),{},{onDragOver:this.props.onDragOver||this.defaultOnDragOver}):u;g.className=(0,ko.default)(g.className,"rbc-addons-dnd",!!h&&"rbc-addons-dnd-is-dragging");var x=this.getDnDContextValue();return lr.default.createElement(Ao.DnDContext.Provider,{value:x},lr.default.createElement(e,Object.assign({},g,{elementProps:v,components:this.components})))}}])}(lr.default.Component);return s.defaultProps=(0,Pt.default)((0,Pt.default)({},e.defaultProps),{},{draggableAccessor:null,resizableAccessor:null,resizable:!0}),s}var Vo=Q.default;Object.defineProperty(Dr,"__esModule",{value:!0});var Ls=Dr.default=void 0,Lo=Vo(Nr);Ls=Dr.default=Lo.default;const To=Ls(xa),Po=ka;w.updateLocale("ko",{months:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],monthsShort:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],weekdays:["일요일","월요일","화요일","수요일","목요일","금요일","토요일"],weekdaysShort:["일","월","화","수","목","금","토"],weekdaysMin:["일","월","화","수","목","금","토"],longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY년 MMMM D일",LLL:"YYYY년 MMMM D일 A h:mm",LLLL:"YYYY년 MMMM D일 dddd A h:mm"},meridiem:e=>e<12?"오전":"오후",week:{dow:0,doy:1}});w.locale("ko");const Ho=va(w),un=["#F3F4F6","#F3F4F6","#F3F4F6","#F3F4F6","#F3F4F6","#F3F4F6","#F3F4F6","#F3F4F6","#F3F4F6","#F3F4F6","#F3F4F6","#F3F4F6","#F3F4F6","#F3F4F6","#F3F4F6","#F3F4F6"],Bo=F.memo(({onSave:e,onCancel:s})=>{const[t,n]=k.useState(""),a=()=>{const c=window.innerWidth,g=window.innerHeight;return c>=768&&c<1024||c>=1024&&g>c},[i,o]=k.useState(a);k.useEffect(()=>{const c=()=>o(a());return window.addEventListener("resize",c),()=>window.removeEventListener("resize",c)},[]);const u=i?"16px":"18px";return l.jsxDEV("div",{className:"w-full",onClick:c=>c.stopPropagation(),style:{padding:i?"2px 3px":"6px 0",minHeight:i?"28px":"32px"},children:l.jsxDEV("input",{type:"text",value:t,onChange:c=>n(c.target.value),onBlur:()=>{t.trim()?e(t.trim()):s()},onKeyDown:c=>{c.stopPropagation(),c.key==="Enter"?t.trim()?e(t.trim()):s():c.key==="Escape"&&s()},onClick:c=>c.stopPropagation(),placeholder:"",className:"w-full bg-transparent border-none outline-none focus:outline-none focus:ring-0",autoFocus:!0,style:{fontSize:u,fontWeight:500,color:"#374151",padding:0,margin:0,lineHeight:"1.3",caretColor:"#374151"}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:130,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:125,columnNumber:5},void 0)}),mn=e=>e,ft={"2025-01-01":"신정","2025-01-28":"설날 연휴","2025-01-29":"설날","2025-01-30":"설날 연휴","2025-03-01":"삼일절","2025-03-03":"대체공휴일","2025-05-05":"어린이날","2025-05-06":"부처님오신날","2025-06-06":"현충일","2025-08-15":"광복절","2025-10-03":"개천절","2025-10-05":"추석 연휴","2025-10-06":"추석","2025-10-07":"추석 연휴","2025-10-08":"대체공휴일","2025-10-09":"한글날","2025-12-25":"성탄절"},Mo=F.memo(({date:e,label:s,filteredEvents:t,selectedDate:n,user:a,isMobileView:i})=>{const o=w(e).format("YYYY-MM-DD"),u=ft[o],c=!!ft[o],g=n&&w(e).isSame(n,"day"),h=t.filter(K=>w(K.start).isSame(e,"day")),v=h.length,x=h.filter(K=>K.assignedTo&&K.assignedTo.includes((a==null?void 0:a.name)||"")).length,m=v-x,N=s.replace(/^0/,""),_=e.getDay()===0,V=e.getDay()===6;let T="#000000";c||_?T="#dc2626":V&&(T="#3b82f6");const C=w(e).isSame(w(),"day");let M="#d1d5db";c||_?M="#fecaca":V&&(M="#bfdbfe");const R=N.length===2,z=i?{backgroundColor:"transparent",color:T,borderRadius:"50%",width:"30px",height:"30px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",fontWeight:C?"700":"400",border:g?"1px solid #1f2937":"1px solid transparent",boxSizing:"border-box",gap:"1px"}:{color:T,fontWeight:C?"700":"400",paddingLeft:R?"0px":"4px",...C&&{backgroundColor:M,borderRadius:"50%",width:"21px",height:"21px",display:"inline-flex",alignItems:"center",justifyContent:"center",paddingLeft:"0px"}};return l.jsxDEV("div",{className:i?"flex flex-col items-center":"flex items-center gap-2",style:{overflow:"visible",position:"relative",zIndex:10},children:i?l.jsxDEV("span",{style:z,children:[l.jsxDEV("span",{style:{fontSize:"13px",lineHeight:"1"},children:N},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:304,columnNumber:11},void 0),v>0&&l.jsxDEV("div",{className:"flex gap-0.5",style:{minHeight:"4px",marginTop:"1px"},children:[Array.from({length:x}).map((K,te)=>l.jsxDEV("div",{style:{width:"4px",height:"4px",borderRadius:"50%",backgroundColor:"#66BB6A",flexShrink:0}},`user-${te}`,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:310,columnNumber:17},void 0)),Array.from({length:m}).map((K,te)=>l.jsxDEV("div",{style:{width:"4px",height:"4px",borderRadius:"50%",backgroundColor:"#757575",flexShrink:0}},`other-${te}`,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:323,columnNumber:17},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:307,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:303,columnNumber:9},void 0):l.jsxDEV(l.Fragment,{children:[l.jsxDEV("span",{style:z,children:N},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:340,columnNumber:11},void 0),u&&l.jsxDEV("span",{className:"text-xs font-medium",style:{color:"#ef4444"},children:u},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:342,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:339,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:297,columnNumber:5},void 0)}),Uo=F.memo(({event:e,user:s,filterProject:t,isEditing:n,editTitle:a,onEditTitleChange:i,onEditSave:o,onEditDelete:u,onEditCancel:c,onHoverDelete:g,onDeleteAction:h})=>{const v=t&&t!=="all",x=e.assignedTo||[],[m,N]=k.useState(!1),_=F.useRef(null),V=()=>{const S=window.innerWidth,pe=window.innerHeight;return S>=768&&S<1024||S>=1024&&pe>S},[T,C]=k.useState(V),[M,R]=k.useState(!1);F.useRef(null),F.useRef(!1);const z=s!=null&&s.name?s.name.slice(-2):null,K=z&&["재천","민기"].includes(z),te=z&&["신애","재성","재현"].includes(z),se=(s==null?void 0:s.name)&&(x.includes(s.name)||x.includes("HV LAB")||x.includes("디자인팀")&&te||x.includes("현장팀")&&K);k.useEffect(()=>{const S=()=>{C(V())};return window.addEventListener("resize",S),()=>window.removeEventListener("resize",S)},[]);const me=S=>{i&&i(S)},ie=()=>{a!=null&&a.trim()&&o&&o(),c&&c()},Y=S=>{S.stopPropagation(),(S.key==="Enter"||S.key==="Escape")&&S.currentTarget.blur()};return T?l.jsxDEV("div",{className:"w-full relative block",onMouseEnter:()=>{R(!0),N(!0)},onMouseLeave:()=>{R(!1),N(!1)},style:{padding:v?"2px 3px":"1px 3px",minHeight:v?"28px":"30px",display:"flex",flexDirection:"column",justifyContent:"flex-start"},children:[m&&v&&g&&!e.isASVisit&&!e.isExpectedPayment&&l.jsxDEV("div",{className:"absolute top-0 right-0 z-20",style:{padding:"4px"},children:l.jsxDEV("button",{ref:_,onMouseDown:S=>{S.stopPropagation(),S.preventDefault(),h&&h(),g()},className:"p-1 text-gray-500 hover:text-red-500",style:{fontSize:"14px",lineHeight:1},title:"삭제 (Ctrl+Z로 복원)",children:"✕"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:463,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:462,columnNumber:11},void 0),l.jsxDEV("div",{className:"flex items-center justify-between w-full",style:{fontSize:v?"13px":"10px",opacity:.8,marginBottom:"1px",lineHeight:"1.2"},children:[!v&&!e.isASVisit&&e.projectName?l.jsxDEV("span",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:"60%",flexShrink:0},children:["[",mn(e.projectName),"]"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:484,columnNumber:13},void 0):l.jsxDEV("span",{},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:494,columnNumber:13},void 0),!v&&x.length>0&&l.jsxDEV("span",{style:{flexShrink:0,fontSize:"10px",marginLeft:"auto"},children:x.map((S,pe)=>{const oe=S==="HV LAB"||S==="현장팀"&&K||S==="디자인팀"&&te||S===(s==null?void 0:s.name);return l.jsxDEV(F.Fragment,{children:[l.jsxDEV("span",{style:{fontWeight:oe?"bold":"normal"},children:S},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:505,columnNumber:21},void 0),pe<x.length-1&&"·"]},S,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:504,columnNumber:19},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:497,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:482,columnNumber:9},void 0),n?l.jsxDEV("input",{type:"text",value:a||"",onChange:S=>me(S.target.value),onBlur:ie,onKeyDown:Y,onClick:S=>S.stopPropagation(),autoFocus:!0,className:"w-full bg-transparent border-none outline-none",style:{fontWeight:500,fontSize:v?"16px":"11px",lineHeight:"1.3",color:"inherit",padding:0,margin:0}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:518,columnNumber:11},void 0):l.jsxDEV("div",{style:{fontWeight:500,fontSize:v?"16px":"11px",lineHeight:"1.3",overflow:"hidden",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",wordBreak:"keep-all",textOverflow:"ellipsis",textDecoration:se?"underline":"none",textDecorationColor:se?"#e57373":"transparent",textDecorationThickness:"2px",textUnderlineOffset:"2px"},title:e.title,children:e.title},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:537,columnNumber:11},void 0),M&&l.jsxDEV("div",{className:"absolute z-50 bg-gray-900 text-white text-xs rounded p-2 shadow-lg",style:{bottom:"100%",left:"0",marginBottom:"4px",minWidth:"200px",maxWidth:"300px"},children:[l.jsxDEV("div",{className:"font-semibold mb-1",children:e.title},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:571,columnNumber:13},void 0),e.projectName&&l.jsxDEV("div",{className:"opacity-90",children:["프로젝트: ",e.projectName]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:573,columnNumber:15},void 0),x.length>0&&l.jsxDEV("div",{className:"opacity-90 mt-1",children:["담당자: ",x.join(", ")]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:576,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:561,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:448,columnNumber:7},void 0):l.jsxDEV("div",{className:"flex items-center justify-between w-full gap-1.5 overflow-hidden relative",onMouseEnter:()=>N(!0),onMouseLeave:()=>N(!1),style:{minHeight:v?"32px":"18px",padding:v?"6px 0":"0"},children:[l.jsxDEV("div",{className:"flex items-center gap-1.5 overflow-hidden flex-1",children:[!v&&!e.isASVisit&&e.projectName&&l.jsxDEV("span",{className:"text-xs opacity-70 flex-shrink-0",children:["[",mn(e.projectName),"]"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:598,columnNumber:11},void 0),n?l.jsxDEV("input",{type:"text",value:a||"",onChange:S=>me(S.target.value),onBlur:ie,onKeyDown:Y,onClick:S=>S.stopPropagation(),autoFocus:!0,className:"font-medium bg-transparent border-none outline-none flex-1",style:{fontSize:v?"18px":"12px",color:"inherit",padding:0,margin:0,minWidth:0}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:603,columnNumber:11},void 0):l.jsxDEV("span",{className:"font-medium truncate",style:{fontSize:v?"18px":"12px",textDecoration:se?"underline":"none",textDecorationColor:se?"#e57373":"transparent",textDecorationThickness:"2px",textUnderlineOffset:"2px"},children:e.title},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:621,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:595,columnNumber:7},void 0),!v&&x.length>0&&l.jsxDEV("span",{className:"opacity-80 flex-shrink-0 ml-auto",style:{fontSize:"11px"},children:x.map((S,pe)=>{const oe=S==="HV LAB"||S==="현장팀"&&K||S==="디자인팀"&&te||S===(s==null?void 0:s.name);return l.jsxDEV(F.Fragment,{children:[l.jsxDEV("span",{className:oe?"font-bold":"",children:S},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:648,columnNumber:17},void 0),pe<x.length-1&&"·"]},S,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:647,columnNumber:15},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:637,columnNumber:9},void 0),m&&v&&g&&!e.isASVisit&&!e.isExpectedPayment&&l.jsxDEV("div",{className:"absolute top-1/2 -translate-y-1/2 right-0 z-20",style:{padding:"2px"},children:l.jsxDEV("button",{ref:_,onMouseDown:S=>{S.stopPropagation(),S.preventDefault(),h&&h(),g()},className:"p-1 text-gray-500 hover:text-red-500",style:{fontSize:"14px",lineHeight:1},title:"삭제 (Ctrl+Z로 복원)",children:"✕"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:660,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:659,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:586,columnNumber:5},void 0)}),el=()=>{const{schedules:e,setSchedules:s,addSchedule:t,deleteSchedule:n,loadSchedulesFromAPI:a,addScheduleToAPI:i,updateScheduleInAPI:o,deleteScheduleFromAPI:u,asRequests:c,updateASRequestInAPI:g,loadASRequestsFromAPI:h,constructionPayments:v,updateConstructionPaymentInAPI:x}=ba(),{user:m}=ia(),N=Da(),[_,V]=k.useState(!1);k.useEffect(()=>{const r=()=>{const d=window.innerHeight>window.innerWidth&&window.innerWidth>=1024;V(d)};return r(),window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[]);const T=r=>!r||r==="-"?"":_?r:Na(r),C=m!=null&&m.name?m.name.slice(-2):null;console.log("👤 Current user:",m==null?void 0:m.name,"Short name:",C),k.useEffect(()=>{a().catch(r=>{console.error("Failed to load schedules:",r),L.error("일정을 불러오는데 실패했습니다")})},[a]);const[M,R]=k.useState([]);k.useEffect(()=>{const r=async d=>{if((d.ctrlKey||d.metaKey)&&d.key==="z"){const f=d.target;if(f.tagName==="INPUT"||f.tagName==="TEXTAREA"||f.isContentEditable)return;if(M.length>0){d.preventDefault();const p=M[M.length-1];try{const y=p.type==="as_visit"||p.type==="expected_payment"?"other":p.type;await i({id:"",title:p.originalTitle||p.title,start:p.start,end:p.end,type:y,project:p.originalProjectName||p.projectName,attendees:p.assignedTo||[],time:p.time,description:p.description}),R(b=>b.slice(0,-1)),a(),L.success("일정이 복원되었습니다")}catch(y){console.error("일정 복원 실패:",y),L.error("일정 복원에 실패했습니다")}}}};return window.addEventListener("keydown",r),()=>window.removeEventListener("keydown",r)},[M,i,a]);const[z,K]=k.useState([]),[te,se]=k.useState(!1),[me,ie]=k.useState(""),[Y,S]=k.useState(null),[pe,oe]=k.useState(""),[xt,it]=k.useState(!1),[le,wr]=k.useState(null),[yt,Kt]=k.useState(null),Oe=k.useCallback(async()=>{it(!0);try{const r=await fetch("/api/processes");if(r.ok){const d=await r.json();K(d)}else console.error("공정 목록 로딩 실패"),L.error("공정 목록을 불러올 수 없습니다")}catch(r){console.error("공정 목록 로딩 오류:",r),L.error("서버 연결에 실패했습니다")}finally{it(!1)}},[]);k.useEffect(()=>{Oe()},[Oe]);const jr=k.useMemo(()=>z.length>0?z.map(r=>r.name):Po,[z]),Vr=async()=>{if(me.trim())try{const r=await fetch("/api/processes",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:me.trim()})});if(r.ok)ie(""),Oe(),L.success("공정이 추가되었습니다");else{const d=await r.json();L.error(d.error||"공정 추가 실패")}}catch(r){console.error("공정 추가 오류:",r),L.error("공정 추가 실패")}},Lr=async()=>{if(!(!Y||!pe.trim()))try{const r=await fetch(`/api/processes/${Y.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:pe.trim()})});if(r.ok)S(null),oe(""),Oe(),L.success("공정이 수정되었습니다");else{const d=await r.json();L.error(d.error||"공정 수정 실패")}}catch(r){console.error("공정 수정 오류:",r),L.error("공정 수정 실패")}},Ts=async r=>{if(confirm("정말 이 공정을 삭제하시겠습니까?"))try{const d=await fetch(`/api/processes/${r}`,{method:"DELETE"});if(d.ok)Oe(),L.success("공정이 삭제되었습니다");else{const f=await d.json();L.error(f.error||"공정 삭제 실패")}}catch(d){console.error("공정 삭제 오류:",d),L.error("공정 삭제 실패")}},Ps=r=>{wr(r)},Hs=(r,d)=>{r.preventDefault(),le!==null&&le!==d&&Kt(d)},Bs=async()=>{if(le!==null&&yt!==null&&le!==yt){const r=[...z],[d]=r.splice(le,1);r.splice(yt,0,d),K(r);try{(await fetch("/api/processes/reorder/bulk",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({orders:r.map(p=>({id:p.id}))})})).ok||(Oe(),L.error("순서 변경 실패"))}catch(f){console.error("순서 변경 오류:",f),Oe(),L.error("순서 변경 실패")}}wr(null),Kt(null)},Ms=r=>{const d=N.findIndex(f=>f.name===r);return d>=0?un[d%un.length]:"#e8e2ea"},Tr=N.map(r=>r.name),Us=e.filter(r=>!r.asRequestId).filter(r=>(m==null?void 0:m.name)==="안팀"?r.project==="비공개"||Tr.includes(r.project):!0).map(r=>{const d=N.find(D=>D.name===r.project);let f=r.project==="비공개"?"[개인일정]":r.project;if(d&&r.project!=="비공개"){const D=d.name.length>2?d.name.substring(0,2):d.name,A=(d.location||"").match(/([A-Za-z]?\d+)호/),X=A?A[1]:"";f=X?`${D}_${X}`:D}const p=r.time,y=p&&p!=="-"?` - ${T(p)}`:"",b=r.attendees||[];return{id:r.id,title:r.title+y,originalTitle:r.title,start:r.start,end:r.end,projectId:(d==null?void 0:d.id)||"",projectName:f||"",originalProjectName:r.project||"",type:r.type||"other",phase:"",assignedTo:b,priority:"medium",allDay:!p||p==="-",color:Ms(r.project||""),isASVisit:!1,time:p,description:r.description}}),Os=c.filter(r=>r.scheduledVisitDate).filter(r=>(m==null?void 0:m.name)==="안팀"?Tr.includes(r.project):!0).map(r=>{const d=r.scheduledVisitTime,f=d&&d!=="-"?` - ${T(d)}`:"",p=N.find(D=>D.name===r.project);let y=r.project;if(p){const D=p.name.length>2?p.name.substring(0,2):p.name,A=(p.location||"").match(/([A-Za-z]?\d+)호/),X=A?A[1]:"";y=X?`${D}_${X}`:D}const b=`[AS] ${y}`;return{id:`as-${r.id}`,title:b+f,originalTitle:b,start:r.scheduledVisitDate,end:r.scheduledVisitDate,projectId:(p==null?void 0:p.id)||"",projectName:y,originalProjectName:r.project,type:"as_visit",phase:"",assignedTo:r.assignedTo?Array.isArray(r.assignedTo)?r.assignedTo:r.assignedTo.split(",").map(D=>D.trim()):[],priority:"high",allDay:!d||d==="-",color:"#FEF3C7",isASVisit:!0,time:d,description:r.description}}),Fs=(m==null?void 0:m.role)==="manager"?v.flatMap(r=>{var b,D,j,A,X,O,P,q;const d=N.find(re=>re.name===r.project);if(!d){const re=[],H=r.totalAmount+(r.vatType==="percentage"?r.totalAmount*(r.vatPercentage/100):r.vatAmount),G=new Set(r.payments.flatMap(ee=>{var U;return((U=ee.type)==null?void 0:U.split(", ").map(I=>I.trim()))||[]}));return!G.has("계약금")&&((b=r.expectedPaymentDates)!=null&&b.contract)&&re.push({id:`payment-${r.id}-contract`,title:"[수금일정] 계약금",originalTitle:"[수금일정] 계약금",start:new Date(r.expectedPaymentDates.contract),end:new Date(r.expectedPaymentDates.contract),projectId:"",projectName:r.project,type:"expected_payment",phase:"",assignedTo:[],priority:"medium",allDay:!0,color:"#DBEAFE",isExpectedPayment:!0,description:`계약금 (10%): ${Math.round(H*.1).toLocaleString()}원`}),!G.has("착수금")&&((D=r.expectedPaymentDates)!=null&&D.start)&&re.push({id:`payment-${r.id}-start`,title:"[수금일정] 착수금",originalTitle:"[수금일정] 착수금",start:new Date(r.expectedPaymentDates.start),end:new Date(r.expectedPaymentDates.start),projectId:"",projectName:r.project,type:"expected_payment",phase:"",assignedTo:[],priority:"medium",allDay:!0,color:"#DBEAFE",isExpectedPayment:!0,description:`착수금 (40%): ${Math.round(H*.4).toLocaleString()}원`}),!G.has("중도금")&&((j=r.expectedPaymentDates)!=null&&j.middle)&&re.push({id:`payment-${r.id}-middle`,title:"[수금일정] 중도금",originalTitle:"[수금일정] 중도금",start:new Date(r.expectedPaymentDates.middle),end:new Date(r.expectedPaymentDates.middle),projectId:"",projectName:r.project,type:"expected_payment",phase:"",assignedTo:[],priority:"medium",allDay:!0,color:"#DBEAFE",isExpectedPayment:!0,description:`중도금 (40%): ${Math.round(H*.4).toLocaleString()}원`}),!G.has("잔금")&&((A=r.expectedPaymentDates)!=null&&A.final)&&re.push({id:`payment-${r.id}-final`,title:"[수금일정] 잔금",originalTitle:"[수금일정] 잔금",start:new Date(r.expectedPaymentDates.final),end:new Date(r.expectedPaymentDates.final),projectId:"",projectName:r.project,type:"expected_payment",phase:"",assignedTo:[],priority:"medium",allDay:!0,color:"#DBEAFE",isExpectedPayment:!0,description:`잔금 (10%): ${Math.round(H*.1).toLocaleString()}원`}),re}if(!d.startDate||!d.endDate)return[];const f=r.totalAmount+(r.vatType==="percentage"?r.totalAmount*(r.vatPercentage/100):r.vatAmount),p=new Set(r.payments.flatMap(re=>{var H;return((H=re.type)==null?void 0:H.split(", ").map(G=>G.trim()))||[]})),y=[];return!p.has("계약금")&&((X=r.expectedPaymentDates)!=null&&X.contract)&&y.push({id:`payment-${r.id}-contract`,title:"[수금일정] 계약금",originalTitle:"[수금일정] 계약금",start:new Date(r.expectedPaymentDates.contract),end:new Date(r.expectedPaymentDates.contract),projectId:d.id||"",projectName:r.project,type:"expected_payment",phase:"",assignedTo:[],priority:"medium",allDay:!0,color:"#DBEAFE",isExpectedPayment:!0,description:`계약금 (10%): ${Math.round(f*.1).toLocaleString()}원`}),!p.has("착수금")&&((O=r.expectedPaymentDates)!=null&&O.start)&&y.push({id:`payment-${r.id}-start`,title:"[수금일정] 착수금",originalTitle:"[수금일정] 착수금",start:new Date(r.expectedPaymentDates.start),end:new Date(r.expectedPaymentDates.start),projectId:d.id||"",projectName:r.project,type:"expected_payment",phase:"",assignedTo:[],priority:"medium",allDay:!0,color:"#DBEAFE",isExpectedPayment:!0,description:`착수금 (40%): ${Math.round(f*.4).toLocaleString()}원`}),!p.has("중도금")&&((P=r.expectedPaymentDates)!=null&&P.middle)&&y.push({id:`payment-${r.id}-middle`,title:"[수금일정] 중도금",originalTitle:"[수금일정] 중도금",start:new Date(r.expectedPaymentDates.middle),end:new Date(r.expectedPaymentDates.middle),projectId:d.id||"",projectName:r.project,type:"expected_payment",phase:"",assignedTo:[],priority:"medium",allDay:!0,color:"#DBEAFE",isExpectedPayment:!0,description:`중도금 (40%): ${Math.round(f*.4).toLocaleString()}원`}),!p.has("잔금")&&((q=r.expectedPaymentDates)!=null&&q.final)&&y.push({id:`payment-${r.id}-final`,title:"[수금일정] 잔금",originalTitle:"[수금일정] 잔금",start:new Date(r.expectedPaymentDates.final),end:new Date(r.expectedPaymentDates.final),projectId:d.id||"",projectName:r.project,type:"expected_payment",phase:"",assignedTo:[],priority:"medium",allDay:!0,color:"#DBEAFE",isExpectedPayment:!0,description:`잔금 (10%): ${Math.round(f*.1).toLocaleString()}원`}),y}):[],Is=[...Us,...Os,...Fs],Xe=k.useCallback(r=>{if(!(m!=null&&m.name))return!1;const d=r.assignedTo||[],f=m.name.slice(-2),p=["재천","민기"].includes(f),y=["신애","재성","재현"].includes(f);return d.includes(m.name)||d.includes("HV LAB")||d.includes("디자인팀")&&y||d.includes("현장팀")&&p},[m==null?void 0:m.name]),$s=(r,d)=>{if(!d)return[...r].sort((y,b)=>{const D=Xe(y),j=Xe(b);return D&&!j?-1:!D&&j?1:y.start.getTime()-b.start.getTime()});const f=new Map;r.forEach(y=>{const b=y.time&&y.time!=="-"&&y.time.trim()!=="";if(y.isASVisit||y.isExpectedPayment||b){const D=`single_${y.id}`;f.set(D,[y])}else{const D=y.start.toISOString().split("T")[0],j=[...y.assignedTo].sort().join(","),A=`${D}_${y.projectName}_${j}`;f.has(A)||f.set(A,[]),f.get(A).push(y)}});const p=[];return f.forEach(y=>{if(y.length===1)p.push(y[0]);else{const b=y[0],D=y.map(P=>P.originalTitle||P.title),j=[...new Set(D)],A=y.map(P=>{const q=P.originalTitle||P.title;return q.startsWith(b.projectName+" - ")?q.substring(b.projectName.length+3):q}),X=[...new Set(A)],O={...b,id:y[0].id,title:X.join(", "),originalTitle:j.join(", "),description:y.map(P=>P.description||P.originalTitle||P.title).join(`
`),assignedTo:[...new Set(y.flatMap(P=>P.assignedTo))],mergedEventIds:y.map(P=>P.id)};p.push(O)}}),p.sort((y,b)=>{const D=Xe(y),j=Xe(b);return D&&!j?-1:!D&&j?1:y.start.getTime()-b.start.getTime()})},[Pr,Rs]=k.useState("month"),[de,Xt]=k.useState(new Date),[Ws,Fe]=k.useState(!1),[W,bt]=k.useState(null),[zs,Dt]=k.useState(null),Gt=`schedule_filterProject_${(m==null?void 0:m.id)||"guest"}`,[E,Hr]=k.useState(()=>{const r=localStorage.getItem(Gt);return r||((m==null?void 0:m.name)==="안팀"&&N.length>0?N[0].name:"all")});k.useEffect(()=>{localStorage.setItem(Gt,E)},[E,Gt]),k.useCallback(()=>{document.body.classList.add("printing-schedule");const r=E==="all"?"전체 프로젝트":E,d=w(de).format("YYYY년 MM월"),f=document.title;document.title=`${r} - ${d} 일정표`,setTimeout(()=>{window.print(),document.body.classList.remove("printing-schedule"),document.title=f},100)},[E,de]);const Zt=$s(Is,E==="all"),[B,ot]=k.useState(window.innerWidth<768?new Date:null),[Ie,Jt]=k.useState(null),lt=F.useRef(null),Nt=F.useRef(!1),[Ge,kt]=k.useState(null),Qt=F.useRef(!1),_t=F.useRef(!1);k.useEffect(()=>{const r=p=>{p.key==="Control"&&(_t.current=!0)},d=p=>{p.key==="Control"&&(_t.current=!1)},f=()=>{_t.current=!1};return window.addEventListener("keydown",r),window.addEventListener("keyup",d),window.addEventListener("blur",f),()=>{window.removeEventListener("keydown",r),window.removeEventListener("keyup",d),window.removeEventListener("blur",f)}},[]),k.useEffect(()=>{if(!Ie)return;let r=null;const d=b=>{b.preventDefault(),b.dataTransfer&&(b.dataTransfer.dropEffect="copy")},f=b=>{b.preventDefault(),b.dataTransfer&&(b.dataTransfer.dropEffect="copy");const j=b.target.closest(".rbc-day-bg");r&&r!==j&&(r.style.backgroundColor=""),j&&(j.style.backgroundColor="rgba(59, 130, 246, 0.15)",r=j)},p=()=>{r&&(r.style.backgroundColor="",r=null)},y=b=>{b.preventDefault(),r&&(r.style.backgroundColor="",r=null)};return document.addEventListener("dragenter",d),document.addEventListener("dragover",f),document.addEventListener("dragend",p),document.addEventListener("drop",y),()=>{document.removeEventListener("dragenter",d),document.removeEventListener("dragover",f),document.removeEventListener("dragend",p),document.removeEventListener("drop",y),r&&(r.style.backgroundColor="")}},[Ie]);const[Ae,$e]=k.useState(null),[ce,we]=k.useState(null),[dt,Ne]=k.useState(""),[Oo,Fo]=k.useState(!1),[Et,ct]=k.useState(null),[Br,ye]=k.useState(!1),[be,fe]=k.useState(""),[Ze,Mr]=k.useState(null),[Ur,Or]=k.useState({x:0,y:0}),[er,Ys]=k.useState({x:0,y:0}),[qs,tr]=k.useState(!1),Fr=8;k.useEffect(()=>{if(!Ze)return;const r=f=>{Or({x:f.clientX,y:f.clientY});const p=Math.abs(f.clientX-er.x),y=Math.abs(f.clientY-er.y);(p>Fr||y>Fr)&&tr(!0)},d=()=>{Mr(null),tr(!1)};return window.addEventListener("mousemove",r),window.addEventListener("mouseup",d),()=>{window.removeEventListener("mousemove",r),window.removeEventListener("mouseup",d)}},[Ze,er]);const rr=F.useRef(!1),Ks=k.useCallback(async({event:r,start:d,end:f})=>{if(r.isASVisit||r.isExpectedPayment){L.error("이 일정은 이동할 수 없습니다");return}const p=d instanceof Date?d:new Date(d),y=f instanceof Date?f:new Date(f);if(_t.current)try{const D=r.mergedEventIds||[r.id],j=e.filter(A=>D.includes(A.id));for(const A of j)await i({id:Date.now().toString()+Math.random().toString(36).substr(2,9),title:A.title,start:p,end:y,project:A.project,attendees:A.attendees||[],time:A.time,priority:A.priority||"medium"});L.success("일정이 복사되었습니다"),a()}catch(D){console.error("일정 복사 실패:",D),L.error("일정 복사 실패")}else{const D=r.mergedEventIds||[r.id],j=[...e];s(e.map(A=>D.includes(A.id)?{...A,start:p,end:y}:A));try{for(const A of D)await o(A,{start:p,end:y})}catch(A){s(j),console.error("일정 이동 실패:",A),L.error("일정 이동 실패")}}},[e,s,o,i,a]),Xs=k.useCallback(({event:r,action:d})=>{var p;if(r.isASVisit||r.isExpectedPayment||r.id==="__inline_add__")return;const f=document.querySelectorAll(".rbc-event");for(const y of f)if((p=y.textContent)!=null&&p.includes(r.originalTitle||r.title)){const b=y.getBoundingClientRect();Ys({x:b.left,y:b.top}),Or({x:b.left,y:b.top});break}tr(!1),Mr(r)},[]),nr=k.useCallback(async(r,d,f=!1)=>{if(console.log("[handleProcessDrop] Called:",{processName:r,dropDate:d,filterProject:E,isTapMode:f}),E==="all"){L.error("프로젝트를 먼저 선택해주세요");return}const p="temp_"+Date.now().toString()+Math.random().toString(36).substr(2,9),y={id:p,title:r,start:d,end:d,project:E,attendees:m!=null&&m.name?[m.name]:[],type:"construction"};t(y);try{await i(y),n(p)}catch(b){console.error("일정 추가 실패:",b),L.error("일정 추가에 실패했습니다"),n(p)}},[E,i,t,n,m]),Gs=k.useCallback(({start:r})=>{const d=Ie||lt.current;d&&E!=="all"&&(Nt.current=!0,Qt.current=!0,requestAnimationFrame(()=>{Qt.current=!1}),$e(null),we(null),Ne(""),nr(d,r),requestAnimationFrame(()=>{Jt(null),lt.current=null,Nt.current=!1}))},[Ie,E,nr]),Zs=k.useCallback(()=>{const r=Ie||lt.current;return r?{title:r}:null},[Ie]),Ir=k.useCallback(async r=>{if(!r.trim()||!Ae||E==="all"){$e(null);return}const d="temp_"+Date.now().toString()+Math.random().toString(36).substr(2,9),f={id:d,title:r.trim(),start:Ae,end:Ae,type:"construction",project:E,location:"",attendees:m!=null&&m.name?[m.name]:[],description:""};t(f),$e(null);try{await i(f),n(d)}catch(p){console.error("일정 추가 실패:",p),L.error("일정 추가에 실패했습니다"),n(d)}},[Ae,E,i,t,n,m]),$r=k.useCallback(()=>{$e(null)},[]),Rr=k.useCallback(async()=>{var r;if(!ce||!dt.trim()){we(null),Ne("");return}try{const d=((r=ce.mergedEventIds)==null?void 0:r[0])||ce.id;await o(d,{title:dt.trim()}),a()}catch(d){console.error("일정 수정 실패:",d),L.error("일정 수정에 실패했습니다")}we(null),Ne("")},[ce,dt,o,a]),sr=k.useCallback(async r=>{R(f=>[...f,r]);const d=r.mergedEventIds||[r.id];d.forEach(f=>n(f));try{await Promise.all(d.map(f=>u(f))),L.success("삭제됨 (Ctrl+Z로 복원)",{duration:2e3}),setTimeout(()=>{a()},1e3)}catch(f){console.error("일정 삭제 실패:",f),L.error("일정 삭제에 실패했습니다"),R(p=>p.slice(0,-1)),a()}we(null),Ne("")},[n,u,a]),Wr=E==="all"?Zt:Zt.filter(r=>(r.originalProjectName||r.projectName)===E),St=F.useMemo(()=>{const r=E!=="all",d=new Map;Wr.forEach(p=>{const y=w(p.start).format("YYYY-MM-DD");d.has(y)||d.set(y,[]),d.get(y).push(p)});const f=[];return d.forEach(p=>{if(r)[...p].sort((b,D)=>{const j=parseInt(b.id)||0,A=parseInt(D.id)||0;return j-A}).forEach((b,D)=>{const j=w(b.start).startOf("day").add(D,"milliseconds").toDate();f.push({...b,start:j,allDay:!1})});else{const y=[],b=[];p.forEach(D=>{Xe(D)?y.push(D):b.push(D)}),y.forEach((D,j)=>{const A=w(D.start).startOf("day").add(j,"milliseconds").toDate();f.push({...D,start:A,allDay:!1})}),b.forEach((D,j)=>{const A=w(D.start).startOf("day").add(1e3+j,"milliseconds").toDate();f.push({...D,start:A,allDay:!1})})}}),f.sort((p,y)=>p.start.getTime()-y.start.getTime())},[Wr,Xe,E]),ke=F.useMemo(()=>{if(Ae&&E!=="all"){const r=w(Ae).format("YYYY-MM-DD"),d=St.filter(b=>w(b.start).format("YYYY-MM-DD")===r),f=d.length>0?Math.max(...d.map(b=>b.start.getTime())):w(Ae).startOf("day").valueOf(),p=new Date(f+1),y={id:"__inline_add__",title:"",start:p,end:p,projectId:"",projectName:E,type:"other",phase:"",assignedTo:[],priority:"medium",allDay:!1};return[...St,y]}return St},[St,Ae,E]);k.useEffect(()=>{(m==null?void 0:m.name)==="안팀"&&N.length>0&&(E==="all"||!N.find(r=>r.name===E))&&Hr(N[0].name)},[N,m]),k.useEffect(()=>{const r=()=>{document.querySelectorAll(".rbc-show-more, .rbc-button-link").forEach(D=>{D.style.display="none",D.style.visibility="hidden",D.style.pointerEvents="none"}),document.querySelectorAll('.rbc-overlay, .rbc-overlay-header, .rbc-popup, [class*="rbc-overlay"]').forEach(D=>{D.style.display="none",D.style.visibility="hidden",D.style.opacity="0",D.style.pointerEvents="none",D.style.position="absolute",D.style.left="-9999px",D.style.top="-9999px",D.style.zIndex="-1"})};r();const d=new MutationObserver(r),f=document.querySelector(".rbc-calendar");f&&d.observe(f,{childList:!0,subtree:!0});const p=new MutationObserver(r);return p.observe(document.body,{childList:!0,subtree:!0}),()=>{d.disconnect(),p.disconnect()}},[Pr,de]);const[ae,Ct]=k.useState({date:null,projectId:"",title:""}),At=F.useRef(!1),wt=F.useRef(null),zr=r=>{if(rr.current){rr.current=!1;return}if(r.id==="__inline_add__")return;At.current=!0,wt.current&&clearTimeout(wt.current);const d=E!=="all",f=window.innerWidth<768;if(d&&!f&&!r.isASVisit&&!r.isExpectedPayment)$e(null),we(r),Ne(r.originalTitle||r.title);else{const p={...r,title:r.originalTitle||r.title};Dt(null),bt(p),Fe(!0)}wt.current=setTimeout(()=>{At.current=!1,wt.current=null},300)},Js=r=>{const d=window.innerWidth,f=d<768,p=d>=768&&d<1024,y=E==="all";if(Qt.current)return;if(f){if(r.start){ot(r.start);const D=document.querySelector(".md\\:hidden.mt-3.bg-white");D&&D.scrollIntoView({behavior:"smooth",block:"nearest"})}return}const b=r.action==="click"||r.action==="select";if(!(p&&!b)){if(y){At.current=!1,we(null),Ne(""),$e(null),Dt(r),bt(null),Fe(!0);return}if(!At.current){if(Ge){nr(Ge,r.start,!0);return}we(null),Ne(""),$e(r.start)}}},Yr=async()=>{if(!ae.projectId||!ae.title.trim()){alert("프로젝트와 제목을 입력하세요");return}const r=N.find(d=>d.id===ae.projectId);if(!(!r||!ae.date))try{await i({id:Date.now().toString(),title:ae.title,start:ae.date,end:ae.date,type:"other",project:r.name,location:"",attendees:[],description:""}),Ct({date:null,projectId:"",title:""}),ot(null)}catch(d){console.error("Failed to add schedule:",d),L.error("일정 추가에 실패했습니다")}},Qs=r=>{if(r.id==="__inline_add__")return{style:{backgroundColor:"#ffffff",borderRadius:"6px",color:"#1f2937",border:"1px solid #d1d5db",display:"block",fontSize:"0.8125rem",padding:"0",fontWeight:"400",boxShadow:"0 1px 2px rgba(0,0,0,0.05)",overflow:"visible"}};let d=r.color||"#E0E7FF",f="#1f2937";if(r.isASVisit)d="#E8F5E9",f="#1f2937";else{const p=r.assignedTo&&r.assignedTo.includes("HV LAB"),y=r.assignedTo&&r.assignedTo.includes("현장팀")&&C&&["재천","민기"].includes(C),b=r.assignedTo&&r.assignedTo.includes("디자인팀")&&C&&["신애","재성","재현"].includes(C);r.assignedTo&&r.assignedTo.includes((m==null?void 0:m.name)||"")||p||y||b?(d="#FEF3C7",f="#1f2937"):r.color||(d="#e8e2ea")}return{style:{backgroundColor:d,"--event-bg-color":d,borderRadius:"6px",color:f,border:"none",display:"block",fontSize:"0.8125rem",padding:"4px 8px",fontWeight:"500",boxShadow:"0 1px 2px rgba(0,0,0,0.05)",overflow:"hidden"}}},ea=F.useCallback(r=>{const d=w(r).format("YYYY-MM-DD"),f=!!ft[d],p=B&&w(r).isSame(B,"day"),y=window.innerWidth<768;let b="";p&&(b+="selected-date "),f&&(b+="holiday-date ");const D=y?{backgroundColor:"transparent",background:"transparent"}:{};return{className:b.trim(),style:D}},[B]),[ue,ta]=k.useState(window.innerWidth<768);k.useEffect(()=>{const r=()=>{ta(window.innerWidth<768)};return window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[]),k.useEffect(()=>{const r=()=>{const d=B||new Date;Dt({start:d,end:d}),bt(null),Fe(!0)};return window.addEventListener("headerAddButtonClick",r),()=>window.removeEventListener("headerAddButtonClick",r)},[B]);const qr=F.useCallback(({date:r,label:d})=>l.jsxDEV(Mo,{date:r,label:d,filteredEvents:ke,selectedDate:B,user:m,isMobileView:ue},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2315,columnNumber:7},void 0),[ke,B,m,ue]),Kr=F.useCallback(({event:r})=>{if(r.id==="__inline_add__")return l.jsxDEV(Bo,{onSave:Ir,onCancel:$r},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2331,columnNumber:9},void 0);const d=(ce==null?void 0:ce.id)===r.id||(ce==null?void 0:ce.mergedEventIds)&&ce.mergedEventIds.includes(r.id);return l.jsxDEV(Uo,{event:r,user:m,filterProject:E,isEditing:d,editTitle:d?dt:void 0,onEditTitleChange:d?Ne:void 0,onEditSave:d?Rr:void 0,onEditDelete:d?()=>sr(r):void 0,onEditCancel:d?()=>{we(null),Ne("")}:void 0,onHoverDelete:()=>sr(r),onDeleteAction:()=>{rr.current=!0}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2342,columnNumber:7},void 0)},[m,E,ce,dt,Rr,sr,Ir,$r]),ra=({onNavigate:r})=>{const[d,f]=F.useState(!1),[p,y]=F.useState(w(de).year()),[b,D]=F.useState(w(de).month()),j=window.innerWidth<768,A=()=>{y(w(de).year()),D(w(de).month()),f(!0)},X=()=>{Xt(w().year(p).month(b).toDate()),f(!1)};return l.jsxDEV(l.Fragment,{children:[l.jsxDEV("div",{className:`calendar-toolbar flex flex-col bg-white border-b border-gray-200 ${j?"px-2 py-1":"px-3 md:px-5 py-2"}`,children:l.jsxDEV("div",{className:"flex items-center justify-between",children:[l.jsxDEV("div",{className:"flex items-center space-x-1",children:[l.jsxDEV("button",{onClick:()=>r("PREV"),className:"px-2 py-1.5 text-2xl md:text-3xl text-gray-700 hover:bg-gray-100 rounded-lg transition-colors font-bold print-hide",children:"‹"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2384,columnNumber:15},void 0),l.jsxDEV("div",{className:"text-base md:text-lg font-bold text-gray-900 hover:bg-gray-50 px-2 md:px-3 py-1 rounded-lg transition-colors cursor-pointer print-title",onClick:A,children:[l.jsxDEV("span",{children:w(de).format("YYYY년 MM월")},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2394,columnNumber:17},void 0),l.jsxDEV("span",{className:"print-project-name hidden",children:[" - ",E==="all"?"전체 프로젝트":E]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2396,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2390,columnNumber:15},void 0),l.jsxDEV("button",{onClick:()=>r("NEXT"),className:"px-2 py-1.5 text-2xl md:text-3xl text-gray-700 hover:bg-gray-100 rounded-lg transition-colors font-bold print-hide",children:"›"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2398,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2383,columnNumber:13},void 0),l.jsxDEV("div",{className:"flex items-center space-x-2",children:l.jsxDEV("select",{className:"px-3 md:px-4 py-1.5 md:py-2 bg-white text-gray-700 rounded-lg text-xs md:text-sm font-medium focus:outline-none focus:ring-2 focus:ring-gray-300 border border-gray-300 print-hide",value:E,onChange:O=>{Hr(O.target.value),kt(null)},style:{appearance:"none",backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%236b7280'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 0.5rem center",backgroundSize:"1.25rem",paddingRight:"2.5rem"},children:[(m==null?void 0:m.name)!=="안팀"&&l.jsxDEV("option",{value:"all",children:"전체 프로젝트"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2425,columnNumber:41},void 0),N.filter(O=>O.status!=="completed").map(O=>l.jsxDEV("option",{value:O.name,children:O.name},O.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2429,columnNumber:21},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2408,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2406,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2382,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2380,columnNumber:9},void 0),d&&l.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:l.jsxDEV("div",{className:"bg-white rounded-lg w-full max-w-sm shadow-xl",children:[l.jsxDEV("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[l.jsxDEV("h3",{className:"text-lg font-bold text-gray-900",children:"월 선택"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2444,columnNumber:17},void 0),l.jsxDEV("button",{onClick:()=>f(!1),className:"p-1 hover:bg-gray-100 rounded-lg transition-colors",children:l.jsxDEV("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2450,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2449,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2445,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2443,columnNumber:15},void 0),l.jsxDEV("div",{className:"p-4 border-b border-gray-200",children:l.jsxDEV("div",{className:"flex items-center justify-between",children:[l.jsxDEV("button",{onClick:()=>y(p-1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:l.jsxDEV("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2463,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2462,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2458,columnNumber:19},void 0),l.jsxDEV("span",{className:"text-xl font-bold text-gray-900",children:[p,"년"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2466,columnNumber:19},void 0),l.jsxDEV("button",{onClick:()=>y(p+1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:l.jsxDEV("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2474,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2473,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2469,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2457,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2456,columnNumber:15},void 0),l.jsxDEV("div",{className:"p-4",children:l.jsxDEV("div",{className:"grid grid-cols-3 gap-2",children:[1,2,3,4,5,6,7,8,9,10,11,12].map(O=>{const P=b===O-1,q=w().year()===p&&w().month()===O-1;return l.jsxDEV("button",{onClick:()=>D(O-1),className:`py-3 px-4 rounded-lg text-sm font-medium transition-colors ${P?"bg-gray-900 text-white":q?"bg-gray-100 text-gray-900 border-2 border-gray-900":"bg-gray-50 text-gray-700 hover:bg-gray-100"}`,children:[O,"월"]},O,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2487,columnNumber:23},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2482,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2481,columnNumber:15},void 0),l.jsxDEV("div",{className:"p-4 border-t border-gray-200 flex gap-2",children:[l.jsxDEV("button",{onClick:()=>{Xt(new Date),f(!1)},className:"flex-1 py-2 px-4 bg-gray-100 text-gray-900 rounded-lg text-sm font-medium hover:bg-gray-200 transition-colors",children:"오늘"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2507,columnNumber:17},void 0),l.jsxDEV("button",{onClick:X,className:"flex-1 py-2 px-4 bg-gray-900 text-white rounded-lg text-sm font-medium hover:bg-gray-800 transition-colors",children:"확인"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2516,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2506,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2441,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2440,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2379,columnNumber:7},void 0)},na=()=>null,sa=k.useMemo(()=>({toolbar:ra,event:Kr,month:{dateHeader:qr,showMore:na}}),[qr,Kr]),Xr=F.useMemo(()=>{if(!B)return[];let r;if(ue)r=ke.filter(f=>w(f.start).isSame(B,"day"));else{const f=w(B).startOf("week"),p=w(B).endOf("week");r=ke.filter(y=>{const b=w(y.start);return b.isSameOrAfter(f,"day")&&b.isSameOrBefore(p,"day")})}const d=[...r].sort((f,p)=>{const y=f.assignedTo&&f.assignedTo.includes("HV LAB"),b=f.assignedTo&&f.assignedTo.includes("현장팀")&&C&&["재천","민기"].includes(C),D=f.assignedTo&&f.assignedTo.includes("디자인팀")&&C&&["신애","재성","재현"].includes(C),j=f.assignedTo&&C&&f.assignedTo.includes(C)||f.assignedTo&&(m==null?void 0:m.name)&&f.assignedTo.includes(m.name)||y||b||D,A=p.assignedTo&&p.assignedTo.includes("HV LAB"),X=p.assignedTo&&p.assignedTo.includes("현장팀")&&C&&["재천","민기"].includes(C),O=p.assignedTo&&p.assignedTo.includes("디자인팀")&&C&&["신애","재성","재현"].includes(C),P=p.assignedTo&&C&&p.assignedTo.includes(C)||p.assignedTo&&(m==null?void 0:m.name)&&p.assignedTo.includes(m.name)||A||X||O;return j&&!P?-1:!j&&P?1:new Date(f.start).getTime()-new Date(p.start).getTime()});return console.log("Sorted events:",d.map(f=>({title:f.title,assignedTo:f.assignedTo,user:m==null?void 0:m.name,userShort:C}))),d},[B,ke,m,C,ue]);return k.useEffect(()=>{const d=setTimeout(()=>{const f=ue?document.querySelectorAll(".rbc-month-view td.rbc-date-cell"):document.querySelectorAll(".rbc-date-cell"),p=document.querySelectorAll(".rbc-month-row"),y=[];p.forEach((H,G)=>{const ee=H.querySelectorAll(".rbc-date-cell");let U=0;ee.forEach(I=>{const Z=I.querySelector("button");let $=Z==null?void 0:Z.textContent;if(!$){const _e=I.querySelector("span");$=_e==null?void 0:_e.textContent}if($&&!isNaN(parseInt($))){const _e=w(de).date(parseInt($)),Re=ke.filter(ar=>w(ar.start).isSame(_e,"day"));U=Math.max(U,Re.length)}}),y.push(U)});const b=E&&E!=="all",D=100,j=b?60:18,A=25,X=Math.floor((D-A)/j),O=y.length,P=D*O,q=y.map(H=>H<=X?D:A+H*j+10),re=q.reduce((H,G)=>H+G,0);if(re>P){const H=q.map((U,I)=>({index:I,height:U,overflow:U>D})),G=H.filter(U=>U.overflow).reduce((U,I)=>U+(I.height-D),0),ee=H.filter(U=>!U.overflow);if(ee.length>0){const U=P-G-ee.length*D,I=Math.max(50,D+U/ee.length);p.forEach((Z,$)=>{const Re=q[$]>D?q[$]:I;Z.style.height=`${Re}px`,Z.style.minHeight=`${Re}px`})}else{const U=P/re;p.forEach((I,Z)=>{const $=Math.max(80,q[Z]*U);I.style.height=`${$}px`,I.style.minHeight=`${$}px`})}}else{const H=q.reduce((I,Z)=>I+(Z>D?Z:0),0),G=q.filter(I=>I<=D).length,ee=P-H,U=G>0?ee/G:D;p.forEach((I,Z)=>{const $=q[Z]>D?q[Z]:U;I.style.height=`${$}px`,I.style.minHeight=`${$}px`})}f.forEach(H=>{const G=H.querySelector("button");let ee=G==null?void 0:G.textContent;if(!ee){const $=H.querySelector("span");ee=$==null?void 0:$.textContent}if(!ee||isNaN(parseInt(ee)))return;const U=w(de).date(parseInt(ee)),I=ke.filter($=>w($.start).isSame(U,"day"));I.length>0?H.setAttribute("data-event-count",I.length.toString()):H.removeAttribute("data-event-count");const Z=U.clone().toDate();if(B&&w(Z).isSame(B,"day")?H.classList.add("selected-date"):H.classList.remove("selected-date"),ue){const $=H,_e=$._mobileClickHandler;_e&&H.removeEventListener("click",_e);const Re=ar=>{if(ar.target.closest(".rbc-event"))return;const aa=U.clone().toDate();ot(aa);const Gr=document.querySelector(".md\\:hidden.mt-3.bg-white");Gr&&Gr.scrollIntoView({behavior:"smooth",block:"nearest"})};$._mobileClickHandler=Re,H.addEventListener("click",Re,!0),H.style.cursor="pointer",H.style.touchAction="manipulation"}})},200);return()=>{clearTimeout(d),ue&&document.querySelectorAll(".rbc-month-view td.rbc-date-cell").forEach(p=>{const y=p,b=y._mobileClickHandler;b&&(p.removeEventListener("click",b),delete y._mobileClickHandler)})}},[ke,de,ue,B,E]),l.jsxDEV("div",{className:"schedule-container space-y-3 md:space-y-2",children:[ae.date&&l.jsxDEV("div",{className:"bg-white border border-gray-200 rounded-lg p-3 md:p-4 shadow-sm",children:l.jsxDEV("div",{className:"flex flex-col md:flex-row items-stretch md:items-center gap-2 md:gap-3",children:[l.jsxDEV("div",{className:"text-xs md:text-sm font-semibold text-gray-900 md:min-w-[80px]",children:w(ae.date).format("MM월 DD일")},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2805,columnNumber:15},void 0),l.jsxDEV("select",{value:ae.projectId,onChange:r=>Ct({...ae,projectId:r.target.value}),className:"px-3 md:px-4 py-2 border border-gray-300 rounded-lg text-xs md:text-sm focus:outline-none focus:ring-2 focus:ring-gray-500",children:N.filter(r=>r.status!=="completed").map(r=>l.jsxDEV("option",{value:r.id,children:r.name},r.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2816,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2808,columnNumber:15},void 0),l.jsxDEV("input",{type:"text",value:ae.title,onChange:r=>Ct({...ae,title:r.target.value}),onKeyPress:r=>{r.key==="Enter"&&Yr()},placeholder:"일정 제목을 입력하세요...",className:"flex-1 px-3 md:px-4 py-2 border border-gray-300 rounded-lg text-xs md:text-sm focus:outline-none focus:ring-2 focus:ring-gray-500",autoFocus:!0},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2821,columnNumber:15},void 0),l.jsxDEV("div",{className:"flex gap-2",children:[l.jsxDEV("button",{onClick:Yr,className:"flex-1 md:flex-none px-4 md:px-5 py-2 bg-gray-900 text-white text-xs md:text-sm font-medium rounded-lg hover:bg-gray-800 transition-colors",children:"저장"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2835,columnNumber:17},void 0),l.jsxDEV("button",{onClick:()=>{Ct({date:null,projectId:"",title:""}),ot(null)},className:"flex-1 md:flex-none px-4 md:px-5 py-2 bg-white border border-gray-300 text-gray-700 text-xs md:text-sm font-medium rounded-lg hover:bg-gray-50 transition-colors",children:"취소"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2841,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2834,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2804,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2803,columnNumber:11},void 0),l.jsxDEV("div",{className:"schedule-main flex flex-col md:block",children:[l.jsxDEV("div",{className:"flex gap-3",children:[E!=="all"&&!ue&&l.jsxDEV("div",{className:"hidden md:block flex-shrink-0 print-hide",children:l.jsxDEV("div",{className:"bg-white border border-gray-200 rounded-lg shadow-sm p-2 sticky top-4",children:[l.jsxDEV("button",{onClick:()=>se(!0),className:"w-full mb-2 px-2 py-1 text-xs bg-gray-100 text-gray-600 rounded hover:bg-gray-200 transition-colors flex items-center justify-center gap-1",children:[l.jsxDEV("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsxDEV("path",{fillRule:"evenodd",d:"M11.49 3.17c-.38-1.56-2.6-1.56-2.98 0a1.532 1.532 0 01-2.286.948c-1.372-.836-2.942.734-2.106 2.106.54.886.061 2.042-.947 2.287-1.561.379-1.561 2.6 0 2.978a1.532 1.532 0 01.947 2.287c-.836 1.372.734 2.942 2.106 2.106a1.532 1.532 0 012.287.947c.379 1.561 2.6 1.561 2.978 0a1.533 1.533 0 012.287-.947c1.372.836 2.942-.734 2.106-2.106a1.533 1.533 0 01.947-2.287c1.561-.379 1.561-2.6 0-2.978a1.532 1.532 0 01-.947-2.287c.836-1.372-.734-2.942-2.106-2.106a1.532 1.532 0 01-2.287-.947zM10 13a3 3 0 100-6 3 3 0 000 6z",clipRule:"evenodd"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2868,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2867,columnNumber:21},void 0),"공정 관리"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2863,columnNumber:19},void 0),Ge&&l.jsxDEV("div",{className:"mb-2 px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded text-center",children:[l.jsxDEV("span",{className:"font-medium",children:Ge},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2875,columnNumber:23},void 0)," 선택됨",l.jsxDEV("br",{},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2876,columnNumber:23},void 0),l.jsxDEV("span",{className:"text-blue-600",children:"날짜를 탭하세요"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2877,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2874,columnNumber:21},void 0),l.jsxDEV("div",{className:"flex flex-col gap-0.5",children:jr.map(r=>l.jsxDEV("div",{draggable:!0,onClick:()=>{kt(Ge===r?null:r)},onDragStart:d=>{Nt.current=!1,kt(null),Jt(r),lt.current=r,d.dataTransfer.setData("text/plain",r),d.dataTransfer.effectAllowed="copy"},onDragEnd:()=>{Nt.current||(Jt(null),lt.current=null)},className:`px-3 py-1 text-xs rounded cursor-pointer transition-colors text-center font-medium whitespace-nowrap ${Ge===r?"bg-blue-500 text-white ring-2 ring-blue-300":Ie===r?"bg-blue-100 text-blue-800":"bg-gray-50 text-gray-700 hover:bg-gray-100"}`,children:r},r,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2882,columnNumber:23},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2880,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2861,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2860,columnNumber:15},void 0),l.jsxDEV("div",{className:`schedule-calendar bg-white border border-gray-200 rounded-lg overflow-hidden shadow-sm calendar-container flex-1 ${E!=="all"?"specific-project-view":""}`,style:{paddingBottom:0},children:l.jsxDEV(To,{localizer:Ho,events:ke,startAccessor:"start",endAccessor:"end",view:Pr,onView:Rs,date:de,onNavigate:Xt,onSelectEvent:zr,onSelectSlot:Js,onEventDrop:E!=="all"?Ks:void 0,onDragStart:E!=="all"?Xs:void 0,onDropFromOutside:E!=="all"?Gs:void 0,dragFromOutsideItem:E!=="all"?Zs:void 0,draggableAccessor:r=>E!=="all"&&r.id!=="__inline_add__",resizable:!1,selectable:!0,longPressThreshold:1,eventPropGetter:Qs,dayPropGetter:ea,components:sa,popup:!1,doShowMoreDrillDown:!1,onShowMore:()=>{},showAllEvents:!0,messages:{today:"오늘",previous:"이전",next:"다음",month:"월",week:"주",day:"일",agenda:"일정목록",date:"날짜",time:"시간",event:"일정",noEventsInRange:"이 기간에 일정이 없습니다",showMore:r=>`+${r} 더보기`}},`calendar-${E}-${(B==null?void 0:B.getTime())||"no-selection"}`,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2932,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2928,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2857,columnNumber:11},void 0),B&&l.jsxDEV("div",{className:"schedule-events-list desktop:hidden mt-3 bg-white border border-gray-200 rounded-lg overflow-hidden shadow-sm",children:[l.jsxDEV("div",{className:"flex items-center justify-between p-3 border-b border-gray-200 bg-gray-50",children:[l.jsxDEV("div",{className:"flex items-center gap-2",children:[l.jsxDEV("p",{className:"text-sm font-semibold text-gray-900",children:ue?w(B).format("MM월 DD일 (ddd)"):`${w(B).startOf("week").format("MM월 DD일")} - ${w(B).endOf("week").format("MM월 DD일")}`},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2983,columnNumber:19},void 0),ft[w(B).format("YYYY-MM-DD")]&&l.jsxDEV("span",{className:"text-xs font-medium px-2 py-0.5 rounded-full bg-red-50 text-red-600",children:ft[w(B).format("YYYY-MM-DD")]},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2991,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2982,columnNumber:17},void 0),l.jsxDEV("div",{className:"flex items-center gap-1",children:[E!=="all"&&l.jsxDEV("button",{onClick:()=>ye(!0),className:"px-2 py-1 text-xs text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded transition-colors",children:"+직접입력"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2999,columnNumber:21},void 0),l.jsxDEV("button",{onClick:()=>{ot(null),ct(null),ye(!1),fe("")},className:"p-1 hover:bg-gray-200 rounded-full transition-colors",children:l.jsxDEV("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3016,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3015,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3006,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2996,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2981,columnNumber:15},void 0),l.jsxDEV("div",{children:Xr.length===0?l.jsxDEV("div",{className:"p-4",children:E!=="all"&&Br?l.jsxDEV("div",{className:"flex items-center gap-2",children:[l.jsxDEV("input",{type:"text",value:be,onChange:r=>fe(r.target.value),onKeyDown:r=>{if(r.key==="Enter"&&be.trim()){const d=B||new Date,f={id:"",title:be.trim(),start:d,end:d,project:E,attendees:m!=null&&m.name?[m.name]:[],type:"construction"};i(f).then(()=>{a(),ye(!1),fe("")}).catch(p=>{console.error("일정 추가 실패:",p),L.error("일정 추가에 실패했습니다")})}else r.key==="Escape"&&(ye(!1),fe(""))},placeholder:"일정 제목 입력",className:"flex-1 px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-400",autoFocus:!0},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3029,columnNumber:25},void 0),l.jsxDEV("button",{onClick:()=>{if(be.trim()){const r=B||new Date,d={id:"",title:be.trim(),start:r,end:r,project:E,attendees:m!=null&&m.name?[m.name]:[],type:"construction"};i(d).then(()=>{a(),ye(!1),fe("")}).catch(f=>{console.error("일정 추가 실패:",f),L.error("일정 추가에 실패했습니다")})}},className:"px-3 py-2 text-sm font-medium text-white bg-gray-700 rounded-lg hover:bg-gray-800 active:bg-gray-900",children:"추가"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3062,columnNumber:25},void 0),l.jsxDEV("button",{onClick:()=>{ye(!1),fe("")},className:"p-2 text-gray-400 hover:text-gray-600",children:l.jsxDEV("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3097,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3096,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3089,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3028,columnNumber:23},void 0):l.jsxDEV("p",{className:"text-sm text-gray-500 text-center",children:"일정이 없습니다"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3102,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3025,columnNumber:19},void 0):l.jsxDEV("div",{children:[(()=>{const r=Xr.reduce((f,p)=>{const y=w(p.start).format("YYYY-MM-DD");return f[y]||(f[y]=[]),f[y].push(p),f},{});return Object.keys(r).sort().map(f=>l.jsxDEV("div",{className:"border-b border-gray-100 last:border-b-0",children:[!ue&&l.jsxDEV("div",{className:"px-3 py-2 bg-gray-50 sticky top-0 z-10",children:l.jsxDEV("p",{className:"text-xs font-semibold text-gray-700",children:w(f).format("MM월 DD일 (ddd)")},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3126,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3125,columnNumber:29},void 0),l.jsxDEV("div",{className:"divide-y divide-gray-100",children:r[f].map(p=>{const y=p.assignedTo&&p.assignedTo.includes("HV LAB"),b=p.assignedTo&&p.assignedTo.includes("현장팀")&&C&&["재천","민기"].includes(C),D=p.assignedTo&&p.assignedTo.includes("디자인팀")&&C&&["신애","재성","재현"].includes(C),A=p.assignedTo&&(p.assignedTo.includes((m==null?void 0:m.name)||"")||C&&p.assignedTo.includes(C))||y||b||D,X=!p.color&&!A,O=!p.isASVisit&&!p.isExpectedPayment;return l.jsxDEV("div",{onClick:()=>{const P={...p,title:p.originalTitle||p.title};zr(P)},className:`p-3 cursor-pointer ${A?"bg-yellow-50":""}`,style:X?{backgroundColor:"#f3f0f5"}:void 0,children:l.jsxDEV("div",{className:"flex items-start gap-2",children:[l.jsxDEV("div",{className:"w-1 h-full rounded-full flex-shrink-0",style:{backgroundColor:A?"#FEF3C7":p.color||"#e8e2ea",minHeight:"28px"}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3172,columnNumber:27},void 0),l.jsxDEV("div",{className:"flex-1 min-w-0",children:[l.jsxDEV("div",{className:"flex items-center justify-between gap-2",children:[l.jsxDEV("p",{className:"text-sm font-semibold text-gray-900 truncate",children:p.title},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3183,columnNumber:31},void 0),p.assignedTo&&p.assignedTo.length>0&&l.jsxDEV("p",{className:"text-xs text-gray-500 flex-shrink-0",children:["신애","재성","재현"].every(re=>p.assignedTo.includes(re))?"디자인팀":p.assignedTo.join(", ")},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3188,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3182,columnNumber:29},void 0),p.projectName&&E==="all"&&l.jsxDEV("p",{className:"text-xs text-gray-600 mt-0.5",children:p.projectName},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3200,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3181,columnNumber:27},void 0),O?l.jsxDEV("button",{onClick:P=>{P.stopPropagation(),ct(p)},className:"p-0.5 text-gray-400 hover:text-red-500 flex-shrink-0 active:text-red-600",children:l.jsxDEV("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3215,columnNumber:33},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3214,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3207,columnNumber:29},void 0):l.jsxDEV("svg",{className:"w-4 h-4 text-gray-400 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3220,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3219,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3171,columnNumber:25},void 0)},p.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3154,columnNumber:25},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3132,columnNumber:27},void 0)]},f,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3122,columnNumber:25},void 0))})(),E!=="all"&&Br&&l.jsxDEV("div",{className:"p-3 border-t border-gray-100",children:l.jsxDEV("div",{className:"flex items-center gap-2",children:[l.jsxDEV("input",{type:"text",value:be,onChange:r=>fe(r.target.value),onKeyDown:r=>{if(r.key==="Enter"&&be.trim()){const d=B||new Date,f={id:"",title:be.trim(),start:d,end:d,project:E,attendees:m!=null&&m.name?[m.name]:[],type:"construction"};i(f).then(()=>{a(),ye(!1),fe("")}).catch(p=>{console.error("일정 추가 실패:",p),L.error("일정 추가에 실패했습니다")})}else r.key==="Escape"&&(ye(!1),fe(""))},placeholder:"일정 제목 입력",className:"flex-1 px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-400",autoFocus:!0},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3235,columnNumber:27},void 0),l.jsxDEV("button",{onClick:()=>{if(be.trim()){const r=B||new Date,d={id:"",title:be.trim(),start:r,end:r,project:E,attendees:m!=null&&m.name?[m.name]:[],type:"construction"};i(d).then(()=>{a(),ye(!1),fe("")}).catch(f=>{console.error("일정 추가 실패:",f),L.error("일정 추가에 실패했습니다")})}},className:"px-3 py-2 text-sm font-medium text-white bg-gray-700 rounded-lg hover:bg-gray-800 active:bg-gray-900",children:"추가"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3268,columnNumber:27},void 0),l.jsxDEV("button",{onClick:()=>{ye(!1),fe("")},className:"p-2 text-gray-400 hover:text-gray-600",children:l.jsxDEV("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3303,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3302,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3295,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3234,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3233,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3106,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3023,columnNumber:15},void 0),ue&&E!=="all"&&l.jsxDEV("div",{className:"border-t border-gray-200 p-3 bg-gray-50",children:[l.jsxDEV("p",{className:"text-xs font-medium text-gray-500 mb-2",children:"공정을 탭하여 일정 추가"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3316,columnNumber:19},void 0),l.jsxDEV("div",{className:"flex flex-wrap gap-1.5",children:jr.map(r=>l.jsxDEV("button",{onClick:async()=>{const d=B||new Date;if(E!=="all"){const f={id:"",title:r,start:d,end:d,project:E,attendees:m!=null&&m.name?[m.name]:[],type:"construction"};try{await i(f),a()}catch(p){console.error("일정 추가 실패:",p),L.error("일정 추가에 실패했습니다")}}},className:"px-2.5 py-1.5 text-xs rounded-lg bg-white border border-gray-200 text-gray-700 hover:bg-gray-100 active:bg-gray-200 transition-colors font-medium",children:r},r,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3319,columnNumber:23},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3317,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3315,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2979,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2856,columnNumber:9},void 0),Ws&&l.jsxDEV(ya,{event:W,slotInfo:zs,defaultProjectName:E!=="all"?E:void 0,onClose:()=>{Fe(!1),bt(null),Dt(null)},onSave:async r=>{console.log("📤 Schedule.tsx onSave called with newEvent:",r);try{if(W)if(W.id.startsWith("as-")){const d=W.id.replace("as-","");let f="";r.assignedTo&&Array.isArray(r.assignedTo)&&r.assignedTo.length>0?f=r.assignedTo.join(", "):W.assignedTo&&Array.isArray(W.assignedTo)?f=W.assignedTo.join(", "):typeof W.assignedTo=="string"&&(f=W.assignedTo),await g(d,{project:r.title||W.title,assignedTo:f,scheduledVisitDate:r.start,scheduledVisitTime:r.time||W.time}),await h(),Fe(!1)}else if(W.id.startsWith("payment-")){const d=W.id.split("-"),f=d[1],p=d[2],y=v.find(b=>b.id===f);if(y){const b={...y.expectedPaymentDates};b[p]=r.start,await x(f,{expectedPaymentDates:b})}}else{console.log("📤 Updating schedule with projectId:",r.projectId,"projectName:",r.projectName);let d=r.title;const f=/ - (오전|오후) \d{1,2}시( \d{1,2}분)?$/;if(d=d.replace(f,""),W.mergedEventIds&&W.mergedEventIds.length>0){console.log("📤 Updating merged schedules:",W.mergedEventIds);const p=(W.originalTitle||W.title).split(", "),y=d.split(", ");for(let b=0;b<W.mergedEventIds.length;b++){const D=W.mergedEventIds[b],j=y[b]||p[b]||d;await o(D,{title:j.trim(),start:r.start,end:r.end,type:"other",project:r.projectId||r.projectName,location:"",attendees:r.assignedTo||[],description:r.description,time:r.time})}}else await o(W.id,{title:d,start:r.start,end:r.end,type:"other",project:r.projectId||r.projectName,location:"",attendees:r.assignedTo||[],description:r.description,time:r.time});await a()}else{console.log("📤 Adding schedule with projectId:",r.projectId,"projectName:",r.projectName);const d={id:Date.now().toString(),title:r.title,start:r.start,end:r.end,type:"other",project:r.projectId||r.projectName||"",location:"",attendees:r.assignedTo||[],description:r.description||"",time:r.time||"-"};await i(d)}Fe(!1)}catch(d){console.error("Failed to save schedule:",d),L.error("일정 저장에 실패했습니다")}},onDelete:async r=>{try{if(r.startsWith("payment-")){const d=r.split("-"),f=d[1],p=d[2],y=v.find(b=>b.id===f);if(y){const b={...y.expectedPaymentDates};delete b[p],await x(f,{expectedPaymentDates:b})}}else if(r.startsWith("as-")){const d=r.replace("as-","");await g(d,{scheduledVisitDate:null,scheduledVisitTime:null})}else{const d=Zt.find(f=>f.id===r);if(d!=null&&d.mergedEventIds&&d.mergedEventIds.length>0){console.log("Deleting merged schedules:",d.mergedEventIds);for(const f of d.mergedEventIds)await u(f)}else await u(r)}Fe(!1)}catch(d){console.error("Failed to delete schedule:",d),L.error("일정 삭제에 실패했습니다")}}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3358,columnNumber:11},void 0),Ze&&qs&&l.jsxDEV("div",{className:"fixed pointer-events-none z-[9999]",style:{left:Ur.x-50,top:Ur.y-15,backgroundColor:Ze.color||"#F3F4F6",borderRadius:"6px",color:"#1f2937",padding:"4px 8px",fontWeight:500,fontSize:"16px",maxWidth:"250px"},children:Ze.originalTitle||Ze.title},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3548,columnNumber:11},void 0),Et&&l.jsxDEV("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-[9999]",onClick:()=>ct(null),children:l.jsxDEV("div",{className:"bg-white rounded-xl shadow-2xl w-[280px] overflow-hidden mx-4",onClick:r=>r.stopPropagation(),children:[l.jsxDEV("div",{className:"p-4 text-center",children:[l.jsxDEV("div",{className:"w-12 h-12 mx-auto mb-3 bg-red-100 rounded-full flex items-center justify-center",children:l.jsxDEV("svg",{className:"w-6 h-6 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3579,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3578,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3577,columnNumber:17},void 0),l.jsxDEV("p",{className:"text-base font-semibold text-gray-900 mb-1",children:"일정을 삭제할까요?"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3582,columnNumber:17},void 0),l.jsxDEV("p",{className:"text-sm text-gray-500 truncate",children:Et.title},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3583,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3576,columnNumber:15},void 0),l.jsxDEV("div",{className:"flex border-t border-gray-100",children:[l.jsxDEV("button",{onClick:()=>ct(null),className:"flex-1 py-3 text-sm font-medium text-gray-600 hover:bg-gray-50 active:bg-gray-100 transition-colors",children:"취소"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3586,columnNumber:17},void 0),l.jsxDEV("button",{onClick:async()=>{try{const r=Et.mergedEventIds||[Et.id];await Promise.all(r.map(d=>u(d))),a()}catch(r){console.error("일정 삭제 실패:",r),L.error("삭제에 실패했습니다")}ct(null)},className:"flex-1 py-3 text-sm font-medium text-red-600 hover:bg-red-50 active:bg-red-100 border-l border-gray-100 transition-colors",children:"삭제"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3592,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3585,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3572,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3568,columnNumber:11},void 0),te&&l.jsxDEV("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-[9999]",onClick:()=>{se(!1),S(null),ie("")},children:l.jsxDEV("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md max-h-[80vh] overflow-hidden mx-4",onClick:r=>r.stopPropagation(),children:[l.jsxDEV("div",{className:"p-4 border-b border-gray-100 flex justify-between items-center",children:[l.jsxDEV("h2",{className:"text-lg font-bold text-gray-800",children:"공정 관리"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3631,columnNumber:17},void 0),l.jsxDEV("button",{onClick:()=>{se(!1),S(null),ie("")},className:"text-gray-400 hover:text-gray-600 p-1 hover:bg-gray-100 rounded",children:"✕"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3632,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3630,columnNumber:15},void 0),l.jsxDEV("div",{className:"p-4 border-b border-gray-100 bg-gray-50",children:[l.jsxDEV("label",{className:"block text-xs text-gray-500 mb-2",children:"새 공정 추가"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3646,columnNumber:17},void 0),l.jsxDEV("div",{className:"flex gap-2",children:[l.jsxDEV("input",{type:"text",value:me,onChange:r=>ie(r.target.value),onKeyDown:r=>r.key==="Enter"&&Vr(),placeholder:"공정명 입력",className:"flex-1 px-3 py-2 border border-gray-200 rounded-lg text-sm focus:ring-2 focus:ring-gray-300 focus:border-gray-400 bg-white"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3648,columnNumber:19},void 0),l.jsxDEV("button",{onClick:Vr,disabled:!me.trim(),className:"px-4 py-2 bg-gray-800 text-white text-sm font-medium rounded-lg hover:bg-gray-700 transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed",children:"추가"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3656,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3647,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3645,columnNumber:15},void 0),l.jsxDEV("div",{className:"overflow-y-auto max-h-[50vh]",children:xt?l.jsxDEV("div",{className:"p-8 text-center text-gray-500",children:[l.jsxDEV("div",{className:"animate-spin inline-block w-6 h-6 border-2 border-gray-200 border-t-gray-600 rounded-full mb-2"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3670,columnNumber:21},void 0),l.jsxDEV("p",{children:"불러오는 중..."},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3671,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3669,columnNumber:19},void 0):z.length===0?l.jsxDEV("div",{className:"p-8 text-center text-gray-400",children:[l.jsxDEV("p",{className:"mb-2",children:"등록된 공정이 없습니다"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3675,columnNumber:21},void 0),l.jsxDEV("p",{className:"text-xs",children:"위에서 새 공정을 추가해주세요"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3676,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3674,columnNumber:19},void 0):l.jsxDEV("div",{className:"divide-y divide-gray-50",children:z.map((r,d)=>l.jsxDEV("div",{draggable:(Y==null?void 0:Y.id)!==r.id,onDragStart:()=>Ps(d),onDragOver:f=>Hs(f,d),onDragEnd:Bs,onDragLeave:()=>Kt(null),className:`flex items-center gap-3 px-4 py-3 hover:bg-gray-50 group transition-all ${le===d?"opacity-50 bg-gray-100":""} ${yt===d?"border-t-2 border-gray-400":""} ${(Y==null?void 0:Y.id)!==r.id?"cursor-grab active:cursor-grabbing":""}`,children:(Y==null?void 0:Y.id)===r.id?l.jsxDEV(l.Fragment,{children:[l.jsxDEV("input",{type:"text",value:pe,onChange:f=>oe(f.target.value),onKeyDown:f=>{f.key==="Enter"&&Lr(),f.key==="Escape"&&(S(null),oe(""))},className:"flex-1 px-3 py-1.5 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-gray-300 focus:border-gray-400",autoFocus:!0},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3698,columnNumber:29},void 0),l.jsxDEV("button",{onClick:Lr,className:"px-3 py-1.5 bg-gray-800 text-white text-xs rounded-lg hover:bg-gray-700",children:"저장"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3712,columnNumber:29},void 0),l.jsxDEV("button",{onClick:()=>{S(null),oe("")},className:"px-3 py-1.5 bg-gray-100 text-gray-600 text-xs rounded-lg hover:bg-gray-200",children:"취소"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3718,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3697,columnNumber:27},void 0):l.jsxDEV(l.Fragment,{children:[l.jsxDEV("span",{className:"text-gray-300 text-xs select-none",children:"☰"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3730,columnNumber:29},void 0),l.jsxDEV("span",{className:"text-gray-300 text-xs w-5 text-right select-none",children:d+1},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3731,columnNumber:29},void 0),l.jsxDEV("span",{className:"flex-1 text-sm text-gray-700 select-none",children:r.name},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3732,columnNumber:29},void 0),l.jsxDEV("button",{onClick:()=>{S(r),oe(r.name)},className:"px-2 py-1 text-gray-400 hover:text-gray-700 text-xs opacity-0 group-hover:opacity-100 transition-opacity",children:"수정"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3733,columnNumber:29},void 0),l.jsxDEV("button",{onClick:()=>Ts(r.id),className:"px-2 py-1 text-gray-400 hover:text-red-500 text-xs opacity-0 group-hover:opacity-100 transition-opacity",children:"삭제"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3742,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3729,columnNumber:27},void 0)},r.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3681,columnNumber:23},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3679,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3667,columnNumber:15},void 0),z.length>0&&l.jsxDEV("div",{className:"p-3 border-t border-gray-100 bg-gray-50 text-center text-xs text-gray-400",children:"드래그하여 순서 변경 · 호버하여 수정/삭제"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3758,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3625,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3617,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2800,columnNumber:7},void 0)};export{el as default};
