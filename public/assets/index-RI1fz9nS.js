var zd=Object.defineProperty;var Yd=(s,n,t)=>n in s?zd(s,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[n]=t;var Ra=(s,n,t)=>Yd(s,typeof n!="symbol"?n+"":n,t);import{r as d,b as tn,u as om,d as Kd,N as Tr,e as mi,O as Xd,R as it,f as Wn,g as Jd,B as Gd,h as Qd,i as _t}from"./vendor-react-DN7YJcfR.js";import{a as Zd,c as mm,Q as ec,b as tc}from"./vendor-data-CKbp7GnA.js";import{B as li,X as ot,C as ea,T as bt,a as sc,b as nn,W as nc,c as rc,d as Pt,P as Gt,R as ic,e as lm,S as Er,f as ac,g as oc,h as dm,A as Ma,i as mc,j as $s,F as Ia,k as Ta,l as Fa,M as lc,U as gs,m as dc,n as Ar,I as us,o as Wa,p as qa,q as Pn,r as Oa,s as $a,t as cc,u as cm,D as uc,v as pc,E as fc,w as gc,x as za,y as Nc,z as bc,G as xc,H as yc,L as hc}from"./vendor-ui-ChgtIPdl.js";import{k as di,l as bn,m as xn,n as kc,o as vc,p as je,q as Dc,r as Ya,s as Vc,t as lt}from"./vendor-date-DbWJ9m7c.js";import{c as Cc,p as um,l as Fr,s as ts,i as Ec,h as Ac,q as ta,a as sa,m as na,b as wc,d as Wr,o as wr,e as _c,f as _r,r as ra,g as ia,j as aa,k as oa,n as ma,t as pm,u as fm,v as gm,w as Nm,x as bm,y as xm,z as ym,A as hm,B as km,C as vm,D as Dm,E as Vm,F as jc,G as Lc,H as Hc,I as Bc,J as Uc,K as Sc,L as Pc}from"./vendor-calendar-DjAQlTCo.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();var Cm={exports:{}},Di={};/**
 * @license React
 * react-jsx-dev-runtime.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){var s=d,n=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),m=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),u=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),N=Symbol.for("react.offscreen"),j=Symbol.iterator,x="@@iterator";function R(k){if(k===null||typeof k!="object")return null;var X=j&&k[j]||k[x];return typeof X=="function"?X:null}var I=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function y(k){{for(var X=arguments.length,fe=new Array(X>1?X-1:0),we=1;we<X;we++)fe[we-1]=arguments[we];T("error",k,fe)}}function T(k,X,fe){{var we=I.ReactDebugCurrentFrame,Ie=we.getStackAddendum();Ie!==""&&(X+="%s",fe=fe.concat([Ie]));var Ye=fe.map(function(Fe){return String(Fe)});Ye.unshift("Warning: "+X),Function.prototype.apply.call(console[k],console,Ye)}}var te=!1,ee=!1,L=!1,z=!1,se=!1,oe;oe=Symbol.for("react.module.reference");function ce(k){return!!(typeof k=="string"||typeof k=="function"||k===r||k===a||se||k===i||k===p||k===u||z||k===N||te||ee||L||typeof k=="object"&&k!==null&&(k.$$typeof===b||k.$$typeof===f||k.$$typeof===o||k.$$typeof===m||k.$$typeof===c||k.$$typeof===oe||k.getModuleId!==void 0))}function De(k,X,fe){var we=k.displayName;if(we)return we;var Ie=X.displayName||X.name||"";return Ie!==""?fe+"("+Ie+")":fe}function Q(k){return k.displayName||"Context"}function ne(k){if(k==null)return null;if(typeof k.tag=="number"&&y("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof k=="function")return k.displayName||k.name||null;if(typeof k=="string")return k;switch(k){case r:return"Fragment";case t:return"Portal";case a:return"Profiler";case i:return"StrictMode";case p:return"Suspense";case u:return"SuspenseList"}if(typeof k=="object")switch(k.$$typeof){case m:var X=k;return Q(X)+".Consumer";case o:var fe=k;return Q(fe._context)+".Provider";case c:return De(k,k.render,"ForwardRef");case f:var we=k.displayName||null;return we!==null?we:ne(k.type)||"Memo";case b:{var Ie=k,Ye=Ie._payload,Fe=Ie._init;try{return ne(Fe(Ye))}catch{return null}}}return null}var xe=Object.assign,Ee=0,He,Ve,Ge,de,Ae,Ue,he;function Re(){}Re.__reactDisabledLog=!0;function $e(){{if(Ee===0){He=console.log,Ve=console.info,Ge=console.warn,de=console.error,Ae=console.group,Ue=console.groupCollapsed,he=console.groupEnd;var k={configurable:!0,enumerable:!0,value:Re,writable:!0};Object.defineProperties(console,{info:k,log:k,warn:k,error:k,group:k,groupCollapsed:k,groupEnd:k})}Ee++}}function qe(){{if(Ee--,Ee===0){var k={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:xe({},k,{value:He}),info:xe({},k,{value:Ve}),warn:xe({},k,{value:Ge}),error:xe({},k,{value:de}),group:xe({},k,{value:Ae}),groupCollapsed:xe({},k,{value:Ue}),groupEnd:xe({},k,{value:he})})}Ee<0&&y("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var Oe=I.ReactCurrentDispatcher,B;function ge(k,X,fe){{if(B===void 0)try{throw Error()}catch(Ie){var we=Ie.stack.trim().match(/\n( *(at )?)/);B=we&&we[1]||""}return`
`+B+k}}var me=!1,_e;{var G=typeof WeakMap=="function"?WeakMap:Map;_e=new G}function C(k,X){if(!k||me)return"";{var fe=_e.get(k);if(fe!==void 0)return fe}var we;me=!0;var Ie=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var Ye;Ye=Oe.current,Oe.current=null,$e();try{if(X){var Fe=function(){throw Error()};if(Object.defineProperty(Fe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Fe,[])}catch(Ze){we=Ze}Reflect.construct(k,[],Fe)}else{try{Fe.call()}catch(Ze){we=Ze}k.call(Fe.prototype)}}else{try{throw Error()}catch(Ze){we=Ze}k()}}catch(Ze){if(Ze&&we&&typeof Ze.stack=="string"){for(var et=Ze.stack.split(`
`),Ke=we.stack.split(`
`),tt=et.length-1,F=Ke.length-1;tt>=1&&F>=0&&et[tt]!==Ke[F];)F--;for(;tt>=1&&F>=0;tt--,F--)if(et[tt]!==Ke[F]){if(tt!==1||F!==1)do if(tt--,F--,F<0||et[tt]!==Ke[F]){var ae=`
`+et[tt].replace(" at new "," at ");return k.displayName&&ae.includes("<anonymous>")&&(ae=ae.replace("<anonymous>",k.displayName)),typeof k=="function"&&_e.set(k,ae),ae}while(tt>=1&&F>=0);break}}}finally{me=!1,Oe.current=Ye,qe(),Error.prepareStackTrace=Ie}var Me=k?k.displayName||k.name:"",rt=Me?ge(Me):"";return typeof k=="function"&&_e.set(k,rt),rt}function le(k,X,fe){return C(k,!1)}function D(k){var X=k.prototype;return!!(X&&X.isReactComponent)}function H(k,X,fe){if(k==null)return"";if(typeof k=="function")return C(k,D(k));if(typeof k=="string")return ge(k);switch(k){case p:return ge("Suspense");case u:return ge("SuspenseList")}if(typeof k=="object")switch(k.$$typeof){case c:return le(k.render);case f:return H(k.type,X,fe);case b:{var we=k,Ie=we._payload,Ye=we._init;try{return H(Ye(Ie),X,fe)}catch{}}}return""}var ie=Object.prototype.hasOwnProperty,Ce={},Te=I.ReactDebugCurrentFrame;function ze(k){if(k){var X=k._owner,fe=H(k.type,k._source,X?X.type:null);Te.setExtraStackFrame(fe)}else Te.setExtraStackFrame(null)}function U(k,X,fe,we,Ie){{var Ye=Function.call.bind(ie);for(var Fe in k)if(Ye(k,Fe)){var et=void 0;try{if(typeof k[Fe]!="function"){var Ke=Error((we||"React class")+": "+fe+" type `"+Fe+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof k[Fe]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw Ke.name="Invariant Violation",Ke}et=k[Fe](X,Fe,we,fe,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(tt){et=tt}et&&!(et instanceof Error)&&(ze(Ie),y("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",we||"React class",fe,Fe,typeof et),ze(null)),et instanceof Error&&!(et.message in Ce)&&(Ce[et.message]=!0,ze(Ie),y("Failed %s type: %s",fe,et.message),ze(null))}}}var J=Array.isArray;function Z(k){return J(k)}function P(k){{var X=typeof Symbol=="function"&&Symbol.toStringTag,fe=X&&k[Symbol.toStringTag]||k.constructor.name||"Object";return fe}}function v(k){try{return $(k),!1}catch{return!0}}function $(k){return""+k}function re(k){if(v(k))return y("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",P(k)),$(k)}var O=I.ReactCurrentOwner,g={key:!0,ref:!0,__self:!0,__source:!0},E,S,K;K={};function ke(k){if(ie.call(k,"ref")){var X=Object.getOwnPropertyDescriptor(k,"ref").get;if(X&&X.isReactWarning)return!1}return k.ref!==void 0}function ye(k){if(ie.call(k,"key")){var X=Object.getOwnPropertyDescriptor(k,"key").get;if(X&&X.isReactWarning)return!1}return k.key!==void 0}function We(k,X){if(typeof k.ref=="string"&&O.current&&X&&O.current.stateNode!==X){var fe=ne(O.current.type);K[fe]||(y('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',ne(O.current.type),k.ref),K[fe]=!0)}}function Je(k,X){{var fe=function(){E||(E=!0,y("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",X))};fe.isReactWarning=!0,Object.defineProperty(k,"key",{get:fe,configurable:!0})}}function mt(k,X){{var fe=function(){S||(S=!0,y("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",X))};fe.isReactWarning=!0,Object.defineProperty(k,"ref",{get:fe,configurable:!0})}}var nt=function(k,X,fe,we,Ie,Ye,Fe){var et={$$typeof:n,type:k,key:X,ref:fe,props:Fe,_owner:Ye};return et._store={},Object.defineProperty(et._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(et,"_self",{configurable:!1,enumerable:!1,writable:!1,value:we}),Object.defineProperty(et,"_source",{configurable:!1,enumerable:!1,writable:!1,value:Ie}),Object.freeze&&(Object.freeze(et.props),Object.freeze(et)),et};function st(k,X,fe,we,Ie){{var Ye,Fe={},et=null,Ke=null;fe!==void 0&&(re(fe),et=""+fe),ye(X)&&(re(X.key),et=""+X.key),ke(X)&&(Ke=X.ref,We(X,Ie));for(Ye in X)ie.call(X,Ye)&&!g.hasOwnProperty(Ye)&&(Fe[Ye]=X[Ye]);if(k&&k.defaultProps){var tt=k.defaultProps;for(Ye in tt)Fe[Ye]===void 0&&(Fe[Ye]=tt[Ye])}if(et||Ke){var F=typeof k=="function"?k.displayName||k.name||"Unknown":k;et&&Je(Fe,F),Ke&&mt(Fe,F)}return nt(k,et,Ke,Ie,we,O.current,Fe)}}var at=I.ReactCurrentOwner,Nt=I.ReactDebugCurrentFrame;function A(k){if(k){var X=k._owner,fe=H(k.type,k._source,X?X.type:null);Nt.setExtraStackFrame(fe)}else Nt.setExtraStackFrame(null)}var Ne;Ne=!1;function be(k){return typeof k=="object"&&k!==null&&k.$$typeof===n}function ve(){{if(at.current){var k=ne(at.current.type);if(k)return`

Check the render method of \``+k+"`."}return""}}function Be(k){{if(k!==void 0){var X=k.fileName.replace(/^.*[\\\/]/,""),fe=k.lineNumber;return`

Check your code at `+X+":"+fe+"."}return""}}var Pe={};function l(k){{var X=ve();if(!X){var fe=typeof k=="string"?k:k.displayName||k.name;fe&&(X=`

Check the top-level render call using <`+fe+">.")}return X}}function h(k,X){{if(!k._store||k._store.validated||k.key!=null)return;k._store.validated=!0;var fe=l(X);if(Pe[fe])return;Pe[fe]=!0;var we="";k&&k._owner&&k._owner!==at.current&&(we=" It was passed a child from "+ne(k._owner.type)+"."),A(k),y('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',fe,we),A(null)}}function w(k,X){{if(typeof k!="object")return;if(Z(k))for(var fe=0;fe<k.length;fe++){var we=k[fe];be(we)&&h(we,X)}else if(be(k))k._store&&(k._store.validated=!0);else if(k){var Ie=R(k);if(typeof Ie=="function"&&Ie!==k.entries)for(var Ye=Ie.call(k),Fe;!(Fe=Ye.next()).done;)be(Fe.value)&&h(Fe.value,X)}}}function q(k){{var X=k.type;if(X==null||typeof X=="string")return;var fe;if(typeof X=="function")fe=X.propTypes;else if(typeof X=="object"&&(X.$$typeof===c||X.$$typeof===f))fe=X.propTypes;else return;if(fe){var we=ne(X);U(fe,k.props,"prop",we,k)}else if(X.PropTypes!==void 0&&!Ne){Ne=!0;var Ie=ne(X);y("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",Ie||"Unknown")}typeof X.getDefaultProps=="function"&&!X.getDefaultProps.isReactClassApproved&&y("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function _(k){{for(var X=Object.keys(k.props),fe=0;fe<X.length;fe++){var we=X[fe];if(we!=="children"&&we!=="key"){A(k),y("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",we),A(null);break}}k.ref!==null&&(A(k),y("Invalid attribute `ref` supplied to `React.Fragment`."),A(null))}}var Y={};function W(k,X,fe,we,Ie,Ye){{var Fe=ce(k);if(!Fe){var et="";(k===void 0||typeof k=="object"&&k!==null&&Object.keys(k).length===0)&&(et+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var Ke=Be(Ie);Ke?et+=Ke:et+=ve();var tt;k===null?tt="null":Z(k)?tt="array":k!==void 0&&k.$$typeof===n?(tt="<"+(ne(k.type)||"Unknown")+" />",et=" Did you accidentally export a JSX literal instead of a component?"):tt=typeof k,y("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",tt,et)}var F=st(k,X,fe,Ie,Ye);if(F==null)return F;if(Fe){var ae=X.children;if(ae!==void 0)if(we)if(Z(ae)){for(var Me=0;Me<ae.length;Me++)w(ae[Me],k);Object.freeze&&Object.freeze(ae)}else y("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else w(ae,k)}if(ie.call(X,"key")){var rt=ne(k),Ze=Object.keys(X).filter(function(kt){return kt!=="key"}),gt=Ze.length>0?"{key: someKey, "+Ze.join(": ..., ")+": ...}":"{key: someKey}";if(!Y[rt+gt]){var ht=Ze.length>0?"{"+Ze.join(": ..., ")+": ...}":"{}";y(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,gt,rt,ht,rt),Y[rt+gt]=!0}}return k===r?_(F):q(F),F}}var ue=W;Di.Fragment=r,Di.jsxDEV=ue})();Cm.exports=Di;var e=Cm.exports,Em,Ka=tn;{var Xa=Ka.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;Em=function(s,n){Xa.usingClientEntryPoint=!0;try{return Ka.createRoot(s,n)}finally{Xa.usingClientEntryPoint=!1}}}let Rc={data:""},Mc=s=>{if(typeof window=="object"){let n=(s?s.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return n.nonce=window.__nonce__,n.parentNode||(s||document.head).appendChild(n),n.firstChild}return s||Rc},Ic=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Tc=/\/\*[^]*?\*\/|  +/g,Ja=/\n+/g,Ls=(s,n)=>{let t="",r="",i="";for(let a in s){let o=s[a];a[0]=="@"?a[1]=="i"?t=a+" "+o+";":r+=a[1]=="f"?Ls(o,a):a+"{"+Ls(o,a[1]=="k"?"":n)+"}":typeof o=="object"?r+=Ls(o,n?n.replace(/([^,])+/g,m=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,m):m?m+" "+c:c)):a):o!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Ls.p?Ls.p(a,o):a+":"+o+";")}return t+(n&&i?n+"{"+i+"}":i)+r},ys={},Am=s=>{if(typeof s=="object"){let n="";for(let t in s)n+=t+Am(s[t]);return n}return s},Fc=(s,n,t,r,i)=>{let a=Am(s),o=ys[a]||(ys[a]=(c=>{let p=0,u=11;for(;p<c.length;)u=101*u+c.charCodeAt(p++)>>>0;return"go"+u})(a));if(!ys[o]){let c=a!==s?s:(p=>{let u,f,b=[{}];for(;u=Ic.exec(p.replace(Tc,""));)u[4]?b.shift():u[3]?(f=u[3].replace(Ja," ").trim(),b.unshift(b[0][f]=b[0][f]||{})):b[0][u[1]]=u[2].replace(Ja," ").trim();return b[0]})(s);ys[o]=Ls(i?{["@keyframes "+o]:c}:c,t?"":"."+o)}let m=t&&ys.g?ys.g:null;return t&&(ys.g=ys[o]),((c,p,u,f)=>{f?p.data=p.data.replace(f,c):p.data.indexOf(c)===-1&&(p.data=u?c+p.data:p.data+c)})(ys[o],n,r,m),o},Wc=(s,n,t)=>s.reduce((r,i,a)=>{let o=n[a];if(o&&o.call){let m=o(t),c=m&&m.props&&m.props.className||/^go/.test(m)&&m;o=c?"."+c:m&&typeof m=="object"?m.props?"":Ls(m,""):m===!1?"":m}return r+i+(o??"")},"");function qr(s){let n=this||{},t=s.call?s(n.p):s;return Fc(t.unshift?t.raw?Wc(t,[].slice.call(arguments,1),n.p):t.reduce((r,i)=>Object.assign(r,i&&i.call?i(n.p):i),{}):t,Mc(n.target),n.g,n.o,n.k)}let wm,Vi,Ci;qr.bind({g:1});let Ds=qr.bind({k:1});function qc(s,n,t,r){Ls.p=n,wm=s,Vi=t,Ci=r}function Ss(s,n){let t=this||{};return function(){let r=arguments;function i(a,o){let m=Object.assign({},a),c=m.className||i.className;t.p=Object.assign({theme:Vi&&Vi()},m),t.o=/ *go\d+/.test(c),m.className=qr.apply(t,r)+(c?" "+c:"");let p=s;return s[0]&&(p=m.as||s,delete m.as),Ci&&p[0]&&Ci(m),wm(p,m)}return i}}var Oc=s=>typeof s=="function",jr=(s,n)=>Oc(s)?s(n):s,$c=(()=>{let s=0;return()=>(++s).toString()})(),_m=(()=>{let s;return()=>{if(s===void 0&&typeof window<"u"){let n=matchMedia("(prefers-reduced-motion: reduce)");s=!n||n.matches}return s}})(),zc=20,la="default",jm=(s,n)=>{let{toastLimit:t}=s.settings;switch(n.type){case 0:return{...s,toasts:[n.toast,...s.toasts].slice(0,t)};case 1:return{...s,toasts:s.toasts.map(o=>o.id===n.toast.id?{...o,...n.toast}:o)};case 2:let{toast:r}=n;return jm(s,{type:s.toasts.find(o=>o.id===r.id)?1:0,toast:r});case 3:let{toastId:i}=n;return{...s,toasts:s.toasts.map(o=>o.id===i||i===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return n.toastId===void 0?{...s,toasts:[]}:{...s,toasts:s.toasts.filter(o=>o.id!==n.toastId)};case 5:return{...s,pausedAt:n.time};case 6:let a=n.time-(s.pausedAt||0);return{...s,pausedAt:void 0,toasts:s.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+a}))}}},br=[],Lm={toasts:[],pausedAt:void 0,settings:{toastLimit:zc}},ps={},Hm=(s,n=la)=>{ps[n]=jm(ps[n]||Lm,s),br.forEach(([t,r])=>{t===n&&r(ps[n])})},Bm=s=>Object.keys(ps).forEach(n=>Hm(s,n)),Yc=s=>Object.keys(ps).find(n=>ps[n].toasts.some(t=>t.id===s)),Or=(s=la)=>n=>{Hm(n,s)},Kc={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Xc=(s={},n=la)=>{let[t,r]=d.useState(ps[n]||Lm),i=d.useRef(ps[n]);d.useEffect(()=>(i.current!==ps[n]&&r(ps[n]),br.push([n,r]),()=>{let o=br.findIndex(([m])=>m===n);o>-1&&br.splice(o,1)}),[n]);let a=t.toasts.map(o=>{var m,c,p;return{...s,...s[o.type],...o,removeDelay:o.removeDelay||((m=s[o.type])==null?void 0:m.removeDelay)||(s==null?void 0:s.removeDelay),duration:o.duration||((c=s[o.type])==null?void 0:c.duration)||(s==null?void 0:s.duration)||Kc[o.type],style:{...s.style,...(p=s[o.type])==null?void 0:p.style,...o.style}}});return{...t,toasts:a}},Jc=(s,n="blank",t)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:n,ariaProps:{role:"status","aria-live":"polite"},message:s,pauseDuration:0,...t,id:(t==null?void 0:t.id)||$c()}),qn=s=>(n,t)=>{let r=Jc(n,s,t);return Or(r.toasterId||Yc(r.id))({type:2,toast:r}),r.id},Lt=(s,n)=>qn("blank")(s,n);Lt.error=qn("error");Lt.success=qn("success");Lt.loading=qn("loading");Lt.custom=qn("custom");Lt.dismiss=(s,n)=>{let t={type:3,toastId:s};n?Or(n)(t):Bm(t)};Lt.dismissAll=s=>Lt.dismiss(void 0,s);Lt.remove=(s,n)=>{let t={type:4,toastId:s};n?Or(n)(t):Bm(t)};Lt.removeAll=s=>Lt.remove(void 0,s);Lt.promise=(s,n,t)=>{let r=Lt.loading(n.loading,{...t,...t==null?void 0:t.loading});return typeof s=="function"&&(s=s()),s.then(i=>{let a=n.success?jr(n.success,i):void 0;return a?Lt.success(a,{id:r,...t,...t==null?void 0:t.success}):Lt.dismiss(r),i}).catch(i=>{let a=n.error?jr(n.error,i):void 0;a?Lt.error(a,{id:r,...t,...t==null?void 0:t.error}):Lt.dismiss(r)}),s};var Gc=1e3,Qc=(s,n="default")=>{let{toasts:t,pausedAt:r}=Xc(s,n),i=d.useRef(new Map).current,a=d.useCallback((f,b=Gc)=>{if(i.has(f))return;let N=setTimeout(()=>{i.delete(f),o({type:4,toastId:f})},b);i.set(f,N)},[]);d.useEffect(()=>{if(r)return;let f=Date.now(),b=t.map(N=>{if(N.duration===1/0)return;let j=(N.duration||0)+N.pauseDuration-(f-N.createdAt);if(j<0){N.visible&&Lt.dismiss(N.id);return}return setTimeout(()=>Lt.dismiss(N.id,n),j)});return()=>{b.forEach(N=>N&&clearTimeout(N))}},[t,r,n]);let o=d.useCallback(Or(n),[n]),m=d.useCallback(()=>{o({type:5,time:Date.now()})},[o]),c=d.useCallback((f,b)=>{o({type:1,toast:{id:f,height:b}})},[o]),p=d.useCallback(()=>{r&&o({type:6,time:Date.now()})},[r,o]),u=d.useCallback((f,b)=>{let{reverseOrder:N=!1,gutter:j=8,defaultPosition:x}=b||{},R=t.filter(T=>(T.position||x)===(f.position||x)&&T.height),I=R.findIndex(T=>T.id===f.id),y=R.filter((T,te)=>te<I&&T.visible).length;return R.filter(T=>T.visible).slice(...N?[y+1]:[0,y]).reduce((T,te)=>T+(te.height||0)+j,0)},[t]);return d.useEffect(()=>{t.forEach(f=>{if(f.dismissed)a(f.id,f.removeDelay);else{let b=i.get(f.id);b&&(clearTimeout(b),i.delete(f.id))}})},[t,a]),{toasts:t,handlers:{updateHeight:c,startPause:m,endPause:p,calculateOffset:u}}},Zc=Ds`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,eu=Ds`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,tu=Ds`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,su=Ss("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${s=>s.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Zc} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${eu} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${s=>s.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${tu} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,nu=Ds`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,ru=Ss("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${s=>s.secondary||"#e0e0e0"};
  border-right-color: ${s=>s.primary||"#616161"};
  animation: ${nu} 1s linear infinite;
`,iu=Ds`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,au=Ds`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,ou=Ss("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${s=>s.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${iu} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${au} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${s=>s.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,mu=Ss("div")`
  position: absolute;
`,lu=Ss("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,du=Ds`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,cu=Ss("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${du} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,uu=({toast:s})=>{let{icon:n,type:t,iconTheme:r}=s;return n!==void 0?typeof n=="string"?d.createElement(cu,null,n):n:t==="blank"?null:d.createElement(lu,null,d.createElement(ru,{...r}),t!=="loading"&&d.createElement(mu,null,t==="error"?d.createElement(su,{...r}):d.createElement(ou,{...r})))},pu=s=>`
0% {transform: translate3d(0,${s*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,fu=s=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${s*-150}%,-1px) scale(.6); opacity:0;}
`,gu="0%{opacity:0;} 100%{opacity:1;}",Nu="0%{opacity:1;} 100%{opacity:0;}",bu=Ss("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,xu=Ss("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,yu=(s,n)=>{let t=s.includes("top")?1:-1,[r,i]=_m()?[gu,Nu]:[pu(t),fu(t)];return{animation:n?`${Ds(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Ds(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},hu=d.memo(({toast:s,position:n,style:t,children:r})=>{let i=s.height?yu(s.position||n||"top-center",s.visible):{opacity:0},a=d.createElement(uu,{toast:s}),o=d.createElement(xu,{...s.ariaProps},jr(s.message,s));return d.createElement(bu,{className:s.className,style:{...i,...t,...s.style}},typeof r=="function"?r({icon:a,message:o}):d.createElement(d.Fragment,null,a,o))});qc(d.createElement);var ku=({id:s,className:n,style:t,onHeightUpdate:r,children:i})=>{let a=d.useCallback(o=>{if(o){let m=()=>{let c=o.getBoundingClientRect().height;r(s,c)};m(),new MutationObserver(m).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[s,r]);return d.createElement("div",{ref:a,className:n,style:t},i)},vu=(s,n)=>{let t=s.includes("top"),r=t?{top:0}:{bottom:0},i=s.includes("center")?{justifyContent:"center"}:s.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:_m()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${n*(t?1:-1)}px)`,...r,...i}},Du=qr`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Jn=16,Vu=({reverseOrder:s,position:n="top-center",toastOptions:t,gutter:r,children:i,toasterId:a,containerStyle:o,containerClassName:m})=>{let{toasts:c,handlers:p}=Qc(t,a);return d.createElement("div",{"data-rht-toaster":a||"",style:{position:"fixed",zIndex:9999,top:Jn,left:Jn,right:Jn,bottom:Jn,pointerEvents:"none",...o},className:m,onMouseEnter:p.startPause,onMouseLeave:p.endPause},c.map(u=>{let f=u.position||n,b=p.calculateOffset(u,{reverseOrder:s,gutter:r,defaultPosition:n}),N=vu(f,b);return d.createElement(ku,{id:u.id,key:u.id,onHeightUpdate:p.updateHeight,className:u.visible?Du:"",style:N},u.type==="custom"?jr(u.message,u):i?i(u):d.createElement(hu,{toast:u,position:f}))}))},M=Lt;const Ns=Object.create(null);Ns.open="0";Ns.close="1";Ns.ping="2";Ns.pong="3";Ns.message="4";Ns.upgrade="5";Ns.noop="6";const xr=Object.create(null);Object.keys(Ns).forEach(s=>{xr[Ns[s]]=s});const Ei={type:"error",data:"parser error"},Um=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Sm=typeof ArrayBuffer=="function",Pm=s=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(s):s&&s.buffer instanceof ArrayBuffer,da=({type:s,data:n},t,r)=>Um&&n instanceof Blob?t?r(n):Ga(n,r):Sm&&(n instanceof ArrayBuffer||Pm(n))?t?r(n):Ga(new Blob([n]),r):r(Ns[s]+(n||"")),Ga=(s,n)=>{const t=new FileReader;return t.onload=function(){const r=t.result.split(",")[1];n("b"+(r||""))},t.readAsDataURL(s)};function Qa(s){return s instanceof Uint8Array?s:s instanceof ArrayBuffer?new Uint8Array(s):new Uint8Array(s.buffer,s.byteOffset,s.byteLength)}let ci;function Cu(s,n){if(Um&&s.data instanceof Blob)return s.data.arrayBuffer().then(Qa).then(n);if(Sm&&(s.data instanceof ArrayBuffer||Pm(s.data)))return n(Qa(s.data));da(s,!1,t=>{ci||(ci=new TextEncoder),n(ci.encode(t))})}const Za="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Cn=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let s=0;s<Za.length;s++)Cn[Za.charCodeAt(s)]=s;const Eu=s=>{let n=s.length*.75,t=s.length,r,i=0,a,o,m,c;s[s.length-1]==="="&&(n--,s[s.length-2]==="="&&n--);const p=new ArrayBuffer(n),u=new Uint8Array(p);for(r=0;r<t;r+=4)a=Cn[s.charCodeAt(r)],o=Cn[s.charCodeAt(r+1)],m=Cn[s.charCodeAt(r+2)],c=Cn[s.charCodeAt(r+3)],u[i++]=a<<2|o>>4,u[i++]=(o&15)<<4|m>>2,u[i++]=(m&3)<<6|c&63;return p},Au=typeof ArrayBuffer=="function",ca=(s,n)=>{if(typeof s!="string")return{type:"message",data:Rm(s,n)};const t=s.charAt(0);return t==="b"?{type:"message",data:wu(s.substring(1),n)}:xr[t]?s.length>1?{type:xr[t],data:s.substring(1)}:{type:xr[t]}:Ei},wu=(s,n)=>{if(Au){const t=Eu(s);return Rm(t,n)}else return{base64:!0,data:s}},Rm=(s,n)=>{switch(n){case"blob":return s instanceof Blob?s:new Blob([s]);case"arraybuffer":default:return s instanceof ArrayBuffer?s:s.buffer}},Mm="",_u=(s,n)=>{const t=s.length,r=new Array(t);let i=0;s.forEach((a,o)=>{da(a,!1,m=>{r[o]=m,++i===t&&n(r.join(Mm))})})},ju=(s,n)=>{const t=s.split(Mm),r=[];for(let i=0;i<t.length;i++){const a=ca(t[i],n);if(r.push(a),a.type==="error")break}return r};function Lu(){return new TransformStream({transform(s,n){Cu(s,t=>{const r=t.length;let i;if(r<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,r);else if(r<65536){i=new Uint8Array(3);const a=new DataView(i.buffer);a.setUint8(0,126),a.setUint16(1,r)}else{i=new Uint8Array(9);const a=new DataView(i.buffer);a.setUint8(0,127),a.setBigUint64(1,BigInt(r))}s.data&&typeof s.data!="string"&&(i[0]|=128),n.enqueue(i),n.enqueue(t)})}})}let ui;function Gn(s){return s.reduce((n,t)=>n+t.length,0)}function Qn(s,n){if(s[0].length===n)return s.shift();const t=new Uint8Array(n);let r=0;for(let i=0;i<n;i++)t[i]=s[0][r++],r===s[0].length&&(s.shift(),r=0);return s.length&&r<s[0].length&&(s[0]=s[0].slice(r)),t}function Hu(s,n){ui||(ui=new TextDecoder);const t=[];let r=0,i=-1,a=!1;return new TransformStream({transform(o,m){for(t.push(o);;){if(r===0){if(Gn(t)<1)break;const c=Qn(t,1);a=(c[0]&128)===128,i=c[0]&127,i<126?r=3:i===126?r=1:r=2}else if(r===1){if(Gn(t)<2)break;const c=Qn(t,2);i=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),r=3}else if(r===2){if(Gn(t)<8)break;const c=Qn(t,8),p=new DataView(c.buffer,c.byteOffset,c.length),u=p.getUint32(0);if(u>Math.pow(2,21)-1){m.enqueue(Ei);break}i=u*Math.pow(2,32)+p.getUint32(4),r=3}else{if(Gn(t)<i)break;const c=Qn(t,i);m.enqueue(ca(a?c:ui.decode(c),n)),r=0}if(i===0||i>s){m.enqueue(Ei);break}}}})}const Im=4;function At(s){if(s)return Bu(s)}function Bu(s){for(var n in At.prototype)s[n]=At.prototype[n];return s}At.prototype.on=At.prototype.addEventListener=function(s,n){return this._callbacks=this._callbacks||{},(this._callbacks["$"+s]=this._callbacks["$"+s]||[]).push(n),this};At.prototype.once=function(s,n){function t(){this.off(s,t),n.apply(this,arguments)}return t.fn=n,this.on(s,t),this};At.prototype.off=At.prototype.removeListener=At.prototype.removeAllListeners=At.prototype.removeEventListener=function(s,n){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var t=this._callbacks["$"+s];if(!t)return this;if(arguments.length==1)return delete this._callbacks["$"+s],this;for(var r,i=0;i<t.length;i++)if(r=t[i],r===n||r.fn===n){t.splice(i,1);break}return t.length===0&&delete this._callbacks["$"+s],this};At.prototype.emit=function(s){this._callbacks=this._callbacks||{};for(var n=new Array(arguments.length-1),t=this._callbacks["$"+s],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(t){t=t.slice(0);for(var r=0,i=t.length;r<i;++r)t[r].apply(this,n)}return this};At.prototype.emitReserved=At.prototype.emit;At.prototype.listeners=function(s){return this._callbacks=this._callbacks||{},this._callbacks["$"+s]||[]};At.prototype.hasListeners=function(s){return!!this.listeners(s).length};const $r=typeof Promise=="function"&&typeof Promise.resolve=="function"?n=>Promise.resolve().then(n):(n,t)=>t(n,0),Jt=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),Uu="arraybuffer";function Tm(s,...n){return n.reduce((t,r)=>(s.hasOwnProperty(r)&&(t[r]=s[r]),t),{})}const Su=Jt.setTimeout,Pu=Jt.clearTimeout;function zr(s,n){n.useNativeTimers?(s.setTimeoutFn=Su.bind(Jt),s.clearTimeoutFn=Pu.bind(Jt)):(s.setTimeoutFn=Jt.setTimeout.bind(Jt),s.clearTimeoutFn=Jt.clearTimeout.bind(Jt))}const Ru=1.33;function Mu(s){return typeof s=="string"?Iu(s):Math.ceil((s.byteLength||s.size)*Ru)}function Iu(s){let n=0,t=0;for(let r=0,i=s.length;r<i;r++)n=s.charCodeAt(r),n<128?t+=1:n<2048?t+=2:n<55296||n>=57344?t+=3:(r++,t+=4);return t}function Fm(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function Tu(s){let n="";for(let t in s)s.hasOwnProperty(t)&&(n.length&&(n+="&"),n+=encodeURIComponent(t)+"="+encodeURIComponent(s[t]));return n}function Fu(s){let n={},t=s.split("&");for(let r=0,i=t.length;r<i;r++){let a=t[r].split("=");n[decodeURIComponent(a[0])]=decodeURIComponent(a[1])}return n}class Wu extends Error{constructor(n,t,r){super(n),this.description=t,this.context=r,this.type="TransportError"}}class ua extends At{constructor(n){super(),this.writable=!1,zr(this,n),this.opts=n,this.query=n.query,this.socket=n.socket,this.supportsBinary=!n.forceBase64}onError(n,t,r){return super.emitReserved("error",new Wu(n,t,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(n){this.readyState==="open"&&this.write(n)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(n){const t=ca(n,this.socket.binaryType);this.onPacket(t)}onPacket(n){super.emitReserved("packet",n)}onClose(n){this.readyState="closed",super.emitReserved("close",n)}pause(n){}createUri(n,t={}){return n+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const n=this.opts.hostname;return n.indexOf(":")===-1?n:"["+n+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(n){const t=Tu(n);return t.length?"?"+t:""}}class qu extends ua{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(n){this.readyState="pausing";const t=()=>{this.readyState="paused",n()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||t()})),this.writable||(r++,this.once("drain",function(){--r||t()}))}else t()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(n){const t=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};ju(n,this.socket.binaryType).forEach(t),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const n=()=>{this.write([{type:"close"}])};this.readyState==="open"?n():this.once("open",n)}write(n){this.writable=!1,_u(n,t=>{this.doWrite(t,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const n=this.opts.secure?"https":"http",t=this.query||{};return this.opts.timestampRequests!==!1&&(t[this.opts.timestampParam]=Fm()),!this.supportsBinary&&!t.sid&&(t.b64=1),this.createUri(n,t)}}let Wm=!1;try{Wm=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const Ou=Wm;function $u(){}class zu extends qu{constructor(n){if(super(n),typeof location<"u"){const t=location.protocol==="https:";let r=location.port;r||(r=t?"443":"80"),this.xd=typeof location<"u"&&n.hostname!==location.hostname||r!==n.port}}doWrite(n,t){const r=this.request({method:"POST",data:n});r.on("success",t),r.on("error",(i,a)=>{this.onError("xhr post error",i,a)})}doPoll(){const n=this.request();n.on("data",this.onData.bind(this)),n.on("error",(t,r)=>{this.onError("xhr poll error",t,r)}),this.pollXhr=n}}class fs extends At{constructor(n,t,r){super(),this.createRequest=n,zr(this,r),this._opts=r,this._method=r.method||"GET",this._uri=t,this._data=r.data!==void 0?r.data:null,this._create()}_create(){var n;const t=Tm(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this._opts.xd;const r=this._xhr=this.createRequest(t);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let i in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(i)&&r.setRequestHeader(i,this._opts.extraHeaders[i])}}catch{}if(this._method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(n=this._opts.cookieJar)===null||n===void 0||n.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var i;r.readyState===3&&((i=this._opts.cookieJar)===null||i===void 0||i.parseCookies(r.getResponseHeader("set-cookie"))),r.readyState===4&&(r.status===200||r.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof r.status=="number"?r.status:0)},0))},r.send(this._data)}catch(i){this.setTimeoutFn(()=>{this._onError(i)},0);return}typeof document<"u"&&(this._index=fs.requestsCount++,fs.requests[this._index]=this)}_onError(n){this.emitReserved("error",n,this._xhr),this._cleanup(!0)}_cleanup(n){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=$u,n)try{this._xhr.abort()}catch{}typeof document<"u"&&delete fs.requests[this._index],this._xhr=null}}_onLoad(){const n=this._xhr.responseText;n!==null&&(this.emitReserved("data",n),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}fs.requestsCount=0;fs.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",eo);else if(typeof addEventListener=="function"){const s="onpagehide"in Jt?"pagehide":"unload";addEventListener(s,eo,!1)}}function eo(){for(let s in fs.requests)fs.requests.hasOwnProperty(s)&&fs.requests[s].abort()}const Yu=function(){const s=qm({xdomain:!1});return s&&s.responseType!==null}();class Ku extends zu{constructor(n){super(n);const t=n&&n.forceBase64;this.supportsBinary=Yu&&!t}request(n={}){return Object.assign(n,{xd:this.xd},this.opts),new fs(qm,this.uri(),n)}}function qm(s){const n=s.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!n||Ou))return new XMLHttpRequest}catch{}if(!n)try{return new Jt[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const Om=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Xu extends ua{get name(){return"websocket"}doOpen(){const n=this.uri(),t=this.opts.protocols,r=Om?{}:Tm(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(n,t,r)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=n=>this.onClose({description:"websocket connection closed",context:n}),this.ws.onmessage=n=>this.onData(n.data),this.ws.onerror=n=>this.onError("websocket error",n)}write(n){this.writable=!1;for(let t=0;t<n.length;t++){const r=n[t],i=t===n.length-1;da(r,this.supportsBinary,a=>{try{this.doWrite(r,a)}catch{}i&&$r(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const n=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=Fm()),this.supportsBinary||(t.b64=1),this.createUri(n,t)}}const pi=Jt.WebSocket||Jt.MozWebSocket;class Ju extends Xu{createSocket(n,t,r){return Om?new pi(n,t,r):t?new pi(n,t):new pi(n)}doWrite(n,t){this.ws.send(t)}}class Gu extends ua{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(n){return this.emitReserved("error",n)}this._transport.closed.then(()=>{this.onClose()}).catch(n=>{this.onError("webtransport error",n)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(n=>{const t=Hu(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=n.readable.pipeThrough(t).getReader(),i=Lu();i.readable.pipeTo(n.writable),this._writer=i.writable.getWriter();const a=()=>{r.read().then(({done:m,value:c})=>{m||(this.onPacket(c),a())}).catch(m=>{})};a();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(n){this.writable=!1;for(let t=0;t<n.length;t++){const r=n[t],i=t===n.length-1;this._writer.write(r).then(()=>{i&&$r(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var n;(n=this._transport)===null||n===void 0||n.close()}}const Qu={websocket:Ju,webtransport:Gu,polling:Ku},Zu=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,ep=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Ai(s){if(s.length>8e3)throw"URI too long";const n=s,t=s.indexOf("["),r=s.indexOf("]");t!=-1&&r!=-1&&(s=s.substring(0,t)+s.substring(t,r).replace(/:/g,";")+s.substring(r,s.length));let i=Zu.exec(s||""),a={},o=14;for(;o--;)a[ep[o]]=i[o]||"";return t!=-1&&r!=-1&&(a.source=n,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a.pathNames=tp(a,a.path),a.queryKey=sp(a,a.query),a}function tp(s,n){const t=/\/{2,9}/g,r=n.replace(t,"/").split("/");return(n.slice(0,1)=="/"||n.length===0)&&r.splice(0,1),n.slice(-1)=="/"&&r.splice(r.length-1,1),r}function sp(s,n){const t={};return n.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,i,a){i&&(t[i]=a)}),t}const wi=typeof addEventListener=="function"&&typeof removeEventListener=="function",yr=[];wi&&addEventListener("offline",()=>{yr.forEach(s=>s())},!1);class Bs extends At{constructor(n,t){if(super(),this.binaryType=Uu,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,n&&typeof n=="object"&&(t=n,n=null),n){const r=Ai(n);t.hostname=r.host,t.secure=r.protocol==="https"||r.protocol==="wss",t.port=r.port,r.query&&(t.query=r.query)}else t.host&&(t.hostname=Ai(t.host).host);zr(this,t),this.secure=t.secure!=null?t.secure:typeof location<"u"&&location.protocol==="https:",t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=t.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},t.transports.forEach(r=>{const i=r.prototype.name;this.transports.push(i),this._transportsByName[i]=r}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Fu(this.opts.query)),wi&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},yr.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(n){const t=Object.assign({},this.opts.query);t.EIO=Im,t.transport=n,this.id&&(t.sid=this.id);const r=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[n]);return new this._transportsByName[n](r)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const n=this.opts.rememberUpgrade&&Bs.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const t=this.createTransport(n);t.open(),this.setTransport(t)}setTransport(n){this.transport&&this.transport.removeAllListeners(),this.transport=n,n.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",t=>this._onClose("transport close",t))}onOpen(){this.readyState="open",Bs.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",n),this.emitReserved("heartbeat"),n.type){case"open":this.onHandshake(JSON.parse(n.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const t=new Error("server error");t.code=n.data,this._onError(t);break;case"message":this.emitReserved("data",n.data),this.emitReserved("message",n.data);break}}onHandshake(n){this.emitReserved("handshake",n),this.id=n.sid,this.transport.query.sid=n.sid,this._pingInterval=n.pingInterval,this._pingTimeout=n.pingTimeout,this._maxPayload=n.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const n=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+n,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},n),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const n=this._getWritablePackets();this.transport.send(n),this._prevBufferLen=n.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let t=1;for(let r=0;r<this.writeBuffer.length;r++){const i=this.writeBuffer[r].data;if(i&&(t+=Mu(i)),r>0&&t>this._maxPayload)return this.writeBuffer.slice(0,r);t+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const n=Date.now()>this._pingTimeoutTime;return n&&(this._pingTimeoutTime=0,$r(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),n}write(n,t,r){return this._sendPacket("message",n,t,r),this}send(n,t,r){return this._sendPacket("message",n,t,r),this}_sendPacket(n,t,r,i){if(typeof t=="function"&&(i=t,t=void 0),typeof r=="function"&&(i=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const a={type:n,data:t,options:r};this.emitReserved("packetCreate",a),this.writeBuffer.push(a),i&&this.once("flush",i),this.flush()}close(){const n=()=>{this._onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),n()},r=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():n()}):this.upgrading?r():n()),this}_onError(n){if(Bs.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",n),this._onClose("transport error",n)}_onClose(n,t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),wi&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const r=yr.indexOf(this._offlineEventListener);r!==-1&&yr.splice(r,1)}this.readyState="closed",this.id=null,this.emitReserved("close",n,t),this.writeBuffer=[],this._prevBufferLen=0}}}Bs.protocol=Im;class np extends Bs{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let n=0;n<this._upgrades.length;n++)this._probe(this._upgrades[n])}_probe(n){let t=this.createTransport(n),r=!1;Bs.priorWebsocketSuccess=!1;const i=()=>{r||(t.send([{type:"ping",data:"probe"}]),t.once("packet",f=>{if(!r)if(f.type==="pong"&&f.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;Bs.priorWebsocketSuccess=t.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(u(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{const b=new Error("probe error");b.transport=t.name,this.emitReserved("upgradeError",b)}}))};function a(){r||(r=!0,u(),t.close(),t=null)}const o=f=>{const b=new Error("probe error: "+f);b.transport=t.name,a(),this.emitReserved("upgradeError",b)};function m(){o("transport closed")}function c(){o("socket closed")}function p(f){t&&f.name!==t.name&&a()}const u=()=>{t.removeListener("open",i),t.removeListener("error",o),t.removeListener("close",m),this.off("close",c),this.off("upgrading",p)};t.once("open",i),t.once("error",o),t.once("close",m),this.once("close",c),this.once("upgrading",p),this._upgrades.indexOf("webtransport")!==-1&&n!=="webtransport"?this.setTimeoutFn(()=>{r||t.open()},200):t.open()}onHandshake(n){this._upgrades=this._filterUpgrades(n.upgrades),super.onHandshake(n)}_filterUpgrades(n){const t=[];for(let r=0;r<n.length;r++)~this.transports.indexOf(n[r])&&t.push(n[r]);return t}}let rp=class extends np{constructor(n,t={}){const r=typeof n=="object"?n:t;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(i=>Qu[i]).filter(i=>!!i)),super(n,r)}};function ip(s,n="",t){let r=s;t=t||typeof location<"u"&&location,s==null&&(s=t.protocol+"//"+t.host),typeof s=="string"&&(s.charAt(0)==="/"&&(s.charAt(1)==="/"?s=t.protocol+s:s=t.host+s),/^(https?|wss?):\/\//.test(s)||(typeof t<"u"?s=t.protocol+"//"+s:s="https://"+s),r=Ai(s)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const a=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+a+":"+r.port+n,r.href=r.protocol+"://"+a+(t&&t.port===r.port?"":":"+r.port),r}const ap=typeof ArrayBuffer=="function",op=s=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(s):s.buffer instanceof ArrayBuffer,$m=Object.prototype.toString,mp=typeof Blob=="function"||typeof Blob<"u"&&$m.call(Blob)==="[object BlobConstructor]",lp=typeof File=="function"||typeof File<"u"&&$m.call(File)==="[object FileConstructor]";function pa(s){return ap&&(s instanceof ArrayBuffer||op(s))||mp&&s instanceof Blob||lp&&s instanceof File}function hr(s,n){if(!s||typeof s!="object")return!1;if(Array.isArray(s)){for(let t=0,r=s.length;t<r;t++)if(hr(s[t]))return!0;return!1}if(pa(s))return!0;if(s.toJSON&&typeof s.toJSON=="function"&&arguments.length===1)return hr(s.toJSON(),!0);for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t)&&hr(s[t]))return!0;return!1}function dp(s){const n=[],t=s.data,r=s;return r.data=_i(t,n),r.attachments=n.length,{packet:r,buffers:n}}function _i(s,n){if(!s)return s;if(pa(s)){const t={_placeholder:!0,num:n.length};return n.push(s),t}else if(Array.isArray(s)){const t=new Array(s.length);for(let r=0;r<s.length;r++)t[r]=_i(s[r],n);return t}else if(typeof s=="object"&&!(s instanceof Date)){const t={};for(const r in s)Object.prototype.hasOwnProperty.call(s,r)&&(t[r]=_i(s[r],n));return t}return s}function cp(s,n){return s.data=ji(s.data,n),delete s.attachments,s}function ji(s,n){if(!s)return s;if(s&&s._placeholder===!0){if(typeof s.num=="number"&&s.num>=0&&s.num<n.length)return n[s.num];throw new Error("illegal attachments")}else if(Array.isArray(s))for(let t=0;t<s.length;t++)s[t]=ji(s[t],n);else if(typeof s=="object")for(const t in s)Object.prototype.hasOwnProperty.call(s,t)&&(s[t]=ji(s[t],n));return s}const up=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],pp=5;var ct;(function(s){s[s.CONNECT=0]="CONNECT",s[s.DISCONNECT=1]="DISCONNECT",s[s.EVENT=2]="EVENT",s[s.ACK=3]="ACK",s[s.CONNECT_ERROR=4]="CONNECT_ERROR",s[s.BINARY_EVENT=5]="BINARY_EVENT",s[s.BINARY_ACK=6]="BINARY_ACK"})(ct||(ct={}));class fp{constructor(n){this.replacer=n}encode(n){return(n.type===ct.EVENT||n.type===ct.ACK)&&hr(n)?this.encodeAsBinary({type:n.type===ct.EVENT?ct.BINARY_EVENT:ct.BINARY_ACK,nsp:n.nsp,data:n.data,id:n.id}):[this.encodeAsString(n)]}encodeAsString(n){let t=""+n.type;return(n.type===ct.BINARY_EVENT||n.type===ct.BINARY_ACK)&&(t+=n.attachments+"-"),n.nsp&&n.nsp!=="/"&&(t+=n.nsp+","),n.id!=null&&(t+=n.id),n.data!=null&&(t+=JSON.stringify(n.data,this.replacer)),t}encodeAsBinary(n){const t=dp(n),r=this.encodeAsString(t.packet),i=t.buffers;return i.unshift(r),i}}function to(s){return Object.prototype.toString.call(s)==="[object Object]"}class fa extends At{constructor(n){super(),this.reviver=n}add(n){let t;if(typeof n=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(n);const r=t.type===ct.BINARY_EVENT;r||t.type===ct.BINARY_ACK?(t.type=r?ct.EVENT:ct.ACK,this.reconstructor=new gp(t),t.attachments===0&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else if(pa(n)||n.base64)if(this.reconstructor)t=this.reconstructor.takeBinaryData(n),t&&(this.reconstructor=null,super.emitReserved("decoded",t));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+n)}decodeString(n){let t=0;const r={type:Number(n.charAt(0))};if(ct[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===ct.BINARY_EVENT||r.type===ct.BINARY_ACK){const a=t+1;for(;n.charAt(++t)!=="-"&&t!=n.length;);const o=n.substring(a,t);if(o!=Number(o)||n.charAt(t)!=="-")throw new Error("Illegal attachments");r.attachments=Number(o)}if(n.charAt(t+1)==="/"){const a=t+1;for(;++t&&!(n.charAt(t)===","||t===n.length););r.nsp=n.substring(a,t)}else r.nsp="/";const i=n.charAt(t+1);if(i!==""&&Number(i)==i){const a=t+1;for(;++t;){const o=n.charAt(t);if(o==null||Number(o)!=o){--t;break}if(t===n.length)break}r.id=Number(n.substring(a,t+1))}if(n.charAt(++t)){const a=this.tryParse(n.substr(t));if(fa.isPayloadValid(r.type,a))r.data=a;else throw new Error("invalid payload")}return r}tryParse(n){try{return JSON.parse(n,this.reviver)}catch{return!1}}static isPayloadValid(n,t){switch(n){case ct.CONNECT:return to(t);case ct.DISCONNECT:return t===void 0;case ct.CONNECT_ERROR:return typeof t=="string"||to(t);case ct.EVENT:case ct.BINARY_EVENT:return Array.isArray(t)&&(typeof t[0]=="number"||typeof t[0]=="string"&&up.indexOf(t[0])===-1);case ct.ACK:case ct.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class gp{constructor(n){this.packet=n,this.buffers=[],this.reconPack=n}takeBinaryData(n){if(this.buffers.push(n),this.buffers.length===this.reconPack.attachments){const t=cp(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const Np=Object.freeze(Object.defineProperty({__proto__:null,Decoder:fa,Encoder:fp,get PacketType(){return ct},protocol:pp},Symbol.toStringTag,{value:"Module"}));function es(s,n,t){return s.on(n,t),function(){s.off(n,t)}}const bp=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class zm extends At{constructor(n,t,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=n,this.nsp=t,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const n=this.io;this.subs=[es(n,"open",this.onopen.bind(this)),es(n,"packet",this.onpacket.bind(this)),es(n,"error",this.onerror.bind(this)),es(n,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...n){return n.unshift("message"),this.emit.apply(this,n),this}emit(n,...t){var r,i,a;if(bp.hasOwnProperty(n))throw new Error('"'+n.toString()+'" is a reserved event name');if(t.unshift(n),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(t),this;const o={type:ct.EVENT,data:t};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof t[t.length-1]=="function"){const u=this.ids++,f=t.pop();this._registerAckCallback(u,f),o.id=u}const m=(i=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||i===void 0?void 0:i.writable,c=this.connected&&!(!((a=this.io.engine)===null||a===void 0)&&a._hasPingExpired());return this.flags.volatile&&!m||(c?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(n,t){var r;const i=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(i===void 0){this.acks[n]=t;return}const a=this.io.setTimeoutFn(()=>{delete this.acks[n];for(let m=0;m<this.sendBuffer.length;m++)this.sendBuffer[m].id===n&&this.sendBuffer.splice(m,1);t.call(this,new Error("operation has timed out"))},i),o=(...m)=>{this.io.clearTimeoutFn(a),t.apply(this,m)};o.withError=!0,this.acks[n]=o}emitWithAck(n,...t){return new Promise((r,i)=>{const a=(o,m)=>o?i(o):r(m);a.withError=!0,t.push(a),this.emit(n,...t)})}_addToQueue(n){let t;typeof n[n.length-1]=="function"&&(t=n.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:n,flags:Object.assign({fromQueue:!0},this.flags)};n.push((i,...a)=>r!==this._queue[0]?void 0:(i!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),t&&t(i)):(this._queue.shift(),t&&t(null,...a)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(n=!1){if(!this.connected||this._queue.length===0)return;const t=this._queue[0];t.pending&&!n||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(n){n.nsp=this.nsp,this.io._packet(n)}onopen(){typeof this.auth=="function"?this.auth(n=>{this._sendConnectPacket(n)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(n){this.packet({type:ct.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},n):n})}onerror(n){this.connected||this.emitReserved("connect_error",n)}onclose(n,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",n,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(n=>{if(!this.sendBuffer.some(r=>String(r.id)===n)){const r=this.acks[n];delete this.acks[n],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(n){if(n.nsp===this.nsp)switch(n.type){case ct.CONNECT:n.data&&n.data.sid?this.onconnect(n.data.sid,n.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case ct.EVENT:case ct.BINARY_EVENT:this.onevent(n);break;case ct.ACK:case ct.BINARY_ACK:this.onack(n);break;case ct.DISCONNECT:this.ondisconnect();break;case ct.CONNECT_ERROR:this.destroy();const r=new Error(n.data.message);r.data=n.data.data,this.emitReserved("connect_error",r);break}}onevent(n){const t=n.data||[];n.id!=null&&t.push(this.ack(n.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(n){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const r of t)r.apply(this,n)}super.emit.apply(this,n),this._pid&&n.length&&typeof n[n.length-1]=="string"&&(this._lastOffset=n[n.length-1])}ack(n){const t=this;let r=!1;return function(...i){r||(r=!0,t.packet({type:ct.ACK,id:n,data:i}))}}onack(n){const t=this.acks[n.id];typeof t=="function"&&(delete this.acks[n.id],t.withError&&n.data.unshift(null),t.apply(this,n.data))}onconnect(n,t){this.id=n,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(n=>this.emitEvent(n)),this.receiveBuffer=[],this.sendBuffer.forEach(n=>{this.notifyOutgoingListeners(n),this.packet(n)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(n=>n()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:ct.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(n){return this.flags.compress=n,this}get volatile(){return this.flags.volatile=!0,this}timeout(n){return this.flags.timeout=n,this}onAny(n){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(n),this}prependAny(n){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(n),this}offAny(n){if(!this._anyListeners)return this;if(n){const t=this._anyListeners;for(let r=0;r<t.length;r++)if(n===t[r])return t.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(n){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(n),this}prependAnyOutgoing(n){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(n),this}offAnyOutgoing(n){if(!this._anyOutgoingListeners)return this;if(n){const t=this._anyOutgoingListeners;for(let r=0;r<t.length;r++)if(n===t[r])return t.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(n){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const r of t)r.apply(this,n.data)}}}function mn(s){s=s||{},this.ms=s.min||100,this.max=s.max||1e4,this.factor=s.factor||2,this.jitter=s.jitter>0&&s.jitter<=1?s.jitter:0,this.attempts=0}mn.prototype.duration=function(){var s=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var n=Math.random(),t=Math.floor(n*this.jitter*s);s=Math.floor(n*10)&1?s+t:s-t}return Math.min(s,this.max)|0};mn.prototype.reset=function(){this.attempts=0};mn.prototype.setMin=function(s){this.ms=s};mn.prototype.setMax=function(s){this.max=s};mn.prototype.setJitter=function(s){this.jitter=s};class Li extends At{constructor(n,t){var r;super(),this.nsps={},this.subs=[],n&&typeof n=="object"&&(t=n,n=void 0),t=t||{},t.path=t.path||"/socket.io",this.opts=t,zr(this,t),this.reconnection(t.reconnection!==!1),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor((r=t.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new mn({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(t.timeout==null?2e4:t.timeout),this._readyState="closed",this.uri=n;const i=t.parser||Np;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=t.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(n){return arguments.length?(this._reconnection=!!n,n||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(n){return n===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=n,this)}reconnectionDelay(n){var t;return n===void 0?this._reconnectionDelay:(this._reconnectionDelay=n,(t=this.backoff)===null||t===void 0||t.setMin(n),this)}randomizationFactor(n){var t;return n===void 0?this._randomizationFactor:(this._randomizationFactor=n,(t=this.backoff)===null||t===void 0||t.setJitter(n),this)}reconnectionDelayMax(n){var t;return n===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=n,(t=this.backoff)===null||t===void 0||t.setMax(n),this)}timeout(n){return arguments.length?(this._timeout=n,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(n){if(~this._readyState.indexOf("open"))return this;this.engine=new rp(this.uri,this.opts);const t=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const i=es(t,"open",function(){r.onopen(),n&&n()}),a=m=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",m),n?n(m):this.maybeReconnectOnOpen()},o=es(t,"error",a);if(this._timeout!==!1){const m=this._timeout,c=this.setTimeoutFn(()=>{i(),a(new Error("timeout")),t.close()},m);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(i),this.subs.push(o),this}connect(n){return this.open(n)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const n=this.engine;this.subs.push(es(n,"ping",this.onping.bind(this)),es(n,"data",this.ondata.bind(this)),es(n,"error",this.onerror.bind(this)),es(n,"close",this.onclose.bind(this)),es(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(n){try{this.decoder.add(n)}catch(t){this.onclose("parse error",t)}}ondecoded(n){$r(()=>{this.emitReserved("packet",n)},this.setTimeoutFn)}onerror(n){this.emitReserved("error",n)}socket(n,t){let r=this.nsps[n];return r?this._autoConnect&&!r.active&&r.connect():(r=new zm(this,n,t),this.nsps[n]=r),r}_destroy(n){const t=Object.keys(this.nsps);for(const r of t)if(this.nsps[r].active)return;this._close()}_packet(n){const t=this.encoder.encode(n);for(let r=0;r<t.length;r++)this.engine.write(t[r],n.options)}cleanup(){this.subs.forEach(n=>n()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(n,t){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",n,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const n=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{n.skipReconnect||(this.emitReserved("reconnect_attempt",n.backoff.attempts),!n.skipReconnect&&n.open(i=>{i?(n._reconnecting=!1,n.reconnect(),this.emitReserved("reconnect_error",i)):n.onreconnect()}))},t);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const n=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",n)}}const yn={};function wn(s,n){typeof s=="object"&&(n=s,s=void 0),n=n||{};const t=ip(s,n.path||"/socket.io"),r=t.source,i=t.id,a=t.path,o=yn[i]&&a in yn[i].nsps,m=n.forceNew||n["force new connection"]||n.multiplex===!1||o;let c;return m?c=new Li(r,n):(yn[i]||(yn[i]=new Li(r,n)),c=yn[i]),t.query&&!n.query&&(n.query=t.queryKey),c.socket(t.path,n)}Object.assign(wn,{Manager:Li,Socket:zm,io:wn,connect:wn});const xp="modulepreload",yp=function(s){return"/"+s},so={},hp=function(n,t,r){let i=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),m=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(t.map(c=>{if(c=yp(c),c in so)return;so[c]=!0;const p=c.endsWith(".css"),u=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const f=document.createElement("link");if(f.rel=p?"stylesheet":xp,p||(f.as="script"),f.crossOrigin="",f.href=c,m&&f.setAttribute("nonce",m),document.head.appendChild(f),p)return new Promise((b,N)=>{f.addEventListener("load",b),f.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(o){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=o,window.dispatchEvent(m),!m.defaultPrevented)throw o}return i.then(o=>{for(const m of o||[])m.status==="rejected"&&a(m.reason);return n().catch(a)})};function kp(s={}){const{immediate:n=!1,onNeedRefresh:t,onOfflineReady:r,onRegistered:i,onRegisteredSW:a,onRegisterError:o}=s;let m,c,p;const u=async(b=!0)=>{await c,await(p==null?void 0:p())};async function f(){if("serviceWorker"in navigator){if(m=await hp(async()=>{const{Workbox:b}=await import("./workbox-window.prod.es5-B9K5rw8f.js");return{Workbox:b}},[]).then(({Workbox:b})=>new b("/sw.js",{scope:"/",type:"classic"})).catch(b=>{o==null||o(b)}),!m)return;p=async()=>{await(m==null?void 0:m.messageSkipWaiting())};{let b=!1;const N=()=>{b=!0,m==null||m.addEventListener("controlling",j=>{j.isUpdate&&window.location.reload()}),t==null||t()};m.addEventListener("installed",j=>{typeof j.isUpdate>"u"?typeof j.isExternal<"u"?j.isExternal?N():!b&&(r==null||r()):j.isExternal?window.location.reload():!b&&(r==null||r()):j.isUpdate||r==null||r()}),m.addEventListener("waiting",N),m.addEventListener("externalwaiting",N)}m.register({immediate:n}).then(b=>{a?a("/sw.js",b):i==null||i(b)}).catch(b=>{o==null||o(b)})}}return c=f(),u}const vp="/api",Le=Zd.create({baseURL:vp,headers:{"Content-Type":"application/json"}});Le.interceptors.request.use(s=>{const n=localStorage.getItem("token");return n&&(s.headers.Authorization=`Bearer ${n}`),s},s=>Promise.reject(s));Le.interceptors.response.use(s=>s,s=>{var n;return((n=s.response)==null?void 0:n.status)===401&&(localStorage.removeItem("token"),window.location.href="/login"),Promise.reject(s)});const Ym=d.createContext(void 0);function Dp({children:s}){const[n,t]=d.useState(null),[r,i]=d.useState(!0),a=om();d.useEffect(()=>{o()},[]);const o=async()=>{try{const u=localStorage.getItem("token");if(!u){i(!1);return}Le.defaults.headers.common.Authorization=`Bearer ${u}`;const f=await Le.get("/auth/me");f.data.success&&t(f.data.user)}catch{localStorage.removeItem("token"),delete Le.defaults.headers.common.Authorization}finally{i(!1)}},m=async(u,f)=>{var b,N;try{const j=await Le.post("/auth/login",{username:u,password:f}),{token:x,user:R}=j.data;localStorage.setItem("token",x),Le.defaults.headers.common.Authorization=`Bearer ${x}`,t(R),M.success(`${R.name}, !`),a("/")}catch(j){const x=j;throw M.error(((N=(b=x.response)==null?void 0:b.data)==null?void 0:N.message)||" "),j}},c=()=>{localStorage.removeItem("token"),delete Le.defaults.headers.common.Authorization,t(null),a("/login"),M.success("")},p=u=>{t(u)};return e.jsxDEV(Ym.Provider,{value:{user:n,loading:r,login:m,logout:c,updateUser:p},children:s},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/contexts/AuthContext.tsx",lineNumber:88,columnNumber:5},this)}function Mt(){const s=d.useContext(Ym);if(s===void 0)throw new Error("useAuth must be used within an AuthProvider");return s}const Vp={};function Cp(s,n){let t;try{t=s()}catch{return}return{getItem:i=>{var a;const o=c=>c===null?null:JSON.parse(c,void 0),m=(a=t.getItem(i))!=null?a:null;return m instanceof Promise?m.then(o):o(m)},setItem:(i,a)=>t.setItem(i,JSON.stringify(a,void 0)),removeItem:i=>t.removeItem(i)}}const Rn=s=>n=>{try{const t=s(n);return t instanceof Promise?t:{then(r){return Rn(r)(t)},catch(r){return this}}}catch(t){return{then(r){return this},catch(r){return Rn(r)(t)}}}},Ep=(s,n)=>(t,r,i)=>{let a={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:R=>R,version:0,merge:(R,I)=>({...I,...R}),...n},o=!1;const m=new Set,c=new Set;let p;try{p=a.getStorage()}catch{}if(!p)return s((...R)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),t(...R)},r,i);const u=Rn(a.serialize),f=()=>{const R=a.partialize({...r()});let I;const y=u({state:R,version:a.version}).then(T=>p.setItem(a.name,T)).catch(T=>{I=T});if(I)throw I;return y},b=i.setState;i.setState=(R,I)=>{b(R,I),f()};const N=s((...R)=>{t(...R),f()},r,i);let j;const x=()=>{var R;if(!p)return;o=!1,m.forEach(y=>y(r()));const I=((R=a.onRehydrateStorage)==null?void 0:R.call(a,r()))||void 0;return Rn(p.getItem.bind(p))(a.name).then(y=>{if(y)return a.deserialize(y)}).then(y=>{if(y)if(typeof y.version=="number"&&y.version!==a.version){if(a.migrate)return a.migrate(y.state,y.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return y.state}).then(y=>{var T;return j=a.merge(y,(T=r())!=null?T:N),t(j,!0),f()}).then(()=>{I==null||I(j,void 0),o=!0,c.forEach(y=>y(j))}).catch(y=>{I==null||I(void 0,y)})};return i.persist={setOptions:R=>{a={...a,...R},R.getStorage&&(p=R.getStorage())},clearStorage:()=>{p==null||p.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>x(),hasHydrated:()=>o,onHydrate:R=>(m.add(R),()=>{m.delete(R)}),onFinishHydration:R=>(c.add(R),()=>{c.delete(R)})},x(),j||N},Ap=(s,n)=>(t,r,i)=>{let a={storage:Cp(()=>localStorage),partialize:x=>x,version:0,merge:(x,R)=>({...R,...x}),...n},o=!1;const m=new Set,c=new Set;let p=a.storage;if(!p)return s((...x)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),t(...x)},r,i);const u=()=>{const x=a.partialize({...r()});return p.setItem(a.name,{state:x,version:a.version})},f=i.setState;i.setState=(x,R)=>{f(x,R),u()};const b=s((...x)=>{t(...x),u()},r,i);i.getInitialState=()=>b;let N;const j=()=>{var x,R;if(!p)return;o=!1,m.forEach(y=>{var T;return y((T=r())!=null?T:b)});const I=((R=a.onRehydrateStorage)==null?void 0:R.call(a,(x=r())!=null?x:b))||void 0;return Rn(p.getItem.bind(p))(a.name).then(y=>{if(y)if(typeof y.version=="number"&&y.version!==a.version){if(a.migrate)return[!0,a.migrate(y.state,y.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,y.state];return[!1,void 0]}).then(y=>{var T;const[te,ee]=y;if(N=a.merge(ee,(T=r())!=null?T:b),t(N,!0),te)return u()}).then(()=>{I==null||I(N,void 0),N=r(),o=!0,c.forEach(y=>y(N))}).catch(y=>{I==null||I(void 0,y)})};return i.persist={setOptions:x=>{a={...a,...x},x.storage&&(p=x.storage)},clearStorage:()=>{p==null||p.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>j(),hasHydrated:()=>o,onHydrate:x=>(m.add(x),()=>{m.delete(x)}),onFinishHydration:x=>(c.add(x),()=>{c.delete(x)})},a.skipHydration||j(),N||b},wp=(s,n)=>"getStorage"in n||"serialize"in n||"deserialize"in n?((Vp?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),Ep(s,n)):Ap(s,n),Km=wp,Xm=mm()(Km((s,n)=>({notifications:[],unreadCount:0,addNotification:t=>{const r={...t,id:Date.now().toString()+Math.random().toString(36).substr(2,9),read:!1,createdAt:new Date};s(i=>({notifications:[r,...i.notifications].slice(0,50),unreadCount:i.unreadCount+1}))},markAsRead:t=>{s(r=>({notifications:r.notifications.map(i=>i.id===t?{...i,read:!0}:i),unreadCount:Math.max(0,r.unreadCount-1)}))},markAllAsRead:()=>{s(t=>({notifications:t.notifications.map(r=>({...r,read:!0})),unreadCount:0}))},deleteNotification:t=>{s(r=>{const i=r.notifications.find(o=>o.id===t),a=i&&!i.read;return{notifications:r.notifications.filter(o=>o.id!==t),unreadCount:a?Math.max(0,r.unreadCount-1):r.unreadCount}})},clearAll:()=>{s({notifications:[],unreadCount:0})},getUnreadCount:()=>n().unreadCount}),{name:"notification-storage",partialize:s=>({notifications:s.notifications,unreadCount:s.unreadCount})}));var _p={lessThanXSeconds:{one:"1 ",other:"{{count}} "},xSeconds:{one:"1",other:"{{count}}"},halfAMinute:"30",lessThanXMinutes:{one:"1 ",other:"{{count}} "},xMinutes:{one:"1",other:"{{count}}"},aboutXHours:{one:" 1",other:" {{count}}"},xHours:{one:"1",other:"{{count}}"},xDays:{one:"1",other:"{{count}}"},aboutXWeeks:{one:" 1",other:" {{count}}"},xWeeks:{one:"1",other:"{{count}}"},aboutXMonths:{one:" 1",other:" {{count}}"},xMonths:{one:"1",other:"{{count}}"},aboutXYears:{one:" 1",other:" {{count}}"},xYears:{one:"1",other:"{{count}}"},overXYears:{one:"1 ",other:"{{count}} "},almostXYears:{one:" 1",other:" {{count}}"}},jp=function(n,t,r){var i,a=_p[n];return typeof a=="string"?i=a:t===1?i=a.one:i=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?i+" ":i+" ":i},Lp={full:"y M d EEEE",long:"y M d",medium:"y.MM.dd",short:"y.MM.dd"},Hp={full:"a H mm ss zzzz",long:"a H:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},Bp={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},Up={date:di({formats:Lp,defaultWidth:"full"}),time:di({formats:Hp,defaultWidth:"full"}),dateTime:di({formats:Bp,defaultWidth:"full"})},Sp={lastWeek:"'' eeee p",yesterday:"'' p",today:"'' p",tomorrow:"'' p",nextWeek:"'' eeee p",other:"P"},Pp=function(n,t,r,i){return Sp[n]},Rp={narrow:["BC","AD"],abbreviated:["BC","AD"],wide:["",""]},Mp={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1","2","3","4"]},Ip={narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],abbreviated:["1","2","3","4","5","6","7","8","9","10","11","12"],wide:["1","2","3","4","5","6","7","8","9","10","11","12"]},Tp={narrow:["","","","","","",""],short:["","","","","","",""],abbreviated:["","","","","","",""],wide:["","","","","","",""]},Fp={narrow:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},abbreviated:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},Wp={narrow:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},abbreviated:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},qp=function(n,t){var r=Number(n),i=String(t==null?void 0:t.unit);switch(i){case"minute":case"second":return String(r);case"date":return r+"";default:return r+""}},Op={ordinalNumber:qp,era:bn({values:Rp,defaultWidth:"wide"}),quarter:bn({values:Mp,defaultWidth:"wide",argumentCallback:function(n){return n-1}}),month:bn({values:Ip,defaultWidth:"wide"}),day:bn({values:Tp,defaultWidth:"wide"}),dayPeriod:bn({values:Fp,defaultWidth:"wide",formattingValues:Wp,defaultFormattingWidth:"wide"})},$p=/^(\d+)(|)?/i,zp=/\d+/i,Yp={narrow:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(|)/i},Kp={any:[/^(bc|)/i,/^(ad|)/i]},Xp={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234]?/i},Jp={any:[/1/i,/2/i,/3/i,/4/i]},Gp={narrow:/^(1[012]|[123456789])/,abbreviated:/^(1[012]|[123456789])/i,wide:/^(1[012]|[123456789])/i},Qp={any:[/^1?$/,/^2/,/^3/,/^4/,/^5/,/^6/,/^7/,/^8/,/^9/,/^10/,/^11/,/^12/]},Zp={narrow:/^[]/,short:/^[]/,abbreviated:/^[]/,wide:/^[]/},ef={any:[/^/,/^/,/^/,/^/,/^/,/^/,/^/]},tf={any:/^(am|pm|||||||)/i},sf={any:{am:/^(am|)/i,pm:/^(pm|)/i,midnight:/^/i,noon:/^/i,morning:/^/i,afternoon:/^/i,evening:/^/i,night:/^/i}},nf={ordinalNumber:kc({matchPattern:$p,parsePattern:zp,valueCallback:function(n){return parseInt(n,10)}}),era:xn({matchPatterns:Yp,defaultMatchWidth:"wide",parsePatterns:Kp,defaultParseWidth:"any"}),quarter:xn({matchPatterns:Xp,defaultMatchWidth:"wide",parsePatterns:Jp,defaultParseWidth:"any",valueCallback:function(n){return n+1}}),month:xn({matchPatterns:Gp,defaultMatchWidth:"wide",parsePatterns:Qp,defaultParseWidth:"any"}),day:xn({matchPatterns:Zp,defaultMatchWidth:"wide",parsePatterns:ef,defaultParseWidth:"any"}),dayPeriod:xn({matchPatterns:tf,defaultMatchWidth:"any",parsePatterns:sf,defaultParseWidth:"any"})},ft={code:"ko",formatDistance:jp,formatLong:Up,formatRelative:Pp,localize:Op,match:nf,options:{weekStartsOn:0,firstWeekContainsDate:1}};const rf=({isOpen:s,onClose:n})=>{const t=om(),{notifications:r,unreadCount:i,markAsRead:a,markAllAsRead:o,deleteNotification:m,clearAll:c}=Xm();if(!s)return null;const p=b=>{switch(b){case"payment":return e.jsxDEV(rc,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:21,columnNumber:16},void 0);case"as_request":return e.jsxDEV(nc,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:23,columnNumber:16},void 0);case"schedule":return e.jsxDEV(nn,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:25,columnNumber:16},void 0);case"work_request":return e.jsxDEV(sc,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:27,columnNumber:16},void 0);default:return e.jsxDEV(li,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:29,columnNumber:16},void 0)}},u=b=>{switch(b){case"payment":return"text-green-600 bg-green-50";case"as_request":return"text-yellow-600 bg-yellow-50";case"schedule":return"text-blue-600 bg-blue-50";case"work_request":return"text-purple-600 bg-purple-50";default:return"text-gray-600 bg-gray-50"}},f=b=>{a(b.id),b.link&&(t(b.link),n())};return e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-25 z-40",onClick:n},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:59,columnNumber:7},void 0),e.jsxDEV("div",{className:"fixed right-0 top-16 h-[calc(100vh-4rem)] w-full sm:w-96 bg-white shadow-2xl z-50 flex flex-col",children:[e.jsxDEV("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(li,{className:"h-5 w-5 text-gray-900"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:69,columnNumber:13},void 0),e.jsxDEV("h2",{className:"text-lg font-bold text-gray-900",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:70,columnNumber:13},void 0),i>0&&e.jsxDEV("span",{className:"px-2 py-0.5 bg-gray-900 text-white text-xs font-bold rounded-full",children:i},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:72,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:68,columnNumber:11},void 0),e.jsxDEV("button",{onClick:n,className:"p-1 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsxDEV(ot,{className:"h-5 w-5 text-gray-600"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:81,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:77,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:67,columnNumber:9},void 0),r.length>0&&e.jsxDEV("div",{className:"flex items-center gap-2 px-4 py-2 bg-gray-50 border-b border-gray-200",children:[i>0&&e.jsxDEV("button",{onClick:o,className:"flex items-center gap-1 text-xs text-gray-600 hover:text-gray-900",children:[e.jsxDEV(ea,{className:"h-3 w-3"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:93,columnNumber:17},void 0)," "]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:89,columnNumber:15},void 0),e.jsxDEV("button",{onClick:c,className:"flex items-center gap-1 text-xs text-gray-600 hover:text-red-600 ml-auto",children:[e.jsxDEV(bt,{className:"h-3 w-3"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:101,columnNumber:15},void 0)," "]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:97,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:87,columnNumber:11},void 0),e.jsxDEV("div",{className:"flex-1 overflow-y-auto",children:r.length===0?e.jsxDEV("div",{className:"flex flex-col items-center justify-center h-full text-center p-8",children:[e.jsxDEV(li,{className:"h-12 w-12 text-gray-300 mb-3"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:111,columnNumber:15},void 0),e.jsxDEV("p",{className:"text-sm text-gray-500",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:112,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:110,columnNumber:13},void 0):e.jsxDEV("div",{className:"divide-y divide-gray-100",children:r.map(b=>e.jsxDEV("div",{className:`p-4 hover:bg-gray-50 transition-colors cursor-pointer ${b.read?"":"bg-blue-50"}`,onClick:()=>f(b),children:e.jsxDEV("div",{className:"flex gap-3",children:[e.jsxDEV("div",{className:`flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center ${u(b.type)}`,children:p(b.type)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:126,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex-1 min-w-0",children:[e.jsxDEV("div",{className:"flex items-start justify-between gap-2",children:[e.jsxDEV("p",{className:`text-sm font-semibold ${b.read?"text-gray-700":"text-gray-900"}`,children:b.title},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:133,columnNumber:25},void 0),!b.read&&e.jsxDEV("span",{className:"flex-shrink-0 w-2 h-2 bg-blue-600 rounded-full mt-1"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:137,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:132,columnNumber:23},void 0),e.jsxDEV("p",{className:"text-xs text-gray-600 mt-1 line-clamp-2",children:b.message},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:140,columnNumber:23},void 0),e.jsxDEV("p",{className:"text-xs text-gray-400 mt-1",children:vc(new Date(b.createdAt),{addSuffix:!0,locale:ft})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:143,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:131,columnNumber:21},void 0),e.jsxDEV("button",{onClick:N=>{N.stopPropagation(),m(b.id)},className:"flex-shrink-0 p-1 hover:bg-gray-200 rounded transition-colors",children:e.jsxDEV(ot,{className:"h-4 w-4 text-gray-400"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:159,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:152,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:124,columnNumber:19},void 0)},b.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:117,columnNumber:17},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:115,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:108,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:65,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:57,columnNumber:5},void 0)},_s={getAllWorkRequests:async()=>(await Le.get("/workrequests")).data,getWorkRequestById:async s=>(await Le.get(`/workrequests/${s}`)).data,createWorkRequest:async s=>{console.log("[workRequestService.createWorkRequest] Input data:",s);const n={project:s.project,requestType:s.requestType,description:s.description,requestDate:s.requestDate instanceof Date?s.requestDate.toISOString():s.requestDate,dueDate:s.dueDate instanceof Date?s.dueDate.toISOString():s.dueDate,requestedBy:s.requestedBy,assignedTo:s.assignedTo,priority:s.priority||"medium",status:s.status||"pending",notes:s.notes||""};return console.log("[workRequestService.createWorkRequest] Sending to backend:",n),(await Le.post("/workrequests",n)).data},updateWorkRequest:async(s,n)=>{console.log("[workRequestService.updateWorkRequest] Input data:",n);const t={};return n.project!==void 0&&(t.project=n.project),n.requestType!==void 0&&(t.requestType=n.requestType),n.description!==void 0&&(t.description=n.description),n.requestDate!==void 0&&(t.requestDate=n.requestDate instanceof Date?n.requestDate.toISOString():n.requestDate),n.dueDate!==void 0&&(t.dueDate=n.dueDate instanceof Date?n.dueDate.toISOString():n.dueDate),n.requestedBy!==void 0&&(t.requestedBy=n.requestedBy),n.assignedTo!==void 0&&(t.assignedTo=n.assignedTo),n.priority!==void 0&&(t.priority=n.priority),n.status!==void 0&&(t.status=n.status),n.notes!==void 0&&(t.notes=n.notes),n.completedDate!==void 0&&(t.completedDate=n.completedDate instanceof Date?n.completedDate.toISOString():n.completedDate),console.log("[workRequestService.updateWorkRequest] Sending to backend:",t),(await Le.put(`/workrequests/${s}`,t)).data},deleteWorkRequest:async s=>{await Le.delete(`/workrequests/${s}`)}},ss={getAllPayments:async()=>(await Le.get("/payments")).data,getPaymentById:async s=>(await Le.get(`/payments/${s}`)).data,createPayment:async s=>{var r,i,a;const n={project_id:s.projectId,request_type:s.category,vendor_name:s.process||"",description:s.purpose||"",amount:s.amount,account_holder:((r=s.bankInfo)==null?void 0:r.accountHolder)||"",bank_name:((i=s.bankInfo)==null?void 0:i.bankName)||"",account_number:((a=s.bankInfo)==null?void 0:a.accountNumber)||"",notes:s.notes||"",itemName:s.itemName||"",materialAmount:s.materialAmount||0,laborAmount:s.laborAmount||0,originalMaterialAmount:s.originalMaterialAmount||0,originalLaborAmount:s.originalLaborAmount||0,applyTaxDeduction:s.applyTaxDeduction||!1,includesVAT:s.includesVAT||!1,quickText:s.quickText||"",images:s.images||[]};return console.log("[paymentService.createPayment] Sending to backend:",n),(await Le.post("/payments",n)).data},updatePayment:async(s,n)=>{const t={};return n.projectId!==void 0&&(t.project=n.projectId),n.purpose!==void 0&&(t.description=n.purpose),n.amount!==void 0&&(t.amount=n.amount),n.process!==void 0&&(t.vendor_name=n.process),n.category!==void 0&&(t.request_type=n.category),n.itemName!==void 0&&(t.itemName=n.itemName),n.materialAmount!==void 0&&(t.materialAmount=n.materialAmount),n.laborAmount!==void 0&&(t.laborAmount=n.laborAmount),n.originalMaterialAmount!==void 0&&(t.originalMaterialAmount=n.originalMaterialAmount),n.originalLaborAmount!==void 0&&(t.originalLaborAmount=n.originalLaborAmount),n.applyTaxDeduction!==void 0&&(t.applyTaxDeduction=n.applyTaxDeduction),n.includesVAT!==void 0&&(t.includesVAT=n.includesVAT),n.notes!==void 0&&(t.notes=n.notes),n.requestDate!==void 0&&(t.requestDate=n.requestDate),n.bankInfo!==void 0&&(n.bankInfo.accountHolder&&(t.account_holder=n.bankInfo.accountHolder),n.bankInfo.bankName&&(t.bank_name=n.bankInfo.bankName),n.bankInfo.accountNumber&&(t.account_number=n.bankInfo.accountNumber)),(await Le.put(`/payments/${s}`,t)).data},updatePaymentStatus:async(s,n)=>(await Le.put(`/payments/${s}/status`,{status:n})).data,updatePaymentAmounts:async(s,n,t)=>(await Le.patch(`/payments/${s}/amounts`,{materialAmount:n,laborAmount:t})).data,updatePaymentImages:async(s,n)=>(await Le.put(`/payments/${s}/images`,{images:n})).data,deletePayment:async s=>{await Le.delete(`/payments/${s}`)}},En={getAllASRequests:async()=>(await Le.get("/as-requests")).data,getASRequestById:async s=>(await Le.get(`/as-requests/${s}`)).data,createASRequest:async s=>(await Le.post("/as-requests",s)).data,updateASRequest:async(s,n)=>(await Le.put(`/as-requests/${s}`,n)).data,deleteASRequest:async s=>{await Le.delete(`/as-requests/${s}`)}},af=()=>{var Ae,Ue;const{user:s,logout:n,loading:t}=Mt(),[r,i]=d.useState(!1),[a,o]=d.useState(!1),[m,c]=d.useState(!1),p=Kd(),{unreadCount:u}=Xm(),[f,b]=d.useState(0),[N,j]=d.useState(0),[x,R]=d.useState(0),[I,y]=d.useState(0),[T,te]=d.useState(!1),[ee,L]=d.useState(0),[z,se]=d.useState(!1),oe=d.useRef(0),ce=d.useRef(null),De=80,Q=d.useCallback(he=>{window.scrollY===0&&window.innerWidth<768&&(oe.current=he.touches[0].clientY,te(!0))},[]),ne=d.useCallback(he=>{if(!T||z)return;const $e=he.touches[0].clientY-oe.current;if($e>0&&window.scrollY===0){const qe=Math.min($e*.5,120);L(qe)}},[T,z]),xe=d.useCallback(()=>{T&&(ee>=De&&!z?(se(!0),L(50),setTimeout(()=>{window.location.reload()},300)):L(0),te(!1))},[T,ee,z]);if(d.useEffect(()=>{c(!1)},[p.pathname]),d.useEffect(()=>{const he=Re=>{c(Re.detail.isOpen)};return window.addEventListener("mobileFormStateChange",he),()=>window.removeEventListener("mobileFormStateChange",he)},[]),d.useEffect(()=>{const he=()=>{y(Re=>Math.max(0,Re-1))};return window.addEventListener("quoteInquiryRead",he),()=>window.removeEventListener("quoteInquiryRead",he)},[]),d.useEffect(()=>{if(!s)return;const he=async()=>{try{const[$e,qe,Oe]=await Promise.all([_s.getAllWorkRequests(),ss.getAllPayments(),En.getAllASRequests()]);if(b($e.filter(B=>B.assignedTo===s.name&&B.status==="pending").length),j(qe.filter(B=>B.status==="pending").length),R(Oe.filter(B=>B.status==="in-progress").length),s.role==="admin"||s.role==="manager")try{const ge=(await Le.get("/quote-inquiries")).data.filter(me=>!me.isRead).length;y(ge)}catch(B){console.error("Failed to load quote inquiry count:",B)}}catch($e){console.error("Failed to load badge counts:",$e)}};he();const Re=setInterval(he,3e4);return()=>clearInterval(Re)},[s]),t)return e.jsxDEV("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:154,columnNumber:11},void 0),e.jsxDEV("p",{className:"mt-4 text-gray-600",children:" ..."},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:155,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:153,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:152,columnNumber:7},void 0);if(!s)return e.jsxDEV(Tr,{to:"/login",replace:!0},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:163,columnNumber:12},void 0);const Ee=[{name:"",href:"/dashboard"},{name:"",href:"/projects"},{name:"",href:"/schedule"},{name:"",href:"/drawings"},{name:"",href:"/site-log"},{name:"",href:"/additional-work"},{name:"",href:"/construction-payment",roles:["admin","manager"]},{name:"",href:"/work-request",...f>0&&{badge:f}},{name:"",href:"/specbook"},{name:"",href:"/finish-check"},{name:"",href:"/execution-history"},{name:"",href:"/payments",...N>0&&{badge:N}},{name:"AS ",href:"/after-service",...x>0&&{badge:x}},{name:"",href:"/estimate-preview",roles:["admin","manager"]},{name:"",href:"/quote-inquiry",roles:["admin","manager"],...I>0&&{badge:I}},{name:"",href:"/contractors"}],He=Ee.filter(he=>!he.roles||he.roles.includes((s==null?void 0:s.role)||"")),Ve=((Ae=Ee.find(he=>he.href===p.pathname))==null?void 0:Ae.name)||"",de=(()=>{const he=p.pathname;return["/projects","/schedule","/after-service","/additional-work","/construction-payment","/contractors","/work-request"].includes(he)?()=>{const $e=new CustomEvent("headerAddButtonClick");window.dispatchEvent($e)}:null})();return e.jsxDEV("div",{className:"min-h-screen bg-gray-50",children:[e.jsxDEV("div",{className:Pt("fixed inset-0 z-40 lg:hidden",r?"block":"hidden"),children:[e.jsxDEV("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-50",onClick:()=>i(!1)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:230,columnNumber:9},void 0),e.jsxDEV("div",{className:"fixed inset-y-0 left-0 flex w-64 flex-col bg-white",children:[e.jsxDEV("div",{className:"flex h-16 items-center justify-between px-6 border-b border-gray-200",children:[e.jsxDEV("h2",{className:"text-xl font-bold text-gray-900",children:"HV LAB"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:236,columnNumber:13},void 0),e.jsxDEV("button",{onClick:()=>i(!1),className:"text-sm text-gray-600 hover:text-gray-900",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:237,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:235,columnNumber:11},void 0),e.jsxDEV("nav",{className:"flex-1 space-y-1 px-4 py-4",children:He.map(he=>e.jsxDEV(mi,{to:he.href,className:({isActive:Re})=>Pt("block px-4 py-3 text-sm font-medium border-l-2 transition-colors relative",Re?"border-gray-900 bg-gray-50 text-gray-900":"border-transparent text-gray-600 hover:border-gray-400 hover:bg-gray-50"),onClick:()=>i(!1),children:e.jsxDEV("span",{className:"flex items-center justify-between",children:[e.jsxDEV("span",{children:he.name},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:260,columnNumber:19},void 0),he.badge&&he.badge>0&&e.jsxDEV("span",{className:"ml-2 inline-flex items-center justify-center px-2 py-0.5 text-xs font-bold leading-none text-white bg-red-600 rounded-full",children:he.badge>99?"99+":he.badge},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:262,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:259,columnNumber:17},void 0)},he.name,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:246,columnNumber:15},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:244,columnNumber:11},void 0),e.jsxDEV("div",{className:"border-t border-gray-200 px-4 py-4",children:e.jsxDEV("button",{onClick:n,className:"w-full px-4 py-3 text-sm font-medium text-gray-600 hover:bg-gray-50 text-left",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:271,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:270,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:234,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:224,columnNumber:7},void 0),e.jsxDEV("div",{className:"desktop-sidebar hidden lg:fixed lg:inset-y-0 lg:flex lg:w-64 lg:flex-col",children:e.jsxDEV("div",{className:"flex flex-col bg-white border-r border-gray-200",children:[e.jsxDEV("div",{className:"flex h-16 items-center px-6 border-b border-gray-200",children:e.jsxDEV("h2",{className:"text-xl font-bold text-gray-900",children:"HV LAB"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:285,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:284,columnNumber:11},void 0),e.jsxDEV("nav",{className:"flex-1 space-y-1 px-4 py-4",children:He.map(he=>e.jsxDEV(mi,{to:he.href,className:({isActive:Re})=>Pt("block px-4 py-3 text-sm font-medium border-l-2 transition-colors relative",Re?"border-gray-900 bg-gray-50 text-gray-900":"border-transparent text-gray-600 hover:border-gray-400 hover:bg-gray-50"),children:e.jsxDEV("span",{className:"flex items-center justify-between",children:[e.jsxDEV("span",{children:he.name},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:302,columnNumber:19},void 0),he.badge&&he.badge>0&&e.jsxDEV("span",{className:"ml-2 inline-flex items-center justify-center px-2 py-0.5 text-xs font-bold leading-none text-white bg-red-600 rounded-full",children:he.badge>99?"99+":he.badge},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:304,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:301,columnNumber:17},void 0)},he.name,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:289,columnNumber:15},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:287,columnNumber:11},void 0),e.jsxDEV("div",{className:"border-t border-gray-200 px-4 py-4",children:e.jsxDEV("button",{onClick:n,className:"w-full px-4 py-3 text-sm font-medium text-gray-600 hover:bg-gray-50 text-left",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:313,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:312,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:283,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:282,columnNumber:7},void 0),e.jsxDEV("div",{className:"main-content lg:pl-64",children:[e.jsxDEV("header",{className:"sticky top-0 z-30 bg-white border-b border-gray-200",children:e.jsxDEV("div",{className:"flex items-center justify-between px-4 py-3 sm:px-6 lg:px-8",children:[e.jsxDEV("div",{className:"flex items-center space-x-3",children:[e.jsxDEV("button",{onClick:()=>i(!0),className:"lg:hidden p-2 text-gray-600 hover:text-gray-900 -ml-2","aria-label":" ",children:e.jsxDEV("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:336,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:335,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:330,columnNumber:15},void 0),Ve&&e.jsxDEV("h1",{className:"text-lg font-bold text-gray-900",children:Ve},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:340,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:329,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex items-center space-x-2 sm:space-x-6 ml-auto",children:[de&&e.jsxDEV("button",{onClick:de,className:"lg:hidden p-2 text-gray-900 hover:text-gray-700","aria-label":m?"":"",children:m?e.jsxDEV(ot,{className:"h-6 w-6"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:353,columnNumber:37},void 0):e.jsxDEV(Gt,{className:"h-6 w-6"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:353,columnNumber:65},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:348,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>o(!a),className:"hidden sm:block relative p-2 text-gray-600 hover:text-gray-900 transition-colors","aria-label":"",children:[e.jsxDEV("svg",{className:"h-5 w-5 sm:h-6 sm:w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:363,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:362,columnNumber:17},void 0),u>0&&e.jsxDEV("span",{className:"absolute top-1 right-1 flex items-center justify-center h-4 w-4 bg-red-600 text-white text-[10px] font-bold rounded-full",children:u>9?"9+":u},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:366,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:357,columnNumber:15},void 0),e.jsxDEV("div",{className:"hidden sm:flex items-center space-x-2 sm:space-x-3",children:[e.jsxDEV("div",{className:"text-right",children:[e.jsxDEV("p",{className:"text-sm font-medium text-gray-900",children:s==null?void 0:s.name},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:373,columnNumber:19},void 0),e.jsxDEV("p",{className:"text-xs text-gray-500",children:s==null?void 0:s.role},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:374,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:372,columnNumber:17},void 0),e.jsxDEV("div",{className:"h-8 w-8 sm:h-9 sm:w-9 bg-gray-900 text-white flex items-center justify-center text-xs font-bold rounded-full",children:(Ue=s==null?void 0:s.name)==null?void 0:Ue.substring(0,1)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:376,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:371,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:345,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:327,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:326,columnNumber:9},void 0),e.jsxDEV("div",{className:"portrait-top-nav hidden",children:e.jsxDEV("div",{className:"flex items-center gap-1 px-2 py-2 bg-white border-b border-gray-200 overflow-x-auto",children:He.map(he=>e.jsxDEV(mi,{to:he.href,className:({isActive:Re})=>Pt("px-3 py-1.5 text-sm font-medium rounded-full whitespace-nowrap transition-colors relative",Re?"bg-gray-900 text-white":"text-gray-600 hover:bg-gray-100"),children:e.jsxDEV("span",{className:"flex items-center gap-1",children:[e.jsxDEV("span",{children:he.name},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:401,columnNumber:19},void 0),he.badge&&he.badge>0&&e.jsxDEV("span",{className:"inline-flex items-center justify-center min-w-[18px] h-[18px] px-1 text-[10px] font-bold leading-none text-white bg-red-600 rounded-full",children:he.badge>99?"99+":he.badge},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:403,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:400,columnNumber:17},void 0)},he.name,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:388,columnNumber:15},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:386,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:385,columnNumber:9},void 0),e.jsxDEV("main",{ref:ce,className:"py-[10px] md:py-6 lg:py-8",onTouchStart:Q,onTouchMove:ne,onTouchEnd:xe,children:[ee>0&&e.jsxDEV("div",{className:"md:hidden fixed left-0 right-0 flex items-center justify-center z-50 pointer-events-none",style:{top:56,height:ee,transition:T?"none":"height 0.2s ease-out"},children:e.jsxDEV("div",{className:Pt("flex items-center justify-center w-10 h-10 bg-white rounded-full shadow-lg border",z&&"animate-spin"),style:{transform:`rotate(${z?0:ee*2}deg)`,opacity:Math.min(ee/De,1)},children:e.jsxDEV(ic,{className:Pt("w-5 h-5",ee>=De?"text-blue-600":"text-gray-400")},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:441,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:431,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:423,columnNumber:13},void 0),e.jsxDEV("div",{className:"px-3 sm:px-4 md:px-6 lg:px-8",style:{transform:ee>0?`translateY(${ee}px)`:"none",transition:T?"none":"transform 0.2s ease-out"},children:e.jsxDEV(Xd,{},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:458,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:451,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:414,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:324,columnNumber:7},void 0),e.jsxDEV(rf,{isOpen:a,onClose:()=>o(!1)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:464,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:222,columnNumber:5},void 0)},Zn={getAllSchedules:async()=>(await Le.get("/schedules")).data,getScheduleById:async s=>(await Le.get(`/schedules/${s}`)).data,createSchedule:async s=>(await Le.post("/schedules",{project:s.project,title:s.title,type:s.type||"other",phase:s.phase||"",startDate:s.startDate,endDate:s.endDate,allDay:s.allDay!==void 0?s.allDay:!0,assignedTo:s.assignedTo||[],description:s.description,location:s.location,priority:s.priority||"medium",progress:s.progress||0,isCompleted:s.isCompleted||!1,asRequestId:s.asRequestId,time:s.time})).data,updateSchedule:async(s,n)=>(await Le.put(`/schedules/${s}`,n)).data,deleteSchedule:async s=>{await Le.delete(`/schedules/${s}`)}},er={getAllProjects:async()=>(await Le.get("/projects")).data,getProjectById:async s=>(await Le.get(`/projects/${s}`)).data,createProject:async s=>{const n={name:s.name,client:typeof s.client=="string"?s.client:s.client.name,location:typeof s.location=="string"?s.location:s.location.address,status:s.status||"planning",manager:s.manager,description:s.description||""};if(s.startDate){const r=typeof s.startDate=="string"?new Date(s.startDate):s.startDate;n.startDate=r.toISOString().split("T")[0]}if(s.endDate){const r=typeof s.endDate=="string"?new Date(s.endDate):s.endDate;n.endDate=r.toISOString().split("T")[0]}return console.log("[projectService.createProject] Sending to backend:",n),(await Le.post("/projects",n)).data},updateProject:async(s,n)=>{var r;const t={};if(n.name!==void 0&&(t.name=n.name),n.client!==void 0&&(t.client=typeof n.client=="string"?n.client:n.client.name),n.location!==void 0&&(t.location=typeof n.location=="string"?n.location:n.location.address),n.startDate!==void 0)if(typeof n.startDate=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(n.startDate))t.startDate=n.startDate;else{const i=typeof n.startDate=="string"?new Date(n.startDate):n.startDate;t.startDate=i.toISOString().split("T")[0]}if(n.endDate!==void 0)if(typeof n.endDate=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(n.endDate))t.endDate=n.endDate;else{const i=typeof n.endDate=="string"?new Date(n.endDate):n.endDate;t.endDate=i.toISOString().split("T")[0]}n.status!==void 0&&(t.status=n.status),n.manager!==void 0&&(t.manager=n.manager),n.description!==void 0&&(t.description=n.description),n.meetingNotes!==void 0&&(t.meetingNotes=n.meetingNotes),n.customerRequests!==void 0&&(t.customerRequests=n.customerRequests),n.entrancePassword!==void 0&&(t.entrancePassword=n.entrancePassword),n.sitePassword!==void 0&&(t.sitePassword=n.sitePassword),console.log("[projectService.updateProject] Sending to backend:",t);try{return(await Le.put(`/projects/${s}`,t)).data}catch(i){const a=i;throw console.error("[projectService.updateProject] Error:",i),console.error("[projectService.updateProject] Error response:",(r=a.response)==null?void 0:r.data),i}},deleteProject:async s=>{await Le.delete(`/projects/${s}`)}},vs={getAllContractors:async()=>(await Le.get("/contractors")).data,getContractorById:async s=>(await Le.get(`/contractors/${s}`)).data,createContractor:async s=>(await Le.post("/contractors",s)).data,updateContractor:async(s,n)=>(await Le.put(`/contractors/${s}`,n)).data,deleteContractor:async s=>{await Le.delete(`/contractors/${s}`)}},tr={getAllConstructionPayments:async()=>(await Le.get("/construction-payments")).data,getConstructionPaymentById:async s=>(await Le.get(`/construction-payments/${s}`)).data,createConstructionPayment:async s=>(await Le.post("/construction-payments",s)).data,updateConstructionPayment:async(s,n)=>(await Le.put(`/construction-payments/${s}`,n)).data,deleteConstructionPayment:async s=>{await Le.delete(`/construction-payments/${s}`)}},sr={getAllRecords:async()=>(await Le.get("/execution-records")).data,getRecordById:async s=>(await Le.get(`/execution-records/${s}`)).data,createRecord:async s=>(console.log("[executionRecordService.createRecord] Creating:",s),(await Le.post("/execution-records",s)).data),updateRecord:async(s,n)=>(await Le.put(`/execution-records/${s}`,n)).data,deleteRecord:async s=>{await Le.delete(`/execution-records/${s}`)}},os=mm()(Km((s,n)=>({projects:[],schedules:[],payments:[],contractors:[],constructionPayments:[],asRequests:[],executionRecords:[],setProjects:t=>s({projects:t}),addProject:t=>s(r=>{const i={id:t.id,project:t.name,client:t.client,totalAmount:t.contractAmount,vatType:"percentage",vatPercentage:100,vatAmount:0,payments:[]};return{projects:[t,...r.projects],constructionPayments:[i,...r.constructionPayments]}}),updateProject:(t,r)=>s(i=>({projects:i.projects.map(a=>a.id===t?{...a,...r}:a)})),deleteProject:t=>s(r=>({projects:r.projects.filter(i=>i.id!==t),constructionPayments:r.constructionPayments.filter(i=>i.id!==t)})),setSchedules:t=>s({schedules:t}),addSchedule:t=>s(r=>({schedules:[t,...r.schedules]})),updateSchedule:(t,r)=>s(i=>({schedules:i.schedules.map(a=>a.id===t?{...a,...r}:a)})),deleteSchedule:t=>s(r=>({schedules:r.schedules.filter(i=>i.id!==t)})),setPayments:t=>s({payments:t}),addPayment:t=>s(r=>({payments:[t,...r.payments]})),updatePayment:(t,r)=>s(i=>({payments:i.payments.map(a=>a.id===t?{...a,...r}:a)})),deletePayment:t=>s(r=>({payments:r.payments.filter(i=>i.id!==t)})),setContractors:t=>s({contractors:t}),addContractor:t=>s(r=>({contractors:[t,...r.contractors]})),updateContractor:(t,r)=>s(i=>({contractors:i.contractors.map(a=>a.id===t?{...a,...r}:a)})),deleteContractor:t=>s(r=>({contractors:r.contractors.filter(i=>i.id!==t)})),setConstructionPayments:t=>s({constructionPayments:t}),addConstructionPayment:t=>s(r=>({constructionPayments:[t,...r.constructionPayments]})),updateConstructionPayment:(t,r)=>s(i=>({constructionPayments:i.constructionPayments.map(a=>a.id===t?{...a,...r}:a)})),deleteConstructionPayment:t=>s(r=>({constructionPayments:r.constructionPayments.filter(i=>i.id!==t)})),setASRequests:t=>s({asRequests:t}),addASRequest:t=>s(r=>({asRequests:[t,...r.asRequests]})),updateASRequest:(t,r)=>s(i=>({asRequests:i.asRequests.map(a=>a.id===t?{...a,...r}:a)})),deleteASRequest:t=>s(r=>({asRequests:r.asRequests.filter(i=>i.id!==t)})),setExecutionRecords:t=>s({executionRecords:t}),addExecutionRecord:t=>{console.log("[dataStore]  :",t.id,t.itemName),s(r=>{const i=[t,...r.executionRecords];return console.log("[dataStore]   :",i.length),{executionRecords:i}})},updateExecutionRecord:(t,r)=>s(i=>({executionRecords:i.executionRecords.map(a=>a.id===t?{...a,...r}:a)})),deleteExecutionRecord:t=>s(r=>({executionRecords:r.executionRecords.filter(i=>i.id!==t)})),loadPaymentsFromAPI:async()=>{try{const t=await ss.getAllPayments();console.log("[loadPaymentsFromAPI] Raw API response sample:",t[0]);const r=t.map(i=>({id:String(i.id),project:i.project_name,purpose:i.description,process:i.vendor_name,itemName:i.item_name||"",amount:i.amount,materialAmount:i.material_amount||0,laborAmount:i.labor_amount||0,originalMaterialAmount:i.original_material_amount||0,originalLaborAmount:i.original_labor_amount||0,applyTaxDeduction:i.apply_tax_deduction===1,includesVAT:i.includes_vat===1,quickText:i.quick_text||"",images:(()=>{if(!i.images)return[];if(Array.isArray(i.images))return i.images;try{const a=JSON.parse(i.images);return Array.isArray(a)?a:[]}catch(a){return console.error("  :",a),[]}})(),category:i.request_type,status:i.status,urgency:"normal",requestedBy:i.requester_name,requestDate:new Date(i.created_at),approvalDate:i.approved_at?new Date(i.approved_at):void 0,bankInfo:{accountHolder:i.account_holder||"",bankName:i.bank_name||"",accountNumber:i.account_number||""},attachments:[],notes:i.notes||""}));s({payments:r})}catch(t){throw console.error("Failed to load payments from API:",t),t}},addPaymentToAPI:async t=>{try{const r={projectId:t.project,purpose:t.purpose,process:t.process,itemName:t.itemName,amount:t.amount,category:t.category,urgency:t.urgency,requestedBy:t.requestedBy,bankInfo:t.bankInfo,notes:t.notes,attachments:[],materialAmount:t.materialAmount||0,laborAmount:t.laborAmount||0,originalMaterialAmount:t.originalMaterialAmount||0,originalLaborAmount:t.originalLaborAmount||0,applyTaxDeduction:t.applyTaxDeduction||!1,includesVAT:t.includesVAT||!1,quickText:t.quickText||"",images:t.images||[]};console.log("[addPaymentToAPI] Sending payment data:",r);const i=await ss.createPayment(r),a=String(i.id),o={...t,id:a};return s(m=>({payments:[o,...m.payments]})),a}catch(r){throw console.error("Failed to add payment to API:",r),r}},updatePaymentInAPI:async(t,r)=>{try{if(r.status&&Object.keys(r).length===1)await ss.updatePaymentStatus(t,r.status);else{let i=r.project;if(r.project){const o=n().projects.find(m=>m.name===r.project);i=o?o.id:r.project}await ss.updatePayment(t,{projectId:i,purpose:r.purpose,process:r.process,itemName:r.itemName,amount:r.amount,materialAmount:r.materialAmount,laborAmount:r.laborAmount,originalMaterialAmount:r.originalMaterialAmount,originalLaborAmount:r.originalLaborAmount,category:r.category,urgency:r.urgency,bankInfo:r.bankInfo,notes:r.notes,requestDate:r.requestDate,includesVAT:r.includesVAT,applyTaxDeduction:r.applyTaxDeduction})}s(i=>({payments:i.payments.map(a=>a.id===t?{...a,...r}:a)}))}catch(i){throw console.error("Failed to update payment in API:",i),i}},deletePaymentFromAPI:async t=>{try{await ss.deletePayment(t),s(r=>({payments:r.payments.filter(i=>i.id!==t)}))}catch(r){throw console.error("Failed to delete payment from API:",r),r}},loadSchedulesFromAPI:async()=>{try{const t=await Zn.getAllSchedules();console.log(" LOAD SCHEDULES - Raw API response sample:",t[0]);const r=t.map(i=>{var o;console.log(" Processing schedule:",{id:i._id,title:i.title,assigneeNames:i.assigneeNames,assignedTo:i.assignedTo,assignedToType:typeof i.assignedTo,assignedToLength:Array.isArray(i.assignedTo)?i.assignedTo.length:"not array"});const a=Array.isArray(i.assigneeNames)?i.assigneeNames:i.assigneeNames?typeof i.assigneeNames=="string"?i.assigneeNames.split(",").map(m=>m.trim()):[i.assigneeNames]:((o=i.assignedTo)==null?void 0:o.map(m=>typeof m=="object"?m.name:m))||[];return console.log(" Final attendees:",a),{id:i._id,title:i.title,start:new Date(i.startDate),end:new Date(i.endDate),type:i.type,project:typeof i.project=="object"?i.project.name:i.project,location:i.location,attendees:a,description:i.description,time:i.time}});s({schedules:r})}catch(t){throw console.error("Failed to load schedules from API:",t),t}},addScheduleToAPI:async t=>{var r;try{console.log(" addScheduleToAPI - Input schedule:",{project:t.project,attendees:t.attendees,title:t.title});const i=await Zn.createSchedule({project:t.project||"",title:t.title,type:t.type,startDate:t.start,endDate:t.end,allDay:!t.time||t.time==="-",location:t.location,assignedTo:t.attendees||[],description:t.description,asRequestId:t.asRequestId,time:t.time});console.log(" addScheduleToAPI - API Response:",{id:i._id,assigneeNames:i.assigneeNames,assignedTo:i.assignedTo,project:i.project});const a=t.attendees||[];let o=i.assigneeNames||((r=i.assignedTo)==null?void 0:r.map(c=>typeof c=="object"?c.name:c))||[];a.length>0&&o.length>a.length&&(console.log(" Server added extra attendees, filtering to match request:",{requested:a,serverReturned:o}),o=a);const m={id:i._id,title:i.title,start:new Date(i.startDate),end:new Date(i.endDate),type:i.type,project:typeof i.project=="object"?i.project.name:i.project,location:i.location,attendees:o,description:i.description,time:i.time};console.log(" addScheduleToAPI - Final schedule attendees:",m.attendees),s(c=>({schedules:[m,...c.schedules]}))}catch(i){throw console.error("Failed to add schedule to API:",i),i}},updateScheduleInAPI:async(t,r)=>{var i,a,o;try{console.log(" updateScheduleInAPI called with:",{id:t,updatedSchedule:r});const m={};r.project!==void 0&&(m.project=r.project),r.title!==void 0&&(m.title=r.title),r.type!==void 0&&(m.type=r.type),r.start!==void 0&&(m.startDate=r.start),r.end!==void 0&&(m.endDate=r.end),r.location!==void 0&&(m.location=r.location),r.description!==void 0&&(m.description=r.description),r.attendees!==void 0&&(m.assignedTo=r.attendees),r.time!==void 0&&(m.time=r.time),console.log(" Sending update data:",m);const c=await Zn.updateSchedule(t,m);console.log(" updateScheduleInAPI response:",c);const p={id:c._id,title:c.title,start:new Date(c.startDate),end:new Date(c.endDate),type:c.type,project:typeof c.project=="object"?c.project.name:c.project,location:c.location,attendees:c.assigneeNames||((i=c.assignedTo)==null?void 0:i.map(u=>typeof u=="object"?u.name:u))||[],description:c.description,time:c.time};s(u=>({schedules:u.schedules.map(f=>f.id===t?p:f)}))}catch(m){throw console.error("Failed to update schedule in API:",m),console.error("Error details:",{message:m instanceof Error?m.message:"Unknown error",response:m&&typeof m=="object"&&"response"in m?(a=m.response)==null?void 0:a.data:void 0,status:m&&typeof m=="object"&&"response"in m?(o=m.response)==null?void 0:o.status:void 0}),m}},deleteScheduleFromAPI:async t=>{try{await Zn.deleteSchedule(t),s(r=>({schedules:r.schedules.filter(i=>i.id!==t)}))}catch(r){throw console.error("Failed to delete schedule from API:",r),r}},loadProjectsFromAPI:async()=>{try{const r=(await er.getAllProjects()).map(i=>{var a,o;return{id:i._id||i.id,name:i.name,client:typeof i.client=="object"?i.client.name:i.client||"",location:typeof i.location=="object"?i.location.address:i.location||i.address||"",status:i.status==="inProgress"?"in-progress":i.status==="onHold"?"on-hold":i.status,progress:i.progress||0,startDate:i.startDate||i.start_date?new Date(i.startDate||i.start_date):void 0,endDate:i.endDate||i.end_date?new Date(i.endDate||i.end_date):void 0,contractAmount:i.budget||i.contractAmount||0,spent:i.actualCost||i.spent||0,manager:i.manager||"",team:[],description:i.description||"",meetingNotes:((a=i.meetingNotes)==null?void 0:a.map(m=>({id:m.id,content:m.content,date:new Date(m.date)})))||[],customerRequests:((o=i.customerRequests)==null?void 0:o.map(m=>({id:m.id,content:m.content,completed:m.completed,createdAt:new Date(m.createdAt)})))||[],entrancePassword:i.entrancePassword||"",sitePassword:i.sitePassword||""}});s({projects:r})}catch(t){throw console.error("Failed to load projects from API:",t),t}},addProjectToAPI:async t=>{var r,i;try{const a=await er.createProject({name:t.name,client:t.client,location:t.location,startDate:t.startDate,endDate:t.endDate,status:t.status,contractAmount:t.contractAmount,spent:t.spent,manager:t.manager,team:t.team,progress:t.progress,description:t.description}),o={id:a._id||a.id,name:a.name,client:typeof a.client=="object"?a.client.name:a.client||"",location:typeof a.location=="object"?a.location.address:a.location||a.address||"",status:a.status==="inProgress"?"in-progress":a.status==="onHold"?"on-hold":a.status,progress:a.progress||0,startDate:a.startDate||a.start_date?new Date(a.startDate||a.start_date):void 0,endDate:a.endDate||a.end_date?new Date(a.endDate||a.end_date):void 0,contractAmount:a.budget||a.contractAmount||0,spent:a.actualCost||a.spent||0,manager:a.manager||"",team:[],description:a.description||"",meetingNotes:((r=a.meetingNotes)==null?void 0:r.map(m=>({id:m.id,content:m.content,date:new Date(m.date)})))||[],customerRequests:((i=a.customerRequests)==null?void 0:i.map(m=>({id:m.id,content:m.content,completed:m.completed,createdAt:new Date(m.createdAt)})))||[],entrancePassword:a.entrancePassword||"",sitePassword:a.sitePassword||""};s(m=>({projects:[o,...m.projects]}))}catch(a){throw console.error("Failed to add project to API:",a),a}},updateProjectInAPI:async(t,r)=>{var i,a;try{const o=await er.updateProject(t,r),m={id:o._id||o.id,name:o.name,client:typeof o.client=="object"?o.client.name:o.client||"",location:typeof o.location=="object"?o.location.address:o.location||o.address||"",status:o.status==="inProgress"?"in-progress":o.status==="onHold"?"on-hold":o.status,progress:o.progress||0,startDate:o.startDate||o.start_date?new Date(o.startDate||o.start_date):void 0,endDate:o.endDate||o.end_date?new Date(o.endDate||o.end_date):void 0,contractAmount:o.budget||o.contractAmount||0,spent:o.actualCost||o.spent||0,manager:o.manager||"",team:[],description:o.description||"",meetingNotes:((i=o.meetingNotes)==null?void 0:i.map(c=>({id:c.id,content:c.content,date:new Date(c.date)})))||[],customerRequests:((a=o.customerRequests)==null?void 0:a.map(c=>({id:c.id,content:c.content,completed:c.completed,createdAt:new Date(c.createdAt)})))||[],entrancePassword:o.entrancePassword||"",sitePassword:o.sitePassword||""};s(c=>({projects:c.projects.map(p=>p.id===t?m:p)}))}catch(o){throw console.error("Failed to update project in API:",o),o}},deleteProjectFromAPI:async t=>{try{await er.deleteProject(t),s(r=>({projects:r.projects.filter(i=>i.id!==t)}))}catch(r){throw console.error("Failed to delete project from API:",r),r}},loadContractorsFromAPI:async()=>{try{const r=(await vs.getAllContractors()).map(i=>({id:i._id,rank:i.rank,companyName:i.companyName,name:i.name,process:i.process,contact:i.contact,accountNumber:i.accountNumber,notes:i.notes,createdAt:new Date(i.createdAt),updatedAt:new Date(i.updatedAt)}));s({contractors:r})}catch(t){throw console.error("Failed to load contractors from API:",t),t}},addContractorToAPI:async t=>{try{const r=await vs.createContractor({rank:t.rank,companyName:t.companyName,name:t.name,process:t.process,contact:t.contact,accountNumber:t.accountNumber,notes:t.notes}),i={id:r._id,rank:r.rank,companyName:r.companyName,name:r.name,process:r.process,contact:r.contact,accountNumber:r.accountNumber,notes:r.notes,createdAt:new Date(r.createdAt),updatedAt:new Date(r.updatedAt)};s(a=>({contractors:[i,...a.contractors]}))}catch(r){throw console.error("Failed to add contractor to API:",r),r}},updateContractorInAPI:async(t,r)=>{try{const i=await vs.updateContractor(t,{rank:r.rank,companyName:r.companyName,name:r.name,process:r.process,contact:r.contact,accountNumber:r.accountNumber,notes:r.notes}),a={id:i._id,rank:i.rank,companyName:i.companyName,name:i.name,process:i.process,contact:i.contact,accountNumber:i.accountNumber,notes:i.notes,createdAt:new Date(i.createdAt),updatedAt:new Date(i.updatedAt)};s(o=>({contractors:o.contractors.map(m=>m.id===t?a:m)}))}catch(i){throw console.error("Failed to update contractor in API:",i),i}},deleteContractorFromAPI:async t=>{try{await vs.deleteContractor(t),s(r=>({contractors:r.contractors.filter(i=>i.id!==t)}))}catch(r){throw console.error("Failed to delete contractor from API:",r),r}},loadConstructionPaymentsFromAPI:async()=>{try{const r=(await tr.getAllConstructionPayments()).map(i=>{var o;let a;return i.expectedPaymentDates&&(a={contract:i.expectedPaymentDates.contract?new Date(i.expectedPaymentDates.contract):void 0,start:i.expectedPaymentDates.start?new Date(i.expectedPaymentDates.start):void 0,middle:i.expectedPaymentDates.middle?new Date(i.expectedPaymentDates.middle):void 0,final:i.expectedPaymentDates.final?new Date(i.expectedPaymentDates.final):void 0}),{id:i._id,project:i.project,client:i.client,totalAmount:i.totalAmount,vatType:i.vatType,vatPercentage:i.vatPercentage,vatAmount:i.vatAmount,expectedPaymentDates:a,payments:((o=i.payments)==null?void 0:o.map(m=>{var u;const c=m.date?new Date(m.date):new Date,p=isNaN(c.getTime())?new Date:c;return{type:m.type||((u=m.types)==null?void 0:u[0])||"",amount:m.amount,date:p,method:m.method,notes:m.notes}}))||[]}});s({constructionPayments:r})}catch(t){throw console.error("Failed to load construction payments from API:",t),t}},addConstructionPaymentToAPI:async t=>{var r;try{const i=await tr.createConstructionPayment(t),a={id:i._id,project:i.project,client:i.client,totalAmount:i.totalAmount,vatType:i.vatType,vatPercentage:i.vatPercentage,vatAmount:i.vatAmount,payments:((r=i.payments)==null?void 0:r.map(o=>{var p;const m=o.date?new Date(o.date):new Date,c=isNaN(m.getTime())?new Date:m;return{type:o.type||((p=o.types)==null?void 0:p[0])||"",amount:o.amount,date:c,method:o.method,notes:o.notes}}))||[]};s(o=>({constructionPayments:[a,...o.constructionPayments]}))}catch(i){throw console.error("Failed to add construction payment to API:",i),i}},updateConstructionPaymentInAPI:async(t,r)=>{var i;try{const a=await tr.updateConstructionPayment(t,r);let o;a.expectedPaymentDates&&(o={contract:a.expectedPaymentDates.contract?new Date(a.expectedPaymentDates.contract):void 0,start:a.expectedPaymentDates.start?new Date(a.expectedPaymentDates.start):void 0,middle:a.expectedPaymentDates.middle?new Date(a.expectedPaymentDates.middle):void 0,final:a.expectedPaymentDates.final?new Date(a.expectedPaymentDates.final):void 0});const m={id:a._id,project:a.project,client:a.client,totalAmount:a.totalAmount,vatType:a.vatType,vatPercentage:a.vatPercentage,vatAmount:a.vatAmount,expectedPaymentDates:o,payments:((i=a.payments)==null?void 0:i.map(c=>{var p;return{type:c.type||((p=c.types)==null?void 0:p[0])||"",amount:c.amount,date:new Date(c.date),method:c.method,notes:c.notes}}))||[]};s(c=>({constructionPayments:c.constructionPayments.map(p=>p.id===t?m:p)}))}catch(a){throw console.error("Failed to update construction payment in API:",a),a}},deleteConstructionPaymentFromAPI:async t=>{try{await tr.deleteConstructionPayment(t),s(r=>({constructionPayments:r.constructionPayments.filter(i=>i.id!==t)}))}catch(r){throw console.error("Failed to delete construction payment from API:",r),r}},loadASRequestsFromAPI:async()=>{try{const r=(await En.getAllASRequests()).map(i=>({id:i._id,project:i.project,client:i.client,requestDate:new Date(i.requestDate),siteAddress:i.siteAddress,entrancePassword:i.entrancePassword,description:i.description,scheduledVisitDate:i.scheduledVisitDate?new Date(i.scheduledVisitDate):void 0,scheduledVisitTime:i.scheduledVisitTime,assignedTo:i.assignedTo?Array.isArray(i.assignedTo)?i.assignedTo:[i.assignedTo]:[],completionDate:i.completionDate?new Date(i.completionDate):void 0,notes:i.notes,status:i.status||"pending"}));s({asRequests:r})}catch(t){throw console.error("Failed to load AS requests from API:",t),t}},addASRequestToAPI:async t=>{try{const r=await En.createASRequest(t),i={id:r._id,project:r.project,client:r.client,requestDate:new Date(r.requestDate),siteAddress:r.siteAddress,entrancePassword:r.entrancePassword,description:r.description,scheduledVisitDate:r.scheduledVisitDate?new Date(r.scheduledVisitDate):void 0,scheduledVisitTime:r.scheduledVisitTime,assignedTo:Array.isArray(r.assignedTo)?r.assignedTo:[],completionDate:r.completionDate?new Date(r.completionDate):void 0,notes:r.notes};return s(a=>({asRequests:[i,...a.asRequests]})),i}catch(r){throw console.error("Failed to add AS request to API:",r),r}},updateASRequestInAPI:async(t,r)=>{try{const i=await En.updateASRequest(t,r),a={id:i._id,project:i.project,client:i.client,requestDate:new Date(i.requestDate),siteAddress:i.siteAddress,entrancePassword:i.entrancePassword,description:i.description,scheduledVisitDate:i.scheduledVisitDate?new Date(i.scheduledVisitDate):void 0,scheduledVisitTime:i.scheduledVisitTime,assignedTo:Array.isArray(i.assignedTo)?i.assignedTo:[],completionDate:i.completionDate?new Date(i.completionDate):void 0,notes:i.notes,status:i.status||"pending"};s(o=>({asRequests:o.asRequests.map(m=>m.id===t?a:m)}))}catch(i){throw console.error("Failed to update AS request in API:",i),i}},deleteASRequestFromAPI:async t=>{try{await En.deleteASRequest(t),s(r=>({asRequests:r.asRequests.filter(i=>i.id!==t)}))}catch(r){throw console.error("Failed to delete AS request from API:",r),r}},loadExecutionRecordsFromAPI:async()=>{try{const t=await sr.getAllRecords();console.log("[loadExecutionRecordsFromAPI] Loaded",t.length,"records");const r=t.map(i=>({id:String(i.id),project:i.project_name,author:i.author||void 0,date:new Date(i.date),process:i.process||void 0,itemName:i.item_name,materialCost:i.material_cost||0,laborCost:i.labor_cost||0,vatAmount:i.vat_amount||0,totalAmount:i.total_amount||0,notes:i.notes||void 0,images:i.images||[],paymentId:i.payment_id?String(i.payment_id):void 0,createdAt:new Date(i.created_at),updatedAt:new Date(i.updated_at)}));s({executionRecords:r})}catch(t){throw console.error("Failed to load execution records from API:",t),t}},addExecutionRecordToAPI:async t=>{try{console.log("[addExecutionRecordToAPI] Adding:",t.itemName);const r=await sr.createRecord({project_name:t.project,author:t.author,date:t.date.toISOString().split("T")[0],process:t.process,item_name:t.itemName,material_cost:t.materialCost,labor_cost:t.laborCost,vat_amount:t.vatAmount,total_amount:t.totalAmount,notes:t.notes,payment_id:t.paymentId}),i={id:String(r.id),project:r.project_name,author:r.author||void 0,date:new Date(r.date),process:r.process||void 0,itemName:r.item_name,materialCost:r.material_cost||0,laborCost:r.labor_cost||0,vatAmount:r.vat_amount||0,totalAmount:r.total_amount||0,notes:r.notes||void 0,paymentId:r.payment_id?String(r.payment_id):void 0,createdAt:new Date(r.created_at),updatedAt:new Date(r.updated_at)};return s(a=>({executionRecords:[i,...a.executionRecords]})),console.log("[addExecutionRecordToAPI] Added with ID:",i.id),i}catch(r){throw console.error("Failed to add execution record to API:",r),r}},updateExecutionRecordInAPI:async(t,r)=>{var i;try{await sr.updateRecord(t,{project_name:r.project,author:r.author,date:(i=r.date)==null?void 0:i.toISOString().split("T")[0],process:r.process,item_name:r.itemName,material_cost:r.materialCost,labor_cost:r.laborCost,vat_amount:r.vatAmount,total_amount:r.totalAmount,notes:r.notes,payment_id:r.paymentId,images:r.images}),s(a=>({executionRecords:a.executionRecords.map(o=>o.id===t?{...o,...r,updatedAt:new Date}:o)}))}catch(a){throw console.error("Failed to update execution record in API:",a),a}},deleteExecutionRecordFromAPI:async t=>{try{await sr.deleteRecord(t),s(r=>({executionRecords:r.executionRecords.filter(i=>i.id!==t)}))}catch(r){throw console.error("Failed to delete execution record from API:",r),r}}}),{name:"interior-management-storage",partialize:s=>({...s,payments:s.payments.map(n=>{const{images:t,...r}=n;return r}),executionRecords:s.executionRecords.map(n=>{const{images:t,...r}=n;return r})}),storage:{getItem:s=>{var c,p,u,f,b,N,j;const n=localStorage.getItem(s);if(!n)return null;const{state:t}=JSON.parse(n),r=((c=t.projects)==null?void 0:c.map(x=>({...x,startDate:x.startDate?new Date(x.startDate):void 0,endDate:x.endDate?new Date(x.endDate):void 0,contractAmount:x.contractAmount!==void 0?x.contractAmount:x.budget||0})))||[],i=((p=t.constructionPayments)==null?void 0:p.map(x=>{var R;return{...x,vatType:x.vatType||"percentage",vatPercentage:x.vatPercentage??100,vatAmount:x.vatAmount??0,payments:((R=x.payments)==null?void 0:R.map(I=>({...I,date:new Date(I.date)})))||[]}}))||[],a=new Set(i.map(x=>x.id)),o=r.filter(x=>!a.has(x.id)).map(x=>({id:x.id,project:x.name,client:x.client,totalAmount:x.contractAmount||0,vatType:"percentage",vatPercentage:100,vatAmount:0,payments:[]})),m=[...i,...o];return{state:{...t,projects:r,schedules:((u=t.schedules)==null?void 0:u.map(x=>({...x,start:new Date(x.start),end:new Date(x.end)})))||[],payments:((f=t.payments)==null?void 0:f.map(x=>({...x,requestDate:new Date(x.requestDate),approvalDate:x.approvalDate?new Date(x.approvalDate):void 0})))||[],contractors:((b=t.contractors)==null?void 0:b.map(x=>({...x,createdAt:new Date(x.createdAt),updatedAt:new Date(x.updatedAt)})))||[],constructionPayments:m,asRequests:((N=t.asRequests)==null?void 0:N.map(x=>({...x,requestDate:new Date(x.requestDate),scheduledVisitDate:x.scheduledVisitDate?new Date(x.scheduledVisitDate):void 0,completionDate:x.completionDate?new Date(x.completionDate):void 0})))||[],executionRecords:((j=t.executionRecords)==null?void 0:j.map(x=>({...x,date:new Date(x.date),createdAt:new Date(x.createdAt),updatedAt:new Date(x.updatedAt)})))||[]}}},setItem:(s,n)=>{try{const t=JSON.stringify(n);localStorage.setItem(s,t)}catch(t){console.error("[dataStore] localStorage  :",t),t instanceof DOMException&&t.name==="QuotaExceededError"&&console.warn("[dataStore] localStorage   -    ")}},removeItem:s=>localStorage.removeItem(s)}}));var On=s=>s.type==="checkbox",Os=s=>s instanceof Date,Wt=s=>s==null;const Jm=s=>typeof s=="object";var wt=s=>!Wt(s)&&!Array.isArray(s)&&Jm(s)&&!Os(s),of=s=>wt(s)&&s.target?On(s.target)?s.target.checked:s.target.value:s,mf=s=>s.substring(0,s.search(/\.\d+(\.|$)/))||s,lf=(s,n)=>s.has(mf(n)),df=s=>{const n=s.constructor&&s.constructor.prototype;return wt(n)&&n.hasOwnProperty("isPrototypeOf")},ga=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Bt(s){let n;const t=Array.isArray(s),r=typeof FileList<"u"?s instanceof FileList:!1;if(s instanceof Date)n=new Date(s);else if(!(ga&&(s instanceof Blob||r))&&(t||wt(s)))if(n=t?[]:Object.create(Object.getPrototypeOf(s)),!t&&!df(s))n=s;else for(const i in s)s.hasOwnProperty(i)&&(n[i]=Bt(s[i]));else return s;return n}var Yr=s=>/^\w*$/.test(s),Et=s=>s===void 0,Na=s=>Array.isArray(s)?s.filter(Boolean):[],ba=s=>Na(s.replace(/["|']|\]/g,"").split(/\.|\[/)),Xe=(s,n,t)=>{if(!n||!wt(s))return t;const r=(Yr(n)?[n]:ba(n)).reduce((i,a)=>Wt(i)?i:i[a],s);return Et(r)||r===s?Et(s[n])?t:s[n]:r},cs=s=>typeof s=="boolean",yt=(s,n,t)=>{let r=-1;const i=Yr(n)?[n]:ba(n),a=i.length,o=a-1;for(;++r<a;){const m=i[r];let c=t;if(r!==o){const p=s[m];c=wt(p)||Array.isArray(p)?p:isNaN(+i[r+1])?{}:[]}if(m==="__proto__"||m==="constructor"||m==="prototype")return;s[m]=c,s=s[m]}};const no={BLUR:"blur",FOCUS_OUT:"focusout"},ns={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},hs={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},cf=it.createContext(null);cf.displayName="HookFormContext";var uf=(s,n,t,r=!0)=>{const i={defaultValues:n._defaultValues};for(const a in s)Object.defineProperty(i,a,{get:()=>{const o=a;return n._proxyFormState[o]!==ns.all&&(n._proxyFormState[o]=!r||ns.all),s[o]}});return i};const pf=typeof window<"u"?it.useLayoutEffect:it.useEffect;var Kt=s=>typeof s=="string",ff=(s,n,t,r,i)=>Kt(s)?(r&&n.watch.add(s),Xe(t,s,i)):Array.isArray(s)?s.map(a=>(r&&n.watch.add(a),Xe(t,a))):(r&&(n.watchAll=!0),t),Hi=s=>Wt(s)||!Jm(s);function Hs(s,n,t=new WeakSet){if(Hi(s)||Hi(n))return s===n;if(Os(s)&&Os(n))return s.getTime()===n.getTime();const r=Object.keys(s),i=Object.keys(n);if(r.length!==i.length)return!1;if(t.has(s)||t.has(n))return!0;t.add(s),t.add(n);for(const a of r){const o=s[a];if(!i.includes(a))return!1;if(a!=="ref"){const m=n[a];if(Os(o)&&Os(m)||wt(o)&&wt(m)||Array.isArray(o)&&Array.isArray(m)?!Hs(o,m,t):o!==m)return!1}}return!0}var gf=(s,n,t,r,i)=>n?{...t[s],types:{...t[s]&&t[s].types?t[s].types:{},[r]:i||!0}}:{},_n=s=>Array.isArray(s)?s:[s],ro=()=>{let s=[];return{get observers(){return s},next:i=>{for(const a of s)a.next&&a.next(i)},subscribe:i=>(s.push(i),{unsubscribe:()=>{s=s.filter(a=>a!==i)}}),unsubscribe:()=>{s=[]}}};function Gm(s,n){const t={};for(const r in s)if(s.hasOwnProperty(r)){const i=s[r],a=n[r];if(i&&wt(i)&&a){const o=Gm(i,a);wt(o)&&(t[r]=o)}else s[r]&&(t[r]=a)}return t}var Ot=s=>wt(s)&&!Object.keys(s).length,xa=s=>s.type==="file",rs=s=>typeof s=="function",Lr=s=>{if(!ga)return!1;const n=s?s.ownerDocument:0;return s instanceof(n&&n.defaultView?n.defaultView.HTMLElement:HTMLElement)},Qm=s=>s.type==="select-multiple",ya=s=>s.type==="radio",Nf=s=>ya(s)||On(s),fi=s=>Lr(s)&&s.isConnected;function bf(s,n){const t=n.slice(0,-1).length;let r=0;for(;r<t;)s=Et(s)?r++:s[n[r++]];return s}function xf(s){for(const n in s)if(s.hasOwnProperty(n)&&!Et(s[n]))return!1;return!0}function Ct(s,n){const t=Array.isArray(n)?n:Yr(n)?[n]:ba(n),r=t.length===1?s:bf(s,t),i=t.length-1,a=t[i];return r&&delete r[a],i!==0&&(wt(r)&&Ot(r)||Array.isArray(r)&&xf(r))&&Ct(s,t.slice(0,-1)),s}var yf=s=>{for(const n in s)if(rs(s[n]))return!0;return!1};function Zm(s){return Array.isArray(s)||wt(s)&&!yf(s)}function Bi(s,n={}){for(const t in s)Zm(s[t])?(n[t]=Array.isArray(s[t])?[]:{},Bi(s[t],n[t])):Wt(s[t])||(n[t]=!0);return n}function en(s,n,t){t||(t=Bi(n));for(const r in s)Zm(s[r])?Et(n)||Hi(t[r])?t[r]=Bi(s[r],Array.isArray(s[r])?[]:{}):en(s[r],Wt(n)?{}:n[r],t[r]):t[r]=!Hs(s[r],n[r]);return t}const io={value:!1,isValid:!1},ao={value:!0,isValid:!0};var el=s=>{if(Array.isArray(s)){if(s.length>1){const n=s.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:n,isValid:!!n.length}}return s[0].checked&&!s[0].disabled?s[0].attributes&&!Et(s[0].attributes.value)?Et(s[0].value)||s[0].value===""?ao:{value:s[0].value,isValid:!0}:ao:io}return io},tl=(s,{valueAsNumber:n,valueAsDate:t,setValueAs:r})=>Et(s)?s:n?s===""?NaN:s&&+s:t&&Kt(s)?new Date(s):r?r(s):s;const oo={isValid:!1,value:null};var sl=s=>Array.isArray(s)?s.reduce((n,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:n,oo):oo;function mo(s){const n=s.ref;return xa(n)?n.files:ya(n)?sl(s.refs).value:Qm(n)?[...n.selectedOptions].map(({value:t})=>t):On(n)?el(s.refs).value:tl(Et(n.value)?s.ref.value:n.value,s)}var hf=(s,n,t,r)=>{const i={};for(const a of s){const o=Xe(n,a);o&&yt(i,a,o._f)}return{criteriaMode:t,names:[...s],fields:i,shouldUseNativeValidation:r}},Hr=s=>s instanceof RegExp,hn=s=>Et(s)?s:Hr(s)?s.source:wt(s)?Hr(s.value)?s.value.source:s.value:s,lo=s=>({isOnSubmit:!s||s===ns.onSubmit,isOnBlur:s===ns.onBlur,isOnChange:s===ns.onChange,isOnAll:s===ns.all,isOnTouch:s===ns.onTouched});const co="AsyncFunction";var kf=s=>!!s&&!!s.validate&&!!(rs(s.validate)&&s.validate.constructor.name===co||wt(s.validate)&&Object.values(s.validate).find(n=>n.constructor.name===co)),vf=s=>s.mount&&(s.required||s.min||s.max||s.maxLength||s.minLength||s.pattern||s.validate),uo=(s,n,t)=>!t&&(n.watchAll||n.watch.has(s)||[...n.watch].some(r=>s.startsWith(r)&&/^\.\w+/.test(s.slice(r.length))));const jn=(s,n,t,r)=>{for(const i of t||Object.keys(s)){const a=Xe(s,i);if(a){const{_f:o,...m}=a;if(o){if(o.refs&&o.refs[0]&&n(o.refs[0],i)&&!r)return!0;if(o.ref&&n(o.ref,o.name)&&!r)return!0;if(jn(m,n))break}else if(wt(m)&&jn(m,n))break}}};function po(s,n,t){const r=Xe(s,t);if(r||Yr(t))return{error:r,name:t};const i=t.split(".");for(;i.length;){const a=i.join("."),o=Xe(n,a),m=Xe(s,a);if(o&&!Array.isArray(o)&&t!==a)return{name:t};if(m&&m.type)return{name:a,error:m};if(m&&m.root&&m.root.type)return{name:`${a}.root`,error:m.root};i.pop()}return{name:t}}var Df=(s,n,t,r)=>{t(s);const{name:i,...a}=s;return Ot(a)||Object.keys(a).length>=Object.keys(n).length||Object.keys(a).find(o=>n[o]===(!r||ns.all))},Vf=(s,n,t)=>!s||!n||s===n||_n(s).some(r=>r&&(t?r===n:r.startsWith(n)||n.startsWith(r))),Cf=(s,n,t,r,i)=>i.isOnAll?!1:!t&&i.isOnTouch?!(n||s):(t?r.isOnBlur:i.isOnBlur)?!s:(t?r.isOnChange:i.isOnChange)?s:!0,Ef=(s,n)=>!Na(Xe(s,n)).length&&Ct(s,n),Af=(s,n,t)=>{const r=_n(Xe(s,t));return yt(r,"root",n[t]),yt(s,t,r),s};function fo(s,n,t="validate"){if(Kt(s)||Array.isArray(s)&&s.every(Kt)||cs(s)&&!s)return{type:t,message:Kt(s)?s:"",ref:n}}var Js=s=>wt(s)&&!Hr(s)?s:{value:s,message:""},go=async(s,n,t,r,i,a)=>{const{ref:o,refs:m,required:c,maxLength:p,minLength:u,min:f,max:b,pattern:N,validate:j,name:x,valueAsNumber:R,mount:I}=s._f,y=Xe(t,x);if(!I||n.has(x))return{};const T=m?m[0]:o,te=Q=>{i&&T.reportValidity&&(T.setCustomValidity(cs(Q)?"":Q||""),T.reportValidity())},ee={},L=ya(o),z=On(o),se=L||z,oe=(R||xa(o))&&Et(o.value)&&Et(y)||Lr(o)&&o.value===""||y===""||Array.isArray(y)&&!y.length,ce=gf.bind(null,x,r,ee),De=(Q,ne,xe,Ee=hs.maxLength,He=hs.minLength)=>{const Ve=Q?ne:xe;ee[x]={type:Q?Ee:He,message:Ve,ref:o,...ce(Q?Ee:He,Ve)}};if(a?!Array.isArray(y)||!y.length:c&&(!se&&(oe||Wt(y))||cs(y)&&!y||z&&!el(m).isValid||L&&!sl(m).isValid)){const{value:Q,message:ne}=Kt(c)?{value:!!c,message:c}:Js(c);if(Q&&(ee[x]={type:hs.required,message:ne,ref:T,...ce(hs.required,ne)},!r))return te(ne),ee}if(!oe&&(!Wt(f)||!Wt(b))){let Q,ne;const xe=Js(b),Ee=Js(f);if(!Wt(y)&&!isNaN(y)){const He=o.valueAsNumber||y&&+y;Wt(xe.value)||(Q=He>xe.value),Wt(Ee.value)||(ne=He<Ee.value)}else{const He=o.valueAsDate||new Date(y),Ve=Ae=>new Date(new Date().toDateString()+" "+Ae),Ge=o.type=="time",de=o.type=="week";Kt(xe.value)&&y&&(Q=Ge?Ve(y)>Ve(xe.value):de?y>xe.value:He>new Date(xe.value)),Kt(Ee.value)&&y&&(ne=Ge?Ve(y)<Ve(Ee.value):de?y<Ee.value:He<new Date(Ee.value))}if((Q||ne)&&(De(!!Q,xe.message,Ee.message,hs.max,hs.min),!r))return te(ee[x].message),ee}if((p||u)&&!oe&&(Kt(y)||a&&Array.isArray(y))){const Q=Js(p),ne=Js(u),xe=!Wt(Q.value)&&y.length>+Q.value,Ee=!Wt(ne.value)&&y.length<+ne.value;if((xe||Ee)&&(De(xe,Q.message,ne.message),!r))return te(ee[x].message),ee}if(N&&!oe&&Kt(y)){const{value:Q,message:ne}=Js(N);if(Hr(Q)&&!y.match(Q)&&(ee[x]={type:hs.pattern,message:ne,ref:o,...ce(hs.pattern,ne)},!r))return te(ne),ee}if(j){if(rs(j)){const Q=await j(y,t),ne=fo(Q,T);if(ne&&(ee[x]={...ne,...ce(hs.validate,ne.message)},!r))return te(ne.message),ee}else if(wt(j)){let Q={};for(const ne in j){if(!Ot(Q)&&!r)break;const xe=fo(await j[ne](y,t),T,ne);xe&&(Q={...xe,...ce(ne,xe.message)},te(xe.message),r&&(ee[x]=Q))}if(!Ot(Q)&&(ee[x]={ref:T,...Q},!r))return ee}}return te(!0),ee};const wf={mode:ns.onSubmit,reValidateMode:ns.onChange,shouldFocusError:!0};function _f(s={}){let n={...wf,...s},t={submitCount:0,isDirty:!1,isReady:!1,isLoading:rs(n.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:n.errors||{},disabled:n.disabled||!1},r={},i=wt(n.defaultValues)||wt(n.values)?Bt(n.defaultValues||n.values)||{}:{},a=n.shouldUnregister?{}:Bt(i),o={action:!1,mount:!1,watch:!1},m={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,p=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...u};const b={array:ro(),state:ro()},N=n.criteriaMode===ns.all,j=U=>J=>{clearTimeout(p),p=setTimeout(U,J)},x=async U=>{if(!n.disabled&&(u.isValid||f.isValid||U)){const J=n.resolver?Ot((await z()).errors):await oe(r,!0);J!==t.isValid&&b.state.next({isValid:J})}},R=(U,J)=>{!n.disabled&&(u.isValidating||u.validatingFields||f.isValidating||f.validatingFields)&&((U||Array.from(m.mount)).forEach(Z=>{Z&&(J?yt(t.validatingFields,Z,J):Ct(t.validatingFields,Z))}),b.state.next({validatingFields:t.validatingFields,isValidating:!Ot(t.validatingFields)}))},I=(U,J=[],Z,P,v=!0,$=!0)=>{if(P&&Z&&!n.disabled){if(o.action=!0,$&&Array.isArray(Xe(r,U))){const re=Z(Xe(r,U),P.argA,P.argB);v&&yt(r,U,re)}if($&&Array.isArray(Xe(t.errors,U))){const re=Z(Xe(t.errors,U),P.argA,P.argB);v&&yt(t.errors,U,re),Ef(t.errors,U)}if((u.touchedFields||f.touchedFields)&&$&&Array.isArray(Xe(t.touchedFields,U))){const re=Z(Xe(t.touchedFields,U),P.argA,P.argB);v&&yt(t.touchedFields,U,re)}(u.dirtyFields||f.dirtyFields)&&(t.dirtyFields=en(i,a)),b.state.next({name:U,isDirty:De(U,J),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else yt(a,U,J)},y=(U,J)=>{yt(t.errors,U,J),b.state.next({errors:t.errors})},T=U=>{t.errors=U,b.state.next({errors:t.errors,isValid:!1})},te=(U,J,Z,P)=>{const v=Xe(r,U);if(v){const $=Xe(a,U,Et(Z)?Xe(i,U):Z);Et($)||P&&P.defaultChecked||J?yt(a,U,J?$:mo(v._f)):xe(U,$),o.mount&&x()}},ee=(U,J,Z,P,v)=>{let $=!1,re=!1;const O={name:U};if(!n.disabled){if(!Z||P){(u.isDirty||f.isDirty)&&(re=t.isDirty,t.isDirty=O.isDirty=De(),$=re!==O.isDirty);const g=Hs(Xe(i,U),J);re=!!Xe(t.dirtyFields,U),g?Ct(t.dirtyFields,U):yt(t.dirtyFields,U,!0),O.dirtyFields=t.dirtyFields,$=$||(u.dirtyFields||f.dirtyFields)&&re!==!g}if(Z){const g=Xe(t.touchedFields,U);g||(yt(t.touchedFields,U,Z),O.touchedFields=t.touchedFields,$=$||(u.touchedFields||f.touchedFields)&&g!==Z)}$&&v&&b.state.next(O)}return $?O:{}},L=(U,J,Z,P)=>{const v=Xe(t.errors,U),$=(u.isValid||f.isValid)&&cs(J)&&t.isValid!==J;if(n.delayError&&Z?(c=j(()=>y(U,Z)),c(n.delayError)):(clearTimeout(p),c=null,Z?yt(t.errors,U,Z):Ct(t.errors,U)),(Z?!Hs(v,Z):v)||!Ot(P)||$){const re={...P,...$&&cs(J)?{isValid:J}:{},errors:t.errors,name:U};t={...t,...re},b.state.next(re)}},z=async U=>{R(U,!0);const J=await n.resolver(a,n.context,hf(U||m.mount,r,n.criteriaMode,n.shouldUseNativeValidation));return R(U),J},se=async U=>{const{errors:J}=await z(U);if(U)for(const Z of U){const P=Xe(J,Z);P?yt(t.errors,Z,P):Ct(t.errors,Z)}else t.errors=J;return J},oe=async(U,J,Z={valid:!0})=>{for(const P in U){const v=U[P];if(v){const{_f:$,...re}=v;if($){const O=m.array.has($.name),g=v._f&&kf(v._f);g&&u.validatingFields&&R([$.name],!0);const E=await go(v,m.disabled,a,N,n.shouldUseNativeValidation&&!J,O);if(g&&u.validatingFields&&R([$.name]),E[$.name]&&(Z.valid=!1,J))break;!J&&(Xe(E,$.name)?O?Af(t.errors,E,$.name):yt(t.errors,$.name,E[$.name]):Ct(t.errors,$.name))}!Ot(re)&&await oe(re,J,Z)}}return Z.valid},ce=()=>{for(const U of m.unMount){const J=Xe(r,U);J&&(J._f.refs?J._f.refs.every(Z=>!fi(Z)):!fi(J._f.ref))&&B(U)}m.unMount=new Set},De=(U,J)=>!n.disabled&&(U&&J&&yt(a,U,J),!Hs(Ae(),i)),Q=(U,J,Z)=>ff(U,m,{...o.mount?a:Et(J)?i:Kt(U)?{[U]:J}:J},Z,J),ne=U=>Na(Xe(o.mount?a:i,U,n.shouldUnregister?Xe(i,U,[]):[])),xe=(U,J,Z={})=>{const P=Xe(r,U);let v=J;if(P){const $=P._f;$&&(!$.disabled&&yt(a,U,tl(J,$)),v=Lr($.ref)&&Wt(J)?"":J,Qm($.ref)?[...$.ref.options].forEach(re=>re.selected=v.includes(re.value)):$.refs?On($.ref)?$.refs.forEach(re=>{(!re.defaultChecked||!re.disabled)&&(Array.isArray(v)?re.checked=!!v.find(O=>O===re.value):re.checked=v===re.value||!!v)}):$.refs.forEach(re=>re.checked=re.value===v):xa($.ref)?$.ref.value="":($.ref.value=v,$.ref.type||b.state.next({name:U,values:Bt(a)})))}(Z.shouldDirty||Z.shouldTouch)&&ee(U,v,Z.shouldTouch,Z.shouldDirty,!0),Z.shouldValidate&&de(U)},Ee=(U,J,Z)=>{for(const P in J){if(!J.hasOwnProperty(P))return;const v=J[P],$=U+"."+P,re=Xe(r,$);(m.array.has(U)||wt(v)||re&&!re._f)&&!Os(v)?Ee($,v,Z):xe($,v,Z)}},He=(U,J,Z={})=>{const P=Xe(r,U),v=m.array.has(U),$=Bt(J);yt(a,U,$),v?(b.array.next({name:U,values:Bt(a)}),(u.isDirty||u.dirtyFields||f.isDirty||f.dirtyFields)&&Z.shouldDirty&&b.state.next({name:U,dirtyFields:en(i,a),isDirty:De(U,$)})):P&&!P._f&&!Wt($)?Ee(U,$,Z):xe(U,$,Z),uo(U,m)&&b.state.next({...t,name:U}),b.state.next({name:o.mount?U:void 0,values:Bt(a)})},Ve=async U=>{o.mount=!0;const J=U.target;let Z=J.name,P=!0;const v=Xe(r,Z),$=g=>{P=Number.isNaN(g)||Os(g)&&isNaN(g.getTime())||Hs(g,Xe(a,Z,g))},re=lo(n.mode),O=lo(n.reValidateMode);if(v){let g,E;const S=J.type?mo(v._f):of(U),K=U.type===no.BLUR||U.type===no.FOCUS_OUT,ke=!vf(v._f)&&!n.resolver&&!Xe(t.errors,Z)&&!v._f.deps||Cf(K,Xe(t.touchedFields,Z),t.isSubmitted,O,re),ye=uo(Z,m,K);yt(a,Z,S),K?(!J||!J.readOnly)&&(v._f.onBlur&&v._f.onBlur(U),c&&c(0)):v._f.onChange&&v._f.onChange(U);const We=ee(Z,S,K),Je=!Ot(We)||ye;if(!K&&b.state.next({name:Z,type:U.type,values:Bt(a)}),ke)return(u.isValid||f.isValid)&&(n.mode==="onBlur"?K&&x():K||x()),Je&&b.state.next({name:Z,...ye?{}:We});if(!K&&ye&&b.state.next({...t}),n.resolver){const{errors:mt}=await z([Z]);if($(S),P){const nt=po(t.errors,r,Z),st=po(mt,r,nt.name||Z);g=st.error,Z=st.name,E=Ot(mt)}}else R([Z],!0),g=(await go(v,m.disabled,a,N,n.shouldUseNativeValidation))[Z],R([Z]),$(S),P&&(g?E=!1:(u.isValid||f.isValid)&&(E=await oe(r,!0)));P&&(v._f.deps&&(!Array.isArray(v._f.deps)||v._f.deps.length>0)&&de(v._f.deps),L(Z,E,g,We))}},Ge=(U,J)=>{if(Xe(t.errors,J)&&U.focus)return U.focus(),1},de=async(U,J={})=>{let Z,P;const v=_n(U);if(n.resolver){const $=await se(Et(U)?U:v);Z=Ot($),P=U?!v.some(re=>Xe($,re)):Z}else U?(P=(await Promise.all(v.map(async $=>{const re=Xe(r,$);return await oe(re&&re._f?{[$]:re}:re)}))).every(Boolean),!(!P&&!t.isValid)&&x()):P=Z=await oe(r);return b.state.next({...!Kt(U)||(u.isValid||f.isValid)&&Z!==t.isValid?{}:{name:U},...n.resolver||!U?{isValid:Z}:{},errors:t.errors}),J.shouldFocus&&!P&&jn(r,Ge,U?v:m.mount),P},Ae=(U,J)=>{let Z={...o.mount?a:i};return J&&(Z=Gm(J.dirtyFields?t.dirtyFields:t.touchedFields,Z)),Et(U)?Z:Kt(U)?Xe(Z,U):U.map(P=>Xe(Z,P))},Ue=(U,J)=>({invalid:!!Xe((J||t).errors,U),isDirty:!!Xe((J||t).dirtyFields,U),error:Xe((J||t).errors,U),isValidating:!!Xe(t.validatingFields,U),isTouched:!!Xe((J||t).touchedFields,U)}),he=U=>{U&&_n(U).forEach(J=>Ct(t.errors,J)),b.state.next({errors:U?t.errors:{}})},Re=(U,J,Z)=>{const P=(Xe(r,U,{_f:{}})._f||{}).ref,v=Xe(t.errors,U)||{},{ref:$,message:re,type:O,...g}=v;yt(t.errors,U,{...g,...J,ref:P}),b.state.next({name:U,errors:t.errors,isValid:!1}),Z&&Z.shouldFocus&&P&&P.focus&&P.focus()},$e=(U,J)=>rs(U)?b.state.subscribe({next:Z=>"values"in Z&&U(Q(void 0,J),Z)}):Q(U,J,!0),qe=U=>b.state.subscribe({next:J=>{Vf(U.name,J.name,U.exact)&&Df(J,U.formState||u,Ce,U.reRenderRoot)&&U.callback({values:{...a},...t,...J,defaultValues:i})}}).unsubscribe,Oe=U=>(o.mount=!0,f={...f,...U.formState},qe({...U,formState:f})),B=(U,J={})=>{for(const Z of U?_n(U):m.mount)m.mount.delete(Z),m.array.delete(Z),J.keepValue||(Ct(r,Z),Ct(a,Z)),!J.keepError&&Ct(t.errors,Z),!J.keepDirty&&Ct(t.dirtyFields,Z),!J.keepTouched&&Ct(t.touchedFields,Z),!J.keepIsValidating&&Ct(t.validatingFields,Z),!n.shouldUnregister&&!J.keepDefaultValue&&Ct(i,Z);b.state.next({values:Bt(a)}),b.state.next({...t,...J.keepDirty?{isDirty:De()}:{}}),!J.keepIsValid&&x()},ge=({disabled:U,name:J})=>{(cs(U)&&o.mount||U||m.disabled.has(J))&&(U?m.disabled.add(J):m.disabled.delete(J))},me=(U,J={})=>{let Z=Xe(r,U);const P=cs(J.disabled)||cs(n.disabled);return yt(r,U,{...Z||{},_f:{...Z&&Z._f?Z._f:{ref:{name:U}},name:U,mount:!0,...J}}),m.mount.add(U),Z?ge({disabled:cs(J.disabled)?J.disabled:n.disabled,name:U}):te(U,!0,J.value),{...P?{disabled:J.disabled||n.disabled}:{},...n.progressive?{required:!!J.required,min:hn(J.min),max:hn(J.max),minLength:hn(J.minLength),maxLength:hn(J.maxLength),pattern:hn(J.pattern)}:{},name:U,onChange:Ve,onBlur:Ve,ref:v=>{if(v){me(U,J),Z=Xe(r,U);const $=Et(v.value)&&v.querySelectorAll&&v.querySelectorAll("input,select,textarea")[0]||v,re=Nf($),O=Z._f.refs||[];if(re?O.find(g=>g===$):$===Z._f.ref)return;yt(r,U,{_f:{...Z._f,...re?{refs:[...O.filter(fi),$,...Array.isArray(Xe(i,U))?[{}]:[]],ref:{type:$.type,name:U}}:{ref:$}}}),te(U,!1,void 0,$)}else Z=Xe(r,U,{}),Z._f&&(Z._f.mount=!1),(n.shouldUnregister||J.shouldUnregister)&&!(lf(m.array,U)&&o.action)&&m.unMount.add(U)}}},_e=()=>n.shouldFocusError&&jn(r,Ge,m.mount),G=U=>{cs(U)&&(b.state.next({disabled:U}),jn(r,(J,Z)=>{const P=Xe(r,Z);P&&(J.disabled=P._f.disabled||U,Array.isArray(P._f.refs)&&P._f.refs.forEach(v=>{v.disabled=P._f.disabled||U}))},0,!1))},C=(U,J)=>async Z=>{let P;Z&&(Z.preventDefault&&Z.preventDefault(),Z.persist&&Z.persist());let v=Bt(a);if(b.state.next({isSubmitting:!0}),n.resolver){const{errors:$,values:re}=await z();t.errors=$,v=Bt(re)}else await oe(r);if(m.disabled.size)for(const $ of m.disabled)Ct(v,$);if(Ct(t.errors,"root"),Ot(t.errors)){b.state.next({errors:{}});try{await U(v,Z)}catch($){P=$}}else J&&await J({...t.errors},Z),_e(),setTimeout(_e);if(b.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Ot(t.errors)&&!P,submitCount:t.submitCount+1,errors:t.errors}),P)throw P},le=(U,J={})=>{Xe(r,U)&&(Et(J.defaultValue)?He(U,Bt(Xe(i,U))):(He(U,J.defaultValue),yt(i,U,Bt(J.defaultValue))),J.keepTouched||Ct(t.touchedFields,U),J.keepDirty||(Ct(t.dirtyFields,U),t.isDirty=J.defaultValue?De(U,Bt(Xe(i,U))):De()),J.keepError||(Ct(t.errors,U),u.isValid&&x()),b.state.next({...t}))},D=(U,J={})=>{const Z=U?Bt(U):i,P=Bt(Z),v=Ot(U),$=v?i:P;if(J.keepDefaultValues||(i=Z),!J.keepValues){if(J.keepDirtyValues){const re=new Set([...m.mount,...Object.keys(en(i,a))]);for(const O of Array.from(re))Xe(t.dirtyFields,O)?yt($,O,Xe(a,O)):He(O,Xe($,O))}else{if(ga&&Et(U))for(const re of m.mount){const O=Xe(r,re);if(O&&O._f){const g=Array.isArray(O._f.refs)?O._f.refs[0]:O._f.ref;if(Lr(g)){const E=g.closest("form");if(E){E.reset();break}}}}if(J.keepFieldsRef)for(const re of m.mount)He(re,Xe($,re));else r={}}a=n.shouldUnregister?J.keepDefaultValues?Bt(i):{}:Bt($),b.array.next({values:{...$}}),b.state.next({values:{...$}})}m={mount:J.keepDirtyValues?m.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!J.keepIsValid||!!J.keepDirtyValues,o.watch=!!n.shouldUnregister,b.state.next({submitCount:J.keepSubmitCount?t.submitCount:0,isDirty:v?!1:J.keepDirty?t.isDirty:!!(J.keepDefaultValues&&!Hs(U,i)),isSubmitted:J.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:v?{}:J.keepDirtyValues?J.keepDefaultValues&&a?en(i,a):t.dirtyFields:J.keepDefaultValues&&U?en(i,U):J.keepDirty?t.dirtyFields:{},touchedFields:J.keepTouched?t.touchedFields:{},errors:J.keepErrors?t.errors:{},isSubmitSuccessful:J.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:i})},H=(U,J)=>D(rs(U)?U(a):U,J),ie=(U,J={})=>{const Z=Xe(r,U),P=Z&&Z._f;if(P){const v=P.refs?P.refs[0]:P.ref;v.focus&&(v.focus(),J.shouldSelect&&rs(v.select)&&v.select())}},Ce=U=>{t={...t,...U}},ze={control:{register:me,unregister:B,getFieldState:Ue,handleSubmit:C,setError:Re,_subscribe:qe,_runSchema:z,_focusError:_e,_getWatch:Q,_getDirty:De,_setValid:x,_setFieldArray:I,_setDisabledField:ge,_setErrors:T,_getFieldArray:ne,_reset:D,_resetDefaultValues:()=>rs(n.defaultValues)&&n.defaultValues().then(U=>{H(U,n.resetOptions),b.state.next({isLoading:!1})}),_removeUnmounted:ce,_disableForm:G,_subjects:b,_proxyFormState:u,get _fields(){return r},get _formValues(){return a},get _state(){return o},set _state(U){o=U},get _defaultValues(){return i},get _names(){return m},set _names(U){m=U},get _formState(){return t},get _options(){return n},set _options(U){n={...n,...U}}},subscribe:Oe,trigger:de,register:me,handleSubmit:C,watch:$e,setValue:He,getValues:Ae,reset:H,resetField:le,clearErrors:he,unregister:B,setError:Re,setFocus:ie,getFieldState:Ue};return{...ze,formControl:ze}}function $n(s={}){const n=it.useRef(void 0),t=it.useRef(void 0),[r,i]=it.useState({isDirty:!1,isValidating:!1,isLoading:rs(s.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:s.errors||{},disabled:s.disabled||!1,isReady:!1,defaultValues:rs(s.defaultValues)?void 0:s.defaultValues});if(!n.current)if(s.formControl)n.current={...s.formControl,formState:r},s.defaultValues&&!rs(s.defaultValues)&&s.formControl.reset(s.defaultValues,s.resetOptions);else{const{formControl:o,...m}=_f(s);n.current={...m,formState:r}}const a=n.current.control;return a._options=s,pf(()=>{const o=a._subscribe({formState:a._proxyFormState,callback:()=>i({...a._formState}),reRenderRoot:!0});return i(m=>({...m,isReady:!0})),a._formState.isReady=!0,o},[a]),it.useEffect(()=>a._disableForm(s.disabled),[a,s.disabled]),it.useEffect(()=>{s.mode&&(a._options.mode=s.mode),s.reValidateMode&&(a._options.reValidateMode=s.reValidateMode)},[a,s.mode,s.reValidateMode]),it.useEffect(()=>{s.errors&&(a._setErrors(s.errors),a._focusError())},[a,s.errors]),it.useEffect(()=>{s.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[a,s.shouldUnregister]),it.useEffect(()=>{if(a._proxyFormState.isDirty){const o=a._getDirty();o!==r.isDirty&&a._subjects.state.next({isDirty:o})}},[a,r.isDirty]),it.useEffect(()=>{s.values&&!Hs(s.values,t.current)?(a._reset(s.values,{keepFieldsRef:!0,...a._options.resetOptions}),t.current=s.values,i(o=>({...o}))):a._resetDefaultValues()},[a,s.values]),it.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),n.current.formState=uf(r,a),n.current}const No=["","","","","","",""],nl=({event:s,slotInfo:n,defaultProjectName:t,onClose:r,onSave:i,onDelete:a})=>{const{register:o,handleSubmit:m,setValue:c,watch:p,formState:{errors:u},reset:f}=$n({defaultValues:{projectId:"",title:"",date:"",description:""}}),{projects:b}=os(),[N,j]=d.useState([]),[x,R]=d.useState(""),[I,y]=d.useState(!1),[T,te]=d.useState(""),[ee,L]=d.useState(9),[z,se]=d.useState(0),[oe,ce]=d.useState(""),De=p("projectId");d.useEffect(()=>{if(De){const de=b.find(Ae=>Ae.id===De||Ae.id===parseInt(De)||Ae.id.toString()===De.toString());console.log(" Selected project:",de==null?void 0:de.name),console.log(" Project team:",de==null?void 0:de.team),console.log(" Current selectedMembers:",N)}},[De,b,N]),d.useEffect(()=>{console.log(" Modal mount - initializing states"),j([]),ce(""),R("")},[]),d.useEffect(()=>{if(console.log(" ScheduleModal useEffect triggered:",{hasEvent:!!s,eventId:s==null?void 0:s.id,hasSlotInfo:!!n,hasMergedEvents:!!(s!=null&&s.mergedEventIds)}),s&&s.id){console.log(" ScheduleModal processing event:",{title:s.title,projectId:s.projectId,projectName:s.projectName,start:s.start,assignedTo:s.assignedTo,time:s.time});const de=s.originalTitle||s.title,Ae=/ - (|) \d{1,2}$/,Ue=de.replace(Ae,"");if(c("title",Ue,{shouldValidate:!1,shouldDirty:!1}),c("date",je(s.start,"yyyy-MM-dd"),{shouldValidate:!1,shouldDirty:!1}),c("description",s.description||"",{shouldValidate:!1,shouldDirty:!1}),s.projectId&&s.projectId!==""&&s.projectId!=="undefined")console.log(" Setting projectId from event:",s.projectId),c("projectId",s.projectId,{shouldValidate:!1,shouldDirty:!1}),ce("");else if(s.projectName){const Re=b.find($e=>$e.name===s.projectName);console.log(" Finding project by name:",s.projectName,"found:",Re),Re?(console.log(" Setting projectId from found project:",Re.id),c("projectId",Re.id,{shouldValidate:!1,shouldDirty:!1}),ce("")):(console.log(" Project not found, leaving empty"),c("projectId","",{shouldValidate:!1,shouldDirty:!1}),ce(""))}else console.log(" No project info, leaving empty"),c("projectId","",{shouldValidate:!1,shouldDirty:!1}),ce("");const he=s.assignedTo||s.attendees||[];if(console.log(" Setting selectedMembers to:",he),j(Array.isArray(he)?he:[]),s.time&&s.time!=="-"){console.log(" Setting time from event:",{eventTime:s.time,parsedHours:s.time.split(":")[0],parsedMinutes:s.time.split(":")[1]}),y(!0);const[Re,$e]=s.time.split(":"),qe=parseInt(Re,10),Oe=parseInt($e,10);qe>=12?(te(""),L(qe===12?12:qe-12)):(te(""),L(qe===0?12:qe)),se(Oe),console.log(" Time state set:",{hasTime:!0,period:qe>=12?"":"",hour:qe>=12?qe===12?12:qe-12:qe===0?12:qe,minute:Oe})}else console.log(" No time in event, setting hasTime to false"),y(!1),te(""),L(9),se(0)}else if(n&&!s&&(console.log(" New schedule from slot:",n),f({projectId:"",title:"",date:je(n.start,"yyyy-MM-dd"),description:""}),console.log(" New schedule - resetting selectedMembers to empty array"),j([]),ce(""),t)){const de=b.find(Ae=>Ae.name===t);de&&c("projectId",de.id,{shouldValidate:!1,shouldDirty:!1})}},[s==null?void 0:s.id]);const Q=de=>{console.log(" toggleMember called with:",de),console.log(" Current selectedMembers before toggle:",N),j(Ae=>{console.log(" Previous members in setState:",Ae);const Ue=Ae.includes(de)?Ae.filter(he=>he!==de):[...Ae,de];return console.log(" Updated members after toggle:",Ue),Ue})},ne=()=>{const de="HV LAB";N.includes(de)?j(Ae=>Ae.filter(Ue=>Ue!==de)):j(Ae=>[...Ae,de])},xe=()=>{const de="";N.includes(de)?j(Ae=>Ae.filter(Ue=>Ue!==de)):j(Ae=>[...Ae,de])},Ee=()=>{const de="";N.includes(de)?j(Ae=>Ae.filter(Ue=>Ue!==de)):j(Ae=>[...Ae,de])},He=()=>{x.trim()&&!N.includes(x.trim())&&(j(de=>[...de,x.trim()]),R(""))},Ve=de=>{j(Ae=>Ae.filter(Ue=>Ue!==de))},Ge=async de=>{console.log(" Form onSubmit called with data:",de),console.log(" selectedMembers:",N),console.log(" hasTime state:",I),console.log(" timePeriod:",T,"timeHour:",ee,"timeMinute:",z),console.log(" Available projects:",b.map(B=>({id:B.id,name:B.name,idType:typeof B.id}))),console.log(" Merged event IDs:",s==null?void 0:s.mergedEventIds);const Ae=/ - (|) \d{1,2}$/,Ue=de.title.replace(Ae,"").trim();let he="",Re="";if(de.projectId){const B=b.find(ge=>ge.id===de.projectId||ge.id===parseInt(de.projectId)||ge.id.toString()===de.projectId.toString());console.log(" Looking for project with id:",de.projectId,"type:",typeof de.projectId),console.log(" Found project:",B),he=(B==null?void 0:B.name)||"",Re=de.projectId}else he="",Re="";console.log(" Final projectId:",Re,"projectName:",he,"cleanedTitle:",Ue);const $e=new Date(de.date);let qe="-";if(I){let B=ee;T===""&&ee!==12?B=ee+12:T===""&&ee===12&&(B=0),qe=`${B.toString().padStart(2,"0")}:${z.toString().padStart(2,"0")}`,console.log(" Time calculated:",qe)}else console.log(" No time set (hasTime is false)");const Oe={...s,title:Ue,start:$e,end:$e,projectId:Re,projectName:he,assignedTo:N,description:de.description||"",time:qe,mergedEventIds:s==null?void 0:s.mergedEventIds};console.log(" Calling onSave with newEvent:",Oe);try{await i(Oe),console.log(" onSave completed successfully")}catch(B){throw console.error(" onSave failed:",B),B}};return console.log(" Rendering ScheduleModal with selectedMembers:",N),e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-3 md:p-4",children:e.jsxDEV("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxDEV("div",{className:"flex items-center justify-between p-4 md:p-6 border-b",children:[e.jsxDEV("h2",{className:"text-lg md:text-xl font-semibold",children:s?" ":"  "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:373,columnNumber:11},void 0),e.jsxDEV("button",{onClick:r,className:"p-1.5 md:p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsxDEV(ot,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:380,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:376,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:372,columnNumber:9},void 0),e.jsxDEV("form",{onSubmit:m(Ge),className:"p-4 md:p-6 space-y-3 md:space-y-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:388,columnNumber:13},void 0),e.jsxDEV("select",{...o("projectId"),className:"input w-full",children:[e.jsxDEV("option",{value:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:395,columnNumber:15},void 0),b.filter(de=>s!=null&&s.isASVisit?!0:de.status!=="completed").map(de=>e.jsxDEV("option",{value:de.id,children:de.name},de.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:405,columnNumber:19},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:391,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:387,columnNumber:11},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:414,columnNumber:13},void 0),e.jsxDEV("input",{...o("title",{required:" "}),type:"text",className:"input w-full"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:417,columnNumber:13},void 0),u.title&&e.jsxDEV("p",{className:"mt-1 text-sm text-red-600",children:String(u.title.message)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:423,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:413,columnNumber:11},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:429,columnNumber:13},void 0),e.jsxDEV("input",{...o("date",{required:" "}),type:"date",className:"input w-full"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:432,columnNumber:13},void 0),u.date&&e.jsxDEV("p",{className:"mt-1 text-sm text-red-600",children:String(u.date.message)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:438,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:428,columnNumber:11},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:444,columnNumber:13},void 0),e.jsxDEV("div",{className:"mb-2",children:e.jsxDEV("button",{type:"button",onClick:()=>y(!I),className:`px-3 py-1.5 text-xs rounded border transition-colors ${I?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:I?" ":"  (-)"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:450,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:449,columnNumber:13},void 0),I&&e.jsxDEV("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsxDEV("div",{className:"flex gap-1",children:[e.jsxDEV("button",{type:"button",onClick:()=>te(""),className:`px-3 py-1.5 text-xs rounded border transition-colors ${T===""?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:468,columnNumber:19},void 0),e.jsxDEV("button",{type:"button",onClick:()=>te(""),className:`px-3 py-1.5 text-xs rounded border transition-colors ${T===""?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:479,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:467,columnNumber:17},void 0),e.jsxDEV("select",{value:ee,onChange:de=>L(parseInt(de.target.value)),className:"flex-1 min-w-[80px] max-w-[120px] px-2 py-1.5 text-sm border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-gray-500",children:[12,1,2,3,4,5,6,7,8,9,10,11].map(de=>e.jsxDEV("option",{value:de,children:[de,""]},de,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:499,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:493,columnNumber:17},void 0),e.jsxDEV("select",{value:z,onChange:de=>se(parseInt(de.target.value)),className:"flex-1 min-w-[80px] max-w-[120px] px-2 py-1.5 text-sm border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-gray-500",children:[0,10,20,30,40,50].map(de=>e.jsxDEV("option",{value:de,children:[de,""]},de,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:512,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:506,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:465,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:443,columnNumber:11},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" (  )"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:523,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex flex-wrap gap-1.5 mb-2",children:[e.jsxDEV("button",{type:"button",onClick:ne,className:`px-2.5 py-1.5 rounded border transition-colors text-sm ${N.includes("HV LAB")?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:"HV LAB"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:530,columnNumber:15},void 0),e.jsxDEV("button",{type:"button",onClick:xe,className:`px-2.5 py-1.5 rounded border transition-colors text-sm ${N.includes("")?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:543,columnNumber:15},void 0),e.jsxDEV("button",{type:"button",onClick:Ee,className:`px-2.5 py-1.5 rounded border transition-colors text-sm ${N.includes("")?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:556,columnNumber:15},void 0),No.map(de=>e.jsxDEV("button",{type:"button",onClick:()=>Q(de),className:`px-2.5 py-1.5 rounded border transition-colors text-sm ${N.includes(de)?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:de},de,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:570,columnNumber:17},void 0)),N.filter(de=>!No.includes(de)&&de!=="HV LAB"&&de!==""&&de!=="").map(de=>e.jsxDEV("button",{type:"button",onClick:()=>Ve(de),className:"px-2.5 py-1.5 rounded border transition-colors text-sm bg-gray-900 text-white border-gray-900 hover:bg-gray-800",children:[de," "]},de,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:588,columnNumber:19},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:528,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV("input",{type:"text",value:x,onChange:de=>R(de.target.value),onKeyPress:de=>{de.key==="Enter"&&(de.preventDefault(),He())},className:"flex-1 px-3 py-1.5 border border-gray-300 rounded-lg text-xs focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:602,columnNumber:15},void 0),e.jsxDEV("button",{type:"button",onClick:He,className:"px-3 py-1.5 bg-gray-100 text-gray-700 rounded-lg text-xs font-medium hover:bg-gray-200 transition-colors",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:614,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:601,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:522,columnNumber:11},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:626,columnNumber:13},void 0),e.jsxDEV("textarea",{...o("description"),rows:4,className:"input w-full text-sm md:text-base"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:629,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:625,columnNumber:11},void 0),e.jsxDEV("div",{className:"flex flex-col sm:flex-row sm:justify-between gap-2 sm:gap-0 pt-4 border-t",children:[e.jsxDEV("div",{children:s&&e.jsxDEV("button",{type:"button",onClick:()=>{window.confirm("  ?")&&a(s.id)},className:"btn btn-outline text-red-600 hover:bg-red-50 flex items-center w-full sm:w-auto justify-center text-sm md:text-base",children:[e.jsxDEV(bt,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:649,columnNumber:19},void 0),""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:640,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:638,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex gap-2 sm:space-x-3",children:[e.jsxDEV("button",{type:"button",onClick:r,className:"btn btn-outline flex-1 sm:flex-none text-sm md:text-base",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:655,columnNumber:15},void 0),e.jsxDEV("button",{type:"submit",className:"btn btn-primary flex-1 sm:flex-none text-sm md:text-base",children:s?"":""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:662,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:654,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:637,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:385,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:370,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:369,columnNumber:5},void 0)},Br=s=>{if(!s||s==="-")return"";const[n,t]=s.split(":"),r=parseInt(n,10),i=parseInt(t,10),a=r>=12?"":"",o=r%12||12;return i>0?`${a} ${o} ${i}`:`${a} ${o}`},Ur=["","","","","","","","","","","","","","","","","","","","","","","","","","",""],Ln=s=>{if(!s)return s;const n=s.replace(/$/g,"").trim(),t=n.split(" ");if(t.length>=2){const r=t[t.length-1];for(const i of Ur)if(r===i)return t.slice(0,-1).join(" ").trim()}for(const r of Ur)if(n.endsWith(r))return n.substring(0,n.length-r.length).trim()||n;return n},nr=s=>{const n=s.replace(/$/g,"").trim(),t=n.split(" ");if(t.length>=2){const r=t[t.length-1];for(const i of Ur)if(r===i)return i}for(const r of Ur)if(n.endsWith(r))return r;return""},bo=["","","","","","",""],jf=()=>{const{schedules:s,loadSchedulesFromAPI:n,addScheduleToAPI:t,deleteScheduleFromAPI:r}=os(),{user:i}=Mt(),[a,o]=d.useState(!1),m=i!=null&&i.name?i.name.slice(-2):null,c=(i==null?void 0:i.name)===""?[""]:m?[m,...bo.filter(u=>u!==m)]:bo,p=u=>{const f=s.filter(x=>x.attendees?!!(x.attendees.includes(u)||x.attendees.includes("HV LAB")||x.attendees.includes("")&&["",""].includes(u)||x.attendees.includes("")&&["","",""].includes(u)):!1),b=x=>{const R=new Set;return x.filter(I=>{const T=`${je(new Date(I.start),"yyyy-MM-dd")}|${I.project}|${I.title}`;return R.has(T)?!1:(R.add(T),!0)})},N=b(f.filter(x=>Ya(new Date(x.start)))),j=b(f.filter(x=>Vc(new Date(x.start))&&!Ya(new Date(x.start))).sort((x,R)=>new Date(x.start).getTime()-new Date(R.start).getTime())).slice(0,3);return{todaySchedules:N,upcomingSchedules:j,member:u}};return e.jsxDEV("div",{className:"space-y-3 md:space-y-5 lg:space-y-4",children:[e.jsxDEV("div",{children:e.jsxDEV("div",{className:"dashboard-grid grid grid-cols-1 sm:grid-cols-2 ipad:grid-cols-2 ipad-lg:grid-cols-2 ipad-xl:grid-cols-3 ipad-2xl:grid-cols-3 2xl:grid-cols-4 gap-3 md:gap-4 lg:gap-4",children:c.map(u=>{const{todaySchedules:f,upcomingSchedules:b}=p(u),N=f.length+b.length,j=u===m;return e.jsxDEV("div",{className:`card p-3 sm:p-4 md:p-5 lg:p-4 ${j?"ring-1 ring-gray-300":""}`,children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-4 pb-3 border-b border-gray-200",children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("h3",{className:"font-bold text-lg md:text-lg text-gray-900",children:u},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:112,columnNumber:21},void 0),j&&e.jsxDEV("span",{className:"text-xs px-2 py-0.5 bg-gray-200 text-gray-600 rounded font-medium",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:114,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:111,columnNumber:19},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[j&&e.jsxDEV("button",{onClick:()=>o(!0),className:"p-1.5 hover:bg-gray-100 rounded-full transition-colors",title:" ",children:e.jsxDEV(Gt,{className:"h-4 w-4 text-gray-700"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:124,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:119,columnNumber:23},void 0),e.jsxDEV("span",{className:`text-xs px-2.5 py-1 ${j&&f.length>0?"bg-amber-100 text-gray-900":"bg-gray-100 text-gray-900"} rounded-full font-semibold whitespace-nowrap`,children:[f.length," "]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:127,columnNumber:21},void 0),e.jsxDEV("span",{className:"text-xs px-2.5 py-1 bg-gray-100 text-gray-700 rounded-full font-semibold whitespace-nowrap",children:[b.length," "]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:130,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:117,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:110,columnNumber:17},void 0),f.length>0&&e.jsxDEV("div",{className:"mb-4",children:[e.jsxDEV("div",{className:"flex items-center gap-1.5 mb-2",children:[e.jsxDEV(nn,{className:"h-4 w-4 text-gray-900"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:140,columnNumber:23},void 0),e.jsxDEV("p",{className:"text-xs font-semibold text-gray-900 uppercase",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:141,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:139,columnNumber:21},void 0),e.jsxDEV("div",{className:"space-y-2",children:(()=>{const x=f.reduce((R,I)=>{const y=I.project||"-";return R[y]||(R[y]=[]),R[y].push(I),R},{});return Object.entries(x).map(([R,I])=>{const y=u===m;return e.jsxDEV("div",{className:`border-l-3 ${y?"border-gray-400":"border-gray-900"} ${y?"bg-amber-50":"bg-gray-50"} rounded-r overflow-hidden`,children:[e.jsxDEV("div",{className:`px-3 py-1.5 ${y?"bg-amber-100":"bg-gray-100"} border-b ${y?"border-amber-200":"border-gray-200"}`,children:e.jsxDEV("span",{className:"text-xs font-semibold text-gray-900",children:R},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:163,columnNumber:33},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:162,columnNumber:31},void 0),e.jsxDEV("div",{className:"px-3 py-2 space-y-1",children:I.map(T=>{const te=T.time&&T.time!=="-"?` - ${Br(T.time)}`:"";return e.jsxDEV("p",{className:"font-medium text-gray-900 text-sm leading-relaxed",children:[" ",T.title,te]},T.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:169,columnNumber:37},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:165,columnNumber:31},void 0)]},R,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:158,columnNumber:29},void 0)})})()},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:143,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:138,columnNumber:19},void 0),b.length>0&&e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"flex items-center gap-1.5 mb-2",children:[e.jsxDEV(lm,{className:"h-4 w-4 text-gray-600"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:187,columnNumber:23},void 0),e.jsxDEV("p",{className:"text-xs font-semibold text-gray-600 uppercase",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:188,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:186,columnNumber:21},void 0),e.jsxDEV("div",{className:"space-y-2",children:(()=>{const x=b.reduce((R,I)=>{const y=je(new Date(I.start),"MM.dd",{locale:ft}),T=I.project||"-",te=`${y}|${T}`;return R[te]||(R[te]={date:y,project:T,schedules:[]}),R[te].schedules.push(I),R},{});return Object.values(x).map(({date:R,project:I,schedules:y})=>{const te=y.length>0&&Dc(new Date(y[0].start))?`${R} ()`:R;return e.jsxDEV("div",{className:"border-l-3 border-gray-400 bg-gray-50 rounded-r overflow-hidden",children:[e.jsxDEV("div",{className:"px-3 py-1.5 bg-gray-100 border-b border-gray-200 flex items-center justify-between",children:[e.jsxDEV("span",{className:"text-xs font-semibold text-gray-700",children:I},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:210,columnNumber:33},void 0),e.jsxDEV("span",{className:"text-xs text-gray-500 font-medium",children:te},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:211,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:209,columnNumber:31},void 0),e.jsxDEV("div",{className:"px-3 py-2 space-y-1",children:y.map(ee=>{const L=ee.time&&ee.time!=="-"?` - ${Br(ee.time)}`:"";return e.jsxDEV("p",{className:"font-medium text-gray-900 text-sm leading-relaxed",children:[" ",ee.title,L]},ee.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:217,columnNumber:37},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:213,columnNumber:31},void 0)]},`${R}-${I}`,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:208,columnNumber:29},void 0)})})()},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:190,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:185,columnNumber:19},void 0),N===0&&e.jsxDEV("div",{className:"text-center py-8 text-gray-400 text-sm",children:"  "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:233,columnNumber:19},void 0)]},u,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:108,columnNumber:15},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:100,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:99,columnNumber:7},void 0),a&&e.jsxDEV(nl,{event:null,slotInfo:{start:new Date,end:new Date},onClose:()=>o(!1),onSave:async u=>{try{console.log("Dashboard: Adding schedule...",u),await t({id:Date.now().toString(),title:u.title||"",start:u.start||new Date,end:u.end||new Date,type:"other",project:u.projectId||u.projectName||"",location:"",attendees:u.assignedTo||[],description:u.description||"",time:u.time}),console.log("Dashboard: Schedule added successfully"),await n(),console.log("Dashboard: Schedules fetched, closing modal"),o(!1)}catch(f){console.error("Failed to add schedule:",f),alert("  : "+(f instanceof Error?f.message:"   "))}},onDelete:async u=>{try{await r(u),await n(),o(!1)}catch(f){console.error("Failed to delete schedule:",f),alert("  : "+(f instanceof Error?f.message:"   "))}}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:245,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:97,columnNumber:5},void 0)},Qt=()=>{const{user:s}=Mt(),{projects:n}=os();return d.useMemo(()=>s?s.name===""?n.filter(r=>{const a=(r.manager?r.manager.split(",").map(m=>m.trim()):[]).includes(""),o=r.team&&Array.isArray(r.team)&&r.team.includes("");return a||o}):n:[],[s,n])},Lf=({value:s,detailValue:n="",onChange:t,onDetailChange:r,placeholder:i=" ",error:a})=>{const[o,m]=d.useState(!1),[c,p]=d.useState(s),[u,f]=d.useState(n),b=d.useRef(null);d.useEffect(()=>{const I=y=>{b.current&&!b.current.contains(y.target)&&m(!1)};return o&&document.addEventListener("mousedown",I),()=>{document.removeEventListener("mousedown",I)}},[o]),d.useEffect(()=>{p(s)},[s]),d.useEffect(()=>{f(n)},[n]);const N=()=>new Promise((I,y)=>{if(window.daum&&window.daum.Postcode){I(!0);return}const T=document.createElement("script");T.src="//t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js",T.async=!0,T.onload=()=>I(!0),T.onerror=()=>y(new Error("Kakao Postcode   ")),document.head.appendChild(T)}),j=I=>{const y=I.roadAddr||I.jibunAddr;p(y),t(y,u),m(!1)},x=I=>{const y=I.target.value;f(y),r&&r(y),c&&t(c,y)},R=async()=>{try{(!window.daum||!window.daum.Postcode)&&await N(),window.daum&&new window.daum.Postcode({oncomplete:function(I){const y={roadAddr:I.roadAddress,jibunAddr:I.jibunAddress||I.autoJibunAddress||"",zipNo:I.zonecode,bdNm:I.buildingName,siNm:I.sido,sggNm:I.sigungu,emdNm:I.bname,rn:I.roadname};j(y)}}).open()}catch(I){console.error("  :",I),alert("     .  .")}};return e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV("div",{className:"relative",children:[e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV("div",{className:"relative flex-1",children:[e.jsxDEV("input",{type:"text",value:c,onClick:()=>R(),onChange:I=>{p(I.target.value),t(I.target.value,u)},placeholder:i,className:`input pr-8 cursor-pointer ${a?"border-red-500":""}`,readOnly:!0},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AddressSearch.tsx",lineNumber:172,columnNumber:13},void 0),e.jsxDEV(Er,{className:"absolute right-2 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400 pointer-events-none"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AddressSearch.tsx",lineNumber:184,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AddressSearch.tsx",lineNumber:171,columnNumber:11},void 0),e.jsxDEV("button",{type:"button",onClick:R,className:"px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg text-sm font-medium transition-colors",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AddressSearch.tsx",lineNumber:188,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AddressSearch.tsx",lineNumber:170,columnNumber:9},void 0),a&&e.jsxDEV("p",{className:"mt-1 text-sm text-red-600",children:a},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AddressSearch.tsx",lineNumber:197,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AddressSearch.tsx",lineNumber:169,columnNumber:7},void 0),e.jsxDEV("div",{children:e.jsxDEV("input",{type:"text",value:u,onChange:x,placeholder:" (/ )",className:"input",disabled:!c},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AddressSearch.tsx",lineNumber:203,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AddressSearch.tsx",lineNumber:202,columnNumber:7},void 0),c&&e.jsxDEV("div",{className:"p-3 bg-gray-50 rounded-lg",children:e.jsxDEV("p",{className:"text-sm text-gray-600",children:[e.jsxDEV("span",{className:"font-medium",children:" :"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AddressSearch.tsx",lineNumber:217,columnNumber:13},void 0)," ",c,u&&`, ${u}`]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AddressSearch.tsx",lineNumber:216,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AddressSearch.tsx",lineNumber:215,columnNumber:9},void 0),e.jsxDEV("div",{id:"address-search-container",style:{display:"none",width:"100%",height:"400px"}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AddressSearch.tsx",lineNumber:225,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AddressSearch.tsx",lineNumber:167,columnNumber:5},void 0)},xo=["","","","","","",""],Hf=({project:s,onClose:n,onSave:t})=>{const{register:r,handleSubmit:i,setValue:a,reset:o,formState:{errors:m}}=$n({defaultValues:{name:"",client:"",location:"",detailLocation:"",startDate:"",endDate:""}}),[c,p]=d.useState([]),[u,f]=d.useState(""),[b,N]=d.useState(""),[j,x]=d.useState("");d.useEffect(()=>{var te;if(s){const ee=s.location?s.location.split(","):["",""],L=((te=ee[0])==null?void 0:te.trim())||s.location||"",z=ee.length>1?ee.slice(1).join(",").trim():"";o({name:s.name,client:s.client||"",location:L,detailLocation:z,startDate:s.startDate?new Date(s.startDate).toISOString().split("T")[0]:"",endDate:s.endDate?new Date(s.endDate).toISOString().split("T")[0]:""}),N(L),x(z);const se=s.manager?s.manager.split(",").map(oe=>oe.trim()).filter(oe=>oe&&oe!==""):[];p(se)}else o({name:"",client:"",location:"",detailLocation:"",startDate:"",endDate:""}),N(""),x(""),p([])},[s,o]);const R=te=>{p(ee=>ee.includes(te)?ee.filter(L=>L!==te):[...ee,te])},I=()=>{u.trim()&&!c.includes(u.trim())&&(p(te=>[...te,u.trim()]),f(""))},y=te=>{p(ee=>ee.filter(L=>L!==te))},T=te=>{console.log(" ProjectModal onSubmit - Raw form data:",te);const ee=b&&j?`${b}, ${j}`:b||te.location,L={name:te.name,client:te.client,location:ee,manager:c.join(", "),contractAmount:(s==null?void 0:s.contractAmount)??0,spent:(s==null?void 0:s.spent)??0,status:(s==null?void 0:s.status)??"planning",progress:(s==null?void 0:s.progress)??0,description:(s==null?void 0:s.description)??"",meetingNotes:(s==null?void 0:s.meetingNotes)??[],customerRequests:(s==null?void 0:s.customerRequests)??[],entrancePassword:(s==null?void 0:s.entrancePassword)??"",sitePassword:(s==null?void 0:s.sitePassword)??""};if(te.startDate&&te.startDate!=="")L.startDate=te.startDate,console.log(" Setting startDate from form:",te.startDate);else if(s!=null&&s.startDate){const z=typeof s.startDate=="string"&&s.startDate.includes("T")?s.startDate.split("T")[0]:s.startDate;L.startDate=z,console.log(" Keeping existing startDate:",L.startDate)}if(te.endDate&&te.endDate!=="")L.endDate=te.endDate,console.log(" Setting endDate from form:",te.endDate);else if(s!=null&&s.endDate){const z=typeof s.endDate=="string"&&s.endDate.includes("T")?s.endDate.split("T")[0]:s.endDate;L.endDate=z,console.log(" Keeping existing endDate:",L.endDate)}console.log(" ProjectModal onSubmit - Final formData:",L),t(L)};return e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-3 md:p-4",children:e.jsxDEV("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxDEV("div",{className:"flex items-center justify-between p-4 md:p-6 border-b sticky top-0 bg-white z-10",children:[e.jsxDEV("h2",{className:"text-lg md:text-xl font-semibold",children:s?" ":" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:177,columnNumber:11},void 0),e.jsxDEV("button",{onClick:n,className:"p-1.5 md:p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsxDEV(ot,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:184,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:180,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:176,columnNumber:9},void 0),e.jsxDEV("form",{onSubmit:i(T),className:"p-4 md:p-6 space-y-4 md:space-y-6",children:[e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:193,columnNumber:15},void 0),e.jsxDEV("input",{...r("name",{required:" "}),type:"text",className:"input"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:196,columnNumber:15},void 0),m.name&&e.jsxDEV("p",{className:"mt-1 text-sm text-red-600",children:String(m.name.message)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:202,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:192,columnNumber:13},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:207,columnNumber:15},void 0),e.jsxDEV("input",{...r("client"),type:"text",className:"input"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:210,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:206,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:191,columnNumber:11},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:220,columnNumber:13},void 0),e.jsxDEV(Lf,{value:b,detailValue:j,onChange:(te,ee)=>{N(te),x(ee||""),a("location",te),a("detailLocation",ee||"")},onDetailChange:te=>{x(te),a("detailLocation",te)},placeholder:"  ",required:!0,error:m.location?String(m.location.message):void 0},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:223,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:219,columnNumber:11},void 0),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:246,columnNumber:15},void 0),e.jsxDEV("input",{...r("startDate"),type:"date",className:"input"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:249,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:245,columnNumber:13},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:257,columnNumber:15},void 0),e.jsxDEV("input",{...r("endDate"),type:"date",className:"input"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:260,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:256,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:244,columnNumber:11},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" (  )"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:270,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex flex-wrap gap-1.5 mb-2",children:[xo.map(te=>e.jsxDEV("button",{type:"button",onClick:()=>R(te),className:`px-2.5 py-1.5 rounded border transition-colors text-sm ${c.includes(te)?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:te},te,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:278,columnNumber:17},void 0)),c.filter(te=>!xo.includes(te)).map(te=>e.jsxDEV("button",{type:"button",onClick:()=>y(te),className:"px-2.5 py-1.5 rounded border transition-colors text-sm bg-gray-900 text-white border-gray-900 hover:bg-gray-800",children:[te," "]},te,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:296,columnNumber:19},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:275,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV("input",{type:"text",value:u,onChange:te=>f(te.target.value),onKeyPress:te=>{te.key==="Enter"&&(te.preventDefault(),I())},placeholder:"   ",className:"flex-1 px-3 py-1.5 border border-gray-300 rounded-lg text-xs focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:310,columnNumber:15},void 0),e.jsxDEV("button",{type:"button",onClick:I,className:"px-3 py-1.5 bg-gray-100 text-gray-700 rounded-lg text-xs font-medium hover:bg-gray-200 transition-colors",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:323,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:309,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:269,columnNumber:11},void 0),e.jsxDEV("div",{className:"flex justify-end space-x-2 md:space-x-3 pt-4 border-t",children:[e.jsxDEV("button",{type:"button",onClick:n,className:"btn btn-outline text-sm md:text-base",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:336,columnNumber:13},void 0),e.jsxDEV("button",{type:"submit",className:"btn btn-primary text-sm md:text-base",children:s?"":""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:343,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:335,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:189,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:174,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:173,columnNumber:5},void 0)},Bf=({projectName:s,meetingNotes:n,onClose:t,onSave:r,onDelete:i})=>{const[a,o]=d.useState(""),[m,c]=d.useState(new Date().toISOString().split("T")[0]),[p,u]=d.useState(!1),f=()=>{u(!0),o(""),c(new Date().toISOString().split("T")[0])},b=()=>{if(!a.trim()){alert(" ");return}if(!m){alert(" ");return}r(a.trim(),new Date(m)),o(""),c(new Date().toISOString().split("T")[0]),u(!1)},N=()=>{o(""),c(new Date().toISOString().split("T")[0]),u(!1)},j=x=>{window.confirm("   ?")&&i(x)};return e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",onClick:t,children:e.jsxDEV("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[80vh] flex flex-col shadow-xl",onClick:x=>x.stopPropagation(),children:[e.jsxDEV("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[e.jsxDEV("div",{children:[e.jsxDEV("h2",{className:"text-lg font-semibold text-gray-900",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/MeetingNotesModal.tsx",lineNumber:76,columnNumber:13},void 0),e.jsxDEV("p",{className:"text-sm text-gray-500 mt-0.5",children:s},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/MeetingNotesModal.tsx",lineNumber:77,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/MeetingNotesModal.tsx",lineNumber:75,columnNumber:11},void 0),e.jsxDEV("button",{onClick:t,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsxDEV(ot,{className:"h-5 w-5 text-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/MeetingNotesModal.tsx",lineNumber:83,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/MeetingNotesModal.tsx",lineNumber:79,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/MeetingNotesModal.tsx",lineNumber:74,columnNumber:9},void 0),e.jsxDEV("div",{className:"flex-1 overflow-y-auto p-6",children:[!p&&e.jsxDEV("button",{onClick:f,className:"w-full mb-4 px-4 py-2.5 border border-gray-300 rounded text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:"+ "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/MeetingNotesModal.tsx",lineNumber:91,columnNumber:13},void 0),p&&e.jsxDEV("div",{className:"mb-4 p-4 bg-gray-50 rounded border border-gray-200",children:[e.jsxDEV("div",{className:"mb-3",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/MeetingNotesModal.tsx",lineNumber:103,columnNumber:17},void 0),e.jsxDEV("input",{type:"date",value:m,onChange:x=>c(x.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded text-sm focus:outline-none focus:border-gray-900"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/MeetingNotesModal.tsx",lineNumber:106,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/MeetingNotesModal.tsx",lineNumber:102,columnNumber:15},void 0),e.jsxDEV("div",{className:"mb-3",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/MeetingNotesModal.tsx",lineNumber:114,columnNumber:17},void 0),e.jsxDEV("textarea",{value:a,onChange:x=>o(x.target.value),placeholder:"  ",className:"w-full px-3 py-2 border border-gray-300 rounded text-sm focus:outline-none focus:border-gray-900 resize-none",rows:4},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/MeetingNotesModal.tsx",lineNumber:117,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/MeetingNotesModal.tsx",lineNumber:113,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV("button",{onClick:b,className:"px-4 py-1.5 bg-gray-900 text-white text-sm rounded hover:bg-gray-800 transition-colors",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/MeetingNotesModal.tsx",lineNumber:126,columnNumber:17},void 0),e.jsxDEV("button",{onClick:N,className:"px-4 py-1.5 bg-gray-200 text-gray-700 text-sm rounded hover:bg-gray-300 transition-colors",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/MeetingNotesModal.tsx",lineNumber:132,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/MeetingNotesModal.tsx",lineNumber:125,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/MeetingNotesModal.tsx",lineNumber:101,columnNumber:13},void 0),e.jsxDEV("div",{className:"space-y-3",children:n.length===0?e.jsxDEV("div",{className:"text-center py-12 text-gray-400 text-sm",children:"   "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/MeetingNotesModal.tsx",lineNumber:145,columnNumber:15},void 0):n.map(x=>e.jsxDEV("div",{className:"p-4 bg-white border border-gray-200 rounded hover:border-gray-300 transition-colors group",children:e.jsxDEV("div",{className:"flex items-start justify-between gap-3",children:[e.jsxDEV("div",{className:"flex-1 min-w-0",children:[e.jsxDEV("p",{className:"text-sm text-gray-600 mb-2",children:je(new Date(x.date),"yyyy.MM.dd (eee)",{locale:ft})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/MeetingNotesModal.tsx",lineNumber:156,columnNumber:23},void 0),e.jsxDEV("p",{className:"text-sm text-gray-900 whitespace-pre-wrap break-words",children:x.content},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/MeetingNotesModal.tsx",lineNumber:159,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/MeetingNotesModal.tsx",lineNumber:155,columnNumber:21},void 0),e.jsxDEV("button",{onClick:()=>j(x.id),className:"opacity-0 group-hover:opacity-100 px-2 py-1 text-xs text-gray-500 hover:text-red-600 transition-all",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/MeetingNotesModal.tsx",lineNumber:163,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/MeetingNotesModal.tsx",lineNumber:154,columnNumber:19},void 0)},x.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/MeetingNotesModal.tsx",lineNumber:150,columnNumber:17},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/MeetingNotesModal.tsx",lineNumber:143,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/MeetingNotesModal.tsx",lineNumber:88,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/MeetingNotesModal.tsx",lineNumber:69,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/MeetingNotesModal.tsx",lineNumber:65,columnNumber:5},void 0)},Uf=({projectName:s,customerRequests:n,onClose:t,onSave:r,onToggleComplete:i,onDelete:a})=>{const[o,m]=d.useState(""),[c,p]=d.useState(new Date().toISOString().split("T")[0]),[u,f]=d.useState(!1),b=()=>{f(!0),m(""),p(new Date().toISOString().split("T")[0])},N=()=>{if(!o.trim()){alert(" ");return}if(!c){alert(" ");return}r(o.trim(),new Date(c)),m(""),p(new Date().toISOString().split("T")[0]),f(!1)},j=()=>{m(""),p(new Date().toISOString().split("T")[0]),f(!1)},x=T=>{window.confirm("  ?")&&a(T)},R=T=>{i(T)},I=n.filter(T=>!T.completed),y=n.filter(T=>T.completed);return e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",onClick:t,children:e.jsxDEV("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[80vh] flex flex-col shadow-xl",onClick:T=>T.stopPropagation(),children:[e.jsxDEV("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[e.jsxDEV("div",{children:[e.jsxDEV("h2",{className:"text-lg font-semibold text-gray-900",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:86,columnNumber:13},void 0),e.jsxDEV("p",{className:"text-sm text-gray-500 mt-0.5",children:s},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:87,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:85,columnNumber:11},void 0),e.jsxDEV("button",{onClick:t,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsxDEV(ot,{className:"h-5 w-5 text-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:93,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:89,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:84,columnNumber:9},void 0),e.jsxDEV("div",{className:"flex-1 overflow-y-auto p-6",children:[!u&&e.jsxDEV("button",{onClick:b,className:"w-full mb-4 px-4 py-2.5 border border-gray-300 rounded text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:"+ "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:101,columnNumber:13},void 0),u&&e.jsxDEV("div",{className:"mb-4 p-4 bg-gray-50 rounded border border-gray-200",children:[e.jsxDEV("div",{className:"mb-3",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:113,columnNumber:17},void 0),e.jsxDEV("input",{type:"date",value:c,onChange:T=>p(T.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded text-sm focus:outline-none focus:border-gray-900"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:116,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:112,columnNumber:15},void 0),e.jsxDEV("div",{className:"mb-3",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:124,columnNumber:17},void 0),e.jsxDEV("textarea",{value:o,onChange:T=>m(T.target.value),placeholder:"  ",className:"w-full px-3 py-2 border border-gray-300 rounded text-sm focus:outline-none focus:border-gray-900 resize-none",rows:3},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:127,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:123,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV("button",{onClick:N,className:"px-4 py-1.5 bg-gray-900 text-white text-sm rounded hover:bg-gray-800 transition-colors",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:136,columnNumber:17},void 0),e.jsxDEV("button",{onClick:j,className:"px-4 py-1.5 bg-gray-200 text-gray-700 text-sm rounded hover:bg-gray-300 transition-colors",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:142,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:135,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:111,columnNumber:13},void 0),e.jsxDEV("div",{className:"space-y-2",children:n.length===0?e.jsxDEV("div",{className:"text-center py-12 text-gray-400 text-sm",children:"  "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:155,columnNumber:15},void 0):e.jsxDEV(e.Fragment,{children:[I.map(T=>e.jsxDEV("div",{className:"p-3 bg-white border border-gray-300 rounded hover:border-gray-400 transition-colors group",children:e.jsxDEV("div",{className:"flex items-start gap-3",children:[e.jsxDEV("button",{onClick:()=>R(T.id),className:"mt-0.5 flex-shrink-0",children:e.jsxDEV(ac,{className:"h-4 w-4 text-gray-400"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:171,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:167,columnNumber:23},void 0),e.jsxDEV("div",{className:"flex-1 min-w-0",children:[e.jsxDEV("p",{className:"text-sm text-gray-900 whitespace-pre-wrap break-words",children:T.content},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:174,columnNumber:25},void 0),e.jsxDEV("p",{className:"text-xs text-gray-500 mt-1",children:je(new Date(T.createdAt),"yyyy.MM.dd",{locale:ft})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:177,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:173,columnNumber:23},void 0),e.jsxDEV("button",{onClick:()=>x(T.id),className:"opacity-0 group-hover:opacity-100 px-2 py-1 text-xs text-gray-500 hover:text-red-600 transition-all",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:181,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:166,columnNumber:21},void 0)},T.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:162,columnNumber:19},void 0)),y.map(T=>e.jsxDEV("div",{className:"p-3 bg-gray-50 border border-gray-200 rounded hover:border-gray-300 transition-colors group",children:e.jsxDEV("div",{className:"flex items-start gap-3",children:[e.jsxDEV("button",{onClick:()=>R(T.id),className:"mt-0.5 flex-shrink-0",children:e.jsxDEV(oc,{className:"h-4 w-4 text-gray-900"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:202,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:198,columnNumber:23},void 0),e.jsxDEV("div",{className:"flex-1 min-w-0",children:[e.jsxDEV("p",{className:"text-sm text-gray-500 line-through whitespace-pre-wrap break-words",children:T.content},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:205,columnNumber:25},void 0),e.jsxDEV("p",{className:"text-xs text-gray-400 mt-1",children:je(new Date(T.createdAt),"yyyy.MM.dd",{locale:ft})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:208,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:204,columnNumber:23},void 0),e.jsxDEV("button",{onClick:()=>x(T.id),className:"opacity-0 group-hover:opacity-100 px-2 py-1 text-xs text-gray-500 hover:text-red-600 transition-all",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:212,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:197,columnNumber:21},void 0)},T.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:193,columnNumber:19},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:159,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:153,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:98,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:79,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:75,columnNumber:5},void 0)},Sf=({projectName:s,entrancePassword:n,sitePassword:t,onClose:r,onSave:i})=>{const[a,o]=d.useState(n||""),[m,c]=d.useState(t||""),[p,u]=d.useState(!1),f=()=>{u(!0)},b=()=>{i(a,m),u(!1)},N=()=>{o(n||""),c(t||""),u(!1)};return e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",onClick:r,children:e.jsxDEV("div",{className:"bg-white rounded-lg max-w-md w-full shadow-xl",onClick:j=>j.stopPropagation(),children:[e.jsxDEV("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[e.jsxDEV("div",{children:[e.jsxDEV("h2",{className:"text-lg font-semibold text-gray-900",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/SitePasswordModal.tsx",lineNumber:50,columnNumber:13},void 0),e.jsxDEV("p",{className:"text-sm text-gray-500 mt-0.5",children:s},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/SitePasswordModal.tsx",lineNumber:51,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/SitePasswordModal.tsx",lineNumber:49,columnNumber:11},void 0),e.jsxDEV("button",{onClick:r,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsxDEV(ot,{className:"h-5 w-5 text-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/SitePasswordModal.tsx",lineNumber:57,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/SitePasswordModal.tsx",lineNumber:53,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/SitePasswordModal.tsx",lineNumber:48,columnNumber:9},void 0),e.jsxDEV("div",{className:"p-6 space-y-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/SitePasswordModal.tsx",lineNumber:65,columnNumber:13},void 0),p?e.jsxDEV("input",{type:"text",value:a,onChange:j=>o(j.target.value),placeholder:"  ",className:"w-full px-3 py-2 border border-gray-300 rounded text-sm focus:outline-none focus:border-gray-900"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/SitePasswordModal.tsx",lineNumber:69,columnNumber:15},void 0):e.jsxDEV("div",{className:"px-3 py-2 bg-gray-50 border border-gray-200 rounded",children:a?e.jsxDEV("span",{className:"text-sm font-mono text-gray-900",children:a},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/SitePasswordModal.tsx",lineNumber:79,columnNumber:19},void 0):e.jsxDEV("span",{className:"text-sm text-gray-400",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/SitePasswordModal.tsx",lineNumber:81,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/SitePasswordModal.tsx",lineNumber:77,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/SitePasswordModal.tsx",lineNumber:64,columnNumber:11},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/SitePasswordModal.tsx",lineNumber:89,columnNumber:13},void 0),p?e.jsxDEV("input",{type:"text",value:m,onChange:j=>c(j.target.value),placeholder:"  ",className:"w-full px-3 py-2 border border-gray-300 rounded text-sm focus:outline-none focus:border-gray-900"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/SitePasswordModal.tsx",lineNumber:93,columnNumber:15},void 0):e.jsxDEV("div",{className:"px-3 py-2 bg-gray-50 border border-gray-200 rounded",children:m?e.jsxDEV("span",{className:"text-sm font-mono text-gray-900",children:m},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/SitePasswordModal.tsx",lineNumber:103,columnNumber:19},void 0):e.jsxDEV("span",{className:"text-sm text-gray-400",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/SitePasswordModal.tsx",lineNumber:105,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/SitePasswordModal.tsx",lineNumber:101,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/SitePasswordModal.tsx",lineNumber:88,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/SitePasswordModal.tsx",lineNumber:62,columnNumber:9},void 0),e.jsxDEV("div",{className:"border-t border-gray-200 px-6 py-4 flex gap-2",children:p?e.jsxDEV(e.Fragment,{children:[e.jsxDEV("button",{onClick:b,className:"flex-1 px-4 py-2 bg-gray-900 text-white text-sm rounded hover:bg-gray-800 transition-colors",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/SitePasswordModal.tsx",lineNumber:116,columnNumber:15},void 0),e.jsxDEV("button",{onClick:N,className:"flex-1 px-4 py-2 bg-gray-200 text-gray-700 text-sm rounded hover:bg-gray-300 transition-colors",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/SitePasswordModal.tsx",lineNumber:122,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/SitePasswordModal.tsx",lineNumber:115,columnNumber:13},void 0):e.jsxDEV(e.Fragment,{children:[e.jsxDEV("button",{onClick:f,className:"flex-1 px-4 py-2 bg-gray-200 text-gray-700 text-sm rounded hover:bg-gray-300 transition-colors",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/SitePasswordModal.tsx",lineNumber:131,columnNumber:15},void 0),e.jsxDEV("button",{onClick:r,className:"flex-1 px-4 py-2 bg-gray-900 text-white text-sm rounded hover:bg-gray-800 transition-colors",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/SitePasswordModal.tsx",lineNumber:137,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/SitePasswordModal.tsx",lineNumber:130,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/SitePasswordModal.tsx",lineNumber:113,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/SitePasswordModal.tsx",lineNumber:43,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/SitePasswordModal.tsx",lineNumber:39,columnNumber:5},void 0)},Pf=({projectName:s,onClose:n})=>{var o;const[t,r]=d.useState({clientName:"",phoneNumber:"",address:"",startDate:"",endDate:"",area:"",designFee:"",bankAccount:" 487102-01-264798 ",companyAddress:"  277  109",representative:"  "}),i=()=>{window.print()},a=m=>{const c=Number(m.replace(/,/g,""));return isNaN(c)?"":c.toLocaleString()};return e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 print:relative print:bg-white",children:e.jsxDEV("div",{className:"bg-white rounded-lg w-full max-w-4xl mx-4 max-h-[90vh] overflow-y-auto print:max-h-none print:mx-0 print:rounded-none",children:[e.jsxDEV("div",{className:"flex items-center justify-between p-4 border-b print:hidden",children:[e.jsxDEV("h2",{className:"text-lg font-bold text-gray-900",children:"  "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:40,columnNumber:13},void 0),e.jsxDEV("button",{onClick:n,className:"p-1 hover:bg-gray-100 rounded-full",children:e.jsxDEV(ot,{className:"h-5 w-5 text-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:45,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:41,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:39,columnNumber:11},void 0),e.jsxDEV("div",{className:"p-6 space-y-4 print:hidden",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:52,columnNumber:15},void 0),e.jsxDEV("input",{type:"text",value:t.clientName,onChange:m=>r({...t,clientName:m.target.value}),placeholder:" ",className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:53,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:51,columnNumber:13},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:63,columnNumber:15},void 0),e.jsxDEV("input",{type:"text",value:t.phoneNumber,onChange:m=>r({...t,phoneNumber:m.target.value}),placeholder:"010-0000-0000",className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:64,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:62,columnNumber:13},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:74,columnNumber:15},void 0),e.jsxDEV("input",{type:"text",value:t.address,onChange:m=>r({...t,address:m.target.value}),placeholder:" ",className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:75,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:73,columnNumber:13},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:86,columnNumber:17},void 0),e.jsxDEV("input",{type:"date",value:t.startDate,onChange:m=>r({...t,startDate:m.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:87,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:85,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:95,columnNumber:17},void 0),e.jsxDEV("input",{type:"date",value:t.endDate,onChange:m=>r({...t,endDate:m.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:96,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:94,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:84,columnNumber:13},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:106,columnNumber:15},void 0),e.jsxDEV("input",{type:"text",value:t.area,onChange:m=>r({...t,area:m.target.value}),placeholder:": 21.9(72.37m2)",className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:107,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:105,columnNumber:13},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:117,columnNumber:15},void 0),e.jsxDEV("input",{type:"text",value:a(t.designFee),onChange:m=>{const c=m.target.value.replace(/,/g,"");/^\d*$/.test(c)&&r({...t,designFee:c})},placeholder:" ",className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:118,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:116,columnNumber:13},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:133,columnNumber:15},void 0),e.jsxDEV("input",{type:"text",value:t.bankAccount,onChange:m=>r({...t,bankAccount:m.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:134,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:132,columnNumber:13},void 0),e.jsxDEV("button",{onClick:i,disabled:!t.clientName||!t.phoneNumber||!t.address,className:"w-full py-2 bg-gray-900 text-white rounded-lg hover:bg-gray-800 disabled:bg-gray-300 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[e.jsxDEV(dm,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:147,columnNumber:15},void 0),""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:142,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:50,columnNumber:11},void 0),e.jsxDEV("div",{className:"hidden print:block p-16",children:e.jsxDEV("div",{className:"space-y-16",children:[e.jsxDEV("h1",{className:"text-2xl font-bold text-gray-900",children:"  "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:156,columnNumber:15},void 0),e.jsxDEV("div",{className:"space-y-8 text-base leading-relaxed",children:[e.jsxDEV("div",{className:"flex items-baseline",children:[e.jsxDEV("span",{className:"w-48",children:"1.  :"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:161,columnNumber:19},void 0),e.jsxDEV("span",{className:"flex-1",children:t.clientName},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:162,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:160,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex items-baseline",children:[e.jsxDEV("span",{className:"w-48",children:"2.  :"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:166,columnNumber:19},void 0),e.jsxDEV("span",{className:"flex-1",children:t.phoneNumber},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:167,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:165,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex items-baseline",children:[e.jsxDEV("span",{className:"w-48",children:"3.  :"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:171,columnNumber:19},void 0),e.jsxDEV("span",{className:"flex-1",children:t.address},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:172,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:170,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex items-baseline",children:[e.jsxDEV("span",{className:"w-48",children:"3.  :"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:176,columnNumber:19},void 0),e.jsxDEV("span",{className:"flex-1",children:t.startDate&&t.endDate?e.jsxDEV(e.Fragment,{children:[je(new Date(t.startDate),"yyyy",{locale:ft}),"",je(new Date(t.startDate),"MM",{locale:ft}),"",je(new Date(t.startDate),"dd",{locale:ft})," ~ ",je(new Date(t.endDate),"yyyy",{locale:ft}),"",je(new Date(t.endDate),"MM",{locale:ft}),"",je(new Date(t.endDate),"dd",{locale:ft})," ()"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:179,columnNumber:23},void 0):""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:177,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:175,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex items-baseline",children:[e.jsxDEV("span",{className:"w-48",children:"5.  :"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:187,columnNumber:19},void 0),e.jsxDEV("span",{className:"flex-1",children:t.area},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:188,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:186,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex flex-col",children:[e.jsxDEV("div",{className:"flex items-baseline",children:[e.jsxDEV("span",{className:"w-48",children:"6.  :"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:193,columnNumber:21},void 0),e.jsxDEV("span",{className:"flex-1",children:[t.designFee?`${a(t.designFee)}`:""," ()"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:194,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:192,columnNumber:19},void 0),t.bankAccount&&e.jsxDEV("div",{className:"ml-48 mt-2 text-center",children:t.bankAccount},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:199,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:191,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:159,columnNumber:15},void 0),e.jsxDEV("div",{className:"mt-20 space-y-3",children:[e.jsxDEV("div",{className:"text-base font-bold",children:"*"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:206,columnNumber:17},void 0),e.jsxDEV("div",{className:"ml-8 space-y-2 text-base",children:[e.jsxDEV("div",{children:[" : ",t.address]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:208,columnNumber:19},void 0),e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV("span",{children:[" : ",(o=t.clientName)==null?void 0:o.split("").join("    ")]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:210,columnNumber:21},void 0),e.jsxDEV("span",{className:"ml-8",children:"()"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:211,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:209,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:207,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:205,columnNumber:15},void 0),e.jsxDEV("div",{className:"mt-12 space-y-3",children:[e.jsxDEV("div",{className:"text-base font-bold",children:"*"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:218,columnNumber:17},void 0),e.jsxDEV("div",{className:"ml-8 space-y-2 text-base",children:[e.jsxDEV("div",{children:[" : ",t.companyAddress]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:220,columnNumber:19},void 0),e.jsxDEV("div",{children:" : HV LAB ()"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:221,columnNumber:19},void 0),e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV("span",{children:[" : ",t.representative]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:223,columnNumber:21},void 0),e.jsxDEV("div",{className:"ml-8 inline-flex items-center justify-center w-14 h-14 border-2 border-red-600",children:e.jsxDEV("span",{className:"text-red-600 text-xs font-bold leading-tight text-center",children:["",e.jsxDEV("br",{},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:226,columnNumber:28},void 0),""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:225,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:224,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:222,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:219,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:217,columnNumber:15},void 0),e.jsxDEV("div",{className:"border-t-[3px] border-gray-900 mt-32 pt-12 flex justify-between items-end",children:[e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV("span",{className:"text-4xl font-bold",children:"H"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:236,columnNumber:19},void 0),e.jsxDEV("span",{className:"inline-block w-12 h-1 bg-gray-900 mx-2"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:237,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:235,columnNumber:17},void 0),e.jsxDEV("div",{className:"text-right",children:[e.jsxDEV("div",{className:"text-xs tracking-widest mb-1",children:"ARCHITECTURE & INTERIOR"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:240,columnNumber:19},void 0),e.jsxDEV("div",{className:"text-3xl font-bold",children:"HV LAB"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:241,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:239,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:234,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:154,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:153,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:37,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:36,columnNumber:7},void 0),e.jsxDEV("style",{children:`
        @media print {
          @page {
            size: A4;
            margin: 0;
          }
          body * {
            visibility: hidden;
          }
          .print\\:block, .print\\:block * {
            visibility: visible;
          }
          .print\\:hidden {
            display: none !important;
          }
          .print\\:relative {
            position: relative !important;
            background: white !important;
          }
        }
      `},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:250,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:35,columnNumber:5},void 0)},Rf=()=>{const{loadProjectsFromAPI:s,addProjectToAPI:n,updateProjectInAPI:t,deleteProjectFromAPI:r}=os(),{user:i}=Mt(),a=Qt(),[o,m]=d.useState("in-progress"),[c,p]=d.useState("grid"),[u,f]=d.useState(!1),[b,N]=d.useState(null),[j,x]=d.useState(!1),[R,I]=d.useState(!1),[y,T]=d.useState(!1),[te,ee]=d.useState(!1),[L,z]=d.useState(null),se=(C,le)=>`lastViewed_${i==null?void 0:i.id}_${C}_${le}`,oe=(C,le)=>{const D=se(C,le),H=localStorage.getItem(D);return H?parseInt(H,10):0},ce=(C,le)=>{const D=se(C,le);localStorage.setItem(D,Date.now().toString())},De=(C,le)=>{const D=oe(C.id,le);return le==="meeting"?(C.meetingNotes||[]).some(ie=>(ie.createdAt?new Date(ie.createdAt).getTime():new Date(ie.date).getTime())>D):(C.customerRequests||[]).some(ie=>!ie.completed)};d.useEffect(()=>{s().catch(C=>{console.error("Failed to load projects:",C),M.error("   ")})},[s]),d.useEffect(()=>{const C=()=>{N(null),f(!0)};return window.addEventListener("headerAddButtonClick",C),()=>window.removeEventListener("headerAddButtonClick",C)},[]);const Q=(C,le)=>{if(!C||!le)return 0;const D=new Date,H=new Date(C),ie=new Date(le);if(D<H)return 0;if(D>ie)return 100;const Ce=Math.ceil((ie.getTime()-H.getTime())/(1e3*60*60*24)),Te=Math.ceil((D.getTime()-H.getTime())/(1e3*60*60*24)),ze=Math.round(Te/Ce*100);return Math.min(100,Math.max(0,ze))},ne=C=>{N(C),f(!0)},xe=async(C,le)=>{if(window.confirm(`"${le}"  ?

    .`))try{await r(C),M.success(" ")}catch(D){console.error("Failed to delete project:",D),M.error("  ")}},Ee=async C=>{try{if(b)await t(b.id,C),M.success(" ");else{const le={id:"",...C,team:C.team||[]};await n(le),M.success(" "),m(C.status||"planning")}f(!1),N(null)}catch(le){console.error("Failed to save project:",le),M.error("  ")}},He=async(C,le)=>{try{await t(C,{status:le}),M.success(" ")}catch(D){console.error("Failed to update project status:",D),M.error("  ")}},Ve=C=>{z(C),x(!0),ce(C.id,"meeting")},Ge=C=>{z(C),I(!0),ce(C.id,"request")},de=C=>{z(C),T(!0)},Ae=C=>{z(C),ee(!0)},Ue=async(C,le)=>{if(!L)return;const D=L.entrancePassword,H=L.sitePassword;z({...L,entrancePassword:C,sitePassword:le});try{await t(L.id,{entrancePassword:C,sitePassword:le}),M.success(" ")}catch(ie){console.error("Failed to save passwords:",ie),M.error("  "),z({...L,entrancePassword:D,sitePassword:H})}},he=async(C,le)=>{if(!L)return;const D={id:Date.now().toString(),content:C,date:le,createdAt:new Date},H=[...L.meetingNotes||[],D];z({...L,meetingNotes:H});try{await t(L.id,{meetingNotes:H}),M.success("  ")}catch(ie){console.error("Failed to save meeting note:",ie),M.error("   "),z({...L,meetingNotes:L.meetingNotes||[]})}},Re=async(C,le)=>{if(!L)return;const D={id:Date.now().toString(),content:C,completed:!1,createdAt:le},H=[...L.customerRequests||[],D];z({...L,customerRequests:H});try{await t(L.id,{customerRequests:H}),M.success("  ")}catch(ie){console.error("Failed to save customer request:",ie),M.error("   "),z({...L,customerRequests:L.customerRequests||[]})}},$e=async C=>{if(!L)return;const le=L.customerRequests||[],D=le.map(H=>H.id===C?{...H,completed:!H.completed}:H);z({...L,customerRequests:D});try{await t(L.id,{customerRequests:D}),M.success("  ")}catch(H){console.error("Failed to toggle request:",H),M.error("  "),z({...L,customerRequests:le})}},qe=async C=>{if(!L)return;const le=L.meetingNotes||[],D=le.filter(H=>H.id!==C);z({...L,meetingNotes:D});try{await t(L.id,{meetingNotes:D}),M.success("  ")}catch(H){console.error("Failed to delete meeting note:",H),M.error(" "),z({...L,meetingNotes:le})}},Oe=async C=>{if(!L)return;const le=L.customerRequests||[],D=le.filter(H=>H.id!==C);z({...L,customerRequests:D});try{await t(L.id,{customerRequests:D}),M.success("  ")}catch(H){console.error("Failed to delete customer request:",H),M.error(" "),z({...L,customerRequests:le})}},B=({project:C})=>{const D={planning:{label:"",color:"bg-white text-gray-700 border-gray-300"},"in-progress":{label:"",color:"bg-white text-gray-900 border-gray-300"},completed:{label:"",color:"bg-gray-900 text-white border-gray-900"},"on-hold":{label:"",color:"bg-white text-gray-600 border-gray-300"}}[C.status];return e.jsxDEV("select",{value:C.status,onChange:H=>He(C.id,H.target.value),className:Pt("px-2 py-1 text-xs font-medium border rounded cursor-pointer","focus:outline-none focus:ring-2 focus:ring-gray-500",D.color),onClick:H=>H.stopPropagation(),children:[e.jsxDEV("option",{value:"planning",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:395,columnNumber:9},void 0),e.jsxDEV("option",{value:"in-progress",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:396,columnNumber:9},void 0),e.jsxDEV("option",{value:"completed",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:397,columnNumber:9},void 0),e.jsxDEV("option",{value:"on-hold",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:398,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:385,columnNumber:7},void 0)},me=(()=>{let C=a;return o!=="all"&&(C=C.filter(le=>le.status===o)),C})(),_e={planning:a.filter(C=>C.status==="planning").length,inProgress:a.filter(C=>C.status==="in-progress").length,completed:a.filter(C=>C.status==="completed").length,onHold:a.filter(C=>C.status==="on-hold").length},G=({project:C})=>{var D,H,ie,Ce;const le=Q(C.startDate,C.endDate);return e.jsxDEV("div",{className:"card p-3 md:p-4 hover:border-gray-400 transition-colors",children:[e.jsxDEV("div",{className:"flex items-start justify-between mb-3 md:mb-4",children:[e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("h3",{className:"font-bold text-base md:text-lg text-gray-900",children:C.name},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:432,columnNumber:13},void 0),e.jsxDEV("p",{className:"text-xs md:text-sm text-gray-600 mt-1",children:[C.client,""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:433,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:431,columnNumber:11},void 0),e.jsxDEV("div",{className:"flex flex-col items-end gap-2",children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[C.status==="planning"&&e.jsxDEV("button",{onClick:()=>Ae(C),className:"px-2 py-1 text-xs font-medium text-white bg-gray-700 hover:bg-gray-800 rounded transition-colors",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:438,columnNumber:17},void 0),e.jsxDEV(B,{project:C},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:445,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:436,columnNumber:13},void 0),e.jsxDEV("button",{onClick:()=>ne(C),className:"text-xs text-gray-600 hover:text-gray-900",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:447,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:435,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:430,columnNumber:9},void 0),e.jsxDEV("div",{className:"space-y-1.5 md:space-y-2 mb-3 md:mb-4 text-xs md:text-sm",children:[e.jsxDEV("div",{className:"text-gray-600",children:[": ",C.location]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:457,columnNumber:11},void 0),e.jsxDEV("div",{className:"text-gray-600",children:[": ",C.startDate&&C.endDate?`${je(C.startDate,"MM.dd (eee)",{locale:ft})} - ${je(C.endDate,"MM.dd (eee)",{locale:ft})}`:""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:460,columnNumber:11},void 0),e.jsxDEV("div",{className:"text-gray-600",children:[": ",C.manager]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:465,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:456,columnNumber:9},void 0),e.jsxDEV("div",{className:"mb-3 md:mb-4",children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-1.5 md:mb-2",children:[e.jsxDEV("span",{className:"text-[10px] md:text-xs text-gray-600",children:" ( )"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:472,columnNumber:13},void 0),e.jsxDEV("span",{className:"text-xs md:text-sm font-medium text-gray-900",children:[le,"%"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:473,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:471,columnNumber:11},void 0),e.jsxDEV("div",{className:"w-full bg-gray-200 h-1",children:e.jsxDEV("div",{className:"bg-gray-900 h-1 transition-all",style:{width:`${le}%`}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:476,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:475,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:470,columnNumber:9},void 0),e.jsxDEV("div",{className:"pt-2 border-t border-gray-200 space-y-2",children:[e.jsxDEV("div",{className:"grid grid-cols-3 gap-2",children:[e.jsxDEV("button",{onClick:()=>Ve(C),className:"relative px-2 py-1.5 text-xs font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:["",(((D=C.meetingNotes)==null?void 0:D.length)||0)>0&&e.jsxDEV("span",{className:"ml-1 text-[10px] text-gray-500",children:["(",((H=C.meetingNotes)==null?void 0:H.length)||0,")"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:491,columnNumber:17},void 0),De(C,"meeting")&&e.jsxDEV("span",{className:"absolute -top-1 -right-1 inline-flex items-center justify-center px-1.5 py-0.5 text-[9px] font-bold leading-none text-white bg-red-500 rounded-full",children:"N"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:496,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:485,columnNumber:13},void 0),e.jsxDEV("button",{onClick:()=>Ge(C),className:"relative px-2 py-1.5 text-xs font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:["",(((ie=C.customerRequests)==null?void 0:ie.length)||0)>0&&e.jsxDEV("span",{className:"ml-1 text-[10px] text-gray-500",children:["(",((Ce=C.customerRequests)==null?void 0:Ce.length)||0,")"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:507,columnNumber:17},void 0),De(C,"request")&&e.jsxDEV("span",{className:"absolute -top-1 -right-1 inline-flex items-center justify-center px-1.5 py-0.5 text-[9px] font-bold leading-none text-white bg-red-500 rounded-full",children:"N"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:512,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:501,columnNumber:13},void 0),e.jsxDEV("button",{onClick:()=>de(C),className:"px-2 py-1.5 text-xs font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:517,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:484,columnNumber:11},void 0),((i==null?void 0:i.role)==="admin"||(i==null?void 0:i.role)==="manager")&&e.jsxDEV("div",{className:"flex space-x-2",children:e.jsxDEV("button",{onClick:()=>xe(C.id,C.name),className:"text-xs text-rose-600 hover:text-rose-700",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:526,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:525,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:483,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:429,columnNumber:7},void 0)};return e.jsxDEV("div",{className:"space-y-3 md:space-y-4",children:[e.jsxDEV("div",{className:"border-b border-gray-200",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("nav",{className:"flex space-x-4 md:space-x-8 overflow-x-auto",children:[{id:"planning",label:"",count:_e.planning,color:"text-gray-700"},{id:"in-progress",label:"",count:_e.inProgress,color:"text-gray-700"},{id:"completed",label:"",count:_e.completed,color:"text-gray-700"},{id:"all",label:"",count:a.length,color:"text-gray-600"}].map(C=>e.jsxDEV("button",{onClick:()=>m(C.id),className:Pt("py-3 md:py-4 px-1 border-b-2 font-medium text-xs md:text-sm transition-colors whitespace-nowrap",o===C.id?`border-gray-700 ${C.color}`:"border-transparent text-gray-400 hover:text-gray-700 hover:border-gray-300"),children:[C.label,e.jsxDEV("span",{className:Pt("ml-1 md:ml-2 py-0.5 px-1.5 md:px-2 rounded-full text-[10px] md:text-xs font-semibold",o===C.id?"bg-gray-700 text-white":"bg-gray-200 text-gray-600"),children:C.count},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:563,columnNumber:17},void 0)]},C.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:552,columnNumber:15},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:545,columnNumber:11},void 0),e.jsxDEV("div",{className:"flex items-center gap-6 mb-3 md:mb-4",children:[e.jsxDEV("div",{className:"hidden sm:flex border border-gray-300 overflow-hidden rounded",children:[e.jsxDEV("button",{onClick:()=>p("grid"),className:Pt("px-3 md:px-4 py-2 text-xs md:text-sm",c==="grid"?"bg-gray-100":"hover:bg-gray-50"),children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:577,columnNumber:15},void 0),e.jsxDEV("button",{onClick:()=>p("list"),className:Pt("px-3 md:px-4 py-2 text-xs md:text-sm border-l border-gray-300",c==="list"?"bg-gray-100":"hover:bg-gray-50"),children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:586,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:576,columnNumber:13},void 0),e.jsxDEV("button",{onClick:()=>{N(null),f(!0)},className:"hidden lg:inline-flex btn btn-primary portrait:px-2 landscape:px-4 py-2 items-center gap-1",children:[e.jsxDEV(Gt,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:604,columnNumber:15},void 0),e.jsxDEV("span",{className:"portrait:hidden landscape:inline",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:605,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:597,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:574,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:543,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:542,columnNumber:7},void 0),c==="grid"||window.innerWidth<768?e.jsxDEV("div",{className:"projects-grid grid grid-cols-1 md:grid-cols-2 ipad:grid-cols-2 ipad-lg:grid-cols-2 ipad-xl:grid-cols-3 ipad-2xl:grid-cols-3 2xl:grid-cols-4 gap-3 md:gap-6",children:me.map(C=>e.jsxDEV(G,{project:C},C.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:614,columnNumber:13},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:612,columnNumber:9},void 0):e.jsxDEV("div",{className:"bg-white border border-gray-200 overflow-hidden",children:e.jsxDEV("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsxDEV("thead",{className:"bg-gray-50",children:e.jsxDEV("tr",{children:[e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:622,columnNumber:17},void 0),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:625,columnNumber:17},void 0),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:628,columnNumber:17},void 0),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:631,columnNumber:17},void 0),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:634,columnNumber:17},void 0),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:637,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:621,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:620,columnNumber:13},void 0),e.jsxDEV("tbody",{className:"bg-white divide-y divide-gray-200",children:me.map(C=>{var D,H,ie,Ce;const le=Q(C.startDate,C.endDate);return e.jsxDEV("tr",{className:"hover:bg-gray-50",children:[e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"font-medium",children:C.name},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:649,columnNumber:25},void 0),e.jsxDEV("p",{className:"text-sm text-gray-500",children:C.location},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:650,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:648,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:647,columnNumber:21},void 0),e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxDEV("p",{className:"text-sm",children:[C.client,""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:654,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:653,columnNumber:21},void 0),e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:C.startDate&&C.endDate?e.jsxDEV(e.Fragment,{children:[je(C.startDate,"yyyy.MM.dd (eee)",{locale:ft})," -",e.jsxDEV("br",{},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:660,columnNumber:27},void 0),je(C.endDate,"yyyy.MM.dd (eee)",{locale:ft})]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:658,columnNumber:25},void 0):""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:656,columnNumber:21},void 0),e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxDEV("div",{className:"flex items-center gap-2",children:[C.status==="planning"&&e.jsxDEV("button",{onClick:()=>Ae(C),className:"px-2 py-1 text-xs font-medium text-white bg-gray-700 hover:bg-gray-800 rounded transition-colors",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:668,columnNumber:27},void 0),e.jsxDEV(B,{project:C},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:675,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:666,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:665,columnNumber:21},void 0),e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV("div",{className:"w-24 bg-gray-200 h-1 mr-2",children:e.jsxDEV("div",{className:"bg-gray-900 h-1",style:{width:`${le}%`}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:681,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:680,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-sm",children:[le,"%"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:686,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:679,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:678,columnNumber:21},void 0),e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxDEV("div",{className:"flex flex-col gap-2",children:[e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV("button",{onClick:()=>Ve(C),className:"relative px-3 py-1.5 text-xs font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:["",(((D=C.meetingNotes)==null?void 0:D.length)||0)>0&&e.jsxDEV("span",{className:"ml-1 text-[10px] text-gray-500",children:["(",((H=C.meetingNotes)==null?void 0:H.length)||0,")"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:698,columnNumber:31},void 0),De(C,"meeting")&&e.jsxDEV("span",{className:"absolute -top-1 -right-1 inline-flex items-center justify-center px-1.5 py-0.5 text-[9px] font-bold leading-none text-white bg-red-500 rounded-full",children:"N"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:703,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:692,columnNumber:27},void 0),e.jsxDEV("button",{onClick:()=>Ge(C),className:"relative px-3 py-1.5 text-xs font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:["",(((ie=C.customerRequests)==null?void 0:ie.length)||0)>0&&e.jsxDEV("span",{className:"ml-1 text-[10px] text-gray-500",children:["(",((Ce=C.customerRequests)==null?void 0:Ce.length)||0,")"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:714,columnNumber:31},void 0),De(C,"request")&&e.jsxDEV("span",{className:"absolute -top-1 -right-1 inline-flex items-center justify-center px-1.5 py-0.5 text-[9px] font-bold leading-none text-white bg-red-500 rounded-full",children:"N"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:719,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:708,columnNumber:27},void 0),e.jsxDEV("button",{onClick:()=>de(C),className:"px-3 py-1.5 text-xs font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:724,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:691,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex space-x-2",children:[e.jsxDEV("button",{onClick:()=>ne(C),className:"text-xs text-gray-600 hover:text-gray-900",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:732,columnNumber:27},void 0),((i==null?void 0:i.role)==="admin"||(i==null?void 0:i.role)==="manager")&&e.jsxDEV("button",{onClick:()=>xe(C.id,C.name),className:"text-xs text-rose-600 hover:text-rose-700",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:739,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:731,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:690,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:689,columnNumber:21},void 0)]},C.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:646,columnNumber:19},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:642,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:619,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:618,columnNumber:9},void 0),u&&e.jsxDEV(Hf,{project:b,onClose:()=>{f(!1),N(null)},onSave:Ee},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:758,columnNumber:9},void 0),j&&L&&e.jsxDEV(Bf,{projectName:L.name,meetingNotes:L.meetingNotes||[],onClose:()=>{x(!1),z(null)},onSave:he,onDelete:qe},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:769,columnNumber:9},void 0),R&&L&&e.jsxDEV(Uf,{projectName:L.name,customerRequests:L.customerRequests||[],onClose:()=>{I(!1),z(null)},onSave:Re,onToggleComplete:$e,onDelete:Oe},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:782,columnNumber:9},void 0),y&&L&&e.jsxDEV(Sf,{projectName:L.name,entrancePassword:L.entrancePassword||"",sitePassword:L.sitePassword||"",onClose:()=>{T(!1),z(null)},onSave:Ue},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:796,columnNumber:9},void 0),te&&L&&e.jsxDEV(Pf,{projectName:L.name,onClose:()=>{ee(!1),z(null)}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:809,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:540,columnNumber:5},void 0)};var ha={},rl={exports:{}};(function(s){function n(t){return t&&t.__esModule?t:{default:t}}s.exports=n,s.exports.__esModule=!0,s.exports.default=s.exports})(rl);var Tt=rl.exports,ka={},il={exports:{}},al={exports:{}},ol={exports:{}},ml={exports:{}};(function(s){function n(t){"@babel/helpers - typeof";return s.exports=n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},s.exports.__esModule=!0,s.exports.default=s.exports,n(t)}s.exports=n,s.exports.__esModule=!0,s.exports.default=s.exports})(ml);var ln=ml.exports,ll={exports:{}};(function(s){var n=ln.default;function t(r,i){if(n(r)!="object"||!r)return r;var a=r[Symbol.toPrimitive];if(a!==void 0){var o=a.call(r,i||"default");if(n(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(r)}s.exports=t,s.exports.__esModule=!0,s.exports.default=s.exports})(ll);var Mf=ll.exports;(function(s){var n=ln.default,t=Mf;function r(i){var a=t(i,"string");return n(a)=="symbol"?a:a+""}s.exports=r,s.exports.__esModule=!0,s.exports.default=s.exports})(ol);var dl=ol.exports;(function(s){var n=dl;function t(r,i,a){return(i=n(i))in r?Object.defineProperty(r,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[i]=a,r}s.exports=t,s.exports.__esModule=!0,s.exports.default=s.exports})(al);var cl=al.exports;(function(s){var n=cl;function t(i,a){var o=Object.keys(i);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(i);a&&(m=m.filter(function(c){return Object.getOwnPropertyDescriptor(i,c).enumerable})),o.push.apply(o,m)}return o}function r(i){for(var a=1;a<arguments.length;a++){var o=arguments[a]!=null?arguments[a]:{};a%2?t(Object(o),!0).forEach(function(m){n(i,m,o[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(o)):t(Object(o)).forEach(function(m){Object.defineProperty(i,m,Object.getOwnPropertyDescriptor(o,m))})}return i}s.exports=r,s.exports.__esModule=!0,s.exports.default=s.exports})(il);var Ps=il.exports,ul={exports:{}},pl={exports:{}};(function(s){function n(t,r){if(t==null)return{};var i={};for(var a in t)if({}.hasOwnProperty.call(t,a)){if(r.indexOf(a)!==-1)continue;i[a]=t[a]}return i}s.exports=n,s.exports.__esModule=!0,s.exports.default=s.exports})(pl);var If=pl.exports;(function(s){var n=If;function t(r,i){if(r==null)return{};var a,o,m=n(r,i);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(r);for(o=0;o<c.length;o++)a=c[o],i.indexOf(a)===-1&&{}.propertyIsEnumerable.call(r,a)&&(m[a]=r[a])}return m}s.exports=t,s.exports.__esModule=!0,s.exports.default=s.exports})(ul);var va=ul.exports,fl={exports:{}};(function(s){function n(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}s.exports=n,s.exports.__esModule=!0,s.exports.default=s.exports})(fl);var zs=fl.exports,gl={exports:{}};(function(s){var n=dl;function t(i,a){for(var o=0;o<a.length;o++){var m=a[o];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(i,n(m.key),m)}}function r(i,a,o){return a&&t(i.prototype,a),o&&t(i,o),Object.defineProperty(i,"prototype",{writable:!1}),i}s.exports=r,s.exports.__esModule=!0,s.exports.default=s.exports})(gl);var Ys=gl.exports,Nl={exports:{}},bl={exports:{}};(function(s){function n(t){return s.exports=n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},s.exports.__esModule=!0,s.exports.default=s.exports,n(t)}s.exports=n,s.exports.__esModule=!0,s.exports.default=s.exports})(bl);var Tf=bl.exports,xl={exports:{}};(function(s){function n(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(s.exports=n=function(){return!!t},s.exports.__esModule=!0,s.exports.default=s.exports)()}s.exports=n,s.exports.__esModule=!0,s.exports.default=s.exports})(xl);var Ff=xl.exports,yl={exports:{}},hl={exports:{}};(function(s){function n(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}s.exports=n,s.exports.__esModule=!0,s.exports.default=s.exports})(hl);var Wf=hl.exports;(function(s){var n=ln.default,t=Wf;function r(i,a){if(a&&(n(a)=="object"||typeof a=="function"))return a;if(a!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return t(i)}s.exports=r,s.exports.__esModule=!0,s.exports.default=s.exports})(yl);var qf=yl.exports;(function(s){var n=Tf,t=Ff,r=qf;function i(a,o,m){return o=n(o),r(a,t()?Reflect.construct(o,m||[],n(a).constructor):o.apply(a,m))}s.exports=i,s.exports.__esModule=!0,s.exports.default=s.exports})(Nl);var dn=Nl.exports,kl={exports:{}},vl={exports:{}};(function(s){function n(t,r){return s.exports=n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,a){return i.__proto__=a,i},s.exports.__esModule=!0,s.exports.default=s.exports,n(t,r)}s.exports=n,s.exports.__esModule=!0,s.exports.default=s.exports})(vl);var Of=vl.exports;(function(s){var n=Of;function t(r,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(i&&i.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),i&&n(r,i)}s.exports=t,s.exports.__esModule=!0,s.exports.default=s.exports})(kl);var cn=kl.exports;const zn=Wn(Cc);var is={},rn={};Object.defineProperty(rn,"__esModule",{value:!0});rn.views=rn.navigate=void 0;rn.navigate={PREVIOUS:"PREV",NEXT:"NEXT",TODAY:"TODAY",DATE:"DATE"};rn.views={MONTH:"month",WEEK:"week",WORK_WEEK:"work_week",DAY:"day",AGENDA:"agenda"};var $f=Tt.default;Object.defineProperty(is,"__esModule",{value:!0});is.views=is.dateRangeFormat=is.dateFormat=is.accessor=is.DayLayoutAlgorithmPropType=void 0;var $t=$f(um),yo=rn,ho=Object.keys(yo.views).map(function(s){return yo.views[s]});is.accessor=$t.default.oneOfType([$t.default.string,$t.default.func]);is.dateFormat=$t.default.any;is.dateRangeFormat=$t.default.func;is.views=$t.default.oneOfType([$t.default.arrayOf($t.default.oneOf(ho)),$t.default.objectOf(function(s,n){var t=ho.indexOf(n)!==-1&&typeof s[n]=="boolean";if(t)return null;for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];return $t.default.elementType.apply($t.default,[s,n].concat(i))})]);is.DayLayoutAlgorithmPropType=$t.default.oneOfType([$t.default.oneOf(["overlap","no-overlap"]),$t.default.func]);var Kr={},un={},zf=Tt.default;Object.defineProperty(un,"__esModule",{value:!0});un.accessor=Dl;un.wrapAccessor=void 0;var Yf=zf(ln);function Dl(s,n){var t=null;return typeof n=="function"?t=n(s):typeof n=="string"&&(0,Yf.default)(s)==="object"&&s!=null&&n in s&&(t=s[n]),t}un.wrapAccessor=function(n){return function(t){return Dl(t,n)}};var Ks={},Kf=Tt.default;Object.defineProperty(Ks,"__esModule",{value:!0});Ks.DnDContext=void 0;var Xf=Kf(d);Ks.DnDContext=Xf.default.createContext();var Xs=Tt.default;Object.defineProperty(Kr,"__esModule",{value:!0});Kr.default=void 0;var Jf=Xs(Ps),Gf=Xs(zs),Qf=Xs(Ys),Zf=Xs(dn),eg=Xs(cn),Gs=Xs(d),ko=Xs(zn),vo=un,tg=Ks,Vl=function(s){function n(){var t;(0,Gf.default)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t=(0,Zf.default)(this,n,[].concat(i)),t.handleResizeUp=function(o){o.button===0&&t.context.draggable.onBeginAction(t.props.event,"resize","UP")},t.handleResizeDown=function(o){o.button===0&&t.context.draggable.onBeginAction(t.props.event,"resize","DOWN")},t.handleResizeLeft=function(o){o.button===0&&t.context.draggable.onBeginAction(t.props.event,"resize","LEFT")},t.handleResizeRight=function(o){o.button===0&&t.context.draggable.onBeginAction(t.props.event,"resize","RIGHT")},t.handleStartDragging=function(o){var m;if(o.button===0){var c=(m=o.target.getAttribute("class"))===null||m===void 0?void 0:m.includes("rbc-addons-dnd-resize");if(!c){var p=(0,Jf.default)({},t.props.event);p.sourceResource=t.props.resource,t.context.draggable.onBeginAction(t.props.event,"move")}}},t}return(0,eg.default)(n,s),(0,Qf.default)(n,[{key:"renderAnchor",value:function(r){var i=r==="Up"||r==="Down"?"ns":"ew";return Gs.default.createElement("div",{className:"rbc-addons-dnd-resize-".concat(i,"-anchor"),onMouseDown:this["handleResize".concat(r)]},Gs.default.createElement("div",{className:"rbc-addons-dnd-resize-".concat(i,"-icon")}))}},{key:"render",value:function(){var r=this.props,i=r.event,a=r.type,o=r.continuesPrior,m=r.continuesAfter,c=r.resizable,p=this.props.children;if(i.__isPreview)return Gs.default.cloneElement(p,{className:(0,ko.default)(p.props.className,"rbc-addons-dnd-drag-preview")});var u=this.context.draggable,f=u.draggableAccessor,b=u.resizableAccessor,N=f?!!(0,vo.accessor)(i,f):!0;if(!N)return p;var j=c&&(b?!!(0,vo.accessor)(i,b):!0);if(j||N){var x={onMouseDown:this.handleStartDragging,onTouchStart:this.handleStartDragging};if(j){var R=null,I=null;a==="date"?(R=!o&&this.renderAnchor("Left"),I=!m&&this.renderAnchor("Right")):(R=!o&&this.renderAnchor("Up"),I=!m&&this.renderAnchor("Down")),x.children=Gs.default.createElement("div",{className:"rbc-addons-dnd-resizable"},R,p.props.children,I)}u.dragAndDropAction.interacting&&u.dragAndDropAction.event===i&&(x.className=(0,ko.default)(p.props.className,"rbc-addons-dnd-dragged-event")),p=Gs.default.cloneElement(p,x)}return p}}])}(Gs.default.Component);Vl.contextType=tg.DnDContext;Kr.default=Vl;var Xr={},Cl={exports:{}};(function(s){var n=ln.default;function t(r,i){if(typeof WeakMap=="function")var a=new WeakMap,o=new WeakMap;return(s.exports=t=function(c,p){if(!p&&c&&c.__esModule)return c;var u,f,b={__proto__:null,default:c};if(c===null||n(c)!="object"&&typeof c!="function")return b;if(u=p?o:a){if(u.has(c))return u.get(c);u.set(c,b)}for(var N in c)N!=="default"&&{}.hasOwnProperty.call(c,N)&&((f=(u=Object.defineProperty)&&Object.getOwnPropertyDescriptor(c,N))&&(f.get||f.set)?u(b,N,f):b[N]=c[N]);return b},s.exports.__esModule=!0,s.exports.default=s.exports)(r,i)}s.exports=t,s.exports.__esModule=!0,s.exports.default=s.exports})(Cl);var El=Cl.exports;function Da(s,n,t,r){if(t===void 0&&(t=!1),r===void 0&&(r=!0),s){var i=document.createEvent("HTMLEvents");i.initEvent(n,t,r),s.dispatchEvent(i)}}function sg(s){var n=ts(s,"transitionDuration")||"",t=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*t}function ng(s,n,t){t===void 0&&(t=5);var r=!1,i=setTimeout(function(){r||Da(s,"transitionend",!0)},n+t),a=Fr(s,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(i),a()}}function Va(s,n,t,r){t==null&&(t=sg(s)||0);var i=ng(s,t,r),a=Fr(s,"transitionend",n);return function(){i(),a()}}var Do={transition:"","transition-duration":"","transition-delay":"","transition-timing-function":""};function Vo(s){var n=s.node,t=s.properties,r=s.duration,i=r===void 0?200:r,a=s.easing,o=s.callback,m=[],c={},p="";Object.keys(t).forEach(function(b){var N=t[b];Ec(b)?p+=b+"("+N+") ":(c[b]=N,m.push(Ac(b)))}),p&&(c.transform=p,m.push("transform"));function u(b){b.target===b.currentTarget&&(ts(n,Do),o&&o.call(this,b))}i>0&&(c.transition=m.join(", "),c["transition-duration"]=i/1e3+"s",c["transition-delay"]="0s",c["transition-timing-function"]=a||"linear");var f=Va(n,u,i);return n.clientLeft,ts(n,c),{cancel:function(){f(),ts(n,Do)}}}function Al(s,n,t,r,i){if(!("nodeType"in s))return Vo(s);if(!n)throw new Error("must include properties to animate");return typeof r=="function"&&(i=r,r=""),Vo({node:s,properties:n,duration:t,easing:r,callback:i})}function wl(s,n,t){if(s){if(typeof t>"u")return s.getAttribute(n);!t&&t!==""?s.removeAttribute(n):s.setAttribute(n,String(t))}}function _l(s){return s?Array.from(s.children):[]}function jl(s){if(s){for(;s.firstChild;)s.removeChild(s.firstChild);return s}return null}var rg=Function.prototype.bind.call(Function.prototype.call,[].slice);function Ll(s){return s?rg(s.childNodes):[]}function Hl(s,n){return function(r){var i=r.currentTarget,a=r.target,o=ta(i,s);o.some(function(m){return sa(m,a)})&&n.call(this,r)}}function Bl(s,n){return s&&n&&n.parentNode?(n.nextSibling?n.parentNode.insertBefore(s,n.nextSibling):n.parentNode.appendChild(s),s):null}var ig=/^(?:input|select|textarea|button)$/i;function Ul(s){return s?ig.test(s.nodeName):!1}function Sl(s){return s?!!(s.offsetWidth||s.offsetHeight||s.getClientRects().length):!1}function Pl(s,n,t){n===void 0&&(n=null),t===void 0&&(t=null);for(var r=[];s;s=s.nextElementSibling)if(s!==n){if(t&&na(s,t))break;r.push(s)}return r}function Rl(s,n){return Pl(s,s,n)}function ag(s,n){var t=null,r=[];for(t=s?s[n]:null;t&&t.nodeType!==9;)r.push(t),t=t[n]||null;return r}function Ml(s){return ag(s,"parentElement")}function Il(s,n){return s&&n?(n.firstElementChild?n.insertBefore(s,n.firstElementChild):n.appendChild(s),s):null}function Tl(s){return s&&s.parentNode?(s.parentNode.removeChild(s),s):null}function Ca(s,n){var t=ts(s,"position"),r=t==="absolute",i=s.ownerDocument;if(t==="fixed")return i||document;for(;(s=s.parentNode)&&!wc(s);){var a=r&&ts(s,"position")==="static",o=(ts(s,"overflow")||"")+(ts(s,"overflow-y")||"")+ts(s,"overflow-x");if(!a&&/(auto|scroll)/.test(o)&&(n||Wr(s)<s.scrollHeight))return s}return i||document}function Fl(s,n){var t=wr(s),r={top:0,left:0};if(s){var i=n||Ca(s),a=_c(i),o=_r(i),m=Wr(i,!0);a||(r=wr(i)),t={top:t.top-r.top,left:t.left-r.left,height:t.height,width:t.width};var c=t.height,p=t.top+(a?0:o),u=p+c;o=o>p?p:u>o+m?u-m:o;var f=ra(function(){return _r(i,o)});return function(){return ia(f)}}}function Wl(s){return Pl(s&&s.parentElement?s.parentElement.firstElementChild:null,s)}var og=/&nbsp;/gi,mg=/\xA0/g,lg=/\s+([^\s])/gm;function ql(s,n,t){n===void 0&&(n=!0),t===void 0&&(t=!0);var r="";return s&&(r=(s.textContent||"").replace(og," ").replace(mg," "),n&&(r=r.trim()),t&&(r=r.replace(lg," $1"))),r}function Ol(s,n){s.classList?s.classList.toggle(n):aa(s,n)?oa(s,n):ma(s,n)}const dg={addEventListener:Vm,removeEventListener:Dm,triggerEvent:Da,animate:Al,filter:Hl,listen:Fr,style:ts,getComputedStyle:vm,attribute:wl,activeElement:km,ownerDocument:hm,ownerWindow:ym,requestAnimationFrame:ra,cancelAnimationFrame:ia,matches:na,height:Wr,width:xm,offset:wr,offsetParent:bm,position:Nm,contains:sa,scrollbarSize:gm,scrollLeft:fm,scrollParent:Ca,scrollTo:Fl,scrollTop:_r,querySelectorAll:ta,closest:pm,addClass:ma,removeClass:oa,hasClass:aa,toggleClass:Ol,transitionEnd:Va,childNodes:Ll,childElements:_l,nextUntil:Rl,parents:Ml,siblings:Wl,clear:jl,insertAfter:Bl,isInput:Ul,isVisible:Sl,prepend:Il,remove:Tl,text:ql},cg=Object.freeze(Object.defineProperty({__proto__:null,activeElement:km,addClass:ma,addEventListener:Vm,animate:Al,attribute:wl,cancelAnimationFrame:ia,childElements:_l,childNodes:Ll,clear:jl,closest:pm,contains:sa,default:dg,filter:Hl,getComputedStyle:vm,hasClass:aa,height:Wr,insertAfter:Bl,isInput:Ul,isVisible:Sl,listen:Fr,matches:na,nextUntil:Rl,offset:wr,offsetParent:bm,ownerDocument:hm,ownerWindow:ym,parents:Ml,position:Nm,prepend:Il,querySelectorAll:ta,remove:Tl,removeClass:oa,removeEventListener:Dm,requestAnimationFrame:ra,scrollLeft:fm,scrollParent:Ca,scrollTo:Fl,scrollTop:_r,scrollbarSize:gm,siblings:Wl,style:ts,text:ql,toggleClass:Ol,transitionEnd:Va,triggerEvent:Da,width:xm},Symbol.toStringTag,{value:"Module"})),ug=Wn(cg);var Ui={exports:{}};(function(s,n){n.__esModule=!0,n.default=r;var t=Function.prototype.bind.call(Function.prototype.call,[].slice);function r(i,a){return t(i.querySelectorAll(a))}s.exports=n.default})(Ui,Ui.exports);var pg=Ui.exports,ms={};const fg=Wn(jc),gg=Wn(Lc),Ng=Wn(Hc);var pn=Tt.default;Object.defineProperty(ms,"__esModule",{value:!0});ms.default=void 0;ms.getBoundsForNode=Mn;ms.getEventNodeFromPoint=zl;ms.getShowMoreNodeFromPoint=Yl;ms.isEvent=vg;ms.isShowMore=Dg;ms.objectsCollide=Pi;var bg=pn(ln),xg=pn(zs),yg=pn(Ys),Si=pn(fg),$l=pn(gg),hg=pn(Ng);function It(s,n){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document;return(0,hg.default)(t,s,n,{passive:!1})}function kg(s,n,t){return!s||(0,Si.default)(s,document.elementFromPoint(n,t))}function zl(s,n){var t=n.clientX,r=n.clientY,i=document.elementFromPoint(t,r);return(0,$l.default)(i,".rbc-event",s)}function Yl(s,n){var t=n.clientX,r=n.clientY,i=document.elementFromPoint(t,r);return(0,$l.default)(i,".rbc-show-more",s)}function vg(s,n){return!!zl(s,n)}function Dg(s,n){return!!Yl(s,n)}function kn(s){var n=s;return s.touches&&s.touches.length&&(n=s.touches[0]),{clientX:n.clientX,clientY:n.clientY,pageX:n.pageX,pageY:n.pageY}}var Co=5,Vg=250,Cg=function(){function s(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.global,i=r===void 0?!1:r,a=t.longPressThreshold,o=a===void 0?250:a,m=t.validContainers,c=m===void 0?[]:m;(0,xg.default)(this,s),this._initialEvent=null,this.selecting=!1,this.isDetached=!1,this.container=n,this.globalMouse=!n||i,this.longPressThreshold=o,this.validContainers=c,this._listeners=Object.create(null),this._handleInitialEvent=this._handleInitialEvent.bind(this),this._handleMoveEvent=this._handleMoveEvent.bind(this),this._handleTerminatingEvent=this._handleTerminatingEvent.bind(this),this._keyListener=this._keyListener.bind(this),this._dropFromOutsideListener=this._dropFromOutsideListener.bind(this),this._dragOverFromOutsideListener=this._dragOverFromOutsideListener.bind(this),this._removeTouchMoveWindowListener=It("touchmove",function(){},window),this._removeKeyDownListener=It("keydown",this._keyListener),this._removeKeyUpListener=It("keyup",this._keyListener),this._removeDropFromOutsideListener=It("drop",this._dropFromOutsideListener),this._removeDragOverFromOutsideListener=It("dragover",this._dragOverFromOutsideListener),this._addInitialEventListener()}return(0,yg.default)(s,[{key:"on",value:function(t,r){var i=this._listeners[t]||(this._listeners[t]=[]);return i.push(r),{remove:function(){var o=i.indexOf(r);o!==-1&&i.splice(o,1)}}}},{key:"emit",value:function(t){for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];var o,m=this._listeners[t]||[];return m.forEach(function(c){o===void 0&&(o=c.apply(void 0,i))}),o}},{key:"teardown",value:function(){this._initialEvent=null,this._initialEventData=null,this._selectRect=null,this.selecting=!1,this._lastClickData=null,this.isDetached=!0,this._listeners=Object.create(null),this._removeTouchMoveWindowListener&&this._removeTouchMoveWindowListener(),this._removeInitialEventListener&&this._removeInitialEventListener(),this._removeEndListener&&this._removeEndListener(),this._onEscListener&&this._onEscListener(),this._removeMoveListener&&this._removeMoveListener(),this._removeKeyUpListener&&this._removeKeyUpListener(),this._removeKeyDownListener&&this._removeKeyDownListener(),this._removeDropFromOutsideListener&&this._removeDropFromOutsideListener(),this._removeDragOverFromOutsideListener&&this._removeDragOverFromOutsideListener()}},{key:"isSelected",value:function(t){var r=this._selectRect;return!r||!this.selecting?!1:Pi(r,Mn(t))}},{key:"filter",value:function(t){var r=this._selectRect;return!r||!this.selecting?[]:t.filter(this.isSelected,this)}},{key:"_addLongPressListener",value:function(t,r){var i=this,a=null,o=null,m=null,c=function(b){a=setTimeout(function(){u(),t(b)},i.longPressThreshold),o=It("touchmove",function(){return u()}),m=It("touchend",function(){return u()})},p=It("touchstart",c),u=function(){a&&clearTimeout(a),o&&o(),m&&m(),a=null,o=null,m=null};return r&&c(r),function(){u(),p()}}},{key:"_addInitialEventListener",value:function(){var t=this,r=It("mousedown",function(a){t._removeInitialEventListener(),t._handleInitialEvent(a),t._removeInitialEventListener=It("mousedown",t._handleInitialEvent)}),i=It("touchstart",function(a){t._removeInitialEventListener(),t._removeInitialEventListener=t._addLongPressListener(t._handleInitialEvent,a)});this._removeInitialEventListener=function(){r(),i()}}},{key:"_dropFromOutsideListener",value:function(t){var r=kn(t),i=r.pageX,a=r.pageY,o=r.clientX,m=r.clientY;this.emit("dropFromOutside",{x:i,y:a,clientX:o,clientY:m}),t.preventDefault()}},{key:"_dragOverFromOutsideListener",value:function(t){var r=kn(t),i=r.pageX,a=r.pageY,o=r.clientX,m=r.clientY;this.emit("dragOverFromOutside",{x:i,y:a,clientX:o,clientY:m}),t.preventDefault()}},{key:"_handleInitialEvent",value:function(t){if(this._initialEvent=t,!this.isDetached){var r=kn(t),i=r.clientX,a=r.clientY,o=r.pageX,m=r.pageY,c=this.container(),p,u;if(!(t.which===3||t.button===2||!kg(c,i,a))){if(!this.globalMouse&&c&&!(0,Si.default)(c,t.target)){var f=Eg(0),b=f.top,N=f.left,j=f.bottom,x=f.right;if(u=Mn(c),p=Pi({top:u.top-b,left:u.left-N,bottom:u.bottom+j,right:u.right+x},{top:m,left:o}),!p)return}var R=this.emit("beforeSelect",this._initialEventData={isTouch:/^touch/.test(t.type),x:o,y:m,clientX:i,clientY:a});if(R!==!1)switch(t.type){case"mousedown":this._removeEndListener=It("mouseup",this._handleTerminatingEvent),this._onEscListener=It("keydown",this._handleTerminatingEvent),this._removeMoveListener=It("mousemove",this._handleMoveEvent);break;case"touchstart":this._handleMoveEvent(t),this._removeEndListener=It("touchend",this._handleTerminatingEvent),this._removeMoveListener=It("touchmove",this._handleMoveEvent);break}}}}},{key:"_isWithinValidContainer",value:function(t){var r=t.target,i=this.validContainers;return!i||!i.length||!r?!0:i.some(function(a){return!!r.closest(a)})}},{key:"_handleTerminatingEvent",value:function(t){var r=this.selecting,i=this._selectRect;if(!r&&t.type.includes("key")&&(t=this._initialEvent),this.selecting=!1,this._removeEndListener&&this._removeEndListener(),this._removeMoveListener&&this._removeMoveListener(),this._selectRect=null,this._initialEvent=null,this._initialEventData=null,!!t){var a=!this.container||(0,Si.default)(this.container(),t.target),o=this._isWithinValidContainer(t);return t.key==="Escape"||!o?this.emit("reset"):!r&&a?this._handleClickEvent(t):r?this.emit("select",i):this.emit("reset")}}},{key:"_handleClickEvent",value:function(t){var r=kn(t),i=r.pageX,a=r.pageY,o=r.clientX,m=r.clientY,c=new Date().getTime();return this._lastClickData&&c-this._lastClickData.timestamp<Vg?(this._lastClickData=null,this.emit("doubleClick",{x:i,y:a,clientX:o,clientY:m})):(this._lastClickData={timestamp:c},this.emit("click",{x:i,y:a,clientX:o,clientY:m}))}},{key:"_handleMoveEvent",value:function(t){if(!(this._initialEventData===null||this.isDetached)){var r=this._initialEventData,i=r.x,a=r.y,o=kn(t),m=o.pageX,c=o.pageY,p=Math.abs(i-m),u=Math.abs(a-c),f=Math.min(m,i),b=Math.min(c,a),N=this.selecting,j=this.isClick(m,c);j&&!N&&!(p||u)||(!N&&!j&&this.emit("selectStart",this._initialEventData),j||(this.selecting=!0,this._selectRect={top:b,left:f,x:m,y:c,right:f+p,bottom:b+u},this.emit("selecting",this._selectRect)),t.preventDefault())}}},{key:"_keyListener",value:function(t){this.ctrl=t.metaKey||t.ctrlKey}},{key:"isClick",value:function(t,r){var i=this._initialEventData,a=i.x,o=i.y,m=i.isTouch;return!m&&Math.abs(t-a)<=Co&&Math.abs(r-o)<=Co}}])}();function Eg(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return(0,bg.default)(s)!=="object"&&(s={top:s,left:s,right:s,bottom:s}),s}function Pi(s,n){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=Mn(s),i=r.top,a=r.left,o=r.right,m=o===void 0?a:o,c=r.bottom,p=c===void 0?i:c,u=Mn(n),f=u.top,b=u.left,N=u.right,j=N===void 0?b:N,x=u.bottom,R=x===void 0?f:x;return!(p-t<f||i+t>R||m-t<b||a+t>j)}function Mn(s){if(!s.getBoundingClientRect)return s;var n=s.getBoundingClientRect(),t=n.left+Eo("left"),r=n.top+Eo("top");return{top:r,left:t,right:(s.offsetWidth||0)+t,bottom:(s.offsetHeight||0)+r}}function Eo(s){if(s==="left")return window.pageXOffset||document.body.scrollLeft||0;if(s==="top")return window.pageYOffset||document.body.scrollTop||0}ms.default=Cg;var Jr={},Gr=Tt.default;Object.defineProperty(Jr,"__esModule",{value:!0});Jr.default=void 0;var Ag=Gr(cl),Ao=Gr(Ps),wg=Gr(zn),vn=Gr(d);function rr(s){return typeof s=="string"?s:s+"%"}function _g(s){var n=s.style,t=s.className,r=s.event,i=s.accessors,a=s.rtl,o=s.selected,m=s.label,c=s.continuesPrior,p=s.continuesAfter,u=s.getters,f=s.onClick,b=s.onDoubleClick,N=s.isBackgroundEvent,j=s.onKeyPress,x=s.components,R=x.event,I=x.eventWrapper,y=i.title(r),T=i.tooltip(r),te=i.end(r),ee=i.start(r),L=u.eventProp(r,ee,te,o),z=[vn.default.createElement("div",{key:"1",className:"rbc-event-label"},m),vn.default.createElement("div",{key:"2",className:"rbc-event-content"},R?vn.default.createElement(R,{event:r,title:y}):y)],se=n.height,oe=n.top,ce=n.width,De=n.xOffset,Q=(0,Ao.default)((0,Ao.default)({},L.style),{},(0,Ag.default)({top:rr(oe),height:rr(se),width:rr(ce)},a?"right":"left",rr(De)));return vn.default.createElement(I,Object.assign({type:"time"},s),vn.default.createElement("div",{role:"button",tabIndex:0,onClick:f,onDoubleClick:b,style:Q,onKeyDown:j,title:T?(typeof m=="string"?m+": ":"")+T:void 0,className:(0,wg.default)(N?"rbc-background-event":"rbc-event",t,L.className,{"rbc-selected":o,"rbc-event-continues-earlier":c,"rbc-event-continues-later":p})},z))}Jr.default=_g;var Vs={},Kl=Tt.default;Object.defineProperty(Vs,"__esModule",{value:!0});Vs.dragAccessors=void 0;Vs.eventTimes=Rg;Vs.mergeComponents=Sg;Vs.pointInColumn=Pg;var jg=Kl(Ps),Lg=Kl(va),wo=un,Hg=d,Bg=["children"];Vs.dragAccessors={start:(0,wo.wrapAccessor)(function(s){return s.start}),end:(0,wo.wrapAccessor)(function(s){return s.end})};function Ug(){for(var s=arguments.length,n=new Array(s),t=0;t<s;t++)n[t]=arguments[t];var r=function(a){var o=a.children,m=(0,Lg.default)(a,Bg);return n.filter(Boolean).reduceRight(function(c,p){return(0,Hg.createElement)(p,m,c)},o)};return r}function Sg(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,t=Object.keys(n),r=(0,jg.default)({},s);return t.forEach(function(i){r[i]=s[i]?Ug(s[i],n[i]):n[i]}),r}function Pg(s,n){var t=s.left,r=s.right,i=s.top,a=n.x,o=n.y;return a<r+10&&a>t&&o>i}function Rg(s,n,t){var r=n.start(s),i=n.end(s),a=t.eq(r,i,"minutes")&&t.diff(r,i,"minutes")===0;a&&(i=t.add(i,1,"day"));var o=t.diff(r,i,"milliseconds");return{start:r,end:i,duration:o}}var Mg=El.default,Rs=Tt.default;Object.defineProperty(Xr,"__esModule",{value:!0});Xr.default=void 0;var Es=Rs(Ps),Ig=Rs(zs),Tg=Rs(Ys),Fg=Rs(dn),Wg=Rs(cn),gi=ug,qg=Rs(pg),Ws=Rs(d),Og=Ks,As=Mg(ms),$g=Rs(Jr),ks=Vs,Xl=function(s){function n(){var t;(0,Ig.default)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t=(0,Fg.default)(this,n,[].concat(i)),t.handleMove=function(o,m){if(!(0,ks.pointInColumn)(m,o))return t.reset();var c=t.context.draggable.dragAndDropAction.event,p=t.props,u=p.accessors,f=p.slotMetrics,b=f.closestSlotFromPoint({y:o.y-t.eventOffsetTop,x:o.x},m),N=(0,ks.eventTimes)(c,u,t.props.localizer),j=N.duration,x=t.props.localizer.add(b,j,"milliseconds");t.update(c,f.getRange(b,x,!1,!0))},t.handleDropFromOutside=function(o,m){var c=t.props,p=c.slotMetrics,u=c.resource,f=p.closestSlotFromPoint({y:o.y,x:o.x},m),b=t._calculateDnDEnd(f);t.context.draggable.onDropFromOutside({start:f,end:b,allDay:!1,resource:u}),t.reset()},t.handleDragOverFromOutside=function(o,m){var c=t.props.slotMetrics,p=c.closestSlotFromPoint({y:o.y,x:o.x},m),u=t._calculateDnDEnd(p),f=t.context.draggable.dragFromOutsideItem();t.update(f,c.getRange(p,u,!1,!0))},t._calculateDnDEnd=function(o){var m=t.props,c=m.accessors,p=m.slotMetrics,u=m.localizer,f=t.context.draggable.dragFromOutsideItem(),b=(0,ks.eventTimes)(f,c,u),N=b.duration,j=p.nextSlot(o),x=!isNaN(N);if(x){var R=u.add(o,N,"milliseconds");j=new Date(Math.max(R,j))}return j},t.updateParentScroll=function(o,m){setTimeout(function(){var c=(0,qg.default)(m,".rbc-addons-dnd-drag-preview")[0];c&&(c.offsetTop<o.scrollTop?(0,gi.scrollTop)(o,Math.max(c.offsetTop,0)):c.offsetTop+c.offsetHeight>o.scrollTop+o.clientHeight&&(0,gi.scrollTop)(o,Math.min(c.offsetTop-o.offsetHeight+c.offsetHeight,o.scrollHeight)))})},t._selectable=function(){var o=t.ref.current,m=o.children[0],c=!1,p=t._selector=new As.default(function(){return o.closest(".rbc-time-view")}),u=(0,gi.scrollParent)(o);p.on("beforeSelect",function(f){var b=t.context.draggable.dragAndDropAction;if(!b.action)return!1;if(b.action==="resize")return(0,ks.pointInColumn)((0,As.getBoundsForNode)(m),f);var N=(0,As.getEventNodeFromPoint)(m,f);if(!N)return!1;t.eventOffsetTop=f.y-(0,As.getBoundsForNode)(N).top}),p.on("selecting",function(f){var b=(0,As.getBoundsForNode)(m),N=t.context.draggable.dragAndDropAction;N.action==="move"&&(t.updateParentScroll(u,m),t.handleMove(f,b)),N.action==="resize"&&(t.updateParentScroll(u,m),t.handleResize(f,b))}),p.on("dropFromOutside",function(f){if(t.context.draggable.onDropFromOutside){var b=(0,As.getBoundsForNode)(m);(0,ks.pointInColumn)(b,f)&&t.handleDropFromOutside(f,b)}}),p.on("dragOverFromOutside",function(f){var b=t.context.draggable.dragFromOutsideItem?t.context.draggable.dragFromOutsideItem():null;if(b){var N=(0,As.getBoundsForNode)(m);if(!(0,ks.pointInColumn)(N,f))return t.reset();t.handleDragOverFromOutside(f,N)}}),p.on("selectStart",function(){c=!0,t.context.draggable.onStart()}),p.on("select",function(f){var b=(0,As.getBoundsForNode)(m);c=!1;var N=t.context.draggable.dragAndDropAction;if(N.action==="resize")t.handleInteractionEnd();else{if(!t.state.event||!(0,ks.pointInColumn)(b,f))return;t.handleInteractionEnd()}}),p.on("click",function(){c&&t.reset(),t.context.draggable.onEnd(null)}),p.on("reset",function(){t.reset(),t.context.draggable.onEnd(null)})},t.handleInteractionEnd=function(){var o=t.props.resource,m=t.state.event;t.reset(),t.context.draggable.onEnd({start:m.start,end:m.end,resourceId:o})},t._teardownSelectable=function(){t._selector&&(t._selector.teardown(),t._selector=null)},t.state={},t.ref=Ws.default.createRef(),t}return(0,Wg.default)(n,s),(0,Tg.default)(n,[{key:"componentDidMount",value:function(){this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"reset",value:function(){this.state.event&&this.setState({event:null,top:null,height:null})}},{key:"update",value:function(r,i){var a=i.startDate,o=i.endDate,m=i.top,c=i.height,p=this.state.event;p&&a===p.start&&o===p.end||this.setState({top:m,height:c,event:(0,Es.default)((0,Es.default)({},r),{},{start:a,end:o})})}},{key:"handleResize",value:function(r,i){var a=this.props,o=a.accessors,m=a.slotMetrics,c=a.localizer,p=this.context.draggable.dragAndDropAction,u=p.event,f=p.direction,b=m.closestSlotFromPoint(r,i),N=(0,ks.eventTimes)(u,o,c),j=N.start,x=N.end,R;if(f==="UP"){var I=c.min(b,m.closestSlotFromDate(x,-1));R=m.getRange(I,x),R=(0,Es.default)((0,Es.default)({},R),{},{endDate:x})}else if(f==="DOWN"){var y=c.max(b,m.closestSlotFromDate(j));R=m.getRange(j,y),R=(0,Es.default)((0,Es.default)({},R),{},{startDate:j})}this.update(u,R)}},{key:"renderContent",value:function(){var r=this.props,i=r.children,a=r.accessors,o=r.components,m=r.getters,c=r.slotMetrics,p=r.localizer,u=this.state,f=u.event,b=u.top,N=u.height;if(!f)return i;var j=i.props.children,x=f.start,R=f.end,I,y="eventTimeRangeFormat",T=c.startsBeforeDay(x),te=c.startsAfterDay(R);return T?y="eventTimeRangeEndFormat":te&&(y="eventTimeRangeStartFormat"),T&&te?I=p.messages.allDay:I=p.format({start:x,end:R},y),Ws.default.cloneElement(i,{children:Ws.default.createElement(Ws.default.Fragment,null,j,f&&Ws.default.createElement($g.default,{event:f,label:I,className:"rbc-addons-dnd-drag-preview",style:{top:b,height:N,width:100},getters:m,components:o,accessors:(0,Es.default)((0,Es.default)({},a),ks.dragAccessors),continuesPrior:T,continuesAfter:te}))})}},{key:"render",value:function(){return Ws.default.createElement("div",{ref:this.ref},this.renderContent())}}])}(Ws.default.Component);Xl.contextType=Og.DnDContext;Xr.default=Xl;var Qr={},Jl={exports:{}},Gl={exports:{}},Ql={exports:{}};(function(s){function n(t,r){(r==null||r>t.length)&&(r=t.length);for(var i=0,a=Array(r);i<r;i++)a[i]=t[i];return a}s.exports=n,s.exports.__esModule=!0,s.exports.default=s.exports})(Ql);var Zl=Ql.exports;(function(s){var n=Zl;function t(r){if(Array.isArray(r))return n(r)}s.exports=t,s.exports.__esModule=!0,s.exports.default=s.exports})(Gl);var zg=Gl.exports,ed={exports:{}};(function(s){function n(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}s.exports=n,s.exports.__esModule=!0,s.exports.default=s.exports})(ed);var Yg=ed.exports,td={exports:{}};(function(s){var n=Zl;function t(r,i){if(r){if(typeof r=="string")return n(r,i);var a={}.toString.call(r).slice(8,-1);return a==="Object"&&r.constructor&&(a=r.constructor.name),a==="Map"||a==="Set"?Array.from(r):a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?n(r,i):void 0}}s.exports=t,s.exports.__esModule=!0,s.exports.default=s.exports})(td);var Kg=td.exports,sd={exports:{}};(function(s){function n(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}s.exports=n,s.exports.__esModule=!0,s.exports.default=s.exports})(sd);var Xg=sd.exports;(function(s){var n=zg,t=Yg,r=Kg,i=Xg;function a(o){return n(o)||t(o)||r(o)||i()}s.exports=a,s.exports.__esModule=!0,s.exports.default=s.exports})(Jl);var nd=Jl.exports,Zr={},ei={},ti={},Ms=Tt.default;Object.defineProperty(ti,"__esModule",{value:!0});ti.default=void 0;var _o=Ms(Ps),Jg=Ms(va),Gg=Ms(zs),Qg=Ms(Ys),Zg=Ms(dn),eN=Ms(cn),Dn=Ms(d),tN=Ms(zn),sN=["style","className","event","selected","isAllDay","onSelect","onDoubleClick","onKeyPress","localizer","continuesPrior","continuesAfter","accessors","getters","children","components","slotStart","slotEnd"],nN=function(s){function n(){return(0,Gg.default)(this,n),(0,Zg.default)(this,n,arguments)}return(0,eN.default)(n,s),(0,Qg.default)(n,[{key:"render",value:function(){var r=this.props,i=r.style,a=r.className,o=r.event,m=r.selected,c=r.isAllDay,p=r.onSelect,u=r.onDoubleClick,f=r.onKeyPress,b=r.localizer,N=r.continuesPrior,j=r.continuesAfter,x=r.accessors,R=r.getters,I=r.children,y=r.components,T=y.event,te=y.eventWrapper,ee=r.slotStart,L=r.slotEnd,z=(0,Jg.default)(r,sN);delete z.resizable;var se=x.title(o),oe=x.tooltip(o),ce=x.end(o),De=x.start(o),Q=x.allDay(o),ne=c||Q||b.diff(De,b.ceil(ce,"day"),"day")>1,xe=R.eventProp(o,De,ce,m),Ee=Dn.default.createElement("div",{className:"rbc-event-content",title:oe||void 0},T?Dn.default.createElement(T,{event:o,continuesPrior:N,continuesAfter:j,title:se,isAllDay:Q,localizer:b,slotStart:ee,slotEnd:L}):se);return Dn.default.createElement(te,Object.assign({},this.props,{type:"date"}),Dn.default.createElement("div",Object.assign({},z,{style:(0,_o.default)((0,_o.default)({},xe.style),i),className:(0,tN.default)("rbc-event",a,xe.className,{"rbc-selected":m,"rbc-event-allday":ne,"rbc-event-continues-prior":N,"rbc-event-continues-after":j}),onClick:function(Ve){return p&&p(o,Ve)},onDoubleClick:function(Ve){return u&&u(o,Ve)},onKeyDown:function(Ve){return f&&f(o,Ve)}}),typeof I=="function"?I(Ee):Ee))}}])}(Dn.default.Component);ti.default=nN;var Is={},rN=Tt.default;Object.defineProperty(Is,"__esModule",{value:!0});Is.dateCellSelection=mN;Is.getSlotAtX=rd;Is.isSelected=aN;Is.pointInBox=oN;Is.slotWidth=Ea;var iN=rN(Bc);function aN(s,n){return!s||n==null?!1:(0,iN.default)(s,n)}function Ea(s,n){var t=s.right-s.left,r=t/n;return r}function rd(s,n,t,r){var i=Ea(s,r);return t?r-1-Math.floor((n-s.left)/i):Math.floor((n-s.left)/i)}function oN(s,n){var t=n.x,r=n.y;return r>=s.top&&r<=s.bottom&&t>=s.left&&t<=s.right}function mN(s,n,t,r,i){var a=-1,o=-1,m=r-1,c=Ea(n,r),p=rd(n,t.x,i,r),u=n.top<t.y&&n.bottom>t.y,f=n.top<s.y&&n.bottom>s.y,b=s.y>n.bottom,N=n.top>s.y,j=t.top<n.top&&t.bottom>n.bottom;return j&&(a=0,o=m),u&&(N?(a=0,o=p):b&&(a=p,o=m)),f&&(a=o=i?m-Math.floor((s.x-n.left)/c):Math.floor((s.x-n.left)/c),u?p<a?a=p:o=p:s.y<t.y?o=m:a=0),{startIdx:a,endIdx:o}}var Aa=Tt.default;Object.defineProperty(ei,"__esModule",{value:!0});ei.default=void 0;var ds=Aa(um),jo=Aa(d),lN=Aa(ti),dN=Is;ei.default={propTypes:{slotMetrics:ds.default.object.isRequired,selected:ds.default.object,isAllDay:ds.default.bool,accessors:ds.default.object.isRequired,localizer:ds.default.object.isRequired,components:ds.default.object.isRequired,getters:ds.default.object.isRequired,onSelect:ds.default.func,onDoubleClick:ds.default.func,onKeyPress:ds.default.func},defaultProps:{segments:[],selected:{}},renderEvent:function(n,t){var r=n.selected;n.isAllDay;var i=n.accessors,a=n.getters,o=n.onSelect,m=n.onDoubleClick,c=n.onKeyPress,p=n.localizer,u=n.slotMetrics,f=n.components,b=n.resizable,N=u.continuesPrior(t),j=u.continuesAfter(t);return jo.default.createElement(lN.default,{event:t,getters:a,localizer:p,accessors:i,components:f,onSelect:o,onDoubleClick:m,onKeyPress:c,continuesPrior:N,continuesAfter:j,slotStart:u.first,slotEnd:u.last,selected:(0,dN.isSelected)(t,r),resizable:b})},renderSpan:function(n,t,r){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:" ",a=Math.abs(t)/n*100+"%";return jo.default.createElement("div",{key:r,className:"rbc-row-segment",style:{WebkitFlexBasis:a,flexBasis:a,maxWidth:a}},i)}};var Ts=Tt.default;Object.defineProperty(Zr,"__esModule",{value:!0});Zr.default=void 0;var cN=Ts(Ps),uN=Ts(zs),pN=Ts(Ys),fN=Ts(dn),gN=Ts(cn),NN=Ts(zn),Lo=Ts(d),kr=Ts(ei),id=function(s){function n(){return(0,uN.default)(this,n),(0,fN.default)(this,n,arguments)}return(0,gN.default)(n,s),(0,pN.default)(n,[{key:"render",value:function(){var r=this,i=this.props,a=i.segments,o=i.slotMetrics.slots,m=i.className,c=1;return Lo.default.createElement("div",{className:(0,NN.default)(m,"rbc-row")},a.reduce(function(p,u,f){var b=u.event,N=u.left,j=u.right,x=u.span,R="_lvl_"+f,I=N-c,y=kr.default.renderEvent(r.props,b);return I&&p.push(kr.default.renderSpan(o,I,"".concat(R,"_gap"))),p.push(kr.default.renderSpan(o,x,R,y)),c=j+1,p},[]))}}])}(Lo.default.Component);id.defaultProps=(0,cN.default)({},kr.default.defaultProps);Zr.default=id;var Cs={},ad=Tt.default;Object.defineProperty(Cs,"__esModule",{value:!0});Cs.endOfRange=od;Cs.eventLevels=yN;Cs.eventSegments=xN;Cs.inRange=hN;Cs.segsOverlap=md;Cs.sortEvents=Ri;Cs.sortWeekEvents=kN;var Ni=ad(nd),bN=ad(Uc);function od(s){var n=s.dateRange,t=s.unit,r=t===void 0?"day":t,i=s.localizer;return{first:n[0],last:i.add(n[n.length-1],1,r)}}function xN(s,n,t,r){var i=od({dateRange:n,localizer:r}),a=i.first,o=i.last,m=r.diff(a,o,"day"),c=r.max(r.startOf(t.start(s),"day"),a),p=r.min(r.ceil(t.end(s),"day"),o),u=(0,bN.default)(n,function(b){return r.isSameDate(b,c)}),f=r.diff(c,p,"day");return f=Math.min(f,m),f=Math.max(f-r.segmentOffset,1),{event:s,span:f,left:u+1,right:Math.max(u+f,1)}}function yN(s){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0,t,r,i,a=[],o=[];for(t=0;t<s.length;t++){for(i=s[t],r=0;r<a.length&&md(i,a[r]);r++);r>=n?o.push(i):(a[r]||(a[r]=[])).push(i)}for(t=0;t<a.length;t++)a[t].sort(function(m,c){return m.left-c.left});return{levels:a,extra:o}}function hN(s,n,t,r,i){var a={start:r.start(s),end:r.end(s)},o={start:n,end:t};return i.inEventRange({event:a,range:o})}function md(s,n){return n.some(function(t){return t.left<=s.right&&t.right>=s.left})}function kN(s,n,t){var r=(0,Ni.default)(s),i=[],a=[];r.forEach(function(c){var p=n.start(c),u=n.end(c);t.daySpan(p,u)>1?i.push(c):a.push(c)});var o=i.sort(function(c,p){return Ri(c,p,n,t)}),m=a.sort(function(c,p){return Ri(c,p,n,t)});return[].concat((0,Ni.default)(o),(0,Ni.default)(m))}function Ri(s,n,t,r){var i={start:t.start(s),end:t.end(s),allDay:t.allDay(s)},a={start:t.start(n),end:t.end(n),allDay:t.allDay(n)};return r.sortEvents({evtA:i,evtB:a})}var vN=El.default,Fs=Tt.default;Object.defineProperty(Qr,"__esModule",{value:!0});Qr.default=void 0;var ir=Fs(Ps),DN=Fs(nd),VN=Fs(zs),CN=Fs(Ys),EN=Fs(dn),AN=Fs(cn),ar=Fs(d),wN=Fs(Zr),Qs=vN(ms),_N=Cs,ws=Is,or=Vs,jN=Ks,ld=function(s){function n(){var t;(0,VN.default)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t=(0,EN.default)(this,n,[].concat(i)),t.handleMove=function(o,m,c){if(!(0,ws.pointInBox)(m,o))return t.reset();var p=t.context.draggable.dragAndDropAction.event||c,u=t.props,f=u.accessors,b=u.slotMetrics,N=u.rtl,j=u.localizer,x=(0,ws.getSlotAtX)(m,o.x,N,b.slots),R=b.getDateForSlot(x),I=(0,or.eventTimes)(p,f,j),y=I.start,T=I.duration;y=j.merge(R,y);var te=j.add(y,T,"milliseconds");t.update(p,y,te)},t.handleDropFromOutside=function(o,m){if(t.context.draggable.onDropFromOutside){var c=t.props,p=c.slotMetrics,u=c.rtl,f=c.localizer,b=(0,ws.getSlotAtX)(m,o.x,u,p.slots),N=p.getDateForSlot(b);t.context.draggable.onDropFromOutside({start:N,end:f.add(N,1,"day"),allDay:!1})}},t.handleDragOverFromOutside=function(o,m){var c=t.context.draggable.dragFromOutsideItem?t.context.draggable.dragFromOutsideItem():null;c&&t.handleMove(o,m,c)},t._selectable=function(){var o=t.ref.current.closest(".rbc-month-row, .rbc-allday-cell"),m=o.closest(".rbc-month-view, .rbc-time-view"),c=o.classList.contains("rbc-month-row"),p=t._selector=new Qs.default(function(){return m},{validContainers:(0,DN.default)(c?[]:[".rbc-day-slot",".rbc-allday-cell"])});p.on("beforeSelect",function(u){var f=t.props.isAllDay,b=t.context.draggable.dragAndDropAction.action,N=(0,Qs.getBoundsForNode)(o),j=(0,ws.pointInBox)(N,u);return b==="move"||b==="resize"&&(!f||j)}),p.on("selecting",function(u){var f=(0,Qs.getBoundsForNode)(o),b=t.context.draggable.dragAndDropAction;b.action==="move"&&t.handleMove(u,f),b.action==="resize"&&t.handleResize(u,f)}),p.on("selectStart",function(){return t.context.draggable.onStart()}),p.on("select",function(u){var f=(0,Qs.getBoundsForNode)(o);t.state.segment&&((0,ws.pointInBox)(f,u)?t.handleInteractionEnd():t.reset())}),p.on("dropFromOutside",function(u){if(t.context.draggable.onDropFromOutside){var f=(0,Qs.getBoundsForNode)(o);(0,ws.pointInBox)(f,u)&&t.handleDropFromOutside(u,f)}}),p.on("dragOverFromOutside",function(u){if(t.context.draggable.dragFromOutsideItem){var f=(0,Qs.getBoundsForNode)(o);t.handleDragOverFromOutside(u,f)}}),p.on("click",function(){return t.context.draggable.onEnd(null)}),p.on("reset",function(){t.reset(),t.context.draggable.onEnd(null)})},t.handleInteractionEnd=function(){var o=t.props,m=o.resourceId,c=o.isAllDay,p=t.state.segment.event;t.reset(),t.context.draggable.onEnd({start:p.start,end:p.end,resourceId:m,isAllDay:c})},t._teardownSelectable=function(){t._selector&&(t._selector.teardown(),t._selector=null)},t.state={},t.ref=ar.default.createRef(),t}return(0,AN.default)(n,s),(0,CN.default)(n,[{key:"componentDidMount",value:function(){this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"reset",value:function(){this.state.segment&&this.setState({segment:null})}},{key:"update",value:function(r,i,a){var o=(0,_N.eventSegments)((0,ir.default)((0,ir.default)({},r),{},{end:a,start:i,__isPreview:!0}),this.props.slotMetrics.range,or.dragAccessors,this.props.localizer),m=this.state.segment;m&&o.span===m.span&&o.left===m.left&&o.right===m.right||this.setState({segment:o})}},{key:"handleResize",value:function(r,i){var a=this.context.draggable.dragAndDropAction,o=a.event,m=a.direction,c=this.props,p=c.accessors,u=c.slotMetrics,f=c.rtl,b=c.localizer,N=(0,or.eventTimes)(o,p,b),j=N.start,x=N.end,R=(0,ws.getSlotAtX)(i,r.x,f,u.slots),I=u.getDateForSlot(R),y=(0,ws.pointInBox)(i,r);if(m==="RIGHT"){if(y){if(u.last<j)return this.reset();b.eq(b.startOf(x,"day"),x)?x=b.add(I,1,"day"):x=I}else if(b.inRange(j,u.first,u.last)||i.bottom<r.y&&+u.first>+j)x=b.add(u.last,1,"milliseconds");else{this.setState({segment:null});return}var T=p.end(o);x=b.merge(x,T),b.lt(x,j)&&(x=T)}else if(m==="LEFT"){if(y){if(u.first>x)return this.reset();j=I}else if(b.inRange(x,u.first,u.last)||i.top>r.y&&b.lt(u.last,x))j=b.add(u.first,-1,"milliseconds");else{this.reset();return}var te=p.start(o);j=b.merge(j,te),b.gt(j,x)&&(j=te)}this.update(o,j,x)}},{key:"render",value:function(){var r=this.props,i=r.children,a=r.accessors,o=this.state.segment;return ar.default.createElement("div",{ref:this.ref,className:"rbc-addons-dnd-row-body"},i,o&&ar.default.createElement(wN.default,Object.assign({},this.props,{selected:null,className:"rbc-addons-dnd-drag-row",segments:[o],accessors:(0,ir.default)((0,ir.default)({},a),or.dragAccessors)})))}}])}(ar.default.Component);ld.contextType=jN.DnDContext;Qr.default=ld;var ls=Tt.default;Object.defineProperty(ka,"__esModule",{value:!0});ka.default=qN;var mr=ls(Ps),LN=ls(va),HN=ls(zs),BN=ls(Ys),UN=ls(dn),SN=ls(cn),bi=ls(d),PN=ls(zn),RN=ls(Kr),MN=ls(Xr),IN=ls(Qr),TN=Vs,FN=Ks,WN=["selectable","elementProps","components"];function qN(s){var n=function(t){function r(){var i;(0,HN.default)(this,r);for(var a=arguments.length,o=new Array(a),m=0;m<a;m++)o[m]=arguments[m];return i=(0,UN.default)(this,r,[].concat(o)),i.defaultOnDragOver=function(c){c.preventDefault()},i.handleBeginAction=function(c,p,u){i.setState({event:c,action:p,direction:u});var f=i.props.onDragStart;f&&f({event:c,action:p,direction:u})},i.handleInteractionStart=function(){i.state.interacting===!1&&i.setState({interacting:!0})},i.handleInteractionEnd=function(c){var p=i.state,u=p.action,f=p.event;if(u&&(i.setState({action:null,event:null,interacting:!1,direction:null}),c!=null)){c.event=f;var b=i.props,N=b.onEventDrop,j=b.onEventResize;u==="move"&&N&&N(c),u==="resize"&&j&&j(c)}},i.state={interacting:!1},i}return(0,SN.default)(r,t),(0,BN.default)(r,[{key:"getDnDContextValue",value:function(){return{draggable:{onStart:this.handleInteractionStart,onEnd:this.handleInteractionEnd,onBeginAction:this.handleBeginAction,onDropFromOutside:this.props.onDropFromOutside,dragFromOutsideItem:this.props.dragFromOutsideItem,draggableAccessor:this.props.draggableAccessor,resizableAccessor:this.props.resizableAccessor,dragAndDropAction:this.state}}}},{key:"render",value:function(){var a=this.props,o=a.selectable,m=a.elementProps,c=a.components,p=(0,LN.default)(a,WN),u=this.state.interacting;delete p.onEventDrop,delete p.onEventResize,p.selectable=o?"ignoreEvents":!1,this.components=(0,TN.mergeComponents)(c,{eventWrapper:RN.default,eventContainerWrapper:MN.default,weekWrapper:IN.default});var f=this.props.onDropFromOutside?(0,mr.default)((0,mr.default)({},m),{},{onDragOver:this.props.onDragOver||this.defaultOnDragOver}):m;p.className=(0,PN.default)(p.className,"rbc-addons-dnd",!!u&&"rbc-addons-dnd-is-dragging");var b=this.getDnDContextValue();return bi.default.createElement(FN.DnDContext.Provider,{value:b},bi.default.createElement(s,Object.assign({},p,{elementProps:f,components:this.components})))}}])}(bi.default.Component);return n.defaultProps=(0,mr.default)((0,mr.default)({},s.defaultProps),{},{draggableAccessor:null,resizableAccessor:null,resizable:!0}),n}var ON=Tt.default;Object.defineProperty(ha,"__esModule",{value:!0});var dd=ha.default=void 0,$N=ON(ka);dd=ha.default=$N.default;const zN=dd(Sc),YN=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","/","","","","","","","",""];lt.updateLocale("ko",{months:["1","2","3","4","5","6","7","8","9","10","11","12"],monthsShort:["1","2","3","4","5","6","7","8","9","10","11","12"],weekdays:["","","","","","",""],weekdaysShort:["","","","","","",""],weekdaysMin:["","","","","","",""],longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY MMMM D",LLL:"YYYY MMMM D A h:mm",LLLL:"YYYY MMMM D dddd A h:mm"},meridiem:s=>s<12?"":"",week:{dow:0,doy:1}});lt.locale("ko");const KN=Pc(lt),Ho=["#F3F4F6","#F3F4F6","#F3F4F6","#F3F4F6","#F3F4F6","#F3F4F6","#F3F4F6","#F3F4F6","#F3F4F6","#F3F4F6","#F3F4F6","#F3F4F6","#F3F4F6","#F3F4F6","#F3F4F6","#F3F4F6"],Bo=s=>{if(!s)return s;const n=s.split("_");return n.length>1&&n[0].length>2?n[0].substring(0,2)+"_"+n.slice(1).join("_"):s},Hn={"2025-01-01":"","2025-01-28":" ","2025-01-29":"","2025-01-30":" ","2025-03-01":"","2025-03-03":"","2025-05-05":"","2025-05-06":"","2025-06-06":"","2025-08-15":"","2025-10-03":"","2025-10-05":" ","2025-10-06":"","2025-10-07":" ","2025-10-08":"","2025-10-09":"","2025-12-25":""},XN=it.memo(({date:s,label:n,filteredEvents:t,selectedDate:r,user:i,isMobileView:a})=>{const o=lt(s).format("YYYY-MM-DD"),m=Hn[o],c=!!Hn[o],p=r&&lt(s).isSame(r,"day"),u=t.filter(ee=>lt(ee.start).isSame(s,"day")),f=u.length,b=u.filter(ee=>ee.assignedTo&&ee.assignedTo.includes((i==null?void 0:i.name)||"")).length,N=f-b,j=n.replace(/^0/,""),x=s.getDay()===0,R=s.getDay()===6;let I="#000000";c||x?I="#dc2626":R&&(I="#3b82f6");const y=lt(s).isSame(lt(),"day"),T=j.length===2,te=a?{backgroundColor:"transparent",color:I,borderRadius:"50%",width:"30px",height:"30px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",fontWeight:y?"700":"400",border:p?"1px solid #1f2937":"1px solid transparent",boxSizing:"border-box",gap:"1px"}:{color:I,fontWeight:y?"700":"400",paddingLeft:T?"0px":"4px"};return e.jsxDEV("div",{className:a?"flex flex-col items-center":"flex items-center gap-2",style:{overflow:"visible",position:"relative",zIndex:10},children:a?e.jsxDEV("span",{style:te,children:[e.jsxDEV("span",{style:{fontSize:"13px",lineHeight:"1"},children:j},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:211,columnNumber:11},void 0),f>0&&e.jsxDEV("div",{className:"flex gap-0.5",style:{minHeight:"4px",marginTop:"1px"},children:[Array.from({length:b}).map((ee,L)=>e.jsxDEV("div",{style:{width:"4px",height:"4px",borderRadius:"50%",backgroundColor:"#66BB6A",flexShrink:0}},`user-${L}`,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:217,columnNumber:17},void 0)),Array.from({length:N}).map((ee,L)=>e.jsxDEV("div",{style:{width:"4px",height:"4px",borderRadius:"50%",backgroundColor:"#757575",flexShrink:0}},`other-${L}`,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:230,columnNumber:17},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:214,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:210,columnNumber:9},void 0):e.jsxDEV(e.Fragment,{children:[e.jsxDEV("span",{style:te,children:j},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:247,columnNumber:11},void 0),m&&e.jsxDEV("span",{className:"text-xs font-medium",style:{color:"#ef4444"},children:m},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:249,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:246,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:204,columnNumber:5},void 0)}),JN=it.memo(({event:s,user:n,filterProject:t,isEditing:r,editTitle:i,onEditTitleChange:a,onEditSave:o,onEditDelete:m,onEditCancel:c,onHoverDelete:p})=>{const u=t&&t!=="all",f=s.assignedTo||[],[b,N]=d.useState(!1),[j,x]=d.useState(!1),[R,I]=d.useState(null),y=it.useRef(null),T=()=>{const Q=window.innerWidth,ne=window.innerHeight;return Q>=768&&Q<1024||Q>=1024&&ne>Q},[te,ee]=d.useState(T),[L,z]=d.useState(!1),se=it.useRef(null),oe=n!=null&&n.name?n.name.slice(-2):null,ce=oe&&["",""].includes(oe),De=oe&&["","",""].includes(oe);if(d.useEffect(()=>{const Q=()=>{ee(T())};return window.addEventListener("resize",Q),()=>window.removeEventListener("resize",Q)},[]),r&&a&&o&&c){const Q=ne=>{a(ne),se.current&&clearTimeout(se.current),se.current=setTimeout(()=>{ne.trim()&&o()},500)};return e.jsxDEV("div",{className:"w-full h-full",onClick:ne=>ne.stopPropagation(),style:{minHeight:"28px"},children:e.jsxDEV("input",{type:"text",value:i||"",onChange:ne=>Q(ne.target.value),onBlur:()=>{se.current&&clearTimeout(se.current),i!=null&&i.trim()&&o(),c()},onKeyDown:ne=>{ne.stopPropagation(),(ne.key==="Enter"||ne.key==="Escape")&&ne.currentTarget.blur()},onClick:ne=>ne.stopPropagation(),className:"w-full h-full px-2 py-0.5 text-xs border-none focus:outline-none focus:ring-1 focus:ring-gray-400 bg-white rounded",autoFocus:!0,style:{minWidth:0}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:340,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:335,columnNumber:7},void 0)}return te?e.jsxDEV("div",{className:"w-full relative block",onMouseEnter:()=>{z(!0),N(!0)},onMouseLeave:()=>{z(!1),N(!1)},style:{padding:"1px 3px",minHeight:"30px",display:"flex",flexDirection:"column",justifyContent:"flex-start"},children:[(b||j)&&u&&p&&!s.isASVisit&&!s.isExpectedPayment&&e.jsxDEV("div",{className:"absolute top-0 right-0 z-20",children:e.jsxDEV("button",{ref:y,onClick:Q=>{if(Q.stopPropagation(),y.current){const ne=y.current.getBoundingClientRect();I({top:ne.top-4,right:window.innerWidth-ne.left+8})}x(!0)},className:"p-0.5 text-gray-400 hover:text-red-500",style:{fontSize:"12px",lineHeight:1},title:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:387,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:386,columnNumber:11},void 0),j&&R&&u&&p&&e.jsxDEV("div",{className:"fixed bg-white border border-gray-300 rounded-lg shadow-lg p-2 flex items-center gap-2 z-[9999]",onClick:Q=>Q.stopPropagation(),style:{top:R.top,right:R.right,whiteSpace:"nowrap"},children:[e.jsxDEV("span",{className:"text-sm text-gray-700",children:"?"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:417,columnNumber:13},void 0),e.jsxDEV("button",{onClick:Q=>{Q.stopPropagation(),p(),x(!1),I(null)},className:"px-2 py-1 bg-red-500 text-white text-sm rounded hover:bg-red-600",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:418,columnNumber:13},void 0),e.jsxDEV("button",{onClick:Q=>{Q.stopPropagation(),x(!1),I(null)},className:"px-2 py-1 bg-gray-200 text-gray-700 text-sm rounded hover:bg-gray-300",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:424,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:408,columnNumber:11},void 0),e.jsxDEV("div",{className:"flex items-center justify-between w-full",style:{fontSize:u?"13px":"10px",opacity:.8,marginBottom:"1px",lineHeight:"1.2"},children:[!u&&!s.isASVisit&&s.projectName?e.jsxDEV("span",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:"60%",flexShrink:0},children:["[",Bo(s.projectName),"]"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:435,columnNumber:13},void 0):e.jsxDEV("span",{},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:445,columnNumber:13},void 0),f.length>0&&e.jsxDEV("span",{style:{flexShrink:0,fontSize:u?"13px":"10px",marginLeft:"auto"},children:f.map((Q,ne)=>{const xe=Q==="HV LAB"||Q===""&&ce||Q===""&&De||Q===(n==null?void 0:n.name);return e.jsxDEV(it.Fragment,{children:[e.jsxDEV("span",{style:{fontWeight:xe?"bold":"normal"},children:Q},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:456,columnNumber:21},void 0),ne<f.length-1&&""]},Q,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:455,columnNumber:19},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:448,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:433,columnNumber:9},void 0),e.jsxDEV("div",{style:{fontWeight:500,fontSize:u?"16px":"11px",lineHeight:"1.3",overflow:"hidden",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",wordBreak:"keep-all",textOverflow:"ellipsis"},title:s.title,children:s.title},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:468,columnNumber:9},void 0),L&&e.jsxDEV("div",{className:"absolute z-50 bg-gray-900 text-white text-xs rounded p-2 shadow-lg",style:{bottom:"100%",left:"0",marginBottom:"4px",minWidth:"200px",maxWidth:"300px"},children:[e.jsxDEV("div",{className:"font-semibold mb-1",children:s.title},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:497,columnNumber:13},void 0),s.projectName&&e.jsxDEV("div",{className:"opacity-90",children:[": ",s.projectName]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:499,columnNumber:15},void 0),f.length>0&&e.jsxDEV("div",{className:"opacity-90 mt-1",children:[": ",f.join(", ")]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:502,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:487,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:372,columnNumber:7},void 0):e.jsxDEV("div",{className:"flex items-center justify-between w-full gap-1.5 overflow-hidden relative",onMouseEnter:()=>N(!0),onMouseLeave:()=>N(!1),style:{minHeight:u?"32px":"18px",padding:u?"4px 0":"0"},children:[e.jsxDEV("div",{className:"flex items-center gap-1.5 overflow-hidden flex-1",children:[!u&&!s.isASVisit&&s.projectName&&e.jsxDEV("span",{className:"text-xs opacity-70 flex-shrink-0",children:["[",Bo(s.projectName),"]"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:524,columnNumber:11},void 0),e.jsxDEV("span",{className:"font-medium truncate",style:{fontSize:u?"18px":"12px"},children:s.title},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:528,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:521,columnNumber:7},void 0),f.length>0&&e.jsxDEV("span",{className:"opacity-80 flex-shrink-0 ml-auto",style:{fontSize:u?"15px":"11px"},children:f.map((Q,ne)=>{const xe=Q==="HV LAB"||Q===""&&ce||Q===""&&De||Q===(n==null?void 0:n.name);return e.jsxDEV(it.Fragment,{children:[e.jsxDEV("span",{className:xe?"font-bold":"",children:Q},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:547,columnNumber:17},void 0),ne<f.length-1&&""]},Q,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:546,columnNumber:15},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:536,columnNumber:9},void 0),(b||j)&&u&&p&&!s.isASVisit&&!s.isExpectedPayment&&e.jsxDEV("div",{className:"absolute top-0 right-0 z-20",children:e.jsxDEV("button",{ref:y,onClick:Q=>{if(Q.stopPropagation(),y.current){const ne=y.current.getBoundingClientRect();I({top:ne.top-4,right:window.innerWidth-ne.left+8})}x(!0)},className:"p-0.5 text-gray-400 hover:text-red-500",style:{fontSize:"12px",lineHeight:1},title:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:559,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:558,columnNumber:9},void 0),j&&R&&u&&p&&e.jsxDEV("div",{className:"fixed bg-white border border-gray-300 rounded-lg shadow-lg p-2 flex items-center gap-2 z-[9999]",onClick:Q=>Q.stopPropagation(),style:{top:R.top,right:R.right,whiteSpace:"nowrap"},children:[e.jsxDEV("span",{className:"text-sm text-gray-700",children:"?"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:588,columnNumber:11},void 0),e.jsxDEV("button",{onClick:Q=>{Q.stopPropagation(),p(),x(!1),I(null)},className:"px-2 py-1 bg-red-500 text-white text-sm rounded hover:bg-red-600",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:589,columnNumber:11},void 0),e.jsxDEV("button",{onClick:Q=>{Q.stopPropagation(),x(!1),I(null)},className:"px-2 py-1 bg-gray-200 text-gray-700 text-sm rounded hover:bg-gray-300",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:595,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:579,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:512,columnNumber:5},void 0)}),GN=()=>{const{schedules:s,loadSchedulesFromAPI:n,addScheduleToAPI:t,updateScheduleInAPI:r,deleteScheduleFromAPI:i,asRequests:a,updateASRequestInAPI:o,loadASRequestsFromAPI:m,constructionPayments:c,updateConstructionPaymentInAPI:p}=os(),{user:u}=Mt(),f=Qt(),[b,N]=d.useState(!1);d.useEffect(()=>{const A=()=>{const Ne=window.innerHeight>window.innerWidth&&window.innerWidth>=1024;N(Ne)};return A(),window.addEventListener("resize",A),()=>window.removeEventListener("resize",A)},[]);const j=A=>!A||A==="-"?"":b?A:Br(A),x=u!=null&&u.name?u.name.slice(-2):null;console.log(" Current user:",u==null?void 0:u.name,"Short name:",x),d.useEffect(()=>{n().catch(A=>{console.error("Failed to load schedules:",A),M.error("  ")})},[n]);const R=A=>{const Ne=f.findIndex(be=>be.name===A);return Ne>=0?Ho[Ne%Ho.length]:"#e8e2ea"},I=f.map(A=>A.name),y=s.filter(A=>!A.asRequestId).filter(A=>(u==null?void 0:u.name)===""?A.project===""||I.includes(A.project):!0).map(A=>{const Ne=A.project===""?"[]":A.project,be=f.find(w=>w.name===A.project),ve=A.time,Be=ve&&ve!=="-"?` - ${j(ve)}`:"",Pe=A.attendees||[],l=Pe.includes("")||Pe.includes((u==null?void 0:u.name)||"")||x&&Pe.includes(x),h=l?new Date(A.start.getTime()-216e5):A.start;return l&&console.log(` User schedule found: ${A.title}, attendees:`,Pe),{id:A.id,title:A.title+Be,originalTitle:A.title,start:h,end:A.end,projectId:(be==null?void 0:be.id)||"",projectName:Ne||"",type:A.type||"other",phase:"",assignedTo:Pe,priority:"medium",allDay:!ve||ve==="-",color:R(A.project||""),isASVisit:!1,time:ve,description:A.description}}),T=a.filter(A=>A.scheduledVisitDate).filter(A=>(u==null?void 0:u.name)===""?I.includes(A.project):!0).map(A=>{const Ne=A.scheduledVisitTime,be=Ne&&Ne!=="-"?` - ${j(Ne)}`:"",ve=f.find(Pe=>Pe.name===A.project),Be=`[AS] ${A.project}`;return{id:`as-${A.id}`,title:Be+be,originalTitle:Be,start:A.scheduledVisitDate,end:A.scheduledVisitDate,projectId:(ve==null?void 0:ve.id)||"",projectName:A.project,type:"as_visit",phase:"",assignedTo:A.assignedTo?Array.isArray(A.assignedTo)?A.assignedTo:A.assignedTo.split(",").map(Pe=>Pe.trim()):[],priority:"high",allDay:!Ne||Ne==="-",color:"#FEF3C7",isASVisit:!0,time:Ne,description:A.description}}),te=(u==null?void 0:u.role)==="manager"?c.flatMap(A=>{var Pe,l,h,w,q,_,Y,W;const Ne=f.find(ue=>ue.name===A.project);if(!Ne){const ue=[],k=A.totalAmount+(A.vatType==="percentage"?A.totalAmount*(A.vatPercentage/100):A.vatAmount),X=new Set(A.payments.flatMap(fe=>{var we;return((we=fe.type)==null?void 0:we.split(", ").map(Ie=>Ie.trim()))||[]}));return!X.has("")&&((Pe=A.expectedPaymentDates)!=null&&Pe.contract)&&ue.push({id:`payment-${A.id}-contract`,title:"[] ",originalTitle:"[] ",start:new Date(A.expectedPaymentDates.contract),end:new Date(A.expectedPaymentDates.contract),projectId:"",projectName:A.project,type:"expected_payment",phase:"",assignedTo:[],priority:"medium",allDay:!0,color:"#DBEAFE",isExpectedPayment:!0,description:` (10%): ${Math.round(k*.1).toLocaleString()}`}),!X.has("")&&((l=A.expectedPaymentDates)!=null&&l.start)&&ue.push({id:`payment-${A.id}-start`,title:"[] ",originalTitle:"[] ",start:new Date(A.expectedPaymentDates.start),end:new Date(A.expectedPaymentDates.start),projectId:"",projectName:A.project,type:"expected_payment",phase:"",assignedTo:[],priority:"medium",allDay:!0,color:"#DBEAFE",isExpectedPayment:!0,description:` (40%): ${Math.round(k*.4).toLocaleString()}`}),!X.has("")&&((h=A.expectedPaymentDates)!=null&&h.middle)&&ue.push({id:`payment-${A.id}-middle`,title:"[] ",originalTitle:"[] ",start:new Date(A.expectedPaymentDates.middle),end:new Date(A.expectedPaymentDates.middle),projectId:"",projectName:A.project,type:"expected_payment",phase:"",assignedTo:[],priority:"medium",allDay:!0,color:"#DBEAFE",isExpectedPayment:!0,description:` (40%): ${Math.round(k*.4).toLocaleString()}`}),!X.has("")&&((w=A.expectedPaymentDates)!=null&&w.final)&&ue.push({id:`payment-${A.id}-final`,title:"[] ",originalTitle:"[] ",start:new Date(A.expectedPaymentDates.final),end:new Date(A.expectedPaymentDates.final),projectId:"",projectName:A.project,type:"expected_payment",phase:"",assignedTo:[],priority:"medium",allDay:!0,color:"#DBEAFE",isExpectedPayment:!0,description:` (10%): ${Math.round(k*.1).toLocaleString()}`}),ue}if(!Ne.startDate||!Ne.endDate)return[];const be=A.totalAmount+(A.vatType==="percentage"?A.totalAmount*(A.vatPercentage/100):A.vatAmount),ve=new Set(A.payments.flatMap(ue=>{var k;return((k=ue.type)==null?void 0:k.split(", ").map(X=>X.trim()))||[]})),Be=[];return!ve.has("")&&((q=A.expectedPaymentDates)!=null&&q.contract)&&Be.push({id:`payment-${A.id}-contract`,title:"[] ",originalTitle:"[] ",start:new Date(A.expectedPaymentDates.contract),end:new Date(A.expectedPaymentDates.contract),projectId:Ne.id||"",projectName:A.project,type:"expected_payment",phase:"",assignedTo:[],priority:"medium",allDay:!0,color:"#DBEAFE",isExpectedPayment:!0,description:` (10%): ${Math.round(be*.1).toLocaleString()}`}),!ve.has("")&&((_=A.expectedPaymentDates)!=null&&_.start)&&Be.push({id:`payment-${A.id}-start`,title:"[] ",originalTitle:"[] ",start:new Date(A.expectedPaymentDates.start),end:new Date(A.expectedPaymentDates.start),projectId:Ne.id||"",projectName:A.project,type:"expected_payment",phase:"",assignedTo:[],priority:"medium",allDay:!0,color:"#DBEAFE",isExpectedPayment:!0,description:` (40%): ${Math.round(be*.4).toLocaleString()}`}),!ve.has("")&&((Y=A.expectedPaymentDates)!=null&&Y.middle)&&Be.push({id:`payment-${A.id}-middle`,title:"[] ",originalTitle:"[] ",start:new Date(A.expectedPaymentDates.middle),end:new Date(A.expectedPaymentDates.middle),projectId:Ne.id||"",projectName:A.project,type:"expected_payment",phase:"",assignedTo:[],priority:"medium",allDay:!0,color:"#DBEAFE",isExpectedPayment:!0,description:` (40%): ${Math.round(be*.4).toLocaleString()}`}),!ve.has("")&&((W=A.expectedPaymentDates)!=null&&W.final)&&Be.push({id:`payment-${A.id}-final`,title:"[] ",originalTitle:"[] ",start:new Date(A.expectedPaymentDates.final),end:new Date(A.expectedPaymentDates.final),projectId:Ne.id||"",projectName:A.project,type:"expected_payment",phase:"",assignedTo:[],priority:"medium",allDay:!0,color:"#DBEAFE",isExpectedPayment:!0,description:` (10%): ${Math.round(be*.1).toLocaleString()}`}),Be}):[],ee=[...y,...T,...te],L=(A,Ne)=>{if(!Ne)return[...A].sort((Be,Pe)=>Be.start.getTime()-Pe.start.getTime());const be=new Map;A.forEach(Be=>{if(Be.isASVisit||Be.isExpectedPayment){const Pe=`single_${Be.id}`;be.set(Pe,[Be])}else{const Pe=Be.start.toISOString().split("T")[0],l=[...Be.assignedTo].sort().join(","),h=`${Pe}_${Be.projectName}_${l}`;be.has(h)||be.set(h,[]),be.get(h).push(Be)}});const ve=[];return be.forEach(Be=>{if(Be.length===1)ve.push(Be[0]);else{const Pe=Be[0],l=Be.map(ue=>ue.originalTitle||ue.title),h=[...new Set(l)],w=Be.filter(ue=>ue.time&&ue.time!=="-").map(ue=>ue.time),q=w.length>0?` - ${w.join(", ")}`:"",_=Be.map(ue=>{const k=ue.originalTitle||ue.title;return k.startsWith(Pe.projectName+" - ")?k.substring(Pe.projectName.length+3):k}),Y=[...new Set(_)],W={...Pe,id:Be[0].id,title:`${Y.join(", ")}${q}`,originalTitle:h.join(", "),description:Be.map(ue=>ue.description||ue.originalTitle||ue.title).join(`
`),assignedTo:[...new Set(Be.flatMap(ue=>ue.assignedTo))],mergedEventIds:Be.map(ue=>ue.id)};ve.push(W)}}),ve.sort((Be,Pe)=>Be.start.getTime()-Pe.start.getTime())},[z,se]=d.useState("month"),[oe,ce]=d.useState(new Date),[De,Q]=d.useState(!1),[ne,xe]=d.useState(null),[Ee,He]=d.useState(null),[Ve,Ge]=d.useState(()=>{const A=localStorage.getItem("schedule_filterProject");return A||((u==null?void 0:u.name)===""&&f.length>0?f[0].name:"all")});d.useEffect(()=>{localStorage.setItem("schedule_filterProject",Ve)},[Ve]);const de=L(ee,Ve==="all"),[Ae,Ue]=d.useState(window.innerWidth<768?new Date:null),[he,Re]=d.useState(null),$e=it.useRef(!1),qe=it.useRef(!1),[Oe,B]=d.useState(null),[ge,me]=d.useState(""),[_e,G]=d.useState(null),[C,le]=d.useState(""),D=d.useCallback(async({event:A,start:Ne,end:be})=>{var l,h,w,q;if(console.log(" onEventDrop called:",{event:A,start:Ne,end:be,eventId:A.id,mergedEventIds:A.mergedEventIds}),A.isASVisit||A.isExpectedPayment){M.error("    ");return}const ve=Ne instanceof Date?Ne:new Date(Ne),Be=be instanceof Date?be:new Date(be);console.log(" Converted dates:",{startDate:ve,endDate:Be});const Pe=A.mergedEventIds||[A.id];console.log(" Event IDs to update:",Pe);try{for(const _ of Pe)console.log(" Updating event:",_),await r(_,{start:ve,end:Be});await n()}catch(_){console.error("  :",_);const Y=((h=(l=_==null?void 0:_.response)==null?void 0:l.data)==null?void 0:h.details)||((q=(w=_==null?void 0:_.response)==null?void 0:w.data)==null?void 0:q.error)||(_==null?void 0:_.message)||"   ";console.error(" :",Y),M.error(`  : ${Y}`)}},[r,n]),H=d.useCallback(async(A,Ne)=>{if(!$e.current){if(Ve==="all"){M.error("  ");return}$e.current=!0;try{await t({id:Date.now().toString(),title:A,start:Ne,end:Ne,type:"construction",project:Ve,location:"",attendees:[],description:""}),M.success(`${A}  `),await n()}catch(be){console.error("  :",be),M.error("  ")}finally{setTimeout(()=>{$e.current=!1},500)}}},[Ve,t,n]),ie=d.useCallback(({start:A})=>{if(he&&Ve!=="all"&&!$e.current){qe.current=!0,setTimeout(()=>{qe.current=!1},500);const Ne=he;Re(null),H(Ne,A)}},[he,Ve,H]),Ce=d.useCallback(()=>he?{title:he}:null,[he]),Te=d.useCallback(async()=>{if(!ge.trim()||!Oe||Ve==="all"){B(null),me("");return}try{await t({id:Date.now().toString(),title:ge.trim(),start:Oe,end:Oe,type:"construction",project:Ve,location:"",attendees:[],description:""}),M.success(" "),n()}catch(A){console.error("  :",A),M.error("  ")}B(null),me("")},[ge,Oe,Ve,t,n]),ze=d.useCallback(async()=>{var A;if(!_e||!C.trim()){G(null),le("");return}try{const Ne=((A=_e.mergedEventIds)==null?void 0:A[0])||_e.id;await r(Ne,{title:C.trim()}),M.success(" "),n()}catch(Ne){console.error("  :",Ne),M.error("  ")}G(null),le("")},[_e,C,r,n]),U=d.useCallback(async A=>{try{const Ne=A.mergedEventIds||[A.id];for(const be of Ne)await i(be);M.success(" "),n()}catch(Ne){console.error("  :",Ne),M.error("  ")}G(null),le("")},[i,n]),J=Ve==="all"?de:de.filter(A=>A.projectName===Ve),Z=it.useMemo(()=>[...J].sort((A,Ne)=>{const be=lt(A.start).startOf("day").valueOf(),ve=lt(Ne.start).startOf("day").valueOf();if(be!==ve)return be-ve;const Be=A.assignedTo&&x&&A.assignedTo.includes(x)||A.assignedTo&&(u==null?void 0:u.name)&&A.assignedTo.includes(u.name),Pe=Ne.assignedTo&&x&&Ne.assignedTo.includes(x)||Ne.assignedTo&&(u==null?void 0:u.name)&&Ne.assignedTo.includes(u.name);return Be&&!Pe?-1:!Be&&Pe?1:new Date(A.start).getTime()-new Date(Ne.start).getTime()}),[J,u,x]),P=it.useMemo(()=>{if(Oe&&Ve!=="all"){const A={id:"__inline_add__",title:"",start:Oe,end:Oe,projectId:"",projectName:Ve,type:"other",phase:"",assignedTo:[],priority:"medium",allDay:!0};return[...Z,A]}return Z},[Z,Oe,Ve]);d.useEffect(()=>{(u==null?void 0:u.name)===""&&f.length>0&&(Ve==="all"||!f.find(A=>A.name===Ve))&&Ge(f[0].name)},[f,u]),d.useEffect(()=>{const A=()=>{document.querySelectorAll(".rbc-show-more, .rbc-button-link").forEach(l=>{l.style.display="none",l.style.visibility="hidden",l.style.pointerEvents="none"}),document.querySelectorAll('.rbc-overlay, .rbc-overlay-header, .rbc-popup, [class*="rbc-overlay"]').forEach(l=>{l.style.display="none",l.style.visibility="hidden",l.style.opacity="0",l.style.pointerEvents="none",l.style.position="absolute",l.style.left="-9999px",l.style.top="-9999px",l.style.zIndex="-1"})};A();const Ne=new MutationObserver(A),be=document.querySelector(".rbc-calendar");be&&Ne.observe(be,{childList:!0,subtree:!0});const ve=new MutationObserver(A);return ve.observe(document.body,{childList:!0,subtree:!0}),()=>{Ne.disconnect(),ve.disconnect()}},[z,oe]);const[v,$]=d.useState({date:null,projectId:"",title:""}),re=it.useRef(!1),O=it.useRef(null),g=A=>{if(A.id==="__inline_add__")return;re.current=!0,O.current&&clearTimeout(O.current);const Ne=Ve!=="all",be=window.innerWidth<768;if(Ne&&!be&&!A.isASVisit&&!A.isExpectedPayment)B(null),me(""),G(A),le(A.originalTitle||A.title);else{const ve={...A,title:A.originalTitle||A.title};He(null),xe(ve),Q(!0)}O.current=setTimeout(()=>{re.current=!1,O.current=null},1500)},E=A=>{if(re.current||qe.current)return;const Ne=window.innerWidth,be=Ne<768,ve=Ne>=768&&Ne<1024,Be=Ve!=="all";if(be){if(A.start){Ue(A.start);const l=document.querySelector(".md\\:hidden.mt-3.bg-white");l&&l.scrollIntoView({behavior:"smooth",block:"nearest"})}return}const Pe=A.action==="click"||A.action==="select";if(!(ve&&!Pe)){if(Be&&!be){G(null),le(""),B(A.start),me("");return}be||(He(A),xe(null),Q(!0))}},S=async()=>{if(!v.projectId||!v.title.trim()){alert("  ");return}const A=f.find(Ne=>Ne.id===v.projectId);if(!(!A||!v.date))try{await t({id:Date.now().toString(),title:v.title,start:v.date,end:v.date,type:"other",project:A.name,location:"",attendees:[],description:""}),$({date:null,projectId:"",title:""}),Ue(null),M.success(" ")}catch(Ne){console.error("Failed to add schedule:",Ne),M.error("  ")}},K=A=>{if(A.id==="__inline_add__")return{style:{backgroundColor:"#ffffff",borderRadius:"6px",color:"#1f2937",border:"1px solid #d1d5db",display:"block",fontSize:"0.8125rem",padding:"0",fontWeight:"400",boxShadow:"0 1px 2px rgba(0,0,0,0.05)",overflow:"visible"}};let Ne=A.color||"#E0E7FF",be="#1f2937";if(A.isASVisit)Ne="#E8F5E9",be="#1f2937";else{const ve=A.assignedTo&&A.assignedTo.includes("HV LAB"),Be=A.assignedTo&&A.assignedTo.includes("")&&x&&["",""].includes(x),Pe=A.assignedTo&&A.assignedTo.includes("")&&x&&["","",""].includes(x);A.assignedTo&&A.assignedTo.includes((u==null?void 0:u.name)||"")||ve||Be||Pe?(Ne="#FEF3C7",be="#1f2937"):A.color||(Ne="#e8e2ea")}return{style:{backgroundColor:Ne,"--event-bg-color":Ne,borderRadius:"6px",color:be,border:"none",display:"block",fontSize:"0.8125rem",padding:"4px 8px",fontWeight:"500",boxShadow:"0 1px 2px rgba(0,0,0,0.05)",overflow:"hidden"}}},ke=it.useCallback(A=>{const Ne=lt(A).format("YYYY-MM-DD"),be=!!Hn[Ne],ve=Ae&&lt(A).isSame(Ae,"day");let Be="";return ve&&(Be+="selected-date "),be&&(Be+="holiday-date "),{className:Be.trim(),style:{}}},[Ae]),[ye,We]=d.useState(window.innerWidth<768);d.useEffect(()=>{const A=()=>{We(window.innerWidth<768)};return window.addEventListener("resize",A),()=>window.removeEventListener("resize",A)},[]),d.useEffect(()=>{const A=()=>{const Ne=Ae||new Date;He({start:Ne,end:Ne}),xe(null),Q(!0)};return window.addEventListener("headerAddButtonClick",A),()=>window.removeEventListener("headerAddButtonClick",A)},[Ae]);const Je=it.useCallback(({date:A,label:Ne})=>e.jsxDEV(XN,{date:A,label:Ne,filteredEvents:P,selectedDate:Ae,user:u,isMobileView:ye},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:1639,columnNumber:7},void 0),[P,Ae,u,ye]),mt=it.useCallback(({event:A})=>{if(A.id==="__inline_add__")return e.jsxDEV("div",{className:"w-full h-full",onClick:be=>be.stopPropagation(),style:{minHeight:"28px"},children:e.jsxDEV("input",{type:"text",value:ge,onChange:be=>me(be.target.value),onBlur:()=>{ge.trim()?Te():(B(null),me(""))},onKeyDown:be=>{be.stopPropagation(),be.key==="Enter"?ge.trim()?Te():(B(null),me("")):be.key==="Escape"&&(B(null),me(""))},onClick:be=>be.stopPropagation(),placeholder:" ",className:"w-full h-full px-2 py-0.5 text-xs border-none focus:outline-none focus:ring-1 focus:ring-gray-400 bg-white rounded",autoFocus:!0,style:{minWidth:0}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:1660,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:1655,columnNumber:9},void 0);const Ne=(_e==null?void 0:_e.id)===A.id||(_e==null?void 0:_e.mergedEventIds)&&_e.mergedEventIds.includes(A.id);return e.jsxDEV(JN,{event:A,user:u,filterProject:Ve,isEditing:Ne,editTitle:Ne?C:void 0,onEditTitleChange:Ne?le:void 0,onEditSave:Ne?ze:void 0,onEditDelete:Ne?()=>U(A):void 0,onEditCancel:Ne?()=>{G(null),le("")}:void 0,onHoverDelete:()=>U(A)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:1700,columnNumber:7},void 0)},[u,Ve,_e,C,ze,U,ge,Te]),nt=({onNavigate:A})=>{const[Ne,be]=it.useState(!1),[ve,Be]=it.useState(lt(oe).year()),[Pe,l]=it.useState(lt(oe).month()),h=window.innerWidth<768,w=()=>{Be(lt(oe).year()),l(lt(oe).month()),be(!0)},q=()=>{ce(lt().year(ve).month(Pe).toDate()),be(!1)};return e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:`flex flex-col bg-white border-b border-gray-200 ${h?"px-2 py-1":"px-3 md:px-5 py-2"}`,children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{className:"flex items-center space-x-1",children:[e.jsxDEV("button",{onClick:()=>A("PREV"),className:"px-2 py-1.5 text-2xl md:text-3xl text-gray-700 hover:bg-gray-100 rounded-lg transition-colors font-bold",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:1741,columnNumber:15},void 0),e.jsxDEV("div",{className:"text-base md:text-lg font-bold text-gray-900 hover:bg-gray-50 px-2 md:px-3 py-1 rounded-lg transition-colors cursor-pointer",onClick:w,children:e.jsxDEV("span",{children:lt(oe).format("YYYY MM")},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:1751,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:1747,columnNumber:15},void 0),e.jsxDEV("button",{onClick:()=>A("NEXT"),className:"px-2 py-1.5 text-2xl md:text-3xl text-gray-700 hover:bg-gray-100 rounded-lg transition-colors font-bold",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:1753,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:1740,columnNumber:13},void 0),e.jsxDEV("select",{className:"px-3 md:px-4 py-1.5 md:py-2 bg-white text-gray-700 rounded-lg text-xs md:text-sm font-medium focus:outline-none focus:ring-2 focus:ring-gray-300 border border-gray-300",value:Ve,onChange:_=>Ge(_.target.value),style:{appearance:"none",backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%236b7280'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 0.5rem center",backgroundSize:"1.25rem",paddingRight:"2.5rem"},children:[(u==null?void 0:u.name)!==""&&e.jsxDEV("option",{value:"all",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:1776,columnNumber:39},void 0),f.filter(_=>_.status!=="completed").map(_=>e.jsxDEV("option",{value:_.name,children:_.name},_.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:1780,columnNumber:19},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:1762,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:1739,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:1737,columnNumber:9},void 0),Ne&&e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:e.jsxDEV("div",{className:"bg-white rounded-lg w-full max-w-sm shadow-xl",children:[e.jsxDEV("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[e.jsxDEV("h3",{className:"text-lg font-bold text-gray-900",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:1794,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>be(!1),className:"p-1 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsxDEV("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:1800,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:1799,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:1795,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:1793,columnNumber:15},void 0),e.jsxDEV("div",{className:"p-4 border-b border-gray-200",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("button",{onClick:()=>Be(ve-1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsxDEV("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:1813,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:1812,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:1808,columnNumber:19},void 0),e.jsxDEV("span",{className:"text-xl font-bold text-gray-900",children:[ve,""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:1816,columnNumber:19},void 0),e.jsxDEV("button",{onClick:()=>Be(ve+1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsxDEV("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:1824,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:1823,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:1819,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:1807,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:1806,columnNumber:15},void 0),e.jsxDEV("div",{className:"p-4",children:e.jsxDEV("div",{className:"grid grid-cols-3 gap-2",children:[1,2,3,4,5,6,7,8,9,10,11,12].map(_=>{const Y=Pe===_-1,W=lt().year()===ve&&lt().month()===_-1;return e.jsxDEV("button",{onClick:()=>l(_-1),className:`py-3 px-4 rounded-lg text-sm font-medium transition-colors ${Y?"bg-gray-900 text-white":W?"bg-gray-100 text-gray-900 border-2 border-gray-900":"bg-gray-50 text-gray-700 hover:bg-gray-100"}`,children:[_,""]},_,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:1837,columnNumber:23},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:1832,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:1831,columnNumber:15},void 0),e.jsxDEV("div",{className:"p-4 border-t border-gray-200 flex gap-2",children:[e.jsxDEV("button",{onClick:()=>{ce(new Date),be(!1)},className:"flex-1 py-2 px-4 bg-gray-100 text-gray-900 rounded-lg text-sm font-medium hover:bg-gray-200 transition-colors",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:1857,columnNumber:17},void 0),e.jsxDEV("button",{onClick:q,className:"flex-1 py-2 px-4 bg-gray-900 text-white rounded-lg text-sm font-medium hover:bg-gray-800 transition-colors",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:1866,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:1856,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:1791,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:1790,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:1736,columnNumber:7},void 0)},st=()=>null,at=d.useMemo(()=>({toolbar:nt,event:mt,month:{dateHeader:Je,showMore:st}}),[Je,mt]),Nt=it.useMemo(()=>{if(!Ae)return[];let A;if(ye)A=P.filter(be=>lt(be.start).isSame(Ae,"day"));else{const be=lt(Ae).startOf("week"),ve=lt(Ae).endOf("week");A=P.filter(Be=>{const Pe=lt(Be.start);return Pe.isSameOrAfter(be,"day")&&Pe.isSameOrBefore(ve,"day")})}const Ne=[...A].sort((be,ve)=>{const Be=be.assignedTo&&be.assignedTo.includes("HV LAB"),Pe=be.assignedTo&&be.assignedTo.includes("")&&x&&["",""].includes(x),l=be.assignedTo&&be.assignedTo.includes("")&&x&&["","",""].includes(x),h=be.assignedTo&&x&&be.assignedTo.includes(x)||be.assignedTo&&(u==null?void 0:u.name)&&be.assignedTo.includes(u.name)||Be||Pe||l,w=ve.assignedTo&&ve.assignedTo.includes("HV LAB"),q=ve.assignedTo&&ve.assignedTo.includes("")&&x&&["",""].includes(x),_=ve.assignedTo&&ve.assignedTo.includes("")&&x&&["","",""].includes(x),Y=ve.assignedTo&&x&&ve.assignedTo.includes(x)||ve.assignedTo&&(u==null?void 0:u.name)&&ve.assignedTo.includes(u.name)||w||q||_;return h&&!Y?-1:!h&&Y?1:new Date(be.start).getTime()-new Date(ve.start).getTime()});return console.log("Sorted events:",Ne.map(be=>({title:be.title,assignedTo:be.assignedTo,user:u==null?void 0:u.name,userShort:x}))),Ne},[Ae,P,u,x,ye]);return d.useEffect(()=>{const Ne=setTimeout(()=>{const be=ye?document.querySelectorAll(".rbc-month-view td.rbc-date-cell"):document.querySelectorAll(".rbc-date-cell"),ve=document.querySelectorAll(".rbc-month-row"),Be=[];ve.forEach((k,X)=>{const fe=k.querySelectorAll(".rbc-date-cell");let we=0;fe.forEach(Ie=>{const Ye=Ie.querySelector("button");let Fe=Ye==null?void 0:Ye.textContent;if(!Fe){const et=Ie.querySelector("span");Fe=et==null?void 0:et.textContent}if(Fe&&!isNaN(parseInt(Fe))){const et=lt(oe).date(parseInt(Fe)),Ke=P.filter(tt=>lt(tt.start).isSame(et,"day"));we=Math.max(we,Ke.length)}}),Be.push(we)});const Pe=Ve&&Ve!=="all",l=100,h=Pe?42:18,w=25,q=Math.floor((l-w)/h),_=Be.length,Y=l*_,W=Be.map(k=>k<=q?l:w+k*h+10),ue=W.reduce((k,X)=>k+X,0);if(ue>Y){const k=W.map((we,Ie)=>({index:Ie,height:we,overflow:we>l})),X=k.filter(we=>we.overflow).reduce((we,Ie)=>we+(Ie.height-l),0),fe=k.filter(we=>!we.overflow);if(fe.length>0){const we=Y-X-fe.length*l,Ie=Math.max(50,l+we/fe.length);ve.forEach((Ye,Fe)=>{const Ke=W[Fe]>l?W[Fe]:Ie;Ye.style.height=`${Ke}px`,Ye.style.minHeight=`${Ke}px`})}else{const we=Y/ue;ve.forEach((Ie,Ye)=>{const Fe=Math.max(80,W[Ye]*we);Ie.style.height=`${Fe}px`,Ie.style.minHeight=`${Fe}px`})}}else{const k=W.reduce((Ie,Ye)=>Ie+(Ye>l?Ye:0),0),X=W.filter(Ie=>Ie<=l).length,fe=Y-k,we=X>0?fe/X:l;ve.forEach((Ie,Ye)=>{const Fe=W[Ye]>l?W[Ye]:we;Ie.style.height=`${Fe}px`,Ie.style.minHeight=`${Fe}px`})}be.forEach(k=>{const X=k.querySelector("button");let fe=X==null?void 0:X.textContent;if(!fe){const Fe=k.querySelector("span");fe=Fe==null?void 0:Fe.textContent}if(!fe||isNaN(parseInt(fe)))return;const we=lt(oe).date(parseInt(fe)),Ie=P.filter(Fe=>lt(Fe.start).isSame(we,"day"));Ie.length>0?k.setAttribute("data-event-count",Ie.length.toString()):k.removeAttribute("data-event-count");const Ye=we.clone().toDate();if(Ae&&lt(Ye).isSame(Ae,"day")?k.classList.add("selected-date"):k.classList.remove("selected-date"),ye){const Fe=k,et=Fe._mobileClickHandler;et&&k.removeEventListener("click",et);const Ke=tt=>{if(tt.target.closest(".rbc-event"))return;const ae=we.clone().toDate();Ue(ae);const Me=document.querySelector(".md\\:hidden.mt-3.bg-white");Me&&Me.scrollIntoView({behavior:"smooth",block:"nearest"})};Fe._mobileClickHandler=Ke,k.addEventListener("click",Ke,!0),k.style.cursor="pointer",k.style.touchAction="manipulation"}})},200);return()=>{clearTimeout(Ne),ye&&document.querySelectorAll(".rbc-month-view td.rbc-date-cell").forEach(ve=>{const Be=ve,Pe=Be._mobileClickHandler;Pe&&(ve.removeEventListener("click",Pe),delete Be._mobileClickHandler)})}},[P,oe,ye,Ae,Ve]),e.jsxDEV("div",{className:"schedule-container space-y-3 md:space-y-2",children:[v.date&&e.jsxDEV("div",{className:"bg-white border border-gray-200 rounded-lg p-3 md:p-4 shadow-sm",children:e.jsxDEV("div",{className:"flex flex-col md:flex-row items-stretch md:items-center gap-2 md:gap-3",children:[e.jsxDEV("div",{className:"text-xs md:text-sm font-semibold text-gray-900 md:min-w-[80px]",children:lt(v.date).format("MM DD")},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2155,columnNumber:15},void 0),e.jsxDEV("select",{value:v.projectId,onChange:A=>$({...v,projectId:A.target.value}),className:"px-3 md:px-4 py-2 border border-gray-300 rounded-lg text-xs md:text-sm focus:outline-none focus:ring-2 focus:ring-gray-500",children:f.filter(A=>A.status!=="completed").map(A=>e.jsxDEV("option",{value:A.id,children:A.name},A.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2166,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2158,columnNumber:15},void 0),e.jsxDEV("input",{type:"text",value:v.title,onChange:A=>$({...v,title:A.target.value}),onKeyPress:A=>{A.key==="Enter"&&S()},placeholder:"  ...",className:"flex-1 px-3 md:px-4 py-2 border border-gray-300 rounded-lg text-xs md:text-sm focus:outline-none focus:ring-2 focus:ring-gray-500",autoFocus:!0},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2171,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV("button",{onClick:S,className:"flex-1 md:flex-none px-4 md:px-5 py-2 bg-gray-900 text-white text-xs md:text-sm font-medium rounded-lg hover:bg-gray-800 transition-colors",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2185,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>{$({date:null,projectId:"",title:""}),Ue(null)},className:"flex-1 md:flex-none px-4 md:px-5 py-2 bg-white border border-gray-300 text-gray-700 text-xs md:text-sm font-medium rounded-lg hover:bg-gray-50 transition-colors",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2191,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2184,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2154,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2153,columnNumber:11},void 0),e.jsxDEV("div",{className:"schedule-main flex flex-col md:block",children:[e.jsxDEV("div",{className:"flex gap-3",children:[Ve!=="all"&&!ye&&e.jsxDEV("div",{className:"hidden lg:block flex-shrink-0",children:e.jsxDEV("div",{className:"bg-white border border-gray-200 rounded-lg shadow-sm p-2 sticky top-4",children:e.jsxDEV("div",{className:"flex flex-col gap-0.5",children:YN.map(A=>e.jsxDEV("div",{draggable:!0,onDragStart:Ne=>{Re(A),Ne.dataTransfer.setData("text/plain",A),Ne.dataTransfer.effectAllowed="copy"},onDragEnd:()=>Re(null),className:`px-3 py-1 text-xs rounded cursor-grab active:cursor-grabbing transition-colors text-center font-medium whitespace-nowrap ${he===A?"bg-blue-100 text-blue-800":"bg-gray-50 text-gray-700 hover:bg-gray-100"}`,children:A},A,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2214,columnNumber:23},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2212,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2211,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2210,columnNumber:15},void 0),e.jsxDEV("div",{className:"schedule-calendar bg-white border border-gray-200 rounded-lg overflow-hidden shadow-sm calendar-container flex-1",style:{paddingBottom:0},children:e.jsxDEV(zN,{localizer:KN,events:P,startAccessor:"start",endAccessor:"end",view:z,onView:se,date:oe,onNavigate:ce,onSelectEvent:g,onSelectSlot:E,onEventDrop:Ve!=="all"?D:void 0,onDropFromOutside:Ve!=="all"?ie:void 0,dragFromOutsideItem:Ve!=="all"?Ce:void 0,draggableAccessor:A=>Ve!=="all"&&A.id!=="__inline_add__",resizable:!1,selectable:!0,longPressThreshold:0,eventPropGetter:K,dayPropGetter:ke,components:at,popup:!1,doShowMoreDrillDown:!1,onShowMore:()=>{},showAllEvents:!0,messages:{today:"",previous:"",next:"",month:"",week:"",day:"",agenda:"",date:"",time:"",event:"",noEventsInRange:"   ",showMore:A=>`+${A} `}},`calendar-${(Ae==null?void 0:Ae.getTime())||"no-selection"}`,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2242,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2238,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2207,columnNumber:11},void 0),Ae&&e.jsxDEV("div",{className:"schedule-events-list desktop:hidden mt-3 bg-white border border-gray-200 rounded-lg overflow-hidden shadow-sm",children:[e.jsxDEV("div",{className:"flex items-center justify-between p-3 border-b border-gray-200 bg-gray-50",children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("p",{className:"text-sm font-semibold text-gray-900",children:ye?lt(Ae).format("MM DD (ddd)"):`${lt(Ae).startOf("week").format("MM DD")} - ${lt(Ae).endOf("week").format("MM DD")}`},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2292,columnNumber:19},void 0),Hn[lt(Ae).format("YYYY-MM-DD")]&&e.jsxDEV("span",{className:"text-xs font-medium px-2 py-0.5 rounded-full bg-red-50 text-red-600",children:Hn[lt(Ae).format("YYYY-MM-DD")]},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2300,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2291,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>Ue(null),className:"p-1 hover:bg-gray-200 rounded-full transition-colors",children:e.jsxDEV("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2310,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2309,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2305,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2290,columnNumber:15},void 0),e.jsxDEV("div",{className:"max-h-[35vh] overflow-y-auto",children:Nt.length===0?e.jsxDEV("div",{className:"p-4 text-center",children:e.jsxDEV("p",{className:"text-sm text-gray-500",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2319,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2318,columnNumber:19},void 0):e.jsxDEV("div",{children:(()=>{const A=Nt.reduce((be,ve)=>{const Be=lt(ve.start).format("YYYY-MM-DD");return be[Be]||(be[Be]=[]),be[Be].push(ve),be},{});return Object.keys(A).sort().map(be=>e.jsxDEV("div",{className:"border-b border-gray-100 last:border-b-0",children:[!ye&&e.jsxDEV("div",{className:"px-3 py-2 bg-gray-50 sticky top-0 z-10",children:e.jsxDEV("p",{className:"text-xs font-semibold text-gray-700",children:lt(be).format("MM DD (ddd)")},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2342,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2341,columnNumber:29},void 0),e.jsxDEV("div",{className:"divide-y divide-gray-100",children:A[be].map(ve=>{const Be=ve.assignedTo&&ve.assignedTo.includes("HV LAB"),Pe=ve.assignedTo&&ve.assignedTo.includes("")&&x&&["",""].includes(x),l=ve.assignedTo&&ve.assignedTo.includes("")&&x&&["","",""].includes(x),w=ve.assignedTo&&(ve.assignedTo.includes((u==null?void 0:u.name)||"")||x&&ve.assignedTo.includes(x))||Be||Pe||l,q=!ve.color&&!w;return e.jsxDEV("div",{onClick:()=>{const _={...ve,title:ve.originalTitle||ve.title};g(_)},className:`p-3 transition-colors cursor-pointer ${w?"bg-yellow-50 hover:bg-yellow-100 active:bg-yellow-200":q?"hover:bg-purple-50 active:bg-purple-100":"hover:bg-gray-50 active:bg-gray-100"}`,style:q?{backgroundColor:"#f3f0f5"}:void 0,children:e.jsxDEV("div",{className:"flex items-start gap-2",children:[e.jsxDEV("div",{className:"w-1 h-full rounded-full flex-shrink-0",style:{backgroundColor:w?"#FEF3C7":ve.color||"#e8e2ea",minHeight:"28px"}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2387,columnNumber:27},void 0),e.jsxDEV("div",{className:"flex-1 min-w-0",children:[e.jsxDEV("p",{className:"text-sm font-semibold text-gray-900 truncate",children:ve.title},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2397,columnNumber:29},void 0),ve.projectName&&e.jsxDEV("p",{className:"text-xs text-gray-600 mt-0.5",children:ve.projectName},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2401,columnNumber:31},void 0),ve.assignedTo&&ve.assignedTo.length>0&&e.jsxDEV("p",{className:"text-xs text-gray-500 mt-0.5",children:["","",""].every(W=>ve.assignedTo.includes(W))?"":ve.assignedTo.join(", ")},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2406,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2396,columnNumber:27},void 0),e.jsxDEV("svg",{className:"w-4 h-4 text-gray-400 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2419,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2418,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2386,columnNumber:25},void 0)},ve.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2367,columnNumber:25},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2348,columnNumber:27},void 0)]},be,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2338,columnNumber:25},void 0))})()},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2322,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2316,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2288,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2206,columnNumber:9},void 0),De&&e.jsxDEV(nl,{event:ne,slotInfo:Ee,defaultProjectName:Ve!=="all"?Ve:void 0,onClose:()=>{Q(!1),xe(null),He(null)},onSave:async A=>{console.log(" Schedule.tsx onSave called with newEvent:",A);try{if(ne)if(ne.id.startsWith("as-")){const Ne=ne.id.replace("as-","");let be="";A.assignedTo&&Array.isArray(A.assignedTo)&&A.assignedTo.length>0?be=A.assignedTo.join(", "):ne.assignedTo&&Array.isArray(ne.assignedTo)?be=ne.assignedTo.join(", "):typeof ne.assignedTo=="string"&&(be=ne.assignedTo),await o(Ne,{project:A.title||ne.title,assignedTo:be,scheduledVisitDate:A.start,scheduledVisitTime:A.time||ne.time}),M.success("AS   "),await m(),Q(!1)}else if(ne.id.startsWith("payment-")){const Ne=ne.id.split("-"),be=Ne[1],ve=Ne[2],Be=c.find(Pe=>Pe.id===be);if(Be){const Pe={...Be.expectedPaymentDates};Pe[ve]=A.start,await p(be,{expectedPaymentDates:Pe}),M.success("  ")}}else{console.log(" Updating schedule with projectId:",A.projectId,"projectName:",A.projectName);let Ne=A.title;const be=/ - (|) \d{1,2}( \d{1,2})?$/;if(Ne=Ne.replace(be,""),ne.mergedEventIds&&ne.mergedEventIds.length>0){console.log(" Updating merged schedules:",ne.mergedEventIds);const ve=(ne.originalTitle||ne.title).split(", "),Be=Ne.split(", ");for(let Pe=0;Pe<ne.mergedEventIds.length;Pe++){const l=ne.mergedEventIds[Pe],h=Be[Pe]||ve[Pe]||Ne;await r(l,{title:h.trim(),start:A.start,end:A.end,type:"other",project:A.projectId||A.projectName,location:"",attendees:A.assignedTo||[],description:A.description,time:A.time})}M.success(`${ne.mergedEventIds.length}  `)}else await r(ne.id,{title:Ne,start:A.start,end:A.end,type:"other",project:A.projectId||A.projectName,location:"",attendees:A.assignedTo||[],description:A.description,time:A.time}),M.success(" ");await n()}else console.log(" Adding schedule with projectId:",A.projectId,"projectName:",A.projectName),await t({id:Date.now().toString(),title:A.title,start:A.start,end:A.end,type:"other",project:A.projectId||A.projectName,location:"",attendees:A.assignedTo||[],description:A.description,time:A.time}),M.success(" ");Q(!1)}catch(Ne){console.error("Failed to save schedule:",Ne),M.error("  ")}},onDelete:async A=>{try{if(A.startsWith("payment-")){const Ne=A.split("-"),be=Ne[1],ve=Ne[2],Be=c.find(Pe=>Pe.id===be);if(Be){const Pe={...Be.expectedPaymentDates};delete Pe[ve],await p(be,{expectedPaymentDates:Pe}),M.success("  ")}}else if(A.startsWith("as-")){const Ne=A.replace("as-","");await o(Ne,{scheduledVisitDate:null,scheduledVisitTime:null}),M.success("AS   ")}else{const Ne=de.find(be=>be.id===A);if(Ne!=null&&Ne.mergedEventIds&&Ne.mergedEventIds.length>0){console.log("Deleting merged schedules:",Ne.mergedEventIds);for(const be of Ne.mergedEventIds)await i(be);M.success(`${Ne.mergedEventIds.length}  `)}else await i(A),M.success(" ")}Q(!1)}catch(Ne){console.error("Failed to delete schedule:",Ne),M.error("  ")}}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2437,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2150,columnNumber:7},void 0)};class QN{async uploadImage(n){var r,i;const t=new FormData;t.append("image",n);try{const a=await Le.post("/drawings/upload",t,{headers:{"Content-Type":"multipart/form-data"}});return console.log("   :",a.data.imageUrl),a.data.imageUrl}catch(a){console.error("  :",a);const o=((i=(r=a.response)==null?void 0:r.data)==null?void 0:i.error)||a.message||"   ";throw new Error(`  : ${o}`)}}async setItem(n,t,r){var i,a,o,m,c,p,u;try{console.log("[drawingStorage]   :",{projectId:t.projectId,type:t.type,imageUrl:t.imageUrl?"provided":"none",markersCount:((i=t.markers)==null?void 0:i.length)||0,roomsCount:((a=t.rooms)==null?void 0:a.length)||0}),await Le.post("/drawings",{projectId:t.projectId,type:t.type,imageUrl:t.imageUrl,markers:t.markers,rooms:t.rooms,naverTypeSqm:t.naverTypeSqm,naverTypePyeong:t.naverTypePyeong,naverArea:t.naverArea}),console.log("    ")}catch(f){console.error("   :",f);const b=((m=(o=f.response)==null?void 0:o.data)==null?void 0:m.error)||" ",N=((p=(c=f.response)==null?void 0:c.data)==null?void 0:p.details)||f.message||"",j=((u=f.response)==null?void 0:u.status)||"",x=new Error(`${b}${N?` (${N})`:""}`);throw x.statusCode=j,x.response=f.response,x}}async getItem(n){var t,r,i;try{const a=n.split("-");if(a.length<4)return console.error("  :",n),null;const o=a[2],m=a.slice(3).join("-");console.log(`[drawingStorage]   : projectId=${o}, type=${m}`);const p=(await Le.get(`/drawings/${o}/${encodeURIComponent(m)}`)).data;return{type:p.type,projectId:p.projectId,imageUrl:p.imageUrl,markers:p.markers||[],rooms:p.rooms||[],lastModified:new Date(p.updatedAt),naverTypeSqm:p.naverTypeSqm,naverTypePyeong:p.naverTypePyeong,naverArea:p.naverArea}}catch(a){if(((t=a.response)==null?void 0:t.status)===404)return console.log("[drawingStorage]    (404)"),null;if(((r=a.response)==null?void 0:r.status)===500)return console.warn("[drawingStorage]  ,   :",(i=a.response)==null?void 0:i.data),null;throw console.error("   :",a),a}}async removeItem(n){try{const t=n.split("-");if(t.length<4){console.error("  :",n);return}const r=t[2],i=t.slice(3).join("-");await Le.delete(`/drawings/${r}/${encodeURIComponent(i)}`)}catch(t){throw console.error("   :",t),t}}async clearAll(){return console.warn("   clearAll  ."),0}async migrateFromLocalStorage(n){let t=0;const r=[];for(let i=0;i<localStorage.length;i++){const a=localStorage.key(i);a&&a.startsWith("drawing-")&&r.push(a)}return r.forEach(i=>{localStorage.removeItem(i),t++}),t>0&&console.log(` ${t}    .`),t}async estimateSize(){return{usage:0,quota:0}}}const lr=new QN,dr=["","","","3D","","","","","","","","","",""],cr=[{id:"outlet-1",name:" 1",symbol:"C1",count:1,color:"#ef4444",category:"outlet"},{id:"outlet-2",name:" 2",symbol:"C2",count:2,color:"#ef4444",category:"outlet"},{id:"outlet-3",name:" 3",symbol:"C3",count:3,color:"#ef4444",category:"outlet"},{id:"outlet-4",name:" 4",symbol:"C4",count:4,color:"#ef4444",category:"outlet"},{id:"switch-1",name:" 1",symbol:"S1",count:1,color:"#3b82f6",category:"switch"},{id:"switch-2",name:" 2",symbol:"S2",count:2,color:"#3b82f6",category:"switch"},{id:"switch-3",name:" 3",symbol:"S3",count:3,color:"#3b82f6",category:"switch"},{id:"switch-4",name:" 4",symbol:"S4",count:4,color:"#3b82f6",category:"switch"},{id:"switch-5",name:" 5",symbol:"S5",count:5,color:"#3b82f6",category:"switch"},{id:"switch-6",name:" 6",symbol:"S6",count:6,color:"#3b82f6",category:"switch"},{id:"switch-7",name:" 7",symbol:"S7",count:7,color:"#3b82f6",category:"switch"},{id:"switch-8",name:" 8",symbol:"S8",count:8,color:"#3b82f6",category:"switch"},{id:"light",name:"",symbol:"",count:1,color:"#f59e0b",category:"light"}],ZN=()=>{const{user:s}=Mt(),n=Qt(),[t,r]=d.useState(()=>{try{const F=localStorage.getItem("user");if(F){const ae=JSON.parse(F);return localStorage.getItem(`drawings-selected-project-${ae.id}`)||""}}catch(F){console.error("Failed to load saved project:",F)}return""}),[i,a]=d.useState(()=>{try{const F=localStorage.getItem("user");if(F){const ae=JSON.parse(F),Me=localStorage.getItem(`drawings-selected-type-${ae.id}`);if(Me&&dr.includes(Me))return Me}}catch(F){console.error("Failed to load saved drawing type:",F)}return""}),[o,m]=d.useState(cr[0].id),[c,p]=d.useState([]),[u,f]=d.useState(0),[b,N]=d.useState([]),[j,x]=d.useState([]),R=c[u]||"",[I,y]=d.useState(""),[T,te]=d.useState(""),[ee,L]=d.useState(""),[z,se]=d.useState("marker"),[oe,ce]=d.useState("full"),[De,Q]=d.useState(null),[ne,xe]=d.useState(!1),[Ee,He]=d.useState(null),[Ve,Ge]=d.useState(!1),[de,Ae]=d.useState(null),[Ue,he]=d.useState(null),[Re,$e]=d.useState(!1),[qe,Oe]=d.useState(""),[B,ge]=d.useState(null),[me,_e]=d.useState(!1),[G,C]=d.useState(1),[le,D]=d.useState({x:0,y:0}),[H,ie]=d.useState(!1),[Ce,Te]=d.useState({x:0,y:0}),[ze,U]=d.useState(!1),J=d.useRef(0),Z=d.useRef({x:0,y:0}),P=d.useRef(0),v=d.useRef({x:0,y:0}),$=d.useRef(null),re=d.useRef(null),O=d.useRef(null),g=d.useRef(!1),E=d.useRef(!1),S=d.useRef(null),K=d.useRef(!1);d.useEffect(()=>{if(s!=null&&s.id&&!K.current){if(K.current=!0,!t){const ae=localStorage.getItem(`drawings-selected-project-${s.id}`);ae&&r(ae)}const F=localStorage.getItem(`drawings-selected-type-${s.id}`);F&&dr.includes(F)&&F!==i&&a(F)}},[s==null?void 0:s.id]),d.useEffect(()=>{s!=null&&s.id&&!E.current&&(E.current=!0,lr.migrateFromLocalStorage(s.id).then(F=>{F>0&&console.log(` ${F}   .`)}).catch(F=>{console.error(" :",F)}))},[s==null?void 0:s.id]),d.useEffect(()=>{if(s!=null&&s.id&&s.name===""&&n.length>0&&!t){const F=n.find(ae=>ae.status!=="completed");F&&r(F.id)}},[s==null?void 0:s.id,s==null?void 0:s.name,n,t]),d.useEffect(()=>{s!=null&&s.id&&t&&localStorage.setItem(`drawings-selected-project-${s.id}`,t)},[s==null?void 0:s.id,t]),d.useEffect(()=>{s!=null&&s.id&&i&&localStorage.setItem(`drawings-selected-type-${s.id}`,i)},[s==null?void 0:s.id,i]),d.useEffect(()=>{if(s!=null&&s.id&&t&&i){g.current=!0;const F=`drawing-${s.id}-${t}-${i}`;lr.getItem(F).then(ae=>{ae?(ae.imageUrls&&Array.isArray(ae.imageUrls)?p(ae.imageUrls):ae.imageUrl?p([ae.imageUrl]):p([]),f(0),N(ae.markers||[]),x(ae.rooms||[]),y(ae.naverTypeSqm||""),te(ae.naverTypePyeong||""),L(ae.naverArea||"")):(p([]),f(0),N([]),x([]),y(""),te(""),L("")),ce("full"),Q(null),setTimeout(()=>{g.current=!1},0)}).catch(ae=>{console.error("Failed to load drawing data:",ae),p([]),f(0),N([]),x([]),y(""),te(""),L(""),ce("full"),Q(null),g.current=!1})}},[s==null?void 0:s.id,t,i]),d.useEffect(()=>{if(!g.current)return s!=null&&s.id&&t&&i&&c.length>0&&(S.current&&clearTimeout(S.current),S.current=setTimeout(async()=>{var Me,rt,Ze;const F=`drawing-${s.id}-${t}-${i}`,ae={type:i,projectId:t,imageUrl:c[0],imageUrls:c,markers:b,rooms:j,lastModified:new Date,naverTypeSqm:I,naverTypePyeong:T,naverArea:ee};try{await lr.setItem(F,ae,s.id),console.log("   ")}catch(gt){console.error("Failed to save drawing data:",gt);const ht=((rt=(Me=gt.response)==null?void 0:Me.data)==null?void 0:rt.error)||gt.message||"   ",kt=((Ze=gt.response)==null?void 0:Ze.status)||"";alert(`  : ${kt?`[${kt}] `:""}${ht}`)}},500)),()=>{S.current&&clearTimeout(S.current)}},[s==null?void 0:s.id,t,i,c,b,j,I,T,ee]);const[ke,ye]=d.useState(!1),We=async(F,ae)=>{if(!F.type.startsWith("image/")){alert("   .");return}if(F.size>20*1024*1024){alert("  20MB .");return}ye(!0);try{const Me=await lr.uploadImage(F);console.log(`   : ${Me}`),ae!==void 0?p(rt=>{const Ze=[...rt];return Ze[ae]=Me,Ze}):(p(rt=>[...rt,Me]),f(c.length))}catch(Me){console.error("  :",Me),alert(Me.message||"  .")}finally{ye(!1)}},Je=F=>{confirm("  ?")&&p(ae=>{const Me=ae.filter((rt,Ze)=>Ze!==F);return u>=Me.length?f(Math.max(0,Me.length-1)):u>F&&f(u-1),Me})},mt=F=>{const ae=document.createElement("input");ae.type="file",ae.accept="image/*",ae.onchange=Me=>{var Ze;const rt=(Ze=Me.target.files)==null?void 0:Ze[0];rt&&We(rt,F)},ae.click()},nt=F=>{const ae=F.target.files;ae&&Array.from(ae).forEach(Me=>We(Me)),F.target.value=""},st=F=>{var Me;if(!t)return;const ae=(Me=F.clipboardData)==null?void 0:Me.items;if(ae){for(let rt=0;rt<ae.length;rt++)if(ae[rt].type.startsWith("image/")){const Ze=ae[rt].getAsFile();if(Ze){We(Ze);break}}}},at=F=>{F.preventDefault(),U(!0)},Nt=F=>{F.preventDefault(),U(!1)},A=F=>{var Me;F.preventDefault(),U(!1);const ae=(Me=F.dataTransfer.files)==null?void 0:Me[0];ae&&We(ae)};d.useEffect(()=>(document.addEventListener("paste",st),()=>{document.removeEventListener("paste",st)}),[t]);const Ne=F=>{F.preventDefault();const rt=1+(F.deltaY>0?-1:1)*.15,Ze=Math.min(Math.max(.5,G*rt),5),gt=F.currentTarget.getBoundingClientRect(),ht=F.clientX-gt.left-gt.width/2,kt=F.clientY-gt.top-gt.height/2,vt=Ze/G,Dt=ht-(ht-le.x)*vt,Vt=kt-(kt-le.y)*vt;C(Ze),D({x:Dt,y:Vt})},be=F=>{F.button===0&&(ie(!0),Te({x:F.clientX-le.x,y:F.clientY-le.y}))},ve=F=>{H&&D({x:F.clientX-Ce.x,y:F.clientY-Ce.y})},Be=()=>{ie(!1)},Pe=()=>{C(1),D({x:0,y:0})},l=F=>{if(F.length<2)return 0;const ae=F[0].clientX-F[1].clientX,Me=F[0].clientY-F[1].clientY;return Math.sqrt(ae*ae+Me*Me)},h=F=>F.length<2?{x:F[0].clientX,y:F[0].clientY}:{x:(F[0].clientX+F[1].clientX)/2,y:(F[0].clientY+F[1].clientY)/2},w=F=>{F.preventDefault(),F.stopPropagation();const ae=F.touches;if(ae.length===1){const Me=Date.now(),rt=Me-P.current;v.current={x:ae[0].clientX,y:ae[0].clientY},rt<300?(Pe(),P.current=0):(P.current=Me,ie(!0),Te({x:ae[0].clientX-le.x,y:ae[0].clientY-le.y}))}else ae.length===2&&(ie(!1),J.current=l(ae),Z.current=h(ae))},q=F=>{F.preventDefault(),F.stopPropagation();const ae=F.touches;if(ae.length===1&&H)D({x:ae[0].clientX-Ce.x,y:ae[0].clientY-Ce.y});else if(ae.length===2){const Me=l(ae),rt=h(ae);if(J.current>0){const Ze=Me/J.current,gt=Math.min(Math.max(.5,G*Ze),5),ht=gt/G,kt=rt.x-window.innerWidth/2,vt=rt.y-window.innerHeight/2,Dt=kt-(kt-le.x)*ht,Vt=vt-(vt-le.y)*ht;C(gt),D({x:Dt,y:Vt})}J.current=Me,Z.current=rt}},_=F=>{F.stopPropagation(),F.touches.length===0?(ie(!1),J.current=0):F.touches.length===1&&(J.current=0,ie(!0),Te({x:F.touches[0].clientX-le.x,y:F.touches[0].clientY-le.y}))},Y=()=>{_e(!1),C(1),D({x:0,y:0}),ie(!1)},W=F=>{if(!R||!$.current)return;const ae=$.current.getBoundingClientRect(),Me=F.clientX-ae.left,rt=F.clientY-ae.top;let Ze,gt;if(oe==="room"&&De){if(!j.find(Se=>Se.id===De)||!re.current)return;const kt=re.current.naturalWidth,vt=re.current.naturalHeight;if(!kt||!vt)return;const Dt=kt/vt,Vt=ae.width/ae.height;let xt,Rt,Yt,Ft;Vt>Dt?(Rt=ae.height,xt=ae.height*Dt,Yt=(ae.width-xt)/2,Ft=0):(xt=ae.width,Rt=ae.width/Dt,Yt=0,Ft=(ae.height-Rt)/2);const V=Me-Yt,pe=rt-Ft;if(V<0||V>xt||pe<0||pe>Rt)return;Ze=V/xt*100,gt=pe/Rt*100}else{if(!re.current)return;const ht=re.current.naturalWidth,kt=re.current.naturalHeight;if(!ht||!kt)return;const vt=ht/kt,Dt=ae.width/ae.height;let Vt,xt,Rt,Yt;Dt>vt?(xt=ae.height,Vt=ae.height*vt,Rt=(ae.width-Vt)/2,Yt=0):(Vt=ae.width,xt=ae.width/vt,Rt=0,Yt=(ae.height-xt)/2);const Ft=Me-Rt,V=rt-Yt;if(Ft<0||Ft>Vt||V<0||V>xt)return;Ze=Ft/Vt*100,gt=V/xt*100}if(z==="room")Ge(!0),Ae({x:Ze,y:gt}),he({x:Ze,y:gt});else if(i===""){if(ne)return;const ht=cr.find(xt=>xt.id===o);let kt=null,vt,Dt;if(oe==="room"&&De){const xt=j.find(Rt=>Rt.id===De);xt&&(kt=De,vt=(Ze-xt.x)/xt.width*100,Dt=(gt-xt.y)/xt.height*100)}const Vt={id:`marker-${Date.now()}`,x:Ze,y:gt,roomId:kt,roomX:vt,roomY:Dt,type:o,label:(ht==null?void 0:ht.name)||"",details:""};N([...b,Vt])}},ue=F=>{if(!R||!$.current||!re.current)return;const ae=$.current.getBoundingClientRect(),Me=F.clientX-ae.left,rt=F.clientY-ae.top,Ze=re.current.naturalWidth,gt=re.current.naturalHeight;if(!Ze||!gt)return;const ht=Ze/gt,kt=ae.width/ae.height;let vt,Dt,Vt,xt;kt>ht?(Dt=ae.height,vt=ae.height*ht,Vt=(ae.width-vt)/2,xt=0):(vt=ae.width,Dt=ae.width/ht,Vt=0,xt=(ae.height-Dt)/2);const Rt=Me-Vt,Yt=rt-xt;if(Rt<0||Rt>vt||Yt<0||Yt>Dt)return;const Ft=Rt/vt*100,V=Yt/Dt*100;if(Ve&&de)he({x:Ft,y:V});else if(ne&&Ee){if(b.find(Se=>Se.id===Ee)&&oe==="room"&&De){const Se=j.find(Qe=>Qe.id===De);if(Se){const Qe=(Ft-Se.x)/Se.width*100,dt=(V-Se.y)/Se.height*100;N(b.map(pt=>pt.id===Ee?{...pt,x:Ft,y:V,roomX:Qe,roomY:dt}:pt));return}}N(b.map(Se=>Se.id===Ee?{...Se,x:Ft,y:V}:Se))}},k=()=>{if(Ve&&de&&Ue){const F=Math.min(de.x,Ue.x),ae=Math.min(de.y,Ue.y),Me=Math.abs(Ue.x-de.x),rt=Math.abs(Ue.y-de.y);Me>2&&rt>2&&(ge({x:F,y:ae,width:Me,height:rt}),$e(!0)),Ge(!1),Ae(null),he(null)}xe(!1),He(null)},X=()=>{if(B&&qe.trim()){const F={id:`room-${Date.now()}`,name:qe.trim(),...B};x([...j,F]),$e(!1),Oe(""),ge(null)}},fe=(F,ae)=>{F.stopPropagation(),xe(!0),He(ae)},we=F=>{N(b.filter(ae=>ae.id!==F))},Ie=F=>{x(j.filter(ae=>ae.id!==F)),N(b.filter(ae=>ae.roomId!==F)),De===F&&(Q(null),ce("full"))},Ye=F=>{Q(F),ce("room")},Fe=()=>{ce("full"),Q(null)},et=()=>{if(oe==="room"&&De){const F=j.find(ae=>ae.id===De);return F?b.filter(ae=>ae.roomId===De).map(ae=>({...ae,x:F.x+(ae.roomX||0)*F.width/100,y:F.y+(ae.roomY||0)*F.height/100})):[]}return b},Ke=j.find(F=>F.id===De),tt=F=>F.replace("","");return e.jsxDEV("div",{className:"h-full flex flex-col",children:[e.jsxDEV("div",{className:"bg-white border-b px-3 md:px-6 py-3 flex-shrink-0",children:[e.jsxDEV("div",{className:"md:hidden",children:[e.jsxDEV("div",{className:"flex justify-end mb-3",children:e.jsxDEV("select",{value:t,onChange:F=>r(F.target.value),className:"input max-w-[200px] text-sm",children:[(s==null?void 0:s.name)!==""&&e.jsxDEV("option",{value:"",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:938,columnNumber:39},void 0),n.filter(F=>F.status!=="completed").map(F=>e.jsxDEV("option",{value:F.id,children:F.name},F.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:942,columnNumber:19},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:933,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:932,columnNumber:11},void 0),e.jsxDEV("div",{className:"grid grid-cols-5 gap-2 mb-3",children:dr.map(F=>e.jsxDEV("button",{onClick:()=>a(F),className:`px-2 py-1.5 rounded text-xs whitespace-nowrap transition-colors ${i===F?"bg-gray-900 text-white font-medium":"text-gray-700 bg-gray-100 hover:bg-gray-200"}`,children:tt(F)},F,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:952,columnNumber:15},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:950,columnNumber:11},void 0),oe==="room"&&Ke&&e.jsxDEV("div",{className:"flex items-center justify-between mt-3",children:[e.jsxDEV("button",{onClick:Fe,className:"btn btn-outline text-sm",children:[e.jsxDEV(Ma,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:974,columnNumber:17},void 0)," "]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:970,columnNumber:15},void 0),e.jsxDEV("span",{className:"text-base font-semibold text-gray-900",children:Ke.name},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:977,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:969,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:930,columnNumber:9},void 0),e.jsxDEV("div",{className:"hidden md:flex items-center justify-between gap-4",children:[e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV("div",{className:"w-80",children:e.jsxDEV("select",{value:t,onChange:F=>r(F.target.value),className:"input w-full",children:[(s==null?void 0:s.name)!==""&&e.jsxDEV("option",{value:"",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:991,columnNumber:41},void 0),n.filter(F=>F.status!=="completed").map(F=>e.jsxDEV("option",{value:F.id,children:F.name},F.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:995,columnNumber:21},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:986,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:985,columnNumber:13},void 0),i===""&&t&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("span",{className:"text-sm font-medium text-gray-600",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1006,columnNumber:19},void 0),e.jsxDEV("div",{className:"flex items-center gap-1",children:[e.jsxDEV("input",{type:"text",value:I,onChange:F=>y(F.target.value),placeholder:": 136E",className:"input w-28 h-[42px]"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1008,columnNumber:21},void 0),e.jsxDEV("span",{className:"text-sm font-medium text-gray-700",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1015,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1007,columnNumber:19},void 0),e.jsxDEV("span",{className:"text-gray-400",children:"/"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1017,columnNumber:19},void 0),e.jsxDEV("div",{className:"flex items-center gap-1",children:[e.jsxDEV("input",{type:"text",value:T,onChange:F=>te(F.target.value),placeholder:": 41E",className:"input w-24 h-[42px]"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1019,columnNumber:21},void 0),e.jsxDEV("span",{className:"text-sm font-medium text-gray-700",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1026,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1018,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1005,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("span",{className:"text-sm font-medium text-gray-600",children:"/"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1030,columnNumber:19},void 0),e.jsxDEV("input",{type:"text",value:ee,onChange:F=>L(F.target.value),placeholder:": 136.21/101.97( 75%)",className:"input w-80 h-[42px]"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1031,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1029,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1004,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:984,columnNumber:11},void 0),oe==="room"&&Ke&&e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV("button",{onClick:Fe,className:"btn btn-outline text-sm",children:[e.jsxDEV(Ma,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1049,columnNumber:17},void 0)," "]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1045,columnNumber:15},void 0),e.jsxDEV("span",{className:"text-lg font-semibold text-gray-900",children:Ke.name},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1052,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1044,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:983,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:928,columnNumber:7},void 0),e.jsxDEV("div",{className:"drawings-main flex-1 flex flex-col md:flex-row overflow-hidden",children:[e.jsxDEV("div",{className:"drawings-sidebar hidden md:block w-48 bg-white border-r flex-shrink-0 overflow-y-auto",children:e.jsxDEV("div",{className:"drawings-sidebar-inner p-4",children:[e.jsxDEV("h3",{className:"drawings-sidebar-title text-xs font-semibold text-gray-500 uppercase tracking-wider mb-3",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1062,columnNumber:13},void 0),e.jsxDEV("div",{className:"drawings-type-list space-y-1 mb-6",children:dr.map(F=>e.jsxDEV("button",{onClick:()=>a(F),className:`drawings-type-btn w-full text-left px-3 py-2.5 rounded text-sm transition-colors ${i===F?"bg-gray-900 text-white font-medium":"text-gray-700 hover:bg-gray-100"}`,children:tt(F)},F,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1065,columnNumber:17},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1063,columnNumber:13},void 0),t&&i===""&&R&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"mb-6",children:e.jsxDEV("button",{onClick:()=>se(z==="room"?"marker":"room"),className:`w-full text-left px-3 py-2.5 rounded text-sm transition-colors flex items-center font-medium ${z==="room"?"bg-green-700 text-white":"bg-green-600 text-white hover:bg-green-700"}`,children:[e.jsxDEV(mc,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1090,columnNumber:21},void 0),z==="room"?"  ...":" "]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1082,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1081,columnNumber:17},void 0),j.length>0&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV("h3",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-3",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1097,columnNumber:21},void 0),e.jsxDEV("div",{className:"space-y-1",children:j.map(F=>e.jsxDEV("div",{className:`w-full text-left px-3 py-2.5 rounded text-sm transition-colors flex items-center justify-between group ${De===F.id?"bg-purple-600 text-white font-medium":"text-gray-700 hover:bg-gray-100"}`,children:[e.jsxDEV("button",{onClick:()=>Ye(F.id),className:"flex-1 text-left",children:F.name},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1108,columnNumber:27},void 0),e.jsxDEV("button",{onClick:ae=>{ae.stopPropagation(),Ie(F.id)},className:"opacity-0 group-hover:opacity-100 ml-2",children:e.jsxDEV(bt,{className:"w-3.5 h-3.5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1121,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1114,columnNumber:27},void 0)]},F.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1100,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1098,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1096,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1080,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1061,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1060,columnNumber:9},void 0),t?e.jsxDEV(e.Fragment,{children:e.jsxDEV("div",{className:"flex-1 bg-gray-50 flex flex-col overflow-hidden",children:e.jsxDEV("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i===""&&t&&e.jsxDEV("div",{className:"md:hidden bg-white border-b px-3 py-3",children:e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"text-xs font-medium text-gray-600 mb-1 block",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1144,columnNumber:23},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("div",{className:"flex items-center gap-1",children:[e.jsxDEV("input",{type:"text",value:I,onChange:F=>y(F.target.value),placeholder:"136E",className:"input w-24 h-[36px] text-sm"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1147,columnNumber:27},void 0),e.jsxDEV("span",{className:"text-xs font-medium text-gray-700",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1154,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1146,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-gray-400",children:"/"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1156,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex items-center gap-1",children:[e.jsxDEV("input",{type:"text",value:T,onChange:F=>te(F.target.value),placeholder:"41E",className:"input w-20 h-[36px] text-sm"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1158,columnNumber:27},void 0),e.jsxDEV("span",{className:"text-xs font-medium text-gray-700",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1165,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1157,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1145,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1143,columnNumber:21},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"text-xs font-medium text-gray-600 mb-1 block",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1170,columnNumber:23},void 0),e.jsxDEV("input",{type:"text",value:ee,onChange:F=>L(F.target.value),placeholder:"136.21/101.97 ( 75%)",className:"input w-full h-[36px] text-sm"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1171,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1169,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1142,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1141,columnNumber:17},void 0),e.jsxDEV("div",{className:"overflow-hidden p-3 md:p-6 flex-1 md:flex-none",children:R?e.jsxDEV("div",{className:`relative w-full h-full md:h-auto md:max-h-[calc(100vh-280px)] bg-white rounded-lg shadow-lg overflow-hidden md:aspect-[16/10] group/canvas ${ze?"ring-4 ring-blue-500 ring-inset":""}`,onDragOver:at,onDragLeave:Nt,onDrop:A,children:[ze&&e.jsxDEV("div",{className:"absolute inset-0 bg-blue-500 bg-opacity-20 z-30 flex items-center justify-center pointer-events-none",children:e.jsxDEV("div",{className:"bg-white px-6 py-3 rounded-lg shadow-lg text-blue-600 font-medium",children:"  "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1197,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1196,columnNumber:23},void 0),e.jsxDEV("div",{className:"absolute top-3 right-3 flex gap-2 z-20 opacity-0 group-hover/canvas:opacity-100 transition-opacity",children:[e.jsxDEV("button",{onClick:F=>{F.stopPropagation(),mt(u)},className:"w-9 h-9 bg-white rounded-full shadow-lg flex items-center justify-center text-gray-600 hover:text-gray-900 hover:bg-gray-50 transition-all border border-gray-200",title:" ",children:e.jsxDEV($s,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1212,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1204,columnNumber:23},void 0),e.jsxDEV("button",{onClick:F=>{F.stopPropagation(),Je(u)},className:"w-9 h-9 bg-white rounded-full shadow-lg flex items-center justify-center text-red-500 hover:text-red-600 hover:bg-red-50 transition-all border border-gray-200",title:" ",children:e.jsxDEV(bt,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1222,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1214,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1203,columnNumber:21},void 0),e.jsxDEV("div",{ref:$,className:`relative w-full h-full ${z==="room"?"cursor-crosshair":"cursor-default"}`,onMouseDown:W,onMouseMove:ue,onMouseUp:k,onMouseLeave:k,children:[e.jsxDEV("img",{ref:re,src:R,alt:"",className:"w-full h-full object-contain select-none",draggable:!1,onClick:()=>_e(!0),style:oe==="room"&&Ke?(()=>{const F=100/Ke.width,ae=100/Ke.height,Me=Math.max(F,ae),rt=Ke.x+Ke.width/2,Ze=Ke.y+Ke.height/2;return{objectFit:"none",transform:`scale(${Me}) translate(${(50-rt)/Me}%, ${(50-Ze)/Me}%)`,transformOrigin:"0 0",pointerEvents:"auto",cursor:"pointer"}})():{pointerEvents:"auto",cursor:"pointer"}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1235,columnNumber:23},void 0),oe==="full"&&j.map(F=>e.jsxDEV("div",{className:"absolute border-2 border-purple-500 bg-purple-500 bg-opacity-10 hover:bg-opacity-20 transition-all cursor-pointer group",style:{left:`${F.x}%`,top:`${F.y}%`,width:`${F.width}%`,height:`${F.height}%`},onClick:()=>Ye(F.id),children:[e.jsxDEV("div",{className:"absolute top-1 left-1 bg-purple-600 text-white px-2 py-0.5 rounded text-xs font-medium",children:F.name},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1282,columnNumber:25},void 0),e.jsxDEV("button",{onClick:ae=>{ae.stopPropagation(),Ie(F.id)},className:"absolute top-1 right-1 w-5 h-5 bg-red-500 text-white rounded opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:e.jsxDEV(bt,{className:"w-3 h-3"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1292,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1285,columnNumber:25},void 0)]},F.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1271,columnNumber:23},void 0)),Ve&&de&&Ue&&e.jsxDEV("div",{className:"absolute border-2 border-dashed border-green-500 bg-green-500 bg-opacity-10",style:{left:`${Math.min(de.x,Ue.x)}%`,top:`${Math.min(de.y,Ue.y)}%`,width:`${Math.abs(Ue.x-de.x)}%`,height:`${Math.abs(Ue.y-de.y)}%`}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1299,columnNumber:23},void 0),et().map(F=>{const ae=cr.find(Me=>Me.id===F.type);return e.jsxDEV("div",{onMouseDown:Me=>fe(Me,F.id),className:"absolute transform -translate-x-1/2 -translate-y-1/2 cursor-move group",style:{left:`${F.x}%`,top:`${F.y}%`},children:[(ae==null?void 0:ae.category)==="light"?e.jsxDEV("div",{className:"rounded-full shadow-md transition-transform group-hover:scale-110",style:{backgroundColor:ae.color,width:"16px",height:"16px"}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1324,columnNumber:29},void 0):e.jsxDEV("div",{className:"flex items-center justify-center bg-white rounded shadow-md transition-transform group-hover:scale-110",style:{borderColor:ae==null?void 0:ae.color,color:ae==null?void 0:ae.color,border:"1.5px solid",padding:"2px 4px",fontSize:"10px",fontWeight:"600",minWidth:"20px",minHeight:"20px"},children:ae==null?void 0:ae.symbol},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1333,columnNumber:29},void 0),e.jsxDEV("button",{onClick:Me=>{Me.stopPropagation(),we(F.id)},className:"absolute -top-1 -right-1 w-4 h-4 bg-red-500 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:e.jsxDEV(bt,{className:"w-2.5 h-2.5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1356,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1349,columnNumber:27},void 0)]},F.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1314,columnNumber:25},void 0)})]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1225,columnNumber:21},void 0),c.length===1&&e.jsxDEV("button",{onClick:()=>{var F;return(F=O.current)==null?void 0:F.click()},className:"absolute bottom-3 right-3 w-10 h-10 bg-white rounded-full shadow-lg flex items-center justify-center text-gray-500 hover:text-gray-700 hover:shadow-xl transition-all z-20 border border-gray-200",title:" ",children:e.jsxDEV(Gt,{className:"w-5 h-5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1371,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1366,columnNumber:23},void 0),c.length>1&&e.jsxDEV("div",{className:"absolute bottom-0 left-0 right-0 bg-black bg-opacity-60 px-3 py-2 z-20",children:e.jsxDEV("div",{className:"flex items-center gap-2 overflow-x-auto",children:[c.map((F,ae)=>e.jsxDEV("div",{className:`relative flex-shrink-0 cursor-pointer group rounded overflow-hidden transition-all ${u===ae?"ring-2 ring-white":"opacity-70 hover:opacity-100"}`,onClick:()=>f(ae),children:[e.jsxDEV("img",{src:F,alt:` ${ae+1}`,className:"w-12 h-12 md:w-14 md:h-14 object-cover"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1389,columnNumber:31},void 0),e.jsxDEV("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all flex items-center justify-center gap-1 opacity-0 group-hover:opacity-100",children:[e.jsxDEV("button",{onClick:Me=>{Me.stopPropagation(),mt(ae)},className:"w-6 h-6 bg-white rounded-full flex items-center justify-center shadow-md hover:bg-gray-100 transition-colors",title:"",children:e.jsxDEV($s,{className:"w-3 h-3 text-gray-700"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1404,columnNumber:35},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1396,columnNumber:33},void 0),e.jsxDEV("button",{onClick:Me=>{Me.stopPropagation(),Je(ae)},className:"w-6 h-6 bg-white rounded-full flex items-center justify-center shadow-md hover:bg-red-50 transition-colors",title:"",children:e.jsxDEV(bt,{className:"w-3 h-3 text-red-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1414,columnNumber:35},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1406,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1395,columnNumber:31},void 0),u===ae&&e.jsxDEV("div",{className:"absolute bottom-0 left-0 right-0 bg-white text-gray-900 text-[9px] text-center py-0.5 font-bold",children:[ae+1,"/",c.length]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1419,columnNumber:33},void 0)]},ae,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1380,columnNumber:29},void 0)),e.jsxDEV("button",{onClick:()=>{var F;return(F=O.current)==null?void 0:F.click()},className:"flex-shrink-0 w-12 h-12 md:w-14 md:h-14 border-2 border-dashed border-white border-opacity-50 rounded flex items-center justify-center text-white text-opacity-70 hover:border-opacity-100 hover:text-opacity-100 transition-all",title:" ",children:e.jsxDEV(Gt,{className:"w-5 h-5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1431,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1426,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1378,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1377,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1186,columnNumber:19},void 0):e.jsxDEV("div",{className:`flex flex-col items-center justify-center h-full bg-white rounded-lg shadow-lg text-gray-500 transition-all ${ze?"border-4 border-dashed border-blue-500 bg-blue-50":""}`,onDragOver:at,onDragLeave:Nt,onDrop:A,children:[ke?e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"w-20 h-20 mb-4 flex items-center justify-center",children:e.jsxDEV("div",{className:"w-12 h-12 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1449,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1448,columnNumber:25},void 0),e.jsxDEV("p",{className:"text-base mb-2 font-semibold text-blue-600",children:"  ..."},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1451,columnNumber:25},void 0),e.jsxDEV("p",{className:"text-sm text-gray-400",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1454,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1447,columnNumber:23},void 0):e.jsxDEV(e.Fragment,{children:[e.jsxDEV(Ia,{className:`w-20 h-20 mb-4 transition-colors ${ze?"text-blue-500":"text-gray-400"}`},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1460,columnNumber:25},void 0),e.jsxDEV("p",{className:"text-base mb-2 font-semibold",children:ze?"  ":"  "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1463,columnNumber:25},void 0),e.jsxDEV("p",{className:"text-sm mb-4 text-gray-400",children:" ,   ,  Ctrl+V "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1466,columnNumber:25},void 0),e.jsxDEV("button",{onClick:()=>{var F;return(F=O.current)==null?void 0:F.click()},className:"px-6 py-2.5 bg-gray-900 text-white rounded-lg text-sm font-medium hover:bg-gray-800 transition-colors",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1469,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1459,columnNumber:23},void 0),e.jsxDEV("input",{ref:O,type:"file",accept:"image/*",multiple:!0,onChange:nt,className:"hidden"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1477,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1438,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1184,columnNumber:15},void 0),i===""&&R&&z==="marker"&&e.jsxDEV("div",{className:"bg-white border-t px-6 py-3 flex-shrink-0",children:e.jsxDEV("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsxDEV("span",{className:"text-xs font-medium text-gray-700 mr-2",children:"C:  / S:  / : "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1493,columnNumber:21},void 0),e.jsxDEV("div",{className:"w-px h-4 bg-gray-300 mx-1"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1494,columnNumber:21},void 0),cr.map(F=>e.jsxDEV("button",{onClick:()=>m(F.id),className:`px-3 py-1.5 rounded text-xs font-medium transition-all ${o===F.id?"bg-gray-900 text-white shadow-md":"bg-white text-gray-700 border border-gray-300 hover:border-gray-900"}`,style:{borderColor:o===F.id?void 0:F.color,borderWidth:o===F.id?void 0:"1.5px"},children:e.jsxDEV("span",{className:"text-sm font-semibold",style:{color:o===F.id?"white":F.color},children:F.symbol},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1509,columnNumber:25},void 0)},F.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1496,columnNumber:23},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1492,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1491,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1138,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1137,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1134,columnNumber:11},void 0):e.jsxDEV("div",{className:"drawings-empty flex-1 flex items-center justify-center bg-gray-50",children:e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV(Ia,{className:"w-20 h-20 mx-auto mb-4 text-gray-400"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1524,columnNumber:15},void 0),e.jsxDEV("p",{className:"text-lg text-gray-600 mb-2",children:"  "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1525,columnNumber:15},void 0),e.jsxDEV("p",{className:"text-sm text-gray-500",children:"  /    "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1526,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1523,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1522,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1058,columnNumber:7},void 0),Re&&e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxDEV("div",{className:"bg-white rounded-lg p-6 w-96",children:[e.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"  "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1536,columnNumber:13},void 0),e.jsxDEV("input",{type:"text",value:qe,onChange:F=>Oe(F.target.value),onKeyDown:F=>{F.key==="Enter"&&X()},placeholder:": , 1, ",className:"input w-full mb-4",autoFocus:!0},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1537,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex justify-end gap-2",children:[e.jsxDEV("button",{onClick:()=>{$e(!1),Oe(""),ge(null)},className:"btn btn-outline",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1551,columnNumber:15},void 0),e.jsxDEV("button",{onClick:X,className:"btn btn-primary",disabled:!qe.trim(),children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1561,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1550,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1535,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1534,columnNumber:9},void 0),me&&R&&e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50 touch-none",onClick:Y,onWheel:Ne,onMouseMove:ve,onMouseUp:Be,onMouseLeave:Be,onTouchStart:w,onTouchMove:q,onTouchEnd:_,children:e.jsxDEV("div",{className:"relative w-full h-full p-4 md:p-8 flex items-center justify-center overflow-hidden",children:[e.jsxDEV("button",{onClick:Y,className:"absolute top-4 right-4 w-10 h-10 bg-white bg-opacity-20 hover:bg-opacity-30 rounded-full flex items-center justify-center text-white transition-all z-10",children:e.jsxDEV(ot,{className:"w-6 h-6"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1591,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1587,columnNumber:13},void 0),e.jsxDEV("div",{className:"absolute top-4 left-4 bg-black bg-opacity-50 text-white text-xs px-3 py-2 rounded z-10",children:[e.jsxDEV("span",{className:"hidden md:inline",children:" : / | :  | : "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1596,columnNumber:15},void 0),e.jsxDEV("span",{className:"md:hidden",children:" : / | :  | : "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1597,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1595,columnNumber:13},void 0),G!==1&&e.jsxDEV("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 bg-black bg-opacity-50 text-white text-sm px-3 py-1 rounded z-10",children:[Math.round(G*100),"%"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1602,columnNumber:15},void 0),e.jsxDEV("img",{src:R,alt:" ",className:"object-contain select-none touch-none",style:{transform:`translate(${le.x}px, ${le.y}px) scale(${G})`,cursor:H?"grabbing":"grab",transition:H?"none":"transform 0.1s ease-out",maxWidth:"100%",maxHeight:"100%"},onClick:F=>F.stopPropagation(),onMouseDown:be,onDoubleClick:Pe,draggable:!1},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1607,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1586,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1575,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:926,columnNumber:5},void 0)},Zt={async getProjectLogs(s){try{return(await Le.get(`/site-logs/project/${encodeURIComponent(s)}`)).data}catch(n){return console.error("Failed to get project logs:",n),[]}},async getAllLogs(){try{return(await Le.get("/site-logs")).data}catch(s){return console.error("Failed to get all logs:",s),[]}},async createLog(s){try{return(await Le.post("/site-logs",s)).data}catch(n){throw console.error("Failed to create log:",n),n}},async updateLog(s,n){try{return(await Le.put(`/site-logs/${s}`,n)).data}catch(t){throw console.error("Failed to update log:",t),t}},async deleteLog(s){try{return(await Le.delete(`/site-logs/${s}`)).data}catch(n){throw console.error("Failed to delete log:",n),n}},async getLogsByDateRange(s,n,t){try{return(await Le.get("/site-logs/range",{params:{project:s,startDate:n.toISOString(),endDate:t.toISOString()}})).data}catch(r){return console.error("Failed to get logs by date range:",r),[]}}},eb=()=>{const{user:s}=Mt(),n=Qt(),[t,r]=d.useState(()=>localStorage.getItem("siteLog_includeCompleted")==="true"),i=t?n:n.filter(E=>E.status!=="completed"),[a,o]=d.useState([]),[m,c]=d.useState(""),p=d.useRef(null),[u,f]=d.useState(new Date),[b,N]=d.useState(!1),[j,x]=d.useState({show:!1,url:null}),[R,I]=d.useState(!1),[y,T]=d.useState(0),[te,ee]=d.useState(new Date),[L,z]=d.useState(1),[se,oe]=d.useState({x:0,y:0}),[ce,De]=d.useState(!1),[Q,ne]=d.useState({x:0,y:0}),[xe,Ee]=d.useState(null),[He,Ve]=d.useState(null),[Ge,de]=d.useState(!1),[Ae,Ue]=d.useState(0),[he,Re]=d.useState(null),[$e,qe]=d.useState({notes:"",images:[]}),[Oe,B]=d.useState(()=>{const E=localStorage.getItem("siteLogNotes");return E?JSON.parse(E):{}});d.useRef(null);const[ge,me]=d.useState(null);d.useRef(null);const[_e,G]=d.useState(!1),[C,le]=d.useState("saved"),D=d.useRef([]);d.useEffect(()=>{D.current=a},[a]),d.useEffect(()=>{localStorage.setItem("siteLogNotes",JSON.stringify(Oe))},[Oe]),d.useEffect(()=>{localStorage.setItem("siteLog_includeCompleted",String(t))},[t]),d.useEffect(()=>{if(i.length>0&&!m){const E=`siteLog_lastProject_${(s==null?void 0:s.id)||(s==null?void 0:s.name)}`,S=localStorage.getItem(E);S&&i.find(K=>K.name===S)?c(S):c(i[0].name)}},[i,s]),d.useEffect(()=>{if(m&&s){const E=`siteLog_lastProject_${s.id||s.name}`;localStorage.setItem(E,m)}},[m,s]),d.useEffect(()=>()=>{p.current&&clearTimeout(p.current)},[]),d.useEffect(()=>{H()},[m]),d.useEffect(()=>{const E=je(u,"yyyy-MM-dd"),S=`${m}_${E}`,K=Oe[S];qe(K!==void 0?ke=>({...ke,notes:K}):ke=>({...ke,notes:""})),le("saved")},[u,m]),d.useEffect(()=>{if(a.length===0)return;const E=je(u,"yyyy-MM-dd"),S=`${m}_${E}`;if(Oe[S]!==void 0)return;const K=a.find(ke=>{try{const ye=ke.date?new Date(ke.date):null;return ye&&!isNaN(ye.getTime())&&je(ye,"yyyy-MM-dd")===E&&ke.project===m}catch{return!1}});K&&K.notes&&(qe(ke=>({...ke,notes:K.notes||""})),B(ke=>({...ke,[S]:K.notes||""})))},[a,u,m]);const H=async()=>{if(m)try{const E=await Zt.getProjectLogs(m);o(E.map(S=>({...S,id:S._id||S.id,date:S.date?new Date(S.date):new Date,createdAt:S.created_at?new Date(S.created_at):new Date})))}catch(E){console.error("Failed to load site logs:",E),o([])}},ie=(E,S=1920,K=1080,ke=.8)=>new Promise((ye,We)=>{const Je=new FileReader;Je.onload=mt=>{var st;const nt=new Image;nt.onload=()=>{const at=document.createElement("canvas");let Nt=nt.width,A=nt.height;if(Nt>S||A>K){const be=Math.min(S/Nt,K/A);Nt*=be,A*=be}at.width=Nt,at.height=A;const Ne=at.getContext("2d");if(!Ne){We(new Error("Canvas context not available"));return}Ne.drawImage(nt,0,0,Nt,A),at.toBlob(be=>{if(!be){We(new Error("Failed to compress image"));return}const ve=new FileReader;ve.onload=()=>ye(ve.result),ve.readAsDataURL(be)},E.type,ke)},nt.src=(st=mt.target)==null?void 0:st.result},Je.readAsDataURL(E)}),Ce=d.useCallback(async E=>{const K=Array.from(E).filter(ye=>ye.type.startsWith("image/"));if(K.length===0){M.error("   ");return}if(K.length>100){M.error("  100  ");return}if(!m){M.error(" ");return}I(!0),M.loading(`${K.length}  ...`);const ke=K.map(ye=>ie(ye));try{const ye=await Promise.all(ke),We=je(u,"yyyy-MM-dd"),Je=a.find(st=>{try{const at=st.date?new Date(st.date):null;return at&&!isNaN(at.getTime())&&je(at,"yyyy-MM-dd")===We&&st.project===m}catch{return!1}}),mt=20,nt=[];for(let st=0;st<ye.length;st+=mt)nt.push(ye.slice(st,st+mt));if(M.dismiss(),Je){let st=[...Je.images];for(let at=0;at<nt.length;at++)M.loading(`  ... (${at+1}/${nt.length})`),st=[...st,...nt[at]],await Zt.updateLog(Je.id,{project:Je.project,date:Je.date,images:st,notes:Je.notes||""}),M.dismiss();M.success(`${ye.length}  `)}else{M.loading(`  ... (1/${nt.length})`);const st={project:m,date:u,images:nt[0],notes:"",createdBy:(s==null?void 0:s.name)||""},at=await Zt.createLog(st);if(M.dismiss(),nt.length>1){let Nt=[...nt[0]];for(let A=1;A<nt.length;A++)M.loading(`  ... (${A+1}/${nt.length})`),Nt=[...Nt,...nt[A]],await Zt.updateLog(at._id||at.id,{project:m,date:u,images:Nt,notes:""}),M.dismiss()}M.success(`${ye.length}  `)}await H()}catch(ye){console.error("Failed to save images:",ye),M.error("  ")}finally{I(!1)}},[m,u,s,a,H]),Te=d.useCallback(E=>{E.preventDefault(),Ce(E.dataTransfer.files)},[Ce]);d.useEffect(()=>{const E=S=>{var We;const K=(We=S.clipboardData)==null?void 0:We.items;if(!K)return;const ke=Array.from(K).filter(Je=>Je.type.startsWith("image/"));if(ke.length===0)return;S.preventDefault();const ye=ke.map(Je=>Je.getAsFile()).filter(Boolean);Ce(ye)};return document.addEventListener("paste",E),()=>document.removeEventListener("paste",E)},[Ce]),d.useCallback(async E=>{if(!(!m||!E))try{const S=je(u,"yyyy-MM-dd"),K=a.find(ke=>{try{const ye=ke.date?new Date(ke.date):null;return ye&&!isNaN(ye.getTime())&&je(ye,"yyyy-MM-dd")===S&&ke.project===m}catch{return!1}});if(K)await Zt.updateLog(K.id,{project:K.project,date:K.date,images:K.images,notes:E});else{const ke={project:m,date:u,images:$e.images,notes:E,createdBy:(s==null?void 0:s.name)||""};await Zt.createLog(ke)}await H()}catch(S){console.error("Failed to auto-save site log:",S)}},[m,u,a,$e.images,s,H]);const ze=async E=>{if(window.confirm("  ?"))try{await Zt.deleteLog(E),M.success(" "),await H()}catch(S){console.error("Failed to delete site log:",S),M.error("  ")}},U=async(E,S)=>{if(!window.confirm("  ?"))return;const K=a.find(ke=>ke.id===E);if(K)try{const ke=K.images.filter((ye,We)=>We!==S);ke.length===0&&!K.notes?await ze(E):(await Zt.updateLog(E,{project:K.project,date:K.date,images:ke,notes:K.notes}),o(ye=>ye.map(We=>We.id===E?{...We,images:ke}:We)),M.success(" "))}catch(ke){console.error("Failed to delete image:",ke),M.error("  ")}},J=()=>{const E=te.getFullYear(),S=te.getMonth(),K=new Date(E,S,1),ke=new Date(K);ke.setDate(ke.getDate()-K.getDay());const ye=[],We=new Date(ke);for(let Je=0;Je<42;Je++){const mt=a.filter(nt=>{try{const st=nt.date?new Date(nt.date):null;return st&&!isNaN(st.getTime())&&je(st,"yyyy-MM-dd")===je(We,"yyyy-MM-dd")}catch{return!1}});ye.push({date:new Date(We),logs:mt,hasImages:mt.some(nt=>nt.images&&nt.images.length>0)}),We.setDate(We.getDate()+1)}return ye},Z=E=>{const S=new Date(te);S.setMonth(S.getMonth()+E),ee(S)},P=a.reduce((E,S)=>{try{const K=S.date?new Date(S.date):null;if(K&&!isNaN(K.getTime())){const ke=je(K,"yyyy-MM-dd");E[ke]||(E[ke]=[]),E[ke].push(S)}}catch{}return E},{});Object.keys(P).sort((E,S)=>S.localeCompare(E));const v=(E,S)=>{const K=E.clientX-S.clientX,ke=E.clientY-S.clientY;return Math.sqrt(K*K+ke*ke)},$=(E,S)=>({x:(E.clientX+S.clientX)/2,y:(E.clientY+S.clientY)/2}),re=(E,S=0)=>{x({show:!0,url:E[S],images:E}),T(S),z(1),oe({x:0,y:0}),Ee(null),Ve(null),de(!1)},O=E=>{if(!j.images)return;const S=(y+E+j.images.length)%j.images.length;T(S),x(K=>({...K,url:j.images[S]}))},g=async(E,S)=>{const K=a.find(ke=>ke.id===E);if(K)try{const ke={...K,images:[...K.images,...S]};await Zt.updateLog(E,{project:K.project,date:K.date,images:ke.images,notes:K.notes}),o(ye=>ye.map(We=>We.id===E?ke:We)),M.success(`${S.length}  `),me(null)}catch(ke){console.error("Failed to add images to log:",ke),M.error("  ")}};return d.useCallback((E,S)=>{const ke=Array.from(S).filter(We=>We.type.startsWith("image/"));if(ke.length===0){M.error("   ");return}const ye=ke.map(We=>new Promise(Je=>{const mt=new FileReader;mt.onload=nt=>{var st;Je((st=nt.target)==null?void 0:st.result)},mt.readAsDataURL(We)}));Promise.all(ye).then(We=>{g(E,We)})},[a]),d.useEffect(()=>{const E=S=>{if(j.show)switch(S.key){case"ArrowLeft":S.preventDefault(),j.images&&j.images.length>1&&O(-1);break;case"ArrowRight":S.preventDefault(),j.images&&j.images.length>1&&O(1);break;case"Escape":S.preventDefault(),x({show:!1,url:null});break}};return window.addEventListener("keydown",E),()=>window.removeEventListener("keydown",E)},[j.show,j.images,y]),e.jsxDEV("div",{className:"site-log-container desktop:grid desktop:grid-cols-12 desktop:gap-4 desktop:h-[calc(100vh-140px)] space-y-3 desktop:space-y-0",children:[e.jsxDEV("div",{className:"desktop:hidden flex justify-end items-center gap-2 mb-2",children:[e.jsxDEV("label",{className:"flex items-center gap-1 text-[10px] text-gray-500",children:[e.jsxDEV("input",{type:"checkbox",checked:t,onChange:E=>r(E.target.checked),className:"w-3 h-3 rounded border-gray-300"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:715,columnNumber:11},void 0),""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:714,columnNumber:9},void 0),e.jsxDEV("select",{value:m,onChange:E=>c(E.target.value),className:"px-3 py-1.5 bg-white text-gray-700 rounded-lg text-xs font-medium focus:outline-none focus:ring-2 focus:ring-gray-300 border border-gray-300",style:{appearance:"none",backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%236b7280'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 0.5rem center",backgroundSize:"1.25rem",paddingRight:"2.5rem"},children:i.map(E=>e.jsxDEV("option",{value:E.name,children:E.name},E.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:737,columnNumber:13},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:723,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:713,columnNumber:7},void 0),e.jsxDEV("div",{className:"site-log-left desktop:col-span-4 desktop:flex desktop:flex-col desktop:gap-4 desktop:h-full space-y-3 desktop:space-y-0",children:[e.jsxDEV("div",{className:"site-log-calendar desktop:flex-shrink-0",children:e.jsxDEV("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-3 md:p-4 max-h-[32vh] desktop:max-h-full overflow-y-auto",children:[e.jsxDEV("div",{className:"mb-4 hidden desktop:block",children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:e.jsxDEV("select",{value:m,onChange:E=>c(E.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",children:i.map(E=>e.jsxDEV("option",{value:E.name,children:E.name},E.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:759,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:753,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:752,columnNumber:15},void 0),e.jsxDEV("label",{className:"flex items-center gap-1.5 mt-2 text-xs text-gray-500 cursor-pointer",children:[e.jsxDEV("input",{type:"checkbox",checked:t,onChange:E=>r(E.target.checked),className:"w-3.5 h-3.5 rounded border-gray-300"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:766,columnNumber:17},void 0),"  "]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:765,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:751,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex items-center justify-between mb-3",children:[e.jsxDEV("button",{onClick:()=>Z(-1),className:"p-1.5 hover:bg-gray-100 rounded transition-colors",children:e.jsxDEV(Ta,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:782,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:778,columnNumber:15},void 0),e.jsxDEV("h3",{className:"text-sm font-semibold",children:je(te,"yyyy M")},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:784,columnNumber:15},void 0),e.jsxDEV("button",{onClick:()=>Z(1),className:"p-1.5 hover:bg-gray-100 rounded transition-colors",children:e.jsxDEV(Fa,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:791,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:787,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:777,columnNumber:13},void 0),e.jsxDEV("div",{className:"grid grid-cols-7 gap-0.5",children:[["","","","","","",""].map(E=>e.jsxDEV("div",{className:"text-center text-xs font-medium text-gray-600 py-1",children:E},E,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:798,columnNumber:17},void 0)),J().map((E,S)=>{const K=E.date.getMonth()===te.getMonth(),ke=je(E.date,"yyyy-MM-dd")===je(new Date,"yyyy-MM-dd"),ye=je(E.date,"yyyy-MM-dd")===je(u,"yyyy-MM-dd");return e.jsxDEV("div",{onClick:()=>f(E.date),className:`text-center p-1.5 desktop:p-2 text-xs cursor-pointer rounded transition-colors min-h-[36px] desktop:min-h-[48px] flex flex-col items-center justify-center ${K?"text-gray-700":"text-gray-300"} ${ke?"bg-blue-100":""} ${ye?"bg-gray-900 text-white":"hover:bg-gray-100"} ${E.hasImages?"font-bold":""}`,children:[e.jsxDEV("span",{children:je(E.date,"d")},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:817,columnNumber:21},void 0),E.hasImages&&e.jsxDEV("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full mt-0.5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:819,columnNumber:23},void 0)]},S,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:808,columnNumber:19},void 0)})]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:796,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:749,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:747,columnNumber:9},void 0),e.jsxDEV("div",{className:"site-log-notes desktop:flex-1 desktop:min-h-0",children:e.jsxDEV("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-3 md:p-4 max-h-[30vh] desktop:h-full desktop:flex desktop:flex-col overflow-hidden",children:[e.jsxDEV("h2",{className:"text-lg font-semibold mb-4 flex-shrink-0",children:[je(u,"M d"),"  "]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:831,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex-1 min-h-0 flex flex-col",children:e.jsxDEV("textarea",{value:$e.notes,onChange:E=>{const S=E.target.value,K=je(u,"yyyy-MM-dd"),ke=`${m}_${K}`;qe(ye=>({...ye,notes:S})),B(ye=>({...ye,[ke]:S})),p.current&&clearTimeout(p.current),p.current=setTimeout(async()=>{if(m)try{const ye=D.current.find(We=>{try{const Je=We.date?new Date(We.date):null;return Je&&!isNaN(Je.getTime())&&je(Je,"yyyy-MM-dd")===K&&We.project===m}catch{return!1}});if(ye)await Zt.updateLog(ye.id,{project:ye.project,date:ye.date,images:ye.images,notes:S});else if(S.trim()){const We=await Zt.createLog({project:m,date:u,images:$e.images,notes:S,createdBy:(s==null?void 0:s.name)||""});We&&o(Je=>[...Je,{id:We._id||We.id,project:m,date:u,images:$e.images,notes:S,createdBy:(s==null?void 0:s.name)||"",createdAt:new Date}])}}catch(ye){console.error("  :",ye)}},500)},rows:4,className:"site-log-textarea w-full h-full flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 resize-none desktop:min-h-[200px]",placeholder:"    "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:837,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:835,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:830,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:829,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:745,columnNumber:7},void 0),e.jsxDEV("div",{className:"site-log-photos desktop:col-span-8 desktop:h-full",children:e.jsxDEV("div",{className:`bg-white rounded-lg shadow-sm border border-gray-200 p-3 md:p-4 transition-all desktop:h-full desktop:flex desktop:flex-col ${b?"ring-2 ring-blue-400 bg-blue-50":""}`,onDragOver:E=>{E.preventDefault(),N(!0)},onDragLeave:E=>{E.currentTarget.contains(E.relatedTarget)||N(!1)},onDrop:E=>{E.preventDefault(),N(!1),Te(E)},children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-4 desktop:flex-shrink-0",children:[e.jsxDEV("h2",{className:"text-lg font-semibold flex items-center gap-4",children:e.jsxDEV("span",{className:"text-sm font-normal text-gray-600",children:[": ",(s==null?void 0:s.name)||"  "]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:937,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:936,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("button",{onClick:()=>{const E=document.createElement("input");E.type="file",E.multiple=!0,E.accept="image/*",E.onchange=S=>{const K=S.target;K.files&&Ce(K.files)},E.click()},className:"p-1.5 hover:bg-gray-200 rounded transition-colors",title:" ",children:e.jsxDEV(Gt,{className:"h-5 w-5 text-gray-600"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:957,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:940,columnNumber:15},void 0),e.jsxDEV("button",{onClick:()=>{const E=je(u,"yyyy-MM-dd"),S=a.filter(K=>{try{const ke=K.date?new Date(K.date):null;return ke&&!isNaN(ke.getTime())&&je(ke,"yyyy-MM-dd")===E}catch{return!1}});S.length>0&&window.confirm(`${je(u,"M d")}   ?`)&&S.forEach(K=>ze(K.id))},className:"p-1.5 hover:bg-gray-200 rounded transition-colors",title:" ",children:e.jsxDEV(bt,{className:"h-5 w-5 text-red-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:978,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:959,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:939,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:935,columnNumber:11},void 0),e.jsxDEV("div",{className:"space-y-6 max-h-[990px] desktop:max-h-full desktop:flex-1 desktop:min-h-0 overflow-y-auto",children:(()=>{const E=je(u,"yyyy-MM-dd"),S=a.filter(K=>{try{const ke=K.date?new Date(K.date):null;return ke&&!isNaN(ke.getTime())&&je(ke,"yyyy-MM-dd")===E}catch{return!1}});return S.length>0?e.jsxDEV("div",{className:"space-y-4",children:S.map(K=>e.jsxDEV("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:[K.notes&&e.jsxDEV("div",{className:"mb-3",children:e.jsxDEV("p",{className:"text-sm text-gray-700",children:K.notes},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1006,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1005,columnNumber:27},void 0),e.jsxDEV("div",{className:"min-h-[600px] desktop:min-h-0",children:K.images&&K.images.length>0?e.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-3 desktop:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6 gap-3",children:K.images.map((ke,ye)=>e.jsxDEV("div",{className:"relative group",children:[e.jsxDEV("img",{src:ke,alt:` ${ye+1}`,className:"w-full aspect-[4/3] object-cover rounded-lg cursor-pointer hover:opacity-95 transition-opacity",onClick:()=>re(K.images,ye)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1016,columnNumber:35},void 0),e.jsxDEV("button",{onClick:()=>re(K.images,ye),className:"absolute top-2 right-2 p-1.5 bg-black bg-opacity-50 text-white rounded-lg opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsxDEV(lc,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1026,columnNumber:37},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1022,columnNumber:35},void 0),e.jsxDEV("button",{onClick:We=>{We.stopPropagation(),U(K.id,ye)},className:"absolute top-2 left-2 p-1.5 bg-red-600 bg-opacity-80 text-white rounded-lg opacity-0 group-hover:opacity-100 transition-opacity hover:bg-opacity-100",children:e.jsxDEV(bt,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1035,columnNumber:37},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1028,columnNumber:35},void 0),e.jsxDEV("div",{className:"absolute bottom-2 left-2 bg-black bg-opacity-50 text-white text-xs px-2 py-1 rounded",children:[ye+1," / ",K.images.length]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1037,columnNumber:35},void 0)]},ye,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1015,columnNumber:33},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1013,columnNumber:29},void 0):e.jsxDEV("div",{className:"flex items-center justify-center h-[600px]",children:e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV(gs,{className:"h-8 w-8 text-gray-300 mx-auto mb-2"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1046,columnNumber:33},void 0),e.jsxDEV("p",{className:"text-sm text-gray-400",children:"  +  "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1047,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1045,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1044,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1011,columnNumber:25},void 0)]},K.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1e3,columnNumber:23},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:998,columnNumber:19},void 0):e.jsxDEV("div",{children:e.jsxDEV("div",{className:"rounded-lg p-4 pt-2 desktop:p-12 text-center",children:[e.jsxDEV(dc,{className:"mx-auto h-12 w-12 desktop:h-16 desktop:w-16 text-gray-400 mb-2 desktop:mb-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1063,columnNumber:23},void 0),e.jsxDEV("p",{className:"text-sm desktop:text-lg font-medium text-gray-700 mb-2",children:"  "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1064,columnNumber:23},void 0),e.jsxDEV("p",{className:"hidden desktop:block text-sm text-gray-600 mb-4",children:"    "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1067,columnNumber:23},void 0),e.jsxDEV("p",{className:"hidden desktop:block text-xs text-gray-500 mb-4",children:"Ctrl+V    "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1070,columnNumber:23},void 0),e.jsxDEV("input",{type:"file",multiple:!0,accept:"image/*",onChange:K=>K.target.files&&Ce(K.target.files),className:"hidden",id:"main-image-upload"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1073,columnNumber:23},void 0),e.jsxDEV("label",{htmlFor:"main-image-upload",className:"inline-flex items-center px-3 py-1.5 desktop:px-4 desktop:py-2 border border-gray-300 rounded-lg text-xs desktop:text-sm text-gray-700 bg-white hover:bg-gray-50 cursor-pointer",children:[e.jsxDEV(gs,{className:"h-3 w-3 desktop:h-4 desktop:w-4 mr-1.5 desktop:mr-2"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1085,columnNumber:25},void 0)," "]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1081,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1060,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1058,columnNumber:19},void 0)})()},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:983,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:915,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:914,columnNumber:7},void 0),j.show&&j.url&&e.jsxDEV("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-90 flex items-center justify-center overflow-hidden",onClick:()=>{x({show:!1,url:null}),z(1),oe({x:0,y:0})},onWheel:E=>{E.preventDefault();const S=E.deltaY>0?-.1:.1;z(K=>Math.max(.5,Math.min(5,K+S)))},children:e.jsxDEV("div",{className:"relative w-full h-full flex items-center justify-center p-4",children:[e.jsxDEV("button",{onClick:E=>{E.stopPropagation(),x({show:!1,url:null}),z(1),oe({x:0,y:0})},className:"absolute top-4 right-4 p-2 bg-white bg-opacity-20 backdrop-blur rounded-full hover:bg-opacity-30 z-10",children:e.jsxDEV(ot,{className:"h-6 w-6 text-white"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1123,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1114,columnNumber:13},void 0),L!==1&&e.jsxDEV("div",{className:"absolute top-4 left-4 bg-white bg-opacity-20 text-white px-3 py-2 rounded-lg text-sm backdrop-blur",children:[Math.round(L*100),"%"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1128,columnNumber:15},void 0),j.images&&j.images.length>1&&e.jsxDEV("button",{onClick:E=>{E.stopPropagation(),O(-1),z(1),oe({x:0,y:0})},className:"absolute left-4 p-3 bg-white bg-opacity-20 backdrop-blur rounded-full hover:bg-opacity-30",children:e.jsxDEV(Ta,{className:"h-6 w-6 text-white"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1144,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1135,columnNumber:15},void 0),e.jsxDEV("div",{className:"w-full h-full flex items-center justify-center",onMouseDown:E=>{L>1&&(De(!0),ne({x:E.clientX-se.x,y:E.clientY-se.y}))},onMouseMove:E=>{ce&&L>1&&oe({x:E.clientX-Q.x,y:E.clientY-Q.y})},onMouseUp:()=>De(!1),onMouseLeave:()=>De(!1),onTouchStart:E=>{if(E.touches.length===2){E.preventDefault(),de(!0);const S=v(E.touches[0],E.touches[1]),K=$(E.touches[0],E.touches[1]);Ee(S),Ve(K)}else if(E.touches.length===1&&L>1&&!Ge){const S=E.touches[0];ne({x:S.clientX-se.x,y:S.clientY-se.y})}},onTouchMove:E=>{if(E.touches.length===2){E.preventDefault(),de(!0);const S=v(E.touches[0],E.touches[1]),K=$(E.touches[0],E.touches[1]);if(xe&&He){const ke=S/xe,ye=Math.max(.5,Math.min(5,L*ke)),We=K.x-He.x,Je=K.y-He.y,mt=ye/L,nt=se.x*mt+We,st=se.y*mt+Je;z(ye),oe({x:nt,y:st})}Ee(S),Ve(K)}else if(E.touches.length===1&&L>1&&!Ge){E.preventDefault();const S=E.touches[0];oe({x:S.clientX-Q.x,y:S.clientY-Q.y})}},onTouchEnd:E=>{if(E.touches.length===0){const S=Date.now(),K=E.changedTouches[0],ke={x:K.clientX,y:K.clientY};if(S-Ae<300&&he&&Math.abs(ke.x-he.x)<30&&Math.abs(ke.y-he.y)<30&&!Ge){if(L===1){const Je=E.currentTarget.getBoundingClientRect(),mt=ke.x-Je.left-Je.width/2,nt=ke.y-Je.top-Je.height/2;z(2.5),oe({x:-mt*1.5,y:-nt*1.5})}else z(1),oe({x:0,y:0});Ue(0),Re(null)}else Ue(S),Re(ke);Ee(null),Ve(null),de(!1)}else if(E.touches.length===1&&Ge){Ee(null),Ve(null),de(!1);const S=E.touches[0];ne({x:S.clientX-se.x,y:S.clientY-se.y})}},onDoubleClick:E=>{E.stopPropagation();const S=E.currentTarget.getBoundingClientRect(),K=E.clientX-S.left-S.width/2,ke=E.clientY-S.top-S.height/2;L===1?(z(2.5),oe({x:-K*1.5,y:-ke*1.5})):(z(1),oe({x:0,y:0}))},children:e.jsxDEV("img",{src:j.url,alt:" ",style:{transform:`scale(${L}) translate(${se.x/L}px, ${se.y/L}px)`,transformOrigin:"center center",transition:ce||xe!==null?"none":"transform 0.25s cubic-bezier(0.2, 0, 0, 1)",maxWidth:"100%",maxHeight:"100%",objectFit:"contain",cursor:L>1?ce?"grabbing":"grab":"pointer",userSelect:"none",touchAction:"none"},draggable:!1,onClick:E=>E.stopPropagation()},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1287,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1149,columnNumber:13},void 0),j.images&&j.images.length>1&&e.jsxDEV("button",{onClick:E=>{E.stopPropagation(),O(1),z(1),oe({x:0,y:0})},className:"absolute right-4 p-3 bg-white bg-opacity-20 backdrop-blur rounded-full hover:bg-opacity-30",children:e.jsxDEV(Fa,{className:"h-6 w-6 text-white"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1317,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1308,columnNumber:15},void 0),j.images&&j.images.length>1&&e.jsxDEV("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 bg-black bg-opacity-50 text-white px-3 py-1 rounded-full",children:[y+1," / ",j.images.length]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1323,columnNumber:15},void 0),e.jsxDEV("div",{className:"absolute bottom-4 right-4 bg-white bg-opacity-10 text-white px-3 py-2 rounded-lg text-xs text-center backdrop-blur",children:"     /"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1329,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1112,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1099,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:711,columnNumber:5},void 0)},Uo=["","","","","","",""],tb=()=>{const{user:s}=Mt(),n=Qt(),{asRequests:t,loadASRequestsFromAPI:r,addASRequestToAPI:i,updateASRequestInAPI:a,deleteASRequestFromAPI:o}=os(),m=n.map(P=>P.name),c=(s==null?void 0:s.name)===""?t.filter(P=>m.includes(P.project)):t,[p,u]=d.useState(null),[f,b]=d.useState("active"),[N,j]=d.useState(null),x=d.useRef(null),[R,I]=d.useState(null),[y,T]=d.useState(!1),[te,ee]=d.useState(!1),[L,z]=d.useState(""),[se,oe]=d.useState(!1),{register:ce,handleSubmit:De,setValue:Q,reset:ne,formState:{errors:xe}}=$n(),[Ee,He]=d.useState([]),[Ve,Ge]=d.useState(""),[de,Ae]=d.useState(""),[Ue,he]=d.useState(9),[Re,$e]=d.useState(0),qe=n.filter(P=>P.status==="completed");d.useEffect(()=>{r().catch(P=>{console.error("Failed to load AS requests:",P),M.error("AS    ")})},[r]),d.useEffect(()=>{if(p){if(Q("project",p.project),Q("client",p.client),Q("siteAddress",p.siteAddress),Q("description",p.description),p.requestDate&&Q("requestDate",new Date(p.requestDate).toISOString().split("T")[0]),p.scheduledVisitDate&&Q("scheduledVisitDate",new Date(p.scheduledVisitDate).toISOString().split("T")[0]),p.scheduledVisitTime){const[P,v]=p.scheduledVisitTime.split(":"),$=parseInt(P,10),re=parseInt(v,10);$>=12?(Ae(""),he($===12?12:$-12)):(Ae(""),he($===0?12:$)),$e(re)}He(p.assignedTo||[])}else ne(),He([]),Ae(""),he(9),$e(0),Ge("")},[p,Q,ne]),d.useEffect(()=>{var P,v;N&&x.current&&((v=(P=x.current).showPicker)==null||v.call(P))},[N]),d.useEffect(()=>{const P=()=>{oe(v=>{const $=!v;return window.dispatchEvent(new CustomEvent("mobileFormStateChange",{detail:{isOpen:$}})),$})};return window.addEventListener("headerAddButtonClick",P),()=>window.removeEventListener("headerAddButtonClick",P)},[]),d.useEffect(()=>{window.dispatchEvent(new CustomEvent("mobileFormStateChange",{detail:{isOpen:se}}))},[se]);const Oe=()=>{u(null),ne(),He([]),Ae(""),he(9),$e(0),Ge("")},B=async P=>{try{let v;if(P.scheduledVisitDate){let re=Ue;de===""&&Ue!==12?re=Ue+12:de===""&&Ue===12&&(re=0),v=`${re.toString().padStart(2,"0")}:${Re.toString().padStart(2,"0")}`}const $={...P,requestDate:new Date(P.requestDate),scheduledVisitDate:P.scheduledVisitDate?new Date(P.scheduledVisitDate):void 0,scheduledVisitTime:v,assignedTo:Ee};if(p)await a(p.id,$),M.success("AS  ");else{const re={id:"",...$};await i(re),M.success("AS  ")}Oe()}catch(v){console.error("Failed to save AS request:",v),M.error("AS   ")}},ge=P=>{He(v=>v.includes(P)?v.filter($=>$!==P):[...v,P])},me=()=>{Ve.trim()&&!Ee.includes(Ve.trim())&&(He(P=>[...P,Ve.trim()]),Ge(""))},_e=P=>{He(v=>v.filter($=>$!==P))},G=P=>{u(P),window.scrollTo({top:0,behavior:"smooth"})},C=async(P,v)=>{if(window.confirm(`"${v}" AS  ?

    .`))try{await o(P),M.success("AS  ")}catch($){console.error("Failed to delete AS request:",$),M.error("AS   ")}},le=(P,v)=>{if(v==="scheduledVisitDate"){const $=t.find(O=>O.id===P);let re={period:"",hour:9,minute:0};if($!=null&&$.scheduledVisitTime){const[O,g]=$.scheduledVisitTime.split(":"),E=parseInt(O,10),S=parseInt(g,10);re={period:E>=12?"":"",hour:E===0?12:E>12?E-12:E,minute:S}}j({requestId:P,field:v,time:re})}else j({requestId:P,field:v})},D=async(P,v)=>{if(!N)return;const $=new Date(P);if(!isNaN($.getTime()))try{const re={[N.field]:$};if(N.field==="scheduledVisitDate"&&v){let O=v.hour;v.period===""&&v.hour!==12?O=v.hour+12:v.period===""&&v.hour===12&&(O=0),re.scheduledVisitTime=`${O.toString().padStart(2,"0")}:${v.minute.toString().padStart(2,"0")}`}await a(N.requestId,re),j(null)}catch(re){console.error("Failed to update date:",re),M.error("  "),j(null)}},H=d.useCallback(P=>{var $;const v=($=P.clipboardData)==null?void 0:$.items;if(v){for(let re=0;re<v.length;re++)if(v[re].type.indexOf("image")!==-1){P.preventDefault();const O=v[re].getAsFile();if(O){const g=new FileReader;g.onload=E=>{var ke,ye;const S=(ke=E.target)==null?void 0:ke.result,K=R||((ye=P.target.closest("[data-request-id]"))==null?void 0:ye.getAttribute("data-request-id"));if(K){const We=c.find(Je=>Je.id===K);if(We){const Je=[...We.images||[],S];a(K,{images:Je}),M.success(" ")}}else M.error("AS     ")},g.readAsDataURL(O)}}}},[R,c,a]);d.useEffect(()=>(document.addEventListener("paste",H),()=>document.removeEventListener("paste",H)),[H]);const ie=P=>{z(P),ee(!0)},Ce=(P,v)=>{P.preventDefault(),P.stopPropagation(),v&&T(!0)},Te=P=>{P.preventDefault(),P.stopPropagation(),T(!1)},ze=(P,v)=>{P.preventDefault(),P.stopPropagation(),T(!1);const $=Array.from(P.dataTransfer.files),re=[],O=$.filter(g=>g.type.startsWith("image/"));if(O.length===0){M.error("   ");return}O.forEach(g=>{const E=new FileReader;E.onload=S=>{var ke;const K=(ke=S.target)==null?void 0:ke.result;if(re.push(K),re.length===O.length){const ye=c.find(We=>We.id===v);if(ye){const We=[...ye.images||[],...re];a(v,{images:We}),M.success(`${re.length}  `)}}},E.readAsDataURL(g)})},U=async(P,v)=>{try{const $={status:v};v==="completed"?$.completionDate=new Date:v==="pending"?$.completionDate=void 0:v==="revisit"&&($.scheduledVisitDate=void 0,$.completionDate=void 0),await a(P,$);const re=v==="completed"?"AS ":v==="revisit"?" ":"";M.success(` "${re}" `)}catch($){console.error("Failed to update status:",$),M.error("  ")}},J=P=>{const v={pending:{label:"",color:"bg-gray-100 text-gray-700 border-gray-300"},completed:{label:"AS ",color:"bg-green-100 text-green-700 border-green-300"},revisit:{label:"",color:"bg-orange-100 text-orange-700 border-orange-300"}},$=v[P]||v.pending;return e.jsxDEV("span",{className:`px-2 py-1 text-xs font-medium border rounded ${$.color}`,children:$.label},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:395,columnNumber:7},void 0)},Z=c.filter(P=>f==="completed"?P.status==="completed":P.status!=="completed");return e.jsxDEV("div",{className:"as-container grid grid-cols-1 lg:grid-cols-5 gap-4",children:[e.jsxDEV("div",{className:`as-form lg:col-span-1 ${se?"block":"hidden lg:block"}`,children:e.jsxDEV("div",{className:"card p-4 sticky top-4",children:[e.jsxDEV("h2",{className:"text-lg font-semibold mb-4",children:p?"AS  ":"AS  "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:414,columnNumber:11},void 0),e.jsxDEV("form",{onSubmit:De(B),className:"space-y-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" * ( )"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:421,columnNumber:15},void 0),e.jsxDEV("select",{...ce("project",{required:" "}),className:"input text-sm",onChange:P=>{const v=qe.find($=>$.name===P.target.value);v&&(Q("client",v.client),Q("siteAddress",v.location))},children:[e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:435,columnNumber:17},void 0),qe.map(P=>e.jsxDEV("option",{value:P.name,children:P.name},P.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:437,columnNumber:19},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:424,columnNumber:15},void 0),xe.project&&e.jsxDEV("p",{className:"mt-1 text-xs text-red-600",children:String(xe.project.message)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:443,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:420,columnNumber:13},void 0),e.jsxDEV("input",{type:"hidden",...ce("client")},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:448,columnNumber:13},void 0),e.jsxDEV("input",{type:"hidden",...ce("siteAddress")},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:449,columnNumber:13},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:452,columnNumber:15},void 0),e.jsxDEV("textarea",{...ce("description"),rows:3,className:"input text-sm"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:455,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:451,columnNumber:13},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" (  )"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:464,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex flex-wrap gap-1.5 mb-2",children:[Uo.map(P=>e.jsxDEV("button",{type:"button",onClick:()=>ge(P),className:`px-2.5 py-1.5 rounded border transition-colors text-xs ${Ee.includes(P)?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:P},P,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:470,columnNumber:19},void 0)),Ee.filter(P=>!Uo.includes(P)).map(P=>e.jsxDEV("button",{type:"button",onClick:()=>_e(P),className:"px-2.5 py-1.5 rounded border transition-colors text-xs bg-gray-900 text-white border-gray-900 hover:bg-gray-800",children:[P," "]},P,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:487,columnNumber:21},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:468,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV("input",{type:"text",value:Ve,onChange:P=>Ge(P.target.value),onKeyPress:P=>{P.key==="Enter"&&(P.preventDefault(),me())},placeholder:" ",className:"flex-1 px-2 py-1.5 border border-gray-300 rounded text-xs focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:500,columnNumber:17},void 0),e.jsxDEV("button",{type:"button",onClick:me,className:"px-3 py-1.5 bg-gray-100 text-gray-700 rounded text-xs font-medium hover:bg-gray-200 transition-colors",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:513,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:499,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:463,columnNumber:13},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:526,columnNumber:17},void 0),e.jsxDEV("input",{...ce("requestDate"),type:"date",className:"w-full px-2.5 py-2 text-xs bg-white text-gray-700 border border-gray-300 rounded hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500 transition-colors"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:529,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:525,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:537,columnNumber:17},void 0),e.jsxDEV("input",{...ce("scheduledVisitDate"),type:"date",className:"w-full px-2.5 py-2 text-xs bg-white text-gray-700 border border-gray-300 rounded hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500 transition-colors"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:540,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:536,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:524,columnNumber:13},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:550,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("div",{className:"flex gap-1",children:[e.jsxDEV("button",{type:"button",onClick:()=>Ae(""),className:`px-2 py-1.5 text-xs rounded border transition-colors ${de===""?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:555,columnNumber:19},void 0),e.jsxDEV("button",{type:"button",onClick:()=>Ae(""),className:`px-2 py-1.5 text-xs rounded border transition-colors ${de===""?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:566,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:554,columnNumber:17},void 0),e.jsxDEV("select",{value:Ue,onChange:P=>he(parseInt(P.target.value)),className:"px-2 py-1.5 text-xs border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-gray-500",children:[12,1,2,3,4,5,6,7,8,9,10,11].map(P=>e.jsxDEV("option",{value:P,children:[P,""]},P,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:585,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:579,columnNumber:17},void 0),e.jsxDEV("select",{value:Re,onChange:P=>$e(parseInt(P.target.value)),className:"px-2 py-1.5 text-xs border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-gray-500",children:[0,10,20,30,40,50].map(P=>e.jsxDEV("option",{value:P,children:[P,""]},P,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:597,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:591,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:553,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:549,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex gap-2 pt-2",children:[p&&e.jsxDEV("button",{type:"button",onClick:Oe,className:"flex-1 btn btn-outline text-sm py-2",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:608,columnNumber:17},void 0),e.jsxDEV("button",{type:"submit",className:"flex-1 btn btn-primary text-sm py-2",children:p?"":""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:616,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:606,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:418,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:413,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:412,columnNumber:7},void 0),e.jsxDEV("div",{className:"as-list lg:col-span-4 space-y-4",children:[e.jsxDEV("div",{className:"border-b border-gray-200",children:e.jsxDEV("nav",{className:"flex space-x-4 md:space-x-8",children:[e.jsxDEV("button",{onClick:()=>b("active"),className:`py-2 md:py-3 px-1 border-b-2 font-medium text-xs md:text-sm transition-colors whitespace-nowrap ${f==="active"?"border-gray-700 text-gray-700":"border-transparent text-gray-400 hover:text-gray-700 hover:border-gray-300"}`,children:["",e.jsxDEV("span",{className:`ml-1 md:ml-2 py-0.5 px-1.5 md:px-2 rounded-full text-[10px] md:text-xs font-semibold ${f==="active"?"bg-gray-700 text-white":"bg-gray-200 text-gray-600"}`,children:c.filter(P=>P.status!=="completed").length},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:641,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:632,columnNumber:13},void 0),e.jsxDEV("button",{onClick:()=>b("completed"),className:`py-2 md:py-3 px-1 border-b-2 font-medium text-xs md:text-sm transition-colors whitespace-nowrap ${f==="completed"?"border-gray-700 text-gray-700":"border-transparent text-gray-400 hover:text-gray-700 hover:border-gray-300"}`,children:["AS ",e.jsxDEV("span",{className:`ml-1 md:ml-2 py-0.5 px-1.5 md:px-2 rounded-full text-[10px] md:text-xs font-semibold ${f==="completed"?"bg-gray-700 text-white":"bg-gray-200 text-gray-600"}`,children:c.filter(P=>P.status==="completed").length},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:656,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:647,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:631,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:630,columnNumber:9},void 0),e.jsxDEV("div",{className:"as-cards grid grid-cols-1 md:grid-cols-2 gap-4",children:Z.map(P=>{var v,$,re,O;return e.jsxDEV("div",{"data-request-id":P.id,className:"card p-4 hover:border-gray-400 transition-colors",onDragOver:g=>Ce(g,P.id),onDragLeave:Te,onDrop:g=>ze(g,P.id),children:[e.jsxDEV("div",{className:"flex items-start justify-between mb-3",children:[e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("div",{className:"flex items-center gap-2 mb-1",children:J(P.status)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:678,columnNumber:19},void 0),e.jsxDEV("h3",{className:"font-bold text-base text-gray-900",children:P.project},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:681,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:677,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex items-center space-x-1",children:[e.jsxDEV("button",{onClick:()=>G(P),className:"text-gray-600 hover:text-gray-700 p-1",children:e.jsxDEV(Ar,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:688,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:684,columnNumber:19},void 0),e.jsxDEV("button",{onClick:()=>C(P.id,P.project),className:"text-rose-600 hover:text-rose-700 p-1",children:e.jsxDEV(bt,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:694,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:690,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:683,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:676,columnNumber:15},void 0),e.jsxDEV("div",{className:"space-y-2 text-sm",children:[e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-xs text-gray-500",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:701,columnNumber:19},void 0),e.jsxDEV("p",{className:"text-gray-900 mt-0.5",children:P.siteAddress},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:702,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:700,columnNumber:17},void 0),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-xs text-gray-500",children:"AS "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:706,columnNumber:19},void 0),e.jsxDEV("p",{className:"text-gray-900 mt-0.5",children:P.description},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:707,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:705,columnNumber:17},void 0),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-xs text-gray-500",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:711,columnNumber:19},void 0),e.jsxDEV("p",{className:"text-gray-900 mt-0.5",children:P.assignedTo&&P.assignedTo.length>0?P.assignedTo.join(", "):""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:712,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:710,columnNumber:17},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 gap-2 pt-2",children:[e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-xs text-gray-500 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:721,columnNumber:21},void 0),e.jsxDEV("div",{className:"relative inline-block",children:[(N==null?void 0:N.requestId)===P.id&&(N==null?void 0:N.field)==="requestDate"&&e.jsxDEV("input",{ref:x,type:"date",defaultValue:je(P.requestDate,"yyyy-MM-dd"),onChange:g=>D(g.target.value),onBlur:()=>j(null),className:"absolute left-0 top-0 w-auto h-auto opacity-0 z-50",style:{pointerEvents:"auto"}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:724,columnNumber:25},void 0),e.jsxDEV("button",{onClick:()=>le(P.id,"requestDate"),className:"flex items-center space-x-1 text-xs text-gray-900 hover:text-gray-600 transition-colors",children:[e.jsxDEV(nn,{className:"h-3 w-3"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:738,columnNumber:25},void 0),e.jsxDEV("span",{children:je(P.requestDate,"MM.dd (eee)",{locale:ft})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:739,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:734,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:722,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:720,columnNumber:19},void 0),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-xs text-gray-500 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:745,columnNumber:21},void 0),e.jsxDEV("div",{className:"relative inline-block",children:[(N==null?void 0:N.requestId)===P.id&&(N==null?void 0:N.field)==="scheduledVisitDate"&&e.jsxDEV("div",{className:"absolute left-0 top-0 z-50 bg-white border border-gray-300 rounded-lg shadow-lg p-3",style:{minWidth:"280px"},children:e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:751,columnNumber:31},void 0),e.jsxDEV("input",{ref:x,type:"date",defaultValue:P.scheduledVisitDate?je(P.scheduledVisitDate,"yyyy-MM-dd"):"",className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-gray-500",onChange:g=>{const E=g.target.value,S=N.time||{period:"",hour:9,minute:0};D(E,S)}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:752,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:750,columnNumber:29},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:766,columnNumber:31},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("div",{className:"flex gap-1",children:[e.jsxDEV("button",{type:"button",onClick:()=>j(g=>g?{...g,time:{...g.time,period:""}}:null),className:`px-2 py-1 text-xs rounded border transition-colors ${((v=N==null?void 0:N.time)==null?void 0:v.period)===""?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:769,columnNumber:35},void 0),e.jsxDEV("button",{type:"button",onClick:()=>j(g=>g?{...g,time:{...g.time,period:""}}:null),className:`px-2 py-1 text-xs rounded border transition-colors ${(($=N==null?void 0:N.time)==null?void 0:$.period)===""?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:780,columnNumber:35},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:768,columnNumber:33},void 0),e.jsxDEV("select",{value:((re=N==null?void 0:N.time)==null?void 0:re.hour)||9,onChange:g=>j(E=>E?{...E,time:{...E.time,hour:parseInt(g.target.value)}}:null),className:"px-1 py-1 text-xs border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-gray-500",children:[12,1,2,3,4,5,6,7,8,9,10,11].map(g=>e.jsxDEV("option",{value:g,children:[g,""]},g,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:799,columnNumber:37},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:793,columnNumber:33},void 0),e.jsxDEV("select",{value:((O=N==null?void 0:N.time)==null?void 0:O.minute)||0,onChange:g=>j(E=>E?{...E,time:{...E.time,minute:parseInt(g.target.value)}}:null),className:"px-1 py-1 text-xs border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-gray-500",children:[0,10,20,30,40,50].map(g=>e.jsxDEV("option",{value:g,children:[g,""]},g,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:811,columnNumber:37},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:805,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:767,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:765,columnNumber:29},void 0),e.jsxDEV("div",{className:"flex justify-end gap-2 pt-2 border-t",children:[e.jsxDEV("button",{type:"button",onClick:()=>j(null),className:"px-3 py-1 text-xs bg-gray-200 text-gray-700 rounded hover:bg-gray-300",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:820,columnNumber:31},void 0),e.jsxDEV("button",{type:"button",onClick:()=>{const g=x.current;g&&(N!=null&&N.time)&&D(g.value,N.time)},className:"px-3 py-1 text-xs bg-gray-900 text-white rounded hover:bg-gray-800",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:827,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:819,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:749,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:748,columnNumber:25},void 0),e.jsxDEV("button",{onClick:()=>le(P.id,"scheduledVisitDate"),className:"flex items-center space-x-1 text-xs text-gray-900 hover:text-gray-600 transition-colors",children:[e.jsxDEV(nn,{className:"h-3 w-3"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:847,columnNumber:25},void 0),e.jsxDEV("span",{children:[P.scheduledVisitDate?je(P.scheduledVisitDate,"MM.dd (eee)",{locale:ft}):"",P.scheduledVisitTime&&` ${Br(P.scheduledVisitTime)}`]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:848,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:843,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:746,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:744,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:719,columnNumber:17},void 0),P.status!=="completed"&&e.jsxDEV("div",{className:"flex gap-2 mt-3 pt-3 border-t border-gray-100",children:[e.jsxDEV("button",{onClick:()=>U(P.id,"completed"),className:"flex-1 px-3 py-2 text-xs font-medium bg-blue-50 text-blue-700 rounded-lg hover:bg-blue-100 transition-colors",children:"AS "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:860,columnNumber:21},void 0),e.jsxDEV("button",{onClick:()=>U(P.id,"revisit"),className:"flex-1 px-3 py-2 text-xs font-medium bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:866,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:859,columnNumber:19},void 0),P.status==="completed"&&e.jsxDEV("div",{className:"mt-3 pt-3 border-t border-gray-100",children:[e.jsxDEV("button",{onClick:()=>U(P.id,"pending"),className:"w-full px-3 py-2 text-xs font-medium bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors mb-2",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:876,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-xs text-gray-500 text-center",children:P.completionDate&&`: ${je(P.completionDate,"yyyy.MM.dd",{locale:ft})}`},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:882,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:875,columnNumber:19},void 0),P.images&&P.images.length>0&&e.jsxDEV("div",{className:"mt-3 pt-3 border-t border-gray-100",children:[e.jsxDEV("p",{className:"text-xs text-gray-500 mb-2",children:["  (",P.images.length,")"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:891,columnNumber:21},void 0),e.jsxDEV("div",{className:"grid grid-cols-3 gap-2",children:P.images.map((g,E)=>e.jsxDEV("img",{src:g,alt:`AS  ${E+1}`,className:"w-full h-20 object-cover rounded cursor-pointer hover:opacity-75",onClick:()=>ie(g)},E,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:894,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:892,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:890,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:699,columnNumber:15},void 0)]},P.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:668,columnNumber:13},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:666,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:628,columnNumber:7},void 0),te&&e.jsxDEV("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-90",onClick:()=>ee(!1),children:e.jsxDEV("div",{className:"relative max-w-[90vw] max-h-[90vh]",children:[e.jsxDEV("button",{onClick:P=>{P.stopPropagation(),ee(!1)},className:"absolute -top-10 right-0 text-white hover:text-gray-300 transition-colors",children:e.jsxDEV(ot,{className:"h-8 w-8"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:925,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:918,columnNumber:13},void 0),e.jsxDEV("img",{src:L,alt:" ",className:"max-w-full max-h-[90vh] object-contain",onClick:P=>P.stopPropagation()},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:927,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:917,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:913,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:410,columnNumber:5},void 0)},sb=({work:s,onClose:n,onSave:t,initialProject:r})=>{const{register:i,handleSubmit:a,setValue:o,formState:{errors:m}}=$n(),{user:c}=Mt(),p=Qt(),[u,f]=d.useState(!1),[b,N]=d.useState([]),[j,x]=d.useState([]);d.useEffect(()=>{if(s)o("project",s.project),o("description",s.description),o("amount",s.amount),o("date",s.date.toISOString().split("T")[0]),o("notes",s.notes||""),x(s.images||[]),N(s.images||[]);else{const z=new Date().toISOString().split("T")[0];o("date",z),x([]),N([]),(c==null?void 0:c.name)===""&&p.length>0?o("project",p[0].name):r&&o("project",r)}},[s,o,r,c,p]);const R=d.useCallback(z=>{var oe;const se=(oe=z.clipboardData)==null?void 0:oe.items;if(se){for(let ce=0;ce<se.length;ce++)if(se[ce].type.indexOf("image")!==-1){z.preventDefault();const De=se[ce].getAsFile();if(De){const Q=new FileReader;Q.onload=ne=>{var Ee;const xe=(Ee=ne.target)==null?void 0:Ee.result;N(He=>[...He,xe]),x(He=>[...He,xe]),M.success(" ")},Q.readAsDataURL(De)}}}},[]);d.useEffect(()=>(document.addEventListener("paste",R),()=>document.removeEventListener("paste",R)),[R]);const I=z=>{z.preventDefault(),f(!0)},y=z=>{z.preventDefault(),f(!1)},T=z=>{z.preventDefault(),f(!1);const se=Array.from(z.dataTransfer.files);se.forEach(oe=>{if(oe.type.startsWith("image/")){const ce=new FileReader;ce.onload=De=>{var ne;const Q=(ne=De.target)==null?void 0:ne.result;N(xe=>[...xe,Q]),x(xe=>[...xe,Q])},ce.readAsDataURL(oe)}}),se.length>0&&M.success(`${se.length}  `)},te=z=>{var oe;const se=Array.from(((oe=z.target)==null?void 0:oe.files)||[]);se.forEach(ce=>{if(ce.type.startsWith("image/")){const De=new FileReader;De.onload=Q=>{var xe;const ne=(xe=Q.target)==null?void 0:xe.result;N(Ee=>[...Ee,ne]),x(Ee=>[...Ee,ne])},De.readAsDataURL(ce)}}),se.length>0&&M.success(`${se.length}  `)},ee=z=>{N(se=>se.filter((oe,ce)=>ce!==z)),x(se=>se.filter((oe,ce)=>ce!==z)),M.success(" ")},L=z=>{const se={...z,amount:Number(z.amount),date:new Date(z.date),images:j};t(se)};return e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:e.jsxDEV("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxDEV("div",{className:"flex items-center justify-between p-6 border-b sticky top-0 bg-white z-10",children:[e.jsxDEV("h2",{className:"text-xl font-semibold",children:s?" ":" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:171,columnNumber:11},void 0),e.jsxDEV("button",{onClick:n,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsxDEV(ot,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:178,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:174,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:170,columnNumber:9},void 0),e.jsxDEV("form",{onSubmit:a(L),className:"p-6 space-y-6",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:186,columnNumber:13},void 0),e.jsxDEV("select",{...i("project",{required:" "}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",children:[(c==null?void 0:c.name)!==""&&e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:193,columnNumber:39},void 0),p.map(z=>e.jsxDEV("option",{value:z.name,children:z.name},z.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:195,columnNumber:17},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:189,columnNumber:13},void 0),m.project&&e.jsxDEV("p",{className:"mt-1 text-sm text-red-600",children:String(m.project.message)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:201,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:185,columnNumber:11},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:207,columnNumber:13},void 0),e.jsxDEV("textarea",{...i("description",{required:"  "}),rows:3,className:"input",placeholder:"    (:    )"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:210,columnNumber:13},void 0),m.description&&e.jsxDEV("p",{className:"mt-1 text-sm text-red-600",children:String(m.description.message)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:217,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:206,columnNumber:11},void 0),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" () *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:224,columnNumber:15},void 0),e.jsxDEV("input",{...i("amount",{required:" ",min:{value:0,message:" 0  "}}),type:"number",className:"input",placeholder:": 500000"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:227,columnNumber:15},void 0),m.amount&&e.jsxDEV("p",{className:"mt-1 text-sm text-red-600",children:String(m.amount.message)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:237,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:223,columnNumber:13},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:242,columnNumber:15},void 0),e.jsxDEV("input",{...i("date",{required:" "}),type:"date",className:"input"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:245,columnNumber:15},void 0),m.date&&e.jsxDEV("p",{className:"mt-1 text-sm text-red-600",children:String(m.date.message)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:251,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:241,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:222,columnNumber:11},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:258,columnNumber:13},void 0),e.jsxDEV("textarea",{...i("notes"),rows:2,className:"input",placeholder:"  ()"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:261,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:257,columnNumber:11},void 0),e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"  (Ctrl+V  )"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:271,columnNumber:13},void 0),e.jsxDEV("div",{className:`border-2 border-dashed rounded-lg p-6 transition-colors ${u?"border-gray-500 bg-gray-50":"border-gray-300"}`,onDragOver:I,onDragLeave:y,onDrop:T,children:e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV(us,{className:"mx-auto h-12 w-12 text-gray-400"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:284,columnNumber:17},void 0),e.jsxDEV("p",{className:"mt-2 text-sm text-gray-600",children:"    "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:285,columnNumber:17},void 0),e.jsxDEV("p",{className:"text-xs text-gray-500 mt-1",children:" Ctrl+V   "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:288,columnNumber:17},void 0),e.jsxDEV("input",{type:"file",multiple:!0,accept:"image/*",onChange:te,className:"hidden",id:"file-upload-additional"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:291,columnNumber:17},void 0),e.jsxDEV("label",{htmlFor:"file-upload-additional",className:"mt-4 inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 cursor-pointer",children:[e.jsxDEV(gs,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:303,columnNumber:19},void 0)," "]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:299,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:283,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:275,columnNumber:13},void 0),b.length>0&&e.jsxDEV("div",{className:"mt-4 grid grid-cols-2 md:grid-cols-4 gap-4",children:b.map((z,se)=>e.jsxDEV("div",{className:"relative group",children:[e.jsxDEV("img",{src:z,alt:` ${se+1}`,className:"w-full h-32 object-cover rounded-lg"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:314,columnNumber:21},void 0),e.jsxDEV("button",{type:"button",onClick:()=>ee(se),className:"absolute top-2 right-2 p-1 bg-red-500 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsxDEV(bt,{className:"h-3 w-3"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:324,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:319,columnNumber:21},void 0)]},se,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:313,columnNumber:19},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:311,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:270,columnNumber:11},void 0),e.jsxDEV("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsxDEV("button",{type:"button",onClick:n,className:"btn btn-outline",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:334,columnNumber:13},void 0),e.jsxDEV("button",{type:"submit",className:"btn btn-primary",children:s?"":""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:341,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:333,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:183,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:168,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:167,columnNumber:5},void 0)},An={getAllAdditionalWorks:async()=>(await Le.get("/additional-works")).data,getAdditionalWorkById:async s=>(await Le.get(`/additional-works/${s}`)).data,createAdditionalWork:async s=>{const n={project:s.project,description:s.description,amount:s.amount,work_date:s.date instanceof Date?s.date.toISOString().split("T")[0]:s.date,notes:s.notes||"",images:s.images||[]};return console.log("[additionalWorkService.createAdditionalWork] Sending to backend:",n),(await Le.post("/additional-works",n)).data},updateAdditionalWork:async(s,n)=>{const t={};return n.project!==void 0&&(t.project=n.project),n.description!==void 0&&(t.description=n.description),n.amount!==void 0&&(t.amount=n.amount),n.date!==void 0&&(t.work_date=n.date instanceof Date?n.date.toISOString().split("T")[0]:n.date),n.notes!==void 0&&(t.notes=n.notes),console.log("[additionalWorkService.updateAdditionalWork] Sending to backend:",t),(await Le.put(`/additional-works/${s}`,t)).data},deleteAdditionalWork:async s=>{await Le.delete(`/additional-works/${s}`)}},nb=()=>{var _e;const{user:s}=Mt(),n=Qt(),{constructionPayments:t}=os(),[r,i]=d.useState([]),[a,o]=d.useState(!1),[m,c]=d.useState(null),[p,u]=d.useState(null),[f,b]=d.useState(new Set),[N,j]=d.useState(void 0),[x,R]=d.useState(!1),[I,y]=d.useState(null),[T,te]=d.useState({}),[ee,L]=d.useState([]);d.useRef(null);const z=d.useRef(null),[se,oe]=d.useState(!1),[ce,De]=d.useState(!1),Q=G=>r.filter(C=>C.project===G).reduce((C,le)=>C+le.amount,0),xe=((s==null?void 0:s.name)===""?t.filter(G=>n.some(C=>C.name===G.project)):t).filter(G=>{var ie;const C=Q(G.project);let le;if(G.vatType==="amount")le=(G.totalAmount||0)+(G.vatAmount||0);else{const Ce=(G.totalAmount||0)*((G.vatPercentage??100)/100)*.1;le=(G.totalAmount||0)+Ce}const D=le+C,H=((ie=G.payments)==null?void 0:ie.reduce((Ce,Te)=>Ce+Te.amount,0))||0;return D>0&&H>=D}).map(G=>G.project),[Ee,He]=d.useState({project:"",description:"",amount:"",date:je(new Date,"yyyy-MM-dd"),notes:""});d.useEffect(()=>{var G;if(n.length>0&&!Ee.project){const C=localStorage.getItem("lastSelectedProject"),le=((G=n.find(D=>D.name===C))==null?void 0:G.name)||n[0].name;He(D=>({...D,project:le}))}},[n]);const Ve=d.useCallback(G=>{var H;const C=document.activeElement;if(C instanceof HTMLInputElement||C instanceof HTMLTextAreaElement||C instanceof HTMLSelectElement)return;const D=(H=G.clipboardData)==null?void 0:H.items;if(D){for(let ie=0;ie<D.length;ie++)if(D[ie].type.indexOf("image")!==-1){G.preventDefault();const Ce=D[ie].getAsFile();if(Ce){const Te=new FileReader;Te.onload=ze=>{var J;const U=(J=ze.target)==null?void 0:J.result;p?te(Z=>{const v=[...Z[p]||[],U];return Ge(p,v),{...Z,[p]:v}}):L(Z=>[...Z,U]),M.success(" ")},Te.readAsDataURL(Ce)}}}},[p]);d.useEffect(()=>(document.addEventListener("paste",Ve),()=>document.removeEventListener("paste",Ve)),[Ve]),d.useEffect(()=>{const G=localStorage.getItem("additionalWorkImages");G&&te(JSON.parse(G))},[]),d.useEffect(()=>{localStorage.setItem("additionalWorkImages",JSON.stringify(T))},[T]),d.useEffect(()=>{const G=()=>{oe(C=>{const le=!C;return window.dispatchEvent(new CustomEvent("mobileFormStateChange",{detail:{isOpen:le}})),le})};return window.addEventListener("headerAddButtonClick",G),()=>window.removeEventListener("headerAddButtonClick",G)},[]),d.useEffect(()=>{window.dispatchEvent(new CustomEvent("mobileFormStateChange",{detail:{isOpen:se}}))},[se]);const Ge=async(G,C)=>{try{await An.updateAdditionalWork(G,{images:C})}catch(le){console.error("Failed to save images:",le)}},de=G=>{const C=Array.from(G.target.files||[]);if(!p){M.error("  ");return}C.forEach(le=>{if(le.type.startsWith("image/")){const D=new FileReader;D.onload=H=>{var Ce;const ie=(Ce=H.target)==null?void 0:Ce.result;te(Te=>({...Te,[p]:[...Te[p]||[],ie]}))},D.readAsDataURL(le)}}),C.length>0&&M.success(" ")},Ae=(G,C)=>{te(D=>({...D,[G]:(D[G]||[]).filter((H,ie)=>ie!==C)})),M.success(" ");const le=(T[G]||[]).filter((D,H)=>H!==C);Ge(G,le)},Ue=G=>{y(G),R(!0)},he=async()=>{try{const G=await An.getAllAdditionalWorks(),C=n.map(H=>H.name),le=(s==null?void 0:s.name)===""?G.filter(H=>C.includes(H.project)):G;i(le.map(H=>({id:H._id,project:H.project,description:H.description,amount:H.amount,date:new Date(H.date),notes:H.notes,images:H.images||[]})));const D={};le.forEach(H=>{H.images&&H.images.length>0&&(D[H._id]=H.images)}),te(D)}catch(G){console.error("Failed to load additional works:",G),i([])}};d.useEffect(()=>{he()},[]);const Re=G=>{c(G),j(G.project),o(!0)},$e=async G=>{if(window.confirm("  ?"))try{await An.deleteAdditionalWork(G),await he(),M.success(" "),p===G&&u(null)}catch(C){console.error("Failed to delete additional work:",C),M.error("  ")}},qe=async G=>{o(!1),c(null),j(void 0),G&&await he()},Oe=async G=>{if(G.preventDefault(),!Ee.project||!Ee.description||!Ee.amount||!Ee.date){M.error("   ");return}try{const C=await An.createAdditionalWork({project:Ee.project,description:Ee.description,amount:parseFloat(Ee.amount),date:new Date(Ee.date),images:ee});M.success(" "),He(le=>({...le,description:"",amount:"",date:je(new Date,"yyyy-MM-dd"),notes:""})),L([]),await he(),ee.length>0&&C._id&&te(le=>({...le,[C._id]:ee})),localStorage.setItem("lastSelectedProject",Ee.project)}catch(C){console.error("Failed to create additional work:",C),M.error("  ")}},B=r.filter(G=>{const C=xe.includes(G.project);return ce?C:!C}),ge=B.reduce((G,C)=>{const le=G.find(D=>D.projectName===C.project);return le?(le.works.push(C),le.totalAmount+=C.amount):G.push({projectName:C.project,works:[C],totalAmount:C.amount}),G},[]);ge.sort((G,C)=>G.projectName.localeCompare(C.projectName)),ge.forEach(G=>{G.works.sort((C,le)=>le.date.getTime()-C.date.getTime())}),d.useEffect(()=>{const G=new Set(ge.map(C=>C.projectName));b(G)},[B.length]);const me=G=>{const C=new Set(f);C.has(G)?C.delete(G):C.add(G),b(C)};return e.jsxDEV("div",{className:"space-y-4 md:space-y-6",children:[e.jsxDEV("div",{className:"additional-work-container hidden desktop:grid desktop:gap-4 2xl:gap-6 desktop:grid-cols-12",children:[e.jsxDEV("div",{className:"additional-work-form md:col-span-4 lg:col-span-4 bg-white border border-gray-200 rounded-lg p-4 md:p-5 lg:p-6 h-fit sticky top-4",children:e.jsxDEV("div",{className:"aw-form-inner space-y-4",children:[e.jsxDEV("div",{className:"aw-project",children:[e.jsxDEV("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:" *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:413,columnNumber:15},void 0),e.jsxDEV("select",{value:Ee.project,onChange:G=>He(C=>({...C,project:G.target.value})),className:"w-full px-4 py-3 text-base border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 bg-white",children:[(s==null?void 0:s.name)!==""&&e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:421,columnNumber:41},void 0),n.map(G=>e.jsxDEV("option",{value:G.name,children:G.name},G.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:423,columnNumber:19},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:416,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:412,columnNumber:13},void 0),e.jsxDEV("div",{className:"aw-date",children:[e.jsxDEV("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:" *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:432,columnNumber:15},void 0),e.jsxDEV("input",{type:"date",value:Ee.date,onChange:G=>He(C=>({...C,date:G.target.value})),className:"w-full px-4 py-3 text-base border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:435,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:431,columnNumber:13},void 0),e.jsxDEV("div",{className:"aw-description",children:[e.jsxDEV("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:" *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:445,columnNumber:15},void 0),e.jsxDEV("textarea",{value:Ee.description,onChange:G=>He(C=>({...C,description:G.target.value})),rows:5,className:"w-full px-4 py-3 text-base border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 resize-none",placeholder:"  "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:448,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:444,columnNumber:13},void 0),e.jsxDEV("div",{className:"aw-amount",children:[e.jsxDEV("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:" *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:459,columnNumber:15},void 0),e.jsxDEV("input",{type:"number",value:Ee.amount,onChange:G=>He(C=>({...C,amount:G.target.value})),className:"w-full px-4 py-3 text-base border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",placeholder:"0"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:462,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:458,columnNumber:13},void 0),e.jsxDEV("div",{className:"aw-images",children:[e.jsxDEV("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[" ",e.jsxDEV("span",{className:"text-xs text-gray-500 ml-2",children:"(Ctrl+V  )"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:475,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:473,columnNumber:15},void 0),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV("input",{ref:z,type:"file",accept:"image/*",multiple:!0,onChange:G=>{Array.from(G.target.files||[]).forEach(le=>{if(le.type.startsWith("image/")){const D=new FileReader;D.onload=H=>{var Ce;const ie=(Ce=H.target)==null?void 0:Ce.result;L(Te=>[...Te,ie])},D.readAsDataURL(le)}}),G.target.value=""},className:"hidden"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:478,columnNumber:17},void 0),e.jsxDEV("button",{type:"button",onClick:()=>{var G;return(G=z.current)==null?void 0:G.click()},className:"w-full px-4 py-2 text-sm border border-gray-300 rounded-lg text-gray-700 bg-white hover:bg-gray-50 flex items-center justify-center gap-2",children:[e.jsxDEV(gs,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:504,columnNumber:19},void 0)," "]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:499,columnNumber:17},void 0),ee.length>0&&e.jsxDEV("div",{className:"grid grid-cols-3 gap-2 mt-2",children:ee.map((G,C)=>e.jsxDEV("div",{className:"relative group",children:[e.jsxDEV("img",{src:G,alt:` ${C+1}`,className:"w-full h-20 object-cover rounded cursor-pointer",onClick:()=>Ue(G)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:511,columnNumber:25},void 0),e.jsxDEV("button",{type:"button",onClick:()=>L(le=>le.filter((D,H)=>H!==C)),className:"absolute top-1 right-1 p-1 bg-red-500 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsxDEV(ot,{className:"h-3 w-3"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:522,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:517,columnNumber:25},void 0)]},C,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:510,columnNumber:23},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:508,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:477,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:472,columnNumber:13},void 0),e.jsxDEV("button",{onClick:Oe,className:"aw-submit w-full py-3.5 bg-gray-900 text-white text-base font-semibold rounded-lg hover:bg-gray-800 transition-colors",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:532,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:410,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:409,columnNumber:9},void 0),e.jsxDEV("div",{className:"additional-work-list md:col-span-4 lg:col-span-5 flex flex-col h-[calc(100vh-120px)]",children:[e.jsxDEV("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 flex-shrink-0",children:e.jsxDEV("div",{className:"space-y-4",children:e.jsxDEV("div",{className:"flex border-b border-gray-200",children:[e.jsxDEV("button",{onClick:()=>De(!1),className:`flex-1 py-2 text-sm font-medium border-b-2 transition-colors ${ce?"border-transparent text-gray-500 hover:text-gray-700":"border-gray-900 text-gray-900"}`,children:[" (",ge.filter(G=>!xe.includes(G.projectName)).length,")"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:548,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>De(!0),className:`flex-1 py-2 text-sm font-medium border-b-2 transition-colors ${ce?"border-gray-900 text-gray-900":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[" (",xe.length,")"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:558,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:547,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:545,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:544,columnNumber:11},void 0),e.jsxDEV("div",{className:"space-y-4 flex-1 overflow-y-auto mt-3 pr-1",children:ge.map(G=>e.jsxDEV("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsxDEV("div",{className:"px-4 py-3.5 border-b border-gray-200 flex items-center justify-between cursor-pointer bg-gray-100 hover:bg-gray-200",onClick:()=>me(G.projectName),children:[e.jsxDEV("div",{className:"flex items-center gap-3",children:[f.has(G.projectName)?e.jsxDEV(Wa,{className:"h-5 w-5 text-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:582,columnNumber:23},void 0):e.jsxDEV(qa,{className:"h-5 w-5 text-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:584,columnNumber:23},void 0),e.jsxDEV("h3",{className:"text-base font-semibold text-gray-900",children:G.projectName},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:586,columnNumber:21},void 0),e.jsxDEV("span",{className:"text-sm text-gray-500",children:["(",G.works.length,")"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:587,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:580,columnNumber:19},void 0),e.jsxDEV("span",{className:"text-base font-bold text-gray-900",children:[G.totalAmount.toLocaleString(),""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:589,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:576,columnNumber:17},void 0),f.has(G.projectName)&&e.jsxDEV("div",{className:"divide-y divide-gray-100",children:G.works.map(C=>{var le;return e.jsxDEV("div",{className:`px-4 py-3.5 hover:bg-gray-50 cursor-pointer transition-colors ${p===C.id?"bg-blue-50 border-l-4 border-blue-500":""}`,onClick:()=>u(C.id),children:e.jsxDEV("div",{className:"flex items-start justify-between",children:[e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("p",{className:"text-base text-gray-900 line-clamp-2",children:C.description},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:606,columnNumber:29},void 0),e.jsxDEV("div",{className:"flex items-center gap-3 mt-2",children:[e.jsxDEV("span",{className:"text-sm text-gray-500",children:je(C.date,"yyyy.MM.dd")},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:608,columnNumber:31},void 0),((le=T[C.id])==null?void 0:le.length)>0&&e.jsxDEV("span",{className:"text-sm text-blue-600 flex items-center gap-1",children:[e.jsxDEV(us,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:613,columnNumber:35},void 0),T[C.id].length]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:612,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:607,columnNumber:29},void 0),C.notes&&e.jsxDEV("p",{className:"text-sm text-gray-500 mt-2",children:C.notes},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:619,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:605,columnNumber:27},void 0),e.jsxDEV("div",{className:"flex items-center gap-3 ml-4",children:[e.jsxDEV("span",{className:"text-base font-semibold text-gray-900",children:[C.amount.toLocaleString(),""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:623,columnNumber:29},void 0),e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV("button",{onClick:D=>{D.stopPropagation(),Re(C)},className:"p-1.5 text-gray-500 hover:text-gray-700",children:e.jsxDEV(Ar,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:634,columnNumber:33},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:627,columnNumber:31},void 0),e.jsxDEV("button",{onClick:D=>{D.stopPropagation(),$e(C.id)},className:"p-1.5 text-red-500 hover:text-red-700",children:e.jsxDEV(bt,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:643,columnNumber:33},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:636,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:626,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:622,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:604,columnNumber:25},void 0)},C.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:597,columnNumber:23},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:595,columnNumber:19},void 0)]},G.projectName,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:575,columnNumber:15},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:573,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:542,columnNumber:9},void 0),e.jsxDEV("div",{className:"additional-work-images md:col-span-4 lg:col-span-3 bg-white rounded-lg shadow-sm border border-gray-200 p-4 md:p-5 lg:p-6 h-[calc(100vh-120px)] overflow-y-auto",children:p?e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-5 sticky top-0 bg-white pb-2",children:[e.jsxDEV("h3",{className:"text-base font-semibold text-gray-900",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:662,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV("span",{className:"text-sm text-gray-500",children:"Ctrl+V  "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:664,columnNumber:19},void 0),e.jsxDEV("input",{type:"file",multiple:!0,accept:"image/*",onChange:de,className:"hidden",id:"work-image-upload"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:667,columnNumber:19},void 0),e.jsxDEV("label",{htmlFor:"work-image-upload",className:"px-4 py-2 text-sm border border-gray-300 rounded-lg text-gray-700 bg-white hover:bg-gray-50 cursor-pointer flex items-center gap-2 font-medium",children:[e.jsxDEV(gs,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:679,columnNumber:21},void 0)," "]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:675,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:663,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:661,columnNumber:15},void 0),((_e=T[p])==null?void 0:_e.length)>0?e.jsxDEV("div",{className:"grid grid-cols-2 xl:grid-cols-3 gap-4",children:T[p].map((G,C)=>e.jsxDEV("div",{className:"relative group",children:[e.jsxDEV("img",{src:G,alt:` ${C+1}`,className:"w-full h-40 object-cover rounded-lg cursor-pointer",onClick:()=>Ue(G)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:689,columnNumber:23},void 0),e.jsxDEV("button",{onClick:()=>Ae(p,C),className:"absolute top-2 right-2 p-1.5 bg-red-500 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsxDEV(ot,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:699,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:695,columnNumber:23},void 0)]},C,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:688,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:686,columnNumber:17},void 0):e.jsxDEV("div",{className:"text-center py-16 text-gray-500",children:[e.jsxDEV(us,{className:"mx-auto h-16 w-16 text-gray-300 mb-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:706,columnNumber:19},void 0),e.jsxDEV("p",{className:"text-base",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:707,columnNumber:19},void 0),e.jsxDEV("p",{className:"text-sm mt-2",children:"  Ctrl+V "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:708,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:705,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:660,columnNumber:13},void 0):e.jsxDEV("div",{className:"text-center py-16 text-gray-500",children:[e.jsxDEV(us,{className:"mx-auto h-16 w-16 text-gray-300 mb-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:716,columnNumber:15},void 0),e.jsxDEV("p",{className:"text-base",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:717,columnNumber:15},void 0),e.jsxDEV("p",{className:"text-sm mt-2",children:"     "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:718,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:715,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:658,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:407,columnNumber:7},void 0),e.jsxDEV("div",{className:"desktop:hidden space-y-3",children:[se&&e.jsxDEV("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:" *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:732,columnNumber:17},void 0),e.jsxDEV("select",{value:Ee.project,onChange:G=>He(C=>({...C,project:G.target.value})),className:"w-full px-3 py-2.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 bg-white",children:[(s==null?void 0:s.name)!==""&&e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:740,columnNumber:43},void 0),n.map(G=>e.jsxDEV("option",{value:G.name,children:G.name},G.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:742,columnNumber:21},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:735,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:731,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:" *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:751,columnNumber:17},void 0),e.jsxDEV("input",{type:"date",value:Ee.date,onChange:G=>He(C=>({...C,date:G.target.value})),className:"w-full px-3 py-2.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 bg-white"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:754,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:750,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:" *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:764,columnNumber:17},void 0),e.jsxDEV("textarea",{value:Ee.description,onChange:G=>He(C=>({...C,description:G.target.value})),rows:4,className:"w-full px-3 py-2.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 resize-none",placeholder:"  "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:767,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:763,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:" *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:778,columnNumber:17},void 0),e.jsxDEV("input",{type:"number",value:Ee.amount,onChange:G=>He(C=>({...C,amount:G.target.value})),className:"w-full px-3 py-2.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 bg-white",placeholder:"0"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:781,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:777,columnNumber:15},void 0),e.jsxDEV("button",{onClick:Oe,className:"w-full py-3 bg-gray-900 text-white text-sm font-semibold rounded-lg hover:bg-gray-800 transition-colors",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:791,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:729,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:728,columnNumber:11},void 0),e.jsxDEV("div",{className:"flex border-b border-gray-200",children:[e.jsxDEV("button",{onClick:()=>De(!1),className:`flex-1 py-2 text-xs font-medium border-b-2 transition-colors ${ce?"border-transparent text-gray-500":"border-gray-900 text-gray-900"}`,children:[" (",r.filter(G=>!xe.includes(G.project)).length>0?ge.filter(G=>!xe.includes(G.projectName)).length:0,")"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:803,columnNumber:11},void 0),e.jsxDEV("button",{onClick:()=>De(!0),className:`flex-1 py-2 text-xs font-medium border-b-2 transition-colors ${ce?"border-gray-900 text-gray-900":"border-transparent text-gray-500"}`,children:[" (",xe.length,")"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:813,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:802,columnNumber:9},void 0),ge.map(G=>e.jsxDEV("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsxDEV("div",{className:"px-4 py-3 border-b border-gray-200 flex items-center justify-between bg-gray-100",onClick:()=>me(G.projectName),children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[f.has(G.projectName)?e.jsxDEV(Wa,{className:"h-5 w-5 text-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:834,columnNumber:19},void 0):e.jsxDEV(qa,{className:"h-5 w-5 text-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:836,columnNumber:19},void 0),e.jsxDEV("h3",{className:"font-semibold text-gray-900",children:G.projectName},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:838,columnNumber:17},void 0),e.jsxDEV("span",{className:"text-sm text-gray-500",children:["(",G.works.length,")"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:839,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:832,columnNumber:15},void 0),e.jsxDEV("span",{className:"font-bold text-gray-900",children:[G.totalAmount.toLocaleString(),""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:841,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:828,columnNumber:13},void 0),f.has(G.projectName)&&e.jsxDEV("div",{className:"divide-y divide-gray-100",children:G.works.map(C=>e.jsxDEV("div",{className:"px-4 py-3",children:e.jsxDEV("div",{className:"flex justify-between items-start",children:[e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("p",{className:"text-sm text-gray-900",children:C.description},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:852,columnNumber:25},void 0),e.jsxDEV("p",{className:"text-xs text-gray-500 mt-1",children:je(C.date,"yyyy.MM.dd",{locale:ft})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:853,columnNumber:25},void 0),C.notes&&e.jsxDEV("p",{className:"text-xs text-gray-500 mt-1",children:C.notes},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:857,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:851,columnNumber:23},void 0),e.jsxDEV("div",{className:"flex items-center gap-2 ml-3",children:[e.jsxDEV("span",{className:"font-semibold text-gray-900",children:[C.amount.toLocaleString(),""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:861,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex gap-1",children:[e.jsxDEV("button",{onClick:()=>Re(C),className:"p-1 text-gray-500 hover:text-gray-700",children:e.jsxDEV(Ar,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:869,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:865,columnNumber:27},void 0),e.jsxDEV("button",{onClick:()=>$e(C.id),className:"p-1 text-red-500 hover:text-red-700",children:e.jsxDEV(bt,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:875,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:871,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:864,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:860,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:850,columnNumber:21},void 0)},C.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:849,columnNumber:19},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:847,columnNumber:15},void 0)]},G.projectName,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:827,columnNumber:11},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:725,columnNumber:7},void 0),a&&e.jsxDEV(sb,{isOpen:a,onClose:qe,work:m,projects:n,initialProject:N},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:891,columnNumber:9},void 0),x&&I&&e.jsxDEV("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-75 flex items-center justify-center p-4",onClick:()=>R(!1),children:e.jsxDEV("div",{className:"relative max-w-4xl max-h-full",children:[e.jsxDEV("button",{onClick:()=>R(!1),className:"absolute top-4 right-4 p-2 bg-white rounded-full hover:bg-gray-100 z-10",children:e.jsxDEV(ot,{className:"h-6 w-6"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:911,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:907,columnNumber:13},void 0),e.jsxDEV("img",{src:I,alt:" ",className:"max-w-full max-h-[90vh] object-contain",onClick:G=>G.stopPropagation()},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:913,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:906,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:902,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:405,columnNumber:5},void 0)},rb="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAZAAAAGQCAYAAACAvzbMAAAgAElEQVR4nO3dedgdRZ328W8ZIECIIYmENYAiyBZkEWRfRBQcBQFFRVAZtkFlhFdBUGEURhgVFBdcYEZRQEZhZJNFFAVEERVZJUIgsgZIZEnYEkJS7x/VkQfyLFV9qrqq+9yf6zpXuEKd7t+TPs+5u6urq0BEREREREREREREREREREQAMIP9pYVRwGoN1yIiImV6yMCCV/7lEkM0Xg24L209IiLSEmsAD7zyL1+VoRAREekABYiIiNSiABERkVoUICIiUosCREREalGAiIhILQoQERGpRQEiIiK1KEBERKQWBYiIiNSiABERkVoUICIiUosCREREalGAiIhILQoQERGpRQEiIiK1DLWgVCx/AK5JvA8RERncjsCWqTaeOkCuMXBs4n2IiMggLJxMwgBRF5aIiNSiABERkVoUICIiUosCREREalGAiIhILQoQERGpJfUwXi8WJuOGmq0JjMlcTr+bC5xn4P5eN2RhK2Ad3PEt4rPWxx4GzjXwXC8bsbAM8BZgdWASYCLUJvVY3KMS1+YqIOsvtYWxwAnAR4GlctYiL3Oihc0M3FbnzRY2Br4FbBO3LOnR4RY2NfBinTdbOBD4IrBi3LKkFxY+beDLOfadrQvLwvLAb4AjUHiUZgngG3XeaGE74PcoPEo0BfjX0DdZMBa+Dfw3Co8SnWhhQo4d57wHcgWwWcb9y/C2sbB0yBssrAf8EtfNIWV6W433fAY4LHYhEs1SwA45dpwlQCzsR8LH6yWKJYANAt9zKjA6QS0Sz5SQxhZWxgWIlC3ouMbSeIBY9wWTpb9Ogk30bWhhe2C3hLVIHN7HtHIysGyKQiSq0OMaRY4rkL1xZzVSvpB+1aOTVSExTbCev/fVIJf9EtcjcfTNPZC9MuxT6vEaUl0N7dwlcS0Sh8G/m3FvYFTCWiSeLI8/5AiQOjfxJI/Znu22RyPp2sIaeN6z7U5JK5GYfH9Xo2o0QKx7qGxsk/uUnjzl2W6rpFVITP8IaKvj2h6+v6tRNX0Fog9ku9zr2U7HtT28jml1/2PtxLVIPL6/q1EpQGQojxr4u2dbHdf2uN6zXZbnCqQ23+MaVdMBojOa9viqTyPrnkxWt2Q7vICbYsaHflfb43oDt+TYcdMBsmrD+5Nw83BTVngFCDqmbTEDOCBgkkwd13a4Bvhwrp03PZniKgFtp+GmT/i1cbNOSplCjinAucBnY8z2K0mFHNf5wMeBc3qd7VfapbEAse5pVt+ujvnAHgamJixJ4gj5ovkj8JG6s8FKo0KO67EGzkhWiRSryS6skCclr1N4tMbyAW2/q/BoDd/jugD4TspCpFxNBkjIDK2XJ6tCYgs5rpcmq0Ji8z2u16rbqn81GSAhU4PfnqwKic33uM4yYQ+xSV6+x1W/q32s1ACZmawKic33uOqYtouOq4yoyQAJWSfisWRVSGy+x1XHtF10XGVETQbI/IC2LySrQmLzPa46pu2i4yojajJA5ga0DVpKVbLyPa46pu2i4yojajJA5gW01YeyPXyPq45pu+i4yohKvQJ5Q7IqJDbf46q5ldrF97jqd7WPlXoFoplA28P3uE60MCVpJRKT73HV72ofazJAZgW0PcTCCskqkZgeD2j7uWRVSGy+x3VDC3skrUSK1ViAVFNY+I4ZHw9cYGEb69ZwlnI9GNB2Hwsn2fAJGKV5Icf1B9YdW90P6TNNz8b7EDDJs+32VIukaCre5J4Ergb+nwn74gB3TEMcCxyrY5qcBe4BzgO+aMKH24Yc1/HATxbtVJKaB/wZON7Ar3MX0/R6IKFfTtKM8cB7gKkWtgl8r45pmQxu4MLxwG9t2KSXoONaqtG439GrLfxH7mKaDpA7Gt6fhBkD/MIGzJxcTaTnu/St5LEF4dOt63e1fJ+38O6cBTQdIDc2vD8JNwb4bOB7dFzL914LGwe0v4mw2SMkj5MsjMq1cwWIDOZgC0sGtNdxbYfDfRsaFx5Z1tmWIOsBO+baeaMBYtworJub3KfUMhZ4Z0D7n6cqRKJ6b+CJwZXJKpGY9s2146avQMCNCpHyeX8ojRvto7PV8oWeGPwoVSESVeiJQTQ5AuR/M+xTwoU+Yazj2g7ex7U6MbgtYS0Sx1hgkxw7bjxAqucM9GVTvhVs2HNCZ+CeJ5GyrR7Y/stJqpDYJufYaY4rEIBPEjY3luTxWt+GxoVH9nHpMqKgLxoD56JBEm0QemIQRZYAMTADeD9uehMpV+iH8nSqJ5KlWHW+aN6LHiwsXV9dgWDgItyN2udz1SAjCj1bXQh8EN18LdmkwK7JRd3OO6AHRkvWXwECYOB8XDfJdwmb1VWasUzoGwwsMPBhYFvcXD1a8rQ8Y0LfYFx4rAscAUyNXpH0Kvh3NYamJ1NcjIHHgMOAw6x7KGbFzCX1gy2Bk1PuwMDvgJ0tLIUbIZLlA95nPgu8NdXGqwkZvw583cJEYAMyn4T2id/kLmAo2QNkIOPObHR2k5itcQZaV/Wlo5uwDbBwcFP7Mq7H4Lqm9tfPSp7hWGcPIiJSiwJERERqUYCIiEgtChAREalFASIiIrUoQEREpBYFiIiI1KIAEemOkh8ZkPqKPa4KkP5U7AdSRNpDASIiIrUoQEREpBYFiIgMycKhFqZbsH3+mmnhA7mPR2kUICIyKAsH4ZZa8F6ZssNWAH5k4Q25CylJUbPxhrAwDrfmxJrAGtWfi/57Im620FnAzAF/3g9cYOC+HDX7srAj7oM6HjeT7Q0G5uatSvrQJ3IXUJglgLcDd+UupBStChALywN7APsAb2P4+idVrw1e8fdfsXAT8FPgxwYeSlFrHRZGA/8LvPsV/+spCx8ycGmGsqQPWXcytmHuOgq0Re4CStKKLiwLO1q4DHclcRbwDnoLv82ALwEPWri2WsiqBB9j8fAAF5yXWLesqEgT1s5dQKEm5i6gJEUHiIWxFr6DW5Gr19AYyvbAzRb+n83/73H4CP//vxqpQtoq5vM9a0TcVpeMzbDPYp/bKrYLy8JOwLnAyg3sbjRwKrC3hX2Nu1fSqKr7as0Rmm0Sb3flqoJ8BdyxHweYvBX90wLcvbQZBp7OXUxiOtMenJZmHqDIALGwP/BDmv/i2Bq4ycKbDdzb8L591oIfbWFlA48kr6YhFkbhThbejwvIlXH3rkblrGskFp4FZgB/By4BzjcuXLpiYe4CCjUndwElKS5ArLsHcBb5zjonAr+2sIWBxxrcr+/Pu2TSKhpiYTvcicLewITM5dQxBnefYG3cgI6vW9fV+mPgHAPzcxYXwYLcBRRqdu4CSpK7z/9lrLvPcT7561od+JXN09/ZaRaWs3AGcB1wMO0Mj8GMAt4KfB/4k4W1MtfTq7tzF1Coe3IXUJLcX9T/ZN3N7Asp56poQ+ByC0vlLqQrrOsivAMXHF32RuA2CwfmLqQHv0FXIYO5PncBJSkiQCxsCVxBeV/W2wKfy11EF1h3dn4t/TO6Z1ngvy0cm7uQOoy7x7MP7e+Ki+kvuMcJpJL9bL+6ifpT3C9ciY6ycHrD90M6pTpBuJQCPm8ZnGThQQPn5C4klIGfVTM+rI+6c58GbjXwYu5CSlLCL/QBwOTcRQxjaeAE4NDchbSRdQ9t/hL379ivzrLwDwNX5i4klIHncTM3iCwmaxdWdfVxfM4aPB2oSdTCVU/4Xw0sl7uWzEYBF9p4z/EMpejne6S2Yo9r7nsg/0rZVx+LjMJNfSKerBuWfAGuC0TcFdjFtvDnW0RCZAuQ6hfpuFz7r2EP626qd0ETZzQH4PrO5SWTgUNyFyESS84rkLfR+9XHXNzN2U8Be+KGT47B/VwTgNfjZs/8d2Baj/sCN9mhjKCalkXzdg3ueNvf94OkQ3LeRN+jh/f+CfcFdUV1k28wT1ave6v237SwM3AisFXN/e5mwZiC+yQLcRRuLitZ3ErAx4FTchci0qucVyDvqfEei5v0cGsDPxsmPAZl3A3d7YDPUG98+zjgzTXe1zesWwSrlc8+NOgY666URVotS4BY9yUcOtvnC8A7DXyql7HYBhYYOBl3FfJsjU3sWnfffeJQyn2mpxQTgf1yFyHSq1xdWKHdVwuAvQ1cHqsA42bd3RM3Nj8kSHcDPh+rjg7aq4f3TsNNpHk1bvGwWSVNm15NMz8RN3PyurhRhLtSb+LPdwHfi1ddGtZ1RR6ATgr+ilsOW93XA7QhQCywv4Gfxy7CwC+t64/+dsDbNrcwzmhWzsVY17+/eY233gccbOBXkUuKyrgpzmdVrzuACyy8Fvgf3JT0IXaxsKyB5yKXGY11YXk7fksN9INvo4E0L9N4F1bV9xsyvPM8A+elqse8tOJhwFvYJlE5bfe+Gu85A1i/9PAYinHrgewMfJaws9OlgF0ilxP77PggFB4DfdTCazLst9irnhz3QDYOaLuAZiYzPDmwvdaLHlxo99XpBg4NHQxRGgPWwEmEDx54V4p6Ito6dwEF0snjADkCJOTq43vVGV5Sxs3VdEfAW9ZJVUtDop/RWLfQVciDlpcw8hrwrWLcbAUhkyZul6qWSF6bu4ACtf13P6rSAyTk3kSvvhvQVlcgi9sI/8/TbOBDHb0h+VHgKc+2ry98vRlNQ7O4fp+V+GVKDpBpxo18aMrFAW0VIIvbNKDtV7s6CKEaNfZNz+avAqYkLKdX/T4J5mAUIAPkCJANPNudn7SKVzDwEDDVs/mamhRvMb4BMhv3MGiXfQ3/+zobpSykRy/kLqBAWg9kgEYDpBqBtapn8/9LWcsQQp4z0fTuL+c7VflPTL0HOFvDuCl0fIedl3wFMid3AQXq5JVzXU1fgfj+srxg3PKRTft9QFvdTKtUD9j5XoFckbKWgvgOSy45QO7PXUCBFKoDNB0gK3u2uz1pFUO7J6Ct78/SD9bHjcIayQLgqsS1lOJqz3YxAyT2oIRbI2+vC0JGa8ZS7GCTpgPEdwK5O5NWMbS7AtqOTlZF+6zu2e6vJT95HZNxs0A/7tF0RZt/Ybeh+IZgv3gOuDZ3ESVp+oPrO59OlgAxMA+Y4dlcAfIS36dzc50Y5OJ7QlLk1PfVGu6fw6270+9eAI4w7ipaKk3PhVX6FQi4AFnFo50C5CW+AeI7yq0r7sbvae7xwGOJa6nFwBdxr0ZY9xzN6SM0exZ4ZwPlDPQ3A482vM/ilRogM5NWMTzf2V/bHCCx+1QVIIO727Pd8kmr6J4XDVyTuwgp9x5Izn7yZzzbtTlAYvMNkH47g3vIs934pFWIJKIAWVw/XIHE5hsg/TYE0vdkRFcg0kqlBkjO2Vl1BRLON0CKWRyqIb4/r65ApJWaDpClPdu14QrE92fpBwqQwekKRDqt6QDxXfpzYdIqhuc7102xD/dk4Ds8u9/mEfId/up7ZT4SfSa7qdjjWuoDTG2g8eAv8Q2Gfuv2852qfV7SKkQSUYDUpwB5iW+A9Fu3n29gKkCklRQg9SlAXqIAGZzvz6tp06WVFCD1tbk/P3afqgJkcLoCkU5TgNSnK5CX+AbISkmrKI/v6DQFiLRS01OZdIkC5CW+AbI2boK+fuG79HHxXVjWLeX6fvwXhKtr88Tbl4gUIPUpQF4SEiD9xPfnLfoKxMK+wH8Dy+SupTLONje0dR7wC+BIA9Mb2mdrqAurPgXIS/7h2e71Sasoj+/P67NuSBbWheCZlBMeTRsN7A5caPtvGPqIdAVS3zYWPh9xe+MibqtpvmdmW1sY1Q9rKlj3hbuBZ/OQlTBH2G105+L/oGiXbQR8ADgrw76LfZBQAVLfttVL3Op7PsYB29EfU3G/A78HCReYQtcet+5LU/ckXvIO8gRIsdSFJTGE9A3vnqyKsvj+nNOSVtGb/XIXUJjNchdQGgWIxBASIPvbjvenW3eltbdn81jdV1FZN2/dB3LXUZjJuQsojQJEYvDtwgL3bMThqQopxLH4T5BYZIDglnVeLXcRhVnStvteZXQKkP4U9aacccN4fVffAziqq1chFiYCnwh4S6kBskLuAgqlABlAASKx/D6g7WuAH1v/6f1bwcIo4BzCpmz5U6JyejUpdwFSPgWIxHJpYPt3A6elKCSjs4BdA9o/TrkBMiF3AVI+DeOVWC7FdY2FXFX8u4U3AAcbeDBNWelZWAs4A3hL4FsvMuWO8R/l0eYWYHbqQhoyCVgvdxFtowCRKAzMtvBbYPvAt74duNvC94HvGrg9fnVpWPeMxEHAR/BfPGqgS+JW1HgYHW7g+ob3mYSFD+K6H0tU6kmGAkSiupTwAAF3z+CjwEct3Ia7sTyrepX01PoSuJvLK+DOVtftYVsvAL+MUZRILgoQieks4ER6W/djo+rVdecYeD53ESK90E10ica4SRW7dmM8hQXAF3IXIdIrBUh9XzJgYr2o1/VToi8Bz+QuonA/NPBA7iJEeqUAqc9nlEqpkt2UM/AUugoZjq4+pDMUIPW1OUBSO5XuDO+MTVcf0hkKkPoUIEOorkL2BRbmrqUw9wGfzl2ESCwKkPr0bzcMA5cDh+WuoyBzgLcZ/9UbRYqnL8H6dAUyAuOezj4ldx0FmA/sbtKv/VHsA2fSk2KPqwKkPgWIn6OBi3IXkdlHDFybuwiR2PQgYX0KEA8GrIX34KY4P5H+Wl/7IeBAA1flLqRtLIwFplBvipg6NA9WDQqQ+hQgnowbuvpVCz8FvgHsmbmk1BYC3wI+Y+DZ3MW0jYXX4aa08V2USzJpugvrxYb3V4fvbLIKkEAGHjKwF+7M8ivAzMwlxfYA8J/A6wx8QuFR25dQeLRC0wHi+4Ryzm6OsZ7t5ietosMM3GHcvZGVcbPxnkN754V6HvgxsAuwpoHjDNyfuabWsq7L6l9y1yF+mu7Cetqz3VjgkZSFDOPVnu2eS1pFWkWM6jCuq+cq4CoLH8KdOIwBlqv+HAOMppyVC1/EnQQ9W/35DPBMwWt6tNHr6Ohyx13UdID4XoH4fomn4LvmcZsDpDjVl/Cz1atrXVvib3zuAkagk4UBmu7CCrkCyaUfrkBESrV87gJGkKtnpEil3gNZI2kVw1vds51ukEppunB2XPKJ2SMmz0CgYo9rqVcgU5JWMQTruq/W9Gxe8gddpFc+gxpSDCR5MsE2Y9HDoK9Q6hVIlgABNg1oqwCRLvMZSTY9wX7vptxJOM/KXUBpmg4Q3+GNChCRvO5k+P7+m4xbsz4qA3OBm2JvN4IH0IwCi2k6QKbinkoeyUoW3pi6mEHsGtB2RrIqRDKr1ms/EDc1/yvdB3wk4e6/mXDbdTwNvFvDtRfX6DBeAwss3AWs79F8P+DWxCX9k3UPte0c8Ja/pKpFpAQGrrCwNvA+4G24qeivBC4yCR+kNXC2dd3dB5N/7rTpwGnGTa0ir5BjLqy/4hcgH7JwdIOpfyj+D6w9bNrdhaUzKfFSrV9yevVqcr8X4l5SsBzTuf/Vs90k4F9TFrKIdWPPPx7wljtS1SIi0hY5AiTky/dk28xDhacAEwPaK0CkRLqy7KZij2vJVyAAKwAnpSoEwMJWuJuFIRQgItL3cgTIXcCjAe0/Zt3NtOgsrEu91fIUICLS9xoPkOqm+E/C3sIZNuwexYgsbALcgLvXEuJJGhwdJiJSqlxrov+0xnu+aeFiC+v0smMLr7ZwMvAH6k3cdn7KIYwiIm2RJUAM/J6wbqxFdgfutPA9C9vYgHUiLKxp3SJG04FjqL/W8o9rvk9EpFNyrol+HnBkjfeNAg6pXjOtGys+DXiies3BPXw0Abe2wCrAbsBGEWqeCVwXYTsiIq2XM0B+Sr0AGWgS7gHApvxI0xkMzcLGuG7BRVeGRv/d6H9vRmTWrQi5Oe67opSfs9/+u25vSXLZAsTAHyz8EdgiVw2B5lHeHD11RQ1BC6sBV9Pj/Skpi4UP455AH5O7FilTrpvoixxKe87oTzFuRk5Z3KUoPDrFui7f/0HhIcPIGiAGbgHOzFmDp1kkfqCxraybAn/j3HVIEJ/VND+Mu98o7eC71lJUua9AwI2I8l2pMJejTLsnT0zpTbkLkCD3Gr9lWXVc2+WuHDvNHiDGPZh3fO46hnGLgR/mLqJgq+QuQIL8zbPdakmrkNh8j2tU2QOk8g3Cnk5vyixgn9xFFE4B0i5TPdutnrQKic33uEZVRIAYtwbyB6k3L1UqTwA7GPeMiQztNbkLkCDnj9TAuhvnOYf4S5jpZFrwqogAATBuqdv3ApfnrgWYDexkMqV6ywy25KmU6RfGDZ0flnE32V9ooB6J4/PVSXjjigkQgOrm3p7kDZFngJ2NlrD09VjuAsTbpwPa6ri2w3Tg3Fw7LypAAIw789kD+ATuSqBJFwIbGrip4f2Cu9/iI8YZ/0zPdk94tLmll0KkMZeasFmkb05WicR0bK6rDygwQMBdiRh3Y30t4Nu47q2U/grsaGAvA/cn3tdQpgFzR2gzy7i5vnrlO+RvukebK2nPw6D96rfABwLfc2WKQiSqI029mc2jKTJAFjHwuIGP4UaEHIGbxTeWR4BvATsAUwxcG3Hbwap7QKeO0CzKQ5fVvk4fodk9wF88tjUbtySwlOkKYBfj9/DgQD9EA0hKZYEDDZyWu5BBWVjDgo3wOjlBbZMtfNLCjTXqecTCtyxsHzIVfFMsLGvhVAtzX1H3XAunVBPbxdrX0tYt1DXYv9NsC9sFbGsJC9+w8ESkz41evb3mWPiBhbf08jm3sL6FKy28WMDPpBdMs3C8hTUCjuHJkfY96LDuQT9cVYH31fzcDfRfBo6NsJ1BWfeFugJuVt4VBrxGA//A3VeYWf05yzR/T6UWC0viDtgquNr/btxkjin2tQXwdmBr3NP204HTDDycYn8i0hzrTuKPibCpNQabC7DVY72rL9WHqldnGLfi4b3VK/W+/ojH0E4RkVcq+h6IiIiUSwEiIiK1KEBERKQWBYiIiNSiABERkVoUICIiUosCREREalGAiIhILQoQERGpRQEiIiK1KEBERKQWBYiIiNSiABERkVoUICIiUosCREREamn1eiAiIk2z8EZgfKbdzwNuq7FEcRLZAsTCGOBzwMbAFGDVXLUM4gngPw18LcXGLXwGOApYPsX2a5iPW//8SuAEAwt73aB1a81/BlgHmAyM6nWb0pMZwDEGzs5dSFtZ12PzC+CtuUuxbuXQLxs4I2chWQKkWjL3F8AbcuzfwwTgq9Yl/dUxN2xhV+CLMbcZwZLAm6vXasBBdTdk3WfqbOD9cUqTSFYBvm/hVgO3+bzBwvbAp4BXJ60svfnAncBNwMU9LG19OPnDA9xS5GsB37OwqoH/yFVI4wFiYRzubHdC0/uu4WAiBwhwSOTtxXaghXuNW0s5SBUelwC7xS9LIlgC2B939Tss63oErgSWSV1UQxZ98d9tYTfjzuBDvSNmQZEcZ+HbBh7LsfMcN9GPoh3hAfC2mBuz7swh6jYTOd7Ca2q87zAUHqV7i2e7g+lOeAy0DvBnC+uGvKnqvto6TUk9McA+uXbeaIBUVx9HNLnPHo23cW+WTcTd+ynd0sCxIW+wMBb4QppyJKL1PNttk7SKvMYDxwW+ZyKwXIJaYsh2rJq+AtmNdnyBDhTzQ9Omnz30HsZB5BuZIv58rypem7SK/N5vYc2A9iX/7q6Sa8dNB8jaDe8vhpgfnJI/hK+0ig27ebp/skokKuv3OWzTZ7WOVwF7BrQv+d8j2wjWpgPk9Q3vL4Z5hW6rCV6j5Kr+5E0S1yLxPOfRZunkVeS3YUDbucmq6N3kXDvWFcjInoq4rbrDB3OZ5Nnu7UmrkJieNmA92j2TvJL8QgJkTrIqerdkdQ+ycU0HSLa+uh7E/NJ/IuK2SvKm3AWIN98Toq5+VgfaIKBtyQECmaalanqnbZt76+4YT2UvUm3r3ljbK4gCpD2merbrhwAZU40MHZFx3c8zEtfTOm37Qm/aVQm2+asE28ymerYlaEy9ZHWFZ7tbklbRTtfkLqA0CpChzQVOS7DdU4AXEmw3l5LmMJPhTQXO9Gx7ecpCWuobuQsoTYmz8c4ApmWuYRbwNZOgu8nAPdbddP4E+Z6bGIebxDKG0BEgzwM/Ae6PtH/x8zBwrvEbgQXuSvl6YNt0JbWLgRutm0njs7gh7gur14Ih/vT9u6H+3wLcpKTFKjFALjbw0dxFpGTcpXC2y2EL2wHXRdrc6gFt5wNb+k7mJ/kYN+PrjsBGeN4nKMQ44GgSTTtiXA/CKSm2PRjrN2IumxIDRNol5CrqNIVHexh3Bnxz7jpCWTfT999ws35LQroHIr1aNqDtJcmqEKkYd//y57nriKToKxAFiPQqJEBuSlaFyMv1w4OQ2SlApFe+AfKkcTfQRaQjFCDSK98AeTBpFSLdpC4s6TTfgRiPJK1CRBqnAJFe+c4wPCppFSLdpCsQ6TTfaa77YXpwkb6iAJFe+V6BKEBEOkYBIr3yvQJZ38JSSSsR6R51YUmnPenZbllg55SFiEizFCDSq5A1Er5mYflklYhIozQXlvQqJEDeAEy3cEHg+yTcQuAe4ErTH4tDdVXRXVgKEOlVaBCMBw5OUYgM6gkLBxq4KHch0j0KEOmJgcesW2dbXVNlmgD8zMI+xl35SY+sm6hxuRGa3Wbg3+PsrlwKEInhz8BbcxchQzLAtyz83PiPmpOhbYdbUGo4ffHgrG6iSwx/yV2AjGhF4JDcRXSEyV1AKRQgEoOmaW+H/XIX0KCU321NBkjRXVgKEInhl7jlaqVsm1t4fe4iUrPue03PHDVA90CkZwaetHAx8J7ctciI9gVO6GUDFtYDdgImRakovu2ATRNuX1cgFQWIxPIlFCBtsG3dN1r4HHAEMDFeOa2keyAVdWFJFMaNxNIw0fKtEPoGC0tYOAc4EYWHDKAAkZiOBhbkLkKGFdTtZN3Z9i+BD6Ypp5XUhVVRgEg0Bv4O7I2eNSjZyoHtDwR2TFFIi6kLq6IAkaiMu5m+JfC73LXIoIyFsT4NrZtB+aTE9YQUR8sAAA/WSURBVMjwir4C0U10ic7ArcC2FrYC1gEmo89aE/YCpni08z1xPI4a90xaxndBtIF0BVLRL7UkY+AG3EsaYGFt/ALE1/sjbqtEj9Sc2kUBUul8F5aF3SzcYOFRC89buNvCWTHXpbDwbxZusmAjvR63cJGFI6w7exdpVLV65Jq560hsau4CPBTdhdXpALFwJHA5rk9+Rdy63GsDHwZu9+0LHmEfnwS+Q9wHlyYAewBfA262sEnEbYv42DB3AQ2oGyC6Aql0tgvLutEmXxymyWq4Pt6je9xVjCmbhzMR+K2Fdxn4TeJ9iSyyfu4CEnsROLPme30CZIqFa2puf6BlImwjmc4GCO6J25H+8XfpZQfWrbC3ei/b8DQGuMTCZOPW3hBJbbXcBSR2UjXYI5VxwA4Jt1+ELndh+Uwat3aP+wgdU9+L5ej9aknEV1e7aRYCX6hedXX13yZYl69Axnm0GdPjPsb3+P5QR1r4qoF/NLxfkeEswK0J81zuQoZgcevCPwT8n4HretyeAqTS5QBpQtOrji0NvAP4UcP7FRnKd4FPG5iTuxBpngKkNzMz7HO9DPuUdmh6yOc84HDjbkj3E12BVLp8D6QJChDpZ4/1YXiAAuSfFCC9mUbzl+4KEBEpggKkB8bdPPxZw7tdseH9iYgMSgHSu+OAR3MXISLpWXVfvYxuovfIwEPWrcF8CLA54R+wMbgJ8EbHrk1EJCUFSAQG7qGHh/ysWyXuD8BroxUlIinoCmQAdWEVwLjRXAfmrkNERqQAGUBXIIUw8BsL9wJr5a5FRHo2G7glwna2pfkHlr0pQMoyFQWI1Ff02hEd4XsFcquJsJa8dUH06l63k4q6sMrySO4CRGRYvgHSF2GuK5CyLMhdQC4WVsUtyrVy9Vqp+nMc5fQ7L8Ddr5qBC/sZwH3AH4yb5VVkkb74PChAJJsqNN5TvbahnKAI9ZiF84HzgBtMn5x9AkvmLiAD389oXwSIurCkcRZeZ+HXuOm1T8PdKGxreICbHeDjwO+A+y28O3M9TVnZunVq+om6sAZQgEijLBwG3A7slLuWRCYDF1o408KyuYtpwKG5CyiUrkBEYrGwkoVfAd+mP75YDwJus/DG3IUk9gXbXxN86gpkAN0DkeQsvAb3pP0auWtp2FrADRbeZODO3MUkMga42cKfaNcgkGnACQYeDHyf7oEMoACRpCwsA/yC/guPRZYBrrSwmYFZuYtJZDTuPlab7AC8ycKmiQY99EWAqAtLkrHu83UBbnhuP5sMXGbTj1rqi26TiDYm/F6curAGUIBISt/BreEubqbm7+cuIsDjuQtoSKoA0RWISF3W/WIekruOwuxn4V9yF+Hp7twFNCTVAAAFiEgP/it3AYU6IXcBnqblLqAh4wLbqwtrAAWIRGdhN2CL3HUUalMLO+cuYiQGHgbm5a6jAaETFaoLa4C+H4VlI8yYGdEquQuI5OTcBRTuOODq3EV4OA/4SO4iEks1A0JfXIH0fYAAv8ldQJdYd+XR9YfnerWDhfWMm76/ZMcD+1PwehQRzA5sryuQARQgEtv7enz/bOAG3DMTs4Cne64onlcBE3FzX60LbNDDtvak8AAx8KCFM3DTz3TVU4HtFSADKEAktg/WfN/vcMN+LzAt6Xu38GbgY7ifOfR+4l7ASdGLiu8E3M9X7KJGPbo30Xb7ogtLN9ElGuumZF8x8G3PAIcZ2NbAuW0JDwADNxr4EO6p5tDFwDazbr2TmKJ/aRl4FPcg6F2xt12I6wLb6wpkAAWIxBTaffUYsJGB76YopikGrgc2JHy+q30SlBOdcWfpmwE/y11LZHcBVwW+Zw7wnEe71pwI9UJdWBKFdWdmIV+ITwNvNfD3RCU1ysATFnYFbgXGe75tT+Dr6aqKx8CzwN7VVdMGwBTCn6EoyRzgIgMvhrzJwEILl+MWQRvOn2pX1iIKEIllPcK6rz5t4I5UxeRQ3XQ+EjjL8y3bWhhlWjSLrXFddY/gpubvVx/BTfWyD4OfLFwGnNloRZmoC0tiCRm6eydudE8XnQ38zbPtKGCdhLVIAgaeNfBvuBF5KwNb4abu2QlY28A723RS0AtdgUgsGwW0Payrv2BVF8cxwEWeb9mAwofzyuCqaeAfrV59SVcgEovvFchUEz7ypVUMXAzM8Gy+fspaRFJSgEgsvgFyYdIqynGxZ7teHkYUyUoBIj2zsDz+83j1S4D83LOdAkRaSwEiMWzm2e45A39OWkk5fLvp1rXx5prqi6efpRx9HyAGTCkv2vtAne9657cnraIgxj1h/7BH01HEfyJdpBF9HyASxUTPdrclraI8vk+mt/mBPOljChCJQQEyOAWIdJoCRGKY4NnOp0unS+7zbKcAkVZSgEgMvlcgoWsvtJ3vYkUKEGklBYjEoAAZnO/PqwCRVlKASAy+XVj9FiC6ApFO01xYEoPvanVzklZRHt8AibXaX/TnQCyMBd4LvAVYBrgG+ImBmbH3Je2jAJEYfCdG9F3Nrd8ErUnRFAuTcQsurTvgr/cCPmlhZ5NuOdjiWZgEfAA3A+983JLMPzPwQNbCGqYAkRh8vwCXTlpFeUZ7tit19bof8PLwWGQN3LT1WzdbThksrAVcC6w64K/fAxxvYU/j/l9f0D0QiUEBMrjWBkj1JbnzME22soOHSz/4AS8Pj0XGA5dX3X59QQEiMShABucbIC8kraKe4cJjkZ2SV1EYC68HthumybLAoQ2Vk50CRGLwDZBJSasoj+/otOKuQIDVPdoMdhbedW/xaPOO5FUUQgEiMfgGyGuTVlGe13m2KzFAJnu06ccA8fmZff7tOkEBIjH4BojvF2pX+AZmiV1YPg+HviZ5FeXxWfdGASIS4B+e7XQFMrjHk1ZRj8+Q634clj3Go43vva/W6/sAsX4fiKYslbuAmv7u2W7bpFUUxLov1008m0+Pt1uR5vR9gOCWYy1FW28y+wbIZAtvSFpJObbEb4qSBfjP2itSFAUITMldwAAr5S6gJt8AAdg1WRVl8f057zf+T/KLFEUBAvvkLgDAuqd6N85dR00KkMX5/px9Ox2ItJ+mMoEDLGwO3Ag8lGH/y+L6ynemvTcl7wlou4uFNU2Hu22sO55beDaPdf9DpHFdDpCQG4obVq82WJi7gFcy8Lx1I4l8hn6OAk4F9k5bVVbfCWirKxBprS53YZX4cFYMc3MXMIQbAtruZWHfZJVkZOFjwJsD3vKnVLWIpNblAHkudwGJlBqMPw9s/30LmyapJBML2wBfD3jLbOC3icoRSU4B0j5P5y5gCJcFth8N/NoWMoihVxYOwK2dMSrgbVdpBJa0WZcDpKs3aR/LXcBgjBuAcFvg28YBP7Fwtm3pEGYLq1q4BPg+bkBEiNCrNo9yRJrT5QAJ/TJriyIDpFL3C3E/4EELF1vY08IUCyvZsLP55CwsYWFlCxtZeJ91V10PAO+qtzkuj1uhSLM6OwrLwAPWnRWvlruWyEq+sroM+EzN9y4B7F69/qnDp9R/NP5ziIkUqctXIBDeL98Gt+QuYCgGfg/8OXcdLREy1FekSF0PkG9R4HMTPZgP/Cp3ESM4MncBLXA3bk1xkVbrbBcWgIE7LHwDOCJ3LZFcbOCp3EUMx8D11b2Bf8ldS8E+ZbpxYrOVhWtyF9Gw9XIXUJJOB0jlaNzMqFvmLqRHc4FP5S7C0yeB3ej+FW4dNxi4NHcRkUwAdshdhOTT+V9w47p93orrzmrrPdm/AlsauD93IT4M3AUck7uOAs0BPpy7CJFY+uEKBAPPAodbOBHXtbIRsDruDKrUCQwX4IaIXgf8sG1dHga+Yt3l/gG5aynEAmB3A9NyFyISS18EyCIGZgI/yF1HHzkYN4x6l9yFFOATBq5NvI+2XmFLS3W+C0vyqabp2BOYmruWzH5g4PTcRYjEpgCRpKruw62AM3PXksGigQ8H5S5EJAUFiCRnYLaBQ4Dt6Z8FlG4Ephg4tW33r0R8KUCkMcZNXb4h8BW6+6U6FzgK2NqErdQo0joKEGmUgeeNezZnZdwIrfNxw1vbbA7u5/gQsIqBU3TVIf2gr0ZhSTmqEXFnAWdZ9zncAjdia8XqNan689WUM9R6LvAobkbkR6vXg8CN1fNGIn1FASLZGXgRNxGjiLSIurBERKQWXYGIdEfTDxJOA37c8D5z2xs3EERQgIhIfXcb+HzuIppkYR0UIP+kLiwREalFASIiIrUoQEREpBYFiIiI1KIAERGRWhQgIiJSiwJERERqUYCIdIdWJJRGKUBERKQWBYiIiNSiABGRupbLXUAGY3IXUBIFiIjUtXzuAjJYMXcBJVGAiEhd61lYJncRTbFucbONc9dREgWIiNS1FHC87YNZvS0sCXwRGJ27lpKUeOA3t302RXQGq8feoIV9gH1x3RqLlqA1+u/G/7tpxwDHaPxwfyoxQN5UvaQlLBwFfDl3HRLVwtwFtNj83AU0RV1Y0hMLY4H/zF2HBPEJh+eTV9Fdc3MX0BQFiPRqD1xfuLTDswae9mj3XPJKumte7gKaogCRXmlUSrvc4dnu0aRVdNuc3AU0RQEiw/G5NzoxeRUS0988292btIpum5G7gKY0HSAvNLw/6c1Mjzbjk1chMU31bKcAqU8Bkojvh1fK8IBHm2eSVyGxzAf+17PtTcCChLV02d25C2hK0wFya8P7k/qmG78rkMeSVyKxnG7gfp+GBmYDv0pcT1fdEHFbvidoz0bcp7emA+S2hvcn9f3Qs50CpB2eBk4IfI+GZ4ebC/w64vZ8rmYeMPBixH16azpALgQubnifEm4BcK5n29+lLESieBHY38CTIW8ycD3wnTQlddbZJu5zIBd4tPm/iPsL0miAGNcHuxdwCnpQqVQW92XjdRPVuACZnrYk6cE8YHdT/8Tt48D3ItbTZfcDn4q5QQOn415DeZyMV4qND+M1sNC4qS/WAD4HXAo83HQdMqhrgd0MnBf4vj2BOxPUI715FtjFwBV1N1D9vv4b8E7glmiVdc/1wJYmwTMgxoX4jsDZuBO7F4H7cFceGxp4IvY+fWWbC8vALNzsltJyxt3b2sDCRsCE3PUIL+KGkj5oIs3LZOAy4DILmwDjYmyzQ2aYxCOvjDu5uzblPuoocTJFaSmjQRKdZ+Dm3DVIOfQkuoiI1KIAERGRWhQgIiJSiwJERERqUYCIiEgtChAREalFASIiIrUoQEREpJbUDxLuaOHkxPsQEZHB7Zhy46kDZMvqJSIiHaMuLBERqUUBIiIitShARESkFgWIiIjUogAREZFaFCAiIlKLAkRERGpRgIiISC0KEBERqUUBIiIitShARESkFgWIiIjUogAREZFaFCAiIlKLAkRERGpRgIiISC1msL+0MApYteFaRESkTA8bWJC7CBERERERERERERERERERkWL9f8GkA7e6iMNFAAAAAElFTkSuQmCC",ib=()=>{const{projects:s,constructionPayments:n,loadConstructionPaymentsFromAPI:t,addConstructionPaymentToAPI:r,updateConstructionPaymentInAPI:i,deleteConstructionPaymentFromAPI:a,executionRecords:o,payments:m}=os(),[c,p]=d.useState(n),[u,f]=d.useState([]),[b,N]=d.useState(!1),[j,x]=d.useState("cash"),[R,I]=d.useState({project:"",client:"",amount:"",date:je(new Date,"yyyy-MM-dd"),clientSignature:"",totalContractAmount:0,previousAmount:0,remainingAmount:0,startDate:"",endDate:""});d.useEffect(()=>{console.log(" ConstructionPayment: Loading payments from API..."),t().then(()=>{console.log(" ConstructionPayment: Payments loaded successfully")}).catch(D=>{console.error(" ConstructionPayment: Failed to load construction payments:",D),M.error("   ")})},[t]),d.useEffect(()=>{console.log(" ConstructionPayment: Loading additional works from API..."),An.getAllAdditionalWorks().then(D=>{console.log(" ConstructionPayment: Additional works loaded:",D),f(D.map(H=>({_id:H._id,project:H.project,amount:H.amount})))}).catch(D=>{console.error(" ConstructionPayment: Failed to load additional works:",D)})},[]),d.useEffect(()=>{const D=()=>{Ae()};return window.addEventListener("headerAddButtonClick",D),()=>window.removeEventListener("headerAddButtonClick",D)},[]),d.useEffect(()=>{console.log(" ConstructionPayment: Syncing with dataStore"),console.log(" constructionPayments:",n),console.log(" projects:",s);const D=n.map(H=>({...H,vatType:H.vatType||"percentage",vatPercentage:H.vatPercentage??100,vatAmount:H.vatAmount??0,payments:H.payments.map(ie=>{var Ce;return{...ie,type:ie.type||((Ce=ie.types)==null?void 0:Ce[0])||""}})}));console.log(" Normalized records:",D),p(D)},[n,s]);const[y,T]=d.useState(null),[te,ee]=d.useState(!1),[L,z]=d.useState(!1),[se,oe]=d.useState(null),[ce,De]=d.useState("remaining"),[Q,ne]=d.useState({projectId:"",totalAmount:0,vatType:"percentage",vatPercentage:100,vatAmount:0}),[xe,Ee]=d.useState({types:[],percentage:0,amount:0,date:"",method:"",notes:""}),He={:10,:40,:40,:10,:0},Ve=D=>D.reduce((H,ie)=>H+(He[ie]||0),0),Ge=(D,H)=>{const ie=y?s.find(ze=>ze.name===y.project):null;if(!ie||D.length===0||!ie.startDate||!ie.endDate)return"";const Ce=new Date(ie.startDate),Te=new Date(ie.endDate);if(isNaN(Ce.getTime())||isNaN(Te.getTime())||D.includes(""))return"";if(D.includes("")){const ze=new Date(Ce);return ze.setDate(ze.getDate()-7),je(ze,"yyyy-MM-dd")}else if(D.includes("")){const ze=Ce.getTime()+(Te.getTime()-Ce.getTime())/2;return je(new Date(ze),"yyyy-MM-dd")}else if(D.includes("")||D.includes(""))return je(Te,"yyyy-MM-dd");return""},de=D=>{const H=s.find(P=>P.name===D.project);if(!H)return[];if(!H.startDate||!H.endDate)return[];const ie=qe(D),Ce=new Date(H.startDate),Te=new Date(H.endDate);if(isNaN(Ce.getTime())||isNaN(Te.getTime()))return[];const ze=[];ze.push({type:"",date:null,amount:Math.round(ie*.1),percentage:10,status:"pending"});const U=new Date(Ce);U.setDate(U.getDate()-7),ze.push({type:"",date:U,amount:Math.round(ie*.4),percentage:40,status:U<=new Date?"overdue":"pending"});const J=Ce.getTime()+(Te.getTime()-Ce.getTime())/2,Z=new Date(J);return ze.push({type:"",date:Z,amount:Math.round(ie*.4),percentage:40,status:Z<=new Date?"overdue":"pending"}),ze.push({type:"",date:Te,amount:Math.round(ie*.1),percentage:10,status:Te<=new Date?"overdue":"pending"}),D.payments.forEach(P=>{var $;((($=P.type)==null?void 0:$.split(", "))||[]).forEach(re=>{const O=ze.find(g=>g.type===re.trim());O&&(O.status="completed",O.actualDate=P.date,O.actualAmount=P.amount)})}),ze},Ae=()=>{ee(!0)},Ue=async()=>{console.log(" handleSaveProject called"),console.log(" newProject:",Q),console.log(" projects:",s);const D=s.find(H=>H.id===Q.projectId||H.id===parseInt(Q.projectId)||H.id.toString()===Q.projectId.toString());if(console.log(" selectedProject:",D),console.log(" totalAmount:",Q.totalAmount,"type:",typeof Q.totalAmount),!D){alert(" ");return}if(Q.totalAmount<=0){alert("   (0  )");return}try{const H={id:"",project_id:D.id,project:D.name,client:D.client,totalAmount:Q.totalAmount,vatType:Q.vatType,vatPercentage:Q.vatPercentage,vatAmount:Q.vatAmount,payments:[]};console.log(" Sending to API:",H),await r(H),M.success(" "),ee(!1),ne({projectId:"",totalAmount:0,vatType:"percentage",vatPercentage:100,vatAmount:0})}catch(H){console.error("Failed to add construction payment:",H),M.error("  ")}},he=()=>{oe(null),Ee({types:[],percentage:0,amount:0,date:"",method:"",notes:"",quickText:""}),z(!0)},Re=D=>{const H=y==null?void 0:y.payments[D];if(!H)return;oe(D);const ie=H.type?H.type.split(",").map(Ce=>Ce.trim()):[];Ee({types:ie,percentage:Ve(ie),amount:H.amount,date:je(H.date,"yyyy-MM-dd"),method:H.method,notes:H.notes||""}),z(!0)},$e=async()=>{if(!y||!xe.date||xe.amount<=0||xe.types.length===0){alert("  ");return}try{let D;se!==null?D=y.payments.map((Ce,Te)=>Te===se?{type:xe.types.join(", "),amount:xe.amount,date:new Date(xe.date),method:xe.method,notes:xe.notes}:Ce):D=[...y.payments,{type:xe.types.join(", "),amount:xe.amount,date:new Date(xe.date),method:xe.method,notes:xe.notes}];const H={...y,payments:D};await i(y.id,H),M.success(se!==null?" ":" ");const ie=c.map(Ce=>Ce.id===y.id?H:Ce);p(ie),T(H),z(!1),oe(null),Ee({types:[],percentage:0,amount:0,date:"",method:"",notes:""})}catch(D){console.error("Failed to save payment:",D),M.error("  ")}},qe=D=>{const H=D.totalAmount;if(D.vatType==="amount")return H+(D.vatAmount||0);{const ie=H*((D.vatPercentage??100)/100)*.1;return H+ie}},Oe=D=>{const H=C(D.project);if(D.vatType==="amount")return D.totalAmount+(D.vatAmount||0)+H;{const ie=D.totalAmount*((D.vatPercentage??100)/100)*.1;return D.totalAmount+ie+H}},B=D=>D.vatType==="amount"?D.vatAmount||0:D.totalAmount*((D.vatPercentage??100)/100)*.1,ge=D=>{if(!y)return 0;const H=qe(y);return Math.round(H*D/100)},me=D=>D.payments.reduce((H,ie)=>H+ie.amount,0),_e=D=>Oe(D)-me(D),G=D=>{const H=o.filter(Ce=>Ce.project===D).reduce((Ce,Te)=>Ce+(Te.totalAmount||0),0),ie=m.filter(Ce=>(Ce.status==="approved"||Ce.status==="completed")&&Ce.project===D).reduce((Ce,Te)=>Ce+Te.amount,0);return H+ie},C=D=>u.filter(H=>H.project===D).reduce((H,ie)=>H+ie.amount,0),le=c.filter(D=>{if(ce==="all")return!0;const H=_e(D);return ce==="completed"?H===0:ce==="remaining"?H>0:!0});return e.jsxDEV("div",{className:"space-y-3 md:space-y-4",children:[e.jsxDEV("div",{className:"border-b border-gray-200 flex items-center justify-between",children:[e.jsxDEV("nav",{className:"flex space-x-4 md:space-x-8 overflow-x-auto",children:[{id:"remaining",label:"",count:c.filter(D=>_e(D)>0).length},{id:"completed",label:"",count:c.filter(D=>_e(D)===0).length},{id:"all",label:"",count:c.length}].map(D=>e.jsxDEV("button",{onClick:()=>De(D.id),className:`py-3 md:py-4 px-1 border-b-2 font-medium text-xs md:text-sm transition-colors whitespace-nowrap ${ce===D.id?"border-gray-700 text-gray-700":"border-transparent text-gray-400 hover:text-gray-700 hover:border-gray-300"}`,children:[D.label,e.jsxDEV("span",{className:`ml-1 md:ml-2 py-0.5 px-1.5 md:px-2 rounded-full text-[10px] md:text-xs font-semibold ${ce===D.id?"bg-gray-700 text-white":"bg-gray-200 text-gray-600"}`,children:D.count},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:545,columnNumber:15},void 0)]},D.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:535,columnNumber:13},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:529,columnNumber:9},void 0),e.jsxDEV("button",{onClick:Ae,className:"btn btn-primary px-4 py-2 whitespace-nowrap hidden md:block",children:"+"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:553,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:528,columnNumber:7},void 0),e.jsxDEV("div",{className:"construction-payment-grid grid grid-cols-1 lg:grid-cols-1 xl:grid-cols-3 gap-6",children:le.map(D=>{const H=me(D),ie=_e(D),Ce=qe(D),Te=H/Ce*100;return e.jsxDEV("div",{className:"card hover:border-gray-400 transition-colors",children:[e.jsxDEV("div",{className:"mb-4",children:e.jsxDEV("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-2 mb-2",children:[e.jsxDEV("h3",{className:"font-bold text-lg text-gray-900 flex-shrink-0",children:D.project},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:573,columnNumber:19},void 0),e.jsxDEV("div",{className:"flex gap-1.5 flex-wrap",children:[e.jsxDEV("button",{onClick:()=>{const ze=me(D),U=qe(D),J=U-ze,Z=s.find(P=>P.name===D.project);I({project:D.project,client:D.client,amount:"",date:je(new Date,"yyyy-MM-dd"),clientSignature:"",totalContractAmount:U,previousAmount:ze,remainingAmount:J,startDate:Z!=null&&Z.startDate?je(new Date(Z.startDate),"yyyy-MM-dd"):"",endDate:Z!=null&&Z.endDate?je(new Date(Z.endDate),"yyyy-MM-dd"):""}),x("transfer"),N(!0)},className:"px-2 py-1 text-xs sm:px-3 sm:py-1.5 sm:text-sm bg-gray-800 text-white rounded hover:bg-gray-900 transition-colors whitespace-nowrap",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:575,columnNumber:21},void 0),e.jsxDEV("button",{onClick:()=>{const ze=me(D),U=qe(D),J=U-ze,Z=s.find(P=>P.name===D.project);I({project:D.project,client:D.client,amount:"",date:je(new Date,"yyyy-MM-dd"),clientSignature:"",totalContractAmount:U,previousAmount:ze,remainingAmount:J,startDate:Z!=null&&Z.startDate?je(new Date(Z.startDate),"yyyy-MM-dd"):"",endDate:Z!=null&&Z.endDate?je(new Date(Z.endDate),"yyyy-MM-dd"):""}),x("cash"),N(!0)},className:"px-2 py-1 text-xs sm:px-3 sm:py-1.5 sm:text-sm bg-gray-800 text-white rounded hover:bg-gray-900 transition-colors whitespace-nowrap",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:604,columnNumber:21},void 0),e.jsxDEV("button",{onClick:()=>T(D),className:"px-2 py-1 text-xs sm:text-sm text-gray-600 hover:text-gray-800 whitespace-nowrap",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:633,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:574,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:572,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:571,columnNumber:15},void 0),e.jsxDEV("div",{className:"mb-4",children:e.jsxDEV("div",{className:"p-3 bg-gray-50 border border-gray-200 rounded-lg",children:e.jsxDEV("div",{className:"flex items-start justify-between",children:[e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("p",{className:"text-xs text-gray-600 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:648,columnNumber:23},void 0),e.jsxDEV("p",{className:"text-2xl font-bold text-gray-900",children:["",D.totalAmount.toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:649,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:647,columnNumber:21},void 0),e.jsxDEV("div",{className:"ml-4 text-right",children:[e.jsxDEV("p",{className:"text-xs text-gray-500 mb-1",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:654,columnNumber:23},void 0),e.jsxDEV("p",{className:"text-sm font-semibold text-gray-700",children:["",Ce.toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:657,columnNumber:23},void 0),e.jsxDEV("p",{className:"text-xs text-gray-500 mt-0.5",children:["( ",D.vatType==="percentage"?`${D.vatPercentage??100}%`:`${(D.vatAmount||0).toLocaleString()}`," )"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:660,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:653,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:646,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:645,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:644,columnNumber:15},void 0),e.jsxDEV("div",{className:"mb-4",children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-2",children:[e.jsxDEV("span",{className:"text-sm text-gray-600",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:671,columnNumber:19},void 0),e.jsxDEV("span",{className:"text-sm font-medium text-gray-900",children:[Te.toFixed(1),"%"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:672,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:670,columnNumber:17},void 0),e.jsxDEV("div",{className:"w-full bg-gray-200 h-2 rounded-full",children:e.jsxDEV("div",{className:"bg-gray-600 h-2 rounded-full transition-all",style:{width:`${Te}%`}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:675,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:674,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:669,columnNumber:15},void 0),e.jsxDEV("div",{className:"mb-4",children:e.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-4 gap-3",children:[e.jsxDEV("div",{className:"p-3 bg-gray-50 border border-gray-200 rounded-lg",children:[e.jsxDEV("p",{className:"text-xs text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:686,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-base font-bold text-gray-800",children:["",H.toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:687,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:685,columnNumber:19},void 0),e.jsxDEV("div",{className:"p-3 bg-gray-50 border border-gray-200 rounded-lg",children:[e.jsxDEV("p",{className:"text-xs text-gray-700 mb-1",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:692,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-base font-bold text-gray-800",children:["",G(D.project).toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:693,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:691,columnNumber:19},void 0),e.jsxDEV("div",{className:"p-3 bg-gray-50 border border-gray-200 rounded-lg",children:[e.jsxDEV("p",{className:"text-xs text-gray-700 mb-1",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:698,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-base font-bold text-gray-800",children:["",C(D.project).toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:699,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:697,columnNumber:19},void 0),e.jsxDEV("div",{className:"p-3 bg-gray-50 border border-gray-200 rounded-lg",children:[e.jsxDEV("p",{className:"text-xs text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:704,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-base font-bold text-gray-800",children:["",ie.toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:705,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:703,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:684,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:683,columnNumber:15},void 0),D.payments.length>0&&e.jsxDEV("div",{className:"border-t pt-4",children:[e.jsxDEV("p",{className:"text-xs text-gray-500 mb-2",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:715,columnNumber:19},void 0),D.payments.slice(-2).reverse().map((ze,U)=>e.jsxDEV("div",{className:"flex items-center justify-between text-sm mb-1",children:[e.jsxDEV("span",{className:"text-gray-700",children:[ze.type||""," - ",je(ze.date,"MM/dd")]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:718,columnNumber:23},void 0),e.jsxDEV("span",{className:"font-medium text-gray-900",children:["",ze.amount.toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:721,columnNumber:23},void 0)]},U,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:717,columnNumber:21},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:714,columnNumber:17},void 0)]},D.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:570,columnNumber:17},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:562,columnNumber:7},void 0),y&&e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:e.jsxDEV("div",{className:"bg-white rounded-lg max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxDEV("div",{className:"p-6 border-b",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("h2",{className:"text-xl font-semibold",children:y.project},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:739,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>T(null),className:"p-2 hover:bg-gray-100 rounded-lg",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:740,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:738,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:737,columnNumber:13},void 0),e.jsxDEV("div",{className:"p-6",children:[e.jsxDEV("div",{className:"mb-6",children:[e.jsxDEV("h3",{className:"text-lg font-semibold mb-4",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:752,columnNumber:17},void 0),e.jsxDEV("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[e.jsxDEV("div",{className:"space-y-3",children:de(y).map((D,H)=>{var Te;const Ce={:"contract",:"start",:"middle",:"final"}[D.type];return e.jsxDEV("div",{className:"flex items-center justify-between gap-3",children:[e.jsxDEV("div",{className:"flex items-center space-x-3 flex-1",children:[e.jsxDEV("span",{className:`px-2 py-1 text-xs font-medium rounded ${D.status==="completed"?"bg-green-100 text-green-800":D.status==="overdue"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:D.type},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:768,columnNumber:29},void 0),D.status!=="completed"?e.jsxDEV("input",{type:"date",value:(Te=y.expectedPaymentDates)!=null&&Te[Ce]?je(new Date(y.expectedPaymentDates[Ce]),"yyyy-MM-dd"):D.date?je(D.date,"yyyy-MM-dd"):"",onChange:async ze=>{const U=ze.target.value?new Date(ze.target.value):null,J={...y.expectedPaymentDates,[Ce]:U},Z={...y,expectedPaymentDates:J};T(Z);try{await i(y.id,{expectedPaymentDates:J});const P=c.map(v=>v.id===y.id?Z:v);p(P),M.success("  ")}catch(P){console.error("Failed to update payment date:",P),M.error("  ")}},className:"px-3 py-1.5 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-gray-600"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:776,columnNumber:31},void 0):e.jsxDEV("span",{className:"text-sm text-gray-700",children:[D.date?je(D.date,"yyyy MM dd"):" ",D.actualDate&&e.jsxDEV("span",{className:"text-green-600 ml-2",children:["(: ",je(D.actualDate,"MM/dd"),")"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:812,columnNumber:35},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:809,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:767,columnNumber:27},void 0),e.jsxDEV("div",{className:"text-right",children:[e.jsxDEV("p",{className:"text-sm font-medium text-gray-900",children:["",D.amount.toLocaleString(),e.jsxDEV("span",{className:"text-xs text-gray-500 ml-1",children:["(",D.percentage,"%)"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:822,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:820,columnNumber:29},void 0),D.status==="completed"&&D.actualAmount&&e.jsxDEV("p",{className:"text-xs text-green-600",children:[": ",D.actualAmount.toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:825,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:819,columnNumber:27},void 0)]},H,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:766,columnNumber:25},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:754,columnNumber:19},void 0),e.jsxDEV("div",{className:"mt-4 pt-3 border-t border-gray-200",children:e.jsxDEV("div",{className:"flex justify-between text-sm",children:[e.jsxDEV("span",{className:"text-gray-600",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:836,columnNumber:23},void 0),e.jsxDEV("span",{className:"font-bold text-gray-900",children:["",qe(y).toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:837,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:835,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:834,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:753,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:751,columnNumber:15},void 0),e.jsxDEV("div",{className:"space-y-4 mb-6",children:[e.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxDEV("div",{className:"p-4 bg-gray-50 border border-gray-300 rounded-lg",children:[e.jsxDEV("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"  ()"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:849,columnNumber:21},void 0),e.jsxDEV("input",{type:"number",value:y.totalAmount||"",onChange:async D=>{const H=D.target.value===""?0:Number(D.target.value),ie={...y,totalAmount:H};T(ie);try{await i(y.id,ie);const Ce=c.map(Te=>Te.id===y.id?ie:Te);p(Ce)}catch(Ce){console.error("Failed to update total amount:",Ce),M.error("  ")}},className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-lg font-bold focus:outline-none focus:ring-2 focus:ring-gray-600 focus:border-transparent",placeholder:"50000000",min:"0"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:852,columnNumber:21},void 0),e.jsxDEV("p",{className:"mt-2 text-xs text-gray-500",children:"   "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:877,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:848,columnNumber:19},void 0),e.jsxDEV("div",{className:"p-4 bg-gray-50 border border-gray-200 rounded-lg",children:[e.jsxDEV("p",{className:"text-xs text-gray-700 mb-1",children:["  ( ",y.vatType==="percentage"?`${y.vatPercentage??100}%`:`${(y.vatAmount||0).toLocaleString()}`," )"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:880,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-xl font-bold text-gray-900",children:["",qe(y).toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:883,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:879,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:847,columnNumber:17},void 0),e.jsxDEV("div",{className:"p-4 bg-gray-50 border border-gray-300 rounded-lg",children:[e.jsxDEV("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"  "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:891,columnNumber:19},void 0),e.jsxDEV("div",{className:"flex gap-2 mb-3",children:[e.jsxDEV("button",{type:"button",onClick:async()=>{const D={...y,vatType:"percentage"};T(D);try{await i(y.id,D);const H=c.map(ie=>ie.id===y.id?D:ie);p(H)}catch(H){console.error("Failed to update VAT type:",H),M.error("   ")}},className:`flex-1 px-3 py-2 text-sm border rounded-lg font-medium transition-colors ${y.vatType==="percentage"?"border-gray-900 bg-gray-900 text-white":"border-gray-300 bg-white text-gray-700 hover:border-gray-400"}`,children:" (%)"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:897,columnNumber:21},void 0),e.jsxDEV("button",{type:"button",onClick:async()=>{const D={...y,vatType:"amount"};T(D);try{await i(y.id,D);const H=c.map(ie=>ie.id===y.id?D:ie);p(H)}catch(H){console.error("Failed to update VAT type:",H),M.error("   ")}},className:`flex-1 px-3 py-2 text-sm border rounded-lg font-medium transition-colors ${y.vatType==="amount"?"border-gray-900 bg-gray-900 text-white":"border-gray-300 bg-white text-gray-700 hover:border-gray-400"}`,children:" ()"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:924,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:896,columnNumber:19},void 0),y.vatType==="percentage"&&e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"   (%)"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:956,columnNumber:23},void 0),e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV("input",{type:"number",value:y.vatPercentage,onChange:async D=>{const H=Number(D.target.value),ie={...y,vatPercentage:H};T(ie);try{await i(y.id,ie);const Ce=c.map(Te=>Te.id===y.id?ie:Te);p(Ce)}catch(Ce){console.error("Failed to update VAT percentage:",Ce),M.error("   ")}},className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-gray-600 focus:border-transparent",placeholder:"100",min:"0",max:"100"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:960,columnNumber:25},void 0),e.jsxDEV("div",{className:"text-xs text-gray-600",children:e.jsxDEV("p",{children:[": ",B(y).toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:987,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:986,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:959,columnNumber:23},void 0),e.jsxDEV("p",{className:"mt-2 text-xs text-gray-500",children:"0%:   | 100%:     | 50%:   "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:990,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:955,columnNumber:21},void 0),y.vatType==="amount"&&e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"   ()"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:999,columnNumber:23},void 0),e.jsxDEV("input",{type:"number",value:y.vatAmount,onChange:async D=>{const H=Number(D.target.value),ie={...y,vatAmount:H};T(ie);try{await i(y.id,ie);const Ce=c.map(Te=>Te.id===y.id?ie:Te);p(Ce)}catch(Ce){console.error("Failed to update VAT amount:",Ce),M.error("   ")}},className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-gray-600 focus:border-transparent",placeholder:"5000000",min:"0"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1002,columnNumber:23},void 0),e.jsxDEV("p",{className:"mt-2 text-xs text-gray-500",children:"    "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1027,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:998,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:890,columnNumber:17},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxDEV("div",{className:"p-4 bg-gray-50 rounded-lg",children:[e.jsxDEV("p",{className:"text-xs text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1036,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-lg font-bold text-gray-800",children:["",me(y).toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1037,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1035,columnNumber:19},void 0),e.jsxDEV("div",{className:"p-4 bg-gray-50 rounded-lg",children:[e.jsxDEV("p",{className:"text-xs text-gray-700 mb-1",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1042,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-lg font-bold text-gray-800",children:["",G(y.project).toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1043,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1041,columnNumber:19},void 0),e.jsxDEV("div",{className:"p-4 bg-gray-50 rounded-lg",children:[e.jsxDEV("p",{className:"text-xs text-gray-700 mb-1",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1048,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-lg font-bold text-gray-800",children:["",C(y.project).toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1049,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1047,columnNumber:19},void 0),e.jsxDEV("div",{className:"p-4 bg-gray-50 rounded-lg",children:[e.jsxDEV("p",{className:"text-xs text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1054,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-lg font-bold text-gray-800",children:["",_e(y).toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1055,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1053,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1034,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:846,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-4",children:[e.jsxDEV("h3",{className:"text-lg font-semibold",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1065,columnNumber:19},void 0),e.jsxDEV("button",{onClick:he,className:"btn btn-primary btn-sm",children:"+  "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1066,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1064,columnNumber:17},void 0),e.jsxDEV("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:e.jsxDEV("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsxDEV("thead",{className:"bg-gray-50",children:e.jsxDEV("tr",{children:[e.jsxDEV("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1075,columnNumber:25},void 0),e.jsxDEV("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1076,columnNumber:25},void 0),e.jsxDEV("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1077,columnNumber:25},void 0),e.jsxDEV("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1078,columnNumber:25},void 0),e.jsxDEV("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1079,columnNumber:25},void 0),e.jsxDEV("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1080,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1074,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1073,columnNumber:21},void 0),e.jsxDEV("tbody",{className:"bg-white divide-y divide-gray-200",children:y.payments.map((D,H)=>e.jsxDEV("tr",{className:"hover:bg-gray-50",children:[e.jsxDEV("td",{className:"px-4 py-3",children:e.jsxDEV("span",{className:"px-2 py-1 text-xs font-medium bg-gray-100 text-gray-800 rounded",children:D.type||""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1087,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1086,columnNumber:27},void 0),e.jsxDEV("td",{className:"px-4 py-3 font-medium text-gray-900",children:["",D.amount.toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1091,columnNumber:27},void 0),e.jsxDEV("td",{className:"px-4 py-3 text-sm text-gray-900",children:je(D.date,"yyyy MM dd")},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1094,columnNumber:27},void 0),e.jsxDEV("td",{className:"px-4 py-3 text-sm text-gray-900",children:D.method},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1097,columnNumber:27},void 0),e.jsxDEV("td",{className:"px-4 py-3 text-sm text-gray-600",children:D.notes||"-"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1100,columnNumber:27},void 0),e.jsxDEV("td",{className:"px-4 py-3 text-center",children:e.jsxDEV("button",{onClick:()=>Re(H),className:"text-gray-600 hover:text-gray-700 transition-colors",children:e.jsxDEV(Ar,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1108,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1104,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1103,columnNumber:27},void 0)]},H,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1085,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1083,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1072,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1071,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1063,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:749,columnNumber:13},void 0),e.jsxDEV("div",{className:"p-6 border-t flex justify-between",children:[e.jsxDEV("button",{onClick:async()=>{if(y&&window.confirm(`   ?
    .`))try{await a(y.id),M.success(" "),T(null)}catch(D){console.error("Failed to delete construction payment:",D),M.error(" ")}},className:"btn btn-outline text-red-600 hover:bg-red-50 hover:border-red-300",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1120,columnNumber:15},void 0),e.jsxDEV("button",{onClick:()=>T(null),className:"btn btn-outline",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1141,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1119,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:736,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:735,columnNumber:9},void 0),te&&e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:e.jsxDEV("div",{className:"bg-white rounded-lg max-w-md w-full",children:[e.jsxDEV("div",{className:"p-6 border-b",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("h2",{className:"text-xl font-semibold",children:"  "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1158,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>ee(!1),className:"p-2 hover:bg-gray-100 rounded-lg",children:e.jsxDEV(ot,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1163,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1159,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1157,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1156,columnNumber:13},void 0),e.jsxDEV("div",{className:"p-6 space-y-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1170,columnNumber:17},void 0),e.jsxDEV("select",{value:Q.projectId,onChange:D=>ne({...Q,projectId:D.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-600 focus:border-transparent",children:[e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1178,columnNumber:19},void 0),s.map(D=>e.jsxDEV("option",{value:D.id,children:[D.name," - ",D.client]},D.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1180,columnNumber:21},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1173,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1169,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1188,columnNumber:17},void 0),e.jsxDEV("input",{type:"number",value:Q.totalAmount||"",onChange:D=>ne({...Q,totalAmount:Number(D.target.value)}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-600 focus:border-transparent",placeholder:"50000000"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1191,columnNumber:17},void 0),e.jsxDEV("p",{className:"mt-1 text-xs text-gray-500",children:"  ( )"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1198,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1187,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"   *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1202,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex gap-2 mb-3",children:[e.jsxDEV("button",{type:"button",onClick:()=>ne({...Q,vatType:"percentage"}),className:`flex-1 px-3 py-2 text-sm border rounded-lg font-medium transition-colors ${Q.vatType==="percentage"?"border-gray-900 bg-gray-900 text-white":"border-gray-300 bg-white text-gray-700 hover:border-gray-400"}`,children:" (%)"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1208,columnNumber:19},void 0),e.jsxDEV("button",{type:"button",onClick:()=>ne({...Q,vatType:"amount"}),className:`flex-1 px-3 py-2 text-sm border rounded-lg font-medium transition-colors ${Q.vatType==="amount"?"border-gray-900 bg-gray-900 text-white":"border-gray-300 bg-white text-gray-700 hover:border-gray-400"}`,children:" ()"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1219,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1207,columnNumber:17},void 0),Q.vatType==="percentage"&&e.jsxDEV("div",{children:[e.jsxDEV("input",{type:"number",value:Q.vatPercentage??100,onChange:D=>{const H=D.target.value===""?100:Number(D.target.value);ne({...Q,vatPercentage:H})},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-600 focus:border-transparent",placeholder:"100",min:"0",max:"100"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1235,columnNumber:21},void 0),e.jsxDEV("p",{className:"mt-1 text-xs text-gray-500",children:"0%:   | 100%:     | 50%:   "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1247,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1234,columnNumber:19},void 0),Q.vatType==="amount"&&e.jsxDEV("div",{children:[e.jsxDEV("input",{type:"number",value:Q.vatAmount??0,onChange:D=>{const H=D.target.value===""?0:Number(D.target.value);ne({...Q,vatAmount:H})},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-600 focus:border-transparent",placeholder:"5000000",min:"0"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1256,columnNumber:21},void 0),e.jsxDEV("p",{className:"mt-1 text-xs text-gray-500",children:"    "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1267,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1255,columnNumber:19},void 0),Q.totalAmount>0&&e.jsxDEV("div",{className:"mt-2 p-3 bg-gray-50 border border-gray-200 rounded-lg",children:[e.jsxDEV("p",{className:"text-xs text-gray-700 mb-1",children:"  ( )"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1276,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-xl font-bold text-gray-900",children:["",(Q.totalAmount+(Q.vatType==="percentage"?Q.totalAmount*((Q.vatPercentage??100)/100)*.1:Q.vatAmount??0)).toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1277,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-xs text-gray-600 mt-1",children:["=  ",Q.totalAmount.toLocaleString()," +  ",(Q.vatType==="percentage"?Q.totalAmount*((Q.vatPercentage??100)/100)*.1:Q.vatAmount??0).toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1282,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1275,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1201,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1168,columnNumber:13},void 0),e.jsxDEV("div",{className:"p-6 border-t flex justify-end space-x-3",children:[e.jsxDEV("button",{onClick:()=>ee(!1),className:"btn btn-outline",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1293,columnNumber:15},void 0),e.jsxDEV("button",{onClick:Ue,className:"btn btn-primary",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1299,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1292,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1155,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1154,columnNumber:9},void 0),L&&e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:e.jsxDEV("div",{className:"bg-white rounded-lg max-w-md w-full",children:[e.jsxDEV("div",{className:"p-6 border-b",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("h2",{className:"text-xl font-semibold",children:se!==null?" ":" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1316,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>{z(!1),oe(null)},className:"p-2 hover:bg-gray-100 rounded-lg",children:e.jsxDEV(ot,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1326,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1319,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1315,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1314,columnNumber:13},void 0),e.jsxDEV("div",{className:"p-6 space-y-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" * (  )"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1334,columnNumber:17},void 0),e.jsxDEV("div",{className:"space-y-2",children:["","","","",""].map(D=>{const H=He[D];return e.jsxDEV("label",{className:"flex items-center space-x-3 cursor-pointer",children:[e.jsxDEV("input",{type:"checkbox",checked:xe.types.includes(D),onChange:ie=>{let Ce;ie.target.checked?Ce=[...xe.types,D]:Ce=xe.types.filter(J=>J!==D);const Te=Ve(Ce),ze=ge(Te),U=Ge(Ce);Ee({...xe,types:Ce,percentage:Te,amount:ze,date:U||xe.date})},className:"w-4 h-4 text-gray-900 border-gray-300 rounded focus:ring-gray-600"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1342,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-sm text-gray-900",children:[D,e.jsxDEV("span",{className:"text-xs text-gray-500 ml-2",children:["(",H,"%)"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1372,columnNumber:27},void 0),D===""&&e.jsxDEV("span",{className:"text-xs text-gray-400 ml-1",children:"(  )"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1373,columnNumber:46},void 0),D===""&&e.jsxDEV("span",{className:"text-xs text-gray-400 ml-1",children:"(  1 )"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1374,columnNumber:46},void 0),D===""&&e.jsxDEV("span",{className:"text-xs text-gray-400 ml-1",children:"( )"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1375,columnNumber:46},void 0),D===""&&e.jsxDEV("span",{className:"text-xs text-gray-400 ml-1",children:"( )"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1376,columnNumber:45},void 0),D===""&&e.jsxDEV("span",{className:"text-xs text-gray-400 ml-1",children:"( )"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1377,columnNumber:46},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1370,columnNumber:25},void 0)]},D,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1341,columnNumber:23},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1337,columnNumber:17},void 0),xe.types.length>0&&e.jsxDEV("div",{className:"mt-2 p-2 bg-gray-50 border border-gray-200 rounded",children:e.jsxDEV("p",{className:"text-xs text-gray-700",children:[" : ",xe.types.join(" + ")," =  ",xe.percentage,"%"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1385,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1384,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1333,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1394,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex gap-3",children:[e.jsxDEV("button",{type:"button",onClick:()=>Ee({...xe,method:""}),className:`flex-1 px-4 py-3 border-2 rounded-lg font-medium transition-colors ${xe.method===""?"border-gray-900 bg-gray-900 text-white":"border-gray-300 bg-white text-gray-700 hover:border-gray-400"}`,children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1398,columnNumber:19},void 0),e.jsxDEV("button",{type:"button",onClick:()=>Ee({...xe,method:""}),className:`flex-1 px-4 py-3 border-2 rounded-lg font-medium transition-colors ${xe.method===""?"border-gray-900 bg-gray-900 text-white":"border-gray-300 bg-white text-gray-700 hover:border-gray-400"}`,children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1409,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1397,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1393,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"   (%)"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1425,columnNumber:17},void 0),e.jsxDEV("input",{type:"number",value:xe.percentage||"",onChange:D=>{const H=Number(D.target.value),ie=ge(H);Ee({...xe,percentage:H,amount:ie})},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-600 focus:border-transparent",placeholder:"10",min:"0",max:"100"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1428,columnNumber:17},void 0),y&&xe.percentage>0&&e.jsxDEV("div",{className:"mt-2 p-3 bg-gray-50 border border-gray-200 rounded-lg",children:[e.jsxDEV("p",{className:"text-xs text-gray-700 mb-1",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1447,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-xs text-gray-900",children:[" ( ",y.vatPercentage,"% ) ",qe(y).toLocaleString(),"  ",xe.percentage,"%"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1448,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-sm font-bold text-gray-900 mt-1",children:["= ",ge(xe.percentage).toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1451,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1446,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1424,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1460,columnNumber:17},void 0),e.jsxDEV("div",{className:"relative",children:[e.jsxDEV("input",{type:"number",value:xe.amount||"",onChange:D=>Ee({...xe,amount:Number(D.target.value)}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-600 focus:border-transparent",placeholder:"5000000",min:"0"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1464,columnNumber:19},void 0),e.jsxDEV("p",{className:"mt-1 text-xs text-gray-500",children:xe.percentage>0?"       ":"   "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1472,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1463,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1459,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1482,columnNumber:17},void 0),e.jsxDEV("input",{type:"date",value:xe.date,onChange:D=>Ee({...xe,date:D.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-600 focus:border-transparent"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1485,columnNumber:17},void 0),e.jsxDEV("p",{className:"mt-1 text-xs text-gray-500",children:"     ,   "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1491,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1481,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1498,columnNumber:17},void 0),e.jsxDEV("textarea",{value:xe.notes,onChange:D=>Ee({...xe,notes:D.target.value}),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-600 focus:border-transparent",placeholder:"  "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1501,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1497,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1331,columnNumber:13},void 0),e.jsxDEV("div",{className:"p-6 border-t flex justify-between",children:[e.jsxDEV("div",{children:se!==null&&e.jsxDEV("button",{onClick:async()=>{if(y&&window.confirm("   ?"))try{const D=y.payments.filter((Ce,Te)=>Te!==se),H={...y,payments:D};await i(y.id,{payments:D}),T(H);const ie=c.map(Ce=>Ce.id===y.id?H:Ce);p(ie),z(!1),oe(null),M.success("  ")}catch(D){console.error("Failed to delete payment:",D),M.error(" ")}},className:"btn btn-outline text-red-600 hover:bg-red-50 hover:border-red-300",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1514,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1512,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex space-x-3",children:[e.jsxDEV("button",{onClick:()=>{z(!1),oe(null)},className:"btn btn-outline",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1560,columnNumber:17},void 0),e.jsxDEV("button",{onClick:$e,className:"btn btn-primary",children:se!==null?"":""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1569,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1559,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1511,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1313,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1312,columnNumber:9},void 0),b&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV("style",{children:`
            @media print {
              * {
                -webkit-print-color-adjust: exact !important;
                print-color-adjust: exact !important;
                color-adjust: exact !important;
              }
              /*       */
              img[alt=""] {
                display: inline-block !important;
                visibility: visible !important;
                opacity: 0.8 !important;
                -webkit-print-color-adjust: exact !important;
                print-color-adjust: exact !important;
              }
            }
            @page {
              size: A4;
              margin: 20mm;
            }
          `},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1584,columnNumber:9},void 0),e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4 print:bg-white print:relative print:p-0",children:e.jsxDEV("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto print:shadow-none print:max-w-none print:max-h-none",children:e.jsxDEV("div",{className:"p-6 print:p-8",children:[e.jsxDEV("div",{className:"flex items-center justify-end mb-6 print:hidden",children:e.jsxDEV("button",{onClick:()=>N(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsxDEV(ot,{className:"w-5 h-5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1615,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1611,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1610,columnNumber:15},void 0),e.jsxDEV("div",{className:"space-y-6 print:space-y-0",children:[e.jsxDEV("div",{className:"border border-black p-8 bg-white print:border print:p-12",children:[e.jsxDEV("div",{className:"p-3 mb-8",children:e.jsxDEV("h3",{className:"text-center text-2xl font-bold",children:j==="cash"?"":""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1624,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1623,columnNumber:19},void 0),e.jsxDEV("table",{className:"w-full mb-8 border-collapse",children:[e.jsxDEV("colgroup",{children:[e.jsxDEV("col",{style:{width:"30%"}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1632,columnNumber:23},void 0),e.jsxDEV("col",{style:{width:"70%"}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1633,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1631,columnNumber:21},void 0),e.jsxDEV("tbody",{children:[e.jsxDEV("tr",{className:"border border-black",children:[e.jsxDEV("td",{className:"border-r border-black py-3 px-4 bg-white font-medium whitespace-nowrap",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1637,columnNumber:25},void 0),e.jsxDEV("td",{className:"py-3 px-4 print:py-3 text-center",children:[e.jsxDEV("span",{className:"print:hidden",children:R.project},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1639,columnNumber:27},void 0),e.jsxDEV("input",{type:"text",value:R.project,className:"hidden print:block w-full bg-transparent border-none outline-none p-0 text-center",readOnly:!0},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1640,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1638,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1636,columnNumber:23},void 0),e.jsxDEV("tr",{className:"border border-t-0 border-black",children:[e.jsxDEV("td",{className:"border-r border-black py-3 px-4 bg-white font-medium whitespace-nowrap",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1649,columnNumber:25},void 0),e.jsxDEV("td",{className:"py-3 px-4 text-center",children:R.startDate&&R.endDate?e.jsxDEV("span",{children:[je(new Date(R.startDate),"yyyy.MM.dd")," ~ ",je(new Date(R.endDate),"yyyy.MM.dd")]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1652,columnNumber:29},void 0):e.jsxDEV("span",{className:"text-gray-400 print:hidden",children:"-"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1654,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1650,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1648,columnNumber:23},void 0),e.jsxDEV("tr",{className:"border border-t-0 border-black",children:[e.jsxDEV("td",{className:"border-r border-black py-3 px-4 bg-white font-medium whitespace-nowrap",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1659,columnNumber:25},void 0),e.jsxDEV("td",{className:"py-3 px-4 text-right pr-4",children:[e.jsxDEV("span",{className:"print:hidden flex items-center justify-end gap-1",children:[e.jsxDEV("input",{type:"text",value:R.totalContractAmount.toLocaleString(),onChange:D=>{const H=D.target.value.replace(/[^0-9]/g,""),ie=H?parseInt(H):0;I({...R,totalContractAmount:ie})},placeholder:" ",className:"w-full text-right border border-gray-300 rounded px-2 py-1"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1662,columnNumber:29},void 0),e.jsxDEV("span",{children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1673,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1661,columnNumber:27},void 0),e.jsxDEV("span",{className:"hidden print:inline",children:[R.totalContractAmount.toLocaleString()," "]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1675,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1660,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1658,columnNumber:23},void 0),e.jsxDEV("tr",{className:"border border-t-0 border-black",children:[e.jsxDEV("td",{className:"border-r border-black py-3 px-4 bg-white font-medium whitespace-nowrap",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1679,columnNumber:25},void 0),e.jsxDEV("td",{className:"py-3 px-4 text-right pr-4",children:[e.jsxDEV("span",{className:"print:hidden flex items-center justify-end gap-1",children:[e.jsxDEV("input",{type:"text",value:R.previousAmount.toLocaleString(),onChange:D=>{const H=D.target.value.replace(/[^0-9]/g,""),ie=H?parseInt(H):0;I({...R,previousAmount:ie})},placeholder:" ",className:"w-full text-right border border-gray-300 rounded px-2 py-1"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1682,columnNumber:29},void 0),e.jsxDEV("span",{children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1693,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1681,columnNumber:27},void 0),e.jsxDEV("span",{className:"hidden print:inline",children:[R.previousAmount.toLocaleString()," "]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1695,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1680,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1678,columnNumber:23},void 0),e.jsxDEV("tr",{className:"border border-t-0 border-black",children:[e.jsxDEV("td",{className:"border-r border-black py-3 px-4 bg-white font-medium whitespace-nowrap",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1699,columnNumber:25},void 0),e.jsxDEV("td",{className:"py-3 px-4 text-right pr-4",children:[e.jsxDEV("span",{className:"print:hidden flex items-center justify-end gap-1",children:[e.jsxDEV("input",{type:"text",value:R.amount,onChange:D=>{const H=D.target.value.replace(/[^0-9]/g,""),ie=H?parseInt(H).toLocaleString():"";I({...R,amount:ie})},placeholder:" ",className:"w-full text-right border border-gray-300 rounded px-2 py-1"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1702,columnNumber:29},void 0),e.jsxDEV("span",{children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1713,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1701,columnNumber:27},void 0),e.jsxDEV("span",{className:"hidden print:inline",children:[R.amount," "]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1715,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1700,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1698,columnNumber:23},void 0),e.jsxDEV("tr",{className:"border border-t-0 border-black",children:[e.jsxDEV("td",{className:"border-r border-black py-3 px-4 bg-white font-medium whitespace-nowrap",children:[" ",e.jsxDEV("span",{className:"text-xs",children:"( )"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1720,columnNumber:32},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1719,columnNumber:25},void 0),e.jsxDEV("td",{className:"py-3 px-4 text-right pr-4",children:[e.jsxDEV("span",{className:"print:hidden flex items-center justify-end gap-1",children:[e.jsxDEV("input",{type:"text",value:R.remainingAmount.toLocaleString(),onChange:D=>{const H=D.target.value.replace(/[^0-9]/g,""),ie=H?parseInt(H):0;I({...R,remainingAmount:ie})},placeholder:" ",className:"w-full text-right border border-gray-300 rounded px-2 py-1"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1724,columnNumber:29},void 0),e.jsxDEV("span",{children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1735,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1723,columnNumber:27},void 0),e.jsxDEV("span",{className:"hidden print:inline",children:[R.remainingAmount.toLocaleString()," "]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1737,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1722,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1718,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1635,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1630,columnNumber:19},void 0),e.jsxDEV("div",{className:"text-center mb-12",children:e.jsxDEV("p",{className:"text-base",children:["* ",j==="cash"?"      .":"      ."]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1745,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1744,columnNumber:19},void 0),e.jsxDEV("div",{className:"text-center mb-12",children:e.jsxDEV("p",{className:"text-base",children:[e.jsxDEV("span",{className:"print:hidden",children:e.jsxDEV("input",{type:"date",value:R.date,onChange:D=>I({...R,date:D.target.value}),className:"border border-gray-300 rounded px-2 py-1"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1756,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1755,columnNumber:23},void 0),e.jsxDEV("span",{className:"hidden print:inline",children:je(new Date(R.date),"yyyy MM dd")},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1763,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1754,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1753,columnNumber:19},void 0),e.jsxDEV("div",{className:"space-y-8",children:[e.jsxDEV("div",{className:"grid grid-cols-4 items-center border-b border-gray-300 pb-2",children:[e.jsxDEV("span",{className:"font-medium",children:"[]"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1770,columnNumber:23},void 0),e.jsxDEV("span",{children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1771,columnNumber:23},void 0),e.jsxDEV("span",{className:"text-xl font-bold text-right pr-4",children:"  "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1772,columnNumber:23},void 0),e.jsxDEV("div",{className:"flex items-center justify-end gap-1",children:[e.jsxDEV("span",{className:"text-sm",style:{marginRight:"20px"},children:"()"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1774,columnNumber:25},void 0),e.jsxDEV("img",{src:rb,alt:"",style:{display:"inline-block",width:"56px",height:"56px",marginLeft:"-45px",marginRight:"10px",opacity:.8,printColorAdjust:"exact",WebkitPrintColorAdjust:"exact",colorAdjust:"exact"}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1776,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1773,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1769,columnNumber:21},void 0),e.jsxDEV("div",{className:"grid grid-cols-4 items-center border-b border-gray-300 pb-2",children:[e.jsxDEV("span",{className:"font-medium",children:"[]"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1794,columnNumber:23},void 0),e.jsxDEV("span",{children:R.project.split("_")[0]},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1795,columnNumber:23},void 0),e.jsxDEV("span",{className:"text-xl text-right pr-4",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1796,columnNumber:23},void 0),e.jsxDEV("div",{className:"flex items-center justify-end gap-1",children:[e.jsxDEV("span",{className:"text-sm",style:{marginRight:"20px"},children:"()"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1798,columnNumber:25},void 0),e.jsxDEV("div",{style:{display:"inline-block",width:"56px",height:"56px",marginLeft:"-45px",marginRight:"10px",visibility:"hidden"}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1800,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1797,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1793,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1768,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1621,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex gap-3 print:hidden",children:[e.jsxDEV("button",{onClick:()=>{if(!R.amount){M.error(" ");return}window.print(),M.success(" ")},className:"flex-1 px-4 py-3 bg-gray-800 text-white font-medium rounded-lg hover:bg-gray-900 transition-colors",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1817,columnNumber:19},void 0),e.jsxDEV("button",{onClick:()=>N(!1),className:"px-4 py-3 bg-gray-200 text-gray-700 font-medium rounded-lg hover:bg-gray-300 transition-colors",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1832,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1816,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1619,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1609,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1608,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1607,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1583,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:526,columnNumber:5},void 0)};function ab(){const[s,n]=d.useState([]),[t,r]=d.useState(!0),[i,a]=d.useState(null),[o,m]=d.useState(!1),[c,p]=d.useState(null),[u,f]=d.useState(""),[b,N]=d.useState({rank:"",companyName:"",name:"",position:"",process:"",contact:"",bankName:"",accountNumber:"",notes:""});d.useEffect(()=>{j()},[]),d.useEffect(()=>{const L=()=>{x()};return window.addEventListener("headerAddButtonClick",L),()=>window.removeEventListener("headerAddButtonClick",L)},[]);const j=async()=>{var L,z;try{r(!0),a(null);const se=await vs.getAllContractors();n(se.map(oe=>({id:oe._id,rank:oe.rank,companyName:oe.companyName,name:oe.name,position:oe.position,process:oe.process,contact:oe.contact,accountNumber:oe.accountNumber,notes:oe.notes,createdAt:new Date(oe.createdAt),updatedAt:new Date(oe.updatedAt)})))}catch(se){console.error("Failed to load contractors:",se);const oe=se instanceof Error&&((z=(L=se.response)==null?void 0:L.data)==null?void 0:z.message);a(oe||"   .")}finally{r(!1)}},x=L=>{if(L){p(L);let z="",se=L.accountNumber||"";if(L.accountNumber){const De=["KB","","","","NH","IBK","KEB","SC","","","","","","","","","","","","","","","","","NH","","","","","KB","",""];for(const Q of De)if(L.accountNumber.startsWith(Q)){z=Q,se=L.accountNumber.substring(Q.length).trim();break}}let oe=L.name,ce=L.position||"";ce||(ce=nr(L.name),oe=Ln(L.name)),N({rank:L.rank||"",companyName:L.companyName||"",name:oe,position:ce,process:L.process,contact:L.contact||"",bankName:z,accountNumber:se,notes:L.notes||""})}else p(null),N({rank:"",companyName:"",name:"",position:"",process:"",contact:"",bankName:"",accountNumber:"",notes:""});m(!0)},R=()=>{m(!1),p(null),N({rank:"",companyName:"",name:"",position:"",process:"",contact:"",bankName:"",accountNumber:"",notes:""})},I=async L=>{var se,oe;L.preventDefault();const z=b.bankName&&b.accountNumber?`${b.bankName} ${b.accountNumber}`:b.accountNumber;try{const ce={rank:b.rank,companyName:b.companyName,name:b.name,position:b.position,process:b.process,contact:b.contact,accountNumber:z,notes:b.notes};c?await vs.updateContractor(c.id,ce):await vs.createContractor(ce),await j(),R()}catch(ce){console.error("Failed to save contractor:",ce);const De=ce instanceof Error&&((oe=(se=ce.response)==null?void 0:se.data)==null?void 0:oe.message);alert(De||"  .")}},y=async L=>{var z,se;if(window.confirm("   ?"))try{await vs.deleteContractor(L),await j()}catch(oe){console.error("Failed to delete contractor:",oe);const ce=oe instanceof Error&&((se=(z=oe.response)==null?void 0:z.data)==null?void 0:se.message);alert(ce||"  .")}},T=()=>"border-gray-200 text-gray-600 bg-gray-50",te=L=>L?L==="1"?1:L==="1()"?2:L==="2"?3:L==="2()"?4:L==="3"?5:L==="3()"?6:L===""?100:L===""?200:999:999,ee=s.filter(L=>L.name.toLowerCase().includes(u.toLowerCase())||L.process.toLowerCase().includes(u.toLowerCase())||L.accountNumber.toLowerCase().includes(u.toLowerCase())||L.contact&&L.contact.toLowerCase().includes(u.toLowerCase())||L.rank&&L.rank.toLowerCase().includes(u.toLowerCase())||L.companyName&&L.companyName.toLowerCase().includes(u.toLowerCase())).sort((L,z)=>{const se=te(L.rank)-te(z.rank);if(se!==0)return se;const oe=L.process.localeCompare(z.process,"ko");return oe!==0?oe:L.name.localeCompare(z.name,"ko")});return e.jsxDEV("div",{className:"space-y-3 md:space-y-4",children:[e.jsxDEV("div",{className:"flex items-center justify-end",children:e.jsxDEV("button",{onClick:()=>x(),className:"hidden md:inline-flex btn btn-primary px-3 md:px-4 py-2",children:"+  "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:282,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:281,columnNumber:7},this),e.jsxDEV("div",{className:"relative",children:[e.jsxDEV(Er,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4 md:w-5 md:h-5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:292,columnNumber:9},this),e.jsxDEV("input",{type:"text",placeholder:", ,  ...",value:u,onChange:L=>f(L.target.value),className:"w-full pl-9 md:pl-10 pr-4 py-2 text-sm md:text-base border border-gray-200 rounded-lg focus:ring-2 focus:ring-gray-400 focus:border-transparent"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:293,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:291,columnNumber:7},this),e.jsxDEV("div",{className:"contractors-table hidden md:block bg-white rounded-lg border border-gray-200 overflow-hidden",children:e.jsxDEV("div",{className:"overflow-x-auto",children:e.jsxDEV("table",{className:"w-full",children:[e.jsxDEV("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxDEV("tr",{children:[e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:308,columnNumber:17},this),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:311,columnNumber:17},this),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:314,columnNumber:17},this),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:317,columnNumber:17},this),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:320,columnNumber:17},this),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:323,columnNumber:17},this),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:326,columnNumber:17},this),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:329,columnNumber:17},this),e.jsxDEV("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:332,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:307,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:306,columnNumber:13},this),e.jsxDEV("tbody",{className:"bg-white divide-y divide-gray-200",children:t?e.jsxDEV("tr",{children:e.jsxDEV("td",{colSpan:9,className:"px-6 py-12 text-center",children:e.jsxDEV("p",{className:"text-gray-500",children:" ..."},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:341,columnNumber:21},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:340,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:339,columnNumber:17},this):i?e.jsxDEV("tr",{children:e.jsxDEV("td",{colSpan:9,className:"px-6 py-12 text-center",children:e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("p",{className:"text-red-500",children:i},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:348,columnNumber:23},this),e.jsxDEV("button",{onClick:j,className:"inline-block px-6 py-3 bg-gray-900 text-white rounded-lg hover:bg-gray-800 transition-colors",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:349,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:347,columnNumber:21},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:346,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:345,columnNumber:17},this):ee.length===0?e.jsxDEV("tr",{children:e.jsxDEV("td",{colSpan:9,className:"px-6 py-12 text-center",children:e.jsxDEV("p",{className:"text-gray-500",children:u?"  .":"  ."},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:361,columnNumber:21},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:360,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:359,columnNumber:17},this):ee.map(L=>e.jsxDEV("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxDEV("span",{className:`px-2 py-1 text-xs font-medium border rounded ${T(L.rank)}`,children:L.rank||"-"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:370,columnNumber:23},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:369,columnNumber:21},this),e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxDEV("span",{className:"text-xs font-medium text-gray-700",children:L.process},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:375,columnNumber:23},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:374,columnNumber:21},this),e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxDEV("div",{className:"text-sm text-gray-900",children:L.companyName||"-"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:380,columnNumber:23},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:379,columnNumber:21},this),e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxDEV("div",{className:"font-medium text-gray-900",children:Ln(L.name)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:383,columnNumber:23},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:382,columnNumber:21},this),e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxDEV("div",{className:"text-sm text-gray-900",children:L.position||nr(L.name)||"-"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:386,columnNumber:23},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:385,columnNumber:21},this),e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxDEV("div",{className:"text-sm text-gray-900",children:L.contact||"-"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:389,columnNumber:23},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:388,columnNumber:21},this),e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxDEV("div",{className:"text-sm text-gray-900",children:L.accountNumber},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:392,columnNumber:23},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:391,columnNumber:21},this),e.jsxDEV("td",{className:"px-6 py-4",children:e.jsxDEV("div",{className:"text-sm text-gray-500 max-w-xs truncate",children:L.notes||"-"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:395,columnNumber:23},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:394,columnNumber:21},this),e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[e.jsxDEV("button",{onClick:()=>x(L),className:"text-gray-600 hover:text-gray-900 mr-3",children:e.jsxDEV(Pn,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:404,columnNumber:25},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:400,columnNumber:23},this),e.jsxDEV("button",{onClick:()=>y(L.id),className:"text-red-600 hover:text-red-900",children:e.jsxDEV(bt,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:410,columnNumber:25},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:406,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:399,columnNumber:21},this)]},L.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:368,columnNumber:19},this))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:337,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:305,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:304,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:303,columnNumber:7},this),e.jsxDEV("div",{className:"md:hidden space-y-3",children:t?e.jsxDEV("div",{className:"text-center py-12 text-gray-500 text-sm",children:" ..."},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:424,columnNumber:11},this):i?e.jsxDEV("div",{className:"text-center py-12 space-y-4",children:[e.jsxDEV("p",{className:"text-red-500 text-sm",children:i},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:427,columnNumber:13},this),e.jsxDEV("button",{onClick:j,className:"inline-block px-4 py-2 bg-gray-900 text-white rounded-lg hover:bg-gray-800 transition-colors text-sm",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:428,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:426,columnNumber:11},this):ee.length===0?e.jsxDEV("div",{className:"text-center py-12 text-gray-500 text-sm",children:u?"  .":"  ."},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:436,columnNumber:11},this):ee.map(L=>e.jsxDEV("div",{className:"card p-3 space-y-2",children:[e.jsxDEV("div",{className:"flex items-start justify-between mb-2",children:[e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("div",{className:"flex items-center gap-2 mb-1",children:[L.rank&&e.jsxDEV("span",{className:`px-1.5 py-0.5 text-[10px] font-medium border rounded ${T(L.rank)}`,children:L.rank},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:447,columnNumber:23},this),e.jsxDEV("span",{className:"px-1.5 py-0.5 text-[10px] font-medium text-gray-700 bg-gray-100 rounded",children:L.process},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:451,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:445,columnNumber:19},this),L.companyName&&e.jsxDEV("p",{className:"text-xs text-gray-600 mb-0.5",children:L.companyName},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:456,columnNumber:21},this),e.jsxDEV("p",{className:"font-semibold text-gray-900 text-sm",children:Ln(L.name)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:458,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:444,columnNumber:17},this),e.jsxDEV("div",{className:"flex items-center gap-2 ml-2",children:[e.jsxDEV("button",{onClick:()=>x(L),className:"p-1.5 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded",children:e.jsxDEV(Pn,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:465,columnNumber:21},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:461,columnNumber:19},this),e.jsxDEV("button",{onClick:()=>y(L.id),className:"p-1.5 text-red-600 hover:text-red-900 hover:bg-red-50 rounded",children:e.jsxDEV(bt,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:471,columnNumber:21},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:467,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:460,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:443,columnNumber:15},this),e.jsxDEV("div",{className:"space-y-1 text-xs",children:[(L.position||nr(L.name))&&e.jsxDEV("div",{className:"flex items-start",children:[e.jsxDEV("span",{className:"text-gray-500 w-14 flex-shrink-0",children:":"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:480,columnNumber:21},this),e.jsxDEV("span",{className:"text-gray-900",children:L.position||nr(L.name)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:481,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:479,columnNumber:19},this),L.contact&&e.jsxDEV("div",{className:"flex items-start",children:[e.jsxDEV("span",{className:"text-gray-500 w-14 flex-shrink-0",children:":"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:486,columnNumber:21},this),e.jsxDEV("span",{className:"text-gray-900",children:L.contact},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:487,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:485,columnNumber:19},this),e.jsxDEV("div",{className:"flex items-start",children:[e.jsxDEV("span",{className:"text-gray-500 w-14 flex-shrink-0",children:":"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:491,columnNumber:19},this),e.jsxDEV("span",{className:"text-gray-900 break-all",children:L.accountNumber},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:492,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:490,columnNumber:17},this),L.notes&&e.jsxDEV("div",{className:"flex items-start",children:[e.jsxDEV("span",{className:"text-gray-500 w-14 flex-shrink-0",children:":"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:496,columnNumber:21},this),e.jsxDEV("span",{className:"text-gray-600",children:L.notes},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:497,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:495,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:477,columnNumber:15},this)]},L.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:441,columnNumber:13},this))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:422,columnNumber:7},this),o&&e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxDEV("div",{className:"bg-white rounded-lg max-w-md w-full max-h-[90vh] overflow-y-auto",children:e.jsxDEV("div",{className:"p-6",children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-6",children:[e.jsxDEV("h2",{className:"text-xl font-bold text-gray-900",children:c?" ":"  "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:512,columnNumber:17},this),e.jsxDEV("button",{onClick:R,className:"text-gray-400 hover:text-gray-600",children:e.jsxDEV(ot,{className:"w-6 h-6"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:519,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:515,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:511,columnNumber:15},this),e.jsxDEV("form",{onSubmit:I,className:"space-y-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:525,columnNumber:19},this),e.jsxDEV("select",{value:b.rank,onChange:L=>N({...b,rank:L.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-400 focus:border-transparent",children:[e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:533,columnNumber:21},this),e.jsxDEV("option",{value:"1",children:"1"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:534,columnNumber:21},this),e.jsxDEV("option",{value:"2",children:"2"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:535,columnNumber:21},this),e.jsxDEV("option",{value:"3",children:"3"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:536,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:528,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:524,columnNumber:17},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:541,columnNumber:19},this),e.jsxDEV("input",{type:"text",value:b.companyName,onChange:L=>N({...b,companyName:L.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-400 focus:border-transparent"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:544,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:540,columnNumber:17},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[" ",e.jsxDEV("span",{className:"text-red-500",children:"*"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:554,columnNumber:24},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:553,columnNumber:19},this),e.jsxDEV("input",{type:"text",required:!0,value:b.name,onChange:L=>N({...b,name:L.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-400 focus:border-transparent"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:556,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:552,columnNumber:17},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:566,columnNumber:19},this),e.jsxDEV("input",{type:"text",value:b.position,onChange:L=>N({...b,position:L.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-400 focus:border-transparent"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:569,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:565,columnNumber:17},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[" ",e.jsxDEV("span",{className:"text-red-500",children:"*"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:579,columnNumber:24},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:578,columnNumber:19},this),e.jsxDEV("input",{type:"text",required:!0,value:b.process,onChange:L=>N({...b,process:L.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-400 focus:border-transparent"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:581,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:577,columnNumber:17},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:591,columnNumber:19},this),e.jsxDEV("input",{type:"text",value:b.contact,onChange:L=>N({...b,contact:L.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-400 focus:border-transparent"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:594,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:590,columnNumber:17},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:603,columnNumber:19},this),e.jsxDEV("select",{value:b.bankName,onChange:L=>N({...b,bankName:L.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-400 focus:border-transparent",children:[e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:611,columnNumber:21},this),e.jsxDEV("optgroup",{label:"",children:[e.jsxDEV("option",{value:"KB",children:"KB"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:613,columnNumber:23},this),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:614,columnNumber:23},this),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:615,columnNumber:23},this),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:616,columnNumber:23},this),e.jsxDEV("option",{value:"NH",children:"NH"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:617,columnNumber:23},this),e.jsxDEV("option",{value:"IBK",children:"IBK"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:618,columnNumber:23},this),e.jsxDEV("option",{value:"KEB",children:"KEB"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:619,columnNumber:23},this),e.jsxDEV("option",{value:"SC",children:"SC"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:620,columnNumber:23},this),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:621,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:612,columnNumber:21},this),e.jsxDEV("optgroup",{label:"",children:[e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:624,columnNumber:23},this),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:625,columnNumber:23},this),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:626,columnNumber:23},this),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:627,columnNumber:23},this),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:628,columnNumber:23},this),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:629,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:623,columnNumber:21},this),e.jsxDEV("optgroup",{label:"",children:[e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:632,columnNumber:23},this),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:633,columnNumber:23},this),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:634,columnNumber:23},this),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:635,columnNumber:23},this),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:636,columnNumber:23},this),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:637,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:631,columnNumber:21},this),e.jsxDEV("optgroup",{label:"",children:[e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:640,columnNumber:23},this),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:641,columnNumber:23},this),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:642,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:639,columnNumber:21},this),e.jsxDEV("optgroup",{label:"",children:[e.jsxDEV("option",{value:"NH",children:"NH"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:645,columnNumber:23},this),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:646,columnNumber:23},this),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:647,columnNumber:23},this),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:648,columnNumber:23},this),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:649,columnNumber:23},this),e.jsxDEV("option",{value:"KB",children:"KB"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:650,columnNumber:23},this),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:651,columnNumber:23},this),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:652,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:644,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:606,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:602,columnNumber:17},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:658,columnNumber:19},this),e.jsxDEV("input",{type:"text",value:b.accountNumber,onChange:L=>N({...b,accountNumber:L.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-400 focus:border-transparent"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:661,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:657,columnNumber:17},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:670,columnNumber:19},this),e.jsxDEV("textarea",{value:b.notes,onChange:L=>N({...b,notes:L.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-400 focus:border-transparent",rows:3},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:673,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:669,columnNumber:17},this),e.jsxDEV("div",{className:"flex space-x-3 pt-4",children:[e.jsxDEV("button",{type:"button",onClick:R,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:682,columnNumber:19},this),e.jsxDEV("button",{type:"submit",className:"flex-1 px-4 py-2 bg-gray-700 text-white rounded-lg hover:bg-gray-800 transition-colors",children:c?"":""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:689,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:681,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:523,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:510,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:509,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:508,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:279,columnNumber:5},this)}const Zs=["","","","","","","","",""],ob=()=>{const{addScheduleToAPI:s,deleteScheduleFromAPI:n,updateScheduleInAPI:t,schedules:r,fetchSchedules:i}=os(),{user:a}=Mt(),o=Qt(),[m,c]=d.useState([]),[p,u]=d.useState(""),[f,b]=d.useState("pending"),[N,j]=d.useState(null),[x,R]=d.useState(null),I=d.useRef(null),[y,T]=d.useState({project:"",requestType:"",description:"",requestDate:je(new Date,"yyyy-MM-dd"),dueDate:je(new Date(Date.now()+3*24*60*60*1e3),"yyyy-MM-dd"),requestedBy:(a==null?void 0:a.name)||"",assignedTo:""}),[te,ee]=d.useState(""),[L,z]=d.useState(null),[se,oe]=d.useState(!1);d.useEffect(()=>{ce()},[]),d.useEffect(()=>{a!=null&&a.name&&T(B=>{const ge={};return B.requestedBy||(ge.requestedBy=a.name),a.name===""&&!B.project&&o.length>0&&(ge.project=o[0].name),{...B,...ge}})},[a,o]);const ce=async()=>{try{const ge=(await _s.getAllWorkRequests()).map(me=>({id:me._id,project:me.project,requestType:me.requestType,description:me.description,requestDate:new Date(me.requestDate),dueDate:new Date(me.dueDate),requestedBy:me.requestedBy,assignedTo:me.assignedTo,status:me.status,priority:me.priority,notes:me.notes,completedDate:me.completedDate?new Date(me.completedDate):void 0}));c(ge)}catch(B){console.error("Failed to load work requests:",B),M.error("  ")}};d.useEffect(()=>{var B,ge;N&&I.current&&((ge=(B=I.current).showPicker)==null||ge.call(B))},[N]),d.useEffect(()=>{const B=()=>{x&&R(null)};if(x)return document.addEventListener("click",B),()=>document.removeEventListener("click",B)},[x]),d.useEffect(()=>{const B=()=>{oe(ge=>{const me=!ge;return window.dispatchEvent(new CustomEvent("mobileFormStateChange",{detail:{isOpen:me}})),me})};return window.addEventListener("headerAddButtonClick",B),()=>window.removeEventListener("headerAddButtonClick",B)},[]),d.useEffect(()=>{window.dispatchEvent(new CustomEvent("mobileFormStateChange",{detail:{isOpen:se}}))},[se]);const De=async(B,ge)=>{if(window.confirm(`"${ge}"  ?

    .`))try{const me=m.find(_e=>_e.id===B);if(await _s.deleteWorkRequest(B),c(m.filter(_e=>_e.id!==B)),M.success(" "),me)try{let _e="";me.project?_e=me.requestType?`[] ${me.requestType}`:`[] ${me.description.substring(0,20)}`:_e=me.description;const G=r.filter(C=>{const le=C.start&&new Date(C.start).toDateString()===me.dueDate.toDateString(),D=C.title===_e;return le&&D});for(const C of G)try{await n(C.id)}catch(le){console.error("Failed to delete related schedule:",le)}await i()}catch(_e){console.error("Failed to handle related schedules:",_e)}}catch(me){console.error("Failed to delete work request:",me),M.error("  "),await ce()}},Q=B=>{z(B),T({project:B.project,requestType:B.requestType,description:B.description,requestDate:je(B.requestDate,"yyyy-MM-dd"),dueDate:je(B.dueDate,"yyyy-MM-dd"),requestedBy:B.requestedBy,assignedTo:B.assignedTo}),oe(!0)},ne=()=>{z(null),T({project:"",requestType:"",description:"",requestDate:je(new Date,"yyyy-MM-dd"),dueDate:je(new Date(Date.now()+3*24*60*60*1e3),"yyyy-MM-dd"),requestedBy:(a==null?void 0:a.name)||"",assignedTo:""}),setIsUrgent(!1),ee("")},xe=async B=>{if(B.preventDefault(),!y.requestedBy||!y.assignedTo||!y.requestDate||!y.dueDate){M.error("   ");return}try{const ge=y.requestType===""?te:y.requestType;if(L){const me=await _s.updateWorkRequest(L.id,{project:y.project,requestType:ge,description:y.description,requestDate:new Date(y.requestDate),dueDate:new Date(y.dueDate),requestedBy:y.requestedBy,assignedTo:y.assignedTo,status:L.status,priority:"medium"}),_e={id:me._id,project:me.project,requestType:me.requestType,description:me.description,requestDate:new Date(me.requestDate),dueDate:new Date(me.dueDate),requestedBy:me.requestedBy,assignedTo:me.assignedTo,status:me.status,priority:me.priority,notes:me.notes,completedDate:me.completedDate?new Date(me.completedDate):void 0};let G="";me.project?G=me.requestType?`[] ${me.requestType}`:`[] ${me.description.substring(0,20)}`:G=me.description;const C=r.find(le=>{const D=le.start&&new Date(le.start).toDateString()===new Date(me.dueDate).toDateString(),H=le.title===G;return D&&H});if(C)try{let le=null,D="";if(me.project){const ie=o.find(Ce=>Ce.name===me.project);le=ie?ie.id:C.project,D=me.requestType?`[] ${me.requestType}`:`[] ${me.description.substring(0,20)}`}else D=me.description,le=C.project;const H=me.assignedTo===""?["","",""]:[me.assignedTo];await t(C.id,{title:D,start:new Date(me.dueDate),end:new Date(me.dueDate),project:le,attendees:H,description:`${me.description}

: ${me.assignedTo}
: ${me.requestedBy}
: ${me.priority}
${me.notes||""}`})}catch(le){console.error("Failed to update related schedule:",le)}c(m.map(le=>le.id===L.id?_e:le)),M.success(" ")}else{const me=await _s.createWorkRequest({project:y.project,requestType:ge,description:y.description||"",requestDate:new Date(y.requestDate),dueDate:new Date(y.dueDate),requestedBy:y.requestedBy,assignedTo:y.assignedTo,status:"pending",priority:"medium"}),_e={id:me._id,project:me.project,requestType:me.requestType,description:me.description,requestDate:new Date(me.requestDate),dueDate:new Date(me.dueDate),requestedBy:me.requestedBy,assignedTo:me.assignedTo,status:me.status,priority:me.priority,notes:me.notes,completedDate:me.completedDate?new Date(me.completedDate):void 0};try{let G=null,C="";if(me.project){const D=o.find(H=>H.name===me.project);if(G=D?D.id:null,!G)throw console.warn("Project not found for work request:",me.project),new Error("Project not found");C=me.requestType?`[] ${me.requestType}`:`[] ${me.description.substring(0,20)}`}else C=me.description;const le=me.assignedTo===""?["","",""]:[me.assignedTo];await s({id:`workrequest-${me._id}`,title:C,start:new Date(me.dueDate),end:new Date(me.dueDate),type:"other",project:G,location:"",attendees:le,description:`${me.description}

: ${me.assignedTo}
: ${me.requestedBy}
: ${me.priority}
${me.notes||""}`})}catch(G){console.error("Failed to create schedule:",G)}c([_e,...m]),M.success(" ")}ne()}catch(ge){console.error("Failed to save work request:",ge),M.error("  ")}},Ee=(B,ge)=>{j({requestId:B,field:ge})},He=async B=>{if(!N)return;const ge=new Date(B);if(!isNaN(ge.getTime()))try{if(!m.find(_e=>_e.id===N.requestId))return;await _s.updateWorkRequest(N.requestId,{[N.field]:ge}),c(m.map(_e=>_e.id===N.requestId?{..._e,[N.field]:ge}:_e)),j(null),M.success(" ")}catch(me){console.error("Failed to update date:",me),M.error("  "),j(null)}},Ve=(B,ge)=>{R({requestId:B,field:ge})},Ge=async B=>{if(x)try{await _s.updateWorkRequest(x.requestId,{[x.field]:B}),c(m.map(ge=>ge.id===x.requestId?{...ge,[x.field]:B}:ge)),R(null),M.success(" ")}catch(ge){console.error("Failed to update person:",ge),M.error("  "),R(null)}},de=async(B,ge)=>{try{const me=ge==="completed"?new Date:void 0;if(await _s.updateWorkRequest(B,{status:ge,completedDate:me}),c(m.map(G=>G.id===B?{...G,status:ge,completedDate:me}:G)),ge==="completed"){const G=m.find(C=>C.id===B);if(G){const C=r.find(le=>le.id===`workrequest-${B}`||le.title.includes("[]")&&le.project===G.project);if(C)try{await n(C.id)}catch(le){console.error("Failed to delete related schedule:",le)}}}const _e={pending:"","in-progress":"",completed:""};M.success(` ${_e[ge]} `)}catch(me){console.error("Failed to update status:",me),M.error("  ")}},Ae=B=>{const me={pending:{label:"",color:"bg-gray-100 text-gray-700 border-gray-300"},"in-progress":{label:"",color:"bg-gray-100 text-gray-800 border-gray-300"},completed:{label:"",color:"bg-gray-900 text-white border-gray-900"},cancelled:{label:"",color:"bg-gray-100 text-gray-500 border-gray-300"}}[B];return e.jsxDEV("span",{className:`px-3 py-1 text-xs font-medium border ${me.color}`,children:me.label},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:521,columnNumber:7},void 0)},Ue=B=>{const ge=new Date;ge.setHours(0,0,0,0);const me=new Date(B);me.setHours(0,0,0,0);const _e=me.getTime()-ge.getTime();return Math.ceil(_e/(1e3*60*60*24))},he=B=>{const ge=Ue(B);return ge<0?e.jsxDEV("span",{className:"inline-flex items-center px-2 py-1 text-xs font-bold bg-gray-100 text-gray-700 border border-gray-300 rounded",children:["D+",Math.abs(ge)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:561,columnNumber:9},void 0):ge===0?e.jsxDEV("span",{className:"inline-flex items-center px-2 py-1 text-xs font-bold bg-gray-900 text-white border border-gray-900 rounded",children:"D-Day"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:567,columnNumber:9},void 0):ge<=3?e.jsxDEV("span",{className:"inline-flex items-center px-2 py-1 text-xs font-bold bg-gray-100 text-gray-700 border border-gray-300 rounded",children:["D-",ge]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:573,columnNumber:9},void 0):ge<=7?e.jsxDEV("span",{className:"inline-flex items-center px-2 py-1 text-xs font-bold bg-gray-100 text-gray-700 border border-gray-300 rounded",children:["D-",ge]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:579,columnNumber:9},void 0):e.jsxDEV("span",{className:"inline-flex items-center px-2 py-1 text-xs font-medium bg-gray-100 text-gray-700 border border-gray-300 rounded",children:["D-",ge]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:585,columnNumber:9},void 0)},Re=(a==null?void 0:a.name)===""?m.filter(B=>o.some(ge=>ge.name===B.project)):m,qe=(()=>{let B=Re;return f!=="all"&&(B=B.filter(ge=>ge.status===f)),p&&(B=B.filter(ge=>ge.project.toLowerCase().includes(p.toLowerCase())||ge.requestType.toLowerCase().includes(p.toLowerCase())||ge.description.toLowerCase().includes(p.toLowerCase()))),B})(),Oe={pending:Re.filter(B=>B.status==="pending").length,inProgress:Re.filter(B=>B.status==="in-progress").length,completed:Re.filter(B=>B.status==="completed").length,total:Re.length};return e.jsxDEV("div",{className:"workrequest-container space-y-3 md:space-y-4",children:[e.jsxDEV("div",{className:"workrequest-desktop hidden md:grid md:grid-cols-[400px_1fr] gap-4",children:[e.jsxDEV("div",{className:"workrequest-form bg-white border border-gray-200 rounded-lg p-6 h-fit sticky top-4",children:[L&&e.jsxDEV("h2",{className:"text-xl font-semibold mb-4",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:631,columnNumber:13},void 0),e.jsxDEV("form",{onSubmit:xe,className:"workrequest-form-inner space-y-4",children:[e.jsxDEV("div",{className:"wr-project",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:639,columnNumber:15},void 0),e.jsxDEV("select",{value:y.project,onChange:B=>T({...y,project:B.target.value}),className:"input w-full",children:[(a==null?void 0:a.name)!==""&&e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:647,columnNumber:41},void 0),o.filter(B=>B.status!=="completed").map(B=>e.jsxDEV("option",{value:B.name,children:B.name},B.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:651,columnNumber:21},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:642,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:638,columnNumber:13},void 0),e.jsxDEV("div",{className:"wr-type",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:660,columnNumber:15},void 0),e.jsxDEV("select",{value:y.requestType,onChange:B=>T({...y,requestType:B.target.value}),className:"input w-full",children:[e.jsxDEV("option",{value:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:668,columnNumber:17},void 0),e.jsxDEV("option",{value:"3D",children:"3D"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:669,columnNumber:17},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:670,columnNumber:17},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:671,columnNumber:17},void 0),e.jsxDEV("option",{value:" ",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:672,columnNumber:17},void 0),e.jsxDEV("option",{value:" ",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:673,columnNumber:17},void 0),e.jsxDEV("option",{value:" ",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:674,columnNumber:17},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:675,columnNumber:17},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:676,columnNumber:17},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:677,columnNumber:17},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:678,columnNumber:17},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:679,columnNumber:17},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:680,columnNumber:17},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:681,columnNumber:17},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:682,columnNumber:17},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:683,columnNumber:17},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:684,columnNumber:17},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:685,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:663,columnNumber:15},void 0),y.requestType===""&&e.jsxDEV("input",{type:"text",value:te,onChange:B=>ee(B.target.value),placeholder:"  ",className:"input w-full mt-2"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:689,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:659,columnNumber:13},void 0),e.jsxDEV("div",{className:"wr-description",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:701,columnNumber:15},void 0),e.jsxDEV("textarea",{value:y.description,onChange:B=>T({...y,description:B.target.value}),rows:4,className:"input w-full",placeholder:"   "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:704,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:700,columnNumber:13},void 0),e.jsxDEV("div",{className:"wr-dates grid grid-cols-2 gap-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:716,columnNumber:17},void 0),e.jsxDEV("input",{type:"date",value:y.requestDate,onChange:B=>T({...y,requestDate:B.target.value}),required:!0,className:"input w-full"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:719,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:715,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:728,columnNumber:17},void 0),e.jsxDEV("input",{type:"date",value:y.dueDate,onChange:B=>T({...y,dueDate:B.target.value}),required:!0,className:"input w-full"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:731,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:727,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:714,columnNumber:13},void 0),e.jsxDEV("div",{className:"wr-people grid grid-cols-2 gap-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:744,columnNumber:17},void 0),e.jsxDEV("select",{value:y.requestedBy,onChange:B=>T({...y,requestedBy:B.target.value}),required:!0,className:"input w-full",children:[e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:753,columnNumber:19},void 0),Zs.map(B=>e.jsxDEV("option",{value:B,children:B},B,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:755,columnNumber:21},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:747,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:743,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:762,columnNumber:17},void 0),e.jsxDEV("select",{value:y.assignedTo,onChange:B=>T({...y,assignedTo:B.target.value}),required:!0,className:"input w-full",children:[e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:771,columnNumber:19},void 0),Zs.map(B=>e.jsxDEV("option",{value:B,children:B},B,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:773,columnNumber:21},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:765,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:761,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:742,columnNumber:13},void 0),e.jsxDEV("div",{className:"wr-actions flex gap-3 pt-4 border-t",children:[L&&e.jsxDEV("button",{type:"button",onClick:ne,className:"flex-1 btn btn-outline",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:784,columnNumber:17},void 0),e.jsxDEV("button",{type:"submit",className:"flex-1 btn btn-primary",children:L?"":""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:792,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:782,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:636,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:629,columnNumber:9},void 0),e.jsxDEV("div",{className:"workrequest-list space-y-4",children:[e.jsxDEV("div",{className:"border-b border-gray-200",children:e.jsxDEV("nav",{className:"flex space-x-8",children:[{id:"pending",label:"",count:Oe.pending,color:"text-gray-700"},{id:"in-progress",label:"",count:Oe.inProgress,color:"text-gray-700"},{id:"completed",label:"",count:Oe.completed,color:"text-gray-700"},{id:"all",label:"",count:Oe.total,color:"text-gray-600"}].map(B=>e.jsxDEV("button",{onClick:()=>b(B.id),className:Pt("py-4 px-1 border-b-2 font-medium text-sm transition-colors whitespace-nowrap",f===B.id?`border-gray-700 ${B.color}`:"border-transparent text-gray-400 hover:text-gray-700 hover:border-gray-300"),children:[B.label,B.count>0&&e.jsxDEV("span",{className:Pt("ml-2 py-0.5 px-2 rounded-full text-xs font-semibold",f===B.id?"bg-gray-700 text-white":"bg-gray-200 text-gray-600"),children:B.count},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:822,columnNumber:21},void 0)]},B.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:810,columnNumber:17},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:803,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:802,columnNumber:11},void 0),e.jsxDEV("div",{className:"flex items-center space-x-4",children:e.jsxDEV("input",{type:"text",placeholder:"...",value:p,onChange:B=>u(B.target.value),className:"flex-1 px-4 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:border-gray-900"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:836,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:835,columnNumber:11},void 0),e.jsxDEV("div",{className:"bg-white border border-gray-200 overflow-x-auto",children:e.jsxDEV("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsxDEV("thead",{className:"bg-gray-50",children:e.jsxDEV("tr",{children:[e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:850,columnNumber:19},void 0),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:851,columnNumber:19},void 0),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:852,columnNumber:19},void 0),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:853,columnNumber:19},void 0),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:854,columnNumber:19},void 0),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:855,columnNumber:19},void 0),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:856,columnNumber:19},void 0),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"D-day"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:857,columnNumber:19},void 0),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:858,columnNumber:19},void 0),e.jsxDEV("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:859,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:849,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:848,columnNumber:15},void 0),e.jsxDEV("tbody",{className:"bg-white divide-y divide-gray-200",style:{overflow:"visible"},children:qe.map(B=>e.jsxDEV("tr",{className:`hover:bg-gray-50 ${B.priority==="high"?"bg-rose-50/30":""}`,style:{overflow:"visible"},children:[e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxDEV("p",{className:"font-medium text-gray-900",children:B.project},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:872,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:871,columnNumber:21},void 0),e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxDEV("p",{className:"text-sm text-gray-900",children:B.requestType},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:875,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:874,columnNumber:21},void 0),e.jsxDEV("td",{className:"px-6 py-4",children:e.jsxDEV("p",{className:"text-sm text-gray-900",children:B.description},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:878,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:877,columnNumber:21},void 0),e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",style:{overflow:"visible"},children:e.jsxDEV("div",{className:"relative inline-block",children:[e.jsxDEV("button",{onClick:ge=>{ge.stopPropagation(),Ve(B.id,"requestedBy")},className:"text-sm text-gray-900 hover:text-gray-600 hover:underline transition-colors",children:B.requestedBy},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:882,columnNumber:25},void 0),(x==null?void 0:x.requestId)===B.id&&(x==null?void 0:x.field)==="requestedBy"&&e.jsxDEV("div",{onClick:ge=>ge.stopPropagation(),className:"absolute left-0 top-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg z-50 min-w-[100px]",children:Zs.map(ge=>e.jsxDEV("button",{onClick:()=>Ge(ge),className:`block w-full text-left px-4 py-2 text-sm hover:bg-gray-100 transition-colors first:rounded-t-lg last:rounded-b-lg ${ge===B.requestedBy?"bg-gray-50 font-medium":""}`,children:ge},ge,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:897,columnNumber:31},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:892,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:881,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:880,columnNumber:21},void 0),e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",style:{overflow:"visible"},children:e.jsxDEV("div",{className:"relative inline-block",children:[e.jsxDEV("button",{onClick:ge=>{ge.stopPropagation(),Ve(B.id,"assignedTo")},className:"text-sm text-gray-900 hover:text-gray-600 hover:underline transition-colors",children:B.assignedTo},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:913,columnNumber:25},void 0),(x==null?void 0:x.requestId)===B.id&&(x==null?void 0:x.field)==="assignedTo"&&e.jsxDEV("div",{onClick:ge=>ge.stopPropagation(),className:"absolute left-0 top-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg z-50 min-w-[100px]",children:Zs.map(ge=>e.jsxDEV("button",{onClick:()=>Ge(ge),className:`block w-full text-left px-4 py-2 text-sm hover:bg-gray-100 transition-colors first:rounded-t-lg last:rounded-b-lg ${ge===B.assignedTo?"bg-gray-50 font-medium":""}`,children:ge},ge,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:928,columnNumber:31},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:923,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:912,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:911,columnNumber:21},void 0),e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxDEV("div",{className:"relative inline-block",children:[(N==null?void 0:N.requestId)===B.id&&(N==null?void 0:N.field)==="requestDate"&&e.jsxDEV("input",{ref:I,type:"date",defaultValue:je(B.requestDate,"yyyy-MM-dd"),onChange:ge=>He(ge.target.value),onBlur:()=>j(null),className:"absolute left-0 top-0 w-auto h-auto opacity-0 z-50",style:{pointerEvents:"auto"}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:945,columnNumber:27},void 0),e.jsxDEV("button",{onClick:()=>Ee(B.id,"requestDate"),className:"flex items-center space-x-2 text-sm text-gray-900 hover:text-gray-600 transition-colors",children:[e.jsxDEV(nn,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:959,columnNumber:27},void 0),e.jsxDEV("span",{children:je(B.requestDate,"yyyy.MM.dd (eee)",{locale:ft})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:960,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:955,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:943,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:942,columnNumber:21},void 0),e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxDEV("div",{className:"relative inline-block",children:[(N==null?void 0:N.requestId)===B.id&&(N==null?void 0:N.field)==="dueDate"&&e.jsxDEV("input",{ref:I,type:"date",defaultValue:je(B.dueDate,"yyyy-MM-dd"),onChange:ge=>He(ge.target.value),onBlur:()=>j(null),className:"absolute left-0 top-0 w-auto h-auto opacity-0 z-50",style:{pointerEvents:"auto"}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:967,columnNumber:27},void 0),e.jsxDEV("button",{onClick:()=>Ee(B.id,"dueDate"),className:"flex items-center space-x-2 text-sm text-gray-900 hover:text-gray-600 transition-colors",children:[e.jsxDEV(nn,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:981,columnNumber:27},void 0),e.jsxDEV("span",{children:je(B.dueDate,"yyyy.MM.dd (eee)",{locale:ft})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:982,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:977,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:965,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:964,columnNumber:21},void 0),e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:he(B.dueDate)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:986,columnNumber:21},void 0),e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:Ae(B.status)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:989,columnNumber:21},void 0),e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxDEV("div",{className:"flex items-center justify-center space-x-2",children:[B.status==="pending"&&e.jsxDEV("button",{onClick:()=>de(B.id,"in-progress"),className:"px-3 py-1 text-xs font-semibold text-white rounded-lg transition-colors bg-gray-900 hover:bg-gray-800",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:995,columnNumber:27},void 0),B.status==="in-progress"&&e.jsxDEV("button",{onClick:()=>de(B.id,"completed"),className:"px-3 py-1 text-xs font-semibold bg-gray-900 text-white rounded hover:bg-gray-800 transition-colors",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1003,columnNumber:27},void 0),e.jsxDEV("button",{onClick:()=>Q(B),className:"text-xs text-gray-600 hover:text-gray-900",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1010,columnNumber:25},void 0),e.jsxDEV("button",{onClick:()=>De(B.id,B.project),className:"text-gray-600 hover:text-gray-700",children:e.jsxDEV(bt,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1020,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1016,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:993,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:992,columnNumber:21},void 0)]},B.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:864,columnNumber:19},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:862,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:847,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:846,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:800,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:627,columnNumber:7},void 0),e.jsxDEV("div",{className:"workrequest-mobile md:hidden space-y-3",children:[e.jsxDEV("div",{className:"border-b border-gray-200",children:e.jsxDEV("nav",{className:"flex space-x-4 overflow-x-auto",children:[{id:"pending",label:"",count:Oe.pending,color:"text-gray-700"},{id:"in-progress",label:"",count:Oe.inProgress,color:"text-gray-700"},{id:"completed",label:"",count:Oe.completed,color:"text-gray-700"},{id:"all",label:"",count:Oe.total,color:"text-gray-600"}].map(B=>e.jsxDEV("button",{onClick:()=>b(B.id),className:Pt("py-3 px-1 border-b-2 font-medium text-xs transition-colors whitespace-nowrap",f===B.id?`border-gray-700 ${B.color}`:"border-transparent text-gray-400 hover:text-gray-700 hover:border-gray-300"),children:[B.label,B.count>0&&e.jsxDEV("span",{className:Pt("ml-1 py-0.5 px-1.5 rounded-full text-[10px] font-semibold",f===B.id?"bg-gray-700 text-white":"bg-gray-200 text-gray-600"),children:B.count},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1055,columnNumber:19},void 0)]},B.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1043,columnNumber:15},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1036,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1035,columnNumber:9},void 0),se&&e.jsxDEV("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[L&&e.jsxDEV("h2",{className:"text-base font-semibold text-gray-900 mb-3",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1071,columnNumber:13},void 0),e.jsxDEV("form",{onSubmit:xe,className:"space-y-3",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1079,columnNumber:19},void 0),e.jsxDEV("select",{value:y.project,onChange:B=>T({...y,project:B.target.value}),className:"w-full px-3 py-2.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 bg-white cursor-pointer hover:border-gray-400 transition-colors appearance-none bg-[url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20fill%3D%22none%22%20viewBox%3D%220%200%2020%2020%22%3E%3Cpath%20stroke%3D%22%236b7280%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%221.5%22%20d%3D%22M6%208l4%204%204-4%22%2F%3E%3C%2Fsvg%3E')] bg-[length:1.5em_1.5em] bg-[right_0.5rem_center] bg-no-repeat pr-10",children:[(a==null?void 0:a.name)!==""&&e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1087,columnNumber:45},void 0),o.filter(B=>B.status!=="completed").map(B=>e.jsxDEV("option",{value:B.name,children:B.name},B.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1091,columnNumber:25},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1082,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1078,columnNumber:17},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1100,columnNumber:19},void 0),e.jsxDEV("select",{value:y.requestType,onChange:B=>T({...y,requestType:B.target.value}),className:"w-full px-3 py-2.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 bg-white cursor-pointer hover:border-gray-400 transition-colors appearance-none bg-[url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20fill%3D%22none%22%20viewBox%3D%220%200%2020%2020%22%3E%3Cpath%20stroke%3D%22%236b7280%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%221.5%22%20d%3D%22M6%208l4%204%204-4%22%2F%3E%3C%2Fsvg%3E')] bg-[length:1.5em_1.5em] bg-[right_0.5rem_center] bg-no-repeat pr-10",children:[e.jsxDEV("option",{value:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1108,columnNumber:21},void 0),e.jsxDEV("option",{value:"3D",children:"3D"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1109,columnNumber:21},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1110,columnNumber:21},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1111,columnNumber:21},void 0),e.jsxDEV("option",{value:" ",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1112,columnNumber:21},void 0),e.jsxDEV("option",{value:" ",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1113,columnNumber:21},void 0),e.jsxDEV("option",{value:" ",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1114,columnNumber:21},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1115,columnNumber:21},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1116,columnNumber:21},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1117,columnNumber:21},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1118,columnNumber:21},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1119,columnNumber:21},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1120,columnNumber:21},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1121,columnNumber:21},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1122,columnNumber:21},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1123,columnNumber:21},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1124,columnNumber:21},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1125,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1103,columnNumber:19},void 0),y.requestType===""&&e.jsxDEV("input",{type:"text",value:te,onChange:B=>ee(B.target.value),placeholder:"  ",className:"w-full px-3 py-2.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 mt-2 hover:border-gray-400 transition-colors"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1129,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1099,columnNumber:17},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1141,columnNumber:19},void 0),e.jsxDEV("textarea",{value:y.description,onChange:B=>T({...y,description:B.target.value}),rows:3,className:"w-full px-3 py-2.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 hover:border-gray-400 transition-colors",placeholder:"   "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1144,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1140,columnNumber:17},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:" *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1156,columnNumber:21},void 0),e.jsxDEV("input",{type:"date",value:y.requestDate,onChange:B=>T({...y,requestDate:B.target.value}),required:!0,className:"w-full px-3 py-2.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 bg-white"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1159,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1155,columnNumber:19},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:" *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1168,columnNumber:21},void 0),e.jsxDEV("input",{type:"date",value:y.dueDate,onChange:B=>T({...y,dueDate:B.target.value}),required:!0,className:"w-full px-3 py-2.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 bg-white"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1171,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1167,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1154,columnNumber:17},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1184,columnNumber:21},void 0),e.jsxDEV("select",{value:y.requestedBy,onChange:B=>T({...y,requestedBy:B.target.value}),required:!0,className:"w-full px-3 py-2.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 bg-white cursor-pointer hover:border-gray-400 transition-colors appearance-none bg-[url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20fill%3D%22none%22%20viewBox%3D%220%200%2020%2020%22%3E%3Cpath%20stroke%3D%22%236b7280%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%221.5%22%20d%3D%22M6%208l4%204%204-4%22%2F%3E%3C%2Fsvg%3E')] bg-[length:1.5em_1.5em] bg-[right_0.5rem_center] bg-no-repeat pr-10",children:[e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1193,columnNumber:23},void 0),Zs.map(B=>e.jsxDEV("option",{value:B,children:B},B,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1195,columnNumber:25},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1187,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1183,columnNumber:19},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1202,columnNumber:21},void 0),e.jsxDEV("select",{value:y.assignedTo,onChange:B=>T({...y,assignedTo:B.target.value}),required:!0,className:"w-full px-3 py-2.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 bg-white cursor-pointer hover:border-gray-400 transition-colors appearance-none bg-[url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20fill%3D%22none%22%20viewBox%3D%220%200%2020%2020%22%3E%3Cpath%20stroke%3D%22%236b7280%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%221.5%22%20d%3D%22M6%208l4%204%204-4%22%2F%3E%3C%2Fsvg%3E')] bg-[length:1.5em_1.5em] bg-[right_0.5rem_center] bg-no-repeat pr-10",children:[e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1211,columnNumber:23},void 0),Zs.map(B=>e.jsxDEV("option",{value:B,children:B},B,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1213,columnNumber:25},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1205,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1201,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1182,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex gap-2 pt-2",children:[L&&e.jsxDEV("button",{type:"button",onClick:ne,className:"flex-1 px-4 py-2.5 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1224,columnNumber:21},void 0),e.jsxDEV("button",{type:"submit",className:"flex-1 px-4 py-2.5 text-sm font-medium text-white bg-gray-900 rounded-lg hover:bg-gray-800 transition-colors",children:L?"":""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1232,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1222,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1076,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1069,columnNumber:9},void 0),e.jsxDEV("div",{className:"workrequest-cards space-y-3",children:qe.map(B=>e.jsxDEV("div",{className:`card p-3 hover:border-gray-400 transition-colors ${B.priority==="high"?"border-2 border-rose-200 bg-rose-50/30":""}`,children:[e.jsxDEV("div",{className:"flex items-start justify-between mb-2",children:[e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("div",{className:"flex items-center gap-2 mb-1",children:[Ae(B.status),he(B.dueDate)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1254,columnNumber:17},void 0),e.jsxDEV("h3",{className:"font-bold text-base text-gray-900",children:B.project},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1258,columnNumber:17},void 0),e.jsxDEV("p",{className:"text-xs text-gray-600 mt-0.5",children:B.requestType},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1259,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1253,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("button",{onClick:()=>Q(B),className:"text-xs text-gray-600 hover:text-gray-900 px-2 py-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1262,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>De(B.id,B.project),className:"text-gray-600 hover:text-gray-700 p-1",children:e.jsxDEV(bt,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1272,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1268,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1261,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1252,columnNumber:13},void 0),e.jsxDEV("div",{className:"space-y-2 text-sm border-t border-gray-100 pt-2",children:[e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-xs text-gray-500",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1279,columnNumber:17},void 0),e.jsxDEV("p",{className:"text-gray-900 mt-0.5",children:B.description},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1280,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1278,columnNumber:15},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-gray-500",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1285,columnNumber:19},void 0),e.jsxDEV("p",{className:"text-gray-900 font-medium mt-0.5",children:B.requestedBy},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1286,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1284,columnNumber:17},void 0),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-gray-500",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1289,columnNumber:19},void 0),e.jsxDEV("p",{className:"text-gray-900 font-medium mt-0.5",children:B.assignedTo},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1290,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1288,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1283,columnNumber:15},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 gap-2 pt-1",children:[e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-xs text-gray-500 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1296,columnNumber:19},void 0),e.jsxDEV("p",{className:"text-xs text-gray-900",children:je(B.requestDate,"MM.dd (eee)",{locale:ft})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1297,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1295,columnNumber:17},void 0),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-xs text-gray-500 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1302,columnNumber:19},void 0),e.jsxDEV("p",{className:"text-xs text-gray-900",children:je(B.dueDate,"MM.dd (eee)",{locale:ft})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1303,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1301,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1294,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1277,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex gap-2 mt-3 pt-3 border-t border-gray-100",children:[B.status==="pending"&&e.jsxDEV("button",{onClick:()=>de(B.id,"in-progress"),className:"flex-1 px-3 py-2 text-xs font-semibold text-white rounded-lg transition-colors bg-gray-900 hover:bg-gray-800",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1313,columnNumber:17},void 0),B.status==="in-progress"&&e.jsxDEV("button",{onClick:()=>de(B.id,"completed"),className:"flex-1 px-3 py-2 text-xs font-semibold bg-gray-900 text-white rounded-lg hover:bg-gray-800 transition-colors",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1321,columnNumber:17},void 0),B.status==="completed"&&e.jsxDEV("div",{className:"flex-1 text-center text-xs text-gray-500 py-2",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1329,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1311,columnNumber:13},void 0)]},B.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1246,columnNumber:13},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1244,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1033,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:625,columnNumber:5},void 0)},mb=()=>{var Z,P;const{user:s}=Mt(),n=Qt(),[t,r]=d.useState([]),[i,a]=d.useState(null),[o,m]=d.useState([]),[c,p]=d.useState(!0),[u,f]=d.useState(""),[b,N]=d.useState(""),[j,x]=d.useState(null),[R,I]=d.useState(null),[y,T]=d.useState(""),[te,ee]=d.useState(null),[L,z]=d.useState(""),[se,oe]=d.useState(null),[ce,De]=d.useState(new Set),Q=d.useRef(null),[ne,xe]=d.useState(window.innerWidth<768),[Ee,He]=d.useState(!1),[Ve,Ge]=d.useState(null),[de,Ae]=d.useState(new Set),[Ue,he]=d.useState(()=>localStorage.getItem("finishCheck_showOnlyIncomplete")==="true"),[Re,$e]=d.useState(!1);d.useEffect(()=>{localStorage.setItem("finishCheck_showOnlyIncomplete",String(Ue))},[Ue]),d.useEffect(()=>{const v=()=>{xe(window.innerWidth<768)};return window.addEventListener("resize",v),()=>window.removeEventListener("resize",v)},[]),d.useEffect(()=>{qe()},[n]),d.useEffect(()=>{i!==null&&Oe()},[i]),d.useEffect(()=>{i!==null&&(s!=null&&s.id)&&localStorage.setItem(`finishCheck_selectedProject_${s.id}`,i.toString())},[i,s==null?void 0:s.id]),d.useEffect(()=>{if(!ne&&se){const v=async $=>{var O;const re=(O=$.clipboardData)==null?void 0:O.items;if(re){for(let g=0;g<re.length;g++)if(re[g].type.indexOf("image")!==-1){$.preventDefault();const E=re[g].getAsFile();E&&await ie(se,E)}}};return document.addEventListener("paste",v),()=>document.removeEventListener("paste",v)}},[se,ne]);const qe=async()=>{try{const v=n.map(re=>({id:re.id,title:re.name}));r(v);const $=s!=null&&s.id?localStorage.getItem(`finishCheck_selectedProject_${s.id}`):null;$&&v.some(re=>re.id===Number($))?a(Number($)):v.length>0&&a(v[0].id)}catch(v){console.error("Failed to load projects:",v),M.error("   ")}},Oe=async()=>{try{p(!0);const v=i?`/finish-check/spaces?project_id=${i}`:"/finish-check/spaces",re=(await Le.get(v)).data.map(O=>({...O,items:O.items.map(g=>({...g,images:g.images||[]}))}));m(re)}catch(v){console.error("Failed to load spaces:",v),M.error("   ")}finally{p(!1)}},B=async()=>{if(!u.trim()){M.error("  ");return}if(!i){M.error(" ");return}try{const v=await Le.post("/finish-check/spaces",{name:u.trim(),project_id:i}),$={...v.data,items:v.data.items||[]};m([...o,$]),f(""),$e(!1),M.success(" ")}catch(v){console.error("Failed to add space:",v),M.error("  ")}},ge=async(v,$)=>{if(!$.trim()){M.error("  ");return}try{await Le.put(`/finish-check/spaces/${v}`,{name:$.trim()}),m(o.map(re=>re.id===v?{...re,name:$.trim()}:re)),I(null),T(""),M.success("  ")}catch(re){console.error("Failed to update space:",re),M.error("  ")}},me=v=>{Ge(v),Ae(new Set)},_e=async()=>{if(Ve!==null){if(de.size===0){M.error("  ");return}try{await Promise.all(Array.from(de).map(v=>Le.delete(`/finish-check/items/${v}`))),m(o.map(v=>v.id===Ve?{...v,items:v.items.filter($=>!de.has($.id))}:v)),M.success(`${de.size}  `),Ge(null),Ae(new Set)}catch(v){console.error("Failed to delete items:",v),M.error("  ")}}},G=async()=>{if(Ve===null)return;const v=o.find($=>$.id===Ve);if(v&&confirm(`"${v.name}"  ?

        .`))try{await Le.delete(`/finish-check/spaces/${Ve}`),m(o.filter($=>$.id!==Ve)),M.success(" "),Ge(null),Ae(new Set)}catch($){console.error("Failed to delete space:",$),M.error("  ")}},C=async v=>{if(!b.trim()){M.error("  ");return}try{const $=await Le.post("/finish-check/items",{space_id:v,content:b.trim()});m(o.map(re=>re.id===v?{...re,items:[...re.items,{...$.data,images:[]}]}:re)),N(""),x(null),M.success(" ")}catch($){console.error("Failed to add item:",$),M.error("  ")}},le=async v=>{try{const $=await Le.put(`/finish-check/items/${v}/toggle`);m(o.map(re=>({...re,items:re.items.map(O=>O.id===v?{...O,...$.data}:O)})))}catch($){console.error("Failed to toggle item:",$),M.error("   ")}},D=async v=>{try{const $=await Le.put(`/finish-check/items/${v}/toggle-priority`);m(o.map(re=>({...re,items:re.items.map(O=>O.id===v?{...O,is_priority:$.data.is_priority}:O)})))}catch($){console.error("Failed to toggle priority:",$),M.error("  ")}},H=v=>new Promise(($,re)=>{const O=new FileReader;O.readAsDataURL(v),O.onload=()=>$(O.result),O.onerror=g=>re(g)}),ie=async(v,$)=>{var g,E;if(!["image/jpeg","image/png","image/webp"].includes($.type)){M.error("JPEG, PNG, WebP    ");return}const O=5*1024*1024;if($.size>O){M.error("  5MB  ");return}try{De(ke=>new Set([...ke,v]));const S=await H($),K=await Le.post(`/finish-check/items/${v}/images`,{image_data:S,filename:$.name});m(o.map(ke=>({...ke,items:ke.items.map(ye=>ye.id===v?{...ye,images:[...ye.images,K.data]}:ye)}))),M.success(" ")}catch(S){console.error("Failed to upload image:",S),M.error(((E=(g=S.response)==null?void 0:g.data)==null?void 0:E.error)||"  ")}finally{De(S=>{const K=new Set(S);return K.delete(v),K})}},Ce=async(v,$)=>{const re=$.target.files;if(!(!re||re.length===0)){for(let O=0;O<re.length;O++)await ie(v,re[O]);Q.current&&(Q.current.value="")}},Te=async(v,$)=>{if(confirm("  ?"))try{await Le.delete(`/finish-check/images/${$}`),m(o.map(re=>({...re,items:re.items.map(O=>O.id===v?{...O,images:O.images.filter(g=>g.id!==$)}:O)}))),M.success(" ")}catch(re){console.error("Failed to delete image:",re),M.error("  ")}},ze=async(v,$)=>{v.preventDefault(),v.stopPropagation();const re=v.dataTransfer.files;if(!(!re||re.length===0))for(let O=0;O<re.length;O++)re[O].type.startsWith("image/")&&await ie($,re[O])},U=v=>{v.preventDefault(),v.stopPropagation()};if(c)return e.jsxDEV("div",{className:"flex items-center justify-center h-[calc(100vh-120px)]",children:e.jsxDEV("div",{className:"text-gray-500",children:" ..."},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:518,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:517,columnNumber:7},void 0);const J=se?o.flatMap(v=>v.items).find(v=>v.id===se):null;return e.jsxDEV("div",{className:"h-[calc(100vh-120px)] flex flex-col md:flex-row gap-4 overflow-hidden",children:[e.jsxDEV("input",{ref:Q,type:"file",accept:"image/jpeg,image/png,image/webp",multiple:!0,className:"hidden",onChange:v=>{se&&Ce(se,v)}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:530,columnNumber:7},void 0),e.jsxDEV("div",{className:"flex-1 bg-white border border-gray-200 rounded-lg overflow-hidden flex flex-col",children:[e.jsxDEV("div",{className:"p-4 border-b border-gray-200",children:ne?e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("div",{className:"flex-1",children:e.jsxDEV("select",{value:i||"",onChange:v=>{const $=v.target.value?Number(v.target.value):null;a($)},className:"w-full px-3 py-2.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 bg-white cursor-pointer hover:border-gray-400 transition-colors appearance-none bg-[url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20fill%3D%22none%22%20viewBox%3D%220%200%2020%2020%22%3E%3Cpath%20stroke%3D%22%236b7280%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%221.5%22%20d%3D%22M6%208l4%204%204-4%22%2F%3E%3C%2Fsvg%3E')] bg-[length:1.5em_1.5em] bg-[right_0.5rem_center] bg-no-repeat pr-10",children:[(s==null?void 0:s.name)!==""&&e.jsxDEV("option",{value:"",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:560,columnNumber:43},void 0),t.map(v=>e.jsxDEV("option",{value:v.id,children:v.title},v.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:562,columnNumber:21},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:552,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:551,columnNumber:15},void 0),e.jsxDEV("button",{onClick:()=>he(!Ue),className:`px-3 py-2.5 text-xs font-medium rounded-lg transition-colors whitespace-nowrap ${Ue?"bg-gray-800 text-white hover:bg-gray-900":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,title:Ue?" ":" ",children:Ue?"":""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:570,columnNumber:15},void 0),e.jsxDEV("button",{onClick:()=>$e(!0),className:"p-2.5 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors flex items-center justify-center",title:" ",children:e.jsxDEV(Gt,{className:"w-5 h-5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:588,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:583,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:549,columnNumber:13},void 0):e.jsxDEV("div",{className:"flex gap-3",children:[e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:596,columnNumber:17},void 0),e.jsxDEV("select",{value:i||"",onChange:v=>{const $=v.target.value?Number(v.target.value):null;a($)},className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 bg-white cursor-pointer hover:border-gray-400 transition-colors appearance-none bg-[url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20fill%3D%22none%22%20viewBox%3D%220%200%2020%2020%22%3E%3Cpath%20stroke%3D%22%236b7280%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%221.5%22%20d%3D%22M6%208l4%204%204-4%22%2F%3E%3C%2Fsvg%3E')] bg-[length:1.5em_1.5em] bg-[right_0.5rem_center] bg-no-repeat pr-10",children:[(s==null?void 0:s.name)!==""&&e.jsxDEV("option",{value:"",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:605,columnNumber:43},void 0),t.map(v=>e.jsxDEV("option",{value:v.id,children:v.title},v.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:607,columnNumber:21},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:597,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:595,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:616,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV("input",{type:"text",value:u,onChange:v=>f(v.target.value),onKeyPress:v=>{v.key==="Enter"&&B()},placeholder:"  ",className:"flex-1 px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:618,columnNumber:19},void 0),e.jsxDEV("button",{onClick:B,className:"p-2 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors flex items-center justify-center min-w-[44px]",title:" ",children:e.jsxDEV(Gt,{className:"w-5 h-5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:635,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:630,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:617,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:615,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex items-end",children:e.jsxDEV("button",{onClick:()=>he(!Ue),className:`px-4 py-2 text-sm font-medium rounded-lg transition-colors whitespace-nowrap ${Ue?"bg-gray-800 text-white hover:bg-gray-900":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,title:Ue?" ":" ",children:Ue?"":""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:642,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:641,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:593,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:546,columnNumber:9},void 0),e.jsxDEV("div",{className:"flex-1 overflow-y-auto p-4",children:o.length===0?e.jsxDEV("div",{className:"flex items-center justify-center h-full text-gray-500 text-sm",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:661,columnNumber:13},void 0):e.jsxDEV("div",{className:"columns-1 portrait:md:columns-2 landscape:md:columns-3 desktop:columns-4 column-gap-4",children:o.map((v,$)=>{const re=v.items.filter(g=>!g.is_completed).sort((g,E)=>(E.is_priority||0)-(g.is_priority||0)),O=v.items.filter(g=>g.is_completed);return Ue&&re.length===0?null:e.jsxDEV("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50 mb-4 break-inside-avoid",children:[R===v.id?e.jsxDEV("div",{className:"flex gap-2 mb-4",children:[e.jsxDEV("input",{type:"text",value:y,onChange:g=>T(g.target.value),onKeyPress:g=>{g.key==="Enter"?ge(v.id,y):g.key==="Escape"&&(I(null),T(""))},className:"flex-1 px-2 py-1 text-sm border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-gray-500",autoFocus:!0},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:680,columnNumber:25},void 0),e.jsxDEV("button",{onClick:()=>ge(v.id,y),className:"p-1 text-green-600 hover:text-green-700",children:e.jsxDEV(ea,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:699,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:695,columnNumber:25},void 0),e.jsxDEV("button",{onClick:()=>{I(null),T("")},className:"p-1 text-gray-600 hover:text-gray-700",children:e.jsxDEV(ot,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:708,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:701,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:679,columnNumber:23},void 0):e.jsxDEV("div",{className:"flex items-center justify-between mb-4 pb-2 border-b border-gray-300",children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("h3",{className:"text-base font-bold text-gray-900 flex items-center gap-2",children:[e.jsxDEV("span",{className:"inline-flex items-center justify-center w-6 h-6 bg-gray-800 text-white text-xs font-bold rounded-full",children:$+1},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:715,columnNumber:29},void 0),v.name]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:714,columnNumber:27},void 0),e.jsxDEV("span",{className:"text-xs text-gray-500",children:[O.length,"/",v.items.length," "]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:720,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:713,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex items-center gap-1",children:[e.jsxDEV("button",{onClick:()=>{j===v.id?(x(null),N("")):x(v.id)},className:`p-1 transition-colors ${j===v.id?"text-gray-900 bg-gray-100 rounded":"text-gray-600 hover:text-gray-800"}`,title:" ",children:e.jsxDEV(Gt,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:741,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:725,columnNumber:27},void 0),e.jsxDEV("button",{onClick:()=>{I(v.id),T(v.name)},className:"p-1 text-gray-600 hover:text-gray-800 transition-colors",title:"",children:e.jsxDEV(Pn,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:751,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:743,columnNumber:27},void 0),e.jsxDEV("button",{onClick:()=>me(v.id),className:"p-1 text-red-500 hover:text-red-700 transition-colors",title:"",children:e.jsxDEV(bt,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:758,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:753,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:724,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:712,columnNumber:23},void 0),j===v.id&&e.jsxDEV("div",{className:"mb-4 p-3 bg-white border border-gray-300 rounded-lg",children:e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV("input",{type:"text",value:b,onChange:g=>N(g.target.value),onKeyPress:g=>{g.key==="Enter"&&b.trim()&&C(v.id)},placeholder:"  ",className:"flex-1 px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",autoFocus:!0},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:768,columnNumber:27},void 0),e.jsxDEV("button",{onClick:()=>C(v.id),disabled:!b.trim(),className:"px-4 py-2 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors text-sm font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:781,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:767,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:766,columnNumber:23},void 0),re.length>0&&e.jsxDEV("div",{className:"mb-4",children:e.jsxDEV("div",{className:"space-y-2",children:re.map(g=>e.jsxDEV("div",{className:"flex items-start gap-3 p-3 bg-white border border-gray-200 rounded-lg",children:[e.jsxDEV("input",{type:"checkbox",checked:!1,onChange:()=>le(g.id),className:"mt-1 w-5 h-5 rounded border-gray-300 text-gray-800 focus:ring-gray-500 cursor-pointer"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:801,columnNumber:31},void 0),e.jsxDEV("span",{className:`flex-1 text-sm text-gray-900 ${!ne&&se===g.id?"font-semibold":""}`,onClick:()=>!ne&&oe(g.id),style:{cursor:ne?"default":"pointer"},children:[g.content,g.images&&g.images.length>0&&e.jsxDEV("span",{className:"ml-2 text-xs text-gray-500",children:["(",g.images.length,")"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:815,columnNumber:35},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:808,columnNumber:31},void 0),e.jsxDEV("div",{className:"flex items-center gap-1",children:[e.jsxDEV("button",{onClick:()=>{oe(g.id),ne&&He(!0)},className:`p-1 transition-colors ${g.images&&g.images.length>0?"text-blue-600 hover:text-blue-800":"text-gray-300 hover:text-gray-400"}`,title:"",children:e.jsxDEV(us,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:835,columnNumber:35},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:821,columnNumber:33},void 0),e.jsxDEV("button",{onClick:()=>D(g.id),className:`p-1 transition-colors ${g.is_priority?"text-yellow-500 hover:text-yellow-600":"text-gray-300 hover:text-gray-400"}`,title:"",children:e.jsxDEV(Oa,{className:`w-4 h-4 ${g.is_priority?"fill-current":""}`},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:846,columnNumber:35},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:837,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:820,columnNumber:31},void 0)]},g.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:797,columnNumber:29},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:795,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:794,columnNumber:23},void 0),!Ue&&O.length>0&&e.jsxDEV("div",{children:e.jsxDEV("div",{className:"space-y-2",children:O.map(g=>e.jsxDEV("div",{className:"flex items-start gap-3 p-3 bg-white border border-gray-200 rounded-lg opacity-40",children:[e.jsxDEV("input",{type:"checkbox",checked:!0,onChange:()=>le(g.id),className:"mt-1 w-5 h-5 rounded border-gray-300 text-gray-800 focus:ring-gray-500 cursor-pointer"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:864,columnNumber:31},void 0),e.jsxDEV("span",{className:`flex-1 text-sm text-gray-500 line-through ${!ne&&se===g.id?"font-semibold":""}`,onClick:()=>!ne&&oe(g.id),style:{cursor:ne?"default":"pointer"},children:[g.content,g.images&&g.images.length>0&&e.jsxDEV("span",{className:"ml-2 text-xs text-gray-500",children:["(",g.images.length,")"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:878,columnNumber:35},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:871,columnNumber:31},void 0),e.jsxDEV("div",{className:"flex items-center gap-1",children:[e.jsxDEV("button",{onClick:()=>{oe(g.id),ne&&He(!0)},className:`p-1 transition-colors ${g.images&&g.images.length>0?"text-blue-600 hover:text-blue-800":"text-gray-300 hover:text-gray-400"}`,title:"",children:e.jsxDEV(us,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:898,columnNumber:35},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:884,columnNumber:33},void 0),e.jsxDEV("button",{onClick:()=>D(g.id),className:`p-1 transition-colors ${g.is_priority?"text-yellow-500 hover:text-yellow-600":"text-gray-300 hover:text-gray-400"}`,title:"",children:e.jsxDEV(Oa,{className:`w-4 h-4 ${g.is_priority?"fill-current":""}`},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:909,columnNumber:35},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:900,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:883,columnNumber:31},void 0)]},g.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:860,columnNumber:29},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:858,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:857,columnNumber:23},void 0)]},v.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:676,columnNumber:19},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:665,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:659,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:544,columnNumber:7},void 0),!ne&&se&&J&&e.jsxDEV("div",{className:"w-80 bg-white border border-gray-200 rounded-lg overflow-hidden flex flex-col",children:[e.jsxDEV("div",{className:"p-4 border-b border-gray-200 bg-gray-50",children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-2",children:[e.jsxDEV("h3",{className:"font-semibold text-gray-900",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:930,columnNumber:15},void 0),e.jsxDEV("button",{onClick:()=>oe(null),className:"p-1 text-gray-600 hover:text-gray-900 transition-colors",title:"",children:e.jsxDEV(ot,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:936,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:931,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:929,columnNumber:13},void 0),e.jsxDEV("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:J.content},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:939,columnNumber:13},void 0),e.jsxDEV("button",{onClick:()=>{var v;return(v=Q.current)==null?void 0:v.click()},disabled:ce.has(se),className:"w-full px-3 py-2 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors text-sm font-medium flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsxDEV(gs,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:945,columnNumber:15},void 0),ce.has(se)?" ...":" "]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:940,columnNumber:13},void 0),e.jsxDEV("p",{className:"text-xs text-gray-500 mt-2 text-center",children:"    , Ctrl+V "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:948,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:928,columnNumber:11},void 0),e.jsxDEV("div",{className:"flex-1 overflow-y-auto p-4",onDrop:v=>ze(v,se),onDragOver:U,children:J.images.length===0?e.jsxDEV("div",{className:"flex flex-col items-center justify-center h-full text-gray-400 text-sm",children:[e.jsxDEV(us,{className:"w-12 h-12 mb-2"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:960,columnNumber:17},void 0),e.jsxDEV("p",{children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:961,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:959,columnNumber:15},void 0):e.jsxDEV("div",{className:"grid grid-cols-2 gap-3",children:J.images.map(v=>e.jsxDEV("div",{className:"relative group",children:[e.jsxDEV("img",{src:v.image_data,alt:v.filename||"",className:"w-full h-32 object-cover rounded-lg border border-gray-200"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:967,columnNumber:21},void 0),e.jsxDEV("button",{onClick:()=>Te(se,v.id),className:"absolute top-1 right-1 p-1 bg-red-500 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-600",title:"",children:e.jsxDEV($a,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:977,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:972,columnNumber:21},void 0),v.filename&&e.jsxDEV("p",{className:"text-xs text-gray-500 mt-1 truncate",title:v.filename,children:v.filename},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:980,columnNumber:23},void 0)]},v.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:966,columnNumber:19},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:964,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:953,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:927,columnNumber:9},void 0),ne&&Ee&&se&&J&&e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-end justify-center z-50",children:e.jsxDEV("div",{className:"bg-white rounded-t-2xl w-full max-h-[80vh] flex flex-col",children:[e.jsxDEV("div",{className:"p-4 border-b border-gray-200",children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-2",children:[e.jsxDEV("h3",{className:"font-semibold text-gray-900",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:998,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>{He(!1),oe(null)},className:"p-1 text-gray-600 hover:text-gray-900",children:e.jsxDEV(ot,{className:"w-5 h-5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1006,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:999,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:997,columnNumber:15},void 0),e.jsxDEV("p",{className:"text-sm text-gray-600 mb-3",children:J.content},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1009,columnNumber:15},void 0),e.jsxDEV("button",{onClick:()=>{var v;return(v=Q.current)==null?void 0:v.click()},disabled:ce.has(se),className:"w-full px-4 py-2 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors text-sm font-medium flex items-center justify-center gap-2 disabled:opacity-50",children:[e.jsxDEV(gs,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1015,columnNumber:17},void 0),ce.has(se)?" ...":" "]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1010,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:996,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex-1 overflow-y-auto p-4",children:J.images.length===0?e.jsxDEV("div",{className:"flex flex-col items-center justify-center h-full text-gray-400",children:[e.jsxDEV(us,{className:"w-16 h-16 mb-2"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1023,columnNumber:19},void 0),e.jsxDEV("p",{className:"text-sm",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1024,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1022,columnNumber:17},void 0):e.jsxDEV("div",{className:"grid grid-cols-2 gap-3",children:J.images.map(v=>e.jsxDEV("div",{className:"relative",children:[e.jsxDEV("img",{src:v.image_data,alt:v.filename||"",className:"w-full h-40 object-cover rounded-lg border border-gray-200"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1030,columnNumber:23},void 0),e.jsxDEV("button",{onClick:()=>Te(se,v.id),className:"absolute top-2 right-2 p-1.5 bg-red-500 text-white rounded-full hover:bg-red-600",children:e.jsxDEV($a,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1039,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1035,columnNumber:23},void 0),v.filename&&e.jsxDEV("p",{className:"text-xs text-gray-500 mt-1 truncate",title:v.filename,children:v.filename},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1042,columnNumber:25},void 0)]},v.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1029,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1027,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1020,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:995,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:994,columnNumber:9},void 0),Ve!==null&&e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxDEV("div",{className:"bg-white rounded-lg w-full max-w-2xl max-h-[80vh] flex flex-col",children:[e.jsxDEV("div",{className:"p-4 border-b border-gray-200",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("h3",{className:"text-lg font-bold text-gray-900",children:[(Z=o.find(v=>v.id===Ve))==null?void 0:Z.name," - "]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1061,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>{Ge(null),Ae(new Set)},className:"p-1 text-gray-600 hover:text-gray-900",children:e.jsxDEV(ot,{className:"w-5 h-5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1071,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1064,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1060,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1059,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex-1 overflow-y-auto p-4",children:[e.jsxDEV("p",{className:"text-sm text-gray-600 mb-4",children:"  .    ."},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1077,columnNumber:15},void 0),e.jsxDEV("div",{className:"space-y-2",children:(P=o.find(v=>v.id===Ve))==null?void 0:P.items.map(v=>e.jsxDEV("div",{className:"flex items-start gap-3 p-3 bg-gray-50 border border-gray-200 rounded-lg hover:bg-gray-100 transition-colors cursor-pointer",onClick:()=>{const $=new Set(de);$.has(v.id)?$.delete(v.id):$.add(v.id),Ae($)},children:[e.jsxDEV("input",{type:"checkbox",checked:de.has(v.id),onChange:()=>{},className:"mt-1 w-5 h-5 rounded border-gray-300 text-gray-800 focus:ring-gray-500 cursor-pointer"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1097,columnNumber:23},void 0),e.jsxDEV("span",{className:`flex-1 text-sm ${v.is_completed?"text-gray-500 line-through":"text-gray-900"}`,children:v.content},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1103,columnNumber:23},void 0)]},v.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1084,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1080,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1076,columnNumber:13},void 0),e.jsxDEV("div",{className:"p-4 border-t border-gray-200 flex gap-2",children:[e.jsxDEV("button",{onClick:_e,disabled:de.size===0,className:"flex-1 px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors text-sm font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:["   (",de.size,")"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1112,columnNumber:15},void 0),e.jsxDEV("button",{onClick:G,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors text-sm font-medium",children:"  "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1119,columnNumber:15},void 0),e.jsxDEV("button",{onClick:()=>{Ge(null),Ae(new Set)},className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 transition-colors text-sm font-medium",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1125,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1111,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1058,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1057,columnNumber:9},void 0),Re&&e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-end md:items-center justify-center z-50",children:e.jsxDEV("div",{className:"bg-white rounded-t-2xl md:rounded-lg w-full md:max-w-md",children:[e.jsxDEV("div",{className:"p-4 border-b border-gray-200",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("h3",{className:"text-lg font-bold text-gray-900",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1145,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>{$e(!1),f("")},className:"p-1 text-gray-600 hover:text-gray-900",children:e.jsxDEV(ot,{className:"w-5 h-5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1153,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1146,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1144,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1143,columnNumber:13},void 0),e.jsxDEV("div",{className:"p-4",children:[e.jsxDEV("div",{className:"mb-4",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1160,columnNumber:17},void 0),e.jsxDEV("input",{type:"text",value:u,onChange:v=>f(v.target.value),onKeyPress:v=>{v.key==="Enter"&&u.trim()&&B()},placeholder:"  ",className:"w-full px-3 py-2.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",autoFocus:!0},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1161,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1159,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV("button",{onClick:()=>{$e(!1),f("")},className:"flex-1 px-4 py-2.5 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 transition-colors text-sm font-medium",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1177,columnNumber:17},void 0),e.jsxDEV("button",{onClick:B,disabled:!u.trim(),className:"flex-1 px-4 py-2.5 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors text-sm font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1186,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1176,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1158,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1142,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1141,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:528,columnNumber:5},void 0)};var Mi=function(s,n){return Mi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},Mi(s,n)};function lb(s,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");Mi(s,n);function t(){this.constructor=s}s.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}var Ut=function(){return Ut=Object.assign||function(n){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(n[a]=t[a])}return n},Ut.apply(this,arguments)};var So=!1,qs,Ii,Ti,vr,Dr,cd,Vr,Fi,Wi,qi,ud,Oi,$i,pd,fd;function qt(){if(!So){So=!0;var s=navigator.userAgent,n=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(s),t=/(Mac OS X)|(Windows)|(Linux)/.exec(s);if(Oi=/\b(iPhone|iP[ao]d)/.exec(s),$i=/\b(iP[ao]d)/.exec(s),qi=/Android/i.exec(s),pd=/FBAN\/\w+;/i.exec(s),fd=/Mobile/i.exec(s),ud=!!/Win64/.exec(s),n){qs=n[1]?parseFloat(n[1]):n[5]?parseFloat(n[5]):NaN,qs&&document&&document.documentMode&&(qs=document.documentMode);var r=/(?:Trident\/(\d+.\d+))/.exec(s);cd=r?parseFloat(r[1])+4:qs,Ii=n[2]?parseFloat(n[2]):NaN,Ti=n[3]?parseFloat(n[3]):NaN,vr=n[4]?parseFloat(n[4]):NaN,vr?(n=/(?:Chrome\/(\d+\.\d+))/.exec(s),Dr=n&&n[1]?parseFloat(n[1]):NaN):Dr=NaN}else qs=Ii=Ti=Dr=vr=NaN;if(t){if(t[1]){var i=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(s);Vr=i?parseFloat(i[1].replace("_",".")):!0}else Vr=!1;Fi=!!t[2],Wi=!!t[3]}else Vr=Fi=Wi=!1}}var zi={ie:function(){return qt()||qs},ieCompatibilityMode:function(){return qt()||cd>qs},ie64:function(){return zi.ie()&&ud},firefox:function(){return qt()||Ii},opera:function(){return qt()||Ti},webkit:function(){return qt()||vr},safari:function(){return zi.webkit()},chrome:function(){return qt()||Dr},windows:function(){return qt()||Fi},osx:function(){return qt()||Vr},linux:function(){return qt()||Wi},iphone:function(){return qt()||Oi},mobile:function(){return qt()||Oi||$i||qi||fd},nativeApp:function(){return qt()||pd},android:function(){return qt()||qi},ipad:function(){return qt()||$i}},db=zi,cb=!!(typeof window<"u"&&window.document&&window.document.createElement),ub={canUseDOM:cb},pb=ub,gd=pb,Nd;gd.canUseDOM&&(Nd=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function fb(s,n){if(!gd.canUseDOM||n&&!("addEventListener"in document))return!1;var t="on"+s,r=t in document;if(!r){var i=document.createElement("div");i.setAttribute(t,"return;"),r=typeof i[t]=="function"}return!r&&Nd&&s==="wheel"&&(r=document.implementation.hasFeature("Events.wheel","3.0")),r}var gb=fb,Nb=db,bb=gb,Po=10,Ro=40,Mo=800;function bd(s){var n=0,t=0,r=0,i=0;return"detail"in s&&(t=s.detail),"wheelDelta"in s&&(t=-s.wheelDelta/120),"wheelDeltaY"in s&&(t=-s.wheelDeltaY/120),"wheelDeltaX"in s&&(n=-s.wheelDeltaX/120),"axis"in s&&s.axis===s.HORIZONTAL_AXIS&&(n=t,t=0),r=n*Po,i=t*Po,"deltaY"in s&&(i=s.deltaY),"deltaX"in s&&(r=s.deltaX),(r||i)&&s.deltaMode&&(s.deltaMode==1?(r*=Ro,i*=Ro):(r*=Mo,i*=Mo)),r&&!n&&(n=r<1?-1:1),i&&!t&&(t=i<1?-1:1),{spinX:n,spinY:t,pixelX:r,pixelY:i}}bd.getEventType=function(){return Nb.firefox()?"DOMMouseScroll":bb("wheel")?"wheel":"mousewheel"};var xb=bd,yb=xb;const hb=Jd(yb);function kb(s,n,t,r,i,a){a===void 0&&(a=0);var o=an(s,n,a),m=o.width,c=o.height,p=Math.min(m,t),u=Math.min(c,r);return p>u*i?{width:u*i,height:u}:{width:p,height:p/i}}function vb(s){return s.width>s.height?s.width/s.naturalWidth:s.height/s.naturalHeight}function Vn(s,n,t,r,i){i===void 0&&(i=0);var a=an(n.width,n.height,i),o=a.width,m=a.height;return{x:Io(s.x,o,t.width,r),y:Io(s.y,m,t.height,r)}}function Io(s,n,t,r){var i=n*r/2-t/2;return si(s,-i,i)}function To(s,n){return Math.sqrt(Math.pow(s.y-n.y,2)+Math.pow(s.x-n.x,2))}function Fo(s,n){return Math.atan2(n.y-s.y,n.x-s.x)*180/Math.PI}function Db(s,n,t,r,i,a,o){a===void 0&&(a=0),o===void 0&&(o=!0);var m=o?Vb:Cb,c=an(n.width,n.height,a),p=an(n.naturalWidth,n.naturalHeight,a),u={x:m(100,((c.width-t.width/i)/2-s.x/i)/c.width*100),y:m(100,((c.height-t.height/i)/2-s.y/i)/c.height*100),width:m(100,t.width/c.width*100/i),height:m(100,t.height/c.height*100/i)},f=Math.round(m(p.width,u.width*p.width/100)),b=Math.round(m(p.height,u.height*p.height/100)),N=p.width>=p.height*r,j=N?{width:Math.round(b*r),height:b}:{width:f,height:Math.round(f/r)},x=Ut(Ut({},j),{x:Math.round(m(p.width-j.width,u.x*p.width/100)),y:Math.round(m(p.height-j.height,u.y*p.height/100))});return{croppedAreaPercentages:u,croppedAreaPixels:x}}function Vb(s,n){return Math.min(s,Math.max(0,n))}function Cb(s,n){return n}function Eb(s,n,t,r,i,a){var o=an(n.width,n.height,t),m=si(r.width/o.width*(100/s.width),i,a),c={x:m*o.width/2-r.width/2-o.width*m*(s.x/100),y:m*o.height/2-r.height/2-o.height*m*(s.y/100)};return{crop:c,zoom:m}}function Ab(s,n,t){var r=vb(n);return t.height>t.width?t.height/(s.height*r):t.width/(s.width*r)}function wb(s,n,t,r,i,a){t===void 0&&(t=0);var o=an(n.naturalWidth,n.naturalHeight,t),m=si(Ab(s,n,r),i,a),c=r.height>r.width?r.height/s.height:r.width/s.width,p={x:((o.width-s.width)/2-s.x)*c,y:((o.height-s.height)/2-s.y)*c};return{crop:p,zoom:m}}function Wo(s,n){return{x:(n.x+s.x)/2,y:(n.y+s.y)/2}}function _b(s){return s*Math.PI/180}function an(s,n,t){var r=_b(t);return{width:Math.abs(Math.cos(r)*s)+Math.abs(Math.sin(r)*n),height:Math.abs(Math.sin(r)*s)+Math.abs(Math.cos(r)*n)}}function si(s,n,t){return Math.min(Math.max(s,n),t)}function ur(){for(var s=[],n=0;n<arguments.length;n++)s[n]=arguments[n];return s.filter(function(t){return typeof t=="string"&&t.length>0}).join(" ").trim()}var jb=`.reactEasyCrop_Container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  user-select: none;
  touch-action: none;
  cursor: move;
  display: flex;
  justify-content: center;
  align-items: center;
}

.reactEasyCrop_Image,
.reactEasyCrop_Video {
  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */
}

.reactEasyCrop_Contain {
  max-width: 100%;
  max-height: 100%;
  margin: auto;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.reactEasyCrop_Cover_Horizontal {
  width: 100%;
  height: auto;
}
.reactEasyCrop_Cover_Vertical {
  width: auto;
  height: 100%;
}

.reactEasyCrop_CropArea {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-sizing: border-box;
  box-shadow: 0 0 0 9999em;
  color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

.reactEasyCrop_CropAreaRound {
  border-radius: 50%;
}

.reactEasyCrop_CropAreaGrid::before {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 0;
  bottom: 0;
  left: 33.33%;
  right: 33.33%;
  border-top: 0;
  border-bottom: 0;
}

.reactEasyCrop_CropAreaGrid::after {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 33.33%;
  bottom: 33.33%;
  left: 0;
  right: 0;
  border-left: 0;
  border-right: 0;
}
`,Lb=1,Hb=3,Bb=1,Ub=function(s){lb(n,s);function n(){var t=s!==null&&s.apply(this,arguments)||this;return t.cropperRef=d.createRef(),t.imageRef=d.createRef(),t.videoRef=d.createRef(),t.containerPosition={x:0,y:0},t.containerRef=null,t.styleRef=null,t.containerRect=null,t.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},t.dragStartPosition={x:0,y:0},t.dragStartCrop={x:0,y:0},t.gestureZoomStart=0,t.gestureRotationStart=0,t.isTouching=!1,t.lastPinchDistance=0,t.lastPinchRotation=0,t.rafDragTimeout=null,t.rafPinchTimeout=null,t.wheelTimer=null,t.currentDoc=typeof document<"u"?document:null,t.currentWindow=typeof window<"u"?window:null,t.resizeObserver=null,t.previousCropSize=null,t.isInitialized=!1,t.state={cropSize:null,hasWheelJustStarted:!1,mediaObjectFit:void 0},t.initResizeObserver=function(){if(!(typeof window.ResizeObserver>"u"||!t.containerRef)){var r=!0;t.resizeObserver=new window.ResizeObserver(function(i){if(r){r=!1;return}t.computeSizes()}),t.resizeObserver.observe(t.containerRef)}},t.preventZoomSafari=function(r){return r.preventDefault()},t.cleanEvents=function(){t.currentDoc&&(t.currentDoc.removeEventListener("mousemove",t.onMouseMove),t.currentDoc.removeEventListener("mouseup",t.onDragStopped),t.currentDoc.removeEventListener("touchmove",t.onTouchMove),t.currentDoc.removeEventListener("touchend",t.onDragStopped),t.currentDoc.removeEventListener("gesturechange",t.onGestureChange),t.currentDoc.removeEventListener("gestureend",t.onGestureEnd),t.currentDoc.removeEventListener("scroll",t.onScroll))},t.clearScrollEvent=function(){t.containerRef&&t.containerRef.removeEventListener("wheel",t.onWheel),t.wheelTimer&&clearTimeout(t.wheelTimer)},t.onMediaLoad=function(){var r=t.computeSizes();r&&(t.previousCropSize=r,t.emitCropData(),t.setInitialCrop(r),t.isInitialized=!0),t.props.onMediaLoaded&&t.props.onMediaLoaded(t.mediaSize)},t.setInitialCrop=function(r){if(t.props.initialCroppedAreaPercentages){var i=Eb(t.props.initialCroppedAreaPercentages,t.mediaSize,t.props.rotation,r,t.props.minZoom,t.props.maxZoom),a=i.crop,o=i.zoom;t.props.onCropChange(a),t.props.onZoomChange&&t.props.onZoomChange(o)}else if(t.props.initialCroppedAreaPixels){var m=wb(t.props.initialCroppedAreaPixels,t.mediaSize,t.props.rotation,r,t.props.minZoom,t.props.maxZoom),a=m.crop,o=m.zoom;t.props.onCropChange(a),t.props.onZoomChange&&t.props.onZoomChange(o)}},t.computeSizes=function(){var r,i,a,o,m,c,p=t.imageRef.current||t.videoRef.current;if(p&&t.containerRef){t.containerRect=t.containerRef.getBoundingClientRect(),t.saveContainerPosition();var u=t.containerRect.width/t.containerRect.height,f=((r=t.imageRef.current)===null||r===void 0?void 0:r.naturalWidth)||((i=t.videoRef.current)===null||i===void 0?void 0:i.videoWidth)||0,b=((a=t.imageRef.current)===null||a===void 0?void 0:a.naturalHeight)||((o=t.videoRef.current)===null||o===void 0?void 0:o.videoHeight)||0,N=p.offsetWidth<f||p.offsetHeight<b,j=f/b,x=void 0;if(N)switch(t.state.mediaObjectFit){default:case"contain":x=u>j?{width:t.containerRect.height*j,height:t.containerRect.height}:{width:t.containerRect.width,height:t.containerRect.width/j};break;case"horizontal-cover":x={width:t.containerRect.width,height:t.containerRect.width/j};break;case"vertical-cover":x={width:t.containerRect.height*j,height:t.containerRect.height};break}else x={width:p.offsetWidth,height:p.offsetHeight};t.mediaSize=Ut(Ut({},x),{naturalWidth:f,naturalHeight:b}),t.props.setMediaSize&&t.props.setMediaSize(t.mediaSize);var R=t.props.cropSize?t.props.cropSize:kb(t.mediaSize.width,t.mediaSize.height,t.containerRect.width,t.containerRect.height,t.props.aspect,t.props.rotation);return(((m=t.state.cropSize)===null||m===void 0?void 0:m.height)!==R.height||((c=t.state.cropSize)===null||c===void 0?void 0:c.width)!==R.width)&&t.props.onCropSizeChange&&t.props.onCropSizeChange(R),t.setState({cropSize:R},t.recomputeCropPosition),t.props.setCropSize&&t.props.setCropSize(R),R}},t.saveContainerPosition=function(){if(t.containerRef){var r=t.containerRef.getBoundingClientRect();t.containerPosition={x:r.left,y:r.top}}},t.onMouseDown=function(r){t.currentDoc&&(r.preventDefault(),t.currentDoc.addEventListener("mousemove",t.onMouseMove),t.currentDoc.addEventListener("mouseup",t.onDragStopped),t.saveContainerPosition(),t.onDragStart(n.getMousePoint(r)))},t.onMouseMove=function(r){return t.onDrag(n.getMousePoint(r))},t.onScroll=function(r){t.currentDoc&&(r.preventDefault(),t.saveContainerPosition())},t.onTouchStart=function(r){t.currentDoc&&(t.isTouching=!0,!(t.props.onTouchRequest&&!t.props.onTouchRequest(r))&&(t.currentDoc.addEventListener("touchmove",t.onTouchMove,{passive:!1}),t.currentDoc.addEventListener("touchend",t.onDragStopped),t.saveContainerPosition(),r.touches.length===2?t.onPinchStart(r):r.touches.length===1&&t.onDragStart(n.getTouchPoint(r.touches[0]))))},t.onTouchMove=function(r){r.preventDefault(),r.touches.length===2?t.onPinchMove(r):r.touches.length===1&&t.onDrag(n.getTouchPoint(r.touches[0]))},t.onGestureStart=function(r){t.currentDoc&&(r.preventDefault(),t.currentDoc.addEventListener("gesturechange",t.onGestureChange),t.currentDoc.addEventListener("gestureend",t.onGestureEnd),t.gestureZoomStart=t.props.zoom,t.gestureRotationStart=t.props.rotation)},t.onGestureChange=function(r){if(r.preventDefault(),!t.isTouching){var i=n.getMousePoint(r),a=t.gestureZoomStart-1+r.scale;if(t.setNewZoom(a,i,{shouldUpdatePosition:!0}),t.props.onRotationChange){var o=t.gestureRotationStart+r.rotation;t.props.onRotationChange(o)}}},t.onGestureEnd=function(r){t.cleanEvents()},t.onDragStart=function(r){var i,a,o=r.x,m=r.y;t.dragStartPosition={x:o,y:m},t.dragStartCrop=Ut({},t.props.crop),(a=(i=t.props).onInteractionStart)===null||a===void 0||a.call(i)},t.onDrag=function(r){var i=r.x,a=r.y;t.currentWindow&&(t.rafDragTimeout&&t.currentWindow.cancelAnimationFrame(t.rafDragTimeout),t.rafDragTimeout=t.currentWindow.requestAnimationFrame(function(){if(t.state.cropSize&&!(i===void 0||a===void 0)){var o=i-t.dragStartPosition.x,m=a-t.dragStartPosition.y,c={x:t.dragStartCrop.x+o,y:t.dragStartCrop.y+m},p=t.props.restrictPosition?Vn(c,t.mediaSize,t.state.cropSize,t.props.zoom,t.props.rotation):c;t.props.onCropChange(p)}}))},t.onDragStopped=function(){var r,i;t.isTouching=!1,t.cleanEvents(),t.emitCropData(),(i=(r=t.props).onInteractionEnd)===null||i===void 0||i.call(r)},t.onWheel=function(r){if(t.currentWindow&&!(t.props.onWheelRequest&&!t.props.onWheelRequest(r))){r.preventDefault();var i=n.getMousePoint(r),a=hb(r).pixelY,o=t.props.zoom-a*t.props.zoomSpeed/200;t.setNewZoom(o,i,{shouldUpdatePosition:!0}),t.state.hasWheelJustStarted||t.setState({hasWheelJustStarted:!0},function(){var m,c;return(c=(m=t.props).onInteractionStart)===null||c===void 0?void 0:c.call(m)}),t.wheelTimer&&clearTimeout(t.wheelTimer),t.wheelTimer=t.currentWindow.setTimeout(function(){return t.setState({hasWheelJustStarted:!1},function(){var m,c;return(c=(m=t.props).onInteractionEnd)===null||c===void 0?void 0:c.call(m)})},250)}},t.getPointOnContainer=function(r,i){var a=r.x,o=r.y;if(!t.containerRect)throw new Error("The Cropper is not mounted");return{x:t.containerRect.width/2-(a-i.x),y:t.containerRect.height/2-(o-i.y)}},t.getPointOnMedia=function(r){var i=r.x,a=r.y,o=t.props,m=o.crop,c=o.zoom;return{x:(i+m.x)/c,y:(a+m.y)/c}},t.setNewZoom=function(r,i,a){var o=a===void 0?{}:a,m=o.shouldUpdatePosition,c=m===void 0?!0:m;if(!(!t.state.cropSize||!t.props.onZoomChange)){var p=si(r,t.props.minZoom,t.props.maxZoom);if(c){var u=t.getPointOnContainer(i,t.containerPosition),f=t.getPointOnMedia(u),b={x:f.x*p-u.x,y:f.y*p-u.y},N=t.props.restrictPosition?Vn(b,t.mediaSize,t.state.cropSize,p,t.props.rotation):b;t.props.onCropChange(N)}t.props.onZoomChange(p)}},t.getCropData=function(){if(!t.state.cropSize)return null;var r=t.props.restrictPosition?Vn(t.props.crop,t.mediaSize,t.state.cropSize,t.props.zoom,t.props.rotation):t.props.crop;return Db(r,t.mediaSize,t.state.cropSize,t.getAspect(),t.props.zoom,t.props.rotation,t.props.restrictPosition)},t.emitCropData=function(){var r=t.getCropData();if(r){var i=r.croppedAreaPercentages,a=r.croppedAreaPixels;t.props.onCropComplete&&t.props.onCropComplete(i,a),t.props.onCropAreaChange&&t.props.onCropAreaChange(i,a)}},t.emitCropAreaChange=function(){var r=t.getCropData();if(r){var i=r.croppedAreaPercentages,a=r.croppedAreaPixels;t.props.onCropAreaChange&&t.props.onCropAreaChange(i,a)}},t.recomputeCropPosition=function(){var r,i;if(t.state.cropSize){var a=t.props.crop;if(t.isInitialized&&(!((r=t.previousCropSize)===null||r===void 0)&&r.width)&&(!((i=t.previousCropSize)===null||i===void 0)&&i.height)){var o=Math.abs(t.previousCropSize.width-t.state.cropSize.width)>1e-6||Math.abs(t.previousCropSize.height-t.state.cropSize.height)>1e-6;if(o){var m=t.state.cropSize.width/t.previousCropSize.width,c=t.state.cropSize.height/t.previousCropSize.height;a={x:t.props.crop.x*m,y:t.props.crop.y*c}}}var p=t.props.restrictPosition?Vn(a,t.mediaSize,t.state.cropSize,t.props.zoom,t.props.rotation):a;t.previousCropSize=t.state.cropSize,t.props.onCropChange(p),t.emitCropData()}},t.onKeyDown=function(r){var i,a,o=t.props,m=o.crop,c=o.onCropChange,p=o.keyboardStep,u=o.zoom,f=o.rotation,b=p;if(t.state.cropSize){r.shiftKey&&(b*=.2);var N=Ut({},m);switch(r.key){case"ArrowUp":N.y-=b,r.preventDefault();break;case"ArrowDown":N.y+=b,r.preventDefault();break;case"ArrowLeft":N.x-=b,r.preventDefault();break;case"ArrowRight":N.x+=b,r.preventDefault();break;default:return}t.props.restrictPosition&&(N=Vn(N,t.mediaSize,t.state.cropSize,u,f)),r.repeat||(a=(i=t.props).onInteractionStart)===null||a===void 0||a.call(i),c(N)}},t.onKeyUp=function(r){var i,a;switch(r.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":r.preventDefault();break;default:return}t.emitCropData(),(a=(i=t.props).onInteractionEnd)===null||a===void 0||a.call(i)},t}return n.prototype.componentDidMount=function(){!this.currentDoc||!this.currentWindow||(this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.initResizeObserver(),typeof window.ResizeObserver>"u"&&this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.currentDoc.addEventListener("scroll",this.onScroll),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=jb,this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef),this.props.setCropperRef&&this.props.setCropperRef(this.cropperRef))},n.prototype.componentWillUnmount=function(){var t,r;!this.currentDoc||!this.currentWindow||(typeof window.ResizeObserver>"u"&&this.currentWindow.removeEventListener("resize",this.computeSizes),(t=this.resizeObserver)===null||t===void 0||t.disconnect(),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&((r=this.styleRef.parentNode)===null||r===void 0||r.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent())},n.prototype.componentDidUpdate=function(t){var r,i,a,o,m,c,p,u,f;t.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):t.aspect!==this.props.aspect?this.computeSizes():t.objectFit!==this.props.objectFit?this.computeSizes():t.zoom!==this.props.zoom?this.recomputeCropPosition():((r=t.cropSize)===null||r===void 0?void 0:r.height)!==((i=this.props.cropSize)===null||i===void 0?void 0:i.height)||((a=t.cropSize)===null||a===void 0?void 0:a.width)!==((o=this.props.cropSize)===null||o===void 0?void 0:o.width)?this.computeSizes():(((m=t.crop)===null||m===void 0?void 0:m.x)!==((c=this.props.crop)===null||c===void 0?void 0:c.x)||((p=t.crop)===null||p===void 0?void 0:p.y)!==((u=this.props.crop)===null||u===void 0?void 0:u.y))&&this.emitCropAreaChange(),t.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),t.video!==this.props.video&&((f=this.videoRef.current)===null||f===void 0||f.load());var b=this.getObjectFit();b!==this.state.mediaObjectFit&&this.setState({mediaObjectFit:b},this.computeSizes)},n.prototype.getAspect=function(){var t=this.props,r=t.cropSize,i=t.aspect;return r?r.width/r.height:i},n.prototype.getObjectFit=function(){var t,r,i,a;if(this.props.objectFit==="cover"){var o=this.imageRef.current||this.videoRef.current;if(o&&this.containerRef){this.containerRect=this.containerRef.getBoundingClientRect();var m=this.containerRect.width/this.containerRect.height,c=((t=this.imageRef.current)===null||t===void 0?void 0:t.naturalWidth)||((r=this.videoRef.current)===null||r===void 0?void 0:r.videoWidth)||0,p=((i=this.imageRef.current)===null||i===void 0?void 0:i.naturalHeight)||((a=this.videoRef.current)===null||a===void 0?void 0:a.videoHeight)||0,u=c/p;return u<m?"horizontal-cover":"vertical-cover"}return"horizontal-cover"}return this.props.objectFit},n.prototype.onPinchStart=function(t){var r=n.getTouchPoint(t.touches[0]),i=n.getTouchPoint(t.touches[1]);this.lastPinchDistance=To(r,i),this.lastPinchRotation=Fo(r,i),this.onDragStart(Wo(r,i))},n.prototype.onPinchMove=function(t){var r=this;if(!(!this.currentDoc||!this.currentWindow)){var i=n.getTouchPoint(t.touches[0]),a=n.getTouchPoint(t.touches[1]),o=Wo(i,a);this.onDrag(o),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var m=To(i,a),c=r.props.zoom*(m/r.lastPinchDistance);r.setNewZoom(c,o,{shouldUpdatePosition:!1}),r.lastPinchDistance=m;var p=Fo(i,a),u=r.props.rotation+(p-r.lastPinchRotation);r.props.onRotationChange&&r.props.onRotationChange(u),r.lastPinchRotation=p})}},n.prototype.render=function(){var t=this,r,i=this.props,a=i.image,o=i.video,m=i.mediaProps,c=i.cropperProps,p=i.transform,u=i.crop,f=u.x,b=u.y,N=i.rotation,j=i.zoom,x=i.cropShape,R=i.showGrid,I=i.roundCropAreaPixels,y=i.style,T=y.containerStyle,te=y.cropAreaStyle,ee=y.mediaStyle,L=i.classes,z=L.containerClassName,se=L.cropAreaClassName,oe=L.mediaClassName,ce=(r=this.state.mediaObjectFit)!==null&&r!==void 0?r:this.getObjectFit();return d.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(Q){return t.containerRef=Q},"data-testid":"container",style:T,className:ur("reactEasyCrop_Container",z)},a?d.createElement("img",Ut({alt:"",className:ur("reactEasyCrop_Image",ce==="contain"&&"reactEasyCrop_Contain",ce==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",ce==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",oe)},m,{src:a,ref:this.imageRef,style:Ut(Ut({},ee),{transform:p||"translate(".concat(f,"px, ").concat(b,"px) rotate(").concat(N,"deg) scale(").concat(j,")")}),onLoad:this.onMediaLoad})):o&&d.createElement("video",Ut({autoPlay:!0,playsInline:!0,loop:!0,muted:!0,className:ur("reactEasyCrop_Video",ce==="contain"&&"reactEasyCrop_Contain",ce==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",ce==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",oe)},m,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:Ut(Ut({},ee),{transform:p||"translate(".concat(f,"px, ").concat(b,"px) rotate(").concat(N,"deg) scale(").concat(j,")")}),controls:!1}),(Array.isArray(o)?o:[{src:o}]).map(function(De){return d.createElement("source",Ut({key:De.src},De))})),this.state.cropSize&&d.createElement("div",Ut({ref:this.cropperRef,style:Ut(Ut({},te),{width:I?Math.round(this.state.cropSize.width):this.state.cropSize.width,height:I?Math.round(this.state.cropSize.height):this.state.cropSize.height}),tabIndex:0,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,"data-testid":"cropper",className:ur("reactEasyCrop_CropArea",x==="round"&&"reactEasyCrop_CropAreaRound",R&&"reactEasyCrop_CropAreaGrid",se)},c)))},n.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:Hb,minZoom:Lb,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},cropperProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0,keyboardStep:Bb},n.getMousePoint=function(t){return{x:Number(t.clientX),y:Number(t.clientY)}},n.getTouchPoint=function(t){return{x:Number(t.clientX),y:Number(t.clientY)}},n}(d.Component);const Sb=s=>new Promise((n,t)=>{const r=new Image;r.addEventListener("load",()=>n(r)),r.addEventListener("error",i=>t(i)),r.crossOrigin="anonymous",r.src=s});async function Pb(s,n,t=0){const r=await Sb(s),i=document.createElement("canvas"),a=i.getContext("2d");if(!a)throw new Error("No 2d context");const o=t*Math.PI/180,m=Math.abs(Math.sin(o)),c=Math.abs(Math.cos(o)),p=r.width*c+r.height*m,u=r.width*m+r.height*c;i.width=n.width,i.height=n.height;const f=document.createElement("canvas"),b=f.getContext("2d");if(!b)throw new Error("No 2d context");f.width=p,f.height=u,b.translate(p/2,u/2),b.rotate(o),b.translate(-r.width/2,-r.height/2),b.drawImage(r,0,0);const N=(p-r.width)/2,j=(u-r.height)/2;return a.drawImage(f,n.x+N,n.y+j,n.width,n.height,0,0,n.width,n.height),i.toDataURL("image/jpeg",.9)}const Rb=({image:s,onCropComplete:n,onCancel:t,aspectRatio:r=1})=>{const[i,a]=d.useState({x:0,y:0}),[o,m]=d.useState(1),[c,p]=d.useState(0),[u,f]=d.useState(null),b=d.useCallback(I=>{a(I)},[]),N=d.useCallback(I=>{m(I)},[]),j=d.useCallback((I,y)=>{f(y)},[]),x=()=>{p(I=>(I+90)%360)},R=async()=>{if(u)try{const I=await Pb(s,u,c);n(I)}catch(I){console.error("Error cropping image:",I)}};return e.jsxDEV("div",{className:"fixed inset-0 bg-black/80 z-50 flex flex-col",children:[e.jsxDEV("div",{className:"flex items-center justify-between p-4 bg-black/50",children:[e.jsxDEV("button",{onClick:t,className:"p-2 text-white hover:bg-white/20 rounded-full transition-colors",children:e.jsxDEV(ot,{className:"w-6 h-6"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ImageCropper.tsx",lineNumber:131,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ImageCropper.tsx",lineNumber:127,columnNumber:9},void 0),e.jsxDEV("span",{className:"text-white font-medium",children:"  (1:1)"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ImageCropper.tsx",lineNumber:133,columnNumber:9},void 0),e.jsxDEV("button",{onClick:R,className:"p-2 text-white hover:bg-white/20 rounded-full transition-colors",children:e.jsxDEV(ea,{className:"w-6 h-6"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ImageCropper.tsx",lineNumber:138,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ImageCropper.tsx",lineNumber:134,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ImageCropper.tsx",lineNumber:126,columnNumber:7},void 0),e.jsxDEV("div",{className:"flex-1 relative",children:e.jsxDEV(Ub,{image:s,crop:i,zoom:o,rotation:c,aspect:r,onCropChange:b,onZoomChange:N,onCropComplete:j,cropShape:"rect",showGrid:!0,style:{containerStyle:{backgroundColor:"#000"}}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ImageCropper.tsx",lineNumber:144,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ImageCropper.tsx",lineNumber:143,columnNumber:7},void 0),e.jsxDEV("div",{className:"p-4 bg-black/50",children:e.jsxDEV("div",{className:"flex items-center justify-center gap-6",children:[e.jsxDEV("button",{onClick:x,className:"p-3 text-white hover:bg-white/20 rounded-full transition-colors",title:"90 ",children:e.jsxDEV(cc,{className:"w-6 h-6"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ImageCropper.tsx",lineNumber:172,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ImageCropper.tsx",lineNumber:167,columnNumber:11},void 0),e.jsxDEV("div",{className:"flex items-center gap-3 flex-1 max-w-xs",children:[e.jsxDEV("span",{className:"text-white text-sm",children:"-"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ImageCropper.tsx",lineNumber:177,columnNumber:13},void 0),e.jsxDEV("input",{type:"range",min:1,max:3,step:.1,value:o,onChange:I=>m(Number(I.target.value)),className:"w-full h-2 bg-white/30 rounded-lg appearance-none cursor-pointer accent-white"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ImageCropper.tsx",lineNumber:178,columnNumber:13},void 0),e.jsxDEV("span",{className:"text-white text-sm",children:"+"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ImageCropper.tsx",lineNumber:187,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ImageCropper.tsx",lineNumber:176,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ImageCropper.tsx",lineNumber:165,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ImageCropper.tsx",lineNumber:164,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ImageCropper.tsx",lineNumber:124,columnNumber:5},void 0)};function Mb(){for(var s=arguments.length,n=new Array(s),t=0;t<s;t++)n[t]=arguments[t];return d.useMemo(()=>r=>{n.forEach(i=>i(r))},n)}const ni=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function fn(s){const n=Object.prototype.toString.call(s);return n==="[object Window]"||n==="[object global]"}function wa(s){return"nodeType"in s}function zt(s){var n,t;return s?fn(s)?s:wa(s)&&(n=(t=s.ownerDocument)==null?void 0:t.defaultView)!=null?n:window:window}function _a(s){const{Document:n}=zt(s);return s instanceof n}function Yn(s){return fn(s)?!1:s instanceof zt(s).HTMLElement}function xd(s){return s instanceof zt(s).SVGElement}function gn(s){return s?fn(s)?s.document:wa(s)?_a(s)?s:Yn(s)||xd(s)?s.ownerDocument:document:document:document}const bs=ni?d.useLayoutEffect:d.useEffect;function ja(s){const n=d.useRef(s);return bs(()=>{n.current=s}),d.useCallback(function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return n.current==null?void 0:n.current(...r)},[])}function Ib(){const s=d.useRef(null),n=d.useCallback((r,i)=>{s.current=setInterval(r,i)},[]),t=d.useCallback(()=>{s.current!==null&&(clearInterval(s.current),s.current=null)},[]);return[n,t]}function In(s,n){n===void 0&&(n=[s]);const t=d.useRef(s);return bs(()=>{t.current!==s&&(t.current=s)},n),t}function Kn(s,n){const t=d.useRef();return d.useMemo(()=>{const r=s(t.current);return t.current=r,r},[...n])}function Sr(s){const n=ja(s),t=d.useRef(null),r=d.useCallback(i=>{i!==t.current&&(n==null||n(i,t.current)),t.current=i},[]);return[t,r]}function Yi(s){const n=d.useRef();return d.useEffect(()=>{n.current=s},[s]),n.current}let xi={};function Xn(s,n){return d.useMemo(()=>{if(n)return n;const t=xi[s]==null?0:xi[s]+1;return xi[s]=t,s+"-"+t},[s,n])}function yd(s){return function(n){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return r.reduce((a,o)=>{const m=Object.entries(o);for(const[c,p]of m){const u=a[c];u!=null&&(a[c]=u+s*p)}return a},{...n})}}const sn=yd(1),Tn=yd(-1);function Tb(s){return"clientX"in s&&"clientY"in s}function La(s){if(!s)return!1;const{KeyboardEvent:n}=zt(s.target);return n&&s instanceof n}function Fb(s){if(!s)return!1;const{TouchEvent:n}=zt(s.target);return n&&s instanceof n}function Ki(s){if(Fb(s)){if(s.touches&&s.touches.length){const{clientX:n,clientY:t}=s.touches[0];return{x:n,y:t}}else if(s.changedTouches&&s.changedTouches.length){const{clientX:n,clientY:t}=s.changedTouches[0];return{x:n,y:t}}}return Tb(s)?{x:s.clientX,y:s.clientY}:null}const on=Object.freeze({Translate:{toString(s){if(!s)return;const{x:n,y:t}=s;return"translate3d("+(n?Math.round(n):0)+"px, "+(t?Math.round(t):0)+"px, 0)"}},Scale:{toString(s){if(!s)return;const{scaleX:n,scaleY:t}=s;return"scaleX("+n+") scaleY("+t+")"}},Transform:{toString(s){if(s)return[on.Translate.toString(s),on.Scale.toString(s)].join(" ")}},Transition:{toString(s){let{property:n,duration:t,easing:r}=s;return n+" "+t+"ms "+r}}}),qo="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function Wb(s){return s.matches(qo)?s:s.querySelector(qo)}const qb={display:"none"};function Ob(s){let{id:n,value:t}=s;return it.createElement("div",{id:n,style:qb},t)}function $b(s){let{id:n,announcement:t,ariaLiveType:r="assertive"}=s;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return it.createElement("div",{id:n,style:i,role:"status","aria-live":r,"aria-atomic":!0},t)}function zb(){const[s,n]=d.useState("");return{announce:d.useCallback(r=>{r!=null&&n(r)},[]),announcement:s}}const hd=d.createContext(null);function Yb(s){const n=d.useContext(hd);d.useEffect(()=>{if(!n)throw new Error("useDndMonitor must be used within a children of <DndContext>");return n(s)},[s,n])}function Kb(){const[s]=d.useState(()=>new Set),n=d.useCallback(r=>(s.add(r),()=>s.delete(r)),[s]);return[d.useCallback(r=>{let{type:i,event:a}=r;s.forEach(o=>{var m;return(m=o[i])==null?void 0:m.call(o,a)})},[s]),n]}const Xb={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},Jb={onDragStart(s){let{active:n}=s;return"Picked up draggable item "+n.id+"."},onDragOver(s){let{active:n,over:t}=s;return t?"Draggable item "+n.id+" was moved over droppable area "+t.id+".":"Draggable item "+n.id+" is no longer over a droppable area."},onDragEnd(s){let{active:n,over:t}=s;return t?"Draggable item "+n.id+" was dropped over droppable area "+t.id:"Draggable item "+n.id+" was dropped."},onDragCancel(s){let{active:n}=s;return"Dragging was cancelled. Draggable item "+n.id+" was dropped."}};function Gb(s){let{announcements:n=Jb,container:t,hiddenTextDescribedById:r,screenReaderInstructions:i=Xb}=s;const{announce:a,announcement:o}=zb(),m=Xn("DndLiveRegion"),[c,p]=d.useState(!1);if(d.useEffect(()=>{p(!0)},[]),Yb(d.useMemo(()=>({onDragStart(f){let{active:b}=f;a(n.onDragStart({active:b}))},onDragMove(f){let{active:b,over:N}=f;n.onDragMove&&a(n.onDragMove({active:b,over:N}))},onDragOver(f){let{active:b,over:N}=f;a(n.onDragOver({active:b,over:N}))},onDragEnd(f){let{active:b,over:N}=f;a(n.onDragEnd({active:b,over:N}))},onDragCancel(f){let{active:b,over:N}=f;a(n.onDragCancel({active:b,over:N}))}}),[a,n])),!c)return null;const u=it.createElement(it.Fragment,null,it.createElement(Ob,{id:r,value:i.draggable}),it.createElement($b,{id:m,announcement:o}));return t?tn.createPortal(u,t):u}var jt;(function(s){s.DragStart="dragStart",s.DragMove="dragMove",s.DragEnd="dragEnd",s.DragCancel="dragCancel",s.DragOver="dragOver",s.RegisterDroppable="registerDroppable",s.SetDroppableDisabled="setDroppableDisabled",s.UnregisterDroppable="unregisterDroppable"})(jt||(jt={}));function Pr(){}function Oo(s,n){return d.useMemo(()=>({sensor:s,options:n??{}}),[s,n])}function Qb(){for(var s=arguments.length,n=new Array(s),t=0;t<s;t++)n[t]=arguments[t];return d.useMemo(()=>[...n].filter(r=>r!=null),[...n])}const as=Object.freeze({x:0,y:0});function kd(s,n){return Math.sqrt(Math.pow(s.x-n.x,2)+Math.pow(s.y-n.y,2))}function vd(s,n){let{data:{value:t}}=s,{data:{value:r}}=n;return t-r}function Zb(s,n){let{data:{value:t}}=s,{data:{value:r}}=n;return r-t}function $o(s){let{left:n,top:t,height:r,width:i}=s;return[{x:n,y:t},{x:n+i,y:t},{x:n,y:t+r},{x:n+i,y:t+r}]}function Dd(s,n){if(!s||s.length===0)return null;const[t]=s;return t[n]}function zo(s,n,t){return n===void 0&&(n=s.left),t===void 0&&(t=s.top),{x:n+s.width*.5,y:t+s.height*.5}}const Yo=s=>{let{collisionRect:n,droppableRects:t,droppableContainers:r}=s;const i=zo(n,n.left,n.top),a=[];for(const o of r){const{id:m}=o,c=t.get(m);if(c){const p=kd(zo(c),i);a.push({id:m,data:{droppableContainer:o,value:p}})}}return a.sort(vd)},ex=s=>{let{collisionRect:n,droppableRects:t,droppableContainers:r}=s;const i=$o(n),a=[];for(const o of r){const{id:m}=o,c=t.get(m);if(c){const p=$o(c),u=i.reduce((b,N,j)=>b+kd(p[j],N),0),f=Number((u/4).toFixed(4));a.push({id:m,data:{droppableContainer:o,value:f}})}}return a.sort(vd)};function tx(s,n){const t=Math.max(n.top,s.top),r=Math.max(n.left,s.left),i=Math.min(n.left+n.width,s.left+s.width),a=Math.min(n.top+n.height,s.top+s.height),o=i-r,m=a-t;if(r<i&&t<a){const c=n.width*n.height,p=s.width*s.height,u=o*m,f=u/(c+p-u);return Number(f.toFixed(4))}return 0}const sx=s=>{let{collisionRect:n,droppableRects:t,droppableContainers:r}=s;const i=[];for(const a of r){const{id:o}=a,m=t.get(o);if(m){const c=tx(m,n);c>0&&i.push({id:o,data:{droppableContainer:a,value:c}})}}return i.sort(Zb)};function nx(s,n,t){return{...s,scaleX:n&&t?n.width/t.width:1,scaleY:n&&t?n.height/t.height:1}}function Vd(s,n){return s&&n?{x:s.left-n.left,y:s.top-n.top}:as}function rx(s){return function(t){for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return i.reduce((o,m)=>({...o,top:o.top+s*m.y,bottom:o.bottom+s*m.y,left:o.left+s*m.x,right:o.right+s*m.x}),{...t})}}const ix=rx(1);function ax(s){if(s.startsWith("matrix3d(")){const n=s.slice(9,-1).split(/, /);return{x:+n[12],y:+n[13],scaleX:+n[0],scaleY:+n[5]}}else if(s.startsWith("matrix(")){const n=s.slice(7,-1).split(/, /);return{x:+n[4],y:+n[5],scaleX:+n[0],scaleY:+n[3]}}return null}function ox(s,n,t){const r=ax(n);if(!r)return s;const{scaleX:i,scaleY:a,x:o,y:m}=r,c=s.left-o-(1-i)*parseFloat(t),p=s.top-m-(1-a)*parseFloat(t.slice(t.indexOf(" ")+1)),u=i?s.width/i:s.width,f=a?s.height/a:s.height;return{width:u,height:f,top:p,right:c+u,bottom:p+f,left:c}}const mx={ignoreTransform:!1};function Nn(s,n){n===void 0&&(n=mx);let t=s.getBoundingClientRect();if(n.ignoreTransform){const{transform:p,transformOrigin:u}=zt(s).getComputedStyle(s);p&&(t=ox(t,p,u))}const{top:r,left:i,width:a,height:o,bottom:m,right:c}=t;return{top:r,left:i,width:a,height:o,bottom:m,right:c}}function Ko(s){return Nn(s,{ignoreTransform:!0})}function lx(s){const n=s.innerWidth,t=s.innerHeight;return{top:0,left:0,right:n,bottom:t,width:n,height:t}}function dx(s,n){return n===void 0&&(n=zt(s).getComputedStyle(s)),n.position==="fixed"}function cx(s,n){n===void 0&&(n=zt(s).getComputedStyle(s));const t=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const a=n[i];return typeof a=="string"?t.test(a):!1})}function ri(s,n){const t=[];function r(i){if(n!=null&&t.length>=n||!i)return t;if(_a(i)&&i.scrollingElement!=null&&!t.includes(i.scrollingElement))return t.push(i.scrollingElement),t;if(!Yn(i)||xd(i)||t.includes(i))return t;const a=zt(s).getComputedStyle(i);return i!==s&&cx(i,a)&&t.push(i),dx(i,a)?t:r(i.parentNode)}return s?r(s):t}function Cd(s){const[n]=ri(s,1);return n??null}function yi(s){return!ni||!s?null:fn(s)?s:wa(s)?_a(s)||s===gn(s).scrollingElement?window:Yn(s)?s:null:null}function Ed(s){return fn(s)?s.scrollX:s.scrollLeft}function Ad(s){return fn(s)?s.scrollY:s.scrollTop}function Xi(s){return{x:Ed(s),y:Ad(s)}}var St;(function(s){s[s.Forward=1]="Forward",s[s.Backward=-1]="Backward"})(St||(St={}));function wd(s){return!ni||!s?!1:s===document.scrollingElement}function _d(s){const n={x:0,y:0},t=wd(s)?{height:window.innerHeight,width:window.innerWidth}:{height:s.clientHeight,width:s.clientWidth},r={x:s.scrollWidth-t.width,y:s.scrollHeight-t.height},i=s.scrollTop<=n.y,a=s.scrollLeft<=n.x,o=s.scrollTop>=r.y,m=s.scrollLeft>=r.x;return{isTop:i,isLeft:a,isBottom:o,isRight:m,maxScroll:r,minScroll:n}}const ux={x:.2,y:.2};function px(s,n,t,r,i){let{top:a,left:o,right:m,bottom:c}=t;r===void 0&&(r=10),i===void 0&&(i=ux);const{isTop:p,isBottom:u,isLeft:f,isRight:b}=_d(s),N={x:0,y:0},j={x:0,y:0},x={height:n.height*i.y,width:n.width*i.x};return!p&&a<=n.top+x.height?(N.y=St.Backward,j.y=r*Math.abs((n.top+x.height-a)/x.height)):!u&&c>=n.bottom-x.height&&(N.y=St.Forward,j.y=r*Math.abs((n.bottom-x.height-c)/x.height)),!b&&m>=n.right-x.width?(N.x=St.Forward,j.x=r*Math.abs((n.right-x.width-m)/x.width)):!f&&o<=n.left+x.width&&(N.x=St.Backward,j.x=r*Math.abs((n.left+x.width-o)/x.width)),{direction:N,speed:j}}function fx(s){if(s===document.scrollingElement){const{innerWidth:a,innerHeight:o}=window;return{top:0,left:0,right:a,bottom:o,width:a,height:o}}const{top:n,left:t,right:r,bottom:i}=s.getBoundingClientRect();return{top:n,left:t,right:r,bottom:i,width:s.clientWidth,height:s.clientHeight}}function jd(s){return s.reduce((n,t)=>sn(n,Xi(t)),as)}function gx(s){return s.reduce((n,t)=>n+Ed(t),0)}function Nx(s){return s.reduce((n,t)=>n+Ad(t),0)}function bx(s,n){if(n===void 0&&(n=Nn),!s)return;const{top:t,left:r,bottom:i,right:a}=n(s);Cd(s)&&(i<=0||a<=0||t>=window.innerHeight||r>=window.innerWidth)&&s.scrollIntoView({block:"center",inline:"center"})}const xx=[["x",["left","right"],gx],["y",["top","bottom"],Nx]];class Ha{constructor(n,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=ri(t),i=jd(r);this.rect={...n},this.width=n.width,this.height=n.height;for(const[a,o,m]of xx)for(const c of o)Object.defineProperty(this,c,{get:()=>{const p=m(r),u=i[a]-p;return this.rect[c]+u},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Bn{constructor(n){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(t=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...t)})},this.target=n}add(n,t,r){var i;(i=this.target)==null||i.addEventListener(n,t,r),this.listeners.push([n,t,r])}}function yx(s){const{EventTarget:n}=zt(s);return s instanceof n?s:gn(s)}function hi(s,n){const t=Math.abs(s.x),r=Math.abs(s.y);return typeof n=="number"?Math.sqrt(t**2+r**2)>n:"x"in n&&"y"in n?t>n.x&&r>n.y:"x"in n?t>n.x:"y"in n?r>n.y:!1}var Xt;(function(s){s.Click="click",s.DragStart="dragstart",s.Keydown="keydown",s.ContextMenu="contextmenu",s.Resize="resize",s.SelectionChange="selectionchange",s.VisibilityChange="visibilitychange"})(Xt||(Xt={}));function Xo(s){s.preventDefault()}function hx(s){s.stopPropagation()}var ut;(function(s){s.Space="Space",s.Down="ArrowDown",s.Right="ArrowRight",s.Left="ArrowLeft",s.Up="ArrowUp",s.Esc="Escape",s.Enter="Enter",s.Tab="Tab"})(ut||(ut={}));const Ld={start:[ut.Space,ut.Enter],cancel:[ut.Esc],end:[ut.Space,ut.Enter,ut.Tab]},kx=(s,n)=>{let{currentCoordinates:t}=n;switch(s.code){case ut.Right:return{...t,x:t.x+25};case ut.Left:return{...t,x:t.x-25};case ut.Down:return{...t,y:t.y+25};case ut.Up:return{...t,y:t.y-25}}};class Ba{constructor(n){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=n;const{event:{target:t}}=n;this.props=n,this.listeners=new Bn(gn(t)),this.windowListeners=new Bn(zt(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Xt.Resize,this.handleCancel),this.windowListeners.add(Xt.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Xt.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:n,onStart:t}=this.props,r=n.node.current;r&&bx(r),t(as)}handleKeyDown(n){if(La(n)){const{active:t,context:r,options:i}=this.props,{keyboardCodes:a=Ld,coordinateGetter:o=kx,scrollBehavior:m="smooth"}=i,{code:c}=n;if(a.end.includes(c)){this.handleEnd(n);return}if(a.cancel.includes(c)){this.handleCancel(n);return}const{collisionRect:p}=r.current,u=p?{x:p.left,y:p.top}:as;this.referenceCoordinates||(this.referenceCoordinates=u);const f=o(n,{active:t,context:r.current,currentCoordinates:u});if(f){const b=Tn(f,u),N={x:0,y:0},{scrollableAncestors:j}=r.current;for(const x of j){const R=n.code,{isTop:I,isRight:y,isLeft:T,isBottom:te,maxScroll:ee,minScroll:L}=_d(x),z=fx(x),se={x:Math.min(R===ut.Right?z.right-z.width/2:z.right,Math.max(R===ut.Right?z.left:z.left+z.width/2,f.x)),y:Math.min(R===ut.Down?z.bottom-z.height/2:z.bottom,Math.max(R===ut.Down?z.top:z.top+z.height/2,f.y))},oe=R===ut.Right&&!y||R===ut.Left&&!T,ce=R===ut.Down&&!te||R===ut.Up&&!I;if(oe&&se.x!==f.x){const De=x.scrollLeft+b.x,Q=R===ut.Right&&De<=ee.x||R===ut.Left&&De>=L.x;if(Q&&!b.y){x.scrollTo({left:De,behavior:m});return}Q?N.x=x.scrollLeft-De:N.x=R===ut.Right?x.scrollLeft-ee.x:x.scrollLeft-L.x,N.x&&x.scrollBy({left:-N.x,behavior:m});break}else if(ce&&se.y!==f.y){const De=x.scrollTop+b.y,Q=R===ut.Down&&De<=ee.y||R===ut.Up&&De>=L.y;if(Q&&!b.x){x.scrollTo({top:De,behavior:m});return}Q?N.y=x.scrollTop-De:N.y=R===ut.Down?x.scrollTop-ee.y:x.scrollTop-L.y,N.y&&x.scrollBy({top:-N.y,behavior:m});break}}this.handleMove(n,sn(Tn(f,this.referenceCoordinates),N))}}}handleMove(n,t){const{onMove:r}=this.props;n.preventDefault(),r(t)}handleEnd(n){const{onEnd:t}=this.props;n.preventDefault(),this.detach(),t()}handleCancel(n){const{onCancel:t}=this.props;n.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Ba.activators=[{eventName:"onKeyDown",handler:(s,n,t)=>{let{keyboardCodes:r=Ld,onActivation:i}=n,{active:a}=t;const{code:o}=s.nativeEvent;if(r.start.includes(o)){const m=a.activatorNode.current;return m&&s.target!==m?!1:(s.preventDefault(),i==null||i({event:s.nativeEvent}),!0)}return!1}}];function Jo(s){return!!(s&&"distance"in s)}function Go(s){return!!(s&&"delay"in s)}class Ua{constructor(n,t,r){var i;r===void 0&&(r=yx(n.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=n,this.events=t;const{event:a}=n,{target:o}=a;this.props=n,this.events=t,this.document=gn(o),this.documentListeners=new Bn(this.document),this.listeners=new Bn(r),this.windowListeners=new Bn(zt(o)),this.initialCoordinates=(i=Ki(a))!=null?i:as,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:n,props:{options:{activationConstraint:t,bypassActivationConstraint:r}}}=this;if(this.listeners.add(n.move.name,this.handleMove,{passive:!1}),this.listeners.add(n.end.name,this.handleEnd),n.cancel&&this.listeners.add(n.cancel.name,this.handleCancel),this.windowListeners.add(Xt.Resize,this.handleCancel),this.windowListeners.add(Xt.DragStart,Xo),this.windowListeners.add(Xt.VisibilityChange,this.handleCancel),this.windowListeners.add(Xt.ContextMenu,Xo),this.documentListeners.add(Xt.Keydown,this.handleKeydown),t){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Go(t)){this.timeoutId=setTimeout(this.handleStart,t.delay),this.handlePending(t);return}if(Jo(t)){this.handlePending(t);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(n,t){const{active:r,onPending:i}=this.props;i(r,n,this.initialCoordinates,t)}handleStart(){const{initialCoordinates:n}=this,{onStart:t}=this.props;n&&(this.activated=!0,this.documentListeners.add(Xt.Click,hx,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Xt.SelectionChange,this.removeTextSelection),t(n))}handleMove(n){var t;const{activated:r,initialCoordinates:i,props:a}=this,{onMove:o,options:{activationConstraint:m}}=a;if(!i)return;const c=(t=Ki(n))!=null?t:as,p=Tn(i,c);if(!r&&m){if(Jo(m)){if(m.tolerance!=null&&hi(p,m.tolerance))return this.handleCancel();if(hi(p,m.distance))return this.handleStart()}if(Go(m)&&hi(p,m.tolerance))return this.handleCancel();this.handlePending(m,p);return}n.cancelable&&n.preventDefault(),o(c)}handleEnd(){const{onAbort:n,onEnd:t}=this.props;this.detach(),this.activated||n(this.props.active),t()}handleCancel(){const{onAbort:n,onCancel:t}=this.props;this.detach(),this.activated||n(this.props.active),t()}handleKeydown(n){n.code===ut.Esc&&this.handleCancel()}removeTextSelection(){var n;(n=this.document.getSelection())==null||n.removeAllRanges()}}const vx={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Sa extends Ua{constructor(n){const{event:t}=n,r=gn(t.target);super(n,vx,r)}}Sa.activators=[{eventName:"onPointerDown",handler:(s,n)=>{let{nativeEvent:t}=s,{onActivation:r}=n;return!t.isPrimary||t.button!==0?!1:(r==null||r({event:t}),!0)}}];const Dx={move:{name:"mousemove"},end:{name:"mouseup"}};var Ji;(function(s){s[s.RightClick=2]="RightClick"})(Ji||(Ji={}));class Vx extends Ua{constructor(n){super(n,Dx,gn(n.event.target))}}Vx.activators=[{eventName:"onMouseDown",handler:(s,n)=>{let{nativeEvent:t}=s,{onActivation:r}=n;return t.button===Ji.RightClick?!1:(r==null||r({event:t}),!0)}}];const ki={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class Cx extends Ua{constructor(n){super(n,ki)}static setup(){return window.addEventListener(ki.move.name,n,{capture:!1,passive:!1}),function(){window.removeEventListener(ki.move.name,n)};function n(){}}}Cx.activators=[{eventName:"onTouchStart",handler:(s,n)=>{let{nativeEvent:t}=s,{onActivation:r}=n;const{touches:i}=t;return i.length>1?!1:(r==null||r({event:t}),!0)}}];var Un;(function(s){s[s.Pointer=0]="Pointer",s[s.DraggableRect=1]="DraggableRect"})(Un||(Un={}));var Rr;(function(s){s[s.TreeOrder=0]="TreeOrder",s[s.ReversedTreeOrder=1]="ReversedTreeOrder"})(Rr||(Rr={}));function Ex(s){let{acceleration:n,activator:t=Un.Pointer,canScroll:r,draggingRect:i,enabled:a,interval:o=5,order:m=Rr.TreeOrder,pointerCoordinates:c,scrollableAncestors:p,scrollableAncestorRects:u,delta:f,threshold:b}=s;const N=wx({delta:f,disabled:!a}),[j,x]=Ib(),R=d.useRef({x:0,y:0}),I=d.useRef({x:0,y:0}),y=d.useMemo(()=>{switch(t){case Un.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case Un.DraggableRect:return i}},[t,i,c]),T=d.useRef(null),te=d.useCallback(()=>{const L=T.current;if(!L)return;const z=R.current.x*I.current.x,se=R.current.y*I.current.y;L.scrollBy(z,se)},[]),ee=d.useMemo(()=>m===Rr.TreeOrder?[...p].reverse():p,[m,p]);d.useEffect(()=>{if(!a||!p.length||!y){x();return}for(const L of ee){if((r==null?void 0:r(L))===!1)continue;const z=p.indexOf(L),se=u[z];if(!se)continue;const{direction:oe,speed:ce}=px(L,se,y,n,b);for(const De of["x","y"])N[De][oe[De]]||(ce[De]=0,oe[De]=0);if(ce.x>0||ce.y>0){x(),T.current=L,j(te,o),R.current=ce,I.current=oe;return}}R.current={x:0,y:0},I.current={x:0,y:0},x()},[n,te,r,x,a,o,JSON.stringify(y),JSON.stringify(N),j,p,ee,u,JSON.stringify(b)])}const Ax={x:{[St.Backward]:!1,[St.Forward]:!1},y:{[St.Backward]:!1,[St.Forward]:!1}};function wx(s){let{delta:n,disabled:t}=s;const r=Yi(n);return Kn(i=>{if(t||!r||!i)return Ax;const a={x:Math.sign(n.x-r.x),y:Math.sign(n.y-r.y)};return{x:{[St.Backward]:i.x[St.Backward]||a.x===-1,[St.Forward]:i.x[St.Forward]||a.x===1},y:{[St.Backward]:i.y[St.Backward]||a.y===-1,[St.Forward]:i.y[St.Forward]||a.y===1}}},[t,n,r])}function _x(s,n){const t=n!=null?s.get(n):void 0,r=t?t.node.current:null;return Kn(i=>{var a;return n==null?null:(a=r??i)!=null?a:null},[r,n])}function jx(s,n){return d.useMemo(()=>s.reduce((t,r)=>{const{sensor:i}=r,a=i.activators.map(o=>({eventName:o.eventName,handler:n(o.handler,r)}));return[...t,...a]},[]),[s,n])}var Fn;(function(s){s[s.Always=0]="Always",s[s.BeforeDragging=1]="BeforeDragging",s[s.WhileDragging=2]="WhileDragging"})(Fn||(Fn={}));var Gi;(function(s){s.Optimized="optimized"})(Gi||(Gi={}));const Qo=new Map;function Lx(s,n){let{dragging:t,dependencies:r,config:i}=n;const[a,o]=d.useState(null),{frequency:m,measure:c,strategy:p}=i,u=d.useRef(s),f=R(),b=In(f),N=d.useCallback(function(I){I===void 0&&(I=[]),!b.current&&o(y=>y===null?I:y.concat(I.filter(T=>!y.includes(T))))},[b]),j=d.useRef(null),x=Kn(I=>{if(f&&!t)return Qo;if(!I||I===Qo||u.current!==s||a!=null){const y=new Map;for(let T of s){if(!T)continue;if(a&&a.length>0&&!a.includes(T.id)&&T.rect.current){y.set(T.id,T.rect.current);continue}const te=T.node.current,ee=te?new Ha(c(te),te):null;T.rect.current=ee,ee&&y.set(T.id,ee)}return y}return I},[s,a,t,f,c]);return d.useEffect(()=>{u.current=s},[s]),d.useEffect(()=>{f||N()},[t,f]),d.useEffect(()=>{a&&a.length>0&&o(null)},[JSON.stringify(a)]),d.useEffect(()=>{f||typeof m!="number"||j.current!==null||(j.current=setTimeout(()=>{N(),j.current=null},m))},[m,f,N,...r]),{droppableRects:x,measureDroppableContainers:N,measuringScheduled:a!=null};function R(){switch(p){case Fn.Always:return!1;case Fn.BeforeDragging:return t;default:return!t}}}function Hd(s,n){return Kn(t=>s?t||(typeof n=="function"?n(s):s):null,[n,s])}function Hx(s,n){return Hd(s,n)}function Bx(s){let{callback:n,disabled:t}=s;const r=ja(n),i=d.useMemo(()=>{if(t||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:a}=window;return new a(r)},[r,t]);return d.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function ii(s){let{callback:n,disabled:t}=s;const r=ja(n),i=d.useMemo(()=>{if(t||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:a}=window;return new a(r)},[t]);return d.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function Ux(s){return new Ha(Nn(s),s)}function Zo(s,n,t){n===void 0&&(n=Ux);const[r,i]=d.useState(null);function a(){i(c=>{if(!s)return null;if(s.isConnected===!1){var p;return(p=c??t)!=null?p:null}const u=n(s);return JSON.stringify(c)===JSON.stringify(u)?c:u})}const o=Bx({callback(c){if(s)for(const p of c){const{type:u,target:f}=p;if(u==="childList"&&f instanceof HTMLElement&&f.contains(s)){a();break}}}}),m=ii({callback:a});return bs(()=>{a(),s?(m==null||m.observe(s),o==null||o.observe(document.body,{childList:!0,subtree:!0})):(m==null||m.disconnect(),o==null||o.disconnect())},[s]),r}function Sx(s){const n=Hd(s);return Vd(s,n)}const em=[];function Px(s){const n=d.useRef(s),t=Kn(r=>s?r&&r!==em&&s&&n.current&&s.parentNode===n.current.parentNode?r:ri(s):em,[s]);return d.useEffect(()=>{n.current=s},[s]),t}function Rx(s){const[n,t]=d.useState(null),r=d.useRef(s),i=d.useCallback(a=>{const o=yi(a.target);o&&t(m=>m?(m.set(o,Xi(o)),new Map(m)):null)},[]);return d.useEffect(()=>{const a=r.current;if(s!==a){o(a);const m=s.map(c=>{const p=yi(c);return p?(p.addEventListener("scroll",i,{passive:!0}),[p,Xi(p)]):null}).filter(c=>c!=null);t(m.length?new Map(m):null),r.current=s}return()=>{o(s),o(a)};function o(m){m.forEach(c=>{const p=yi(c);p==null||p.removeEventListener("scroll",i)})}},[i,s]),d.useMemo(()=>s.length?n?Array.from(n.values()).reduce((a,o)=>sn(a,o),as):jd(s):as,[s,n])}function tm(s,n){n===void 0&&(n=[]);const t=d.useRef(null);return d.useEffect(()=>{t.current=null},n),d.useEffect(()=>{const r=s!==as;r&&!t.current&&(t.current=s),!r&&t.current&&(t.current=null)},[s]),t.current?Tn(s,t.current):as}function Mx(s){d.useEffect(()=>{if(!ni)return;const n=s.map(t=>{let{sensor:r}=t;return r.setup==null?void 0:r.setup()});return()=>{for(const t of n)t==null||t()}},s.map(n=>{let{sensor:t}=n;return t}))}function Ix(s,n){return d.useMemo(()=>s.reduce((t,r)=>{let{eventName:i,handler:a}=r;return t[i]=o=>{a(o,n)},t},{}),[s,n])}function Bd(s){return d.useMemo(()=>s?lx(s):null,[s])}const sm=[];function Tx(s,n){n===void 0&&(n=Nn);const[t]=s,r=Bd(t?zt(t):null),[i,a]=d.useState(sm);function o(){a(()=>s.length?s.map(c=>wd(c)?r:new Ha(n(c),c)):sm)}const m=ii({callback:o});return bs(()=>{m==null||m.disconnect(),o(),s.forEach(c=>m==null?void 0:m.observe(c))},[s]),i}function Fx(s){if(!s)return null;if(s.children.length>1)return s;const n=s.children[0];return Yn(n)?n:s}function Wx(s){let{measure:n}=s;const[t,r]=d.useState(null),i=d.useCallback(p=>{for(const{target:u}of p)if(Yn(u)){r(f=>{const b=n(u);return f?{...f,width:b.width,height:b.height}:b});break}},[n]),a=ii({callback:i}),o=d.useCallback(p=>{const u=Fx(p);a==null||a.disconnect(),u&&(a==null||a.observe(u)),r(u?n(u):null)},[n,a]),[m,c]=Sr(o);return d.useMemo(()=>({nodeRef:m,rect:t,setRef:c}),[t,m,c])}const qx=[{sensor:Sa,options:{}},{sensor:Ba,options:{}}],Ox={current:{}},Cr={draggable:{measure:Ko},droppable:{measure:Ko,strategy:Fn.WhileDragging,frequency:Gi.Optimized},dragOverlay:{measure:Nn}};class Sn extends Map{get(n){var t;return n!=null&&(t=super.get(n))!=null?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(n=>{let{disabled:t}=n;return!t})}getNodeFor(n){var t,r;return(t=(r=this.get(n))==null?void 0:r.node.current)!=null?t:void 0}}const $x={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Sn,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Pr},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Cr,measureDroppableContainers:Pr,windowRect:null,measuringScheduled:!1},zx={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Pr,draggableNodes:new Map,over:null,measureDroppableContainers:Pr},ai=d.createContext(zx),Ud=d.createContext($x);function Yx(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Sn}}}function Kx(s,n){switch(n.type){case jt.DragStart:return{...s,draggable:{...s.draggable,initialCoordinates:n.initialCoordinates,active:n.active}};case jt.DragMove:return s.draggable.active==null?s:{...s,draggable:{...s.draggable,translate:{x:n.coordinates.x-s.draggable.initialCoordinates.x,y:n.coordinates.y-s.draggable.initialCoordinates.y}}};case jt.DragEnd:case jt.DragCancel:return{...s,draggable:{...s.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case jt.RegisterDroppable:{const{element:t}=n,{id:r}=t,i=new Sn(s.droppable.containers);return i.set(r,t),{...s,droppable:{...s.droppable,containers:i}}}case jt.SetDroppableDisabled:{const{id:t,key:r,disabled:i}=n,a=s.droppable.containers.get(t);if(!a||r!==a.key)return s;const o=new Sn(s.droppable.containers);return o.set(t,{...a,disabled:i}),{...s,droppable:{...s.droppable,containers:o}}}case jt.UnregisterDroppable:{const{id:t,key:r}=n,i=s.droppable.containers.get(t);if(!i||r!==i.key)return s;const a=new Sn(s.droppable.containers);return a.delete(t),{...s,droppable:{...s.droppable,containers:a}}}default:return s}}function Xx(s){let{disabled:n}=s;const{active:t,activatorEvent:r,draggableNodes:i}=d.useContext(ai),a=Yi(r),o=Yi(t==null?void 0:t.id);return d.useEffect(()=>{if(!n&&!r&&a&&o!=null){if(!La(a)||document.activeElement===a.target)return;const m=i.get(o);if(!m)return;const{activatorNode:c,node:p}=m;if(!c.current&&!p.current)return;requestAnimationFrame(()=>{for(const u of[c.current,p.current]){if(!u)continue;const f=Wb(u);if(f){f.focus();break}}})}},[r,n,i,o,a]),null}function Jx(s,n){let{transform:t,...r}=n;return s!=null&&s.length?s.reduce((i,a)=>a({transform:i,...r}),t):t}function Gx(s){return d.useMemo(()=>({draggable:{...Cr.draggable,...s==null?void 0:s.draggable},droppable:{...Cr.droppable,...s==null?void 0:s.droppable},dragOverlay:{...Cr.dragOverlay,...s==null?void 0:s.dragOverlay}}),[s==null?void 0:s.draggable,s==null?void 0:s.droppable,s==null?void 0:s.dragOverlay])}function Qx(s){let{activeNode:n,measure:t,initialRect:r,config:i=!0}=s;const a=d.useRef(!1),{x:o,y:m}=typeof i=="boolean"?{x:i,y:i}:i;bs(()=>{if(!o&&!m||!n){a.current=!1;return}if(a.current||!r)return;const p=n==null?void 0:n.node.current;if(!p||p.isConnected===!1)return;const u=t(p),f=Vd(u,r);if(o||(f.x=0),m||(f.y=0),a.current=!0,Math.abs(f.x)>0||Math.abs(f.y)>0){const b=Cd(p);b&&b.scrollBy({top:f.y,left:f.x})}},[n,o,m,r,t])}const Sd=d.createContext({...as,scaleX:1,scaleY:1});var js;(function(s){s[s.Uninitialized=0]="Uninitialized",s[s.Initializing=1]="Initializing",s[s.Initialized=2]="Initialized"})(js||(js={}));const nm=d.memo(function(n){var t,r,i,a;let{id:o,accessibility:m,autoScroll:c=!0,children:p,sensors:u=qx,collisionDetection:f=sx,measuring:b,modifiers:N,...j}=n;const x=d.useReducer(Kx,void 0,Yx),[R,I]=x,[y,T]=Kb(),[te,ee]=d.useState(js.Uninitialized),L=te===js.Initialized,{draggable:{active:z,nodes:se,translate:oe},droppable:{containers:ce}}=R,De=z!=null?se.get(z):null,Q=d.useRef({initial:null,translated:null}),ne=d.useMemo(()=>{var Ne;return z!=null?{id:z,data:(Ne=De==null?void 0:De.data)!=null?Ne:Ox,rect:Q}:null},[z,De]),xe=d.useRef(null),[Ee,He]=d.useState(null),[Ve,Ge]=d.useState(null),de=In(j,Object.values(j)),Ae=Xn("DndDescribedBy",o),Ue=d.useMemo(()=>ce.getEnabled(),[ce]),he=Gx(b),{droppableRects:Re,measureDroppableContainers:$e,measuringScheduled:qe}=Lx(Ue,{dragging:L,dependencies:[oe.x,oe.y],config:he.droppable}),Oe=_x(se,z),B=d.useMemo(()=>Ve?Ki(Ve):null,[Ve]),ge=A(),me=Hx(Oe,he.draggable.measure);Qx({activeNode:z!=null?se.get(z):null,config:ge.layoutShiftCompensation,initialRect:me,measure:he.draggable.measure});const _e=Zo(Oe,he.draggable.measure,me),G=Zo(Oe?Oe.parentElement:null),C=d.useRef({activatorEvent:null,active:null,activeNode:Oe,collisionRect:null,collisions:null,droppableRects:Re,draggableNodes:se,draggingNode:null,draggingNodeRect:null,droppableContainers:ce,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),le=ce.getNodeFor((t=C.current.over)==null?void 0:t.id),D=Wx({measure:he.dragOverlay.measure}),H=(r=D.nodeRef.current)!=null?r:Oe,ie=L?(i=D.rect)!=null?i:_e:null,Ce=!!(D.nodeRef.current&&D.rect),Te=Sx(Ce?null:_e),ze=Bd(H?zt(H):null),U=Px(L?le??Oe:null),J=Tx(U),Z=Jx(N,{transform:{x:oe.x-Te.x,y:oe.y-Te.y,scaleX:1,scaleY:1},activatorEvent:Ve,active:ne,activeNodeRect:_e,containerNodeRect:G,draggingNodeRect:ie,over:C.current.over,overlayNodeRect:D.rect,scrollableAncestors:U,scrollableAncestorRects:J,windowRect:ze}),P=B?sn(B,oe):null,v=Rx(U),$=tm(v),re=tm(v,[_e]),O=sn(Z,$),g=ie?ix(ie,Z):null,E=ne&&g?f({active:ne,collisionRect:g,droppableRects:Re,droppableContainers:Ue,pointerCoordinates:P}):null,S=Dd(E,"id"),[K,ke]=d.useState(null),ye=Ce?Z:sn(Z,re),We=nx(ye,(a=K==null?void 0:K.rect)!=null?a:null,_e),Je=d.useRef(null),mt=d.useCallback((Ne,be)=>{let{sensor:ve,options:Be}=be;if(xe.current==null)return;const Pe=se.get(xe.current);if(!Pe)return;const l=Ne.nativeEvent,h=new ve({active:xe.current,activeNode:Pe,event:l,options:Be,context:C,onAbort(q){if(!se.get(q))return;const{onDragAbort:Y}=de.current,W={id:q};Y==null||Y(W),y({type:"onDragAbort",event:W})},onPending(q,_,Y,W){if(!se.get(q))return;const{onDragPending:k}=de.current,X={id:q,constraint:_,initialCoordinates:Y,offset:W};k==null||k(X),y({type:"onDragPending",event:X})},onStart(q){const _=xe.current;if(_==null)return;const Y=se.get(_);if(!Y)return;const{onDragStart:W}=de.current,ue={activatorEvent:l,active:{id:_,data:Y.data,rect:Q}};tn.unstable_batchedUpdates(()=>{W==null||W(ue),ee(js.Initializing),I({type:jt.DragStart,initialCoordinates:q,active:_}),y({type:"onDragStart",event:ue}),He(Je.current),Ge(l)})},onMove(q){I({type:jt.DragMove,coordinates:q})},onEnd:w(jt.DragEnd),onCancel:w(jt.DragCancel)});Je.current=h;function w(q){return async function(){const{active:Y,collisions:W,over:ue,scrollAdjustedTranslate:k}=C.current;let X=null;if(Y&&k){const{cancelDrop:fe}=de.current;X={activatorEvent:l,active:Y,collisions:W,delta:k,over:ue},q===jt.DragEnd&&typeof fe=="function"&&await Promise.resolve(fe(X))&&(q=jt.DragCancel)}xe.current=null,tn.unstable_batchedUpdates(()=>{I({type:q}),ee(js.Uninitialized),ke(null),He(null),Ge(null),Je.current=null;const fe=q===jt.DragEnd?"onDragEnd":"onDragCancel";if(X){const we=de.current[fe];we==null||we(X),y({type:fe,event:X})}})}}},[se]),nt=d.useCallback((Ne,be)=>(ve,Be)=>{const Pe=ve.nativeEvent,l=se.get(Be);if(xe.current!==null||!l||Pe.dndKit||Pe.defaultPrevented)return;const h={active:l};Ne(ve,be.options,h)===!0&&(Pe.dndKit={capturedBy:be.sensor},xe.current=Be,mt(ve,be))},[se,mt]),st=jx(u,nt);Mx(u),bs(()=>{_e&&te===js.Initializing&&ee(js.Initialized)},[_e,te]),d.useEffect(()=>{const{onDragMove:Ne}=de.current,{active:be,activatorEvent:ve,collisions:Be,over:Pe}=C.current;if(!be||!ve)return;const l={active:be,activatorEvent:ve,collisions:Be,delta:{x:O.x,y:O.y},over:Pe};tn.unstable_batchedUpdates(()=>{Ne==null||Ne(l),y({type:"onDragMove",event:l})})},[O.x,O.y]),d.useEffect(()=>{const{active:Ne,activatorEvent:be,collisions:ve,droppableContainers:Be,scrollAdjustedTranslate:Pe}=C.current;if(!Ne||xe.current==null||!be||!Pe)return;const{onDragOver:l}=de.current,h=Be.get(S),w=h&&h.rect.current?{id:h.id,rect:h.rect.current,data:h.data,disabled:h.disabled}:null,q={active:Ne,activatorEvent:be,collisions:ve,delta:{x:Pe.x,y:Pe.y},over:w};tn.unstable_batchedUpdates(()=>{ke(w),l==null||l(q),y({type:"onDragOver",event:q})})},[S]),bs(()=>{C.current={activatorEvent:Ve,active:ne,activeNode:Oe,collisionRect:g,collisions:E,droppableRects:Re,draggableNodes:se,draggingNode:H,draggingNodeRect:ie,droppableContainers:ce,over:K,scrollableAncestors:U,scrollAdjustedTranslate:O},Q.current={initial:ie,translated:g}},[ne,Oe,E,g,se,H,ie,Re,ce,K,U,O]),Ex({...ge,delta:oe,draggingRect:g,pointerCoordinates:P,scrollableAncestors:U,scrollableAncestorRects:J});const at=d.useMemo(()=>({active:ne,activeNode:Oe,activeNodeRect:_e,activatorEvent:Ve,collisions:E,containerNodeRect:G,dragOverlay:D,draggableNodes:se,droppableContainers:ce,droppableRects:Re,over:K,measureDroppableContainers:$e,scrollableAncestors:U,scrollableAncestorRects:J,measuringConfiguration:he,measuringScheduled:qe,windowRect:ze}),[ne,Oe,_e,Ve,E,G,D,se,ce,Re,K,$e,U,J,he,qe,ze]),Nt=d.useMemo(()=>({activatorEvent:Ve,activators:st,active:ne,activeNodeRect:_e,ariaDescribedById:{draggable:Ae},dispatch:I,draggableNodes:se,over:K,measureDroppableContainers:$e}),[Ve,st,ne,_e,I,Ae,se,K,$e]);return it.createElement(hd.Provider,{value:T},it.createElement(ai.Provider,{value:Nt},it.createElement(Ud.Provider,{value:at},it.createElement(Sd.Provider,{value:We},p)),it.createElement(Xx,{disabled:(m==null?void 0:m.restoreFocus)===!1})),it.createElement(Gb,{...m,hiddenTextDescribedById:Ae}));function A(){const Ne=(Ee==null?void 0:Ee.autoScrollEnabled)===!1,be=typeof c=="object"?c.enabled===!1:c===!1,ve=L&&!Ne&&!be;return typeof c=="object"?{...c,enabled:ve}:{enabled:ve}}}),Zx=d.createContext(null),rm="button",e0="Draggable";function t0(s){let{id:n,data:t,disabled:r=!1,attributes:i}=s;const a=Xn(e0),{activators:o,activatorEvent:m,active:c,activeNodeRect:p,ariaDescribedById:u,draggableNodes:f,over:b}=d.useContext(ai),{role:N=rm,roleDescription:j="draggable",tabIndex:x=0}=i??{},R=(c==null?void 0:c.id)===n,I=d.useContext(R?Sd:Zx),[y,T]=Sr(),[te,ee]=Sr(),L=Ix(o,n),z=In(t);bs(()=>(f.set(n,{id:n,key:a,node:y,activatorNode:te,data:z}),()=>{const oe=f.get(n);oe&&oe.key===a&&f.delete(n)}),[f,n]);const se=d.useMemo(()=>({role:N,tabIndex:x,"aria-disabled":r,"aria-pressed":R&&N===rm?!0:void 0,"aria-roledescription":j,"aria-describedby":u.draggable}),[r,N,x,R,j,u.draggable]);return{active:c,activatorEvent:m,activeNodeRect:p,attributes:se,isDragging:R,listeners:r?void 0:L,node:y,over:b,setNodeRef:T,setActivatorNodeRef:ee,transform:I}}function s0(){return d.useContext(Ud)}const n0="Droppable",r0={timeout:25};function i0(s){let{data:n,disabled:t=!1,id:r,resizeObserverConfig:i}=s;const a=Xn(n0),{active:o,dispatch:m,over:c,measureDroppableContainers:p}=d.useContext(ai),u=d.useRef({disabled:t}),f=d.useRef(!1),b=d.useRef(null),N=d.useRef(null),{disabled:j,updateMeasurementsFor:x,timeout:R}={...r0,...i},I=In(x??r),y=d.useCallback(()=>{if(!f.current){f.current=!0;return}N.current!=null&&clearTimeout(N.current),N.current=setTimeout(()=>{p(Array.isArray(I.current)?I.current:[I.current]),N.current=null},R)},[R]),T=ii({callback:y,disabled:j||!o}),te=d.useCallback((se,oe)=>{T&&(oe&&(T.unobserve(oe),f.current=!1),se&&T.observe(se))},[T]),[ee,L]=Sr(te),z=In(n);return d.useEffect(()=>{!T||!ee.current||(T.disconnect(),f.current=!1,T.observe(ee.current))},[ee,T]),d.useEffect(()=>(m({type:jt.RegisterDroppable,element:{id:r,key:a,disabled:t,node:ee,rect:b,data:z}}),()=>m({type:jt.UnregisterDroppable,key:a,id:r})),[r]),d.useEffect(()=>{t!==u.current.disabled&&(m({type:jt.SetDroppableDisabled,id:r,key:a,disabled:t}),u.current.disabled=t)},[r,a,t,m]),{active:o,rect:b,isOver:(c==null?void 0:c.id)===r,node:ee,over:c,setNodeRef:L}}function Mr(s,n,t){const r=s.slice();return r.splice(t<0?r.length+t:t,0,r.splice(n,1)[0]),r}function a0(s,n){return s.reduce((t,r,i)=>{const a=n.get(r);return a&&(t[i]=a),t},Array(s.length))}function pr(s){return s!==null&&s>=0}function o0(s,n){if(s===n)return!0;if(s.length!==n.length)return!1;for(let t=0;t<s.length;t++)if(s[t]!==n[t])return!1;return!0}function m0(s){return typeof s=="boolean"?{draggable:s,droppable:s}:s}const Pd=s=>{let{rects:n,activeIndex:t,overIndex:r,index:i}=s;const a=Mr(n,r,t),o=n[i],m=a[i];return!m||!o?null:{x:m.left-o.left,y:m.top-o.top,scaleX:m.width/o.width,scaleY:m.height/o.height}},fr={scaleX:1,scaleY:1},im=s=>{var n;let{activeIndex:t,activeNodeRect:r,index:i,rects:a,overIndex:o}=s;const m=(n=a[t])!=null?n:r;if(!m)return null;if(i===t){const p=a[o];return p?{x:0,y:t<o?p.top+p.height-(m.top+m.height):p.top-m.top,...fr}:null}const c=l0(a,i,t);return i>t&&i<=o?{x:0,y:-m.height-c,...fr}:i<t&&i>=o?{x:0,y:m.height+c,...fr}:{x:0,y:0,...fr}};function l0(s,n,t){const r=s[n],i=s[n-1],a=s[n+1];return r?t<n?i?r.top-(i.top+i.height):a?a.top-(r.top+r.height):0:a?a.top-(r.top+r.height):i?r.top-(i.top+i.height):0:0}const Rd="Sortable",Md=it.createContext({activeIndex:-1,containerId:Rd,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Pd,disabled:{draggable:!1,droppable:!1}});function am(s){let{children:n,id:t,items:r,strategy:i=Pd,disabled:a=!1}=s;const{active:o,dragOverlay:m,droppableRects:c,over:p,measureDroppableContainers:u}=s0(),f=Xn(Rd,t),b=m.rect!==null,N=d.useMemo(()=>r.map(L=>typeof L=="object"&&"id"in L?L.id:L),[r]),j=o!=null,x=o?N.indexOf(o.id):-1,R=p?N.indexOf(p.id):-1,I=d.useRef(N),y=!o0(N,I.current),T=R!==-1&&x===-1||y,te=m0(a);bs(()=>{y&&j&&u(N)},[y,N,j,u]),d.useEffect(()=>{I.current=N},[N]);const ee=d.useMemo(()=>({activeIndex:x,containerId:f,disabled:te,disableTransforms:T,items:N,overIndex:R,useDragOverlay:b,sortedRects:a0(N,c),strategy:i}),[x,f,te.draggable,te.droppable,T,N,R,c,b,i]);return it.createElement(Md.Provider,{value:ee},n)}const d0=s=>{let{id:n,items:t,activeIndex:r,overIndex:i}=s;return Mr(t,r,i).indexOf(n)},c0=s=>{let{containerId:n,isSorting:t,wasDragging:r,index:i,items:a,newIndex:o,previousItems:m,previousContainerId:c,transition:p}=s;return!p||!r||m!==a&&i===o?!1:t?!0:o!==i&&n===c},u0={duration:200,easing:"ease"},Id="transform",p0=on.Transition.toString({property:Id,duration:0,easing:"linear"}),f0={roleDescription:"sortable"};function g0(s){let{disabled:n,index:t,node:r,rect:i}=s;const[a,o]=d.useState(null),m=d.useRef(t);return bs(()=>{if(!n&&t!==m.current&&r.current){const c=i.current;if(c){const p=Nn(r.current,{ignoreTransform:!0}),u={x:c.left-p.left,y:c.top-p.top,scaleX:c.width/p.width,scaleY:c.height/p.height};(u.x||u.y)&&o(u)}}t!==m.current&&(m.current=t)},[n,t,r,i]),d.useEffect(()=>{a&&o(null)},[a]),a}function Td(s){let{animateLayoutChanges:n=c0,attributes:t,disabled:r,data:i,getNewIndex:a=d0,id:o,strategy:m,resizeObserverConfig:c,transition:p=u0}=s;const{items:u,containerId:f,activeIndex:b,disabled:N,disableTransforms:j,sortedRects:x,overIndex:R,useDragOverlay:I,strategy:y}=d.useContext(Md),T=N0(r,N),te=u.indexOf(o),ee=d.useMemo(()=>({sortable:{containerId:f,index:te,items:u},...i}),[f,i,te,u]),L=d.useMemo(()=>u.slice(u.indexOf(o)),[u,o]),{rect:z,node:se,isOver:oe,setNodeRef:ce}=i0({id:o,data:ee,disabled:T.droppable,resizeObserverConfig:{updateMeasurementsFor:L,...c}}),{active:De,activatorEvent:Q,activeNodeRect:ne,attributes:xe,setNodeRef:Ee,listeners:He,isDragging:Ve,over:Ge,setActivatorNodeRef:de,transform:Ae}=t0({id:o,data:ee,attributes:{...f0,...t},disabled:T.draggable}),Ue=Mb(ce,Ee),he=!!De,Re=he&&!j&&pr(b)&&pr(R),$e=!I&&Ve,qe=$e&&Re?Ae:null,B=Re?qe??(m??y)({rects:x,activeNodeRect:ne,activeIndex:b,overIndex:R,index:te}):null,ge=pr(b)&&pr(R)?a({id:o,items:u,activeIndex:b,overIndex:R}):te,me=De==null?void 0:De.id,_e=d.useRef({activeId:me,items:u,newIndex:ge,containerId:f}),G=u!==_e.current.items,C=n({active:De,containerId:f,isDragging:Ve,isSorting:he,id:o,index:te,items:u,newIndex:_e.current.newIndex,previousItems:_e.current.items,previousContainerId:_e.current.containerId,transition:p,wasDragging:_e.current.activeId!=null}),le=g0({disabled:!C,index:te,node:se,rect:z});return d.useEffect(()=>{he&&_e.current.newIndex!==ge&&(_e.current.newIndex=ge),f!==_e.current.containerId&&(_e.current.containerId=f),u!==_e.current.items&&(_e.current.items=u)},[he,ge,f,u]),d.useEffect(()=>{if(me===_e.current.activeId)return;if(me&&!_e.current.activeId){_e.current.activeId=me;return}const H=setTimeout(()=>{_e.current.activeId=me},50);return()=>clearTimeout(H)},[me]),{active:De,activeIndex:b,attributes:xe,data:ee,rect:z,index:te,newIndex:ge,items:u,isOver:oe,isSorting:he,isDragging:Ve,listeners:He,node:se,overIndex:R,over:Ge,setNodeRef:Ue,setActivatorNodeRef:de,setDroppableNodeRef:ce,setDraggableNodeRef:Ee,transform:le??B,transition:D()};function D(){if(le||G&&_e.current.newIndex===te)return p0;if(!($e&&!La(Q)||!p)&&(he||C))return on.Transition.toString({...p,property:Id})}}function N0(s,n){var t,r;return typeof s=="boolean"?{draggable:s,droppable:!1}:{draggable:(t=s==null?void 0:s.draggable)!=null?t:n.draggable,droppable:(r=s==null?void 0:s.droppable)!=null?r:n.droppable}}function Ir(s){if(!s)return!1;const n=s.data.current;return!!(n&&"sortable"in n&&typeof n.sortable=="object"&&"containerId"in n.sortable&&"items"in n.sortable&&"index"in n.sortable)}const b0=[ut.Down,ut.Right,ut.Up,ut.Left],x0=(s,n)=>{let{context:{active:t,collisionRect:r,droppableRects:i,droppableContainers:a,over:o,scrollableAncestors:m}}=n;if(b0.includes(s.code)){if(s.preventDefault(),!t||!r)return;const c=[];a.getEnabled().forEach(f=>{if(!f||f!=null&&f.disabled)return;const b=i.get(f.id);if(b)switch(s.code){case ut.Down:r.top<b.top&&c.push(f);break;case ut.Up:r.top>b.top&&c.push(f);break;case ut.Left:r.left>b.left&&c.push(f);break;case ut.Right:r.left<b.left&&c.push(f);break}});const p=ex({collisionRect:r,droppableRects:i,droppableContainers:c});let u=Dd(p,"id");if(u===(o==null?void 0:o.id)&&p.length>1&&(u=p[1].id),u!=null){const f=a.get(t.id),b=a.get(u),N=b?i.get(b.id):null,j=b==null?void 0:b.node.current;if(j&&N&&f&&b){const R=ri(j).some((L,z)=>m[z]!==L),I=Fd(f,b),y=y0(f,b),T=R||!I?{x:0,y:0}:{x:y?r.width-N.width:0,y:y?r.height-N.height:0},te={x:N.left,y:N.top};return T.x&&T.y?te:Tn(te,T)}}}};function Fd(s,n){return!Ir(s)||!Ir(n)?!1:s.data.current.sortable.containerId===n.data.current.sortable.containerId}function y0(s,n){return!Ir(s)||!Ir(n)||!Fd(s,n)?!1:s.data.current.sortable.index<n.data.current.sortable.index}const Qi=s=>{if(!s)return"";const n=s.split(",").map(m=>m.trim());if(n.length===0)return"";if(n.length===1)return n[0]===""?"":n[0];const t=["","","",""],r=n.sort((m,c)=>t.indexOf(m)-t.indexOf(c)),i=r[0],a=r[r.length-1];return`${i}-${a===""?"":a}`},Zi=s=>{if(!s)return"";const n=s.split(",").map(t=>t.trim());return n.includes("")?"bg-purple-100 text-purple-700":n.includes("")?"bg-blue-100 text-blue-700":n.includes("")?"bg-green-100 text-green-700":n.includes("")?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700"},h0=({item:s,onEdit:n,onDelete:t,onImageClick:r})=>{const{attributes:i,listeners:a,setNodeRef:o,transform:m,transition:c,isDragging:p}=Td({id:s.id}),u={transform:on.Transform.toString(m),transition:c,opacity:p?.5:1};return e.jsxDEV("div",{ref:o,style:u,...i,...a,className:"bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow border border-gray-200 overflow-hidden flex flex-col group relative cursor-move",children:[e.jsxDEV("div",{className:"w-full aspect-square bg-gray-100 flex-shrink-0 relative",children:[s.image_url?e.jsxDEV("img",{src:s.image_url,alt:s.name,className:"w-full h-full object-contain block cursor-pointer",onClick:f=>{f.stopPropagation(),r(s)},onPointerDown:f=>f.stopPropagation()},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:122,columnNumber:11},void 0):e.jsxDEV("div",{className:"w-full h-full flex items-center justify-center text-gray-400 text-xs",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:133,columnNumber:11},void 0),e.jsxDEV("div",{className:"absolute top-2 right-2 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsxDEV("button",{onClick:f=>{f.stopPropagation(),n(s)},onPointerDown:f=>f.stopPropagation(),className:"p-1.5 bg-white text-gray-700 hover:bg-gray-100 rounded-md shadow-md transition-colors",title:"",children:e.jsxDEV($s,{className:"w-3.5 h-3.5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:149,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:140,columnNumber:11},void 0),e.jsxDEV("button",{onClick:f=>{f.stopPropagation(),t(s.id)},onPointerDown:f=>f.stopPropagation(),className:"p-1.5 bg-white text-rose-600 hover:bg-rose-50 rounded-md shadow-md transition-colors",title:"",children:e.jsxDEV(bt,{className:"w-3.5 h-3.5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:160,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:151,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:139,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:120,columnNumber:7},void 0),e.jsxDEV("div",{className:"p-2 pt-1.5 flex flex-col flex-1",children:[e.jsxDEV("div",{className:"flex items-start justify-between mb-1",children:[e.jsxDEV("div",{className:"flex items-center gap-1.5",children:[e.jsxDEV("span",{className:"inline-block px-1.5 py-0.5 text-xs bg-gray-100 text-gray-700 rounded",children:s.category},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:169,columnNumber:13},void 0),s.brand&&e.jsxDEV("span",{className:"text-xs text-gray-500",children:s.brand},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:173,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:168,columnNumber:11},void 0),s.grade&&e.jsxDEV("span",{className:`hidden md:inline-block px-1 py-0.5 text-[10px] rounded ${Zi(s.grade)}`,children:Qi(s.grade)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:177,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:167,columnNumber:9},void 0),e.jsxDEV("div",{className:"flex items-baseline justify-between gap-1 mt-auto",children:[e.jsxDEV("div",{className:"flex items-baseline gap-1 min-w-0",children:e.jsxDEV("h3",{className:"font-semibold text-xs text-gray-900 truncate",children:s.name},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:184,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:183,columnNumber:11},void 0),s.price&&e.jsxDEV("span",{className:"hidden md:inline text-xs text-gray-900 font-medium flex-shrink-0",children:[s.price,""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:187,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:182,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:166,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:111,columnNumber:5},void 0)},k0=({category:s,onRemove:n,onEdit:t})=>{const{attributes:r,listeners:i,setNodeRef:a,transform:o,transition:m,isDragging:c}=Td({id:s}),p={transform:on.Transform.toString(o),transition:m,opacity:c?.5:1};return e.jsxDEV("div",{ref:a,style:p,className:"flex items-center justify-between p-3 hover:bg-gray-50 border-b border-gray-100 last:border-b-0 bg-white",children:[e.jsxDEV("div",{className:"flex items-center gap-2 flex-1 cursor-grab active:cursor-grabbing",...r,...i,children:e.jsxDEV("span",{className:"text-sm text-gray-900",children:s},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:231,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:226,columnNumber:7},void 0),s!==""&&e.jsxDEV("div",{className:"flex items-center gap-1",children:[e.jsxDEV("button",{onClick:u=>{u.stopPropagation(),u.preventDefault(),t(s)},className:"text-gray-600 hover:text-gray-800 transition-colors p-1",title:"",type:"button",children:e.jsxDEV($s,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:245,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:235,columnNumber:11},void 0),e.jsxDEV("button",{onClick:u=>{u.stopPropagation(),u.preventDefault(),n(s)},className:"text-red-500 hover:text-red-700 transition-colors p-1",title:"",type:"button",children:e.jsxDEV(bt,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:257,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:247,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:234,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:221,columnNumber:5},void 0)},v0=()=>{var Ft;const{user:s}=Mt(),n=Qt(),t=(s==null?void 0:s.name)==="",[r,i]=d.useState(()=>t||localStorage.getItem("specBook_lastProject")?"project":"library"),[a,o]=d.useState([]),[m,c]=d.useState([]),[p,u]=d.useState([]),[f,b]=d.useState([]),[N,j]=d.useState(""),[x,R]=d.useState([]),[I,y]=d.useState(()=>{const V=localStorage.getItem("specBook_lastProject");return V?Number(V):null}),[T,te]=d.useState(!0),[ee,L]=d.useState(null),[z,se]=d.useState({name:"",category:"",brand:"",price:"",grades:[""],imageData:null}),[oe,ce]=d.useState([]),[De,Q]=d.useState(!1),[ne,xe]=d.useState(!1),[Ee,He]=d.useState([]),[Ve,Ge]=d.useState(""),[de,Ae]=d.useState(!1),[Ue,he]=d.useState(null),[Re,$e]=d.useState([]),[qe,Oe]=d.useState(null),[B,ge]=d.useState(!1),[me,_e]=d.useState(!1),[G,C]=d.useState(1),[le,D]=d.useState({x:0,y:0}),[H,ie]=d.useState(!1),[Ce,Te]=d.useState({x:0,y:0}),[ze,U]=d.useState(null),[J,Z]=d.useState(null),[P,v]=d.useState(!1),[$,re]=d.useState(0),[O,g]=d.useState(!1),[E,S]=d.useState(null),[K,ke]=d.useState(!1),[ye,We]=d.useState(null),[Je,mt]=d.useState(null),nt=d.useRef(null),st=d.useRef(null),at=d.useRef(null),Nt=d.useRef([]),A=d.useRef(!0),[Ne,be]=d.useState(null),[ve,Be]=d.useState(!1),Pe=Qb(Oo(Sa),Oo(Ba,{coordinateGetter:x0})),l=(V,pe)=>{const Se=V.clientX-pe.clientX,Qe=V.clientY-pe.clientY;return Math.sqrt(Se*Se+Qe*Qe)},h=(V,pe)=>({x:(V.clientX+pe.clientX)/2,y:(V.clientY+pe.clientY)/2});d.useEffect(()=>(A.current=!0,()=>{A.current=!1}),[]),d.useEffect(()=>{w(),_()},[]),d.useEffect(()=>{q()},[n]),d.useEffect(()=>{W()},[r,N,I,oe]),d.useEffect(()=>{r==="project"&&I&&Y()},[r,I]),d.useEffect(()=>{I&&localStorage.setItem("specBook_lastProject",String(I))},[I]);const w=async()=>{try{const V=await Le.get("/specbook/categories");b(V.data)}catch(V){console.error("  :",V)}},q=async()=>{try{const V=n.map(Se=>({id:Se.id,title:Se.name}));console.log("  :",V.length,"",V),R(V);const pe=localStorage.getItem("specBook_lastProject");if(pe&&V.length>0){const Se=Number(pe);if(V.find(dt=>dt.id===Se)){y(Se),i("project");return}}t&&V.length>0&&!I&&(y(V[0].id),i("project"))}catch(V){console.error("  :",V)}},_=async()=>{try{const V=await Le.get("/specbook/library");c(V.data)}catch(V){console.error("    :",V)}},Y=async()=>{if(I)try{const V=await Le.get(`/specbook/project/${I}`);u(V.data)}catch(V){console.error("    :",V)}},W=async()=>{try{te(!0);const V={};N!==""&&(V.category=N),oe.length>0&&(V.grades=oe.join(","));let pe;if(r==="library")pe=await Le.get("/specbook/library",{params:V});else{if(!I){o([]),te(!1);return}pe=await Le.get(`/specbook/project/${I}`,{params:V})}A.current&&o(pe.data)}catch(V){console.error("   :",V),A.current&&M.error("   ")}finally{A.current&&te(!1)}},ue=V=>r==="library"?V===""?m.length:m.filter(pe=>pe.category===V).length:V===""?p.length:p.filter(pe=>pe.category===V).length,k=V=>{V.preventDefault(),Q(!1);const pe=V.dataTransfer.files[0];if(pe&&pe.type.startsWith("image/")){const Se=new FileReader;Se.onload=Qe=>{var dt;be((dt=Qe.target)==null?void 0:dt.result),Be(!0)},Se.readAsDataURL(pe)}},X=V=>{var Se;if(ve||de)return;const pe=(Se=V.clipboardData)==null?void 0:Se.items;if(pe){for(let Qe=0;Qe<pe.length;Qe++)if(pe[Qe].type.indexOf("image")!==-1){const dt=pe[Qe].getAsFile();if(dt){const pt=new FileReader;pt.onload=Ht=>{var xs;be((xs=Ht.target)==null?void 0:xs.result),Be(!0)},pt.readAsDataURL(dt)}}}};d.useEffect(()=>(document.addEventListener("paste",X),()=>document.removeEventListener("paste",X)),[z,ve,de]);const fe=V=>{const pe=V.replace(/[^\d]/g,"");return pe?pe.replace(/\B(?=(\d{3})+(?!\d))/g,","):""},we=V=>{const pe=fe(V.target.value);se({...z,price:pe})},Ie=async V=>{var pe,Se;if(V.preventDefault(),!z.name||!z.category){M.error("  ");return}if(z.grades.length===0){M.error("   ");return}try{const Qe=z.grades.join(",");if(ee){const dt={name:z.name,category:z.category,brand:z.brand,price:z.price,grade:Qe,description:"",imageData:z.imageData,projectId:r==="project"?I:null,isLibrary:r==="library"};await Le.put(`/specbook/base64/${ee.id}`,dt),M.success("  ")}else if(r==="project"&&I){const dt={name:z.name,category:z.category,brand:z.brand,price:z.price,grade:Qe,description:"",imageData:z.imageData,projectId:null,isLibrary:!0};await Le.post("/specbook/base64",dt);const pt={name:z.name,category:z.category,brand:z.brand,price:z.price,grade:Qe,description:"",imageData:z.imageData,projectId:I,isLibrary:!1};await Le.post("/specbook/base64",pt),M.success("    ")}else{const dt={name:z.name,category:z.category,brand:z.brand,price:z.price,grade:Qe,description:"",imageData:z.imageData,projectId:null,isLibrary:!0};await Le.post("/specbook/base64",dt),M.success("  ")}L(null),se({name:"",category:N!==""?N:"",brand:"",price:"",grades:[""],imageData:null}),W(),(r==="library"||r==="project"&&!ee)&&_(),r==="project"&&I&&Y()}catch(Qe){console.error("   :",Qe),M.error(((Se=(pe=Qe.response)==null?void 0:pe.data)==null?void 0:Se.error)||" ")}},Ye=V=>{L(V);const pe=V.grade?V.grade.includes(",")?V.grade.split(","):[V.grade]:[""];se({name:V.name,category:V.category,brand:V.brand,price:V.price,grades:pe,imageData:null}),window.scrollTo({top:0,behavior:"smooth"})},Fe=async V=>{if(confirm(" ?"))try{await Le.delete(`/specbook/${V}`),M.success("  "),W(),r==="library"?_():r==="project"&&I&&Y()}catch(pe){console.error(" :",pe),M.error(" ")}},et=()=>{L(null),se({name:"",category:N!==""?N:"",brand:"",price:"",grades:[""],imageData:null})},Ke=V=>{se({...z,imageData:V}),Be(!1),be(null)},tt=()=>{Be(!1),be(null)},F=V=>{he(V);const pe=V.sub_images||[];$e(pe),Nt.current=pe,Ae(!0)},ae=V=>{const pe=Array.from(V.target.files||[]);Me(pe)},Me=V=>{V.forEach(pe=>{if(pe.type.startsWith("image/")||pe.type==="application/pdf"){const Se=new FileReader;Se.onload=Qe=>{var pt;const dt=(pt=Qe.target)==null?void 0:pt.result;$e(Ht=>[...Ht,dt])},Se.readAsDataURL(pe)}else M.error(`   : ${pe.name}`)})},rt=V=>{V.preventDefault(),V.stopPropagation(),ge(!1);const pe=Array.from(V.dataTransfer.files);Me(pe)},Ze=V=>{var Qe;if(!de)return;const pe=(Qe=V.clipboardData)==null?void 0:Qe.items;if(!pe)return;const Se=[];for(let dt=0;dt<pe.length;dt++)if(pe[dt].type.indexOf("image")!==-1){const pt=pe[dt].getAsFile();pt&&Se.push(pt)}Se.length>0&&(Me(Se),M.success(`${Se.length}  `))};d.useEffect(()=>{if(de)return document.addEventListener("paste",Ze),()=>document.removeEventListener("paste",Ze)},[de]),d.useEffect(()=>{if(!(!Ue||!de||!(JSON.stringify(Re)!==JSON.stringify(Nt.current))))return at.current&&clearTimeout(at.current),at.current=setTimeout(async()=>{_e(!0);try{await Le.put(`/specbook/${Ue.id}/sub-images`,{sub_images:Re}),Nt.current=Re,W(),r==="library"?_():r==="project"&&I&&Y()}catch(pe){console.error("Sub    :",pe),M.error("   ")}finally{_e(!1)}},1e3),()=>{at.current&&clearTimeout(at.current)}},[Re,Ue,de]);const gt=V=>{$e(pe=>pe.filter((Se,Qe)=>Qe!==V))},ht=()=>{at.current&&clearTimeout(at.current),Ae(!1),he(null),$e([]),_e(!1)},kt=async V=>{const{active:pe,over:Se}=V;if(!Se||pe.id===Se.id)return;const Qe=a.findIndex(pt=>pt.id===pe.id),dt=a.findIndex(pt=>pt.id===Se.id);if(Qe!==-1&&dt!==-1){const pt=Mr(a,Qe,dt);o(pt);try{await Le.put("/specbook/reorder",{items:pt.map((Ht,xs)=>({id:Ht.id,display_order:xs}))}),M.success("  ")}catch(Ht){console.error("  :",Ht),M.error("  "),W()}}},vt=()=>{He([...f]),xe(!0)},Dt=()=>{xe(!1),Ge("")},Vt=async()=>{if(!Ve.trim()){M.error("  ");return}if(Ee.includes(Ve.trim())){M.error("  ");return}const V=[...Ee,Ve.trim()];He(V),Ge("");try{await Le.put("/specbook/categories",{categories:V}),b(V),M.success(" ")}catch(pe){console.error("   :",pe),M.error("   "),He(f)}},xt=async V=>{if(V===""){M.error("    ");return}const pe=window.prompt("   ",V);if(!pe||!pe.trim()||pe.trim()===V)return;if(Ee.includes(pe.trim())){M.error("  ");return}const Se=Ee.map(Qe=>Qe===V?pe.trim():Qe);He(Se);try{await Le.put("/specbook/categories",{categories:Se}),b(Se),M.success("  ")}catch(Qe){console.error("   :",Qe),M.error("   "),He(f)}},Rt=async V=>{if(V===""){M.error("    ");return}const pe=Ee.filter(Se=>Se!==V);He(pe);try{await Le.put("/specbook/categories",{categories:pe}),b(pe),M.success(" ")}catch(Se){console.error("   :",Se),M.error("   "),He(f)}},Yt=async V=>{const{active:pe,over:Se}=V;if(Se&&pe.id!==Se.id){const Qe=Ee.indexOf(pe.id),dt=Ee.indexOf(Se.id),pt=Mr(Ee,Qe,dt);He(pt);try{await Le.put("/specbook/categories",{categories:pt}),b(pt),M.success("  ")}catch(Ht){console.error("   :",Ht),M.error("   "),He(f)}}};return e.jsxDEV("div",{className:"flex flex-col h-[calc(100vh-120px)] bg-gray-50",children:[e.jsxDEV("div",{className:"specbook-container flex-1 flex flex-col md:flex-row gap-4 md:gap-6 overflow-hidden",children:[e.jsxDEV("div",{className:"specbook-sidebar hidden md:flex flex-col gap-4 w-80 lg:w-96 flex-shrink-0",children:[e.jsxDEV("div",{className:"specbook-form bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden flex flex-col",children:e.jsxDEV("form",{onSubmit:Ie,className:"flex flex-col pt-3",children:[e.jsxDEV("div",{className:"flex flex-col sm:flex-row gap-3 px-3",children:[e.jsxDEV("div",{onDragOver:V=>{V.preventDefault(),Q(!0)},onDragLeave:()=>Q(!1),onDrop:k,className:`w-full sm:w-48 aspect-square flex-shrink-0 border-2 border-dashed rounded-lg flex items-center justify-center cursor-pointer transition-colors ${De?"border-gray-500 bg-gray-50":"border-gray-300 hover:border-gray-400"}`,onClick:()=>{var V;return(V=nt.current)==null?void 0:V.click()},children:[z.imageData||ee!=null&&ee.image_url?e.jsxDEV("img",{src:z.imageData||(ee==null?void 0:ee.image_url)||"",alt:"Preview",className:"w-full h-full object-contain rounded-lg"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1019,columnNumber:23},void 0):e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV(gs,{className:"w-8 h-8 mx-auto mb-1 text-gray-400"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1026,columnNumber:25},void 0),e.jsxDEV("p",{className:"text-sm text-gray-500",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1027,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1025,columnNumber:23},void 0),e.jsxDEV("input",{ref:nt,type:"file",accept:"image/*",onChange:V=>{var Se;const pe=(Se=V.target.files)==null?void 0:Se[0];if(pe){const Qe=new FileReader;Qe.onload=dt=>{var pt;be((pt=dt.target)==null?void 0:pt.result),Be(!0)},Qe.readAsDataURL(pe)}V.target.value=""},className:"hidden"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1030,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1006,columnNumber:19},void 0),e.jsxDEV("div",{className:"flex-1 flex flex-col gap-2",children:[e.jsxDEV("div",{className:"space-y-1.5",children:[e.jsxDEV("select",{value:z.category,onChange:V=>se({...z,category:V.target.value}),className:"w-full px-2 py-1.5 text-xs border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-gray-500",required:!0,children:[e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1061,columnNumber:25},void 0),f.filter(V=>V!=="").map(V=>e.jsxDEV("option",{value:V,children:V},V,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1063,columnNumber:27},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1055,columnNumber:23},void 0),e.jsxDEV("input",{type:"text",value:z.brand,onChange:V=>se({...z,brand:V.target.value}),className:"w-full px-2 py-1.5 text-xs border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-gray-500",placeholder:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1067,columnNumber:23},void 0),e.jsxDEV("input",{type:"text",value:z.name,onChange:V=>se({...z,name:V.target.value}),className:"w-full px-2 py-1.5 text-xs border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-gray-500",placeholder:"",required:!0},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1075,columnNumber:23},void 0),e.jsxDEV("div",{className:"relative",children:[e.jsxDEV("input",{type:"text",value:z.price,onChange:we,className:"w-full px-2 py-1.5 text-xs border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-gray-500 pr-8",placeholder:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1085,columnNumber:25},void 0),e.jsxDEV("span",{className:"absolute right-2 top-1/2 -translate-y-1/2 text-xs text-gray-500",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1092,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1084,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1054,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex gap-1",children:["","","",""].map((V,pe)=>{const Se=pe===3?"":V;return e.jsxDEV("button",{type:"button",onClick:()=>{z.grades.includes(Se)?se({...z,grades:z.grades.filter(Qe=>Qe!==Se)}):se({...z,grades:[...z.grades,Se]})},className:`flex-1 px-1 py-1 text-xs font-medium rounded transition-colors ${z.grades.includes(Se)?Se===""?"bg-violet-500 text-white":Se===""?"bg-sky-500 text-white":Se===""?"bg-emerald-500 text-white":"bg-amber-400 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:V},Se,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1101,columnNumber:27},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1097,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex gap-1.5 mt-3",children:[e.jsxDEV("button",{type:"submit",className:"flex-1 px-3 py-1.5 text-xs bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors",children:ee?"":""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1128,columnNumber:23},void 0),ee&&e.jsxDEV("button",{type:"button",onClick:et,className:"px-3 py-1.5 text-xs bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1135,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1127,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1053,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1004,columnNumber:17},void 0),e.jsxDEV("div",{className:"p-3 pt-0"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1148,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1002,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1001,columnNumber:11},void 0),e.jsxDEV("div",{className:"specbook-grade-filter bg-white rounded-lg shadow-sm p-4 border border-gray-200",children:e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV("h3",{className:"text-sm font-semibold text-gray-900 mr-3",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1155,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex gap-2 flex-1",children:[["","","",""].map(V=>e.jsxDEV("button",{onClick:()=>{oe.includes(V)?ce(oe.filter(pe=>pe!==V)):ce([...oe,V])},className:`px-3 py-1.5 rounded text-xs font-medium transition-colors whitespace-nowrap ${oe.includes(V)?V===""?"bg-violet-500 text-white":V===""?"bg-sky-500 text-white":V===""?"bg-emerald-500 text-white":"bg-amber-400 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:V},V,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1158,columnNumber:19},void 0)),oe.length>0&&e.jsxDEV("button",{onClick:()=>ce([]),className:"px-3 py-1.5 rounded text-xs font-medium bg-gray-200 text-gray-700 hover:bg-gray-300 transition-colors whitespace-nowrap",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1180,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1156,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1154,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1153,columnNumber:11},void 0),e.jsxDEV("div",{className:"specbook-category bg-white rounded-lg shadow-sm p-4 border border-gray-200",children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-3",children:[e.jsxDEV("h3",{className:"text-sm font-semibold text-gray-900",children:["",r==="project"&&I&&e.jsxDEV("span",{className:"ml-1 text-gray-600",children:["(",(Ft=x.find(V=>V.id===I))==null?void 0:Ft.title,")"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1197,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1194,columnNumber:15},void 0),e.jsxDEV("button",{onClick:vt,className:"p-1 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded transition-colors",title:" ",children:e.jsxDEV(cm,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1207,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1202,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1193,columnNumber:13},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:f.map(V=>{const pe=ue(V),Se=(r==="library"||r==="project"&&I)&&pe>0;return e.jsxDEV("button",{onClick:()=>j(V),className:`px-2 py-1.5 rounded text-xs font-medium transition-colors ${N===V?"bg-gray-800 text-white":"bg-gray-50 text-gray-700 hover:bg-gray-100"}`,children:[V,Se&&e.jsxDEV("span",{className:`ml-1 ${N===V?"text-gray-300":"text-gray-400"}`,children:["(",pe,")"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1228,columnNumber:23},void 0)]},V,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1217,columnNumber:19},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1210,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1192,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:999,columnNumber:9},void 0),r==="library"?e.jsxDEV("div",{className:"specbook-main flex-1 flex flex-col overflow-hidden pr-4 pt-3",children:[e.jsxDEV("div",{className:"mb-4 px-4",children:e.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 gap-2 lg:gap-4",children:[!t&&e.jsxDEV("button",{onClick:()=>{i("library"),y(null)},className:`col-span-1 lg:col-span-1 h-9 rounded-lg font-medium transition-colors text-xs md:text-sm flex items-center justify-center ${r==="library"?"bg-gray-800 text-white":"bg-gray-200 text-gray-700"}`,children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1249,columnNumber:17},void 0),e.jsxDEV("select",{value:I||"",onChange:V=>{V.target.value?(i("project"),y(Number(V.target.value))):t||(i("library"),y(null))},className:`specbook-header-project-select col-span-1 lg:col-span-1 ${t?"":"lg:col-start-4"} h-9 border border-gray-300 rounded-lg focus:outline-none bg-white text-xs md:text-sm px-1 md:px-2`,children:[!t&&e.jsxDEV("option",{value:"",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1272,columnNumber:35},void 0),x.map(V=>e.jsxDEV("option",{value:V.id,children:V.title},V.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1274,columnNumber:19},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1259,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1247,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1246,columnNumber:11},void 0),e.jsxDEV("div",{className:"specbook-content flex-1 flex flex-col md:flex-row overflow-hidden",children:[e.jsxDEV("div",{className:"specbook-library w-full md:w-1/2 flex flex-col overflow-hidden pb-4 md:pr-3",children:e.jsxDEV("div",{className:"flex-1 overflow-y-auto bg-gray-50 rounded-lg p-4",children:T?e.jsxDEV("div",{className:"flex items-center justify-center h-full",children:e.jsxDEV("div",{className:"text-gray-500",children:" ..."},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1288,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1287,columnNumber:13},void 0):a.length===0?e.jsxDEV("div",{className:"flex items-center justify-center h-full text-gray-500 text-sm",children:"   "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1291,columnNumber:13},void 0):e.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-3 gap-4",children:a.map(V=>e.jsxDEV("div",{draggable:!0,onDragStart:pe=>{ke(!0),pe.dataTransfer.setData("itemId",V.id.toString()),pe.dataTransfer.effectAllowed="copy"},onDragEnd:()=>{ke(!1),We(null)},className:"bg-white rounded-lg shadow-sm hover:shadow-md transition-all border border-gray-200 overflow-hidden cursor-grab active:cursor-grabbing flex flex-col group relative",children:[e.jsxDEV("div",{className:"w-full aspect-square bg-gray-100 relative",onMouseDown:pe=>{We({x:pe.clientX,y:pe.clientY})},onClick:pe=>{!K&&ye&&Math.sqrt(Math.pow(pe.clientX-ye.x,2)+Math.pow(pe.clientY-ye.y,2))<5&&F(V),We(null)},children:V.image_url?e.jsxDEV("img",{src:V.image_url,alt:V.name,className:"w-full h-full object-contain pointer-events-none",draggable:!1},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1331,columnNumber:23},void 0):e.jsxDEV("div",{className:"w-full h-full flex items-center justify-center text-gray-400 text-xs pointer-events-none",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1338,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1311,columnNumber:19},void 0),e.jsxDEV("div",{className:"absolute top-2 right-2 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-auto",children:[e.jsxDEV("button",{onClick:pe=>{pe.stopPropagation(),Ye(V)},onPointerDown:pe=>pe.stopPropagation(),className:"p-1.5 bg-white text-gray-700 hover:bg-gray-100 rounded-md shadow-md transition-colors cursor-pointer",title:"",children:e.jsxDEV($s,{className:"w-3.5 h-3.5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1353,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1344,columnNumber:21},void 0),e.jsxDEV("button",{onClick:pe=>{pe.stopPropagation(),Fe(V.id)},onPointerDown:pe=>pe.stopPropagation(),className:"p-1.5 bg-white text-rose-600 hover:bg-rose-50 rounded-md shadow-md transition-colors cursor-pointer",title:"",children:e.jsxDEV(bt,{className:"w-3.5 h-3.5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1364,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1355,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1343,columnNumber:19},void 0),e.jsxDEV("div",{className:"p-2 pt-1.5 flex flex-col flex-1",children:[e.jsxDEV("div",{className:"flex items-start justify-between mb-1",children:[e.jsxDEV("div",{className:"flex items-center gap-1.5",children:[e.jsxDEV("span",{className:"inline-block px-1.5 py-0.5 text-xs bg-gray-100 text-gray-700 rounded",children:V.category},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1370,columnNumber:25},void 0),V.brand&&e.jsxDEV("span",{className:"text-xs text-gray-500",children:V.brand},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1374,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1369,columnNumber:23},void 0),V.grade&&e.jsxDEV("span",{className:`hidden md:inline-block px-1.5 py-0.5 text-xs rounded ${Zi(V.grade)}`,children:Qi(V.grade)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1378,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1368,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex items-baseline justify-between gap-1 mt-auto",children:[e.jsxDEV("div",{className:"flex items-baseline gap-1 min-w-0",children:e.jsxDEV("h3",{className:"font-semibold text-xs text-gray-900 truncate",children:V.name},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1385,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1384,columnNumber:23},void 0),V.price&&e.jsxDEV("span",{className:"hidden md:inline text-xs text-gray-900 font-medium flex-shrink-0",children:[V.price,""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1388,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1383,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1367,columnNumber:19},void 0)]},V.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1297,columnNumber:17},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1295,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1285,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1284,columnNumber:13},void 0),e.jsxDEV("div",{className:"hidden md:block w-px bg-gray-300 self-stretch"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1399,columnNumber:13},void 0),e.jsxDEV("div",{className:"specbook-drop-zone hidden md:flex w-1/2 flex-col overflow-hidden pl-3 pb-4",children:[e.jsxDEV("div",{className:"specbook-drop-project-select hidden mb-2",children:e.jsxDEV("select",{value:I||"",onChange:V=>{V.target.value&&(i("project"),y(Number(V.target.value)))},className:"h-9 border border-gray-300 rounded-lg focus:outline-none bg-white text-sm px-3",children:[e.jsxDEV("option",{value:"",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1414,columnNumber:19},void 0),x.map(V=>e.jsxDEV("option",{value:V.id,children:V.title},V.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1416,columnNumber:21},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1404,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1403,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex-1 overflow-y-auto bg-gray-50 rounded-lg p-4 border-2 border-dashed border-gray-300 transition-colors",onDragOver:V=>{V.preventDefault(),V.currentTarget.classList.add("bg-blue-50","border-blue-400")},onDragLeave:V=>{V.currentTarget.classList.remove("bg-blue-50","border-blue-400")},onDrop:V=>{V.preventDefault(),V.currentTarget.classList.remove("bg-blue-50","border-blue-400");const pe=V.dataTransfer.getData("itemId");pe&&(S(Number(pe)),g(!0))},children:e.jsxDEV("div",{className:"flex items-center justify-center h-full text-gray-400 text-sm",children:[e.jsxDEV("span",{className:"specbook-drop-text-landscape",children:"   "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1442,columnNumber:19},void 0),e.jsxDEV("span",{className:"specbook-drop-text-portrait",children:"   "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1443,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1441,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1422,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1401,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1282,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1244,columnNumber:11},void 0):e.jsxDEV("div",{className:"specbook-main flex-1 flex flex-col overflow-hidden pr-4 pt-3",children:[e.jsxDEV("div",{className:"mb-4 px-4",children:e.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 gap-2 lg:gap-4",children:[!t&&e.jsxDEV("button",{onClick:()=>{i("library"),y(null)},className:"col-span-1 lg:col-span-1 h-9 rounded-lg font-medium transition-colors bg-gray-200 text-gray-700 text-xs md:text-sm flex items-center justify-center",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1456,columnNumber:19},void 0),e.jsxDEV("select",{value:I||"",onChange:V=>{V.target.value?(i("project"),y(Number(V.target.value))):t||(i("library"),y(null))},className:`specbook-header-project-select col-span-1 lg:col-span-1 ${t?"":"lg:col-start-4"} h-9 border border-gray-300 rounded-lg focus:outline-none bg-white text-xs md:text-sm px-1 md:px-2`,children:[!t&&e.jsxDEV("option",{value:"",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1479,columnNumber:37},void 0),x.map(V=>e.jsxDEV("option",{value:V.id,children:V.title},V.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1481,columnNumber:21},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1466,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1454,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1453,columnNumber:13},void 0),e.jsxDEV("div",{className:"specbook-content flex-1 flex flex-col md:flex-row overflow-hidden gap-4",children:[!t&&e.jsxDEV("div",{className:"specbook-library hidden md:flex md:w-1/2 flex-col overflow-hidden pb-4 md:pr-3",children:e.jsxDEV("div",{className:"flex-1 overflow-y-auto bg-gray-50 rounded-lg p-4",children:T?e.jsxDEV("div",{className:"flex items-center justify-center h-full",children:e.jsxDEV("div",{className:"text-gray-500",children:" ..."},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1496,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1495,columnNumber:19},void 0):m.length===0?e.jsxDEV("div",{className:"flex items-center justify-center h-full text-gray-500 text-sm",children:"  "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1499,columnNumber:19},void 0):e.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-3 gap-4",children:m.filter(V=>N===""||V.category===N).map(V=>e.jsxDEV("div",{draggable:!0,onDragStart:pe=>{ke(!0),pe.dataTransfer.setData("itemId",V.id.toString()),pe.dataTransfer.effectAllowed="copy"},onDragEnd:()=>{ke(!1),We(null)},className:"bg-white rounded-lg shadow-sm hover:shadow-md transition-all border border-gray-200 overflow-hidden cursor-grab active:cursor-grabbing flex flex-col",children:[e.jsxDEV("div",{className:"w-full aspect-square bg-gray-100",onMouseDown:pe=>{We({x:pe.clientX,y:pe.clientY})},onClick:pe=>{!K&&ye&&Math.sqrt(Math.pow(pe.clientX-ye.x,2)+Math.pow(pe.clientY-ye.y,2))<5&&F(V),We(null)},children:V.image_url?e.jsxDEV("img",{src:V.image_url,alt:V.name,className:"w-full h-full object-contain pointer-events-none",draggable:!1},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1541,columnNumber:29},void 0):e.jsxDEV("div",{className:"w-full h-full flex items-center justify-center text-gray-400 text-xs pointer-events-none",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1548,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1521,columnNumber:25},void 0),e.jsxDEV("div",{className:"p-2 pt-1.5 flex flex-col flex-1",children:[e.jsxDEV("div",{className:"flex items-start justify-between mb-1",children:[e.jsxDEV("div",{className:"flex items-center gap-1.5",children:[e.jsxDEV("span",{className:"inline-block px-1.5 py-0.5 text-xs bg-gray-100 text-gray-700 rounded",children:V.category},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1556,columnNumber:31},void 0),V.brand&&e.jsxDEV("span",{className:"text-xs text-gray-500",children:V.brand},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1560,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1555,columnNumber:29},void 0),V.grade&&e.jsxDEV("span",{className:`hidden md:inline-block px-1.5 py-0.5 text-xs rounded ${Zi(V.grade)}`,children:Qi(V.grade)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1564,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1554,columnNumber:27},void 0),e.jsxDEV("div",{className:"flex items-baseline justify-between gap-1 mt-auto",children:[e.jsxDEV("div",{className:"flex items-baseline gap-1 min-w-0",children:e.jsxDEV("h3",{className:"font-semibold text-xs text-gray-900 truncate",children:V.name},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1571,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1570,columnNumber:29},void 0),V.price&&e.jsxDEV("span",{className:"hidden md:inline text-xs text-gray-900 font-medium flex-shrink-0",children:[V.price,""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1574,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1569,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1553,columnNumber:25},void 0)]},V.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1507,columnNumber:23},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1503,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1493,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1492,columnNumber:17},void 0),!t&&e.jsxDEV("div",{className:"hidden md:block w-px bg-gray-300 self-stretch"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1587,columnNumber:15},void 0),e.jsxDEV("div",{className:`specbook-project w-full ${t?"":"md:w-1/2"} flex flex-col overflow-hidden ${t?"":"md:pl-3"} pb-4`,children:[e.jsxDEV("div",{className:"specbook-drop-project-select hidden mb-2",children:e.jsxDEV("select",{value:I||"",onChange:V=>{V.target.value?(i("project"),y(Number(V.target.value))):t||(i("library"),y(null))},className:"w-full h-9 border border-gray-300 rounded-lg focus:outline-none bg-white text-sm px-3",children:[!t&&e.jsxDEV("option",{value:"",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1606,columnNumber:37},void 0),x.map(V=>e.jsxDEV("option",{value:V.id,children:V.title},V.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1608,columnNumber:21},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1593,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1592,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex-1 overflow-y-auto bg-gray-50 rounded-lg p-4",onDragOver:V=>{V.preventDefault(),V.dataTransfer.dropEffect="copy"},onDrop:async V=>{V.preventDefault();const pe=V.dataTransfer.getData("itemId");if(pe&&I)try{const Se=m.find(Qe=>Qe.id===Number(pe));if(Se){const{id:Qe,created_at:dt,updated_at:pt,...Ht}=Se;await Le.post("/specbook/base64",{...Ht,isLibrary:!1,projectId:I}),M.success("  "),W(),Y()}}catch(Se){console.error("  :",Se),M.error("  ")}},children:T?e.jsxDEV("div",{className:"flex items-center justify-center h-full",children:e.jsxDEV("div",{className:"text-gray-500",children:" ..."},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1647,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1646,columnNumber:19},void 0):a.length===0?e.jsxDEV("div",{className:"flex items-center justify-center h-full text-gray-600 text-sm",children:[e.jsxDEV("span",{className:"specbook-drop-text-landscape",children:"   "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1651,columnNumber:21},void 0),e.jsxDEV("span",{className:"specbook-drop-text-portrait",children:"   "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1652,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1650,columnNumber:19},void 0):e.jsxDEV(nm,{sensors:Pe,collisionDetection:Yo,onDragEnd:kt,children:e.jsxDEV(am,{items:a.filter(V=>N===""||V.category===N).map(V=>V.id),strategy:im,children:e.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-3 gap-4",children:a.filter(V=>N===""||V.category===N).map(V=>e.jsxDEV(h0,{item:V,onEdit:Ye,onDelete:Fe,onImageClick:F},V.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1670,columnNumber:29},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1666,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1660,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1655,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1614,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1590,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1489,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1451,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:997,columnNumber:7},void 0),ne&&e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxDEV("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md mx-4",children:[e.jsxDEV("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[e.jsxDEV("h2",{className:"text-lg font-bold text-gray-900",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1694,columnNumber:15},void 0),e.jsxDEV("button",{onClick:Dt,className:"text-gray-500 hover:text-gray-700 transition-colors",children:e.jsxDEV(ot,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1699,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1695,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1693,columnNumber:13},void 0),e.jsxDEV("div",{className:"p-4",children:[e.jsxDEV("div",{className:"mb-4",children:e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV("input",{type:"text",value:Ve,onChange:V=>Ge(V.target.value),onKeyPress:V=>{V.key==="Enter"&&Vt()},className:"flex-1 px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",placeholder:"  "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1707,columnNumber:19},void 0),e.jsxDEV("button",{onClick:Vt,className:"px-4 py-2 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors flex items-center gap-1",children:[e.jsxDEV(Gt,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1723,columnNumber:21},void 0),""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1719,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1706,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1705,columnNumber:15},void 0),e.jsxDEV("div",{className:"mb-4",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  (  )"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1731,columnNumber:17},void 0),e.jsxDEV("div",{className:"max-h-120 overflow-y-auto border border-gray-200 rounded-lg",children:e.jsxDEV(nm,{sensors:Pe,collisionDetection:Yo,onDragEnd:Yt,children:e.jsxDEV(am,{items:Ee,strategy:im,children:Ee.map(V=>e.jsxDEV(k0,{category:V,onRemove:Rt,onEdit:xt},V,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1745,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1740,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1735,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1734,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1730,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex justify-center",children:e.jsxDEV("button",{onClick:Dt,className:"px-6 py-2 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1759,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1758,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1703,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1692,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1691,columnNumber:9},void 0),de&&Ue&&e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxDEV("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-6xl max-h-[90vh] overflow-hidden flex flex-col",children:[e.jsxDEV("div",{className:"flex items-center justify-between p-4 md:p-6 border-b border-gray-200",children:[e.jsxDEV("div",{children:[e.jsxDEV("h2",{className:"text-xl font-bold text-gray-900",children:Ue.name},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1778,columnNumber:17},void 0),e.jsxDEV("p",{className:"text-xs text-gray-500 mt-1",children:"    Ctrl+V /PDF   "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1779,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1777,columnNumber:15},void 0),e.jsxDEV("button",{onClick:ht,className:"text-gray-500 hover:text-gray-700 transition-colors",children:e.jsxDEV(ot,{className:"h-6 w-6"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1787,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1783,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1776,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex-1 overflow-y-auto p-4 md:p-6",onDragOver:V=>{V.preventDefault(),ge(!0)},onDragLeave:V=>{V.preventDefault(),ge(!1)},onDrop:rt,children:[e.jsxDEV("input",{ref:st,type:"file",accept:"image/*,application/pdf",multiple:!0,onChange:ae,className:"hidden"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1805,columnNumber:15},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:[Ue.image_url&&e.jsxDEV("div",{className:"relative group",children:[e.jsxDEV("div",{className:"aspect-square bg-gray-100 rounded-lg overflow-hidden border-2 border-blue-500 cursor-pointer hover:border-blue-600 transition-colors",onClick:()=>Oe(Ue.image_url),children:e.jsxDEV("img",{src:Ue.image_url,alt:" ",className:"w-full h-full object-contain"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1823,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1819,columnNumber:21},void 0),e.jsxDEV("div",{className:"absolute top-2 left-2 bg-blue-500 text-white text-xs font-bold px-2 py-1 rounded",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1829,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1818,columnNumber:19},void 0),Re.map((V,pe)=>{const Se=V.startsWith("data:application/pdf");return e.jsxDEV("div",{className:"relative group",children:[e.jsxDEV("div",{className:"aspect-square bg-gray-100 rounded-lg overflow-hidden border-2 border-gray-200 hover:border-gray-400 transition-colors cursor-pointer",onClick:()=>!Se&&Oe(V),children:Se?e.jsxDEV("div",{className:"w-full h-full flex flex-col items-center justify-center text-red-600",children:[e.jsxDEV("svg",{className:"h-16 w-16 mb-2",fill:"currentColor",viewBox:"0 0 24 24",children:[e.jsxDEV("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6z"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1847,columnNumber:31},void 0),e.jsxDEV("path",{d:"M14 2v6h6M10 12h4M10 16h4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1848,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1846,columnNumber:29},void 0),e.jsxDEV("span",{className:"text-xs font-medium",children:"PDF"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1850,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1845,columnNumber:27},void 0):e.jsxDEV("img",{src:V,alt:`  ${pe+1}`,className:"w-full h-full object-contain"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1853,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1840,columnNumber:23},void 0),e.jsxDEV("button",{onClick:()=>gt(pe),className:"absolute top-2 right-2 p-1.5 bg-gray-700 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity hover:bg-gray-800",children:e.jsxDEV(bt,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1864,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1860,columnNumber:23},void 0)]},pe,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1839,columnNumber:21},void 0)}),e.jsxDEV("div",{onClick:()=>{var V;return(V=st.current)==null?void 0:V.click()},className:"aspect-square border-2 border-dashed border-gray-300 rounded-lg flex items-center justify-center cursor-pointer hover:border-gray-400 hover:bg-gray-50 transition-colors",children:e.jsxDEV(Gt,{className:"h-12 w-12 text-gray-400"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1875,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1871,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1815,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1792,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex items-center justify-center p-4 border-t border-gray-200 bg-gray-50",children:e.jsxDEV("div",{className:"flex items-center gap-4",children:[e.jsxDEV("p",{className:"text-sm text-gray-600",children:[" ",(Ue.image_url?1:0)+Re.length," "]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1884,columnNumber:17},void 0),me&&e.jsxDEV("p",{className:"text-sm text-blue-600 flex items-center gap-2",children:[e.jsxDEV("svg",{className:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsxDEV("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1890,columnNumber:23},void 0),e.jsxDEV("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1891,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1889,columnNumber:21},void 0)," ..."]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1888,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1883,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1882,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1774,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1773,columnNumber:9},void 0),qe&&e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-[60] overflow-hidden",onClick:V=>{V.target===V.currentTarget&&(Oe(null),C(1),D({x:0,y:0}),U(null),Z(null),v(!1))},onWheel:V=>{V.preventDefault();const pe=V.deltaY>0?-.1:.1;C(Se=>Math.max(.5,Math.min(5,Se+pe)))},children:[e.jsxDEV("div",{className:"absolute top-4 right-4 flex flex-col gap-2",children:[e.jsxDEV("button",{onClick:()=>{Oe(null),C(1),D({x:0,y:0}),U(null),Z(null),v(!1)},className:"p-2 bg-white bg-opacity-10 hover:bg-opacity-20 rounded-full transition-colors",children:e.jsxDEV(ot,{className:"h-6 w-6 text-white"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1935,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1924,columnNumber:13},void 0),e.jsxDEV("button",{onClick:V=>{V.stopPropagation(),C(pe=>Math.min(5,pe+.5))},className:"p-2 bg-white bg-opacity-10 hover:bg-opacity-20 rounded-full transition-colors",title:" (+)",children:e.jsxDEV("svg",{className:"h-6 w-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v6m3-3H7"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1946,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1945,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1937,columnNumber:13},void 0),e.jsxDEV("button",{onClick:V=>{V.stopPropagation(),C(pe=>Math.max(.5,pe-.5))},className:"p-2 bg-white bg-opacity-10 hover:bg-opacity-20 rounded-full transition-colors",title:" (-)",children:e.jsxDEV("svg",{className:"h-6 w-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM13 10H7"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1958,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1957,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1949,columnNumber:13},void 0),e.jsxDEV("button",{onClick:V=>{V.stopPropagation(),C(1),D({x:0,y:0})},className:"p-2 bg-white bg-opacity-10 hover:bg-opacity-20 rounded-full transition-colors",title:"",children:e.jsxDEV("svg",{className:"h-6 w-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1971,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1970,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1961,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1923,columnNumber:11},void 0),e.jsxDEV("div",{className:"absolute top-4 left-4 bg-white bg-opacity-10 text-white px-3 py-2 rounded-lg text-sm",children:[Math.round(G*100),"%"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1977,columnNumber:11},void 0),e.jsxDEV("div",{className:"w-full h-full flex items-center justify-center overflow-hidden",onMouseDown:V=>{G>1&&(ie(!0),Te({x:V.clientX-le.x,y:V.clientY-le.y}))},onMouseMove:V=>{H&&G>1&&D({x:V.clientX-Ce.x,y:V.clientY-Ce.y})},onMouseUp:()=>ie(!1),onMouseLeave:()=>ie(!1),onTouchStart:V=>{if(V.touches.length===2){V.preventDefault(),v(!0);const pe=l(V.touches[0],V.touches[1]),Se=h(V.touches[0],V.touches[1]);U(pe),Z(Se)}else if(V.touches.length===1&&G>1&&!P){const pe=V.touches[0];Te({x:pe.clientX-le.x,y:pe.clientY-le.y})}},onTouchMove:V=>{if(V.touches.length===2){V.preventDefault(),v(!0);const pe=l(V.touches[0],V.touches[1]),Se=h(V.touches[0],V.touches[1]);if(ze&&J){const Qe=pe/ze,dt=Math.max(.5,Math.min(5,G*Qe)),pt=Se.x-J.x,Ht=Se.y-J.y,xs=dt/G,oi=le.x*xs+pt,$d=le.y*xs+Ht;C(dt),D({x:oi,y:$d})}U(pe),Z(Se)}else if(V.touches.length===1&&G>1&&!P){V.preventDefault();const pe=V.touches[0];D({x:pe.clientX-Ce.x,y:pe.clientY-Ce.y})}},onTouchEnd:V=>{if(V.touches.length===0){const pe=Date.now(),Se=V.changedTouches[0],Qe={x:Se.clientX,y:Se.clientY};if(pe-$<300&&Je&&Math.abs(Qe.x-Je.x)<30&&Math.abs(Qe.y-Je.y)<30&&!P){if(G===1){const Ht=V.currentTarget.getBoundingClientRect(),xs=Qe.x-Ht.left-Ht.width/2,oi=Qe.y-Ht.top-Ht.height/2;C(2.5),D({x:-xs*1.5,y:-oi*1.5})}else C(1),D({x:0,y:0});re(0),mt(null)}else re(pe),mt(Qe);U(null),Z(null),v(!1)}else if(V.touches.length===1&&P){U(null),Z(null),v(!1);const pe=V.touches[0];Te({x:pe.clientX-le.x,y:pe.clientY-le.y})}},onDoubleClick:V=>{V.stopPropagation();const pe=V.currentTarget.getBoundingClientRect(),Se=V.clientX-pe.left-pe.width/2,Qe=V.clientY-pe.top-pe.height/2;G===1?(C(2.5),D({x:-Se*1.5,y:-Qe*1.5})):(C(1),D({x:0,y:0}))},children:e.jsxDEV("img",{src:qe,alt:" ",style:{transform:`scale(${G}) translate(${le.x/G}px, ${le.y/G}px)`,transformOrigin:"center center",transition:H||ze!==null?"none":"transform 0.25s cubic-bezier(0.2, 0, 0, 1)",maxWidth:"100%",maxHeight:"100%",objectFit:"contain",cursor:G>1?H?"grabbing":"grab":"pointer",userSelect:"none",touchAction:"none"},draggable:!1},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2120,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1982,columnNumber:11},void 0),e.jsxDEV("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 bg-white bg-opacity-10 text-white px-4 py-2 rounded-lg text-xs text-center",children:"     / |   |  2 /"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2139,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1904,columnNumber:9},void 0),O&&E&&e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxDEV("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[e.jsxDEV("h3",{className:"text-lg font-semibold mb-4",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2149,columnNumber:13},void 0),e.jsxDEV("p",{className:"text-sm text-gray-600 mb-4",children:"   "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2150,columnNumber:13},void 0),e.jsxDEV("div",{className:"max-h-96 overflow-y-auto space-y-2 mb-6",children:x.map(V=>e.jsxDEV("button",{onClick:async()=>{try{const pe=m.find(Se=>Se.id===E);if(pe){const{id:Se,created_at:Qe,updated_at:dt,...pt}=pe;await Le.post("/specbook/base64",{...pt,isLibrary:!1,projectId:V.id}),M.success(`"${V.title}"  `),Y()}}catch(pe){console.error("  :",pe),M.error("  ")}finally{g(!1),S(null)}},className:"w-full px-4 py-3 text-left border border-gray-200 rounded-lg hover:bg-blue-50 hover:border-blue-300 transition-colors",children:e.jsxDEV("div",{className:"font-medium text-gray-900",children:V.title},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2180,columnNumber:19},void 0)},V.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2155,columnNumber:17},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2153,columnNumber:13},void 0),e.jsxDEV("button",{onClick:()=>{g(!1),S(null)},className:"w-full px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2184,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2148,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2147,columnNumber:9},void 0),ve&&Ne&&e.jsxDEV(Rb,{image:Ne,onCropComplete:Ke,onCancel:tt,aspectRatio:1},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2199,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:992,columnNumber:5},void 0)},D0=()=>{var xe,Ee,He,Ve,Ge,de,Ae,Ue,he,Re,$e,qe,Oe,B,ge,me,_e,G,C,le,D,H,ie,Ce,Te,ze,U,J,Z,P,v,$,re,O;const{user:s}=Mt();if(!s||s.role!=="admin"&&s.role!=="manager")return e.jsxDEV(Tr,{to:"/dashboard",replace:!0},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:75,columnNumber:12},void 0);const[n,t]=d.useState({projectName:"",clientName:"",areaSize:0,residenceType:[],grade:[],finishType:"",bathroomCount:[],ceilingHeight:[],expansionWork:[],livingRoomExpansion:!1,roomExpansion:!1,roomExpansionCount:0,kitchenExpansion:!1,floorMaterial:[],wallMaterial:[],ceilingMaterial:[],furnitureWork:[],furnitureHardwareGrade:[],kitchenCountertop:[],switchPublic:[],switchRoom:[],lightingType:[],indirectLightingPublic:[],indirectLightingRoom:[],bathroomCeiling:[],bathroomTileGrade:[],bathroomFaucet:[],bathroomTile:[],bathroomGrout:[],moldingPublic:[],moldingRoom:[],includeSash:!1,includeGrooving:!1,includeBangtong:!1,includeAircon:!1,airconCount:1,airconType:[]}),[r,i]=d.useState(null),[a,o]=d.useState(!1),[m,c]=d.useState([]),[p,u]=d.useState("form"),[f,b]=d.useState(null),[N,j]=d.useState({floor:{},wall:{},furniture:{},countertop:{},switch:{},lighting:{},indirectLighting:{},molding:{},bathroom:{ceiling:{},faucet:{},tile:{},grout:{}},expansion:{}});d.useEffect(()=>{x(),R()},[]),d.useEffect(()=>{if(!n.areaSize||n.areaSize<=0||n.grade.length===0){i(null);return}const g=setTimeout(()=>{z()},500);return()=>clearTimeout(g)},[n]),d.useEffect(()=>{if(!N.floor||Object.keys(N.floor).length===0)return;const g=setTimeout(()=>{I()},500);return()=>clearTimeout(g)},[N]);const x=async()=>{try{const g=await Le.get("/estimate-preview/list");c(g.data)}catch(g){console.error("   :",g)}},R=async()=>{try{const g=await Le.get("/estimate-preview/settings/prices");g.data&&g.data.settings&&Object.keys(g.data.settings).length>0&&j(g.data.settings)}catch(g){console.error("   :",g)}},I=async()=>{try{await Le.post("/estimate-preview/settings/prices",{settings:N})}catch(g){console.error("   :",g)}},y=(g,E,S,K)=>{j(ke=>{const ye={...ke};return ye[g]||(ye[g]={}),ye[g][E]||(ye[g][E]={min:"",max:""}),ye[g][E][S]=K,ye})},T=(g,E,S,K)=>{j(ke=>{const ye={...ke};return ye.bathroom[g]||(ye.bathroom[g]={}),ye.bathroom[g][E]||(ye.bathroom[g][E]={min:"",max:""}),ye.bathroom[g][E][S]=K,ye})},te=g=>{const{name:E,value:S,type:K}=g.target;if(K==="checkbox"){const ke=g.target.checked;t(ye=>({...ye,[E]:ke}))}else t(E==="areaSize"||E==="bathroomCount"||E==="airconCount"||E==="roomExpansionCount"?ke=>({...ke,[E]:Number(S)||0}):ke=>({...ke,[E]:S}))},ee=(g,E)=>{const S=n[g];if(Array.isArray(S)){const K=S.includes(E)?S.filter(ke=>ke!==E):[...S,E];t(ke=>({...ke,[g]:K}))}},L=async()=>{if(!n.projectName){M.error(" ");return}if(!n.areaSize||n.areaSize<=0){M.error("  ");return}if(n.grade.length===0){M.error(" ");return}o(!0);try{const g={...n,residenceType:JSON.stringify(n.residenceType),grade:JSON.stringify(n.grade),bathroomCount:JSON.stringify(n.bathroomCount),ceilingHeight:JSON.stringify(n.ceilingHeight),expansionWork:JSON.stringify(n.expansionWork),floorMaterial:JSON.stringify(n.floorMaterial),wallMaterial:JSON.stringify(n.wallMaterial),ceilingMaterial:JSON.stringify(n.ceilingMaterial),furnitureWork:JSON.stringify(n.furnitureWork),furnitureHardwareGrade:JSON.stringify(n.furnitureHardwareGrade),kitchenCountertop:JSON.stringify(n.kitchenCountertop),switchPublic:JSON.stringify(n.switchPublic),switchRoom:JSON.stringify(n.switchRoom),lightingType:JSON.stringify(n.lightingType),indirectLightingPublic:JSON.stringify(n.indirectLightingPublic),indirectLightingRoom:JSON.stringify(n.indirectLightingRoom),bathroomCeiling:JSON.stringify(n.bathroomCeiling),bathroomTileGrade:JSON.stringify(n.bathroomTileGrade),bathroomFaucet:JSON.stringify(n.bathroomFaucet),bathroomTile:JSON.stringify(n.bathroomTile),bathroomGrout:JSON.stringify(n.bathroomGrout),moldingPublic:JSON.stringify(n.moldingPublic),moldingRoom:JSON.stringify(n.moldingRoom)},E=await Le.post("/estimate-preview/create",g);i(E.data),M.success(" "),x()}catch(g){console.error("  :",g),M.error("  ")}finally{o(!1)}},z=async()=>{o(!0);try{const g={...n,projectName:n.projectName||"",clientName:n.clientName||"",residenceType:JSON.stringify(n.residenceType),grade:JSON.stringify(n.grade),bathroomCount:JSON.stringify(n.bathroomCount),ceilingHeight:JSON.stringify(n.ceilingHeight),expansionWork:JSON.stringify(n.expansionWork),floorMaterial:JSON.stringify(n.floorMaterial),wallMaterial:JSON.stringify(n.wallMaterial),ceilingMaterial:JSON.stringify(n.ceilingMaterial),furnitureWork:JSON.stringify(n.furnitureWork),furnitureHardwareGrade:JSON.stringify(n.furnitureHardwareGrade),kitchenCountertop:JSON.stringify(n.kitchenCountertop),switchPublic:JSON.stringify(n.switchPublic),switchRoom:JSON.stringify(n.switchRoom),lightingType:JSON.stringify(n.lightingType),indirectLightingPublic:JSON.stringify(n.indirectLightingPublic),indirectLightingRoom:JSON.stringify(n.indirectLightingRoom),bathroomCeiling:JSON.stringify(n.bathroomCeiling),bathroomTileGrade:JSON.stringify(n.bathroomTileGrade),bathroomFaucet:JSON.stringify(n.bathroomFaucet),bathroomTile:JSON.stringify(n.bathroomTile),bathroomGrout:JSON.stringify(n.bathroomGrout),moldingPublic:JSON.stringify(n.moldingPublic),moldingRoom:JSON.stringify(n.moldingRoom)},E=await Le.post("/estimate-preview/calculate",g);i(E.data)}catch(g){console.error("   :",g),i(null)}finally{o(!1)}},se=async g=>{try{const S=(await Le.get(`/estimate-preview/${g}`)).data;t({projectName:S.project_name,clientName:S.client_name,areaSize:S.area_size,residenceType:S.residence_type?JSON.parse(S.residence_type):[],grade:S.grade,finishType:S.finish_type||"",bathroomCount:S.bathroom_count?JSON.parse(S.bathroom_count):[],ceilingHeight:S.ceiling_height?JSON.parse(S.ceiling_height):[],includeSash:S.include_sash===1,includeGrooving:S.include_grooving===1,includeBangtong:S.include_bangtong===1,includeAircon:S.include_aircon===1,airconCount:S.aircon_count||1,airconType:S.aircon_type?JSON.parse(S.aircon_type):[],floorMaterial:S.floor_material?JSON.parse(S.floor_material):[],wallMaterial:S.wall_material?JSON.parse(S.wall_material):[],ceilingMaterial:S.ceiling_material?JSON.parse(S.ceiling_material):[],furnitureWork:S.furniture_work?JSON.parse(S.furniture_work):[],furnitureHardwareGrade:S.furniture_hardware_grade?JSON.parse(S.furniture_hardware_grade):[],kitchenCountertop:S.kitchen_countertop?JSON.parse(S.kitchen_countertop):[],switchPublic:S.switch_public?JSON.parse(S.switch_public):[],switchRoom:S.switch_room?JSON.parse(S.switch_room):[],lightingType:S.lighting_type?JSON.parse(S.lighting_type):[],indirectLightingPublic:S.indirect_lighting_public?JSON.parse(S.indirect_lighting_public):[],indirectLightingRoom:S.indirect_lighting_room?JSON.parse(S.indirect_lighting_room):[],bathroomCeiling:S.bathroom_ceiling?JSON.parse(S.bathroom_ceiling):[],bathroomTileGrade:S.bathroom_tile_grade?JSON.parse(S.bathroom_tile_grade):[],bathroomFaucet:S.bathroom_faucet?JSON.parse(S.bathroom_faucet):[],bathroomTile:S.bathroom_tile?JSON.parse(S.bathroom_tile):[],bathroomGrout:S.bathroom_grout?JSON.parse(S.bathroom_grout):[],moldingPublic:S.molding_public?JSON.parse(S.molding_public):[],moldingRoom:S.molding_room?JSON.parse(S.molding_room):[]}),i({baseConstructionCost:S.base_construction_cost,fixtureCost:S.fixture_cost,sashCost:S.sash_cost,heatingCost:S.heating_cost,airconCost:S.aircon_cost,totalMinCost:S.total_min_cost,totalMaxCost:S.total_max_cost,detailBreakdown:S.detail_breakdown}),b(S),u("form"),M.success(" ")}catch(E){console.error("  :",E),M.error("  ")}},oe=async g=>{if(window.confirm("  ?"))try{await Le.delete(`/estimate-preview/${g}`),M.success(" "),x()}catch(E){console.error("  :",E),M.error("  ")}},ce=g=>new Intl.NumberFormat("ko-KR",{style:"currency",currency:"KRW",minimumFractionDigits:0}).format(g),De=()=>{t({projectName:"",clientName:"",areaSize:0,residenceType:[],grade:[],finishType:"",bathroomCount:[],ceilingHeight:[],includeSash:!1,includeGrooving:!1,includeBangtong:!1,includeAircon:!1,airconCount:1,airconType:[],livingRoomExpansion:!1,roomExpansion:!1,roomExpansionCount:0,kitchenExpansion:!1,floorMaterial:[],wallMaterial:[],ceilingMaterial:[],furnitureWork:[],furnitureHardwareGrade:[],kitchenCountertop:[],switchPublic:[],switchRoom:[],lightingType:[],indirectLightingPublic:[],indirectLightingRoom:[],bathroomCeiling:[],bathroomTileGrade:[],bathroomFaucet:[],bathroomTile:[],bathroomGrout:[],moldingPublic:[],moldingRoom:[]}),i(null),b(null)},Q=()=>{M.info("PDF    ")},ne={total:m.length,thisMonth:m.filter(g=>{const E=new Date(g.created_at),S=new Date;return E.getMonth()===S.getMonth()&&E.getFullYear()===S.getFullYear()}).length};return e.jsxDEV("div",{className:"space-y-3 md:space-y-4",children:[e.jsxDEV("div",{className:"border-b border-gray-200 flex items-center justify-between",children:[e.jsxDEV("nav",{className:"flex space-x-4 md:space-x-8",children:[{id:"form",label:" "},{id:"history",label:" ",count:ne.total,icon:lm},{id:"settings",label:" ",icon:cm}].map(g=>e.jsxDEV("button",{onClick:()=>u(g.id),className:Pt("py-3 md:py-4 px-1 border-b-2 font-medium text-xs md:text-sm transition-colors whitespace-nowrap flex items-center gap-2",p===g.id?"border-gray-700 text-gray-700":"border-transparent text-gray-400 hover:text-gray-700 hover:border-gray-300"),children:[g.icon&&e.jsxDEV(g.icon,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:516,columnNumber:28},void 0),g.label,g.count!==void 0&&g.count>0&&e.jsxDEV("span",{className:Pt("ml-1 py-0.5 px-1.5 rounded-full text-[10px] md:text-xs font-semibold",p===g.id?"bg-gray-700 text-white":"bg-gray-200 text-gray-600"),children:g.count},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:519,columnNumber:17},void 0)]},g.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:506,columnNumber:13},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:500,columnNumber:9},void 0),e.jsxDEV("button",{onClick:De,className:"px-3 md:px-4 py-2 bg-gray-700 text-white text-xs md:text-sm rounded hover:bg-gray-800 transition-colors flex items-center gap-2",children:[e.jsxDEV(Gt,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:533,columnNumber:11},void 0),e.jsxDEV("span",{className:"hidden md:inline",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:534,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:529,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:499,columnNumber:7},void 0),p==="form"&&e.jsxDEV("div",{className:"estimate-container grid grid-cols-1 lg:grid-cols-1 xl:grid-cols-2 gap-4 md:gap-6",children:[e.jsxDEV("div",{className:"estimate-form bg-white rounded-lg border border-gray-200 p-4 md:p-6",children:[e.jsxDEV("h2",{className:"text-base md:text-lg font-semibold text-gray-800 mb-4",children:"  "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:542,columnNumber:13},void 0),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxDEV("div",{className:"bg-gray-50 p-3 rounded-lg md:col-span-2",children:[e.jsxDEV("h3",{className:"text-sm font-bold text-gray-800 mb-2 pb-1 border-b border-gray-200",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:549,columnNumber:17},void 0),e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:[" ",e.jsxDEV("span",{className:"text-red-500",children:"*"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:556,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:555,columnNumber:23},void 0),e.jsxDEV("input",{type:"text",name:"projectName",value:n.projectName,onChange:te,className:"w-full px-3 py-2 text-sm border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-gray-400 focus:border-gray-400",placeholder:":  "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:558,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:554,columnNumber:21},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:[" ",e.jsxDEV("span",{className:"text-red-500",children:"*"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:569,columnNumber:28},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:568,columnNumber:23},void 0),e.jsxDEV("input",{type:"number",name:"areaSize",value:n.areaSize||"",onChange:te,className:"w-full px-3 py-2 text-sm border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-gray-400 focus:border-gray-400",placeholder:": 25",min:"1"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:571,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:567,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:553,columnNumber:19},void 0),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:584,columnNumber:23},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 md:flex md:flex-wrap gap-2",children:["","","","",""].map(g=>e.jsxDEV("label",{className:"flex items-center text-xs md:text-sm whitespace-nowrap",children:[e.jsxDEV("input",{type:"checkbox",checked:n.residenceType.includes(g),onChange:()=>ee("residenceType",g),className:"mr-1 rounded border-gray-300 text-gray-600 focus:ring-gray-400 flex-shrink-0"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:590,columnNumber:29},void 0),e.jsxDEV("span",{className:"text-gray-700",children:g},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:596,columnNumber:29},void 0)]},g,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:589,columnNumber:27},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:587,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:583,columnNumber:21},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:[" ",e.jsxDEV("span",{className:"text-red-500",children:"*"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:603,columnNumber:28},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:602,columnNumber:23},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 md:flex gap-2 md:gap-3",children:["","","",""].map(g=>e.jsxDEV("label",{className:"flex items-center text-xs md:text-sm whitespace-nowrap",children:[e.jsxDEV("input",{type:"checkbox",checked:n.grade.includes(g),onChange:()=>ee("grade",g),className:"mr-1.5 md:mr-2 rounded border-gray-300 text-gray-600 focus:ring-gray-400 flex-shrink-0"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:608,columnNumber:29},void 0),e.jsxDEV("span",{className:"text-gray-700",children:g},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:614,columnNumber:29},void 0)]},g,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:607,columnNumber:27},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:605,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:601,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:582,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:552,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:548,columnNumber:15},void 0),e.jsxDEV("div",{className:"bg-gray-50 p-3 rounded-lg",children:[e.jsxDEV("h3",{className:"text-sm font-bold text-gray-800 mb-2 pb-1 border-b border-gray-200",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:625,columnNumber:17},void 0),e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:630,columnNumber:21},void 0),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV("div",{className:"grid grid-cols-2 md:flex gap-2 md:gap-4",children:["","","",""].map(g=>e.jsxDEV("label",{className:"flex items-center text-xs md:text-sm whitespace-nowrap",children:[e.jsxDEV("input",{type:"checkbox",checked:n.floorMaterial.includes(g),onChange:()=>ee("floorMaterial",g),className:"mr-1.5 md:mr-2 rounded border-gray-300 text-gray-600 focus:ring-gray-400 flex-shrink-0"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:637,columnNumber:29},void 0),e.jsxDEV("span",{className:"text-gray-700",children:g},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:643,columnNumber:29},void 0)]},g,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:636,columnNumber:27},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:634,columnNumber:23},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 md:flex gap-2 md:gap-4",children:["600 ","800-900 ","1200 "].map(g=>e.jsxDEV("label",{className:"flex items-center text-xs md:text-sm whitespace-nowrap",children:[e.jsxDEV("input",{type:"checkbox",checked:n.floorMaterial.includes(g),onChange:()=>ee("floorMaterial",g),className:"mr-1.5 md:mr-2 rounded border-gray-300 text-gray-600 focus:ring-gray-400 flex-shrink-0"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:650,columnNumber:29},void 0),e.jsxDEV("span",{className:"text-gray-700",children:g},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:656,columnNumber:29},void 0)]},g,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:649,columnNumber:27},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:647,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:633,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:629,columnNumber:19},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" / "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:664,columnNumber:21},void 0),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:["","()","()","()","","","",""].map(g=>e.jsxDEV("label",{className:"flex items-center text-xs md:text-sm whitespace-nowrap",children:[e.jsxDEV("input",{type:"checkbox",checked:n.wallMaterial.includes(g),onChange:()=>ee("wallMaterial",g),className:"mr-1.5 md:mr-2 rounded border-gray-300 text-gray-600 focus:ring-gray-400 flex-shrink-0"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:680,columnNumber:29},void 0),e.jsxDEV("span",{className:"text-gray-700",children:g},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:686,columnNumber:29},void 0)]},g,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:679,columnNumber:27},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:668,columnNumber:23},void 0),e.jsxDEV("div",{className:"grid grid-cols-1",children:e.jsxDEV("label",{className:"flex items-center text-xs md:text-sm",children:[e.jsxDEV("input",{type:"checkbox",checked:n.wallMaterial.includes("()+()"),onChange:()=>ee("wallMaterial","()+()"),className:"mr-1.5 md:mr-2 rounded border-gray-300 text-gray-600 focus:ring-gray-400 flex-shrink-0"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:692,columnNumber:27},void 0),e.jsxDEV("span",{className:"text-gray-700 break-keep",children:"()+()"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:698,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:691,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:690,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:667,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:663,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:628,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:624,columnNumber:15},void 0),e.jsxDEV("div",{className:"bg-gray-50 p-3 rounded-lg",children:[e.jsxDEV("h3",{className:"text-sm font-bold text-gray-800 mb-2 pb-1 border-b border-gray-200",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:709,columnNumber:17},void 0),e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:715,columnNumber:23},void 0),e.jsxDEV("div",{className:"flex gap-2 md:gap-3",children:["0","1","2","3","4"].map(g=>e.jsxDEV("label",{className:"flex items-center text-xs md:text-sm",children:[e.jsxDEV("input",{type:"checkbox",checked:n.bathroomCount.includes(g),onChange:()=>ee("bathroomCount",g),className:"mr-1.5 md:mr-2 rounded border-gray-300 text-gray-600 focus:ring-gray-400 flex-shrink-0"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:721,columnNumber:29},void 0),e.jsxDEV("span",{className:"text-gray-700",children:g},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:727,columnNumber:29},void 0)]},g,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:720,columnNumber:27},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:718,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:714,columnNumber:21},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:733,columnNumber:23},void 0),e.jsxDEV("div",{className:"flex gap-2 md:gap-3",children:["2400","2400~2600","2600"].map(g=>e.jsxDEV("label",{className:"flex items-center text-xs md:text-sm whitespace-nowrap",children:[e.jsxDEV("input",{type:"checkbox",checked:n.ceilingHeight.includes(g),onChange:()=>ee("ceilingHeight",g),className:"mr-1.5 md:mr-2 rounded border-gray-300 text-gray-600 focus:ring-gray-400 flex-shrink-0"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:739,columnNumber:29},void 0),e.jsxDEV("span",{className:"text-gray-700",children:g},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:745,columnNumber:29},void 0)]},g,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:738,columnNumber:27},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:736,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:732,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:713,columnNumber:19},void 0),e.jsxDEV("div",{className:"pt-2",children:[e.jsxDEV("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:753,columnNumber:21},void 0),e.jsxDEV("div",{className:"grid grid-cols-1 md:flex gap-2 md:gap-4 md:flex-wrap",children:[e.jsxDEV("label",{className:"flex items-center text-xs md:text-sm whitespace-nowrap",children:[e.jsxDEV("input",{type:"checkbox",name:"livingRoomExpansion",checked:n.livingRoomExpansion,onChange:te,className:"mr-1.5 md:mr-2 rounded border-gray-300 text-gray-600 focus:ring-gray-400 flex-shrink-0"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:758,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-gray-700",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:765,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:757,columnNumber:23},void 0),e.jsxDEV("label",{className:"flex items-center text-xs md:text-sm whitespace-nowrap",children:[e.jsxDEV("input",{type:"checkbox",name:"kitchenExpansion",checked:n.kitchenExpansion,onChange:te,className:"mr-1.5 md:mr-2 rounded border-gray-300 text-gray-600 focus:ring-gray-400 flex-shrink-0"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:768,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-gray-700",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:775,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:767,columnNumber:23},void 0),e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV("label",{className:"flex items-center text-xs md:text-sm whitespace-nowrap",children:[e.jsxDEV("input",{type:"checkbox",name:"roomExpansion",checked:n.roomExpansion,onChange:te,className:"mr-1.5 md:mr-2 rounded border-gray-300 text-gray-600 focus:ring-gray-400 flex-shrink-0"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:779,columnNumber:27},void 0),e.jsxDEV("span",{className:"text-gray-700",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:786,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:778,columnNumber:25},void 0),n.roomExpansion&&e.jsxDEV("select",{name:"roomExpansionCount",value:n.roomExpansionCount,onChange:te,className:"ml-2 px-2 py-1 text-xs md:text-sm border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-gray-400",children:[e.jsxDEV("option",{value:0,children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:795,columnNumber:29},void 0),e.jsxDEV("option",{value:1,children:"1"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:796,columnNumber:29},void 0),e.jsxDEV("option",{value:2,children:"2"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:797,columnNumber:29},void 0),e.jsxDEV("option",{value:3,children:"3"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:798,columnNumber:29},void 0),e.jsxDEV("option",{value:4,children:"4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:799,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:789,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:777,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:756,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:752,columnNumber:19},void 0),e.jsxDEV("div",{className:"pt-2",children:[e.jsxDEV("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:807,columnNumber:21},void 0),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV("label",{className:"flex items-center text-xs md:text-sm",children:[e.jsxDEV("input",{type:"checkbox",name:"includeSash",checked:n.includeSash,onChange:te,className:"mr-1.5 md:mr-2 rounded border-gray-300 text-gray-600 focus:ring-gray-400 flex-shrink-0"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:812,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-gray-700",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:819,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:811,columnNumber:23},void 0),e.jsxDEV("label",{className:"flex items-center text-xs md:text-sm",children:[e.jsxDEV("input",{type:"checkbox",name:"includeGrooving",checked:n.includeGrooving,onChange:te,className:"mr-1.5 md:mr-2 rounded border-gray-300 text-gray-600 focus:ring-gray-400 flex-shrink-0"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:822,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-gray-700 break-keep",children:"(+)"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:829,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:821,columnNumber:23},void 0),e.jsxDEV("label",{className:"flex items-center text-xs md:text-sm",children:[e.jsxDEV("input",{type:"checkbox",name:"includeBangtong",checked:n.includeBangtong,onChange:te,className:"mr-1.5 md:mr-2 rounded border-gray-300 text-gray-600 focus:ring-gray-400 flex-shrink-0"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:832,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-gray-700 break-keep",children:"(++)"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:839,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:831,columnNumber:23},void 0),e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"flex items-center flex-wrap gap-2",children:[e.jsxDEV("label",{className:"flex items-center text-xs md:text-sm whitespace-nowrap",children:[e.jsxDEV("input",{type:"checkbox",name:"includeAircon",checked:n.includeAircon,onChange:te,className:"mr-1.5 md:mr-2 rounded border-gray-300 text-gray-600 focus:ring-gray-400 flex-shrink-0"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:844,columnNumber:29},void 0),e.jsxDEV("span",{className:"text-gray-700",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:851,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:843,columnNumber:27},void 0),n.includeAircon&&e.jsxDEV("select",{name:"airconCount",value:n.airconCount,onChange:te,className:"px-2 py-1 text-xs md:text-sm border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-gray-400",children:[1,2,3,4,5,6,7,8,9,10].map(g=>e.jsxDEV("option",{value:g,children:[g,""]},g,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:861,columnNumber:33},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:854,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:842,columnNumber:25},void 0),n.includeAircon&&e.jsxDEV("div",{className:"ml-0 md:ml-6 mt-2 flex gap-2 md:gap-3",children:["2 in 1"," "].map(g=>e.jsxDEV("label",{className:"flex items-center text-xs md:text-sm whitespace-nowrap",children:[e.jsxDEV("input",{type:"checkbox",checked:n.airconType.includes(g),onChange:()=>ee("airconType",g),className:"mr-1.5 md:mr-2 rounded border-gray-300 text-gray-600 focus:ring-gray-400 flex-shrink-0"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:870,columnNumber:33},void 0),e.jsxDEV("span",{className:"text-gray-700",children:g},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:876,columnNumber:33},void 0)]},g,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:869,columnNumber:31},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:867,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:841,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:810,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:806,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:712,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:708,columnNumber:15},void 0),e.jsxDEV("div",{className:"bg-gray-50 p-3 rounded-lg",children:[e.jsxDEV("h3",{className:"text-sm font-bold text-gray-800 mb-2 pb-1 border-b border-gray-200",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:889,columnNumber:17},void 0),e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"  "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:894,columnNumber:21},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxDEV("label",{className:"flex items-center text-xs md:text-sm whitespace-nowrap",children:[e.jsxDEV("input",{type:"checkbox",checked:n.furnitureWork.includes(""),onChange:()=>ee("furnitureWork",""),className:"mr-1.5 md:mr-2 rounded border-gray-300 text-gray-600 focus:ring-gray-400 flex-shrink-0"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:899,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-gray-700",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:905,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:898,columnNumber:23},void 0),e.jsxDEV("label",{className:"flex items-center text-xs md:text-sm whitespace-nowrap",children:[e.jsxDEV("input",{type:"checkbox",checked:n.furnitureWork.includes(""),onChange:()=>ee("furnitureWork",""),className:"mr-1.5 md:mr-2 rounded border-gray-300 text-gray-600 focus:ring-gray-400 flex-shrink-0"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:908,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-gray-700",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:914,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:907,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:897,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:893,columnNumber:19},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:919,columnNumber:21},void 0),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxDEV("label",{className:"flex items-center text-xs md:text-sm whitespace-nowrap",children:[e.jsxDEV("input",{type:"checkbox",checked:n.furnitureHardwareGrade.includes(" BLUM()"),onChange:()=>ee("furnitureHardwareGrade"," BLUM()"),className:"mr-1.5 md:mr-2 rounded border-gray-300 text-gray-600 focus:ring-gray-400 flex-shrink-0"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:925,columnNumber:27},void 0),e.jsxDEV("span",{className:"text-gray-700",children:" BLUM()"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:931,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:924,columnNumber:25},void 0),e.jsxDEV("label",{className:"flex items-center text-xs md:text-sm",children:[e.jsxDEV("input",{type:"checkbox",checked:n.furnitureHardwareGrade.includes("()+()"),onChange:()=>ee("furnitureHardwareGrade","()+()"),className:"mr-1.5 md:mr-2 rounded border-gray-300 text-gray-600 focus:ring-gray-400 flex-shrink-0"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:934,columnNumber:27},void 0),e.jsxDEV("span",{className:"text-gray-700 break-keep",children:"()+()"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:940,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:933,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:923,columnNumber:23},void 0),e.jsxDEV("div",{className:"grid grid-cols-1",children:e.jsxDEV("label",{className:"flex items-center text-xs md:text-sm",children:[e.jsxDEV("input",{type:"checkbox",checked:n.furnitureHardwareGrade.includes(" BLUM()+()"),onChange:()=>ee("furnitureHardwareGrade"," BLUM()+()"),className:"mr-1.5 md:mr-2 rounded border-gray-300 text-gray-600 focus:ring-gray-400 flex-shrink-0"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:945,columnNumber:27},void 0),e.jsxDEV("span",{className:"text-gray-700 break-keep",children:" BLUM()+()"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:951,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:944,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:943,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:922,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:918,columnNumber:19},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:957,columnNumber:21},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:["","","","",""].map(g=>e.jsxDEV("label",{className:"flex items-center text-xs md:text-sm whitespace-nowrap",children:[e.jsxDEV("input",{type:"checkbox",checked:n.kitchenCountertop.includes(g),onChange:()=>ee("kitchenCountertop",g),className:"mr-1.5 md:mr-2 rounded border-gray-300 text-gray-600 focus:ring-gray-400 flex-shrink-0"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:963,columnNumber:27},void 0),e.jsxDEV("span",{className:"text-gray-700",children:g},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:969,columnNumber:27},void 0)]},g,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:962,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:960,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:956,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:892,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:888,columnNumber:15},void 0),e.jsxDEV("div",{className:"bg-gray-50 p-3 rounded-lg",children:[e.jsxDEV("h3",{className:"text-sm font-bold text-gray-800 mb-2 pb-1 border-b border-gray-200",children:"/"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:979,columnNumber:17},void 0),e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"/ ()"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:984,columnNumber:21},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 gap-2",children:["()","()"," "," "].map(g=>e.jsxDEV("label",{className:"flex items-center text-xs md:text-sm",children:[e.jsxDEV("input",{type:"checkbox",checked:n.switchPublic.includes(g),onChange:()=>ee("switchPublic",g),className:"mr-1.5 md:mr-2 rounded border-gray-300 text-gray-600 focus:ring-gray-400 flex-shrink-0"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:990,columnNumber:27},void 0),e.jsxDEV("span",{className:"text-gray-700 whitespace-nowrap",children:g},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:996,columnNumber:27},void 0)]},g,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:989,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:987,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:983,columnNumber:19},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"/ ()"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1002,columnNumber:21},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 gap-2",children:["()","()"," "," "].map(g=>e.jsxDEV("label",{className:"flex items-center text-xs md:text-sm",children:[e.jsxDEV("input",{type:"checkbox",checked:n.switchRoom.includes(g),onChange:()=>ee("switchRoom",g),className:"mr-1.5 md:mr-2 rounded border-gray-300 text-gray-600 focus:ring-gray-400 flex-shrink-0"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1008,columnNumber:27},void 0),e.jsxDEV("span",{className:"text-gray-700 whitespace-nowrap",children:g},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1014,columnNumber:27},void 0)]},g,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1007,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1005,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1001,columnNumber:19},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1021,columnNumber:21},void 0),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV("div",{className:"grid grid-cols-2 gap-2",children:["",""].map(g=>e.jsxDEV("label",{className:"flex items-center text-xs md:text-sm whitespace-nowrap",children:[e.jsxDEV("input",{type:"checkbox",checked:n.lightingType.includes(g),onChange:()=>ee("lightingType",g),className:"mr-1.5 md:mr-2 rounded border-gray-300 text-gray-600 focus:ring-gray-400 flex-shrink-0"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1028,columnNumber:29},void 0),e.jsxDEV("span",{className:"text-gray-700",children:g},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1034,columnNumber:29},void 0)]},g,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1027,columnNumber:27},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1025,columnNumber:23},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 gap-2",children:["()","()"].map(g=>e.jsxDEV("label",{className:"flex items-center text-xs md:text-sm whitespace-nowrap",children:[e.jsxDEV("input",{type:"checkbox",checked:n.lightingType.includes(g),onChange:()=>ee("lightingType",g),className:"mr-1.5 md:mr-2 rounded border-gray-300 text-gray-600 focus:ring-gray-400 flex-shrink-0"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1041,columnNumber:29},void 0),e.jsxDEV("span",{className:"text-gray-700",children:g},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1047,columnNumber:29},void 0)]},g,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1040,columnNumber:27},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1038,columnNumber:23},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 gap-2",children:e.jsxDEV("label",{className:"flex items-center text-xs md:text-sm whitespace-nowrap",children:[e.jsxDEV("input",{type:"checkbox",checked:n.lightingType.includes("()"),onChange:()=>ee("lightingType","()"),className:"mr-1.5 md:mr-2 rounded border-gray-300 text-gray-600 focus:ring-gray-400 flex-shrink-0"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1053,columnNumber:27},void 0),e.jsxDEV("span",{className:"text-gray-700",children:"()"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1059,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1052,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1051,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1024,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1020,columnNumber:19},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" ()"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1067,columnNumber:23},void 0),e.jsxDEV("div",{className:"flex gap-3",children:["LED","T3 "].map(g=>e.jsxDEV("label",{className:"flex items-center text-sm",children:[e.jsxDEV("input",{type:"checkbox",checked:n.indirectLightingPublic.includes(g),onChange:()=>ee("indirectLightingPublic",g),className:"mr-2 rounded border-gray-300 text-gray-600 focus:ring-gray-400"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1073,columnNumber:29},void 0),e.jsxDEV("span",{className:"text-gray-700",children:g},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1079,columnNumber:29},void 0)]},g,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1072,columnNumber:27},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1070,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1066,columnNumber:21},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" ()"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1085,columnNumber:23},void 0),e.jsxDEV("div",{className:"flex gap-3",children:["LED","T3 "].map(g=>e.jsxDEV("label",{className:"flex items-center text-sm",children:[e.jsxDEV("input",{type:"checkbox",checked:n.indirectLightingRoom.includes(g),onChange:()=>ee("indirectLightingRoom",g),className:"mr-2 rounded border-gray-300 text-gray-600 focus:ring-gray-400"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1091,columnNumber:29},void 0),e.jsxDEV("span",{className:"text-gray-700",children:g},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1097,columnNumber:29},void 0)]},g,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1090,columnNumber:27},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1088,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1084,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1065,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:982,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:978,columnNumber:15},void 0),e.jsxDEV("div",{className:"bg-gray-50 p-3 rounded-lg",children:[e.jsxDEV("h3",{className:"text-sm font-bold text-gray-800 mb-2 pb-1 border-b border-gray-200",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1108,columnNumber:17},void 0),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" ()"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1113,columnNumber:21},void 0),e.jsxDEV("div",{className:"grid grid-cols-1 gap-2",children:["+","+","+","+"].map(g=>e.jsxDEV("label",{className:"flex items-center text-xs md:text-sm",children:[e.jsxDEV("input",{type:"checkbox",checked:n.moldingPublic.includes(g),onChange:()=>ee("moldingPublic",g),className:"mr-1.5 md:mr-2 rounded border-gray-300 text-gray-600 focus:ring-gray-400 flex-shrink-0"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1119,columnNumber:27},void 0),e.jsxDEV("span",{className:"text-gray-700 break-keep",children:g},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1125,columnNumber:27},void 0)]},g,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1118,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1116,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1112,columnNumber:19},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" ()"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1131,columnNumber:21},void 0),e.jsxDEV("div",{className:"grid grid-cols-1 gap-2",children:["+","+","+","+"].map(g=>e.jsxDEV("label",{className:"flex items-center text-xs md:text-sm",children:[e.jsxDEV("input",{type:"checkbox",checked:n.moldingRoom.includes(g),onChange:()=>ee("moldingRoom",g),className:"mr-1.5 md:mr-2 rounded border-gray-300 text-gray-600 focus:ring-gray-400 flex-shrink-0"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1137,columnNumber:27},void 0),e.jsxDEV("span",{className:"text-gray-700 break-keep",children:g},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1143,columnNumber:27},void 0)]},g,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1136,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1134,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1130,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1111,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1107,columnNumber:15},void 0),e.jsxDEV("div",{className:"bg-gray-50 p-3 rounded-lg",children:[e.jsxDEV("h3",{className:"text-sm font-bold text-gray-800 mb-2 pb-1 border-b border-gray-200",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1153,columnNumber:17},void 0),e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1158,columnNumber:21},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 md:flex gap-2 md:gap-3",children:["SMC","",""].map(g=>e.jsxDEV("label",{className:"flex items-center text-xs md:text-sm whitespace-nowrap",children:[e.jsxDEV("input",{type:"checkbox",checked:n.bathroomCeiling.includes(g),onChange:()=>ee("bathroomCeiling",g),className:"mr-1.5 md:mr-2 rounded border-gray-300 text-gray-600 focus:ring-gray-400 flex-shrink-0"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1164,columnNumber:27},void 0),e.jsxDEV("span",{className:"text-gray-700",children:g},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1170,columnNumber:27},void 0)]},g,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1163,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1161,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1157,columnNumber:19},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1177,columnNumber:21},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 md:flex gap-2 md:gap-3",children:["",""].map(g=>e.jsxDEV("label",{className:"flex items-center text-xs md:text-sm whitespace-nowrap",children:[e.jsxDEV("input",{type:"checkbox",checked:n.bathroomFaucet.includes(g),onChange:()=>ee("bathroomFaucet",g),className:"mr-1.5 md:mr-2 rounded border-gray-300 text-gray-600 focus:ring-gray-400 flex-shrink-0"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1183,columnNumber:27},void 0),e.jsxDEV("span",{className:"text-gray-700",children:g},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1189,columnNumber:27},void 0)]},g,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1182,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1180,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1176,columnNumber:19},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1196,columnNumber:21},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 md:flex gap-2 md:gap-3",children:["()","()","()"].map(g=>e.jsxDEV("label",{className:"flex items-center text-xs md:text-sm whitespace-nowrap",children:[e.jsxDEV("input",{type:"checkbox",checked:n.bathroomTileGrade.includes(g),onChange:()=>ee("bathroomTileGrade",g),className:"mr-1.5 md:mr-2 rounded border-gray-300 text-gray-600 focus:ring-gray-400 flex-shrink-0"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1202,columnNumber:27},void 0),e.jsxDEV("span",{className:"text-gray-700",children:g},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1208,columnNumber:27},void 0)]},g,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1201,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1199,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1195,columnNumber:19},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1215,columnNumber:21},void 0),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV("div",{className:"grid grid-cols-2 gap-2",children:["600()","600()","750x1500",""].map(g=>e.jsxDEV("label",{className:"flex items-center text-xs md:text-sm whitespace-nowrap",children:[e.jsxDEV("input",{type:"checkbox",checked:n.bathroomTile.includes(g),onChange:()=>ee("bathroomTile",g),className:"mr-1.5 md:mr-2 rounded border-gray-300 text-gray-600 focus:ring-gray-400 flex-shrink-0"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1227,columnNumber:29},void 0),e.jsxDEV("span",{className:"text-gray-700",children:g},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1233,columnNumber:29},void 0)]},g,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1226,columnNumber:27},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1219,columnNumber:23},void 0),e.jsxDEV("div",{className:"grid grid-cols-1 gap-2",children:["300x600()+300()","600x1200 or 800()"].map(g=>e.jsxDEV("label",{className:"flex items-center text-xs md:text-sm",children:[e.jsxDEV("input",{type:"checkbox",checked:n.bathroomTile.includes(g),onChange:()=>ee("bathroomTile",g),className:"mr-1.5 md:mr-2 rounded border-gray-300 text-gray-600 focus:ring-gray-400 flex-shrink-0"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1243,columnNumber:29},void 0),e.jsxDEV("span",{className:"text-gray-700 break-keep",children:g},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1249,columnNumber:29},void 0)]},g,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1242,columnNumber:27},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1237,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1218,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1214,columnNumber:19},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1257,columnNumber:21},void 0),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV("div",{className:"grid grid-cols-1",children:e.jsxDEV("label",{className:"flex items-center text-xs md:text-sm",children:[e.jsxDEV("input",{type:"checkbox",checked:n.bathroomGrout.includes("( )"),onChange:()=>ee("bathroomGrout","( )"),className:"mr-1.5 md:mr-2 rounded border-gray-300 text-gray-600 focus:ring-gray-400 flex-shrink-0"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1263,columnNumber:27},void 0),e.jsxDEV("span",{className:"text-gray-700 break-keep",children:"( )"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1269,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1262,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1261,columnNumber:23},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 gap-2",children:["()",""].map(g=>e.jsxDEV("label",{className:"flex items-center text-xs md:text-sm whitespace-nowrap",children:[e.jsxDEV("input",{type:"checkbox",checked:n.bathroomGrout.includes(g),onChange:()=>ee("bathroomGrout",g),className:"mr-1.5 md:mr-2 rounded border-gray-300 text-gray-600 focus:ring-gray-400 flex-shrink-0"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1275,columnNumber:29},void 0),e.jsxDEV("span",{className:"text-gray-700",children:g},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1281,columnNumber:29},void 0)]},g,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1274,columnNumber:27},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1272,columnNumber:23},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 gap-2",children:["FG8(  )","FG4( )"].map(g=>e.jsxDEV("label",{className:"flex items-center text-xs md:text-sm",children:[e.jsxDEV("input",{type:"checkbox",checked:n.bathroomGrout.includes(g),onChange:()=>ee("bathroomGrout",g),className:"mr-1.5 md:mr-2 rounded border-gray-300 text-gray-600 focus:ring-gray-400 flex-shrink-0"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1288,columnNumber:29},void 0),e.jsxDEV("span",{className:"text-gray-700 break-keep",children:g},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1294,columnNumber:29},void 0)]},g,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1287,columnNumber:27},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1285,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1260,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1256,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1156,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1152,columnNumber:15},void 0),e.jsxDEV("button",{onClick:L,disabled:a,className:"md:col-span-2 w-full py-3 bg-gray-900 text-white rounded-lg font-semibold hover:bg-gray-800 disabled:opacity-50 disabled:cursor-not-allowed text-sm md:text-base transition-colors",children:a?" ...":" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1304,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:546,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:541,columnNumber:11},void 0),e.jsxDEV("div",{className:"estimate-result bg-white rounded-lg border border-gray-200 p-4 md:p-6",children:[e.jsxDEV("div",{className:"flex justify-between items-center mb-4",children:[e.jsxDEV("h2",{className:"text-base md:text-lg font-semibold text-gray-800",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1317,columnNumber:15},void 0),r&&e.jsxDEV("button",{onClick:Q,className:"px-3 py-1.5 border border-gray-300 text-gray-700 rounded hover:bg-gray-50 flex items-center gap-1 text-xs md:text-sm transition-colors",children:[e.jsxDEV(uc,{className:"h-3 w-3 md:h-4 md:w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1323,columnNumber:19},void 0),"PDF"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1319,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1316,columnNumber:13},void 0),r?e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV("p",{className:"text-xs md:text-sm text-gray-600 mb-2",children:"  "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1334,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-xl md:text-2xl font-bold text-gray-900",children:[ce(r.totalMinCost)," ~ ",ce(r.totalMaxCost)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1335,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-xs text-gray-500 mt-2",children:"(15% )"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1338,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1333,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1332,columnNumber:17},void 0),e.jsxDEV("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:e.jsxDEV("table",{className:"w-full",children:[e.jsxDEV("thead",{className:"bg-gray-50",children:e.jsxDEV("tr",{children:[e.jsxDEV("th",{className:"px-4 py-2 text-left text-xs md:text-sm font-medium text-gray-700",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1347,columnNumber:25},void 0),e.jsxDEV("th",{className:"px-4 py-2 text-right text-xs md:text-sm font-medium text-gray-700",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1348,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1346,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1345,columnNumber:21},void 0),e.jsxDEV("tbody",{className:"divide-y divide-gray-200",children:[e.jsxDEV("tr",{children:[e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1353,columnNumber:25},void 0),e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900 text-right font-medium",children:ce(r.baseConstructionCost)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1354,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1352,columnNumber:23},void 0),e.jsxDEV("tr",{className:"bg-gray-50",children:[e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900 font-semibold",children:[" (",n.grade.join(", "),")"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1359,columnNumber:25},void 0),e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900 text-right font-semibold",children:r.fixtureCostMin!==void 0&&r.fixtureCostMax!==void 0?`${ce(r.fixtureCostMin)} ~ ${ce(r.fixtureCostMax)}`:ce(r.fixtureCost)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1360,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1358,columnNumber:23},void 0),(Ee=(xe=r.detailBreakdown)==null?void 0:xe.fixtureItems)==null?void 0:Ee.map((g,E)=>e.jsxDEV("tr",{className:"bg-white",children:[e.jsxDEV("td",{className:"px-4 py-1.5 text-xs text-gray-600 pl-8",children:[" ",g.category,"  ",g.quantity,""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1369,columnNumber:27},void 0),e.jsxDEV("td",{className:"px-4 py-1.5 text-xs text-gray-600 text-right",children:[ce(g.minTotal)," ~ ",ce(g.maxTotal)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1372,columnNumber:27},void 0)]},E,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1368,columnNumber:25},void 0)),((Ve=(He=r.detailBreakdown)==null?void 0:He.itemDetails)==null?void 0:Ve.floor)>0&&e.jsxDEV("tr",{children:[e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1379,columnNumber:27},void 0),e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900 text-right font-medium",children:ce(r.detailBreakdown.itemDetails.floor)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1380,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1378,columnNumber:25},void 0),((de=(Ge=r.detailBreakdown)==null?void 0:Ge.itemDetails)==null?void 0:de.wall)>0&&e.jsxDEV("tr",{children:[e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1387,columnNumber:27},void 0),e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900 text-right font-medium",children:ce(r.detailBreakdown.itemDetails.wall)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1388,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1386,columnNumber:25},void 0),((Ue=(Ae=r.detailBreakdown)==null?void 0:Ae.itemDetails)==null?void 0:Ue.ceiling)>0&&e.jsxDEV("tr",{children:[e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1395,columnNumber:27},void 0),e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900 text-right font-medium",children:ce(r.detailBreakdown.itemDetails.ceiling)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1396,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1394,columnNumber:25},void 0),((Re=(he=r.detailBreakdown)==null?void 0:he.itemDetails)==null?void 0:Re.furniture)>0&&e.jsxDEV("tr",{children:[e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1403,columnNumber:27},void 0),e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900 text-right font-medium",children:ce(r.detailBreakdown.itemDetails.furniture)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1404,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1402,columnNumber:25},void 0),((qe=($e=r.detailBreakdown)==null?void 0:$e.itemDetails)==null?void 0:qe.countertop)>0&&e.jsxDEV("tr",{children:[e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1411,columnNumber:27},void 0),e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900 text-right font-medium",children:ce(r.detailBreakdown.itemDetails.countertop)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1412,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1410,columnNumber:25},void 0),((B=(Oe=r.detailBreakdown)==null?void 0:Oe.itemDetails)==null?void 0:B.switchPublic)>0&&e.jsxDEV("tr",{children:[e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900",children:"/ ()"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1419,columnNumber:27},void 0),e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900 text-right font-medium",children:ce(r.detailBreakdown.itemDetails.switchPublic)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1420,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1418,columnNumber:25},void 0),((me=(ge=r.detailBreakdown)==null?void 0:ge.itemDetails)==null?void 0:me.switchRoom)>0&&e.jsxDEV("tr",{children:[e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900",children:"/ ()"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1427,columnNumber:27},void 0),e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900 text-right font-medium",children:ce(r.detailBreakdown.itemDetails.switchRoom)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1428,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1426,columnNumber:25},void 0),((G=(_e=r.detailBreakdown)==null?void 0:_e.itemDetails)==null?void 0:G.lighting)>0&&e.jsxDEV("tr",{children:[e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1435,columnNumber:27},void 0),e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900 text-right font-medium",children:ce(r.detailBreakdown.itemDetails.lighting)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1436,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1434,columnNumber:25},void 0),((le=(C=r.detailBreakdown)==null?void 0:C.itemDetails)==null?void 0:le.indirectPublic)>0&&e.jsxDEV("tr",{children:[e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900",children:" ()"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1443,columnNumber:27},void 0),e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900 text-right font-medium",children:ce(r.detailBreakdown.itemDetails.indirectPublic)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1444,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1442,columnNumber:25},void 0),((H=(D=r.detailBreakdown)==null?void 0:D.itemDetails)==null?void 0:H.indirectRoom)>0&&e.jsxDEV("tr",{children:[e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900",children:" ()"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1451,columnNumber:27},void 0),e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900 text-right font-medium",children:ce(r.detailBreakdown.itemDetails.indirectRoom)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1452,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1450,columnNumber:25},void 0),((Ce=(ie=r.detailBreakdown)==null?void 0:ie.itemDetails)==null?void 0:Ce.moldingPublic)>0&&e.jsxDEV("tr",{children:[e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900",children:" ()"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1459,columnNumber:27},void 0),e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900 text-right font-medium",children:ce(r.detailBreakdown.itemDetails.moldingPublic)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1460,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1458,columnNumber:25},void 0),((ze=(Te=r.detailBreakdown)==null?void 0:Te.itemDetails)==null?void 0:ze.moldingRoom)>0&&e.jsxDEV("tr",{children:[e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900",children:" ()"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1467,columnNumber:27},void 0),e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900 text-right font-medium",children:ce(r.detailBreakdown.itemDetails.moldingRoom)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1468,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1466,columnNumber:25},void 0),((J=(U=r.detailBreakdown)==null?void 0:U.itemDetails)==null?void 0:J.bathroomCeiling)>0&&e.jsxDEV("tr",{children:[e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1475,columnNumber:27},void 0),e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900 text-right font-medium",children:ce(r.detailBreakdown.itemDetails.bathroomCeiling)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1476,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1474,columnNumber:25},void 0),((P=(Z=r.detailBreakdown)==null?void 0:Z.itemDetails)==null?void 0:P.bathroomFaucet)>0&&e.jsxDEV("tr",{children:[e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1483,columnNumber:27},void 0),e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900 text-right font-medium",children:ce(r.detailBreakdown.itemDetails.bathroomFaucet)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1484,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1482,columnNumber:25},void 0),(($=(v=r.detailBreakdown)==null?void 0:v.itemDetails)==null?void 0:$.bathroomTile)>0&&e.jsxDEV("tr",{children:[e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1491,columnNumber:27},void 0),e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900 text-right font-medium",children:ce(r.detailBreakdown.itemDetails.bathroomTile)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1492,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1490,columnNumber:25},void 0),((O=(re=r.detailBreakdown)==null?void 0:re.itemDetails)==null?void 0:O.bathroomGrout)>0&&e.jsxDEV("tr",{children:[e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1499,columnNumber:27},void 0),e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900 text-right font-medium",children:ce(r.detailBreakdown.itemDetails.bathroomGrout)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1500,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1498,columnNumber:25},void 0),r.sashCost>0&&e.jsxDEV("tr",{children:[e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1507,columnNumber:27},void 0),e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900 text-right font-medium",children:ce(r.sashCost)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1508,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1506,columnNumber:25},void 0),r.heatingCost>0&&e.jsxDEV("tr",{children:[e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1515,columnNumber:27},void 0),e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900 text-right font-medium",children:ce(r.heatingCost)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1516,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1514,columnNumber:25},void 0),r.airconCost>0&&e.jsxDEV("tr",{children:[e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1523,columnNumber:27},void 0),e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900 text-right font-medium",children:ce(r.airconCost)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1524,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1522,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1351,columnNumber:21},void 0),e.jsxDEV("tfoot",{className:"bg-gray-50",children:e.jsxDEV("tr",{children:[e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm font-semibold text-gray-900",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1532,columnNumber:25},void 0),e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm font-bold text-gray-900 text-right",children:ce(r.baseConstructionCost+r.fixtureCost+(r.settingsBasedCost||0)+r.sashCost+r.heatingCost+r.airconCost)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1533,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1531,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1530,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1344,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1343,columnNumber:17},void 0),e.jsxDEV("div",{className:"text-xs md:text-sm text-gray-500 text-center mt-4",children:"*        ."},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1548,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1330,columnNumber:15},void 0):e.jsxDEV("div",{className:"text-center py-12 text-gray-400",children:[e.jsxDEV(pc,{className:"h-10 w-10 md:h-12 md:w-12 mx-auto mb-3"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1554,columnNumber:17},void 0),e.jsxDEV("p",{className:"text-sm md:text-base",children:"     "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1555,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1553,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1315,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:539,columnNumber:9},void 0),p==="history"&&e.jsxDEV("div",{className:"bg-white rounded-lg border border-gray-200",children:[e.jsxDEV("div",{className:"p-4 md:p-6 border-b border-gray-200",children:e.jsxDEV("h2",{className:"text-base md:text-lg font-semibold text-gray-800",children:["  (",ne.total,")"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1565,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1564,columnNumber:11},void 0),e.jsxDEV("div",{className:"overflow-x-auto",children:e.jsxDEV("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsxDEV("thead",{className:"bg-gray-50",children:e.jsxDEV("tr",{children:[e.jsxDEV("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1571,columnNumber:19},void 0),e.jsxDEV("th",{className:"px-4 md:px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1572,columnNumber:19},void 0),e.jsxDEV("th",{className:"px-4 md:px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1573,columnNumber:19},void 0),e.jsxDEV("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1574,columnNumber:19},void 0),e.jsxDEV("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1575,columnNumber:19},void 0),e.jsxDEV("th",{className:"px-4 md:px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1576,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1570,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1569,columnNumber:15},void 0),e.jsxDEV("tbody",{className:"bg-white divide-y divide-gray-200",children:m.map(g=>e.jsxDEV("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsxDEV("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:g.project_name},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1582,columnNumber:21},void 0),e.jsxDEV("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-sm text-gray-700 text-center",children:[g.area_size,""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1585,columnNumber:21},void 0),e.jsxDEV("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-center",children:e.jsxDEV("span",{className:Pt("inline-flex px-2 py-1 text-xs font-medium rounded border",g.grade===""&&"bg-gray-50 text-gray-700 border-gray-300",g.grade===""&&"bg-gray-100 text-gray-800 border-gray-400",g.grade===""&&"bg-gray-200 text-gray-900 border-gray-500",g.grade===""&&"bg-gray-800 text-white border-gray-800"),children:g.grade},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1589,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1588,columnNumber:21},void 0),e.jsxDEV("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"font-medium",children:ce(g.total_min_cost)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1601,columnNumber:25},void 0),e.jsxDEV("div",{className:"text-xs text-gray-500",children:["~ ",ce(g.total_max_cost)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1602,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1600,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1599,columnNumber:21},void 0),e.jsxDEV("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:new Date(g.created_at).toLocaleDateString("ko-KR")},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1605,columnNumber:21},void 0),e.jsxDEV("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-sm text-center",children:e.jsxDEV("div",{className:"flex items-center justify-center gap-2",children:[e.jsxDEV("button",{onClick:()=>se(g.id),className:"text-gray-600 hover:text-gray-900 transition-colors",title:"",children:e.jsxDEV(fc,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1615,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1610,columnNumber:25},void 0),e.jsxDEV("button",{onClick:()=>oe(g.id),className:"text-gray-400 hover:text-red-600 transition-colors",title:"",children:e.jsxDEV(bt,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1622,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1617,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1609,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1608,columnNumber:21},void 0)]},g.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1581,columnNumber:19},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1579,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1568,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1567,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1563,columnNumber:9},void 0),p==="settings"&&e.jsxDEV("div",{className:"bg-white rounded-lg border border-gray-200 p-4 md:p-6",children:[e.jsxDEV("h2",{className:"text-base md:text-lg font-semibold text-gray-800 mb-6",children:"   "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1636,columnNumber:11},void 0),e.jsxDEV("div",{className:"space-y-6",children:[e.jsxDEV("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg mb-6",children:e.jsxDEV("p",{className:"text-sm text-gray-700",children:[e.jsxDEV("strong",{children:" :"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1643,columnNumber:17},void 0),"   ~   .        ."]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1642,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1641,columnNumber:13},void 0),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6 border-b pb-6",children:[e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"text-md font-semibold text-gray-700 mb-4",children:" ()"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1651,columnNumber:17},void 0),e.jsxDEV("div",{className:"space-y-3",children:["","","","","600 ","800-900 ","1200 "].map(g=>{var E,S;return e.jsxDEV("div",{className:"space-y-1",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700",children:g},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1655,columnNumber:23},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("input",{type:"number",placeholder:"",value:((E=N.floor[g])==null?void 0:E.min)||"",onChange:K=>y("floor",g,"min",K.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1657,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-gray-500 text-sm",children:"~"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1664,columnNumber:25},void 0),e.jsxDEV("input",{type:"number",placeholder:"",value:((S=N.floor[g])==null?void 0:S.max)||"",onChange:K=>y("floor",g,"max",K.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1665,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1656,columnNumber:23},void 0)]},g,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1654,columnNumber:21},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1652,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1650,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"text-md font-semibold text-gray-700 mb-4",children:"/ ()"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1680,columnNumber:17},void 0),e.jsxDEV("div",{className:"space-y-3",children:["","()","()","()","","","","","()+()"].map(g=>{var E,S;return e.jsxDEV("div",{className:"space-y-1",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700",children:g},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1684,columnNumber:23},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("input",{type:"number",placeholder:"",value:((E=N.wall[g])==null?void 0:E.min)||"",onChange:K=>y("wall",g,"min",K.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1686,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-gray-500 text-sm",children:"~"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1693,columnNumber:25},void 0),e.jsxDEV("input",{type:"number",placeholder:"",value:((S=N.wall[g])==null?void 0:S.max)||"",onChange:K=>y("wall",g,"max",K.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1694,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1685,columnNumber:23},void 0)]},g,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1683,columnNumber:21},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1681,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1679,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"text-md font-semibold text-gray-700 mb-4",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1709,columnNumber:17},void 0),e.jsxDEV("div",{className:"space-y-3",children:[["",""].map(g=>{var E,S;return e.jsxDEV("div",{className:"space-y-1",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700",children:["(",g,")"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1713,columnNumber:23},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("input",{type:"number",placeholder:"",value:((E=N.furniture[`(${g})`])==null?void 0:E.min)||"",onChange:K=>y("furniture",`(${g})`,"min",K.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1715,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-gray-500 text-sm",children:"~"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1722,columnNumber:25},void 0),e.jsxDEV("input",{type:"number",placeholder:"",value:((S=N.furniture[`(${g})`])==null?void 0:S.max)||"",onChange:K=>y("furniture",`(${g})`,"max",K.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1723,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1714,columnNumber:23},void 0)]},g,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1712,columnNumber:21},void 0)}),[" BLUM()","()+()"," BLUM()+()"].map(g=>{var E,S;return e.jsxDEV("div",{className:"space-y-1",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700",children:g},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1735,columnNumber:23},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("input",{type:"number",placeholder:"",value:((E=N.furniture[g])==null?void 0:E.min)||"",onChange:K=>y("furniture",g,"min",K.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1737,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-gray-500 text-sm",children:"~"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1744,columnNumber:25},void 0),e.jsxDEV("input",{type:"number",placeholder:"",value:((S=N.furniture[g])==null?void 0:S.max)||"",onChange:K=>y("furniture",g,"max",K.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1745,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1736,columnNumber:23},void 0)]},g,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1734,columnNumber:21},void 0)})]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1710,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1708,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"text-md font-semibold text-gray-700 mb-4",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1760,columnNumber:17},void 0),e.jsxDEV("div",{className:"space-y-3",children:["","","","",""].map(g=>{var E,S;return e.jsxDEV("div",{className:"space-y-1",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700",children:g},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1764,columnNumber:23},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("input",{type:"number",placeholder:"",value:((E=N.countertop[g])==null?void 0:E.min)||"",onChange:K=>y("countertop",g,"min",K.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1766,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-gray-500 text-sm",children:"~"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1773,columnNumber:25},void 0),e.jsxDEV("input",{type:"number",placeholder:"",value:((S=N.countertop[g])==null?void 0:S.max)||"",onChange:K=>y("countertop",g,"max",K.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1774,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1765,columnNumber:23},void 0)]},g,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1763,columnNumber:21},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1761,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1759,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"text-md font-semibold text-gray-700 mb-4",children:"/ ()"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1789,columnNumber:17},void 0),e.jsxDEV("div",{className:"space-y-3",children:["()","()"," "," "].map(g=>{var E,S;return e.jsxDEV("div",{className:"space-y-1",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700",children:g},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1793,columnNumber:23},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("input",{type:"number",placeholder:"",value:((E=N.switch[g])==null?void 0:E.min)||"",onChange:K=>y("switch",g,"min",K.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1795,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-gray-500 text-sm",children:"~"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1802,columnNumber:25},void 0),e.jsxDEV("input",{type:"number",placeholder:"",value:((S=N.switch[g])==null?void 0:S.max)||"",onChange:K=>y("switch",g,"max",K.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1803,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1794,columnNumber:23},void 0)]},g,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1792,columnNumber:21},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1790,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1788,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1648,columnNumber:13},void 0),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6 border-b pb-6",children:[e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"text-md font-semibold text-gray-700 mb-4",children:" ()"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1821,columnNumber:17},void 0),e.jsxDEV("div",{className:"space-y-3",children:["","","()","()","()"].map(g=>{var E,S;return e.jsxDEV("div",{className:"space-y-1",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700",children:g},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1825,columnNumber:23},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("input",{type:"number",placeholder:"",value:((E=N.lighting[g])==null?void 0:E.min)||"",onChange:K=>y("lighting",g,"min",K.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1827,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-gray-500 text-sm",children:"~"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1834,columnNumber:25},void 0),e.jsxDEV("input",{type:"number",placeholder:"",value:((S=N.lighting[g])==null?void 0:S.max)||"",onChange:K=>y("lighting",g,"max",K.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1835,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1826,columnNumber:23},void 0)]},g,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1824,columnNumber:21},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1822,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1820,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"text-md font-semibold text-gray-700 mb-4",children:" ()"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1850,columnNumber:17},void 0),e.jsxDEV("div",{className:"space-y-3",children:["LED","T3 "].map(g=>{var E,S;return e.jsxDEV("div",{className:"space-y-1",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700",children:g},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1854,columnNumber:23},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("input",{type:"number",placeholder:"",value:((E=N.indirectLighting[g])==null?void 0:E.min)||"",onChange:K=>y("indirectLighting",g,"min",K.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1856,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-gray-500 text-sm",children:"~"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1863,columnNumber:25},void 0),e.jsxDEV("input",{type:"number",placeholder:"",value:((S=N.indirectLighting[g])==null?void 0:S.max)||"",onChange:K=>y("indirectLighting",g,"max",K.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1864,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1855,columnNumber:23},void 0)]},g,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1853,columnNumber:21},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1851,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1849,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"text-md font-semibold text-gray-700 mb-4",children:" ()"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1879,columnNumber:17},void 0),e.jsxDEV("div",{className:"space-y-3",children:["+","+","+","+"].map(g=>{var E,S;return e.jsxDEV("div",{className:"space-y-1",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700",children:g},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1883,columnNumber:23},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("input",{type:"number",placeholder:"",value:((E=N.molding[g])==null?void 0:E.min)||"",onChange:K=>y("molding",g,"min",K.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1885,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-gray-500 text-sm",children:"~"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1892,columnNumber:25},void 0),e.jsxDEV("input",{type:"number",placeholder:"",value:((S=N.molding[g])==null?void 0:S.max)||"",onChange:K=>y("molding",g,"max",K.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1893,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1884,columnNumber:23},void 0)]},g,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1882,columnNumber:21},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1880,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1878,columnNumber:15},void 0),e.jsxDEV("div",{},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1906,columnNumber:15},void 0)," ",e.jsxDEV("div",{},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1907,columnNumber:15},void 0)," "]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1818,columnNumber:13},void 0),e.jsxDEV("div",{className:"border-b pb-6",children:[e.jsxDEV("h3",{className:"text-md font-semibold text-gray-700 mb-4",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1912,columnNumber:15},void 0),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6",children:[e.jsxDEV("div",{children:[e.jsxDEV("h4",{className:"text-sm font-semibold text-gray-600 mb-3",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1915,columnNumber:19},void 0),e.jsxDEV("div",{className:"space-y-3",children:["SMC","",""].map(g=>{var E,S;return e.jsxDEV("div",{className:"space-y-1",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700",children:g},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1919,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("input",{type:"number",placeholder:"",value:((E=N.bathroom.ceiling[g])==null?void 0:E.min)||"",onChange:K=>T("ceiling",g,"min",K.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1921,columnNumber:27},void 0),e.jsxDEV("span",{className:"text-gray-500 text-sm",children:"~"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1928,columnNumber:27},void 0),e.jsxDEV("input",{type:"number",placeholder:"",value:((S=N.bathroom.ceiling[g])==null?void 0:S.max)||"",onChange:K=>T("ceiling",g,"max",K.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1929,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1920,columnNumber:25},void 0)]},g,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1918,columnNumber:23},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1916,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1914,columnNumber:17},void 0),e.jsxDEV("div",{children:[e.jsxDEV("h4",{className:"text-sm font-semibold text-gray-600 mb-3",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1942,columnNumber:19},void 0),e.jsxDEV("div",{className:"space-y-3",children:["",""].map(g=>{var E,S;return e.jsxDEV("div",{className:"space-y-1",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700",children:g},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1946,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("input",{type:"number",placeholder:"",value:((E=N.bathroom.faucet[g])==null?void 0:E.min)||"",onChange:K=>T("faucet",g,"min",K.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1948,columnNumber:27},void 0),e.jsxDEV("span",{className:"text-gray-500 text-sm",children:"~"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1955,columnNumber:27},void 0),e.jsxDEV("input",{type:"number",placeholder:"",value:((S=N.bathroom.faucet[g])==null?void 0:S.max)||"",onChange:K=>T("faucet",g,"max",K.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1956,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1947,columnNumber:25},void 0)]},g,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1945,columnNumber:23},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1943,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1941,columnNumber:17},void 0),e.jsxDEV("div",{children:[e.jsxDEV("h4",{className:"text-sm font-semibold text-gray-600 mb-3",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1969,columnNumber:19},void 0),e.jsxDEV("div",{className:"space-y-3",children:["()","()","()"].map(g=>{var E,S;return e.jsxDEV("div",{className:"space-y-1",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700",children:g},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1973,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("input",{type:"number",placeholder:"",value:((E=N.bathroom.tile[g])==null?void 0:E.min)||"",onChange:K=>T("tile",g,"min",K.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1975,columnNumber:27},void 0),e.jsxDEV("span",{className:"text-gray-500 text-sm",children:"~"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1982,columnNumber:27},void 0),e.jsxDEV("input",{type:"number",placeholder:"",value:((S=N.bathroom.tile[g])==null?void 0:S.max)||"",onChange:K=>T("tile",g,"max",K.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1983,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1974,columnNumber:25},void 0)]},g,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1972,columnNumber:23},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1970,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1968,columnNumber:17},void 0),e.jsxDEV("div",{children:[e.jsxDEV("h4",{className:"text-sm font-semibold text-gray-600 mb-3",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1996,columnNumber:19},void 0),e.jsxDEV("div",{className:"space-y-3",children:["600()","600()","750x1500","","300x600()+300()","600x1200 or 800()"].map(g=>{var E,S;return e.jsxDEV("div",{className:"space-y-1",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700",children:g},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:2e3,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("input",{type:"number",placeholder:"",value:((E=N.bathroom.tile[g])==null?void 0:E.min)||"",onChange:K=>T("tile",g,"min",K.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:2002,columnNumber:27},void 0),e.jsxDEV("span",{className:"text-gray-500 text-sm",children:"~"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:2009,columnNumber:27},void 0),e.jsxDEV("input",{type:"number",placeholder:"",value:((S=N.bathroom.tile[g])==null?void 0:S.max)||"",onChange:K=>T("tile",g,"max",K.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:2010,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:2001,columnNumber:25},void 0)]},g,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1999,columnNumber:23},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1997,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1995,columnNumber:17},void 0),e.jsxDEV("div",{children:[e.jsxDEV("h4",{className:"text-sm font-semibold text-gray-600 mb-3",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:2023,columnNumber:19},void 0),e.jsxDEV("div",{className:"space-y-3",children:["( )","()",""].map(g=>{var E,S;return e.jsxDEV("div",{className:"space-y-1",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700",children:g},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:2027,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("input",{type:"number",placeholder:"",value:((E=N.bathroom.grout[g])==null?void 0:E.min)||"",onChange:K=>T("grout",g,"min",K.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:2029,columnNumber:27},void 0),e.jsxDEV("span",{className:"text-gray-500 text-sm",children:"~"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:2036,columnNumber:27},void 0),e.jsxDEV("input",{type:"number",placeholder:"",value:((S=N.bathroom.grout[g])==null?void 0:S.max)||"",onChange:K=>T("grout",g,"max",K.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:2037,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:2028,columnNumber:25},void 0)]},g,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:2026,columnNumber:23},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:2024,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:2022,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1913,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1911,columnNumber:13},void 0),e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"text-md font-semibold text-gray-700 mb-4",children:"   "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:2054,columnNumber:15},void 0),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-x-6 gap-y-3",children:[{label:"  ()",key:"livingRoom"},{label:"  ()",key:"kitchen"},{label:"  ()",key:"room"},{label:"  ()",key:"sash"},{label:"  ()",key:"grooving"},{label:"  ()",key:"bangtong"},{label:" (2 in 1) - 1",key:"aircon2in1"},{label:" () - 1",key:"airconSystem"}].map(g=>{var E,S;return e.jsxDEV("div",{className:"space-y-1",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700",children:g.label},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:2067,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("input",{type:"number",placeholder:"",value:((E=N.expansion[g.key])==null?void 0:E.min)||"",onChange:K=>y("expansion",g.key,"min",K.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:2069,columnNumber:23},void 0),e.jsxDEV("span",{className:"text-gray-500 text-sm",children:"~"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:2076,columnNumber:23},void 0),e.jsxDEV("input",{type:"number",placeholder:"",value:((S=N.expansion[g.key])==null?void 0:S.max)||"",onChange:K=>y("expansion",g.key,"max",K.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:2077,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:2068,columnNumber:21},void 0)]},g.key,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:2066,columnNumber:19},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:2055,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:2053,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1640,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1635,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:497,columnNumber:5},void 0)},V0="HVLabImageDB",C0=1,Us="paymentRecordImages";let gr=null;const Pa=()=>new Promise((s,n)=>{if(gr){s(gr);return}const t=indexedDB.open(V0,C0);t.onerror=()=>{console.error("IndexedDB  :",t.error),n(t.error)},t.onsuccess=()=>{gr=t.result,s(gr)},t.onupgradeneeded=r=>{const i=r.target.result;i.objectStoreNames.contains(Us)||i.createObjectStore(Us,{keyPath:"id"})}}),Wd=async()=>{try{const s=await Pa();return new Promise((n,t)=>{const a=s.transaction(Us,"readonly").objectStore(Us).getAll();a.onsuccess=()=>{const o={};a.result.forEach(m=>{o[m.id]=m.images}),n(o)},a.onerror=()=>{console.error("  :",a.error),t(a.error)}})}catch(s){console.error("IndexedDB , localStorage :",s);const n=localStorage.getItem("paymentRecordImages");return n?JSON.parse(n):{}}},qd=async(s,n)=>{try{const t=await Pa();return new Promise((r,i)=>{const m=t.transaction(Us,"readwrite").objectStore(Us).put({id:s,images:n});m.onsuccess=()=>r(),m.onerror=()=>{console.error("  :",m.error),i(m.error)}})}catch(t){throw console.error("IndexedDB  :",t),t}},E0=async s=>{try{const n=await Pa();return new Promise((t,r)=>{const i=n.transaction(Us,"readwrite"),a=i.objectStore(Us);a.clear(),Object.entries(s).forEach(([o,m])=>{a.put({id:o,images:m})}),i.oncomplete=()=>t(),i.onerror=()=>{console.error("  :",i.error),r(i.error)}})}catch(n){throw console.error("IndexedDB   :",n),n}},Od=async()=>{try{const s=localStorage.getItem("paymentRecordImages");if(s){const n=JSON.parse(s);Object.keys(n).length>0&&(await E0(n),localStorage.removeItem("paymentRecordImages"),console.log("localStorage IndexedDB  "))}}catch(s){console.error(" :",s)}},Nr=["","","/","","","","","","","","","","","","",""],A0=()=>{const{payments:s,executionRecords:n,loadPaymentsFromAPI:t,loadExecutionRecordsFromAPI:r,addExecutionRecordToAPI:i,deleteExecutionRecordFromAPI:a,updateExecutionRecordInAPI:o,updatePaymentInAPI:m,deletePaymentFromAPI:c}=os(),{user:p}=Mt(),u=Qt();if(!p)return e.jsxDEV(Tr,{to:"/login",replace:!0},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:113,columnNumber:12},void 0);const[f,b]=d.useState(""),[N,j]=d.useState(null),[x,R]=d.useState(!1),[I,y]=d.useState(!1),[T,te]=d.useState(!1),[ee,L]=d.useState(!1),[z,se]=d.useState(!1),[oe,ce]=d.useState(""),[De,Q]=d.useState("form"),[ne,xe]=d.useState(!1),[Ee,He]=d.useState(!1),Ve=d.useRef(null),[Ge,de]=d.useState(!1),[Ae,Ue]=d.useState(null),[he,Re]=d.useState({process:"",itemName:"",materialCost:"",laborCost:"",date:""}),[$e,qe]=d.useState(null),[Oe,B]=d.useState([]),[ge,me]=d.useState({}),[_e,G]=d.useState(!1),[C,le]=d.useState(()=>{const l=localStorage.getItem("hiddenPaymentIds");return l?JSON.parse(l):[]}),D=()=>{const l=localStorage.getItem("lastSelectedProject"),h=u.filter(w=>w.status!=="completed");return l&&h.some(w=>w.name===l)?l:h.length>0?h[0].name:""},[H,ie]=d.useState({project:"",date:je(new Date,"yyyy-MM-dd"),process:"",itemName:"",materialCost:"",laborCost:"",images:[],quickText:"",quickImages:[]}),[Ce,Te]=d.useState(()=>{const l=localStorage.getItem("executionMemos");return l?JSON.parse(l):{}}),[ze,U]=d.useState(null),[J,Z]=d.useState(""),[P,v]=d.useState("");d.useEffect(()=>{t().catch(h=>{console.error("Failed to load payments:",h)}),r().catch(h=>{console.error("Failed to load execution records:",h)});const l=()=>{xe(window.innerWidth<768)};if(l(),window.addEventListener("resize",l),u.length>0&&!H.project){const h=D();h&&(ie(w=>({...w,project:h})),localStorage.setItem("lastSelectedProject",h))}return()=>window.removeEventListener("resize",l)},[t,r,u]),d.useEffect(()=>{(async()=>{try{await Od();const h=await Wd();me(h),G(!0)}catch(h){console.error("  :",h),G(!0)}})()},[]);const $=d.useRef({});d.useEffect(()=>{_e&&(Object.entries(ge).forEach(([l,h])=>{JSON.stringify($.current[l])!==JSON.stringify(h)&&qd(l,h).catch(w=>{console.error("  :",w),M.error("  ")})}),$.current={...ge})},[ge,_e]),d.useEffect(()=>{localStorage.setItem("hiddenPaymentIds",JSON.stringify(C))},[C]),d.useEffect(()=>{localStorage.setItem("executionMemos",JSON.stringify(Ce))},[Ce]),d.useEffect(()=>{if(H.itemName&&H.itemName.trim().length>=1){const l=H.itemName.trim().toLowerCase(),h=[...n].sort((q,_)=>new Date(_.date).getTime()-new Date(q.date).getTime()).map(q=>q.itemName).filter(q=>q&&q.toLowerCase().includes(l)),w=Array.from(new Set(h));B(w.slice(0,10))}else B([])},[H.itemName,n]);const re=d.useCallback(l=>{var q;const h=(q=l.clipboardData)==null?void 0:q.items;if(!h)return;const w=[];for(let _=0;_<h.length;_++)if(h[_].type.indexOf("image")!==-1){l.preventDefault();const Y=h[_].getAsFile();Y&&w.push(Y)}w.length!==0&&Promise.all(w.map(_=>new Promise((Y,W)=>{const ue=new FileReader;ue.onload=k=>{var fe;const X=(fe=k.target)==null?void 0:fe.result;Y(X)},ue.onerror=W,ue.readAsDataURL(_)}))).then(async _=>{if(!N){ie(W=>({...W,quickImages:[...W.quickImages,..._]})),M.success(`${_.length}   `);return}const Y=n.find(W=>W.id===N);if(Y){const W=[...Y.images||[],..._];try{await o(N,{images:W}),M.success(`${_.length}  `)}catch(ue){console.error("  :",ue),M.error("  ")}}else{const W=ge[N]||[];me(ue=>({...ue,[N]:[...W,..._]})),M.success(`${_.length}  `)}}).catch(_=>{console.error("   :",_),M.error("    ")})},[N,ie,ge,n,o]);d.useEffect(()=>(document.addEventListener("paste",re),()=>document.removeEventListener("paste",re)),[re]);const O=u.map(l=>l.name);console.log("[ExecutionHistory] payments :",s.length,""),console.log("[ExecutionHistory]   payments:",s.filter(l=>l.images&&l.images.length>0).map(l=>{var h;return{id:l.id,imagesCount:(h=l.images)==null?void 0:h.length}})),console.log("[ExecutionHistory] paymentRecordImages :",Object.keys(ge).length," ",Object.entries(ge).slice(0,3).map(([l,h])=>({id:l,count:h==null?void 0:h.length})));const g=s.filter(l=>{const h=l.status==="approved"||l.status==="completed",w=!n.some(Y=>Y.paymentId===l.id),q=!C.includes(l.id),_=(p==null?void 0:p.name)!==""||O.includes(l.project);return h&&w&&q&&_}).map(l=>{const h=l.materialAmount||0,w=l.laborAmount||0,q=l.amount||0;let _=h,Y=w,W=0;return h===0&&w===0&&q>0?l.includesVAT?(_=Math.round(q/1.1),W=q-_):(_=q,W=0):l.includesVAT?(h>0&&(_=Math.round(h/1.1)),w>0&&(Y=Math.round(w/1.1)),W=q-(_+Y)):W=0,{id:l.id,type:"payment",project:l.project,author:l.requestedBy||"-",date:l.requestDate,process:l.process||"-",itemName:l.itemName||l.purpose||"-",materialCost:_,laborCost:Y,vatAmount:W,totalAmount:q,images:l.images&&l.images.length>0?l.images:ge[l.id]||[],notes:l.notes,quickText:l.quickText||""}}),E=g.filter(l=>l.images&&l.images.length>0);E.length>0&&console.log("[ExecutionHistory]   paymentRecords:",E.map(l=>({id:l.id,imagesCount:l.images.length})));const S=n.filter(l=>(p==null?void 0:p.name)!==""||O.includes(l.project)).map(l=>({...l,type:"manual"})),K=[...g,...S].sort((l,h)=>new Date(h.date).getTime()-new Date(l.date).getTime()),ke=K.filter(l=>{var q,_;const h=H.project===""||l.project===H.project,w=f===""||((q=l.itemName)==null?void 0:q.toLowerCase().includes(f.toLowerCase()))||((_=l.process)==null?void 0:_.toLowerCase().includes(f.toLowerCase()));return h&&w}),ye=ke.reduce((l,h)=>(l.material+=h.materialCost||0,l.labor+=h.laborCost||0,l.vat+=h.vatAmount||0,l.total+=h.totalAmount||0,l),{material:0,labor:0,vat:0,total:0}),We=()=>{const l=H.quickText;if(!l.trim()){M.error("  ");return}const h=l.match(/[\d,]+/g),w=h?h.map(k=>parseInt(k.replace(/,/g,""),10)).filter(k=>k>0):[];let q="";for(const k of Nr)if(l.includes(k)){q=k;break}const _=l.split(`
`).filter(k=>k.trim());let Y="";if(_.length>0)for(const k of _){const X=k.trim();if(X&&!/^[\d,\s]+$/.test(X)){Y=X.substring(0,50);break}}let W="",ue="";if(w.length>0){const k=[...w].sort((X,fe)=>fe-X);W=String(k[0]),k.length>1&&(ue=String(k[1]))}ie(k=>({...k,process:q||k.process,itemName:Y||k.itemName,materialCost:W||k.materialCost,laborCost:ue||k.laborCost,images:[...k.images,...k.quickImages],quickText:"",quickImages:[]})),M.success("  ")},Je=async()=>{if(!H.project){M.error(" ");return}const l=new Date;let h=Number(H.materialCost)||0,w=Number(H.laborCost)||0,q=0,_=0;if(I){const W=h+w,ue=Math.round(W/1.1);if(q=W-ue,W>0){const k=h/W,X=w/W;h=Math.round(ue*k),w=Math.round(ue*X)}_=W}else q=0,_=h+w;const Y={id:`exec_${Date.now()}`,project:H.project,author:(p==null?void 0:p.name)||"  ",date:new Date(H.date),process:H.process,itemName:H.itemName,materialCost:h,laborCost:w,vatAmount:q,totalAmount:_,images:H.images,notes:"",createdAt:l,updatedAt:l};try{const W=await i(Y);M.success(" "),ie(ue=>({project:ue.project,date:je(new Date,"yyyy-MM-dd"),process:"",itemName:"",materialCost:"",laborCost:"",images:[],quickText:"",quickImages:[]})),y(!1),te(!1),ne&&(j(W.id),Q("list"))}catch(W){console.error("  :",W),M.error("  ")}},mt=(l,h)=>{h.stopPropagation(),qe(null),Ue(l),ie(w=>({...w,project:l.project||w.project,date:je(new Date(l.date),"yyyy-MM-dd"),process:l.process||"",itemName:l.itemName,materialCost:l.materialCost||0,laborCost:l.laborCost||0,images:l.images||[],quickText:"",quickImages:[]})),j(l.id),ne&&Q("form")},nt=()=>{Ue(null),ie(l=>({...l,date:je(new Date,"yyyy-MM-dd"),process:"",itemName:"",materialCost:"",laborCost:"",images:[],quickText:"",quickImages:[]}))},st=async()=>{if(Ae)try{const l=Number(H.materialCost)||0,h=Number(H.laborCost)||0,w=l+h;if(Ae.type==="payment"){const q=s.find(_=>_.id===Ae.id);if(!q)throw new Error("   ");await m(Ae.id,{...q,process:H.process,itemName:H.itemName,materialAmount:l,laborAmount:h,amount:w,requestDate:H.date}),await t()}else await o(Ae.id,{project:H.project||Ae.project,author:Ae.author,process:H.process,itemName:H.itemName,materialCost:l,laborCost:h,totalAmount:w,date:new Date(H.date),notes:Ae.notes,paymentId:Ae.paymentId}),await r();M.success(""),Ue(null),ie(q=>({...q,date:je(new Date,"yyyy-MM-dd"),process:"",itemName:"",materialCost:"",laborCost:"",images:[],quickText:"",quickImages:[]}))}catch(l){console.error(" :",l),M.error(" ")}},at=async(l,h)=>{h.stopPropagation(),qe(null);const w=K.find(q=>q.id===l);if(confirm(" ?"))try{(w==null?void 0:w.type)==="payment"?(await c(l),M.success(" ")):(await a(l),M.success(" ")),N===l&&j(null)}catch(q){console.error(" :",q),M.error(" ")}},Nt=()=>{const l={};return ke.forEach(h=>{const w=h.process||"";l[w]||(l[w]={materialCost:0,laborCost:0,vatAmount:0,totalAmount:0}),l[w].materialCost+=h.materialCost||0,l[w].laborCost+=h.laborCost||0,l[w].vatAmount+=h.vatAmount||0,l[w].totalAmount+=h.totalAmount||0}),Object.entries(l).sort((h,w)=>w[1].totalAmount-h[1].totalAmount)},A=l=>{var h;try{if(!N){M.error("  ");return}const w=Array.from(((h=l.target)==null?void 0:h.files)||[]);if(w.length===0)return;const q=w.filter(Y=>Y.type.startsWith("image/"));if(q.length===0){M.error("  ");return}q.filter(Y=>Y.size>10*1024*1024).length>0&&M.error("10MB       "),Promise.all(q.map(Y=>new Promise((W,ue)=>{try{const k=new FileReader;k.onload=X=>{var we;const fe=(we=X.target)==null?void 0:we.result;fe?W(fe):ue(new Error("  "))},k.onerror=()=>ue(new Error("FileReader ")),k.readAsDataURL(Y)}catch(k){ue(k)}}))).then(async Y=>{const W=n.find(ue=>ue.id===N);if(W){const k=[...W.images||[],...Y];try{await o(N,{images:k}),M.success(`${Y.length}  `)}catch(X){console.error("  :",X),M.error("  ")}}else{const ue=ge[N]||[];me(k=>({...k,[N]:[...ue,...Y]})),M.success(`${Y.length}  `)}}).catch(Y=>{console.error("   :",Y),M.error("    ")}),l.target.value=""}catch(w){console.error("    :",w),M.error("    ")}},Ne=async l=>{var w;if(!N)return;const h=n.find(q=>q.id===N);if(h){const q=((w=h.images)==null?void 0:w.filter((_,Y)=>Y!==l))||[];try{await o(N,{images:q})}catch(_){console.error("  :",_)}}else me(q=>{var _;return{...q,[N]:((_=q[N])==null?void 0:_.filter((Y,W)=>W!==l))||[]}})},be=l=>{ce(l),se(!0)},ve=l=>{l.preventDefault(),R(!0)},Be=l=>{l.preventDefault(),R(!1)},Pe=l=>{if(l.preventDefault(),R(!1),!N){M.error("  ");return}const w=Array.from(l.dataTransfer.files).filter(q=>q.type.startsWith("image/"));w.length!==0&&Promise.all(w.map(q=>new Promise((_,Y)=>{const W=new FileReader;W.onload=ue=>{var X;const k=(X=ue.target)==null?void 0:X.result;_(k)},W.onerror=Y,W.readAsDataURL(q)}))).then(async q=>{const _=n.find(Y=>Y.id===N);if(_){const Y=[..._.images||[],...q];try{await o(N,{images:Y})}catch(W){console.error("  :",W)}}else me(Y=>({...Y,[N]:[...Y[N]||[],...q]}));M.success(`${q.length}  `)}).catch(q=>{console.error("   :",q),M.error("    ")})};return e.jsxDEV("div",{className:"space-y-3 md:space-y-4",children:[e.jsxDEV("div",{className:"md:hidden mb-4",children:e.jsxDEV("select",{value:H.project,onChange:l=>{ie({...H,project:l.target.value}),l.target.value&&localStorage.setItem("lastSelectedProject",l.target.value)},className:"w-full px-3 py-2.5 md:py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 bg-white cursor-pointer hover:border-gray-400 transition-colors appearance-none bg-[url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20fill%3D%22none%22%20viewBox%3D%220%200%2020%2020%22%3E%3Cpath%20stroke%3D%22%236b7280%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%221.5%22%20d%3D%22M6%208l4%204%204-4%22%2F%3E%3C%2Fsvg%3E')] bg-[length:1.5em_1.5em] bg-[right_0.5rem_center] bg-no-repeat pr-10",children:u.filter(l=>l.status!=="completed").map(l=>e.jsxDEV("option",{value:l.name,children:l.name},l.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:967,columnNumber:13},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:956,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:955,columnNumber:7},void 0),e.jsxDEV("div",{className:"md:hidden border-b border-gray-200 mb-4",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:e.jsxDEV("nav",{className:"flex space-x-4",children:[e.jsxDEV("button",{onClick:()=>Q("form"),className:`py-2 px-1 border-b-2 font-medium text-sm ${De==="form"?"border-gray-900 text-gray-900":"border-transparent text-gray-500"}`,children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:976,columnNumber:13},void 0),e.jsxDEV("button",{onClick:()=>Q("list"),className:`py-2 px-1 border-b-2 font-medium text-sm ${De==="list"?"border-gray-900 text-gray-900":"border-transparent text-gray-500"}`,children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:986,columnNumber:13},void 0),e.jsxDEV("button",{onClick:()=>Q("image"),className:`py-2 px-1 border-b-2 font-medium text-sm ${De==="image"?"border-gray-900 text-gray-900":"border-transparent text-gray-500"}`,children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:996,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:975,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:974,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:973,columnNumber:7},void 0),e.jsxDEV("div",{className:"execution-container grid grid-cols-1 md:grid-cols-6 ipad:grid-cols-6 ipad-lg:grid-cols-6 ipad-xl:grid-cols-12 ipad-2xl:grid-cols-12 gap-3 md:gap-4 md:h-[calc(100vh-120px)]",children:[e.jsxDEV("div",{className:`execution-form md:col-span-2 ipad:col-span-2 ipad-lg:col-span-2 ipad-xl:col-span-2 ipad-2xl:col-span-2 bg-white rounded-lg border p-3 md:p-4 overflow-y-auto ${De!=="form"?"hidden md:block":""}`,children:e.jsxDEV("div",{className:"execution-form-inner space-y-4 w-full",children:[e.jsxDEV("div",{className:"exec-project hidden md:block",children:e.jsxDEV("select",{value:H.project,onChange:l=>{ie({...H,project:l.target.value}),l.target.value&&localStorage.setItem("lastSelectedProject",l.target.value)},className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 bg-white cursor-pointer hover:border-gray-400 transition-colors appearance-none bg-[url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20fill%3D%22none%22%20viewBox%3D%220%200%2020%2020%22%3E%3Cpath%20stroke%3D%22%236b7280%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%221.5%22%20d%3D%22M6%208l4%204%204-4%22%2F%3E%3C%2Fsvg%3E')] bg-[length:1.5em_1.5em] bg-[right_0.5rem_center] bg-no-repeat pr-10",children:u.filter(l=>l.status!=="completed").map(l=>e.jsxDEV("option",{value:l.name,children:l.name},l.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1033,columnNumber:19},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1020,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1019,columnNumber:13},void 0),e.jsxDEV("div",{className:"exec-quick-input",children:[e.jsxDEV("textarea",{value:H.quickText,onChange:l=>ie({...H,quickText:l.target.value}),onPaste:l=>{var w;const h=(w=l.clipboardData)==null?void 0:w.items;if(h){for(let q=0;q<h.length;q++)if(h[q].type.indexOf("image")!==-1){l.preventDefault();const _=h[q].getAsFile();if(_){const Y=new FileReader;Y.onload=W=>{var k;const ue=(k=W.target)==null?void 0:k.result;ie(X=>({...X,quickImages:[...X.quickImages,ue]}))},Y.readAsDataURL(_)}break}}},onDragOver:l=>{l.preventDefault(),l.stopPropagation()},onDrop:l=>{l.preventDefault(),l.stopPropagation(),Array.from(l.dataTransfer.files).filter(q=>q.type.startsWith("image/")).forEach(q=>{const _=new FileReader;_.onload=Y=>{var ue;const W=(ue=Y.target)==null?void 0:ue.result;ie(k=>({...k,quickImages:[...k.quickImages,W]}))},_.readAsDataURL(q)})},rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",placeholder:ne?"  ":"   (   Ctrl+V)"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1040,columnNumber:15},void 0),H.quickImages.length>0&&e.jsxDEV("div",{className:"mt-2 mb-2 grid grid-cols-3 gap-2",children:H.quickImages.map((l,h)=>e.jsxDEV("div",{className:"relative group",children:[e.jsxDEV("img",{src:l,alt:` ${h+1}`,className:"w-full h-20 object-cover rounded-lg border"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1095,columnNumber:23},void 0),e.jsxDEV("button",{type:"button",onClick:()=>{ie(w=>({...w,quickImages:w.quickImages.filter((q,_)=>_!==h)}))},className:"absolute top-1 right-1 w-5 h-5 bg-red-500 text-white rounded-full flex items-center justify-center text-xs opacity-0 group-hover:opacity-100 transition-opacity",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1100,columnNumber:23},void 0)]},h,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1094,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1092,columnNumber:17},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 gap-2 mt-2",children:[e.jsxDEV("label",{className:"cursor-pointer",children:[e.jsxDEV("input",{type:"file",accept:"image/*",multiple:!0,className:"hidden",onChange:l=>{Array.from(l.target.files||[]).forEach(w=>{const q=new FileReader;q.onload=_=>{var W;const Y=(W=_.target)==null?void 0:W.result;ie(ue=>({...ue,quickImages:[...ue.quickImages,Y]}))},q.readAsDataURL(w)}),l.target.value=""}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1119,columnNumber:19},void 0),e.jsxDEV("div",{className:"w-full h-10 flex items-center justify-center bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm font-medium border border-gray-300",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1140,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1118,columnNumber:17},void 0),e.jsxDEV("button",{type:"button",onClick:We,className:"h-10 flex items-center justify-center bg-gray-400 text-white rounded-lg hover:bg-gray-500 transition-colors text-sm font-medium",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1144,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1117,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1039,columnNumber:13},void 0),e.jsxDEV("div",{className:"exec-date-process grid grid-cols-2 gap-2",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[" ",H.date&&`(${je(new Date(H.date),"E",{locale:ft})})`]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1158,columnNumber:17},void 0),e.jsxDEV("input",{type:"date",value:H.date,onChange:l=>ie({...H,date:l.target.value}),className:"w-full px-3 py-2 border rounded-lg bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500 cursor-pointer text-gray-900",style:{WebkitAppearance:"none",MozAppearance:"none",appearance:"none",backgroundColor:"white",backgroundImage:"none"}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1161,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1157,columnNumber:15},void 0),e.jsxDEV("div",{className:"relative",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1178,columnNumber:17},void 0),e.jsxDEV("button",{ref:Ve,type:"button",onClick:()=>He(!0),className:"w-full px-3 py-2 border rounded-lg text-left bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500",children:H.process||e.jsxDEV("span",{className:"text-gray-400",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1185,columnNumber:40},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1179,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1177,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1155,columnNumber:13},void 0),e.jsxDEV("div",{className:"exec-item-name relative",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1192,columnNumber:15},void 0),e.jsxDEV("input",{type:"text",value:H.itemName,onChange:l=>ie({...H,itemName:l.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1193,columnNumber:15},void 0),Oe.length>0&&e.jsxDEV("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:Oe.map((l,h)=>e.jsxDEV("button",{type:"button",onClick:()=>{ie({...H,itemName:l}),B([])},className:"w-full px-3 py-2 text-left hover:bg-gray-50 text-sm",children:e.jsxDEV("div",{className:"font-medium text-gray-900",children:l},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1212,columnNumber:23},void 0)},h,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1203,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1201,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1191,columnNumber:13},void 0),e.jsxDEV("div",{className:"exec-amounts space-y-2",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1222,columnNumber:17},void 0),e.jsxDEV("input",{type:"number",value:H.materialCost,onChange:l=>ie({...H,materialCost:l.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1223,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1221,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1232,columnNumber:17},void 0),e.jsxDEV("input",{type:"number",value:H.laborCost,onChange:l=>ie({...H,laborCost:l.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1233,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1231,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex items-center gap-4",children:[e.jsxDEV("button",{type:"button",className:"flex items-center cursor-pointer",onMouseDown:l=>l.preventDefault(),onClick:()=>{I||te(!1),y(!I)},children:[e.jsxDEV("div",{className:`h-4 w-4 border rounded flex items-center justify-center ${I?"bg-gray-600 border-gray-600":"border-gray-300"}`,children:I&&e.jsxDEV("span",{className:"text-white text-xs",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1255,columnNumber:36},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1254,columnNumber:19},void 0),e.jsxDEV("span",{className:"ml-2 text-sm text-gray-700",children:"  (10%)"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1257,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1243,columnNumber:17},void 0),e.jsxDEV("button",{type:"button",className:"flex items-center cursor-pointer",onMouseDown:l=>l.preventDefault(),onClick:()=>{T||y(!1),te(!T)},children:[e.jsxDEV("div",{className:`h-4 w-4 border rounded flex items-center justify-center ${T?"bg-gray-600 border-gray-600":"border-gray-300"}`,children:T&&e.jsxDEV("span",{className:"text-white text-xs",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1273,columnNumber:45},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1272,columnNumber:19},void 0),e.jsxDEV("span",{className:"ml-2 text-sm text-gray-700",children:"3.3% "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1275,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1261,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1242,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1220,columnNumber:13},void 0),e.jsxDEV("div",{className:"exec-total-submit",children:[e.jsxDEV("div",{className:"exec-total pt-2 border-t",children:e.jsxDEV("div",{className:"flex justify-between items-baseline",children:[e.jsxDEV("span",{className:"font-medium",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1287,columnNumber:19},void 0),e.jsxDEV("div",{className:"text-right",children:[(I||T)&&e.jsxDEV("span",{className:"text-xs text-gray-500 mr-2",children:["(",I&&" ",T&&"3.3% ",")"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1290,columnNumber:23},void 0),e.jsxDEV("span",{className:"font-semibold",children:[(()=>{const l=(Number(H.materialCost)||0)+(Number(H.laborCost)||0);return(T?Math.round(l*.967):l).toLocaleString()})(),""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1294,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1288,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1286,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1285,columnNumber:15},void 0),Ae&&e.jsxDEV("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-2 mb-3",children:e.jsxDEV("p",{className:"text-sm text-blue-700 font-medium",children:[" : ",Ae.itemName]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1308,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1307,columnNumber:17},void 0),e.jsxDEV("div",{className:"exec-submit my-6",style:{marginTop:"20px"},children:Ae?e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV("button",{onClick:nt,className:"flex-1 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1316,columnNumber:21},void 0),e.jsxDEV("button",{onClick:st,className:"flex-1 py-2 bg-gray-700 text-white rounded-lg hover:bg-gray-800",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1322,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1315,columnNumber:19},void 0):e.jsxDEV("button",{onClick:Je,className:"w-full py-2 bg-gray-900 text-white rounded-lg hover:bg-gray-800",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1330,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1313,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1284,columnNumber:13},void 0),e.jsxDEV("div",{className:"exec-summary hidden md:block bg-gray-50 rounded-lg p-3 md:p-4 space-y-2 md:mt-8 lg:mt-[114.67px]",children:[e.jsxDEV("div",{className:"flex justify-between items-center",children:[e.jsxDEV("span",{className:"text-sm text-gray-600",children:" :"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1343,columnNumber:17},void 0),e.jsxDEV("span",{className:"text-sm font-medium text-gray-900",children:[ye.material.toLocaleString(),""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1344,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1342,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex justify-between items-center",children:[e.jsxDEV("span",{className:"text-sm text-gray-600",children:" :"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1347,columnNumber:17},void 0),e.jsxDEV("span",{className:"text-sm font-medium text-gray-900",children:[ye.labor.toLocaleString(),""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1348,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1346,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex justify-between items-center",children:[e.jsxDEV("span",{className:"text-sm text-gray-600",children:" :"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1351,columnNumber:17},void 0),e.jsxDEV("span",{className:"text-sm font-medium text-gray-900",children:[ye.vat.toLocaleString(),""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1352,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1350,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex justify-between items-center pt-2 border-t border-gray-200",style:{marginTop:"10px"},children:[e.jsxDEV("span",{className:"text-sm font-bold text-gray-900",children:" :"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1355,columnNumber:17},void 0),e.jsxDEV("span",{className:"text-base font-bold text-gray-900",children:[ye.total.toLocaleString(),""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1356,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1354,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1341,columnNumber:13},void 0),e.jsxDEV("div",{className:"exec-search hidden ipad-xl:block mt-4 space-y-2",children:[e.jsxDEV("div",{className:"relative",children:[e.jsxDEV("input",{type:"text",placeholder:"...",value:f,onChange:l=>b(l.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 text-sm"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1363,columnNumber:17},void 0),e.jsxDEV(Er,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1370,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1362,columnNumber:15},void 0),e.jsxDEV("button",{onClick:()=>L(!0),className:"w-full px-3 py-2 text-sm border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 hover:border-gray-400 transition-all duration-200 font-medium",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1372,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1361,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1017,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1014,columnNumber:9},void 0),e.jsxDEV("div",{className:`execution-list md:col-span-4 ipad:col-span-4 ipad-lg:col-span-4 ipad-xl:col-span-6 ipad-2xl:col-span-6 bg-white rounded-lg border overflow-hidden flex flex-col ${De!=="list"?"hidden md:flex":""}`,children:[De==="list"&&e.jsxDEV("div",{className:"md:hidden border-b bg-gray-50 p-2 space-y-2",children:[e.jsxDEV("div",{className:"bg-white rounded-lg px-3 py-2 border text-xs",children:[e.jsxDEV("div",{className:"flex justify-between gap-2",children:[e.jsxDEV("span",{className:"text-gray-500",children:[" ",e.jsxDEV("span",{className:"font-medium text-gray-900",children:ye.material.toLocaleString()},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1392,columnNumber:55},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1392,columnNumber:19},void 0),e.jsxDEV("span",{className:"text-gray-500",children:[" ",e.jsxDEV("span",{className:"font-medium text-gray-900",children:ye.labor.toLocaleString()},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1393,columnNumber:55},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1393,columnNumber:19},void 0),e.jsxDEV("span",{className:"text-gray-500",children:[" ",e.jsxDEV("span",{className:"font-medium text-gray-900",children:ye.vat.toLocaleString()},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1394,columnNumber:55},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1394,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1391,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex justify-between items-center mt-1 pt-1 border-t border-gray-100",children:[e.jsxDEV("span",{className:"font-bold text-gray-900",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1397,columnNumber:19},void 0),e.jsxDEV("span",{className:"font-bold text-gray-900",children:[ye.total.toLocaleString(),""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1398,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1396,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1390,columnNumber:15},void 0),e.jsxDEV("button",{onClick:()=>L(!0),className:"w-full py-1.5 text-sm border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1403,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1388,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex-1 overflow-auto",children:ke.length>0?e.jsxDEV(e.Fragment,{children:[e.jsxDEV("table",{className:"hidden md:table w-full",children:[e.jsxDEV("thead",{className:"bg-gray-50 sticky top-0 exec-table-header",children:e.jsxDEV("tr",{className:"text-left text-sm text-gray-700 border-b",children:[e.jsxDEV("th",{className:"px-3 py-3 font-medium exec-th-author",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1420,columnNumber:21},void 0),e.jsxDEV("th",{className:"px-3 py-3 font-medium exec-th-date",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1421,columnNumber:21},void 0),e.jsxDEV("th",{className:"px-3 py-3 font-medium exec-th-process",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1422,columnNumber:21},void 0),e.jsxDEV("th",{className:"px-3 py-3 font-medium exec-th-item",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1423,columnNumber:21},void 0),e.jsxDEV("th",{className:"px-3 py-3 font-medium text-right exec-th-material",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1424,columnNumber:21},void 0),e.jsxDEV("th",{className:"px-3 py-3 font-medium text-right exec-th-labor",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1425,columnNumber:21},void 0),e.jsxDEV("th",{className:"px-3 py-3 font-medium text-right exec-th-vat",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1426,columnNumber:21},void 0),e.jsxDEV("th",{className:"px-3 py-3 font-medium text-right exec-th-total",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1427,columnNumber:21},void 0),e.jsxDEV("th",{className:"px-2 py-3 w-20"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1428,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1419,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1418,columnNumber:17},void 0),e.jsxDEV("tbody",{className:"divide-y divide-gray-200",children:ke.map(l=>e.jsxDEV("tr",{className:`group hover:bg-gray-50 cursor-pointer text-sm ${N===l.id?"bg-blue-50":""}`,onClick:()=>j(l.id),children:[e.jsxDEV("td",{className:"px-3 py-3 text-gray-600 whitespace-nowrap exec-author-col",children:l.author||"-"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1438,columnNumber:23},void 0),e.jsxDEV("td",{className:"px-3 py-3 text-gray-600 exec-date-col",children:[e.jsxDEV("span",{className:"exec-date-full",children:je(new Date(l.date),"yyyy-MM-dd (EEE)",{locale:ft})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1442,columnNumber:25},void 0),e.jsxDEV("span",{className:"exec-date-short whitespace-nowrap",children:je(new Date(l.date),"MM-dd (EEE)",{locale:ft})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1443,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1441,columnNumber:23},void 0),e.jsxDEV("td",{className:"px-3 py-3 text-gray-600 exec-process-col",children:l.process||"-"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1445,columnNumber:23},void 0),e.jsxDEV("td",{className:"px-3 py-3 font-medium exec-item-col",children:l.itemName},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1448,columnNumber:23},void 0),e.jsxDEV("td",{className:"px-3 py-3 text-right exec-material-col",children:(l.materialCost||0).toLocaleString()},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1451,columnNumber:23},void 0),e.jsxDEV("td",{className:"px-3 py-3 text-right exec-labor-col",children:(l.laborCost||0).toLocaleString()},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1454,columnNumber:23},void 0),e.jsxDEV("td",{className:"px-3 py-3 text-right exec-vat-col",children:(l.vatAmount||0).toLocaleString()},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1457,columnNumber:23},void 0),e.jsxDEV("td",{className:"px-3 py-3 text-right font-semibold exec-total-col",children:[e.jsxDEV("span",{className:"exec-total-full",children:[(l.totalAmount||0).toLocaleString(),""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1461,columnNumber:25},void 0),e.jsxDEV("span",{className:"exec-total-short",children:(l.totalAmount||0).toLocaleString()},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1462,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1460,columnNumber:23},void 0),e.jsxDEV("td",{className:"px-2 py-3 text-center",children:e.jsxDEV("div",{className:"flex items-center justify-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsxDEV("button",{onClick:h=>mt(l,h),className:"p-1.5 text-gray-500 hover:text-blue-600 hover:bg-blue-50 rounded",title:"",children:e.jsxDEV(Pn,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1471,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1466,columnNumber:27},void 0),e.jsxDEV("button",{onClick:h=>at(l.id,h),className:"p-1.5 text-gray-500 hover:text-red-600 hover:bg-red-50 rounded",title:"",children:e.jsxDEV(bt,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1478,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1473,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1465,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1464,columnNumber:23},void 0)]},l.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1433,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1431,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1417,columnNumber:17},void 0),e.jsxDEV("div",{className:"md:hidden space-y-1.5 p-2",children:ke.map(l=>e.jsxDEV("div",{className:`border rounded-lg px-3 py-2 relative ${N===l.id?"bg-blue-50 border-blue-300":"bg-white"}`,onClick:()=>{j(l.id),Q("image")},children:[e.jsxDEV("div",{className:"flex justify-between items-center",children:[e.jsxDEV("p",{className:"font-medium text-gray-900 text-sm truncate flex-1 mr-2",children:l.itemName},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1502,columnNumber:23},void 0),e.jsxDEV("div",{className:"flex items-center gap-1",children:[e.jsxDEV("p",{className:"text-sm font-bold text-gray-900 shrink-0",children:[(l.totalAmount||0).toLocaleString(),""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1504,columnNumber:25},void 0),e.jsxDEV("button",{onClick:h=>{h.stopPropagation(),qe($e===l.id?null:l.id)},className:"p-1 text-gray-400 hover:text-gray-600",children:e.jsxDEV(gc,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1514,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1507,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1503,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1501,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex justify-between items-center mt-1 text-xs text-gray-500",children:[e.jsxDEV("span",{children:[l.process||"-","  ",l.author||"-","  ",je(new Date(l.date),"MM.dd",{locale:ft})]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1520,columnNumber:23},void 0),e.jsxDEV("span",{className:"text-[10px] text-gray-400",children:[" ",(l.materialCost||0).toLocaleString(),"   ",(l.laborCost||0).toLocaleString(),"   ",(l.vatAmount||0).toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1521,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1519,columnNumber:21},void 0),$e===l.id&&e.jsxDEV("div",{className:"absolute right-2 top-8 bg-white border rounded-lg shadow-lg z-10 py-1",children:[e.jsxDEV("button",{onClick:h=>mt(l,h),className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-100 flex items-center gap-2",children:[e.jsxDEV(Pn,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1532,columnNumber:27},void 0),""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1528,columnNumber:25},void 0),e.jsxDEV("button",{onClick:h=>at(l.id,h),className:"w-full px-4 py-2 text-left text-sm text-red-600 hover:bg-red-50 flex items-center gap-2",children:[e.jsxDEV(bt,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1539,columnNumber:27},void 0),""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1535,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1527,columnNumber:23},void 0)]},l.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1490,columnNumber:19},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1488,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1415,columnNumber:15},void 0):e.jsxDEV("div",{className:"flex items-center justify-center h-full text-gray-500",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1549,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1413,columnNumber:11},void 0),e.jsxDEV("div",{className:"hidden md:block ipad-xl:hidden border-t bg-gray-50 p-3",children:e.jsxDEV("div",{className:"flex flex-row items-center gap-3",children:[e.jsxDEV("div",{className:"flex-1 max-w-sm",children:e.jsxDEV("div",{className:"relative",children:[e.jsxDEV("input",{type:"text",placeholder:"...",value:f,onChange:l=>b(l.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 text-sm md:text-sm lg:text-base"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1561,columnNumber:19},void 0),e.jsxDEV(Er,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1568,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1560,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1559,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex items-center justify-end gap-2",children:[N&&e.jsxDEV("button",{onClick:async()=>{const l=n.find(w=>w.id===N),h=K.find(w=>w.id===N);if(l){if(confirm("  ?"))try{await a(N),j(null),M.success(" ")}catch(w){console.error("  :",w),M.error("  ")}}else(h==null?void 0:h.type)==="payment"?confirm(`   ?
(   )`)&&(le(w=>[...w,N]),j(null),M.success("  ")):M.error("   ")},className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"",children:e.jsxDEV(bt,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1609,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1575,columnNumber:19},void 0),e.jsxDEV("button",{onClick:()=>L(!0),className:"px-3 py-2 text-sm md:px-3 lg:px-4 lg:text-base border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 hover:border-gray-400 transition-all duration-200 font-medium whitespace-nowrap",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1614,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1573,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1557,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1556,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1383,columnNumber:9},void 0),e.jsxDEV("div",{className:`execution-images md:col-span-6 ipad:col-span-6 ipad-lg:col-span-6 ipad-xl:col-span-4 ipad-2xl:col-span-4 bg-white rounded-lg border flex flex-col overflow-hidden ${De!=="image"?"hidden md:flex":""}`,onDragOver:ve,onDragLeave:Be,onDrop:Pe,children:[e.jsxDEV("input",{type:"file",multiple:!0,accept:"image/*",onChange:A,className:"hidden",id:"image-file-input"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1635,columnNumber:11},void 0),ne&&N&&De==="image"&&(()=>{const l=K.find(h=>h.id===N);return l?e.jsxDEV("div",{className:"border-b bg-gray-50 p-3",children:e.jsxDEV("div",{className:"flex justify-between items-start",children:[e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("p",{className:"font-medium text-gray-900 text-sm",children:l.itemName},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1652,columnNumber:23},void 0),e.jsxDEV("p",{className:"text-xs text-gray-500 mt-0.5",children:[l.process||"-","  ",je(new Date(l.date),"yyyy.MM.dd",{locale:ft})]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1653,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1651,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-sm font-bold text-gray-900",children:["",(l.totalAmount||0).toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1657,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1650,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1649,columnNumber:17},void 0):null})(),e.jsxDEV("div",{className:"flex-1 overflow-y-auto p-4 relative",onClick:l=>{var w;const h=l.target;!h.closest("img")&&!h.closest("button")&&N&&(()=>{const _=n.find(W=>W.id===N),Y=K.find(W=>W.id===N);return(Y==null?void 0:Y.images)||(_==null?void 0:_.images)||[]})().length>0&&((w=document.getElementById("image-file-input"))==null||w.click())},children:N?(()=>{var _,Y,W,ue,k;const l=n.find(X=>X.id===N),h=K.find(X=>X.id===N),w=(h==null?void 0:h.images)||(l==null?void 0:l.images)||[],q=s.find(X=>X.id===N);return console.log("[ExecutionHistory]  :",{selectedRecord:N,fullRecordExists:!!h,fullRecordType:h==null?void 0:h.type,fullRecordImages:((_=h==null?void 0:h.images)==null?void 0:_.length)||0,recordExists:!!l,recordImages:((Y=l==null?void 0:l.images)==null?void 0:Y.length)||0,originalPaymentExists:!!q,originalPaymentImages:((W=q==null?void 0:q.images)==null?void 0:W.length)||0,paymentRecordImagesForId:((ue=ge[N])==null?void 0:ue.length)||0,finalImagesCount:w.length}),e.jsxDEV("div",{className:"h-full flex flex-col",children:[(h==null?void 0:h.type)==="payment"&&e.jsxDEV("div",{className:"mb-3 p-3 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsxDEV("p",{className:"text-sm font-semibold text-gray-900 mb-1",children:" :"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1716,columnNumber:23},void 0),e.jsxDEV("p",{className:"text-sm text-gray-700 mb-2",children:[" ",(k=h.totalAmount)==null?void 0:k.toLocaleString(),"",h.itemName&&` (${h.itemName})`]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1717,columnNumber:23},void 0),ze===N?e.jsxDEV("div",{className:"mt-3 pt-3 border-t border-gray-200",children:[e.jsxDEV("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-xs font-medium text-gray-900 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1727,columnNumber:31},void 0),e.jsxDEV("input",{type:"text",inputMode:"numeric",value:J===""?"":J.toLocaleString(),onChange:X=>{const fe=X.target.value.replace(/,/g,"").replace(/[^0-9]/g,""),we=fe===""?"":parseInt(fe,10);Z(we);const Ie=h.totalAmount||0;v(we!==""?Math.max(0,Ie-we):"")},placeholder:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-gray-400 focus:border-transparent"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1728,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1726,columnNumber:29},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-xs font-medium text-gray-900 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1749,columnNumber:31},void 0),e.jsxDEV("input",{type:"text",inputMode:"numeric",value:P===""?"":P.toLocaleString(),onChange:X=>{const fe=X.target.value.replace(/,/g,"").replace(/[^0-9]/g,""),we=fe===""?"":parseInt(fe,10);v(we);const Ie=h.totalAmount||0;Z(we!==""?Math.max(0,Ie-we):"")},placeholder:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-gray-400 focus:border-transparent"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1750,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1748,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1725,columnNumber:27},void 0),e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV("button",{onClick:async()=>{const X=J===""?0:J,fe=P===""?0:P;try{await ss.updatePaymentAmounts(h.id,X,fe),await t(),U(null),Z(""),v(""),M.success(" .")}catch(we){console.error("  :",we),M.error("  .")}},className:"flex-1 px-3 py-2 text-sm font-medium text-white bg-gray-700 rounded-lg hover:bg-gray-800 transition-colors",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1772,columnNumber:29},void 0),e.jsxDEV("button",{onClick:()=>{U(null),Z(""),v("")},className:"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1803,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1771,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1724,columnNumber:25},void 0):e.jsxDEV("button",{onClick:()=>{const X=h.totalAmount||0,fe=h.quickText||h.itemName||"",we=fe.includes("")||fe.includes(""),Ie=fe.includes("")||fe.includes("")||fe.includes("");let Ye=.7,Fe=.3;we&&!Ie?(Ye=1,Fe=0):!we&&Ie&&(Ye=0,Fe=1),Z(Math.round(X*Ye)),v(Math.round(X*Fe)),U(N)},className:"w-full px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1816,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1714,columnNumber:21},void 0),e.jsxDEV("div",{className:"mb-3",children:[e.jsxDEV("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1853,columnNumber:21},void 0),e.jsxDEV("textarea",{value:Ce[N]!==void 0?Ce[N]:(h==null?void 0:h.quickText)||(h==null?void 0:h.notes)||"",onChange:X=>{Te(fe=>({...fe,[N]:X.target.value}))},placeholder:" ...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-gray-500 focus:border-transparent resize-none",rows:12},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1854,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1852,columnNumber:19},void 0),w.length>0&&e.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2 mb-3",children:w.map((X,fe)=>e.jsxDEV("div",{className:"relative group",children:[e.jsxDEV("img",{src:X,alt:` ${fe+1}`,className:"w-full aspect-square object-contain rounded-lg cursor-pointer hover:opacity-90 transition-opacity border bg-gray-100",onClick:we=>{we.stopPropagation(),be(X)}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1875,columnNumber:27},void 0),e.jsxDEV("button",{onClick:we=>{we.stopPropagation(),Ne(fe)},className:"absolute top-1 right-1 p-1 bg-red-500 text-white rounded-full opacity-100 md:opacity-0 md:group-hover:opacity-100 transition-opacity",children:e.jsxDEV(ot,{className:"h-3 w-3"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1891,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1884,columnNumber:27},void 0),e.jsxDEV("div",{className:"absolute bottom-1 left-1 bg-black bg-opacity-50 text-white text-xs px-1.5 py-0.5 rounded",children:[fe+1,"/",w.length]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1893,columnNumber:27},void 0)]},fe,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1874,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1872,columnNumber:21},void 0),e.jsxDEV("label",{htmlFor:"image-file-input",className:`block cursor-pointer ${w.length>0?"":"flex-1"}`,onClick:X=>X.stopPropagation(),children:e.jsxDEV("div",{className:`w-full border-2 border-dashed rounded-lg p-4 text-center transition-colors flex flex-col items-center justify-center ${x?"border-gray-500 bg-gray-50":"border-gray-300 hover:border-gray-400"} ${w.length>0?"min-h-[80px]":"min-h-[200px]"}`,children:[e.jsxDEV(gs,{className:`mx-auto text-gray-400 mb-1 ${w.length>0?"h-6 w-6":"h-10 w-10 mb-2"}`},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1912,columnNumber:23},void 0),e.jsxDEV("p",{className:"text-sm font-medium text-gray-700",children:w.length>0?" ":" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1913,columnNumber:23},void 0),w.length===0&&e.jsxDEV("p",{className:"text-xs text-gray-500 mt-1",children:"   Ctrl+V "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1917,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1907,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1902,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1711,columnNumber:17},void 0)})():e.jsxDEV("div",{className:"h-full flex items-center justify-center min-h-[200px]",children:e.jsxDEV("div",{className:"text-center text-gray-400",children:[e.jsxDEV(us,{className:"h-12 w-12 mx-auto mb-2"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1927,columnNumber:19},void 0),e.jsxDEV("p",{className:"text-sm",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1928,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1926,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1925,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1668,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1626,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1011,columnNumber:7},void 0),ee&&e.jsxDEV("div",{className:"fixed inset-0 z-50 flex items-end md:items-center justify-center bg-black bg-opacity-50",onClick:l=>{window.innerWidth>=768&&l.target===l.currentTarget&&L(!1)},children:e.jsxDEV("div",{className:"bg-white rounded-t-2xl md:rounded-lg w-full md:max-w-4xl max-h-[85vh] md:max-h-[80vh] overflow-hidden md:m-4",onClick:l=>l.stopPropagation(),children:[e.jsxDEV("div",{className:"flex items-center justify-between p-4 md:p-5 lg:p-6 border-b",children:[e.jsxDEV("h2",{className:"text-lg md:text-lg lg:text-xl font-bold text-gray-900",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1949,columnNumber:15},void 0),e.jsxDEV("button",{onClick:()=>L(!1),className:"p-1.5 md:p-2 hover:bg-gray-100 rounded-full",children:e.jsxDEV(ot,{className:"h-5 w-5 text-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1954,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1950,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1948,columnNumber:13},void 0),e.jsxDEV("div",{className:"p-4 md:p-5 lg:p-6 overflow-y-auto max-h-[calc(85vh-120px)] md:max-h-[calc(80vh-120px)]",children:Nt().length>0?e.jsxDEV(e.Fragment,{children:[e.jsxDEV("table",{className:"hidden md:table w-full",children:[e.jsxDEV("thead",{className:"bg-gray-100",children:e.jsxDEV("tr",{className:"text-left text-sm text-gray-700",children:[e.jsxDEV("th",{className:"px-4 py-3 font-medium",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1965,columnNumber:25},void 0),e.jsxDEV("th",{className:"px-4 py-3 font-medium text-right",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1966,columnNumber:25},void 0),e.jsxDEV("th",{className:"px-4 py-3 font-medium text-right",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1967,columnNumber:25},void 0),e.jsxDEV("th",{className:"px-4 py-3 font-medium text-right",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1968,columnNumber:25},void 0),e.jsxDEV("th",{className:"px-4 py-3 font-medium text-right",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1969,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1964,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1963,columnNumber:21},void 0),e.jsxDEV("tbody",{className:"divide-y divide-gray-200",children:Nt().map(([l,h])=>e.jsxDEV("tr",{className:"hover:bg-gray-50",children:[e.jsxDEV("td",{className:"px-4 py-3 font-medium text-gray-700",children:l},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1975,columnNumber:27},void 0),e.jsxDEV("td",{className:"px-4 py-3 text-right",children:h.materialCost.toLocaleString()},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1976,columnNumber:27},void 0),e.jsxDEV("td",{className:"px-4 py-3 text-right",children:h.laborCost.toLocaleString()},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1977,columnNumber:27},void 0),e.jsxDEV("td",{className:"px-4 py-3 text-right",children:h.vatAmount.toLocaleString()},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1978,columnNumber:27},void 0),e.jsxDEV("td",{className:"px-4 py-3 text-right font-semibold",children:[h.totalAmount.toLocaleString(),""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1979,columnNumber:27},void 0)]},l,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1974,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1972,columnNumber:21},void 0),e.jsxDEV("tfoot",{className:"bg-gray-100 border-t-2 border-gray-300",children:e.jsxDEV("tr",{children:[e.jsxDEV("td",{className:"px-4 py-3 font-bold text-gray-700",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1985,columnNumber:25},void 0),e.jsxDEV("td",{className:"px-4 py-3 text-right font-bold",children:ye.material.toLocaleString()},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1986,columnNumber:25},void 0),e.jsxDEV("td",{className:"px-4 py-3 text-right font-bold",children:ye.labor.toLocaleString()},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1987,columnNumber:25},void 0),e.jsxDEV("td",{className:"px-4 py-3 text-right font-bold",children:ye.vat.toLocaleString()},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1988,columnNumber:25},void 0),e.jsxDEV("td",{className:"px-4 py-3 text-right font-bold text-gray-900",children:[ye.total.toLocaleString(),""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1989,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1984,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1983,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1962,columnNumber:19},void 0),e.jsxDEV("div",{className:"md:hidden space-y-3",children:[Nt().map(([l,h])=>e.jsxDEV("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsxDEV("div",{className:"flex justify-between items-start mb-3",children:[e.jsxDEV("h3",{className:"font-semibold text-gray-900",children:l},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1999,columnNumber:27},void 0),e.jsxDEV("span",{className:"text-lg font-bold text-gray-900",children:["",h.totalAmount.toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2e3,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1998,columnNumber:25},void 0),e.jsxDEV("div",{className:"grid grid-cols-3 gap-2 text-sm",children:[e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-gray-500 text-xs",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2006,columnNumber:29},void 0),e.jsxDEV("p",{className:"font-medium",children:["",h.materialCost.toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2007,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2005,columnNumber:27},void 0),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-gray-500 text-xs",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2010,columnNumber:29},void 0),e.jsxDEV("p",{className:"font-medium",children:["",h.laborCost.toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2011,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2009,columnNumber:27},void 0),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-gray-500 text-xs",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2014,columnNumber:29},void 0),e.jsxDEV("p",{className:"font-medium",children:["",h.vatAmount.toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2015,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2013,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2004,columnNumber:25},void 0)]},l,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1997,columnNumber:23},void 0)),e.jsxDEV("div",{className:"bg-gray-900 text-white rounded-lg p-4 mt-4",children:[e.jsxDEV("div",{className:"flex justify-between items-start mb-3",children:[e.jsxDEV("h3",{className:"font-bold text-white",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2024,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-xl font-bold",children:["",ye.total.toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2025,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2023,columnNumber:23},void 0),e.jsxDEV("div",{className:"grid grid-cols-3 gap-2 text-sm",children:[e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-gray-300 text-xs",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2031,columnNumber:27},void 0),e.jsxDEV("p",{className:"font-semibold",children:["",ye.material.toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2032,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2030,columnNumber:25},void 0),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-gray-300 text-xs",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2035,columnNumber:27},void 0),e.jsxDEV("p",{className:"font-semibold",children:["",ye.labor.toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2036,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2034,columnNumber:25},void 0),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-gray-300 text-xs",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2039,columnNumber:27},void 0),e.jsxDEV("p",{className:"font-semibold",children:["",ye.vat.toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2040,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2038,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2029,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2022,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1995,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1960,columnNumber:17},void 0):e.jsxDEV("div",{className:"text-center py-8 text-gray-500",children:"  ."},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2047,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1958,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1947,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1938,columnNumber:9},void 0),Ee&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"md:hidden fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:e.jsxDEV("div",{className:"bg-white rounded-lg w-full max-w-md mx-4 max-h-[80vh] overflow-hidden",children:[e.jsxDEV("div",{className:"flex items-center justify-between p-3 border-b",children:[e.jsxDEV("h2",{className:"text-base font-bold text-gray-900",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2063,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>He(!1),className:"p-1 hover:bg-gray-100 rounded-full",children:e.jsxDEV(ot,{className:"h-4 w-4 text-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2068,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2064,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2062,columnNumber:15},void 0),e.jsxDEV("div",{className:"p-3 overflow-y-auto max-h-[calc(80vh-100px)]",children:[e.jsxDEV("div",{className:"grid grid-cols-2 gap-2 mb-2",children:Nr.map(l=>e.jsxDEV("button",{onClick:()=>{ie({...H,process:l}),He(!1)},className:`p-2 text-sm text-center border rounded-lg transition-all ${H.process===l?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:border-gray-400 hover:bg-gray-50"}`,children:l},l,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2076,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2074,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>{ie({...H,process:""}),He(!1)},className:"w-full p-2 text-sm text-center border-2 border-dashed border-gray-300 rounded-lg hover:border-gray-400 hover:bg-gray-50 text-gray-500",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2094,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2072,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2061,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2060,columnNumber:11},void 0),e.jsxDEV("div",{className:"hidden md:block fixed inset-0 z-40",onClick:()=>He(!1),children:e.jsxDEV("div",{onClick:l=>l.stopPropagation(),className:"absolute bg-white rounded-lg shadow-xl border border-gray-200",style:{top:Ve.current?`${Ve.current.getBoundingClientRect().bottom+window.scrollY+4}px`:"50%",left:Ve.current?`${Ve.current.getBoundingClientRect().left+window.scrollX}px`:"50%"},children:[e.jsxDEV("div",{className:"flex items-center justify-between p-2 border-b",children:[e.jsxDEV("h2",{className:"text-sm font-bold text-gray-900",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2118,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>He(!1),className:"p-1 hover:bg-gray-100 rounded-full",children:e.jsxDEV(ot,{className:"h-3 w-3 text-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2123,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2119,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2117,columnNumber:15},void 0),e.jsxDEV("div",{className:"p-2",children:[e.jsxDEV("div",{className:"grid grid-cols-4 gap-1.5 mb-2",children:Nr.map(l=>e.jsxDEV("button",{onClick:()=>{ie({...H,process:l}),He(!1)},className:`p-1.5 text-xs text-center border rounded-lg transition-all whitespace-nowrap ${H.process===l?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:border-gray-400 hover:bg-gray-50"}`,children:l},l,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2131,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2129,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>{ie({...H,process:""}),He(!1)},className:"w-full p-1.5 text-xs text-center border-2 border-dashed border-gray-300 rounded-lg hover:border-gray-400 hover:bg-gray-50 text-gray-500",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2149,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2127,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2109,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2108,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2058,columnNumber:9},void 0),z&&e.jsxDEV("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-90",onClick:()=>se(!1),children:e.jsxDEV("div",{className:"relative max-w-[90vw] max-h-[90vh]",children:[e.jsxDEV("button",{onClick:l=>{l.stopPropagation(),se(!1)},className:"absolute -top-10 right-0 text-white hover:text-gray-300 transition-colors",children:e.jsxDEV(ot,{className:"h-8 w-8"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2178,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2171,columnNumber:13},void 0),oe?e.jsxDEV("img",{src:oe,alt:" ",className:"max-w-full max-h-[90vh] object-contain",onClick:l=>l.stopPropagation(),onError:()=>{M.error("   "),se(!1)}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2181,columnNumber:15},void 0):e.jsxDEV("div",{className:"text-white text-center p-4",children:e.jsxDEV("p",{children:"   "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2193,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2192,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2170,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2166,columnNumber:9},void 0),Ge&&Ae&&e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxDEV("div",{className:"bg-white rounded-lg w-full max-w-md",children:[e.jsxDEV("div",{className:"flex justify-between items-center p-4 border-b",children:[e.jsxDEV("h3",{className:"text-lg font-semibold",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2205,columnNumber:15},void 0),e.jsxDEV("button",{onClick:()=>{de(!1),Ue(null)},className:"text-gray-500 hover:text-gray-700",children:e.jsxDEV(ot,{className:"w-5 h-5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2213,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2206,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2204,columnNumber:13},void 0),e.jsxDEV("div",{className:"p-4 space-y-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2219,columnNumber:17},void 0),e.jsxDEV("input",{type:"date",value:he.date,onChange:l=>Re({...he,date:l.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2220,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2218,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2229,columnNumber:17},void 0),e.jsxDEV("select",{value:he.process,onChange:l=>Re({...he,process:l.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2235,columnNumber:19},void 0),Nr.map(l=>e.jsxDEV("option",{value:l,children:l},l,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2237,columnNumber:21},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2230,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2228,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2243,columnNumber:17},void 0),e.jsxDEV("input",{type:"text",value:he.itemName,onChange:l=>Re({...he,itemName:l.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2244,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2242,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2253,columnNumber:17},void 0),e.jsxDEV("input",{type:"number",value:he.materialCost,onChange:l=>Re({...he,materialCost:l.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2254,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2252,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2263,columnNumber:17},void 0),e.jsxDEV("input",{type:"number",value:he.laborCost,onChange:l=>Re({...he,laborCost:l.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2264,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2262,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2216,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex gap-2 p-4 border-t",children:[e.jsxDEV("button",{onClick:()=>{de(!1),Ue(null)},className:"flex-1 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2273,columnNumber:15},void 0),e.jsxDEV("button",{onClick:st,className:"flex-1 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2282,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2272,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2203,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2202,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:953,columnNumber:5},void 0)},w0=window.location.origin;class _0{constructor(){Ra(this,"socket",null)}connect(n){return this.socket=wn(w0,{auth:{token:n},transports:["websocket"],reconnection:!0,reconnectionAttempts:5,reconnectionDelay:1e3}),this.socket.on("connect",()=>{console.log(" Socket connected")}),this.socket.on("disconnect",()=>{console.log(" Socket disconnected")}),this.socket.on("connect_error",t=>{console.error("Socket connection error:",t)}),this.socket}disconnect(){this.socket&&(this.socket.disconnect(),this.socket=null)}joinProject(n){var t;(t=this.socket)==null||t.emit("join:project",n)}leaveProject(n){var t;(t=this.socket)==null||t.emit("leave:project",n)}emitScheduleUpdate(n){var t;(t=this.socket)==null||t.emit("schedule:update",n)}onScheduleUpdated(n){var t;(t=this.socket)==null||t.on("schedule:updated",n)}emitPaymentRequest(n){var t;(t=this.socket)==null||t.emit("payment:request",n)}onNewPayment(n){var t;(t=this.socket)==null||t.on("payment:new",n)}emitPaymentStatusUpdate(n){var t;(t=this.socket)==null||t.emit("payment:statusUpdate",n)}onPaymentStatusChanged(n){var t;(t=this.socket)==null||t.on("payment:statusChanged",n)}onPaymentUpdate(n){var t;(t=this.socket)==null||t.on("payment:update",n)}sendMessage(n){var t;(t=this.socket)==null||t.emit("message:send",n)}onMessageReceive(n){var t;(t=this.socket)==null||t.on("message:receive",n)}sendNotification(n){var t;(t=this.socket)==null||t.emit("notification:send",n)}onNotificationReceive(n){var t;(t=this.socket)==null||t.on("notification:receive",n)}onActiveUsers(n){var t;(t=this.socket)==null||t.on("users:active",n)}on(n,t){var r;(r=this.socket)==null||r.on(n,t)}emit(n,t){var r;(r=this.socket)==null||r.emit(n,t)}off(n,t){var r;(r=this.socket)==null||r.off(n,t)}getSocket(){return this.socket}}const j0=new _0,L0=({projectName:s,onClose:n,type:t="cash"})=>{const r=t==="cash",i=r?"":"",a=r?"      .":"      .",[o,m]=d.useState({receiptDate:je(new Date,"yyyy-MM-dd"),customerName:"",amount:"",purpose:" ",receivedBy:""}),c=()=>{window.print()},p=f=>{const b=Number(f.replace(/,/g,""));return isNaN(b)?"":b.toLocaleString()},u=f=>{if(f===0)return"";const b=["","","",""],N=["","","",""],j=["","","","","","","","","",""];let x="",R=0;for(;f>0;){const I=f%1e4;if(I>0){let y="",T=I,te=0;for(;T>0;){const ee=T%10;ee>0&&(y=j[ee]+N[te]+y),T=Math.floor(T/10),te++}x=y+b[R]+x}f=Math.floor(f/1e4),R++}return x+""};return e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 print:relative print:bg-white",children:e.jsxDEV("div",{className:"bg-white rounded-lg w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto print:max-h-none print:mx-0 print:rounded-none",children:[e.jsxDEV("div",{className:"flex items-center justify-between p-4 border-b print:hidden",children:[e.jsxDEV("h2",{className:"text-lg font-bold text-gray-900",children:i},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:76,columnNumber:13},void 0),e.jsxDEV("button",{onClick:n,className:"p-1 hover:bg-gray-100 rounded-full",children:e.jsxDEV(ot,{className:"h-5 w-5 text-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:81,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:77,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:75,columnNumber:11},void 0),e.jsxDEV("div",{className:"p-6 space-y-4 print:hidden",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:88,columnNumber:15},void 0),e.jsxDEV("input",{type:"date",value:o.receiptDate,onChange:f=>m({...o,receiptDate:f.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:89,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:87,columnNumber:13},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:98,columnNumber:15},void 0),e.jsxDEV("input",{type:"text",value:o.customerName,onChange:f=>m({...o,customerName:f.target.value}),placeholder:" ",className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:99,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:97,columnNumber:13},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:109,columnNumber:15},void 0),e.jsxDEV("input",{type:"text",value:p(o.amount),onChange:f=>{const b=f.target.value.replace(/,/g,"");/^\d*$/.test(b)&&m({...o,amount:b})},placeholder:" ",className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:110,columnNumber:15},void 0),o.amount&&e.jsxDEV("p",{className:"text-sm text-gray-600 mt-1",children:u(Number(o.amount))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:123,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:108,columnNumber:13},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:130,columnNumber:15},void 0),e.jsxDEV("input",{type:"text",value:o.purpose,onChange:f=>m({...o,purpose:f.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:131,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:129,columnNumber:13},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:140,columnNumber:15},void 0),e.jsxDEV("input",{type:"text",value:o.receivedBy,onChange:f=>m({...o,receivedBy:f.target.value}),placeholder:" ",className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:141,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:139,columnNumber:13},void 0),e.jsxDEV("button",{onClick:c,disabled:!o.customerName||!o.amount||!o.receivedBy,className:"w-full py-2 bg-gray-900 text-white rounded-lg hover:bg-gray-800 disabled:bg-gray-300 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[e.jsxDEV(dm,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:155,columnNumber:15},void 0),""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:150,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:86,columnNumber:11},void 0),e.jsxDEV("div",{className:"hidden print:block p-12",children:e.jsxDEV("div",{className:"border-4 border-double border-gray-900 p-8",children:[e.jsxDEV("h1",{className:"text-center text-3xl font-bold mb-8",children:r?"    ":"    "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:163,columnNumber:15},void 0),e.jsxDEV("div",{className:"space-y-6 text-lg",children:[e.jsxDEV("div",{className:"flex items-baseline border-b border-gray-300 pb-2",children:[e.jsxDEV("span",{className:"font-medium w-32",children:":"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:169,columnNumber:19},void 0),e.jsxDEV("span",{className:"flex-1 receipt-date",children:je(new Date(o.receiptDate),"yyyy MM dd",{locale:ft})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:170,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:168,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex items-baseline border-b border-gray-300 pb-2",children:[e.jsxDEV("span",{className:"font-medium w-32",children:":"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:174,columnNumber:19},void 0),e.jsxDEV("span",{className:"flex-1",children:o.customerName},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:175,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:173,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex items-baseline border-b border-gray-300 pb-2",children:[e.jsxDEV("span",{className:"font-medium w-32",children:":"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:179,columnNumber:19},void 0),e.jsxDEV("span",{className:"flex-1",children:s},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:180,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:178,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex items-baseline border-b border-gray-300 pb-2",children:[e.jsxDEV("span",{className:"font-medium w-32",children:":"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:184,columnNumber:19},void 0),e.jsxDEV("span",{className:"flex-1 font-bold receipt-amount",children:["",Number(o.amount).toLocaleString(),""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:185,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:183,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex items-baseline border-b border-gray-300 pb-2",children:[e.jsxDEV("span",{className:"font-medium w-32",children:"():"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:191,columnNumber:19},void 0),e.jsxDEV("span",{className:"flex-1",children:u(Number(o.amount))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:192,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:190,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex items-baseline border-b border-gray-300 pb-2",children:[e.jsxDEV("span",{className:"font-medium w-32",children:":"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:196,columnNumber:19},void 0),e.jsxDEV("span",{className:"flex-1",children:o.purpose},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:197,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:195,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:167,columnNumber:15},void 0),e.jsxDEV("div",{className:"mt-12 text-center",children:[e.jsxDEV("p",{className:"text-lg mb-8",children:a},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:202,columnNumber:17},void 0),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV("p",{className:"text-lg receipt-date",children:je(new Date(o.receiptDate),"yyyy MM dd",{locale:ft})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:205,columnNumber:19},void 0),e.jsxDEV("p",{className:"text-xl font-medium mt-8",children:[": ",o.receivedBy," ",e.jsxDEV("span",{className:"ml-4",children:"()"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:207,columnNumber:48},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:206,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:204,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:201,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:162,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:161,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:73,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:72,columnNumber:7},void 0),e.jsxDEV("style",{children:`
        @media print {
          body * {
            visibility: hidden;
          }
          .print\\:block, .print\\:block * {
            visibility: visible;
          }
          .print\\:hidden {
            display: none !important;
          }
        }
      `},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:217,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:71,columnNumber:5},void 0)},vi=["","","/","","","","","","","","","","","","",""],H0=()=>{const{payments:s,loadPaymentsFromAPI:n,addPaymentToAPI:t,deletePaymentFromAPI:r,updatePaymentInAPI:i,updatePayment:a}=os(),{user:o}=Mt(),m=Qt(),[c,p]=d.useState(""),[u,f]=d.useState(null),[b,N]=d.useState(null),[j,x]=d.useState(!1),[R,I]=d.useState(!1),[y,T]=d.useState(!1),[te,ee]=d.useState(!1),[L,z]=d.useState(""),[se,oe]=d.useState("form"),[ce,De]=d.useState(!1),[Q,ne]=d.useState(!1),xe=d.useRef(null),[Ee,He]=d.useState("pending"),[Ve,Ge]=d.useState("all"),[de,Ae]=d.useState(!1),[Ue,he]=d.useState(null),[Re,$e]=d.useState(!1),[qe,Oe]=d.useState(""),[B,ge]=d.useState(!1),me=d.useRef(!1),[_e,G]=d.useState([]),[C,le]=d.useState([]),[D,H]=d.useState(null),[ie,Ce]=d.useState([]),[Te,ze]=d.useState([]),[U,J]=d.useState(!1),[Z,P]=d.useState({}),[v,$]=d.useState(!1),re=()=>{const l=localStorage.getItem("lastSelectedProject"),h=m.filter(w=>w.status!=="completed");return l&&h.some(w=>w.name===l)?l:h.length>0?h[0].name:""},[O,g]=d.useState({project:"",date:je(new Date,"yyyy-MM-dd"),process:"",itemName:"",amount:"",accountHolder:"",bankName:"",accountNumber:"",images:[],quickText:"",quickImages:[]});d.useEffect(()=>{(async()=>{try{const h=await vs.getAllContractors();G(h.map(w=>({id:w._id||w.id,rank:w.rank,companyName:w.companyName,name:w.name,process:w.process,contact:w.contact,accountNumber:w.accountNumber,bankName:w.bankName,notes:w.notes,createdAt:new Date(w.createdAt),updatedAt:new Date(w.updatedAt)})))}catch(h){console.error("Failed to load contractors:",h)}})()},[]),d.useEffect(()=>{n().catch(h=>{console.error("Failed to load payments:",h)});const l=()=>{De(window.innerWidth<1024)};if(l(),window.addEventListener("resize",l),m.length>0&&!O.project){const h=re();h&&(g(w=>({...w,project:h})),localStorage.setItem("lastSelectedProject",h))}return()=>window.removeEventListener("resize",l)},[n,m]),d.useEffect(()=>{const l=setInterval(()=>{console.log("[ ]    ..."),n().catch(w=>{console.error("[ ] :",w)})},3e4),h=()=>{document.visibilityState==="visible"&&(console.log("[ ]   -    ..."),n().catch(w=>{console.error("[ ] :",w)}))};return document.addEventListener("visibilitychange",h),()=>{clearInterval(l),document.removeEventListener("visibilitychange",h)}},[n]),d.useEffect(()=>{const l=j0.getSocket();if(!l)return;const h=w=>{console.log(" [ ]    :",w),n().catch(q=>{console.error("[ ]  :",q)})};return l.on("payment:refresh",h),()=>{l.off("payment:refresh",h)}},[n]),d.useEffect(()=>{(async()=>{var q,_,Y,W;if(me.current)return;const h=new URLSearchParams(window.location.search),w=h.get("complete")||h.get("c");if(w){if(!o){console.log("[ ]   -  ");return}me.current=!0,console.log("[ ]  :",w),window.history.replaceState({},"","/payments"),oe("list"),He("completed"),a(String(w),{status:"completed"}),M.success(" ");try{await i(String(w),{status:"completed"}),n()}catch(ue){console.error("[ ]  :",ue),a(String(w),{status:"pending"}),He("pending");let k="  ";((q=ue.response)==null?void 0:q.status)===401?k=" .  ":((_=ue.response)==null?void 0:_.status)===404?k="     (ID: "+w+")":(W=(Y=ue.response)==null?void 0:Y.data)!=null&&W.error?k=ue.response.data.error:ue.message&&(k+=": "+ue.message),M.error(k)}}})()},[n,i,a,o]),d.useEffect(()=>{if(O.process){const l=new Set(s.filter(_=>{var Y;return _.status==="completed"&&((Y=_.bankInfo)==null?void 0:Y.accountHolder)}).map(_=>_.bankInfo.accountHolder.trim().toLowerCase())),h=(_,Y)=>{const W=_.toLowerCase(),ue=Y.toLowerCase();if(W.includes(ue)||ue.includes(W))return!0;const k=W.split("/").map(fe=>fe.trim()),X=ue.replace(/$/,"").trim();for(const fe of k)if(fe===X||X.includes(fe)||fe.includes(X))return!0;return!1},q=_e.filter(_=>{if(!h(O.process,_.process))return!1;const W=_.accountNumber&&_.accountNumber.trim()!=="",ue=_.name.trim().toLowerCase(),k=l.has(ue);return W||k}).sort((_,Y)=>{const W=_.accountNumber&&_.accountNumber.trim()!=="",ue=Y.accountNumber&&Y.accountNumber.trim()!=="";return W&&!ue?-1:!W&&ue?1:0});le(q)}else le([])},[O.process,_e,s]),d.useEffect(()=>{if(O.process){const l=(q,_)=>{if(!_)return!1;const Y=q.toLowerCase(),W=_.toLowerCase();if(Y.includes(W)||W.includes(Y))return!0;const ue=Y.split("/").map(X=>X.trim()),k=W.replace(/$/,"").trim();for(const X of ue)if(X===k||k.includes(X)||X.includes(k))return!0;return!1},h=s.filter(q=>{var _,Y,W;return q.status==="completed"&&q.process&&l(O.process,q.process)&&((_=q.bankInfo)==null?void 0:_.accountHolder)&&((Y=q.bankInfo)==null?void 0:Y.bankName)&&((W=q.bankInfo)==null?void 0:W.accountNumber)}),w=new Map;h.forEach(q=>{const _=`${q.bankInfo.accountHolder}_${q.bankInfo.bankName}_${q.bankInfo.accountNumber}`;w.has(_)||w.set(_,{accountHolder:q.bankInfo.accountHolder,bankName:q.bankInfo.bankName,accountNumber:q.bankInfo.accountNumber,itemName:q.itemName||"",amount:q.amount||0})}),Ce(Array.from(w.values()))}else Ce([])},[O.process,s]),d.useEffect(()=>{var h;const l=((h=O.accountHolder)==null?void 0:h.trim())||"";if(l.length>=1&&U){const w=[],q=new Set;_e.filter(_=>_.accountNumber&&_.accountNumber.trim()!=="").forEach(_=>{const Y=_.name.trim(),W=Y.toLowerCase(),ue=l.toLowerCase();W.startsWith(ue)&&!q.has(W)&&(q.add(W),w.push({name:Y,bankName:_.bankName||"",accountNumber:_.accountNumber||"",source:"contractor"}))}),s.filter(_=>{var Y;return _.status==="completed"&&((Y=_.bankInfo)==null?void 0:Y.accountHolder)}).forEach(_=>{const Y=_.bankInfo.accountHolder.trim(),W=Y.toLowerCase(),ue=l.toLowerCase();W.startsWith(ue)&&!q.has(W)&&(q.add(W),w.push({name:Y,bankName:_.bankInfo.bankName||"",accountNumber:_.bankInfo.accountNumber||"",source:"payment"}))}),ze(w)}else ze([])},[O.accountHolder,U,_e,s]);const E=l=>{const h=l.split(`
`).map(W=>W.trim()).filter(W=>W),w={amounts:{},bankInfo:{},vendor:null,itemName:void 0,includeVat:!1},q=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],_=W=>{if(!W||W.length<2||W.length>5||!/^[-]{2,5}$/.test(W))return!1;if(W.length>=2){const ue=W.charAt(0),k=W.substring(0,2);if(["","","","","","",""].includes(k)||q.includes(ue))return!0}return W.length>=2&&W.length<=4},Y=h.some(W=>W.includes(" ")||W.includes(""));return h.forEach((W,ue)=>{if(W.includes("")&&W.includes(":")){const k=W.match(/\s*:\s*(.+)/);k&&(w.itemName=k[1].trim())}if(W.includes("")&&W.includes(":")){const k=W.match(/\s*:\s*(.+)/);k&&(w.bankInfo.accountHolder=k[1].trim())}if(W.includes("")&&W.includes(":")){const k=W.match(/\s*:\s*(.+)/);k&&(w.bankInfo.bankName=k[1].trim())}if(W.includes("")&&W.includes(":")){const k=W.match(/\s*:\s*(.+)/);k&&(w.bankInfo.accountNumber=k[1].trim())}if(W.includes("")&&W.includes(":")){const k=W.match(/\s*:\s*([\d,]+)?/);k&&(w.amounts.total=parseInt(k[1].replace(/,/g,"")))}}),Y||(h.forEach(W=>{const ue=W.match(/\[([^\]]+)\]/);ue&&!w.itemName&&(w.itemName=ue[1].trim())}),h.forEach((W,ue)=>{(W.includes("")||W.includes(" ")||W.includes("()"))&&(w.includeVat=!0);const k=W.match(/(\d+)\s*\s*/);if(k){const Ke=parseInt(k[1])*1e4;W.includes("")||W.includes("")?w.amounts.material=Ke:W.includes("")||W.includes("")?w.amounts.labor=Ke:w.amounts.total||(w.amounts.total=Ke),W=W.replace(/(\d+)\s*\s*/g,"")}W.includes("/")&&W.split("/").forEach(tt=>{const F=tt.trim();F.startsWith("[")||F.endsWith("]")||(/^[\d\-]+$/.test(F)&&F.replace(/\-/g,"").length>=10?w.bankInfo.accountNumber||(w.bankInfo.accountNumber=F):_(F)&&!w.bankInfo.accountHolder&&(w.bankInfo.accountHolder=F))});const X=[/\d{6}[\s\-]+\d{2}[\s\-]+\d{6}/,/\d{5,7}[\s\-]+\d{2}[\s\-]+\d{5,7}/,/\d{3,4}[\s\-]+\d{3,4}[\s\-]+\d{3,4}[\s\-]+\d{3,4}/,/\d{3}[\s\-]+\d{2}[\s\-]+\d{6}/,/\d{3}[\s\-]+\d{4}[\s\-]+\d{7}/,/\d{4}[\s\-]+\d{4}[\s\-]+\d{5}/,/\d{3,4}[\s\-]+\d{2,6}[\s\-]+\d{4,7}/,/\d{10,}/];let fe="",we=-1;for(const Ke of X){const tt=W.match(Ke);if(tt&&!w.bankInfo.accountNumber){fe=tt[0],we=tt.index||-1,w.bankInfo.accountNumber=tt[0].trim().replace(/\s+/g,"-");const ae=W.substring(we+fe.length).trim().split(/\s+/);for(const Me of ae)if(!(Me.startsWith("[")||Me.endsWith("]"))&&_(Me)){w.bankInfo.accountHolder=Me;break}if(!w.bankInfo.accountHolder&&ue+1<h.length){const Me=h[ue+1],rt=Me.split(/\s+/);for(const Ze of rt)if(!(Ze.startsWith("[")||Ze.endsWith("]"))&&_(Ze)){w.bankInfo.accountHolder=Ze;break}if(!w.bankInfo.accountHolder){const Ze=Me.match(/^([-]{2,5})/);if(Ze){const gt=Ze[1].trim();_(gt)&&(w.bankInfo.accountHolder=gt)}}}break}}const Ie=W.match(/[\d,]+/g);Ie&&Ie.forEach(Ke=>{const tt=parseInt(Ke.replace(/,/g,"")),F=Ke.replace(/,/g,""),ae=fe&&fe.includes(F);!w.bankInfo.accountNumber&&F.length>=10&&F.length<=20?(w.bankInfo.accountNumber=F,fe=F):tt>=1e3&&!k&&!ae&&(W.includes("")||W.includes("")?w.amounts.material=tt:W.includes("")||W.includes("")?w.amounts.labor=tt:w.amounts.total||(w.amounts.total=tt))});const Ye={:"KB",KB:"KB",:"",:"",:"",:"IBK",IBK:"IBK",:"NH",NH:"NH",:"",:"",:"",:"",K:"",:"KDB",KDB:"KDB",:"",:"",:"",:"",:"",:"",:"SC",SC:"SC",:"",:"",:"",:""};for(const[Ke,tt]of Object.entries(Ye))if(W.includes(Ke)){w.bankInfo.bankName=tt;const F=new RegExp(`${Ke}\\s+([-]{2,5})`),ae=W.match(F);ae&&(w.bankInfo.accountHolder=ae[1]);break}if(!w.bankInfo.bankName){const Ke=W.match(/([-]+)(|)/);Ke&&(w.bankInfo.bankName=Ke[0])}const Fe=W.match(/\(([-]{2,5})\)/);if(Fe){const Ke=Fe[1];_(Ke)&&(w.bankInfo.accountHolder=Ke)}if(!Fe&&!w.bankInfo.accountHolder){const Ke=/[-]{2,5}/g,tt=W.match(Ke);if(tt){const F=W.match(/\d{10,}/)||W.match(/\d{3,4}[\s\-]+\d{3,4}[\s\-]+\d{3,4}[\s\-]+\d{3,4}/);tt.forEach(ae=>{const Me=l.split(`
`)[ue];Me&&Me.includes(`[${ae}]`)||!_(ae)||["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""].includes(ae)||Fe&&ae===Fe[1]||(F&&!Fe?w.bankInfo.accountHolder=ae:w.bankInfo.accountHolder||(ue>0&&(h[ue-1].match(/\d{10,}/)||h[ue-1].match(/|/))||ue<h.length-1&&(h[ue+1].match(/\d{10,}/)||h[ue+1].match(/|/))||W.match(/|/))&&(w.bankInfo.accountHolder=ae))})}}const et={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};for(const[Ke,tt]of Object.entries(et))if(W.includes(Ke)){w.vendor=tt;break}if(ue===0&&!w.itemName){const Ke=W.replace(/[\[\]{}()<>]/g,"").trim();Ke&&!Ke.includes(" ")&&(w.itemName=Ke.substring(0,50))}})),w.itemName&&w.itemName.includes("")&&(w.vendor=""),w},S=()=>{const l=O.quickText;if(!l.trim())return;const h=E(l),w={project:O.project,date:O.date,quickText:O.quickText,quickImages:O.quickImages||[],process:"",itemName:"",amount:"",accountHolder:"",bankName:"",accountNumber:"",images:[]};H(null),I(!1),T(!1);let q=0;if(h.amounts.material&&(q+=h.amounts.material),h.amounts.labor&&(q+=h.amounts.labor),h.amounts.total&&!h.amounts.material&&!h.amounts.labor&&(q=h.amounts.total),q>0&&(w.amount=q),h.bankInfo.bankName&&(w.bankName=h.bankInfo.bankName),h.bankInfo.accountNumber){w.accountNumber=h.bankInfo.accountNumber;const Y=_e.find(W=>{var X,fe;const ue=(X=h.bankInfo.accountNumber)==null?void 0:X.replace(/[-\s]/g,"");return((fe=W.accountNumber)==null?void 0:fe.replace(/[-\s]/g,""))===ue});Y?(w.accountHolder=Y.name||h.bankInfo.accountHolder,w.bankName=Y.bankName||h.bankInfo.bankName,w.accountNumber=Y.accountNumber||h.bankInfo.accountNumber,H(Y.id||Y._id||null),Y.process&&(w.process=Y.process)):h.bankInfo.accountHolder&&(w.accountHolder=h.bankInfo.accountHolder)}else h.bankInfo.accountHolder&&(w.accountHolder=h.bankInfo.accountHolder);if(h.vendor&&(w.process=h.vendor),!w.process){const Y=l.toLowerCase();for(const W of vi)if(Y.includes(W.toLowerCase())){w.process=W;break}}h.itemName&&(w.itemName=h.itemName),g(w),h.includeVat&&(I(!0),T(!1));let _=[];if(h.amounts.material||h.amounts.labor||h.amounts.total){const Y=[];h.amounts.material&&Y.push(`: ${h.amounts.material.toLocaleString()}`),h.amounts.labor&&Y.push(`: ${h.amounts.labor.toLocaleString()}`),h.amounts.total&&!h.amounts.material&&!h.amounts.labor&&Y.push(`: ${h.amounts.total.toLocaleString()}`),_.push(Y.join(", "))}if(h.bankInfo.bankName||h.bankInfo.accountHolder){const Y=[];h.bankInfo.bankName&&Y.push(h.bankInfo.bankName),h.bankInfo.accountHolder&&Y.push(h.bankInfo.accountHolder),h.bankInfo.accountNumber&&Y.push(h.bankInfo.accountNumber),Y.length>0&&_.push(`: ${Y.join(" ")}`)}h.vendor&&_.push(`: ${h.vendor}`),h.includeVat&&_.push("  "),_.length>0?M.success(`  !
${_.join(`
`)}`,{duration:4e3,style:{whiteSpace:"pre-line"}}):M.info("  ...    .")};d.useEffect(()=>{(async()=>{try{await Od();const h=await Wd();P(h),$(!0)}catch(h){console.error("  :",h),$(!0)}})()},[]);const K=d.useRef({});d.useEffect(()=>{v&&(Object.entries(Z).forEach(([l,h])=>{JSON.stringify(K.current[l])!==JSON.stringify(h)&&qd(l,h).catch(w=>{console.error("  :",w),M.error("  ")})}),K.current={...Z})},[Z,v]);const ke=d.useCallback(async l=>{var q;const h=(q=l.clipboardData)==null?void 0:q.items;if(!h)return;let w=!1;for(let _=0;_<h.length;_++)if(h[_].type.indexOf("image")!==-1){w=!0;break}if(w){if(!u){const _=document.activeElement;(_==null?void 0:_.tagName)==="INPUT"||(_==null?void 0:_.tagName)==="TEXTAREA"||(_==null?void 0:_.classList.contains("form-input"))||M.error("  ");return}for(let _=0;_<h.length;_++)if(h[_].type.indexOf("image")!==-1){l.preventDefault();const Y=h[_].getAsFile();if(Y){const W=new FileReader;W.onload=async ue=>{var X;const k=(X=ue.target)==null?void 0:X.result;if(k)try{const fe=s.find(Ye=>Ye.id===u),Ie=[...(fe==null?void 0:fe.images)||Z[u]||[],k];await ss.updatePaymentImages(u,Ie),P(Ye=>({...Ye,[u]:Ie})),await n(),M.success(" ")}catch(fe){console.error("  :",fe),M.error("  ")}},W.readAsDataURL(Y)}}}},[u,s,Z,n]);d.useEffect(()=>(document.addEventListener("paste",ke),()=>document.removeEventListener("paste",ke)),[ke]);const ye=(o==null?void 0:o.name)===""?s.filter(l=>m.some(h=>h.name===l.project)):s,We=[...ye].sort((l,h)=>new Date(h.requestDate).getTime()-new Date(l.requestDate).getTime());console.log("[ ]",{" payments":s.length,"  ":ye.length," ()":s.filter(l=>l.status==="completed").length," ( )":ye.filter(l=>l.status==="completed").length," ":o==null?void 0:o.name," ":m.length});const Je=We.filter(l=>{var _,Y,W;const h=c===""||((_=l.purpose)==null?void 0:_.toLowerCase().includes(c.toLowerCase()))||((Y=l.itemName)==null?void 0:Y.toLowerCase().includes(c.toLowerCase()))||((W=l.process)==null?void 0:W.toLowerCase().includes(c.toLowerCase())),w=l.status===Ee,q=Ee==="pending"||!O.project||l.project===O.project;return h&&w&&q}),mt=l=>{const h=l.id||l._id||null;if(D===h){H(null);const Y=document.querySelector('input[placeholder=" "]');Y&&setTimeout(()=>{Y.focus()},100);return}H(h);const w=Ln(l.name);let q=l.bankName||"",_=l.accountNumber||"";if(_&&!q){const Y=_.trim().split(/\s+/);if(Y.length>=2){const W=Y[0];(W.includes("")||W.includes("")||W.includes("")||W.includes("")||W.includes(""))&&(q=W,_=Y.slice(1).join(""))}}g(Y=>({...Y,accountHolder:w,bankName:q,accountNumber:_}))};Je.reduce((l,h)=>{const w=h.materialAmount||0,q=h.laborAmount||0,_=h.amount||0;let Y=w,W=q,ue=0;return w===0&&q===0&&_>0?h.includesVAT?(Y=Math.round(_/1.1),ue=_-Y):(Y=_,ue=0):h.includesVAT?(w>0&&(Y=Math.round(w/1.1)),q>0&&(W=Math.round(q/1.1)),ue=_-(Y+W)):ue=0,l.material+=Y,l.labor+=W,l.vat+=ue,l.total+=_,l},{material:0,labor:0,vat:0,total:0});const nt=async()=>{var h;if(B){console.log(" Already submitting, ignoring click");return}if(console.log(" handleSave called"),console.log(" Current user:",o),console.log(" Form data:",O),!O.project){M.error(" ");return}if(!O.itemName){M.error(" ");return}const l=Number(O.amount)||0;if(l===0){M.error(" ");return}ge(!0);try{const w=y?Math.round(l*.967):l,q=new Date;if(b){const _={project:O.project,requestDate:new Date(O.date),purpose:O.itemName,amount:w,category:"material",urgency:"normal",process:O.process,itemName:O.itemName,includesVAT:R,applyTaxDeduction:y,materialAmount:w,laborAmount:0,originalLaborAmount:0,accountHolder:O.accountHolder,bank:O.bankName,accountNumber:O.accountNumber,bankInfo:O.accountHolder||O.bankName||O.accountNumber?{accountHolder:O.accountHolder,bankName:O.bankName,accountNumber:O.accountNumber}:void 0,updatedAt:q};console.log(" Updating payment:",_),await i(b,_),M.success(" "),N(null)}else{const _={id:`payment_${Date.now()}`,project:O.project,requestDate:new Date(O.date),requestedBy:(o==null?void 0:o.name)||"  ",purpose:O.itemName,amount:w,status:"pending",category:"material",urgency:"normal",process:O.process,itemName:O.itemName,includesVAT:R,applyTaxDeduction:y,materialAmount:w,laborAmount:0,originalLaborAmount:0,accountHolder:O.accountHolder,bank:O.bankName,accountNumber:O.accountNumber,bankInfo:O.accountHolder||O.bankName||O.accountNumber?{accountHolder:O.accountHolder,bankName:O.bankName,accountNumber:O.accountNumber}:void 0,quickText:O.quickText||"",images:O.quickImages,attachments:[],createdAt:q,updatedAt:q};console.log(" Creating payment:",_),console.log(" Images in payment:",((h=O.quickImages)==null?void 0:h.length)||0,"");const Y=await t(_);if(M.success(" "),!R&&!y&&O.accountHolder&&O.bankName&&O.accountNumber)try{await Le.post("/payments/send-toss-payment-sms",{recipientPhone:"01089423283",accountHolder:O.accountHolder,bankName:O.bankName,accountNumber:O.accountNumber,amount:w,projectName:O.project,itemName:O.itemName,process:O.process,paymentId:Y}),M.success("   ")}catch(W){console.error("SMS  :",W)}}g(_=>({project:_.project,date:je(new Date,"yyyy-MM-dd"),process:"",itemName:"",materialCost:"",laborCost:"",amount:"",accountHolder:"",bankName:"",accountNumber:"",images:[],quickText:"",quickImages:[]})),I(!1),T(!1),H(null),window.innerWidth<768&&oe("list")}catch(w){console.error(" Payment save error:",w),M.error("  : "+w.message)}finally{ge(!1)}},st=l=>{var h,w,q,_;try{console.log("[handleEdit] Starting edit for payment:",l.id);const Y=l.originalMaterialAmount!==void 0?l.originalMaterialAmount:l.materialAmount||0,W=l.originalLaborAmount!==void 0?l.originalLaborAmount:l.laborAmount||0,ue={project:l.project||"",date:l.requestDate?je(new Date(l.requestDate),"yyyy-MM-dd"):je(new Date,"yyyy-MM-dd"),process:l.process||"",itemName:l.itemName||l.purpose||"",materialCost:Y>0?Y.toString():"",laborCost:W>0?W.toString():"",amount:((h=l.amount)==null?void 0:h.toString())||"",accountHolder:((w=l.bankInfo)==null?void 0:w.accountHolder)||"",bankName:((q=l.bankInfo)==null?void 0:q.bankName)||"",accountNumber:((_=l.bankInfo)==null?void 0:_.accountNumber)||"",images:l.attachments||[],quickText:l.quickText||"",quickImages:l.images||[]};console.log("[handleEdit] Setting form data:",ue),g(ue),I(l.includesVAT||!1),T(l.applyTaxDeduction||!1),f(l.id),N(l.id),ce&&oe("form"),console.log("[handleEdit] Edit setup complete"),M.success("  ")}catch(Y){console.error("[handleEdit] Error:",Y),M.error("     ")}},at=async l=>{var h,w,q;try{const _=((h=l.bankInfo)==null?void 0:h.accountHolder)||l.accountHolder,Y=((w=l.bankInfo)==null?void 0:w.bankName)||l.bank,W=((q=l.bankInfo)==null?void 0:q.accountNumber)||l.accountNumber;if(!_||!Y||!W){M.error("  .    .");return}if(!window.confirm(`  ?

: 
: ${Y}
: ${W}
: ${l.amount.toLocaleString()}`))return;const k=W.replace(/[-\s]/g,""),fe={KB:"",:"",:"",:"",:"",NH:"",:"",IBK:"",:"",SC:"SC",:"",:"",:"",:"",:"",KDB:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}[Y]||Y,Ie={KB:"004",:"004",:"088",:"020",:"081",NH:"011",:"011",IBK:"003",:"003",SC:"023",:"027",:"027",:"045",:"048",:"071",KDB:"002",:"002",:"007",:"031",:"032",:"039",:"034",:"037",:"035",:"090",:"089",:"092"}[Y]||"004",Ye="",Fe=`supertoss://send?amount=${l.amount}&bankCode=${Ie}&bank=${encodeURIComponent(fe)}&accountNo=${k}&receiverName=${encodeURIComponent(Ye)}&toName=${encodeURIComponent(Ye)}`;let et=!1;try{window.location.href=Fe,et=!0,M.success("  ...",{duration:3e3}),setTimeout(()=>{const Ke=/iPhone|iPad|iPod/i.test(navigator.userAgent),tt=/Android/i.test(navigator.userAgent);(Ke||tt)&&M(`      .

: 
: ${W}
: ${l.amount.toLocaleString()}

    .`,{icon:"",duration:8e3})},2e3)}catch(Ke){console.error("   :",Ke),M(`   .

: 
: ${Y}
: ${W}
: ${l.amount.toLocaleString()}

    .`,{icon:"",duration:1e4})}}catch(_){console.error(" :",_),M.error(`   : ${_.message}`)}},Nt=async l=>{try{const h=s.find(w=>w.id===l);if(h&&h.quickText){const w=localStorage.getItem("executionMemos"),q=w?JSON.parse(w):{};q[l]=h.quickText,localStorage.setItem("executionMemos",JSON.stringify(q))}await i(l,{status:"completed"}),M.success(" "),Ae(!1)}catch{M.error("  ")}},A=async l=>{var q;if(!u){M.error("  ");return}const w=Array.from(((q=l.target)==null?void 0:q.files)||[]).filter(_=>_.type.startsWith("image/"));if(w.length!==0){try{const _=await Promise.all(w.map(k=>new Promise((X,fe)=>{const we=new FileReader;we.onload=Ie=>{var Fe;const Ye=(Fe=Ie.target)==null?void 0:Fe.result;Ye?X(Ye):fe(new Error("  "))},we.onerror=()=>fe(new Error("FileReader ")),we.readAsDataURL(k)}))),Y=s.find(k=>k.id===u),ue=[...(Y==null?void 0:Y.images)||Z[u]||[],..._];await ss.updatePaymentImages(u,ue),P(k=>({...k,[u]:ue})),await n(),M.success(`${_.length}  `)}catch(_){console.error("  :",_),M.error("  ")}l.target.value=""}},Ne=async l=>{if(u)try{const h=s.find(_=>_.id===u),q=((h==null?void 0:h.images)||Z[u]||[]).filter((_,Y)=>Y!==l);await ss.updatePaymentImages(u,q),P(_=>({..._,[u]:q})),await n()}catch(h){console.error("  :",h),M.error("  ")}},be=l=>{z(l),ee(!0)},ve=l=>{l.preventDefault(),x(!0)},Be=l=>{l.preventDefault(),x(!1)},Pe=async l=>{if(l.preventDefault(),x(!1),!u){M.error("  ");return}const w=Array.from(l.dataTransfer.files).filter(q=>q.type.startsWith("image/"));if(w.length!==0)try{const q=await Promise.all(w.map(ue=>new Promise((k,X)=>{const fe=new FileReader;fe.onload=we=>{var Ye;const Ie=(Ye=we.target)==null?void 0:Ye.result;Ie?k(Ie):X(new Error("  "))},fe.onerror=()=>X(new Error("FileReader ")),fe.readAsDataURL(ue)}))),_=s.find(ue=>ue.id===u),W=[...(_==null?void 0:_.images)||Z[u]||[],...q];await ss.updatePaymentImages(u,W),P(ue=>({...ue,[u]:W})),await n(),M.success(`${q.length}  `)}catch(q){console.error("  :",q),M.error("  ")}};return e.jsxDEV("div",{className:"space-y-3 md:space-y-4",children:[e.jsxDEV("div",{className:"lg:hidden mb-4",children:e.jsxDEV("select",{value:O.project,onChange:l=>{g({...O,project:l.target.value}),l.target.value&&localStorage.setItem("lastSelectedProject",l.target.value)},className:"w-full px-3 py-2.5 md:py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 bg-white cursor-pointer hover:border-gray-400 transition-colors appearance-none bg-[url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20fill%3D%22none%22%20viewBox%3D%220%200%2020%2020%22%3E%3Cpath%20stroke%3D%22%236b7280%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%221.5%22%20d%3D%22M6%208l4%204%204-4%22%2F%3E%3C%2Fsvg%3E')] bg-[length:1.5em_1.5em] bg-[right_0.5rem_center] bg-no-repeat pr-10",children:[(o==null?void 0:o.name)!==""&&e.jsxDEV("option",{value:"",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:1976,columnNumber:35},void 0),m.filter(l=>l.status!=="completed").map(l=>e.jsxDEV("option",{value:l.name,children:l.name},l.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:1978,columnNumber:13},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:1966,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:1965,columnNumber:7},void 0),e.jsxDEV("div",{className:"lg:hidden border-b border-gray-200 mb-4",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:e.jsxDEV("nav",{className:"flex space-x-4",children:[e.jsxDEV("button",{onClick:()=>oe("form"),className:`py-2 px-1 border-b-2 font-medium text-sm ${se==="form"?"border-gray-900 text-gray-900":"border-transparent text-gray-500"}`,children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:1987,columnNumber:13},void 0),e.jsxDEV("button",{onClick:()=>oe("list"),className:`py-2 px-1 border-b-2 font-medium text-sm ${se==="list"?"border-gray-900 text-gray-900":"border-transparent text-gray-500"}`,children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:1997,columnNumber:13},void 0),e.jsxDEV("button",{onClick:()=>oe("image"),className:`py-2 px-1 border-b-2 font-medium text-sm ${se==="image"?"border-gray-900 text-gray-900":"border-transparent text-gray-500"}`,children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2007,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:1986,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:1985,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:1984,columnNumber:7},void 0),e.jsxDEV("div",{className:"payment-container grid grid-cols-1 md:grid-cols-6 ipad:grid-cols-6 ipad-lg:grid-cols-6 ipad-xl:grid-cols-12 ipad-2xl:grid-cols-12 gap-3 md:gap-4",children:[e.jsxDEV("div",{className:`payment-form md:col-span-2 ipad:col-span-2 ipad-lg:col-span-2 ipad-xl:col-span-2 ipad-2xl:col-span-2 bg-white rounded-lg border p-3 md:p-4 overflow-y-auto h-[calc(100vh-180px)] ${se!=="form"?"hidden md:block":""}`,children:e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("div",{className:"hidden lg:block payment-project-row",children:e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV("select",{value:O.project,onChange:l=>{g({...O,project:l.target.value}),l.target.value&&localStorage.setItem("lastSelectedProject",l.target.value)},className:"flex-1 px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 bg-white cursor-pointer hover:border-gray-400 transition-colors appearance-none bg-[url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20fill%3D%22none%22%20viewBox%3D%220%200%2020%2020%22%3E%3Cpath%20stroke%3D%22%236b7280%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%221.5%22%20d%3D%22M6%208l4%204%204-4%22%2F%3E%3C%2Fsvg%3E')] bg-[length:1.5em_1.5em] bg-[right_0.5rem_center] bg-no-repeat pr-10",children:[(o==null?void 0:o.name)!==""&&e.jsxDEV("option",{value:"",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2042,columnNumber:43},void 0),m.filter(l=>l.status!=="completed").map(l=>e.jsxDEV("option",{value:l.name,children:l.name},l.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2044,columnNumber:21},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2032,columnNumber:17},void 0),e.jsxDEV("select",{value:O.bankName,onChange:l=>g({...O,bankName:l.target.value}),className:"payment-bank-select hidden px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 bg-white cursor-pointer hover:border-gray-400 transition-colors appearance-none bg-[url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20fill%3D%22none%22%20viewBox%3D%220%200%2020%2020%22%3E%3Cpath%20stroke%3D%22%236b7280%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%221.5%22%20d%3D%22M6%208l4%204%204-4%22%2F%3E%3C%2Fsvg%3E')] bg-[length:1.5em_1.5em] bg-[right_0.5rem_center] bg-no-repeat pr-8",children:[e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2052,columnNumber:19},void 0),e.jsxDEV("option",{value:"KB",children:"KB"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2053,columnNumber:19},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2054,columnNumber:19},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2055,columnNumber:19},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2056,columnNumber:19},void 0),e.jsxDEV("option",{value:"NH",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2057,columnNumber:19},void 0),e.jsxDEV("option",{value:"IBK",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2058,columnNumber:19},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2059,columnNumber:19},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2060,columnNumber:19},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2061,columnNumber:19},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2062,columnNumber:19},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2063,columnNumber:19},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2064,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2047,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2031,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2030,columnNumber:13},void 0),e.jsxDEV("div",{children:[e.jsxDEV("textarea",{value:O.quickText,onChange:l=>g({...O,quickText:l.target.value}),onPaste:l=>{var w;const h=(w=l.clipboardData)==null?void 0:w.items;if(h){for(let q=0;q<h.length;q++)if(h[q].type.indexOf("image")!==-1){l.preventDefault();const _=h[q].getAsFile();if(_){const Y=new FileReader;Y.onload=W=>{var k;const ue=(k=W.target)==null?void 0:k.result;g(X=>({...X,quickImages:[...X.quickImages,ue]}))},Y.readAsDataURL(_)}break}}},onDragOver:l=>{l.preventDefault(),l.stopPropagation()},onDrop:l=>{l.preventDefault(),l.stopPropagation(),Array.from(l.dataTransfer.files).filter(q=>q.type.startsWith("image/")).forEach(q=>{const _=new FileReader;_.onload=Y=>{var ue;const W=(ue=Y.target)==null?void 0:ue.result;g(k=>({...k,quickImages:[...k.quickImages,W]}))},_.readAsDataURL(q)})},rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",placeholder:ce?"  ":"   (   Ctrl+V)"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2071,columnNumber:15},void 0),O.quickImages.length>0&&e.jsxDEV("div",{className:"mt-2 mb-2 grid grid-cols-3 gap-2",children:O.quickImages.map((l,h)=>e.jsxDEV("div",{className:"relative group",children:[e.jsxDEV("img",{src:l,alt:` ${h+1}`,className:"w-full h-20 object-cover rounded-lg border"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2126,columnNumber:23},void 0),e.jsxDEV("button",{type:"button",onClick:()=>{g(w=>({...w,quickImages:w.quickImages.filter((q,_)=>_!==h)}))},className:"absolute top-1 right-1 w-5 h-5 bg-red-500 text-white rounded-full flex items-center justify-center text-xs opacity-0 group-hover:opacity-100 transition-opacity",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2131,columnNumber:23},void 0)]},h,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2125,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2123,columnNumber:17},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 gap-2 mt-2",children:[e.jsxDEV("label",{className:"cursor-pointer",children:[e.jsxDEV("input",{type:"file",accept:"image/*",multiple:!0,className:"hidden",onChange:l=>{Array.from(l.target.files||[]).forEach(w=>{const q=new FileReader;q.onload=_=>{var W;const Y=(W=_.target)==null?void 0:W.result;g(ue=>({...ue,quickImages:[...ue.quickImages,Y]}))},q.readAsDataURL(w)}),l.target.value=""}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2150,columnNumber:19},void 0),e.jsxDEV("div",{className:"w-full h-10 flex items-center justify-center bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm font-medium border border-gray-300",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2171,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2149,columnNumber:17},void 0),e.jsxDEV("button",{type:"button",onClick:S,className:"h-10 flex items-center justify-center bg-gray-400 text-white rounded-lg hover:bg-gray-500 transition-colors text-sm font-medium",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2175,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2148,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2070,columnNumber:13},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[" ",O.date&&`(${je(new Date(O.date),"E",{locale:ft})})`]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2188,columnNumber:17},void 0),e.jsxDEV("input",{type:"date",value:O.date,onChange:l=>g({...O,date:l.target.value}),className:"w-full px-3 py-2 border rounded-lg bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500 cursor-pointer text-gray-900",style:{WebkitAppearance:"none",MozAppearance:"none",appearance:"none",backgroundColor:"white",backgroundImage:"none"}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2191,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2187,columnNumber:15},void 0),e.jsxDEV("div",{className:"relative",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2207,columnNumber:17},void 0),e.jsxDEV("button",{ref:xe,type:"button",onClick:()=>ne(!0),className:"w-full px-3 py-2 border rounded-lg text-left bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500",children:O.process||e.jsxDEV("span",{className:"text-gray-400",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2214,columnNumber:40},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2208,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2206,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2186,columnNumber:13},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2221,columnNumber:15},void 0),e.jsxDEV("input",{type:"text",value:O.itemName,onChange:l=>g({...O,itemName:l.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2222,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2220,columnNumber:13},void 0),e.jsxDEV("div",{className:"space-y-2 payment-amount-section",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2233,columnNumber:17},void 0),e.jsxDEV("div",{className:"relative",children:[e.jsxDEV("input",{type:"text",value:O.amount?Number(O.amount).toLocaleString():"",onChange:l=>{const h=l.target.value.replace(/[^0-9]/g,"");g({...O,amount:h})},className:"w-full px-3 py-2 pr-8 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",placeholder:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2235,columnNumber:19},void 0),e.jsxDEV("span",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2246,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2234,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2232,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex items-center gap-4",children:[e.jsxDEV("button",{type:"button",className:"flex items-center cursor-pointer",onMouseDown:l=>l.preventDefault(),onClick:()=>{R||T(!1),I(!R)},children:[e.jsxDEV("div",{className:`h-4 w-4 border rounded flex items-center justify-center ${R?"bg-gray-600 border-gray-600":"border-gray-300"}`,children:R&&e.jsxDEV("span",{className:"text-white text-xs",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2264,columnNumber:36},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2263,columnNumber:19},void 0),e.jsxDEV("span",{className:"ml-2 text-sm text-gray-700",children:"  (10%)"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2266,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2252,columnNumber:17},void 0),e.jsxDEV("button",{type:"button",className:"flex items-center cursor-pointer",onMouseDown:l=>l.preventDefault(),onClick:()=>{y||I(!1),T(!y)},children:[e.jsxDEV("div",{className:`h-4 w-4 border rounded flex items-center justify-center ${y?"bg-gray-600 border-gray-600":"border-gray-300"}`,children:y&&e.jsxDEV("span",{className:"text-white text-xs",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2282,columnNumber:45},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2281,columnNumber:19},void 0),e.jsxDEV("span",{className:"ml-2 text-sm text-gray-700",children:"3.3% "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2284,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2270,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2251,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2231,columnNumber:13},void 0),e.jsxDEV("div",{className:"payment-account-section border-t pt-3 space-y-2",children:[(C.length>0||ie.length>0&&!D)&&e.jsxDEV("div",{className:"payment-suggestions-row grid grid-cols-2 gap-2",children:[e.jsxDEV("div",{className:`payment-contractor-suggestions bg-amber-50 border border-amber-200 rounded-lg p-2 ${C.length===0?"hidden":""}`,children:[e.jsxDEV("label",{className:"block text-xs font-medium text-amber-900 mb-1",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2300,columnNumber:21},void 0),e.jsxDEV("div",{className:"space-y-1 max-h-56 overflow-y-auto",children:C.map(l=>{const h=l.id||l._id,w=D===h;return e.jsxDEV("button",{type:"button",onClick:()=>mt(l),className:`w-full text-left px-2 py-1.5 rounded border transition-colors ${w?"border-gray-900 bg-gray-50":"border-gray-200 hover:border-gray-400 hover:bg-gray-50"}`,children:[e.jsxDEV("div",{className:"font-medium text-xs text-gray-900",children:Ln(l.name)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2316,columnNumber:29},void 0),e.jsxDEV("div",{className:"text-[10px] text-gray-500 truncate",children:[l.bankName||""," ",l.accountNumber||""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2319,columnNumber:29},void 0)]},h,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2306,columnNumber:27},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2301,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2297,columnNumber:19},void 0),e.jsxDEV("div",{className:`payment-history-suggestions bg-blue-50 border border-blue-200 rounded-lg p-2 ${ie.length===0||D?"hidden":""}`,children:[e.jsxDEV("label",{className:"block text-xs font-medium text-blue-900 mb-1",children:"  "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2332,columnNumber:21},void 0),e.jsxDEV("div",{className:"space-y-1 max-h-56 overflow-y-auto",children:ie.map((l,h)=>e.jsxDEV("button",{type:"button",onClick:()=>{g(w=>({...w,accountHolder:l.accountHolder,bankName:l.bankName,accountNumber:l.accountNumber})),Ce([])},className:"w-full text-left px-2 py-1.5 rounded border border-blue-200 bg-white hover:border-blue-400 hover:bg-blue-50 transition-colors",children:[e.jsxDEV("div",{className:"font-medium text-xs text-gray-900",children:l.accountHolder},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2349,columnNumber:27},void 0),e.jsxDEV("div",{className:"text-[10px] text-gray-500 truncate",children:[l.bankName," ",l.accountNumber]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2352,columnNumber:27},void 0)]},h,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2335,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2333,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2329,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2295,columnNumber:17},void 0),e.jsxDEV("div",{className:"relative",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2364,columnNumber:17},void 0),e.jsxDEV("input",{type:"text",value:O.accountHolder,onChange:l=>g({...O,accountHolder:l.target.value}),onFocus:()=>J(!0),onBlur:()=>setTimeout(()=>J(!1),150),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",placeholder:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2365,columnNumber:17},void 0),U&&Te.length>0&&e.jsxDEV("div",{className:"absolute z-20 w-full mt-1 bg-white border rounded-lg shadow-lg max-h-48 overflow-y-auto",children:Te.map((l,h)=>e.jsxDEV("button",{type:"button",className:"w-full px-3 py-2 text-left hover:bg-gray-100 border-b last:border-b-0 flex justify-between items-center",onMouseDown:w=>w.preventDefault(),onClick:()=>{g({...O,accountHolder:l.name,bankName:l.bankName||O.bankName,accountNumber:l.accountNumber||O.accountNumber}),J(!1)},children:[e.jsxDEV("span",{className:"font-medium",children:l.name},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2393,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-xs text-gray-500",children:l.source==="contractor"?"":""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2394,columnNumber:25},void 0)]},`${l.name}-${h}`,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2378,columnNumber:23},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2376,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2363,columnNumber:15},void 0),e.jsxDEV("div",{className:"payment-bank-field",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2405,columnNumber:17},void 0),e.jsxDEV("select",{value:O.bankName,onChange:l=>g({...O,bankName:l.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",children:[e.jsxDEV("option",{value:"",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2411,columnNumber:19},void 0),e.jsxDEV("option",{value:"KB",children:"KB"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2412,columnNumber:19},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2413,columnNumber:19},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2414,columnNumber:19},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2415,columnNumber:19},void 0),e.jsxDEV("option",{value:"NH",children:"NH"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2416,columnNumber:19},void 0),e.jsxDEV("option",{value:"IBK",children:"IBK"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2417,columnNumber:19},void 0),e.jsxDEV("option",{value:"SC",children:"SC"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2418,columnNumber:19},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2419,columnNumber:19},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2420,columnNumber:19},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2421,columnNumber:19},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2422,columnNumber:19},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2423,columnNumber:19},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2424,columnNumber:19},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2425,columnNumber:19},void 0),e.jsxDEV("option",{value:"KDB",children:"KDB"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2426,columnNumber:19},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2427,columnNumber:19},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2428,columnNumber:19},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2429,columnNumber:19},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2430,columnNumber:19},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2431,columnNumber:19},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2432,columnNumber:19},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2433,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2406,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2404,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2438,columnNumber:17},void 0),e.jsxDEV("input",{type:"text",value:O.accountNumber,onChange:l=>g({...O,accountNumber:l.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",placeholder:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2439,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2437,columnNumber:15},void 0),e.jsxDEV("div",{className:"pt-2 border-t",children:e.jsxDEV("div",{className:"flex justify-between items-baseline",children:[e.jsxDEV("span",{className:"font-medium",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2450,columnNumber:19},void 0),e.jsxDEV("div",{className:"text-right",children:[(R||y)&&e.jsxDEV("span",{className:"text-xs text-gray-500 mr-2",children:["(",R&&" ",y&&"3.3% ",")"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2453,columnNumber:23},void 0),e.jsxDEV("span",{className:"font-semibold",children:[(()=>{const l=Number(O.amount)||0;let h=l;return y&&(h=Math.round(l*.967)),h.toLocaleString()})(),""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2457,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2451,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2449,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2448,columnNumber:15},void 0),e.jsxDEV("div",{className:"mt-6 lg:my-[50px]",children:[b&&e.jsxDEV("button",{onClick:()=>{N(null),g(l=>({project:l.project,date:je(new Date,"yyyy-MM-dd"),process:"",itemName:"",materialCost:"",laborCost:"",amount:"",accountHolder:"",bankName:"",accountNumber:"",images:[],quickText:"",quickImages:[]})),I(!1),T(!1),H(null),M.info(" ")},className:"w-full py-2 mb-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 touch-manipulation",style:{minHeight:"48px"},children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2476,columnNumber:19},void 0),e.jsxDEV("button",{onClick:l=>{console.log(" Payment button clicked!",l),console.log(" Button element:",l.currentTarget),console.log(" Form data:",O),nt()},disabled:B,className:`w-full py-3 rounded-lg touch-manipulation font-medium text-base ${B?"bg-gray-400 text-gray-200 cursor-not-allowed":"bg-gray-900 text-white hover:bg-gray-800 active:bg-gray-950"}`,style:{minHeight:"48px",WebkitTapHighlightColor:"transparent"},children:B?"...":b?"":""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2505,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2474,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2292,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2028,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2025,columnNumber:9},void 0),e.jsxDEV("div",{className:`payment-list md:col-span-4 ipad:col-span-4 ipad-lg:col-span-4 ipad-xl:col-span-4 ipad-2xl:col-span-4 bg-white rounded-lg border overflow-hidden flex flex-col h-[calc(100vh-180px)] ${se!=="list"?"hidden md:flex":""}`,children:[e.jsxDEV("div",{className:"bg-gray-50 px-4 pt-3 pb-0 flex-shrink-0",children:e.jsxDEV("div",{className:"flex items-center justify-between gap-4",children:e.jsxDEV("nav",{className:"flex gap-2 overflow-x-auto flex-1",children:[e.jsxDEV("button",{onClick:()=>He("pending"),className:`px-4 py-2.5 rounded-t-lg font-medium text-sm transition-all whitespace-nowrap flex items-center gap-2 ${Ee==="pending"?"bg-white text-gray-900 shadow-sm border-b-2 border-gray-900":"text-gray-500 hover:text-gray-700 hover:bg-gray-100"}`,children:["",e.jsxDEV("span",{className:`px-2 py-0.5 rounded-full text-xs font-semibold ${Ee==="pending"?"bg-gray-900 text-white":"bg-gray-300 text-gray-600"}`,children:We.filter(l=>l.status==="pending").length},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2544,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2535,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>He("completed"),className:`px-4 py-2.5 rounded-t-lg font-medium text-sm transition-all whitespace-nowrap flex items-center gap-2 ${Ee==="completed"?"bg-white text-gray-900 shadow-sm border-b-2 border-gray-900":"text-gray-500 hover:text-gray-700 hover:bg-gray-100"}`,children:["",e.jsxDEV("span",{className:`px-2 py-0.5 rounded-full text-xs font-semibold ${Ee==="completed"?"bg-gray-900 text-white":"bg-gray-300 text-gray-600"}`,children:We.filter(l=>l.status==="completed").length},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2559,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2550,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2534,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2533,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2532,columnNumber:11},void 0),e.jsxDEV("div",{className:"border-b border-gray-200"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2568,columnNumber:11},void 0),e.jsxDEV("div",{className:"flex-1 overflow-auto p-4",children:Je.length>0?e.jsxDEV("div",{className:"space-y-4",children:Ee==="completed"?(()=>{const l=Je.reduce((h,w)=>{const q=w.project||"";return h[q]||(h[q]=[]),h[q].push(w),h},{});return Object.entries(l).map(([h,w])=>{const q=w.reduce((_,Y)=>_+(Y.amount||0),0);return e.jsxDEV("div",{className:"border rounded-lg overflow-hidden",children:[e.jsxDEV("div",{className:"bg-gray-50 px-3 py-2 border-b flex items-center justify-between",children:e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"font-semibold text-gray-900 text-sm",children:h},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2594,columnNumber:31},void 0),e.jsxDEV("p",{className:"text-xs text-gray-500",children:[" ",w.length,"  ",q.toLocaleString(),""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2595,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2593,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2592,columnNumber:27},void 0),e.jsxDEV("div",{className:"p-2 space-y-2",children:w.map(_=>{var fe,we,Ie;const Y=_.amount||0,W=((fe=_.bankInfo)==null?void 0:fe.accountHolder)||_.accountHolder||"",ue=((we=_.bankInfo)==null?void 0:we.bankName)||_.bank||"",k=((Ie=_.bankInfo)==null?void 0:Ie.accountNumber)||_.accountNumber||"",X=W&&ue&&k?`${W} | ${ue} ${k}`:" ";return e.jsxDEV("div",{onClick:()=>f(_.id),className:`border rounded-lg p-3 cursor-pointer transition-colors ${u===_.id?"border-gray-900 bg-gray-50":"border-gray-200 bg-white hover:border-gray-400"}`,children:[e.jsxDEV("div",{className:"flex justify-between items-start mb-2.5",children:[e.jsxDEV("div",{className:"flex-1 min-w-0",children:e.jsxDEV("div",{className:"flex items-baseline gap-2",children:[_.process&&e.jsxDEV("span",{className:"text-xs text-gray-500 shrink-0",children:["[",_.process,"]"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2625,columnNumber:43},void 0),e.jsxDEV("h3",{className:"font-semibold text-gray-900 text-sm truncate",children:_.purpose||_.itemName||"-"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2627,columnNumber:41},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2623,columnNumber:39},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2622,columnNumber:37},void 0),e.jsxDEV("div",{className:"text-right ml-3 shrink-0",children:[e.jsxDEV("p",{className:"text-base font-bold text-gray-900",children:[Y.toLocaleString(),""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2633,columnNumber:39},void 0),e.jsxDEV("p",{className:"text-[10px] text-gray-400",children:[_.requestedBy||"-","  ",je(new Date(_.requestDate),"MM/dd",{locale:ft})]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2636,columnNumber:39},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2632,columnNumber:37},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2621,columnNumber:35},void 0),e.jsxDEV("div",{className:"flex items-center gap-2 mb-2.5 text-xs",children:[e.jsxDEV("span",{className:"text-gray-400",children:[" ",(_.materialAmount||0).toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2643,columnNumber:37},void 0),e.jsxDEV("span",{className:"text-gray-300",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2644,columnNumber:37},void 0),e.jsxDEV("span",{className:"text-gray-400",children:[" ",(_.laborAmount||0).toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2645,columnNumber:37},void 0),_.includesVAT&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV("span",{className:"text-gray-300",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2648,columnNumber:41},void 0),e.jsxDEV("span",{className:"px-1.5 py-0.5 bg-blue-50 text-blue-700 text-[10px] rounded",children:"VAT"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2649,columnNumber:41},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2647,columnNumber:39},void 0),_.applyTaxDeduction&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV("span",{className:"text-gray-300",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2654,columnNumber:41},void 0),e.jsxDEV("span",{className:"px-1.5 py-0.5 bg-purple-50 text-purple-700 text-[10px] rounded",children:"3.3%"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2655,columnNumber:41},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2653,columnNumber:39},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2642,columnNumber:35},void 0),e.jsxDEV("div",{className:"flex items-center justify-between mb-2",children:[e.jsxDEV("div",{className:"text-xs text-gray-500 truncate flex-1",children:X},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2661,columnNumber:37},void 0),e.jsxDEV("div",{className:"flex items-center gap-1 ml-2 flex-shrink-0",children:[e.jsxDEV("button",{onClick:Ye=>{Ye.stopPropagation(),st(_)},className:"p-1 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded transition-colors",title:"",children:e.jsxDEV($s,{className:"h-3.5 w-3.5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2673,columnNumber:41},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2665,columnNumber:39},void 0),e.jsxDEV("button",{onClick:async Ye=>{Ye.stopPropagation(),window.confirm("  ?")&&(await r(_.id),M.success(""))},className:"p-1 text-red-400 hover:text-red-600 hover:bg-red-50 rounded transition-colors",title:"",children:e.jsxDEV(bt,{className:"h-3.5 w-3.5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2686,columnNumber:41},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2675,columnNumber:39},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2664,columnNumber:37},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2660,columnNumber:35},void 0)]},_.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2611,columnNumber:33},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2600,columnNumber:27},void 0)]},h,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2590,columnNumber:25},void 0)})})():Je.map(l=>{var W,ue,k;const h=l.amount||0,w=((W=l.bankInfo)==null?void 0:W.accountHolder)||l.accountHolder||"",q=((ue=l.bankInfo)==null?void 0:ue.bankName)||l.bank||"",_=((k=l.bankInfo)==null?void 0:k.accountNumber)||l.accountNumber||"",Y=w&&q&&_?`${w} | ${q} ${_}`:" ";return e.jsxDEV("div",{onClick:()=>f(l.id),className:`border rounded-lg p-3 cursor-pointer transition-colors ${u===l.id?"border-gray-900 bg-gray-50":"border-gray-200 bg-white hover:border-gray-400"}`,children:[e.jsxDEV("div",{className:"flex justify-between items-start mb-2.5",children:[e.jsxDEV("div",{className:"flex-1 min-w-0",children:[e.jsxDEV("div",{className:"flex items-baseline gap-2",children:[l.process&&e.jsxDEV("span",{className:"text-xs text-gray-500 shrink-0",children:["[",l.process,"]"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2725,columnNumber:31},void 0),e.jsxDEV("h3",{className:"font-semibold text-gray-900 text-sm truncate",children:l.purpose||l.itemName||"-"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2727,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2723,columnNumber:27},void 0),e.jsxDEV("p",{className:"text-xs text-gray-500 mt-0.5",children:l.project||"-"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2731,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2722,columnNumber:25},void 0),e.jsxDEV("div",{className:"text-right ml-3 shrink-0",children:[e.jsxDEV("p",{className:"text-base font-bold text-gray-900",children:[h.toLocaleString(),""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2734,columnNumber:27},void 0),e.jsxDEV("p",{className:"text-[10px] text-gray-400",children:[l.requestedBy||"-","  ",je(new Date(l.requestDate),"MM/dd",{locale:ft})]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2737,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2733,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2721,columnNumber:23},void 0),e.jsxDEV("div",{className:"flex items-center gap-2 mb-2.5 text-xs",children:[e.jsxDEV("span",{className:"text-gray-400",children:[" ",(l.materialAmount||0).toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2745,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-gray-300",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2746,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-gray-400",children:[" ",(l.laborAmount||0).toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2747,columnNumber:25},void 0),l.includesVAT&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV("span",{className:"text-gray-300",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2750,columnNumber:29},void 0),e.jsxDEV("span",{className:"px-1.5 py-0.5 bg-blue-50 text-blue-700 text-[10px] rounded",children:"VAT"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2751,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2749,columnNumber:27},void 0),l.applyTaxDeduction&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV("span",{className:"text-gray-300",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2756,columnNumber:29},void 0),e.jsxDEV("span",{className:"px-1.5 py-0.5 bg-purple-50 text-purple-700 text-[10px] rounded",children:"3.3%"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2757,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2755,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2744,columnNumber:23},void 0),e.jsxDEV("div",{className:"flex items-center justify-between mb-2.5",children:[e.jsxDEV("div",{className:"text-xs text-gray-500 truncate flex-1",children:Y},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2764,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex items-center gap-1 ml-2 flex-shrink-0",children:[e.jsxDEV("button",{onClick:X=>{X.stopPropagation(),st(l)},className:"p-1 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded transition-colors",title:"",children:e.jsxDEV($s,{className:"h-3.5 w-3.5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2776,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2768,columnNumber:27},void 0),e.jsxDEV("button",{onClick:async X=>{X.stopPropagation(),window.confirm("  ?")&&(await r(l.id),M.success(""))},className:"p-1 text-red-400 hover:text-red-600 hover:bg-red-50 rounded transition-colors",title:"",children:e.jsxDEV(bt,{className:"h-3.5 w-3.5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2789,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2778,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2767,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2763,columnNumber:23},void 0),Ee==="pending"&&(o==null?void 0:o.role)&&["manager","admin"].includes(o.role)&&e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("button",{onClick:X=>{if(X.stopPropagation(),l.status==="completed"){M.info("   ");return}at(l)},disabled:l.status==="completed",className:`flex-1 py-1.5 px-2 rounded text-xs font-medium transition-colors ${l.status==="completed"?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-gray-700 text-white hover:bg-gray-800"}`,children:l.status==="completed"?"":""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2798,columnNumber:27},void 0),e.jsxDEV("button",{onClick:X=>{X.stopPropagation(),Nt(l.id)},disabled:l.status==="completed",className:`flex-1 py-1.5 px-2 text-white rounded text-xs font-medium transition-colors ${l.status==="completed"?"opacity-50 cursor-not-allowed":""}`,style:{backgroundColor:l.status==="completed"?"#9ca3af":"#5f81a5"},onMouseEnter:X=>{l.status!=="completed"&&(X.currentTarget.style.backgroundColor="#4a6b8a")},onMouseLeave:X=>{l.status!=="completed"&&(X.currentTarget.style.backgroundColor="#5f81a5")},children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2816,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2797,columnNumber:25},void 0)]},l.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2711,columnNumber:21},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2572,columnNumber:15},void 0):e.jsxDEV("div",{className:"flex items-center justify-center h-full text-gray-500",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2847,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2570,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2528,columnNumber:9},void 0),e.jsxDEV("div",{className:`payment-images md:col-span-6 ipad:col-span-6 ipad-lg:col-span-6 ipad-xl:col-span-6 ipad-2xl:col-span-6 bg-white rounded-lg border flex flex-col overflow-hidden h-[calc(100vh-180px)] ${se!=="image"?"hidden lg:flex":""}`,onDragOver:ve,onDragLeave:Be,onDrop:Pe,children:[e.jsxDEV("input",{type:"file",multiple:!0,accept:"image/*",onChange:A,className:"hidden",id:"image-file-input"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2863,columnNumber:11},void 0),ce&&u&&se==="image"&&(()=>{const l=We.find(h=>h.id===u);return l?e.jsxDEV("div",{className:"border-b bg-gray-50 p-3",children:e.jsxDEV("div",{className:"flex justify-between items-start",children:[e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("p",{className:"font-medium text-gray-900 text-sm",children:l.purpose||l.itemName},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2880,columnNumber:23},void 0),e.jsxDEV("p",{className:"text-xs text-gray-500 mt-0.5",children:[l.process||"-","  ",je(new Date(l.requestDate),"yyyy.MM.dd",{locale:ft})]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2881,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2879,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-sm font-bold text-gray-900",children:["",(l.amount||0).toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2885,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2878,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2877,columnNumber:17},void 0):null})(),e.jsxDEV("div",{className:"flex-1 overflow-y-auto p-4 relative",onClick:l=>{var w;const h=l.target;if(!h.closest("img")&&!h.closest("button")&&u){const q=We.find(ue=>ue.id===u),_=(q==null?void 0:q.images)||[],Y=Z[u]||[];(_.length>0?_:Y).length>0&&((w=document.getElementById("image-file-input"))==null||w.click())}},children:u?(()=>{const l=We.find(_=>_.id===u),h=(l==null?void 0:l.images)||[],w=Z[u]||[],q=h.length>0?h:w;return e.jsxDEV("div",{className:"h-full flex flex-col",children:[e.jsxDEV("div",{className:"mb-3",children:[e.jsxDEV("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2921,columnNumber:21},void 0),e.jsxDEV("textarea",{value:(l==null?void 0:l.quickText)||(l==null?void 0:l.notes)||"",readOnly:!0,placeholder:" ",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm bg-gray-50 resize-none",rows:8},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2922,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2920,columnNumber:19},void 0),q.length>0&&e.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2 mb-3",children:q.map((_,Y)=>e.jsxDEV("div",{className:"relative group",children:[e.jsxDEV("img",{src:_,alt:` ${Y+1}`,className:"w-full aspect-square object-contain rounded-lg cursor-pointer hover:opacity-90 transition-opacity border bg-gray-100",onClick:W=>{W.stopPropagation(),be(_)}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2936,columnNumber:27},void 0),e.jsxDEV("button",{onClick:W=>{W.stopPropagation(),Ne(Y)},className:"absolute top-1 right-1 p-1 bg-red-500 text-white rounded-full opacity-100 md:opacity-0 md:group-hover:opacity-100 transition-opacity",children:e.jsxDEV(ot,{className:"h-3 w-3"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2952,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2945,columnNumber:27},void 0),e.jsxDEV("div",{className:"absolute bottom-1 left-1 bg-black bg-opacity-50 text-white text-xs px-1.5 py-0.5 rounded",children:[Y+1,"/",q.length]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2954,columnNumber:27},void 0)]},Y,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2935,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2933,columnNumber:21},void 0),e.jsxDEV("label",{htmlFor:"image-file-input",className:`block cursor-pointer ${q.length>0?"":"flex-1"}`,onClick:_=>_.stopPropagation(),children:e.jsxDEV("div",{className:`w-full border-2 border-dashed rounded-lg p-4 text-center transition-colors flex flex-col items-center justify-center ${j?"border-gray-500 bg-gray-50":"border-gray-300 hover:border-gray-400"} ${q.length>0?"min-h-[80px]":"min-h-[200px]"}`,children:[e.jsxDEV(gs,{className:`mx-auto text-gray-400 mb-1 ${q.length>0?"h-6 w-6":"h-10 w-10 mb-2"}`},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2973,columnNumber:23},void 0),e.jsxDEV("p",{className:"text-sm font-medium text-gray-700",children:q.length>0?" ":" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2974,columnNumber:23},void 0),q.length===0&&e.jsxDEV("p",{className:"text-xs text-gray-500 mt-1",children:"   Ctrl+V "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2978,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2968,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2963,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2918,columnNumber:17},void 0)})():e.jsxDEV("div",{className:"h-full flex items-center justify-center min-h-[200px]",children:e.jsxDEV("div",{className:"text-center text-gray-400",children:[e.jsxDEV(us,{className:"h-12 w-12 mx-auto mb-2"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2987,columnNumber:19},void 0),e.jsxDEV("p",{className:"text-sm",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2988,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2986,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2985,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2895,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2855,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2022,columnNumber:7},void 0),Q&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"lg:hidden fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:e.jsxDEV("div",{className:"bg-white rounded-lg w-full max-w-md mx-4 max-h-[80vh] overflow-hidden",children:[e.jsxDEV("div",{className:"flex items-center justify-between p-3 border-b",children:[e.jsxDEV("h2",{className:"text-base font-bold text-gray-900",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:3003,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>ne(!1),className:"p-1 hover:bg-gray-100 rounded-full",children:e.jsxDEV(ot,{className:"h-4 w-4 text-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:3008,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:3004,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:3002,columnNumber:15},void 0),e.jsxDEV("div",{className:"p-3 overflow-y-auto max-h-[calc(80vh-100px)]",children:[e.jsxDEV("div",{className:"grid grid-cols-2 gap-2 mb-2",children:vi.map(l=>e.jsxDEV("button",{onClick:()=>{g({...O,process:l}),ne(!1)},className:`p-2 text-sm text-center border rounded-lg transition-all ${O.process===l?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:border-gray-400 hover:bg-gray-50"}`,children:l},l,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:3015,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:3013,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>{g({...O,process:""}),ne(!1)},className:"w-full p-2 text-sm text-center border-2 border-dashed border-gray-300 rounded-lg hover:border-gray-400 hover:bg-gray-50 text-gray-500",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:3032,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:3012,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:3001,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:3e3,columnNumber:11},void 0),e.jsxDEV("div",{className:"hidden lg:block fixed inset-0 z-40",onClick:()=>ne(!1),children:e.jsxDEV("div",{onClick:l=>l.stopPropagation(),className:"absolute bg-white rounded-lg shadow-xl border border-gray-200",style:{top:xe.current?`${xe.current.getBoundingClientRect().bottom+window.scrollY+4}px`:"50%",left:xe.current?`${xe.current.getBoundingClientRect().left+window.scrollX}px`:"50%"},children:[e.jsxDEV("div",{className:"flex items-center justify-between p-2 border-b",children:[e.jsxDEV("h2",{className:"text-sm font-bold text-gray-900",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:3056,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>ne(!1),className:"p-1 hover:bg-gray-100 rounded-full",children:e.jsxDEV(ot,{className:"h-3 w-3 text-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:3061,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:3057,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:3055,columnNumber:15},void 0),e.jsxDEV("div",{className:"p-2",children:[e.jsxDEV("div",{className:"grid grid-cols-4 gap-1.5 mb-2",children:vi.map(l=>e.jsxDEV("button",{onClick:()=>{g({...O,process:l}),ne(!1)},className:`p-1.5 text-xs text-center border rounded-lg transition-all whitespace-nowrap ${O.process===l?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:border-gray-400 hover:bg-gray-50"}`,children:l},l,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:3068,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:3066,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>{g({...O,process:""}),ne(!1)},className:"w-full p-1.5 text-xs text-center border-2 border-dashed border-gray-300 rounded-lg hover:border-gray-400 hover:bg-gray-50 text-gray-500",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:3085,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:3065,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:3047,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:3046,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2998,columnNumber:9},void 0),te&&e.jsxDEV("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-90",onClick:()=>ee(!1),children:e.jsxDEV("div",{className:"relative max-w-[90vw] max-h-[90vh]",children:[e.jsxDEV("button",{onClick:l=>{l.stopPropagation(),ee(!1)},className:"absolute -top-10 right-0 text-white hover:text-gray-300 transition-colors",children:e.jsxDEV(ot,{className:"h-8 w-8"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:3114,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:3107,columnNumber:13},void 0),e.jsxDEV("img",{src:L,alt:" ",className:"max-w-full max-h-[90vh] object-contain",onClick:l=>l.stopPropagation()},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:3116,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:3106,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:3102,columnNumber:9},void 0),Re&&e.jsxDEV(L0,{projectName:qe,onClose:()=>$e(!1)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:3128,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:1963,columnNumber:5},void 0)},B0=()=>{const[s,n]=d.useState([]),[t,r]=d.useState(null),[i,a]=d.useState(!0);d.useEffect(()=>{o()},[]);const o=async()=>{try{a(!0);const f=await Le.get("/quote-inquiries");n(f.data)}catch(f){console.error("Failed to load inquiries:",f),M.error("  ")}finally{a(!1)}},m=async f=>{try{await Le.put(`/quote-inquiries/${f}/read`),n(b=>b.map(N=>N.id===f?{...N,isRead:!0}:N)),window.dispatchEvent(new CustomEvent("quoteInquiryRead"))}catch(b){console.error("Failed to mark as read:",b)}},c=f=>{r(f),f.isRead||m(f.id)},p=async(f,b)=>{if(b.stopPropagation(),!!confirm("  ?"))try{await Le.delete(`/quote-inquiries/${f}`),n(N=>N.filter(j=>j.id!==f)),(t==null?void 0:t.id)===f&&r(null),M.success(" ")}catch(N){console.error("Failed to delete inquiry:",N),M.error("  ")}},u=s.filter(f=>!f.isRead).length;return i?e.jsxDEV("div",{className:"flex items-center justify-center h-full",children:e.jsxDEV("div",{className:"text-gray-500",children:" ..."},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:90,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:89,columnNumber:7},void 0):e.jsxDEV("div",{className:"h-full flex flex-col md:flex-row gap-4 p-4",children:[e.jsxDEV("div",{className:`w-full md:w-1/3 bg-white rounded-lg shadow overflow-hidden flex flex-col ${t?"hidden md:flex":"flex"}`,children:[e.jsxDEV("div",{className:"p-4 border-b bg-gray-50",children:e.jsxDEV("h2",{className:"text-lg font-semibold text-gray-900",children:[" ",u>0&&e.jsxDEV("span",{className:"ml-2 px-2 py-1 text-xs bg-red-500 text-white rounded-full",children:u},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:103,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:100,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:99,columnNumber:9},void 0),e.jsxDEV("div",{className:"flex-1 overflow-y-auto",children:s.length===0?e.jsxDEV("div",{className:"p-4 text-center text-gray-500",children:"  "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:112,columnNumber:13},void 0):e.jsxDEV("div",{className:"divide-y",children:s.map(f=>e.jsxDEV("div",{className:`relative group ${(t==null?void 0:t.id)===f.id?"bg-blue-50 border-l-4 border-blue-500":""} ${f.isRead?"":"bg-yellow-50"}`,children:e.jsxDEV("button",{onClick:()=>c(f),className:"w-full p-4 text-left hover:bg-gray-50 transition-colors",children:[e.jsxDEV("div",{className:"flex justify-between items-start mb-2",children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("span",{className:"font-medium text-gray-900",children:f.name},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:130,columnNumber:25},void 0),!f.isRead&&e.jsxDEV("span",{className:"w-2 h-2 bg-red-500 rounded-full"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:132,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:129,columnNumber:23},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("span",{className:"text-xs text-gray-500",children:je(new Date(f.createdAt),"MM/dd HH:mm")},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:136,columnNumber:25},void 0),e.jsxDEV("button",{onClick:b=>p(f.id,b),className:"p-1 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded transition-colors",title:"",children:e.jsxDEV(bt,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:144,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:139,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:135,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:128,columnNumber:21},void 0),e.jsxDEV("div",{className:"text-sm text-gray-600 flex items-center gap-1 mb-1",children:[e.jsxDEV(za,{className:"w-3 h-3"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:150,columnNumber:23},void 0),f.phone]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:149,columnNumber:21},void 0),e.jsxDEV("div",{className:"text-sm text-gray-500 line-clamp-2",children:f.message},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:154,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:124,columnNumber:19},void 0)},f.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:118,columnNumber:17},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:116,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:110,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:98,columnNumber:7},void 0),e.jsxDEV("div",{className:`flex-1 bg-white rounded-lg shadow overflow-hidden ${t?"flex flex-col":"hidden md:flex md:flex-col"}`,children:t?e.jsxDEV("div",{className:"h-full flex flex-col",children:[e.jsxDEV("div",{className:"p-6 border-b bg-gray-50",children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-2",children:[e.jsxDEV("h3",{className:"text-xl font-semibold text-gray-900",children:t.name},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:171,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>r(null),className:"md:hidden px-3 py-1 text-sm bg-gray-200 hover:bg-gray-300 text-gray-700 rounded transition-colors",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:175,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:170,columnNumber:15},void 0),e.jsxDEV("div",{className:"text-sm text-gray-500",children:je(new Date(t.createdAt),"yyyy MM dd HH:mm")},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:182,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:169,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV("h4",{className:"font-medium text-gray-900 flex items-center gap-2",children:[e.jsxDEV(Nc,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:191,columnNumber:19},void 0)," "]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:190,columnNumber:17},void 0),e.jsxDEV("div",{className:"pl-6 space-y-2",children:[e.jsxDEV("div",{className:"flex items-center gap-2 text-gray-700",children:[e.jsxDEV(za,{className:"w-4 h-4 text-gray-400"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:196,columnNumber:21},void 0),e.jsxDEV("span",{children:t.phone},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:197,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:195,columnNumber:19},void 0),e.jsxDEV("div",{className:"flex items-center gap-2 text-gray-700",children:[e.jsxDEV(bc,{className:"w-4 h-4 text-gray-400"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:200,columnNumber:21},void 0),e.jsxDEV("span",{children:t.email},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:201,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:199,columnNumber:19},void 0),t.address&&e.jsxDEV("div",{className:"flex items-center gap-2 text-gray-700",children:[e.jsxDEV(xc,{className:"w-4 h-4 text-gray-400"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:205,columnNumber:23},void 0),e.jsxDEV("span",{children:t.address},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:206,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:204,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:194,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:189,columnNumber:15},void 0),(t.projectType||t.budget)&&e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV("h4",{className:"font-medium text-gray-900 flex items-center gap-2",children:[e.jsxDEV(yc,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:216,columnNumber:21},void 0)," "]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:215,columnNumber:19},void 0),e.jsxDEV("div",{className:"pl-6 space-y-2",children:[t.projectType&&e.jsxDEV("div",{className:"text-gray-700",children:[e.jsxDEV("span",{className:"text-gray-500",children:" : "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:222,columnNumber:25},void 0),t.projectType]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:221,columnNumber:23},void 0),t.budget&&e.jsxDEV("div",{className:"text-gray-700",children:[e.jsxDEV("span",{className:"text-gray-500",children:": "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:228,columnNumber:25},void 0),t.budget]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:227,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:219,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:214,columnNumber:17},void 0),e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV("h4",{className:"font-medium text-gray-900",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:238,columnNumber:17},void 0),e.jsxDEV("div",{className:"pl-6 text-gray-700 whitespace-pre-wrap bg-gray-50 p-4 rounded-lg",children:t.message},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:239,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:237,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:187,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:168,columnNumber:11},void 0):e.jsxDEV("div",{className:"h-full flex items-center justify-center text-gray-500",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:246,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:166,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:96,columnNumber:5},void 0)},U0=()=>{const{login:s}=Mt(),[n,t]=d.useState(!1),{register:r,handleSubmit:i,setValue:a,formState:{errors:o}}=$n(),m=async p=>{t(!0);try{await s(p.username,p.password)}finally{t(!1)}},c=p=>{a("username",p)};return e.jsxDEV("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:e.jsxDEV("div",{className:"max-w-md w-full",children:e.jsxDEV("div",{className:"bg-white border border-gray-200 rounded-lg p-8",children:[e.jsxDEV("div",{className:"text-center mb-8",children:[e.jsxDEV("h2",{className:"text-3xl font-bold text-gray-900",children:"HV LAB"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Login.tsx",lineNumber:39,columnNumber:13},void 0),e.jsxDEV("p",{className:"mt-2 text-sm text-gray-600",children:"   "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Login.tsx",lineNumber:40,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Login.tsx",lineNumber:38,columnNumber:11},void 0),e.jsxDEV("form",{onSubmit:i(m),className:"space-y-6",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-2",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Login.tsx",lineNumber:47,columnNumber:15},void 0),e.jsxDEV("input",{...r("username",{required:" "}),type:"text",className:"input",placeholder:" ",autoFocus:!0},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Login.tsx",lineNumber:50,columnNumber:15},void 0),o.username&&e.jsxDEV("p",{className:"mt-1 text-sm text-red-600",children:o.username.message},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Login.tsx",lineNumber:60,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Login.tsx",lineNumber:46,columnNumber:13},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Login.tsx",lineNumber:65,columnNumber:15},void 0),e.jsxDEV("input",{...r("password",{required:" "}),type:"password",className:"input",placeholder:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Login.tsx",lineNumber:68,columnNumber:15},void 0),o.password&&e.jsxDEV("p",{className:"mt-1 text-sm text-red-600",children:o.password.message},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Login.tsx",lineNumber:77,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Login.tsx",lineNumber:64,columnNumber:13},void 0),e.jsxDEV("button",{type:"submit",disabled:n,className:"w-full btn btn-primary flex items-center justify-center",children:n?e.jsxDEV("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Login.tsx",lineNumber:87,columnNumber:17},void 0):e.jsxDEV(e.Fragment,{children:[e.jsxDEV(hc,{className:"mr-2 h-5 w-5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Login.tsx",lineNumber:90,columnNumber:19},void 0),""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Login.tsx",lineNumber:89,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Login.tsx",lineNumber:81,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Login.tsx",lineNumber:45,columnNumber:11},void 0),e.jsxDEV("div",{className:"mt-6 border-t pt-6",children:[e.jsxDEV("p",{className:"text-sm text-gray-600 text-center mb-4",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Login.tsx",lineNumber:98,columnNumber:13},void 0),e.jsxDEV("div",{className:"grid grid-cols-3 gap-2",children:["","","","","","",""].map(p=>e.jsxDEV("button",{onClick:()=>c(p),className:"px-3 py-2 text-sm bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",type:"button",children:p},p,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Login.tsx",lineNumber:101,columnNumber:17},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Login.tsx",lineNumber:99,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Login.tsx",lineNumber:97,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Login.tsx",lineNumber:37,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Login.tsx",lineNumber:36,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Login.tsx",lineNumber:35,columnNumber:5},void 0)},S0=s=>{try{const n=window.AudioContext||window.webkitAudioContext,t=new n,r=s==="emergency"?5:3;let i=0;const a=()=>{if(i>=r)return;const o=t.createOscillator(),m=t.createGain();o.connect(m),m.connect(t.destination),o.frequency.value=s==="emergency"?1e3:800,o.type="sine",m.gain.setValueAtTime(.3,t.currentTime),m.gain.exponentialRampToValueAtTime(.01,t.currentTime+.5),o.start(t.currentTime),o.stop(t.currentTime+.5),i++,i<r&&setTimeout(a,700)};a()}catch(n){console.error("  :",n)}},P0=s=>{if("vibrate"in navigator){const n=s==="emergency"?[200,200,200,200,200,200,200,200,200,200]:[200,200,200,200,200,200];navigator.vibrate(n)}},R0=(s,n)=>{S0(s),P0(s),"Notification"in window&&Notification.permission==="granted"&&new Notification("  ",{body:n,icon:"/icon-192x192.png",badge:"/icon-192x192.png",tag:"urgent-payment",requireInteraction:!0})},M0=async()=>"Notification"in window&&Notification.permission==="default"?await Notification.requestPermission()==="granted":Notification.permission==="granted",I0=new ec({defaultOptions:{queries:{staleTime:1e3*60*5,refetchOnWindowFocus:!1}}});function T0(){const[s,n]=d.useState(!1);return d.useEffect(()=>{const t=kp({immediate:!0,onNeedRefresh(){console.log("   ."),n(!0),M.loading("   ...",{duration:2e3}),setTimeout(()=>{t(!0).then(()=>{M.dismiss(),M.success(" !",{duration:2e3,icon:""}),setTimeout(()=>{window.location.reload()},1e3)})},1500)},onOfflineReady(){console.log("    ")},onRegisteredSW(m,c){console.log(" Service Worker :",m),c&&setInterval(()=>{console.log("   ..."),c.update()},6e4)},onRegisterError(m){console.error(" Service Worker  :",m)}});M0();const r=async()=>{try{const c=await(await fetch("/version.json?t="+Date.now())).json(),p=localStorage.getItem("app_version");p&&p!==c.version?(console.log("   :",c.version),localStorage.setItem("app_version",c.version),"serviceWorker"in navigator&&(await navigator.serviceWorker.ready).update()):p||localStorage.setItem("app_version",c.version)}catch(m){console.error("  :",m)}};setTimeout(r,5e3);const i=setInterval(r,3e4),o=wn("/",{transports:["websocket","polling"]});return o.on("connect",()=>{console.log(" Socket.IO ")}),o.on("urgent-payment",m=>{console.log("    :",m);const c=`${m.project}  ${m.amount.toLocaleString()}  `;R0(m.urgency,c)}),o.on("disconnect",()=>{console.log(" Socket.IO  ")}),()=>{o.disconnect(),clearInterval(i)}},[]),e.jsxDEV(tc,{client:I0,children:e.jsxDEV(Gd,{children:e.jsxDEV(Dp,{children:[e.jsxDEV(Qd,{children:[e.jsxDEV(_t,{path:"/login",element:e.jsxDEV(U0,{},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:152,columnNumber:43},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:152,columnNumber:13},this),e.jsxDEV(_t,{path:"/",element:e.jsxDEV(af,{},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:153,columnNumber:38},this),children:[e.jsxDEV(_t,{index:!0,element:e.jsxDEV(Tr,{to:"/dashboard",replace:!0},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:154,columnNumber:37},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:154,columnNumber:15},this),e.jsxDEV(_t,{path:"dashboard",element:e.jsxDEV(jf,{},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:155,columnNumber:48},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:155,columnNumber:15},this),e.jsxDEV(_t,{path:"projects",element:e.jsxDEV(Rf,{},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:156,columnNumber:47},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:156,columnNumber:15},this),e.jsxDEV(_t,{path:"schedule",element:e.jsxDEV(GN,{},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:157,columnNumber:47},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:157,columnNumber:15},this),e.jsxDEV(_t,{path:"drawings",element:e.jsxDEV(ZN,{},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:158,columnNumber:47},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:158,columnNumber:15},this),e.jsxDEV(_t,{path:"site-log",element:e.jsxDEV(eb,{},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:159,columnNumber:47},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:159,columnNumber:15},this),e.jsxDEV(_t,{path:"after-service",element:e.jsxDEV(tb,{},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:160,columnNumber:52},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:160,columnNumber:15},this),e.jsxDEV(_t,{path:"additional-work",element:e.jsxDEV(nb,{},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:161,columnNumber:54},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:161,columnNumber:15},this),e.jsxDEV(_t,{path:"construction-payment",element:e.jsxDEV(ib,{},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:162,columnNumber:59},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:162,columnNumber:15},this),e.jsxDEV(_t,{path:"contractors",element:e.jsxDEV(ab,{},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:163,columnNumber:50},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:163,columnNumber:15},this),e.jsxDEV(_t,{path:"work-request",element:e.jsxDEV(ob,{},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:164,columnNumber:51},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:164,columnNumber:15},this),e.jsxDEV(_t,{path:"finish-check",element:e.jsxDEV(mb,{},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:165,columnNumber:51},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:165,columnNumber:15},this),e.jsxDEV(_t,{path:"specbook",element:e.jsxDEV(v0,{},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:166,columnNumber:47},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:166,columnNumber:15},this),e.jsxDEV(_t,{path:"estimate-preview",element:e.jsxDEV(D0,{},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:167,columnNumber:55},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:167,columnNumber:15},this),e.jsxDEV(_t,{path:"execution-history",element:e.jsxDEV(A0,{},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:168,columnNumber:56},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:168,columnNumber:15},this),e.jsxDEV(_t,{path:"payments",element:e.jsxDEV(H0,{},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:169,columnNumber:47},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:169,columnNumber:15},this),e.jsxDEV(_t,{path:"quote-inquiry",element:e.jsxDEV(B0,{},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:170,columnNumber:52},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:170,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:153,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:151,columnNumber:11},this),e.jsxDEV(Vu,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#fff",color:"#363636",border:"1px solid #e5e5e5"}}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:173,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:150,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:149,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:148,columnNumber:5},this)}"serviceWorker"in navigator&&navigator.serviceWorker.getRegistrations().then(function(s){for(const n of s)n.update()});Em(document.getElementById("root")).render(e.jsxDEV(d.StrictMode,{children:e.jsxDEV(T0,{},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/main.tsx",lineNumber:18,columnNumber:5},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/main.tsx",lineNumber:17,columnNumber:3},void 0));
