var lc=Object.defineProperty;var dc=(s,n,t)=>n in s?lc(s,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[n]=t;var eo=(s,n,t)=>dc(s,typeof n!="symbol"?n+"":n,t);import{r as l,b as xn,u as Vm,d as cc,N as si,e as Vi,O as uc,R as tt,f as rr,g as pc,B as fc,h as gc,i as Ft}from"./vendor-react-DN7YJcfR.js";import{a as Nc,c as Cm,Q as bc,b as xc}from"./vendor-data-CKbp7GnA.js";import{B as Ci,X as dt,C as Na,T as Dt,a as yc,b as hn,W as hc,c as kc,d as Xt,P as ws,R as vc,e as Em,S as Wr,f as Dc,g as Vc,h as Am,A as to,i as Cc,j as mn,F as so,k as no,l as ro,M as Ec,U as js,m as Ac,n as qr,I as Es,o as io,p as ao,q as Gn,r as oo,s as mo,t as wc,u as wm,D as _c,v as jc,E as Lc,w as Hc,x as lo,y as Bc,z as Uc,G as Sc,H as Pc,L as Rc}from"./vendor-ui-ChgtIPdl.js";import{k as Ei,l as Bn,m as Un,n as Mc,o as Ic,p as Ae,q as Tc,r as co,s as Fc,t as mt}from"./vendor-date-DbWJ9m7c.js";import{c as Wc,p as _m,l as ni,s as gs,i as qc,h as Oc,q as ba,a as xa,m as ya,b as $c,d as ri,o as Or,e as zc,f as $r,r as ha,g as ka,j as va,k as Da,n as Va,t as jm,u as Lm,v as Hm,w as Bm,x as Um,y as Sm,z as Pm,A as Rm,B as Mm,C as Im,D as Tm,E as Fm,F as Yc,G as Kc,H as Xc,I as Jc,J as Qc,K as Gc,L as Zc}from"./vendor-calendar-DjAQlTCo.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();var Wm={exports:{}},Ii={};/**
 * @license React
 * react-jsx-dev-runtime.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){var s=l,n=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),m=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),u=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),x=Symbol.for("react.offscreen"),j=Symbol.iterator,h="@@iterator";function L(v){if(v===null||typeof v!="object")return null;var ne=j&&v[j]||v[h];return typeof ne=="function"?ne:null}var I=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function y(v){{for(var ne=arguments.length,ge=new Array(ne>1?ne-1:0),Se=1;Se<ne;Se++)ge[Se-1]=arguments[Se];M("error",v,ge)}}function M(v,ne,ge){{var Se=I.ReactDebugCurrentFrame,ze=Se.getStackAddendum();ze!==""&&(ne+="%s",ge=ge.concat([ze]));var Je=ge.map(function(Ge){return String(Ge)});Je.unshift("Warning: "+ne),Function.prototype.apply.call(console[v],console,Je)}}var se=!1,re=!1,w=!1,O=!1,ie=!1,de;de=Symbol.for("react.module.reference");function ue(v){return!!(typeof v=="string"||typeof v=="function"||v===r||v===a||ie||v===i||v===p||v===f||O||v===x||se||re||w||typeof v=="object"&&v!==null&&(v.$$typeof===b||v.$$typeof===u||v.$$typeof===o||v.$$typeof===m||v.$$typeof===d||v.$$typeof===de||v.getModuleId!==void 0))}function ve(v,ne,ge){var Se=v.displayName;if(Se)return Se;var ze=ne.displayName||ne.name||"";return ze!==""?ge+"("+ze+")":ge}function Q(v){return v.displayName||"Context"}function he(v){if(v==null)return null;if(typeof v.tag=="number"&&y("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof v=="function")return v.displayName||v.name||null;if(typeof v=="string")return v;switch(v){case r:return"Fragment";case t:return"Portal";case a:return"Profiler";case i:return"StrictMode";case p:return"Suspense";case f:return"SuspenseList"}if(typeof v=="object")switch(v.$$typeof){case m:var ne=v;return Q(ne)+".Consumer";case o:var ge=v;return Q(ge._context)+".Provider";case d:return ve(v,v.render,"ForwardRef");case u:var Se=v.displayName||null;return Se!==null?Se:he(v.type)||"Memo";case b:{var ze=v,Je=ze._payload,Ge=ze._init;try{return he(Ge(Je))}catch{return null}}}return null}var Ne=Object.assign,Ve=0,je,Be,Xe,le,Le,Ue,Ce;function Re(){}Re.__reactDisabledLog=!0;function We(){{if(Ve===0){je=console.log,Be=console.info,Xe=console.warn,le=console.error,Le=console.group,Ue=console.groupCollapsed,Ce=console.groupEnd;var v={configurable:!0,enumerable:!0,value:Re,writable:!0};Object.defineProperties(console,{info:v,log:v,warn:v,error:v,group:v,groupCollapsed:v,groupEnd:v})}Ve++}}function Te(){{if(Ve--,Ve===0){var v={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:Ne({},v,{value:je}),info:Ne({},v,{value:Be}),warn:Ne({},v,{value:Xe}),error:Ne({},v,{value:le}),group:Ne({},v,{value:Le}),groupCollapsed:Ne({},v,{value:Ue}),groupEnd:Ne({},v,{value:Ce})})}Ve<0&&y("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var qe=I.ReactCurrentDispatcher,R;function fe(v,ne,ge){{if(R===void 0)try{throw Error()}catch(ze){var Se=ze.stack.trim().match(/\n( *(at )?)/);R=Se&&Se[1]||""}return`
`+R+v}}var pe=!1,He;{var Z=typeof WeakMap=="function"?WeakMap:Map;He=new Z}function A(v,ne){if(!v||pe)return"";{var ge=He.get(v);if(ge!==void 0)return ge}var Se;pe=!0;var ze=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var Je;Je=qe.current,qe.current=null,We();try{if(ne){var Ge=function(){throw Error()};if(Object.defineProperty(Ge.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ge,[])}catch(Ze){Se=Ze}Reflect.construct(v,[],Ge)}else{try{Ge.call()}catch(Ze){Se=Ze}v.call(Ge.prototype)}}else{try{throw Error()}catch(Ze){Se=Ze}v()}}catch(Ze){if(Ze&&Se&&typeof Ze.stack=="string"){for(var st=Ze.stack.split(`
`),Oe=Se.stack.split(`
`),Ye=st.length-1,W=Oe.length-1;Ye>=1&&W>=0&&st[Ye]!==Oe[W];)W--;for(;Ye>=1&&W>=0;Ye--,W--)if(st[Ye]!==Oe[W]){if(Ye!==1||W!==1)do if(Ye--,W--,W<0||st[Ye]!==Oe[W]){var oe=`
`+st[Ye].replace(" at new "," at ");return v.displayName&&oe.includes("<anonymous>")&&(oe=oe.replace("<anonymous>",v.displayName)),typeof v=="function"&&He.set(v,oe),oe}while(Ye>=1&&W>=0);break}}}finally{pe=!1,qe.current=Je,Te(),Error.prepareStackTrace=ze}var Pe=v?v.displayName||v.name:"",nt=Pe?fe(Pe):"";return typeof v=="function"&&He.set(v,nt),nt}function ce(v,ne,ge){return A(v,!1)}function V(v){var ne=v.prototype;return!!(ne&&ne.isReactComponent)}function _(v,ne,ge){if(v==null)return"";if(typeof v=="function")return A(v,V(v));if(typeof v=="string")return fe(v);switch(v){case p:return fe("Suspense");case f:return fe("SuspenseList")}if(typeof v=="object")switch(v.$$typeof){case d:return ce(v.render);case u:return _(v.type,ne,ge);case b:{var Se=v,ze=Se._payload,Je=Se._init;try{return _(Je(ze),ne,ge)}catch{}}}return""}var me=Object.prototype.hasOwnProperty,xe={},Me=I.ReactDebugCurrentFrame;function Fe(v){if(v){var ne=v._owner,ge=_(v.type,v._source,ne?ne.type:null);Me.setExtraStackFrame(ge)}else Me.setExtraStackFrame(null)}function B(v,ne,ge,Se,ze){{var Je=Function.call.bind(me);for(var Ge in v)if(Je(v,Ge)){var st=void 0;try{if(typeof v[Ge]!="function"){var Oe=Error((Se||"React class")+": "+ge+" type `"+Ge+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof v[Ge]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw Oe.name="Invariant Violation",Oe}st=v[Ge](ne,Ge,Se,ge,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(Ye){st=Ye}st&&!(st instanceof Error)&&(Fe(ze),y("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",Se||"React class",ge,Ge,typeof st),Fe(null)),st instanceof Error&&!(st.message in xe)&&(xe[st.message]=!0,Fe(ze),y("Failed %s type: %s",ge,st.message),Fe(null))}}}var $=Array.isArray;function G(v){return $(v)}function T(v){{var ne=typeof Symbol=="function"&&Symbol.toStringTag,ge=ne&&v[Symbol.toStringTag]||v.constructor.name||"Object";return ge}}function C(v){try{return z(v),!1}catch{return!0}}function z(v){return""+v}function X(v){if(C(v))return y("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",T(v)),z(v)}var K=I.ReactCurrentOwner,N={key:!0,ref:!0,__self:!0,__source:!0},D,U,Y;Y={};function ke(v){if(me.call(v,"ref")){var ne=Object.getOwnPropertyDescriptor(v,"ref").get;if(ne&&ne.isReactWarning)return!1}return v.ref!==void 0}function De(v){if(me.call(v,"key")){var ne=Object.getOwnPropertyDescriptor(v,"key").get;if(ne&&ne.isReactWarning)return!1}return v.key!==void 0}function Ie(v,ne){if(typeof v.ref=="string"&&K.current&&ne&&K.current.stateNode!==ne){var ge=he(K.current.type);Y[ge]||(y('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',he(K.current.type),v.ref),Y[ge]=!0)}}function $e(v,ne){{var ge=function(){D||(D=!0,y("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",ne))};ge.isReactWarning=!0,Object.defineProperty(v,"key",{get:ge,configurable:!0})}}function ot(v,ne){{var ge=function(){U||(U=!0,y("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",ne))};ge.isReactWarning=!0,Object.defineProperty(v,"ref",{get:ge,configurable:!0})}}var et=function(v,ne,ge,Se,ze,Je,Ge){var st={$$typeof:n,type:v,key:ne,ref:ge,props:Ge,_owner:Je};return st._store={},Object.defineProperty(st._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(st,"_self",{configurable:!1,enumerable:!1,writable:!1,value:Se}),Object.defineProperty(st,"_source",{configurable:!1,enumerable:!1,writable:!1,value:ze}),Object.freeze&&(Object.freeze(st.props),Object.freeze(st)),st};function Qe(v,ne,ge,Se,ze){{var Je,Ge={},st=null,Oe=null;ge!==void 0&&(X(ge),st=""+ge),De(ne)&&(X(ne.key),st=""+ne.key),ke(ne)&&(Oe=ne.ref,Ie(ne,ze));for(Je in ne)me.call(ne,Je)&&!N.hasOwnProperty(Je)&&(Ge[Je]=ne[Je]);if(v&&v.defaultProps){var Ye=v.defaultProps;for(Je in Ye)Ge[Je]===void 0&&(Ge[Je]=Ye[Je])}if(st||Oe){var W=typeof v=="function"?v.displayName||v.name||"Unknown":v;st&&$e(Ge,W),Oe&&ot(Ge,W)}return et(v,st,Oe,ze,Se,K.current,Ge)}}var it=I.ReactCurrentOwner,yt=I.ReactDebugCurrentFrame;function lt(v){if(v){var ne=v._owner,ge=_(v.type,v._source,ne?ne.type:null);yt.setExtraStackFrame(ge)}else yt.setExtraStackFrame(null)}var ct;ct=!1;function ut(v){return typeof v=="object"&&v!==null&&v.$$typeof===n}function ht(){{if(it.current){var v=he(it.current.type);if(v)return`

Check the render method of \``+v+"`."}return""}}function Ct(v){{if(v!==void 0){var ne=v.fileName.replace(/^.*[\\\/]/,""),ge=v.lineNumber;return`

Check your code at `+ne+":"+ge+"."}return""}}var kt={};function c(v){{var ne=ht();if(!ne){var ge=typeof v=="string"?v:v.displayName||v.name;ge&&(ne=`

Check the top-level render call using <`+ge+">.")}return ne}}function k(v,ne){{if(!v._store||v._store.validated||v.key!=null)return;v._store.validated=!0;var ge=c(ne);if(kt[ge])return;kt[ge]=!0;var Se="";v&&v._owner&&v._owner!==it.current&&(Se=" It was passed a child from "+he(v._owner.type)+"."),lt(v),y('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',ge,Se),lt(null)}}function H(v,ne){{if(typeof v!="object")return;if(G(v))for(var ge=0;ge<v.length;ge++){var Se=v[ge];ut(Se)&&k(Se,ne)}else if(ut(v))v._store&&(v._store.validated=!0);else if(v){var ze=L(v);if(typeof ze=="function"&&ze!==v.entries)for(var Je=ze.call(v),Ge;!(Ge=Je.next()).done;)ut(Ge.value)&&k(Ge.value,ne)}}}function J(v){{var ne=v.type;if(ne==null||typeof ne=="string")return;var ge;if(typeof ne=="function")ge=ne.propTypes;else if(typeof ne=="object"&&(ne.$$typeof===d||ne.$$typeof===u))ge=ne.propTypes;else return;if(ge){var Se=he(ne);B(ge,v.props,"prop",Se,v)}else if(ne.PropTypes!==void 0&&!ct){ct=!0;var ze=he(ne);y("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",ze||"Unknown")}typeof ne.getDefaultProps=="function"&&!ne.getDefaultProps.isReactClassApproved&&y("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function F(v){{for(var ne=Object.keys(v.props),ge=0;ge<ne.length;ge++){var Se=ne[ge];if(Se!=="children"&&Se!=="key"){lt(v),y("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",Se),lt(null);break}}v.ref!==null&&(lt(v),y("Invalid attribute `ref` supplied to `React.Fragment`."),lt(null))}}var ee={};function q(v,ne,ge,Se,ze,Je){{var Ge=ue(v);if(!Ge){var st="";(v===void 0||typeof v=="object"&&v!==null&&Object.keys(v).length===0)&&(st+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var Oe=Ct(ze);Oe?st+=Oe:st+=ht();var Ye;v===null?Ye="null":G(v)?Ye="array":v!==void 0&&v.$$typeof===n?(Ye="<"+(he(v.type)||"Unknown")+" />",st=" Did you accidentally export a JSX literal instead of a component?"):Ye=typeof v,y("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",Ye,st)}var W=Qe(v,ne,ge,ze,Je);if(W==null)return W;if(Ge){var oe=ne.children;if(oe!==void 0)if(Se)if(G(oe)){for(var Pe=0;Pe<oe.length;Pe++)H(oe[Pe],v);Object.freeze&&Object.freeze(oe)}else y("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else H(oe,v)}if(me.call(ne,"key")){var nt=he(v),Ze=Object.keys(ne).filter(function(At){return At!=="key"}),bt=Ze.length>0?"{key: someKey, "+Ze.join(": ..., ")+": ...}":"{key: someKey}";if(!ee[nt+bt]){var Et=Ze.length>0?"{"+Ze.join(": ..., ")+": ...}":"{}";y(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,bt,nt,Et,nt),ee[nt+bt]=!0}}return v===r?F(W):J(W),W}}var ye=q;Ii.Fragment=r,Ii.jsxDEV=ye})();Wm.exports=Ii;var e=Wm.exports,qm,uo=xn;{var po=uo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;qm=function(s,n){po.usingClientEntryPoint=!0;try{return uo.createRoot(s,n)}finally{po.usingClientEntryPoint=!1}}}let eu={data:""},tu=s=>{if(typeof window=="object"){let n=(s?s.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return n.nonce=window.__nonce__,n.parentNode||(s||document.head).appendChild(n),n.firstChild}return s||eu},su=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,nu=/\/\*[^]*?\*\/|  +/g,fo=/\n+/g,zs=(s,n)=>{let t="",r="",i="";for(let a in s){let o=s[a];a[0]=="@"?a[1]=="i"?t=a+" "+o+";":r+=a[1]=="f"?zs(o,a):a+"{"+zs(o,a[1]=="k"?"":n)+"}":typeof o=="object"?r+=zs(o,n?n.replace(/([^,])+/g,m=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,d=>/&/.test(d)?d.replace(/&/g,m):m?m+" "+d:d)):a):o!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=zs.p?zs.p(a,o):a+":"+o+";")}return t+(n&&i?n+"{"+i+"}":i)+r},Us={},Om=s=>{if(typeof s=="object"){let n="";for(let t in s)n+=t+Om(s[t]);return n}return s},ru=(s,n,t,r,i)=>{let a=Om(s),o=Us[a]||(Us[a]=(d=>{let p=0,f=11;for(;p<d.length;)f=101*f+d.charCodeAt(p++)>>>0;return"go"+f})(a));if(!Us[o]){let d=a!==s?s:(p=>{let f,u,b=[{}];for(;f=su.exec(p.replace(nu,""));)f[4]?b.shift():f[3]?(u=f[3].replace(fo," ").trim(),b.unshift(b[0][u]=b[0][u]||{})):b[0][f[1]]=f[2].replace(fo," ").trim();return b[0]})(s);Us[o]=zs(i?{["@keyframes "+o]:d}:d,t?"":"."+o)}let m=t&&Us.g?Us.g:null;return t&&(Us.g=Us[o]),((d,p,f,u)=>{u?p.data=p.data.replace(u,d):p.data.indexOf(d)===-1&&(p.data=f?d+p.data:p.data+d)})(Us[o],n,r,m),o},iu=(s,n,t)=>s.reduce((r,i,a)=>{let o=n[a];if(o&&o.call){let m=o(t),d=m&&m.props&&m.props.className||/^go/.test(m)&&m;o=d?"."+d:m&&typeof m=="object"?m.props?"":zs(m,""):m===!1?"":m}return r+i+(o??"")},"");function ii(s){let n=this||{},t=s.call?s(n.p):s;return ru(t.unshift?t.raw?iu(t,[].slice.call(arguments,1),n.p):t.reduce((r,i)=>Object.assign(r,i&&i.call?i(n.p):i),{}):t,tu(n.target),n.g,n.o,n.k)}let $m,Ti,Fi;ii.bind({g:1});let Ms=ii.bind({k:1});function au(s,n,t,r){zs.p=n,$m=s,Ti=t,Fi=r}function Js(s,n){let t=this||{};return function(){let r=arguments;function i(a,o){let m=Object.assign({},a),d=m.className||i.className;t.p=Object.assign({theme:Ti&&Ti()},m),t.o=/ *go\d+/.test(d),m.className=ii.apply(t,r)+(d?" "+d:"");let p=s;return s[0]&&(p=m.as||s,delete m.as),Fi&&p[0]&&Fi(m),$m(p,m)}return i}}var ou=s=>typeof s=="function",zr=(s,n)=>ou(s)?s(n):s,mu=(()=>{let s=0;return()=>(++s).toString()})(),zm=(()=>{let s;return()=>{if(s===void 0&&typeof window<"u"){let n=matchMedia("(prefers-reduced-motion: reduce)");s=!n||n.matches}return s}})(),lu=20,Ca="default",Ym=(s,n)=>{let{toastLimit:t}=s.settings;switch(n.type){case 0:return{...s,toasts:[n.toast,...s.toasts].slice(0,t)};case 1:return{...s,toasts:s.toasts.map(o=>o.id===n.toast.id?{...o,...n.toast}:o)};case 2:let{toast:r}=n;return Ym(s,{type:s.toasts.find(o=>o.id===r.id)?1:0,toast:r});case 3:let{toastId:i}=n;return{...s,toasts:s.toasts.map(o=>o.id===i||i===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return n.toastId===void 0?{...s,toasts:[]}:{...s,toasts:s.toasts.filter(o=>o.id!==n.toastId)};case 5:return{...s,pausedAt:n.time};case 6:let a=n.time-(s.pausedAt||0);return{...s,pausedAt:void 0,toasts:s.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+a}))}}},Br=[],Km={toasts:[],pausedAt:void 0,settings:{toastLimit:lu}},As={},Xm=(s,n=Ca)=>{As[n]=Ym(As[n]||Km,s),Br.forEach(([t,r])=>{t===n&&r(As[n])})},Jm=s=>Object.keys(As).forEach(n=>Xm(s,n)),du=s=>Object.keys(As).find(n=>As[n].toasts.some(t=>t.id===s)),ai=(s=Ca)=>n=>{Xm(n,s)},cu={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},uu=(s={},n=Ca)=>{let[t,r]=l.useState(As[n]||Km),i=l.useRef(As[n]);l.useEffect(()=>(i.current!==As[n]&&r(As[n]),Br.push([n,r]),()=>{let o=Br.findIndex(([m])=>m===n);o>-1&&Br.splice(o,1)}),[n]);let a=t.toasts.map(o=>{var m,d,p;return{...s,...s[o.type],...o,removeDelay:o.removeDelay||((m=s[o.type])==null?void 0:m.removeDelay)||(s==null?void 0:s.removeDelay),duration:o.duration||((d=s[o.type])==null?void 0:d.duration)||(s==null?void 0:s.duration)||cu[o.type],style:{...s.style,...(p=s[o.type])==null?void 0:p.style,...o.style}}});return{...t,toasts:a}},pu=(s,n="blank",t)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:n,ariaProps:{role:"status","aria-live":"polite"},message:s,pauseDuration:0,...t,id:(t==null?void 0:t.id)||mu()}),ir=s=>(n,t)=>{let r=pu(n,s,t);return ai(r.toasterId||du(r.id))({type:2,toast:r}),r.id},qt=(s,n)=>ir("blank")(s,n);qt.error=ir("error");qt.success=ir("success");qt.loading=ir("loading");qt.custom=ir("custom");qt.dismiss=(s,n)=>{let t={type:3,toastId:s};n?ai(n)(t):Jm(t)};qt.dismissAll=s=>qt.dismiss(void 0,s);qt.remove=(s,n)=>{let t={type:4,toastId:s};n?ai(n)(t):Jm(t)};qt.removeAll=s=>qt.remove(void 0,s);qt.promise=(s,n,t)=>{let r=qt.loading(n.loading,{...t,...t==null?void 0:t.loading});return typeof s=="function"&&(s=s()),s.then(i=>{let a=n.success?zr(n.success,i):void 0;return a?qt.success(a,{id:r,...t,...t==null?void 0:t.success}):qt.dismiss(r),i}).catch(i=>{let a=n.error?zr(n.error,i):void 0;a?qt.error(a,{id:r,...t,...t==null?void 0:t.error}):qt.dismiss(r)}),s};var fu=1e3,gu=(s,n="default")=>{let{toasts:t,pausedAt:r}=uu(s,n),i=l.useRef(new Map).current,a=l.useCallback((u,b=fu)=>{if(i.has(u))return;let x=setTimeout(()=>{i.delete(u),o({type:4,toastId:u})},b);i.set(u,x)},[]);l.useEffect(()=>{if(r)return;let u=Date.now(),b=t.map(x=>{if(x.duration===1/0)return;let j=(x.duration||0)+x.pauseDuration-(u-x.createdAt);if(j<0){x.visible&&qt.dismiss(x.id);return}return setTimeout(()=>qt.dismiss(x.id,n),j)});return()=>{b.forEach(x=>x&&clearTimeout(x))}},[t,r,n]);let o=l.useCallback(ai(n),[n]),m=l.useCallback(()=>{o({type:5,time:Date.now()})},[o]),d=l.useCallback((u,b)=>{o({type:1,toast:{id:u,height:b}})},[o]),p=l.useCallback(()=>{r&&o({type:6,time:Date.now()})},[r,o]),f=l.useCallback((u,b)=>{let{reverseOrder:x=!1,gutter:j=8,defaultPosition:h}=b||{},L=t.filter(M=>(M.position||h)===(u.position||h)&&M.height),I=L.findIndex(M=>M.id===u.id),y=L.filter((M,se)=>se<I&&M.visible).length;return L.filter(M=>M.visible).slice(...x?[y+1]:[0,y]).reduce((M,se)=>M+(se.height||0)+j,0)},[t]);return l.useEffect(()=>{t.forEach(u=>{if(u.dismissed)a(u.id,u.removeDelay);else{let b=i.get(u.id);b&&(clearTimeout(b),i.delete(u.id))}})},[t,a]),{toasts:t,handlers:{updateHeight:d,startPause:m,endPause:p,calculateOffset:f}}},Nu=Ms`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,bu=Ms`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,xu=Ms`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,yu=Js("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${s=>s.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Nu} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${bu} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${s=>s.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${xu} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,hu=Ms`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,ku=Js("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${s=>s.secondary||"#e0e0e0"};
  border-right-color: ${s=>s.primary||"#616161"};
  animation: ${hu} 1s linear infinite;
`,vu=Ms`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Du=Ms`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Vu=Js("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${s=>s.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${vu} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Du} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${s=>s.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Cu=Js("div")`
  position: absolute;
`,Eu=Js("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Au=Ms`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,wu=Js("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Au} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,_u=({toast:s})=>{let{icon:n,type:t,iconTheme:r}=s;return n!==void 0?typeof n=="string"?l.createElement(wu,null,n):n:t==="blank"?null:l.createElement(Eu,null,l.createElement(ku,{...r}),t!=="loading"&&l.createElement(Cu,null,t==="error"?l.createElement(yu,{...r}):l.createElement(Vu,{...r})))},ju=s=>`
0% {transform: translate3d(0,${s*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Lu=s=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${s*-150}%,-1px) scale(.6); opacity:0;}
`,Hu="0%{opacity:0;} 100%{opacity:1;}",Bu="0%{opacity:1;} 100%{opacity:0;}",Uu=Js("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Su=Js("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Pu=(s,n)=>{let t=s.includes("top")?1:-1,[r,i]=zm()?[Hu,Bu]:[ju(t),Lu(t)];return{animation:n?`${Ms(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Ms(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Ru=l.memo(({toast:s,position:n,style:t,children:r})=>{let i=s.height?Pu(s.position||n||"top-center",s.visible):{opacity:0},a=l.createElement(_u,{toast:s}),o=l.createElement(Su,{...s.ariaProps},zr(s.message,s));return l.createElement(Uu,{className:s.className,style:{...i,...t,...s.style}},typeof r=="function"?r({icon:a,message:o}):l.createElement(l.Fragment,null,a,o))});au(l.createElement);var Mu=({id:s,className:n,style:t,onHeightUpdate:r,children:i})=>{let a=l.useCallback(o=>{if(o){let m=()=>{let d=o.getBoundingClientRect().height;r(s,d)};m(),new MutationObserver(m).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[s,r]);return l.createElement("div",{ref:a,className:n,style:t},i)},Iu=(s,n)=>{let t=s.includes("top"),r=t?{top:0}:{bottom:0},i=s.includes("center")?{justifyContent:"center"}:s.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:zm()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${n*(t?1:-1)}px)`,...r,...i}},Tu=ii`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,ur=16,Fu=({reverseOrder:s,position:n="top-center",toastOptions:t,gutter:r,children:i,toasterId:a,containerStyle:o,containerClassName:m})=>{let{toasts:d,handlers:p}=gu(t,a);return l.createElement("div",{"data-rht-toaster":a||"",style:{position:"fixed",zIndex:9999,top:ur,left:ur,right:ur,bottom:ur,pointerEvents:"none",...o},className:m,onMouseEnter:p.startPause,onMouseLeave:p.endPause},d.map(f=>{let u=f.position||n,b=p.calculateOffset(f,{reverseOrder:s,gutter:r,defaultPosition:n}),x=Iu(u,b);return l.createElement(Mu,{id:f.id,key:f.id,onHeightUpdate:p.updateHeight,className:f.visible?Tu:"",style:x},f.type==="custom"?zr(f.message,f):i?i(f):l.createElement(Ru,{toast:f,position:u}))}))},P=qt;const Ls=Object.create(null);Ls.open="0";Ls.close="1";Ls.ping="2";Ls.pong="3";Ls.message="4";Ls.upgrade="5";Ls.noop="6";const Ur=Object.create(null);Object.keys(Ls).forEach(s=>{Ur[Ls[s]]=s});const Wi={type:"error",data:"parser error"},Qm=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Gm=typeof ArrayBuffer=="function",Zm=s=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(s):s&&s.buffer instanceof ArrayBuffer,Ea=({type:s,data:n},t,r)=>Qm&&n instanceof Blob?t?r(n):go(n,r):Gm&&(n instanceof ArrayBuffer||Zm(n))?t?r(n):go(new Blob([n]),r):r(Ls[s]+(n||"")),go=(s,n)=>{const t=new FileReader;return t.onload=function(){const r=t.result.split(",")[1];n("b"+(r||""))},t.readAsDataURL(s)};function No(s){return s instanceof Uint8Array?s:s instanceof ArrayBuffer?new Uint8Array(s):new Uint8Array(s.buffer,s.byteOffset,s.byteLength)}let Ai;function Wu(s,n){if(Qm&&s.data instanceof Blob)return s.data.arrayBuffer().then(No).then(n);if(Gm&&(s.data instanceof ArrayBuffer||Zm(s.data)))return n(No(s.data));Ea(s,!1,t=>{Ai||(Ai=new TextEncoder),n(Ai.encode(t))})}const bo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Fn=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let s=0;s<bo.length;s++)Fn[bo.charCodeAt(s)]=s;const qu=s=>{let n=s.length*.75,t=s.length,r,i=0,a,o,m,d;s[s.length-1]==="="&&(n--,s[s.length-2]==="="&&n--);const p=new ArrayBuffer(n),f=new Uint8Array(p);for(r=0;r<t;r+=4)a=Fn[s.charCodeAt(r)],o=Fn[s.charCodeAt(r+1)],m=Fn[s.charCodeAt(r+2)],d=Fn[s.charCodeAt(r+3)],f[i++]=a<<2|o>>4,f[i++]=(o&15)<<4|m>>2,f[i++]=(m&3)<<6|d&63;return p},Ou=typeof ArrayBuffer=="function",Aa=(s,n)=>{if(typeof s!="string")return{type:"message",data:el(s,n)};const t=s.charAt(0);return t==="b"?{type:"message",data:$u(s.substring(1),n)}:Ur[t]?s.length>1?{type:Ur[t],data:s.substring(1)}:{type:Ur[t]}:Wi},$u=(s,n)=>{if(Ou){const t=qu(s);return el(t,n)}else return{base64:!0,data:s}},el=(s,n)=>{switch(n){case"blob":return s instanceof Blob?s:new Blob([s]);case"arraybuffer":default:return s instanceof ArrayBuffer?s:s.buffer}},tl="",zu=(s,n)=>{const t=s.length,r=new Array(t);let i=0;s.forEach((a,o)=>{Ea(a,!1,m=>{r[o]=m,++i===t&&n(r.join(tl))})})},Yu=(s,n)=>{const t=s.split(tl),r=[];for(let i=0;i<t.length;i++){const a=Aa(t[i],n);if(r.push(a),a.type==="error")break}return r};function Ku(){return new TransformStream({transform(s,n){Wu(s,t=>{const r=t.length;let i;if(r<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,r);else if(r<65536){i=new Uint8Array(3);const a=new DataView(i.buffer);a.setUint8(0,126),a.setUint16(1,r)}else{i=new Uint8Array(9);const a=new DataView(i.buffer);a.setUint8(0,127),a.setBigUint64(1,BigInt(r))}s.data&&typeof s.data!="string"&&(i[0]|=128),n.enqueue(i),n.enqueue(t)})}})}let wi;function pr(s){return s.reduce((n,t)=>n+t.length,0)}function fr(s,n){if(s[0].length===n)return s.shift();const t=new Uint8Array(n);let r=0;for(let i=0;i<n;i++)t[i]=s[0][r++],r===s[0].length&&(s.shift(),r=0);return s.length&&r<s[0].length&&(s[0]=s[0].slice(r)),t}function Xu(s,n){wi||(wi=new TextDecoder);const t=[];let r=0,i=-1,a=!1;return new TransformStream({transform(o,m){for(t.push(o);;){if(r===0){if(pr(t)<1)break;const d=fr(t,1);a=(d[0]&128)===128,i=d[0]&127,i<126?r=3:i===126?r=1:r=2}else if(r===1){if(pr(t)<2)break;const d=fr(t,2);i=new DataView(d.buffer,d.byteOffset,d.length).getUint16(0),r=3}else if(r===2){if(pr(t)<8)break;const d=fr(t,8),p=new DataView(d.buffer,d.byteOffset,d.length),f=p.getUint32(0);if(f>Math.pow(2,21)-1){m.enqueue(Wi);break}i=f*Math.pow(2,32)+p.getUint32(4),r=3}else{if(pr(t)<i)break;const d=fr(t,i);m.enqueue(Aa(a?d:wi.decode(d),n)),r=0}if(i===0||i>s){m.enqueue(Wi);break}}}})}const sl=4;function Rt(s){if(s)return Ju(s)}function Ju(s){for(var n in Rt.prototype)s[n]=Rt.prototype[n];return s}Rt.prototype.on=Rt.prototype.addEventListener=function(s,n){return this._callbacks=this._callbacks||{},(this._callbacks["$"+s]=this._callbacks["$"+s]||[]).push(n),this};Rt.prototype.once=function(s,n){function t(){this.off(s,t),n.apply(this,arguments)}return t.fn=n,this.on(s,t),this};Rt.prototype.off=Rt.prototype.removeListener=Rt.prototype.removeAllListeners=Rt.prototype.removeEventListener=function(s,n){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var t=this._callbacks["$"+s];if(!t)return this;if(arguments.length==1)return delete this._callbacks["$"+s],this;for(var r,i=0;i<t.length;i++)if(r=t[i],r===n||r.fn===n){t.splice(i,1);break}return t.length===0&&delete this._callbacks["$"+s],this};Rt.prototype.emit=function(s){this._callbacks=this._callbacks||{};for(var n=new Array(arguments.length-1),t=this._callbacks["$"+s],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(t){t=t.slice(0);for(var r=0,i=t.length;r<i;++r)t[r].apply(this,n)}return this};Rt.prototype.emitReserved=Rt.prototype.emit;Rt.prototype.listeners=function(s){return this._callbacks=this._callbacks||{},this._callbacks["$"+s]||[]};Rt.prototype.hasListeners=function(s){return!!this.listeners(s).length};const oi=typeof Promise=="function"&&typeof Promise.resolve=="function"?n=>Promise.resolve().then(n):(n,t)=>t(n,0),cs=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),Qu="arraybuffer";function nl(s,...n){return n.reduce((t,r)=>(s.hasOwnProperty(r)&&(t[r]=s[r]),t),{})}const Gu=cs.setTimeout,Zu=cs.clearTimeout;function mi(s,n){n.useNativeTimers?(s.setTimeoutFn=Gu.bind(cs),s.clearTimeoutFn=Zu.bind(cs)):(s.setTimeoutFn=cs.setTimeout.bind(cs),s.clearTimeoutFn=cs.clearTimeout.bind(cs))}const ep=1.33;function tp(s){return typeof s=="string"?sp(s):Math.ceil((s.byteLength||s.size)*ep)}function sp(s){let n=0,t=0;for(let r=0,i=s.length;r<i;r++)n=s.charCodeAt(r),n<128?t+=1:n<2048?t+=2:n<55296||n>=57344?t+=3:(r++,t+=4);return t}function rl(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function np(s){let n="";for(let t in s)s.hasOwnProperty(t)&&(n.length&&(n+="&"),n+=encodeURIComponent(t)+"="+encodeURIComponent(s[t]));return n}function rp(s){let n={},t=s.split("&");for(let r=0,i=t.length;r<i;r++){let a=t[r].split("=");n[decodeURIComponent(a[0])]=decodeURIComponent(a[1])}return n}class ip extends Error{constructor(n,t,r){super(n),this.description=t,this.context=r,this.type="TransportError"}}class wa extends Rt{constructor(n){super(),this.writable=!1,mi(this,n),this.opts=n,this.query=n.query,this.socket=n.socket,this.supportsBinary=!n.forceBase64}onError(n,t,r){return super.emitReserved("error",new ip(n,t,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(n){this.readyState==="open"&&this.write(n)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(n){const t=Aa(n,this.socket.binaryType);this.onPacket(t)}onPacket(n){super.emitReserved("packet",n)}onClose(n){this.readyState="closed",super.emitReserved("close",n)}pause(n){}createUri(n,t={}){return n+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const n=this.opts.hostname;return n.indexOf(":")===-1?n:"["+n+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(n){const t=np(n);return t.length?"?"+t:""}}class ap extends wa{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(n){this.readyState="pausing";const t=()=>{this.readyState="paused",n()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||t()})),this.writable||(r++,this.once("drain",function(){--r||t()}))}else t()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(n){const t=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};Yu(n,this.socket.binaryType).forEach(t),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const n=()=>{this.write([{type:"close"}])};this.readyState==="open"?n():this.once("open",n)}write(n){this.writable=!1,zu(n,t=>{this.doWrite(t,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const n=this.opts.secure?"https":"http",t=this.query||{};return this.opts.timestampRequests!==!1&&(t[this.opts.timestampParam]=rl()),!this.supportsBinary&&!t.sid&&(t.b64=1),this.createUri(n,t)}}let il=!1;try{il=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const op=il;function mp(){}class lp extends ap{constructor(n){if(super(n),typeof location<"u"){const t=location.protocol==="https:";let r=location.port;r||(r=t?"443":"80"),this.xd=typeof location<"u"&&n.hostname!==location.hostname||r!==n.port}}doWrite(n,t){const r=this.request({method:"POST",data:n});r.on("success",t),r.on("error",(i,a)=>{this.onError("xhr post error",i,a)})}doPoll(){const n=this.request();n.on("data",this.onData.bind(this)),n.on("error",(t,r)=>{this.onError("xhr poll error",t,r)}),this.pollXhr=n}}class _s extends Rt{constructor(n,t,r){super(),this.createRequest=n,mi(this,r),this._opts=r,this._method=r.method||"GET",this._uri=t,this._data=r.data!==void 0?r.data:null,this._create()}_create(){var n;const t=nl(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this._opts.xd;const r=this._xhr=this.createRequest(t);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let i in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(i)&&r.setRequestHeader(i,this._opts.extraHeaders[i])}}catch{}if(this._method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(n=this._opts.cookieJar)===null||n===void 0||n.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var i;r.readyState===3&&((i=this._opts.cookieJar)===null||i===void 0||i.parseCookies(r.getResponseHeader("set-cookie"))),r.readyState===4&&(r.status===200||r.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof r.status=="number"?r.status:0)},0))},r.send(this._data)}catch(i){this.setTimeoutFn(()=>{this._onError(i)},0);return}typeof document<"u"&&(this._index=_s.requestsCount++,_s.requests[this._index]=this)}_onError(n){this.emitReserved("error",n,this._xhr),this._cleanup(!0)}_cleanup(n){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=mp,n)try{this._xhr.abort()}catch{}typeof document<"u"&&delete _s.requests[this._index],this._xhr=null}}_onLoad(){const n=this._xhr.responseText;n!==null&&(this.emitReserved("data",n),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}_s.requestsCount=0;_s.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",xo);else if(typeof addEventListener=="function"){const s="onpagehide"in cs?"pagehide":"unload";addEventListener(s,xo,!1)}}function xo(){for(let s in _s.requests)_s.requests.hasOwnProperty(s)&&_s.requests[s].abort()}const dp=function(){const s=al({xdomain:!1});return s&&s.responseType!==null}();class cp extends lp{constructor(n){super(n);const t=n&&n.forceBase64;this.supportsBinary=dp&&!t}request(n={}){return Object.assign(n,{xd:this.xd},this.opts),new _s(al,this.uri(),n)}}function al(s){const n=s.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!n||op))return new XMLHttpRequest}catch{}if(!n)try{return new cs[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const ol=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class up extends wa{get name(){return"websocket"}doOpen(){const n=this.uri(),t=this.opts.protocols,r=ol?{}:nl(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(n,t,r)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=n=>this.onClose({description:"websocket connection closed",context:n}),this.ws.onmessage=n=>this.onData(n.data),this.ws.onerror=n=>this.onError("websocket error",n)}write(n){this.writable=!1;for(let t=0;t<n.length;t++){const r=n[t],i=t===n.length-1;Ea(r,this.supportsBinary,a=>{try{this.doWrite(r,a)}catch{}i&&oi(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const n=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=rl()),this.supportsBinary||(t.b64=1),this.createUri(n,t)}}const _i=cs.WebSocket||cs.MozWebSocket;class pp extends up{createSocket(n,t,r){return ol?new _i(n,t,r):t?new _i(n,t):new _i(n)}doWrite(n,t){this.ws.send(t)}}class fp extends wa{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(n){return this.emitReserved("error",n)}this._transport.closed.then(()=>{this.onClose()}).catch(n=>{this.onError("webtransport error",n)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(n=>{const t=Xu(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=n.readable.pipeThrough(t).getReader(),i=Ku();i.readable.pipeTo(n.writable),this._writer=i.writable.getWriter();const a=()=>{r.read().then(({done:m,value:d})=>{m||(this.onPacket(d),a())}).catch(m=>{})};a();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(n){this.writable=!1;for(let t=0;t<n.length;t++){const r=n[t],i=t===n.length-1;this._writer.write(r).then(()=>{i&&oi(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var n;(n=this._transport)===null||n===void 0||n.close()}}const gp={websocket:pp,webtransport:fp,polling:cp},Np=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,bp=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function qi(s){if(s.length>8e3)throw"URI too long";const n=s,t=s.indexOf("["),r=s.indexOf("]");t!=-1&&r!=-1&&(s=s.substring(0,t)+s.substring(t,r).replace(/:/g,";")+s.substring(r,s.length));let i=Np.exec(s||""),a={},o=14;for(;o--;)a[bp[o]]=i[o]||"";return t!=-1&&r!=-1&&(a.source=n,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a.pathNames=xp(a,a.path),a.queryKey=yp(a,a.query),a}function xp(s,n){const t=/\/{2,9}/g,r=n.replace(t,"/").split("/");return(n.slice(0,1)=="/"||n.length===0)&&r.splice(0,1),n.slice(-1)=="/"&&r.splice(r.length-1,1),r}function yp(s,n){const t={};return n.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,i,a){i&&(t[i]=a)}),t}const Oi=typeof addEventListener=="function"&&typeof removeEventListener=="function",Sr=[];Oi&&addEventListener("offline",()=>{Sr.forEach(s=>s())},!1);class Ks extends Rt{constructor(n,t){if(super(),this.binaryType=Qu,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,n&&typeof n=="object"&&(t=n,n=null),n){const r=qi(n);t.hostname=r.host,t.secure=r.protocol==="https"||r.protocol==="wss",t.port=r.port,r.query&&(t.query=r.query)}else t.host&&(t.hostname=qi(t.host).host);mi(this,t),this.secure=t.secure!=null?t.secure:typeof location<"u"&&location.protocol==="https:",t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=t.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},t.transports.forEach(r=>{const i=r.prototype.name;this.transports.push(i),this._transportsByName[i]=r}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=rp(this.opts.query)),Oi&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Sr.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(n){const t=Object.assign({},this.opts.query);t.EIO=sl,t.transport=n,this.id&&(t.sid=this.id);const r=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[n]);return new this._transportsByName[n](r)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const n=this.opts.rememberUpgrade&&Ks.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const t=this.createTransport(n);t.open(),this.setTransport(t)}setTransport(n){this.transport&&this.transport.removeAllListeners(),this.transport=n,n.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",t=>this._onClose("transport close",t))}onOpen(){this.readyState="open",Ks.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",n),this.emitReserved("heartbeat"),n.type){case"open":this.onHandshake(JSON.parse(n.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const t=new Error("server error");t.code=n.data,this._onError(t);break;case"message":this.emitReserved("data",n.data),this.emitReserved("message",n.data);break}}onHandshake(n){this.emitReserved("handshake",n),this.id=n.sid,this.transport.query.sid=n.sid,this._pingInterval=n.pingInterval,this._pingTimeout=n.pingTimeout,this._maxPayload=n.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const n=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+n,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},n),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const n=this._getWritablePackets();this.transport.send(n),this._prevBufferLen=n.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let t=1;for(let r=0;r<this.writeBuffer.length;r++){const i=this.writeBuffer[r].data;if(i&&(t+=tp(i)),r>0&&t>this._maxPayload)return this.writeBuffer.slice(0,r);t+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const n=Date.now()>this._pingTimeoutTime;return n&&(this._pingTimeoutTime=0,oi(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),n}write(n,t,r){return this._sendPacket("message",n,t,r),this}send(n,t,r){return this._sendPacket("message",n,t,r),this}_sendPacket(n,t,r,i){if(typeof t=="function"&&(i=t,t=void 0),typeof r=="function"&&(i=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const a={type:n,data:t,options:r};this.emitReserved("packetCreate",a),this.writeBuffer.push(a),i&&this.once("flush",i),this.flush()}close(){const n=()=>{this._onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),n()},r=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():n()}):this.upgrading?r():n()),this}_onError(n){if(Ks.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",n),this._onClose("transport error",n)}_onClose(n,t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Oi&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const r=Sr.indexOf(this._offlineEventListener);r!==-1&&Sr.splice(r,1)}this.readyState="closed",this.id=null,this.emitReserved("close",n,t),this.writeBuffer=[],this._prevBufferLen=0}}}Ks.protocol=sl;class hp extends Ks{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let n=0;n<this._upgrades.length;n++)this._probe(this._upgrades[n])}_probe(n){let t=this.createTransport(n),r=!1;Ks.priorWebsocketSuccess=!1;const i=()=>{r||(t.send([{type:"ping",data:"probe"}]),t.once("packet",u=>{if(!r)if(u.type==="pong"&&u.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;Ks.priorWebsocketSuccess=t.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(f(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{const b=new Error("probe error");b.transport=t.name,this.emitReserved("upgradeError",b)}}))};function a(){r||(r=!0,f(),t.close(),t=null)}const o=u=>{const b=new Error("probe error: "+u);b.transport=t.name,a(),this.emitReserved("upgradeError",b)};function m(){o("transport closed")}function d(){o("socket closed")}function p(u){t&&u.name!==t.name&&a()}const f=()=>{t.removeListener("open",i),t.removeListener("error",o),t.removeListener("close",m),this.off("close",d),this.off("upgrading",p)};t.once("open",i),t.once("error",o),t.once("close",m),this.once("close",d),this.once("upgrading",p),this._upgrades.indexOf("webtransport")!==-1&&n!=="webtransport"?this.setTimeoutFn(()=>{r||t.open()},200):t.open()}onHandshake(n){this._upgrades=this._filterUpgrades(n.upgrades),super.onHandshake(n)}_filterUpgrades(n){const t=[];for(let r=0;r<n.length;r++)~this.transports.indexOf(n[r])&&t.push(n[r]);return t}}let kp=class extends hp{constructor(n,t={}){const r=typeof n=="object"?n:t;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(i=>gp[i]).filter(i=>!!i)),super(n,r)}};function vp(s,n="",t){let r=s;t=t||typeof location<"u"&&location,s==null&&(s=t.protocol+"//"+t.host),typeof s=="string"&&(s.charAt(0)==="/"&&(s.charAt(1)==="/"?s=t.protocol+s:s=t.host+s),/^(https?|wss?):\/\//.test(s)||(typeof t<"u"?s=t.protocol+"//"+s:s="https://"+s),r=qi(s)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const a=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+a+":"+r.port+n,r.href=r.protocol+"://"+a+(t&&t.port===r.port?"":":"+r.port),r}const Dp=typeof ArrayBuffer=="function",Vp=s=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(s):s.buffer instanceof ArrayBuffer,ml=Object.prototype.toString,Cp=typeof Blob=="function"||typeof Blob<"u"&&ml.call(Blob)==="[object BlobConstructor]",Ep=typeof File=="function"||typeof File<"u"&&ml.call(File)==="[object FileConstructor]";function _a(s){return Dp&&(s instanceof ArrayBuffer||Vp(s))||Cp&&s instanceof Blob||Ep&&s instanceof File}function Pr(s,n){if(!s||typeof s!="object")return!1;if(Array.isArray(s)){for(let t=0,r=s.length;t<r;t++)if(Pr(s[t]))return!0;return!1}if(_a(s))return!0;if(s.toJSON&&typeof s.toJSON=="function"&&arguments.length===1)return Pr(s.toJSON(),!0);for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t)&&Pr(s[t]))return!0;return!1}function Ap(s){const n=[],t=s.data,r=s;return r.data=$i(t,n),r.attachments=n.length,{packet:r,buffers:n}}function $i(s,n){if(!s)return s;if(_a(s)){const t={_placeholder:!0,num:n.length};return n.push(s),t}else if(Array.isArray(s)){const t=new Array(s.length);for(let r=0;r<s.length;r++)t[r]=$i(s[r],n);return t}else if(typeof s=="object"&&!(s instanceof Date)){const t={};for(const r in s)Object.prototype.hasOwnProperty.call(s,r)&&(t[r]=$i(s[r],n));return t}return s}function wp(s,n){return s.data=zi(s.data,n),delete s.attachments,s}function zi(s,n){if(!s)return s;if(s&&s._placeholder===!0){if(typeof s.num=="number"&&s.num>=0&&s.num<n.length)return n[s.num];throw new Error("illegal attachments")}else if(Array.isArray(s))for(let t=0;t<s.length;t++)s[t]=zi(s[t],n);else if(typeof s=="object")for(const t in s)Object.prototype.hasOwnProperty.call(s,t)&&(s[t]=zi(s[t],n));return s}const _p=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],jp=5;var gt;(function(s){s[s.CONNECT=0]="CONNECT",s[s.DISCONNECT=1]="DISCONNECT",s[s.EVENT=2]="EVENT",s[s.ACK=3]="ACK",s[s.CONNECT_ERROR=4]="CONNECT_ERROR",s[s.BINARY_EVENT=5]="BINARY_EVENT",s[s.BINARY_ACK=6]="BINARY_ACK"})(gt||(gt={}));class Lp{constructor(n){this.replacer=n}encode(n){return(n.type===gt.EVENT||n.type===gt.ACK)&&Pr(n)?this.encodeAsBinary({type:n.type===gt.EVENT?gt.BINARY_EVENT:gt.BINARY_ACK,nsp:n.nsp,data:n.data,id:n.id}):[this.encodeAsString(n)]}encodeAsString(n){let t=""+n.type;return(n.type===gt.BINARY_EVENT||n.type===gt.BINARY_ACK)&&(t+=n.attachments+"-"),n.nsp&&n.nsp!=="/"&&(t+=n.nsp+","),n.id!=null&&(t+=n.id),n.data!=null&&(t+=JSON.stringify(n.data,this.replacer)),t}encodeAsBinary(n){const t=Ap(n),r=this.encodeAsString(t.packet),i=t.buffers;return i.unshift(r),i}}function yo(s){return Object.prototype.toString.call(s)==="[object Object]"}class ja extends Rt{constructor(n){super(),this.reviver=n}add(n){let t;if(typeof n=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(n);const r=t.type===gt.BINARY_EVENT;r||t.type===gt.BINARY_ACK?(t.type=r?gt.EVENT:gt.ACK,this.reconstructor=new Hp(t),t.attachments===0&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else if(_a(n)||n.base64)if(this.reconstructor)t=this.reconstructor.takeBinaryData(n),t&&(this.reconstructor=null,super.emitReserved("decoded",t));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+n)}decodeString(n){let t=0;const r={type:Number(n.charAt(0))};if(gt[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===gt.BINARY_EVENT||r.type===gt.BINARY_ACK){const a=t+1;for(;n.charAt(++t)!=="-"&&t!=n.length;);const o=n.substring(a,t);if(o!=Number(o)||n.charAt(t)!=="-")throw new Error("Illegal attachments");r.attachments=Number(o)}if(n.charAt(t+1)==="/"){const a=t+1;for(;++t&&!(n.charAt(t)===","||t===n.length););r.nsp=n.substring(a,t)}else r.nsp="/";const i=n.charAt(t+1);if(i!==""&&Number(i)==i){const a=t+1;for(;++t;){const o=n.charAt(t);if(o==null||Number(o)!=o){--t;break}if(t===n.length)break}r.id=Number(n.substring(a,t+1))}if(n.charAt(++t)){const a=this.tryParse(n.substr(t));if(ja.isPayloadValid(r.type,a))r.data=a;else throw new Error("invalid payload")}return r}tryParse(n){try{return JSON.parse(n,this.reviver)}catch{return!1}}static isPayloadValid(n,t){switch(n){case gt.CONNECT:return yo(t);case gt.DISCONNECT:return t===void 0;case gt.CONNECT_ERROR:return typeof t=="string"||yo(t);case gt.EVENT:case gt.BINARY_EVENT:return Array.isArray(t)&&(typeof t[0]=="number"||typeof t[0]=="string"&&_p.indexOf(t[0])===-1);case gt.ACK:case gt.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Hp{constructor(n){this.packet=n,this.buffers=[],this.reconPack=n}takeBinaryData(n){if(this.buffers.push(n),this.buffers.length===this.reconPack.attachments){const t=wp(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const Bp=Object.freeze(Object.defineProperty({__proto__:null,Decoder:ja,Encoder:Lp,get PacketType(){return gt},protocol:jp},Symbol.toStringTag,{value:"Module"}));function fs(s,n,t){return s.on(n,t),function(){s.off(n,t)}}const Up=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class ll extends Rt{constructor(n,t,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=n,this.nsp=t,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const n=this.io;this.subs=[fs(n,"open",this.onopen.bind(this)),fs(n,"packet",this.onpacket.bind(this)),fs(n,"error",this.onerror.bind(this)),fs(n,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...n){return n.unshift("message"),this.emit.apply(this,n),this}emit(n,...t){var r,i,a;if(Up.hasOwnProperty(n))throw new Error('"'+n.toString()+'" is a reserved event name');if(t.unshift(n),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(t),this;const o={type:gt.EVENT,data:t};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof t[t.length-1]=="function"){const f=this.ids++,u=t.pop();this._registerAckCallback(f,u),o.id=f}const m=(i=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||i===void 0?void 0:i.writable,d=this.connected&&!(!((a=this.io.engine)===null||a===void 0)&&a._hasPingExpired());return this.flags.volatile&&!m||(d?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(n,t){var r;const i=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(i===void 0){this.acks[n]=t;return}const a=this.io.setTimeoutFn(()=>{delete this.acks[n];for(let m=0;m<this.sendBuffer.length;m++)this.sendBuffer[m].id===n&&this.sendBuffer.splice(m,1);t.call(this,new Error("operation has timed out"))},i),o=(...m)=>{this.io.clearTimeoutFn(a),t.apply(this,m)};o.withError=!0,this.acks[n]=o}emitWithAck(n,...t){return new Promise((r,i)=>{const a=(o,m)=>o?i(o):r(m);a.withError=!0,t.push(a),this.emit(n,...t)})}_addToQueue(n){let t;typeof n[n.length-1]=="function"&&(t=n.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:n,flags:Object.assign({fromQueue:!0},this.flags)};n.push((i,...a)=>r!==this._queue[0]?void 0:(i!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),t&&t(i)):(this._queue.shift(),t&&t(null,...a)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(n=!1){if(!this.connected||this._queue.length===0)return;const t=this._queue[0];t.pending&&!n||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(n){n.nsp=this.nsp,this.io._packet(n)}onopen(){typeof this.auth=="function"?this.auth(n=>{this._sendConnectPacket(n)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(n){this.packet({type:gt.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},n):n})}onerror(n){this.connected||this.emitReserved("connect_error",n)}onclose(n,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",n,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(n=>{if(!this.sendBuffer.some(r=>String(r.id)===n)){const r=this.acks[n];delete this.acks[n],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(n){if(n.nsp===this.nsp)switch(n.type){case gt.CONNECT:n.data&&n.data.sid?this.onconnect(n.data.sid,n.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case gt.EVENT:case gt.BINARY_EVENT:this.onevent(n);break;case gt.ACK:case gt.BINARY_ACK:this.onack(n);break;case gt.DISCONNECT:this.ondisconnect();break;case gt.CONNECT_ERROR:this.destroy();const r=new Error(n.data.message);r.data=n.data.data,this.emitReserved("connect_error",r);break}}onevent(n){const t=n.data||[];n.id!=null&&t.push(this.ack(n.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(n){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const r of t)r.apply(this,n)}super.emit.apply(this,n),this._pid&&n.length&&typeof n[n.length-1]=="string"&&(this._lastOffset=n[n.length-1])}ack(n){const t=this;let r=!1;return function(...i){r||(r=!0,t.packet({type:gt.ACK,id:n,data:i}))}}onack(n){const t=this.acks[n.id];typeof t=="function"&&(delete this.acks[n.id],t.withError&&n.data.unshift(null),t.apply(this,n.data))}onconnect(n,t){this.id=n,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(n=>this.emitEvent(n)),this.receiveBuffer=[],this.sendBuffer.forEach(n=>{this.notifyOutgoingListeners(n),this.packet(n)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(n=>n()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:gt.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(n){return this.flags.compress=n,this}get volatile(){return this.flags.volatile=!0,this}timeout(n){return this.flags.timeout=n,this}onAny(n){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(n),this}prependAny(n){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(n),this}offAny(n){if(!this._anyListeners)return this;if(n){const t=this._anyListeners;for(let r=0;r<t.length;r++)if(n===t[r])return t.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(n){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(n),this}prependAnyOutgoing(n){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(n),this}offAnyOutgoing(n){if(!this._anyOutgoingListeners)return this;if(n){const t=this._anyOutgoingListeners;for(let r=0;r<t.length;r++)if(n===t[r])return t.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(n){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const r of t)r.apply(this,n.data)}}}function Vn(s){s=s||{},this.ms=s.min||100,this.max=s.max||1e4,this.factor=s.factor||2,this.jitter=s.jitter>0&&s.jitter<=1?s.jitter:0,this.attempts=0}Vn.prototype.duration=function(){var s=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var n=Math.random(),t=Math.floor(n*this.jitter*s);s=Math.floor(n*10)&1?s+t:s-t}return Math.min(s,this.max)|0};Vn.prototype.reset=function(){this.attempts=0};Vn.prototype.setMin=function(s){this.ms=s};Vn.prototype.setMax=function(s){this.max=s};Vn.prototype.setJitter=function(s){this.jitter=s};class Yi extends Rt{constructor(n,t){var r;super(),this.nsps={},this.subs=[],n&&typeof n=="object"&&(t=n,n=void 0),t=t||{},t.path=t.path||"/socket.io",this.opts=t,mi(this,t),this.reconnection(t.reconnection!==!1),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor((r=t.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new Vn({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(t.timeout==null?2e4:t.timeout),this._readyState="closed",this.uri=n;const i=t.parser||Bp;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=t.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(n){return arguments.length?(this._reconnection=!!n,n||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(n){return n===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=n,this)}reconnectionDelay(n){var t;return n===void 0?this._reconnectionDelay:(this._reconnectionDelay=n,(t=this.backoff)===null||t===void 0||t.setMin(n),this)}randomizationFactor(n){var t;return n===void 0?this._randomizationFactor:(this._randomizationFactor=n,(t=this.backoff)===null||t===void 0||t.setJitter(n),this)}reconnectionDelayMax(n){var t;return n===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=n,(t=this.backoff)===null||t===void 0||t.setMax(n),this)}timeout(n){return arguments.length?(this._timeout=n,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(n){if(~this._readyState.indexOf("open"))return this;this.engine=new kp(this.uri,this.opts);const t=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const i=fs(t,"open",function(){r.onopen(),n&&n()}),a=m=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",m),n?n(m):this.maybeReconnectOnOpen()},o=fs(t,"error",a);if(this._timeout!==!1){const m=this._timeout,d=this.setTimeoutFn(()=>{i(),a(new Error("timeout")),t.close()},m);this.opts.autoUnref&&d.unref(),this.subs.push(()=>{this.clearTimeoutFn(d)})}return this.subs.push(i),this.subs.push(o),this}connect(n){return this.open(n)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const n=this.engine;this.subs.push(fs(n,"ping",this.onping.bind(this)),fs(n,"data",this.ondata.bind(this)),fs(n,"error",this.onerror.bind(this)),fs(n,"close",this.onclose.bind(this)),fs(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(n){try{this.decoder.add(n)}catch(t){this.onclose("parse error",t)}}ondecoded(n){oi(()=>{this.emitReserved("packet",n)},this.setTimeoutFn)}onerror(n){this.emitReserved("error",n)}socket(n,t){let r=this.nsps[n];return r?this._autoConnect&&!r.active&&r.connect():(r=new ll(this,n,t),this.nsps[n]=r),r}_destroy(n){const t=Object.keys(this.nsps);for(const r of t)if(this.nsps[r].active)return;this._close()}_packet(n){const t=this.encoder.encode(n);for(let r=0;r<t.length;r++)this.engine.write(t[r],n.options)}cleanup(){this.subs.forEach(n=>n()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(n,t){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",n,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const n=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{n.skipReconnect||(this.emitReserved("reconnect_attempt",n.backoff.attempts),!n.skipReconnect&&n.open(i=>{i?(n._reconnecting=!1,n.reconnect(),this.emitReserved("reconnect_error",i)):n.onreconnect()}))},t);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const n=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",n)}}const Sn={};function On(s,n){typeof s=="object"&&(n=s,s=void 0),n=n||{};const t=vp(s,n.path||"/socket.io"),r=t.source,i=t.id,a=t.path,o=Sn[i]&&a in Sn[i].nsps,m=n.forceNew||n["force new connection"]||n.multiplex===!1||o;let d;return m?d=new Yi(r,n):(Sn[i]||(Sn[i]=new Yi(r,n)),d=Sn[i]),t.query&&!n.query&&(n.query=t.queryKey),d.socket(t.path,n)}Object.assign(On,{Manager:Yi,Socket:ll,io:On,connect:On});const Sp="modulepreload",Pp=function(s){return"/"+s},ho={},Rp=function(n,t,r){let i=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),m=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(t.map(d=>{if(d=Pp(d),d in ho)return;ho[d]=!0;const p=d.endsWith(".css"),f=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${f}`))return;const u=document.createElement("link");if(u.rel=p?"stylesheet":Sp,p||(u.as="script"),u.crossOrigin="",u.href=d,m&&u.setAttribute("nonce",m),document.head.appendChild(u),p)return new Promise((b,x)=>{u.addEventListener("load",b),u.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${d}`)))})}))}function a(o){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=o,window.dispatchEvent(m),!m.defaultPrevented)throw o}return i.then(o=>{for(const m of o||[])m.status==="rejected"&&a(m.reason);return n().catch(a)})};function Mp(s={}){const{immediate:n=!1,onNeedRefresh:t,onOfflineReady:r,onRegistered:i,onRegisteredSW:a,onRegisterError:o}=s;let m,d,p;const f=async(b=!0)=>{await d,await(p==null?void 0:p())};async function u(){if("serviceWorker"in navigator){if(m=await Rp(async()=>{const{Workbox:b}=await import("./workbox-window.prod.es5-B9K5rw8f.js");return{Workbox:b}},[]).then(({Workbox:b})=>new b("/sw.js",{scope:"/",type:"classic"})).catch(b=>{o==null||o(b)}),!m)return;p=async()=>{await(m==null?void 0:m.messageSkipWaiting())};{let b=!1;const x=()=>{b=!0,m==null||m.addEventListener("controlling",j=>{j.isUpdate&&window.location.reload()}),t==null||t()};m.addEventListener("installed",j=>{typeof j.isUpdate>"u"?typeof j.isExternal<"u"?j.isExternal?x():!b&&(r==null||r()):j.isExternal?window.location.reload():!b&&(r==null||r()):j.isUpdate||r==null||r()}),m.addEventListener("waiting",x),m.addEventListener("externalwaiting",x)}m.register({immediate:n}).then(b=>{a?a("/sw.js",b):i==null||i(b)}).catch(b=>{o==null||o(b)})}}return d=u(),f}const Ip="/api",we=Nc.create({baseURL:Ip,headers:{"Content-Type":"application/json"}});we.interceptors.request.use(s=>{const n=localStorage.getItem("token");return n&&(s.headers.Authorization=`Bearer ${n}`),s},s=>Promise.reject(s));we.interceptors.response.use(s=>s,s=>{var n;return((n=s.response)==null?void 0:n.status)===401&&(localStorage.removeItem("token"),window.location.href="/login"),Promise.reject(s)});const dl=l.createContext(void 0);function Tp({children:s}){const[n,t]=l.useState(null),[r,i]=l.useState(!0),a=Vm();l.useEffect(()=>{o()},[]);const o=async()=>{try{const f=localStorage.getItem("token");if(!f){i(!1);return}we.defaults.headers.common.Authorization=`Bearer ${f}`;const u=await we.get("/auth/me");u.data.success&&t(u.data.user)}catch{localStorage.removeItem("token"),delete we.defaults.headers.common.Authorization}finally{i(!1)}},m=async(f,u)=>{var b,x;try{const j=await we.post("/auth/login",{username:f,password:u}),{token:h,user:L}=j.data;localStorage.setItem("token",h),we.defaults.headers.common.Authorization=`Bearer ${h}`,t(L),P.success(`${L.name}, !`),a("/")}catch(j){const h=j;throw P.error(((x=(b=h.response)==null?void 0:b.data)==null?void 0:x.message)||" "),j}},d=()=>{localStorage.removeItem("token"),delete we.defaults.headers.common.Authorization,t(null),a("/login"),P.success("")},p=f=>{t(f)};return e.jsxDEV(dl.Provider,{value:{user:n,loading:r,login:m,logout:d,updateUser:p},children:s},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/contexts/AuthContext.tsx",lineNumber:88,columnNumber:5},this)}function Qt(){const s=l.useContext(dl);if(s===void 0)throw new Error("useAuth must be used within an AuthProvider");return s}const Fp={};function Wp(s,n){let t;try{t=s()}catch{return}return{getItem:i=>{var a;const o=d=>d===null?null:JSON.parse(d,void 0),m=(a=t.getItem(i))!=null?a:null;return m instanceof Promise?m.then(o):o(m)},setItem:(i,a)=>t.setItem(i,JSON.stringify(a,void 0)),removeItem:i=>t.removeItem(i)}}const Zn=s=>n=>{try{const t=s(n);return t instanceof Promise?t:{then(r){return Zn(r)(t)},catch(r){return this}}}catch(t){return{then(r){return this},catch(r){return Zn(r)(t)}}}},qp=(s,n)=>(t,r,i)=>{let a={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:L=>L,version:0,merge:(L,I)=>({...I,...L}),...n},o=!1;const m=new Set,d=new Set;let p;try{p=a.getStorage()}catch{}if(!p)return s((...L)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),t(...L)},r,i);const f=Zn(a.serialize),u=()=>{const L=a.partialize({...r()});let I;const y=f({state:L,version:a.version}).then(M=>p.setItem(a.name,M)).catch(M=>{I=M});if(I)throw I;return y},b=i.setState;i.setState=(L,I)=>{b(L,I),u()};const x=s((...L)=>{t(...L),u()},r,i);let j;const h=()=>{var L;if(!p)return;o=!1,m.forEach(y=>y(r()));const I=((L=a.onRehydrateStorage)==null?void 0:L.call(a,r()))||void 0;return Zn(p.getItem.bind(p))(a.name).then(y=>{if(y)return a.deserialize(y)}).then(y=>{if(y)if(typeof y.version=="number"&&y.version!==a.version){if(a.migrate)return a.migrate(y.state,y.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return y.state}).then(y=>{var M;return j=a.merge(y,(M=r())!=null?M:x),t(j,!0),u()}).then(()=>{I==null||I(j,void 0),o=!0,d.forEach(y=>y(j))}).catch(y=>{I==null||I(void 0,y)})};return i.persist={setOptions:L=>{a={...a,...L},L.getStorage&&(p=L.getStorage())},clearStorage:()=>{p==null||p.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>h(),hasHydrated:()=>o,onHydrate:L=>(m.add(L),()=>{m.delete(L)}),onFinishHydration:L=>(d.add(L),()=>{d.delete(L)})},h(),j||x},Op=(s,n)=>(t,r,i)=>{let a={storage:Wp(()=>localStorage),partialize:h=>h,version:0,merge:(h,L)=>({...L,...h}),...n},o=!1;const m=new Set,d=new Set;let p=a.storage;if(!p)return s((...h)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),t(...h)},r,i);const f=()=>{const h=a.partialize({...r()});return p.setItem(a.name,{state:h,version:a.version})},u=i.setState;i.setState=(h,L)=>{u(h,L),f()};const b=s((...h)=>{t(...h),f()},r,i);i.getInitialState=()=>b;let x;const j=()=>{var h,L;if(!p)return;o=!1,m.forEach(y=>{var M;return y((M=r())!=null?M:b)});const I=((L=a.onRehydrateStorage)==null?void 0:L.call(a,(h=r())!=null?h:b))||void 0;return Zn(p.getItem.bind(p))(a.name).then(y=>{if(y)if(typeof y.version=="number"&&y.version!==a.version){if(a.migrate)return[!0,a.migrate(y.state,y.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,y.state];return[!1,void 0]}).then(y=>{var M;const[se,re]=y;if(x=a.merge(re,(M=r())!=null?M:b),t(x,!0),se)return f()}).then(()=>{I==null||I(x,void 0),x=r(),o=!0,d.forEach(y=>y(x))}).catch(y=>{I==null||I(void 0,y)})};return i.persist={setOptions:h=>{a={...a,...h},h.storage&&(p=h.storage)},clearStorage:()=>{p==null||p.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>j(),hasHydrated:()=>o,onHydrate:h=>(m.add(h),()=>{m.delete(h)}),onFinishHydration:h=>(d.add(h),()=>{d.delete(h)})},a.skipHydration||j(),x||b},$p=(s,n)=>"getStorage"in n||"serialize"in n||"deserialize"in n?((Fp?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),qp(s,n)):Op(s,n),cl=$p,ul=Cm()(cl((s,n)=>({notifications:[],unreadCount:0,addNotification:t=>{const r={...t,id:Date.now().toString()+Math.random().toString(36).substr(2,9),read:!1,createdAt:new Date};s(i=>({notifications:[r,...i.notifications].slice(0,50),unreadCount:i.unreadCount+1}))},markAsRead:t=>{s(r=>({notifications:r.notifications.map(i=>i.id===t?{...i,read:!0}:i),unreadCount:Math.max(0,r.unreadCount-1)}))},markAllAsRead:()=>{s(t=>({notifications:t.notifications.map(r=>({...r,read:!0})),unreadCount:0}))},deleteNotification:t=>{s(r=>{const i=r.notifications.find(o=>o.id===t),a=i&&!i.read;return{notifications:r.notifications.filter(o=>o.id!==t),unreadCount:a?Math.max(0,r.unreadCount-1):r.unreadCount}})},clearAll:()=>{s({notifications:[],unreadCount:0})},getUnreadCount:()=>n().unreadCount}),{name:"notification-storage",partialize:s=>({notifications:s.notifications,unreadCount:s.unreadCount})}));var zp={lessThanXSeconds:{one:"1 ",other:"{{count}} "},xSeconds:{one:"1",other:"{{count}}"},halfAMinute:"30",lessThanXMinutes:{one:"1 ",other:"{{count}} "},xMinutes:{one:"1",other:"{{count}}"},aboutXHours:{one:" 1",other:" {{count}}"},xHours:{one:"1",other:"{{count}}"},xDays:{one:"1",other:"{{count}}"},aboutXWeeks:{one:" 1",other:" {{count}}"},xWeeks:{one:"1",other:"{{count}}"},aboutXMonths:{one:" 1",other:" {{count}}"},xMonths:{one:"1",other:"{{count}}"},aboutXYears:{one:" 1",other:" {{count}}"},xYears:{one:"1",other:"{{count}}"},overXYears:{one:"1 ",other:"{{count}} "},almostXYears:{one:" 1",other:" {{count}}"}},Yp=function(n,t,r){var i,a=zp[n];return typeof a=="string"?i=a:t===1?i=a.one:i=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?i+" ":i+" ":i},Kp={full:"y M d EEEE",long:"y M d",medium:"y.MM.dd",short:"y.MM.dd"},Xp={full:"a H mm ss zzzz",long:"a H:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},Jp={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},Qp={date:Ei({formats:Kp,defaultWidth:"full"}),time:Ei({formats:Xp,defaultWidth:"full"}),dateTime:Ei({formats:Jp,defaultWidth:"full"})},Gp={lastWeek:"'' eeee p",yesterday:"'' p",today:"'' p",tomorrow:"'' p",nextWeek:"'' eeee p",other:"P"},Zp=function(n,t,r,i){return Gp[n]},ef={narrow:["BC","AD"],abbreviated:["BC","AD"],wide:["",""]},tf={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1","2","3","4"]},sf={narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],abbreviated:["1","2","3","4","5","6","7","8","9","10","11","12"],wide:["1","2","3","4","5","6","7","8","9","10","11","12"]},nf={narrow:["","","","","","",""],short:["","","","","","",""],abbreviated:["","","","","","",""],wide:["","","","","","",""]},rf={narrow:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},abbreviated:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},af={narrow:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},abbreviated:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},of=function(n,t){var r=Number(n),i=String(t==null?void 0:t.unit);switch(i){case"minute":case"second":return String(r);case"date":return r+"";default:return r+""}},mf={ordinalNumber:of,era:Bn({values:ef,defaultWidth:"wide"}),quarter:Bn({values:tf,defaultWidth:"wide",argumentCallback:function(n){return n-1}}),month:Bn({values:sf,defaultWidth:"wide"}),day:Bn({values:nf,defaultWidth:"wide"}),dayPeriod:Bn({values:rf,defaultWidth:"wide",formattingValues:af,defaultFormattingWidth:"wide"})},lf=/^(\d+)(|)?/i,df=/\d+/i,cf={narrow:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(|)/i},uf={any:[/^(bc|)/i,/^(ad|)/i]},pf={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234]?/i},ff={any:[/1/i,/2/i,/3/i,/4/i]},gf={narrow:/^(1[012]|[123456789])/,abbreviated:/^(1[012]|[123456789])/i,wide:/^(1[012]|[123456789])/i},Nf={any:[/^1?$/,/^2/,/^3/,/^4/,/^5/,/^6/,/^7/,/^8/,/^9/,/^10/,/^11/,/^12/]},bf={narrow:/^[]/,short:/^[]/,abbreviated:/^[]/,wide:/^[]/},xf={any:[/^/,/^/,/^/,/^/,/^/,/^/,/^/]},yf={any:/^(am|pm|||||||)/i},hf={any:{am:/^(am|)/i,pm:/^(pm|)/i,midnight:/^/i,noon:/^/i,morning:/^/i,afternoon:/^/i,evening:/^/i,night:/^/i}},kf={ordinalNumber:Mc({matchPattern:lf,parsePattern:df,valueCallback:function(n){return parseInt(n,10)}}),era:Un({matchPatterns:cf,defaultMatchWidth:"wide",parsePatterns:uf,defaultParseWidth:"any"}),quarter:Un({matchPatterns:pf,defaultMatchWidth:"wide",parsePatterns:ff,defaultParseWidth:"any",valueCallback:function(n){return n+1}}),month:Un({matchPatterns:gf,defaultMatchWidth:"wide",parsePatterns:Nf,defaultParseWidth:"any"}),day:Un({matchPatterns:bf,defaultMatchWidth:"wide",parsePatterns:xf,defaultParseWidth:"any"}),dayPeriod:Un({matchPatterns:yf,defaultMatchWidth:"any",parsePatterns:hf,defaultParseWidth:"any"})},xt={code:"ko",formatDistance:Yp,formatLong:Qp,formatRelative:Zp,localize:mf,match:kf,options:{weekStartsOn:0,firstWeekContainsDate:1}};const vf=({isOpen:s,onClose:n})=>{const t=Vm(),{notifications:r,unreadCount:i,markAsRead:a,markAllAsRead:o,deleteNotification:m,clearAll:d}=ul();if(!s)return null;const p=b=>{switch(b){case"payment":return e.jsxDEV(kc,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:21,columnNumber:16},void 0);case"as_request":return e.jsxDEV(hc,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:23,columnNumber:16},void 0);case"schedule":return e.jsxDEV(hn,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:25,columnNumber:16},void 0);case"work_request":return e.jsxDEV(yc,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:27,columnNumber:16},void 0);default:return e.jsxDEV(Ci,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:29,columnNumber:16},void 0)}},f=b=>{switch(b){case"payment":return"text-green-600 bg-green-50";case"as_request":return"text-yellow-600 bg-yellow-50";case"schedule":return"text-blue-600 bg-blue-50";case"work_request":return"text-purple-600 bg-purple-50";default:return"text-gray-600 bg-gray-50"}},u=b=>{a(b.id),b.link&&(t(b.link),n())};return e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-25 z-40",onClick:n},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:59,columnNumber:7},void 0),e.jsxDEV("div",{className:"fixed right-0 top-16 h-[calc(100vh-4rem)] w-full sm:w-96 bg-white shadow-2xl z-50 flex flex-col",children:[e.jsxDEV("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(Ci,{className:"h-5 w-5 text-gray-900"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:69,columnNumber:13},void 0),e.jsxDEV("h2",{className:"text-lg font-bold text-gray-900",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:70,columnNumber:13},void 0),i>0&&e.jsxDEV("span",{className:"px-2 py-0.5 bg-gray-900 text-white text-xs font-bold rounded-full",children:i},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:72,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:68,columnNumber:11},void 0),e.jsxDEV("button",{onClick:n,className:"p-1 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsxDEV(dt,{className:"h-5 w-5 text-gray-600"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:81,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:77,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:67,columnNumber:9},void 0),r.length>0&&e.jsxDEV("div",{className:"flex items-center gap-2 px-4 py-2 bg-gray-50 border-b border-gray-200",children:[i>0&&e.jsxDEV("button",{onClick:o,className:"flex items-center gap-1 text-xs text-gray-600 hover:text-gray-900",children:[e.jsxDEV(Na,{className:"h-3 w-3"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:93,columnNumber:17},void 0)," "]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:89,columnNumber:15},void 0),e.jsxDEV("button",{onClick:d,className:"flex items-center gap-1 text-xs text-gray-600 hover:text-red-600 ml-auto",children:[e.jsxDEV(Dt,{className:"h-3 w-3"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:101,columnNumber:15},void 0)," "]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:97,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:87,columnNumber:11},void 0),e.jsxDEV("div",{className:"flex-1 overflow-y-auto",children:r.length===0?e.jsxDEV("div",{className:"flex flex-col items-center justify-center h-full text-center p-8",children:[e.jsxDEV(Ci,{className:"h-12 w-12 text-gray-300 mb-3"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:111,columnNumber:15},void 0),e.jsxDEV("p",{className:"text-sm text-gray-500",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:112,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:110,columnNumber:13},void 0):e.jsxDEV("div",{className:"divide-y divide-gray-100",children:r.map(b=>e.jsxDEV("div",{className:`p-4 hover:bg-gray-50 transition-colors cursor-pointer ${b.read?"":"bg-blue-50"}`,onClick:()=>u(b),children:e.jsxDEV("div",{className:"flex gap-3",children:[e.jsxDEV("div",{className:`flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center ${f(b.type)}`,children:p(b.type)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:126,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex-1 min-w-0",children:[e.jsxDEV("div",{className:"flex items-start justify-between gap-2",children:[e.jsxDEV("p",{className:`text-sm font-semibold ${b.read?"text-gray-700":"text-gray-900"}`,children:b.title},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:133,columnNumber:25},void 0),!b.read&&e.jsxDEV("span",{className:"flex-shrink-0 w-2 h-2 bg-blue-600 rounded-full mt-1"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:137,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:132,columnNumber:23},void 0),e.jsxDEV("p",{className:"text-xs text-gray-600 mt-1 line-clamp-2",children:b.message},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:140,columnNumber:23},void 0),e.jsxDEV("p",{className:"text-xs text-gray-400 mt-1",children:Ic(new Date(b.createdAt),{addSuffix:!0,locale:xt})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:143,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:131,columnNumber:21},void 0),e.jsxDEV("button",{onClick:x=>{x.stopPropagation(),m(b.id)},className:"flex-shrink-0 p-1 hover:bg-gray-200 rounded transition-colors",children:e.jsxDEV(dt,{className:"h-4 w-4 text-gray-400"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:159,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:152,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:124,columnNumber:19},void 0)},b.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:117,columnNumber:17},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:115,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:108,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:65,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:57,columnNumber:5},void 0)},Os={getAllWorkRequests:async()=>(await we.get("/workrequests")).data,getWorkRequestById:async s=>(await we.get(`/workrequests/${s}`)).data,createWorkRequest:async s=>{console.log("[workRequestService.createWorkRequest] Input data:",s);const n={project:s.project,requestType:s.requestType,description:s.description,requestDate:s.requestDate instanceof Date?s.requestDate.toISOString():s.requestDate,dueDate:s.dueDate instanceof Date?s.dueDate.toISOString():s.dueDate,requestedBy:s.requestedBy,assignedTo:s.assignedTo,priority:s.priority||"medium",status:s.status||"pending",notes:s.notes||""};return console.log("[workRequestService.createWorkRequest] Sending to backend:",n),(await we.post("/workrequests",n)).data},updateWorkRequest:async(s,n)=>{console.log("[workRequestService.updateWorkRequest] Input data:",n);const t={};return n.project!==void 0&&(t.project=n.project),n.requestType!==void 0&&(t.requestType=n.requestType),n.description!==void 0&&(t.description=n.description),n.requestDate!==void 0&&(t.requestDate=n.requestDate instanceof Date?n.requestDate.toISOString():n.requestDate),n.dueDate!==void 0&&(t.dueDate=n.dueDate instanceof Date?n.dueDate.toISOString():n.dueDate),n.requestedBy!==void 0&&(t.requestedBy=n.requestedBy),n.assignedTo!==void 0&&(t.assignedTo=n.assignedTo),n.priority!==void 0&&(t.priority=n.priority),n.status!==void 0&&(t.status=n.status),n.notes!==void 0&&(t.notes=n.notes),n.completedDate!==void 0&&(t.completedDate=n.completedDate instanceof Date?n.completedDate.toISOString():n.completedDate),console.log("[workRequestService.updateWorkRequest] Sending to backend:",t),(await we.put(`/workrequests/${s}`,t)).data},deleteWorkRequest:async s=>{await we.delete(`/workrequests/${s}`)}},Ns={getAllPayments:async()=>(await we.get("/payments")).data,getPaymentById:async s=>(await we.get(`/payments/${s}`)).data,createPayment:async s=>{var r,i,a;const n={project_id:s.projectId,request_type:s.category,vendor_name:s.process||"",description:s.purpose||"",amount:s.amount,account_holder:((r=s.bankInfo)==null?void 0:r.accountHolder)||"",bank_name:((i=s.bankInfo)==null?void 0:i.bankName)||"",account_number:((a=s.bankInfo)==null?void 0:a.accountNumber)||"",notes:s.notes||"",itemName:s.itemName||"",materialAmount:s.materialAmount||0,laborAmount:s.laborAmount||0,originalMaterialAmount:s.originalMaterialAmount||0,originalLaborAmount:s.originalLaborAmount||0,applyTaxDeduction:s.applyTaxDeduction||!1,includesVAT:s.includesVAT||!1,quickText:s.quickText||"",images:s.images||[]};return console.log("[paymentService.createPayment] Sending to backend:",n),(await we.post("/payments",n)).data},updatePayment:async(s,n)=>{const t={};return n.projectId!==void 0&&(t.project=n.projectId),n.purpose!==void 0&&(t.description=n.purpose),n.amount!==void 0&&(t.amount=n.amount),n.process!==void 0&&(t.vendor_name=n.process),n.category!==void 0&&(t.request_type=n.category),n.itemName!==void 0&&(t.itemName=n.itemName),n.materialAmount!==void 0&&(t.materialAmount=n.materialAmount),n.laborAmount!==void 0&&(t.laborAmount=n.laborAmount),n.originalMaterialAmount!==void 0&&(t.originalMaterialAmount=n.originalMaterialAmount),n.originalLaborAmount!==void 0&&(t.originalLaborAmount=n.originalLaborAmount),n.applyTaxDeduction!==void 0&&(t.applyTaxDeduction=n.applyTaxDeduction),n.includesVAT!==void 0&&(t.includesVAT=n.includesVAT),n.notes!==void 0&&(t.notes=n.notes),n.requestDate!==void 0&&(t.requestDate=n.requestDate),n.bankInfo!==void 0&&(n.bankInfo.accountHolder&&(t.account_holder=n.bankInfo.accountHolder),n.bankInfo.bankName&&(t.bank_name=n.bankInfo.bankName),n.bankInfo.accountNumber&&(t.account_number=n.bankInfo.accountNumber)),(await we.put(`/payments/${s}`,t)).data},updatePaymentStatus:async(s,n)=>(await we.put(`/payments/${s}/status`,{status:n})).data,updatePaymentAmounts:async(s,n,t)=>(await we.patch(`/payments/${s}/amounts`,{materialAmount:n,laborAmount:t})).data,updatePaymentImages:async(s,n)=>(await we.put(`/payments/${s}/images`,{images:n})).data,deletePayment:async s=>{await we.delete(`/payments/${s}`)}},Wn={getAllASRequests:async()=>(await we.get("/as-requests")).data,getASRequestById:async s=>(await we.get(`/as-requests/${s}`)).data,createASRequest:async s=>(await we.post("/as-requests",s)).data,updateASRequest:async(s,n)=>(await we.put(`/as-requests/${s}`,n)).data,deleteASRequest:async s=>{await we.delete(`/as-requests/${s}`)}},Df=()=>{var Le,Ue;const{user:s,logout:n,loading:t}=Qt(),[r,i]=l.useState(!1),[a,o]=l.useState(!1),[m,d]=l.useState(!1),p=cc(),{unreadCount:f}=ul(),[u,b]=l.useState(0),[x,j]=l.useState(0),[h,L]=l.useState(0),[I,y]=l.useState(0),[M,se]=l.useState(!1),[re,w]=l.useState(0),[O,ie]=l.useState(!1),de=l.useRef(0),ue=l.useRef(null),ve=80,Q=l.useCallback(Ce=>{window.scrollY===0&&window.innerWidth<768&&(de.current=Ce.touches[0].clientY,se(!0))},[]),he=l.useCallback(Ce=>{if(!M||O)return;const We=Ce.touches[0].clientY-de.current;if(We>0&&window.scrollY===0){const Te=Math.min(We*.5,120);w(Te)}},[M,O]),Ne=l.useCallback(()=>{M&&(re>=ve&&!O?(ie(!0),w(50),setTimeout(()=>{window.location.reload()},300)):w(0),se(!1))},[M,re,O]);if(l.useEffect(()=>{d(!1)},[p.pathname]),l.useEffect(()=>{const Ce=Re=>{d(Re.detail.isOpen)};return window.addEventListener("mobileFormStateChange",Ce),()=>window.removeEventListener("mobileFormStateChange",Ce)},[]),l.useEffect(()=>{const Ce=()=>{y(Re=>Math.max(0,Re-1))};return window.addEventListener("quoteInquiryRead",Ce),()=>window.removeEventListener("quoteInquiryRead",Ce)},[]),l.useEffect(()=>{if(!s)return;const Ce=async()=>{try{const[We,Te,qe]=await Promise.all([Os.getAllWorkRequests(),Ns.getAllPayments(),Wn.getAllASRequests()]);if(b(We.filter(R=>R.assignedTo===s.name&&R.status==="pending").length),j(Te.filter(R=>R.status==="pending").length),L(qe.filter(R=>R.status==="in-progress").length),s.role==="admin"||s.role==="manager")try{const fe=(await we.get("/quote-inquiries")).data.filter(pe=>!pe.isRead).length;y(fe)}catch(R){console.error("Failed to load quote inquiry count:",R)}}catch(We){console.error("Failed to load badge counts:",We)}};Ce();const Re=setInterval(Ce,3e4);return()=>clearInterval(Re)},[s]),t)return e.jsxDEV("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:154,columnNumber:11},void 0),e.jsxDEV("p",{className:"mt-4 text-gray-600",children:" ..."},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:155,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:153,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:152,columnNumber:7},void 0);if(!s)return e.jsxDEV(si,{to:"/login",replace:!0},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:163,columnNumber:12},void 0);const Ve=[{name:"",href:"/dashboard"},{name:"",href:"/projects"},{name:"",href:"/schedule"},{name:"",href:"/drawings"},{name:"",href:"/site-log"},{name:"",href:"/additional-work"},{name:"",href:"/construction-payment",roles:["admin","manager"]},{name:"",href:"/work-request",...u>0&&{badge:u}},{name:"",href:"/specbook"},{name:"",href:"/finish-check"},{name:"",href:"/execution-history"},{name:"",href:"/payments",...x>0&&{badge:x}},{name:"AS ",href:"/after-service",...h>0&&{badge:h}},{name:"",href:"/estimate-preview",roles:["admin","manager"]},{name:"",href:"/quote-inquiry",roles:["admin","manager"],...I>0&&{badge:I}},{name:"",href:"/contractors"}],je=Ve.filter(Ce=>!Ce.roles||Ce.roles.includes((s==null?void 0:s.role)||"")),Be=((Le=Ve.find(Ce=>Ce.href===p.pathname))==null?void 0:Le.name)||"",le=(()=>{const Ce=p.pathname;return["/projects","/schedule","/after-service","/additional-work","/construction-payment","/contractors","/work-request"].includes(Ce)?()=>{const We=new CustomEvent("headerAddButtonClick");window.dispatchEvent(We)}:null})();return e.jsxDEV("div",{className:"min-h-screen bg-gray-50",children:[e.jsxDEV("div",{className:Xt("fixed inset-0 z-40 lg:hidden",r?"block":"hidden"),children:[e.jsxDEV("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-50",onClick:()=>i(!1)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:230,columnNumber:9},void 0),e.jsxDEV("div",{className:"fixed inset-y-0 left-0 flex w-64 flex-col bg-white",children:[e.jsxDEV("div",{className:"flex h-16 items-center justify-between px-6 border-b border-gray-200",children:[e.jsxDEV("h2",{className:"text-xl font-bold text-gray-900",children:"HV LAB"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:236,columnNumber:13},void 0),e.jsxDEV("button",{onClick:()=>i(!1),className:"text-sm text-gray-600 hover:text-gray-900",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:237,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:235,columnNumber:11},void 0),e.jsxDEV("nav",{className:"flex-1 space-y-1 px-4 py-4",children:je.map(Ce=>e.jsxDEV(Vi,{to:Ce.href,className:({isActive:Re})=>Xt("block px-4 py-3 text-sm font-medium border-l-2 transition-colors relative",Re?"border-gray-900 bg-gray-50 text-gray-900":"border-transparent text-gray-600 hover:border-gray-400 hover:bg-gray-50"),onClick:()=>i(!1),children:e.jsxDEV("span",{className:"flex items-center justify-between",children:[e.jsxDEV("span",{children:Ce.name},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:260,columnNumber:19},void 0),Ce.badge&&Ce.badge>0&&e.jsxDEV("span",{className:"ml-2 inline-flex items-center justify-center px-2 py-0.5 text-xs font-bold leading-none text-white bg-red-600 rounded-full",children:Ce.badge>99?"99+":Ce.badge},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:262,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:259,columnNumber:17},void 0)},Ce.name,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:246,columnNumber:15},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:244,columnNumber:11},void 0),e.jsxDEV("div",{className:"border-t border-gray-200 px-4 py-4",children:e.jsxDEV("button",{onClick:n,className:"w-full px-4 py-3 text-sm font-medium text-gray-600 hover:bg-gray-50 text-left",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:271,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:270,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:234,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:224,columnNumber:7},void 0),e.jsxDEV("div",{className:"desktop-sidebar hidden lg:fixed lg:inset-y-0 lg:flex lg:w-64 lg:flex-col",children:e.jsxDEV("div",{className:"flex flex-col bg-white border-r border-gray-200",children:[e.jsxDEV("div",{className:"flex h-16 items-center px-6 border-b border-gray-200",children:e.jsxDEV("h2",{className:"text-xl font-bold text-gray-900",children:"HV LAB"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:285,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:284,columnNumber:11},void 0),e.jsxDEV("nav",{className:"flex-1 space-y-1 px-4 py-4",children:je.map(Ce=>e.jsxDEV(Vi,{to:Ce.href,className:({isActive:Re})=>Xt("block px-4 py-3 text-sm font-medium border-l-2 transition-colors relative",Re?"border-gray-900 bg-gray-50 text-gray-900":"border-transparent text-gray-600 hover:border-gray-400 hover:bg-gray-50"),children:e.jsxDEV("span",{className:"flex items-center justify-between",children:[e.jsxDEV("span",{children:Ce.name},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:302,columnNumber:19},void 0),Ce.badge&&Ce.badge>0&&e.jsxDEV("span",{className:"ml-2 inline-flex items-center justify-center px-2 py-0.5 text-xs font-bold leading-none text-white bg-red-600 rounded-full",children:Ce.badge>99?"99+":Ce.badge},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:304,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:301,columnNumber:17},void 0)},Ce.name,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:289,columnNumber:15},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:287,columnNumber:11},void 0),e.jsxDEV("div",{className:"border-t border-gray-200 px-4 py-4",children:e.jsxDEV("button",{onClick:n,className:"w-full px-4 py-3 text-sm font-medium text-gray-600 hover:bg-gray-50 text-left",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:313,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:312,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:283,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:282,columnNumber:7},void 0),e.jsxDEV("div",{className:"main-content lg:pl-64",children:[e.jsxDEV("header",{className:"sticky top-0 z-30 bg-white border-b border-gray-200 print-hide",children:e.jsxDEV("div",{className:"flex items-center justify-between px-4 py-3 sm:px-6 lg:px-8",children:[e.jsxDEV("div",{className:"flex items-center space-x-3",children:[e.jsxDEV("button",{onClick:()=>i(!0),className:"lg:hidden p-2 text-gray-600 hover:text-gray-900 -ml-2","aria-label":" ",children:e.jsxDEV("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:336,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:335,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:330,columnNumber:15},void 0),Be&&e.jsxDEV("h1",{className:"text-lg font-bold text-gray-900",children:Be},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:340,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:329,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex items-center space-x-2 sm:space-x-6 ml-auto",children:[le&&e.jsxDEV("button",{onClick:le,className:"lg:hidden p-2 text-gray-900 hover:text-gray-700","aria-label":m?"":"",children:m?e.jsxDEV(dt,{className:"h-6 w-6"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:353,columnNumber:37},void 0):e.jsxDEV(ws,{className:"h-6 w-6"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:353,columnNumber:65},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:348,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>o(!a),className:"hidden sm:block relative p-2 text-gray-600 hover:text-gray-900 transition-colors","aria-label":"",children:[e.jsxDEV("svg",{className:"h-5 w-5 sm:h-6 sm:w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:363,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:362,columnNumber:17},void 0),f>0&&e.jsxDEV("span",{className:"absolute top-1 right-1 flex items-center justify-center h-4 w-4 bg-red-600 text-white text-[10px] font-bold rounded-full",children:f>9?"9+":f},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:366,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:357,columnNumber:15},void 0),e.jsxDEV("div",{className:"hidden sm:flex items-center space-x-2 sm:space-x-3",children:[e.jsxDEV("div",{className:"text-right",children:[e.jsxDEV("p",{className:"text-sm font-medium text-gray-900",children:s==null?void 0:s.name},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:373,columnNumber:19},void 0),e.jsxDEV("p",{className:"text-xs text-gray-500",children:s==null?void 0:s.role},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:374,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:372,columnNumber:17},void 0),e.jsxDEV("div",{className:"h-8 w-8 sm:h-9 sm:w-9 bg-gray-900 text-white flex items-center justify-center text-xs font-bold rounded-full",children:(Ue=s==null?void 0:s.name)==null?void 0:Ue.substring(0,1)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:376,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:371,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:345,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:327,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:326,columnNumber:9},void 0),e.jsxDEV("div",{className:"portrait-top-nav hidden",children:e.jsxDEV("div",{className:"flex items-center gap-1 px-2 py-2 bg-white border-b border-gray-200 overflow-x-auto",children:je.map(Ce=>e.jsxDEV(Vi,{to:Ce.href,className:({isActive:Re})=>Xt("px-3 py-1.5 text-sm font-medium rounded-full whitespace-nowrap transition-colors relative",Re?"bg-gray-900 text-white":"text-gray-600 hover:bg-gray-100"),children:e.jsxDEV("span",{className:"flex items-center gap-1",children:[e.jsxDEV("span",{children:Ce.name},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:401,columnNumber:19},void 0),Ce.badge&&Ce.badge>0&&e.jsxDEV("span",{className:"inline-flex items-center justify-center min-w-[18px] h-[18px] px-1 text-[10px] font-bold leading-none text-white bg-red-600 rounded-full",children:Ce.badge>99?"99+":Ce.badge},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:403,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:400,columnNumber:17},void 0)},Ce.name,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:388,columnNumber:15},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:386,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:385,columnNumber:9},void 0),e.jsxDEV("main",{ref:ue,className:"py-[10px] md:py-6 lg:py-8",onTouchStart:Q,onTouchMove:he,onTouchEnd:Ne,children:[re>0&&e.jsxDEV("div",{className:"md:hidden fixed left-0 right-0 flex items-center justify-center z-50 pointer-events-none",style:{top:56,height:re,transition:M?"none":"height 0.2s ease-out"},children:e.jsxDEV("div",{className:Xt("flex items-center justify-center w-10 h-10 bg-white rounded-full shadow-lg border",O&&"animate-spin"),style:{transform:`rotate(${O?0:re*2}deg)`,opacity:Math.min(re/ve,1)},children:e.jsxDEV(vc,{className:Xt("w-5 h-5",re>=ve?"text-blue-600":"text-gray-400")},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:441,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:431,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:423,columnNumber:13},void 0),e.jsxDEV("div",{className:"px-3 sm:px-4 md:px-6 lg:px-8",style:{transform:re>0?`translateY(${re}px)`:"none",transition:M?"none":"transform 0.2s ease-out"},children:e.jsxDEV(uc,{},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:458,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:451,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:414,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:324,columnNumber:7},void 0),e.jsxDEV(vf,{isOpen:a,onClose:()=>o(!1)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:464,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:222,columnNumber:5},void 0)},gr={getAllSchedules:async()=>(await we.get("/schedules")).data,getScheduleById:async s=>(await we.get(`/schedules/${s}`)).data,createSchedule:async s=>(await we.post("/schedules",{project:s.project,title:s.title,type:s.type||"other",phase:s.phase||"",startDate:s.startDate,endDate:s.endDate,allDay:s.allDay!==void 0?s.allDay:!0,assignedTo:s.assignedTo||[],description:s.description,location:s.location,priority:s.priority||"medium",progress:s.progress||0,isCompleted:s.isCompleted||!1,asRequestId:s.asRequestId,time:s.time})).data,updateSchedule:async(s,n)=>(await we.put(`/schedules/${s}`,n)).data,deleteSchedule:async s=>{await we.delete(`/schedules/${s}`)}},Nr={getAllProjects:async()=>(await we.get("/projects")).data,getProjectById:async s=>(await we.get(`/projects/${s}`)).data,createProject:async s=>{const n={name:s.name,client:typeof s.client=="string"?s.client:s.client.name,location:typeof s.location=="string"?s.location:s.location.address,status:s.status||"planning",manager:s.manager,description:s.description||""};if(s.startDate){const r=typeof s.startDate=="string"?new Date(s.startDate):s.startDate;n.startDate=r.toISOString().split("T")[0]}if(s.endDate){const r=typeof s.endDate=="string"?new Date(s.endDate):s.endDate;n.endDate=r.toISOString().split("T")[0]}return console.log("[projectService.createProject] Sending to backend:",n),(await we.post("/projects",n)).data},updateProject:async(s,n)=>{var r;const t={};if(n.name!==void 0&&(t.name=n.name),n.client!==void 0&&(t.client=typeof n.client=="string"?n.client:n.client.name),n.location!==void 0&&(t.location=typeof n.location=="string"?n.location:n.location.address),n.startDate!==void 0)if(typeof n.startDate=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(n.startDate))t.startDate=n.startDate;else{const i=typeof n.startDate=="string"?new Date(n.startDate):n.startDate;t.startDate=i.toISOString().split("T")[0]}if(n.endDate!==void 0)if(typeof n.endDate=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(n.endDate))t.endDate=n.endDate;else{const i=typeof n.endDate=="string"?new Date(n.endDate):n.endDate;t.endDate=i.toISOString().split("T")[0]}n.status!==void 0&&(t.status=n.status),n.manager!==void 0&&(t.manager=n.manager),n.description!==void 0&&(t.description=n.description),n.meetingNotes!==void 0&&(t.meetingNotes=n.meetingNotes),n.customerRequests!==void 0&&(t.customerRequests=n.customerRequests),n.entrancePassword!==void 0&&(t.entrancePassword=n.entrancePassword),n.sitePassword!==void 0&&(t.sitePassword=n.sitePassword),console.log("[projectService.updateProject] Sending to backend:",t);try{return(await we.put(`/projects/${s}`,t)).data}catch(i){const a=i;throw console.error("[projectService.updateProject] Error:",i),console.error("[projectService.updateProject] Error response:",(r=a.response)==null?void 0:r.data),i}},deleteProject:async s=>{await we.delete(`/projects/${s}`)}},Rs={getAllContractors:async()=>(await we.get("/contractors")).data,getContractorById:async s=>(await we.get(`/contractors/${s}`)).data,createContractor:async s=>(await we.post("/contractors",s)).data,updateContractor:async(s,n)=>(await we.put(`/contractors/${s}`,n)).data,deleteContractor:async s=>{await we.delete(`/contractors/${s}`)}},br={getAllConstructionPayments:async()=>(await we.get("/construction-payments")).data,getConstructionPaymentById:async s=>(await we.get(`/construction-payments/${s}`)).data,createConstructionPayment:async s=>(await we.post("/construction-payments",s)).data,updateConstructionPayment:async(s,n)=>(await we.put(`/construction-payments/${s}`,n)).data,deleteConstructionPayment:async s=>{await we.delete(`/construction-payments/${s}`)}},xr={getAllRecords:async()=>(await we.get("/execution-records")).data,getRecordById:async s=>(await we.get(`/execution-records/${s}`)).data,createRecord:async s=>(console.log("[executionRecordService.createRecord] Creating:",s),(await we.post("/execution-records",s)).data),updateRecord:async(s,n)=>(await we.put(`/execution-records/${s}`,n)).data,deleteRecord:async s=>{await we.delete(`/execution-records/${s}`)}},ks=Cm()(cl((s,n)=>({projects:[],schedules:[],payments:[],contractors:[],constructionPayments:[],asRequests:[],executionRecords:[],setProjects:t=>s({projects:t}),addProject:t=>s(r=>{const i={id:t.id,project:t.name,client:t.client,totalAmount:t.contractAmount,vatType:"percentage",vatPercentage:100,vatAmount:0,payments:[]};return{projects:[t,...r.projects],constructionPayments:[i,...r.constructionPayments]}}),updateProject:(t,r)=>s(i=>({projects:i.projects.map(a=>a.id===t?{...a,...r}:a)})),deleteProject:t=>s(r=>({projects:r.projects.filter(i=>i.id!==t),constructionPayments:r.constructionPayments.filter(i=>i.id!==t)})),setSchedules:t=>s({schedules:t}),addSchedule:t=>s(r=>({schedules:[t,...r.schedules]})),updateSchedule:(t,r)=>s(i=>({schedules:i.schedules.map(a=>a.id===t?{...a,...r}:a)})),deleteSchedule:t=>s(r=>({schedules:r.schedules.filter(i=>i.id!==t)})),setPayments:t=>s({payments:t}),addPayment:t=>s(r=>({payments:[t,...r.payments]})),updatePayment:(t,r)=>s(i=>({payments:i.payments.map(a=>a.id===t?{...a,...r}:a)})),deletePayment:t=>s(r=>({payments:r.payments.filter(i=>i.id!==t)})),setContractors:t=>s({contractors:t}),addContractor:t=>s(r=>({contractors:[t,...r.contractors]})),updateContractor:(t,r)=>s(i=>({contractors:i.contractors.map(a=>a.id===t?{...a,...r}:a)})),deleteContractor:t=>s(r=>({contractors:r.contractors.filter(i=>i.id!==t)})),setConstructionPayments:t=>s({constructionPayments:t}),addConstructionPayment:t=>s(r=>({constructionPayments:[t,...r.constructionPayments]})),updateConstructionPayment:(t,r)=>s(i=>({constructionPayments:i.constructionPayments.map(a=>a.id===t?{...a,...r}:a)})),deleteConstructionPayment:t=>s(r=>({constructionPayments:r.constructionPayments.filter(i=>i.id!==t)})),setASRequests:t=>s({asRequests:t}),addASRequest:t=>s(r=>({asRequests:[t,...r.asRequests]})),updateASRequest:(t,r)=>s(i=>({asRequests:i.asRequests.map(a=>a.id===t?{...a,...r}:a)})),deleteASRequest:t=>s(r=>({asRequests:r.asRequests.filter(i=>i.id!==t)})),setExecutionRecords:t=>s({executionRecords:t}),addExecutionRecord:t=>{console.log("[dataStore]  :",t.id,t.itemName),s(r=>{const i=[t,...r.executionRecords];return console.log("[dataStore]   :",i.length),{executionRecords:i}})},updateExecutionRecord:(t,r)=>s(i=>({executionRecords:i.executionRecords.map(a=>a.id===t?{...a,...r}:a)})),deleteExecutionRecord:t=>s(r=>({executionRecords:r.executionRecords.filter(i=>i.id!==t)})),loadPaymentsFromAPI:async()=>{try{const t=await Ns.getAllPayments();console.log("[loadPaymentsFromAPI] Raw API response sample:",t[0]);const r=t.map(i=>({id:String(i.id),project:i.project_name,purpose:i.description,process:i.vendor_name,itemName:i.item_name||"",amount:i.amount,materialAmount:i.material_amount||0,laborAmount:i.labor_amount||0,originalMaterialAmount:i.original_material_amount||0,originalLaborAmount:i.original_labor_amount||0,applyTaxDeduction:i.apply_tax_deduction===1,includesVAT:i.includes_vat===1,quickText:i.quick_text||"",images:(()=>{if(!i.images)return[];if(Array.isArray(i.images))return i.images;try{const a=JSON.parse(i.images);return Array.isArray(a)?a:[]}catch(a){return console.error("  :",a),[]}})(),category:i.request_type,status:i.status,urgency:"normal",requestedBy:i.requester_name,requestDate:new Date(i.created_at),approvalDate:i.approved_at?new Date(i.approved_at):void 0,bankInfo:{accountHolder:i.account_holder||"",bankName:i.bank_name||"",accountNumber:i.account_number||""},attachments:[],notes:i.notes||""}));s({payments:r})}catch(t){throw console.error("Failed to load payments from API:",t),t}},addPaymentToAPI:async t=>{try{const r={projectId:t.project,purpose:t.purpose,process:t.process,itemName:t.itemName,amount:t.amount,category:t.category,urgency:t.urgency,requestedBy:t.requestedBy,bankInfo:t.bankInfo,notes:t.notes,attachments:[],materialAmount:t.materialAmount||0,laborAmount:t.laborAmount||0,originalMaterialAmount:t.originalMaterialAmount||0,originalLaborAmount:t.originalLaborAmount||0,applyTaxDeduction:t.applyTaxDeduction||!1,includesVAT:t.includesVAT||!1,quickText:t.quickText||"",images:t.images||[]};console.log("[addPaymentToAPI] Sending payment data:",r);const i=await Ns.createPayment(r),a=String(i.id),o={...t,id:a};return s(m=>({payments:[o,...m.payments]})),a}catch(r){throw console.error("Failed to add payment to API:",r),r}},updatePaymentInAPI:async(t,r)=>{try{if(r.status&&Object.keys(r).length===1)await Ns.updatePaymentStatus(t,r.status);else{let i=r.project;if(r.project){const o=n().projects.find(m=>m.name===r.project);i=o?o.id:r.project}await Ns.updatePayment(t,{projectId:i,purpose:r.purpose,process:r.process,itemName:r.itemName,amount:r.amount,materialAmount:r.materialAmount,laborAmount:r.laborAmount,originalMaterialAmount:r.originalMaterialAmount,originalLaborAmount:r.originalLaborAmount,category:r.category,urgency:r.urgency,bankInfo:r.bankInfo,notes:r.notes,requestDate:r.requestDate,includesVAT:r.includesVAT,applyTaxDeduction:r.applyTaxDeduction})}s(i=>({payments:i.payments.map(a=>a.id===t?{...a,...r}:a)}))}catch(i){throw console.error("Failed to update payment in API:",i),i}},deletePaymentFromAPI:async t=>{try{await Ns.deletePayment(t),s(r=>({payments:r.payments.filter(i=>i.id!==t)}))}catch(r){throw console.error("Failed to delete payment from API:",r),r}},loadSchedulesFromAPI:async()=>{try{const t=await gr.getAllSchedules();console.log(" LOAD SCHEDULES - Raw API response sample:",t[0]);const r=t.map(i=>{var o;console.log(" Processing schedule:",{id:i._id,title:i.title,assigneeNames:i.assigneeNames,assignedTo:i.assignedTo,assignedToType:typeof i.assignedTo,assignedToLength:Array.isArray(i.assignedTo)?i.assignedTo.length:"not array"});const a=Array.isArray(i.assigneeNames)?i.assigneeNames:i.assigneeNames?typeof i.assigneeNames=="string"?i.assigneeNames.split(",").map(m=>m.trim()):[i.assigneeNames]:((o=i.assignedTo)==null?void 0:o.map(m=>typeof m=="object"?m.name:m))||[];return console.log(" Final attendees:",a),{id:i._id,title:i.title,start:new Date(i.startDate),end:new Date(i.endDate),type:i.type,project:typeof i.project=="object"?i.project.name:i.project,location:i.location,attendees:a,description:i.description,time:i.time}});s({schedules:r})}catch(t){throw console.error("Failed to load schedules from API:",t),t}},addScheduleToAPI:async t=>{var r;try{console.log(" addScheduleToAPI - Input schedule:",{project:t.project,attendees:t.attendees,title:t.title});const i=await gr.createSchedule({project:t.project||"",title:t.title,type:t.type,startDate:t.start,endDate:t.end,allDay:!t.time||t.time==="-",location:t.location,assignedTo:t.attendees||[],description:t.description,asRequestId:t.asRequestId,time:t.time});console.log(" addScheduleToAPI - API Response:",{id:i._id,assigneeNames:i.assigneeNames,assignedTo:i.assignedTo,project:i.project});const a=t.attendees||[];let o=i.assigneeNames||((r=i.assignedTo)==null?void 0:r.map(d=>typeof d=="object"?d.name:d))||[];a.length>0&&o.length>a.length&&(console.log(" Server added extra attendees, filtering to match request:",{requested:a,serverReturned:o}),o=a);const m={id:i._id,title:i.title,start:new Date(i.startDate),end:new Date(i.endDate),type:i.type,project:typeof i.project=="object"?i.project.name:i.project,location:i.location,attendees:o,description:i.description,time:i.time};console.log(" addScheduleToAPI - Final schedule attendees:",m.attendees),s(d=>({schedules:[m,...d.schedules]}))}catch(i){throw console.error("Failed to add schedule to API:",i),i}},updateScheduleInAPI:async(t,r)=>{var i,a,o;try{console.log(" updateScheduleInAPI called with:",{id:t,updatedSchedule:r});const m={};r.project!==void 0&&(m.project=r.project),r.title!==void 0&&(m.title=r.title),r.type!==void 0&&(m.type=r.type),r.start!==void 0&&(m.startDate=r.start),r.end!==void 0&&(m.endDate=r.end),r.location!==void 0&&(m.location=r.location),r.description!==void 0&&(m.description=r.description),r.attendees!==void 0&&(m.assignedTo=r.attendees),r.time!==void 0&&(m.time=r.time),console.log(" Sending update data:",m);const d=await gr.updateSchedule(t,m);console.log(" updateScheduleInAPI response:",d);const p={id:d._id,title:d.title,start:new Date(d.startDate),end:new Date(d.endDate),type:d.type,project:typeof d.project=="object"?d.project.name:d.project,location:d.location,attendees:d.assigneeNames||((i=d.assignedTo)==null?void 0:i.map(f=>typeof f=="object"?f.name:f))||[],description:d.description,time:d.time};s(f=>({schedules:f.schedules.map(u=>u.id===t?p:u)}))}catch(m){throw console.error("Failed to update schedule in API:",m),console.error("Error details:",{message:m instanceof Error?m.message:"Unknown error",response:m&&typeof m=="object"&&"response"in m?(a=m.response)==null?void 0:a.data:void 0,status:m&&typeof m=="object"&&"response"in m?(o=m.response)==null?void 0:o.status:void 0}),m}},deleteScheduleFromAPI:async t=>{try{await gr.deleteSchedule(t),s(r=>({schedules:r.schedules.filter(i=>i.id!==t)}))}catch(r){throw console.error("Failed to delete schedule from API:",r),r}},loadProjectsFromAPI:async()=>{try{const r=(await Nr.getAllProjects()).map(i=>{var a,o;return{id:i._id||i.id,name:i.name,client:typeof i.client=="object"?i.client.name:i.client||"",location:typeof i.location=="object"?i.location.address:i.location||i.address||"",status:i.status==="inProgress"?"in-progress":i.status==="onHold"?"on-hold":i.status,progress:i.progress||0,startDate:i.startDate||i.start_date?new Date(i.startDate||i.start_date):void 0,endDate:i.endDate||i.end_date?new Date(i.endDate||i.end_date):void 0,contractAmount:i.budget||i.contractAmount||0,spent:i.actualCost||i.spent||0,manager:i.manager||"",team:[],description:i.description||"",meetingNotes:((a=i.meetingNotes)==null?void 0:a.map(m=>({id:m.id,content:m.content,date:new Date(m.date)})))||[],customerRequests:((o=i.customerRequests)==null?void 0:o.map(m=>({id:m.id,content:m.content,completed:m.completed,createdAt:new Date(m.createdAt)})))||[],entrancePassword:i.entrancePassword||"",sitePassword:i.sitePassword||""}});s({projects:r})}catch(t){throw console.error("Failed to load projects from API:",t),t}},addProjectToAPI:async t=>{var r,i;try{const a=await Nr.createProject({name:t.name,client:t.client,location:t.location,startDate:t.startDate,endDate:t.endDate,status:t.status,contractAmount:t.contractAmount,spent:t.spent,manager:t.manager,team:t.team,progress:t.progress,description:t.description}),o={id:a._id||a.id,name:a.name,client:typeof a.client=="object"?a.client.name:a.client||"",location:typeof a.location=="object"?a.location.address:a.location||a.address||"",status:a.status==="inProgress"?"in-progress":a.status==="onHold"?"on-hold":a.status,progress:a.progress||0,startDate:a.startDate||a.start_date?new Date(a.startDate||a.start_date):void 0,endDate:a.endDate||a.end_date?new Date(a.endDate||a.end_date):void 0,contractAmount:a.budget||a.contractAmount||0,spent:a.actualCost||a.spent||0,manager:a.manager||"",team:[],description:a.description||"",meetingNotes:((r=a.meetingNotes)==null?void 0:r.map(m=>({id:m.id,content:m.content,date:new Date(m.date)})))||[],customerRequests:((i=a.customerRequests)==null?void 0:i.map(m=>({id:m.id,content:m.content,completed:m.completed,createdAt:new Date(m.createdAt)})))||[],entrancePassword:a.entrancePassword||"",sitePassword:a.sitePassword||""};s(m=>({projects:[o,...m.projects]}))}catch(a){throw console.error("Failed to add project to API:",a),a}},updateProjectInAPI:async(t,r)=>{var i,a;try{const o=await Nr.updateProject(t,r),m={id:o._id||o.id,name:o.name,client:typeof o.client=="object"?o.client.name:o.client||"",location:typeof o.location=="object"?o.location.address:o.location||o.address||"",status:o.status==="inProgress"?"in-progress":o.status==="onHold"?"on-hold":o.status,progress:o.progress||0,startDate:o.startDate||o.start_date?new Date(o.startDate||o.start_date):void 0,endDate:o.endDate||o.end_date?new Date(o.endDate||o.end_date):void 0,contractAmount:o.budget||o.contractAmount||0,spent:o.actualCost||o.spent||0,manager:o.manager||"",team:[],description:o.description||"",meetingNotes:((i=o.meetingNotes)==null?void 0:i.map(d=>({id:d.id,content:d.content,date:new Date(d.date)})))||[],customerRequests:((a=o.customerRequests)==null?void 0:a.map(d=>({id:d.id,content:d.content,completed:d.completed,createdAt:new Date(d.createdAt)})))||[],entrancePassword:o.entrancePassword||"",sitePassword:o.sitePassword||""};s(d=>({projects:d.projects.map(p=>p.id===t?m:p)}))}catch(o){throw console.error("Failed to update project in API:",o),o}},deleteProjectFromAPI:async t=>{try{await Nr.deleteProject(t),s(r=>({projects:r.projects.filter(i=>i.id!==t)}))}catch(r){throw console.error("Failed to delete project from API:",r),r}},loadContractorsFromAPI:async()=>{try{const r=(await Rs.getAllContractors()).map(i=>({id:i._id,rank:i.rank,companyName:i.companyName,name:i.name,process:i.process,contact:i.contact,accountNumber:i.accountNumber,notes:i.notes,createdAt:new Date(i.createdAt),updatedAt:new Date(i.updatedAt)}));s({contractors:r})}catch(t){throw console.error("Failed to load contractors from API:",t),t}},addContractorToAPI:async t=>{try{const r=await Rs.createContractor({rank:t.rank,companyName:t.companyName,name:t.name,process:t.process,contact:t.contact,accountNumber:t.accountNumber,notes:t.notes}),i={id:r._id,rank:r.rank,companyName:r.companyName,name:r.name,process:r.process,contact:r.contact,accountNumber:r.accountNumber,notes:r.notes,createdAt:new Date(r.createdAt),updatedAt:new Date(r.updatedAt)};s(a=>({contractors:[i,...a.contractors]}))}catch(r){throw console.error("Failed to add contractor to API:",r),r}},updateContractorInAPI:async(t,r)=>{try{const i=await Rs.updateContractor(t,{rank:r.rank,companyName:r.companyName,name:r.name,process:r.process,contact:r.contact,accountNumber:r.accountNumber,notes:r.notes}),a={id:i._id,rank:i.rank,companyName:i.companyName,name:i.name,process:i.process,contact:i.contact,accountNumber:i.accountNumber,notes:i.notes,createdAt:new Date(i.createdAt),updatedAt:new Date(i.updatedAt)};s(o=>({contractors:o.contractors.map(m=>m.id===t?a:m)}))}catch(i){throw console.error("Failed to update contractor in API:",i),i}},deleteContractorFromAPI:async t=>{try{await Rs.deleteContractor(t),s(r=>({contractors:r.contractors.filter(i=>i.id!==t)}))}catch(r){throw console.error("Failed to delete contractor from API:",r),r}},loadConstructionPaymentsFromAPI:async()=>{try{const r=(await br.getAllConstructionPayments()).map(i=>{var o;let a;return i.expectedPaymentDates&&(a={contract:i.expectedPaymentDates.contract?new Date(i.expectedPaymentDates.contract):void 0,start:i.expectedPaymentDates.start?new Date(i.expectedPaymentDates.start):void 0,middle:i.expectedPaymentDates.middle?new Date(i.expectedPaymentDates.middle):void 0,final:i.expectedPaymentDates.final?new Date(i.expectedPaymentDates.final):void 0}),{id:i._id,project:i.project,client:i.client,totalAmount:i.totalAmount,vatType:i.vatType,vatPercentage:i.vatPercentage,vatAmount:i.vatAmount,expectedPaymentDates:a,payments:((o=i.payments)==null?void 0:o.map(m=>{var f;const d=m.date?new Date(m.date):new Date,p=isNaN(d.getTime())?new Date:d;return{type:m.type||((f=m.types)==null?void 0:f[0])||"",amount:m.amount,date:p,method:m.method,notes:m.notes}}))||[]}});s({constructionPayments:r})}catch(t){throw console.error("Failed to load construction payments from API:",t),t}},addConstructionPaymentToAPI:async t=>{var r;try{const i=await br.createConstructionPayment(t),a={id:i._id,project:i.project,client:i.client,totalAmount:i.totalAmount,vatType:i.vatType,vatPercentage:i.vatPercentage,vatAmount:i.vatAmount,payments:((r=i.payments)==null?void 0:r.map(o=>{var p;const m=o.date?new Date(o.date):new Date,d=isNaN(m.getTime())?new Date:m;return{type:o.type||((p=o.types)==null?void 0:p[0])||"",amount:o.amount,date:d,method:o.method,notes:o.notes}}))||[]};s(o=>({constructionPayments:[a,...o.constructionPayments]}))}catch(i){throw console.error("Failed to add construction payment to API:",i),i}},updateConstructionPaymentInAPI:async(t,r)=>{var i;try{const a=await br.updateConstructionPayment(t,r);let o;a.expectedPaymentDates&&(o={contract:a.expectedPaymentDates.contract?new Date(a.expectedPaymentDates.contract):void 0,start:a.expectedPaymentDates.start?new Date(a.expectedPaymentDates.start):void 0,middle:a.expectedPaymentDates.middle?new Date(a.expectedPaymentDates.middle):void 0,final:a.expectedPaymentDates.final?new Date(a.expectedPaymentDates.final):void 0});const m={id:a._id,project:a.project,client:a.client,totalAmount:a.totalAmount,vatType:a.vatType,vatPercentage:a.vatPercentage,vatAmount:a.vatAmount,expectedPaymentDates:o,payments:((i=a.payments)==null?void 0:i.map(d=>{var p;return{type:d.type||((p=d.types)==null?void 0:p[0])||"",amount:d.amount,date:new Date(d.date),method:d.method,notes:d.notes}}))||[]};s(d=>({constructionPayments:d.constructionPayments.map(p=>p.id===t?m:p)}))}catch(a){throw console.error("Failed to update construction payment in API:",a),a}},deleteConstructionPaymentFromAPI:async t=>{try{await br.deleteConstructionPayment(t),s(r=>({constructionPayments:r.constructionPayments.filter(i=>i.id!==t)}))}catch(r){throw console.error("Failed to delete construction payment from API:",r),r}},loadASRequestsFromAPI:async()=>{try{const r=(await Wn.getAllASRequests()).map(i=>({id:i._id,project:i.project,client:i.client,requestDate:new Date(i.requestDate),siteAddress:i.siteAddress,entrancePassword:i.entrancePassword,description:i.description,scheduledVisitDate:i.scheduledVisitDate?new Date(i.scheduledVisitDate):void 0,scheduledVisitTime:i.scheduledVisitTime,assignedTo:i.assignedTo?Array.isArray(i.assignedTo)?i.assignedTo:[i.assignedTo]:[],completionDate:i.completionDate?new Date(i.completionDate):void 0,notes:i.notes,status:i.status||"pending"}));s({asRequests:r})}catch(t){throw console.error("Failed to load AS requests from API:",t),t}},addASRequestToAPI:async t=>{try{const r=await Wn.createASRequest(t),i={id:r._id,project:r.project,client:r.client,requestDate:new Date(r.requestDate),siteAddress:r.siteAddress,entrancePassword:r.entrancePassword,description:r.description,scheduledVisitDate:r.scheduledVisitDate?new Date(r.scheduledVisitDate):void 0,scheduledVisitTime:r.scheduledVisitTime,assignedTo:Array.isArray(r.assignedTo)?r.assignedTo:[],completionDate:r.completionDate?new Date(r.completionDate):void 0,notes:r.notes};return s(a=>({asRequests:[i,...a.asRequests]})),i}catch(r){throw console.error("Failed to add AS request to API:",r),r}},updateASRequestInAPI:async(t,r)=>{try{const i=await Wn.updateASRequest(t,r),a={id:i._id,project:i.project,client:i.client,requestDate:new Date(i.requestDate),siteAddress:i.siteAddress,entrancePassword:i.entrancePassword,description:i.description,scheduledVisitDate:i.scheduledVisitDate?new Date(i.scheduledVisitDate):void 0,scheduledVisitTime:i.scheduledVisitTime,assignedTo:Array.isArray(i.assignedTo)?i.assignedTo:[],completionDate:i.completionDate?new Date(i.completionDate):void 0,notes:i.notes,status:i.status||"pending"};s(o=>({asRequests:o.asRequests.map(m=>m.id===t?a:m)}))}catch(i){throw console.error("Failed to update AS request in API:",i),i}},deleteASRequestFromAPI:async t=>{try{await Wn.deleteASRequest(t),s(r=>({asRequests:r.asRequests.filter(i=>i.id!==t)}))}catch(r){throw console.error("Failed to delete AS request from API:",r),r}},loadExecutionRecordsFromAPI:async()=>{try{const t=await xr.getAllRecords();console.log("[loadExecutionRecordsFromAPI] Loaded",t.length,"records");const r=t.map(i=>({id:String(i.id),project:i.project_name,author:i.author||void 0,date:new Date(i.date),process:i.process||void 0,itemName:i.item_name,materialCost:i.material_cost||0,laborCost:i.labor_cost||0,vatAmount:i.vat_amount||0,totalAmount:i.total_amount||0,notes:i.notes||void 0,images:i.images||[],paymentId:i.payment_id?String(i.payment_id):void 0,createdAt:new Date(i.created_at),updatedAt:new Date(i.updated_at)}));s({executionRecords:r})}catch(t){throw console.error("Failed to load execution records from API:",t),t}},addExecutionRecordToAPI:async t=>{try{console.log("[addExecutionRecordToAPI] Adding:",t.itemName);const r=await xr.createRecord({project_name:t.project,author:t.author,date:t.date.toISOString().split("T")[0],process:t.process,item_name:t.itemName,material_cost:t.materialCost,labor_cost:t.laborCost,vat_amount:t.vatAmount,total_amount:t.totalAmount,notes:t.notes,payment_id:t.paymentId}),i={id:String(r.id),project:r.project_name,author:r.author||void 0,date:new Date(r.date),process:r.process||void 0,itemName:r.item_name,materialCost:r.material_cost||0,laborCost:r.labor_cost||0,vatAmount:r.vat_amount||0,totalAmount:r.total_amount||0,notes:r.notes||void 0,paymentId:r.payment_id?String(r.payment_id):void 0,createdAt:new Date(r.created_at),updatedAt:new Date(r.updated_at)};return s(a=>({executionRecords:[i,...a.executionRecords]})),console.log("[addExecutionRecordToAPI] Added with ID:",i.id),i}catch(r){throw console.error("Failed to add execution record to API:",r),r}},updateExecutionRecordInAPI:async(t,r)=>{var i;try{await xr.updateRecord(t,{project_name:r.project,author:r.author,date:(i=r.date)==null?void 0:i.toISOString().split("T")[0],process:r.process,item_name:r.itemName,material_cost:r.materialCost,labor_cost:r.laborCost,vat_amount:r.vatAmount,total_amount:r.totalAmount,notes:r.notes,payment_id:r.paymentId,images:r.images}),s(a=>({executionRecords:a.executionRecords.map(o=>o.id===t?{...o,...r,updatedAt:new Date}:o)}))}catch(a){throw console.error("Failed to update execution record in API:",a),a}},deleteExecutionRecordFromAPI:async t=>{try{await xr.deleteRecord(t),s(r=>({executionRecords:r.executionRecords.filter(i=>i.id!==t)}))}catch(r){throw console.error("Failed to delete execution record from API:",r),r}}}),{name:"interior-management-storage",partialize:s=>({...s,payments:s.payments.map(n=>{const{images:t,...r}=n;return r}),executionRecords:s.executionRecords.map(n=>{const{images:t,...r}=n;return r})}),storage:{getItem:s=>{var d,p,f,u,b,x,j;const n=localStorage.getItem(s);if(!n)return null;const{state:t}=JSON.parse(n),r=((d=t.projects)==null?void 0:d.map(h=>({...h,startDate:h.startDate?new Date(h.startDate):void 0,endDate:h.endDate?new Date(h.endDate):void 0,contractAmount:h.contractAmount!==void 0?h.contractAmount:h.budget||0})))||[],i=((p=t.constructionPayments)==null?void 0:p.map(h=>{var L;return{...h,vatType:h.vatType||"percentage",vatPercentage:h.vatPercentage??100,vatAmount:h.vatAmount??0,payments:((L=h.payments)==null?void 0:L.map(I=>({...I,date:new Date(I.date)})))||[]}}))||[],a=new Set(i.map(h=>h.id)),o=r.filter(h=>!a.has(h.id)).map(h=>({id:h.id,project:h.name,client:h.client,totalAmount:h.contractAmount||0,vatType:"percentage",vatPercentage:100,vatAmount:0,payments:[]})),m=[...i,...o];return{state:{...t,projects:r,schedules:((f=t.schedules)==null?void 0:f.map(h=>({...h,start:new Date(h.start),end:new Date(h.end)})))||[],payments:((u=t.payments)==null?void 0:u.map(h=>({...h,requestDate:new Date(h.requestDate),approvalDate:h.approvalDate?new Date(h.approvalDate):void 0})))||[],contractors:((b=t.contractors)==null?void 0:b.map(h=>({...h,createdAt:new Date(h.createdAt),updatedAt:new Date(h.updatedAt)})))||[],constructionPayments:m,asRequests:((x=t.asRequests)==null?void 0:x.map(h=>({...h,requestDate:new Date(h.requestDate),scheduledVisitDate:h.scheduledVisitDate?new Date(h.scheduledVisitDate):void 0,completionDate:h.completionDate?new Date(h.completionDate):void 0})))||[],executionRecords:((j=t.executionRecords)==null?void 0:j.map(h=>({...h,date:new Date(h.date),createdAt:new Date(h.createdAt),updatedAt:new Date(h.updatedAt)})))||[]}}},setItem:(s,n)=>{try{const t=JSON.stringify(n);localStorage.setItem(s,t)}catch(t){console.error("[dataStore] localStorage  :",t),t instanceof DOMException&&t.name==="QuotaExceededError"&&console.warn("[dataStore] localStorage   -    ")}},removeItem:s=>localStorage.removeItem(s)}}));var ar=s=>s.type==="checkbox",on=s=>s instanceof Date,rs=s=>s==null;const pl=s=>typeof s=="object";var Mt=s=>!rs(s)&&!Array.isArray(s)&&pl(s)&&!on(s),Vf=s=>Mt(s)&&s.target?ar(s.target)?s.target.checked:s.target.value:s,Cf=s=>s.substring(0,s.search(/\.\d+(\.|$)/))||s,Ef=(s,n)=>s.has(Cf(n)),Af=s=>{const n=s.constructor&&s.constructor.prototype;return Mt(n)&&n.hasOwnProperty("isPrototypeOf")},La=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function zt(s){let n;const t=Array.isArray(s),r=typeof FileList<"u"?s instanceof FileList:!1;if(s instanceof Date)n=new Date(s);else if(!(La&&(s instanceof Blob||r))&&(t||Mt(s)))if(n=t?[]:Object.create(Object.getPrototypeOf(s)),!t&&!Af(s))n=s;else for(const i in s)s.hasOwnProperty(i)&&(n[i]=zt(s[i]));else return s;return n}var li=s=>/^\w*$/.test(s),Pt=s=>s===void 0,Ha=s=>Array.isArray(s)?s.filter(Boolean):[],Ba=s=>Ha(s.replace(/["|']|\]/g,"").split(/\.|\[/)),Ke=(s,n,t)=>{if(!n||!Mt(s))return t;const r=(li(n)?[n]:Ba(n)).reduce((i,a)=>rs(i)?i:i[a],s);return Pt(r)||r===s?Pt(s[n])?t:s[n]:r},Cs=s=>typeof s=="boolean",jt=(s,n,t)=>{let r=-1;const i=li(n)?[n]:Ba(n),a=i.length,o=a-1;for(;++r<a;){const m=i[r];let d=t;if(r!==o){const p=s[m];d=Mt(p)||Array.isArray(p)?p:isNaN(+i[r+1])?{}:[]}if(m==="__proto__"||m==="constructor"||m==="prototype")return;s[m]=d,s=s[m]}};const ko={BLUR:"blur",FOCUS_OUT:"focusout"},bs={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ss={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},wf=tt.createContext(null);wf.displayName="HookFormContext";var _f=(s,n,t,r=!0)=>{const i={defaultValues:n._defaultValues};for(const a in s)Object.defineProperty(i,a,{get:()=>{const o=a;return n._proxyFormState[o]!==bs.all&&(n._proxyFormState[o]=!r||bs.all),s[o]}});return i};const jf=typeof window<"u"?tt.useLayoutEffect:tt.useEffect;var ls=s=>typeof s=="string",Lf=(s,n,t,r,i)=>ls(s)?(r&&n.watch.add(s),Ke(t,s,i)):Array.isArray(s)?s.map(a=>(r&&n.watch.add(a),Ke(t,a))):(r&&(n.watchAll=!0),t),Ki=s=>rs(s)||!pl(s);function Ys(s,n,t=new WeakSet){if(Ki(s)||Ki(n))return s===n;if(on(s)&&on(n))return s.getTime()===n.getTime();const r=Object.keys(s),i=Object.keys(n);if(r.length!==i.length)return!1;if(t.has(s)||t.has(n))return!0;t.add(s),t.add(n);for(const a of r){const o=s[a];if(!i.includes(a))return!1;if(a!=="ref"){const m=n[a];if(on(o)&&on(m)||Mt(o)&&Mt(m)||Array.isArray(o)&&Array.isArray(m)?!Ys(o,m,t):o!==m)return!1}}return!0}var Hf=(s,n,t,r,i)=>n?{...t[s],types:{...t[s]&&t[s].types?t[s].types:{},[r]:i||!0}}:{},$n=s=>Array.isArray(s)?s:[s],vo=()=>{let s=[];return{get observers(){return s},next:i=>{for(const a of s)a.next&&a.next(i)},subscribe:i=>(s.push(i),{unsubscribe:()=>{s=s.filter(a=>a!==i)}}),unsubscribe:()=>{s=[]}}};function fl(s,n){const t={};for(const r in s)if(s.hasOwnProperty(r)){const i=s[r],a=n[r];if(i&&Mt(i)&&a){const o=fl(i,a);Mt(o)&&(t[r]=o)}else s[r]&&(t[r]=a)}return t}var as=s=>Mt(s)&&!Object.keys(s).length,Ua=s=>s.type==="file",xs=s=>typeof s=="function",Yr=s=>{if(!La)return!1;const n=s?s.ownerDocument:0;return s instanceof(n&&n.defaultView?n.defaultView.HTMLElement:HTMLElement)},gl=s=>s.type==="select-multiple",Sa=s=>s.type==="radio",Bf=s=>Sa(s)||ar(s),ji=s=>Yr(s)&&s.isConnected;function Uf(s,n){const t=n.slice(0,-1).length;let r=0;for(;r<t;)s=Pt(s)?r++:s[n[r++]];return s}function Sf(s){for(const n in s)if(s.hasOwnProperty(n)&&!Pt(s[n]))return!1;return!0}function St(s,n){const t=Array.isArray(n)?n:li(n)?[n]:Ba(n),r=t.length===1?s:Uf(s,t),i=t.length-1,a=t[i];return r&&delete r[a],i!==0&&(Mt(r)&&as(r)||Array.isArray(r)&&Sf(r))&&St(s,t.slice(0,-1)),s}var Pf=s=>{for(const n in s)if(xs(s[n]))return!0;return!1};function Nl(s){return Array.isArray(s)||Mt(s)&&!Pf(s)}function Xi(s,n={}){for(const t in s)Nl(s[t])?(n[t]=Array.isArray(s[t])?[]:{},Xi(s[t],n[t])):rs(s[t])||(n[t]=!0);return n}function bn(s,n,t){t||(t=Xi(n));for(const r in s)Nl(s[r])?Pt(n)||Ki(t[r])?t[r]=Xi(s[r],Array.isArray(s[r])?[]:{}):bn(s[r],rs(n)?{}:n[r],t[r]):t[r]=!Ys(s[r],n[r]);return t}const Do={value:!1,isValid:!1},Vo={value:!0,isValid:!0};var bl=s=>{if(Array.isArray(s)){if(s.length>1){const n=s.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:n,isValid:!!n.length}}return s[0].checked&&!s[0].disabled?s[0].attributes&&!Pt(s[0].attributes.value)?Pt(s[0].value)||s[0].value===""?Vo:{value:s[0].value,isValid:!0}:Vo:Do}return Do},xl=(s,{valueAsNumber:n,valueAsDate:t,setValueAs:r})=>Pt(s)?s:n?s===""?NaN:s&&+s:t&&ls(s)?new Date(s):r?r(s):s;const Co={isValid:!1,value:null};var yl=s=>Array.isArray(s)?s.reduce((n,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:n,Co):Co;function Eo(s){const n=s.ref;return Ua(n)?n.files:Sa(n)?yl(s.refs).value:gl(n)?[...n.selectedOptions].map(({value:t})=>t):ar(n)?bl(s.refs).value:xl(Pt(n.value)?s.ref.value:n.value,s)}var Rf=(s,n,t,r)=>{const i={};for(const a of s){const o=Ke(n,a);o&&jt(i,a,o._f)}return{criteriaMode:t,names:[...s],fields:i,shouldUseNativeValidation:r}},Kr=s=>s instanceof RegExp,Pn=s=>Pt(s)?s:Kr(s)?s.source:Mt(s)?Kr(s.value)?s.value.source:s.value:s,Ao=s=>({isOnSubmit:!s||s===bs.onSubmit,isOnBlur:s===bs.onBlur,isOnChange:s===bs.onChange,isOnAll:s===bs.all,isOnTouch:s===bs.onTouched});const wo="AsyncFunction";var Mf=s=>!!s&&!!s.validate&&!!(xs(s.validate)&&s.validate.constructor.name===wo||Mt(s.validate)&&Object.values(s.validate).find(n=>n.constructor.name===wo)),If=s=>s.mount&&(s.required||s.min||s.max||s.maxLength||s.minLength||s.pattern||s.validate),_o=(s,n,t)=>!t&&(n.watchAll||n.watch.has(s)||[...n.watch].some(r=>s.startsWith(r)&&/^\.\w+/.test(s.slice(r.length))));const zn=(s,n,t,r)=>{for(const i of t||Object.keys(s)){const a=Ke(s,i);if(a){const{_f:o,...m}=a;if(o){if(o.refs&&o.refs[0]&&n(o.refs[0],i)&&!r)return!0;if(o.ref&&n(o.ref,o.name)&&!r)return!0;if(zn(m,n))break}else if(Mt(m)&&zn(m,n))break}}};function jo(s,n,t){const r=Ke(s,t);if(r||li(t))return{error:r,name:t};const i=t.split(".");for(;i.length;){const a=i.join("."),o=Ke(n,a),m=Ke(s,a);if(o&&!Array.isArray(o)&&t!==a)return{name:t};if(m&&m.type)return{name:a,error:m};if(m&&m.root&&m.root.type)return{name:`${a}.root`,error:m.root};i.pop()}return{name:t}}var Tf=(s,n,t,r)=>{t(s);const{name:i,...a}=s;return as(a)||Object.keys(a).length>=Object.keys(n).length||Object.keys(a).find(o=>n[o]===(!r||bs.all))},Ff=(s,n,t)=>!s||!n||s===n||$n(s).some(r=>r&&(t?r===n:r.startsWith(n)||n.startsWith(r))),Wf=(s,n,t,r,i)=>i.isOnAll?!1:!t&&i.isOnTouch?!(n||s):(t?r.isOnBlur:i.isOnBlur)?!s:(t?r.isOnChange:i.isOnChange)?s:!0,qf=(s,n)=>!Ha(Ke(s,n)).length&&St(s,n),Of=(s,n,t)=>{const r=$n(Ke(s,t));return jt(r,"root",n[t]),jt(s,t,r),s};function Lo(s,n,t="validate"){if(ls(s)||Array.isArray(s)&&s.every(ls)||Cs(s)&&!s)return{type:t,message:ls(s)?s:"",ref:n}}var pn=s=>Mt(s)&&!Kr(s)?s:{value:s,message:""},Ho=async(s,n,t,r,i,a)=>{const{ref:o,refs:m,required:d,maxLength:p,minLength:f,min:u,max:b,pattern:x,validate:j,name:h,valueAsNumber:L,mount:I}=s._f,y=Ke(t,h);if(!I||n.has(h))return{};const M=m?m[0]:o,se=Q=>{i&&M.reportValidity&&(M.setCustomValidity(Cs(Q)?"":Q||""),M.reportValidity())},re={},w=Sa(o),O=ar(o),ie=w||O,de=(L||Ua(o))&&Pt(o.value)&&Pt(y)||Yr(o)&&o.value===""||y===""||Array.isArray(y)&&!y.length,ue=Hf.bind(null,h,r,re),ve=(Q,he,Ne,Ve=Ss.maxLength,je=Ss.minLength)=>{const Be=Q?he:Ne;re[h]={type:Q?Ve:je,message:Be,ref:o,...ue(Q?Ve:je,Be)}};if(a?!Array.isArray(y)||!y.length:d&&(!ie&&(de||rs(y))||Cs(y)&&!y||O&&!bl(m).isValid||w&&!yl(m).isValid)){const{value:Q,message:he}=ls(d)?{value:!!d,message:d}:pn(d);if(Q&&(re[h]={type:Ss.required,message:he,ref:M,...ue(Ss.required,he)},!r))return se(he),re}if(!de&&(!rs(u)||!rs(b))){let Q,he;const Ne=pn(b),Ve=pn(u);if(!rs(y)&&!isNaN(y)){const je=o.valueAsNumber||y&&+y;rs(Ne.value)||(Q=je>Ne.value),rs(Ve.value)||(he=je<Ve.value)}else{const je=o.valueAsDate||new Date(y),Be=Le=>new Date(new Date().toDateString()+" "+Le),Xe=o.type=="time",le=o.type=="week";ls(Ne.value)&&y&&(Q=Xe?Be(y)>Be(Ne.value):le?y>Ne.value:je>new Date(Ne.value)),ls(Ve.value)&&y&&(he=Xe?Be(y)<Be(Ve.value):le?y<Ve.value:je<new Date(Ve.value))}if((Q||he)&&(ve(!!Q,Ne.message,Ve.message,Ss.max,Ss.min),!r))return se(re[h].message),re}if((p||f)&&!de&&(ls(y)||a&&Array.isArray(y))){const Q=pn(p),he=pn(f),Ne=!rs(Q.value)&&y.length>+Q.value,Ve=!rs(he.value)&&y.length<+he.value;if((Ne||Ve)&&(ve(Ne,Q.message,he.message),!r))return se(re[h].message),re}if(x&&!de&&ls(y)){const{value:Q,message:he}=pn(x);if(Kr(Q)&&!y.match(Q)&&(re[h]={type:Ss.pattern,message:he,ref:o,...ue(Ss.pattern,he)},!r))return se(he),re}if(j){if(xs(j)){const Q=await j(y,t),he=Lo(Q,M);if(he&&(re[h]={...he,...ue(Ss.validate,he.message)},!r))return se(he.message),re}else if(Mt(j)){let Q={};for(const he in j){if(!as(Q)&&!r)break;const Ne=Lo(await j[he](y,t),M,he);Ne&&(Q={...Ne,...ue(he,Ne.message)},se(Ne.message),r&&(re[h]=Q))}if(!as(Q)&&(re[h]={ref:M,...Q},!r))return re}}return se(!0),re};const $f={mode:bs.onSubmit,reValidateMode:bs.onChange,shouldFocusError:!0};function zf(s={}){let n={...$f,...s},t={submitCount:0,isDirty:!1,isReady:!1,isLoading:xs(n.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:n.errors||{},disabled:n.disabled||!1},r={},i=Mt(n.defaultValues)||Mt(n.values)?zt(n.defaultValues||n.values)||{}:{},a=n.shouldUnregister?{}:zt(i),o={action:!1,mount:!1,watch:!1},m={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},d,p=0;const f={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let u={...f};const b={array:vo(),state:vo()},x=n.criteriaMode===bs.all,j=B=>$=>{clearTimeout(p),p=setTimeout(B,$)},h=async B=>{if(!n.disabled&&(f.isValid||u.isValid||B)){const $=n.resolver?as((await O()).errors):await de(r,!0);$!==t.isValid&&b.state.next({isValid:$})}},L=(B,$)=>{!n.disabled&&(f.isValidating||f.validatingFields||u.isValidating||u.validatingFields)&&((B||Array.from(m.mount)).forEach(G=>{G&&($?jt(t.validatingFields,G,$):St(t.validatingFields,G))}),b.state.next({validatingFields:t.validatingFields,isValidating:!as(t.validatingFields)}))},I=(B,$=[],G,T,C=!0,z=!0)=>{if(T&&G&&!n.disabled){if(o.action=!0,z&&Array.isArray(Ke(r,B))){const X=G(Ke(r,B),T.argA,T.argB);C&&jt(r,B,X)}if(z&&Array.isArray(Ke(t.errors,B))){const X=G(Ke(t.errors,B),T.argA,T.argB);C&&jt(t.errors,B,X),qf(t.errors,B)}if((f.touchedFields||u.touchedFields)&&z&&Array.isArray(Ke(t.touchedFields,B))){const X=G(Ke(t.touchedFields,B),T.argA,T.argB);C&&jt(t.touchedFields,B,X)}(f.dirtyFields||u.dirtyFields)&&(t.dirtyFields=bn(i,a)),b.state.next({name:B,isDirty:ve(B,$),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else jt(a,B,$)},y=(B,$)=>{jt(t.errors,B,$),b.state.next({errors:t.errors})},M=B=>{t.errors=B,b.state.next({errors:t.errors,isValid:!1})},se=(B,$,G,T)=>{const C=Ke(r,B);if(C){const z=Ke(a,B,Pt(G)?Ke(i,B):G);Pt(z)||T&&T.defaultChecked||$?jt(a,B,$?z:Eo(C._f)):Ne(B,z),o.mount&&h()}},re=(B,$,G,T,C)=>{let z=!1,X=!1;const K={name:B};if(!n.disabled){if(!G||T){(f.isDirty||u.isDirty)&&(X=t.isDirty,t.isDirty=K.isDirty=ve(),z=X!==K.isDirty);const N=Ys(Ke(i,B),$);X=!!Ke(t.dirtyFields,B),N?St(t.dirtyFields,B):jt(t.dirtyFields,B,!0),K.dirtyFields=t.dirtyFields,z=z||(f.dirtyFields||u.dirtyFields)&&X!==!N}if(G){const N=Ke(t.touchedFields,B);N||(jt(t.touchedFields,B,G),K.touchedFields=t.touchedFields,z=z||(f.touchedFields||u.touchedFields)&&N!==G)}z&&C&&b.state.next(K)}return z?K:{}},w=(B,$,G,T)=>{const C=Ke(t.errors,B),z=(f.isValid||u.isValid)&&Cs($)&&t.isValid!==$;if(n.delayError&&G?(d=j(()=>y(B,G)),d(n.delayError)):(clearTimeout(p),d=null,G?jt(t.errors,B,G):St(t.errors,B)),(G?!Ys(C,G):C)||!as(T)||z){const X={...T,...z&&Cs($)?{isValid:$}:{},errors:t.errors,name:B};t={...t,...X},b.state.next(X)}},O=async B=>{L(B,!0);const $=await n.resolver(a,n.context,Rf(B||m.mount,r,n.criteriaMode,n.shouldUseNativeValidation));return L(B),$},ie=async B=>{const{errors:$}=await O(B);if(B)for(const G of B){const T=Ke($,G);T?jt(t.errors,G,T):St(t.errors,G)}else t.errors=$;return $},de=async(B,$,G={valid:!0})=>{for(const T in B){const C=B[T];if(C){const{_f:z,...X}=C;if(z){const K=m.array.has(z.name),N=C._f&&Mf(C._f);N&&f.validatingFields&&L([z.name],!0);const D=await Ho(C,m.disabled,a,x,n.shouldUseNativeValidation&&!$,K);if(N&&f.validatingFields&&L([z.name]),D[z.name]&&(G.valid=!1,$))break;!$&&(Ke(D,z.name)?K?Of(t.errors,D,z.name):jt(t.errors,z.name,D[z.name]):St(t.errors,z.name))}!as(X)&&await de(X,$,G)}}return G.valid},ue=()=>{for(const B of m.unMount){const $=Ke(r,B);$&&($._f.refs?$._f.refs.every(G=>!ji(G)):!ji($._f.ref))&&R(B)}m.unMount=new Set},ve=(B,$)=>!n.disabled&&(B&&$&&jt(a,B,$),!Ys(Le(),i)),Q=(B,$,G)=>Lf(B,m,{...o.mount?a:Pt($)?i:ls(B)?{[B]:$}:$},G,$),he=B=>Ha(Ke(o.mount?a:i,B,n.shouldUnregister?Ke(i,B,[]):[])),Ne=(B,$,G={})=>{const T=Ke(r,B);let C=$;if(T){const z=T._f;z&&(!z.disabled&&jt(a,B,xl($,z)),C=Yr(z.ref)&&rs($)?"":$,gl(z.ref)?[...z.ref.options].forEach(X=>X.selected=C.includes(X.value)):z.refs?ar(z.ref)?z.refs.forEach(X=>{(!X.defaultChecked||!X.disabled)&&(Array.isArray(C)?X.checked=!!C.find(K=>K===X.value):X.checked=C===X.value||!!C)}):z.refs.forEach(X=>X.checked=X.value===C):Ua(z.ref)?z.ref.value="":(z.ref.value=C,z.ref.type||b.state.next({name:B,values:zt(a)})))}(G.shouldDirty||G.shouldTouch)&&re(B,C,G.shouldTouch,G.shouldDirty,!0),G.shouldValidate&&le(B)},Ve=(B,$,G)=>{for(const T in $){if(!$.hasOwnProperty(T))return;const C=$[T],z=B+"."+T,X=Ke(r,z);(m.array.has(B)||Mt(C)||X&&!X._f)&&!on(C)?Ve(z,C,G):Ne(z,C,G)}},je=(B,$,G={})=>{const T=Ke(r,B),C=m.array.has(B),z=zt($);jt(a,B,z),C?(b.array.next({name:B,values:zt(a)}),(f.isDirty||f.dirtyFields||u.isDirty||u.dirtyFields)&&G.shouldDirty&&b.state.next({name:B,dirtyFields:bn(i,a),isDirty:ve(B,z)})):T&&!T._f&&!rs(z)?Ve(B,z,G):Ne(B,z,G),_o(B,m)&&b.state.next({...t,name:B}),b.state.next({name:o.mount?B:void 0,values:zt(a)})},Be=async B=>{o.mount=!0;const $=B.target;let G=$.name,T=!0;const C=Ke(r,G),z=N=>{T=Number.isNaN(N)||on(N)&&isNaN(N.getTime())||Ys(N,Ke(a,G,N))},X=Ao(n.mode),K=Ao(n.reValidateMode);if(C){let N,D;const U=$.type?Eo(C._f):Vf(B),Y=B.type===ko.BLUR||B.type===ko.FOCUS_OUT,ke=!If(C._f)&&!n.resolver&&!Ke(t.errors,G)&&!C._f.deps||Wf(Y,Ke(t.touchedFields,G),t.isSubmitted,K,X),De=_o(G,m,Y);jt(a,G,U),Y?(!$||!$.readOnly)&&(C._f.onBlur&&C._f.onBlur(B),d&&d(0)):C._f.onChange&&C._f.onChange(B);const Ie=re(G,U,Y),$e=!as(Ie)||De;if(!Y&&b.state.next({name:G,type:B.type,values:zt(a)}),ke)return(f.isValid||u.isValid)&&(n.mode==="onBlur"?Y&&h():Y||h()),$e&&b.state.next({name:G,...De?{}:Ie});if(!Y&&De&&b.state.next({...t}),n.resolver){const{errors:ot}=await O([G]);if(z(U),T){const et=jo(t.errors,r,G),Qe=jo(ot,r,et.name||G);N=Qe.error,G=Qe.name,D=as(ot)}}else L([G],!0),N=(await Ho(C,m.disabled,a,x,n.shouldUseNativeValidation))[G],L([G]),z(U),T&&(N?D=!1:(f.isValid||u.isValid)&&(D=await de(r,!0)));T&&(C._f.deps&&(!Array.isArray(C._f.deps)||C._f.deps.length>0)&&le(C._f.deps),w(G,D,N,Ie))}},Xe=(B,$)=>{if(Ke(t.errors,$)&&B.focus)return B.focus(),1},le=async(B,$={})=>{let G,T;const C=$n(B);if(n.resolver){const z=await ie(Pt(B)?B:C);G=as(z),T=B?!C.some(X=>Ke(z,X)):G}else B?(T=(await Promise.all(C.map(async z=>{const X=Ke(r,z);return await de(X&&X._f?{[z]:X}:X)}))).every(Boolean),!(!T&&!t.isValid)&&h()):T=G=await de(r);return b.state.next({...!ls(B)||(f.isValid||u.isValid)&&G!==t.isValid?{}:{name:B},...n.resolver||!B?{isValid:G}:{},errors:t.errors}),$.shouldFocus&&!T&&zn(r,Xe,B?C:m.mount),T},Le=(B,$)=>{let G={...o.mount?a:i};return $&&(G=fl($.dirtyFields?t.dirtyFields:t.touchedFields,G)),Pt(B)?G:ls(B)?Ke(G,B):B.map(T=>Ke(G,T))},Ue=(B,$)=>({invalid:!!Ke(($||t).errors,B),isDirty:!!Ke(($||t).dirtyFields,B),error:Ke(($||t).errors,B),isValidating:!!Ke(t.validatingFields,B),isTouched:!!Ke(($||t).touchedFields,B)}),Ce=B=>{B&&$n(B).forEach($=>St(t.errors,$)),b.state.next({errors:B?t.errors:{}})},Re=(B,$,G)=>{const T=(Ke(r,B,{_f:{}})._f||{}).ref,C=Ke(t.errors,B)||{},{ref:z,message:X,type:K,...N}=C;jt(t.errors,B,{...N,...$,ref:T}),b.state.next({name:B,errors:t.errors,isValid:!1}),G&&G.shouldFocus&&T&&T.focus&&T.focus()},We=(B,$)=>xs(B)?b.state.subscribe({next:G=>"values"in G&&B(Q(void 0,$),G)}):Q(B,$,!0),Te=B=>b.state.subscribe({next:$=>{Ff(B.name,$.name,B.exact)&&Tf($,B.formState||f,xe,B.reRenderRoot)&&B.callback({values:{...a},...t,...$,defaultValues:i})}}).unsubscribe,qe=B=>(o.mount=!0,u={...u,...B.formState},Te({...B,formState:u})),R=(B,$={})=>{for(const G of B?$n(B):m.mount)m.mount.delete(G),m.array.delete(G),$.keepValue||(St(r,G),St(a,G)),!$.keepError&&St(t.errors,G),!$.keepDirty&&St(t.dirtyFields,G),!$.keepTouched&&St(t.touchedFields,G),!$.keepIsValidating&&St(t.validatingFields,G),!n.shouldUnregister&&!$.keepDefaultValue&&St(i,G);b.state.next({values:zt(a)}),b.state.next({...t,...$.keepDirty?{isDirty:ve()}:{}}),!$.keepIsValid&&h()},fe=({disabled:B,name:$})=>{(Cs(B)&&o.mount||B||m.disabled.has($))&&(B?m.disabled.add($):m.disabled.delete($))},pe=(B,$={})=>{let G=Ke(r,B);const T=Cs($.disabled)||Cs(n.disabled);return jt(r,B,{...G||{},_f:{...G&&G._f?G._f:{ref:{name:B}},name:B,mount:!0,...$}}),m.mount.add(B),G?fe({disabled:Cs($.disabled)?$.disabled:n.disabled,name:B}):se(B,!0,$.value),{...T?{disabled:$.disabled||n.disabled}:{},...n.progressive?{required:!!$.required,min:Pn($.min),max:Pn($.max),minLength:Pn($.minLength),maxLength:Pn($.maxLength),pattern:Pn($.pattern)}:{},name:B,onChange:Be,onBlur:Be,ref:C=>{if(C){pe(B,$),G=Ke(r,B);const z=Pt(C.value)&&C.querySelectorAll&&C.querySelectorAll("input,select,textarea")[0]||C,X=Bf(z),K=G._f.refs||[];if(X?K.find(N=>N===z):z===G._f.ref)return;jt(r,B,{_f:{...G._f,...X?{refs:[...K.filter(ji),z,...Array.isArray(Ke(i,B))?[{}]:[]],ref:{type:z.type,name:B}}:{ref:z}}}),se(B,!1,void 0,z)}else G=Ke(r,B,{}),G._f&&(G._f.mount=!1),(n.shouldUnregister||$.shouldUnregister)&&!(Ef(m.array,B)&&o.action)&&m.unMount.add(B)}}},He=()=>n.shouldFocusError&&zn(r,Xe,m.mount),Z=B=>{Cs(B)&&(b.state.next({disabled:B}),zn(r,($,G)=>{const T=Ke(r,G);T&&($.disabled=T._f.disabled||B,Array.isArray(T._f.refs)&&T._f.refs.forEach(C=>{C.disabled=T._f.disabled||B}))},0,!1))},A=(B,$)=>async G=>{let T;G&&(G.preventDefault&&G.preventDefault(),G.persist&&G.persist());let C=zt(a);if(b.state.next({isSubmitting:!0}),n.resolver){const{errors:z,values:X}=await O();t.errors=z,C=zt(X)}else await de(r);if(m.disabled.size)for(const z of m.disabled)St(C,z);if(St(t.errors,"root"),as(t.errors)){b.state.next({errors:{}});try{await B(C,G)}catch(z){T=z}}else $&&await $({...t.errors},G),He(),setTimeout(He);if(b.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:as(t.errors)&&!T,submitCount:t.submitCount+1,errors:t.errors}),T)throw T},ce=(B,$={})=>{Ke(r,B)&&(Pt($.defaultValue)?je(B,zt(Ke(i,B))):(je(B,$.defaultValue),jt(i,B,zt($.defaultValue))),$.keepTouched||St(t.touchedFields,B),$.keepDirty||(St(t.dirtyFields,B),t.isDirty=$.defaultValue?ve(B,zt(Ke(i,B))):ve()),$.keepError||(St(t.errors,B),f.isValid&&h()),b.state.next({...t}))},V=(B,$={})=>{const G=B?zt(B):i,T=zt(G),C=as(B),z=C?i:T;if($.keepDefaultValues||(i=G),!$.keepValues){if($.keepDirtyValues){const X=new Set([...m.mount,...Object.keys(bn(i,a))]);for(const K of Array.from(X))Ke(t.dirtyFields,K)?jt(z,K,Ke(a,K)):je(K,Ke(z,K))}else{if(La&&Pt(B))for(const X of m.mount){const K=Ke(r,X);if(K&&K._f){const N=Array.isArray(K._f.refs)?K._f.refs[0]:K._f.ref;if(Yr(N)){const D=N.closest("form");if(D){D.reset();break}}}}if($.keepFieldsRef)for(const X of m.mount)je(X,Ke(z,X));else r={}}a=n.shouldUnregister?$.keepDefaultValues?zt(i):{}:zt(z),b.array.next({values:{...z}}),b.state.next({values:{...z}})}m={mount:$.keepDirtyValues?m.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!f.isValid||!!$.keepIsValid||!!$.keepDirtyValues,o.watch=!!n.shouldUnregister,b.state.next({submitCount:$.keepSubmitCount?t.submitCount:0,isDirty:C?!1:$.keepDirty?t.isDirty:!!($.keepDefaultValues&&!Ys(B,i)),isSubmitted:$.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:C?{}:$.keepDirtyValues?$.keepDefaultValues&&a?bn(i,a):t.dirtyFields:$.keepDefaultValues&&B?bn(i,B):$.keepDirty?t.dirtyFields:{},touchedFields:$.keepTouched?t.touchedFields:{},errors:$.keepErrors?t.errors:{},isSubmitSuccessful:$.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:i})},_=(B,$)=>V(xs(B)?B(a):B,$),me=(B,$={})=>{const G=Ke(r,B),T=G&&G._f;if(T){const C=T.refs?T.refs[0]:T.ref;C.focus&&(C.focus(),$.shouldSelect&&xs(C.select)&&C.select())}},xe=B=>{t={...t,...B}},Fe={control:{register:pe,unregister:R,getFieldState:Ue,handleSubmit:A,setError:Re,_subscribe:Te,_runSchema:O,_focusError:He,_getWatch:Q,_getDirty:ve,_setValid:h,_setFieldArray:I,_setDisabledField:fe,_setErrors:M,_getFieldArray:he,_reset:V,_resetDefaultValues:()=>xs(n.defaultValues)&&n.defaultValues().then(B=>{_(B,n.resetOptions),b.state.next({isLoading:!1})}),_removeUnmounted:ue,_disableForm:Z,_subjects:b,_proxyFormState:f,get _fields(){return r},get _formValues(){return a},get _state(){return o},set _state(B){o=B},get _defaultValues(){return i},get _names(){return m},set _names(B){m=B},get _formState(){return t},get _options(){return n},set _options(B){n={...n,...B}}},subscribe:qe,trigger:le,register:pe,handleSubmit:A,watch:We,setValue:je,getValues:Le,reset:_,resetField:ce,clearErrors:Ce,unregister:R,setError:Re,setFocus:me,getFieldState:Ue};return{...Fe,formControl:Fe}}function or(s={}){const n=tt.useRef(void 0),t=tt.useRef(void 0),[r,i]=tt.useState({isDirty:!1,isValidating:!1,isLoading:xs(s.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:s.errors||{},disabled:s.disabled||!1,isReady:!1,defaultValues:xs(s.defaultValues)?void 0:s.defaultValues});if(!n.current)if(s.formControl)n.current={...s.formControl,formState:r},s.defaultValues&&!xs(s.defaultValues)&&s.formControl.reset(s.defaultValues,s.resetOptions);else{const{formControl:o,...m}=zf(s);n.current={...m,formState:r}}const a=n.current.control;return a._options=s,jf(()=>{const o=a._subscribe({formState:a._proxyFormState,callback:()=>i({...a._formState}),reRenderRoot:!0});return i(m=>({...m,isReady:!0})),a._formState.isReady=!0,o},[a]),tt.useEffect(()=>a._disableForm(s.disabled),[a,s.disabled]),tt.useEffect(()=>{s.mode&&(a._options.mode=s.mode),s.reValidateMode&&(a._options.reValidateMode=s.reValidateMode)},[a,s.mode,s.reValidateMode]),tt.useEffect(()=>{s.errors&&(a._setErrors(s.errors),a._focusError())},[a,s.errors]),tt.useEffect(()=>{s.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[a,s.shouldUnregister]),tt.useEffect(()=>{if(a._proxyFormState.isDirty){const o=a._getDirty();o!==r.isDirty&&a._subjects.state.next({isDirty:o})}},[a,r.isDirty]),tt.useEffect(()=>{s.values&&!Ys(s.values,t.current)?(a._reset(s.values,{keepFieldsRef:!0,...a._options.resetOptions}),t.current=s.values,i(o=>({...o}))):a._resetDefaultValues()},[a,s.values]),tt.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),n.current.formState=_f(r,a),n.current}const Bo=["","","","","","",""],hl=({event:s,slotInfo:n,defaultProjectName:t,onClose:r,onSave:i,onDelete:a})=>{const{register:o,handleSubmit:m,setValue:d,watch:p,formState:{errors:f},reset:u}=or({defaultValues:{projectId:"",title:"",date:"",description:""}}),{projects:b}=ks(),[x,j]=l.useState([]),[h,L]=l.useState(""),[I,y]=l.useState(!1),[M,se]=l.useState(""),[re,w]=l.useState(9),[O,ie]=l.useState(0),[de,ue]=l.useState(""),ve=p("projectId");l.useEffect(()=>{if(ve){const le=b.find(Le=>Le.id===ve||Le.id===parseInt(ve)||Le.id.toString()===ve.toString());console.log(" Selected project:",le==null?void 0:le.name),console.log(" Project team:",le==null?void 0:le.team),console.log(" Current selectedMembers:",x)}},[ve,b,x]),l.useEffect(()=>{console.log(" Modal mount - initializing states"),j([]),ue(""),L("")},[]),l.useEffect(()=>{if(console.log(" ScheduleModal useEffect triggered:",{hasEvent:!!s,eventId:s==null?void 0:s.id,hasSlotInfo:!!n,hasMergedEvents:!!(s!=null&&s.mergedEventIds)}),s&&s.id){console.log(" ScheduleModal processing event:",{title:s.title,projectId:s.projectId,projectName:s.projectName,start:s.start,assignedTo:s.assignedTo,time:s.time});const le=s.originalTitle||s.title,Le=/ - (|) \d{1,2}$/,Ue=le.replace(Le,"");if(d("title",Ue,{shouldValidate:!1,shouldDirty:!1}),d("date",Ae(s.start,"yyyy-MM-dd"),{shouldValidate:!1,shouldDirty:!1}),d("description",s.description||"",{shouldValidate:!1,shouldDirty:!1}),s.projectId&&s.projectId!==""&&s.projectId!=="undefined")console.log(" Setting projectId from event:",s.projectId),d("projectId",s.projectId,{shouldValidate:!1,shouldDirty:!1}),ue("");else if(s.projectName){const Re=b.find(We=>We.name===s.projectName);console.log(" Finding project by name:",s.projectName,"found:",Re),Re?(console.log(" Setting projectId from found project:",Re.id),d("projectId",Re.id,{shouldValidate:!1,shouldDirty:!1}),ue("")):(console.log(" Project not found, leaving empty"),d("projectId","",{shouldValidate:!1,shouldDirty:!1}),ue(""))}else console.log(" No project info, leaving empty"),d("projectId","",{shouldValidate:!1,shouldDirty:!1}),ue("");const Ce=s.assignedTo||s.attendees||[];if(console.log(" Setting selectedMembers to:",Ce),j(Array.isArray(Ce)?Ce:[]),s.time&&s.time!=="-"){console.log(" Setting time from event:",{eventTime:s.time,parsedHours:s.time.split(":")[0],parsedMinutes:s.time.split(":")[1]}),y(!0);const[Re,We]=s.time.split(":"),Te=parseInt(Re,10),qe=parseInt(We,10);Te>=12?(se(""),w(Te===12?12:Te-12)):(se(""),w(Te===0?12:Te)),ie(qe),console.log(" Time state set:",{hasTime:!0,period:Te>=12?"":"",hour:Te>=12?Te===12?12:Te-12:Te===0?12:Te,minute:qe})}else console.log(" No time in event, setting hasTime to false"),y(!1),se(""),w(9),ie(0)}else if(n&&!s&&(console.log(" New schedule from slot:",n),u({projectId:"",title:"",date:Ae(n.start,"yyyy-MM-dd"),description:""}),console.log(" New schedule - resetting selectedMembers to empty array"),j([]),ue(""),t)){const le=b.find(Le=>Le.name===t);le&&d("projectId",le.id,{shouldValidate:!1,shouldDirty:!1})}},[s==null?void 0:s.id]);const Q=le=>{console.log(" toggleMember called with:",le),console.log(" Current selectedMembers before toggle:",x),j(Le=>{console.log(" Previous members in setState:",Le);const Ue=Le.includes(le)?Le.filter(Ce=>Ce!==le):[...Le,le];return console.log(" Updated members after toggle:",Ue),Ue})},he=()=>{const le="HV LAB";x.includes(le)?j(Le=>Le.filter(Ue=>Ue!==le)):j(Le=>[...Le,le])},Ne=()=>{const le="";x.includes(le)?j(Le=>Le.filter(Ue=>Ue!==le)):j(Le=>[...Le,le])},Ve=()=>{const le="";x.includes(le)?j(Le=>Le.filter(Ue=>Ue!==le)):j(Le=>[...Le,le])},je=()=>{h.trim()&&!x.includes(h.trim())&&(j(le=>[...le,h.trim()]),L(""))},Be=le=>{j(Le=>Le.filter(Ue=>Ue!==le))},Xe=async le=>{console.log(" Form onSubmit called with data:",le),console.log(" selectedMembers:",x),console.log(" hasTime state:",I),console.log(" timePeriod:",M,"timeHour:",re,"timeMinute:",O),console.log(" Available projects:",b.map(R=>({id:R.id,name:R.name,idType:typeof R.id}))),console.log(" Merged event IDs:",s==null?void 0:s.mergedEventIds);const Le=/ - (|) \d{1,2}$/,Ue=le.title.replace(Le,"").trim();let Ce="",Re="";if(le.projectId){const R=b.find(fe=>fe.id===le.projectId||fe.id===parseInt(le.projectId)||fe.id.toString()===le.projectId.toString());console.log(" Looking for project with id:",le.projectId,"type:",typeof le.projectId),console.log(" Found project:",R),Ce=(R==null?void 0:R.name)||"",Re=le.projectId}else Ce="",Re="";console.log(" Final projectId:",Re,"projectName:",Ce,"cleanedTitle:",Ue);const We=new Date(le.date);let Te="-";if(I){let R=re;M===""&&re!==12?R=re+12:M===""&&re===12&&(R=0),Te=`${R.toString().padStart(2,"0")}:${O.toString().padStart(2,"0")}`,console.log(" Time calculated:",Te)}else console.log(" No time set (hasTime is false)");const qe={...s,title:Ue,start:We,end:We,projectId:Re,projectName:Ce,assignedTo:x,description:le.description||"",time:Te,mergedEventIds:s==null?void 0:s.mergedEventIds};console.log(" Calling onSave with newEvent:",qe);try{await i(qe),console.log(" onSave completed successfully")}catch(R){throw console.error(" onSave failed:",R),R}};return console.log(" Rendering ScheduleModal with selectedMembers:",x),e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-3 md:p-4",children:e.jsxDEV("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxDEV("div",{className:"flex items-center justify-between p-4 md:p-6 border-b",children:[e.jsxDEV("h2",{className:"text-lg md:text-xl font-semibold",children:s?" ":"  "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:373,columnNumber:11},void 0),e.jsxDEV("button",{onClick:r,className:"p-1.5 md:p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsxDEV(dt,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:380,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:376,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:372,columnNumber:9},void 0),e.jsxDEV("form",{onSubmit:m(Xe),className:"p-4 md:p-6 space-y-3 md:space-y-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:388,columnNumber:13},void 0),e.jsxDEV("select",{...o("projectId"),className:"input w-full",children:[e.jsxDEV("option",{value:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:395,columnNumber:15},void 0),b.filter(le=>s!=null&&s.isASVisit?!0:le.status!=="completed").map(le=>e.jsxDEV("option",{value:le.id,children:le.name},le.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:405,columnNumber:19},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:391,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:387,columnNumber:11},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:414,columnNumber:13},void 0),e.jsxDEV("input",{...o("title",{required:" "}),type:"text",className:"input w-full"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:417,columnNumber:13},void 0),f.title&&e.jsxDEV("p",{className:"mt-1 text-sm text-red-600",children:String(f.title.message)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:423,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:413,columnNumber:11},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:429,columnNumber:13},void 0),e.jsxDEV("input",{...o("date",{required:" "}),type:"date",className:"input w-full"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:432,columnNumber:13},void 0),f.date&&e.jsxDEV("p",{className:"mt-1 text-sm text-red-600",children:String(f.date.message)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:438,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:428,columnNumber:11},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:444,columnNumber:13},void 0),e.jsxDEV("div",{className:"mb-2",children:e.jsxDEV("button",{type:"button",onClick:()=>y(!I),className:`px-3 py-1.5 text-xs rounded border transition-colors ${I?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:I?" ":"  (-)"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:450,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:449,columnNumber:13},void 0),I&&e.jsxDEV("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsxDEV("div",{className:"flex gap-1",children:[e.jsxDEV("button",{type:"button",onClick:()=>se(""),className:`px-3 py-1.5 text-xs rounded border transition-colors ${M===""?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:468,columnNumber:19},void 0),e.jsxDEV("button",{type:"button",onClick:()=>se(""),className:`px-3 py-1.5 text-xs rounded border transition-colors ${M===""?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:479,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:467,columnNumber:17},void 0),e.jsxDEV("select",{value:re,onChange:le=>w(parseInt(le.target.value)),className:"flex-1 min-w-[80px] max-w-[120px] px-2 py-1.5 text-sm border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-gray-500",children:[12,1,2,3,4,5,6,7,8,9,10,11].map(le=>e.jsxDEV("option",{value:le,children:[le,""]},le,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:499,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:493,columnNumber:17},void 0),e.jsxDEV("select",{value:O,onChange:le=>ie(parseInt(le.target.value)),className:"flex-1 min-w-[80px] max-w-[120px] px-2 py-1.5 text-sm border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-gray-500",children:[0,10,20,30,40,50].map(le=>e.jsxDEV("option",{value:le,children:[le,""]},le,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:512,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:506,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:465,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:443,columnNumber:11},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" (  )"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:523,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex flex-wrap gap-1.5 mb-2",children:[e.jsxDEV("button",{type:"button",onClick:he,className:`px-2.5 py-1.5 rounded border transition-colors text-sm ${x.includes("HV LAB")?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:"HV LAB"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:530,columnNumber:15},void 0),e.jsxDEV("button",{type:"button",onClick:Ne,className:`px-2.5 py-1.5 rounded border transition-colors text-sm ${x.includes("")?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:543,columnNumber:15},void 0),e.jsxDEV("button",{type:"button",onClick:Ve,className:`px-2.5 py-1.5 rounded border transition-colors text-sm ${x.includes("")?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:556,columnNumber:15},void 0),Bo.map(le=>e.jsxDEV("button",{type:"button",onClick:()=>Q(le),className:`px-2.5 py-1.5 rounded border transition-colors text-sm ${x.includes(le)?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:le},le,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:570,columnNumber:17},void 0)),x.filter(le=>!Bo.includes(le)&&le!=="HV LAB"&&le!==""&&le!=="").map(le=>e.jsxDEV("button",{type:"button",onClick:()=>Be(le),className:"px-2.5 py-1.5 rounded border transition-colors text-sm bg-gray-900 text-white border-gray-900 hover:bg-gray-800",children:[le," "]},le,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:588,columnNumber:19},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:528,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV("input",{type:"text",value:h,onChange:le=>L(le.target.value),onKeyPress:le=>{le.key==="Enter"&&(le.preventDefault(),je())},className:"flex-1 px-3 py-1.5 border border-gray-300 rounded-lg text-xs focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:602,columnNumber:15},void 0),e.jsxDEV("button",{type:"button",onClick:je,className:"px-3 py-1.5 bg-gray-100 text-gray-700 rounded-lg text-xs font-medium hover:bg-gray-200 transition-colors",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:614,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:601,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:522,columnNumber:11},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:626,columnNumber:13},void 0),e.jsxDEV("textarea",{...o("description"),rows:4,className:"input w-full text-sm md:text-base"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:629,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:625,columnNumber:11},void 0),e.jsxDEV("div",{className:"flex flex-col sm:flex-row sm:justify-between gap-2 sm:gap-0 pt-4 border-t",children:[e.jsxDEV("div",{children:s&&e.jsxDEV("button",{type:"button",onClick:()=>{window.confirm("  ?")&&a(s.id)},className:"btn btn-outline text-red-600 hover:bg-red-50 flex items-center w-full sm:w-auto justify-center text-sm md:text-base",children:[e.jsxDEV(Dt,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:649,columnNumber:19},void 0),""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:640,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:638,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex gap-2 sm:space-x-3",children:[e.jsxDEV("button",{type:"button",onClick:r,className:"btn btn-outline flex-1 sm:flex-none text-sm md:text-base",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:655,columnNumber:15},void 0),e.jsxDEV("button",{type:"submit",className:"btn btn-primary flex-1 sm:flex-none text-sm md:text-base",children:s?"":""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:662,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:654,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:637,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:385,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:370,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:369,columnNumber:5},void 0)},Xr=s=>{if(!s||s==="-")return"";const[n,t]=s.split(":"),r=parseInt(n,10),i=parseInt(t,10),a=r>=12?"":"",o=r%12||12;return i>0?`${a} ${o} ${i}`:`${a} ${o}`},Jr=["","","","","","","","","","","","","","","","","","","","","","","","","","",""],Yn=s=>{if(!s)return s;const n=s.replace(/$/g,"").trim(),t=n.split(" ");if(t.length>=2){const r=t[t.length-1];for(const i of Jr)if(r===i)return t.slice(0,-1).join(" ").trim()}for(const r of Jr)if(n.endsWith(r))return n.substring(0,n.length-r.length).trim()||n;return n},yr=s=>{const n=s.replace(/$/g,"").trim(),t=n.split(" ");if(t.length>=2){const r=t[t.length-1];for(const i of Jr)if(r===i)return i}for(const r of Jr)if(n.endsWith(r))return r;return""},Uo=["","","","","","",""],Yf=()=>{const{schedules:s,loadSchedulesFromAPI:n,addScheduleToAPI:t,deleteScheduleFromAPI:r}=ks(),{user:i}=Qt(),[a,o]=l.useState(!1),m=i!=null&&i.name?i.name.slice(-2):null,d=(i==null?void 0:i.name)===""?[""]:m?[m,...Uo.filter(f=>f!==m)]:Uo,p=f=>{const u=s.filter(h=>h.attendees?!!(h.attendees.includes(f)||h.attendees.includes("HV LAB")||h.attendees.includes("")&&["",""].includes(f)||h.attendees.includes("")&&["","",""].includes(f)):!1),b=h=>{const L=new Set;return h.filter(I=>{const M=`${Ae(new Date(I.start),"yyyy-MM-dd")}|${I.project}|${I.title}`;return L.has(M)?!1:(L.add(M),!0)})},x=b(u.filter(h=>co(new Date(h.start)))),j=b(u.filter(h=>Fc(new Date(h.start))&&!co(new Date(h.start))).sort((h,L)=>new Date(h.start).getTime()-new Date(L.start).getTime())).slice(0,3);return{todaySchedules:x,upcomingSchedules:j,member:f}};return e.jsxDEV("div",{className:"space-y-3 md:space-y-5 lg:space-y-4",children:[e.jsxDEV("div",{children:e.jsxDEV("div",{className:"dashboard-grid grid grid-cols-1 sm:grid-cols-2 ipad:grid-cols-2 ipad-lg:grid-cols-2 ipad-xl:grid-cols-3 ipad-2xl:grid-cols-3 2xl:grid-cols-4 gap-3 md:gap-4 lg:gap-4",children:d.map(f=>{const{todaySchedules:u,upcomingSchedules:b}=p(f),x=u.length+b.length,j=f===m;return e.jsxDEV("div",{className:`card p-3 sm:p-4 md:p-5 lg:p-4 ${j?"ring-1 ring-gray-300":""}`,children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-4 pb-3 border-b border-gray-200",children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("h3",{className:"font-bold text-lg md:text-lg text-gray-900",children:f},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:112,columnNumber:21},void 0),j&&e.jsxDEV("span",{className:"text-xs px-2 py-0.5 bg-gray-200 text-gray-600 rounded font-medium",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:114,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:111,columnNumber:19},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[j&&e.jsxDEV("button",{onClick:()=>o(!0),className:"p-1.5 hover:bg-gray-100 rounded-full transition-colors",title:" ",children:e.jsxDEV(ws,{className:"h-4 w-4 text-gray-700"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:124,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:119,columnNumber:23},void 0),e.jsxDEV("span",{className:`text-xs px-2.5 py-1 ${j&&u.length>0?"bg-amber-100 text-gray-900":"bg-gray-100 text-gray-900"} rounded-full font-semibold whitespace-nowrap`,children:[u.length," "]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:127,columnNumber:21},void 0),e.jsxDEV("span",{className:"text-xs px-2.5 py-1 bg-gray-100 text-gray-700 rounded-full font-semibold whitespace-nowrap",children:[b.length," "]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:130,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:117,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:110,columnNumber:17},void 0),u.length>0&&e.jsxDEV("div",{className:"mb-4",children:[e.jsxDEV("div",{className:"flex items-center gap-1.5 mb-2",children:[e.jsxDEV(hn,{className:"h-4 w-4 text-gray-900"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:140,columnNumber:23},void 0),e.jsxDEV("p",{className:"text-xs font-semibold text-gray-900 uppercase",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:141,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:139,columnNumber:21},void 0),e.jsxDEV("div",{className:"space-y-2",children:(()=>{const h=u.reduce((L,I)=>{const y=I.project||"-";return L[y]||(L[y]=[]),L[y].push(I),L},{});return Object.entries(h).map(([L,I])=>{const y=f===m;return e.jsxDEV("div",{className:`border-l-3 ${y?"border-gray-400":"border-gray-900"} ${y?"bg-amber-50":"bg-gray-50"} rounded-r overflow-hidden`,children:[e.jsxDEV("div",{className:`px-3 py-1 ${y?"bg-amber-100":"bg-gray-100"} border-b ${y?"border-amber-200":"border-gray-200"}`,children:e.jsxDEV("span",{className:"text-xs font-semibold text-gray-900",children:L},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:163,columnNumber:33},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:162,columnNumber:31},void 0),e.jsxDEV("div",{className:"px-3 py-1.5 space-y-0.5",children:I.map(M=>{const se=M.time&&M.time!=="-"?` - ${Xr(M.time)}`:"";return e.jsxDEV("p",{className:"font-medium text-gray-900 text-sm leading-snug",children:[" ",M.title,se]},M.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:169,columnNumber:37},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:165,columnNumber:31},void 0)]},L,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:158,columnNumber:29},void 0)})})()},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:143,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:138,columnNumber:19},void 0),b.length>0&&e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"flex items-center gap-1.5 mb-2",children:[e.jsxDEV(Em,{className:"h-4 w-4 text-gray-600"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:187,columnNumber:23},void 0),e.jsxDEV("p",{className:"text-xs font-semibold text-gray-600 uppercase",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:188,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:186,columnNumber:21},void 0),e.jsxDEV("div",{className:"space-y-2",children:(()=>{const h=b.reduce((L,I)=>{const y=Ae(new Date(I.start),"MM.dd",{locale:xt}),M=I.project||"-",se=`${y}|${M}`;return L[se]||(L[se]={date:y,project:M,schedules:[]}),L[se].schedules.push(I),L},{});return Object.values(h).map(({date:L,project:I,schedules:y})=>{const se=y.length>0&&Tc(new Date(y[0].start))?`${L} ()`:L;return e.jsxDEV("div",{className:"border-l-3 border-gray-400 bg-gray-50 rounded-r overflow-hidden",children:[e.jsxDEV("div",{className:"px-3 py-1 bg-gray-100 border-b border-gray-200 flex items-center justify-between",children:[e.jsxDEV("span",{className:"text-xs font-semibold text-gray-700",children:I},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:210,columnNumber:33},void 0),e.jsxDEV("span",{className:"text-xs text-gray-500 font-medium",children:se},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:211,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:209,columnNumber:31},void 0),e.jsxDEV("div",{className:"px-3 py-1.5 space-y-0.5",children:y.map(re=>{const w=re.time&&re.time!=="-"?` - ${Xr(re.time)}`:"";return e.jsxDEV("p",{className:"font-medium text-gray-900 text-sm leading-snug",children:[" ",re.title,w]},re.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:217,columnNumber:37},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:213,columnNumber:31},void 0)]},`${L}-${I}`,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:208,columnNumber:29},void 0)})})()},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:190,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:185,columnNumber:19},void 0),x===0&&e.jsxDEV("div",{className:"text-center py-8 text-gray-400 text-sm",children:"  "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:233,columnNumber:19},void 0)]},f,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:108,columnNumber:15},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:100,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:99,columnNumber:7},void 0),a&&e.jsxDEV(hl,{event:null,slotInfo:{start:new Date,end:new Date},onClose:()=>o(!1),onSave:async f=>{try{console.log("Dashboard: Adding schedule...",f),await t({id:Date.now().toString(),title:f.title||"",start:f.start||new Date,end:f.end||new Date,type:"other",project:f.projectId||f.projectName||"",location:"",attendees:f.assignedTo||[],description:f.description||"",time:f.time}),console.log("Dashboard: Schedule added successfully"),await n(),console.log("Dashboard: Schedules fetched, closing modal"),o(!1)}catch(u){console.error("Failed to add schedule:",u),alert("  : "+(u instanceof Error?u.message:"   "))}},onDelete:async f=>{try{await r(f),await n(),o(!1)}catch(u){console.error("Failed to delete schedule:",u),alert("  : "+(u instanceof Error?u.message:"   "))}}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:245,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:97,columnNumber:5},void 0)},us=()=>{const{user:s}=Qt(),{projects:n}=ks();return l.useMemo(()=>s?s.name===""?n.filter(r=>{const a=(r.manager?r.manager.split(",").map(m=>m.trim()):[]).includes(""),o=r.team&&Array.isArray(r.team)&&r.team.includes("");return a||o}):n:[],[s,n])},Kf=({value:s,detailValue:n="",onChange:t,onDetailChange:r,placeholder:i=" ",error:a})=>{const[o,m]=l.useState(!1),[d,p]=l.useState(s),[f,u]=l.useState(n),b=l.useRef(null);l.useEffect(()=>{const I=y=>{b.current&&!b.current.contains(y.target)&&m(!1)};return o&&document.addEventListener("mousedown",I),()=>{document.removeEventListener("mousedown",I)}},[o]),l.useEffect(()=>{p(s)},[s]),l.useEffect(()=>{u(n)},[n]);const x=()=>new Promise((I,y)=>{if(window.daum&&window.daum.Postcode){I(!0);return}const M=document.createElement("script");M.src="//t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js",M.async=!0,M.onload=()=>I(!0),M.onerror=()=>y(new Error("Kakao Postcode   ")),document.head.appendChild(M)}),j=I=>{const y=I.roadAddr||I.jibunAddr;p(y),t(y,f),m(!1)},h=I=>{const y=I.target.value;u(y),r&&r(y),d&&t(d,y)},L=async()=>{try{(!window.daum||!window.daum.Postcode)&&await x(),window.daum&&new window.daum.Postcode({oncomplete:function(I){const y={roadAddr:I.roadAddress,jibunAddr:I.jibunAddress||I.autoJibunAddress||"",zipNo:I.zonecode,bdNm:I.buildingName,siNm:I.sido,sggNm:I.sigungu,emdNm:I.bname,rn:I.roadname};j(y)}}).open()}catch(I){console.error("  :",I),alert("     .  .")}};return e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV("div",{className:"relative",children:[e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV("div",{className:"relative flex-1",children:[e.jsxDEV("input",{type:"text",value:d,onClick:()=>L(),onChange:I=>{p(I.target.value),t(I.target.value,f)},placeholder:i,className:`input pr-8 cursor-pointer ${a?"border-red-500":""}`,readOnly:!0},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AddressSearch.tsx",lineNumber:172,columnNumber:13},void 0),e.jsxDEV(Wr,{className:"absolute right-2 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400 pointer-events-none"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AddressSearch.tsx",lineNumber:184,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AddressSearch.tsx",lineNumber:171,columnNumber:11},void 0),e.jsxDEV("button",{type:"button",onClick:L,className:"px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg text-sm font-medium transition-colors",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AddressSearch.tsx",lineNumber:188,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AddressSearch.tsx",lineNumber:170,columnNumber:9},void 0),a&&e.jsxDEV("p",{className:"mt-1 text-sm text-red-600",children:a},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AddressSearch.tsx",lineNumber:197,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AddressSearch.tsx",lineNumber:169,columnNumber:7},void 0),e.jsxDEV("div",{children:e.jsxDEV("input",{type:"text",value:f,onChange:h,placeholder:" (/ )",className:"input",disabled:!d},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AddressSearch.tsx",lineNumber:203,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AddressSearch.tsx",lineNumber:202,columnNumber:7},void 0),d&&e.jsxDEV("div",{className:"p-3 bg-gray-50 rounded-lg",children:e.jsxDEV("p",{className:"text-sm text-gray-600",children:[e.jsxDEV("span",{className:"font-medium",children:" :"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AddressSearch.tsx",lineNumber:217,columnNumber:13},void 0)," ",d,f&&`, ${f}`]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AddressSearch.tsx",lineNumber:216,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AddressSearch.tsx",lineNumber:215,columnNumber:9},void 0),e.jsxDEV("div",{id:"address-search-container",style:{display:"none",width:"100%",height:"400px"}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AddressSearch.tsx",lineNumber:225,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AddressSearch.tsx",lineNumber:167,columnNumber:5},void 0)},So=["","","","","","",""],Xf=({project:s,onClose:n,onSave:t})=>{const{register:r,handleSubmit:i,setValue:a,reset:o,formState:{errors:m}}=or({defaultValues:{name:"",client:"",location:"",detailLocation:"",startDate:"",endDate:""}}),[d,p]=l.useState([]),[f,u]=l.useState(""),[b,x]=l.useState(""),[j,h]=l.useState("");l.useEffect(()=>{var se;if(s){const re=s.location?s.location.split(","):["",""],w=((se=re[0])==null?void 0:se.trim())||s.location||"",O=re.length>1?re.slice(1).join(",").trim():"";o({name:s.name,client:s.client||"",location:w,detailLocation:O,startDate:s.startDate?new Date(s.startDate).toISOString().split("T")[0]:"",endDate:s.endDate?new Date(s.endDate).toISOString().split("T")[0]:""}),x(w),h(O);const ie=s.manager?s.manager.split(",").map(de=>de.trim()).filter(de=>de&&de!==""):[];p(ie)}else o({name:"",client:"",location:"",detailLocation:"",startDate:"",endDate:""}),x(""),h(""),p([])},[s,o]);const L=se=>{p(re=>re.includes(se)?re.filter(w=>w!==se):[...re,se])},I=()=>{f.trim()&&!d.includes(f.trim())&&(p(se=>[...se,f.trim()]),u(""))},y=se=>{p(re=>re.filter(w=>w!==se))},M=se=>{console.log(" ProjectModal onSubmit - Raw form data:",se);const re=b&&j?`${b}, ${j}`:b||se.location,w={name:se.name,client:se.client,location:re,manager:d.join(", "),contractAmount:(s==null?void 0:s.contractAmount)??0,spent:(s==null?void 0:s.spent)??0,status:(s==null?void 0:s.status)??"planning",progress:(s==null?void 0:s.progress)??0,description:(s==null?void 0:s.description)??"",meetingNotes:(s==null?void 0:s.meetingNotes)??[],customerRequests:(s==null?void 0:s.customerRequests)??[],entrancePassword:(s==null?void 0:s.entrancePassword)??"",sitePassword:(s==null?void 0:s.sitePassword)??""};if(se.startDate&&se.startDate!=="")w.startDate=se.startDate,console.log(" Setting startDate from form:",se.startDate);else if(s!=null&&s.startDate){const O=typeof s.startDate=="string"&&s.startDate.includes("T")?s.startDate.split("T")[0]:s.startDate;w.startDate=O,console.log(" Keeping existing startDate:",w.startDate)}if(se.endDate&&se.endDate!=="")w.endDate=se.endDate,console.log(" Setting endDate from form:",se.endDate);else if(s!=null&&s.endDate){const O=typeof s.endDate=="string"&&s.endDate.includes("T")?s.endDate.split("T")[0]:s.endDate;w.endDate=O,console.log(" Keeping existing endDate:",w.endDate)}console.log(" ProjectModal onSubmit - Final formData:",w),t(w)};return e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-3 md:p-4",children:e.jsxDEV("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxDEV("div",{className:"flex items-center justify-between p-4 md:p-6 border-b sticky top-0 bg-white z-10",children:[e.jsxDEV("h2",{className:"text-lg md:text-xl font-semibold",children:s?" ":" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:177,columnNumber:11},void 0),e.jsxDEV("button",{onClick:n,className:"p-1.5 md:p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsxDEV(dt,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:184,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:180,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:176,columnNumber:9},void 0),e.jsxDEV("form",{onSubmit:i(M),className:"p-4 md:p-6 space-y-4 md:space-y-6",children:[e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:193,columnNumber:15},void 0),e.jsxDEV("input",{...r("name",{required:" "}),type:"text",className:"input"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:196,columnNumber:15},void 0),m.name&&e.jsxDEV("p",{className:"mt-1 text-sm text-red-600",children:String(m.name.message)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:202,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:192,columnNumber:13},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:207,columnNumber:15},void 0),e.jsxDEV("input",{...r("client"),type:"text",className:"input"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:210,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:206,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:191,columnNumber:11},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:220,columnNumber:13},void 0),e.jsxDEV(Kf,{value:b,detailValue:j,onChange:(se,re)=>{x(se),h(re||""),a("location",se),a("detailLocation",re||"")},onDetailChange:se=>{h(se),a("detailLocation",se)},placeholder:"  ",required:!0,error:m.location?String(m.location.message):void 0},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:223,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:219,columnNumber:11},void 0),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:246,columnNumber:15},void 0),e.jsxDEV("input",{...r("startDate"),type:"date",className:"input"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:249,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:245,columnNumber:13},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:257,columnNumber:15},void 0),e.jsxDEV("input",{...r("endDate"),type:"date",className:"input"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:260,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:256,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:244,columnNumber:11},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" (  )"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:270,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex flex-wrap gap-1.5 mb-2",children:[So.map(se=>e.jsxDEV("button",{type:"button",onClick:()=>L(se),className:`px-2.5 py-1.5 rounded border transition-colors text-sm ${d.includes(se)?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:se},se,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:278,columnNumber:17},void 0)),d.filter(se=>!So.includes(se)).map(se=>e.jsxDEV("button",{type:"button",onClick:()=>y(se),className:"px-2.5 py-1.5 rounded border transition-colors text-sm bg-gray-900 text-white border-gray-900 hover:bg-gray-800",children:[se," "]},se,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:296,columnNumber:19},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:275,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV("input",{type:"text",value:f,onChange:se=>u(se.target.value),onKeyPress:se=>{se.key==="Enter"&&(se.preventDefault(),I())},placeholder:"   ",className:"flex-1 px-3 py-1.5 border border-gray-300 rounded-lg text-xs focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:310,columnNumber:15},void 0),e.jsxDEV("button",{type:"button",onClick:I,className:"px-3 py-1.5 bg-gray-100 text-gray-700 rounded-lg text-xs font-medium hover:bg-gray-200 transition-colors",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:323,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:309,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:269,columnNumber:11},void 0),e.jsxDEV("div",{className:"flex justify-end space-x-2 md:space-x-3 pt-4 border-t",children:[e.jsxDEV("button",{type:"button",onClick:n,className:"btn btn-outline text-sm md:text-base",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:336,columnNumber:13},void 0),e.jsxDEV("button",{type:"submit",className:"btn btn-primary text-sm md:text-base",children:s?"":""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:343,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:335,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:189,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:174,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:173,columnNumber:5},void 0)},Jf=({projectName:s,meetingNotes:n,onClose:t,onSave:r,onDelete:i})=>{const[a,o]=l.useState(""),[m,d]=l.useState(new Date().toISOString().split("T")[0]),[p,f]=l.useState(!1),u=()=>{f(!0),o(""),d(new Date().toISOString().split("T")[0])},b=()=>{if(!a.trim()){alert(" ");return}if(!m){alert(" ");return}r(a.trim(),new Date(m)),o(""),d(new Date().toISOString().split("T")[0]),f(!1)},x=()=>{o(""),d(new Date().toISOString().split("T")[0]),f(!1)},j=h=>{window.confirm("   ?")&&i(h)};return e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",onClick:t,children:e.jsxDEV("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[80vh] flex flex-col shadow-xl",onClick:h=>h.stopPropagation(),children:[e.jsxDEV("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[e.jsxDEV("div",{children:[e.jsxDEV("h2",{className:"text-lg font-semibold text-gray-900",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/MeetingNotesModal.tsx",lineNumber:76,columnNumber:13},void 0),e.jsxDEV("p",{className:"text-sm text-gray-500 mt-0.5",children:s},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/MeetingNotesModal.tsx",lineNumber:77,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/MeetingNotesModal.tsx",lineNumber:75,columnNumber:11},void 0),e.jsxDEV("button",{onClick:t,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsxDEV(dt,{className:"h-5 w-5 text-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/MeetingNotesModal.tsx",lineNumber:83,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/MeetingNotesModal.tsx",lineNumber:79,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/MeetingNotesModal.tsx",lineNumber:74,columnNumber:9},void 0),e.jsxDEV("div",{className:"flex-1 overflow-y-auto p-6",children:[!p&&e.jsxDEV("button",{onClick:u,className:"w-full mb-4 px-4 py-2.5 border border-gray-300 rounded text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:"+ "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/MeetingNotesModal.tsx",lineNumber:91,columnNumber:13},void 0),p&&e.jsxDEV("div",{className:"mb-4 p-4 bg-gray-50 rounded border border-gray-200",children:[e.jsxDEV("div",{className:"mb-3",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/MeetingNotesModal.tsx",lineNumber:103,columnNumber:17},void 0),e.jsxDEV("input",{type:"date",value:m,onChange:h=>d(h.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded text-sm focus:outline-none focus:border-gray-900"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/MeetingNotesModal.tsx",lineNumber:106,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/MeetingNotesModal.tsx",lineNumber:102,columnNumber:15},void 0),e.jsxDEV("div",{className:"mb-3",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/MeetingNotesModal.tsx",lineNumber:114,columnNumber:17},void 0),e.jsxDEV("textarea",{value:a,onChange:h=>o(h.target.value),placeholder:"  ",className:"w-full px-3 py-2 border border-gray-300 rounded text-sm focus:outline-none focus:border-gray-900 resize-none",rows:4},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/MeetingNotesModal.tsx",lineNumber:117,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/MeetingNotesModal.tsx",lineNumber:113,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV("button",{onClick:b,className:"px-4 py-1.5 bg-gray-900 text-white text-sm rounded hover:bg-gray-800 transition-colors",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/MeetingNotesModal.tsx",lineNumber:126,columnNumber:17},void 0),e.jsxDEV("button",{onClick:x,className:"px-4 py-1.5 bg-gray-200 text-gray-700 text-sm rounded hover:bg-gray-300 transition-colors",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/MeetingNotesModal.tsx",lineNumber:132,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/MeetingNotesModal.tsx",lineNumber:125,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/MeetingNotesModal.tsx",lineNumber:101,columnNumber:13},void 0),e.jsxDEV("div",{className:"space-y-3",children:n.length===0?e.jsxDEV("div",{className:"text-center py-12 text-gray-400 text-sm",children:"   "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/MeetingNotesModal.tsx",lineNumber:145,columnNumber:15},void 0):n.map(h=>e.jsxDEV("div",{className:"p-4 bg-white border border-gray-200 rounded hover:border-gray-300 transition-colors group",children:e.jsxDEV("div",{className:"flex items-start justify-between gap-3",children:[e.jsxDEV("div",{className:"flex-1 min-w-0",children:[e.jsxDEV("p",{className:"text-sm text-gray-600 mb-2",children:Ae(new Date(h.date),"yyyy.MM.dd (eee)",{locale:xt})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/MeetingNotesModal.tsx",lineNumber:156,columnNumber:23},void 0),e.jsxDEV("p",{className:"text-sm text-gray-900 whitespace-pre-wrap break-words",children:h.content},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/MeetingNotesModal.tsx",lineNumber:159,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/MeetingNotesModal.tsx",lineNumber:155,columnNumber:21},void 0),e.jsxDEV("button",{onClick:()=>j(h.id),className:"opacity-0 group-hover:opacity-100 px-2 py-1 text-xs text-gray-500 hover:text-red-600 transition-all",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/MeetingNotesModal.tsx",lineNumber:163,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/MeetingNotesModal.tsx",lineNumber:154,columnNumber:19},void 0)},h.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/MeetingNotesModal.tsx",lineNumber:150,columnNumber:17},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/MeetingNotesModal.tsx",lineNumber:143,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/MeetingNotesModal.tsx",lineNumber:88,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/MeetingNotesModal.tsx",lineNumber:69,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/MeetingNotesModal.tsx",lineNumber:65,columnNumber:5},void 0)},Qf=({projectName:s,customerRequests:n,onClose:t,onSave:r,onToggleComplete:i,onDelete:a})=>{const[o,m]=l.useState(""),[d,p]=l.useState(new Date().toISOString().split("T")[0]),[f,u]=l.useState(!1),b=()=>{u(!0),m(""),p(new Date().toISOString().split("T")[0])},x=()=>{if(!o.trim()){alert(" ");return}if(!d){alert(" ");return}r(o.trim(),new Date(d)),m(""),p(new Date().toISOString().split("T")[0]),u(!1)},j=()=>{m(""),p(new Date().toISOString().split("T")[0]),u(!1)},h=M=>{window.confirm("  ?")&&a(M)},L=M=>{i(M)},I=n.filter(M=>!M.completed),y=n.filter(M=>M.completed);return e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",onClick:t,children:e.jsxDEV("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[80vh] flex flex-col shadow-xl",onClick:M=>M.stopPropagation(),children:[e.jsxDEV("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[e.jsxDEV("div",{children:[e.jsxDEV("h2",{className:"text-lg font-semibold text-gray-900",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:86,columnNumber:13},void 0),e.jsxDEV("p",{className:"text-sm text-gray-500 mt-0.5",children:s},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:87,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:85,columnNumber:11},void 0),e.jsxDEV("button",{onClick:t,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsxDEV(dt,{className:"h-5 w-5 text-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:93,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:89,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:84,columnNumber:9},void 0),e.jsxDEV("div",{className:"flex-1 overflow-y-auto p-6",children:[!f&&e.jsxDEV("button",{onClick:b,className:"w-full mb-4 px-4 py-2.5 border border-gray-300 rounded text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:"+ "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:101,columnNumber:13},void 0),f&&e.jsxDEV("div",{className:"mb-4 p-4 bg-gray-50 rounded border border-gray-200",children:[e.jsxDEV("div",{className:"mb-3",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:113,columnNumber:17},void 0),e.jsxDEV("input",{type:"date",value:d,onChange:M=>p(M.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded text-sm focus:outline-none focus:border-gray-900"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:116,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:112,columnNumber:15},void 0),e.jsxDEV("div",{className:"mb-3",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:124,columnNumber:17},void 0),e.jsxDEV("textarea",{value:o,onChange:M=>m(M.target.value),placeholder:"  ",className:"w-full px-3 py-2 border border-gray-300 rounded text-sm focus:outline-none focus:border-gray-900 resize-none",rows:3},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:127,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:123,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV("button",{onClick:x,className:"px-4 py-1.5 bg-gray-900 text-white text-sm rounded hover:bg-gray-800 transition-colors",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:136,columnNumber:17},void 0),e.jsxDEV("button",{onClick:j,className:"px-4 py-1.5 bg-gray-200 text-gray-700 text-sm rounded hover:bg-gray-300 transition-colors",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:142,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:135,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:111,columnNumber:13},void 0),e.jsxDEV("div",{className:"space-y-2",children:n.length===0?e.jsxDEV("div",{className:"text-center py-12 text-gray-400 text-sm",children:"  "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:155,columnNumber:15},void 0):e.jsxDEV(e.Fragment,{children:[I.map(M=>e.jsxDEV("div",{className:"p-3 bg-white border border-gray-300 rounded hover:border-gray-400 transition-colors group",children:e.jsxDEV("div",{className:"flex items-start gap-3",children:[e.jsxDEV("button",{onClick:()=>L(M.id),className:"mt-0.5 flex-shrink-0",children:e.jsxDEV(Dc,{className:"h-4 w-4 text-gray-400"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:171,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:167,columnNumber:23},void 0),e.jsxDEV("div",{className:"flex-1 min-w-0",children:[e.jsxDEV("p",{className:"text-sm text-gray-900 whitespace-pre-wrap break-words",children:M.content},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:174,columnNumber:25},void 0),e.jsxDEV("p",{className:"text-xs text-gray-500 mt-1",children:Ae(new Date(M.createdAt),"yyyy.MM.dd",{locale:xt})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:177,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:173,columnNumber:23},void 0),e.jsxDEV("button",{onClick:()=>h(M.id),className:"opacity-0 group-hover:opacity-100 px-2 py-1 text-xs text-gray-500 hover:text-red-600 transition-all",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:181,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:166,columnNumber:21},void 0)},M.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:162,columnNumber:19},void 0)),y.map(M=>e.jsxDEV("div",{className:"p-3 bg-gray-50 border border-gray-200 rounded hover:border-gray-300 transition-colors group",children:e.jsxDEV("div",{className:"flex items-start gap-3",children:[e.jsxDEV("button",{onClick:()=>L(M.id),className:"mt-0.5 flex-shrink-0",children:e.jsxDEV(Vc,{className:"h-4 w-4 text-gray-900"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:202,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:198,columnNumber:23},void 0),e.jsxDEV("div",{className:"flex-1 min-w-0",children:[e.jsxDEV("p",{className:"text-sm text-gray-500 line-through whitespace-pre-wrap break-words",children:M.content},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:205,columnNumber:25},void 0),e.jsxDEV("p",{className:"text-xs text-gray-400 mt-1",children:Ae(new Date(M.createdAt),"yyyy.MM.dd",{locale:xt})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:208,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:204,columnNumber:23},void 0),e.jsxDEV("button",{onClick:()=>h(M.id),className:"opacity-0 group-hover:opacity-100 px-2 py-1 text-xs text-gray-500 hover:text-red-600 transition-all",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:212,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:197,columnNumber:21},void 0)},M.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:193,columnNumber:19},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:159,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:153,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:98,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:79,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:75,columnNumber:5},void 0)},Gf=({projectName:s,entrancePassword:n,sitePassword:t,onClose:r,onSave:i})=>{const[a,o]=l.useState(n||""),[m,d]=l.useState(t||""),[p,f]=l.useState(!1),u=()=>{f(!0)},b=()=>{i(a,m),f(!1)},x=()=>{o(n||""),d(t||""),f(!1)};return e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",onClick:r,children:e.jsxDEV("div",{className:"bg-white rounded-lg max-w-md w-full shadow-xl",onClick:j=>j.stopPropagation(),children:[e.jsxDEV("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[e.jsxDEV("div",{children:[e.jsxDEV("h2",{className:"text-lg font-semibold text-gray-900",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/SitePasswordModal.tsx",lineNumber:50,columnNumber:13},void 0),e.jsxDEV("p",{className:"text-sm text-gray-500 mt-0.5",children:s},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/SitePasswordModal.tsx",lineNumber:51,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/SitePasswordModal.tsx",lineNumber:49,columnNumber:11},void 0),e.jsxDEV("button",{onClick:r,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsxDEV(dt,{className:"h-5 w-5 text-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/SitePasswordModal.tsx",lineNumber:57,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/SitePasswordModal.tsx",lineNumber:53,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/SitePasswordModal.tsx",lineNumber:48,columnNumber:9},void 0),e.jsxDEV("div",{className:"p-6 space-y-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/SitePasswordModal.tsx",lineNumber:65,columnNumber:13},void 0),p?e.jsxDEV("input",{type:"text",value:a,onChange:j=>o(j.target.value),placeholder:"  ",className:"w-full px-3 py-2 border border-gray-300 rounded text-sm focus:outline-none focus:border-gray-900"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/SitePasswordModal.tsx",lineNumber:69,columnNumber:15},void 0):e.jsxDEV("div",{className:"px-3 py-2 bg-gray-50 border border-gray-200 rounded",children:a?e.jsxDEV("span",{className:"text-sm font-mono text-gray-900",children:a},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/SitePasswordModal.tsx",lineNumber:79,columnNumber:19},void 0):e.jsxDEV("span",{className:"text-sm text-gray-400",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/SitePasswordModal.tsx",lineNumber:81,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/SitePasswordModal.tsx",lineNumber:77,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/SitePasswordModal.tsx",lineNumber:64,columnNumber:11},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/SitePasswordModal.tsx",lineNumber:89,columnNumber:13},void 0),p?e.jsxDEV("input",{type:"text",value:m,onChange:j=>d(j.target.value),placeholder:"  ",className:"w-full px-3 py-2 border border-gray-300 rounded text-sm focus:outline-none focus:border-gray-900"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/SitePasswordModal.tsx",lineNumber:93,columnNumber:15},void 0):e.jsxDEV("div",{className:"px-3 py-2 bg-gray-50 border border-gray-200 rounded",children:m?e.jsxDEV("span",{className:"text-sm font-mono text-gray-900",children:m},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/SitePasswordModal.tsx",lineNumber:103,columnNumber:19},void 0):e.jsxDEV("span",{className:"text-sm text-gray-400",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/SitePasswordModal.tsx",lineNumber:105,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/SitePasswordModal.tsx",lineNumber:101,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/SitePasswordModal.tsx",lineNumber:88,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/SitePasswordModal.tsx",lineNumber:62,columnNumber:9},void 0),e.jsxDEV("div",{className:"border-t border-gray-200 px-6 py-4 flex gap-2",children:p?e.jsxDEV(e.Fragment,{children:[e.jsxDEV("button",{onClick:b,className:"flex-1 px-4 py-2 bg-gray-900 text-white text-sm rounded hover:bg-gray-800 transition-colors",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/SitePasswordModal.tsx",lineNumber:116,columnNumber:15},void 0),e.jsxDEV("button",{onClick:x,className:"flex-1 px-4 py-2 bg-gray-200 text-gray-700 text-sm rounded hover:bg-gray-300 transition-colors",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/SitePasswordModal.tsx",lineNumber:122,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/SitePasswordModal.tsx",lineNumber:115,columnNumber:13},void 0):e.jsxDEV(e.Fragment,{children:[e.jsxDEV("button",{onClick:u,className:"flex-1 px-4 py-2 bg-gray-200 text-gray-700 text-sm rounded hover:bg-gray-300 transition-colors",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/SitePasswordModal.tsx",lineNumber:131,columnNumber:15},void 0),e.jsxDEV("button",{onClick:r,className:"flex-1 px-4 py-2 bg-gray-900 text-white text-sm rounded hover:bg-gray-800 transition-colors",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/SitePasswordModal.tsx",lineNumber:137,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/SitePasswordModal.tsx",lineNumber:130,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/SitePasswordModal.tsx",lineNumber:113,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/SitePasswordModal.tsx",lineNumber:43,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/SitePasswordModal.tsx",lineNumber:39,columnNumber:5},void 0)},Zf=({projectName:s,onClose:n})=>{var o;const[t,r]=l.useState({clientName:"",phoneNumber:"",address:"",startDate:"",endDate:"",area:"",designFee:"",bankAccount:" 487102-01-264798 ",companyAddress:"  277  109",representative:"  "}),i=()=>{window.print()},a=m=>{const d=Number(m.replace(/,/g,""));return isNaN(d)?"":d.toLocaleString()};return e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 print:relative print:bg-white",children:e.jsxDEV("div",{className:"bg-white rounded-lg w-full max-w-4xl mx-4 max-h-[90vh] overflow-y-auto print:max-h-none print:mx-0 print:rounded-none",children:[e.jsxDEV("div",{className:"flex items-center justify-between p-4 border-b print:hidden",children:[e.jsxDEV("h2",{className:"text-lg font-bold text-gray-900",children:"  "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:40,columnNumber:13},void 0),e.jsxDEV("button",{onClick:n,className:"p-1 hover:bg-gray-100 rounded-full",children:e.jsxDEV(dt,{className:"h-5 w-5 text-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:45,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:41,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:39,columnNumber:11},void 0),e.jsxDEV("div",{className:"p-6 space-y-4 print:hidden",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:52,columnNumber:15},void 0),e.jsxDEV("input",{type:"text",value:t.clientName,onChange:m=>r({...t,clientName:m.target.value}),placeholder:" ",className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:53,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:51,columnNumber:13},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:63,columnNumber:15},void 0),e.jsxDEV("input",{type:"text",value:t.phoneNumber,onChange:m=>r({...t,phoneNumber:m.target.value}),placeholder:"010-0000-0000",className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:64,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:62,columnNumber:13},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:74,columnNumber:15},void 0),e.jsxDEV("input",{type:"text",value:t.address,onChange:m=>r({...t,address:m.target.value}),placeholder:" ",className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:75,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:73,columnNumber:13},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:86,columnNumber:17},void 0),e.jsxDEV("input",{type:"date",value:t.startDate,onChange:m=>r({...t,startDate:m.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:87,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:85,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:95,columnNumber:17},void 0),e.jsxDEV("input",{type:"date",value:t.endDate,onChange:m=>r({...t,endDate:m.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:96,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:94,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:84,columnNumber:13},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:106,columnNumber:15},void 0),e.jsxDEV("input",{type:"text",value:t.area,onChange:m=>r({...t,area:m.target.value}),placeholder:": 21.9(72.37m2)",className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:107,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:105,columnNumber:13},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:117,columnNumber:15},void 0),e.jsxDEV("input",{type:"text",value:a(t.designFee),onChange:m=>{const d=m.target.value.replace(/,/g,"");/^\d*$/.test(d)&&r({...t,designFee:d})},placeholder:" ",className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:118,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:116,columnNumber:13},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:133,columnNumber:15},void 0),e.jsxDEV("input",{type:"text",value:t.bankAccount,onChange:m=>r({...t,bankAccount:m.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:134,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:132,columnNumber:13},void 0),e.jsxDEV("button",{onClick:i,disabled:!t.clientName||!t.phoneNumber||!t.address,className:"w-full py-2 bg-gray-900 text-white rounded-lg hover:bg-gray-800 disabled:bg-gray-300 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[e.jsxDEV(Am,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:147,columnNumber:15},void 0),""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:142,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:50,columnNumber:11},void 0),e.jsxDEV("div",{className:"hidden print:block p-16",children:e.jsxDEV("div",{className:"space-y-16",children:[e.jsxDEV("h1",{className:"text-2xl font-bold text-gray-900",children:"  "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:156,columnNumber:15},void 0),e.jsxDEV("div",{className:"space-y-8 text-base leading-relaxed",children:[e.jsxDEV("div",{className:"flex items-baseline",children:[e.jsxDEV("span",{className:"w-48",children:"1.  :"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:161,columnNumber:19},void 0),e.jsxDEV("span",{className:"flex-1",children:t.clientName},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:162,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:160,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex items-baseline",children:[e.jsxDEV("span",{className:"w-48",children:"2.  :"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:166,columnNumber:19},void 0),e.jsxDEV("span",{className:"flex-1",children:t.phoneNumber},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:167,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:165,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex items-baseline",children:[e.jsxDEV("span",{className:"w-48",children:"3.  :"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:171,columnNumber:19},void 0),e.jsxDEV("span",{className:"flex-1",children:t.address},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:172,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:170,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex items-baseline",children:[e.jsxDEV("span",{className:"w-48",children:"3.  :"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:176,columnNumber:19},void 0),e.jsxDEV("span",{className:"flex-1",children:t.startDate&&t.endDate?e.jsxDEV(e.Fragment,{children:[Ae(new Date(t.startDate),"yyyy",{locale:xt}),"",Ae(new Date(t.startDate),"MM",{locale:xt}),"",Ae(new Date(t.startDate),"dd",{locale:xt})," ~ ",Ae(new Date(t.endDate),"yyyy",{locale:xt}),"",Ae(new Date(t.endDate),"MM",{locale:xt}),"",Ae(new Date(t.endDate),"dd",{locale:xt})," ()"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:179,columnNumber:23},void 0):""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:177,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:175,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex items-baseline",children:[e.jsxDEV("span",{className:"w-48",children:"5.  :"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:187,columnNumber:19},void 0),e.jsxDEV("span",{className:"flex-1",children:t.area},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:188,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:186,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex flex-col",children:[e.jsxDEV("div",{className:"flex items-baseline",children:[e.jsxDEV("span",{className:"w-48",children:"6.  :"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:193,columnNumber:21},void 0),e.jsxDEV("span",{className:"flex-1",children:[t.designFee?`${a(t.designFee)}`:""," ()"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:194,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:192,columnNumber:19},void 0),t.bankAccount&&e.jsxDEV("div",{className:"ml-48 mt-2 text-center",children:t.bankAccount},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:199,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:191,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:159,columnNumber:15},void 0),e.jsxDEV("div",{className:"mt-20 space-y-3",children:[e.jsxDEV("div",{className:"text-base font-bold",children:"*"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:206,columnNumber:17},void 0),e.jsxDEV("div",{className:"ml-8 space-y-2 text-base",children:[e.jsxDEV("div",{children:[" : ",t.address]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:208,columnNumber:19},void 0),e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV("span",{children:[" : ",(o=t.clientName)==null?void 0:o.split("").join("    ")]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:210,columnNumber:21},void 0),e.jsxDEV("span",{className:"ml-8",children:"()"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:211,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:209,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:207,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:205,columnNumber:15},void 0),e.jsxDEV("div",{className:"mt-12 space-y-3",children:[e.jsxDEV("div",{className:"text-base font-bold",children:"*"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:218,columnNumber:17},void 0),e.jsxDEV("div",{className:"ml-8 space-y-2 text-base",children:[e.jsxDEV("div",{children:[" : ",t.companyAddress]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:220,columnNumber:19},void 0),e.jsxDEV("div",{children:" : HV LAB ()"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:221,columnNumber:19},void 0),e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV("span",{children:[" : ",t.representative]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:223,columnNumber:21},void 0),e.jsxDEV("div",{className:"ml-8 inline-flex items-center justify-center w-14 h-14 border-2 border-red-600",children:e.jsxDEV("span",{className:"text-red-600 text-xs font-bold leading-tight text-center",children:["",e.jsxDEV("br",{},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:226,columnNumber:28},void 0),""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:225,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:224,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:222,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:219,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:217,columnNumber:15},void 0),e.jsxDEV("div",{className:"border-t-[3px] border-gray-900 mt-32 pt-12 flex justify-between items-end",children:[e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV("span",{className:"text-4xl font-bold",children:"H"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:236,columnNumber:19},void 0),e.jsxDEV("span",{className:"inline-block w-12 h-1 bg-gray-900 mx-2"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:237,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:235,columnNumber:17},void 0),e.jsxDEV("div",{className:"text-right",children:[e.jsxDEV("div",{className:"text-xs tracking-widest mb-1",children:"ARCHITECTURE & INTERIOR"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:240,columnNumber:19},void 0),e.jsxDEV("div",{className:"text-3xl font-bold",children:"HV LAB"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:241,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:239,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:234,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:154,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:153,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:37,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:36,columnNumber:7},void 0),e.jsxDEV("style",{children:`
        @media print {
          @page {
            size: A4;
            margin: 0;
          }
          body * {
            visibility: hidden;
          }
          .print\\:block, .print\\:block * {
            visibility: visible;
          }
          .print\\:hidden {
            display: none !important;
          }
          .print\\:relative {
            position: relative !important;
            background: white !important;
          }
        }
      `},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:250,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:35,columnNumber:5},void 0)},eg=()=>{const{loadProjectsFromAPI:s,addProjectToAPI:n,updateProjectInAPI:t,deleteProjectFromAPI:r}=ks(),{user:i}=Qt(),a=us(),[o,m]=l.useState("in-progress"),[d,p]=l.useState("grid"),[f,u]=l.useState(!1),[b,x]=l.useState(null),[j,h]=l.useState(!1),[L,I]=l.useState(!1),[y,M]=l.useState(!1),[se,re]=l.useState(!1),[w,O]=l.useState(null),ie=(A,ce)=>`lastViewed_${i==null?void 0:i.id}_${A}_${ce}`,de=(A,ce)=>{const V=ie(A,ce),_=localStorage.getItem(V);return _?parseInt(_,10):0},ue=(A,ce)=>{const V=ie(A,ce);localStorage.setItem(V,Date.now().toString())},ve=(A,ce)=>{const V=de(A.id,ce);return ce==="meeting"?(A.meetingNotes||[]).some(me=>(me.createdAt?new Date(me.createdAt).getTime():new Date(me.date).getTime())>V):(A.customerRequests||[]).some(me=>!me.completed)};l.useEffect(()=>{s().catch(A=>{console.error("Failed to load projects:",A),P.error("   ")})},[s]),l.useEffect(()=>{const A=()=>{x(null),u(!0)};return window.addEventListener("headerAddButtonClick",A),()=>window.removeEventListener("headerAddButtonClick",A)},[]);const Q=(A,ce)=>{if(!A||!ce)return 0;const V=new Date,_=new Date(A),me=new Date(ce);if(V<_)return 0;if(V>me)return 100;const xe=Math.ceil((me.getTime()-_.getTime())/(1e3*60*60*24)),Me=Math.ceil((V.getTime()-_.getTime())/(1e3*60*60*24)),Fe=Math.round(Me/xe*100);return Math.min(100,Math.max(0,Fe))},he=A=>{x(A),u(!0)},Ne=async(A,ce)=>{if(window.confirm(`"${ce}"  ?

    .`))try{await r(A),P.success(" ")}catch(V){console.error("Failed to delete project:",V),P.error("  ")}},Ve=async A=>{try{if(b)await t(b.id,A),P.success(" ");else{const ce={id:"",...A,team:A.team||[]};await n(ce),P.success(" "),m(A.status||"planning")}u(!1),x(null)}catch(ce){console.error("Failed to save project:",ce),P.error("  ")}},je=async(A,ce)=>{try{await t(A,{status:ce}),P.success(" ")}catch(V){console.error("Failed to update project status:",V),P.error("  ")}},Be=A=>{O(A),h(!0),ue(A.id,"meeting")},Xe=A=>{O(A),I(!0),ue(A.id,"request")},le=A=>{O(A),M(!0)},Le=A=>{O(A),re(!0)},Ue=async(A,ce)=>{if(!w)return;const V=w.entrancePassword,_=w.sitePassword;O({...w,entrancePassword:A,sitePassword:ce});try{await t(w.id,{entrancePassword:A,sitePassword:ce}),P.success(" ")}catch(me){console.error("Failed to save passwords:",me),P.error("  "),O({...w,entrancePassword:V,sitePassword:_})}},Ce=async(A,ce)=>{if(!w)return;const V={id:Date.now().toString(),content:A,date:ce,createdAt:new Date},_=[...w.meetingNotes||[],V];O({...w,meetingNotes:_});try{await t(w.id,{meetingNotes:_}),P.success("  ")}catch(me){console.error("Failed to save meeting note:",me),P.error("   "),O({...w,meetingNotes:w.meetingNotes||[]})}},Re=async(A,ce)=>{if(!w)return;const V={id:Date.now().toString(),content:A,completed:!1,createdAt:ce},_=[...w.customerRequests||[],V];O({...w,customerRequests:_});try{await t(w.id,{customerRequests:_}),P.success("  ")}catch(me){console.error("Failed to save customer request:",me),P.error("   "),O({...w,customerRequests:w.customerRequests||[]})}},We=async A=>{if(!w)return;const ce=w.customerRequests||[],V=ce.map(_=>_.id===A?{..._,completed:!_.completed}:_);O({...w,customerRequests:V});try{await t(w.id,{customerRequests:V}),P.success("  ")}catch(_){console.error("Failed to toggle request:",_),P.error("  "),O({...w,customerRequests:ce})}},Te=async A=>{if(!w)return;const ce=w.meetingNotes||[],V=ce.filter(_=>_.id!==A);O({...w,meetingNotes:V});try{await t(w.id,{meetingNotes:V}),P.success("  ")}catch(_){console.error("Failed to delete meeting note:",_),P.error(" "),O({...w,meetingNotes:ce})}},qe=async A=>{if(!w)return;const ce=w.customerRequests||[],V=ce.filter(_=>_.id!==A);O({...w,customerRequests:V});try{await t(w.id,{customerRequests:V}),P.success("  ")}catch(_){console.error("Failed to delete customer request:",_),P.error(" "),O({...w,customerRequests:ce})}},R=({project:A})=>{const V={planning:{label:"",color:"bg-white text-gray-700 border-gray-300"},"in-progress":{label:"",color:"bg-white text-gray-900 border-gray-300"},completed:{label:"",color:"bg-gray-900 text-white border-gray-900"},"on-hold":{label:"",color:"bg-white text-gray-600 border-gray-300"}}[A.status];return e.jsxDEV("select",{value:A.status,onChange:_=>je(A.id,_.target.value),className:Xt("px-2 py-1 text-xs font-medium border rounded cursor-pointer","focus:outline-none focus:ring-2 focus:ring-gray-500",V.color),onClick:_=>_.stopPropagation(),children:[e.jsxDEV("option",{value:"planning",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:395,columnNumber:9},void 0),e.jsxDEV("option",{value:"in-progress",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:396,columnNumber:9},void 0),e.jsxDEV("option",{value:"completed",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:397,columnNumber:9},void 0),e.jsxDEV("option",{value:"on-hold",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:398,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:385,columnNumber:7},void 0)},pe=(()=>{let A=a;return o!=="all"&&(A=A.filter(ce=>ce.status===o)),A})(),He={planning:a.filter(A=>A.status==="planning").length,inProgress:a.filter(A=>A.status==="in-progress").length,completed:a.filter(A=>A.status==="completed").length,onHold:a.filter(A=>A.status==="on-hold").length},Z=({project:A})=>{var V,_,me,xe;const ce=Q(A.startDate,A.endDate);return e.jsxDEV("div",{className:"card p-3 md:p-4 hover:border-gray-400 transition-colors",children:[e.jsxDEV("div",{className:"flex items-start justify-between mb-3 md:mb-4",children:[e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("h3",{className:"font-bold text-base md:text-lg text-gray-900",children:A.name},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:432,columnNumber:13},void 0),e.jsxDEV("p",{className:"text-xs md:text-sm text-gray-600 mt-1",children:[A.client,""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:433,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:431,columnNumber:11},void 0),e.jsxDEV("div",{className:"flex flex-col items-end gap-2",children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[A.status==="planning"&&e.jsxDEV("button",{onClick:()=>Le(A),className:"px-2 py-1 text-xs font-medium text-white bg-gray-700 hover:bg-gray-800 rounded transition-colors",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:438,columnNumber:17},void 0),e.jsxDEV(R,{project:A},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:445,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:436,columnNumber:13},void 0),e.jsxDEV("button",{onClick:()=>he(A),className:"text-xs text-gray-600 hover:text-gray-900",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:447,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:435,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:430,columnNumber:9},void 0),e.jsxDEV("div",{className:"space-y-1.5 md:space-y-2 mb-3 md:mb-4 text-xs md:text-sm",children:[e.jsxDEV("div",{className:"text-gray-600",children:[": ",A.location]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:457,columnNumber:11},void 0),e.jsxDEV("div",{className:"text-gray-600",children:[": ",A.startDate&&A.endDate?`${Ae(A.startDate,"MM.dd (eee)",{locale:xt})} - ${Ae(A.endDate,"MM.dd (eee)",{locale:xt})}`:""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:460,columnNumber:11},void 0),e.jsxDEV("div",{className:"text-gray-600",children:[": ",A.manager]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:465,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:456,columnNumber:9},void 0),e.jsxDEV("div",{className:"mb-3 md:mb-4",children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-1.5 md:mb-2",children:[e.jsxDEV("span",{className:"text-[10px] md:text-xs text-gray-600",children:" ( )"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:472,columnNumber:13},void 0),e.jsxDEV("span",{className:"text-xs md:text-sm font-medium text-gray-900",children:[ce,"%"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:473,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:471,columnNumber:11},void 0),e.jsxDEV("div",{className:"w-full bg-gray-200 h-1",children:e.jsxDEV("div",{className:"bg-gray-900 h-1 transition-all",style:{width:`${ce}%`}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:476,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:475,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:470,columnNumber:9},void 0),e.jsxDEV("div",{className:"pt-2 border-t border-gray-200 space-y-2",children:[e.jsxDEV("div",{className:"grid grid-cols-3 gap-2",children:[e.jsxDEV("button",{onClick:()=>Be(A),className:"relative px-2 py-1.5 text-xs font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:["",(((V=A.meetingNotes)==null?void 0:V.length)||0)>0&&e.jsxDEV("span",{className:"ml-1 text-[10px] text-gray-500",children:["(",((_=A.meetingNotes)==null?void 0:_.length)||0,")"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:491,columnNumber:17},void 0),ve(A,"meeting")&&e.jsxDEV("span",{className:"absolute -top-1 -right-1 inline-flex items-center justify-center px-1.5 py-0.5 text-[9px] font-bold leading-none text-white bg-red-500 rounded-full",children:"N"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:496,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:485,columnNumber:13},void 0),e.jsxDEV("button",{onClick:()=>Xe(A),className:"relative px-2 py-1.5 text-xs font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:["",(((me=A.customerRequests)==null?void 0:me.length)||0)>0&&e.jsxDEV("span",{className:"ml-1 text-[10px] text-gray-500",children:["(",((xe=A.customerRequests)==null?void 0:xe.length)||0,")"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:507,columnNumber:17},void 0),ve(A,"request")&&e.jsxDEV("span",{className:"absolute -top-1 -right-1 inline-flex items-center justify-center px-1.5 py-0.5 text-[9px] font-bold leading-none text-white bg-red-500 rounded-full",children:"N"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:512,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:501,columnNumber:13},void 0),e.jsxDEV("button",{onClick:()=>le(A),className:"px-2 py-1.5 text-xs font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:517,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:484,columnNumber:11},void 0),((i==null?void 0:i.role)==="admin"||(i==null?void 0:i.role)==="manager")&&e.jsxDEV("div",{className:"flex space-x-2",children:e.jsxDEV("button",{onClick:()=>Ne(A.id,A.name),className:"text-xs text-rose-600 hover:text-rose-700",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:526,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:525,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:483,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:429,columnNumber:7},void 0)};return e.jsxDEV("div",{className:"space-y-3 md:space-y-4",children:[e.jsxDEV("div",{className:"border-b border-gray-200",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("nav",{className:"flex space-x-4 md:space-x-8 overflow-x-auto",children:[{id:"planning",label:"",count:He.planning,color:"text-gray-700"},{id:"in-progress",label:"",count:He.inProgress,color:"text-gray-700"},{id:"completed",label:"",count:He.completed,color:"text-gray-700"},{id:"all",label:"",count:a.length,color:"text-gray-600"}].map(A=>e.jsxDEV("button",{onClick:()=>m(A.id),className:Xt("py-3 md:py-4 px-1 border-b-2 font-medium text-xs md:text-sm transition-colors whitespace-nowrap",o===A.id?`border-gray-700 ${A.color}`:"border-transparent text-gray-400 hover:text-gray-700 hover:border-gray-300"),children:[A.label,e.jsxDEV("span",{className:Xt("ml-1 md:ml-2 py-0.5 px-1.5 md:px-2 rounded-full text-[10px] md:text-xs font-semibold",o===A.id?"bg-gray-700 text-white":"bg-gray-200 text-gray-600"),children:A.count},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:563,columnNumber:17},void 0)]},A.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:552,columnNumber:15},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:545,columnNumber:11},void 0),e.jsxDEV("div",{className:"flex items-center gap-6 mb-3 md:mb-4",children:[e.jsxDEV("div",{className:"hidden sm:flex border border-gray-300 overflow-hidden rounded",children:[e.jsxDEV("button",{onClick:()=>p("grid"),className:Xt("px-3 md:px-4 py-2 text-xs md:text-sm",d==="grid"?"bg-gray-100":"hover:bg-gray-50"),children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:577,columnNumber:15},void 0),e.jsxDEV("button",{onClick:()=>p("list"),className:Xt("px-3 md:px-4 py-2 text-xs md:text-sm border-l border-gray-300",d==="list"?"bg-gray-100":"hover:bg-gray-50"),children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:586,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:576,columnNumber:13},void 0),e.jsxDEV("button",{onClick:()=>{x(null),u(!0)},className:"hidden lg:inline-flex btn btn-primary portrait:px-2 landscape:px-4 py-2 items-center gap-1",children:[e.jsxDEV(ws,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:604,columnNumber:15},void 0),e.jsxDEV("span",{className:"portrait:hidden landscape:inline",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:605,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:597,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:574,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:543,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:542,columnNumber:7},void 0),d==="grid"||window.innerWidth<768?e.jsxDEV("div",{className:"projects-grid grid grid-cols-1 md:grid-cols-2 ipad:grid-cols-2 ipad-lg:grid-cols-2 ipad-xl:grid-cols-3 ipad-2xl:grid-cols-3 2xl:grid-cols-4 gap-3 md:gap-6",children:pe.map(A=>e.jsxDEV(Z,{project:A},A.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:614,columnNumber:13},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:612,columnNumber:9},void 0):e.jsxDEV("div",{className:"bg-white border border-gray-200 overflow-hidden",children:e.jsxDEV("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsxDEV("thead",{className:"bg-gray-50",children:e.jsxDEV("tr",{children:[e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:622,columnNumber:17},void 0),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:625,columnNumber:17},void 0),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:628,columnNumber:17},void 0),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:631,columnNumber:17},void 0),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:634,columnNumber:17},void 0),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:637,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:621,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:620,columnNumber:13},void 0),e.jsxDEV("tbody",{className:"bg-white divide-y divide-gray-200",children:pe.map(A=>{var V,_,me,xe;const ce=Q(A.startDate,A.endDate);return e.jsxDEV("tr",{className:"hover:bg-gray-50",children:[e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"font-medium",children:A.name},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:649,columnNumber:25},void 0),e.jsxDEV("p",{className:"text-sm text-gray-500",children:A.location},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:650,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:648,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:647,columnNumber:21},void 0),e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxDEV("p",{className:"text-sm",children:[A.client,""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:654,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:653,columnNumber:21},void 0),e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:A.startDate&&A.endDate?e.jsxDEV(e.Fragment,{children:[Ae(A.startDate,"yyyy.MM.dd (eee)",{locale:xt})," -",e.jsxDEV("br",{},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:660,columnNumber:27},void 0),Ae(A.endDate,"yyyy.MM.dd (eee)",{locale:xt})]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:658,columnNumber:25},void 0):""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:656,columnNumber:21},void 0),e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxDEV("div",{className:"flex items-center gap-2",children:[A.status==="planning"&&e.jsxDEV("button",{onClick:()=>Le(A),className:"px-2 py-1 text-xs font-medium text-white bg-gray-700 hover:bg-gray-800 rounded transition-colors",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:668,columnNumber:27},void 0),e.jsxDEV(R,{project:A},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:675,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:666,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:665,columnNumber:21},void 0),e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV("div",{className:"w-24 bg-gray-200 h-1 mr-2",children:e.jsxDEV("div",{className:"bg-gray-900 h-1",style:{width:`${ce}%`}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:681,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:680,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-sm",children:[ce,"%"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:686,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:679,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:678,columnNumber:21},void 0),e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxDEV("div",{className:"flex flex-col gap-2",children:[e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV("button",{onClick:()=>Be(A),className:"relative px-3 py-1.5 text-xs font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:["",(((V=A.meetingNotes)==null?void 0:V.length)||0)>0&&e.jsxDEV("span",{className:"ml-1 text-[10px] text-gray-500",children:["(",((_=A.meetingNotes)==null?void 0:_.length)||0,")"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:698,columnNumber:31},void 0),ve(A,"meeting")&&e.jsxDEV("span",{className:"absolute -top-1 -right-1 inline-flex items-center justify-center px-1.5 py-0.5 text-[9px] font-bold leading-none text-white bg-red-500 rounded-full",children:"N"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:703,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:692,columnNumber:27},void 0),e.jsxDEV("button",{onClick:()=>Xe(A),className:"relative px-3 py-1.5 text-xs font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:["",(((me=A.customerRequests)==null?void 0:me.length)||0)>0&&e.jsxDEV("span",{className:"ml-1 text-[10px] text-gray-500",children:["(",((xe=A.customerRequests)==null?void 0:xe.length)||0,")"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:714,columnNumber:31},void 0),ve(A,"request")&&e.jsxDEV("span",{className:"absolute -top-1 -right-1 inline-flex items-center justify-center px-1.5 py-0.5 text-[9px] font-bold leading-none text-white bg-red-500 rounded-full",children:"N"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:719,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:708,columnNumber:27},void 0),e.jsxDEV("button",{onClick:()=>le(A),className:"px-3 py-1.5 text-xs font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:724,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:691,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex space-x-2",children:[e.jsxDEV("button",{onClick:()=>he(A),className:"text-xs text-gray-600 hover:text-gray-900",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:732,columnNumber:27},void 0),((i==null?void 0:i.role)==="admin"||(i==null?void 0:i.role)==="manager")&&e.jsxDEV("button",{onClick:()=>Ne(A.id,A.name),className:"text-xs text-rose-600 hover:text-rose-700",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:739,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:731,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:690,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:689,columnNumber:21},void 0)]},A.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:646,columnNumber:19},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:642,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:619,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:618,columnNumber:9},void 0),f&&e.jsxDEV(Xf,{project:b,onClose:()=>{u(!1),x(null)},onSave:Ve},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:758,columnNumber:9},void 0),j&&w&&e.jsxDEV(Jf,{projectName:w.name,meetingNotes:w.meetingNotes||[],onClose:()=>{h(!1),O(null)},onSave:Ce,onDelete:Te},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:769,columnNumber:9},void 0),L&&w&&e.jsxDEV(Qf,{projectName:w.name,customerRequests:w.customerRequests||[],onClose:()=>{I(!1),O(null)},onSave:Re,onToggleComplete:We,onDelete:qe},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:782,columnNumber:9},void 0),y&&w&&e.jsxDEV(Gf,{projectName:w.name,entrancePassword:w.entrancePassword||"",sitePassword:w.sitePassword||"",onClose:()=>{M(!1),O(null)},onSave:Ue},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:796,columnNumber:9},void 0),se&&w&&e.jsxDEV(Zf,{projectName:w.name,onClose:()=>{re(!1),O(null)}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:809,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:540,columnNumber:5},void 0)};var Pa={},kl={exports:{}};(function(s){function n(t){return t&&t.__esModule?t:{default:t}}s.exports=n,s.exports.__esModule=!0,s.exports.default=s.exports})(kl);var es=kl.exports,Ra={},vl={exports:{}},Dl={exports:{}},Vl={exports:{}},Cl={exports:{}};(function(s){function n(t){"@babel/helpers - typeof";return s.exports=n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},s.exports.__esModule=!0,s.exports.default=s.exports,n(t)}s.exports=n,s.exports.__esModule=!0,s.exports.default=s.exports})(Cl);var Cn=Cl.exports,El={exports:{}};(function(s){var n=Cn.default;function t(r,i){if(n(r)!="object"||!r)return r;var a=r[Symbol.toPrimitive];if(a!==void 0){var o=a.call(r,i||"default");if(n(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(r)}s.exports=t,s.exports.__esModule=!0,s.exports.default=s.exports})(El);var tg=El.exports;(function(s){var n=Cn.default,t=tg;function r(i){var a=t(i,"string");return n(a)=="symbol"?a:a+""}s.exports=r,s.exports.__esModule=!0,s.exports.default=s.exports})(Vl);var Al=Vl.exports;(function(s){var n=Al;function t(r,i,a){return(i=n(i))in r?Object.defineProperty(r,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[i]=a,r}s.exports=t,s.exports.__esModule=!0,s.exports.default=s.exports})(Dl);var wl=Dl.exports;(function(s){var n=wl;function t(i,a){var o=Object.keys(i);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(i);a&&(m=m.filter(function(d){return Object.getOwnPropertyDescriptor(i,d).enumerable})),o.push.apply(o,m)}return o}function r(i){for(var a=1;a<arguments.length;a++){var o=arguments[a]!=null?arguments[a]:{};a%2?t(Object(o),!0).forEach(function(m){n(i,m,o[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(o)):t(Object(o)).forEach(function(m){Object.defineProperty(i,m,Object.getOwnPropertyDescriptor(o,m))})}return i}s.exports=r,s.exports.__esModule=!0,s.exports.default=s.exports})(vl);var Qs=vl.exports,_l={exports:{}},jl={exports:{}};(function(s){function n(t,r){if(t==null)return{};var i={};for(var a in t)if({}.hasOwnProperty.call(t,a)){if(r.indexOf(a)!==-1)continue;i[a]=t[a]}return i}s.exports=n,s.exports.__esModule=!0,s.exports.default=s.exports})(jl);var sg=jl.exports;(function(s){var n=sg;function t(r,i){if(r==null)return{};var a,o,m=n(r,i);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(r);for(o=0;o<d.length;o++)a=d[o],i.indexOf(a)===-1&&{}.propertyIsEnumerable.call(r,a)&&(m[a]=r[a])}return m}s.exports=t,s.exports.__esModule=!0,s.exports.default=s.exports})(_l);var Ma=_l.exports,Ll={exports:{}};(function(s){function n(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}s.exports=n,s.exports.__esModule=!0,s.exports.default=s.exports})(Ll);var ln=Ll.exports,Hl={exports:{}};(function(s){var n=Al;function t(i,a){for(var o=0;o<a.length;o++){var m=a[o];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(i,n(m.key),m)}}function r(i,a,o){return a&&t(i.prototype,a),o&&t(i,o),Object.defineProperty(i,"prototype",{writable:!1}),i}s.exports=r,s.exports.__esModule=!0,s.exports.default=s.exports})(Hl);var dn=Hl.exports,Bl={exports:{}},Ul={exports:{}};(function(s){function n(t){return s.exports=n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},s.exports.__esModule=!0,s.exports.default=s.exports,n(t)}s.exports=n,s.exports.__esModule=!0,s.exports.default=s.exports})(Ul);var ng=Ul.exports,Sl={exports:{}};(function(s){function n(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(s.exports=n=function(){return!!t},s.exports.__esModule=!0,s.exports.default=s.exports)()}s.exports=n,s.exports.__esModule=!0,s.exports.default=s.exports})(Sl);var rg=Sl.exports,Pl={exports:{}},Rl={exports:{}};(function(s){function n(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}s.exports=n,s.exports.__esModule=!0,s.exports.default=s.exports})(Rl);var ig=Rl.exports;(function(s){var n=Cn.default,t=ig;function r(i,a){if(a&&(n(a)=="object"||typeof a=="function"))return a;if(a!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return t(i)}s.exports=r,s.exports.__esModule=!0,s.exports.default=s.exports})(Pl);var ag=Pl.exports;(function(s){var n=ng,t=rg,r=ag;function i(a,o,m){return o=n(o),r(a,t()?Reflect.construct(o,m||[],n(a).constructor):o.apply(a,m))}s.exports=i,s.exports.__esModule=!0,s.exports.default=s.exports})(Bl);var En=Bl.exports,Ml={exports:{}},Il={exports:{}};(function(s){function n(t,r){return s.exports=n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,a){return i.__proto__=a,i},s.exports.__esModule=!0,s.exports.default=s.exports,n(t,r)}s.exports=n,s.exports.__esModule=!0,s.exports.default=s.exports})(Il);var og=Il.exports;(function(s){var n=og;function t(r,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(i&&i.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),i&&n(r,i)}s.exports=t,s.exports.__esModule=!0,s.exports.default=s.exports})(Ml);var An=Ml.exports;const mr=rr(Wc);var ys={},kn={};Object.defineProperty(kn,"__esModule",{value:!0});kn.views=kn.navigate=void 0;kn.navigate={PREVIOUS:"PREV",NEXT:"NEXT",TODAY:"TODAY",DATE:"DATE"};kn.views={MONTH:"month",WEEK:"week",WORK_WEEK:"work_week",DAY:"day",AGENDA:"agenda"};var mg=es.default;Object.defineProperty(ys,"__esModule",{value:!0});ys.views=ys.dateRangeFormat=ys.dateFormat=ys.accessor=ys.DayLayoutAlgorithmPropType=void 0;var os=mg(_m),Po=kn,Ro=Object.keys(Po.views).map(function(s){return Po.views[s]});ys.accessor=os.default.oneOfType([os.default.string,os.default.func]);ys.dateFormat=os.default.any;ys.dateRangeFormat=os.default.func;ys.views=os.default.oneOfType([os.default.arrayOf(os.default.oneOf(Ro)),os.default.objectOf(function(s,n){var t=Ro.indexOf(n)!==-1&&typeof s[n]=="boolean";if(t)return null;for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];return os.default.elementType.apply(os.default,[s,n].concat(i))})]);ys.DayLayoutAlgorithmPropType=os.default.oneOfType([os.default.oneOf(["overlap","no-overlap"]),os.default.func]);var di={},wn={},lg=es.default;Object.defineProperty(wn,"__esModule",{value:!0});wn.accessor=Tl;wn.wrapAccessor=void 0;var dg=lg(Cn);function Tl(s,n){var t=null;return typeof n=="function"?t=n(s):typeof n=="string"&&(0,dg.default)(s)==="object"&&s!=null&&n in s&&(t=s[n]),t}wn.wrapAccessor=function(n){return function(t){return Tl(t,n)}};var cn={},cg=es.default;Object.defineProperty(cn,"__esModule",{value:!0});cn.DnDContext=void 0;var ug=cg(l);cn.DnDContext=ug.default.createContext();var un=es.default;Object.defineProperty(di,"__esModule",{value:!0});di.default=void 0;var pg=un(Qs),fg=un(ln),gg=un(dn),Ng=un(En),bg=un(An),fn=un(l),Mo=un(mr),Io=wn,xg=cn,Fl=function(s){function n(){var t;(0,fg.default)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t=(0,Ng.default)(this,n,[].concat(i)),t.handleResizeUp=function(o){o.button===0&&t.context.draggable.onBeginAction(t.props.event,"resize","UP")},t.handleResizeDown=function(o){o.button===0&&t.context.draggable.onBeginAction(t.props.event,"resize","DOWN")},t.handleResizeLeft=function(o){o.button===0&&t.context.draggable.onBeginAction(t.props.event,"resize","LEFT")},t.handleResizeRight=function(o){o.button===0&&t.context.draggable.onBeginAction(t.props.event,"resize","RIGHT")},t.handleStartDragging=function(o){var m;if(o.button===0){var d=(m=o.target.getAttribute("class"))===null||m===void 0?void 0:m.includes("rbc-addons-dnd-resize");if(!d){var p=(0,pg.default)({},t.props.event);p.sourceResource=t.props.resource,t.context.draggable.onBeginAction(t.props.event,"move")}}},t}return(0,bg.default)(n,s),(0,gg.default)(n,[{key:"renderAnchor",value:function(r){var i=r==="Up"||r==="Down"?"ns":"ew";return fn.default.createElement("div",{className:"rbc-addons-dnd-resize-".concat(i,"-anchor"),onMouseDown:this["handleResize".concat(r)]},fn.default.createElement("div",{className:"rbc-addons-dnd-resize-".concat(i,"-icon")}))}},{key:"render",value:function(){var r=this.props,i=r.event,a=r.type,o=r.continuesPrior,m=r.continuesAfter,d=r.resizable,p=this.props.children;if(i.__isPreview)return fn.default.cloneElement(p,{className:(0,Mo.default)(p.props.className,"rbc-addons-dnd-drag-preview")});var f=this.context.draggable,u=f.draggableAccessor,b=f.resizableAccessor,x=u?!!(0,Io.accessor)(i,u):!0;if(!x)return p;var j=d&&(b?!!(0,Io.accessor)(i,b):!0);if(j||x){var h={onMouseDown:this.handleStartDragging,onTouchStart:this.handleStartDragging};if(j){var L=null,I=null;a==="date"?(L=!o&&this.renderAnchor("Left"),I=!m&&this.renderAnchor("Right")):(L=!o&&this.renderAnchor("Up"),I=!m&&this.renderAnchor("Down")),h.children=fn.default.createElement("div",{className:"rbc-addons-dnd-resizable"},L,p.props.children,I)}f.dragAndDropAction.interacting&&f.dragAndDropAction.event===i&&(h.className=(0,Mo.default)(p.props.className,"rbc-addons-dnd-dragged-event")),p=fn.default.cloneElement(p,h)}return p}}])}(fn.default.Component);Fl.contextType=xg.DnDContext;di.default=Fl;var ci={},Wl={exports:{}};(function(s){var n=Cn.default;function t(r,i){if(typeof WeakMap=="function")var a=new WeakMap,o=new WeakMap;return(s.exports=t=function(d,p){if(!p&&d&&d.__esModule)return d;var f,u,b={__proto__:null,default:d};if(d===null||n(d)!="object"&&typeof d!="function")return b;if(f=p?o:a){if(f.has(d))return f.get(d);f.set(d,b)}for(var x in d)x!=="default"&&{}.hasOwnProperty.call(d,x)&&((u=(f=Object.defineProperty)&&Object.getOwnPropertyDescriptor(d,x))&&(u.get||u.set)?f(b,x,u):b[x]=d[x]);return b},s.exports.__esModule=!0,s.exports.default=s.exports)(r,i)}s.exports=t,s.exports.__esModule=!0,s.exports.default=s.exports})(Wl);var ql=Wl.exports;function Ia(s,n,t,r){if(t===void 0&&(t=!1),r===void 0&&(r=!0),s){var i=document.createEvent("HTMLEvents");i.initEvent(n,t,r),s.dispatchEvent(i)}}function yg(s){var n=gs(s,"transitionDuration")||"",t=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*t}function hg(s,n,t){t===void 0&&(t=5);var r=!1,i=setTimeout(function(){r||Ia(s,"transitionend",!0)},n+t),a=ni(s,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(i),a()}}function Ta(s,n,t,r){t==null&&(t=yg(s)||0);var i=hg(s,t,r),a=ni(s,"transitionend",n);return function(){i(),a()}}var To={transition:"","transition-duration":"","transition-delay":"","transition-timing-function":""};function Fo(s){var n=s.node,t=s.properties,r=s.duration,i=r===void 0?200:r,a=s.easing,o=s.callback,m=[],d={},p="";Object.keys(t).forEach(function(b){var x=t[b];qc(b)?p+=b+"("+x+") ":(d[b]=x,m.push(Oc(b)))}),p&&(d.transform=p,m.push("transform"));function f(b){b.target===b.currentTarget&&(gs(n,To),o&&o.call(this,b))}i>0&&(d.transition=m.join(", "),d["transition-duration"]=i/1e3+"s",d["transition-delay"]="0s",d["transition-timing-function"]=a||"linear");var u=Ta(n,f,i);return n.clientLeft,gs(n,d),{cancel:function(){u(),gs(n,To)}}}function Ol(s,n,t,r,i){if(!("nodeType"in s))return Fo(s);if(!n)throw new Error("must include properties to animate");return typeof r=="function"&&(i=r,r=""),Fo({node:s,properties:n,duration:t,easing:r,callback:i})}function $l(s,n,t){if(s){if(typeof t>"u")return s.getAttribute(n);!t&&t!==""?s.removeAttribute(n):s.setAttribute(n,String(t))}}function zl(s){return s?Array.from(s.children):[]}function Yl(s){if(s){for(;s.firstChild;)s.removeChild(s.firstChild);return s}return null}var kg=Function.prototype.bind.call(Function.prototype.call,[].slice);function Kl(s){return s?kg(s.childNodes):[]}function Xl(s,n){return function(r){var i=r.currentTarget,a=r.target,o=ba(i,s);o.some(function(m){return xa(m,a)})&&n.call(this,r)}}function Jl(s,n){return s&&n&&n.parentNode?(n.nextSibling?n.parentNode.insertBefore(s,n.nextSibling):n.parentNode.appendChild(s),s):null}var vg=/^(?:input|select|textarea|button)$/i;function Ql(s){return s?vg.test(s.nodeName):!1}function Gl(s){return s?!!(s.offsetWidth||s.offsetHeight||s.getClientRects().length):!1}function Zl(s,n,t){n===void 0&&(n=null),t===void 0&&(t=null);for(var r=[];s;s=s.nextElementSibling)if(s!==n){if(t&&ya(s,t))break;r.push(s)}return r}function ed(s,n){return Zl(s,s,n)}function Dg(s,n){var t=null,r=[];for(t=s?s[n]:null;t&&t.nodeType!==9;)r.push(t),t=t[n]||null;return r}function td(s){return Dg(s,"parentElement")}function sd(s,n){return s&&n?(n.firstElementChild?n.insertBefore(s,n.firstElementChild):n.appendChild(s),s):null}function nd(s){return s&&s.parentNode?(s.parentNode.removeChild(s),s):null}function Fa(s,n){var t=gs(s,"position"),r=t==="absolute",i=s.ownerDocument;if(t==="fixed")return i||document;for(;(s=s.parentNode)&&!$c(s);){var a=r&&gs(s,"position")==="static",o=(gs(s,"overflow")||"")+(gs(s,"overflow-y")||"")+gs(s,"overflow-x");if(!a&&/(auto|scroll)/.test(o)&&(n||ri(s)<s.scrollHeight))return s}return i||document}function rd(s,n){var t=Or(s),r={top:0,left:0};if(s){var i=n||Fa(s),a=zc(i),o=$r(i),m=ri(i,!0);a||(r=Or(i)),t={top:t.top-r.top,left:t.left-r.left,height:t.height,width:t.width};var d=t.height,p=t.top+(a?0:o),f=p+d;o=o>p?p:f>o+m?f-m:o;var u=ha(function(){return $r(i,o)});return function(){return ka(u)}}}function id(s){return Zl(s&&s.parentElement?s.parentElement.firstElementChild:null,s)}var Vg=/&nbsp;/gi,Cg=/\xA0/g,Eg=/\s+([^\s])/gm;function ad(s,n,t){n===void 0&&(n=!0),t===void 0&&(t=!0);var r="";return s&&(r=(s.textContent||"").replace(Vg," ").replace(Cg," "),n&&(r=r.trim()),t&&(r=r.replace(Eg," $1"))),r}function od(s,n){s.classList?s.classList.toggle(n):va(s,n)?Da(s,n):Va(s,n)}const Ag={addEventListener:Fm,removeEventListener:Tm,triggerEvent:Ia,animate:Ol,filter:Xl,listen:ni,style:gs,getComputedStyle:Im,attribute:$l,activeElement:Mm,ownerDocument:Rm,ownerWindow:Pm,requestAnimationFrame:ha,cancelAnimationFrame:ka,matches:ya,height:ri,width:Sm,offset:Or,offsetParent:Um,position:Bm,contains:xa,scrollbarSize:Hm,scrollLeft:Lm,scrollParent:Fa,scrollTo:rd,scrollTop:$r,querySelectorAll:ba,closest:jm,addClass:Va,removeClass:Da,hasClass:va,toggleClass:od,transitionEnd:Ta,childNodes:Kl,childElements:zl,nextUntil:ed,parents:td,siblings:id,clear:Yl,insertAfter:Jl,isInput:Ql,isVisible:Gl,prepend:sd,remove:nd,text:ad},wg=Object.freeze(Object.defineProperty({__proto__:null,activeElement:Mm,addClass:Va,addEventListener:Fm,animate:Ol,attribute:$l,cancelAnimationFrame:ka,childElements:zl,childNodes:Kl,clear:Yl,closest:jm,contains:xa,default:Ag,filter:Xl,getComputedStyle:Im,hasClass:va,height:ri,insertAfter:Jl,isInput:Ql,isVisible:Gl,listen:ni,matches:ya,nextUntil:ed,offset:Or,offsetParent:Um,ownerDocument:Rm,ownerWindow:Pm,parents:td,position:Bm,prepend:sd,querySelectorAll:ba,remove:nd,removeClass:Da,removeEventListener:Tm,requestAnimationFrame:ha,scrollLeft:Lm,scrollParent:Fa,scrollTo:rd,scrollTop:$r,scrollbarSize:Hm,siblings:id,style:gs,text:ad,toggleClass:od,transitionEnd:Ta,triggerEvent:Ia,width:Sm},Symbol.toStringTag,{value:"Module"})),_g=rr(wg);var Ji={exports:{}};(function(s,n){n.__esModule=!0,n.default=r;var t=Function.prototype.bind.call(Function.prototype.call,[].slice);function r(i,a){return t(i.querySelectorAll(a))}s.exports=n.default})(Ji,Ji.exports);var jg=Ji.exports,vs={};const Lg=rr(Yc),Hg=rr(Kc),Bg=rr(Xc);var _n=es.default;Object.defineProperty(vs,"__esModule",{value:!0});vs.default=void 0;vs.getBoundsForNode=er;vs.getEventNodeFromPoint=ld;vs.getShowMoreNodeFromPoint=dd;vs.isEvent=Ig;vs.isShowMore=Tg;vs.objectsCollide=Gi;var Ug=_n(Cn),Sg=_n(ln),Pg=_n(dn),Qi=_n(Lg),md=_n(Hg),Rg=_n(Bg);function Zt(s,n){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document;return(0,Rg.default)(t,s,n,{passive:!1})}function Mg(s,n,t){return!s||(0,Qi.default)(s,document.elementFromPoint(n,t))}function ld(s,n){var t=n.clientX,r=n.clientY,i=document.elementFromPoint(t,r);return(0,md.default)(i,".rbc-event",s)}function dd(s,n){var t=n.clientX,r=n.clientY,i=document.elementFromPoint(t,r);return(0,md.default)(i,".rbc-show-more",s)}function Ig(s,n){return!!ld(s,n)}function Tg(s,n){return!!dd(s,n)}function Rn(s){var n=s;return s.touches&&s.touches.length&&(n=s.touches[0]),{clientX:n.clientX,clientY:n.clientY,pageX:n.pageX,pageY:n.pageY}}var Wo=5,Fg=250,Wg=function(){function s(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.global,i=r===void 0?!1:r,a=t.longPressThreshold,o=a===void 0?250:a,m=t.validContainers,d=m===void 0?[]:m;(0,Sg.default)(this,s),this._initialEvent=null,this.selecting=!1,this.isDetached=!1,this.container=n,this.globalMouse=!n||i,this.longPressThreshold=o,this.validContainers=d,this._listeners=Object.create(null),this._handleInitialEvent=this._handleInitialEvent.bind(this),this._handleMoveEvent=this._handleMoveEvent.bind(this),this._handleTerminatingEvent=this._handleTerminatingEvent.bind(this),this._keyListener=this._keyListener.bind(this),this._dropFromOutsideListener=this._dropFromOutsideListener.bind(this),this._dragOverFromOutsideListener=this._dragOverFromOutsideListener.bind(this),this._removeTouchMoveWindowListener=Zt("touchmove",function(){},window),this._removeKeyDownListener=Zt("keydown",this._keyListener),this._removeKeyUpListener=Zt("keyup",this._keyListener),this._removeDropFromOutsideListener=Zt("drop",this._dropFromOutsideListener),this._removeDragOverFromOutsideListener=Zt("dragover",this._dragOverFromOutsideListener),this._addInitialEventListener()}return(0,Pg.default)(s,[{key:"on",value:function(t,r){var i=this._listeners[t]||(this._listeners[t]=[]);return i.push(r),{remove:function(){var o=i.indexOf(r);o!==-1&&i.splice(o,1)}}}},{key:"emit",value:function(t){for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];var o,m=this._listeners[t]||[];return m.forEach(function(d){o===void 0&&(o=d.apply(void 0,i))}),o}},{key:"teardown",value:function(){this._initialEvent=null,this._initialEventData=null,this._selectRect=null,this.selecting=!1,this._lastClickData=null,this.isDetached=!0,this._listeners=Object.create(null),this._removeTouchMoveWindowListener&&this._removeTouchMoveWindowListener(),this._removeInitialEventListener&&this._removeInitialEventListener(),this._removeEndListener&&this._removeEndListener(),this._onEscListener&&this._onEscListener(),this._removeMoveListener&&this._removeMoveListener(),this._removeKeyUpListener&&this._removeKeyUpListener(),this._removeKeyDownListener&&this._removeKeyDownListener(),this._removeDropFromOutsideListener&&this._removeDropFromOutsideListener(),this._removeDragOverFromOutsideListener&&this._removeDragOverFromOutsideListener()}},{key:"isSelected",value:function(t){var r=this._selectRect;return!r||!this.selecting?!1:Gi(r,er(t))}},{key:"filter",value:function(t){var r=this._selectRect;return!r||!this.selecting?[]:t.filter(this.isSelected,this)}},{key:"_addLongPressListener",value:function(t,r){var i=this,a=null,o=null,m=null,d=function(b){a=setTimeout(function(){f(),t(b)},i.longPressThreshold),o=Zt("touchmove",function(){return f()}),m=Zt("touchend",function(){return f()})},p=Zt("touchstart",d),f=function(){a&&clearTimeout(a),o&&o(),m&&m(),a=null,o=null,m=null};return r&&d(r),function(){f(),p()}}},{key:"_addInitialEventListener",value:function(){var t=this,r=Zt("mousedown",function(a){t._removeInitialEventListener(),t._handleInitialEvent(a),t._removeInitialEventListener=Zt("mousedown",t._handleInitialEvent)}),i=Zt("touchstart",function(a){t._removeInitialEventListener(),t._removeInitialEventListener=t._addLongPressListener(t._handleInitialEvent,a)});this._removeInitialEventListener=function(){r(),i()}}},{key:"_dropFromOutsideListener",value:function(t){var r=Rn(t),i=r.pageX,a=r.pageY,o=r.clientX,m=r.clientY;this.emit("dropFromOutside",{x:i,y:a,clientX:o,clientY:m}),t.preventDefault()}},{key:"_dragOverFromOutsideListener",value:function(t){var r=Rn(t),i=r.pageX,a=r.pageY,o=r.clientX,m=r.clientY;this.emit("dragOverFromOutside",{x:i,y:a,clientX:o,clientY:m}),t.preventDefault()}},{key:"_handleInitialEvent",value:function(t){if(this._initialEvent=t,!this.isDetached){var r=Rn(t),i=r.clientX,a=r.clientY,o=r.pageX,m=r.pageY,d=this.container(),p,f;if(!(t.which===3||t.button===2||!Mg(d,i,a))){if(!this.globalMouse&&d&&!(0,Qi.default)(d,t.target)){var u=qg(0),b=u.top,x=u.left,j=u.bottom,h=u.right;if(f=er(d),p=Gi({top:f.top-b,left:f.left-x,bottom:f.bottom+j,right:f.right+h},{top:m,left:o}),!p)return}var L=this.emit("beforeSelect",this._initialEventData={isTouch:/^touch/.test(t.type),x:o,y:m,clientX:i,clientY:a});if(L!==!1)switch(t.type){case"mousedown":this._removeEndListener=Zt("mouseup",this._handleTerminatingEvent),this._onEscListener=Zt("keydown",this._handleTerminatingEvent),this._removeMoveListener=Zt("mousemove",this._handleMoveEvent);break;case"touchstart":this._handleMoveEvent(t),this._removeEndListener=Zt("touchend",this._handleTerminatingEvent),this._removeMoveListener=Zt("touchmove",this._handleMoveEvent);break}}}}},{key:"_isWithinValidContainer",value:function(t){var r=t.target,i=this.validContainers;return!i||!i.length||!r?!0:i.some(function(a){return!!r.closest(a)})}},{key:"_handleTerminatingEvent",value:function(t){var r=this.selecting,i=this._selectRect;if(!r&&t.type.includes("key")&&(t=this._initialEvent),this.selecting=!1,this._removeEndListener&&this._removeEndListener(),this._removeMoveListener&&this._removeMoveListener(),this._selectRect=null,this._initialEvent=null,this._initialEventData=null,!!t){var a=!this.container||(0,Qi.default)(this.container(),t.target),o=this._isWithinValidContainer(t);return t.key==="Escape"||!o?this.emit("reset"):!r&&a?this._handleClickEvent(t):r?this.emit("select",i):this.emit("reset")}}},{key:"_handleClickEvent",value:function(t){var r=Rn(t),i=r.pageX,a=r.pageY,o=r.clientX,m=r.clientY,d=new Date().getTime();return this._lastClickData&&d-this._lastClickData.timestamp<Fg?(this._lastClickData=null,this.emit("doubleClick",{x:i,y:a,clientX:o,clientY:m})):(this._lastClickData={timestamp:d},this.emit("click",{x:i,y:a,clientX:o,clientY:m}))}},{key:"_handleMoveEvent",value:function(t){if(!(this._initialEventData===null||this.isDetached)){var r=this._initialEventData,i=r.x,a=r.y,o=Rn(t),m=o.pageX,d=o.pageY,p=Math.abs(i-m),f=Math.abs(a-d),u=Math.min(m,i),b=Math.min(d,a),x=this.selecting,j=this.isClick(m,d);j&&!x&&!(p||f)||(!x&&!j&&this.emit("selectStart",this._initialEventData),j||(this.selecting=!0,this._selectRect={top:b,left:u,x:m,y:d,right:u+p,bottom:b+f},this.emit("selecting",this._selectRect)),t.preventDefault())}}},{key:"_keyListener",value:function(t){this.ctrl=t.metaKey||t.ctrlKey}},{key:"isClick",value:function(t,r){var i=this._initialEventData,a=i.x,o=i.y,m=i.isTouch;return!m&&Math.abs(t-a)<=Wo&&Math.abs(r-o)<=Wo}}])}();function qg(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return(0,Ug.default)(s)!=="object"&&(s={top:s,left:s,right:s,bottom:s}),s}function Gi(s,n){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=er(s),i=r.top,a=r.left,o=r.right,m=o===void 0?a:o,d=r.bottom,p=d===void 0?i:d,f=er(n),u=f.top,b=f.left,x=f.right,j=x===void 0?b:x,h=f.bottom,L=h===void 0?u:h;return!(p-t<u||i+t>L||m-t<b||a+t>j)}function er(s){if(!s.getBoundingClientRect)return s;var n=s.getBoundingClientRect(),t=n.left+qo("left"),r=n.top+qo("top");return{top:r,left:t,right:(s.offsetWidth||0)+t,bottom:(s.offsetHeight||0)+r}}function qo(s){if(s==="left")return window.pageXOffset||document.body.scrollLeft||0;if(s==="top")return window.pageYOffset||document.body.scrollTop||0}vs.default=Wg;var ui={},pi=es.default;Object.defineProperty(ui,"__esModule",{value:!0});ui.default=void 0;var Og=pi(wl),Oo=pi(Qs),$g=pi(mr),Mn=pi(l);function hr(s){return typeof s=="string"?s:s+"%"}function zg(s){var n=s.style,t=s.className,r=s.event,i=s.accessors,a=s.rtl,o=s.selected,m=s.label,d=s.continuesPrior,p=s.continuesAfter,f=s.getters,u=s.onClick,b=s.onDoubleClick,x=s.isBackgroundEvent,j=s.onKeyPress,h=s.components,L=h.event,I=h.eventWrapper,y=i.title(r),M=i.tooltip(r),se=i.end(r),re=i.start(r),w=f.eventProp(r,re,se,o),O=[Mn.default.createElement("div",{key:"1",className:"rbc-event-label"},m),Mn.default.createElement("div",{key:"2",className:"rbc-event-content"},L?Mn.default.createElement(L,{event:r,title:y}):y)],ie=n.height,de=n.top,ue=n.width,ve=n.xOffset,Q=(0,Oo.default)((0,Oo.default)({},w.style),{},(0,Og.default)({top:hr(de),height:hr(ie),width:hr(ue)},a?"right":"left",hr(ve)));return Mn.default.createElement(I,Object.assign({type:"time"},s),Mn.default.createElement("div",{role:"button",tabIndex:0,onClick:u,onDoubleClick:b,style:Q,onKeyDown:j,title:M?(typeof m=="string"?m+": ":"")+M:void 0,className:(0,$g.default)(x?"rbc-background-event":"rbc-event",t,w.className,{"rbc-selected":o,"rbc-event-continues-earlier":d,"rbc-event-continues-later":p})},O))}ui.default=zg;var Is={},cd=es.default;Object.defineProperty(Is,"__esModule",{value:!0});Is.dragAccessors=void 0;Is.eventTimes=eN;Is.mergeComponents=Gg;Is.pointInColumn=Zg;var Yg=cd(Qs),Kg=cd(Ma),$o=wn,Xg=l,Jg=["children"];Is.dragAccessors={start:(0,$o.wrapAccessor)(function(s){return s.start}),end:(0,$o.wrapAccessor)(function(s){return s.end})};function Qg(){for(var s=arguments.length,n=new Array(s),t=0;t<s;t++)n[t]=arguments[t];var r=function(a){var o=a.children,m=(0,Kg.default)(a,Jg);return n.filter(Boolean).reduceRight(function(d,p){return(0,Xg.createElement)(p,m,d)},o)};return r}function Gg(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,t=Object.keys(n),r=(0,Yg.default)({},s);return t.forEach(function(i){r[i]=s[i]?Qg(s[i],n[i]):n[i]}),r}function Zg(s,n){var t=s.left,r=s.right,i=s.top,a=n.x,o=n.y;return a<r+10&&a>t&&o>i}function eN(s,n,t){var r=n.start(s),i=n.end(s),a=t.eq(r,i,"minutes")&&t.diff(r,i,"minutes")===0;a&&(i=t.add(i,1,"day"));var o=t.diff(r,i,"milliseconds");return{start:r,end:i,duration:o}}var tN=ql.default,Gs=es.default;Object.defineProperty(ci,"__esModule",{value:!0});ci.default=void 0;var Fs=Gs(Qs),sN=Gs(ln),nN=Gs(dn),rN=Gs(En),iN=Gs(An),Li=_g,aN=Gs(jg),rn=Gs(l),oN=cn,Ws=tN(vs),mN=Gs(ui),Ps=Is,ud=function(s){function n(){var t;(0,sN.default)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t=(0,rN.default)(this,n,[].concat(i)),t.handleMove=function(o,m){if(!(0,Ps.pointInColumn)(m,o))return t.reset();var d=t.context.draggable.dragAndDropAction.event,p=t.props,f=p.accessors,u=p.slotMetrics,b=u.closestSlotFromPoint({y:o.y-t.eventOffsetTop,x:o.x},m),x=(0,Ps.eventTimes)(d,f,t.props.localizer),j=x.duration,h=t.props.localizer.add(b,j,"milliseconds");t.update(d,u.getRange(b,h,!1,!0))},t.handleDropFromOutside=function(o,m){var d=t.props,p=d.slotMetrics,f=d.resource,u=p.closestSlotFromPoint({y:o.y,x:o.x},m),b=t._calculateDnDEnd(u);t.context.draggable.onDropFromOutside({start:u,end:b,allDay:!1,resource:f}),t.reset()},t.handleDragOverFromOutside=function(o,m){var d=t.props.slotMetrics,p=d.closestSlotFromPoint({y:o.y,x:o.x},m),f=t._calculateDnDEnd(p),u=t.context.draggable.dragFromOutsideItem();t.update(u,d.getRange(p,f,!1,!0))},t._calculateDnDEnd=function(o){var m=t.props,d=m.accessors,p=m.slotMetrics,f=m.localizer,u=t.context.draggable.dragFromOutsideItem(),b=(0,Ps.eventTimes)(u,d,f),x=b.duration,j=p.nextSlot(o),h=!isNaN(x);if(h){var L=f.add(o,x,"milliseconds");j=new Date(Math.max(L,j))}return j},t.updateParentScroll=function(o,m){setTimeout(function(){var d=(0,aN.default)(m,".rbc-addons-dnd-drag-preview")[0];d&&(d.offsetTop<o.scrollTop?(0,Li.scrollTop)(o,Math.max(d.offsetTop,0)):d.offsetTop+d.offsetHeight>o.scrollTop+o.clientHeight&&(0,Li.scrollTop)(o,Math.min(d.offsetTop-o.offsetHeight+d.offsetHeight,o.scrollHeight)))})},t._selectable=function(){var o=t.ref.current,m=o.children[0],d=!1,p=t._selector=new Ws.default(function(){return o.closest(".rbc-time-view")}),f=(0,Li.scrollParent)(o);p.on("beforeSelect",function(u){var b=t.context.draggable.dragAndDropAction;if(!b.action)return!1;if(b.action==="resize")return(0,Ps.pointInColumn)((0,Ws.getBoundsForNode)(m),u);var x=(0,Ws.getEventNodeFromPoint)(m,u);if(!x)return!1;t.eventOffsetTop=u.y-(0,Ws.getBoundsForNode)(x).top}),p.on("selecting",function(u){var b=(0,Ws.getBoundsForNode)(m),x=t.context.draggable.dragAndDropAction;x.action==="move"&&(t.updateParentScroll(f,m),t.handleMove(u,b)),x.action==="resize"&&(t.updateParentScroll(f,m),t.handleResize(u,b))}),p.on("dropFromOutside",function(u){if(t.context.draggable.onDropFromOutside){var b=(0,Ws.getBoundsForNode)(m);(0,Ps.pointInColumn)(b,u)&&t.handleDropFromOutside(u,b)}}),p.on("dragOverFromOutside",function(u){var b=t.context.draggable.dragFromOutsideItem?t.context.draggable.dragFromOutsideItem():null;if(b){var x=(0,Ws.getBoundsForNode)(m);if(!(0,Ps.pointInColumn)(x,u))return t.reset();t.handleDragOverFromOutside(u,x)}}),p.on("selectStart",function(){d=!0,t.context.draggable.onStart()}),p.on("select",function(u){var b=(0,Ws.getBoundsForNode)(m);d=!1;var x=t.context.draggable.dragAndDropAction;if(x.action==="resize")t.handleInteractionEnd();else{if(!t.state.event||!(0,Ps.pointInColumn)(b,u))return;t.handleInteractionEnd()}}),p.on("click",function(){d&&t.reset(),t.context.draggable.onEnd(null)}),p.on("reset",function(){t.reset(),t.context.draggable.onEnd(null)})},t.handleInteractionEnd=function(){var o=t.props.resource,m=t.state.event;t.reset(),t.context.draggable.onEnd({start:m.start,end:m.end,resourceId:o})},t._teardownSelectable=function(){t._selector&&(t._selector.teardown(),t._selector=null)},t.state={},t.ref=rn.default.createRef(),t}return(0,iN.default)(n,s),(0,nN.default)(n,[{key:"componentDidMount",value:function(){this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"reset",value:function(){this.state.event&&this.setState({event:null,top:null,height:null})}},{key:"update",value:function(r,i){var a=i.startDate,o=i.endDate,m=i.top,d=i.height,p=this.state.event;p&&a===p.start&&o===p.end||this.setState({top:m,height:d,event:(0,Fs.default)((0,Fs.default)({},r),{},{start:a,end:o})})}},{key:"handleResize",value:function(r,i){var a=this.props,o=a.accessors,m=a.slotMetrics,d=a.localizer,p=this.context.draggable.dragAndDropAction,f=p.event,u=p.direction,b=m.closestSlotFromPoint(r,i),x=(0,Ps.eventTimes)(f,o,d),j=x.start,h=x.end,L;if(u==="UP"){var I=d.min(b,m.closestSlotFromDate(h,-1));L=m.getRange(I,h),L=(0,Fs.default)((0,Fs.default)({},L),{},{endDate:h})}else if(u==="DOWN"){var y=d.max(b,m.closestSlotFromDate(j));L=m.getRange(j,y),L=(0,Fs.default)((0,Fs.default)({},L),{},{startDate:j})}this.update(f,L)}},{key:"renderContent",value:function(){var r=this.props,i=r.children,a=r.accessors,o=r.components,m=r.getters,d=r.slotMetrics,p=r.localizer,f=this.state,u=f.event,b=f.top,x=f.height;if(!u)return i;var j=i.props.children,h=u.start,L=u.end,I,y="eventTimeRangeFormat",M=d.startsBeforeDay(h),se=d.startsAfterDay(L);return M?y="eventTimeRangeEndFormat":se&&(y="eventTimeRangeStartFormat"),M&&se?I=p.messages.allDay:I=p.format({start:h,end:L},y),rn.default.cloneElement(i,{children:rn.default.createElement(rn.default.Fragment,null,j,u&&rn.default.createElement(mN.default,{event:u,label:I,className:"rbc-addons-dnd-drag-preview",style:{top:b,height:x,width:100},getters:m,components:o,accessors:(0,Fs.default)((0,Fs.default)({},a),Ps.dragAccessors),continuesPrior:M,continuesAfter:se}))})}},{key:"render",value:function(){return rn.default.createElement("div",{ref:this.ref},this.renderContent())}}])}(rn.default.Component);ud.contextType=oN.DnDContext;ci.default=ud;var fi={},pd={exports:{}},fd={exports:{}},gd={exports:{}};(function(s){function n(t,r){(r==null||r>t.length)&&(r=t.length);for(var i=0,a=Array(r);i<r;i++)a[i]=t[i];return a}s.exports=n,s.exports.__esModule=!0,s.exports.default=s.exports})(gd);var Nd=gd.exports;(function(s){var n=Nd;function t(r){if(Array.isArray(r))return n(r)}s.exports=t,s.exports.__esModule=!0,s.exports.default=s.exports})(fd);var lN=fd.exports,bd={exports:{}};(function(s){function n(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}s.exports=n,s.exports.__esModule=!0,s.exports.default=s.exports})(bd);var dN=bd.exports,xd={exports:{}};(function(s){var n=Nd;function t(r,i){if(r){if(typeof r=="string")return n(r,i);var a={}.toString.call(r).slice(8,-1);return a==="Object"&&r.constructor&&(a=r.constructor.name),a==="Map"||a==="Set"?Array.from(r):a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?n(r,i):void 0}}s.exports=t,s.exports.__esModule=!0,s.exports.default=s.exports})(xd);var cN=xd.exports,yd={exports:{}};(function(s){function n(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}s.exports=n,s.exports.__esModule=!0,s.exports.default=s.exports})(yd);var uN=yd.exports;(function(s){var n=lN,t=dN,r=cN,i=uN;function a(o){return n(o)||t(o)||r(o)||i()}s.exports=a,s.exports.__esModule=!0,s.exports.default=s.exports})(pd);var hd=pd.exports,gi={},Ni={},bi={},Zs=es.default;Object.defineProperty(bi,"__esModule",{value:!0});bi.default=void 0;var zo=Zs(Qs),pN=Zs(Ma),fN=Zs(ln),gN=Zs(dn),NN=Zs(En),bN=Zs(An),In=Zs(l),xN=Zs(mr),yN=["style","className","event","selected","isAllDay","onSelect","onDoubleClick","onKeyPress","localizer","continuesPrior","continuesAfter","accessors","getters","children","components","slotStart","slotEnd"],hN=function(s){function n(){return(0,fN.default)(this,n),(0,NN.default)(this,n,arguments)}return(0,bN.default)(n,s),(0,gN.default)(n,[{key:"render",value:function(){var r=this.props,i=r.style,a=r.className,o=r.event,m=r.selected,d=r.isAllDay,p=r.onSelect,f=r.onDoubleClick,u=r.onKeyPress,b=r.localizer,x=r.continuesPrior,j=r.continuesAfter,h=r.accessors,L=r.getters,I=r.children,y=r.components,M=y.event,se=y.eventWrapper,re=r.slotStart,w=r.slotEnd,O=(0,pN.default)(r,yN);delete O.resizable;var ie=h.title(o),de=h.tooltip(o),ue=h.end(o),ve=h.start(o),Q=h.allDay(o),he=d||Q||b.diff(ve,b.ceil(ue,"day"),"day")>1,Ne=L.eventProp(o,ve,ue,m),Ve=In.default.createElement("div",{className:"rbc-event-content",title:de||void 0},M?In.default.createElement(M,{event:o,continuesPrior:x,continuesAfter:j,title:ie,isAllDay:Q,localizer:b,slotStart:re,slotEnd:w}):ie);return In.default.createElement(se,Object.assign({},this.props,{type:"date"}),In.default.createElement("div",Object.assign({},O,{style:(0,zo.default)((0,zo.default)({},Ne.style),i),className:(0,xN.default)("rbc-event",a,Ne.className,{"rbc-selected":m,"rbc-event-allday":he,"rbc-event-continues-prior":x,"rbc-event-continues-after":j}),onClick:function(Be){return p&&p(o,Be)},onDoubleClick:function(Be){return f&&f(o,Be)},onKeyDown:function(Be){return u&&u(o,Be)}}),typeof I=="function"?I(Ve):Ve))}}])}(In.default.Component);bi.default=hN;var en={},kN=es.default;Object.defineProperty(en,"__esModule",{value:!0});en.dateCellSelection=CN;en.getSlotAtX=kd;en.isSelected=DN;en.pointInBox=VN;en.slotWidth=Wa;var vN=kN(Jc);function DN(s,n){return!s||n==null?!1:(0,vN.default)(s,n)}function Wa(s,n){var t=s.right-s.left,r=t/n;return r}function kd(s,n,t,r){var i=Wa(s,r);return t?r-1-Math.floor((n-s.left)/i):Math.floor((n-s.left)/i)}function VN(s,n){var t=n.x,r=n.y;return r>=s.top&&r<=s.bottom&&t>=s.left&&t<=s.right}function CN(s,n,t,r,i){var a=-1,o=-1,m=r-1,d=Wa(n,r),p=kd(n,t.x,i,r),f=n.top<t.y&&n.bottom>t.y,u=n.top<s.y&&n.bottom>s.y,b=s.y>n.bottom,x=n.top>s.y,j=t.top<n.top&&t.bottom>n.bottom;return j&&(a=0,o=m),f&&(x?(a=0,o=p):b&&(a=p,o=m)),u&&(a=o=i?m-Math.floor((s.x-n.left)/d):Math.floor((s.x-n.left)/d),f?p<a?a=p:o=p:s.y<t.y?o=m:a=0),{startIdx:a,endIdx:o}}var qa=es.default;Object.defineProperty(Ni,"__esModule",{value:!0});Ni.default=void 0;var Vs=qa(_m),Yo=qa(l),EN=qa(bi),AN=en;Ni.default={propTypes:{slotMetrics:Vs.default.object.isRequired,selected:Vs.default.object,isAllDay:Vs.default.bool,accessors:Vs.default.object.isRequired,localizer:Vs.default.object.isRequired,components:Vs.default.object.isRequired,getters:Vs.default.object.isRequired,onSelect:Vs.default.func,onDoubleClick:Vs.default.func,onKeyPress:Vs.default.func},defaultProps:{segments:[],selected:{}},renderEvent:function(n,t){var r=n.selected;n.isAllDay;var i=n.accessors,a=n.getters,o=n.onSelect,m=n.onDoubleClick,d=n.onKeyPress,p=n.localizer,f=n.slotMetrics,u=n.components,b=n.resizable,x=f.continuesPrior(t),j=f.continuesAfter(t);return Yo.default.createElement(EN.default,{event:t,getters:a,localizer:p,accessors:i,components:u,onSelect:o,onDoubleClick:m,onKeyPress:d,continuesPrior:x,continuesAfter:j,slotStart:f.first,slotEnd:f.last,selected:(0,AN.isSelected)(t,r),resizable:b})},renderSpan:function(n,t,r){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:" ",a=Math.abs(t)/n*100+"%";return Yo.default.createElement("div",{key:r,className:"rbc-row-segment",style:{WebkitFlexBasis:a,flexBasis:a,maxWidth:a}},i)}};var tn=es.default;Object.defineProperty(gi,"__esModule",{value:!0});gi.default=void 0;var wN=tn(Qs),_N=tn(ln),jN=tn(dn),LN=tn(En),HN=tn(An),BN=tn(mr),Ko=tn(l),Rr=tn(Ni),vd=function(s){function n(){return(0,_N.default)(this,n),(0,LN.default)(this,n,arguments)}return(0,HN.default)(n,s),(0,jN.default)(n,[{key:"render",value:function(){var r=this,i=this.props,a=i.segments,o=i.slotMetrics.slots,m=i.className,d=1;return Ko.default.createElement("div",{className:(0,BN.default)(m,"rbc-row")},a.reduce(function(p,f,u){var b=f.event,x=f.left,j=f.right,h=f.span,L="_lvl_"+u,I=x-d,y=Rr.default.renderEvent(r.props,b);return I&&p.push(Rr.default.renderSpan(o,I,"".concat(L,"_gap"))),p.push(Rr.default.renderSpan(o,h,L,y)),d=j+1,p},[]))}}])}(Ko.default.Component);vd.defaultProps=(0,wN.default)({},Rr.default.defaultProps);gi.default=vd;var Ts={},Dd=es.default;Object.defineProperty(Ts,"__esModule",{value:!0});Ts.endOfRange=Vd;Ts.eventLevels=PN;Ts.eventSegments=SN;Ts.inRange=RN;Ts.segsOverlap=Cd;Ts.sortEvents=Zi;Ts.sortWeekEvents=MN;var Hi=Dd(hd),UN=Dd(Qc);function Vd(s){var n=s.dateRange,t=s.unit,r=t===void 0?"day":t,i=s.localizer;return{first:n[0],last:i.add(n[n.length-1],1,r)}}function SN(s,n,t,r){var i=Vd({dateRange:n,localizer:r}),a=i.first,o=i.last,m=r.diff(a,o,"day"),d=r.max(r.startOf(t.start(s),"day"),a),p=r.min(r.ceil(t.end(s),"day"),o),f=(0,UN.default)(n,function(b){return r.isSameDate(b,d)}),u=r.diff(d,p,"day");return u=Math.min(u,m),u=Math.max(u-r.segmentOffset,1),{event:s,span:u,left:f+1,right:Math.max(f+u,1)}}function PN(s){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0,t,r,i,a=[],o=[];for(t=0;t<s.length;t++){for(i=s[t],r=0;r<a.length&&Cd(i,a[r]);r++);r>=n?o.push(i):(a[r]||(a[r]=[])).push(i)}for(t=0;t<a.length;t++)a[t].sort(function(m,d){return m.left-d.left});return{levels:a,extra:o}}function RN(s,n,t,r,i){var a={start:r.start(s),end:r.end(s)},o={start:n,end:t};return i.inEventRange({event:a,range:o})}function Cd(s,n){return n.some(function(t){return t.left<=s.right&&t.right>=s.left})}function MN(s,n,t){var r=(0,Hi.default)(s),i=[],a=[];r.forEach(function(d){var p=n.start(d),f=n.end(d);t.daySpan(p,f)>1?i.push(d):a.push(d)});var o=i.sort(function(d,p){return Zi(d,p,n,t)}),m=a.sort(function(d,p){return Zi(d,p,n,t)});return[].concat((0,Hi.default)(o),(0,Hi.default)(m))}function Zi(s,n,t,r){var i={start:t.start(s),end:t.end(s),allDay:t.allDay(s)},a={start:t.start(n),end:t.end(n),allDay:t.allDay(n)};return r.sortEvents({evtA:i,evtB:a})}var IN=ql.default,sn=es.default;Object.defineProperty(fi,"__esModule",{value:!0});fi.default=void 0;var kr=sn(Qs),TN=sn(hd),FN=sn(ln),WN=sn(dn),qN=sn(En),ON=sn(An),vr=sn(l),$N=sn(gi),gn=IN(vs),zN=Ts,qs=en,Dr=Is,YN=cn,Ed=function(s){function n(){var t;(0,FN.default)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t=(0,qN.default)(this,n,[].concat(i)),t.handleMove=function(o,m,d){if(!(0,qs.pointInBox)(m,o))return t.reset();var p=t.context.draggable.dragAndDropAction.event||d,f=t.props,u=f.accessors,b=f.slotMetrics,x=f.rtl,j=f.localizer,h=(0,qs.getSlotAtX)(m,o.x,x,b.slots),L=b.getDateForSlot(h),I=(0,Dr.eventTimes)(p,u,j),y=I.start,M=I.duration;y=j.merge(L,y);var se=j.add(y,M,"milliseconds");t.update(p,y,se)},t.handleDropFromOutside=function(o,m){if(t.context.draggable.onDropFromOutside){var d=t.props,p=d.slotMetrics,f=d.rtl,u=d.localizer,b=(0,qs.getSlotAtX)(m,o.x,f,p.slots),x=p.getDateForSlot(b);t.context.draggable.onDropFromOutside({start:x,end:u.add(x,1,"day"),allDay:!1})}},t.handleDragOverFromOutside=function(o,m){var d=t.context.draggable.dragFromOutsideItem?t.context.draggable.dragFromOutsideItem():null;d&&t.handleMove(o,m,d)},t._selectable=function(){var o=t.ref.current.closest(".rbc-month-row, .rbc-allday-cell"),m=o.closest(".rbc-month-view, .rbc-time-view"),d=o.classList.contains("rbc-month-row"),p=t._selector=new gn.default(function(){return m},{validContainers:(0,TN.default)(d?[]:[".rbc-day-slot",".rbc-allday-cell"])});p.on("beforeSelect",function(f){var u=t.props.isAllDay,b=t.context.draggable.dragAndDropAction.action,x=(0,gn.getBoundsForNode)(o),j=(0,qs.pointInBox)(x,f);return b==="move"||b==="resize"&&(!u||j)}),p.on("selecting",function(f){var u=(0,gn.getBoundsForNode)(o),b=t.context.draggable.dragAndDropAction;b.action==="move"&&t.handleMove(f,u),b.action==="resize"&&t.handleResize(f,u)}),p.on("selectStart",function(){return t.context.draggable.onStart()}),p.on("select",function(f){var u=(0,gn.getBoundsForNode)(o);t.state.segment&&((0,qs.pointInBox)(u,f)?t.handleInteractionEnd():t.reset())}),p.on("dropFromOutside",function(f){if(t.context.draggable.onDropFromOutside){var u=(0,gn.getBoundsForNode)(o);(0,qs.pointInBox)(u,f)&&t.handleDropFromOutside(f,u)}}),p.on("dragOverFromOutside",function(f){if(t.context.draggable.dragFromOutsideItem){var u=(0,gn.getBoundsForNode)(o);t.handleDragOverFromOutside(f,u)}}),p.on("click",function(){return t.context.draggable.onEnd(null)}),p.on("reset",function(){t.reset(),t.context.draggable.onEnd(null)})},t.handleInteractionEnd=function(){var o=t.props,m=o.resourceId,d=o.isAllDay,p=t.state.segment.event;t.reset(),t.context.draggable.onEnd({start:p.start,end:p.end,resourceId:m,isAllDay:d})},t._teardownSelectable=function(){t._selector&&(t._selector.teardown(),t._selector=null)},t.state={},t.ref=vr.default.createRef(),t}return(0,ON.default)(n,s),(0,WN.default)(n,[{key:"componentDidMount",value:function(){this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"reset",value:function(){this.state.segment&&this.setState({segment:null})}},{key:"update",value:function(r,i,a){var o=(0,zN.eventSegments)((0,kr.default)((0,kr.default)({},r),{},{end:a,start:i,__isPreview:!0}),this.props.slotMetrics.range,Dr.dragAccessors,this.props.localizer),m=this.state.segment;m&&o.span===m.span&&o.left===m.left&&o.right===m.right||this.setState({segment:o})}},{key:"handleResize",value:function(r,i){var a=this.context.draggable.dragAndDropAction,o=a.event,m=a.direction,d=this.props,p=d.accessors,f=d.slotMetrics,u=d.rtl,b=d.localizer,x=(0,Dr.eventTimes)(o,p,b),j=x.start,h=x.end,L=(0,qs.getSlotAtX)(i,r.x,u,f.slots),I=f.getDateForSlot(L),y=(0,qs.pointInBox)(i,r);if(m==="RIGHT"){if(y){if(f.last<j)return this.reset();b.eq(b.startOf(h,"day"),h)?h=b.add(I,1,"day"):h=I}else if(b.inRange(j,f.first,f.last)||i.bottom<r.y&&+f.first>+j)h=b.add(f.last,1,"milliseconds");else{this.setState({segment:null});return}var M=p.end(o);h=b.merge(h,M),b.lt(h,j)&&(h=M)}else if(m==="LEFT"){if(y){if(f.first>h)return this.reset();j=I}else if(b.inRange(h,f.first,f.last)||i.top>r.y&&b.lt(f.last,h))j=b.add(f.first,-1,"milliseconds");else{this.reset();return}var se=p.start(o);j=b.merge(j,se),b.gt(j,h)&&(j=se)}this.update(o,j,h)}},{key:"render",value:function(){var r=this.props,i=r.children,a=r.accessors,o=this.state.segment;return vr.default.createElement("div",{ref:this.ref,className:"rbc-addons-dnd-row-body"},i,o&&vr.default.createElement($N.default,Object.assign({},this.props,{selected:null,className:"rbc-addons-dnd-drag-row",segments:[o],accessors:(0,kr.default)((0,kr.default)({},a),Dr.dragAccessors)})))}}])}(vr.default.Component);Ed.contextType=YN.DnDContext;fi.default=Ed;var Ds=es.default;Object.defineProperty(Ra,"__esModule",{value:!0});Ra.default=ab;var Vr=Ds(Qs),KN=Ds(Ma),XN=Ds(ln),JN=Ds(dn),QN=Ds(En),GN=Ds(An),Bi=Ds(l),ZN=Ds(mr),eb=Ds(di),tb=Ds(ci),sb=Ds(fi),nb=Is,rb=cn,ib=["selectable","elementProps","components"];function ab(s){var n=function(t){function r(){var i;(0,XN.default)(this,r);for(var a=arguments.length,o=new Array(a),m=0;m<a;m++)o[m]=arguments[m];return i=(0,QN.default)(this,r,[].concat(o)),i.defaultOnDragOver=function(d){d.preventDefault()},i.handleBeginAction=function(d,p,f){i.setState({event:d,action:p,direction:f});var u=i.props.onDragStart;u&&u({event:d,action:p,direction:f})},i.handleInteractionStart=function(){i.state.interacting===!1&&i.setState({interacting:!0})},i.handleInteractionEnd=function(d){var p=i.state,f=p.action,u=p.event;if(f&&(i.setState({action:null,event:null,interacting:!1,direction:null}),d!=null)){d.event=u;var b=i.props,x=b.onEventDrop,j=b.onEventResize;f==="move"&&x&&x(d),f==="resize"&&j&&j(d)}},i.state={interacting:!1},i}return(0,GN.default)(r,t),(0,JN.default)(r,[{key:"getDnDContextValue",value:function(){return{draggable:{onStart:this.handleInteractionStart,onEnd:this.handleInteractionEnd,onBeginAction:this.handleBeginAction,onDropFromOutside:this.props.onDropFromOutside,dragFromOutsideItem:this.props.dragFromOutsideItem,draggableAccessor:this.props.draggableAccessor,resizableAccessor:this.props.resizableAccessor,dragAndDropAction:this.state}}}},{key:"render",value:function(){var a=this.props,o=a.selectable,m=a.elementProps,d=a.components,p=(0,KN.default)(a,ib),f=this.state.interacting;delete p.onEventDrop,delete p.onEventResize,p.selectable=o?"ignoreEvents":!1,this.components=(0,nb.mergeComponents)(d,{eventWrapper:eb.default,eventContainerWrapper:tb.default,weekWrapper:sb.default});var u=this.props.onDropFromOutside?(0,Vr.default)((0,Vr.default)({},m),{},{onDragOver:this.props.onDragOver||this.defaultOnDragOver}):m;p.className=(0,ZN.default)(p.className,"rbc-addons-dnd",!!f&&"rbc-addons-dnd-is-dragging");var b=this.getDnDContextValue();return Bi.default.createElement(rb.DnDContext.Provider,{value:b},Bi.default.createElement(s,Object.assign({},p,{elementProps:u,components:this.components})))}}])}(Bi.default.Component);return n.defaultProps=(0,Vr.default)((0,Vr.default)({},s.defaultProps),{},{draggableAccessor:null,resizableAccessor:null,resizable:!0}),n}var ob=es.default;Object.defineProperty(Pa,"__esModule",{value:!0});var Ad=Pa.default=void 0,mb=ob(Ra);Ad=Pa.default=mb.default;const lb=Ad(Gc),db=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","/","","","","","","","",""];mt.updateLocale("ko",{months:["1","2","3","4","5","6","7","8","9","10","11","12"],monthsShort:["1","2","3","4","5","6","7","8","9","10","11","12"],weekdays:["","","","","","",""],weekdaysShort:["","","","","","",""],weekdaysMin:["","","","","","",""],longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY MMMM D",LLL:"YYYY MMMM D A h:mm",LLLL:"YYYY MMMM D dddd A h:mm"},meridiem:s=>s<12?"":"",week:{dow:0,doy:1}});mt.locale("ko");const cb=Zc(mt),Xo=["#F3F4F6","#F3F4F6","#F3F4F6","#F3F4F6","#F3F4F6","#F3F4F6","#F3F4F6","#F3F4F6","#F3F4F6","#F3F4F6","#F3F4F6","#F3F4F6","#F3F4F6","#F3F4F6","#F3F4F6","#F3F4F6"],ub=tt.memo(({onSave:s,onCancel:n})=>{const[t,r]=l.useState(""),i=()=>{const d=window.innerWidth,p=window.innerHeight;return d>=768&&d<1024||d>=1024&&p>d},[a,o]=l.useState(i);l.useEffect(()=>{const d=()=>o(i());return window.addEventListener("resize",d),()=>window.removeEventListener("resize",d)},[]);const m=a?"16px":"18px";return e.jsxDEV("div",{className:"w-full",onClick:d=>d.stopPropagation(),style:{padding:a?"2px 3px":"6px 0",minHeight:a?"28px":"32px"},children:e.jsxDEV("input",{type:"text",value:t,onChange:d=>r(d.target.value),onBlur:()=>{t.trim()?s(t.trim()):n()},onKeyDown:d=>{d.stopPropagation(),d.key==="Enter"?t.trim()?s(t.trim()):n():d.key==="Escape"&&n()},onClick:d=>d.stopPropagation(),placeholder:"",className:"w-full bg-transparent border-none outline-none focus:outline-none focus:ring-0",autoFocus:!0,style:{fontSize:m,fontWeight:500,color:"#374151",padding:0,margin:0,lineHeight:"1.3",caretColor:"#374151"}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:135,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:130,columnNumber:5},void 0)}),Jo=s=>s,Kn={"2025-01-01":"","2025-01-28":" ","2025-01-29":"","2025-01-30":" ","2025-03-01":"","2025-03-03":"","2025-05-05":"","2025-05-06":"","2025-06-06":"","2025-08-15":"","2025-10-03":"","2025-10-05":" ","2025-10-06":"","2025-10-07":" ","2025-10-08":"","2025-10-09":"","2025-12-25":""},pb=tt.memo(({date:s,label:n,filteredEvents:t,selectedDate:r,user:i,isMobileView:a})=>{const o=mt(s).format("YYYY-MM-DD"),m=Kn[o],d=!!Kn[o],p=r&&mt(s).isSame(r,"day"),f=t.filter(w=>mt(w.start).isSame(s,"day")),u=f.length,b=f.filter(w=>w.assignedTo&&w.assignedTo.includes((i==null?void 0:i.name)||"")).length,x=u-b,j=n.replace(/^0/,""),h=s.getDay()===0,L=s.getDay()===6;let I="#000000";d||h?I="#dc2626":L&&(I="#3b82f6");const y=mt(s).isSame(mt(),"day");let M="#d1d5db";d||h?M="#fecaca":L&&(M="#bfdbfe");const se=j.length===2,re=a?{backgroundColor:"transparent",color:I,borderRadius:"50%",width:"30px",height:"30px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",fontWeight:y?"700":"400",border:p?"1px solid #1f2937":"1px solid transparent",boxSizing:"border-box",gap:"1px"}:{color:I,fontWeight:y?"700":"400",paddingLeft:se?"0px":"4px",...y&&{backgroundColor:M,borderRadius:"50%",width:"21px",height:"21px",display:"inline-flex",alignItems:"center",justifyContent:"center",paddingLeft:"0px"}};return e.jsxDEV("div",{className:a?"flex flex-col items-center":"flex items-center gap-2",style:{overflow:"visible",position:"relative",zIndex:10},children:a?e.jsxDEV("span",{style:re,children:[e.jsxDEV("span",{style:{fontSize:"13px",lineHeight:"1"},children:j},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:309,columnNumber:11},void 0),u>0&&e.jsxDEV("div",{className:"flex gap-0.5",style:{minHeight:"4px",marginTop:"1px"},children:[Array.from({length:b}).map((w,O)=>e.jsxDEV("div",{style:{width:"4px",height:"4px",borderRadius:"50%",backgroundColor:"#66BB6A",flexShrink:0}},`user-${O}`,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:315,columnNumber:17},void 0)),Array.from({length:x}).map((w,O)=>e.jsxDEV("div",{style:{width:"4px",height:"4px",borderRadius:"50%",backgroundColor:"#757575",flexShrink:0}},`other-${O}`,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:328,columnNumber:17},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:312,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:308,columnNumber:9},void 0):e.jsxDEV(e.Fragment,{children:[e.jsxDEV("span",{style:re,children:j},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:345,columnNumber:11},void 0),m&&e.jsxDEV("span",{className:"text-xs font-medium",style:{color:"#ef4444"},children:m},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:347,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:344,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:302,columnNumber:5},void 0)}),fb=tt.memo(({event:s,user:n,filterProject:t,isEditing:r,editTitle:i,onEditTitleChange:a,onEditSave:o,onEditDelete:m,onEditCancel:d,onHoverDelete:p,onDeleteAction:f})=>{const u=t&&t!=="all",b=s.assignedTo||[],[x,j]=l.useState(!1),h=tt.useRef(null),L=()=>{const Q=window.innerWidth,he=window.innerHeight;return Q>=768&&Q<1024||Q>=1024&&he>Q},[I,y]=l.useState(L),[M,se]=l.useState(!1);tt.useRef(null),tt.useRef(!1);const re=n!=null&&n.name?n.name.slice(-2):null,w=re&&["",""].includes(re),O=re&&["","",""].includes(re),ie=(n==null?void 0:n.name)&&(b.includes(n.name)||b.includes("HV LAB")||b.includes("")&&O||b.includes("")&&w);l.useEffect(()=>{const Q=()=>{y(L())};return window.addEventListener("resize",Q),()=>window.removeEventListener("resize",Q)},[]);const de=Q=>{a&&a(Q)},ue=()=>{i!=null&&i.trim()&&o&&o(),d&&d()},ve=Q=>{Q.stopPropagation(),(Q.key==="Enter"||Q.key==="Escape")&&Q.currentTarget.blur()};return I?e.jsxDEV("div",{className:"w-full relative block",onMouseEnter:()=>{se(!0),j(!0)},onMouseLeave:()=>{se(!1),j(!1)},style:{padding:u?"2px 3px":"1px 3px",minHeight:u?"28px":"30px",display:"flex",flexDirection:"column",justifyContent:"flex-start"},children:[x&&u&&p&&!s.isASVisit&&!s.isExpectedPayment&&e.jsxDEV("div",{className:"absolute top-0 right-0 z-20",style:{padding:"4px"},children:e.jsxDEV("button",{ref:h,onMouseDown:Q=>{Q.stopPropagation(),Q.preventDefault(),f&&f(),p()},className:"p-1 text-gray-500 hover:text-red-500",style:{fontSize:"14px",lineHeight:1},title:" (Ctrl+Z )",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:468,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:467,columnNumber:11},void 0),e.jsxDEV("div",{className:"flex items-center justify-between w-full",style:{fontSize:u?"13px":"10px",opacity:.8,marginBottom:"1px",lineHeight:"1.2"},children:[!u&&!s.isASVisit&&s.projectName?e.jsxDEV("span",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:"60%",flexShrink:0},children:["[",Jo(s.projectName),"]"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:489,columnNumber:13},void 0):e.jsxDEV("span",{},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:499,columnNumber:13},void 0),!u&&b.length>0&&e.jsxDEV("span",{style:{flexShrink:0,fontSize:"10px",marginLeft:"auto"},children:b.map((Q,he)=>{const Ne=Q==="HV LAB"||Q===""&&w||Q===""&&O||Q===(n==null?void 0:n.name);return e.jsxDEV(tt.Fragment,{children:[e.jsxDEV("span",{style:{fontWeight:Ne?"bold":"normal"},children:Q},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:510,columnNumber:21},void 0),he<b.length-1&&""]},Q,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:509,columnNumber:19},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:502,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:487,columnNumber:9},void 0),r?e.jsxDEV("input",{type:"text",value:i||"",onChange:Q=>de(Q.target.value),onBlur:ue,onKeyDown:ve,onClick:Q=>Q.stopPropagation(),autoFocus:!0,className:"w-full bg-transparent border-none outline-none",style:{fontWeight:500,fontSize:u?"16px":"11px",lineHeight:"1.3",color:"inherit",padding:0,margin:0}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:523,columnNumber:11},void 0):e.jsxDEV("div",{style:{fontWeight:500,fontSize:u?"16px":"11px",lineHeight:"1.3",overflow:"hidden",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",wordBreak:"keep-all",textOverflow:"ellipsis",textDecoration:ie?"underline":"none",textDecorationColor:ie?"#e57373":"transparent",textDecorationThickness:"2px",textUnderlineOffset:"2px"},title:s.title,children:s.title},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:542,columnNumber:11},void 0),M&&e.jsxDEV("div",{className:"absolute z-50 bg-gray-900 text-white text-xs rounded p-2 shadow-lg",style:{bottom:"100%",left:"0",marginBottom:"4px",minWidth:"200px",maxWidth:"300px"},children:[e.jsxDEV("div",{className:"font-semibold mb-1",children:s.title},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:576,columnNumber:13},void 0),s.projectName&&e.jsxDEV("div",{className:"opacity-90",children:[": ",s.projectName]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:578,columnNumber:15},void 0),b.length>0&&e.jsxDEV("div",{className:"opacity-90 mt-1",children:[": ",b.join(", ")]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:581,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:566,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:453,columnNumber:7},void 0):e.jsxDEV("div",{className:"flex items-center justify-between w-full gap-1.5 overflow-hidden relative",onMouseEnter:()=>j(!0),onMouseLeave:()=>j(!1),style:{minHeight:u?"32px":"18px",padding:u?"6px 0":"0"},children:[e.jsxDEV("div",{className:"flex items-center gap-1.5 overflow-hidden flex-1",children:[!u&&!s.isASVisit&&s.projectName&&e.jsxDEV("span",{className:"text-xs opacity-70 flex-shrink-0",children:["[",Jo(s.projectName),"]"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:603,columnNumber:11},void 0),r?e.jsxDEV("input",{type:"text",value:i||"",onChange:Q=>de(Q.target.value),onBlur:ue,onKeyDown:ve,onClick:Q=>Q.stopPropagation(),autoFocus:!0,className:"font-medium bg-transparent border-none outline-none flex-1",style:{fontSize:u?"18px":"12px",color:"inherit",padding:0,margin:0,minWidth:0}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:608,columnNumber:11},void 0):e.jsxDEV("span",{className:"font-medium truncate",style:{fontSize:u?"18px":"12px",textDecoration:ie?"underline":"none",textDecorationColor:ie?"#e57373":"transparent",textDecorationThickness:"2px",textUnderlineOffset:"2px"},children:s.title},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:626,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:600,columnNumber:7},void 0),!u&&b.length>0&&e.jsxDEV("span",{className:"opacity-80 flex-shrink-0 ml-auto",style:{fontSize:"11px"},children:b.map((Q,he)=>{const Ne=Q==="HV LAB"||Q===""&&w||Q===""&&O||Q===(n==null?void 0:n.name);return e.jsxDEV(tt.Fragment,{children:[e.jsxDEV("span",{className:Ne?"font-bold":"",children:Q},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:653,columnNumber:17},void 0),he<b.length-1&&""]},Q,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:652,columnNumber:15},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:642,columnNumber:9},void 0),x&&u&&p&&!s.isASVisit&&!s.isExpectedPayment&&e.jsxDEV("div",{className:"absolute top-1/2 -translate-y-1/2 right-0 z-20",style:{padding:"2px"},children:e.jsxDEV("button",{ref:h,onMouseDown:Q=>{Q.stopPropagation(),Q.preventDefault(),f&&f(),p()},className:"p-1 text-gray-500 hover:text-red-500",style:{fontSize:"14px",lineHeight:1},title:" (Ctrl+Z )",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:665,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:664,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:591,columnNumber:5},void 0)}),gb=()=>{const{schedules:s,setSchedules:n,loadSchedulesFromAPI:t,addScheduleToAPI:r,updateScheduleInAPI:i,deleteScheduleFromAPI:a,asRequests:o,updateASRequestInAPI:m,loadASRequestsFromAPI:d,constructionPayments:p,updateConstructionPaymentInAPI:f}=ks(),{user:u}=Qt(),b=us(),[x,j]=l.useState(!1);l.useEffect(()=>{const g=()=>{const S=window.innerHeight>window.innerWidth&&window.innerWidth>=1024;j(S)};return g(),window.addEventListener("resize",g),()=>window.removeEventListener("resize",g)},[]);const h=g=>!g||g==="-"?"":x?g:Xr(g),L=u!=null&&u.name?u.name.slice(-2):null;console.log(" Current user:",u==null?void 0:u.name,"Short name:",L),l.useEffect(()=>{t().catch(g=>{console.error("Failed to load schedules:",g),P.error("  ")})},[t]);const[I,y]=l.useState([]);l.useEffect(()=>{const g=async S=>{if((S.ctrlKey||S.metaKey)&&S.key==="z"){const te=S.target;if(te.tagName==="INPUT"||te.tagName==="TEXTAREA"||te.isContentEditable)return;if(I.length>0){S.preventDefault();const ae=I[I.length-1];try{const be=ae.type==="as_visit"||ae.type==="expected_payment"?"other":ae.type;await r({id:"",title:ae.originalTitle||ae.title,start:ae.start,end:ae.end,type:be,project:ae.originalProjectName||ae.projectName,attendees:ae.assignedTo||[],time:ae.time,description:ae.description}),y(_e=>_e.slice(0,-1)),t(),P.success(" ")}catch(be){console.error("  :",be),P.error("  ")}}}};return window.addEventListener("keydown",g),()=>window.removeEventListener("keydown",g)},[I,r,t]);const[M,se]=l.useState([]),[re,w]=l.useState(!1),[O,ie]=l.useState(""),[de,ue]=l.useState(null),[ve,Q]=l.useState(""),[he,Ne]=l.useState(!1),[Ve,je]=l.useState(null),[Be,Xe]=l.useState(null),le=l.useCallback(async()=>{Ne(!0);try{const g=await fetch("/api/processes");if(g.ok){const S=await g.json();se(S)}else console.error("   "),P.error("    ")}catch(g){console.error("   :",g),P.error("  ")}finally{Ne(!1)}},[]);l.useEffect(()=>{le()},[le]);const Le=l.useMemo(()=>M.length>0?M.map(g=>g.name):db,[M]),Ue=async()=>{if(O.trim())try{const g=await fetch("/api/processes",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:O.trim()})});if(g.ok)ie(""),le(),P.success(" ");else{const S=await g.json();P.error(S.error||"  ")}}catch(g){console.error("  :",g),P.error("  ")}},Ce=async()=>{if(!(!de||!ve.trim()))try{const g=await fetch(`/api/processes/${de.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:ve.trim()})});if(g.ok)ue(null),Q(""),le(),P.success(" ");else{const S=await g.json();P.error(S.error||"  ")}}catch(g){console.error("  :",g),P.error("  ")}},Re=async g=>{if(confirm("   ?"))try{const S=await fetch(`/api/processes/${g}`,{method:"DELETE"});if(S.ok)le(),P.success(" ");else{const te=await S.json();P.error(te.error||"  ")}}catch(S){console.error("  :",S),P.error("  ")}},We=g=>{je(g)},Te=(g,S)=>{g.preventDefault(),Ve!==null&&Ve!==S&&Xe(S)},qe=async()=>{if(Ve!==null&&Be!==null&&Ve!==Be){const g=[...M],[S]=g.splice(Ve,1);g.splice(Be,0,S),se(g);try{(await fetch("/api/processes/reorder/bulk",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({orders:g.map(ae=>({id:ae.id}))})})).ok||(le(),P.error("  "))}catch(te){console.error("  :",te),le(),P.error("  ")}}je(null),Xe(null)},R=g=>{const S=b.findIndex(te=>te.name===g);return S>=0?Xo[S%Xo.length]:"#e8e2ea"},fe=b.map(g=>g.name),pe=s.filter(g=>!g.asRequestId).filter(g=>(u==null?void 0:u.name)===""?g.project===""||fe.includes(g.project):!0).map(g=>{const S=b.find(Ee=>Ee.name===g.project);let te=g.project===""?"[]":g.project;if(S&&g.project!==""){const Ee=S.name.length>2?S.name.substring(0,2):S.name,rt=(S.location||"").match(/([A-Za-z]?\d+)/),Tt=rt?rt[1]:"";te=Tt?`${Ee}_${Tt}`:Ee}const ae=g.time,be=ae&&ae!=="-"?` - ${h(ae)}`:"",_e=g.attendees||[];return{id:g.id,title:g.title+be,originalTitle:g.title,start:g.start,end:g.end,projectId:(S==null?void 0:S.id)||"",projectName:te||"",originalProjectName:g.project||"",type:g.type||"other",phase:"",assignedTo:_e,priority:"medium",allDay:!ae||ae==="-",color:R(g.project||""),isASVisit:!1,time:ae,description:g.description}}),He=o.filter(g=>g.scheduledVisitDate).filter(g=>(u==null?void 0:u.name)===""?fe.includes(g.project):!0).map(g=>{const S=g.scheduledVisitTime,te=S&&S!=="-"?` - ${h(S)}`:"",ae=b.find(Ee=>Ee.name===g.project);let be=g.project;if(ae){const Ee=ae.name.length>2?ae.name.substring(0,2):ae.name,rt=(ae.location||"").match(/([A-Za-z]?\d+)/),Tt=rt?rt[1]:"";be=Tt?`${Ee}_${Tt}`:Ee}const _e=`[AS] ${be}`;return{id:`as-${g.id}`,title:_e+te,originalTitle:_e,start:g.scheduledVisitDate,end:g.scheduledVisitDate,projectId:(ae==null?void 0:ae.id)||"",projectName:be,originalProjectName:g.project,type:"as_visit",phase:"",assignedTo:g.assignedTo?Array.isArray(g.assignedTo)?g.assignedTo:g.assignedTo.split(",").map(Ee=>Ee.trim()):[],priority:"high",allDay:!S||S==="-",color:"#FEF3C7",isASVisit:!0,time:S,description:g.description}}),Z=(u==null?void 0:u.role)==="manager"?p.flatMap(g=>{var _e,Ee,at,rt,Tt,wt,ss,Ot;const S=b.find(vt=>vt.name===g.project);if(!S){const vt=[],ft=g.totalAmount+(g.vatType==="percentage"?g.totalAmount*(g.vatPercentage/100):g.vatAmount),$t=new Set(g.payments.flatMap(ns=>{var _t;return((_t=ns.type)==null?void 0:_t.split(", ").map(Bt=>Bt.trim()))||[]}));return!$t.has("")&&((_e=g.expectedPaymentDates)!=null&&_e.contract)&&vt.push({id:`payment-${g.id}-contract`,title:"[] ",originalTitle:"[] ",start:new Date(g.expectedPaymentDates.contract),end:new Date(g.expectedPaymentDates.contract),projectId:"",projectName:g.project,type:"expected_payment",phase:"",assignedTo:[],priority:"medium",allDay:!0,color:"#DBEAFE",isExpectedPayment:!0,description:` (10%): ${Math.round(ft*.1).toLocaleString()}`}),!$t.has("")&&((Ee=g.expectedPaymentDates)!=null&&Ee.start)&&vt.push({id:`payment-${g.id}-start`,title:"[] ",originalTitle:"[] ",start:new Date(g.expectedPaymentDates.start),end:new Date(g.expectedPaymentDates.start),projectId:"",projectName:g.project,type:"expected_payment",phase:"",assignedTo:[],priority:"medium",allDay:!0,color:"#DBEAFE",isExpectedPayment:!0,description:` (40%): ${Math.round(ft*.4).toLocaleString()}`}),!$t.has("")&&((at=g.expectedPaymentDates)!=null&&at.middle)&&vt.push({id:`payment-${g.id}-middle`,title:"[] ",originalTitle:"[] ",start:new Date(g.expectedPaymentDates.middle),end:new Date(g.expectedPaymentDates.middle),projectId:"",projectName:g.project,type:"expected_payment",phase:"",assignedTo:[],priority:"medium",allDay:!0,color:"#DBEAFE",isExpectedPayment:!0,description:` (40%): ${Math.round(ft*.4).toLocaleString()}`}),!$t.has("")&&((rt=g.expectedPaymentDates)!=null&&rt.final)&&vt.push({id:`payment-${g.id}-final`,title:"[] ",originalTitle:"[] ",start:new Date(g.expectedPaymentDates.final),end:new Date(g.expectedPaymentDates.final),projectId:"",projectName:g.project,type:"expected_payment",phase:"",assignedTo:[],priority:"medium",allDay:!0,color:"#DBEAFE",isExpectedPayment:!0,description:` (10%): ${Math.round(ft*.1).toLocaleString()}`}),vt}if(!S.startDate||!S.endDate)return[];const te=g.totalAmount+(g.vatType==="percentage"?g.totalAmount*(g.vatPercentage/100):g.vatAmount),ae=new Set(g.payments.flatMap(vt=>{var ft;return((ft=vt.type)==null?void 0:ft.split(", ").map($t=>$t.trim()))||[]})),be=[];return!ae.has("")&&((Tt=g.expectedPaymentDates)!=null&&Tt.contract)&&be.push({id:`payment-${g.id}-contract`,title:"[] ",originalTitle:"[] ",start:new Date(g.expectedPaymentDates.contract),end:new Date(g.expectedPaymentDates.contract),projectId:S.id||"",projectName:g.project,type:"expected_payment",phase:"",assignedTo:[],priority:"medium",allDay:!0,color:"#DBEAFE",isExpectedPayment:!0,description:` (10%): ${Math.round(te*.1).toLocaleString()}`}),!ae.has("")&&((wt=g.expectedPaymentDates)!=null&&wt.start)&&be.push({id:`payment-${g.id}-start`,title:"[] ",originalTitle:"[] ",start:new Date(g.expectedPaymentDates.start),end:new Date(g.expectedPaymentDates.start),projectId:S.id||"",projectName:g.project,type:"expected_payment",phase:"",assignedTo:[],priority:"medium",allDay:!0,color:"#DBEAFE",isExpectedPayment:!0,description:` (40%): ${Math.round(te*.4).toLocaleString()}`}),!ae.has("")&&((ss=g.expectedPaymentDates)!=null&&ss.middle)&&be.push({id:`payment-${g.id}-middle`,title:"[] ",originalTitle:"[] ",start:new Date(g.expectedPaymentDates.middle),end:new Date(g.expectedPaymentDates.middle),projectId:S.id||"",projectName:g.project,type:"expected_payment",phase:"",assignedTo:[],priority:"medium",allDay:!0,color:"#DBEAFE",isExpectedPayment:!0,description:` (40%): ${Math.round(te*.4).toLocaleString()}`}),!ae.has("")&&((Ot=g.expectedPaymentDates)!=null&&Ot.final)&&be.push({id:`payment-${g.id}-final`,title:"[] ",originalTitle:"[] ",start:new Date(g.expectedPaymentDates.final),end:new Date(g.expectedPaymentDates.final),projectId:S.id||"",projectName:g.project,type:"expected_payment",phase:"",assignedTo:[],priority:"medium",allDay:!0,color:"#DBEAFE",isExpectedPayment:!0,description:` (10%): ${Math.round(te*.1).toLocaleString()}`}),be}):[],A=[...pe,...He,...Z],ce=l.useCallback(g=>{if(!(u!=null&&u.name))return!1;const S=g.assignedTo||[],te=u.name.slice(-2),ae=["",""].includes(te),be=["","",""].includes(te);return S.includes(u.name)||S.includes("HV LAB")||S.includes("")&&be||S.includes("")&&ae},[u==null?void 0:u.name]),V=(g,S)=>{if(!S)return[...g].sort((be,_e)=>{const Ee=ce(be),at=ce(_e);return Ee&&!at?-1:!Ee&&at?1:be.start.getTime()-_e.start.getTime()});const te=new Map;g.forEach(be=>{if(be.isASVisit||be.isExpectedPayment){const _e=`single_${be.id}`;te.set(_e,[be])}else{const _e=be.start.toISOString().split("T")[0],Ee=[...be.assignedTo].sort().join(","),at=`${_e}_${be.projectName}_${Ee}`;te.has(at)||te.set(at,[]),te.get(at).push(be)}});const ae=[];return te.forEach(be=>{if(be.length===1)ae.push(be[0]);else{const _e=be[0],Ee=be.map(vt=>vt.originalTitle||vt.title),at=[...new Set(Ee)],rt=be.filter(vt=>vt.time&&vt.time!=="-").map(vt=>vt.time),Tt=rt.length>0?` - ${rt.join(", ")}`:"",wt=be.map(vt=>{const ft=vt.originalTitle||vt.title;return ft.startsWith(_e.projectName+" - ")?ft.substring(_e.projectName.length+3):ft}),ss=[...new Set(wt)],Ot={..._e,id:be[0].id,title:`${ss.join(", ")}${Tt}`,originalTitle:at.join(", "),description:be.map(vt=>vt.description||vt.originalTitle||vt.title).join(`
`),assignedTo:[...new Set(be.flatMap(vt=>vt.assignedTo))],mergedEventIds:be.map(vt=>vt.id)};ae.push(Ot)}}),ae.sort((be,_e)=>{const Ee=ce(be),at=ce(_e);return Ee&&!at?-1:!Ee&&at?1:be.start.getTime()-_e.start.getTime()})},[_,me]=l.useState("month"),[xe,Me]=l.useState(new Date),[Fe,B]=l.useState(!1),[$,G]=l.useState(null),[T,C]=l.useState(null),z=`schedule_filterProject_${(u==null?void 0:u.id)||"guest"}`,[X,K]=l.useState(()=>{const g=localStorage.getItem(z);return g||((u==null?void 0:u.name)===""&&b.length>0?b[0].name:"all")});l.useEffect(()=>{localStorage.setItem(z,X)},[X,z]),l.useCallback(()=>{document.body.classList.add("printing-schedule");const g=X==="all"?" ":X,S=mt(xe).format("YYYY MM"),te=document.title;document.title=`${g} - ${S} `,setTimeout(()=>{window.print(),document.body.classList.remove("printing-schedule"),document.title=te},100)},[X,xe]);const N=V(A,X==="all"),[D,U]=l.useState(window.innerWidth<768?new Date:null),[Y,ke]=l.useState(null),De=tt.useRef(!1),Ie=tt.useRef(!1),$e=tt.useRef(!1);l.useEffect(()=>{const g=ae=>{ae.key==="Control"&&($e.current=!0)},S=ae=>{ae.key==="Control"&&($e.current=!1)},te=()=>{$e.current=!1};return window.addEventListener("keydown",g),window.addEventListener("keyup",S),window.addEventListener("blur",te),()=>{window.removeEventListener("keydown",g),window.removeEventListener("keyup",S),window.removeEventListener("blur",te)}},[]),l.useEffect(()=>{if(!Y)return;let g=null;const S=be=>{const Ee=be.target.closest(".rbc-day-bg");g&&g!==Ee&&(g.style.backgroundColor=""),Ee&&(Ee.style.backgroundColor="rgba(59, 130, 246, 0.15)",g=Ee)},te=()=>{g&&(g.style.backgroundColor="",g=null)},ae=()=>{g&&(g.style.backgroundColor="",g=null)};return document.addEventListener("dragover",S),document.addEventListener("dragend",te),document.addEventListener("drop",ae),()=>{document.removeEventListener("dragover",S),document.removeEventListener("dragend",te),document.removeEventListener("drop",ae),g&&(g.style.backgroundColor="")}},[Y]);const[ot,et]=l.useState(null),[Qe,it]=l.useState(null),[yt,lt]=l.useState(""),[ct,ut]=l.useState(null),[ht,Ct]=l.useState({x:0,y:0}),[kt,c]=l.useState({x:0,y:0}),[k,H]=l.useState(!1),J=8;l.useEffect(()=>{if(!ct)return;const g=te=>{Ct({x:te.clientX,y:te.clientY});const ae=Math.abs(te.clientX-kt.x),be=Math.abs(te.clientY-kt.y);(ae>J||be>J)&&H(!0)},S=()=>{ut(null),H(!1)};return window.addEventListener("mousemove",g),window.addEventListener("mouseup",S),()=>{window.removeEventListener("mousemove",g),window.removeEventListener("mouseup",S)}},[ct,kt]);const F=tt.useRef(!1),ee=l.useCallback(async({event:g,start:S,end:te})=>{if(g.isASVisit||g.isExpectedPayment){P.error("    ");return}const ae=S instanceof Date?S:new Date(S),be=te instanceof Date?te:new Date(te);if($e.current)try{const Ee=g.mergedEventIds||[g.id],at=s.filter(rt=>Ee.includes(rt.id));for(const rt of at)await r({id:Date.now().toString()+Math.random().toString(36).substr(2,9),title:rt.title,start:ae,end:be,project:rt.project,attendees:rt.attendees||[],time:rt.time,priority:rt.priority||"medium"});P.success(" "),t()}catch(Ee){console.error("  :",Ee),P.error("  ")}else{const Ee=g.mergedEventIds||[g.id],at=[...s];n(s.map(rt=>Ee.includes(rt.id)?{...rt,start:ae,end:be}:rt));try{for(const rt of Ee)await i(rt,{start:ae,end:be})}catch(rt){n(at),console.error("  :",rt),P.error("  ")}}},[s,n,i,r,t]),q=l.useCallback(({event:g,action:S})=>{var ae;if(g.isASVisit||g.isExpectedPayment||g.id==="__inline_add__")return;const te=document.querySelectorAll(".rbc-event");for(const be of te)if((ae=be.textContent)!=null&&ae.includes(g.originalTitle||g.title)){const _e=be.getBoundingClientRect();c({x:_e.left,y:_e.top}),Ct({x:_e.left,y:_e.top});break}H(!1),ut(g)},[]),ye=l.useCallback(async(g,S)=>{if(!De.current){if(X==="all"){P.error("  ");return}De.current=!0;try{await r({id:Date.now().toString(),title:g,start:S,end:S,type:"construction",project:X,location:"",attendees:u!=null&&u.name?[u.name]:[],description:""}),await t()}catch(te){console.error("  :",te),P.error("  ")}finally{setTimeout(()=>{De.current=!1},500)}}},[X,r,t,u]),v=l.useCallback(({start:g})=>{if(Y&&X!=="all"&&!De.current){Ie.current=!0,setTimeout(()=>{Ie.current=!1},500),et(null),it(null),lt("");const S=Y;ke(null),ye(S,g)}},[Y,X,ye]),ne=l.useCallback(()=>Y?{title:Y}:null,[Y]),ge=l.useCallback(async g=>{if(!g.trim()||!ot||X==="all"){et(null);return}try{await r({id:Date.now().toString(),title:g.trim(),start:ot,end:ot,type:"construction",project:X,location:"",attendees:u!=null&&u.name?[u.name]:[],description:""}),t()}catch(S){console.error("  :",S),P.error("  ")}et(null)},[ot,X,r,t,u]),Se=l.useCallback(()=>{et(null)},[]),ze=l.useCallback(async()=>{var g;if(!Qe||!yt.trim()){it(null),lt("");return}try{const S=((g=Qe.mergedEventIds)==null?void 0:g[0])||Qe.id;await i(S,{title:yt.trim()}),t()}catch(S){console.error("  :",S),P.error("  ")}it(null),lt("")},[Qe,yt,i,t]),Je=l.useCallback(async g=>{try{y(te=>[...te,g]);const S=g.mergedEventIds||[g.id];for(const te of S)await a(te);t(),P.success(" (Ctrl+Z )",{duration:2e3})}catch(S){console.error("  :",S),P.error("  "),y(te=>te.slice(0,-1))}it(null),lt("")},[a,t]),Ge=X==="all"?N:N.filter(g=>(g.originalProjectName||g.projectName)===X),st=tt.useMemo(()=>{const g=X!=="all",S=new Map;Ge.forEach(ae=>{const be=mt(ae.start).format("YYYY-MM-DD");S.has(be)||S.set(be,[]),S.get(be).push(ae)});const te=[];return S.forEach(ae=>{if(g)[...ae].sort((_e,Ee)=>{const at=parseInt(_e.id)||0,rt=parseInt(Ee.id)||0;return at-rt}).forEach((_e,Ee)=>{const at=mt(_e.start).startOf("day").add(Ee,"milliseconds").toDate();te.push({..._e,start:at,allDay:!1})});else{const be=[],_e=[];ae.forEach(Ee=>{ce(Ee)?be.push(Ee):_e.push(Ee)}),be.forEach((Ee,at)=>{const rt=mt(Ee.start).startOf("day").add(at,"milliseconds").toDate();te.push({...Ee,start:rt,allDay:!1})}),_e.forEach((Ee,at)=>{const rt=mt(Ee.start).startOf("day").add(1e3+at,"milliseconds").toDate();te.push({...Ee,start:rt,allDay:!1})})}}),te.sort((ae,be)=>ae.start.getTime()-be.start.getTime())},[Ge,ce,X]),Oe=tt.useMemo(()=>{if(ot&&X!=="all"){const g=mt(ot).format("YYYY-MM-DD"),S=st.filter(_e=>mt(_e.start).format("YYYY-MM-DD")===g),te=S.length>0?Math.max(...S.map(_e=>_e.start.getTime())):mt(ot).startOf("day").valueOf(),ae=new Date(te+1),be={id:"__inline_add__",title:"",start:ae,end:ae,projectId:"",projectName:X,type:"other",phase:"",assignedTo:[],priority:"medium",allDay:!1};return[...st,be]}return st},[st,ot,X]);l.useEffect(()=>{(u==null?void 0:u.name)===""&&b.length>0&&(X==="all"||!b.find(g=>g.name===X))&&K(b[0].name)},[b,u]),l.useEffect(()=>{const g=()=>{document.querySelectorAll(".rbc-show-more, .rbc-button-link").forEach(Ee=>{Ee.style.display="none",Ee.style.visibility="hidden",Ee.style.pointerEvents="none"}),document.querySelectorAll('.rbc-overlay, .rbc-overlay-header, .rbc-popup, [class*="rbc-overlay"]').forEach(Ee=>{Ee.style.display="none",Ee.style.visibility="hidden",Ee.style.opacity="0",Ee.style.pointerEvents="none",Ee.style.position="absolute",Ee.style.left="-9999px",Ee.style.top="-9999px",Ee.style.zIndex="-1"})};g();const S=new MutationObserver(g),te=document.querySelector(".rbc-calendar");te&&S.observe(te,{childList:!0,subtree:!0});const ae=new MutationObserver(g);return ae.observe(document.body,{childList:!0,subtree:!0}),()=>{S.disconnect(),ae.disconnect()}},[_,xe]);const[Ye,W]=l.useState({date:null,projectId:"",title:""}),oe=tt.useRef(!1),Pe=tt.useRef(null),nt=g=>{if(F.current){F.current=!1;return}if(g.id==="__inline_add__")return;oe.current=!0,Pe.current&&clearTimeout(Pe.current);const S=X!=="all",te=window.innerWidth<768;if(S&&!te&&!g.isASVisit&&!g.isExpectedPayment)et(null),it(g),lt(g.originalTitle||g.title);else{const ae={...g,title:g.originalTitle||g.title};C(null),G(ae),B(!0)}Pe.current=setTimeout(()=>{oe.current=!1,Pe.current=null},300)},Ze=g=>{const S=window.innerWidth,te=S<768,ae=S>=768&&S<1024,be=X==="all";if(Ie.current)return;if(te){if(g.start){U(g.start);const Ee=document.querySelector(".md\\:hidden.mt-3.bg-white");Ee&&Ee.scrollIntoView({behavior:"smooth",block:"nearest"})}return}const _e=g.action==="click"||g.action==="select";if(!(ae&&!_e)){if(be){oe.current=!1,it(null),lt(""),et(null),C(g),G(null),B(!0);return}oe.current||(it(null),lt(""),et(g.start))}},bt=async()=>{if(!Ye.projectId||!Ye.title.trim()){alert("  ");return}const g=b.find(S=>S.id===Ye.projectId);if(!(!g||!Ye.date))try{await r({id:Date.now().toString(),title:Ye.title,start:Ye.date,end:Ye.date,type:"other",project:g.name,location:"",attendees:[],description:""}),W({date:null,projectId:"",title:""}),U(null)}catch(S){console.error("Failed to add schedule:",S),P.error("  ")}},Et=g=>{if(g.id==="__inline_add__")return{style:{backgroundColor:"#ffffff",borderRadius:"6px",color:"#1f2937",border:"1px solid #d1d5db",display:"block",fontSize:"0.8125rem",padding:"0",fontWeight:"400",boxShadow:"0 1px 2px rgba(0,0,0,0.05)",overflow:"visible"}};let S=g.color||"#E0E7FF",te="#1f2937";if(g.isASVisit)S="#E8F5E9",te="#1f2937";else{const ae=g.assignedTo&&g.assignedTo.includes("HV LAB"),be=g.assignedTo&&g.assignedTo.includes("")&&L&&["",""].includes(L),_e=g.assignedTo&&g.assignedTo.includes("")&&L&&["","",""].includes(L);g.assignedTo&&g.assignedTo.includes((u==null?void 0:u.name)||"")||ae||be||_e?(S="#FEF3C7",te="#1f2937"):g.color||(S="#e8e2ea")}return{style:{backgroundColor:S,"--event-bg-color":S,borderRadius:"6px",color:te,border:"none",display:"block",fontSize:"0.8125rem",padding:"4px 8px",fontWeight:"500",boxShadow:"0 1px 2px rgba(0,0,0,0.05)",overflow:"hidden"}}},At=tt.useCallback(g=>{const S=mt(g).format("YYYY-MM-DD"),te=!!Kn[S],ae=D&&mt(g).isSame(D,"day"),be=window.innerWidth<768;let _e="";ae&&(_e+="selected-date "),te&&(_e+="holiday-date ");const Ee=be?{backgroundColor:"transparent",background:"transparent"}:{};return{className:_e.trim(),style:Ee}},[D]),[pt,Lt]=l.useState(window.innerWidth<768);l.useEffect(()=>{const g=()=>{Lt(window.innerWidth<768)};return window.addEventListener("resize",g),()=>window.removeEventListener("resize",g)},[]),l.useEffect(()=>{const g=()=>{const S=D||new Date;C({start:S,end:S}),G(null),B(!0)};return window.addEventListener("headerAddButtonClick",g),()=>window.removeEventListener("headerAddButtonClick",g)},[D]);const Ht=tt.useCallback(({date:g,label:S})=>e.jsxDEV(pb,{date:g,label:S,filteredEvents:Oe,selectedDate:D,user:u,isMobileView:pt},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2247,columnNumber:7},void 0),[Oe,D,u,pt]),Vt=tt.useCallback(({event:g})=>{if(g.id==="__inline_add__")return e.jsxDEV(ub,{onSave:ge,onCancel:Se},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2263,columnNumber:9},void 0);const S=(Qe==null?void 0:Qe.id)===g.id||(Qe==null?void 0:Qe.mergedEventIds)&&Qe.mergedEventIds.includes(g.id);return e.jsxDEV(fb,{event:g,user:u,filterProject:X,isEditing:S,editTitle:S?yt:void 0,onEditTitleChange:S?lt:void 0,onEditSave:S?ze:void 0,onEditDelete:S?()=>Je(g):void 0,onEditCancel:S?()=>{it(null),lt("")}:void 0,onHoverDelete:()=>Je(g),onDeleteAction:()=>{F.current=!0}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2274,columnNumber:7},void 0)},[u,X,Qe,yt,ze,Je,ge,Se]),It=({onNavigate:g})=>{const[S,te]=tt.useState(!1),[ae,be]=tt.useState(mt(xe).year()),[_e,Ee]=tt.useState(mt(xe).month()),at=window.innerWidth<768,rt=()=>{be(mt(xe).year()),Ee(mt(xe).month()),te(!0)},Tt=()=>{Me(mt().year(ae).month(_e).toDate()),te(!1)};return e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:`calendar-toolbar flex flex-col bg-white border-b border-gray-200 ${at?"px-2 py-1":"px-3 md:px-5 py-2"}`,children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{className:"flex items-center space-x-1",children:[e.jsxDEV("button",{onClick:()=>g("PREV"),className:"px-2 py-1.5 text-2xl md:text-3xl text-gray-700 hover:bg-gray-100 rounded-lg transition-colors font-bold print-hide",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2316,columnNumber:15},void 0),e.jsxDEV("div",{className:"text-base md:text-lg font-bold text-gray-900 hover:bg-gray-50 px-2 md:px-3 py-1 rounded-lg transition-colors cursor-pointer print-title",onClick:rt,children:[e.jsxDEV("span",{children:mt(xe).format("YYYY MM")},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2326,columnNumber:17},void 0),e.jsxDEV("span",{className:"print-project-name hidden",children:[" - ",X==="all"?" ":X]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2328,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2322,columnNumber:15},void 0),e.jsxDEV("button",{onClick:()=>g("NEXT"),className:"px-2 py-1.5 text-2xl md:text-3xl text-gray-700 hover:bg-gray-100 rounded-lg transition-colors font-bold print-hide",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2330,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2315,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex items-center space-x-2",children:e.jsxDEV("select",{className:"px-3 md:px-4 py-1.5 md:py-2 bg-white text-gray-700 rounded-lg text-xs md:text-sm font-medium focus:outline-none focus:ring-2 focus:ring-gray-300 border border-gray-300 print-hide",value:X,onChange:wt=>K(wt.target.value),style:{appearance:"none",backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%236b7280'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 0.5rem center",backgroundSize:"1.25rem",paddingRight:"2.5rem"},children:[(u==null?void 0:u.name)!==""&&e.jsxDEV("option",{value:"all",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2354,columnNumber:41},void 0),b.filter(wt=>wt.status!=="completed").map(wt=>e.jsxDEV("option",{value:wt.name,children:wt.name},wt.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2358,columnNumber:21},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2340,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2338,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2314,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2312,columnNumber:9},void 0),S&&e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:e.jsxDEV("div",{className:"bg-white rounded-lg w-full max-w-sm shadow-xl",children:[e.jsxDEV("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[e.jsxDEV("h3",{className:"text-lg font-bold text-gray-900",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2373,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>te(!1),className:"p-1 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsxDEV("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2379,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2378,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2374,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2372,columnNumber:15},void 0),e.jsxDEV("div",{className:"p-4 border-b border-gray-200",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("button",{onClick:()=>be(ae-1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsxDEV("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2392,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2391,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2387,columnNumber:19},void 0),e.jsxDEV("span",{className:"text-xl font-bold text-gray-900",children:[ae,""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2395,columnNumber:19},void 0),e.jsxDEV("button",{onClick:()=>be(ae+1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsxDEV("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2403,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2402,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2398,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2386,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2385,columnNumber:15},void 0),e.jsxDEV("div",{className:"p-4",children:e.jsxDEV("div",{className:"grid grid-cols-3 gap-2",children:[1,2,3,4,5,6,7,8,9,10,11,12].map(wt=>{const ss=_e===wt-1,Ot=mt().year()===ae&&mt().month()===wt-1;return e.jsxDEV("button",{onClick:()=>Ee(wt-1),className:`py-3 px-4 rounded-lg text-sm font-medium transition-colors ${ss?"bg-gray-900 text-white":Ot?"bg-gray-100 text-gray-900 border-2 border-gray-900":"bg-gray-50 text-gray-700 hover:bg-gray-100"}`,children:[wt,""]},wt,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2416,columnNumber:23},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2411,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2410,columnNumber:15},void 0),e.jsxDEV("div",{className:"p-4 border-t border-gray-200 flex gap-2",children:[e.jsxDEV("button",{onClick:()=>{Me(new Date),te(!1)},className:"flex-1 py-2 px-4 bg-gray-100 text-gray-900 rounded-lg text-sm font-medium hover:bg-gray-200 transition-colors",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2436,columnNumber:17},void 0),e.jsxDEV("button",{onClick:Tt,className:"flex-1 py-2 px-4 bg-gray-900 text-white rounded-lg text-sm font-medium hover:bg-gray-800 transition-colors",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2445,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2435,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2370,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2369,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2311,columnNumber:7},void 0)},ts=()=>null,Jt=l.useMemo(()=>({toolbar:It,event:Vt,month:{dateHeader:Ht,showMore:ts}}),[Ht,Vt]),E=tt.useMemo(()=>{if(!D)return[];let g;if(pt)g=Oe.filter(te=>mt(te.start).isSame(D,"day"));else{const te=mt(D).startOf("week"),ae=mt(D).endOf("week");g=Oe.filter(be=>{const _e=mt(be.start);return _e.isSameOrAfter(te,"day")&&_e.isSameOrBefore(ae,"day")})}const S=[...g].sort((te,ae)=>{const be=te.assignedTo&&te.assignedTo.includes("HV LAB"),_e=te.assignedTo&&te.assignedTo.includes("")&&L&&["",""].includes(L),Ee=te.assignedTo&&te.assignedTo.includes("")&&L&&["","",""].includes(L),at=te.assignedTo&&L&&te.assignedTo.includes(L)||te.assignedTo&&(u==null?void 0:u.name)&&te.assignedTo.includes(u.name)||be||_e||Ee,rt=ae.assignedTo&&ae.assignedTo.includes("HV LAB"),Tt=ae.assignedTo&&ae.assignedTo.includes("")&&L&&["",""].includes(L),wt=ae.assignedTo&&ae.assignedTo.includes("")&&L&&["","",""].includes(L),ss=ae.assignedTo&&L&&ae.assignedTo.includes(L)||ae.assignedTo&&(u==null?void 0:u.name)&&ae.assignedTo.includes(u.name)||rt||Tt||wt;return at&&!ss?-1:!at&&ss?1:new Date(te.start).getTime()-new Date(ae.start).getTime()});return console.log("Sorted events:",S.map(te=>({title:te.title,assignedTo:te.assignedTo,user:u==null?void 0:u.name,userShort:L}))),S},[D,Oe,u,L,pt]);return l.useEffect(()=>{const S=setTimeout(()=>{const te=pt?document.querySelectorAll(".rbc-month-view td.rbc-date-cell"):document.querySelectorAll(".rbc-date-cell"),ae=document.querySelectorAll(".rbc-month-row"),be=[];ae.forEach((ft,$t)=>{const ns=ft.querySelectorAll(".rbc-date-cell");let _t=0;ns.forEach(Bt=>{const Gt=Bt.querySelector("button");let Ut=Gt==null?void 0:Gt.textContent;if(!Ut){const Bs=Bt.querySelector("span");Ut=Bs==null?void 0:Bs.textContent}if(Ut&&!isNaN(parseInt(Ut))){const Bs=mt(xe).date(parseInt(Ut)),nn=Oe.filter(Di=>mt(Di.start).isSame(Bs,"day"));_t=Math.max(_t,nn.length)}}),be.push(_t)});const _e=X&&X!=="all",Ee=100,at=_e?60:18,rt=25,Tt=Math.floor((Ee-rt)/at),wt=be.length,ss=Ee*wt,Ot=be.map(ft=>ft<=Tt?Ee:rt+ft*at+10),vt=Ot.reduce((ft,$t)=>ft+$t,0);if(vt>ss){const ft=Ot.map((_t,Bt)=>({index:Bt,height:_t,overflow:_t>Ee})),$t=ft.filter(_t=>_t.overflow).reduce((_t,Bt)=>_t+(Bt.height-Ee),0),ns=ft.filter(_t=>!_t.overflow);if(ns.length>0){const _t=ss-$t-ns.length*Ee,Bt=Math.max(50,Ee+_t/ns.length);ae.forEach((Gt,Ut)=>{const nn=Ot[Ut]>Ee?Ot[Ut]:Bt;Gt.style.height=`${nn}px`,Gt.style.minHeight=`${nn}px`})}else{const _t=ss/vt;ae.forEach((Bt,Gt)=>{const Ut=Math.max(80,Ot[Gt]*_t);Bt.style.height=`${Ut}px`,Bt.style.minHeight=`${Ut}px`})}}else{const ft=Ot.reduce((Bt,Gt)=>Bt+(Gt>Ee?Gt:0),0),$t=Ot.filter(Bt=>Bt<=Ee).length,ns=ss-ft,_t=$t>0?ns/$t:Ee;ae.forEach((Bt,Gt)=>{const Ut=Ot[Gt]>Ee?Ot[Gt]:_t;Bt.style.height=`${Ut}px`,Bt.style.minHeight=`${Ut}px`})}te.forEach(ft=>{const $t=ft.querySelector("button");let ns=$t==null?void 0:$t.textContent;if(!ns){const Ut=ft.querySelector("span");ns=Ut==null?void 0:Ut.textContent}if(!ns||isNaN(parseInt(ns)))return;const _t=mt(xe).date(parseInt(ns)),Bt=Oe.filter(Ut=>mt(Ut.start).isSame(_t,"day"));Bt.length>0?ft.setAttribute("data-event-count",Bt.length.toString()):ft.removeAttribute("data-event-count");const Gt=_t.clone().toDate();if(D&&mt(Gt).isSame(D,"day")?ft.classList.add("selected-date"):ft.classList.remove("selected-date"),pt){const Ut=ft,Bs=Ut._mobileClickHandler;Bs&&ft.removeEventListener("click",Bs);const nn=Di=>{if(Di.target.closest(".rbc-event"))return;const mc=_t.clone().toDate();U(mc);const Za=document.querySelector(".md\\:hidden.mt-3.bg-white");Za&&Za.scrollIntoView({behavior:"smooth",block:"nearest"})};Ut._mobileClickHandler=nn,ft.addEventListener("click",nn,!0),ft.style.cursor="pointer",ft.style.touchAction="manipulation"}})},200);return()=>{clearTimeout(S),pt&&document.querySelectorAll(".rbc-month-view td.rbc-date-cell").forEach(ae=>{const be=ae,_e=be._mobileClickHandler;_e&&(ae.removeEventListener("click",_e),delete be._mobileClickHandler)})}},[Oe,xe,pt,D,X]),e.jsxDEV("div",{className:"schedule-container space-y-3 md:space-y-2",children:[Ye.date&&e.jsxDEV("div",{className:"bg-white border border-gray-200 rounded-lg p-3 md:p-4 shadow-sm",children:e.jsxDEV("div",{className:"flex flex-col md:flex-row items-stretch md:items-center gap-2 md:gap-3",children:[e.jsxDEV("div",{className:"text-xs md:text-sm font-semibold text-gray-900 md:min-w-[80px]",children:mt(Ye.date).format("MM DD")},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2734,columnNumber:15},void 0),e.jsxDEV("select",{value:Ye.projectId,onChange:g=>W({...Ye,projectId:g.target.value}),className:"px-3 md:px-4 py-2 border border-gray-300 rounded-lg text-xs md:text-sm focus:outline-none focus:ring-2 focus:ring-gray-500",children:b.filter(g=>g.status!=="completed").map(g=>e.jsxDEV("option",{value:g.id,children:g.name},g.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2745,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2737,columnNumber:15},void 0),e.jsxDEV("input",{type:"text",value:Ye.title,onChange:g=>W({...Ye,title:g.target.value}),onKeyPress:g=>{g.key==="Enter"&&bt()},placeholder:"  ...",className:"flex-1 px-3 md:px-4 py-2 border border-gray-300 rounded-lg text-xs md:text-sm focus:outline-none focus:ring-2 focus:ring-gray-500",autoFocus:!0},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2750,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV("button",{onClick:bt,className:"flex-1 md:flex-none px-4 md:px-5 py-2 bg-gray-900 text-white text-xs md:text-sm font-medium rounded-lg hover:bg-gray-800 transition-colors",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2764,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>{W({date:null,projectId:"",title:""}),U(null)},className:"flex-1 md:flex-none px-4 md:px-5 py-2 bg-white border border-gray-300 text-gray-700 text-xs md:text-sm font-medium rounded-lg hover:bg-gray-50 transition-colors",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2770,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2763,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2733,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2732,columnNumber:11},void 0),e.jsxDEV("div",{className:"schedule-main flex flex-col md:block",children:[e.jsxDEV("div",{className:"flex gap-3",children:[X!=="all"&&!pt&&e.jsxDEV("div",{className:"hidden lg:block flex-shrink-0 print-hide",children:e.jsxDEV("div",{className:"bg-white border border-gray-200 rounded-lg shadow-sm p-2 sticky top-4",children:[e.jsxDEV("button",{onClick:()=>w(!0),className:"w-full mb-2 px-2 py-1 text-xs bg-gray-100 text-gray-600 rounded hover:bg-gray-200 transition-colors flex items-center justify-center gap-1",children:[e.jsxDEV("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsxDEV("path",{fillRule:"evenodd",d:"M11.49 3.17c-.38-1.56-2.6-1.56-2.98 0a1.532 1.532 0 01-2.286.948c-1.372-.836-2.942.734-2.106 2.106.54.886.061 2.042-.947 2.287-1.561.379-1.561 2.6 0 2.978a1.532 1.532 0 01.947 2.287c-.836 1.372.734 2.942 2.106 2.106a1.532 1.532 0 012.287.947c.379 1.561 2.6 1.561 2.978 0a1.533 1.533 0 012.287-.947c1.372.836 2.942-.734 2.106-2.106a1.533 1.533 0 01.947-2.287c1.561-.379 1.561-2.6 0-2.978a1.532 1.532 0 01-.947-2.287c.836-1.372-.734-2.942-2.106-2.106a1.532 1.532 0 01-2.287-.947zM10 13a3 3 0 100-6 3 3 0 000 6z",clipRule:"evenodd"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2797,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2796,columnNumber:21},void 0)," "]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2792,columnNumber:19},void 0),e.jsxDEV("div",{className:"flex flex-col gap-0.5",children:Le.map(g=>e.jsxDEV("div",{draggable:!0,onDragStart:S=>{ke(g),S.dataTransfer.setData("text/plain",g),S.dataTransfer.effectAllowed="copy"},onDragEnd:()=>ke(null),className:`px-3 py-1 text-xs rounded cursor-grab active:cursor-grabbing transition-colors text-center font-medium whitespace-nowrap ${Y===g?"bg-blue-100 text-blue-800":"bg-gray-50 text-gray-700 hover:bg-gray-100"}`,children:g},g,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2803,columnNumber:23},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2801,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2790,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2789,columnNumber:15},void 0),e.jsxDEV("div",{className:`schedule-calendar bg-white border border-gray-200 rounded-lg overflow-hidden shadow-sm calendar-container flex-1 ${X!=="all"?"specific-project-view":""}`,style:{paddingBottom:0},children:e.jsxDEV(lb,{localizer:cb,events:Oe,startAccessor:"start",endAccessor:"end",view:_,onView:me,date:xe,onNavigate:Me,onSelectEvent:nt,onSelectSlot:Ze,onEventDrop:X!=="all"?ee:void 0,onDragStart:X!=="all"?q:void 0,onDropFromOutside:X!=="all"?v:void 0,dragFromOutsideItem:X!=="all"?ne:void 0,draggableAccessor:g=>X!=="all"&&g.id!=="__inline_add__",resizable:!1,selectable:!0,longPressThreshold:1,eventPropGetter:Et,dayPropGetter:At,components:Jt,popup:!1,doShowMoreDrillDown:!1,onShowMore:()=>{},showAllEvents:!0,messages:{today:"",previous:"",next:"",month:"",week:"",day:"",agenda:"",date:"",time:"",event:"",noEventsInRange:"   ",showMore:g=>`+${g} `}},`calendar-${X}-${(D==null?void 0:D.getTime())||"no-selection"}`,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2831,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2827,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2786,columnNumber:11},void 0),D&&e.jsxDEV("div",{className:"schedule-events-list desktop:hidden mt-3 bg-white border border-gray-200 rounded-lg overflow-hidden shadow-sm",children:[e.jsxDEV("div",{className:"flex items-center justify-between p-3 border-b border-gray-200 bg-gray-50",children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("p",{className:"text-sm font-semibold text-gray-900",children:pt?mt(D).format("MM DD (ddd)"):`${mt(D).startOf("week").format("MM DD")} - ${mt(D).endOf("week").format("MM DD")}`},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2882,columnNumber:19},void 0),Kn[mt(D).format("YYYY-MM-DD")]&&e.jsxDEV("span",{className:"text-xs font-medium px-2 py-0.5 rounded-full bg-red-50 text-red-600",children:Kn[mt(D).format("YYYY-MM-DD")]},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2890,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2881,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>U(null),className:"p-1 hover:bg-gray-200 rounded-full transition-colors",children:e.jsxDEV("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2900,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2899,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2895,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2880,columnNumber:15},void 0),e.jsxDEV("div",{className:"max-h-[25vh] overflow-y-auto",children:E.length===0?e.jsxDEV("div",{className:"p-4 text-center",children:e.jsxDEV("p",{className:"text-sm text-gray-500",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2909,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2908,columnNumber:19},void 0):e.jsxDEV("div",{children:(()=>{const g=E.reduce((te,ae)=>{const be=mt(ae.start).format("YYYY-MM-DD");return te[be]||(te[be]=[]),te[be].push(ae),te},{});return Object.keys(g).sort().map(te=>e.jsxDEV("div",{className:"border-b border-gray-100 last:border-b-0",children:[!pt&&e.jsxDEV("div",{className:"px-3 py-2 bg-gray-50 sticky top-0 z-10",children:e.jsxDEV("p",{className:"text-xs font-semibold text-gray-700",children:mt(te).format("MM DD (ddd)")},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2932,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2931,columnNumber:29},void 0),e.jsxDEV("div",{className:"divide-y divide-gray-100",children:g[te].map(ae=>{const be=ae.assignedTo&&ae.assignedTo.includes("HV LAB"),_e=ae.assignedTo&&ae.assignedTo.includes("")&&L&&["",""].includes(L),Ee=ae.assignedTo&&ae.assignedTo.includes("")&&L&&["","",""].includes(L),rt=ae.assignedTo&&(ae.assignedTo.includes((u==null?void 0:u.name)||"")||L&&ae.assignedTo.includes(L))||be||_e||Ee,Tt=!ae.color&&!rt;return e.jsxDEV("div",{onClick:()=>{const wt={...ae,title:ae.originalTitle||ae.title};nt(wt)},className:`p-3 transition-colors cursor-pointer ${rt?"bg-yellow-50 hover:bg-yellow-100 active:bg-yellow-200":Tt?"hover:bg-purple-50 active:bg-purple-100":"hover:bg-gray-50 active:bg-gray-100"}`,style:Tt?{backgroundColor:"#f3f0f5"}:void 0,children:e.jsxDEV("div",{className:"flex items-start gap-2",children:[e.jsxDEV("div",{className:"w-1 h-full rounded-full flex-shrink-0",style:{backgroundColor:rt?"#FEF3C7":ae.color||"#e8e2ea",minHeight:"28px"}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2977,columnNumber:27},void 0),e.jsxDEV("div",{className:"flex-1 min-w-0",children:[e.jsxDEV("p",{className:"text-sm font-semibold text-gray-900 truncate",children:ae.title},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2987,columnNumber:29},void 0),ae.projectName&&X==="all"&&e.jsxDEV("p",{className:"text-xs text-gray-600 mt-0.5",children:ae.projectName},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2991,columnNumber:31},void 0),ae.assignedTo&&ae.assignedTo.length>0&&e.jsxDEV("p",{className:"text-xs text-gray-500 mt-0.5",children:["","",""].every(Ot=>ae.assignedTo.includes(Ot))?"":ae.assignedTo.join(", ")},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2996,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2986,columnNumber:27},void 0),e.jsxDEV("svg",{className:"w-4 h-4 text-gray-400 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3009,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3008,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2976,columnNumber:25},void 0)},ae.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2957,columnNumber:25},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2938,columnNumber:27},void 0)]},te,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2928,columnNumber:25},void 0))})()},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2912,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2906,columnNumber:15},void 0),pt&&X!=="all"&&e.jsxDEV("div",{className:"border-t border-gray-200 p-3 bg-gray-50",children:[e.jsxDEV("p",{className:"text-xs font-medium text-gray-500 mb-2",children:"   "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3026,columnNumber:19},void 0),e.jsxDEV("div",{className:"flex flex-wrap gap-1.5",children:Le.map(g=>e.jsxDEV("button",{onClick:async()=>{var te;const S=D||new Date;if(X!=="all"){const ae=Date.now().toString()+Math.random().toString(36).substr(2,9),be=((te=b.find(Ee=>Ee.name===X))==null?void 0:te.color)||"#6b7280",_e={id:ae,title:g,start:S,end:S,project:X,attendees:u!=null&&u.name?[u.name]:[],priority:"medium",color:be};n(Ee=>[...Ee,_e]);try{await r(_e)}catch(Ee){console.error("  :",Ee),n(at=>at.filter(rt=>rt.id!==ae))}}},className:"px-2.5 py-1.5 text-xs rounded-lg bg-white border border-gray-200 text-gray-700 hover:bg-gray-100 active:bg-gray-200 transition-colors font-medium",children:g},g,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3029,columnNumber:23},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3027,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3025,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2878,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2785,columnNumber:9},void 0),Fe&&e.jsxDEV(hl,{event:$,slotInfo:T,defaultProjectName:X!=="all"?X:void 0,onClose:()=>{B(!1),G(null),C(null)},onSave:async g=>{console.log(" Schedule.tsx onSave called with newEvent:",g);try{if($)if($.id.startsWith("as-")){const S=$.id.replace("as-","");let te="";g.assignedTo&&Array.isArray(g.assignedTo)&&g.assignedTo.length>0?te=g.assignedTo.join(", "):$.assignedTo&&Array.isArray($.assignedTo)?te=$.assignedTo.join(", "):typeof $.assignedTo=="string"&&(te=$.assignedTo),await m(S,{project:g.title||$.title,assignedTo:te,scheduledVisitDate:g.start,scheduledVisitTime:g.time||$.time}),await d(),B(!1)}else if($.id.startsWith("payment-")){const S=$.id.split("-"),te=S[1],ae=S[2],be=p.find(_e=>_e.id===te);if(be){const _e={...be.expectedPaymentDates};_e[ae]=g.start,await f(te,{expectedPaymentDates:_e})}}else{console.log(" Updating schedule with projectId:",g.projectId,"projectName:",g.projectName);let S=g.title;const te=/ - (|) \d{1,2}( \d{1,2})?$/;if(S=S.replace(te,""),$.mergedEventIds&&$.mergedEventIds.length>0){console.log(" Updating merged schedules:",$.mergedEventIds);const ae=($.originalTitle||$.title).split(", "),be=S.split(", ");for(let _e=0;_e<$.mergedEventIds.length;_e++){const Ee=$.mergedEventIds[_e],at=be[_e]||ae[_e]||S;await i(Ee,{title:at.trim(),start:g.start,end:g.end,type:"other",project:g.projectId||g.projectName,location:"",attendees:g.assignedTo||[],description:g.description,time:g.time})}}else await i($.id,{title:S,start:g.start,end:g.end,type:"other",project:g.projectId||g.projectName,location:"",attendees:g.assignedTo||[],description:g.description,time:g.time});await t()}else console.log(" Adding schedule with projectId:",g.projectId,"projectName:",g.projectName),await r({id:Date.now().toString(),title:g.title,start:g.start,end:g.end,type:"other",project:g.projectId||g.projectName,location:"",attendees:g.assignedTo||[],description:g.description,time:g.time});B(!1)}catch(S){console.error("Failed to save schedule:",S),P.error("  ")}},onDelete:async g=>{try{if(g.startsWith("payment-")){const S=g.split("-"),te=S[1],ae=S[2],be=p.find(_e=>_e.id===te);if(be){const _e={...be.expectedPaymentDates};delete _e[ae],await f(te,{expectedPaymentDates:_e})}}else if(g.startsWith("as-")){const S=g.replace("as-","");await m(S,{scheduledVisitDate:null,scheduledVisitTime:null})}else{const S=N.find(te=>te.id===g);if(S!=null&&S.mergedEventIds&&S.mergedEventIds.length>0){console.log("Deleting merged schedules:",S.mergedEventIds);for(const te of S.mergedEventIds)await a(te)}else await a(g)}B(!1)}catch(S){console.error("Failed to delete schedule:",S),P.error("  ")}}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3074,columnNumber:11},void 0),ct&&e.jsxDEV("div",{className:"fixed pointer-events-none z-[9999]",style:{left:k?ht.x-50:kt.x,top:k?ht.y-15:kt.y,backgroundColor:ct.color||"#F3F4F6",borderRadius:"6px",color:"#1f2937",padding:"4px 8px",fontWeight:500,fontSize:"16px",maxWidth:"250px"},children:ct.originalTitle||ct.title},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3261,columnNumber:11},void 0),re&&e.jsxDEV("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-[9999]",onClick:()=>{w(!1),ue(null),ie("")},children:e.jsxDEV("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md max-h-[80vh] overflow-hidden mx-4",onClick:g=>g.stopPropagation(),children:[e.jsxDEV("div",{className:"p-4 border-b border-gray-100 flex justify-between items-center",children:[e.jsxDEV("h2",{className:"text-lg font-bold text-gray-800",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3296,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>{w(!1),ue(null),ie("")},className:"text-gray-400 hover:text-gray-600 p-1 hover:bg-gray-100 rounded",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3297,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3295,columnNumber:15},void 0),e.jsxDEV("div",{className:"p-4 border-b border-gray-100 bg-gray-50",children:[e.jsxDEV("label",{className:"block text-xs text-gray-500 mb-2",children:"  "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3311,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV("input",{type:"text",value:O,onChange:g=>ie(g.target.value),onKeyDown:g=>g.key==="Enter"&&Ue(),placeholder:" ",className:"flex-1 px-3 py-2 border border-gray-200 rounded-lg text-sm focus:ring-2 focus:ring-gray-300 focus:border-gray-400 bg-white"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3313,columnNumber:19},void 0),e.jsxDEV("button",{onClick:Ue,disabled:!O.trim(),className:"px-4 py-2 bg-gray-800 text-white text-sm font-medium rounded-lg hover:bg-gray-700 transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3321,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3312,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3310,columnNumber:15},void 0),e.jsxDEV("div",{className:"overflow-y-auto max-h-[50vh]",children:he?e.jsxDEV("div",{className:"p-8 text-center text-gray-500",children:[e.jsxDEV("div",{className:"animate-spin inline-block w-6 h-6 border-2 border-gray-200 border-t-gray-600 rounded-full mb-2"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3335,columnNumber:21},void 0),e.jsxDEV("p",{children:" ..."},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3336,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3334,columnNumber:19},void 0):M.length===0?e.jsxDEV("div",{className:"p-8 text-center text-gray-400",children:[e.jsxDEV("p",{className:"mb-2",children:"  "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3340,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-xs",children:"   "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3341,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3339,columnNumber:19},void 0):e.jsxDEV("div",{className:"divide-y divide-gray-50",children:M.map((g,S)=>e.jsxDEV("div",{draggable:(de==null?void 0:de.id)!==g.id,onDragStart:()=>We(S),onDragOver:te=>Te(te,S),onDragEnd:qe,onDragLeave:()=>Xe(null),className:`flex items-center gap-3 px-4 py-3 hover:bg-gray-50 group transition-all ${Ve===S?"opacity-50 bg-gray-100":""} ${Be===S?"border-t-2 border-gray-400":""} ${(de==null?void 0:de.id)!==g.id?"cursor-grab active:cursor-grabbing":""}`,children:(de==null?void 0:de.id)===g.id?e.jsxDEV(e.Fragment,{children:[e.jsxDEV("input",{type:"text",value:ve,onChange:te=>Q(te.target.value),onKeyDown:te=>{te.key==="Enter"&&Ce(),te.key==="Escape"&&(ue(null),Q(""))},className:"flex-1 px-3 py-1.5 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-gray-300 focus:border-gray-400",autoFocus:!0},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3363,columnNumber:29},void 0),e.jsxDEV("button",{onClick:Ce,className:"px-3 py-1.5 bg-gray-800 text-white text-xs rounded-lg hover:bg-gray-700",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3377,columnNumber:29},void 0),e.jsxDEV("button",{onClick:()=>{ue(null),Q("")},className:"px-3 py-1.5 bg-gray-100 text-gray-600 text-xs rounded-lg hover:bg-gray-200",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3383,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3362,columnNumber:27},void 0):e.jsxDEV(e.Fragment,{children:[e.jsxDEV("span",{className:"text-gray-300 text-xs select-none",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3395,columnNumber:29},void 0),e.jsxDEV("span",{className:"text-gray-300 text-xs w-5 text-right select-none",children:S+1},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3396,columnNumber:29},void 0),e.jsxDEV("span",{className:"flex-1 text-sm text-gray-700 select-none",children:g.name},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3397,columnNumber:29},void 0),e.jsxDEV("button",{onClick:()=>{ue(g),Q(g.name)},className:"px-2 py-1 text-gray-400 hover:text-gray-700 text-xs opacity-0 group-hover:opacity-100 transition-opacity",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3398,columnNumber:29},void 0),e.jsxDEV("button",{onClick:()=>Re(g.id),className:"px-2 py-1 text-gray-400 hover:text-red-500 text-xs opacity-0 group-hover:opacity-100 transition-opacity",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3407,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3394,columnNumber:27},void 0)},g.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3346,columnNumber:23},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3344,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3332,columnNumber:15},void 0),M.length>0&&e.jsxDEV("div",{className:"p-3 border-t border-gray-100 bg-gray-50 text-center text-xs text-gray-400",children:"     /"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3423,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3290,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:3282,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:2729,columnNumber:7},void 0)};class Nb{async uploadImage(n){var r,i;const t=new FormData;t.append("image",n);try{const a=await we.post("/drawings/upload",t,{headers:{"Content-Type":"multipart/form-data"}});return console.log("   :",a.data.imageUrl),a.data.imageUrl}catch(a){console.error("  :",a);const o=((i=(r=a.response)==null?void 0:r.data)==null?void 0:i.error)||a.message||"   ";throw new Error(`  : ${o}`)}}async setItem(n,t,r){var i,a,o,m,d,p,f;try{console.log("[drawingStorage]   :",{projectId:t.projectId,type:t.type,imageUrl:t.imageUrl?"provided":"none",markersCount:((i=t.markers)==null?void 0:i.length)||0,roomsCount:((a=t.rooms)==null?void 0:a.length)||0}),await we.post("/drawings",{projectId:t.projectId,type:t.type,imageUrl:t.imageUrl,markers:t.markers,rooms:t.rooms,naverTypeSqm:t.naverTypeSqm,naverTypePyeong:t.naverTypePyeong,naverArea:t.naverArea}),console.log("    ")}catch(u){console.error("   :",u);const b=((m=(o=u.response)==null?void 0:o.data)==null?void 0:m.error)||" ",x=((p=(d=u.response)==null?void 0:d.data)==null?void 0:p.details)||u.message||"",j=((f=u.response)==null?void 0:f.status)||"",h=new Error(`${b}${x?` (${x})`:""}`);throw h.statusCode=j,h.response=u.response,h}}async getItem(n){var t,r,i;try{const a=n.split("-");if(a.length<4)return console.error("  :",n),null;const o=a[2],m=a.slice(3).join("-");console.log(`[drawingStorage]   : projectId=${o}, type=${m}`);const p=(await we.get(`/drawings/${o}/${encodeURIComponent(m)}`)).data;return{type:p.type,projectId:p.projectId,imageUrl:p.imageUrl,markers:p.markers||[],rooms:p.rooms||[],lastModified:new Date(p.updatedAt),naverTypeSqm:p.naverTypeSqm,naverTypePyeong:p.naverTypePyeong,naverArea:p.naverArea}}catch(a){if(((t=a.response)==null?void 0:t.status)===404)return console.log("[drawingStorage]    (404)"),null;if(((r=a.response)==null?void 0:r.status)===500)return console.warn("[drawingStorage]  ,   :",(i=a.response)==null?void 0:i.data),null;throw console.error("   :",a),a}}async removeItem(n){try{const t=n.split("-");if(t.length<4){console.error("  :",n);return}const r=t[2],i=t.slice(3).join("-");await we.delete(`/drawings/${r}/${encodeURIComponent(i)}`)}catch(t){throw console.error("   :",t),t}}async clearAll(){return console.warn("   clearAll  ."),0}async migrateFromLocalStorage(n){let t=0;const r=[];for(let i=0;i<localStorage.length;i++){const a=localStorage.key(i);a&&a.startsWith("drawing-")&&r.push(a)}return r.forEach(i=>{localStorage.removeItem(i),t++}),t>0&&console.log(` ${t}    .`),t}async estimateSize(){return{usage:0,quota:0}}}const Cr=new Nb,Er=["","","","3D","","","","","","","","","",""],Ar=[{id:"outlet-1",name:" 1",symbol:"C1",count:1,color:"#ef4444",category:"outlet"},{id:"outlet-2",name:" 2",symbol:"C2",count:2,color:"#ef4444",category:"outlet"},{id:"outlet-3",name:" 3",symbol:"C3",count:3,color:"#ef4444",category:"outlet"},{id:"outlet-4",name:" 4",symbol:"C4",count:4,color:"#ef4444",category:"outlet"},{id:"switch-1",name:" 1",symbol:"S1",count:1,color:"#3b82f6",category:"switch"},{id:"switch-2",name:" 2",symbol:"S2",count:2,color:"#3b82f6",category:"switch"},{id:"switch-3",name:" 3",symbol:"S3",count:3,color:"#3b82f6",category:"switch"},{id:"switch-4",name:" 4",symbol:"S4",count:4,color:"#3b82f6",category:"switch"},{id:"switch-5",name:" 5",symbol:"S5",count:5,color:"#3b82f6",category:"switch"},{id:"switch-6",name:" 6",symbol:"S6",count:6,color:"#3b82f6",category:"switch"},{id:"switch-7",name:" 7",symbol:"S7",count:7,color:"#3b82f6",category:"switch"},{id:"switch-8",name:" 8",symbol:"S8",count:8,color:"#3b82f6",category:"switch"},{id:"light",name:"",symbol:"",count:1,color:"#f59e0b",category:"light"}],bb=()=>{const{user:s}=Qt(),n=us(),[t,r]=l.useState(()=>{try{const W=localStorage.getItem("user");if(W){const oe=JSON.parse(W);return localStorage.getItem(`drawings-selected-project-${oe.id}`)||""}}catch(W){console.error("Failed to load saved project:",W)}return""}),[i,a]=l.useState(()=>{try{const W=localStorage.getItem("user");if(W){const oe=JSON.parse(W),Pe=localStorage.getItem(`drawings-selected-type-${oe.id}`);if(Pe&&Er.includes(Pe))return Pe}}catch(W){console.error("Failed to load saved drawing type:",W)}return""}),[o,m]=l.useState(Ar[0].id),[d,p]=l.useState([]),[f,u]=l.useState(0),[b,x]=l.useState([]),[j,h]=l.useState([]),L=d[f]||"",[I,y]=l.useState(""),[M,se]=l.useState(""),[re,w]=l.useState(""),[O,ie]=l.useState("marker"),[de,ue]=l.useState("full"),[ve,Q]=l.useState(null),[he,Ne]=l.useState(!1),[Ve,je]=l.useState(null),[Be,Xe]=l.useState(!1),[le,Le]=l.useState(null),[Ue,Ce]=l.useState(null),[Re,We]=l.useState(!1),[Te,qe]=l.useState(""),[R,fe]=l.useState(null),[pe,He]=l.useState(!1),[Z,A]=l.useState(1),[ce,V]=l.useState({x:0,y:0}),[_,me]=l.useState(!1),[xe,Me]=l.useState({x:0,y:0}),[Fe,B]=l.useState(!1),$=l.useRef(0),G=l.useRef({x:0,y:0}),T=l.useRef(0),C=l.useRef({x:0,y:0}),z=l.useRef(null),X=l.useRef(null),K=l.useRef(null),N=l.useRef(!1),D=l.useRef(!1),U=l.useRef(null),Y=l.useRef(!1);l.useEffect(()=>{if(s!=null&&s.id&&!Y.current){if(Y.current=!0,!t){const oe=localStorage.getItem(`drawings-selected-project-${s.id}`);oe&&r(oe)}const W=localStorage.getItem(`drawings-selected-type-${s.id}`);W&&Er.includes(W)&&W!==i&&a(W)}},[s==null?void 0:s.id]),l.useEffect(()=>{s!=null&&s.id&&!D.current&&(D.current=!0,Cr.migrateFromLocalStorage(s.id).then(W=>{W>0&&console.log(` ${W}   .`)}).catch(W=>{console.error(" :",W)}))},[s==null?void 0:s.id]),l.useEffect(()=>{if(s!=null&&s.id&&s.name===""&&n.length>0&&!t){const W=n.find(oe=>oe.status!=="completed");W&&r(W.id)}},[s==null?void 0:s.id,s==null?void 0:s.name,n,t]),l.useEffect(()=>{s!=null&&s.id&&t&&localStorage.setItem(`drawings-selected-project-${s.id}`,t)},[s==null?void 0:s.id,t]),l.useEffect(()=>{s!=null&&s.id&&i&&localStorage.setItem(`drawings-selected-type-${s.id}`,i)},[s==null?void 0:s.id,i]),l.useEffect(()=>{if(s!=null&&s.id&&t&&i){N.current=!0;const W=`drawing-${s.id}-${t}-${i}`;Cr.getItem(W).then(oe=>{oe?(oe.imageUrls&&Array.isArray(oe.imageUrls)?p(oe.imageUrls):oe.imageUrl?p([oe.imageUrl]):p([]),u(0),x(oe.markers||[]),h(oe.rooms||[]),y(oe.naverTypeSqm||""),se(oe.naverTypePyeong||""),w(oe.naverArea||"")):(p([]),u(0),x([]),h([]),y(""),se(""),w("")),ue("full"),Q(null),setTimeout(()=>{N.current=!1},0)}).catch(oe=>{console.error("Failed to load drawing data:",oe),p([]),u(0),x([]),h([]),y(""),se(""),w(""),ue("full"),Q(null),N.current=!1})}},[s==null?void 0:s.id,t,i]),l.useEffect(()=>{if(!N.current)return s!=null&&s.id&&t&&i&&d.length>0&&(U.current&&clearTimeout(U.current),U.current=setTimeout(async()=>{var Pe,nt,Ze;const W=`drawing-${s.id}-${t}-${i}`,oe={type:i,projectId:t,imageUrl:d[0],imageUrls:d,markers:b,rooms:j,lastModified:new Date,naverTypeSqm:I,naverTypePyeong:M,naverArea:re};try{await Cr.setItem(W,oe,s.id),console.log("   ")}catch(bt){console.error("Failed to save drawing data:",bt);const Et=((nt=(Pe=bt.response)==null?void 0:Pe.data)==null?void 0:nt.error)||bt.message||"   ",At=((Ze=bt.response)==null?void 0:Ze.status)||"";alert(`  : ${At?`[${At}] `:""}${Et}`)}},500)),()=>{U.current&&clearTimeout(U.current)}},[s==null?void 0:s.id,t,i,d,b,j,I,M,re]);const[ke,De]=l.useState(!1),Ie=async(W,oe)=>{if(!W.type.startsWith("image/")){alert("   .");return}if(W.size>20*1024*1024){alert("  20MB .");return}De(!0);try{const Pe=await Cr.uploadImage(W);console.log(`   : ${Pe}`),oe!==void 0?p(nt=>{const Ze=[...nt];return Ze[oe]=Pe,Ze}):(p(nt=>[...nt,Pe]),u(d.length))}catch(Pe){console.error("  :",Pe),alert(Pe.message||"  .")}finally{De(!1)}},$e=W=>{confirm("  ?")&&p(oe=>{const Pe=oe.filter((nt,Ze)=>Ze!==W);return f>=Pe.length?u(Math.max(0,Pe.length-1)):f>W&&u(f-1),Pe})},ot=W=>{const oe=document.createElement("input");oe.type="file",oe.accept="image/*",oe.onchange=Pe=>{var Ze;const nt=(Ze=Pe.target.files)==null?void 0:Ze[0];nt&&Ie(nt,W)},oe.click()},et=W=>{const oe=W.target.files;oe&&Array.from(oe).forEach(Pe=>Ie(Pe)),W.target.value=""},Qe=W=>{var Pe;if(!t)return;const oe=(Pe=W.clipboardData)==null?void 0:Pe.items;if(oe){for(let nt=0;nt<oe.length;nt++)if(oe[nt].type.startsWith("image/")){const Ze=oe[nt].getAsFile();if(Ze){Ie(Ze);break}}}},it=W=>{W.preventDefault(),B(!0)},yt=W=>{W.preventDefault(),B(!1)},lt=W=>{var Pe;W.preventDefault(),B(!1);const oe=(Pe=W.dataTransfer.files)==null?void 0:Pe[0];oe&&Ie(oe)};l.useEffect(()=>(document.addEventListener("paste",Qe),()=>{document.removeEventListener("paste",Qe)}),[t]);const ct=W=>{W.preventDefault();const nt=1+(W.deltaY>0?-1:1)*.15,Ze=Math.min(Math.max(.5,Z*nt),5),bt=W.currentTarget.getBoundingClientRect(),Et=W.clientX-bt.left-bt.width/2,At=W.clientY-bt.top-bt.height/2,pt=Ze/Z,Lt=Et-(Et-ce.x)*pt,Ht=At-(At-ce.y)*pt;A(Ze),V({x:Lt,y:Ht})},ut=W=>{W.button===0&&(me(!0),Me({x:W.clientX-ce.x,y:W.clientY-ce.y}))},ht=W=>{_&&V({x:W.clientX-xe.x,y:W.clientY-xe.y})},Ct=()=>{me(!1)},kt=()=>{A(1),V({x:0,y:0})},c=W=>{if(W.length<2)return 0;const oe=W[0].clientX-W[1].clientX,Pe=W[0].clientY-W[1].clientY;return Math.sqrt(oe*oe+Pe*Pe)},k=W=>W.length<2?{x:W[0].clientX,y:W[0].clientY}:{x:(W[0].clientX+W[1].clientX)/2,y:(W[0].clientY+W[1].clientY)/2},H=W=>{W.preventDefault(),W.stopPropagation();const oe=W.touches;if(oe.length===1){const Pe=Date.now(),nt=Pe-T.current;C.current={x:oe[0].clientX,y:oe[0].clientY},nt<300?(kt(),T.current=0):(T.current=Pe,me(!0),Me({x:oe[0].clientX-ce.x,y:oe[0].clientY-ce.y}))}else oe.length===2&&(me(!1),$.current=c(oe),G.current=k(oe))},J=W=>{W.preventDefault(),W.stopPropagation();const oe=W.touches;if(oe.length===1&&_)V({x:oe[0].clientX-xe.x,y:oe[0].clientY-xe.y});else if(oe.length===2){const Pe=c(oe),nt=k(oe);if($.current>0){const Ze=Pe/$.current,bt=Math.min(Math.max(.5,Z*Ze),5),Et=bt/Z,At=nt.x-window.innerWidth/2,pt=nt.y-window.innerHeight/2,Lt=At-(At-ce.x)*Et,Ht=pt-(pt-ce.y)*Et;A(bt),V({x:Lt,y:Ht})}$.current=Pe,G.current=nt}},F=W=>{W.stopPropagation(),W.touches.length===0?(me(!1),$.current=0):W.touches.length===1&&($.current=0,me(!0),Me({x:W.touches[0].clientX-ce.x,y:W.touches[0].clientY-ce.y}))},ee=()=>{He(!1),A(1),V({x:0,y:0}),me(!1)},q=W=>{if(!L||!z.current)return;const oe=z.current.getBoundingClientRect(),Pe=W.clientX-oe.left,nt=W.clientY-oe.top;let Ze,bt;if(de==="room"&&ve){if(!j.find(S=>S.id===ve)||!X.current)return;const At=X.current.naturalWidth,pt=X.current.naturalHeight;if(!At||!pt)return;const Lt=At/pt,Ht=oe.width/oe.height;let Vt,It,ts,Jt;Ht>Lt?(It=oe.height,Vt=oe.height*Lt,ts=(oe.width-Vt)/2,Jt=0):(Vt=oe.width,It=oe.width/Lt,ts=0,Jt=(oe.height-It)/2);const E=Pe-ts,g=nt-Jt;if(E<0||E>Vt||g<0||g>It)return;Ze=E/Vt*100,bt=g/It*100}else{if(!X.current)return;const Et=X.current.naturalWidth,At=X.current.naturalHeight;if(!Et||!At)return;const pt=Et/At,Lt=oe.width/oe.height;let Ht,Vt,It,ts;Lt>pt?(Vt=oe.height,Ht=oe.height*pt,It=(oe.width-Ht)/2,ts=0):(Ht=oe.width,Vt=oe.width/pt,It=0,ts=(oe.height-Vt)/2);const Jt=Pe-It,E=nt-ts;if(Jt<0||Jt>Ht||E<0||E>Vt)return;Ze=Jt/Ht*100,bt=E/Vt*100}if(O==="room")Xe(!0),Le({x:Ze,y:bt}),Ce({x:Ze,y:bt});else if(i===""){if(he)return;const Et=Ar.find(Vt=>Vt.id===o);let At=null,pt,Lt;if(de==="room"&&ve){const Vt=j.find(It=>It.id===ve);Vt&&(At=ve,pt=(Ze-Vt.x)/Vt.width*100,Lt=(bt-Vt.y)/Vt.height*100)}const Ht={id:`marker-${Date.now()}`,x:Ze,y:bt,roomId:At,roomX:pt,roomY:Lt,type:o,label:(Et==null?void 0:Et.name)||"",details:""};x([...b,Ht])}},ye=W=>{if(!L||!z.current||!X.current)return;const oe=z.current.getBoundingClientRect(),Pe=W.clientX-oe.left,nt=W.clientY-oe.top,Ze=X.current.naturalWidth,bt=X.current.naturalHeight;if(!Ze||!bt)return;const Et=Ze/bt,At=oe.width/oe.height;let pt,Lt,Ht,Vt;At>Et?(Lt=oe.height,pt=oe.height*Et,Ht=(oe.width-pt)/2,Vt=0):(pt=oe.width,Lt=oe.width/Et,Ht=0,Vt=(oe.height-Lt)/2);const It=Pe-Ht,ts=nt-Vt;if(It<0||It>pt||ts<0||ts>Lt)return;const Jt=It/pt*100,E=ts/Lt*100;if(Be&&le)Ce({x:Jt,y:E});else if(he&&Ve){if(b.find(S=>S.id===Ve)&&de==="room"&&ve){const S=j.find(te=>te.id===ve);if(S){const te=(Jt-S.x)/S.width*100,ae=(E-S.y)/S.height*100;x(b.map(be=>be.id===Ve?{...be,x:Jt,y:E,roomX:te,roomY:ae}:be));return}}x(b.map(S=>S.id===Ve?{...S,x:Jt,y:E}:S))}},v=()=>{if(Be&&le&&Ue){const W=Math.min(le.x,Ue.x),oe=Math.min(le.y,Ue.y),Pe=Math.abs(Ue.x-le.x),nt=Math.abs(Ue.y-le.y);Pe>2&&nt>2&&(fe({x:W,y:oe,width:Pe,height:nt}),We(!0)),Xe(!1),Le(null),Ce(null)}Ne(!1),je(null)},ne=()=>{if(R&&Te.trim()){const W={id:`room-${Date.now()}`,name:Te.trim(),...R};h([...j,W]),We(!1),qe(""),fe(null)}},ge=(W,oe)=>{W.stopPropagation(),Ne(!0),je(oe)},Se=W=>{x(b.filter(oe=>oe.id!==W))},ze=W=>{h(j.filter(oe=>oe.id!==W)),x(b.filter(oe=>oe.roomId!==W)),ve===W&&(Q(null),ue("full"))},Je=W=>{Q(W),ue("room")},Ge=()=>{ue("full"),Q(null)},st=()=>{if(de==="room"&&ve){const W=j.find(oe=>oe.id===ve);return W?b.filter(oe=>oe.roomId===ve).map(oe=>({...oe,x:W.x+(oe.roomX||0)*W.width/100,y:W.y+(oe.roomY||0)*W.height/100})):[]}return b},Oe=j.find(W=>W.id===ve),Ye=W=>W.replace("","");return e.jsxDEV("div",{className:"h-full flex flex-col",children:[e.jsxDEV("div",{className:"bg-white border-b px-3 md:px-6 py-3 flex-shrink-0",children:[e.jsxDEV("div",{className:"md:hidden",children:[e.jsxDEV("div",{className:"flex justify-end mb-3",children:e.jsxDEV("select",{value:t,onChange:W=>r(W.target.value),className:"input max-w-[200px] text-sm",children:[(s==null?void 0:s.name)!==""&&e.jsxDEV("option",{value:"",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:938,columnNumber:39},void 0),n.filter(W=>W.status!=="completed").map(W=>e.jsxDEV("option",{value:W.id,children:W.name},W.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:942,columnNumber:19},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:933,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:932,columnNumber:11},void 0),e.jsxDEV("div",{className:"grid grid-cols-5 gap-2 mb-3",children:Er.map(W=>e.jsxDEV("button",{onClick:()=>a(W),className:`px-2 py-1.5 rounded text-xs whitespace-nowrap transition-colors ${i===W?"bg-gray-900 text-white font-medium":"text-gray-700 bg-gray-100 hover:bg-gray-200"}`,children:Ye(W)},W,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:952,columnNumber:15},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:950,columnNumber:11},void 0),de==="room"&&Oe&&e.jsxDEV("div",{className:"flex items-center justify-between mt-3",children:[e.jsxDEV("button",{onClick:Ge,className:"btn btn-outline text-sm",children:[e.jsxDEV(to,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:974,columnNumber:17},void 0)," "]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:970,columnNumber:15},void 0),e.jsxDEV("span",{className:"text-base font-semibold text-gray-900",children:Oe.name},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:977,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:969,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:930,columnNumber:9},void 0),e.jsxDEV("div",{className:"hidden md:flex items-center justify-between gap-4",children:[e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV("div",{className:"w-80",children:e.jsxDEV("select",{value:t,onChange:W=>r(W.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-gray-500",children:[(s==null?void 0:s.name)!==""&&e.jsxDEV("option",{value:"",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:991,columnNumber:41},void 0),n.filter(W=>W.status!=="completed").map(W=>e.jsxDEV("option",{value:W.id,children:W.name},W.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:995,columnNumber:21},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:986,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:985,columnNumber:13},void 0),i===""&&t&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("span",{className:"text-sm font-medium text-gray-600",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1006,columnNumber:19},void 0),e.jsxDEV("div",{className:"flex items-center gap-1",children:[e.jsxDEV("input",{type:"text",value:I,onChange:W=>y(W.target.value),placeholder:": 136E",className:"w-28 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1008,columnNumber:21},void 0),e.jsxDEV("span",{className:"text-sm font-medium text-gray-700",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1015,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1007,columnNumber:19},void 0),e.jsxDEV("span",{className:"text-gray-400",children:"/"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1017,columnNumber:19},void 0),e.jsxDEV("div",{className:"flex items-center gap-1",children:[e.jsxDEV("input",{type:"text",value:M,onChange:W=>se(W.target.value),placeholder:": 41E",className:"w-24 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1019,columnNumber:21},void 0),e.jsxDEV("span",{className:"text-sm font-medium text-gray-700",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1026,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1018,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1005,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("span",{className:"text-sm font-medium text-gray-600",children:"/"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1030,columnNumber:19},void 0),e.jsxDEV("input",{type:"text",value:re,onChange:W=>w(W.target.value),placeholder:": 136.21/101.97( 75%)",className:"w-80 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1031,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1029,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1004,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:984,columnNumber:11},void 0),de==="room"&&Oe&&e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV("button",{onClick:Ge,className:"btn btn-outline text-sm",children:[e.jsxDEV(to,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1049,columnNumber:17},void 0)," "]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1045,columnNumber:15},void 0),e.jsxDEV("span",{className:"text-lg font-semibold text-gray-900",children:Oe.name},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1052,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1044,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:983,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:928,columnNumber:7},void 0),e.jsxDEV("div",{className:"drawings-main flex-1 flex flex-col md:flex-row overflow-hidden",children:[e.jsxDEV("div",{className:"drawings-sidebar hidden md:block w-48 bg-white border-r flex-shrink-0 overflow-y-auto",children:e.jsxDEV("div",{className:"drawings-sidebar-inner p-4",children:[e.jsxDEV("h3",{className:"drawings-sidebar-title text-xs font-semibold text-gray-500 uppercase tracking-wider mb-3",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1062,columnNumber:13},void 0),e.jsxDEV("div",{className:"drawings-type-list space-y-1 mb-6",children:Er.map(W=>e.jsxDEV("button",{onClick:()=>a(W),className:`drawings-type-btn w-full text-left px-3 py-2.5 rounded text-sm transition-colors ${i===W?"bg-gray-900 text-white font-medium":"text-gray-700 hover:bg-gray-100"}`,children:Ye(W)},W,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1065,columnNumber:17},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1063,columnNumber:13},void 0),t&&i===""&&L&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"mb-6",children:e.jsxDEV("button",{onClick:()=>ie(O==="room"?"marker":"room"),className:`w-full text-left px-3 py-2.5 rounded text-sm transition-colors flex items-center font-medium ${O==="room"?"bg-green-700 text-white":"bg-green-600 text-white hover:bg-green-700"}`,children:[e.jsxDEV(Cc,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1090,columnNumber:21},void 0),O==="room"?"  ...":" "]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1082,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1081,columnNumber:17},void 0),j.length>0&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV("h3",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-3",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1097,columnNumber:21},void 0),e.jsxDEV("div",{className:"space-y-1",children:j.map(W=>e.jsxDEV("div",{className:`w-full text-left px-3 py-2.5 rounded text-sm transition-colors flex items-center justify-between group ${ve===W.id?"bg-purple-600 text-white font-medium":"text-gray-700 hover:bg-gray-100"}`,children:[e.jsxDEV("button",{onClick:()=>Je(W.id),className:"flex-1 text-left",children:W.name},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1108,columnNumber:27},void 0),e.jsxDEV("button",{onClick:oe=>{oe.stopPropagation(),ze(W.id)},className:"opacity-0 group-hover:opacity-100 ml-2",children:e.jsxDEV(Dt,{className:"w-3.5 h-3.5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1121,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1114,columnNumber:27},void 0)]},W.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1100,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1098,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1096,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1080,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1061,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1060,columnNumber:9},void 0),t?e.jsxDEV(e.Fragment,{children:e.jsxDEV("div",{className:"flex-1 bg-gray-50 flex flex-col overflow-hidden",children:e.jsxDEV("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i===""&&t&&e.jsxDEV("div",{className:"md:hidden bg-white border-b px-3 py-1",children:e.jsxDEV("div",{className:"flex items-center gap-1.5 overflow-x-auto",children:[e.jsxDEV("div",{className:"flex items-center gap-0.5 flex-shrink-0",children:[e.jsxDEV("span",{className:"text-[11px] text-gray-500",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1145,columnNumber:23},void 0),e.jsxDEV("input",{type:"text",value:I,onChange:W=>y(W.target.value),placeholder:"136E",className:"input w-12 h-5 text-[12px] px-1"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1146,columnNumber:23},void 0),e.jsxDEV("span",{className:"text-[11px] text-gray-500",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1153,columnNumber:23},void 0),e.jsxDEV("span",{className:"text-gray-300 text-xs",children:"/"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1154,columnNumber:23},void 0),e.jsxDEV("input",{type:"text",value:M,onChange:W=>se(W.target.value),placeholder:"41E",className:"input w-10 h-5 text-[12px] px-1"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1155,columnNumber:23},void 0),e.jsxDEV("span",{className:"text-[11px] text-gray-500",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1162,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1144,columnNumber:21},void 0),e.jsxDEV("div",{className:"w-px h-3 bg-gray-200 flex-shrink-0"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1165,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex items-center gap-0.5 flex-1 min-w-0",children:[e.jsxDEV("span",{className:"text-[11px] text-gray-500 flex-shrink-0",children:"/"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1168,columnNumber:23},void 0),e.jsxDEV("input",{type:"text",value:re,onChange:W=>w(W.target.value),placeholder:"136.21/101.97",className:"input h-5 text-[12px] px-1 flex-1 min-w-[100px]"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1169,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1167,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1142,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1141,columnNumber:17},void 0),e.jsxDEV("div",{className:"overflow-hidden p-3 md:p-6 flex-1 md:flex-none",children:L?e.jsxDEV("div",{className:`relative w-full h-full md:h-auto md:max-h-[calc(100vh-280px)] bg-white rounded-lg shadow-lg overflow-hidden md:aspect-[16/10] group/canvas ${Fe?"ring-4 ring-blue-500 ring-inset":""}`,onDragOver:it,onDragLeave:yt,onDrop:lt,children:[Fe&&e.jsxDEV("div",{className:"absolute inset-0 bg-blue-500 bg-opacity-20 z-30 flex items-center justify-center pointer-events-none",children:e.jsxDEV("div",{className:"bg-white px-6 py-3 rounded-lg shadow-lg text-blue-600 font-medium",children:"  "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1195,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1194,columnNumber:23},void 0),e.jsxDEV("div",{className:"absolute top-3 right-3 flex gap-2 z-20 opacity-0 group-hover/canvas:opacity-100 transition-opacity",children:[e.jsxDEV("button",{onClick:W=>{W.stopPropagation(),ot(f)},className:"w-9 h-9 bg-white rounded-full shadow-lg flex items-center justify-center text-gray-600 hover:text-gray-900 hover:bg-gray-50 transition-all border border-gray-200",title:" ",children:e.jsxDEV(mn,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1210,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1202,columnNumber:23},void 0),e.jsxDEV("button",{onClick:W=>{W.stopPropagation(),$e(f)},className:"w-9 h-9 bg-white rounded-full shadow-lg flex items-center justify-center text-red-500 hover:text-red-600 hover:bg-red-50 transition-all border border-gray-200",title:" ",children:e.jsxDEV(Dt,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1220,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1212,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1201,columnNumber:21},void 0),e.jsxDEV("div",{ref:z,className:`relative w-full h-full ${O==="room"?"cursor-crosshair":"cursor-default"}`,onMouseDown:q,onMouseMove:ye,onMouseUp:v,onMouseLeave:v,children:[e.jsxDEV("img",{ref:X,src:L,alt:"",className:"w-full h-full object-contain select-none",draggable:!1,onClick:()=>He(!0),style:de==="room"&&Oe?(()=>{const W=100/Oe.width,oe=100/Oe.height,Pe=Math.max(W,oe),nt=Oe.x+Oe.width/2,Ze=Oe.y+Oe.height/2;return{objectFit:"none",transform:`scale(${Pe}) translate(${(50-nt)/Pe}%, ${(50-Ze)/Pe}%)`,transformOrigin:"0 0",pointerEvents:"auto",cursor:"pointer"}})():{pointerEvents:"auto",cursor:"pointer"}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1233,columnNumber:23},void 0),de==="full"&&j.map(W=>e.jsxDEV("div",{className:"absolute border-2 border-purple-500 bg-purple-500 bg-opacity-10 hover:bg-opacity-20 transition-all cursor-pointer group",style:{left:`${W.x}%`,top:`${W.y}%`,width:`${W.width}%`,height:`${W.height}%`},onClick:()=>Je(W.id),children:[e.jsxDEV("div",{className:"absolute top-1 left-1 bg-purple-600 text-white px-2 py-0.5 rounded text-xs font-medium",children:W.name},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1280,columnNumber:25},void 0),e.jsxDEV("button",{onClick:oe=>{oe.stopPropagation(),ze(W.id)},className:"absolute top-1 right-1 w-5 h-5 bg-red-500 text-white rounded opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:e.jsxDEV(Dt,{className:"w-3 h-3"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1290,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1283,columnNumber:25},void 0)]},W.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1269,columnNumber:23},void 0)),Be&&le&&Ue&&e.jsxDEV("div",{className:"absolute border-2 border-dashed border-green-500 bg-green-500 bg-opacity-10",style:{left:`${Math.min(le.x,Ue.x)}%`,top:`${Math.min(le.y,Ue.y)}%`,width:`${Math.abs(Ue.x-le.x)}%`,height:`${Math.abs(Ue.y-le.y)}%`}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1297,columnNumber:23},void 0),st().map(W=>{const oe=Ar.find(Pe=>Pe.id===W.type);return e.jsxDEV("div",{onMouseDown:Pe=>ge(Pe,W.id),className:"absolute transform -translate-x-1/2 -translate-y-1/2 cursor-move group",style:{left:`${W.x}%`,top:`${W.y}%`},children:[(oe==null?void 0:oe.category)==="light"?e.jsxDEV("div",{className:"rounded-full shadow-md transition-transform group-hover:scale-110",style:{backgroundColor:oe.color,width:"16px",height:"16px"}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1322,columnNumber:29},void 0):e.jsxDEV("div",{className:"flex items-center justify-center bg-white rounded shadow-md transition-transform group-hover:scale-110",style:{borderColor:oe==null?void 0:oe.color,color:oe==null?void 0:oe.color,border:"1.5px solid",padding:"2px 4px",fontSize:"10px",fontWeight:"600",minWidth:"20px",minHeight:"20px"},children:oe==null?void 0:oe.symbol},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1331,columnNumber:29},void 0),e.jsxDEV("button",{onClick:Pe=>{Pe.stopPropagation(),Se(W.id)},className:"absolute -top-1 -right-1 w-4 h-4 bg-red-500 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:e.jsxDEV(Dt,{className:"w-2.5 h-2.5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1354,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1347,columnNumber:27},void 0)]},W.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1312,columnNumber:25},void 0)})]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1223,columnNumber:21},void 0),d.length>1&&e.jsxDEV("div",{className:"absolute bottom-0 left-0 right-0 bg-black bg-opacity-60 px-3 py-2 z-20",children:e.jsxDEV("div",{className:"flex items-center gap-2 overflow-x-auto",children:d.map((W,oe)=>e.jsxDEV("div",{className:`relative flex-shrink-0 cursor-pointer group rounded overflow-hidden transition-all ${f===oe?"ring-2 ring-white":"opacity-70 hover:opacity-100"}`,onClick:()=>u(oe),children:[e.jsxDEV("img",{src:W,alt:` ${oe+1}`,className:"w-12 h-12 md:w-14 md:h-14 object-cover"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1376,columnNumber:31},void 0),e.jsxDEV("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all flex items-center justify-center gap-1 opacity-0 group-hover:opacity-100",children:[e.jsxDEV("button",{onClick:Pe=>{Pe.stopPropagation(),ot(oe)},className:"w-6 h-6 bg-white rounded-full flex items-center justify-center shadow-md hover:bg-gray-100 transition-colors",title:"",children:e.jsxDEV(mn,{className:"w-3 h-3 text-gray-700"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1391,columnNumber:35},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1383,columnNumber:33},void 0),e.jsxDEV("button",{onClick:Pe=>{Pe.stopPropagation(),$e(oe)},className:"w-6 h-6 bg-white rounded-full flex items-center justify-center shadow-md hover:bg-red-50 transition-colors",title:"",children:e.jsxDEV(Dt,{className:"w-3 h-3 text-red-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1401,columnNumber:35},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1393,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1382,columnNumber:31},void 0),f===oe&&e.jsxDEV("div",{className:"absolute bottom-0 left-0 right-0 bg-white text-gray-900 text-[9px] text-center py-0.5 font-bold",children:[oe+1,"/",d.length]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1406,columnNumber:33},void 0)]},oe,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1367,columnNumber:29},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1365,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1364,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1184,columnNumber:19},void 0):e.jsxDEV("div",{className:`flex flex-col items-center justify-center h-full bg-white rounded-lg shadow-lg text-gray-500 transition-all ${Fe?"border-4 border-dashed border-blue-500 bg-blue-50":""}`,onDragOver:it,onDragLeave:yt,onDrop:lt,children:[ke?e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"w-20 h-20 mb-4 flex items-center justify-center",children:e.jsxDEV("div",{className:"w-12 h-12 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1428,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1427,columnNumber:25},void 0),e.jsxDEV("p",{className:"text-base mb-2 font-semibold text-blue-600",children:"  ..."},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1430,columnNumber:25},void 0),e.jsxDEV("p",{className:"text-sm text-gray-400",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1433,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1426,columnNumber:23},void 0):e.jsxDEV(e.Fragment,{children:[e.jsxDEV(so,{className:`w-20 h-20 mb-4 transition-colors ${Fe?"text-blue-500":"text-gray-400"}`},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1439,columnNumber:25},void 0),e.jsxDEV("p",{className:"text-base mb-2 font-semibold",children:Fe?"  ":"  "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1442,columnNumber:25},void 0),e.jsxDEV("p",{className:"text-sm mb-4 text-gray-400",children:" ,   ,  Ctrl+V "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1445,columnNumber:25},void 0),e.jsxDEV("button",{onClick:()=>{var W;return(W=K.current)==null?void 0:W.click()},className:"px-6 py-2.5 bg-gray-900 text-white rounded-lg text-sm font-medium hover:bg-gray-800 transition-colors",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1448,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1438,columnNumber:23},void 0),e.jsxDEV("input",{ref:K,type:"file",accept:"image/*",multiple:!0,onChange:et,className:"hidden"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1456,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1417,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1182,columnNumber:15},void 0),i===""&&L&&O==="marker"&&e.jsxDEV("div",{className:"bg-white border-t px-6 py-3 flex-shrink-0",children:e.jsxDEV("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsxDEV("span",{className:"text-xs font-medium text-gray-700 mr-2",children:"C:  / S:  / : "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1472,columnNumber:21},void 0),e.jsxDEV("div",{className:"w-px h-4 bg-gray-300 mx-1"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1473,columnNumber:21},void 0),Ar.map(W=>e.jsxDEV("button",{onClick:()=>m(W.id),className:`px-3 py-1.5 rounded text-xs font-medium transition-all ${o===W.id?"bg-gray-900 text-white shadow-md":"bg-white text-gray-700 border border-gray-300 hover:border-gray-900"}`,style:{borderColor:o===W.id?void 0:W.color,borderWidth:o===W.id?void 0:"1.5px"},children:e.jsxDEV("span",{className:"text-sm font-semibold",style:{color:o===W.id?"white":W.color},children:W.symbol},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1488,columnNumber:25},void 0)},W.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1475,columnNumber:23},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1471,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1470,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1138,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1137,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1134,columnNumber:11},void 0):e.jsxDEV("div",{className:"drawings-empty flex-1 flex items-center justify-center bg-gray-50",children:e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV(so,{className:"w-20 h-20 mx-auto mb-4 text-gray-400"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1503,columnNumber:15},void 0),e.jsxDEV("p",{className:"text-lg text-gray-600 mb-2",children:"  "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1504,columnNumber:15},void 0),e.jsxDEV("p",{className:"text-sm text-gray-500",children:"  /    "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1505,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1502,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1501,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1058,columnNumber:7},void 0),Re&&e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxDEV("div",{className:"bg-white rounded-lg p-6 w-96",children:[e.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"  "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1515,columnNumber:13},void 0),e.jsxDEV("input",{type:"text",value:Te,onChange:W=>qe(W.target.value),onKeyDown:W=>{W.key==="Enter"&&ne()},placeholder:": , 1, ",className:"input w-full mb-4",autoFocus:!0},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1516,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex justify-end gap-2",children:[e.jsxDEV("button",{onClick:()=>{We(!1),qe(""),fe(null)},className:"btn btn-outline",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1530,columnNumber:15},void 0),e.jsxDEV("button",{onClick:ne,className:"btn btn-primary",disabled:!Te.trim(),children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1540,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1529,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1514,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1513,columnNumber:9},void 0),pe&&L&&e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50 touch-none",onClick:ee,onWheel:ct,onMouseMove:ht,onMouseUp:Ct,onMouseLeave:Ct,onTouchStart:H,onTouchMove:J,onTouchEnd:F,children:e.jsxDEV("div",{className:"relative w-full h-full p-4 md:p-8 flex items-center justify-center overflow-hidden",children:[e.jsxDEV("button",{onClick:ee,className:"absolute top-4 right-4 w-10 h-10 bg-white bg-opacity-20 hover:bg-opacity-30 rounded-full flex items-center justify-center text-white transition-all z-10",children:e.jsxDEV(dt,{className:"w-6 h-6"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1570,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1566,columnNumber:13},void 0),e.jsxDEV("div",{className:"absolute top-4 left-4 bg-black bg-opacity-50 text-white text-xs px-3 py-2 rounded z-10",children:[e.jsxDEV("span",{className:"hidden md:inline",children:" : / | :  | : "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1575,columnNumber:15},void 0),e.jsxDEV("span",{className:"md:hidden",children:" : / | :  | : "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1576,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1574,columnNumber:13},void 0),Z!==1&&e.jsxDEV("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 bg-black bg-opacity-50 text-white text-sm px-3 py-1 rounded z-10",children:[Math.round(Z*100),"%"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1581,columnNumber:15},void 0),e.jsxDEV("img",{src:L,alt:" ",className:"object-contain select-none touch-none",style:{transform:`translate(${ce.x}px, ${ce.y}px) scale(${Z})`,cursor:_?"grabbing":"grab",transition:_?"none":"transform 0.1s ease-out",maxWidth:"100%",maxHeight:"100%"},onClick:W=>W.stopPropagation(),onMouseDown:ut,onDoubleClick:kt,draggable:!1},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1586,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1565,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1554,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:926,columnNumber:5},void 0)},ps={async getProjectLogs(s){try{return(await we.get(`/site-logs/project/${encodeURIComponent(s)}`)).data}catch(n){return console.error("Failed to get project logs:",n),[]}},async getAllLogs(){try{return(await we.get("/site-logs")).data}catch(s){return console.error("Failed to get all logs:",s),[]}},async createLog(s){try{return(await we.post("/site-logs",s)).data}catch(n){throw console.error("Failed to create log:",n),n}},async updateLog(s,n){try{return(await we.put(`/site-logs/${s}`,n)).data}catch(t){throw console.error("Failed to update log:",t),t}},async deleteLog(s){try{return(await we.delete(`/site-logs/${s}`)).data}catch(n){throw console.error("Failed to delete log:",n),n}},async getLogsByDateRange(s,n,t){try{return(await we.get("/site-logs/range",{params:{project:s,startDate:n.toISOString(),endDate:t.toISOString()}})).data}catch(r){return console.error("Failed to get logs by date range:",r),[]}}},xb=()=>{const{user:s}=Qt(),n=us(),[t,r]=l.useState(()=>localStorage.getItem("siteLog_includeCompleted")==="true"),i=t?n:n.filter(D=>D.status!=="completed"),[a,o]=l.useState([]),[m,d]=l.useState(""),p=l.useRef(null),[f,u]=l.useState(new Date),[b,x]=l.useState(!1),[j,h]=l.useState({show:!1,url:null}),[L,I]=l.useState(!1),[y,M]=l.useState(0),[se,re]=l.useState(new Date),[w,O]=l.useState(1),[ie,de]=l.useState({x:0,y:0}),[ue,ve]=l.useState(!1),[Q,he]=l.useState({x:0,y:0}),[Ne,Ve]=l.useState(null),[je,Be]=l.useState(null),[Xe,le]=l.useState(!1),[Le,Ue]=l.useState(0),[Ce,Re]=l.useState(null),[We,Te]=l.useState({notes:"",images:[]}),[qe,R]=l.useState(()=>{const D=localStorage.getItem("siteLogNotes");return D?JSON.parse(D):{}});l.useRef(null);const[fe,pe]=l.useState(null);l.useRef(null);const[He,Z]=l.useState(!1),[A,ce]=l.useState("saved"),V=l.useRef([]);l.useEffect(()=>{V.current=a},[a]),l.useEffect(()=>{localStorage.setItem("siteLogNotes",JSON.stringify(qe))},[qe]),l.useEffect(()=>{localStorage.setItem("siteLog_includeCompleted",String(t))},[t]),l.useEffect(()=>{if(i.length>0&&!m){const D=`siteLog_lastProject_${(s==null?void 0:s.id)||(s==null?void 0:s.name)}`,U=localStorage.getItem(D);U&&i.find(Y=>Y.name===U)?d(U):d(i[0].name)}},[i,s]),l.useEffect(()=>{if(m&&s){const D=`siteLog_lastProject_${s.id||s.name}`;localStorage.setItem(D,m)}},[m,s]),l.useEffect(()=>()=>{p.current&&clearTimeout(p.current)},[]),l.useEffect(()=>{_()},[m]),l.useEffect(()=>{const D=Ae(f,"yyyy-MM-dd"),U=`${m}_${D}`,Y=qe[U];Te(Y!==void 0?ke=>({...ke,notes:Y}):ke=>({...ke,notes:""})),ce("saved")},[f,m]),l.useEffect(()=>{if(a.length===0)return;const D=Ae(f,"yyyy-MM-dd"),U=`${m}_${D}`;if(qe[U]!==void 0)return;const Y=a.find(ke=>{try{const De=ke.date?new Date(ke.date):null;return De&&!isNaN(De.getTime())&&Ae(De,"yyyy-MM-dd")===D&&ke.project===m}catch{return!1}});Y&&Y.notes&&(Te(ke=>({...ke,notes:Y.notes||""})),R(ke=>({...ke,[U]:Y.notes||""})))},[a,f,m]);const _=async()=>{if(m)try{const D=await ps.getProjectLogs(m);o(D.map(U=>({...U,id:U._id||U.id,date:U.date?new Date(U.date):new Date,createdAt:U.created_at?new Date(U.created_at):new Date})))}catch(D){console.error("Failed to load site logs:",D),o([])}},me=(D,U=1920,Y=1080,ke=.8)=>new Promise((De,Ie)=>{const $e=new FileReader;$e.onload=ot=>{var Qe;const et=new Image;et.onload=()=>{const it=document.createElement("canvas");let yt=et.width,lt=et.height;if(yt>U||lt>Y){const ut=Math.min(U/yt,Y/lt);yt*=ut,lt*=ut}it.width=yt,it.height=lt;const ct=it.getContext("2d");if(!ct){Ie(new Error("Canvas context not available"));return}ct.drawImage(et,0,0,yt,lt),it.toBlob(ut=>{if(!ut){Ie(new Error("Failed to compress image"));return}const ht=new FileReader;ht.onload=()=>De(ht.result),ht.readAsDataURL(ut)},D.type,ke)},et.src=(Qe=ot.target)==null?void 0:Qe.result},$e.readAsDataURL(D)}),xe=l.useCallback(async D=>{const Y=Array.from(D).filter(De=>De.type.startsWith("image/"));if(Y.length===0){P.error("   ");return}if(Y.length>100){P.error("  100  ");return}if(!m){P.error(" ");return}I(!0),P.loading(`${Y.length}  ...`);const ke=Y.map(De=>me(De));try{const De=await Promise.all(ke),Ie=Ae(f,"yyyy-MM-dd"),$e=a.find(Qe=>{try{const it=Qe.date?new Date(Qe.date):null;return it&&!isNaN(it.getTime())&&Ae(it,"yyyy-MM-dd")===Ie&&Qe.project===m}catch{return!1}}),ot=20,et=[];for(let Qe=0;Qe<De.length;Qe+=ot)et.push(De.slice(Qe,Qe+ot));if(P.dismiss(),$e){let Qe=[...$e.images];for(let it=0;it<et.length;it++)P.loading(`  ... (${it+1}/${et.length})`),Qe=[...Qe,...et[it]],await ps.updateLog($e.id,{project:$e.project,date:$e.date,images:Qe,notes:$e.notes||""}),P.dismiss();P.success(`${De.length}  `)}else{P.loading(`  ... (1/${et.length})`);const Qe={project:m,date:f,images:et[0],notes:"",createdBy:(s==null?void 0:s.name)||""},it=await ps.createLog(Qe);if(P.dismiss(),et.length>1){let yt=[...et[0]];for(let lt=1;lt<et.length;lt++)P.loading(`  ... (${lt+1}/${et.length})`),yt=[...yt,...et[lt]],await ps.updateLog(it._id||it.id,{project:m,date:f,images:yt,notes:""}),P.dismiss()}P.success(`${De.length}  `)}await _()}catch(De){console.error("Failed to save images:",De),P.error("  ")}finally{I(!1)}},[m,f,s,a,_]),Me=l.useCallback(D=>{D.preventDefault(),xe(D.dataTransfer.files)},[xe]);l.useEffect(()=>{const D=U=>{var Ie;const Y=(Ie=U.clipboardData)==null?void 0:Ie.items;if(!Y)return;const ke=Array.from(Y).filter($e=>$e.type.startsWith("image/"));if(ke.length===0)return;U.preventDefault();const De=ke.map($e=>$e.getAsFile()).filter(Boolean);xe(De)};return document.addEventListener("paste",D),()=>document.removeEventListener("paste",D)},[xe]),l.useCallback(async D=>{if(!(!m||!D))try{const U=Ae(f,"yyyy-MM-dd"),Y=a.find(ke=>{try{const De=ke.date?new Date(ke.date):null;return De&&!isNaN(De.getTime())&&Ae(De,"yyyy-MM-dd")===U&&ke.project===m}catch{return!1}});if(Y)await ps.updateLog(Y.id,{project:Y.project,date:Y.date,images:Y.images,notes:D});else{const ke={project:m,date:f,images:We.images,notes:D,createdBy:(s==null?void 0:s.name)||""};await ps.createLog(ke)}await _()}catch(U){console.error("Failed to auto-save site log:",U)}},[m,f,a,We.images,s,_]);const Fe=async D=>{if(window.confirm("  ?"))try{await ps.deleteLog(D),P.success(" "),await _()}catch(U){console.error("Failed to delete site log:",U),P.error("  ")}},B=async(D,U)=>{if(!window.confirm("  ?"))return;const Y=a.find(ke=>ke.id===D);if(Y)try{const ke=Y.images.filter((De,Ie)=>Ie!==U);ke.length===0&&!Y.notes?await Fe(D):(await ps.updateLog(D,{project:Y.project,date:Y.date,images:ke,notes:Y.notes}),o(De=>De.map(Ie=>Ie.id===D?{...Ie,images:ke}:Ie)),P.success(" "))}catch(ke){console.error("Failed to delete image:",ke),P.error("  ")}},$=()=>{const D=se.getFullYear(),U=se.getMonth(),Y=new Date(D,U,1),ke=new Date(Y);ke.setDate(ke.getDate()-Y.getDay());const De=[],Ie=new Date(ke);for(let $e=0;$e<42;$e++){const ot=a.filter(et=>{try{const Qe=et.date?new Date(et.date):null;return Qe&&!isNaN(Qe.getTime())&&Ae(Qe,"yyyy-MM-dd")===Ae(Ie,"yyyy-MM-dd")}catch{return!1}});De.push({date:new Date(Ie),logs:ot,hasImages:ot.some(et=>et.images&&et.images.length>0)}),Ie.setDate(Ie.getDate()+1)}return De},G=D=>{const U=new Date(se);U.setMonth(U.getMonth()+D),re(U)},T=a.reduce((D,U)=>{try{const Y=U.date?new Date(U.date):null;if(Y&&!isNaN(Y.getTime())){const ke=Ae(Y,"yyyy-MM-dd");D[ke]||(D[ke]=[]),D[ke].push(U)}}catch{}return D},{});Object.keys(T).sort((D,U)=>U.localeCompare(D));const C=(D,U)=>{const Y=D.clientX-U.clientX,ke=D.clientY-U.clientY;return Math.sqrt(Y*Y+ke*ke)},z=(D,U)=>({x:(D.clientX+U.clientX)/2,y:(D.clientY+U.clientY)/2}),X=(D,U=0)=>{h({show:!0,url:D[U],images:D}),M(U),O(1),de({x:0,y:0}),Ve(null),Be(null),le(!1)},K=D=>{if(!j.images)return;const U=(y+D+j.images.length)%j.images.length;M(U),h(Y=>({...Y,url:j.images[U]}))},N=async(D,U)=>{const Y=a.find(ke=>ke.id===D);if(Y)try{const ke={...Y,images:[...Y.images,...U]};await ps.updateLog(D,{project:Y.project,date:Y.date,images:ke.images,notes:Y.notes}),o(De=>De.map(Ie=>Ie.id===D?ke:Ie)),P.success(`${U.length}  `),pe(null)}catch(ke){console.error("Failed to add images to log:",ke),P.error("  ")}};return l.useCallback((D,U)=>{const ke=Array.from(U).filter(Ie=>Ie.type.startsWith("image/"));if(ke.length===0){P.error("   ");return}const De=ke.map(Ie=>new Promise($e=>{const ot=new FileReader;ot.onload=et=>{var Qe;$e((Qe=et.target)==null?void 0:Qe.result)},ot.readAsDataURL(Ie)}));Promise.all(De).then(Ie=>{N(D,Ie)})},[a]),l.useEffect(()=>{const D=U=>{if(j.show)switch(U.key){case"ArrowLeft":U.preventDefault(),j.images&&j.images.length>1&&K(-1);break;case"ArrowRight":U.preventDefault(),j.images&&j.images.length>1&&K(1);break;case"Escape":U.preventDefault(),h({show:!1,url:null});break}};return window.addEventListener("keydown",D),()=>window.removeEventListener("keydown",D)},[j.show,j.images,y]),e.jsxDEV("div",{className:"site-log-container desktop:grid desktop:grid-cols-12 desktop:gap-4 desktop:h-[calc(100vh-140px)] space-y-3 desktop:space-y-0",children:[e.jsxDEV("div",{className:"desktop:hidden flex justify-end items-center gap-2 mb-2",children:[e.jsxDEV("label",{className:"flex items-center gap-1 text-[10px] text-gray-500",children:[e.jsxDEV("input",{type:"checkbox",checked:t,onChange:D=>r(D.target.checked),className:"w-3 h-3 rounded border-gray-300"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:715,columnNumber:11},void 0),""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:714,columnNumber:9},void 0),e.jsxDEV("select",{value:m,onChange:D=>d(D.target.value),className:"px-3 py-1.5 bg-white text-gray-700 rounded-lg text-xs font-medium focus:outline-none focus:ring-2 focus:ring-gray-300 border border-gray-300",style:{appearance:"none",backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%236b7280'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 0.5rem center",backgroundSize:"1.25rem",paddingRight:"2.5rem"},children:i.map(D=>e.jsxDEV("option",{value:D.name,children:D.name},D.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:737,columnNumber:13},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:723,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:713,columnNumber:7},void 0),e.jsxDEV("div",{className:"site-log-left desktop:col-span-4 desktop:flex desktop:flex-col desktop:gap-4 desktop:h-full space-y-3 desktop:space-y-0",children:[e.jsxDEV("div",{className:"site-log-calendar desktop:flex-shrink-0",children:e.jsxDEV("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-3 md:p-4 max-h-[32vh] desktop:max-h-full overflow-y-auto",children:[e.jsxDEV("div",{className:"mb-4 hidden desktop:block",children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:e.jsxDEV("select",{value:m,onChange:D=>d(D.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",children:i.map(D=>e.jsxDEV("option",{value:D.name,children:D.name},D.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:759,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:753,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:752,columnNumber:15},void 0),e.jsxDEV("label",{className:"flex items-center gap-1.5 mt-2 text-xs text-gray-500 cursor-pointer",children:[e.jsxDEV("input",{type:"checkbox",checked:t,onChange:D=>r(D.target.checked),className:"w-3.5 h-3.5 rounded border-gray-300"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:766,columnNumber:17},void 0),"  "]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:765,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:751,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex items-center justify-between mb-3",children:[e.jsxDEV("button",{onClick:()=>G(-1),className:"p-1.5 hover:bg-gray-100 rounded transition-colors",children:e.jsxDEV(no,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:782,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:778,columnNumber:15},void 0),e.jsxDEV("h3",{className:"text-sm font-semibold",children:Ae(se,"yyyy M")},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:784,columnNumber:15},void 0),e.jsxDEV("button",{onClick:()=>G(1),className:"p-1.5 hover:bg-gray-100 rounded transition-colors",children:e.jsxDEV(ro,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:791,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:787,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:777,columnNumber:13},void 0),e.jsxDEV("div",{className:"grid grid-cols-7 gap-0.5",children:[["","","","","","",""].map(D=>e.jsxDEV("div",{className:"text-center text-xs font-medium text-gray-600 py-1",children:D},D,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:798,columnNumber:17},void 0)),$().map((D,U)=>{const Y=D.date.getMonth()===se.getMonth(),ke=Ae(D.date,"yyyy-MM-dd")===Ae(new Date,"yyyy-MM-dd"),De=Ae(D.date,"yyyy-MM-dd")===Ae(f,"yyyy-MM-dd");return e.jsxDEV("div",{onClick:()=>u(D.date),className:`text-center p-1.5 desktop:p-2 text-xs cursor-pointer rounded transition-colors min-h-[36px] desktop:min-h-[48px] flex flex-col items-center justify-center ${Y?"text-gray-700":"text-gray-300"} ${ke?"bg-blue-100":""} ${De?"bg-gray-900 text-white":"hover:bg-gray-100"} ${D.hasImages?"font-bold":""}`,children:[e.jsxDEV("span",{children:Ae(D.date,"d")},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:817,columnNumber:21},void 0),D.hasImages&&e.jsxDEV("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full mt-0.5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:819,columnNumber:23},void 0)]},U,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:808,columnNumber:19},void 0)})]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:796,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:749,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:747,columnNumber:9},void 0),e.jsxDEV("div",{className:"site-log-notes desktop:flex-1 desktop:min-h-0",children:e.jsxDEV("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-3 md:p-4 max-h-[30vh] desktop:h-full desktop:flex desktop:flex-col overflow-hidden",children:[e.jsxDEV("h2",{className:"text-lg font-semibold mb-4 flex-shrink-0",children:[Ae(f,"M d"),"  "]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:831,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex-1 min-h-0 flex flex-col",children:e.jsxDEV("textarea",{value:We.notes,onChange:D=>{const U=D.target.value,Y=Ae(f,"yyyy-MM-dd"),ke=`${m}_${Y}`;Te(De=>({...De,notes:U})),R(De=>({...De,[ke]:U})),p.current&&clearTimeout(p.current),p.current=setTimeout(async()=>{if(m)try{const De=V.current.find(Ie=>{try{const $e=Ie.date?new Date(Ie.date):null;return $e&&!isNaN($e.getTime())&&Ae($e,"yyyy-MM-dd")===Y&&Ie.project===m}catch{return!1}});if(De)await ps.updateLog(De.id,{project:De.project,date:De.date,images:De.images,notes:U});else if(U.trim()){const Ie=await ps.createLog({project:m,date:f,images:We.images,notes:U,createdBy:(s==null?void 0:s.name)||""});Ie&&o($e=>[...$e,{id:Ie._id||Ie.id,project:m,date:f,images:We.images,notes:U,createdBy:(s==null?void 0:s.name)||"",createdAt:new Date}])}}catch(De){console.error("  :",De)}},500)},rows:4,className:"site-log-textarea w-full h-full flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 resize-none desktop:min-h-[200px]",placeholder:"    "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:837,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:835,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:830,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:829,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:745,columnNumber:7},void 0),e.jsxDEV("div",{className:"site-log-photos desktop:col-span-8 desktop:h-full",children:e.jsxDEV("div",{className:`bg-white rounded-lg shadow-sm border border-gray-200 p-3 md:p-4 transition-all desktop:h-full desktop:flex desktop:flex-col ${b?"ring-2 ring-blue-400 bg-blue-50":""}`,onDragOver:D=>{D.preventDefault(),x(!0)},onDragLeave:D=>{D.currentTarget.contains(D.relatedTarget)||x(!1)},onDrop:D=>{D.preventDefault(),x(!1),Me(D)},children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-4 desktop:flex-shrink-0",children:[e.jsxDEV("h2",{className:"text-lg font-semibold flex items-center gap-4",children:e.jsxDEV("span",{className:"text-sm font-normal text-gray-600",children:[": ",(s==null?void 0:s.name)||"  "]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:937,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:936,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("button",{onClick:()=>{const D=document.createElement("input");D.type="file",D.multiple=!0,D.accept="image/*",D.onchange=U=>{const Y=U.target;Y.files&&xe(Y.files)},D.click()},className:"p-1.5 hover:bg-gray-200 rounded transition-colors",title:" ",children:e.jsxDEV(ws,{className:"h-5 w-5 text-gray-600"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:957,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:940,columnNumber:15},void 0),e.jsxDEV("button",{onClick:()=>{const D=Ae(f,"yyyy-MM-dd"),U=a.filter(Y=>{try{const ke=Y.date?new Date(Y.date):null;return ke&&!isNaN(ke.getTime())&&Ae(ke,"yyyy-MM-dd")===D}catch{return!1}});U.length>0&&window.confirm(`${Ae(f,"M d")}   ?`)&&U.forEach(Y=>Fe(Y.id))},className:"p-1.5 hover:bg-gray-200 rounded transition-colors",title:" ",children:e.jsxDEV(Dt,{className:"h-5 w-5 text-red-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:978,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:959,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:939,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:935,columnNumber:11},void 0),e.jsxDEV("div",{className:"space-y-6 max-h-[990px] desktop:max-h-full desktop:flex-1 desktop:min-h-0 overflow-y-auto",children:(()=>{const D=Ae(f,"yyyy-MM-dd"),U=a.filter(Y=>{try{const ke=Y.date?new Date(Y.date):null;return ke&&!isNaN(ke.getTime())&&Ae(ke,"yyyy-MM-dd")===D}catch{return!1}});return U.length>0?e.jsxDEV("div",{className:"space-y-4",children:U.map(Y=>e.jsxDEV("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:[Y.notes&&e.jsxDEV("div",{className:"mb-3",children:e.jsxDEV("p",{className:"text-sm text-gray-700",children:Y.notes},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1006,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1005,columnNumber:27},void 0),e.jsxDEV("div",{className:"min-h-[600px] desktop:min-h-0",children:Y.images&&Y.images.length>0?e.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-3 desktop:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6 gap-3",children:Y.images.map((ke,De)=>e.jsxDEV("div",{className:"relative group",children:[e.jsxDEV("img",{src:ke,alt:` ${De+1}`,className:"w-full aspect-[4/3] object-cover rounded-lg cursor-pointer hover:opacity-95 transition-opacity",onClick:()=>X(Y.images,De)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1016,columnNumber:35},void 0),e.jsxDEV("button",{onClick:()=>X(Y.images,De),className:"absolute top-2 right-2 p-1.5 bg-black bg-opacity-50 text-white rounded-lg opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsxDEV(Ec,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1026,columnNumber:37},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1022,columnNumber:35},void 0),e.jsxDEV("button",{onClick:Ie=>{Ie.stopPropagation(),B(Y.id,De)},className:"absolute top-2 left-2 p-1.5 bg-red-600 bg-opacity-80 text-white rounded-lg opacity-0 group-hover:opacity-100 transition-opacity hover:bg-opacity-100",children:e.jsxDEV(Dt,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1035,columnNumber:37},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1028,columnNumber:35},void 0),e.jsxDEV("div",{className:"absolute bottom-2 left-2 bg-black bg-opacity-50 text-white text-xs px-2 py-1 rounded",children:[De+1," / ",Y.images.length]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1037,columnNumber:35},void 0)]},De,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1015,columnNumber:33},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1013,columnNumber:29},void 0):e.jsxDEV("div",{className:"flex items-center justify-center h-[600px]",children:e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV(js,{className:"h-8 w-8 text-gray-300 mx-auto mb-2"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1046,columnNumber:33},void 0),e.jsxDEV("p",{className:"text-sm text-gray-400",children:"  +  "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1047,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1045,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1044,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1011,columnNumber:25},void 0)]},Y.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1e3,columnNumber:23},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:998,columnNumber:19},void 0):e.jsxDEV("div",{children:e.jsxDEV("div",{className:"rounded-lg p-4 pt-2 desktop:p-12 text-center",children:[e.jsxDEV(Ac,{className:"mx-auto h-12 w-12 desktop:h-16 desktop:w-16 text-gray-400 mb-2 desktop:mb-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1063,columnNumber:23},void 0),e.jsxDEV("p",{className:"text-sm desktop:text-lg font-medium text-gray-700 mb-2",children:"  "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1064,columnNumber:23},void 0),e.jsxDEV("p",{className:"hidden desktop:block text-sm text-gray-600 mb-4",children:"    "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1067,columnNumber:23},void 0),e.jsxDEV("p",{className:"hidden desktop:block text-xs text-gray-500 mb-4",children:"Ctrl+V    "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1070,columnNumber:23},void 0),e.jsxDEV("input",{type:"file",multiple:!0,accept:"image/*",onChange:Y=>Y.target.files&&xe(Y.target.files),className:"hidden",id:"main-image-upload"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1073,columnNumber:23},void 0),e.jsxDEV("label",{htmlFor:"main-image-upload",className:"inline-flex items-center px-3 py-1.5 desktop:px-4 desktop:py-2 border border-gray-300 rounded-lg text-xs desktop:text-sm text-gray-700 bg-white hover:bg-gray-50 cursor-pointer",children:[e.jsxDEV(js,{className:"h-3 w-3 desktop:h-4 desktop:w-4 mr-1.5 desktop:mr-2"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1085,columnNumber:25},void 0)," "]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1081,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1060,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1058,columnNumber:19},void 0)})()},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:983,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:915,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:914,columnNumber:7},void 0),j.show&&j.url&&e.jsxDEV("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-90 flex items-center justify-center overflow-hidden",onClick:()=>{h({show:!1,url:null}),O(1),de({x:0,y:0})},onWheel:D=>{D.preventDefault();const U=D.deltaY>0?-.1:.1;O(Y=>Math.max(.5,Math.min(5,Y+U)))},children:e.jsxDEV("div",{className:"relative w-full h-full flex items-center justify-center p-4",children:[e.jsxDEV("button",{onClick:D=>{D.stopPropagation(),h({show:!1,url:null}),O(1),de({x:0,y:0})},className:"absolute top-4 right-4 p-2 bg-white bg-opacity-20 backdrop-blur rounded-full hover:bg-opacity-30 z-10",children:e.jsxDEV(dt,{className:"h-6 w-6 text-white"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1123,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1114,columnNumber:13},void 0),w!==1&&e.jsxDEV("div",{className:"absolute top-4 left-4 bg-white bg-opacity-20 text-white px-3 py-2 rounded-lg text-sm backdrop-blur",children:[Math.round(w*100),"%"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1128,columnNumber:15},void 0),j.images&&j.images.length>1&&e.jsxDEV("button",{onClick:D=>{D.stopPropagation(),K(-1),O(1),de({x:0,y:0})},className:"absolute left-4 p-3 bg-white bg-opacity-20 backdrop-blur rounded-full hover:bg-opacity-30",children:e.jsxDEV(no,{className:"h-6 w-6 text-white"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1144,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1135,columnNumber:15},void 0),e.jsxDEV("div",{className:"w-full h-full flex items-center justify-center",onMouseDown:D=>{w>1&&(ve(!0),he({x:D.clientX-ie.x,y:D.clientY-ie.y}))},onMouseMove:D=>{ue&&w>1&&de({x:D.clientX-Q.x,y:D.clientY-Q.y})},onMouseUp:()=>ve(!1),onMouseLeave:()=>ve(!1),onTouchStart:D=>{if(D.touches.length===2){D.preventDefault(),le(!0);const U=C(D.touches[0],D.touches[1]),Y=z(D.touches[0],D.touches[1]);Ve(U),Be(Y)}else if(D.touches.length===1&&w>1&&!Xe){const U=D.touches[0];he({x:U.clientX-ie.x,y:U.clientY-ie.y})}},onTouchMove:D=>{if(D.touches.length===2){D.preventDefault(),le(!0);const U=C(D.touches[0],D.touches[1]),Y=z(D.touches[0],D.touches[1]);if(Ne&&je){const ke=U/Ne,De=Math.max(.5,Math.min(5,w*ke)),Ie=Y.x-je.x,$e=Y.y-je.y,ot=De/w,et=ie.x*ot+Ie,Qe=ie.y*ot+$e;O(De),de({x:et,y:Qe})}Ve(U),Be(Y)}else if(D.touches.length===1&&w>1&&!Xe){D.preventDefault();const U=D.touches[0];de({x:U.clientX-Q.x,y:U.clientY-Q.y})}},onTouchEnd:D=>{if(D.touches.length===0){const U=Date.now(),Y=D.changedTouches[0],ke={x:Y.clientX,y:Y.clientY};if(U-Le<300&&Ce&&Math.abs(ke.x-Ce.x)<30&&Math.abs(ke.y-Ce.y)<30&&!Xe){if(w===1){const $e=D.currentTarget.getBoundingClientRect(),ot=ke.x-$e.left-$e.width/2,et=ke.y-$e.top-$e.height/2;O(2.5),de({x:-ot*1.5,y:-et*1.5})}else O(1),de({x:0,y:0});Ue(0),Re(null)}else Ue(U),Re(ke);Ve(null),Be(null),le(!1)}else if(D.touches.length===1&&Xe){Ve(null),Be(null),le(!1);const U=D.touches[0];he({x:U.clientX-ie.x,y:U.clientY-ie.y})}},onDoubleClick:D=>{D.stopPropagation();const U=D.currentTarget.getBoundingClientRect(),Y=D.clientX-U.left-U.width/2,ke=D.clientY-U.top-U.height/2;w===1?(O(2.5),de({x:-Y*1.5,y:-ke*1.5})):(O(1),de({x:0,y:0}))},children:e.jsxDEV("img",{src:j.url,alt:" ",style:{transform:`scale(${w}) translate(${ie.x/w}px, ${ie.y/w}px)`,transformOrigin:"center center",transition:ue||Ne!==null?"none":"transform 0.25s cubic-bezier(0.2, 0, 0, 1)",maxWidth:"100%",maxHeight:"100%",objectFit:"contain",cursor:w>1?ue?"grabbing":"grab":"pointer",userSelect:"none",touchAction:"none"},draggable:!1,onClick:D=>D.stopPropagation()},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1287,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1149,columnNumber:13},void 0),j.images&&j.images.length>1&&e.jsxDEV("button",{onClick:D=>{D.stopPropagation(),K(1),O(1),de({x:0,y:0})},className:"absolute right-4 p-3 bg-white bg-opacity-20 backdrop-blur rounded-full hover:bg-opacity-30",children:e.jsxDEV(ro,{className:"h-6 w-6 text-white"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1317,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1308,columnNumber:15},void 0),j.images&&j.images.length>1&&e.jsxDEV("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 bg-black bg-opacity-50 text-white px-3 py-1 rounded-full",children:[y+1," / ",j.images.length]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1323,columnNumber:15},void 0),e.jsxDEV("div",{className:"absolute bottom-4 right-4 bg-white bg-opacity-10 text-white px-3 py-2 rounded-lg text-xs text-center backdrop-blur",children:"     /"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1329,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1112,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1099,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:711,columnNumber:5},void 0)},Qo=["","","","","","",""],yb=()=>{const{user:s}=Qt(),n=us(),{asRequests:t,loadASRequestsFromAPI:r,addASRequestToAPI:i,updateASRequestInAPI:a,deleteASRequestFromAPI:o}=ks(),m=n.map(T=>T.name),d=(s==null?void 0:s.name)===""?t.filter(T=>m.includes(T.project)):t,[p,f]=l.useState(null),[u,b]=l.useState("active"),[x,j]=l.useState(null),h=l.useRef(null),[L,I]=l.useState(null),[y,M]=l.useState(!1),[se,re]=l.useState(!1),[w,O]=l.useState(""),[ie,de]=l.useState(!1),{register:ue,handleSubmit:ve,setValue:Q,reset:he,formState:{errors:Ne}}=or(),[Ve,je]=l.useState([]),[Be,Xe]=l.useState(""),[le,Le]=l.useState(""),[Ue,Ce]=l.useState(9),[Re,We]=l.useState(0),Te=n.filter(T=>T.status==="completed");l.useEffect(()=>{r().catch(T=>{console.error("Failed to load AS requests:",T),P.error("AS    ")})},[r]),l.useEffect(()=>{if(p){if(Q("project",p.project),Q("client",p.client),Q("siteAddress",p.siteAddress),Q("description",p.description),p.requestDate&&Q("requestDate",new Date(p.requestDate).toISOString().split("T")[0]),p.scheduledVisitDate&&Q("scheduledVisitDate",new Date(p.scheduledVisitDate).toISOString().split("T")[0]),p.scheduledVisitTime){const[T,C]=p.scheduledVisitTime.split(":"),z=parseInt(T,10),X=parseInt(C,10);z>=12?(Le(""),Ce(z===12?12:z-12)):(Le(""),Ce(z===0?12:z)),We(X)}je(p.assignedTo||[])}else he(),je([]),Le(""),Ce(9),We(0),Xe("")},[p,Q,he]),l.useEffect(()=>{var T,C;x&&h.current&&((C=(T=h.current).showPicker)==null||C.call(T))},[x]),l.useEffect(()=>{const T=()=>{de(C=>{const z=!C;return window.dispatchEvent(new CustomEvent("mobileFormStateChange",{detail:{isOpen:z}})),z})};return window.addEventListener("headerAddButtonClick",T),()=>window.removeEventListener("headerAddButtonClick",T)},[]),l.useEffect(()=>{window.dispatchEvent(new CustomEvent("mobileFormStateChange",{detail:{isOpen:ie}}))},[ie]);const qe=()=>{f(null),he(),je([]),Le(""),Ce(9),We(0),Xe("")},R=async T=>{try{let C;if(T.scheduledVisitDate){let X=Ue;le===""&&Ue!==12?X=Ue+12:le===""&&Ue===12&&(X=0),C=`${X.toString().padStart(2,"0")}:${Re.toString().padStart(2,"0")}`}const z={...T,requestDate:new Date(T.requestDate),scheduledVisitDate:T.scheduledVisitDate?new Date(T.scheduledVisitDate):void 0,scheduledVisitTime:C,assignedTo:Ve};if(p)await a(p.id,z),P.success("AS  ");else{const X={id:"",...z};await i(X),P.success("AS  ")}qe()}catch(C){console.error("Failed to save AS request:",C),P.error("AS   ")}},fe=T=>{je(C=>C.includes(T)?C.filter(z=>z!==T):[...C,T])},pe=()=>{Be.trim()&&!Ve.includes(Be.trim())&&(je(T=>[...T,Be.trim()]),Xe(""))},He=T=>{je(C=>C.filter(z=>z!==T))},Z=T=>{f(T),window.scrollTo({top:0,behavior:"smooth"})},A=async(T,C)=>{if(window.confirm(`"${C}" AS  ?

    .`))try{await o(T),P.success("AS  ")}catch(z){console.error("Failed to delete AS request:",z),P.error("AS   ")}},ce=(T,C)=>{if(C==="scheduledVisitDate"){const z=t.find(K=>K.id===T);let X={period:"",hour:9,minute:0};if(z!=null&&z.scheduledVisitTime){const[K,N]=z.scheduledVisitTime.split(":"),D=parseInt(K,10),U=parseInt(N,10);X={period:D>=12?"":"",hour:D===0?12:D>12?D-12:D,minute:U}}j({requestId:T,field:C,time:X})}else j({requestId:T,field:C})},V=async(T,C)=>{if(!x)return;const z=new Date(T);if(!isNaN(z.getTime()))try{const X={[x.field]:z};if(x.field==="scheduledVisitDate"&&C){let K=C.hour;C.period===""&&C.hour!==12?K=C.hour+12:C.period===""&&C.hour===12&&(K=0),X.scheduledVisitTime=`${K.toString().padStart(2,"0")}:${C.minute.toString().padStart(2,"0")}`}await a(x.requestId,X),j(null)}catch(X){console.error("Failed to update date:",X),P.error("  "),j(null)}},_=l.useCallback(T=>{var z;const C=(z=T.clipboardData)==null?void 0:z.items;if(C){for(let X=0;X<C.length;X++)if(C[X].type.indexOf("image")!==-1){T.preventDefault();const K=C[X].getAsFile();if(K){const N=new FileReader;N.onload=D=>{var ke,De;const U=(ke=D.target)==null?void 0:ke.result,Y=L||((De=T.target.closest("[data-request-id]"))==null?void 0:De.getAttribute("data-request-id"));if(Y){const Ie=d.find($e=>$e.id===Y);if(Ie){const $e=[...Ie.images||[],U];a(Y,{images:$e}),P.success(" ")}}else P.error("AS     ")},N.readAsDataURL(K)}}}},[L,d,a]);l.useEffect(()=>(document.addEventListener("paste",_),()=>document.removeEventListener("paste",_)),[_]);const me=T=>{O(T),re(!0)},xe=(T,C)=>{T.preventDefault(),T.stopPropagation(),C&&M(!0)},Me=T=>{T.preventDefault(),T.stopPropagation(),M(!1)},Fe=(T,C)=>{T.preventDefault(),T.stopPropagation(),M(!1);const z=Array.from(T.dataTransfer.files),X=[],K=z.filter(N=>N.type.startsWith("image/"));if(K.length===0){P.error("   ");return}K.forEach(N=>{const D=new FileReader;D.onload=U=>{var ke;const Y=(ke=U.target)==null?void 0:ke.result;if(X.push(Y),X.length===K.length){const De=d.find(Ie=>Ie.id===C);if(De){const Ie=[...De.images||[],...X];a(C,{images:Ie}),P.success(`${X.length}  `)}}},D.readAsDataURL(N)})},B=async(T,C)=>{try{const z={status:C};C==="completed"?z.completionDate=new Date:C==="pending"?z.completionDate=void 0:C==="revisit"&&(z.scheduledVisitDate=void 0,z.completionDate=void 0),await a(T,z);const X=C==="completed"?"AS ":C==="revisit"?" ":"";P.success(` "${X}" `)}catch(z){console.error("Failed to update status:",z),P.error("  ")}},$=T=>{const C={pending:{label:"",color:"bg-gray-100 text-gray-700 border-gray-300"},completed:{label:"AS ",color:"bg-green-100 text-green-700 border-green-300"},revisit:{label:"",color:"bg-orange-100 text-orange-700 border-orange-300"}},z=C[T]||C.pending;return e.jsxDEV("span",{className:`px-2 py-1 text-xs font-medium border rounded ${z.color}`,children:z.label},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:395,columnNumber:7},void 0)},G=d.filter(T=>u==="completed"?T.status==="completed":T.status!=="completed");return e.jsxDEV("div",{className:"as-container grid grid-cols-1 lg:grid-cols-5 gap-4",children:[e.jsxDEV("div",{className:`as-form lg:col-span-1 ${ie?"block":"hidden lg:block"}`,children:e.jsxDEV("div",{className:"card p-4 sticky top-4",children:e.jsxDEV("form",{onSubmit:ve(R),className:"space-y-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("select",{...ue("project",{required:" "}),className:"input text-sm",onChange:T=>{const C=Te.find(z=>z.name===T.target.value);C&&(Q("client",C.client),Q("siteAddress",C.location))},children:[e.jsxDEV("option",{value:"",children:"  ( )"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:428,columnNumber:17},void 0),Te.map(T=>e.jsxDEV("option",{value:T.name,children:T.name},T.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:430,columnNumber:19},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:417,columnNumber:15},void 0),Ne.project&&e.jsxDEV("p",{className:"mt-1 text-xs text-red-600",children:String(Ne.project.message)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:436,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:416,columnNumber:13},void 0),e.jsxDEV("input",{type:"hidden",...ue("client")},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:441,columnNumber:13},void 0),e.jsxDEV("input",{type:"hidden",...ue("siteAddress")},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:442,columnNumber:13},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:445,columnNumber:15},void 0),e.jsxDEV("textarea",{...ue("description"),rows:3,className:"input text-sm"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:448,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:444,columnNumber:13},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" (  )"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:457,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex flex-wrap gap-1.5 mb-2",children:[Qo.map(T=>e.jsxDEV("button",{type:"button",onClick:()=>fe(T),className:`px-2.5 py-1.5 rounded border transition-colors text-xs ${Ve.includes(T)?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:T},T,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:463,columnNumber:19},void 0)),Ve.filter(T=>!Qo.includes(T)).map(T=>e.jsxDEV("button",{type:"button",onClick:()=>He(T),className:"px-2.5 py-1.5 rounded border transition-colors text-xs bg-gray-900 text-white border-gray-900 hover:bg-gray-800",children:[T," "]},T,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:480,columnNumber:21},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:461,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV("input",{type:"text",value:Be,onChange:T=>Xe(T.target.value),onKeyPress:T=>{T.key==="Enter"&&(T.preventDefault(),pe())},placeholder:" ",className:"flex-1 px-2 py-1.5 border border-gray-300 rounded text-xs focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:493,columnNumber:17},void 0),e.jsxDEV("button",{type:"button",onClick:pe,className:"px-3 py-1.5 bg-gray-100 text-gray-700 rounded text-xs font-medium hover:bg-gray-200 transition-colors",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:506,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:492,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:456,columnNumber:13},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:519,columnNumber:17},void 0),e.jsxDEV("input",{...ue("requestDate"),type:"date",className:"w-full px-2.5 py-2 text-xs bg-white text-gray-700 border border-gray-300 rounded hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500 transition-colors"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:522,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:518,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:530,columnNumber:17},void 0),e.jsxDEV("input",{...ue("scheduledVisitDate"),type:"date",className:"w-full px-2.5 py-2 text-xs bg-white text-gray-700 border border-gray-300 rounded hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500 transition-colors"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:533,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:529,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:517,columnNumber:13},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:543,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("div",{className:"flex gap-1",children:[e.jsxDEV("button",{type:"button",onClick:()=>Le(""),className:`px-2 py-1.5 text-xs rounded border transition-colors ${le===""?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:548,columnNumber:19},void 0),e.jsxDEV("button",{type:"button",onClick:()=>Le(""),className:`px-2 py-1.5 text-xs rounded border transition-colors ${le===""?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:559,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:547,columnNumber:17},void 0),e.jsxDEV("select",{value:Ue,onChange:T=>Ce(parseInt(T.target.value)),className:"px-2 py-1.5 text-xs border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-gray-500",children:[12,1,2,3,4,5,6,7,8,9,10,11].map(T=>e.jsxDEV("option",{value:T,children:[T,""]},T,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:578,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:572,columnNumber:17},void 0),e.jsxDEV("select",{value:Re,onChange:T=>We(parseInt(T.target.value)),className:"px-2 py-1.5 text-xs border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-gray-500",children:[0,10,20,30,40,50].map(T=>e.jsxDEV("option",{value:T,children:[T,""]},T,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:590,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:584,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:546,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:542,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex gap-2 pt-2",children:[p&&e.jsxDEV("button",{type:"button",onClick:qe,className:"flex-1 btn btn-outline text-sm py-2",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:601,columnNumber:17},void 0),e.jsxDEV("button",{type:"submit",className:"flex-1 btn btn-primary text-sm py-2",children:p?"":""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:609,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:599,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:414,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:413,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:412,columnNumber:7},void 0),e.jsxDEV("div",{className:"as-list lg:col-span-4 space-y-4",children:[e.jsxDEV("div",{className:"border-b border-gray-200",children:e.jsxDEV("nav",{className:"flex space-x-4 md:space-x-8",children:[e.jsxDEV("button",{onClick:()=>b("active"),className:`py-2 md:py-3 px-1 border-b-2 font-medium text-xs md:text-sm transition-colors whitespace-nowrap ${u==="active"?"border-gray-700 text-gray-700":"border-transparent text-gray-400 hover:text-gray-700 hover:border-gray-300"}`,children:["",e.jsxDEV("span",{className:`ml-1 md:ml-2 py-0.5 px-1.5 md:px-2 rounded-full text-[10px] md:text-xs font-semibold ${u==="active"?"bg-gray-700 text-white":"bg-gray-200 text-gray-600"}`,children:d.filter(T=>T.status!=="completed").length},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:634,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:625,columnNumber:13},void 0),e.jsxDEV("button",{onClick:()=>b("completed"),className:`py-2 md:py-3 px-1 border-b-2 font-medium text-xs md:text-sm transition-colors whitespace-nowrap ${u==="completed"?"border-gray-700 text-gray-700":"border-transparent text-gray-400 hover:text-gray-700 hover:border-gray-300"}`,children:["AS ",e.jsxDEV("span",{className:`ml-1 md:ml-2 py-0.5 px-1.5 md:px-2 rounded-full text-[10px] md:text-xs font-semibold ${u==="completed"?"bg-gray-700 text-white":"bg-gray-200 text-gray-600"}`,children:d.filter(T=>T.status==="completed").length},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:649,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:640,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:624,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:623,columnNumber:9},void 0),e.jsxDEV("div",{className:"as-cards grid grid-cols-1 md:grid-cols-2 gap-4",children:G.map(T=>{var C,z,X,K;return e.jsxDEV("div",{"data-request-id":T.id,className:"card p-4 hover:border-gray-400 transition-colors",onDragOver:N=>xe(N,T.id),onDragLeave:Me,onDrop:N=>Fe(N,T.id),children:[e.jsxDEV("div",{className:"flex items-start justify-between mb-3",children:[e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("div",{className:"flex items-center gap-2 mb-1",children:$(T.status)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:671,columnNumber:19},void 0),e.jsxDEV("h3",{className:"font-bold text-base text-gray-900",children:T.project},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:674,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:670,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex items-center space-x-1",children:[e.jsxDEV("button",{onClick:()=>Z(T),className:"text-gray-600 hover:text-gray-700 p-1",children:e.jsxDEV(qr,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:681,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:677,columnNumber:19},void 0),e.jsxDEV("button",{onClick:()=>A(T.id,T.project),className:"text-rose-600 hover:text-rose-700 p-1",children:e.jsxDEV(Dt,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:687,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:683,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:676,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:669,columnNumber:15},void 0),e.jsxDEV("div",{className:"space-y-2 text-sm",children:[e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-xs text-gray-500",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:694,columnNumber:19},void 0),e.jsxDEV("p",{className:"text-gray-900 mt-0.5",children:T.siteAddress},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:695,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:693,columnNumber:17},void 0),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-xs text-gray-500",children:"AS "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:699,columnNumber:19},void 0),e.jsxDEV("p",{className:"text-gray-900 mt-0.5",children:T.description},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:700,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:698,columnNumber:17},void 0),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-xs text-gray-500",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:704,columnNumber:19},void 0),e.jsxDEV("p",{className:"text-gray-900 mt-0.5",children:T.assignedTo&&T.assignedTo.length>0?T.assignedTo.join(", "):""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:705,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:703,columnNumber:17},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 gap-2 pt-2",children:[e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-xs text-gray-500 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:714,columnNumber:21},void 0),e.jsxDEV("div",{className:"relative inline-block",children:[(x==null?void 0:x.requestId)===T.id&&(x==null?void 0:x.field)==="requestDate"&&e.jsxDEV("input",{ref:h,type:"date",defaultValue:Ae(T.requestDate,"yyyy-MM-dd"),onChange:N=>V(N.target.value),onBlur:()=>j(null),className:"absolute left-0 top-0 w-auto h-auto opacity-0 z-50",style:{pointerEvents:"auto"}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:717,columnNumber:25},void 0),e.jsxDEV("button",{onClick:()=>ce(T.id,"requestDate"),className:"flex items-center space-x-1 text-xs text-gray-900 hover:text-gray-600 transition-colors",children:[e.jsxDEV(hn,{className:"h-3 w-3"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:731,columnNumber:25},void 0),e.jsxDEV("span",{children:Ae(T.requestDate,"MM.dd (eee)",{locale:xt})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:732,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:727,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:715,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:713,columnNumber:19},void 0),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-xs text-gray-500 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:738,columnNumber:21},void 0),e.jsxDEV("div",{className:"relative inline-block",children:[(x==null?void 0:x.requestId)===T.id&&(x==null?void 0:x.field)==="scheduledVisitDate"&&e.jsxDEV("div",{className:"absolute left-0 top-0 z-50 bg-white border border-gray-300 rounded-lg shadow-lg p-3",style:{minWidth:"280px"},children:e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:744,columnNumber:31},void 0),e.jsxDEV("input",{ref:h,type:"date",defaultValue:T.scheduledVisitDate?Ae(T.scheduledVisitDate,"yyyy-MM-dd"):"",className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-gray-500",onChange:N=>{const D=N.target.value,U=x.time||{period:"",hour:9,minute:0};V(D,U)}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:745,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:743,columnNumber:29},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:759,columnNumber:31},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("div",{className:"flex gap-1",children:[e.jsxDEV("button",{type:"button",onClick:()=>j(N=>N?{...N,time:{...N.time,period:""}}:null),className:`px-2 py-1 text-xs rounded border transition-colors ${((C=x==null?void 0:x.time)==null?void 0:C.period)===""?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:762,columnNumber:35},void 0),e.jsxDEV("button",{type:"button",onClick:()=>j(N=>N?{...N,time:{...N.time,period:""}}:null),className:`px-2 py-1 text-xs rounded border transition-colors ${((z=x==null?void 0:x.time)==null?void 0:z.period)===""?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:773,columnNumber:35},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:761,columnNumber:33},void 0),e.jsxDEV("select",{value:((X=x==null?void 0:x.time)==null?void 0:X.hour)||9,onChange:N=>j(D=>D?{...D,time:{...D.time,hour:parseInt(N.target.value)}}:null),className:"px-1 py-1 text-xs border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-gray-500",children:[12,1,2,3,4,5,6,7,8,9,10,11].map(N=>e.jsxDEV("option",{value:N,children:[N,""]},N,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:792,columnNumber:37},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:786,columnNumber:33},void 0),e.jsxDEV("select",{value:((K=x==null?void 0:x.time)==null?void 0:K.minute)||0,onChange:N=>j(D=>D?{...D,time:{...D.time,minute:parseInt(N.target.value)}}:null),className:"px-1 py-1 text-xs border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-gray-500",children:[0,10,20,30,40,50].map(N=>e.jsxDEV("option",{value:N,children:[N,""]},N,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:804,columnNumber:37},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:798,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:760,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:758,columnNumber:29},void 0),e.jsxDEV("div",{className:"flex justify-end gap-2 pt-2 border-t",children:[e.jsxDEV("button",{type:"button",onClick:()=>j(null),className:"px-3 py-1 text-xs bg-gray-200 text-gray-700 rounded hover:bg-gray-300",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:813,columnNumber:31},void 0),e.jsxDEV("button",{type:"button",onClick:()=>{const N=h.current;N&&(x!=null&&x.time)&&V(N.value,x.time)},className:"px-3 py-1 text-xs bg-gray-900 text-white rounded hover:bg-gray-800",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:820,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:812,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:742,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:741,columnNumber:25},void 0),e.jsxDEV("button",{onClick:()=>ce(T.id,"scheduledVisitDate"),className:"flex items-center space-x-1 text-xs text-gray-900 hover:text-gray-600 transition-colors",children:[e.jsxDEV(hn,{className:"h-3 w-3"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:840,columnNumber:25},void 0),e.jsxDEV("span",{children:[T.scheduledVisitDate?Ae(T.scheduledVisitDate,"MM.dd (eee)",{locale:xt}):"",T.scheduledVisitTime&&` ${Xr(T.scheduledVisitTime)}`]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:841,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:836,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:739,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:737,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:712,columnNumber:17},void 0),T.status!=="completed"&&e.jsxDEV("div",{className:"flex gap-2 mt-3 pt-3 border-t border-gray-100",children:[e.jsxDEV("button",{onClick:()=>B(T.id,"completed"),className:"flex-1 px-3 py-2 text-xs font-medium bg-blue-50 text-blue-700 rounded-lg hover:bg-blue-100 transition-colors",children:"AS "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:853,columnNumber:21},void 0),e.jsxDEV("button",{onClick:()=>B(T.id,"revisit"),className:"flex-1 px-3 py-2 text-xs font-medium bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:859,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:852,columnNumber:19},void 0),T.status==="completed"&&e.jsxDEV("div",{className:"mt-3 pt-3 border-t border-gray-100",children:[e.jsxDEV("button",{onClick:()=>B(T.id,"pending"),className:"w-full px-3 py-2 text-xs font-medium bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors mb-2",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:869,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-xs text-gray-500 text-center",children:T.completionDate&&`: ${Ae(T.completionDate,"yyyy.MM.dd",{locale:xt})}`},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:875,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:868,columnNumber:19},void 0),T.images&&T.images.length>0&&e.jsxDEV("div",{className:"mt-3 pt-3 border-t border-gray-100",children:[e.jsxDEV("p",{className:"text-xs text-gray-500 mb-2",children:["  (",T.images.length,")"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:884,columnNumber:21},void 0),e.jsxDEV("div",{className:"grid grid-cols-3 gap-2",children:T.images.map((N,D)=>e.jsxDEV("img",{src:N,alt:`AS  ${D+1}`,className:"w-full h-20 object-cover rounded cursor-pointer hover:opacity-75",onClick:()=>me(N)},D,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:887,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:885,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:883,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:692,columnNumber:15},void 0)]},T.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:661,columnNumber:13},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:659,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:621,columnNumber:7},void 0),se&&e.jsxDEV("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-90",onClick:()=>re(!1),children:e.jsxDEV("div",{className:"relative max-w-[90vw] max-h-[90vh]",children:[e.jsxDEV("button",{onClick:T=>{T.stopPropagation(),re(!1)},className:"absolute -top-10 right-0 text-white hover:text-gray-300 transition-colors",children:e.jsxDEV(dt,{className:"h-8 w-8"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:918,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:911,columnNumber:13},void 0),e.jsxDEV("img",{src:w,alt:" ",className:"max-w-full max-h-[90vh] object-contain",onClick:T=>T.stopPropagation()},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:920,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:910,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:906,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:410,columnNumber:5},void 0)},hb=({work:s,onClose:n,onSave:t,initialProject:r})=>{const{register:i,handleSubmit:a,setValue:o,formState:{errors:m}}=or(),{user:d}=Qt(),p=us(),[f,u]=l.useState(!1),[b,x]=l.useState([]),[j,h]=l.useState([]);l.useEffect(()=>{if(s)o("project",s.project),o("description",s.description),o("amount",s.amount),o("date",s.date.toISOString().split("T")[0]),o("notes",s.notes||""),h(s.images||[]),x(s.images||[]);else{const O=new Date().toISOString().split("T")[0];o("date",O),h([]),x([]),(d==null?void 0:d.name)===""&&p.length>0?o("project",p[0].name):r&&o("project",r)}},[s,o,r,d,p]);const L=l.useCallback(O=>{var de;const ie=(de=O.clipboardData)==null?void 0:de.items;if(ie){for(let ue=0;ue<ie.length;ue++)if(ie[ue].type.indexOf("image")!==-1){O.preventDefault();const ve=ie[ue].getAsFile();if(ve){const Q=new FileReader;Q.onload=he=>{var Ve;const Ne=(Ve=he.target)==null?void 0:Ve.result;x(je=>[...je,Ne]),h(je=>[...je,Ne]),P.success(" ")},Q.readAsDataURL(ve)}}}},[]);l.useEffect(()=>(document.addEventListener("paste",L),()=>document.removeEventListener("paste",L)),[L]);const I=O=>{O.preventDefault(),u(!0)},y=O=>{O.preventDefault(),u(!1)},M=O=>{O.preventDefault(),u(!1);const ie=Array.from(O.dataTransfer.files);ie.forEach(de=>{if(de.type.startsWith("image/")){const ue=new FileReader;ue.onload=ve=>{var he;const Q=(he=ve.target)==null?void 0:he.result;x(Ne=>[...Ne,Q]),h(Ne=>[...Ne,Q])},ue.readAsDataURL(de)}}),ie.length>0&&P.success(`${ie.length}  `)},se=O=>{var de;const ie=Array.from(((de=O.target)==null?void 0:de.files)||[]);ie.forEach(ue=>{if(ue.type.startsWith("image/")){const ve=new FileReader;ve.onload=Q=>{var Ne;const he=(Ne=Q.target)==null?void 0:Ne.result;x(Ve=>[...Ve,he]),h(Ve=>[...Ve,he])},ve.readAsDataURL(ue)}}),ie.length>0&&P.success(`${ie.length}  `)},re=O=>{x(ie=>ie.filter((de,ue)=>ue!==O)),h(ie=>ie.filter((de,ue)=>ue!==O)),P.success(" ")},w=O=>{const ie={...O,amount:Number(O.amount),date:new Date(O.date),images:j};t(ie)};return e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:e.jsxDEV("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxDEV("div",{className:"flex items-center justify-between p-6 border-b sticky top-0 bg-white z-10",children:[e.jsxDEV("h2",{className:"text-xl font-semibold",children:s?" ":" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:171,columnNumber:11},void 0),e.jsxDEV("button",{onClick:n,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsxDEV(dt,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:178,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:174,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:170,columnNumber:9},void 0),e.jsxDEV("form",{onSubmit:a(w),className:"p-6 space-y-6",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:186,columnNumber:13},void 0),e.jsxDEV("select",{...i("project",{required:" "}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",children:[(d==null?void 0:d.name)!==""&&e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:193,columnNumber:39},void 0),p.map(O=>e.jsxDEV("option",{value:O.name,children:O.name},O.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:195,columnNumber:17},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:189,columnNumber:13},void 0),m.project&&e.jsxDEV("p",{className:"mt-1 text-sm text-red-600",children:String(m.project.message)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:201,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:185,columnNumber:11},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:207,columnNumber:13},void 0),e.jsxDEV("textarea",{...i("description",{required:"  "}),rows:3,className:"input",placeholder:"    (:    )"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:210,columnNumber:13},void 0),m.description&&e.jsxDEV("p",{className:"mt-1 text-sm text-red-600",children:String(m.description.message)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:217,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:206,columnNumber:11},void 0),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" () *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:224,columnNumber:15},void 0),e.jsxDEV("input",{...i("amount",{required:" ",min:{value:0,message:" 0  "}}),type:"number",className:"input",placeholder:": 500000"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:227,columnNumber:15},void 0),m.amount&&e.jsxDEV("p",{className:"mt-1 text-sm text-red-600",children:String(m.amount.message)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:237,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:223,columnNumber:13},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:242,columnNumber:15},void 0),e.jsxDEV("input",{...i("date",{required:" "}),type:"date",className:"input"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:245,columnNumber:15},void 0),m.date&&e.jsxDEV("p",{className:"mt-1 text-sm text-red-600",children:String(m.date.message)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:251,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:241,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:222,columnNumber:11},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:258,columnNumber:13},void 0),e.jsxDEV("textarea",{...i("notes"),rows:2,className:"input",placeholder:"  ()"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:261,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:257,columnNumber:11},void 0),e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"  (Ctrl+V  )"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:271,columnNumber:13},void 0),e.jsxDEV("div",{className:`border-2 border-dashed rounded-lg p-6 transition-colors ${f?"border-gray-500 bg-gray-50":"border-gray-300"}`,onDragOver:I,onDragLeave:y,onDrop:M,children:e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV(Es,{className:"mx-auto h-12 w-12 text-gray-400"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:284,columnNumber:17},void 0),e.jsxDEV("p",{className:"mt-2 text-sm text-gray-600",children:"    "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:285,columnNumber:17},void 0),e.jsxDEV("p",{className:"text-xs text-gray-500 mt-1",children:" Ctrl+V   "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:288,columnNumber:17},void 0),e.jsxDEV("input",{type:"file",multiple:!0,accept:"image/*",onChange:se,className:"hidden",id:"file-upload-additional"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:291,columnNumber:17},void 0),e.jsxDEV("label",{htmlFor:"file-upload-additional",className:"mt-4 inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 cursor-pointer",children:[e.jsxDEV(js,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:303,columnNumber:19},void 0)," "]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:299,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:283,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:275,columnNumber:13},void 0),b.length>0&&e.jsxDEV("div",{className:"mt-4 grid grid-cols-2 md:grid-cols-4 gap-4",children:b.map((O,ie)=>e.jsxDEV("div",{className:"relative group",children:[e.jsxDEV("img",{src:O,alt:` ${ie+1}`,className:"w-full h-32 object-cover rounded-lg"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:314,columnNumber:21},void 0),e.jsxDEV("button",{type:"button",onClick:()=>re(ie),className:"absolute top-2 right-2 p-1 bg-red-500 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsxDEV(Dt,{className:"h-3 w-3"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:324,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:319,columnNumber:21},void 0)]},ie,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:313,columnNumber:19},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:311,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:270,columnNumber:11},void 0),e.jsxDEV("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsxDEV("button",{type:"button",onClick:n,className:"btn btn-outline",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:334,columnNumber:13},void 0),e.jsxDEV("button",{type:"submit",className:"btn btn-primary",children:s?"":""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:341,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:333,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:183,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:168,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:167,columnNumber:5},void 0)},qn={getAllAdditionalWorks:async()=>(await we.get("/additional-works")).data,getAdditionalWorkById:async s=>(await we.get(`/additional-works/${s}`)).data,createAdditionalWork:async s=>{const n={project:s.project,description:s.description,amount:s.amount,work_date:s.date instanceof Date?s.date.toISOString().split("T")[0]:s.date,notes:s.notes||"",images:s.images||[]};return console.log("[additionalWorkService.createAdditionalWork] Sending to backend:",n),(await we.post("/additional-works",n)).data},updateAdditionalWork:async(s,n)=>{const t={};return n.project!==void 0&&(t.project=n.project),n.description!==void 0&&(t.description=n.description),n.amount!==void 0&&(t.amount=n.amount),n.date!==void 0&&(t.work_date=n.date instanceof Date?n.date.toISOString().split("T")[0]:n.date),n.notes!==void 0&&(t.notes=n.notes),console.log("[additionalWorkService.updateAdditionalWork] Sending to backend:",t),(await we.put(`/additional-works/${s}`,t)).data},deleteAdditionalWork:async s=>{await we.delete(`/additional-works/${s}`)}},kb=()=>{var He;const{user:s}=Qt(),n=us(),{constructionPayments:t}=ks(),[r,i]=l.useState([]),[a,o]=l.useState(!1),[m,d]=l.useState(null),[p,f]=l.useState(null),[u,b]=l.useState(new Set),[x,j]=l.useState(void 0),[h,L]=l.useState(!1),[I,y]=l.useState(null),[M,se]=l.useState({}),[re,w]=l.useState([]);l.useRef(null);const O=l.useRef(null),[ie,de]=l.useState(!1),[ue,ve]=l.useState(!1),Q=Z=>r.filter(A=>A.project===Z).reduce((A,ce)=>A+ce.amount,0),Ne=((s==null?void 0:s.name)===""?t.filter(Z=>n.some(A=>A.name===Z.project)):t).filter(Z=>{var me;const A=Q(Z.project);let ce;if(Z.vatType==="amount")ce=(Z.totalAmount||0)+(Z.vatAmount||0);else{const xe=(Z.totalAmount||0)*((Z.vatPercentage??100)/100)*.1;ce=(Z.totalAmount||0)+xe}const V=ce+A,_=((me=Z.payments)==null?void 0:me.reduce((xe,Me)=>xe+Me.amount,0))||0;return V>0&&_>=V}).map(Z=>Z.project),[Ve,je]=l.useState({project:"",description:"",amount:"",date:Ae(new Date,"yyyy-MM-dd"),notes:""});l.useEffect(()=>{var Z;if(n.length>0&&!Ve.project){const A=localStorage.getItem("lastSelectedProject"),ce=((Z=n.find(V=>V.name===A))==null?void 0:Z.name)||n[0].name;je(V=>({...V,project:ce}))}},[n]);const Be=l.useCallback(Z=>{var _;const A=document.activeElement;if(A instanceof HTMLInputElement||A instanceof HTMLTextAreaElement||A instanceof HTMLSelectElement)return;const V=(_=Z.clipboardData)==null?void 0:_.items;if(V){for(let me=0;me<V.length;me++)if(V[me].type.indexOf("image")!==-1){Z.preventDefault();const xe=V[me].getAsFile();if(xe){const Me=new FileReader;Me.onload=Fe=>{var $;const B=($=Fe.target)==null?void 0:$.result;p?se(G=>{const C=[...G[p]||[],B];return Xe(p,C),{...G,[p]:C}}):w(G=>[...G,B]),P.success(" ")},Me.readAsDataURL(xe)}}}},[p]);l.useEffect(()=>(document.addEventListener("paste",Be),()=>document.removeEventListener("paste",Be)),[Be]),l.useEffect(()=>{const Z=localStorage.getItem("additionalWorkImages");Z&&se(JSON.parse(Z))},[]),l.useEffect(()=>{localStorage.setItem("additionalWorkImages",JSON.stringify(M))},[M]),l.useEffect(()=>{const Z=()=>{de(A=>{const ce=!A;return window.dispatchEvent(new CustomEvent("mobileFormStateChange",{detail:{isOpen:ce}})),ce})};return window.addEventListener("headerAddButtonClick",Z),()=>window.removeEventListener("headerAddButtonClick",Z)},[]),l.useEffect(()=>{window.dispatchEvent(new CustomEvent("mobileFormStateChange",{detail:{isOpen:ie}}))},[ie]);const Xe=async(Z,A)=>{try{await qn.updateAdditionalWork(Z,{images:A})}catch(ce){console.error("Failed to save images:",ce)}},le=Z=>{const A=Array.from(Z.target.files||[]);if(!p){P.error("  ");return}A.forEach(ce=>{if(ce.type.startsWith("image/")){const V=new FileReader;V.onload=_=>{var xe;const me=(xe=_.target)==null?void 0:xe.result;se(Me=>({...Me,[p]:[...Me[p]||[],me]}))},V.readAsDataURL(ce)}}),A.length>0&&P.success(" ")},Le=(Z,A)=>{se(V=>({...V,[Z]:(V[Z]||[]).filter((_,me)=>me!==A)})),P.success(" ");const ce=(M[Z]||[]).filter((V,_)=>_!==A);Xe(Z,ce)},Ue=Z=>{y(Z),L(!0)},Ce=async()=>{try{const Z=await qn.getAllAdditionalWorks(),A=n.map(_=>_.name),ce=(s==null?void 0:s.name)===""?Z.filter(_=>A.includes(_.project)):Z;i(ce.map(_=>({id:_._id,project:_.project,description:_.description,amount:_.amount,date:new Date(_.date),notes:_.notes,images:_.images||[]})));const V={};ce.forEach(_=>{_.images&&_.images.length>0&&(V[_._id]=_.images)}),se(V)}catch(Z){console.error("Failed to load additional works:",Z),i([])}};l.useEffect(()=>{Ce()},[]);const Re=Z=>{d(Z),j(Z.project),o(!0)},We=async Z=>{if(window.confirm("  ?"))try{await qn.deleteAdditionalWork(Z),await Ce(),P.success(" "),p===Z&&f(null)}catch(A){console.error("Failed to delete additional work:",A),P.error("  ")}},Te=async Z=>{o(!1),d(null),j(void 0),Z&&await Ce()},qe=async Z=>{if(Z.preventDefault(),!Ve.project||!Ve.description||!Ve.amount||!Ve.date){P.error("   ");return}try{const A=await qn.createAdditionalWork({project:Ve.project,description:Ve.description,amount:parseFloat(Ve.amount),date:new Date(Ve.date),images:re});P.success(" "),je(ce=>({...ce,description:"",amount:"",date:Ae(new Date,"yyyy-MM-dd"),notes:""})),w([]),await Ce(),re.length>0&&A._id&&se(ce=>({...ce,[A._id]:re})),localStorage.setItem("lastSelectedProject",Ve.project)}catch(A){console.error("Failed to create additional work:",A),P.error("  ")}},R=r.filter(Z=>{const A=Ne.includes(Z.project);return ue?A:!A}),fe=R.reduce((Z,A)=>{const ce=Z.find(V=>V.projectName===A.project);return ce?(ce.works.push(A),ce.totalAmount+=A.amount):Z.push({projectName:A.project,works:[A],totalAmount:A.amount}),Z},[]);fe.sort((Z,A)=>Z.projectName.localeCompare(A.projectName)),fe.forEach(Z=>{Z.works.sort((A,ce)=>ce.date.getTime()-A.date.getTime())}),l.useEffect(()=>{const Z=new Set(fe.map(A=>A.projectName));b(Z)},[R.length]);const pe=Z=>{const A=new Set(u);A.has(Z)?A.delete(Z):A.add(Z),b(A)};return e.jsxDEV("div",{className:"space-y-4 md:space-y-6",children:[e.jsxDEV("div",{className:"additional-work-container hidden desktop:grid desktop:gap-4 2xl:gap-6 desktop:grid-cols-12",children:[e.jsxDEV("div",{className:"additional-work-form md:col-span-4 lg:col-span-4 bg-white border border-gray-200 rounded-lg p-4 md:p-5 lg:p-6 h-fit sticky top-4",children:e.jsxDEV("div",{className:"aw-form-inner space-y-4",children:[e.jsxDEV("div",{className:"aw-project",children:[e.jsxDEV("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:" *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:413,columnNumber:15},void 0),e.jsxDEV("select",{value:Ve.project,onChange:Z=>je(A=>({...A,project:Z.target.value})),className:"w-full px-4 py-3 text-base border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 bg-white",children:[(s==null?void 0:s.name)!==""&&e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:421,columnNumber:41},void 0),n.map(Z=>e.jsxDEV("option",{value:Z.name,children:Z.name},Z.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:423,columnNumber:19},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:416,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:412,columnNumber:13},void 0),e.jsxDEV("div",{className:"aw-date",children:[e.jsxDEV("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:" *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:432,columnNumber:15},void 0),e.jsxDEV("input",{type:"date",value:Ve.date,onChange:Z=>je(A=>({...A,date:Z.target.value})),className:"w-full px-4 py-3 text-base border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:435,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:431,columnNumber:13},void 0),e.jsxDEV("div",{className:"aw-description",children:[e.jsxDEV("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:" *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:445,columnNumber:15},void 0),e.jsxDEV("textarea",{value:Ve.description,onChange:Z=>je(A=>({...A,description:Z.target.value})),rows:5,className:"w-full px-4 py-3 text-base border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 resize-none",placeholder:"  "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:448,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:444,columnNumber:13},void 0),e.jsxDEV("div",{className:"aw-amount",children:[e.jsxDEV("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:" *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:459,columnNumber:15},void 0),e.jsxDEV("input",{type:"number",value:Ve.amount,onChange:Z=>je(A=>({...A,amount:Z.target.value})),className:"w-full px-4 py-3 text-base border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",placeholder:"0"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:462,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:458,columnNumber:13},void 0),e.jsxDEV("div",{className:"aw-images",children:[e.jsxDEV("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[" ",e.jsxDEV("span",{className:"text-xs text-gray-500 ml-2",children:"(Ctrl+V  )"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:475,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:473,columnNumber:15},void 0),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV("input",{ref:O,type:"file",accept:"image/*",multiple:!0,onChange:Z=>{Array.from(Z.target.files||[]).forEach(ce=>{if(ce.type.startsWith("image/")){const V=new FileReader;V.onload=_=>{var xe;const me=(xe=_.target)==null?void 0:xe.result;w(Me=>[...Me,me])},V.readAsDataURL(ce)}}),Z.target.value=""},className:"hidden"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:478,columnNumber:17},void 0),e.jsxDEV("button",{type:"button",onClick:()=>{var Z;return(Z=O.current)==null?void 0:Z.click()},className:"w-full px-4 py-2 text-sm border border-gray-300 rounded-lg text-gray-700 bg-white hover:bg-gray-50 flex items-center justify-center gap-2",children:[e.jsxDEV(js,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:504,columnNumber:19},void 0)," "]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:499,columnNumber:17},void 0),re.length>0&&e.jsxDEV("div",{className:"grid grid-cols-3 gap-2 mt-2",children:re.map((Z,A)=>e.jsxDEV("div",{className:"relative group",children:[e.jsxDEV("img",{src:Z,alt:` ${A+1}`,className:"w-full h-20 object-cover rounded cursor-pointer",onClick:()=>Ue(Z)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:511,columnNumber:25},void 0),e.jsxDEV("button",{type:"button",onClick:()=>w(ce=>ce.filter((V,_)=>_!==A)),className:"absolute top-1 right-1 p-1 bg-red-500 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsxDEV(dt,{className:"h-3 w-3"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:522,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:517,columnNumber:25},void 0)]},A,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:510,columnNumber:23},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:508,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:477,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:472,columnNumber:13},void 0),e.jsxDEV("button",{onClick:qe,className:"aw-submit w-full py-3.5 bg-gray-900 text-white text-base font-semibold rounded-lg hover:bg-gray-800 transition-colors",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:532,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:410,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:409,columnNumber:9},void 0),e.jsxDEV("div",{className:"additional-work-list md:col-span-4 lg:col-span-5 flex flex-col h-[calc(100vh-120px)]",children:[e.jsxDEV("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 flex-shrink-0",children:e.jsxDEV("div",{className:"space-y-4",children:e.jsxDEV("div",{className:"flex border-b border-gray-200",children:[e.jsxDEV("button",{onClick:()=>ve(!1),className:`flex-1 py-2 text-sm font-medium border-b-2 transition-colors ${ue?"border-transparent text-gray-500 hover:text-gray-700":"border-gray-900 text-gray-900"}`,children:[" (",fe.filter(Z=>!Ne.includes(Z.projectName)).length,")"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:548,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>ve(!0),className:`flex-1 py-2 text-sm font-medium border-b-2 transition-colors ${ue?"border-gray-900 text-gray-900":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[" (",Ne.length,")"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:558,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:547,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:545,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:544,columnNumber:11},void 0),e.jsxDEV("div",{className:"space-y-4 flex-1 overflow-y-auto mt-3 pr-1",children:fe.map(Z=>e.jsxDEV("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsxDEV("div",{className:"px-4 py-3.5 border-b border-gray-200 flex items-center justify-between cursor-pointer bg-gray-100 hover:bg-gray-200",onClick:()=>pe(Z.projectName),children:[e.jsxDEV("div",{className:"flex items-center gap-3",children:[u.has(Z.projectName)?e.jsxDEV(io,{className:"h-5 w-5 text-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:582,columnNumber:23},void 0):e.jsxDEV(ao,{className:"h-5 w-5 text-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:584,columnNumber:23},void 0),e.jsxDEV("h3",{className:"text-base font-semibold text-gray-900",children:Z.projectName},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:586,columnNumber:21},void 0),e.jsxDEV("span",{className:"text-sm text-gray-500",children:["(",Z.works.length,")"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:587,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:580,columnNumber:19},void 0),e.jsxDEV("span",{className:"text-base font-bold text-gray-900",children:[Z.totalAmount.toLocaleString(),""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:589,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:576,columnNumber:17},void 0),u.has(Z.projectName)&&e.jsxDEV("div",{className:"divide-y divide-gray-100",children:Z.works.map(A=>{var ce;return e.jsxDEV("div",{className:`px-4 py-3.5 hover:bg-gray-50 cursor-pointer transition-colors ${p===A.id?"bg-blue-50 border-l-4 border-blue-500":""}`,onClick:()=>f(A.id),children:e.jsxDEV("div",{className:"flex items-start justify-between",children:[e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("p",{className:"text-base text-gray-900 line-clamp-2",children:A.description},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:606,columnNumber:29},void 0),e.jsxDEV("div",{className:"flex items-center gap-3 mt-2",children:[e.jsxDEV("span",{className:"text-sm text-gray-500",children:Ae(A.date,"yyyy.MM.dd")},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:608,columnNumber:31},void 0),((ce=M[A.id])==null?void 0:ce.length)>0&&e.jsxDEV("span",{className:"text-sm text-blue-600 flex items-center gap-1",children:[e.jsxDEV(Es,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:613,columnNumber:35},void 0),M[A.id].length]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:612,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:607,columnNumber:29},void 0),A.notes&&e.jsxDEV("p",{className:"text-sm text-gray-500 mt-2",children:A.notes},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:619,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:605,columnNumber:27},void 0),e.jsxDEV("div",{className:"flex items-center gap-3 ml-4",children:[e.jsxDEV("span",{className:"text-base font-semibold text-gray-900",children:[A.amount.toLocaleString(),""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:623,columnNumber:29},void 0),e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV("button",{onClick:V=>{V.stopPropagation(),Re(A)},className:"p-1.5 text-gray-500 hover:text-gray-700",children:e.jsxDEV(qr,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:634,columnNumber:33},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:627,columnNumber:31},void 0),e.jsxDEV("button",{onClick:V=>{V.stopPropagation(),We(A.id)},className:"p-1.5 text-red-500 hover:text-red-700",children:e.jsxDEV(Dt,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:643,columnNumber:33},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:636,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:626,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:622,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:604,columnNumber:25},void 0)},A.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:597,columnNumber:23},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:595,columnNumber:19},void 0)]},Z.projectName,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:575,columnNumber:15},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:573,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:542,columnNumber:9},void 0),e.jsxDEV("div",{className:"additional-work-images md:col-span-4 lg:col-span-3 bg-white rounded-lg shadow-sm border border-gray-200 p-4 md:p-5 lg:p-6 h-[calc(100vh-120px)] overflow-y-auto",children:p?e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-5 sticky top-0 bg-white pb-2",children:[e.jsxDEV("h3",{className:"text-base font-semibold text-gray-900",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:662,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV("span",{className:"text-sm text-gray-500",children:"Ctrl+V  "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:664,columnNumber:19},void 0),e.jsxDEV("input",{type:"file",multiple:!0,accept:"image/*",onChange:le,className:"hidden",id:"work-image-upload"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:667,columnNumber:19},void 0),e.jsxDEV("label",{htmlFor:"work-image-upload",className:"px-4 py-2 text-sm border border-gray-300 rounded-lg text-gray-700 bg-white hover:bg-gray-50 cursor-pointer flex items-center gap-2 font-medium",children:[e.jsxDEV(js,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:679,columnNumber:21},void 0)," "]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:675,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:663,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:661,columnNumber:15},void 0),((He=M[p])==null?void 0:He.length)>0?e.jsxDEV("div",{className:"grid grid-cols-2 xl:grid-cols-3 gap-4",children:M[p].map((Z,A)=>e.jsxDEV("div",{className:"relative group",children:[e.jsxDEV("img",{src:Z,alt:` ${A+1}`,className:"w-full h-40 object-cover rounded-lg cursor-pointer",onClick:()=>Ue(Z)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:689,columnNumber:23},void 0),e.jsxDEV("button",{onClick:()=>Le(p,A),className:"absolute top-2 right-2 p-1.5 bg-red-500 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsxDEV(dt,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:699,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:695,columnNumber:23},void 0)]},A,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:688,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:686,columnNumber:17},void 0):e.jsxDEV("div",{className:"text-center py-16 text-gray-500",children:[e.jsxDEV(Es,{className:"mx-auto h-16 w-16 text-gray-300 mb-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:706,columnNumber:19},void 0),e.jsxDEV("p",{className:"text-base",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:707,columnNumber:19},void 0),e.jsxDEV("p",{className:"text-sm mt-2",children:"  Ctrl+V "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:708,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:705,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:660,columnNumber:13},void 0):e.jsxDEV("div",{className:"text-center py-16 text-gray-500",children:[e.jsxDEV(Es,{className:"mx-auto h-16 w-16 text-gray-300 mb-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:716,columnNumber:15},void 0),e.jsxDEV("p",{className:"text-base",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:717,columnNumber:15},void 0),e.jsxDEV("p",{className:"text-sm mt-2",children:"     "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:718,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:715,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:658,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:407,columnNumber:7},void 0),e.jsxDEV("div",{className:"desktop:hidden space-y-3",children:[ie&&e.jsxDEV("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:" *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:732,columnNumber:17},void 0),e.jsxDEV("select",{value:Ve.project,onChange:Z=>je(A=>({...A,project:Z.target.value})),className:"w-full px-3 py-2.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 bg-white",children:[(s==null?void 0:s.name)!==""&&e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:740,columnNumber:43},void 0),n.map(Z=>e.jsxDEV("option",{value:Z.name,children:Z.name},Z.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:742,columnNumber:21},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:735,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:731,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:" *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:751,columnNumber:17},void 0),e.jsxDEV("input",{type:"date",value:Ve.date,onChange:Z=>je(A=>({...A,date:Z.target.value})),className:"w-full px-3 py-2.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 bg-white"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:754,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:750,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:" *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:764,columnNumber:17},void 0),e.jsxDEV("textarea",{value:Ve.description,onChange:Z=>je(A=>({...A,description:Z.target.value})),rows:4,className:"w-full px-3 py-2.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 resize-none",placeholder:"  "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:767,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:763,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:" *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:778,columnNumber:17},void 0),e.jsxDEV("input",{type:"number",value:Ve.amount,onChange:Z=>je(A=>({...A,amount:Z.target.value})),className:"w-full px-3 py-2.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 bg-white",placeholder:"0"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:781,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:777,columnNumber:15},void 0),e.jsxDEV("button",{onClick:qe,className:"w-full py-3 bg-gray-900 text-white text-sm font-semibold rounded-lg hover:bg-gray-800 transition-colors",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:791,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:729,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:728,columnNumber:11},void 0),e.jsxDEV("div",{className:"flex border-b border-gray-200",children:[e.jsxDEV("button",{onClick:()=>ve(!1),className:`flex-1 py-2 text-xs font-medium border-b-2 transition-colors ${ue?"border-transparent text-gray-500":"border-gray-900 text-gray-900"}`,children:[" (",r.filter(Z=>!Ne.includes(Z.project)).length>0?fe.filter(Z=>!Ne.includes(Z.projectName)).length:0,")"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:803,columnNumber:11},void 0),e.jsxDEV("button",{onClick:()=>ve(!0),className:`flex-1 py-2 text-xs font-medium border-b-2 transition-colors ${ue?"border-gray-900 text-gray-900":"border-transparent text-gray-500"}`,children:[" (",Ne.length,")"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:813,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:802,columnNumber:9},void 0),fe.map(Z=>e.jsxDEV("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsxDEV("div",{className:"px-4 py-3 border-b border-gray-200 flex items-center justify-between bg-gray-100",onClick:()=>pe(Z.projectName),children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[u.has(Z.projectName)?e.jsxDEV(io,{className:"h-5 w-5 text-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:834,columnNumber:19},void 0):e.jsxDEV(ao,{className:"h-5 w-5 text-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:836,columnNumber:19},void 0),e.jsxDEV("h3",{className:"font-semibold text-gray-900",children:Z.projectName},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:838,columnNumber:17},void 0),e.jsxDEV("span",{className:"text-sm text-gray-500",children:["(",Z.works.length,")"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:839,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:832,columnNumber:15},void 0),e.jsxDEV("span",{className:"font-bold text-gray-900",children:[Z.totalAmount.toLocaleString(),""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:841,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:828,columnNumber:13},void 0),u.has(Z.projectName)&&e.jsxDEV("div",{className:"divide-y divide-gray-100",children:Z.works.map(A=>e.jsxDEV("div",{className:"px-4 py-3",children:e.jsxDEV("div",{className:"flex justify-between items-start",children:[e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("p",{className:"text-sm text-gray-900",children:A.description},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:852,columnNumber:25},void 0),e.jsxDEV("p",{className:"text-xs text-gray-500 mt-1",children:Ae(A.date,"yyyy.MM.dd",{locale:xt})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:853,columnNumber:25},void 0),A.notes&&e.jsxDEV("p",{className:"text-xs text-gray-500 mt-1",children:A.notes},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:857,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:851,columnNumber:23},void 0),e.jsxDEV("div",{className:"flex items-center gap-2 ml-3",children:[e.jsxDEV("span",{className:"font-semibold text-gray-900",children:[A.amount.toLocaleString(),""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:861,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex gap-1",children:[e.jsxDEV("button",{onClick:()=>Re(A),className:"p-1 text-gray-500 hover:text-gray-700",children:e.jsxDEV(qr,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:869,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:865,columnNumber:27},void 0),e.jsxDEV("button",{onClick:()=>We(A.id),className:"p-1 text-red-500 hover:text-red-700",children:e.jsxDEV(Dt,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:875,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:871,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:864,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:860,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:850,columnNumber:21},void 0)},A.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:849,columnNumber:19},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:847,columnNumber:15},void 0)]},Z.projectName,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:827,columnNumber:11},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:725,columnNumber:7},void 0),a&&e.jsxDEV(hb,{isOpen:a,onClose:Te,work:m,projects:n,initialProject:x},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:891,columnNumber:9},void 0),h&&I&&e.jsxDEV("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-75 flex items-center justify-center p-4",onClick:()=>L(!1),children:e.jsxDEV("div",{className:"relative max-w-4xl max-h-full",children:[e.jsxDEV("button",{onClick:()=>L(!1),className:"absolute top-4 right-4 p-2 bg-white rounded-full hover:bg-gray-100 z-10",children:e.jsxDEV(dt,{className:"h-6 w-6"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:911,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:907,columnNumber:13},void 0),e.jsxDEV("img",{src:I,alt:" ",className:"max-w-full max-h-[90vh] object-contain",onClick:Z=>Z.stopPropagation()},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:913,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:906,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:902,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:405,columnNumber:5},void 0)},vb="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAZAAAAGQCAYAAACAvzbMAAAgAElEQVR4nO3dedgdRZ328W8ZIECIIYmENYAiyBZkEWRfRBQcBQFFRVAZtkFlhFdBUGEURhgVFBdcYEZRQEZhZJNFFAVEERVZJUIgsgZIZEnYEkJS7x/VkQfyLFV9qrqq+9yf6zpXuEKd7t+TPs+5u6urq0BEREREREREREREREREREQAMIP9pYVRwGoN1yIiImV6yMCCV/7lEkM0Xg24L209IiLSEmsAD7zyL1+VoRAREekABYiIiNSiABERkVoUICIiUosCREREalGAiIhILQoQERGpRQEiIiK1KEBERKQWBYiIiNSiABERkVoUICIiUosCREREalGAiIhILQoQERGpRQEiIiK1DLWgVCx/AK5JvA8RERncjsCWqTaeOkCuMXBs4n2IiMggLJxMwgBRF5aIiNSiABERkVoUICIiUosCREREalGAiIhILQoQERGpJfUwXi8WJuOGmq0JjMlcTr+bC5xn4P5eN2RhK2Ad3PEt4rPWxx4GzjXwXC8bsbAM8BZgdWASYCLUJvVY3KMS1+YqIOsvtYWxwAnAR4GlctYiL3Oihc0M3FbnzRY2Br4FbBO3LOnR4RY2NfBinTdbOBD4IrBi3LKkFxY+beDLOfadrQvLwvLAb4AjUHiUZgngG3XeaGE74PcoPEo0BfjX0DdZMBa+Dfw3Co8SnWhhQo4d57wHcgWwWcb9y/C2sbB0yBssrAf8EtfNIWV6W433fAY4LHYhEs1SwA45dpwlQCzsR8LH6yWKJYANAt9zKjA6QS0Sz5SQxhZWxgWIlC3ouMbSeIBY9wWTpb9Ogk30bWhhe2C3hLVIHN7HtHIysGyKQiSq0OMaRY4rkL1xZzVSvpB+1aOTVSExTbCev/fVIJf9EtcjcfTNPZC9MuxT6vEaUl0N7dwlcS0Sh8G/m3FvYFTCWiSeLI8/5AiQOjfxJI/Znu22RyPp2sIaeN6z7U5JK5GYfH9Xo2o0QKx7qGxsk/uUnjzl2W6rpFVITP8IaKvj2h6+v6tRNX0Fog9ku9zr2U7HtT28jml1/2PtxLVIPL6/q1EpQGQojxr4u2dbHdf2uN6zXZbnCqQ23+MaVdMBojOa9viqTyPrnkxWt2Q7vICbYsaHflfb43oDt+TYcdMBsmrD+5Nw83BTVngFCDqmbTEDOCBgkkwd13a4Bvhwrp03PZniKgFtp+GmT/i1cbNOSplCjinAucBnY8z2K0mFHNf5wMeBc3qd7VfapbEAse5pVt+ujvnAHgamJixJ4gj5ovkj8JG6s8FKo0KO67EGzkhWiRSryS6skCclr1N4tMbyAW2/q/BoDd/jugD4TspCpFxNBkjIDK2XJ6tCYgs5rpcmq0Ji8z2u16rbqn81GSAhU4PfnqwKic33uM4yYQ+xSV6+x1W/q32s1ACZmawKic33uOqYtouOq4yoyQAJWSfisWRVSGy+x1XHtF10XGVETQbI/IC2LySrQmLzPa46pu2i4yojajJA5ga0DVpKVbLyPa46pu2i4yojajJA5gW01YeyPXyPq45pu+i4yohKvQJ5Q7IqJDbf46q5ldrF97jqd7WPlXoFoplA28P3uE60MCVpJRKT73HV72ofazJAZgW0PcTCCskqkZgeD2j7uWRVSGy+x3VDC3skrUSK1ViAVFNY+I4ZHw9cYGEb69ZwlnI9GNB2Hwsn2fAJGKV5Icf1B9YdW90P6TNNz8b7EDDJs+32VIukaCre5J4Ergb+nwn74gB3TEMcCxyrY5qcBe4BzgO+aMKH24Yc1/HATxbtVJKaB/wZON7Ar3MX0/R6IKFfTtKM8cB7gKkWtgl8r45pmQxu4MLxwG9t2KSXoONaqtG439GrLfxH7mKaDpA7Gt6fhBkD/MIGzJxcTaTnu/St5LEF4dOt63e1fJ+38O6cBTQdIDc2vD8JNwb4bOB7dFzL914LGwe0v4mw2SMkj5MsjMq1cwWIDOZgC0sGtNdxbYfDfRsaFx5Z1tmWIOsBO+baeaMBYtworJub3KfUMhZ4Z0D7n6cqRKJ6b+CJwZXJKpGY9s2146avQMCNCpHyeX8ojRvto7PV8oWeGPwoVSESVeiJQTQ5AuR/M+xTwoU+Yazj2g7ex7U6MbgtYS0Sx1hgkxw7bjxAqucM9GVTvhVs2HNCZ+CeJ5GyrR7Y/stJqpDYJufYaY4rEIBPEjY3luTxWt+GxoVH9nHpMqKgLxoD56JBEm0QemIQRZYAMTADeD9uehMpV+iH8nSqJ5KlWHW+aN6LHiwsXV9dgWDgItyN2udz1SAjCj1bXQh8EN18LdmkwK7JRd3OO6AHRkvWXwECYOB8XDfJdwmb1VWasUzoGwwsMPBhYFvcXD1a8rQ8Y0LfYFx4rAscAUyNXpH0Kvh3NYamJ1NcjIHHgMOAw6x7KGbFzCX1gy2Bk1PuwMDvgJ0tLIUbIZLlA95nPgu8NdXGqwkZvw583cJEYAMyn4T2id/kLmAo2QNkIOPObHR2k5itcQZaV/Wlo5uwDbBwcFP7Mq7H4Lqm9tfPSp7hWGcPIiJSiwJERERqUYCIiEgtChAREalFASIiIrUoQEREpBYFiIiI1KIAEemOkh8ZkPqKPa4KkP5U7AdSRNpDASIiIrUoQEREpBYFiIgMycKhFqZbsH3+mmnhA7mPR2kUICIyKAsH4ZZa8F6ZssNWAH5k4Q25CylJUbPxhrAwDrfmxJrAGtWfi/57Im620FnAzAF/3g9cYOC+HDX7srAj7oM6HjeT7Q0G5uatSvrQJ3IXUJglgLcDd+UupBStChALywN7APsAb2P4+idVrw1e8fdfsXAT8FPgxwYeSlFrHRZGA/8LvPsV/+spCx8ycGmGsqQPWXcytmHuOgq0Re4CStKKLiwLO1q4DHclcRbwDnoLv82ALwEPWri2WsiqBB9j8fAAF5yXWLesqEgT1s5dQKEm5i6gJEUHiIWxFr6DW5Gr19AYyvbAzRb+n83/73H4CP//vxqpQtoq5vM9a0TcVpeMzbDPYp/bKrYLy8JOwLnAyg3sbjRwKrC3hX2Nu1fSqKr7as0Rmm0Sb3flqoJ8BdyxHweYvBX90wLcvbQZBp7OXUxiOtMenJZmHqDIALGwP/BDmv/i2Bq4ycKbDdzb8L591oIfbWFlA48kr6YhFkbhThbejwvIlXH3rkblrGskFp4FZgB/By4BzjcuXLpiYe4CCjUndwElKS5ArLsHcBb5zjonAr+2sIWBxxrcr+/Pu2TSKhpiYTvcicLewITM5dQxBnefYG3cgI6vW9fV+mPgHAPzcxYXwYLcBRRqdu4CSpK7z/9lrLvPcT7561od+JXN09/ZaRaWs3AGcB1wMO0Mj8GMAt4KfB/4k4W1MtfTq7tzF1Coe3IXUJLcX9T/ZN3N7Asp56poQ+ByC0vlLqQrrOsivAMXHF32RuA2CwfmLqQHv0FXIYO5PncBJSkiQCxsCVxBeV/W2wKfy11EF1h3dn4t/TO6Z1ngvy0cm7uQOoy7x7MP7e+Ki+kvuMcJpJL9bL+6ifpT3C9ciY6ycHrD90M6pTpBuJQCPm8ZnGThQQPn5C4klIGfVTM+rI+6c58GbjXwYu5CSlLCL/QBwOTcRQxjaeAE4NDchbSRdQ9t/hL379ivzrLwDwNX5i4klIHncTM3iCwmaxdWdfVxfM4aPB2oSdTCVU/4Xw0sl7uWzEYBF9p4z/EMpejne6S2Yo9r7nsg/0rZVx+LjMJNfSKerBuWfAGuC0TcFdjFtvDnW0RCZAuQ6hfpuFz7r2EP626qd0ETZzQH4PrO5SWTgUNyFyESS84rkLfR+9XHXNzN2U8Be+KGT47B/VwTgNfjZs/8d2Baj/sCN9mhjKCalkXzdg3ueNvf94OkQ3LeRN+jh/f+CfcFdUV1k28wT1ave6v237SwM3AisFXN/e5mwZiC+yQLcRRuLitZ3ErAx4FTchci0qucVyDvqfEei5v0cGsDPxsmPAZl3A3d7YDPUG98+zjgzTXe1zesWwSrlc8+NOgY666URVotS4BY9yUcOtvnC8A7DXyql7HYBhYYOBl3FfJsjU3sWnfffeJQyn2mpxQTgf1yFyHSq1xdWKHdVwuAvQ1cHqsA42bd3RM3Nj8kSHcDPh+rjg7aq4f3TsNNpHk1bvGwWSVNm15NMz8RN3PyurhRhLtSb+LPdwHfi1ddGtZ1RR6ATgr+ilsOW93XA7QhQCywv4Gfxy7CwC+t64/+dsDbNrcwzmhWzsVY17+/eY233gccbOBXkUuKyrgpzmdVrzuACyy8Fvgf3JT0IXaxsKyB5yKXGY11YXk7fksN9INvo4E0L9N4F1bV9xsyvPM8A+elqse8tOJhwFvYJlE5bfe+Gu85A1i/9PAYinHrgewMfJaws9OlgF0ilxP77PggFB4DfdTCazLst9irnhz3QDYOaLuAZiYzPDmwvdaLHlxo99XpBg4NHQxRGgPWwEmEDx54V4p6Ito6dwEF0snjADkCJOTq43vVGV5Sxs3VdEfAW9ZJVUtDop/RWLfQVciDlpcw8hrwrWLcbAUhkyZul6qWSF6bu4ACtf13P6rSAyTk3kSvvhvQVlcgi9sI/8/TbOBDHb0h+VHgKc+2ry98vRlNQ7O4fp+V+GVKDpBpxo18aMrFAW0VIIvbNKDtV7s6CKEaNfZNz+avAqYkLKdX/T4J5mAUIAPkCJANPNudn7SKVzDwEDDVs/mamhRvMb4BMhv3MGiXfQ3/+zobpSykRy/kLqBAWg9kgEYDpBqBtapn8/9LWcsQQp4z0fTuL+c7VflPTL0HOFvDuCl0fIedl3wFMid3AQXq5JVzXU1fgfj+srxg3PKRTft9QFvdTKtUD9j5XoFckbKWgvgOSy45QO7PXUCBFKoDNB0gK3u2uz1pFUO7J6Ct78/SD9bHjcIayQLgqsS1lOJqz3YxAyT2oIRbI2+vC0JGa8ZS7GCTpgPEdwK5O5NWMbS7AtqOTlZF+6zu2e6vJT95HZNxs0A/7tF0RZt/Ybeh+IZgv3gOuDZ3ESVp+oPrO59OlgAxMA+Y4dlcAfIS36dzc50Y5OJ7QlLk1PfVGu6fw6270+9eAI4w7ipaKk3PhVX6FQi4AFnFo50C5CW+AeI7yq0r7sbvae7xwGOJa6nFwBdxr0ZY9xzN6SM0exZ4ZwPlDPQ3A482vM/ilRogM5NWMTzf2V/bHCCx+1QVIIO727Pd8kmr6J4XDVyTuwgp9x5Izn7yZzzbtTlAYvMNkH47g3vIs934pFWIJKIAWVw/XIHE5hsg/TYE0vdkRFcg0kqlBkjO2Vl1BRLON0CKWRyqIb4/r65ApJWaDpClPdu14QrE92fpBwqQwekKRDqt6QDxXfpzYdIqhuc7102xD/dk4Ds8u9/mEfId/up7ZT4SfSa7qdjjWuoDTG2g8eAv8Q2Gfuv2852qfV7SKkQSUYDUpwB5iW+A9Fu3n29gKkCklRQg9SlAXqIAGZzvz6tp06WVFCD1tbk/P3afqgJkcLoCkU5TgNSnK5CX+AbISkmrKI/v6DQFiLRS01OZdIkC5CW+AbI2boK+fuG79HHxXVjWLeX6fvwXhKtr88Tbl4gUIPUpQF4SEiD9xPfnLfoKxMK+wH8Dy+SupTLONje0dR7wC+BIA9Mb2mdrqAurPgXIS/7h2e71Sasoj+/P67NuSBbWheCZlBMeTRsN7A5caPtvGPqIdAVS3zYWPh9xe+MibqtpvmdmW1sY1Q9rKlj3hbuBZ/OQlTBH2G105+L/oGiXbQR8ADgrw76LfZBQAVLfttVL3Op7PsYB29EfU3G/A78HCReYQtcet+5LU/ckXvIO8gRIsdSFJTGE9A3vnqyKsvj+nNOSVtGb/XIXUJjNchdQGgWIxBASIPvbjvenW3eltbdn81jdV1FZN2/dB3LXUZjJuQsojQJEYvDtwgL3bMThqQopxLH4T5BYZIDglnVeLXcRhVnStvteZXQKkP4U9aacccN4fVffAziqq1chFiYCnwh4S6kBskLuAgqlABlAASKx/D6g7WuAH1v/6f1bwcIo4BzCpmz5U6JyejUpdwFSPgWIxHJpYPt3A6elKCSjs4BdA9o/TrkBMiF3AVI+DeOVWC7FdY2FXFX8u4U3AAcbeDBNWelZWAs4A3hL4FsvMuWO8R/l0eYWYHbqQhoyCVgvdxFtowCRKAzMtvBbYPvAt74duNvC94HvGrg9fnVpWPeMxEHAR/BfPGqgS+JW1HgYHW7g+ob3mYSFD+K6H0tU6kmGAkSiupTwAAF3z+CjwEct3Ia7sTyrepX01PoSuJvLK+DOVtftYVsvAL+MUZRILgoQieks4ER6W/djo+rVdecYeD53ESK90E10ica4SRW7dmM8hQXAF3IXIdIrBUh9XzJgYr2o1/VToi8Bz+QuonA/NPBA7iJEeqUAqc9nlEqpkt2UM/AUugoZjq4+pDMUIPW1OUBSO5XuDO+MTVcf0hkKkPoUIEOorkL2BRbmrqUw9wGfzl2ESCwKkPr0bzcMA5cDh+WuoyBzgLcZ/9UbRYqnL8H6dAUyAuOezj4ldx0FmA/sbtKv/VHsA2fSk2KPqwKkPgWIn6OBi3IXkdlHDFybuwiR2PQgYX0KEA8GrIX34KY4P5H+Wl/7IeBAA1flLqRtLIwFplBvipg6NA9WDQqQ+hQgnowbuvpVCz8FvgHsmbmk1BYC3wI+Y+DZ3MW0jYXX4aa08V2USzJpugvrxYb3V4fvbLIKkEAGHjKwF+7M8ivAzMwlxfYA8J/A6wx8QuFR25dQeLRC0wHi+4Ryzm6OsZ7t5ietosMM3GHcvZGVcbPxnkN754V6HvgxsAuwpoHjDNyfuabWsq7L6l9y1yF+mu7Cetqz3VjgkZSFDOPVnu2eS1pFWkWM6jCuq+cq4CoLH8KdOIwBlqv+HAOMppyVC1/EnQQ9W/35DPBMwWt6tNHr6Ohyx13UdID4XoH4fomn4LvmcZsDpDjVl/Cz1atrXVvib3zuAkagk4UBmu7CCrkCyaUfrkBESrV87gJGkKtnpEil3gNZI2kVw1vds51ukEppunB2XPKJ2SMmz0CgYo9rqVcgU5JWMQTruq/W9Gxe8gddpFc+gxpSDCR5MsE2Y9HDoK9Q6hVIlgABNg1oqwCRLvMZSTY9wX7vptxJOM/KXUBpmg4Q3+GNChCRvO5k+P7+m4xbsz4qA3OBm2JvN4IH0IwCi2k6QKbinkoeyUoW3pi6mEHsGtB2RrIqRDKr1ms/EDc1/yvdB3wk4e6/mXDbdTwNvFvDtRfX6DBeAwss3AWs79F8P+DWxCX9k3UPte0c8Ja/pKpFpAQGrrCwNvA+4G24qeivBC4yCR+kNXC2dd3dB5N/7rTpwGnGTa0ir5BjLqy/4hcgH7JwdIOpfyj+D6w9bNrdhaUzKfFSrV9yevVqcr8X4l5SsBzTuf/Vs90k4F9TFrKIdWPPPx7wljtS1SIi0hY5AiTky/dk28xDhacAEwPaK0CkRLqy7KZij2vJVyAAKwAnpSoEwMJWuJuFIRQgItL3cgTIXcCjAe0/Zt3NtOgsrEu91fIUICLS9xoPkOqm+E/C3sIZNuwexYgsbALcgLvXEuJJGhwdJiJSqlxrov+0xnu+aeFiC+v0smMLr7ZwMvAH6k3cdn7KIYwiIm2RJUAM/J6wbqxFdgfutPA9C9vYgHUiLKxp3SJG04FjqL/W8o9rvk9EpFNyrol+HnBkjfeNAg6pXjOtGys+DXiies3BPXw0Abe2wCrAbsBGEWqeCVwXYTsiIq2XM0B+Sr0AGWgS7gHApvxI0xkMzcLGuG7BRVeGRv/d6H9vRmTWrQi5Oe67opSfs9/+u25vSXLZAsTAHyz8EdgiVw2B5lHeHD11RQ1BC6sBV9Pj/Skpi4UP455AH5O7FilTrpvoixxKe87oTzFuRk5Z3KUoPDrFui7f/0HhIcPIGiAGbgHOzFmDp1kkfqCxraybAn/j3HVIEJ/VND+Mu98o7eC71lJUua9AwI2I8l2pMJejTLsnT0zpTbkLkCD3Gr9lWXVc2+WuHDvNHiDGPZh3fO46hnGLgR/mLqJgq+QuQIL8zbPdakmrkNh8j2tU2QOk8g3Cnk5vyixgn9xFFE4B0i5TPdutnrQKic33uEZVRIAYtwbyB6k3L1UqTwA7GPeMiQztNbkLkCDnj9TAuhvnOYf4S5jpZFrwqogAATBuqdv3ApfnrgWYDexkMqV6ywy25KmU6RfGDZ0flnE32V9ooB6J4/PVSXjjigkQgOrm3p7kDZFngJ2NlrD09VjuAsTbpwPa6ri2w3Tg3Fw7LypAAIw789kD+ATuSqBJFwIbGrip4f2Cu9/iI8YZ/0zPdk94tLmll0KkMZeasFmkb05WicR0bK6rDygwQMBdiRh3Y30t4Nu47q2U/grsaGAvA/cn3tdQpgFzR2gzy7i5vnrlO+RvukebK2nPw6D96rfABwLfc2WKQiSqI029mc2jKTJAFjHwuIGP4UaEHIGbxTeWR4BvATsAUwxcG3Hbwap7QKeO0CzKQ5fVvk4fodk9wF88tjUbtySwlOkKYBfj9/DgQD9EA0hKZYEDDZyWu5BBWVjDgo3wOjlBbZMtfNLCjTXqecTCtyxsHzIVfFMsLGvhVAtzX1H3XAunVBPbxdrX0tYt1DXYv9NsC9sFbGsJC9+w8ESkz41evb3mWPiBhbf08jm3sL6FKy28WMDPpBdMs3C8hTUCjuHJkfY96LDuQT9cVYH31fzcDfRfBo6NsJ1BWfeFugJuVt4VBrxGA//A3VeYWf05yzR/T6UWC0viDtgquNr/btxkjin2tQXwdmBr3NP204HTDDycYn8i0hzrTuKPibCpNQabC7DVY72rL9WHqldnGLfi4b3VK/W+/ojH0E4RkVcq+h6IiIiUSwEiIiK1KEBERKQWBYiIiNSiABERkVoUICIiUosCREREalGAiIhILQoQERGpRQEiIiK1KEBERKQWBYiIiNSiABERkVoUICIiUosCREREamn1eiAiIk2z8EZgfKbdzwNuq7FEcRLZAsTCGOBzwMbAFGDVXLUM4gngPw18LcXGLXwGOApYPsX2a5iPW//8SuAEAwt73aB1a81/BlgHmAyM6nWb0pMZwDEGzs5dSFtZ12PzC+CtuUuxbuXQLxs4I2chWQKkWjL3F8AbcuzfwwTgq9Yl/dUxN2xhV+CLMbcZwZLAm6vXasBBdTdk3WfqbOD9cUqTSFYBvm/hVgO3+bzBwvbAp4BXJ60svfnAncBNwMU9LG19OPnDA9xS5GsB37OwqoH/yFVI4wFiYRzubHdC0/uu4WAiBwhwSOTtxXaghXuNW0s5SBUelwC7xS9LIlgC2B939Tss63oErgSWSV1UQxZ98d9tYTfjzuBDvSNmQZEcZ+HbBh7LsfMcN9GPoh3hAfC2mBuz7swh6jYTOd7Ca2q87zAUHqV7i2e7g+lOeAy0DvBnC+uGvKnqvto6TUk9McA+uXbeaIBUVx9HNLnPHo23cW+WTcTd+ynd0sCxIW+wMBb4QppyJKL1PNttk7SKvMYDxwW+ZyKwXIJaYsh2rJq+AtmNdnyBDhTzQ9Omnz30HsZB5BuZIv58rypem7SK/N5vYc2A9iX/7q6Sa8dNB8jaDe8vhpgfnJI/hK+0ig27ebp/skokKuv3OWzTZ7WOVwF7BrQv+d8j2wjWpgPk9Q3vL4Z5hW6rCV6j5Kr+5E0S1yLxPOfRZunkVeS3YUDbucmq6N3kXDvWFcjInoq4rbrDB3OZ5Nnu7UmrkJieNmA92j2TvJL8QgJkTrIqerdkdQ+ycU0HSLa+uh7E/NJ/IuK2SvKm3AWIN98Toq5+VgfaIKBtyQECmaalanqnbZt76+4YT2UvUm3r3ljbK4gCpD2merbrhwAZU40MHZFx3c8zEtfTOm37Qm/aVQm2+asE28ymerYlaEy9ZHWFZ7tbklbRTtfkLqA0CpChzQVOS7DdU4AXEmw3l5LmMJPhTQXO9Gx7ecpCWuobuQsoTYmz8c4ApmWuYRbwNZOgu8nAPdbddP4E+Z6bGIebxDKG0BEgzwM/Ae6PtH/x8zBwrvEbgQXuSvl6YNt0JbWLgRutm0njs7gh7gur14Ih/vT9u6H+3wLcpKTFKjFALjbw0dxFpGTcpXC2y2EL2wHXRdrc6gFt5wNb+k7mJ/kYN+PrjsBGeN4nKMQ44GgSTTtiXA/CKSm2PRjrN2IumxIDRNol5CrqNIVHexh3Bnxz7jpCWTfT999ws35LQroHIr1aNqDtJcmqEKkYd//y57nriKToKxAFiPQqJEBuSlaFyMv1w4OQ2SlApFe+AfKkcTfQRaQjFCDSK98AeTBpFSLdpC4s6TTfgRiPJK1CRBqnAJFe+c4wPCppFSLdpCsQ6TTfaa77YXpwkb6iAJFe+V6BKEBEOkYBIr3yvQJZ38JSSSsR6R51YUmnPenZbllg55SFiEizFCDSq5A1Er5mYflklYhIozQXlvQqJEDeAEy3cEHg+yTcQuAe4ErTH4tDdVXRXVgKEOlVaBCMBw5OUYgM6gkLBxq4KHch0j0KEOmJgcesW2dbXVNlmgD8zMI+xl35SY+sm6hxuRGa3Wbg3+PsrlwKEInhz8BbcxchQzLAtyz83PiPmpOhbYdbUGo4ffHgrG6iSwx/yV2AjGhF4JDcRXSEyV1AKRQgEoOmaW+H/XIX0KCU321NBkjRXVgKEInhl7jlaqVsm1t4fe4iUrPue03PHDVA90CkZwaetHAx8J7ctciI9gVO6GUDFtYDdgImRakovu2ATRNuX1cgFQWIxPIlFCBtsG3dN1r4HHAEMDFeOa2keyAVdWFJFMaNxNIw0fKtEPoGC0tYOAc4EYWHDKAAkZiOBhbkLkKGFdTtZN3Z9i+BD6Ypp5XUhVVRgEg0Bv4O7I2eNSjZyoHtDwR2TFFIi6kLq6IAkaiMu5m+JfC73LXIoIyFsT4NrZtB+aTE9YQUR8sAAA/WSURBVMjwir4C0U10ic7ArcC2FrYC1gEmo89aE/YCpni08z1xPI4a90xaxndBtIF0BVLRL7UkY+AG3EsaYGFt/ALE1/sjbqtEj9Sc2kUBUul8F5aF3SzcYOFRC89buNvCWTHXpbDwbxZusmAjvR63cJGFI6w7exdpVLV65Jq560hsau4CPBTdhdXpALFwJHA5rk9+Rdy63GsDHwZu9+0LHmEfnwS+Q9wHlyYAewBfA262sEnEbYv42DB3AQ2oGyC6Aql0tgvLutEmXxymyWq4Pt6je9xVjCmbhzMR+K2Fdxn4TeJ9iSyyfu4CEnsROLPme30CZIqFa2puf6BlImwjmc4GCO6J25H+8XfpZQfWrbC3ei/b8DQGuMTCZOPW3hBJbbXcBSR2UjXYI5VxwA4Jt1+ELndh+Uwat3aP+wgdU9+L5ej9aknEV1e7aRYCX6hedXX13yZYl69Axnm0GdPjPsb3+P5QR1r4qoF/NLxfkeEswK0J81zuQoZgcevCPwT8n4HretyeAqTS5QBpQtOrji0NvAP4UcP7FRnKd4FPG5iTuxBpngKkNzMz7HO9DPuUdmh6yOc84HDjbkj3E12BVLp8D6QJChDpZ4/1YXiAAuSfFCC9mUbzl+4KEBEpggKkB8bdPPxZw7tdseH9iYgMSgHSu+OAR3MXISLpWXVfvYxuovfIwEPWrcF8CLA54R+wMbgJ8EbHrk1EJCUFSAQG7qGHh/ysWyXuD8BroxUlIinoCmQAdWEVwLjRXAfmrkNERqQAGUBXIIUw8BsL9wJr5a5FRHo2G7glwna2pfkHlr0pQMoyFQWI1Ff02hEd4XsFcquJsJa8dUH06l63k4q6sMrySO4CRGRYvgHSF2GuK5CyLMhdQC4WVsUtyrVy9Vqp+nMc5fQ7L8Ddr5qBC/sZwH3AH4yb5VVkkb74PChAJJsqNN5TvbahnKAI9ZiF84HzgBtMn5x9AkvmLiAD389oXwSIurCkcRZeZ+HXuOm1T8PdKGxreICbHeDjwO+A+y28O3M9TVnZunVq+om6sAZQgEijLBwG3A7slLuWRCYDF1o408KyuYtpwKG5CyiUrkBEYrGwkoVfAd+mP75YDwJus/DG3IUk9gXbXxN86gpkAN0DkeQsvAb3pP0auWtp2FrADRbeZODO3MUkMga42cKfaNcgkGnACQYeDHyf7oEMoACRpCwsA/yC/guPRZYBrrSwmYFZuYtJZDTuPlab7AC8ycKmiQY99EWAqAtLkrHu83UBbnhuP5sMXGbTj1rqi26TiDYm/F6curAGUIBISt/BreEubqbm7+cuIsDjuQtoSKoA0RWISF3W/WIekruOwuxn4V9yF+Hp7twFNCTVAAAFiEgP/it3AYU6IXcBnqblLqAh4wLbqwtrAAWIRGdhN2CL3HUUalMLO+cuYiQGHgbm5a6jAaETFaoLa4C+H4VlI8yYGdEquQuI5OTcBRTuOODq3EV4OA/4SO4iEks1A0JfXIH0fYAAv8ldQJdYd+XR9YfnerWDhfWMm76/ZMcD+1PwehQRzA5sryuQARQgEtv7enz/bOAG3DMTs4Cne64onlcBE3FzX60LbNDDtvak8AAx8KCFM3DTz3TVU4HtFSADKEAktg/WfN/vcMN+LzAt6Xu38GbgY7ifOfR+4l7ASdGLiu8E3M9X7KJGPbo30Xb7ogtLN9ElGuumZF8x8G3PAIcZ2NbAuW0JDwADNxr4EO6p5tDFwDazbr2TmKJ/aRl4FPcg6F2xt12I6wLb6wpkAAWIxBTaffUYsJGB76YopikGrgc2JHy+q30SlBOdcWfpmwE/y11LZHcBVwW+Zw7wnEe71pwI9UJdWBKFdWdmIV+ITwNvNfD3RCU1ysATFnYFbgXGe75tT+Dr6aqKx8CzwN7VVdMGwBTCn6EoyRzgIgMvhrzJwEILl+MWQRvOn2pX1iIKEIllPcK6rz5t4I5UxeRQ3XQ+EjjL8y3bWhhlWjSLrXFddY/gpubvVx/BTfWyD4OfLFwGnNloRZmoC0tiCRm6eydudE8XnQ38zbPtKGCdhLVIAgaeNfBvuBF5KwNb4abu2QlY28A723RS0AtdgUgsGwW0Payrv2BVF8cxwEWeb9mAwofzyuCqaeAfrV59SVcgEovvFchUEz7ypVUMXAzM8Gy+fspaRFJSgEgsvgFyYdIqynGxZ7teHkYUyUoBIj2zsDz+83j1S4D83LOdAkRaSwEiMWzm2e45A39OWkk5fLvp1rXx5prqi6efpRx9HyAGTCkv2vtAne9657cnraIgxj1h/7BH01HEfyJdpBF9HyASxUTPdrclraI8vk+mt/mBPOljChCJQQEyOAWIdJoCRGKY4NnOp0unS+7zbKcAkVZSgEgMvlcgoWsvtJ3vYkUKEGklBYjEoAAZnO/PqwCRVlKASAy+XVj9FiC6ApFO01xYEoPvanVzklZRHt8AibXaX/TnQCyMBd4LvAVYBrgG+ImBmbH3Je2jAJEYfCdG9F3Nrd8ErUnRFAuTcQsurTvgr/cCPmlhZ5NuOdjiWZgEfAA3A+983JLMPzPwQNbCGqYAkRh8vwCXTlpFeUZ7tit19bof8PLwWGQN3LT1WzdbThksrAVcC6w64K/fAxxvYU/j/l9f0D0QiUEBMrjWBkj1JbnzME22soOHSz/4AS8Pj0XGA5dX3X59QQEiMShABucbIC8kraKe4cJjkZ2SV1EYC68HthumybLAoQ2Vk50CRGLwDZBJSasoj+/otOKuQIDVPdoMdhbedW/xaPOO5FUUQgEiMfgGyGuTVlGe13m2KzFAJnu06ccA8fmZff7tOkEBIjH4BojvF2pX+AZmiV1YPg+HviZ5FeXxWfdGASIS4B+e7XQFMrjHk1ZRj8+Q634clj3Go43vva/W6/sAsX4fiKYslbuAmv7u2W7bpFUUxLov1008m0+Pt1uR5vR9gOCWYy1FW28y+wbIZAtvSFpJObbEb4qSBfjP2itSFAUITMldwAAr5S6gJt8AAdg1WRVl8f057zf+T/KLFEUBAvvkLgDAuqd6N85dR00KkMX5/px9Ox2ItJ+mMoEDLGwO3Ag8lGH/y+L6ynemvTcl7wlou4uFNU2Hu22sO55beDaPdf9DpHFdDpCQG4obVq82WJi7gFcy8Lx1I4l8hn6OAk4F9k5bVVbfCWirKxBprS53YZX4cFYMc3MXMIQbAtruZWHfZJVkZOFjwJsD3vKnVLWIpNblAHkudwGJlBqMPw9s/30LmyapJBML2wBfD3jLbOC3icoRSU4B0j5P5y5gCJcFth8N/NoWMoihVxYOwK2dMSrgbVdpBJa0WZcDpKs3aR/LXcBgjBuAcFvg28YBP7Fwtm3pEGYLq1q4BPg+bkBEiNCrNo9yRJrT5QAJ/TJriyIDpFL3C3E/4EELF1vY08IUCyvZsLP55CwsYWFlCxtZeJ91V10PAO+qtzkuj1uhSLM6OwrLwAPWnRWvlruWyEq+sroM+EzN9y4B7F69/qnDp9R/NP5ziIkUqctXIBDeL98Gt+QuYCgGfg/8OXcdLREy1FekSF0PkG9R4HMTPZgP/Cp3ESM4MncBLXA3bk1xkVbrbBcWgIE7LHwDOCJ3LZFcbOCp3EUMx8D11b2Bf8ldS8E+ZbpxYrOVhWtyF9Gw9XIXUJJOB0jlaNzMqFvmLqRHc4FP5S7C0yeB3ej+FW4dNxi4NHcRkUwAdshdhOTT+V9w47p93orrzmrrPdm/AlsauD93IT4M3AUck7uOAs0BPpy7CJFY+uEKBAPPAodbOBHXtbIRsDruDKrUCQwX4IaIXgf8sG1dHga+Yt3l/gG5aynEAmB3A9NyFyISS18EyCIGZgI/yF1HHzkYN4x6l9yFFOATBq5NvI+2XmFLS3W+C0vyqabp2BOYmruWzH5g4PTcRYjEpgCRpKruw62AM3PXksGigQ8H5S5EJAUFiCRnYLaBQ4Dt6Z8FlG4Ephg4tW33r0R8KUCkMcZNXb4h8BW6+6U6FzgK2NqErdQo0joKEGmUgeeNezZnZdwIrfNxw1vbbA7u5/gQsIqBU3TVIf2gr0ZhSTmqEXFnAWdZ9zncAjdia8XqNan689WUM9R6LvAobkbkR6vXg8CN1fNGIn1FASLZGXgRNxGjiLSIurBERKQWXYGIdEfTDxJOA37c8D5z2xs3EERQgIhIfXcb+HzuIppkYR0UIP+kLiwREalFASIiIrUoQEREpBYFiIiI1KIAERGRWhQgIiJSiwJERERqUYCIdIdWJJRGKUBERKQWBYiIiNSiABGRupbLXUAGY3IXUBIFiIjUtXzuAjJYMXcBJVGAiEhd61lYJncRTbFucbONc9dREgWIiNS1FHC87YNZvS0sCXwRGJ27lpKUeOA3t302RXQGq8feoIV9gH1x3RqLlqA1+u/G/7tpxwDHaPxwfyoxQN5UvaQlLBwFfDl3HRLVwtwFtNj83AU0RV1Y0hMLY4H/zF2HBPEJh+eTV9Fdc3MX0BQFiPRqD1xfuLTDswae9mj3XPJKumte7gKaogCRXmlUSrvc4dnu0aRVdNuc3AU0RQEiw/G5NzoxeRUS0988292btIpum5G7gKY0HSAvNLw/6c1Mjzbjk1chMU31bKcAqU8Bkojvh1fK8IBHm2eSVyGxzAf+17PtTcCChLV02d25C2hK0wFya8P7k/qmG78rkMeSVyKxnG7gfp+GBmYDv0pcT1fdEHFbvidoz0bcp7emA+S2hvcn9f3Qs50CpB2eBk4IfI+GZ4ebC/w64vZ8rmYeMPBixH16azpALgQubnifEm4BcK5n29+lLESieBHY38CTIW8ycD3wnTQlddbZJu5zIBd4tPm/iPsL0miAGNcHuxdwCnpQqVQW92XjdRPVuACZnrYk6cE8YHdT/8Tt48D3ItbTZfcDn4q5QQOn415DeZyMV4qND+M1sNC4qS/WAD4HXAo83HQdMqhrgd0MnBf4vj2BOxPUI715FtjFwBV1N1D9vv4b8E7glmiVdc/1wJYmwTMgxoX4jsDZuBO7F4H7cFceGxp4IvY+fWWbC8vALNzsltJyxt3b2sDCRsCE3PUIL+KGkj5oIs3LZOAy4DILmwDjYmyzQ2aYxCOvjDu5uzblPuoocTJFaSmjQRKdZ+Dm3DVIOfQkuoiI1KIAERGRWhQgIiJSiwJERERqUYCIiEgtChAREalFASIiIrUoQEREpJbUDxLuaOHkxPsQEZHB7Zhy46kDZMvqJSIiHaMuLBERqUUBIiIitShARESkFgWIiIjUogAREZFaFCAiIlKLAkRERGpRgIiISC0KEBERqUUBIiIitShARESkFgWIiIjUogAREZFaFCAiIlKLAkRERGpRgIiISC1msL+0MApYteFaRESkTA8bWJC7CBERERERERERERERERERkWL9f8GkA7e6iMNFAAAAAElFTkSuQmCC",Db=()=>{const{projects:s,constructionPayments:n,loadConstructionPaymentsFromAPI:t,addConstructionPaymentToAPI:r,updateConstructionPaymentInAPI:i,deleteConstructionPaymentFromAPI:a,executionRecords:o,payments:m}=ks(),[d,p]=l.useState(n),[f,u]=l.useState([]),[b,x]=l.useState(!1),[j,h]=l.useState("cash"),[L,I]=l.useState({project:"",client:"",amount:"",date:Ae(new Date,"yyyy-MM-dd"),clientSignature:"",totalContractAmount:0,previousAmount:0,remainingAmount:0,startDate:"",endDate:""});l.useEffect(()=>{console.log(" ConstructionPayment: Loading payments from API..."),t().then(()=>{console.log(" ConstructionPayment: Payments loaded successfully")}).catch(V=>{console.error(" ConstructionPayment: Failed to load construction payments:",V),P.error("   ")})},[t]),l.useEffect(()=>{console.log(" ConstructionPayment: Loading additional works from API..."),qn.getAllAdditionalWorks().then(V=>{console.log(" ConstructionPayment: Additional works loaded:",V),u(V.map(_=>({_id:_._id,project:_.project,amount:_.amount})))}).catch(V=>{console.error(" ConstructionPayment: Failed to load additional works:",V)})},[]),l.useEffect(()=>{const V=()=>{Le()};return window.addEventListener("headerAddButtonClick",V),()=>window.removeEventListener("headerAddButtonClick",V)},[]),l.useEffect(()=>{console.log(" ConstructionPayment: Syncing with dataStore"),console.log(" constructionPayments:",n),console.log(" projects:",s);const V=n.map(_=>({..._,vatType:_.vatType||"percentage",vatPercentage:_.vatPercentage??100,vatAmount:_.vatAmount??0,payments:_.payments.map(me=>{var xe;return{...me,type:me.type||((xe=me.types)==null?void 0:xe[0])||""}})}));console.log(" Normalized records:",V),p(V)},[n,s]);const[y,M]=l.useState(null),[se,re]=l.useState(!1),[w,O]=l.useState(!1),[ie,de]=l.useState(null),[ue,ve]=l.useState("remaining"),[Q,he]=l.useState({projectId:"",totalAmount:0,vatType:"percentage",vatPercentage:100,vatAmount:0}),[Ne,Ve]=l.useState({types:[],percentage:0,amount:0,date:"",method:"",notes:""}),je={:10,:40,:40,:10,:0},Be=V=>V.reduce((_,me)=>_+(je[me]||0),0),Xe=(V,_)=>{const me=y?s.find(Fe=>Fe.name===y.project):null;if(!me||V.length===0||!me.startDate||!me.endDate)return"";const xe=new Date(me.startDate),Me=new Date(me.endDate);if(isNaN(xe.getTime())||isNaN(Me.getTime())||V.includes(""))return"";if(V.includes("")){const Fe=new Date(xe);return Fe.setDate(Fe.getDate()-7),Ae(Fe,"yyyy-MM-dd")}else if(V.includes("")){const Fe=xe.getTime()+(Me.getTime()-xe.getTime())/2;return Ae(new Date(Fe),"yyyy-MM-dd")}else if(V.includes("")||V.includes(""))return Ae(Me,"yyyy-MM-dd");return""},le=V=>{const _=s.find(T=>T.name===V.project);if(!_)return[];if(!_.startDate||!_.endDate)return[];const me=Te(V),xe=new Date(_.startDate),Me=new Date(_.endDate);if(isNaN(xe.getTime())||isNaN(Me.getTime()))return[];const Fe=[];Fe.push({type:"",date:null,amount:Math.round(me*.1),percentage:10,status:"pending"});const B=new Date(xe);B.setDate(B.getDate()-7),Fe.push({type:"",date:B,amount:Math.round(me*.4),percentage:40,status:B<=new Date?"overdue":"pending"});const $=xe.getTime()+(Me.getTime()-xe.getTime())/2,G=new Date($);return Fe.push({type:"",date:G,amount:Math.round(me*.4),percentage:40,status:G<=new Date?"overdue":"pending"}),Fe.push({type:"",date:Me,amount:Math.round(me*.1),percentage:10,status:Me<=new Date?"overdue":"pending"}),V.payments.forEach(T=>{var z;(((z=T.type)==null?void 0:z.split(", "))||[]).forEach(X=>{const K=Fe.find(N=>N.type===X.trim());K&&(K.status="completed",K.actualDate=T.date,K.actualAmount=T.amount)})}),Fe},Le=()=>{re(!0)},Ue=async()=>{console.log(" handleSaveProject called"),console.log(" newProject:",Q),console.log(" projects:",s);const V=s.find(_=>_.id===Q.projectId||_.id===parseInt(Q.projectId)||_.id.toString()===Q.projectId.toString());if(console.log(" selectedProject:",V),console.log(" totalAmount:",Q.totalAmount,"type:",typeof Q.totalAmount),!V){alert(" ");return}if(Q.totalAmount<=0){alert("   (0  )");return}try{const _={id:"",project_id:V.id,project:V.name,client:V.client,totalAmount:Q.totalAmount,vatType:Q.vatType,vatPercentage:Q.vatPercentage,vatAmount:Q.vatAmount,payments:[]};console.log(" Sending to API:",_),await r(_),P.success(" "),re(!1),he({projectId:"",totalAmount:0,vatType:"percentage",vatPercentage:100,vatAmount:0})}catch(_){console.error("Failed to add construction payment:",_),P.error("  ")}},Ce=()=>{de(null),Ve({types:[],percentage:0,amount:0,date:"",method:"",notes:"",quickText:""}),O(!0)},Re=V=>{const _=y==null?void 0:y.payments[V];if(!_)return;de(V);const me=_.type?_.type.split(",").map(xe=>xe.trim()):[];Ve({types:me,percentage:Be(me),amount:_.amount,date:Ae(_.date,"yyyy-MM-dd"),method:_.method,notes:_.notes||""}),O(!0)},We=async()=>{if(!y||!Ne.date||Ne.amount<=0||Ne.types.length===0){alert("  ");return}try{let V;ie!==null?V=y.payments.map((xe,Me)=>Me===ie?{type:Ne.types.join(", "),amount:Ne.amount,date:new Date(Ne.date),method:Ne.method,notes:Ne.notes}:xe):V=[...y.payments,{type:Ne.types.join(", "),amount:Ne.amount,date:new Date(Ne.date),method:Ne.method,notes:Ne.notes}];const _={...y,payments:V};await i(y.id,_),P.success(ie!==null?" ":" ");const me=d.map(xe=>xe.id===y.id?_:xe);p(me),M(_),O(!1),de(null),Ve({types:[],percentage:0,amount:0,date:"",method:"",notes:""})}catch(V){console.error("Failed to save payment:",V),P.error("  ")}},Te=V=>{const _=V.totalAmount;if(V.vatType==="amount")return _+(V.vatAmount||0);{const me=_*((V.vatPercentage??100)/100)*.1;return _+me}},qe=V=>{const _=A(V.project);if(V.vatType==="amount")return V.totalAmount+(V.vatAmount||0)+_;{const me=V.totalAmount*((V.vatPercentage??100)/100)*.1;return V.totalAmount+me+_}},R=V=>V.vatType==="amount"?V.vatAmount||0:V.totalAmount*((V.vatPercentage??100)/100)*.1,fe=V=>{if(!y)return 0;const _=Te(y);return Math.round(_*V/100)},pe=V=>V.payments.reduce((_,me)=>_+me.amount,0),He=V=>qe(V)-pe(V),Z=V=>{const _=o.filter(xe=>xe.project===V).reduce((xe,Me)=>xe+(Me.totalAmount||0),0),me=m.filter(xe=>(xe.status==="approved"||xe.status==="completed")&&xe.project===V).reduce((xe,Me)=>xe+Me.amount,0);return _+me},A=V=>f.filter(_=>_.project===V).reduce((_,me)=>_+me.amount,0),ce=d.filter(V=>{if(ue==="all")return!0;const _=He(V);return ue==="completed"?_===0:ue==="remaining"?_>0:!0});return e.jsxDEV("div",{className:"space-y-3 md:space-y-4",children:[e.jsxDEV("div",{className:"border-b border-gray-200 flex items-center justify-between",children:[e.jsxDEV("nav",{className:"flex space-x-4 md:space-x-8 overflow-x-auto",children:[{id:"remaining",label:"",count:d.filter(V=>He(V)>0).length},{id:"completed",label:"",count:d.filter(V=>He(V)===0).length},{id:"all",label:"",count:d.length}].map(V=>e.jsxDEV("button",{onClick:()=>ve(V.id),className:`py-3 md:py-4 px-1 border-b-2 font-medium text-xs md:text-sm transition-colors whitespace-nowrap ${ue===V.id?"border-gray-700 text-gray-700":"border-transparent text-gray-400 hover:text-gray-700 hover:border-gray-300"}`,children:[V.label,e.jsxDEV("span",{className:`ml-1 md:ml-2 py-0.5 px-1.5 md:px-2 rounded-full text-[10px] md:text-xs font-semibold ${ue===V.id?"bg-gray-700 text-white":"bg-gray-200 text-gray-600"}`,children:V.count},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:545,columnNumber:15},void 0)]},V.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:535,columnNumber:13},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:529,columnNumber:9},void 0),e.jsxDEV("button",{onClick:Le,className:"btn btn-primary px-4 py-2 whitespace-nowrap hidden md:block",children:"+"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:553,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:528,columnNumber:7},void 0),e.jsxDEV("div",{className:"construction-payment-grid grid grid-cols-1 lg:grid-cols-1 xl:grid-cols-3 gap-6",children:ce.map(V=>{const _=pe(V),me=He(V),xe=Te(V),Me=_/xe*100;return e.jsxDEV("div",{className:"card hover:border-gray-400 transition-colors",children:[e.jsxDEV("div",{className:"mb-4",children:e.jsxDEV("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-2 mb-2",children:[e.jsxDEV("h3",{className:"font-bold text-lg text-gray-900 flex-shrink-0",children:V.project},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:573,columnNumber:19},void 0),e.jsxDEV("div",{className:"flex gap-1.5 flex-wrap",children:[e.jsxDEV("button",{onClick:()=>{const Fe=pe(V),B=Te(V),$=B-Fe,G=s.find(T=>T.name===V.project);I({project:V.project,client:V.client,amount:"",date:Ae(new Date,"yyyy-MM-dd"),clientSignature:"",totalContractAmount:B,previousAmount:Fe,remainingAmount:$,startDate:G!=null&&G.startDate?Ae(new Date(G.startDate),"yyyy-MM-dd"):"",endDate:G!=null&&G.endDate?Ae(new Date(G.endDate),"yyyy-MM-dd"):""}),h("transfer"),x(!0)},className:"px-2 py-1 text-xs sm:px-3 sm:py-1.5 sm:text-sm bg-gray-800 text-white rounded hover:bg-gray-900 transition-colors whitespace-nowrap",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:575,columnNumber:21},void 0),e.jsxDEV("button",{onClick:()=>{const Fe=pe(V),B=Te(V),$=B-Fe,G=s.find(T=>T.name===V.project);I({project:V.project,client:V.client,amount:"",date:Ae(new Date,"yyyy-MM-dd"),clientSignature:"",totalContractAmount:B,previousAmount:Fe,remainingAmount:$,startDate:G!=null&&G.startDate?Ae(new Date(G.startDate),"yyyy-MM-dd"):"",endDate:G!=null&&G.endDate?Ae(new Date(G.endDate),"yyyy-MM-dd"):""}),h("cash"),x(!0)},className:"px-2 py-1 text-xs sm:px-3 sm:py-1.5 sm:text-sm bg-gray-800 text-white rounded hover:bg-gray-900 transition-colors whitespace-nowrap",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:604,columnNumber:21},void 0),e.jsxDEV("button",{onClick:()=>M(V),className:"px-2 py-1 text-xs sm:text-sm text-gray-600 hover:text-gray-800 whitespace-nowrap",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:633,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:574,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:572,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:571,columnNumber:15},void 0),e.jsxDEV("div",{className:"mb-4",children:e.jsxDEV("div",{className:"p-3 bg-gray-50 border border-gray-200 rounded-lg",children:e.jsxDEV("div",{className:"flex items-start justify-between",children:[e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("p",{className:"text-xs text-gray-600 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:648,columnNumber:23},void 0),e.jsxDEV("p",{className:"text-2xl font-bold text-gray-900",children:["",V.totalAmount.toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:649,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:647,columnNumber:21},void 0),e.jsxDEV("div",{className:"ml-4 text-right",children:[e.jsxDEV("p",{className:"text-xs text-gray-500 mb-1",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:654,columnNumber:23},void 0),e.jsxDEV("p",{className:"text-sm font-semibold text-gray-700",children:["",xe.toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:657,columnNumber:23},void 0),e.jsxDEV("p",{className:"text-xs text-gray-500 mt-0.5",children:["( ",V.vatType==="percentage"?`${V.vatPercentage??100}%`:`${(V.vatAmount||0).toLocaleString()}`," )"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:660,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:653,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:646,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:645,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:644,columnNumber:15},void 0),e.jsxDEV("div",{className:"mb-4",children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-2",children:[e.jsxDEV("span",{className:"text-sm text-gray-600",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:671,columnNumber:19},void 0),e.jsxDEV("span",{className:"text-sm font-medium text-gray-900",children:[Me.toFixed(1),"%"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:672,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:670,columnNumber:17},void 0),e.jsxDEV("div",{className:"w-full bg-gray-200 h-2 rounded-full",children:e.jsxDEV("div",{className:"bg-gray-600 h-2 rounded-full transition-all",style:{width:`${Me}%`}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:675,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:674,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:669,columnNumber:15},void 0),e.jsxDEV("div",{className:"mb-4",children:e.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-4 gap-3",children:[e.jsxDEV("div",{className:"p-3 bg-gray-50 border border-gray-200 rounded-lg",children:[e.jsxDEV("p",{className:"text-xs text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:686,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-base font-bold text-gray-800",children:["",_.toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:687,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:685,columnNumber:19},void 0),e.jsxDEV("div",{className:"p-3 bg-gray-50 border border-gray-200 rounded-lg",children:[e.jsxDEV("p",{className:"text-xs text-gray-700 mb-1",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:692,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-base font-bold text-gray-800",children:["",Z(V.project).toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:693,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:691,columnNumber:19},void 0),e.jsxDEV("div",{className:"p-3 bg-gray-50 border border-gray-200 rounded-lg",children:[e.jsxDEV("p",{className:"text-xs text-gray-700 mb-1",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:698,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-base font-bold text-gray-800",children:["",A(V.project).toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:699,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:697,columnNumber:19},void 0),e.jsxDEV("div",{className:"p-3 bg-gray-50 border border-gray-200 rounded-lg",children:[e.jsxDEV("p",{className:"text-xs text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:704,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-base font-bold text-gray-800",children:["",me.toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:705,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:703,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:684,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:683,columnNumber:15},void 0),V.payments.length>0&&e.jsxDEV("div",{className:"border-t pt-4",children:[e.jsxDEV("p",{className:"text-xs text-gray-500 mb-2",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:715,columnNumber:19},void 0),V.payments.slice(-2).reverse().map((Fe,B)=>e.jsxDEV("div",{className:"flex items-center justify-between text-sm mb-1",children:[e.jsxDEV("span",{className:"text-gray-700",children:[Fe.type||""," - ",Ae(Fe.date,"MM/dd")]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:718,columnNumber:23},void 0),e.jsxDEV("span",{className:"font-medium text-gray-900",children:["",Fe.amount.toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:721,columnNumber:23},void 0)]},B,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:717,columnNumber:21},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:714,columnNumber:17},void 0)]},V.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:570,columnNumber:17},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:562,columnNumber:7},void 0),y&&e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:e.jsxDEV("div",{className:"bg-white rounded-lg max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxDEV("div",{className:"p-6 border-b",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("h2",{className:"text-xl font-semibold",children:y.project},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:739,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>M(null),className:"p-2 hover:bg-gray-100 rounded-lg",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:740,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:738,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:737,columnNumber:13},void 0),e.jsxDEV("div",{className:"p-6",children:[e.jsxDEV("div",{className:"mb-6",children:[e.jsxDEV("h3",{className:"text-lg font-semibold mb-4",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:752,columnNumber:17},void 0),e.jsxDEV("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[e.jsxDEV("div",{className:"space-y-3",children:le(y).map((V,_)=>{var Me;const xe={:"contract",:"start",:"middle",:"final"}[V.type];return e.jsxDEV("div",{className:"flex items-center justify-between gap-3",children:[e.jsxDEV("div",{className:"flex items-center space-x-3 flex-1",children:[e.jsxDEV("span",{className:`px-2 py-1 text-xs font-medium rounded ${V.status==="completed"?"bg-green-100 text-green-800":V.status==="overdue"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:V.type},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:768,columnNumber:29},void 0),V.status!=="completed"?e.jsxDEV("input",{type:"date",value:(Me=y.expectedPaymentDates)!=null&&Me[xe]?Ae(new Date(y.expectedPaymentDates[xe]),"yyyy-MM-dd"):V.date?Ae(V.date,"yyyy-MM-dd"):"",onChange:async Fe=>{const B=Fe.target.value?new Date(Fe.target.value):null,$={...y.expectedPaymentDates,[xe]:B},G={...y,expectedPaymentDates:$};M(G);try{await i(y.id,{expectedPaymentDates:$});const T=d.map(C=>C.id===y.id?G:C);p(T),P.success("  ")}catch(T){console.error("Failed to update payment date:",T),P.error("  ")}},className:"px-3 py-1.5 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-gray-600"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:776,columnNumber:31},void 0):e.jsxDEV("span",{className:"text-sm text-gray-700",children:[V.date?Ae(V.date,"yyyy MM dd"):" ",V.actualDate&&e.jsxDEV("span",{className:"text-green-600 ml-2",children:["(: ",Ae(V.actualDate,"MM/dd"),")"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:812,columnNumber:35},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:809,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:767,columnNumber:27},void 0),e.jsxDEV("div",{className:"text-right",children:[e.jsxDEV("p",{className:"text-sm font-medium text-gray-900",children:["",V.amount.toLocaleString(),e.jsxDEV("span",{className:"text-xs text-gray-500 ml-1",children:["(",V.percentage,"%)"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:822,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:820,columnNumber:29},void 0),V.status==="completed"&&V.actualAmount&&e.jsxDEV("p",{className:"text-xs text-green-600",children:[": ",V.actualAmount.toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:825,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:819,columnNumber:27},void 0)]},_,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:766,columnNumber:25},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:754,columnNumber:19},void 0),e.jsxDEV("div",{className:"mt-4 pt-3 border-t border-gray-200",children:e.jsxDEV("div",{className:"flex justify-between text-sm",children:[e.jsxDEV("span",{className:"text-gray-600",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:836,columnNumber:23},void 0),e.jsxDEV("span",{className:"font-bold text-gray-900",children:["",Te(y).toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:837,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:835,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:834,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:753,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:751,columnNumber:15},void 0),e.jsxDEV("div",{className:"space-y-4 mb-6",children:[e.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxDEV("div",{className:"p-4 bg-gray-50 border border-gray-300 rounded-lg",children:[e.jsxDEV("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"  ()"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:849,columnNumber:21},void 0),e.jsxDEV("input",{type:"number",value:y.totalAmount||"",onChange:async V=>{const _=V.target.value===""?0:Number(V.target.value),me={...y,totalAmount:_};M(me);try{await i(y.id,me);const xe=d.map(Me=>Me.id===y.id?me:Me);p(xe)}catch(xe){console.error("Failed to update total amount:",xe),P.error("  ")}},className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-lg font-bold focus:outline-none focus:ring-2 focus:ring-gray-600 focus:border-transparent",placeholder:"50000000",min:"0"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:852,columnNumber:21},void 0),e.jsxDEV("p",{className:"mt-2 text-xs text-gray-500",children:"   "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:877,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:848,columnNumber:19},void 0),e.jsxDEV("div",{className:"p-4 bg-gray-50 border border-gray-200 rounded-lg",children:[e.jsxDEV("p",{className:"text-xs text-gray-700 mb-1",children:["  ( ",y.vatType==="percentage"?`${y.vatPercentage??100}%`:`${(y.vatAmount||0).toLocaleString()}`," )"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:880,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-xl font-bold text-gray-900",children:["",Te(y).toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:883,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:879,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:847,columnNumber:17},void 0),e.jsxDEV("div",{className:"p-4 bg-gray-50 border border-gray-300 rounded-lg",children:[e.jsxDEV("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"  "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:891,columnNumber:19},void 0),e.jsxDEV("div",{className:"flex gap-2 mb-3",children:[e.jsxDEV("button",{type:"button",onClick:async()=>{const V={...y,vatType:"percentage"};M(V);try{await i(y.id,V);const _=d.map(me=>me.id===y.id?V:me);p(_)}catch(_){console.error("Failed to update VAT type:",_),P.error("   ")}},className:`flex-1 px-3 py-2 text-sm border rounded-lg font-medium transition-colors ${y.vatType==="percentage"?"border-gray-900 bg-gray-900 text-white":"border-gray-300 bg-white text-gray-700 hover:border-gray-400"}`,children:" (%)"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:897,columnNumber:21},void 0),e.jsxDEV("button",{type:"button",onClick:async()=>{const V={...y,vatType:"amount"};M(V);try{await i(y.id,V);const _=d.map(me=>me.id===y.id?V:me);p(_)}catch(_){console.error("Failed to update VAT type:",_),P.error("   ")}},className:`flex-1 px-3 py-2 text-sm border rounded-lg font-medium transition-colors ${y.vatType==="amount"?"border-gray-900 bg-gray-900 text-white":"border-gray-300 bg-white text-gray-700 hover:border-gray-400"}`,children:" ()"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:924,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:896,columnNumber:19},void 0),y.vatType==="percentage"&&e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"   (%)"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:956,columnNumber:23},void 0),e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV("input",{type:"number",value:y.vatPercentage,onChange:async V=>{const _=Number(V.target.value),me={...y,vatPercentage:_};M(me);try{await i(y.id,me);const xe=d.map(Me=>Me.id===y.id?me:Me);p(xe)}catch(xe){console.error("Failed to update VAT percentage:",xe),P.error("   ")}},className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-gray-600 focus:border-transparent",placeholder:"100",min:"0",max:"100"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:960,columnNumber:25},void 0),e.jsxDEV("div",{className:"text-xs text-gray-600",children:e.jsxDEV("p",{children:[": ",R(y).toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:987,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:986,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:959,columnNumber:23},void 0),e.jsxDEV("p",{className:"mt-2 text-xs text-gray-500",children:"0%:   | 100%:     | 50%:   "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:990,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:955,columnNumber:21},void 0),y.vatType==="amount"&&e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"   ()"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:999,columnNumber:23},void 0),e.jsxDEV("input",{type:"number",value:y.vatAmount,onChange:async V=>{const _=Number(V.target.value),me={...y,vatAmount:_};M(me);try{await i(y.id,me);const xe=d.map(Me=>Me.id===y.id?me:Me);p(xe)}catch(xe){console.error("Failed to update VAT amount:",xe),P.error("   ")}},className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-gray-600 focus:border-transparent",placeholder:"5000000",min:"0"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1002,columnNumber:23},void 0),e.jsxDEV("p",{className:"mt-2 text-xs text-gray-500",children:"    "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1027,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:998,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:890,columnNumber:17},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxDEV("div",{className:"p-4 bg-gray-50 rounded-lg",children:[e.jsxDEV("p",{className:"text-xs text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1036,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-lg font-bold text-gray-800",children:["",pe(y).toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1037,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1035,columnNumber:19},void 0),e.jsxDEV("div",{className:"p-4 bg-gray-50 rounded-lg",children:[e.jsxDEV("p",{className:"text-xs text-gray-700 mb-1",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1042,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-lg font-bold text-gray-800",children:["",Z(y.project).toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1043,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1041,columnNumber:19},void 0),e.jsxDEV("div",{className:"p-4 bg-gray-50 rounded-lg",children:[e.jsxDEV("p",{className:"text-xs text-gray-700 mb-1",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1048,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-lg font-bold text-gray-800",children:["",A(y.project).toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1049,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1047,columnNumber:19},void 0),e.jsxDEV("div",{className:"p-4 bg-gray-50 rounded-lg",children:[e.jsxDEV("p",{className:"text-xs text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1054,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-lg font-bold text-gray-800",children:["",He(y).toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1055,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1053,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1034,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:846,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-4",children:[e.jsxDEV("h3",{className:"text-lg font-semibold",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1065,columnNumber:19},void 0),e.jsxDEV("button",{onClick:Ce,className:"btn btn-primary btn-sm",children:"+  "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1066,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1064,columnNumber:17},void 0),e.jsxDEV("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:e.jsxDEV("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsxDEV("thead",{className:"bg-gray-50",children:e.jsxDEV("tr",{children:[e.jsxDEV("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1075,columnNumber:25},void 0),e.jsxDEV("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1076,columnNumber:25},void 0),e.jsxDEV("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1077,columnNumber:25},void 0),e.jsxDEV("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1078,columnNumber:25},void 0),e.jsxDEV("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1079,columnNumber:25},void 0),e.jsxDEV("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1080,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1074,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1073,columnNumber:21},void 0),e.jsxDEV("tbody",{className:"bg-white divide-y divide-gray-200",children:y.payments.map((V,_)=>e.jsxDEV("tr",{className:"hover:bg-gray-50",children:[e.jsxDEV("td",{className:"px-4 py-3",children:e.jsxDEV("span",{className:"px-2 py-1 text-xs font-medium bg-gray-100 text-gray-800 rounded",children:V.type||""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1087,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1086,columnNumber:27},void 0),e.jsxDEV("td",{className:"px-4 py-3 font-medium text-gray-900",children:["",V.amount.toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1091,columnNumber:27},void 0),e.jsxDEV("td",{className:"px-4 py-3 text-sm text-gray-900",children:Ae(V.date,"yyyy MM dd")},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1094,columnNumber:27},void 0),e.jsxDEV("td",{className:"px-4 py-3 text-sm text-gray-900",children:V.method},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1097,columnNumber:27},void 0),e.jsxDEV("td",{className:"px-4 py-3 text-sm text-gray-600",children:V.notes||"-"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1100,columnNumber:27},void 0),e.jsxDEV("td",{className:"px-4 py-3 text-center",children:e.jsxDEV("button",{onClick:()=>Re(_),className:"text-gray-600 hover:text-gray-700 transition-colors",children:e.jsxDEV(qr,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1108,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1104,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1103,columnNumber:27},void 0)]},_,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1085,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1083,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1072,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1071,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1063,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:749,columnNumber:13},void 0),e.jsxDEV("div",{className:"p-6 border-t flex justify-between",children:[e.jsxDEV("button",{onClick:async()=>{if(y&&window.confirm(`   ?
    .`))try{await a(y.id),P.success(" "),M(null)}catch(V){console.error("Failed to delete construction payment:",V),P.error(" ")}},className:"btn btn-outline text-red-600 hover:bg-red-50 hover:border-red-300",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1120,columnNumber:15},void 0),e.jsxDEV("button",{onClick:()=>M(null),className:"btn btn-outline",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1141,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1119,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:736,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:735,columnNumber:9},void 0),se&&e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:e.jsxDEV("div",{className:"bg-white rounded-lg max-w-md w-full",children:[e.jsxDEV("div",{className:"p-6 border-b",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("h2",{className:"text-xl font-semibold",children:"  "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1158,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>re(!1),className:"p-2 hover:bg-gray-100 rounded-lg",children:e.jsxDEV(dt,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1163,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1159,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1157,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1156,columnNumber:13},void 0),e.jsxDEV("div",{className:"p-6 space-y-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1170,columnNumber:17},void 0),e.jsxDEV("select",{value:Q.projectId,onChange:V=>he({...Q,projectId:V.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-600 focus:border-transparent",children:[e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1178,columnNumber:19},void 0),s.map(V=>e.jsxDEV("option",{value:V.id,children:[V.name," - ",V.client]},V.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1180,columnNumber:21},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1173,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1169,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1188,columnNumber:17},void 0),e.jsxDEV("input",{type:"number",value:Q.totalAmount||"",onChange:V=>he({...Q,totalAmount:Number(V.target.value)}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-600 focus:border-transparent",placeholder:"50000000"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1191,columnNumber:17},void 0),e.jsxDEV("p",{className:"mt-1 text-xs text-gray-500",children:"  ( )"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1198,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1187,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"   *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1202,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex gap-2 mb-3",children:[e.jsxDEV("button",{type:"button",onClick:()=>he({...Q,vatType:"percentage"}),className:`flex-1 px-3 py-2 text-sm border rounded-lg font-medium transition-colors ${Q.vatType==="percentage"?"border-gray-900 bg-gray-900 text-white":"border-gray-300 bg-white text-gray-700 hover:border-gray-400"}`,children:" (%)"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1208,columnNumber:19},void 0),e.jsxDEV("button",{type:"button",onClick:()=>he({...Q,vatType:"amount"}),className:`flex-1 px-3 py-2 text-sm border rounded-lg font-medium transition-colors ${Q.vatType==="amount"?"border-gray-900 bg-gray-900 text-white":"border-gray-300 bg-white text-gray-700 hover:border-gray-400"}`,children:" ()"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1219,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1207,columnNumber:17},void 0),Q.vatType==="percentage"&&e.jsxDEV("div",{children:[e.jsxDEV("input",{type:"number",value:Q.vatPercentage??100,onChange:V=>{const _=V.target.value===""?100:Number(V.target.value);he({...Q,vatPercentage:_})},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-600 focus:border-transparent",placeholder:"100",min:"0",max:"100"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1235,columnNumber:21},void 0),e.jsxDEV("p",{className:"mt-1 text-xs text-gray-500",children:"0%:   | 100%:     | 50%:   "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1247,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1234,columnNumber:19},void 0),Q.vatType==="amount"&&e.jsxDEV("div",{children:[e.jsxDEV("input",{type:"number",value:Q.vatAmount??0,onChange:V=>{const _=V.target.value===""?0:Number(V.target.value);he({...Q,vatAmount:_})},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-600 focus:border-transparent",placeholder:"5000000",min:"0"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1256,columnNumber:21},void 0),e.jsxDEV("p",{className:"mt-1 text-xs text-gray-500",children:"    "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1267,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1255,columnNumber:19},void 0),Q.totalAmount>0&&e.jsxDEV("div",{className:"mt-2 p-3 bg-gray-50 border border-gray-200 rounded-lg",children:[e.jsxDEV("p",{className:"text-xs text-gray-700 mb-1",children:"  ( )"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1276,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-xl font-bold text-gray-900",children:["",(Q.totalAmount+(Q.vatType==="percentage"?Q.totalAmount*((Q.vatPercentage??100)/100)*.1:Q.vatAmount??0)).toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1277,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-xs text-gray-600 mt-1",children:["=  ",Q.totalAmount.toLocaleString()," +  ",(Q.vatType==="percentage"?Q.totalAmount*((Q.vatPercentage??100)/100)*.1:Q.vatAmount??0).toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1282,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1275,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1201,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1168,columnNumber:13},void 0),e.jsxDEV("div",{className:"p-6 border-t flex justify-end space-x-3",children:[e.jsxDEV("button",{onClick:()=>re(!1),className:"btn btn-outline",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1293,columnNumber:15},void 0),e.jsxDEV("button",{onClick:Ue,className:"btn btn-primary",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1299,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1292,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1155,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1154,columnNumber:9},void 0),w&&e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:e.jsxDEV("div",{className:"bg-white rounded-lg max-w-md w-full",children:[e.jsxDEV("div",{className:"p-6 border-b",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("h2",{className:"text-xl font-semibold",children:ie!==null?" ":" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1316,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>{O(!1),de(null)},className:"p-2 hover:bg-gray-100 rounded-lg",children:e.jsxDEV(dt,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1326,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1319,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1315,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1314,columnNumber:13},void 0),e.jsxDEV("div",{className:"p-6 space-y-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" * (  )"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1334,columnNumber:17},void 0),e.jsxDEV("div",{className:"space-y-2",children:["","","","",""].map(V=>{const _=je[V];return e.jsxDEV("label",{className:"flex items-center space-x-3 cursor-pointer",children:[e.jsxDEV("input",{type:"checkbox",checked:Ne.types.includes(V),onChange:me=>{let xe;me.target.checked?xe=[...Ne.types,V]:xe=Ne.types.filter($=>$!==V);const Me=Be(xe),Fe=fe(Me),B=Xe(xe);Ve({...Ne,types:xe,percentage:Me,amount:Fe,date:B||Ne.date})},className:"w-4 h-4 text-gray-900 border-gray-300 rounded focus:ring-gray-600"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1342,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-sm text-gray-900",children:[V,e.jsxDEV("span",{className:"text-xs text-gray-500 ml-2",children:["(",_,"%)"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1372,columnNumber:27},void 0),V===""&&e.jsxDEV("span",{className:"text-xs text-gray-400 ml-1",children:"(  )"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1373,columnNumber:46},void 0),V===""&&e.jsxDEV("span",{className:"text-xs text-gray-400 ml-1",children:"(  1 )"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1374,columnNumber:46},void 0),V===""&&e.jsxDEV("span",{className:"text-xs text-gray-400 ml-1",children:"( )"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1375,columnNumber:46},void 0),V===""&&e.jsxDEV("span",{className:"text-xs text-gray-400 ml-1",children:"( )"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1376,columnNumber:45},void 0),V===""&&e.jsxDEV("span",{className:"text-xs text-gray-400 ml-1",children:"( )"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1377,columnNumber:46},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1370,columnNumber:25},void 0)]},V,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1341,columnNumber:23},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1337,columnNumber:17},void 0),Ne.types.length>0&&e.jsxDEV("div",{className:"mt-2 p-2 bg-gray-50 border border-gray-200 rounded",children:e.jsxDEV("p",{className:"text-xs text-gray-700",children:[" : ",Ne.types.join(" + ")," =  ",Ne.percentage,"%"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1385,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1384,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1333,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1394,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex gap-3",children:[e.jsxDEV("button",{type:"button",onClick:()=>Ve({...Ne,method:""}),className:`flex-1 px-4 py-3 border-2 rounded-lg font-medium transition-colors ${Ne.method===""?"border-gray-900 bg-gray-900 text-white":"border-gray-300 bg-white text-gray-700 hover:border-gray-400"}`,children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1398,columnNumber:19},void 0),e.jsxDEV("button",{type:"button",onClick:()=>Ve({...Ne,method:""}),className:`flex-1 px-4 py-3 border-2 rounded-lg font-medium transition-colors ${Ne.method===""?"border-gray-900 bg-gray-900 text-white":"border-gray-300 bg-white text-gray-700 hover:border-gray-400"}`,children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1409,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1397,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1393,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"   (%)"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1425,columnNumber:17},void 0),e.jsxDEV("input",{type:"number",value:Ne.percentage||"",onChange:V=>{const _=Number(V.target.value),me=fe(_);Ve({...Ne,percentage:_,amount:me})},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-600 focus:border-transparent",placeholder:"10",min:"0",max:"100"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1428,columnNumber:17},void 0),y&&Ne.percentage>0&&e.jsxDEV("div",{className:"mt-2 p-3 bg-gray-50 border border-gray-200 rounded-lg",children:[e.jsxDEV("p",{className:"text-xs text-gray-700 mb-1",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1447,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-xs text-gray-900",children:[" ( ",y.vatPercentage,"% ) ",Te(y).toLocaleString(),"  ",Ne.percentage,"%"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1448,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-sm font-bold text-gray-900 mt-1",children:["= ",fe(Ne.percentage).toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1451,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1446,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1424,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1460,columnNumber:17},void 0),e.jsxDEV("div",{className:"relative",children:[e.jsxDEV("input",{type:"number",value:Ne.amount||"",onChange:V=>Ve({...Ne,amount:Number(V.target.value)}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-600 focus:border-transparent",placeholder:"5000000",min:"0"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1464,columnNumber:19},void 0),e.jsxDEV("p",{className:"mt-1 text-xs text-gray-500",children:Ne.percentage>0?"       ":"   "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1472,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1463,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1459,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1482,columnNumber:17},void 0),e.jsxDEV("input",{type:"date",value:Ne.date,onChange:V=>Ve({...Ne,date:V.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-600 focus:border-transparent"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1485,columnNumber:17},void 0),e.jsxDEV("p",{className:"mt-1 text-xs text-gray-500",children:"     ,   "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1491,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1481,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1498,columnNumber:17},void 0),e.jsxDEV("textarea",{value:Ne.notes,onChange:V=>Ve({...Ne,notes:V.target.value}),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-600 focus:border-transparent",placeholder:"  "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1501,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1497,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1331,columnNumber:13},void 0),e.jsxDEV("div",{className:"p-6 border-t flex justify-between",children:[e.jsxDEV("div",{children:ie!==null&&e.jsxDEV("button",{onClick:async()=>{if(y&&window.confirm("   ?"))try{const V=y.payments.filter((xe,Me)=>Me!==ie),_={...y,payments:V};await i(y.id,{payments:V}),M(_);const me=d.map(xe=>xe.id===y.id?_:xe);p(me),O(!1),de(null),P.success("  ")}catch(V){console.error("Failed to delete payment:",V),P.error(" ")}},className:"btn btn-outline text-red-600 hover:bg-red-50 hover:border-red-300",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1514,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1512,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex space-x-3",children:[e.jsxDEV("button",{onClick:()=>{O(!1),de(null)},className:"btn btn-outline",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1560,columnNumber:17},void 0),e.jsxDEV("button",{onClick:We,className:"btn btn-primary",children:ie!==null?"":""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1569,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1559,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1511,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1313,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1312,columnNumber:9},void 0),b&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV("style",{children:`
            @media print {
              * {
                -webkit-print-color-adjust: exact !important;
                print-color-adjust: exact !important;
                color-adjust: exact !important;
              }
              /*       */
              img[alt=""] {
                display: inline-block !important;
                visibility: visible !important;
                opacity: 0.8 !important;
                -webkit-print-color-adjust: exact !important;
                print-color-adjust: exact !important;
              }
            }
            @page {
              size: A4;
              margin: 20mm;
            }
          `},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1584,columnNumber:9},void 0),e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4 print:bg-white print:relative print:p-0",children:e.jsxDEV("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto print:shadow-none print:max-w-none print:max-h-none",children:e.jsxDEV("div",{className:"p-6 print:p-8",children:[e.jsxDEV("div",{className:"flex items-center justify-end mb-6 print:hidden",children:e.jsxDEV("button",{onClick:()=>x(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsxDEV(dt,{className:"w-5 h-5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1615,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1611,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1610,columnNumber:15},void 0),e.jsxDEV("div",{className:"space-y-6 print:space-y-0",children:[e.jsxDEV("div",{className:"border border-black p-8 bg-white print:border print:p-12",children:[e.jsxDEV("div",{className:"p-3 mb-8",children:e.jsxDEV("h3",{className:"text-center text-2xl font-bold",children:j==="cash"?"":""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1624,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1623,columnNumber:19},void 0),e.jsxDEV("table",{className:"w-full mb-8 border-collapse",children:[e.jsxDEV("colgroup",{children:[e.jsxDEV("col",{style:{width:"30%"}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1632,columnNumber:23},void 0),e.jsxDEV("col",{style:{width:"70%"}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1633,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1631,columnNumber:21},void 0),e.jsxDEV("tbody",{children:[e.jsxDEV("tr",{className:"border border-black",children:[e.jsxDEV("td",{className:"border-r border-black py-3 px-4 bg-white font-medium whitespace-nowrap",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1637,columnNumber:25},void 0),e.jsxDEV("td",{className:"py-3 px-4 print:py-3 text-center",children:[e.jsxDEV("span",{className:"print:hidden",children:L.project},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1639,columnNumber:27},void 0),e.jsxDEV("input",{type:"text",value:L.project,className:"hidden print:block w-full bg-transparent border-none outline-none p-0 text-center",readOnly:!0},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1640,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1638,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1636,columnNumber:23},void 0),e.jsxDEV("tr",{className:"border border-t-0 border-black",children:[e.jsxDEV("td",{className:"border-r border-black py-3 px-4 bg-white font-medium whitespace-nowrap",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1649,columnNumber:25},void 0),e.jsxDEV("td",{className:"py-3 px-4 text-center",children:L.startDate&&L.endDate?e.jsxDEV("span",{children:[Ae(new Date(L.startDate),"yyyy.MM.dd")," ~ ",Ae(new Date(L.endDate),"yyyy.MM.dd")]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1652,columnNumber:29},void 0):e.jsxDEV("span",{className:"text-gray-400 print:hidden",children:"-"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1654,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1650,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1648,columnNumber:23},void 0),e.jsxDEV("tr",{className:"border border-t-0 border-black",children:[e.jsxDEV("td",{className:"border-r border-black py-3 px-4 bg-white font-medium whitespace-nowrap",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1659,columnNumber:25},void 0),e.jsxDEV("td",{className:"py-3 px-4 text-right pr-4",children:[e.jsxDEV("span",{className:"print:hidden flex items-center justify-end gap-1",children:[e.jsxDEV("input",{type:"text",value:L.totalContractAmount.toLocaleString(),onChange:V=>{const _=V.target.value.replace(/[^0-9]/g,""),me=_?parseInt(_):0;I({...L,totalContractAmount:me})},placeholder:" ",className:"w-full text-right border border-gray-300 rounded px-2 py-1"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1662,columnNumber:29},void 0),e.jsxDEV("span",{children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1673,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1661,columnNumber:27},void 0),e.jsxDEV("span",{className:"hidden print:inline",children:[L.totalContractAmount.toLocaleString()," "]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1675,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1660,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1658,columnNumber:23},void 0),e.jsxDEV("tr",{className:"border border-t-0 border-black",children:[e.jsxDEV("td",{className:"border-r border-black py-3 px-4 bg-white font-medium whitespace-nowrap",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1679,columnNumber:25},void 0),e.jsxDEV("td",{className:"py-3 px-4 text-right pr-4",children:[e.jsxDEV("span",{className:"print:hidden flex items-center justify-end gap-1",children:[e.jsxDEV("input",{type:"text",value:L.previousAmount.toLocaleString(),onChange:V=>{const _=V.target.value.replace(/[^0-9]/g,""),me=_?parseInt(_):0;I({...L,previousAmount:me})},placeholder:" ",className:"w-full text-right border border-gray-300 rounded px-2 py-1"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1682,columnNumber:29},void 0),e.jsxDEV("span",{children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1693,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1681,columnNumber:27},void 0),e.jsxDEV("span",{className:"hidden print:inline",children:[L.previousAmount.toLocaleString()," "]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1695,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1680,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1678,columnNumber:23},void 0),e.jsxDEV("tr",{className:"border border-t-0 border-black",children:[e.jsxDEV("td",{className:"border-r border-black py-3 px-4 bg-white font-medium whitespace-nowrap",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1699,columnNumber:25},void 0),e.jsxDEV("td",{className:"py-3 px-4 text-right pr-4",children:[e.jsxDEV("span",{className:"print:hidden flex items-center justify-end gap-1",children:[e.jsxDEV("input",{type:"text",value:L.amount,onChange:V=>{const _=V.target.value.replace(/[^0-9]/g,""),me=_?parseInt(_).toLocaleString():"";I({...L,amount:me})},placeholder:" ",className:"w-full text-right border border-gray-300 rounded px-2 py-1"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1702,columnNumber:29},void 0),e.jsxDEV("span",{children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1713,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1701,columnNumber:27},void 0),e.jsxDEV("span",{className:"hidden print:inline",children:[L.amount," "]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1715,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1700,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1698,columnNumber:23},void 0),e.jsxDEV("tr",{className:"border border-t-0 border-black",children:[e.jsxDEV("td",{className:"border-r border-black py-3 px-4 bg-white font-medium whitespace-nowrap",children:[" ",e.jsxDEV("span",{className:"text-xs",children:"( )"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1720,columnNumber:32},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1719,columnNumber:25},void 0),e.jsxDEV("td",{className:"py-3 px-4 text-right pr-4",children:[e.jsxDEV("span",{className:"print:hidden flex items-center justify-end gap-1",children:[e.jsxDEV("input",{type:"text",value:L.remainingAmount.toLocaleString(),onChange:V=>{const _=V.target.value.replace(/[^0-9]/g,""),me=_?parseInt(_):0;I({...L,remainingAmount:me})},placeholder:" ",className:"w-full text-right border border-gray-300 rounded px-2 py-1"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1724,columnNumber:29},void 0),e.jsxDEV("span",{children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1735,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1723,columnNumber:27},void 0),e.jsxDEV("span",{className:"hidden print:inline",children:[L.remainingAmount.toLocaleString()," "]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1737,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1722,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1718,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1635,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1630,columnNumber:19},void 0),e.jsxDEV("div",{className:"text-center mb-12",children:e.jsxDEV("p",{className:"text-base",children:["* ",j==="cash"?"      .":"      ."]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1745,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1744,columnNumber:19},void 0),e.jsxDEV("div",{className:"text-center mb-12",children:e.jsxDEV("p",{className:"text-base",children:[e.jsxDEV("span",{className:"print:hidden",children:e.jsxDEV("input",{type:"date",value:L.date,onChange:V=>I({...L,date:V.target.value}),className:"border border-gray-300 rounded px-2 py-1"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1756,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1755,columnNumber:23},void 0),e.jsxDEV("span",{className:"hidden print:inline",children:Ae(new Date(L.date),"yyyy MM dd")},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1763,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1754,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1753,columnNumber:19},void 0),e.jsxDEV("div",{className:"space-y-8",children:[e.jsxDEV("div",{className:"grid grid-cols-4 items-center border-b border-gray-300 pb-2",children:[e.jsxDEV("span",{className:"font-medium",children:"[]"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1770,columnNumber:23},void 0),e.jsxDEV("span",{children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1771,columnNumber:23},void 0),e.jsxDEV("span",{className:"text-xl font-bold text-right pr-4",children:"  "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1772,columnNumber:23},void 0),e.jsxDEV("div",{className:"flex items-center justify-end gap-1",children:[e.jsxDEV("span",{className:"text-sm",style:{marginRight:"20px"},children:"()"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1774,columnNumber:25},void 0),e.jsxDEV("img",{src:vb,alt:"",style:{display:"inline-block",width:"56px",height:"56px",marginLeft:"-45px",marginRight:"10px",opacity:.8,printColorAdjust:"exact",WebkitPrintColorAdjust:"exact",colorAdjust:"exact"}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1776,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1773,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1769,columnNumber:21},void 0),e.jsxDEV("div",{className:"grid grid-cols-4 items-center border-b border-gray-300 pb-2",children:[e.jsxDEV("span",{className:"font-medium",children:"[]"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1794,columnNumber:23},void 0),e.jsxDEV("span",{children:L.project.split("_")[0]},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1795,columnNumber:23},void 0),e.jsxDEV("span",{className:"text-xl text-right pr-4",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1796,columnNumber:23},void 0),e.jsxDEV("div",{className:"flex items-center justify-end gap-1",children:[e.jsxDEV("span",{className:"text-sm",style:{marginRight:"20px"},children:"()"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1798,columnNumber:25},void 0),e.jsxDEV("div",{style:{display:"inline-block",width:"56px",height:"56px",marginLeft:"-45px",marginRight:"10px",visibility:"hidden"}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1800,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1797,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1793,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1768,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1621,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex gap-3 print:hidden",children:[e.jsxDEV("button",{onClick:()=>{if(!L.amount){P.error(" ");return}window.print(),P.success(" ")},className:"flex-1 px-4 py-3 bg-gray-800 text-white font-medium rounded-lg hover:bg-gray-900 transition-colors",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1817,columnNumber:19},void 0),e.jsxDEV("button",{onClick:()=>x(!1),className:"px-4 py-3 bg-gray-200 text-gray-700 font-medium rounded-lg hover:bg-gray-300 transition-colors",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1832,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1816,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1619,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1609,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1608,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1607,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1583,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:526,columnNumber:5},void 0)};function Vb(){const[s,n]=l.useState([]),[t,r]=l.useState(!0),[i,a]=l.useState(null),[o,m]=l.useState(!1),[d,p]=l.useState(null),[f,u]=l.useState(""),[b,x]=l.useState({rank:"",companyName:"",name:"",position:"",process:"",contact:"",bankName:"",accountNumber:"",notes:""});l.useEffect(()=>{j()},[]),l.useEffect(()=>{const w=()=>{h()};return window.addEventListener("headerAddButtonClick",w),()=>window.removeEventListener("headerAddButtonClick",w)},[]);const j=async()=>{var w,O;try{r(!0),a(null);const ie=await Rs.getAllContractors();n(ie.map(de=>({id:de._id,rank:de.rank,companyName:de.companyName,name:de.name,position:de.position,process:de.process,contact:de.contact,accountNumber:de.accountNumber,notes:de.notes,createdAt:new Date(de.createdAt),updatedAt:new Date(de.updatedAt)})))}catch(ie){console.error("Failed to load contractors:",ie);const de=ie instanceof Error&&((O=(w=ie.response)==null?void 0:w.data)==null?void 0:O.message);a(de||"   .")}finally{r(!1)}},h=w=>{if(w){p(w);let O="",ie=w.accountNumber||"";if(w.accountNumber){const ve=["KB","","","","NH","IBK","KEB","SC","","","","","","","","","","","","","","","","","NH","","","","","KB","",""];for(const Q of ve)if(w.accountNumber.startsWith(Q)){O=Q,ie=w.accountNumber.substring(Q.length).trim();break}}let de=w.name,ue=w.position||"";ue||(ue=yr(w.name),de=Yn(w.name)),x({rank:w.rank||"",companyName:w.companyName||"",name:de,position:ue,process:w.process,contact:w.contact||"",bankName:O,accountNumber:ie,notes:w.notes||""})}else p(null),x({rank:"",companyName:"",name:"",position:"",process:"",contact:"",bankName:"",accountNumber:"",notes:""});m(!0)},L=()=>{m(!1),p(null),x({rank:"",companyName:"",name:"",position:"",process:"",contact:"",bankName:"",accountNumber:"",notes:""})},I=async w=>{var ie,de;w.preventDefault();const O=b.bankName&&b.accountNumber?`${b.bankName} ${b.accountNumber}`:b.accountNumber;try{const ue={rank:b.rank,companyName:b.companyName,name:b.name,position:b.position,process:b.process,contact:b.contact,accountNumber:O,notes:b.notes};d?await Rs.updateContractor(d.id,ue):await Rs.createContractor(ue),await j(),L()}catch(ue){console.error("Failed to save contractor:",ue);const ve=ue instanceof Error&&((de=(ie=ue.response)==null?void 0:ie.data)==null?void 0:de.message);alert(ve||"  .")}},y=async w=>{var O,ie;if(window.confirm("   ?"))try{await Rs.deleteContractor(w),await j()}catch(de){console.error("Failed to delete contractor:",de);const ue=de instanceof Error&&((ie=(O=de.response)==null?void 0:O.data)==null?void 0:ie.message);alert(ue||"  .")}},M=()=>"border-gray-200 text-gray-600 bg-gray-50",se=w=>w?w==="1"?1:w==="1()"?2:w==="2"?3:w==="2()"?4:w==="3"?5:w==="3()"?6:w===""?100:w===""?200:999:999,re=s.filter(w=>w.name.toLowerCase().includes(f.toLowerCase())||w.process.toLowerCase().includes(f.toLowerCase())||w.accountNumber.toLowerCase().includes(f.toLowerCase())||w.contact&&w.contact.toLowerCase().includes(f.toLowerCase())||w.rank&&w.rank.toLowerCase().includes(f.toLowerCase())||w.companyName&&w.companyName.toLowerCase().includes(f.toLowerCase())).sort((w,O)=>{const ie=se(w.rank)-se(O.rank);if(ie!==0)return ie;const de=w.process.localeCompare(O.process,"ko");return de!==0?de:w.name.localeCompare(O.name,"ko")});return e.jsxDEV("div",{className:"space-y-3 md:space-y-4",children:[e.jsxDEV("div",{className:"flex items-center justify-end",children:e.jsxDEV("button",{onClick:()=>h(),className:"hidden md:inline-flex btn btn-primary px-3 md:px-4 py-2",children:"+  "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:282,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:281,columnNumber:7},this),e.jsxDEV("div",{className:"relative",children:[e.jsxDEV(Wr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4 md:w-5 md:h-5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:292,columnNumber:9},this),e.jsxDEV("input",{type:"text",placeholder:", ,  ...",value:f,onChange:w=>u(w.target.value),className:"w-full pl-9 md:pl-10 pr-4 py-2 text-sm md:text-base border border-gray-200 rounded-lg focus:ring-2 focus:ring-gray-400 focus:border-transparent"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:293,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:291,columnNumber:7},this),e.jsxDEV("div",{className:"contractors-table hidden md:block bg-white rounded-lg border border-gray-200 overflow-hidden",children:e.jsxDEV("div",{className:"overflow-x-auto",children:e.jsxDEV("table",{className:"w-full",children:[e.jsxDEV("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxDEV("tr",{children:[e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:308,columnNumber:17},this),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:311,columnNumber:17},this),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:314,columnNumber:17},this),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:317,columnNumber:17},this),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:320,columnNumber:17},this),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:323,columnNumber:17},this),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:326,columnNumber:17},this),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:329,columnNumber:17},this),e.jsxDEV("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:332,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:307,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:306,columnNumber:13},this),e.jsxDEV("tbody",{className:"bg-white divide-y divide-gray-200",children:t?e.jsxDEV("tr",{children:e.jsxDEV("td",{colSpan:9,className:"px-6 py-12 text-center",children:e.jsxDEV("p",{className:"text-gray-500",children:" ..."},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:341,columnNumber:21},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:340,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:339,columnNumber:17},this):i?e.jsxDEV("tr",{children:e.jsxDEV("td",{colSpan:9,className:"px-6 py-12 text-center",children:e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("p",{className:"text-red-500",children:i},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:348,columnNumber:23},this),e.jsxDEV("button",{onClick:j,className:"inline-block px-6 py-3 bg-gray-900 text-white rounded-lg hover:bg-gray-800 transition-colors",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:349,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:347,columnNumber:21},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:346,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:345,columnNumber:17},this):re.length===0?e.jsxDEV("tr",{children:e.jsxDEV("td",{colSpan:9,className:"px-6 py-12 text-center",children:e.jsxDEV("p",{className:"text-gray-500",children:f?"  .":"  ."},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:361,columnNumber:21},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:360,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:359,columnNumber:17},this):re.map(w=>e.jsxDEV("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxDEV("span",{className:`px-2 py-1 text-xs font-medium border rounded ${M(w.rank)}`,children:w.rank||"-"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:370,columnNumber:23},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:369,columnNumber:21},this),e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxDEV("span",{className:"text-xs font-medium text-gray-700",children:w.process},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:375,columnNumber:23},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:374,columnNumber:21},this),e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxDEV("div",{className:"text-sm text-gray-900",children:w.companyName||"-"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:380,columnNumber:23},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:379,columnNumber:21},this),e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxDEV("div",{className:"font-medium text-gray-900",children:Yn(w.name)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:383,columnNumber:23},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:382,columnNumber:21},this),e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxDEV("div",{className:"text-sm text-gray-900",children:w.position||yr(w.name)||"-"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:386,columnNumber:23},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:385,columnNumber:21},this),e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxDEV("div",{className:"text-sm text-gray-900",children:w.contact||"-"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:389,columnNumber:23},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:388,columnNumber:21},this),e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxDEV("div",{className:"text-sm text-gray-900",children:w.accountNumber},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:392,columnNumber:23},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:391,columnNumber:21},this),e.jsxDEV("td",{className:"px-6 py-4",children:e.jsxDEV("div",{className:"text-sm text-gray-500 max-w-xs truncate",children:w.notes||"-"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:395,columnNumber:23},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:394,columnNumber:21},this),e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[e.jsxDEV("button",{onClick:()=>h(w),className:"text-gray-600 hover:text-gray-900 mr-3",children:e.jsxDEV(Gn,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:404,columnNumber:25},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:400,columnNumber:23},this),e.jsxDEV("button",{onClick:()=>y(w.id),className:"text-red-600 hover:text-red-900",children:e.jsxDEV(Dt,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:410,columnNumber:25},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:406,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:399,columnNumber:21},this)]},w.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:368,columnNumber:19},this))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:337,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:305,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:304,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:303,columnNumber:7},this),e.jsxDEV("div",{className:"md:hidden space-y-3",children:t?e.jsxDEV("div",{className:"text-center py-12 text-gray-500 text-sm",children:" ..."},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:424,columnNumber:11},this):i?e.jsxDEV("div",{className:"text-center py-12 space-y-4",children:[e.jsxDEV("p",{className:"text-red-500 text-sm",children:i},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:427,columnNumber:13},this),e.jsxDEV("button",{onClick:j,className:"inline-block px-4 py-2 bg-gray-900 text-white rounded-lg hover:bg-gray-800 transition-colors text-sm",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:428,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:426,columnNumber:11},this):re.length===0?e.jsxDEV("div",{className:"text-center py-12 text-gray-500 text-sm",children:f?"  .":"  ."},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:436,columnNumber:11},this):re.map(w=>e.jsxDEV("div",{className:"card p-3 space-y-2",children:[e.jsxDEV("div",{className:"flex items-start justify-between mb-2",children:[e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("div",{className:"flex items-center gap-2 mb-1",children:[w.rank&&e.jsxDEV("span",{className:`px-1.5 py-0.5 text-[10px] font-medium border rounded ${M(w.rank)}`,children:w.rank},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:447,columnNumber:23},this),e.jsxDEV("span",{className:"px-1.5 py-0.5 text-[10px] font-medium text-gray-700 bg-gray-100 rounded",children:w.process},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:451,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:445,columnNumber:19},this),w.companyName&&e.jsxDEV("p",{className:"text-xs text-gray-600 mb-0.5",children:w.companyName},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:456,columnNumber:21},this),e.jsxDEV("p",{className:"font-semibold text-gray-900 text-sm",children:Yn(w.name)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:458,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:444,columnNumber:17},this),e.jsxDEV("div",{className:"flex items-center gap-2 ml-2",children:[e.jsxDEV("button",{onClick:()=>h(w),className:"p-1.5 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded",children:e.jsxDEV(Gn,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:465,columnNumber:21},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:461,columnNumber:19},this),e.jsxDEV("button",{onClick:()=>y(w.id),className:"p-1.5 text-red-600 hover:text-red-900 hover:bg-red-50 rounded",children:e.jsxDEV(Dt,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:471,columnNumber:21},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:467,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:460,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:443,columnNumber:15},this),e.jsxDEV("div",{className:"space-y-1 text-xs",children:[(w.position||yr(w.name))&&e.jsxDEV("div",{className:"flex items-start",children:[e.jsxDEV("span",{className:"text-gray-500 w-14 flex-shrink-0",children:":"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:480,columnNumber:21},this),e.jsxDEV("span",{className:"text-gray-900",children:w.position||yr(w.name)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:481,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:479,columnNumber:19},this),w.contact&&e.jsxDEV("div",{className:"flex items-start",children:[e.jsxDEV("span",{className:"text-gray-500 w-14 flex-shrink-0",children:":"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:486,columnNumber:21},this),e.jsxDEV("span",{className:"text-gray-900",children:w.contact},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:487,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:485,columnNumber:19},this),e.jsxDEV("div",{className:"flex items-start",children:[e.jsxDEV("span",{className:"text-gray-500 w-14 flex-shrink-0",children:":"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:491,columnNumber:19},this),e.jsxDEV("span",{className:"text-gray-900 break-all",children:w.accountNumber},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:492,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:490,columnNumber:17},this),w.notes&&e.jsxDEV("div",{className:"flex items-start",children:[e.jsxDEV("span",{className:"text-gray-500 w-14 flex-shrink-0",children:":"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:496,columnNumber:21},this),e.jsxDEV("span",{className:"text-gray-600",children:w.notes},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:497,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:495,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:477,columnNumber:15},this)]},w.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:441,columnNumber:13},this))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:422,columnNumber:7},this),o&&e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxDEV("div",{className:"bg-white rounded-lg max-w-md w-full max-h-[90vh] overflow-y-auto",children:e.jsxDEV("div",{className:"p-6",children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-6",children:[e.jsxDEV("h2",{className:"text-xl font-bold text-gray-900",children:d?" ":"  "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:512,columnNumber:17},this),e.jsxDEV("button",{onClick:L,className:"text-gray-400 hover:text-gray-600",children:e.jsxDEV(dt,{className:"w-6 h-6"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:519,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:515,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:511,columnNumber:15},this),e.jsxDEV("form",{onSubmit:I,className:"space-y-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:525,columnNumber:19},this),e.jsxDEV("select",{value:b.rank,onChange:w=>x({...b,rank:w.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-400 focus:border-transparent",children:[e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:533,columnNumber:21},this),e.jsxDEV("option",{value:"1",children:"1"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:534,columnNumber:21},this),e.jsxDEV("option",{value:"2",children:"2"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:535,columnNumber:21},this),e.jsxDEV("option",{value:"3",children:"3"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:536,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:528,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:524,columnNumber:17},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:541,columnNumber:19},this),e.jsxDEV("input",{type:"text",value:b.companyName,onChange:w=>x({...b,companyName:w.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-400 focus:border-transparent"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:544,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:540,columnNumber:17},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[" ",e.jsxDEV("span",{className:"text-red-500",children:"*"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:554,columnNumber:24},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:553,columnNumber:19},this),e.jsxDEV("input",{type:"text",required:!0,value:b.name,onChange:w=>x({...b,name:w.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-400 focus:border-transparent"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:556,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:552,columnNumber:17},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:566,columnNumber:19},this),e.jsxDEV("input",{type:"text",value:b.position,onChange:w=>x({...b,position:w.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-400 focus:border-transparent"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:569,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:565,columnNumber:17},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[" ",e.jsxDEV("span",{className:"text-red-500",children:"*"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:579,columnNumber:24},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:578,columnNumber:19},this),e.jsxDEV("input",{type:"text",required:!0,value:b.process,onChange:w=>x({...b,process:w.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-400 focus:border-transparent"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:581,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:577,columnNumber:17},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:591,columnNumber:19},this),e.jsxDEV("input",{type:"text",value:b.contact,onChange:w=>x({...b,contact:w.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-400 focus:border-transparent"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:594,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:590,columnNumber:17},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:603,columnNumber:19},this),e.jsxDEV("select",{value:b.bankName,onChange:w=>x({...b,bankName:w.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-400 focus:border-transparent",children:[e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:611,columnNumber:21},this),e.jsxDEV("optgroup",{label:"",children:[e.jsxDEV("option",{value:"KB",children:"KB"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:613,columnNumber:23},this),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:614,columnNumber:23},this),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:615,columnNumber:23},this),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:616,columnNumber:23},this),e.jsxDEV("option",{value:"NH",children:"NH"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:617,columnNumber:23},this),e.jsxDEV("option",{value:"IBK",children:"IBK"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:618,columnNumber:23},this),e.jsxDEV("option",{value:"KEB",children:"KEB"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:619,columnNumber:23},this),e.jsxDEV("option",{value:"SC",children:"SC"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:620,columnNumber:23},this),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:621,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:612,columnNumber:21},this),e.jsxDEV("optgroup",{label:"",children:[e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:624,columnNumber:23},this),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:625,columnNumber:23},this),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:626,columnNumber:23},this),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:627,columnNumber:23},this),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:628,columnNumber:23},this),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:629,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:623,columnNumber:21},this),e.jsxDEV("optgroup",{label:"",children:[e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:632,columnNumber:23},this),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:633,columnNumber:23},this),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:634,columnNumber:23},this),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:635,columnNumber:23},this),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:636,columnNumber:23},this),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:637,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:631,columnNumber:21},this),e.jsxDEV("optgroup",{label:"",children:[e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:640,columnNumber:23},this),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:641,columnNumber:23},this),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:642,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:639,columnNumber:21},this),e.jsxDEV("optgroup",{label:"",children:[e.jsxDEV("option",{value:"NH",children:"NH"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:645,columnNumber:23},this),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:646,columnNumber:23},this),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:647,columnNumber:23},this),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:648,columnNumber:23},this),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:649,columnNumber:23},this),e.jsxDEV("option",{value:"KB",children:"KB"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:650,columnNumber:23},this),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:651,columnNumber:23},this),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:652,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:644,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:606,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:602,columnNumber:17},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:658,columnNumber:19},this),e.jsxDEV("input",{type:"text",value:b.accountNumber,onChange:w=>x({...b,accountNumber:w.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-400 focus:border-transparent"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:661,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:657,columnNumber:17},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:670,columnNumber:19},this),e.jsxDEV("textarea",{value:b.notes,onChange:w=>x({...b,notes:w.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-400 focus:border-transparent",rows:3},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:673,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:669,columnNumber:17},this),e.jsxDEV("div",{className:"flex space-x-3 pt-4",children:[e.jsxDEV("button",{type:"button",onClick:L,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:682,columnNumber:19},this),e.jsxDEV("button",{type:"submit",className:"flex-1 px-4 py-2 bg-gray-700 text-white rounded-lg hover:bg-gray-800 transition-colors",children:d?"":""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:689,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:681,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:523,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:510,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:509,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:508,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:279,columnNumber:5},this)}const Nn=["","","","","","","","",""],Cb=()=>{const{addScheduleToAPI:s,deleteScheduleFromAPI:n,updateScheduleInAPI:t,schedules:r,fetchSchedules:i}=ks(),{user:a}=Qt(),o=us(),[m,d]=l.useState([]),[p,f]=l.useState(""),[u,b]=l.useState("pending"),[x,j]=l.useState(null),[h,L]=l.useState(null),I=l.useRef(null),[y,M]=l.useState({project:"",requestType:"",description:"",requestDate:Ae(new Date,"yyyy-MM-dd"),dueDate:Ae(new Date(Date.now()+3*24*60*60*1e3),"yyyy-MM-dd"),requestedBy:(a==null?void 0:a.name)||"",assignedTo:""}),[se,re]=l.useState(""),[w,O]=l.useState(null),[ie,de]=l.useState(!1);l.useEffect(()=>{ue()},[]),l.useEffect(()=>{a!=null&&a.name&&M(R=>{const fe={};return R.requestedBy||(fe.requestedBy=a.name),a.name===""&&!R.project&&o.length>0&&(fe.project=o[0].name),{...R,...fe}})},[a,o]);const ue=async()=>{try{const fe=(await Os.getAllWorkRequests()).map(pe=>({id:pe._id,project:pe.project,requestType:pe.requestType,description:pe.description,requestDate:new Date(pe.requestDate),dueDate:new Date(pe.dueDate),requestedBy:pe.requestedBy,assignedTo:pe.assignedTo,status:pe.status,priority:pe.priority,notes:pe.notes,completedDate:pe.completedDate?new Date(pe.completedDate):void 0}));d(fe)}catch(R){console.error("Failed to load work requests:",R),P.error("  ")}};l.useEffect(()=>{var R,fe;x&&I.current&&((fe=(R=I.current).showPicker)==null||fe.call(R))},[x]),l.useEffect(()=>{const R=()=>{h&&L(null)};if(h)return document.addEventListener("click",R),()=>document.removeEventListener("click",R)},[h]),l.useEffect(()=>{const R=()=>{de(fe=>{const pe=!fe;return window.dispatchEvent(new CustomEvent("mobileFormStateChange",{detail:{isOpen:pe}})),pe})};return window.addEventListener("headerAddButtonClick",R),()=>window.removeEventListener("headerAddButtonClick",R)},[]),l.useEffect(()=>{window.dispatchEvent(new CustomEvent("mobileFormStateChange",{detail:{isOpen:ie}}))},[ie]);const ve=async(R,fe)=>{if(window.confirm(`"${fe}"  ?

    .`))try{const pe=m.find(He=>He.id===R);if(await Os.deleteWorkRequest(R),d(m.filter(He=>He.id!==R)),P.success(" "),pe)try{let He="";pe.project?He=pe.requestType?`[] ${pe.requestType}`:`[] ${pe.description.substring(0,20)}`:He=pe.description;const Z=r.filter(A=>{const ce=A.start&&new Date(A.start).toDateString()===pe.dueDate.toDateString(),V=A.title===He;return ce&&V});for(const A of Z)try{await n(A.id)}catch(ce){console.error("Failed to delete related schedule:",ce)}await i()}catch(He){console.error("Failed to handle related schedules:",He)}}catch(pe){console.error("Failed to delete work request:",pe),P.error("  "),await ue()}},Q=R=>{O(R),M({project:R.project,requestType:R.requestType,description:R.description,requestDate:Ae(R.requestDate,"yyyy-MM-dd"),dueDate:Ae(R.dueDate,"yyyy-MM-dd"),requestedBy:R.requestedBy,assignedTo:R.assignedTo}),de(!0)},he=()=>{O(null),M({project:"",requestType:"",description:"",requestDate:Ae(new Date,"yyyy-MM-dd"),dueDate:Ae(new Date(Date.now()+3*24*60*60*1e3),"yyyy-MM-dd"),requestedBy:(a==null?void 0:a.name)||"",assignedTo:""}),setIsUrgent(!1),re("")},Ne=async R=>{if(R.preventDefault(),!y.requestedBy||!y.assignedTo||!y.requestDate||!y.dueDate){P.error("   ");return}try{const fe=y.requestType===""?se:y.requestType;if(w){const pe=await Os.updateWorkRequest(w.id,{project:y.project,requestType:fe,description:y.description,requestDate:new Date(y.requestDate),dueDate:new Date(y.dueDate),requestedBy:y.requestedBy,assignedTo:y.assignedTo,status:w.status,priority:"medium"}),He={id:pe._id,project:pe.project,requestType:pe.requestType,description:pe.description,requestDate:new Date(pe.requestDate),dueDate:new Date(pe.dueDate),requestedBy:pe.requestedBy,assignedTo:pe.assignedTo,status:pe.status,priority:pe.priority,notes:pe.notes,completedDate:pe.completedDate?new Date(pe.completedDate):void 0};let Z="";pe.project?Z=pe.requestType?`[] ${pe.requestType}`:`[] ${pe.description.substring(0,20)}`:Z=pe.description;const A=r.find(ce=>{const V=ce.start&&new Date(ce.start).toDateString()===new Date(pe.dueDate).toDateString(),_=ce.title===Z;return V&&_});if(A)try{let ce=null,V="";if(pe.project){const me=o.find(xe=>xe.name===pe.project);ce=me?me.id:A.project,V=pe.requestType?`[] ${pe.requestType}`:`[] ${pe.description.substring(0,20)}`}else V=pe.description,ce=A.project;const _=pe.assignedTo===""?["","",""]:[pe.assignedTo];await t(A.id,{title:V,start:new Date(pe.dueDate),end:new Date(pe.dueDate),project:ce,attendees:_,description:`${pe.description}

: ${pe.assignedTo}
: ${pe.requestedBy}
: ${pe.priority}
${pe.notes||""}`})}catch(ce){console.error("Failed to update related schedule:",ce)}d(m.map(ce=>ce.id===w.id?He:ce)),P.success(" ")}else{const pe=await Os.createWorkRequest({project:y.project,requestType:fe,description:y.description||"",requestDate:new Date(y.requestDate),dueDate:new Date(y.dueDate),requestedBy:y.requestedBy,assignedTo:y.assignedTo,status:"pending",priority:"medium"}),He={id:pe._id,project:pe.project,requestType:pe.requestType,description:pe.description,requestDate:new Date(pe.requestDate),dueDate:new Date(pe.dueDate),requestedBy:pe.requestedBy,assignedTo:pe.assignedTo,status:pe.status,priority:pe.priority,notes:pe.notes,completedDate:pe.completedDate?new Date(pe.completedDate):void 0};try{let Z=null,A="";if(pe.project){const V=o.find(_=>_.name===pe.project);if(Z=V?V.id:null,!Z)throw console.warn("Project not found for work request:",pe.project),new Error("Project not found");A=pe.requestType?`[] ${pe.requestType}`:`[] ${pe.description.substring(0,20)}`}else A=pe.description;const ce=pe.assignedTo===""?["","",""]:[pe.assignedTo];await s({id:`workrequest-${pe._id}`,title:A,start:new Date(pe.dueDate),end:new Date(pe.dueDate),type:"other",project:Z,location:"",attendees:ce,description:`${pe.description}

: ${pe.assignedTo}
: ${pe.requestedBy}
: ${pe.priority}
${pe.notes||""}`})}catch(Z){console.error("Failed to create schedule:",Z)}d([He,...m]),P.success(" ")}he()}catch(fe){console.error("Failed to save work request:",fe),P.error("  ")}},Ve=(R,fe)=>{j({requestId:R,field:fe})},je=async R=>{if(!x)return;const fe=new Date(R);if(!isNaN(fe.getTime()))try{if(!m.find(He=>He.id===x.requestId))return;await Os.updateWorkRequest(x.requestId,{[x.field]:fe}),d(m.map(He=>He.id===x.requestId?{...He,[x.field]:fe}:He)),j(null),P.success(" ")}catch(pe){console.error("Failed to update date:",pe),P.error("  "),j(null)}},Be=(R,fe)=>{L({requestId:R,field:fe})},Xe=async R=>{if(h)try{await Os.updateWorkRequest(h.requestId,{[h.field]:R}),d(m.map(fe=>fe.id===h.requestId?{...fe,[h.field]:R}:fe)),L(null),P.success(" ")}catch(fe){console.error("Failed to update person:",fe),P.error("  "),L(null)}},le=async(R,fe)=>{try{const pe=fe==="completed"?new Date:void 0;if(await Os.updateWorkRequest(R,{status:fe,completedDate:pe}),d(m.map(Z=>Z.id===R?{...Z,status:fe,completedDate:pe}:Z)),fe==="completed"){const Z=m.find(A=>A.id===R);if(Z){const A=r.find(ce=>ce.id===`workrequest-${R}`||ce.title.includes("[]")&&ce.project===Z.project);if(A)try{await n(A.id)}catch(ce){console.error("Failed to delete related schedule:",ce)}}}const He={pending:"","in-progress":"",completed:""};P.success(` ${He[fe]} `)}catch(pe){console.error("Failed to update status:",pe),P.error("  ")}},Le=R=>{const pe={pending:{label:"",color:"bg-gray-100 text-gray-700 border-gray-300"},"in-progress":{label:"",color:"bg-gray-100 text-gray-800 border-gray-300"},completed:{label:"",color:"bg-gray-900 text-white border-gray-900"},cancelled:{label:"",color:"bg-gray-100 text-gray-500 border-gray-300"}}[R];return e.jsxDEV("span",{className:`px-3 py-1 text-xs font-medium border ${pe.color}`,children:pe.label},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:521,columnNumber:7},void 0)},Ue=R=>{const fe=new Date;fe.setHours(0,0,0,0);const pe=new Date(R);pe.setHours(0,0,0,0);const He=pe.getTime()-fe.getTime();return Math.ceil(He/(1e3*60*60*24))},Ce=R=>{const fe=Ue(R);return fe<0?e.jsxDEV("span",{className:"inline-flex items-center px-2 py-1 text-xs font-bold bg-gray-100 text-gray-700 border border-gray-300 rounded",children:["D+",Math.abs(fe)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:561,columnNumber:9},void 0):fe===0?e.jsxDEV("span",{className:"inline-flex items-center px-2 py-1 text-xs font-bold bg-gray-900 text-white border border-gray-900 rounded",children:"D-Day"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:567,columnNumber:9},void 0):fe<=3?e.jsxDEV("span",{className:"inline-flex items-center px-2 py-1 text-xs font-bold bg-gray-100 text-gray-700 border border-gray-300 rounded",children:["D-",fe]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:573,columnNumber:9},void 0):fe<=7?e.jsxDEV("span",{className:"inline-flex items-center px-2 py-1 text-xs font-bold bg-gray-100 text-gray-700 border border-gray-300 rounded",children:["D-",fe]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:579,columnNumber:9},void 0):e.jsxDEV("span",{className:"inline-flex items-center px-2 py-1 text-xs font-medium bg-gray-100 text-gray-700 border border-gray-300 rounded",children:["D-",fe]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:585,columnNumber:9},void 0)},Re=(a==null?void 0:a.name)===""?m.filter(R=>o.some(fe=>fe.name===R.project)):m,Te=(()=>{let R=Re;return u!=="all"&&(R=R.filter(fe=>fe.status===u)),p&&(R=R.filter(fe=>fe.project.toLowerCase().includes(p.toLowerCase())||fe.requestType.toLowerCase().includes(p.toLowerCase())||fe.description.toLowerCase().includes(p.toLowerCase()))),R})(),qe={pending:Re.filter(R=>R.status==="pending").length,inProgress:Re.filter(R=>R.status==="in-progress").length,completed:Re.filter(R=>R.status==="completed").length,total:Re.length};return e.jsxDEV("div",{className:"workrequest-container space-y-3 md:space-y-4",children:[e.jsxDEV("div",{className:"workrequest-desktop hidden md:grid md:grid-cols-[400px_1fr] gap-4",children:[e.jsxDEV("div",{className:"workrequest-form bg-white border border-gray-200 rounded-lg p-6 h-fit sticky top-4",children:[w&&e.jsxDEV("h2",{className:"text-xl font-semibold mb-4",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:631,columnNumber:13},void 0),e.jsxDEV("form",{onSubmit:Ne,className:"workrequest-form-inner space-y-4",children:[e.jsxDEV("div",{className:"wr-project",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:639,columnNumber:15},void 0),e.jsxDEV("select",{value:y.project,onChange:R=>M({...y,project:R.target.value}),className:"input w-full",children:[(a==null?void 0:a.name)!==""&&e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:647,columnNumber:41},void 0),o.filter(R=>R.status!=="completed").map(R=>e.jsxDEV("option",{value:R.name,children:R.name},R.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:651,columnNumber:21},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:642,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:638,columnNumber:13},void 0),e.jsxDEV("div",{className:"wr-type",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:660,columnNumber:15},void 0),e.jsxDEV("select",{value:y.requestType,onChange:R=>M({...y,requestType:R.target.value}),className:"input w-full",children:[e.jsxDEV("option",{value:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:668,columnNumber:17},void 0),e.jsxDEV("option",{value:"3D",children:"3D"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:669,columnNumber:17},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:670,columnNumber:17},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:671,columnNumber:17},void 0),e.jsxDEV("option",{value:" ",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:672,columnNumber:17},void 0),e.jsxDEV("option",{value:" ",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:673,columnNumber:17},void 0),e.jsxDEV("option",{value:" ",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:674,columnNumber:17},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:675,columnNumber:17},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:676,columnNumber:17},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:677,columnNumber:17},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:678,columnNumber:17},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:679,columnNumber:17},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:680,columnNumber:17},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:681,columnNumber:17},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:682,columnNumber:17},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:683,columnNumber:17},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:684,columnNumber:17},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:685,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:663,columnNumber:15},void 0),y.requestType===""&&e.jsxDEV("input",{type:"text",value:se,onChange:R=>re(R.target.value),placeholder:"  ",className:"input w-full mt-2"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:689,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:659,columnNumber:13},void 0),e.jsxDEV("div",{className:"wr-description",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:701,columnNumber:15},void 0),e.jsxDEV("textarea",{value:y.description,onChange:R=>M({...y,description:R.target.value}),rows:4,className:"input w-full",placeholder:"   "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:704,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:700,columnNumber:13},void 0),e.jsxDEV("div",{className:"wr-dates grid grid-cols-2 gap-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:716,columnNumber:17},void 0),e.jsxDEV("input",{type:"date",value:y.requestDate,onChange:R=>M({...y,requestDate:R.target.value}),required:!0,className:"input w-full"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:719,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:715,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:728,columnNumber:17},void 0),e.jsxDEV("input",{type:"date",value:y.dueDate,onChange:R=>M({...y,dueDate:R.target.value}),required:!0,className:"input w-full"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:731,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:727,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:714,columnNumber:13},void 0),e.jsxDEV("div",{className:"wr-people grid grid-cols-2 gap-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:744,columnNumber:17},void 0),e.jsxDEV("select",{value:y.requestedBy,onChange:R=>M({...y,requestedBy:R.target.value}),required:!0,className:"input w-full",children:[e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:753,columnNumber:19},void 0),Nn.map(R=>e.jsxDEV("option",{value:R,children:R},R,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:755,columnNumber:21},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:747,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:743,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:762,columnNumber:17},void 0),e.jsxDEV("select",{value:y.assignedTo,onChange:R=>M({...y,assignedTo:R.target.value}),required:!0,className:"input w-full",children:[e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:771,columnNumber:19},void 0),Nn.map(R=>e.jsxDEV("option",{value:R,children:R},R,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:773,columnNumber:21},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:765,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:761,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:742,columnNumber:13},void 0),e.jsxDEV("div",{className:"wr-actions flex gap-3 pt-4 border-t",children:[w&&e.jsxDEV("button",{type:"button",onClick:he,className:"flex-1 btn btn-outline",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:784,columnNumber:17},void 0),e.jsxDEV("button",{type:"submit",className:"flex-1 btn btn-primary",children:w?"":""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:792,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:782,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:636,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:629,columnNumber:9},void 0),e.jsxDEV("div",{className:"workrequest-list space-y-4",children:[e.jsxDEV("div",{className:"border-b border-gray-200",children:e.jsxDEV("nav",{className:"flex space-x-8",children:[{id:"pending",label:"",count:qe.pending,color:"text-gray-700"},{id:"in-progress",label:"",count:qe.inProgress,color:"text-gray-700"},{id:"completed",label:"",count:qe.completed,color:"text-gray-700"},{id:"all",label:"",count:qe.total,color:"text-gray-600"}].map(R=>e.jsxDEV("button",{onClick:()=>b(R.id),className:Xt("py-4 px-1 border-b-2 font-medium text-sm transition-colors whitespace-nowrap",u===R.id?`border-gray-700 ${R.color}`:"border-transparent text-gray-400 hover:text-gray-700 hover:border-gray-300"),children:[R.label,R.count>0&&e.jsxDEV("span",{className:Xt("ml-2 py-0.5 px-2 rounded-full text-xs font-semibold",u===R.id?"bg-gray-700 text-white":"bg-gray-200 text-gray-600"),children:R.count},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:822,columnNumber:21},void 0)]},R.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:810,columnNumber:17},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:803,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:802,columnNumber:11},void 0),e.jsxDEV("div",{className:"flex items-center space-x-4",children:e.jsxDEV("input",{type:"text",placeholder:"...",value:p,onChange:R=>f(R.target.value),className:"flex-1 px-4 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:border-gray-900"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:836,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:835,columnNumber:11},void 0),e.jsxDEV("div",{className:"bg-white border border-gray-200 overflow-x-auto",children:e.jsxDEV("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsxDEV("thead",{className:"bg-gray-50",children:e.jsxDEV("tr",{children:[e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:850,columnNumber:19},void 0),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:851,columnNumber:19},void 0),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:852,columnNumber:19},void 0),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:853,columnNumber:19},void 0),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:854,columnNumber:19},void 0),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:855,columnNumber:19},void 0),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:856,columnNumber:19},void 0),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"D-day"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:857,columnNumber:19},void 0),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:858,columnNumber:19},void 0),e.jsxDEV("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:859,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:849,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:848,columnNumber:15},void 0),e.jsxDEV("tbody",{className:"bg-white divide-y divide-gray-200",style:{overflow:"visible"},children:Te.map(R=>e.jsxDEV("tr",{className:`hover:bg-gray-50 ${R.priority==="high"?"bg-rose-50/30":""}`,style:{overflow:"visible"},children:[e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxDEV("p",{className:"font-medium text-gray-900",children:R.project},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:872,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:871,columnNumber:21},void 0),e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxDEV("p",{className:"text-sm text-gray-900",children:R.requestType},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:875,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:874,columnNumber:21},void 0),e.jsxDEV("td",{className:"px-6 py-4",children:e.jsxDEV("p",{className:"text-sm text-gray-900",children:R.description},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:878,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:877,columnNumber:21},void 0),e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",style:{overflow:"visible"},children:e.jsxDEV("div",{className:"relative inline-block",children:[e.jsxDEV("button",{onClick:fe=>{fe.stopPropagation(),Be(R.id,"requestedBy")},className:"text-sm text-gray-900 hover:text-gray-600 hover:underline transition-colors",children:R.requestedBy},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:882,columnNumber:25},void 0),(h==null?void 0:h.requestId)===R.id&&(h==null?void 0:h.field)==="requestedBy"&&e.jsxDEV("div",{onClick:fe=>fe.stopPropagation(),className:"absolute left-0 top-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg z-50 min-w-[100px]",children:Nn.map(fe=>e.jsxDEV("button",{onClick:()=>Xe(fe),className:`block w-full text-left px-4 py-2 text-sm hover:bg-gray-100 transition-colors first:rounded-t-lg last:rounded-b-lg ${fe===R.requestedBy?"bg-gray-50 font-medium":""}`,children:fe},fe,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:897,columnNumber:31},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:892,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:881,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:880,columnNumber:21},void 0),e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",style:{overflow:"visible"},children:e.jsxDEV("div",{className:"relative inline-block",children:[e.jsxDEV("button",{onClick:fe=>{fe.stopPropagation(),Be(R.id,"assignedTo")},className:"text-sm text-gray-900 hover:text-gray-600 hover:underline transition-colors",children:R.assignedTo},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:913,columnNumber:25},void 0),(h==null?void 0:h.requestId)===R.id&&(h==null?void 0:h.field)==="assignedTo"&&e.jsxDEV("div",{onClick:fe=>fe.stopPropagation(),className:"absolute left-0 top-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg z-50 min-w-[100px]",children:Nn.map(fe=>e.jsxDEV("button",{onClick:()=>Xe(fe),className:`block w-full text-left px-4 py-2 text-sm hover:bg-gray-100 transition-colors first:rounded-t-lg last:rounded-b-lg ${fe===R.assignedTo?"bg-gray-50 font-medium":""}`,children:fe},fe,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:928,columnNumber:31},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:923,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:912,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:911,columnNumber:21},void 0),e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxDEV("div",{className:"relative inline-block",children:[(x==null?void 0:x.requestId)===R.id&&(x==null?void 0:x.field)==="requestDate"&&e.jsxDEV("input",{ref:I,type:"date",defaultValue:Ae(R.requestDate,"yyyy-MM-dd"),onChange:fe=>je(fe.target.value),onBlur:()=>j(null),className:"absolute left-0 top-0 w-auto h-auto opacity-0 z-50",style:{pointerEvents:"auto"}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:945,columnNumber:27},void 0),e.jsxDEV("button",{onClick:()=>Ve(R.id,"requestDate"),className:"flex items-center space-x-2 text-sm text-gray-900 hover:text-gray-600 transition-colors",children:[e.jsxDEV(hn,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:959,columnNumber:27},void 0),e.jsxDEV("span",{children:Ae(R.requestDate,"yyyy.MM.dd (eee)",{locale:xt})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:960,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:955,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:943,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:942,columnNumber:21},void 0),e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxDEV("div",{className:"relative inline-block",children:[(x==null?void 0:x.requestId)===R.id&&(x==null?void 0:x.field)==="dueDate"&&e.jsxDEV("input",{ref:I,type:"date",defaultValue:Ae(R.dueDate,"yyyy-MM-dd"),onChange:fe=>je(fe.target.value),onBlur:()=>j(null),className:"absolute left-0 top-0 w-auto h-auto opacity-0 z-50",style:{pointerEvents:"auto"}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:967,columnNumber:27},void 0),e.jsxDEV("button",{onClick:()=>Ve(R.id,"dueDate"),className:"flex items-center space-x-2 text-sm text-gray-900 hover:text-gray-600 transition-colors",children:[e.jsxDEV(hn,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:981,columnNumber:27},void 0),e.jsxDEV("span",{children:Ae(R.dueDate,"yyyy.MM.dd (eee)",{locale:xt})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:982,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:977,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:965,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:964,columnNumber:21},void 0),e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:Ce(R.dueDate)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:986,columnNumber:21},void 0),e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:Le(R.status)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:989,columnNumber:21},void 0),e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxDEV("div",{className:"flex items-center justify-center space-x-2",children:[R.status==="pending"&&e.jsxDEV("button",{onClick:()=>le(R.id,"in-progress"),className:"px-3 py-1 text-xs font-semibold text-white rounded-lg transition-colors bg-gray-900 hover:bg-gray-800",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:995,columnNumber:27},void 0),R.status==="in-progress"&&e.jsxDEV("button",{onClick:()=>le(R.id,"completed"),className:"px-3 py-1 text-xs font-semibold bg-gray-900 text-white rounded hover:bg-gray-800 transition-colors",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1003,columnNumber:27},void 0),e.jsxDEV("button",{onClick:()=>Q(R),className:"text-xs text-gray-600 hover:text-gray-900",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1010,columnNumber:25},void 0),e.jsxDEV("button",{onClick:()=>ve(R.id,R.project),className:"text-gray-600 hover:text-gray-700",children:e.jsxDEV(Dt,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1020,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1016,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:993,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:992,columnNumber:21},void 0)]},R.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:864,columnNumber:19},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:862,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:847,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:846,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:800,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:627,columnNumber:7},void 0),e.jsxDEV("div",{className:"workrequest-mobile md:hidden space-y-3",children:[e.jsxDEV("div",{className:"border-b border-gray-200",children:e.jsxDEV("nav",{className:"flex space-x-4 overflow-x-auto",children:[{id:"pending",label:"",count:qe.pending,color:"text-gray-700"},{id:"in-progress",label:"",count:qe.inProgress,color:"text-gray-700"},{id:"completed",label:"",count:qe.completed,color:"text-gray-700"},{id:"all",label:"",count:qe.total,color:"text-gray-600"}].map(R=>e.jsxDEV("button",{onClick:()=>b(R.id),className:Xt("py-3 px-1 border-b-2 font-medium text-xs transition-colors whitespace-nowrap",u===R.id?`border-gray-700 ${R.color}`:"border-transparent text-gray-400 hover:text-gray-700 hover:border-gray-300"),children:[R.label,R.count>0&&e.jsxDEV("span",{className:Xt("ml-1 py-0.5 px-1.5 rounded-full text-[10px] font-semibold",u===R.id?"bg-gray-700 text-white":"bg-gray-200 text-gray-600"),children:R.count},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1055,columnNumber:19},void 0)]},R.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1043,columnNumber:15},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1036,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1035,columnNumber:9},void 0),ie&&e.jsxDEV("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[w&&e.jsxDEV("h2",{className:"text-base font-semibold text-gray-900 mb-3",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1071,columnNumber:13},void 0),e.jsxDEV("form",{onSubmit:Ne,className:"space-y-3",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1079,columnNumber:19},void 0),e.jsxDEV("select",{value:y.project,onChange:R=>M({...y,project:R.target.value}),className:"w-full px-3 py-2.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 bg-white cursor-pointer hover:border-gray-400 transition-colors appearance-none bg-[url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20fill%3D%22none%22%20viewBox%3D%220%200%2020%2020%22%3E%3Cpath%20stroke%3D%22%236b7280%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%221.5%22%20d%3D%22M6%208l4%204%204-4%22%2F%3E%3C%2Fsvg%3E')] bg-[length:1.5em_1.5em] bg-[right_0.5rem_center] bg-no-repeat pr-10",children:[(a==null?void 0:a.name)!==""&&e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1087,columnNumber:45},void 0),o.filter(R=>R.status!=="completed").map(R=>e.jsxDEV("option",{value:R.name,children:R.name},R.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1091,columnNumber:25},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1082,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1078,columnNumber:17},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1100,columnNumber:19},void 0),e.jsxDEV("select",{value:y.requestType,onChange:R=>M({...y,requestType:R.target.value}),className:"w-full px-3 py-2.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 bg-white cursor-pointer hover:border-gray-400 transition-colors appearance-none bg-[url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20fill%3D%22none%22%20viewBox%3D%220%200%2020%2020%22%3E%3Cpath%20stroke%3D%22%236b7280%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%221.5%22%20d%3D%22M6%208l4%204%204-4%22%2F%3E%3C%2Fsvg%3E')] bg-[length:1.5em_1.5em] bg-[right_0.5rem_center] bg-no-repeat pr-10",children:[e.jsxDEV("option",{value:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1108,columnNumber:21},void 0),e.jsxDEV("option",{value:"3D",children:"3D"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1109,columnNumber:21},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1110,columnNumber:21},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1111,columnNumber:21},void 0),e.jsxDEV("option",{value:" ",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1112,columnNumber:21},void 0),e.jsxDEV("option",{value:" ",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1113,columnNumber:21},void 0),e.jsxDEV("option",{value:" ",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1114,columnNumber:21},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1115,columnNumber:21},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1116,columnNumber:21},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1117,columnNumber:21},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1118,columnNumber:21},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1119,columnNumber:21},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1120,columnNumber:21},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1121,columnNumber:21},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1122,columnNumber:21},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1123,columnNumber:21},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1124,columnNumber:21},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1125,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1103,columnNumber:19},void 0),y.requestType===""&&e.jsxDEV("input",{type:"text",value:se,onChange:R=>re(R.target.value),placeholder:"  ",className:"w-full px-3 py-2.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 mt-2 hover:border-gray-400 transition-colors"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1129,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1099,columnNumber:17},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1141,columnNumber:19},void 0),e.jsxDEV("textarea",{value:y.description,onChange:R=>M({...y,description:R.target.value}),rows:3,className:"w-full px-3 py-2.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 hover:border-gray-400 transition-colors",placeholder:"   "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1144,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1140,columnNumber:17},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:" *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1156,columnNumber:21},void 0),e.jsxDEV("input",{type:"date",value:y.requestDate,onChange:R=>M({...y,requestDate:R.target.value}),required:!0,className:"w-full px-3 py-2.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 bg-white"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1159,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1155,columnNumber:19},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:" *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1168,columnNumber:21},void 0),e.jsxDEV("input",{type:"date",value:y.dueDate,onChange:R=>M({...y,dueDate:R.target.value}),required:!0,className:"w-full px-3 py-2.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 bg-white"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1171,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1167,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1154,columnNumber:17},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1184,columnNumber:21},void 0),e.jsxDEV("select",{value:y.requestedBy,onChange:R=>M({...y,requestedBy:R.target.value}),required:!0,className:"w-full px-3 py-2.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 bg-white cursor-pointer hover:border-gray-400 transition-colors appearance-none bg-[url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20fill%3D%22none%22%20viewBox%3D%220%200%2020%2020%22%3E%3Cpath%20stroke%3D%22%236b7280%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%221.5%22%20d%3D%22M6%208l4%204%204-4%22%2F%3E%3C%2Fsvg%3E')] bg-[length:1.5em_1.5em] bg-[right_0.5rem_center] bg-no-repeat pr-10",children:[e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1193,columnNumber:23},void 0),Nn.map(R=>e.jsxDEV("option",{value:R,children:R},R,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1195,columnNumber:25},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1187,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1183,columnNumber:19},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1202,columnNumber:21},void 0),e.jsxDEV("select",{value:y.assignedTo,onChange:R=>M({...y,assignedTo:R.target.value}),required:!0,className:"w-full px-3 py-2.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 bg-white cursor-pointer hover:border-gray-400 transition-colors appearance-none bg-[url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20fill%3D%22none%22%20viewBox%3D%220%200%2020%2020%22%3E%3Cpath%20stroke%3D%22%236b7280%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%221.5%22%20d%3D%22M6%208l4%204%204-4%22%2F%3E%3C%2Fsvg%3E')] bg-[length:1.5em_1.5em] bg-[right_0.5rem_center] bg-no-repeat pr-10",children:[e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1211,columnNumber:23},void 0),Nn.map(R=>e.jsxDEV("option",{value:R,children:R},R,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1213,columnNumber:25},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1205,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1201,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1182,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex gap-2 pt-2",children:[w&&e.jsxDEV("button",{type:"button",onClick:he,className:"flex-1 px-4 py-2.5 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1224,columnNumber:21},void 0),e.jsxDEV("button",{type:"submit",className:"flex-1 px-4 py-2.5 text-sm font-medium text-white bg-gray-900 rounded-lg hover:bg-gray-800 transition-colors",children:w?"":""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1232,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1222,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1076,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1069,columnNumber:9},void 0),e.jsxDEV("div",{className:"workrequest-cards space-y-3",children:Te.map(R=>e.jsxDEV("div",{className:`card p-3 hover:border-gray-400 transition-colors ${R.priority==="high"?"border-2 border-rose-200 bg-rose-50/30":""}`,children:[e.jsxDEV("div",{className:"flex items-start justify-between mb-2",children:[e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("div",{className:"flex items-center gap-2 mb-1",children:[Le(R.status),Ce(R.dueDate)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1254,columnNumber:17},void 0),e.jsxDEV("h3",{className:"font-bold text-base text-gray-900",children:R.project},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1258,columnNumber:17},void 0),e.jsxDEV("p",{className:"text-xs text-gray-600 mt-0.5",children:R.requestType},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1259,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1253,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("button",{onClick:()=>Q(R),className:"text-xs text-gray-600 hover:text-gray-900 px-2 py-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1262,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>ve(R.id,R.project),className:"text-gray-600 hover:text-gray-700 p-1",children:e.jsxDEV(Dt,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1272,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1268,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1261,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1252,columnNumber:13},void 0),e.jsxDEV("div",{className:"space-y-2 text-sm border-t border-gray-100 pt-2",children:[e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-xs text-gray-500",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1279,columnNumber:17},void 0),e.jsxDEV("p",{className:"text-gray-900 mt-0.5",children:R.description},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1280,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1278,columnNumber:15},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-gray-500",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1285,columnNumber:19},void 0),e.jsxDEV("p",{className:"text-gray-900 font-medium mt-0.5",children:R.requestedBy},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1286,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1284,columnNumber:17},void 0),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-gray-500",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1289,columnNumber:19},void 0),e.jsxDEV("p",{className:"text-gray-900 font-medium mt-0.5",children:R.assignedTo},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1290,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1288,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1283,columnNumber:15},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 gap-2 pt-1",children:[e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-xs text-gray-500 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1296,columnNumber:19},void 0),e.jsxDEV("p",{className:"text-xs text-gray-900",children:Ae(R.requestDate,"MM.dd (eee)",{locale:xt})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1297,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1295,columnNumber:17},void 0),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-xs text-gray-500 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1302,columnNumber:19},void 0),e.jsxDEV("p",{className:"text-xs text-gray-900",children:Ae(R.dueDate,"MM.dd (eee)",{locale:xt})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1303,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1301,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1294,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1277,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex gap-2 mt-3 pt-3 border-t border-gray-100",children:[R.status==="pending"&&e.jsxDEV("button",{onClick:()=>le(R.id,"in-progress"),className:"flex-1 px-3 py-2 text-xs font-semibold text-white rounded-lg transition-colors bg-gray-900 hover:bg-gray-800",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1313,columnNumber:17},void 0),R.status==="in-progress"&&e.jsxDEV("button",{onClick:()=>le(R.id,"completed"),className:"flex-1 px-3 py-2 text-xs font-semibold bg-gray-900 text-white rounded-lg hover:bg-gray-800 transition-colors",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1321,columnNumber:17},void 0),R.status==="completed"&&e.jsxDEV("div",{className:"flex-1 text-center text-xs text-gray-500 py-2",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1329,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1311,columnNumber:13},void 0)]},R.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1246,columnNumber:13},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1244,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1033,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:625,columnNumber:5},void 0)},Eb=()=>{var G,T;const{user:s}=Qt(),n=us(),[t,r]=l.useState([]),[i,a]=l.useState(null),[o,m]=l.useState([]),[d,p]=l.useState(!0),[f,u]=l.useState(""),[b,x]=l.useState(""),[j,h]=l.useState(null),[L,I]=l.useState(null),[y,M]=l.useState(""),[se,re]=l.useState(null),[w,O]=l.useState(""),[ie,de]=l.useState(null),[ue,ve]=l.useState(new Set),Q=l.useRef(null),[he,Ne]=l.useState(window.innerWidth<768),[Ve,je]=l.useState(!1),[Be,Xe]=l.useState(null),[le,Le]=l.useState(new Set),[Ue,Ce]=l.useState(()=>localStorage.getItem("finishCheck_showOnlyIncomplete")==="true"),[Re,We]=l.useState(!1);l.useEffect(()=>{localStorage.setItem("finishCheck_showOnlyIncomplete",String(Ue))},[Ue]),l.useEffect(()=>{const C=()=>{Ne(window.innerWidth<768)};return window.addEventListener("resize",C),()=>window.removeEventListener("resize",C)},[]),l.useEffect(()=>{Te()},[n]),l.useEffect(()=>{i!==null&&qe()},[i]),l.useEffect(()=>{i!==null&&(s!=null&&s.id)&&localStorage.setItem(`finishCheck_selectedProject_${s.id}`,i.toString())},[i,s==null?void 0:s.id]),l.useEffect(()=>{if(!he&&ie){const C=async z=>{var K;const X=(K=z.clipboardData)==null?void 0:K.items;if(X){for(let N=0;N<X.length;N++)if(X[N].type.indexOf("image")!==-1){z.preventDefault();const D=X[N].getAsFile();D&&await me(ie,D)}}};return document.addEventListener("paste",C),()=>document.removeEventListener("paste",C)}},[ie,he]);const Te=async()=>{try{const C=n.map(X=>({id:X.id,title:X.name}));r(C);const z=s!=null&&s.id?localStorage.getItem(`finishCheck_selectedProject_${s.id}`):null;z&&C.some(X=>X.id===Number(z))?a(Number(z)):C.length>0&&a(C[0].id)}catch(C){console.error("Failed to load projects:",C),P.error("   ")}},qe=async()=>{try{p(!0);const C=i?`/finish-check/spaces?project_id=${i}`:"/finish-check/spaces",X=(await we.get(C)).data.map(K=>({...K,items:K.items.map(N=>({...N,images:N.images||[]}))}));m(X)}catch(C){console.error("Failed to load spaces:",C),P.error("   ")}finally{p(!1)}},R=async()=>{if(!f.trim()){P.error("  ");return}if(!i){P.error(" ");return}try{const C=await we.post("/finish-check/spaces",{name:f.trim(),project_id:i}),z={...C.data,items:C.data.items||[]};m([...o,z]),u(""),We(!1),P.success(" ")}catch(C){console.error("Failed to add space:",C),P.error("  ")}},fe=async(C,z)=>{if(!z.trim()){P.error("  ");return}try{await we.put(`/finish-check/spaces/${C}`,{name:z.trim()}),m(o.map(X=>X.id===C?{...X,name:z.trim()}:X)),I(null),M(""),P.success("  ")}catch(X){console.error("Failed to update space:",X),P.error("  ")}},pe=C=>{Xe(C),Le(new Set)},He=async()=>{if(Be!==null){if(le.size===0){P.error("  ");return}try{await Promise.all(Array.from(le).map(C=>we.delete(`/finish-check/items/${C}`))),m(o.map(C=>C.id===Be?{...C,items:C.items.filter(z=>!le.has(z.id))}:C)),P.success(`${le.size}  `),Xe(null),Le(new Set)}catch(C){console.error("Failed to delete items:",C),P.error("  ")}}},Z=async()=>{if(Be===null)return;const C=o.find(z=>z.id===Be);if(C&&confirm(`"${C.name}"  ?

        .`))try{await we.delete(`/finish-check/spaces/${Be}`),m(o.filter(z=>z.id!==Be)),P.success(" "),Xe(null),Le(new Set)}catch(z){console.error("Failed to delete space:",z),P.error("  ")}},A=async C=>{if(!b.trim()){P.error("  ");return}try{const z=await we.post("/finish-check/items",{space_id:C,content:b.trim()});m(o.map(X=>X.id===C?{...X,items:[...X.items,{...z.data,images:[]}]}:X)),x(""),h(null),P.success(" ")}catch(z){console.error("Failed to add item:",z),P.error("  ")}},ce=async C=>{try{const z=await we.put(`/finish-check/items/${C}/toggle`);m(o.map(X=>({...X,items:X.items.map(K=>K.id===C?{...K,...z.data}:K)})))}catch(z){console.error("Failed to toggle item:",z),P.error("   ")}},V=async C=>{try{const z=await we.put(`/finish-check/items/${C}/toggle-priority`);m(o.map(X=>({...X,items:X.items.map(K=>K.id===C?{...K,is_priority:z.data.is_priority}:K)})))}catch(z){console.error("Failed to toggle priority:",z),P.error("  ")}},_=C=>new Promise((z,X)=>{const K=new FileReader;K.readAsDataURL(C),K.onload=()=>z(K.result),K.onerror=N=>X(N)}),me=async(C,z)=>{var N,D;if(!["image/jpeg","image/png","image/webp"].includes(z.type)){P.error("JPEG, PNG, WebP    ");return}const K=5*1024*1024;if(z.size>K){P.error("  5MB  ");return}try{ve(ke=>new Set([...ke,C]));const U=await _(z),Y=await we.post(`/finish-check/items/${C}/images`,{image_data:U,filename:z.name});m(o.map(ke=>({...ke,items:ke.items.map(De=>De.id===C?{...De,images:[...De.images,Y.data]}:De)}))),P.success(" ")}catch(U){console.error("Failed to upload image:",U),P.error(((D=(N=U.response)==null?void 0:N.data)==null?void 0:D.error)||"  ")}finally{ve(U=>{const Y=new Set(U);return Y.delete(C),Y})}},xe=async(C,z)=>{const X=z.target.files;if(!(!X||X.length===0)){for(let K=0;K<X.length;K++)await me(C,X[K]);Q.current&&(Q.current.value="")}},Me=async(C,z)=>{if(confirm("  ?"))try{await we.delete(`/finish-check/images/${z}`),m(o.map(X=>({...X,items:X.items.map(K=>K.id===C?{...K,images:K.images.filter(N=>N.id!==z)}:K)}))),P.success(" ")}catch(X){console.error("Failed to delete image:",X),P.error("  ")}},Fe=async(C,z)=>{C.preventDefault(),C.stopPropagation();const X=C.dataTransfer.files;if(!(!X||X.length===0))for(let K=0;K<X.length;K++)X[K].type.startsWith("image/")&&await me(z,X[K])},B=C=>{C.preventDefault(),C.stopPropagation()};if(d)return e.jsxDEV("div",{className:"flex items-center justify-center h-[calc(100vh-120px)]",children:e.jsxDEV("div",{className:"text-gray-500",children:" ..."},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:518,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:517,columnNumber:7},void 0);const $=ie?o.flatMap(C=>C.items).find(C=>C.id===ie):null;return e.jsxDEV("div",{className:"h-[calc(100vh-120px)] flex flex-col md:flex-row gap-4 overflow-hidden",children:[e.jsxDEV("input",{ref:Q,type:"file",accept:"image/jpeg,image/png,image/webp",multiple:!0,className:"hidden",onChange:C=>{ie&&xe(ie,C)}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:530,columnNumber:7},void 0),e.jsxDEV("div",{className:"flex-1 bg-white border border-gray-200 rounded-lg overflow-hidden flex flex-col",children:[e.jsxDEV("div",{className:"p-4 border-b border-gray-200",children:he?e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("div",{className:"flex-1",children:e.jsxDEV("select",{value:i||"",onChange:C=>{const z=C.target.value?Number(C.target.value):null;a(z)},className:"w-full px-3 py-2.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 bg-white cursor-pointer hover:border-gray-400 transition-colors appearance-none bg-[url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20fill%3D%22none%22%20viewBox%3D%220%200%2020%2020%22%3E%3Cpath%20stroke%3D%22%236b7280%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%221.5%22%20d%3D%22M6%208l4%204%204-4%22%2F%3E%3C%2Fsvg%3E')] bg-[length:1.5em_1.5em] bg-[right_0.5rem_center] bg-no-repeat pr-10",children:[(s==null?void 0:s.name)!==""&&e.jsxDEV("option",{value:"",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:560,columnNumber:43},void 0),t.map(C=>e.jsxDEV("option",{value:C.id,children:C.title},C.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:562,columnNumber:21},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:552,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:551,columnNumber:15},void 0),e.jsxDEV("button",{onClick:()=>Ce(!Ue),className:`px-3 py-2.5 text-xs font-medium rounded-lg transition-colors whitespace-nowrap ${Ue?"bg-gray-800 text-white hover:bg-gray-900":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,title:Ue?" ":" ",children:Ue?"":""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:570,columnNumber:15},void 0),e.jsxDEV("button",{onClick:()=>We(!0),className:"p-2.5 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors flex items-center justify-center",title:" ",children:e.jsxDEV(ws,{className:"w-5 h-5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:588,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:583,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:549,columnNumber:13},void 0):e.jsxDEV("div",{className:"flex gap-3",children:[e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:596,columnNumber:17},void 0),e.jsxDEV("select",{value:i||"",onChange:C=>{const z=C.target.value?Number(C.target.value):null;a(z)},className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 bg-white cursor-pointer hover:border-gray-400 transition-colors appearance-none bg-[url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20fill%3D%22none%22%20viewBox%3D%220%200%2020%2020%22%3E%3Cpath%20stroke%3D%22%236b7280%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%221.5%22%20d%3D%22M6%208l4%204%204-4%22%2F%3E%3C%2Fsvg%3E')] bg-[length:1.5em_1.5em] bg-[right_0.5rem_center] bg-no-repeat pr-10",children:[(s==null?void 0:s.name)!==""&&e.jsxDEV("option",{value:"",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:605,columnNumber:43},void 0),t.map(C=>e.jsxDEV("option",{value:C.id,children:C.title},C.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:607,columnNumber:21},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:597,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:595,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:616,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV("input",{type:"text",value:f,onChange:C=>u(C.target.value),onKeyPress:C=>{C.key==="Enter"&&R()},placeholder:"  ",className:"flex-1 px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:618,columnNumber:19},void 0),e.jsxDEV("button",{onClick:R,className:"p-2 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors flex items-center justify-center min-w-[44px]",title:" ",children:e.jsxDEV(ws,{className:"w-5 h-5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:635,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:630,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:617,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:615,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex items-end",children:e.jsxDEV("button",{onClick:()=>Ce(!Ue),className:`px-4 py-2 text-sm font-medium rounded-lg transition-colors whitespace-nowrap ${Ue?"bg-gray-800 text-white hover:bg-gray-900":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,title:Ue?" ":" ",children:Ue?"":""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:642,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:641,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:593,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:546,columnNumber:9},void 0),e.jsxDEV("div",{className:"flex-1 overflow-y-auto p-4",children:o.length===0?e.jsxDEV("div",{className:"flex items-center justify-center h-full text-gray-500 text-sm",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:661,columnNumber:13},void 0):e.jsxDEV("div",{className:"columns-1 portrait:md:columns-2 landscape:md:columns-3 desktop:columns-4 column-gap-4",children:o.map((C,z)=>{const X=C.items.filter(N=>!N.is_completed).sort((N,D)=>(D.is_priority||0)-(N.is_priority||0)),K=C.items.filter(N=>N.is_completed);return Ue&&X.length===0?null:e.jsxDEV("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50 mb-4 break-inside-avoid",children:[L===C.id?e.jsxDEV("div",{className:"flex gap-2 mb-4",children:[e.jsxDEV("input",{type:"text",value:y,onChange:N=>M(N.target.value),onKeyPress:N=>{N.key==="Enter"?fe(C.id,y):N.key==="Escape"&&(I(null),M(""))},className:"flex-1 px-2 py-1 text-sm border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-gray-500",autoFocus:!0},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:680,columnNumber:25},void 0),e.jsxDEV("button",{onClick:()=>fe(C.id,y),className:"p-1 text-green-600 hover:text-green-700",children:e.jsxDEV(Na,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:699,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:695,columnNumber:25},void 0),e.jsxDEV("button",{onClick:()=>{I(null),M("")},className:"p-1 text-gray-600 hover:text-gray-700",children:e.jsxDEV(dt,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:708,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:701,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:679,columnNumber:23},void 0):e.jsxDEV("div",{className:"flex items-center justify-between mb-4 pb-2 border-b border-gray-300",children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("h3",{className:"text-base font-bold text-gray-900 flex items-center gap-2",children:[e.jsxDEV("span",{className:"inline-flex items-center justify-center w-6 h-6 bg-gray-800 text-white text-xs font-bold rounded-full",children:z+1},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:715,columnNumber:29},void 0),C.name]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:714,columnNumber:27},void 0),e.jsxDEV("span",{className:"text-xs text-gray-500",children:[K.length,"/",C.items.length," "]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:720,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:713,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex items-center gap-1",children:[e.jsxDEV("button",{onClick:()=>{j===C.id?(h(null),x("")):h(C.id)},className:`p-1 transition-colors ${j===C.id?"text-gray-900 bg-gray-100 rounded":"text-gray-600 hover:text-gray-800"}`,title:" ",children:e.jsxDEV(ws,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:741,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:725,columnNumber:27},void 0),e.jsxDEV("button",{onClick:()=>{I(C.id),M(C.name)},className:"p-1 text-gray-600 hover:text-gray-800 transition-colors",title:"",children:e.jsxDEV(Gn,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:751,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:743,columnNumber:27},void 0),e.jsxDEV("button",{onClick:()=>pe(C.id),className:"p-1 text-red-500 hover:text-red-700 transition-colors",title:"",children:e.jsxDEV(Dt,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:758,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:753,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:724,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:712,columnNumber:23},void 0),j===C.id&&e.jsxDEV("div",{className:"mb-4 p-3 bg-white border border-gray-300 rounded-lg",children:e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV("input",{type:"text",value:b,onChange:N=>x(N.target.value),onKeyPress:N=>{N.key==="Enter"&&b.trim()&&A(C.id)},placeholder:"  ",className:"flex-1 px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",autoFocus:!0},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:768,columnNumber:27},void 0),e.jsxDEV("button",{onClick:()=>A(C.id),disabled:!b.trim(),className:"px-4 py-2 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors text-sm font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:781,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:767,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:766,columnNumber:23},void 0),X.length>0&&e.jsxDEV("div",{className:"mb-4",children:e.jsxDEV("div",{className:"space-y-2",children:X.map(N=>e.jsxDEV("div",{className:"flex items-start gap-3 p-3 bg-white border border-gray-200 rounded-lg",children:[e.jsxDEV("input",{type:"checkbox",checked:!1,onChange:()=>ce(N.id),className:"mt-1 w-5 h-5 rounded border-gray-300 text-gray-800 focus:ring-gray-500 cursor-pointer"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:801,columnNumber:31},void 0),e.jsxDEV("span",{className:`flex-1 text-sm text-gray-900 ${!he&&ie===N.id?"font-semibold":""}`,onClick:()=>!he&&de(N.id),style:{cursor:he?"default":"pointer"},children:[N.content,N.images&&N.images.length>0&&e.jsxDEV("span",{className:"ml-2 text-xs text-gray-500",children:["(",N.images.length,")"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:815,columnNumber:35},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:808,columnNumber:31},void 0),e.jsxDEV("div",{className:"flex items-center gap-1",children:[e.jsxDEV("button",{onClick:()=>{de(N.id),he&&je(!0)},className:`p-1 transition-colors ${N.images&&N.images.length>0?"text-blue-600 hover:text-blue-800":"text-gray-300 hover:text-gray-400"}`,title:"",children:e.jsxDEV(Es,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:835,columnNumber:35},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:821,columnNumber:33},void 0),e.jsxDEV("button",{onClick:()=>V(N.id),className:`p-1 transition-colors ${N.is_priority?"text-yellow-500 hover:text-yellow-600":"text-gray-300 hover:text-gray-400"}`,title:"",children:e.jsxDEV(oo,{className:`w-4 h-4 ${N.is_priority?"fill-current":""}`},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:846,columnNumber:35},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:837,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:820,columnNumber:31},void 0)]},N.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:797,columnNumber:29},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:795,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:794,columnNumber:23},void 0),!Ue&&K.length>0&&e.jsxDEV("div",{children:e.jsxDEV("div",{className:"space-y-2",children:K.map(N=>e.jsxDEV("div",{className:"flex items-start gap-3 p-3 bg-white border border-gray-200 rounded-lg opacity-40",children:[e.jsxDEV("input",{type:"checkbox",checked:!0,onChange:()=>ce(N.id),className:"mt-1 w-5 h-5 rounded border-gray-300 text-gray-800 focus:ring-gray-500 cursor-pointer"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:864,columnNumber:31},void 0),e.jsxDEV("span",{className:`flex-1 text-sm text-gray-500 line-through ${!he&&ie===N.id?"font-semibold":""}`,onClick:()=>!he&&de(N.id),style:{cursor:he?"default":"pointer"},children:[N.content,N.images&&N.images.length>0&&e.jsxDEV("span",{className:"ml-2 text-xs text-gray-500",children:["(",N.images.length,")"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:878,columnNumber:35},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:871,columnNumber:31},void 0),e.jsxDEV("div",{className:"flex items-center gap-1",children:[e.jsxDEV("button",{onClick:()=>{de(N.id),he&&je(!0)},className:`p-1 transition-colors ${N.images&&N.images.length>0?"text-blue-600 hover:text-blue-800":"text-gray-300 hover:text-gray-400"}`,title:"",children:e.jsxDEV(Es,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:898,columnNumber:35},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:884,columnNumber:33},void 0),e.jsxDEV("button",{onClick:()=>V(N.id),className:`p-1 transition-colors ${N.is_priority?"text-yellow-500 hover:text-yellow-600":"text-gray-300 hover:text-gray-400"}`,title:"",children:e.jsxDEV(oo,{className:`w-4 h-4 ${N.is_priority?"fill-current":""}`},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:909,columnNumber:35},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:900,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:883,columnNumber:31},void 0)]},N.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:860,columnNumber:29},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:858,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:857,columnNumber:23},void 0)]},C.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:676,columnNumber:19},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:665,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:659,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:544,columnNumber:7},void 0),!he&&ie&&$&&e.jsxDEV("div",{className:"w-80 bg-white border border-gray-200 rounded-lg overflow-hidden flex flex-col",children:[e.jsxDEV("div",{className:"p-4 border-b border-gray-200 bg-gray-50",children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-2",children:[e.jsxDEV("h3",{className:"font-semibold text-gray-900",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:930,columnNumber:15},void 0),e.jsxDEV("button",{onClick:()=>de(null),className:"p-1 text-gray-600 hover:text-gray-900 transition-colors",title:"",children:e.jsxDEV(dt,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:936,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:931,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:929,columnNumber:13},void 0),e.jsxDEV("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:$.content},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:939,columnNumber:13},void 0),e.jsxDEV("button",{onClick:()=>{var C;return(C=Q.current)==null?void 0:C.click()},disabled:ue.has(ie),className:"w-full px-3 py-2 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors text-sm font-medium flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsxDEV(js,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:945,columnNumber:15},void 0),ue.has(ie)?" ...":" "]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:940,columnNumber:13},void 0),e.jsxDEV("p",{className:"text-xs text-gray-500 mt-2 text-center",children:"    , Ctrl+V "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:948,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:928,columnNumber:11},void 0),e.jsxDEV("div",{className:"flex-1 overflow-y-auto p-4",onDrop:C=>Fe(C,ie),onDragOver:B,children:$.images.length===0?e.jsxDEV("div",{className:"flex flex-col items-center justify-center h-full text-gray-400 text-sm",children:[e.jsxDEV(Es,{className:"w-12 h-12 mb-2"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:960,columnNumber:17},void 0),e.jsxDEV("p",{children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:961,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:959,columnNumber:15},void 0):e.jsxDEV("div",{className:"grid grid-cols-2 gap-3",children:$.images.map(C=>e.jsxDEV("div",{className:"relative group",children:[e.jsxDEV("img",{src:C.image_data,alt:C.filename||"",className:"w-full h-32 object-cover rounded-lg border border-gray-200"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:967,columnNumber:21},void 0),e.jsxDEV("button",{onClick:()=>Me(ie,C.id),className:"absolute top-1 right-1 p-1 bg-red-500 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-600",title:"",children:e.jsxDEV(mo,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:977,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:972,columnNumber:21},void 0),C.filename&&e.jsxDEV("p",{className:"text-xs text-gray-500 mt-1 truncate",title:C.filename,children:C.filename},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:980,columnNumber:23},void 0)]},C.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:966,columnNumber:19},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:964,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:953,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:927,columnNumber:9},void 0),he&&Ve&&ie&&$&&e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-end justify-center z-50",children:e.jsxDEV("div",{className:"bg-white rounded-t-2xl w-full max-h-[80vh] flex flex-col",children:[e.jsxDEV("div",{className:"p-4 border-b border-gray-200",children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-2",children:[e.jsxDEV("h3",{className:"font-semibold text-gray-900",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:998,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>{je(!1),de(null)},className:"p-1 text-gray-600 hover:text-gray-900",children:e.jsxDEV(dt,{className:"w-5 h-5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1006,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:999,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:997,columnNumber:15},void 0),e.jsxDEV("p",{className:"text-sm text-gray-600 mb-3",children:$.content},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1009,columnNumber:15},void 0),e.jsxDEV("button",{onClick:()=>{var C;return(C=Q.current)==null?void 0:C.click()},disabled:ue.has(ie),className:"w-full px-4 py-2 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors text-sm font-medium flex items-center justify-center gap-2 disabled:opacity-50",children:[e.jsxDEV(js,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1015,columnNumber:17},void 0),ue.has(ie)?" ...":" "]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1010,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:996,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex-1 overflow-y-auto p-4",children:$.images.length===0?e.jsxDEV("div",{className:"flex flex-col items-center justify-center h-full text-gray-400",children:[e.jsxDEV(Es,{className:"w-16 h-16 mb-2"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1023,columnNumber:19},void 0),e.jsxDEV("p",{className:"text-sm",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1024,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1022,columnNumber:17},void 0):e.jsxDEV("div",{className:"grid grid-cols-2 gap-3",children:$.images.map(C=>e.jsxDEV("div",{className:"relative",children:[e.jsxDEV("img",{src:C.image_data,alt:C.filename||"",className:"w-full h-40 object-cover rounded-lg border border-gray-200"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1030,columnNumber:23},void 0),e.jsxDEV("button",{onClick:()=>Me(ie,C.id),className:"absolute top-2 right-2 p-1.5 bg-red-500 text-white rounded-full hover:bg-red-600",children:e.jsxDEV(mo,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1039,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1035,columnNumber:23},void 0),C.filename&&e.jsxDEV("p",{className:"text-xs text-gray-500 mt-1 truncate",title:C.filename,children:C.filename},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1042,columnNumber:25},void 0)]},C.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1029,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1027,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1020,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:995,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:994,columnNumber:9},void 0),Be!==null&&e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxDEV("div",{className:"bg-white rounded-lg w-full max-w-2xl max-h-[80vh] flex flex-col",children:[e.jsxDEV("div",{className:"p-4 border-b border-gray-200",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("h3",{className:"text-lg font-bold text-gray-900",children:[(G=o.find(C=>C.id===Be))==null?void 0:G.name," - "]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1061,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>{Xe(null),Le(new Set)},className:"p-1 text-gray-600 hover:text-gray-900",children:e.jsxDEV(dt,{className:"w-5 h-5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1071,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1064,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1060,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1059,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex-1 overflow-y-auto p-4",children:[e.jsxDEV("p",{className:"text-sm text-gray-600 mb-4",children:"  .    ."},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1077,columnNumber:15},void 0),e.jsxDEV("div",{className:"space-y-2",children:(T=o.find(C=>C.id===Be))==null?void 0:T.items.map(C=>e.jsxDEV("div",{className:"flex items-start gap-3 p-3 bg-gray-50 border border-gray-200 rounded-lg hover:bg-gray-100 transition-colors cursor-pointer",onClick:()=>{const z=new Set(le);z.has(C.id)?z.delete(C.id):z.add(C.id),Le(z)},children:[e.jsxDEV("input",{type:"checkbox",checked:le.has(C.id),onChange:()=>{},className:"mt-1 w-5 h-5 rounded border-gray-300 text-gray-800 focus:ring-gray-500 cursor-pointer"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1097,columnNumber:23},void 0),e.jsxDEV("span",{className:`flex-1 text-sm ${C.is_completed?"text-gray-500 line-through":"text-gray-900"}`,children:C.content},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1103,columnNumber:23},void 0)]},C.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1084,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1080,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1076,columnNumber:13},void 0),e.jsxDEV("div",{className:"p-4 border-t border-gray-200 flex gap-2",children:[e.jsxDEV("button",{onClick:He,disabled:le.size===0,className:"flex-1 px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors text-sm font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:["   (",le.size,")"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1112,columnNumber:15},void 0),e.jsxDEV("button",{onClick:Z,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors text-sm font-medium",children:"  "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1119,columnNumber:15},void 0),e.jsxDEV("button",{onClick:()=>{Xe(null),Le(new Set)},className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 transition-colors text-sm font-medium",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1125,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1111,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1058,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1057,columnNumber:9},void 0),Re&&e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-end md:items-center justify-center z-50",children:e.jsxDEV("div",{className:"bg-white rounded-t-2xl md:rounded-lg w-full md:max-w-md",children:[e.jsxDEV("div",{className:"p-4 border-b border-gray-200",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("h3",{className:"text-lg font-bold text-gray-900",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1145,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>{We(!1),u("")},className:"p-1 text-gray-600 hover:text-gray-900",children:e.jsxDEV(dt,{className:"w-5 h-5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1153,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1146,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1144,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1143,columnNumber:13},void 0),e.jsxDEV("div",{className:"p-4",children:[e.jsxDEV("div",{className:"mb-4",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1160,columnNumber:17},void 0),e.jsxDEV("input",{type:"text",value:f,onChange:C=>u(C.target.value),onKeyPress:C=>{C.key==="Enter"&&f.trim()&&R()},placeholder:"  ",className:"w-full px-3 py-2.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",autoFocus:!0},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1161,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1159,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV("button",{onClick:()=>{We(!1),u("")},className:"flex-1 px-4 py-2.5 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 transition-colors text-sm font-medium",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1177,columnNumber:17},void 0),e.jsxDEV("button",{onClick:R,disabled:!f.trim(),className:"flex-1 px-4 py-2.5 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors text-sm font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1186,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1176,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1158,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1142,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1141,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:528,columnNumber:5},void 0)};var ea=function(s,n){return ea=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},ea(s,n)};function Ab(s,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");ea(s,n);function t(){this.constructor=s}s.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}var Yt=function(){return Yt=Object.assign||function(n){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(n[a]=t[a])}return n},Yt.apply(this,arguments)};var Go=!1,an,ta,sa,Mr,Ir,wd,Tr,na,ra,ia,_d,aa,oa,jd,Ld;function is(){if(!Go){Go=!0;var s=navigator.userAgent,n=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(s),t=/(Mac OS X)|(Windows)|(Linux)/.exec(s);if(aa=/\b(iPhone|iP[ao]d)/.exec(s),oa=/\b(iP[ao]d)/.exec(s),ia=/Android/i.exec(s),jd=/FBAN\/\w+;/i.exec(s),Ld=/Mobile/i.exec(s),_d=!!/Win64/.exec(s),n){an=n[1]?parseFloat(n[1]):n[5]?parseFloat(n[5]):NaN,an&&document&&document.documentMode&&(an=document.documentMode);var r=/(?:Trident\/(\d+.\d+))/.exec(s);wd=r?parseFloat(r[1])+4:an,ta=n[2]?parseFloat(n[2]):NaN,sa=n[3]?parseFloat(n[3]):NaN,Mr=n[4]?parseFloat(n[4]):NaN,Mr?(n=/(?:Chrome\/(\d+\.\d+))/.exec(s),Ir=n&&n[1]?parseFloat(n[1]):NaN):Ir=NaN}else an=ta=sa=Ir=Mr=NaN;if(t){if(t[1]){var i=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(s);Tr=i?parseFloat(i[1].replace("_",".")):!0}else Tr=!1;na=!!t[2],ra=!!t[3]}else Tr=na=ra=!1}}var ma={ie:function(){return is()||an},ieCompatibilityMode:function(){return is()||wd>an},ie64:function(){return ma.ie()&&_d},firefox:function(){return is()||ta},opera:function(){return is()||sa},webkit:function(){return is()||Mr},safari:function(){return ma.webkit()},chrome:function(){return is()||Ir},windows:function(){return is()||na},osx:function(){return is()||Tr},linux:function(){return is()||ra},iphone:function(){return is()||aa},mobile:function(){return is()||aa||oa||ia||Ld},nativeApp:function(){return is()||jd},android:function(){return is()||ia},ipad:function(){return is()||oa}},wb=ma,_b=!!(typeof window<"u"&&window.document&&window.document.createElement),jb={canUseDOM:_b},Lb=jb,Hd=Lb,Bd;Hd.canUseDOM&&(Bd=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function Hb(s,n){if(!Hd.canUseDOM||n&&!("addEventListener"in document))return!1;var t="on"+s,r=t in document;if(!r){var i=document.createElement("div");i.setAttribute(t,"return;"),r=typeof i[t]=="function"}return!r&&Bd&&s==="wheel"&&(r=document.implementation.hasFeature("Events.wheel","3.0")),r}var Bb=Hb,Ub=wb,Sb=Bb,Zo=10,em=40,tm=800;function Ud(s){var n=0,t=0,r=0,i=0;return"detail"in s&&(t=s.detail),"wheelDelta"in s&&(t=-s.wheelDelta/120),"wheelDeltaY"in s&&(t=-s.wheelDeltaY/120),"wheelDeltaX"in s&&(n=-s.wheelDeltaX/120),"axis"in s&&s.axis===s.HORIZONTAL_AXIS&&(n=t,t=0),r=n*Zo,i=t*Zo,"deltaY"in s&&(i=s.deltaY),"deltaX"in s&&(r=s.deltaX),(r||i)&&s.deltaMode&&(s.deltaMode==1?(r*=em,i*=em):(r*=tm,i*=tm)),r&&!n&&(n=r<1?-1:1),i&&!t&&(t=i<1?-1:1),{spinX:n,spinY:t,pixelX:r,pixelY:i}}Ud.getEventType=function(){return Ub.firefox()?"DOMMouseScroll":Sb("wheel")?"wheel":"mousewheel"};var Pb=Ud,Rb=Pb;const Mb=pc(Rb);function Ib(s,n,t,r,i,a){a===void 0&&(a=0);var o=vn(s,n,a),m=o.width,d=o.height,p=Math.min(m,t),f=Math.min(d,r);return p>f*i?{width:f*i,height:f}:{width:p,height:p/i}}function Tb(s){return s.width>s.height?s.width/s.naturalWidth:s.height/s.naturalHeight}function Tn(s,n,t,r,i){i===void 0&&(i=0);var a=vn(n.width,n.height,i),o=a.width,m=a.height;return{x:sm(s.x,o,t.width,r),y:sm(s.y,m,t.height,r)}}function sm(s,n,t,r){var i=n*r/2-t/2;return xi(s,-i,i)}function nm(s,n){return Math.sqrt(Math.pow(s.y-n.y,2)+Math.pow(s.x-n.x,2))}function rm(s,n){return Math.atan2(n.y-s.y,n.x-s.x)*180/Math.PI}function Fb(s,n,t,r,i,a,o){a===void 0&&(a=0),o===void 0&&(o=!0);var m=o?Wb:qb,d=vn(n.width,n.height,a),p=vn(n.naturalWidth,n.naturalHeight,a),f={x:m(100,((d.width-t.width/i)/2-s.x/i)/d.width*100),y:m(100,((d.height-t.height/i)/2-s.y/i)/d.height*100),width:m(100,t.width/d.width*100/i),height:m(100,t.height/d.height*100/i)},u=Math.round(m(p.width,f.width*p.width/100)),b=Math.round(m(p.height,f.height*p.height/100)),x=p.width>=p.height*r,j=x?{width:Math.round(b*r),height:b}:{width:u,height:Math.round(u/r)},h=Yt(Yt({},j),{x:Math.round(m(p.width-j.width,f.x*p.width/100)),y:Math.round(m(p.height-j.height,f.y*p.height/100))});return{croppedAreaPercentages:f,croppedAreaPixels:h}}function Wb(s,n){return Math.min(s,Math.max(0,n))}function qb(s,n){return n}function Ob(s,n,t,r,i,a){var o=vn(n.width,n.height,t),m=xi(r.width/o.width*(100/s.width),i,a),d={x:m*o.width/2-r.width/2-o.width*m*(s.x/100),y:m*o.height/2-r.height/2-o.height*m*(s.y/100)};return{crop:d,zoom:m}}function $b(s,n,t){var r=Tb(n);return t.height>t.width?t.height/(s.height*r):t.width/(s.width*r)}function zb(s,n,t,r,i,a){t===void 0&&(t=0);var o=vn(n.naturalWidth,n.naturalHeight,t),m=xi($b(s,n,r),i,a),d=r.height>r.width?r.height/s.height:r.width/s.width,p={x:((o.width-s.width)/2-s.x)*d,y:((o.height-s.height)/2-s.y)*d};return{crop:p,zoom:m}}function im(s,n){return{x:(n.x+s.x)/2,y:(n.y+s.y)/2}}function Yb(s){return s*Math.PI/180}function vn(s,n,t){var r=Yb(t);return{width:Math.abs(Math.cos(r)*s)+Math.abs(Math.sin(r)*n),height:Math.abs(Math.sin(r)*s)+Math.abs(Math.cos(r)*n)}}function xi(s,n,t){return Math.min(Math.max(s,n),t)}function wr(){for(var s=[],n=0;n<arguments.length;n++)s[n]=arguments[n];return s.filter(function(t){return typeof t=="string"&&t.length>0}).join(" ").trim()}var Kb=`.reactEasyCrop_Container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  user-select: none;
  touch-action: none;
  cursor: move;
  display: flex;
  justify-content: center;
  align-items: center;
}

.reactEasyCrop_Image,
.reactEasyCrop_Video {
  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */
}

.reactEasyCrop_Contain {
  max-width: 100%;
  max-height: 100%;
  margin: auto;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.reactEasyCrop_Cover_Horizontal {
  width: 100%;
  height: auto;
}
.reactEasyCrop_Cover_Vertical {
  width: auto;
  height: 100%;
}

.reactEasyCrop_CropArea {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-sizing: border-box;
  box-shadow: 0 0 0 9999em;
  color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

.reactEasyCrop_CropAreaRound {
  border-radius: 50%;
}

.reactEasyCrop_CropAreaGrid::before {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 0;
  bottom: 0;
  left: 33.33%;
  right: 33.33%;
  border-top: 0;
  border-bottom: 0;
}

.reactEasyCrop_CropAreaGrid::after {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 33.33%;
  bottom: 33.33%;
  left: 0;
  right: 0;
  border-left: 0;
  border-right: 0;
}
`,Xb=1,Jb=3,Qb=1,Gb=function(s){Ab(n,s);function n(){var t=s!==null&&s.apply(this,arguments)||this;return t.cropperRef=l.createRef(),t.imageRef=l.createRef(),t.videoRef=l.createRef(),t.containerPosition={x:0,y:0},t.containerRef=null,t.styleRef=null,t.containerRect=null,t.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},t.dragStartPosition={x:0,y:0},t.dragStartCrop={x:0,y:0},t.gestureZoomStart=0,t.gestureRotationStart=0,t.isTouching=!1,t.lastPinchDistance=0,t.lastPinchRotation=0,t.rafDragTimeout=null,t.rafPinchTimeout=null,t.wheelTimer=null,t.currentDoc=typeof document<"u"?document:null,t.currentWindow=typeof window<"u"?window:null,t.resizeObserver=null,t.previousCropSize=null,t.isInitialized=!1,t.state={cropSize:null,hasWheelJustStarted:!1,mediaObjectFit:void 0},t.initResizeObserver=function(){if(!(typeof window.ResizeObserver>"u"||!t.containerRef)){var r=!0;t.resizeObserver=new window.ResizeObserver(function(i){if(r){r=!1;return}t.computeSizes()}),t.resizeObserver.observe(t.containerRef)}},t.preventZoomSafari=function(r){return r.preventDefault()},t.cleanEvents=function(){t.currentDoc&&(t.currentDoc.removeEventListener("mousemove",t.onMouseMove),t.currentDoc.removeEventListener("mouseup",t.onDragStopped),t.currentDoc.removeEventListener("touchmove",t.onTouchMove),t.currentDoc.removeEventListener("touchend",t.onDragStopped),t.currentDoc.removeEventListener("gesturechange",t.onGestureChange),t.currentDoc.removeEventListener("gestureend",t.onGestureEnd),t.currentDoc.removeEventListener("scroll",t.onScroll))},t.clearScrollEvent=function(){t.containerRef&&t.containerRef.removeEventListener("wheel",t.onWheel),t.wheelTimer&&clearTimeout(t.wheelTimer)},t.onMediaLoad=function(){var r=t.computeSizes();r&&(t.previousCropSize=r,t.emitCropData(),t.setInitialCrop(r),t.isInitialized=!0),t.props.onMediaLoaded&&t.props.onMediaLoaded(t.mediaSize)},t.setInitialCrop=function(r){if(t.props.initialCroppedAreaPercentages){var i=Ob(t.props.initialCroppedAreaPercentages,t.mediaSize,t.props.rotation,r,t.props.minZoom,t.props.maxZoom),a=i.crop,o=i.zoom;t.props.onCropChange(a),t.props.onZoomChange&&t.props.onZoomChange(o)}else if(t.props.initialCroppedAreaPixels){var m=zb(t.props.initialCroppedAreaPixels,t.mediaSize,t.props.rotation,r,t.props.minZoom,t.props.maxZoom),a=m.crop,o=m.zoom;t.props.onCropChange(a),t.props.onZoomChange&&t.props.onZoomChange(o)}},t.computeSizes=function(){var r,i,a,o,m,d,p=t.imageRef.current||t.videoRef.current;if(p&&t.containerRef){t.containerRect=t.containerRef.getBoundingClientRect(),t.saveContainerPosition();var f=t.containerRect.width/t.containerRect.height,u=((r=t.imageRef.current)===null||r===void 0?void 0:r.naturalWidth)||((i=t.videoRef.current)===null||i===void 0?void 0:i.videoWidth)||0,b=((a=t.imageRef.current)===null||a===void 0?void 0:a.naturalHeight)||((o=t.videoRef.current)===null||o===void 0?void 0:o.videoHeight)||0,x=p.offsetWidth<u||p.offsetHeight<b,j=u/b,h=void 0;if(x)switch(t.state.mediaObjectFit){default:case"contain":h=f>j?{width:t.containerRect.height*j,height:t.containerRect.height}:{width:t.containerRect.width,height:t.containerRect.width/j};break;case"horizontal-cover":h={width:t.containerRect.width,height:t.containerRect.width/j};break;case"vertical-cover":h={width:t.containerRect.height*j,height:t.containerRect.height};break}else h={width:p.offsetWidth,height:p.offsetHeight};t.mediaSize=Yt(Yt({},h),{naturalWidth:u,naturalHeight:b}),t.props.setMediaSize&&t.props.setMediaSize(t.mediaSize);var L=t.props.cropSize?t.props.cropSize:Ib(t.mediaSize.width,t.mediaSize.height,t.containerRect.width,t.containerRect.height,t.props.aspect,t.props.rotation);return(((m=t.state.cropSize)===null||m===void 0?void 0:m.height)!==L.height||((d=t.state.cropSize)===null||d===void 0?void 0:d.width)!==L.width)&&t.props.onCropSizeChange&&t.props.onCropSizeChange(L),t.setState({cropSize:L},t.recomputeCropPosition),t.props.setCropSize&&t.props.setCropSize(L),L}},t.saveContainerPosition=function(){if(t.containerRef){var r=t.containerRef.getBoundingClientRect();t.containerPosition={x:r.left,y:r.top}}},t.onMouseDown=function(r){t.currentDoc&&(r.preventDefault(),t.currentDoc.addEventListener("mousemove",t.onMouseMove),t.currentDoc.addEventListener("mouseup",t.onDragStopped),t.saveContainerPosition(),t.onDragStart(n.getMousePoint(r)))},t.onMouseMove=function(r){return t.onDrag(n.getMousePoint(r))},t.onScroll=function(r){t.currentDoc&&(r.preventDefault(),t.saveContainerPosition())},t.onTouchStart=function(r){t.currentDoc&&(t.isTouching=!0,!(t.props.onTouchRequest&&!t.props.onTouchRequest(r))&&(t.currentDoc.addEventListener("touchmove",t.onTouchMove,{passive:!1}),t.currentDoc.addEventListener("touchend",t.onDragStopped),t.saveContainerPosition(),r.touches.length===2?t.onPinchStart(r):r.touches.length===1&&t.onDragStart(n.getTouchPoint(r.touches[0]))))},t.onTouchMove=function(r){r.preventDefault(),r.touches.length===2?t.onPinchMove(r):r.touches.length===1&&t.onDrag(n.getTouchPoint(r.touches[0]))},t.onGestureStart=function(r){t.currentDoc&&(r.preventDefault(),t.currentDoc.addEventListener("gesturechange",t.onGestureChange),t.currentDoc.addEventListener("gestureend",t.onGestureEnd),t.gestureZoomStart=t.props.zoom,t.gestureRotationStart=t.props.rotation)},t.onGestureChange=function(r){if(r.preventDefault(),!t.isTouching){var i=n.getMousePoint(r),a=t.gestureZoomStart-1+r.scale;if(t.setNewZoom(a,i,{shouldUpdatePosition:!0}),t.props.onRotationChange){var o=t.gestureRotationStart+r.rotation;t.props.onRotationChange(o)}}},t.onGestureEnd=function(r){t.cleanEvents()},t.onDragStart=function(r){var i,a,o=r.x,m=r.y;t.dragStartPosition={x:o,y:m},t.dragStartCrop=Yt({},t.props.crop),(a=(i=t.props).onInteractionStart)===null||a===void 0||a.call(i)},t.onDrag=function(r){var i=r.x,a=r.y;t.currentWindow&&(t.rafDragTimeout&&t.currentWindow.cancelAnimationFrame(t.rafDragTimeout),t.rafDragTimeout=t.currentWindow.requestAnimationFrame(function(){if(t.state.cropSize&&!(i===void 0||a===void 0)){var o=i-t.dragStartPosition.x,m=a-t.dragStartPosition.y,d={x:t.dragStartCrop.x+o,y:t.dragStartCrop.y+m},p=t.props.restrictPosition?Tn(d,t.mediaSize,t.state.cropSize,t.props.zoom,t.props.rotation):d;t.props.onCropChange(p)}}))},t.onDragStopped=function(){var r,i;t.isTouching=!1,t.cleanEvents(),t.emitCropData(),(i=(r=t.props).onInteractionEnd)===null||i===void 0||i.call(r)},t.onWheel=function(r){if(t.currentWindow&&!(t.props.onWheelRequest&&!t.props.onWheelRequest(r))){r.preventDefault();var i=n.getMousePoint(r),a=Mb(r).pixelY,o=t.props.zoom-a*t.props.zoomSpeed/200;t.setNewZoom(o,i,{shouldUpdatePosition:!0}),t.state.hasWheelJustStarted||t.setState({hasWheelJustStarted:!0},function(){var m,d;return(d=(m=t.props).onInteractionStart)===null||d===void 0?void 0:d.call(m)}),t.wheelTimer&&clearTimeout(t.wheelTimer),t.wheelTimer=t.currentWindow.setTimeout(function(){return t.setState({hasWheelJustStarted:!1},function(){var m,d;return(d=(m=t.props).onInteractionEnd)===null||d===void 0?void 0:d.call(m)})},250)}},t.getPointOnContainer=function(r,i){var a=r.x,o=r.y;if(!t.containerRect)throw new Error("The Cropper is not mounted");return{x:t.containerRect.width/2-(a-i.x),y:t.containerRect.height/2-(o-i.y)}},t.getPointOnMedia=function(r){var i=r.x,a=r.y,o=t.props,m=o.crop,d=o.zoom;return{x:(i+m.x)/d,y:(a+m.y)/d}},t.setNewZoom=function(r,i,a){var o=a===void 0?{}:a,m=o.shouldUpdatePosition,d=m===void 0?!0:m;if(!(!t.state.cropSize||!t.props.onZoomChange)){var p=xi(r,t.props.minZoom,t.props.maxZoom);if(d){var f=t.getPointOnContainer(i,t.containerPosition),u=t.getPointOnMedia(f),b={x:u.x*p-f.x,y:u.y*p-f.y},x=t.props.restrictPosition?Tn(b,t.mediaSize,t.state.cropSize,p,t.props.rotation):b;t.props.onCropChange(x)}t.props.onZoomChange(p)}},t.getCropData=function(){if(!t.state.cropSize)return null;var r=t.props.restrictPosition?Tn(t.props.crop,t.mediaSize,t.state.cropSize,t.props.zoom,t.props.rotation):t.props.crop;return Fb(r,t.mediaSize,t.state.cropSize,t.getAspect(),t.props.zoom,t.props.rotation,t.props.restrictPosition)},t.emitCropData=function(){var r=t.getCropData();if(r){var i=r.croppedAreaPercentages,a=r.croppedAreaPixels;t.props.onCropComplete&&t.props.onCropComplete(i,a),t.props.onCropAreaChange&&t.props.onCropAreaChange(i,a)}},t.emitCropAreaChange=function(){var r=t.getCropData();if(r){var i=r.croppedAreaPercentages,a=r.croppedAreaPixels;t.props.onCropAreaChange&&t.props.onCropAreaChange(i,a)}},t.recomputeCropPosition=function(){var r,i;if(t.state.cropSize){var a=t.props.crop;if(t.isInitialized&&(!((r=t.previousCropSize)===null||r===void 0)&&r.width)&&(!((i=t.previousCropSize)===null||i===void 0)&&i.height)){var o=Math.abs(t.previousCropSize.width-t.state.cropSize.width)>1e-6||Math.abs(t.previousCropSize.height-t.state.cropSize.height)>1e-6;if(o){var m=t.state.cropSize.width/t.previousCropSize.width,d=t.state.cropSize.height/t.previousCropSize.height;a={x:t.props.crop.x*m,y:t.props.crop.y*d}}}var p=t.props.restrictPosition?Tn(a,t.mediaSize,t.state.cropSize,t.props.zoom,t.props.rotation):a;t.previousCropSize=t.state.cropSize,t.props.onCropChange(p),t.emitCropData()}},t.onKeyDown=function(r){var i,a,o=t.props,m=o.crop,d=o.onCropChange,p=o.keyboardStep,f=o.zoom,u=o.rotation,b=p;if(t.state.cropSize){r.shiftKey&&(b*=.2);var x=Yt({},m);switch(r.key){case"ArrowUp":x.y-=b,r.preventDefault();break;case"ArrowDown":x.y+=b,r.preventDefault();break;case"ArrowLeft":x.x-=b,r.preventDefault();break;case"ArrowRight":x.x+=b,r.preventDefault();break;default:return}t.props.restrictPosition&&(x=Tn(x,t.mediaSize,t.state.cropSize,f,u)),r.repeat||(a=(i=t.props).onInteractionStart)===null||a===void 0||a.call(i),d(x)}},t.onKeyUp=function(r){var i,a;switch(r.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":r.preventDefault();break;default:return}t.emitCropData(),(a=(i=t.props).onInteractionEnd)===null||a===void 0||a.call(i)},t}return n.prototype.componentDidMount=function(){!this.currentDoc||!this.currentWindow||(this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.initResizeObserver(),typeof window.ResizeObserver>"u"&&this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.currentDoc.addEventListener("scroll",this.onScroll),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=Kb,this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef),this.props.setCropperRef&&this.props.setCropperRef(this.cropperRef))},n.prototype.componentWillUnmount=function(){var t,r;!this.currentDoc||!this.currentWindow||(typeof window.ResizeObserver>"u"&&this.currentWindow.removeEventListener("resize",this.computeSizes),(t=this.resizeObserver)===null||t===void 0||t.disconnect(),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&((r=this.styleRef.parentNode)===null||r===void 0||r.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent())},n.prototype.componentDidUpdate=function(t){var r,i,a,o,m,d,p,f,u;t.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):t.aspect!==this.props.aspect?this.computeSizes():t.objectFit!==this.props.objectFit?this.computeSizes():t.zoom!==this.props.zoom?this.recomputeCropPosition():((r=t.cropSize)===null||r===void 0?void 0:r.height)!==((i=this.props.cropSize)===null||i===void 0?void 0:i.height)||((a=t.cropSize)===null||a===void 0?void 0:a.width)!==((o=this.props.cropSize)===null||o===void 0?void 0:o.width)?this.computeSizes():(((m=t.crop)===null||m===void 0?void 0:m.x)!==((d=this.props.crop)===null||d===void 0?void 0:d.x)||((p=t.crop)===null||p===void 0?void 0:p.y)!==((f=this.props.crop)===null||f===void 0?void 0:f.y))&&this.emitCropAreaChange(),t.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),t.video!==this.props.video&&((u=this.videoRef.current)===null||u===void 0||u.load());var b=this.getObjectFit();b!==this.state.mediaObjectFit&&this.setState({mediaObjectFit:b},this.computeSizes)},n.prototype.getAspect=function(){var t=this.props,r=t.cropSize,i=t.aspect;return r?r.width/r.height:i},n.prototype.getObjectFit=function(){var t,r,i,a;if(this.props.objectFit==="cover"){var o=this.imageRef.current||this.videoRef.current;if(o&&this.containerRef){this.containerRect=this.containerRef.getBoundingClientRect();var m=this.containerRect.width/this.containerRect.height,d=((t=this.imageRef.current)===null||t===void 0?void 0:t.naturalWidth)||((r=this.videoRef.current)===null||r===void 0?void 0:r.videoWidth)||0,p=((i=this.imageRef.current)===null||i===void 0?void 0:i.naturalHeight)||((a=this.videoRef.current)===null||a===void 0?void 0:a.videoHeight)||0,f=d/p;return f<m?"horizontal-cover":"vertical-cover"}return"horizontal-cover"}return this.props.objectFit},n.prototype.onPinchStart=function(t){var r=n.getTouchPoint(t.touches[0]),i=n.getTouchPoint(t.touches[1]);this.lastPinchDistance=nm(r,i),this.lastPinchRotation=rm(r,i),this.onDragStart(im(r,i))},n.prototype.onPinchMove=function(t){var r=this;if(!(!this.currentDoc||!this.currentWindow)){var i=n.getTouchPoint(t.touches[0]),a=n.getTouchPoint(t.touches[1]),o=im(i,a);this.onDrag(o),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var m=nm(i,a),d=r.props.zoom*(m/r.lastPinchDistance);r.setNewZoom(d,o,{shouldUpdatePosition:!1}),r.lastPinchDistance=m;var p=rm(i,a),f=r.props.rotation+(p-r.lastPinchRotation);r.props.onRotationChange&&r.props.onRotationChange(f),r.lastPinchRotation=p})}},n.prototype.render=function(){var t=this,r,i=this.props,a=i.image,o=i.video,m=i.mediaProps,d=i.cropperProps,p=i.transform,f=i.crop,u=f.x,b=f.y,x=i.rotation,j=i.zoom,h=i.cropShape,L=i.showGrid,I=i.roundCropAreaPixels,y=i.style,M=y.containerStyle,se=y.cropAreaStyle,re=y.mediaStyle,w=i.classes,O=w.containerClassName,ie=w.cropAreaClassName,de=w.mediaClassName,ue=(r=this.state.mediaObjectFit)!==null&&r!==void 0?r:this.getObjectFit();return l.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(Q){return t.containerRef=Q},"data-testid":"container",style:M,className:wr("reactEasyCrop_Container",O)},a?l.createElement("img",Yt({alt:"",className:wr("reactEasyCrop_Image",ue==="contain"&&"reactEasyCrop_Contain",ue==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",ue==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",de)},m,{src:a,ref:this.imageRef,style:Yt(Yt({},re),{transform:p||"translate(".concat(u,"px, ").concat(b,"px) rotate(").concat(x,"deg) scale(").concat(j,")")}),onLoad:this.onMediaLoad})):o&&l.createElement("video",Yt({autoPlay:!0,playsInline:!0,loop:!0,muted:!0,className:wr("reactEasyCrop_Video",ue==="contain"&&"reactEasyCrop_Contain",ue==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",ue==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",de)},m,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:Yt(Yt({},re),{transform:p||"translate(".concat(u,"px, ").concat(b,"px) rotate(").concat(x,"deg) scale(").concat(j,")")}),controls:!1}),(Array.isArray(o)?o:[{src:o}]).map(function(ve){return l.createElement("source",Yt({key:ve.src},ve))})),this.state.cropSize&&l.createElement("div",Yt({ref:this.cropperRef,style:Yt(Yt({},se),{width:I?Math.round(this.state.cropSize.width):this.state.cropSize.width,height:I?Math.round(this.state.cropSize.height):this.state.cropSize.height}),tabIndex:0,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,"data-testid":"cropper",className:wr("reactEasyCrop_CropArea",h==="round"&&"reactEasyCrop_CropAreaRound",L&&"reactEasyCrop_CropAreaGrid",ie)},d)))},n.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:Jb,minZoom:Xb,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},cropperProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0,keyboardStep:Qb},n.getMousePoint=function(t){return{x:Number(t.clientX),y:Number(t.clientY)}},n.getTouchPoint=function(t){return{x:Number(t.clientX),y:Number(t.clientY)}},n}(l.Component);const Zb=s=>new Promise((n,t)=>{const r=new Image;r.addEventListener("load",()=>n(r)),r.addEventListener("error",i=>t(i)),r.crossOrigin="anonymous",r.src=s});async function ex(s,n,t=0){const r=await Zb(s),i=document.createElement("canvas"),a=i.getContext("2d");if(!a)throw new Error("No 2d context");const o=t*Math.PI/180,m=Math.abs(Math.sin(o)),d=Math.abs(Math.cos(o)),p=r.width*d+r.height*m,f=r.width*m+r.height*d;i.width=n.width,i.height=n.height;const u=document.createElement("canvas"),b=u.getContext("2d");if(!b)throw new Error("No 2d context");u.width=p,u.height=f,b.translate(p/2,f/2),b.rotate(o),b.translate(-r.width/2,-r.height/2),b.drawImage(r,0,0);const x=(p-r.width)/2,j=(f-r.height)/2;return a.drawImage(u,n.x+x,n.y+j,n.width,n.height,0,0,n.width,n.height),i.toDataURL("image/jpeg",.9)}const tx=({image:s,onCropComplete:n,onCancel:t,aspectRatio:r=1})=>{const[i,a]=l.useState({x:0,y:0}),[o,m]=l.useState(1),[d,p]=l.useState(0),[f,u]=l.useState(null),b=l.useCallback(I=>{a(I)},[]),x=l.useCallback(I=>{m(I)},[]),j=l.useCallback((I,y)=>{u(y)},[]),h=()=>{p(I=>(I+90)%360)},L=async()=>{if(f)try{const I=await ex(s,f,d);n(I)}catch(I){console.error("Error cropping image:",I)}};return e.jsxDEV("div",{className:"fixed inset-0 bg-black/80 z-50 flex flex-col",children:[e.jsxDEV("div",{className:"flex items-center justify-between p-4 bg-black/50",children:[e.jsxDEV("button",{onClick:t,className:"p-2 text-white hover:bg-white/20 rounded-full transition-colors",children:e.jsxDEV(dt,{className:"w-6 h-6"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ImageCropper.tsx",lineNumber:131,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ImageCropper.tsx",lineNumber:127,columnNumber:9},void 0),e.jsxDEV("span",{className:"text-white font-medium",children:"  (1:1)"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ImageCropper.tsx",lineNumber:133,columnNumber:9},void 0),e.jsxDEV("button",{onClick:L,className:"p-2 text-white hover:bg-white/20 rounded-full transition-colors",children:e.jsxDEV(Na,{className:"w-6 h-6"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ImageCropper.tsx",lineNumber:138,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ImageCropper.tsx",lineNumber:134,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ImageCropper.tsx",lineNumber:126,columnNumber:7},void 0),e.jsxDEV("div",{className:"flex-1 relative",children:e.jsxDEV(Gb,{image:s,crop:i,zoom:o,rotation:d,aspect:r,onCropChange:b,onZoomChange:x,onCropComplete:j,cropShape:"rect",showGrid:!0,style:{containerStyle:{backgroundColor:"#000"}}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ImageCropper.tsx",lineNumber:144,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ImageCropper.tsx",lineNumber:143,columnNumber:7},void 0),e.jsxDEV("div",{className:"p-4 bg-black/50",children:e.jsxDEV("div",{className:"flex items-center justify-center gap-6",children:[e.jsxDEV("button",{onClick:h,className:"p-3 text-white hover:bg-white/20 rounded-full transition-colors",title:"90 ",children:e.jsxDEV(wc,{className:"w-6 h-6"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ImageCropper.tsx",lineNumber:172,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ImageCropper.tsx",lineNumber:167,columnNumber:11},void 0),e.jsxDEV("div",{className:"flex items-center gap-3 flex-1 max-w-xs",children:[e.jsxDEV("span",{className:"text-white text-sm",children:"-"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ImageCropper.tsx",lineNumber:177,columnNumber:13},void 0),e.jsxDEV("input",{type:"range",min:1,max:3,step:.1,value:o,onChange:I=>m(Number(I.target.value)),className:"w-full h-2 bg-white/30 rounded-lg appearance-none cursor-pointer accent-white"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ImageCropper.tsx",lineNumber:178,columnNumber:13},void 0),e.jsxDEV("span",{className:"text-white text-sm",children:"+"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ImageCropper.tsx",lineNumber:187,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ImageCropper.tsx",lineNumber:176,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ImageCropper.tsx",lineNumber:165,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ImageCropper.tsx",lineNumber:164,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ImageCropper.tsx",lineNumber:124,columnNumber:5},void 0)};function sx(){for(var s=arguments.length,n=new Array(s),t=0;t<s;t++)n[t]=arguments[t];return l.useMemo(()=>r=>{n.forEach(i=>i(r))},n)}const yi=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function jn(s){const n=Object.prototype.toString.call(s);return n==="[object Window]"||n==="[object global]"}function Oa(s){return"nodeType"in s}function ms(s){var n,t;return s?jn(s)?s:Oa(s)&&(n=(t=s.ownerDocument)==null?void 0:t.defaultView)!=null?n:window:window}function $a(s){const{Document:n}=ms(s);return s instanceof n}function lr(s){return jn(s)?!1:s instanceof ms(s).HTMLElement}function Sd(s){return s instanceof ms(s).SVGElement}function Ln(s){return s?jn(s)?s.document:Oa(s)?$a(s)?s:lr(s)||Sd(s)?s.ownerDocument:document:document:document}const Hs=yi?l.useLayoutEffect:l.useEffect;function za(s){const n=l.useRef(s);return Hs(()=>{n.current=s}),l.useCallback(function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return n.current==null?void 0:n.current(...r)},[])}function nx(){const s=l.useRef(null),n=l.useCallback((r,i)=>{s.current=setInterval(r,i)},[]),t=l.useCallback(()=>{s.current!==null&&(clearInterval(s.current),s.current=null)},[]);return[n,t]}function tr(s,n){n===void 0&&(n=[s]);const t=l.useRef(s);return Hs(()=>{t.current!==s&&(t.current=s)},n),t}function dr(s,n){const t=l.useRef();return l.useMemo(()=>{const r=s(t.current);return t.current=r,r},[...n])}function Qr(s){const n=za(s),t=l.useRef(null),r=l.useCallback(i=>{i!==t.current&&(n==null||n(i,t.current)),t.current=i},[]);return[t,r]}function la(s){const n=l.useRef();return l.useEffect(()=>{n.current=s},[s]),n.current}let Ui={};function cr(s,n){return l.useMemo(()=>{if(n)return n;const t=Ui[s]==null?0:Ui[s]+1;return Ui[s]=t,s+"-"+t},[s,n])}function Pd(s){return function(n){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return r.reduce((a,o)=>{const m=Object.entries(o);for(const[d,p]of m){const f=a[d];f!=null&&(a[d]=f+s*p)}return a},{...n})}}const yn=Pd(1),sr=Pd(-1);function rx(s){return"clientX"in s&&"clientY"in s}function Ya(s){if(!s)return!1;const{KeyboardEvent:n}=ms(s.target);return n&&s instanceof n}function ix(s){if(!s)return!1;const{TouchEvent:n}=ms(s.target);return n&&s instanceof n}function da(s){if(ix(s)){if(s.touches&&s.touches.length){const{clientX:n,clientY:t}=s.touches[0];return{x:n,y:t}}else if(s.changedTouches&&s.changedTouches.length){const{clientX:n,clientY:t}=s.changedTouches[0];return{x:n,y:t}}}return rx(s)?{x:s.clientX,y:s.clientY}:null}const Dn=Object.freeze({Translate:{toString(s){if(!s)return;const{x:n,y:t}=s;return"translate3d("+(n?Math.round(n):0)+"px, "+(t?Math.round(t):0)+"px, 0)"}},Scale:{toString(s){if(!s)return;const{scaleX:n,scaleY:t}=s;return"scaleX("+n+") scaleY("+t+")"}},Transform:{toString(s){if(s)return[Dn.Translate.toString(s),Dn.Scale.toString(s)].join(" ")}},Transition:{toString(s){let{property:n,duration:t,easing:r}=s;return n+" "+t+"ms "+r}}}),am="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function ax(s){return s.matches(am)?s:s.querySelector(am)}const ox={display:"none"};function mx(s){let{id:n,value:t}=s;return tt.createElement("div",{id:n,style:ox},t)}function lx(s){let{id:n,announcement:t,ariaLiveType:r="assertive"}=s;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return tt.createElement("div",{id:n,style:i,role:"status","aria-live":r,"aria-atomic":!0},t)}function dx(){const[s,n]=l.useState("");return{announce:l.useCallback(r=>{r!=null&&n(r)},[]),announcement:s}}const Rd=l.createContext(null);function cx(s){const n=l.useContext(Rd);l.useEffect(()=>{if(!n)throw new Error("useDndMonitor must be used within a children of <DndContext>");return n(s)},[s,n])}function ux(){const[s]=l.useState(()=>new Set),n=l.useCallback(r=>(s.add(r),()=>s.delete(r)),[s]);return[l.useCallback(r=>{let{type:i,event:a}=r;s.forEach(o=>{var m;return(m=o[i])==null?void 0:m.call(o,a)})},[s]),n]}const px={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},fx={onDragStart(s){let{active:n}=s;return"Picked up draggable item "+n.id+"."},onDragOver(s){let{active:n,over:t}=s;return t?"Draggable item "+n.id+" was moved over droppable area "+t.id+".":"Draggable item "+n.id+" is no longer over a droppable area."},onDragEnd(s){let{active:n,over:t}=s;return t?"Draggable item "+n.id+" was dropped over droppable area "+t.id:"Draggable item "+n.id+" was dropped."},onDragCancel(s){let{active:n}=s;return"Dragging was cancelled. Draggable item "+n.id+" was dropped."}};function gx(s){let{announcements:n=fx,container:t,hiddenTextDescribedById:r,screenReaderInstructions:i=px}=s;const{announce:a,announcement:o}=dx(),m=cr("DndLiveRegion"),[d,p]=l.useState(!1);if(l.useEffect(()=>{p(!0)},[]),cx(l.useMemo(()=>({onDragStart(u){let{active:b}=u;a(n.onDragStart({active:b}))},onDragMove(u){let{active:b,over:x}=u;n.onDragMove&&a(n.onDragMove({active:b,over:x}))},onDragOver(u){let{active:b,over:x}=u;a(n.onDragOver({active:b,over:x}))},onDragEnd(u){let{active:b,over:x}=u;a(n.onDragEnd({active:b,over:x}))},onDragCancel(u){let{active:b,over:x}=u;a(n.onDragCancel({active:b,over:x}))}}),[a,n])),!d)return null;const f=tt.createElement(tt.Fragment,null,tt.createElement(mx,{id:r,value:i.draggable}),tt.createElement(lx,{id:m,announcement:o}));return t?xn.createPortal(f,t):f}var Wt;(function(s){s.DragStart="dragStart",s.DragMove="dragMove",s.DragEnd="dragEnd",s.DragCancel="dragCancel",s.DragOver="dragOver",s.RegisterDroppable="registerDroppable",s.SetDroppableDisabled="setDroppableDisabled",s.UnregisterDroppable="unregisterDroppable"})(Wt||(Wt={}));function Gr(){}function om(s,n){return l.useMemo(()=>({sensor:s,options:n??{}}),[s,n])}function Nx(){for(var s=arguments.length,n=new Array(s),t=0;t<s;t++)n[t]=arguments[t];return l.useMemo(()=>[...n].filter(r=>r!=null),[...n])}const hs=Object.freeze({x:0,y:0});function Md(s,n){return Math.sqrt(Math.pow(s.x-n.x,2)+Math.pow(s.y-n.y,2))}function Id(s,n){let{data:{value:t}}=s,{data:{value:r}}=n;return t-r}function bx(s,n){let{data:{value:t}}=s,{data:{value:r}}=n;return r-t}function mm(s){let{left:n,top:t,height:r,width:i}=s;return[{x:n,y:t},{x:n+i,y:t},{x:n,y:t+r},{x:n+i,y:t+r}]}function Td(s,n){if(!s||s.length===0)return null;const[t]=s;return t[n]}function lm(s,n,t){return n===void 0&&(n=s.left),t===void 0&&(t=s.top),{x:n+s.width*.5,y:t+s.height*.5}}const dm=s=>{let{collisionRect:n,droppableRects:t,droppableContainers:r}=s;const i=lm(n,n.left,n.top),a=[];for(const o of r){const{id:m}=o,d=t.get(m);if(d){const p=Md(lm(d),i);a.push({id:m,data:{droppableContainer:o,value:p}})}}return a.sort(Id)},xx=s=>{let{collisionRect:n,droppableRects:t,droppableContainers:r}=s;const i=mm(n),a=[];for(const o of r){const{id:m}=o,d=t.get(m);if(d){const p=mm(d),f=i.reduce((b,x,j)=>b+Md(p[j],x),0),u=Number((f/4).toFixed(4));a.push({id:m,data:{droppableContainer:o,value:u}})}}return a.sort(Id)};function yx(s,n){const t=Math.max(n.top,s.top),r=Math.max(n.left,s.left),i=Math.min(n.left+n.width,s.left+s.width),a=Math.min(n.top+n.height,s.top+s.height),o=i-r,m=a-t;if(r<i&&t<a){const d=n.width*n.height,p=s.width*s.height,f=o*m,u=f/(d+p-f);return Number(u.toFixed(4))}return 0}const hx=s=>{let{collisionRect:n,droppableRects:t,droppableContainers:r}=s;const i=[];for(const a of r){const{id:o}=a,m=t.get(o);if(m){const d=yx(m,n);d>0&&i.push({id:o,data:{droppableContainer:a,value:d}})}}return i.sort(bx)};function kx(s,n,t){return{...s,scaleX:n&&t?n.width/t.width:1,scaleY:n&&t?n.height/t.height:1}}function Fd(s,n){return s&&n?{x:s.left-n.left,y:s.top-n.top}:hs}function vx(s){return function(t){for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return i.reduce((o,m)=>({...o,top:o.top+s*m.y,bottom:o.bottom+s*m.y,left:o.left+s*m.x,right:o.right+s*m.x}),{...t})}}const Dx=vx(1);function Vx(s){if(s.startsWith("matrix3d(")){const n=s.slice(9,-1).split(/, /);return{x:+n[12],y:+n[13],scaleX:+n[0],scaleY:+n[5]}}else if(s.startsWith("matrix(")){const n=s.slice(7,-1).split(/, /);return{x:+n[4],y:+n[5],scaleX:+n[0],scaleY:+n[3]}}return null}function Cx(s,n,t){const r=Vx(n);if(!r)return s;const{scaleX:i,scaleY:a,x:o,y:m}=r,d=s.left-o-(1-i)*parseFloat(t),p=s.top-m-(1-a)*parseFloat(t.slice(t.indexOf(" ")+1)),f=i?s.width/i:s.width,u=a?s.height/a:s.height;return{width:f,height:u,top:p,right:d+f,bottom:p+u,left:d}}const Ex={ignoreTransform:!1};function Hn(s,n){n===void 0&&(n=Ex);let t=s.getBoundingClientRect();if(n.ignoreTransform){const{transform:p,transformOrigin:f}=ms(s).getComputedStyle(s);p&&(t=Cx(t,p,f))}const{top:r,left:i,width:a,height:o,bottom:m,right:d}=t;return{top:r,left:i,width:a,height:o,bottom:m,right:d}}function cm(s){return Hn(s,{ignoreTransform:!0})}function Ax(s){const n=s.innerWidth,t=s.innerHeight;return{top:0,left:0,right:n,bottom:t,width:n,height:t}}function wx(s,n){return n===void 0&&(n=ms(s).getComputedStyle(s)),n.position==="fixed"}function _x(s,n){n===void 0&&(n=ms(s).getComputedStyle(s));const t=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const a=n[i];return typeof a=="string"?t.test(a):!1})}function hi(s,n){const t=[];function r(i){if(n!=null&&t.length>=n||!i)return t;if($a(i)&&i.scrollingElement!=null&&!t.includes(i.scrollingElement))return t.push(i.scrollingElement),t;if(!lr(i)||Sd(i)||t.includes(i))return t;const a=ms(s).getComputedStyle(i);return i!==s&&_x(i,a)&&t.push(i),wx(i,a)?t:r(i.parentNode)}return s?r(s):t}function Wd(s){const[n]=hi(s,1);return n??null}function Si(s){return!yi||!s?null:jn(s)?s:Oa(s)?$a(s)||s===Ln(s).scrollingElement?window:lr(s)?s:null:null}function qd(s){return jn(s)?s.scrollX:s.scrollLeft}function Od(s){return jn(s)?s.scrollY:s.scrollTop}function ca(s){return{x:qd(s),y:Od(s)}}var Kt;(function(s){s[s.Forward=1]="Forward",s[s.Backward=-1]="Backward"})(Kt||(Kt={}));function $d(s){return!yi||!s?!1:s===document.scrollingElement}function zd(s){const n={x:0,y:0},t=$d(s)?{height:window.innerHeight,width:window.innerWidth}:{height:s.clientHeight,width:s.clientWidth},r={x:s.scrollWidth-t.width,y:s.scrollHeight-t.height},i=s.scrollTop<=n.y,a=s.scrollLeft<=n.x,o=s.scrollTop>=r.y,m=s.scrollLeft>=r.x;return{isTop:i,isLeft:a,isBottom:o,isRight:m,maxScroll:r,minScroll:n}}const jx={x:.2,y:.2};function Lx(s,n,t,r,i){let{top:a,left:o,right:m,bottom:d}=t;r===void 0&&(r=10),i===void 0&&(i=jx);const{isTop:p,isBottom:f,isLeft:u,isRight:b}=zd(s),x={x:0,y:0},j={x:0,y:0},h={height:n.height*i.y,width:n.width*i.x};return!p&&a<=n.top+h.height?(x.y=Kt.Backward,j.y=r*Math.abs((n.top+h.height-a)/h.height)):!f&&d>=n.bottom-h.height&&(x.y=Kt.Forward,j.y=r*Math.abs((n.bottom-h.height-d)/h.height)),!b&&m>=n.right-h.width?(x.x=Kt.Forward,j.x=r*Math.abs((n.right-h.width-m)/h.width)):!u&&o<=n.left+h.width&&(x.x=Kt.Backward,j.x=r*Math.abs((n.left+h.width-o)/h.width)),{direction:x,speed:j}}function Hx(s){if(s===document.scrollingElement){const{innerWidth:a,innerHeight:o}=window;return{top:0,left:0,right:a,bottom:o,width:a,height:o}}const{top:n,left:t,right:r,bottom:i}=s.getBoundingClientRect();return{top:n,left:t,right:r,bottom:i,width:s.clientWidth,height:s.clientHeight}}function Yd(s){return s.reduce((n,t)=>yn(n,ca(t)),hs)}function Bx(s){return s.reduce((n,t)=>n+qd(t),0)}function Ux(s){return s.reduce((n,t)=>n+Od(t),0)}function Sx(s,n){if(n===void 0&&(n=Hn),!s)return;const{top:t,left:r,bottom:i,right:a}=n(s);Wd(s)&&(i<=0||a<=0||t>=window.innerHeight||r>=window.innerWidth)&&s.scrollIntoView({block:"center",inline:"center"})}const Px=[["x",["left","right"],Bx],["y",["top","bottom"],Ux]];class Ka{constructor(n,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=hi(t),i=Yd(r);this.rect={...n},this.width=n.width,this.height=n.height;for(const[a,o,m]of Px)for(const d of o)Object.defineProperty(this,d,{get:()=>{const p=m(r),f=i[a]-p;return this.rect[d]+f},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Xn{constructor(n){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(t=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...t)})},this.target=n}add(n,t,r){var i;(i=this.target)==null||i.addEventListener(n,t,r),this.listeners.push([n,t,r])}}function Rx(s){const{EventTarget:n}=ms(s);return s instanceof n?s:Ln(s)}function Pi(s,n){const t=Math.abs(s.x),r=Math.abs(s.y);return typeof n=="number"?Math.sqrt(t**2+r**2)>n:"x"in n&&"y"in n?t>n.x&&r>n.y:"x"in n?t>n.x:"y"in n?r>n.y:!1}var ds;(function(s){s.Click="click",s.DragStart="dragstart",s.Keydown="keydown",s.ContextMenu="contextmenu",s.Resize="resize",s.SelectionChange="selectionchange",s.VisibilityChange="visibilitychange"})(ds||(ds={}));function um(s){s.preventDefault()}function Mx(s){s.stopPropagation()}var Nt;(function(s){s.Space="Space",s.Down="ArrowDown",s.Right="ArrowRight",s.Left="ArrowLeft",s.Up="ArrowUp",s.Esc="Escape",s.Enter="Enter",s.Tab="Tab"})(Nt||(Nt={}));const Kd={start:[Nt.Space,Nt.Enter],cancel:[Nt.Esc],end:[Nt.Space,Nt.Enter,Nt.Tab]},Ix=(s,n)=>{let{currentCoordinates:t}=n;switch(s.code){case Nt.Right:return{...t,x:t.x+25};case Nt.Left:return{...t,x:t.x-25};case Nt.Down:return{...t,y:t.y+25};case Nt.Up:return{...t,y:t.y-25}}};class Xa{constructor(n){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=n;const{event:{target:t}}=n;this.props=n,this.listeners=new Xn(Ln(t)),this.windowListeners=new Xn(ms(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(ds.Resize,this.handleCancel),this.windowListeners.add(ds.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(ds.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:n,onStart:t}=this.props,r=n.node.current;r&&Sx(r),t(hs)}handleKeyDown(n){if(Ya(n)){const{active:t,context:r,options:i}=this.props,{keyboardCodes:a=Kd,coordinateGetter:o=Ix,scrollBehavior:m="smooth"}=i,{code:d}=n;if(a.end.includes(d)){this.handleEnd(n);return}if(a.cancel.includes(d)){this.handleCancel(n);return}const{collisionRect:p}=r.current,f=p?{x:p.left,y:p.top}:hs;this.referenceCoordinates||(this.referenceCoordinates=f);const u=o(n,{active:t,context:r.current,currentCoordinates:f});if(u){const b=sr(u,f),x={x:0,y:0},{scrollableAncestors:j}=r.current;for(const h of j){const L=n.code,{isTop:I,isRight:y,isLeft:M,isBottom:se,maxScroll:re,minScroll:w}=zd(h),O=Hx(h),ie={x:Math.min(L===Nt.Right?O.right-O.width/2:O.right,Math.max(L===Nt.Right?O.left:O.left+O.width/2,u.x)),y:Math.min(L===Nt.Down?O.bottom-O.height/2:O.bottom,Math.max(L===Nt.Down?O.top:O.top+O.height/2,u.y))},de=L===Nt.Right&&!y||L===Nt.Left&&!M,ue=L===Nt.Down&&!se||L===Nt.Up&&!I;if(de&&ie.x!==u.x){const ve=h.scrollLeft+b.x,Q=L===Nt.Right&&ve<=re.x||L===Nt.Left&&ve>=w.x;if(Q&&!b.y){h.scrollTo({left:ve,behavior:m});return}Q?x.x=h.scrollLeft-ve:x.x=L===Nt.Right?h.scrollLeft-re.x:h.scrollLeft-w.x,x.x&&h.scrollBy({left:-x.x,behavior:m});break}else if(ue&&ie.y!==u.y){const ve=h.scrollTop+b.y,Q=L===Nt.Down&&ve<=re.y||L===Nt.Up&&ve>=w.y;if(Q&&!b.x){h.scrollTo({top:ve,behavior:m});return}Q?x.y=h.scrollTop-ve:x.y=L===Nt.Down?h.scrollTop-re.y:h.scrollTop-w.y,x.y&&h.scrollBy({top:-x.y,behavior:m});break}}this.handleMove(n,yn(sr(u,this.referenceCoordinates),x))}}}handleMove(n,t){const{onMove:r}=this.props;n.preventDefault(),r(t)}handleEnd(n){const{onEnd:t}=this.props;n.preventDefault(),this.detach(),t()}handleCancel(n){const{onCancel:t}=this.props;n.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Xa.activators=[{eventName:"onKeyDown",handler:(s,n,t)=>{let{keyboardCodes:r=Kd,onActivation:i}=n,{active:a}=t;const{code:o}=s.nativeEvent;if(r.start.includes(o)){const m=a.activatorNode.current;return m&&s.target!==m?!1:(s.preventDefault(),i==null||i({event:s.nativeEvent}),!0)}return!1}}];function pm(s){return!!(s&&"distance"in s)}function fm(s){return!!(s&&"delay"in s)}class Ja{constructor(n,t,r){var i;r===void 0&&(r=Rx(n.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=n,this.events=t;const{event:a}=n,{target:o}=a;this.props=n,this.events=t,this.document=Ln(o),this.documentListeners=new Xn(this.document),this.listeners=new Xn(r),this.windowListeners=new Xn(ms(o)),this.initialCoordinates=(i=da(a))!=null?i:hs,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:n,props:{options:{activationConstraint:t,bypassActivationConstraint:r}}}=this;if(this.listeners.add(n.move.name,this.handleMove,{passive:!1}),this.listeners.add(n.end.name,this.handleEnd),n.cancel&&this.listeners.add(n.cancel.name,this.handleCancel),this.windowListeners.add(ds.Resize,this.handleCancel),this.windowListeners.add(ds.DragStart,um),this.windowListeners.add(ds.VisibilityChange,this.handleCancel),this.windowListeners.add(ds.ContextMenu,um),this.documentListeners.add(ds.Keydown,this.handleKeydown),t){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(fm(t)){this.timeoutId=setTimeout(this.handleStart,t.delay),this.handlePending(t);return}if(pm(t)){this.handlePending(t);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(n,t){const{active:r,onPending:i}=this.props;i(r,n,this.initialCoordinates,t)}handleStart(){const{initialCoordinates:n}=this,{onStart:t}=this.props;n&&(this.activated=!0,this.documentListeners.add(ds.Click,Mx,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(ds.SelectionChange,this.removeTextSelection),t(n))}handleMove(n){var t;const{activated:r,initialCoordinates:i,props:a}=this,{onMove:o,options:{activationConstraint:m}}=a;if(!i)return;const d=(t=da(n))!=null?t:hs,p=sr(i,d);if(!r&&m){if(pm(m)){if(m.tolerance!=null&&Pi(p,m.tolerance))return this.handleCancel();if(Pi(p,m.distance))return this.handleStart()}if(fm(m)&&Pi(p,m.tolerance))return this.handleCancel();this.handlePending(m,p);return}n.cancelable&&n.preventDefault(),o(d)}handleEnd(){const{onAbort:n,onEnd:t}=this.props;this.detach(),this.activated||n(this.props.active),t()}handleCancel(){const{onAbort:n,onCancel:t}=this.props;this.detach(),this.activated||n(this.props.active),t()}handleKeydown(n){n.code===Nt.Esc&&this.handleCancel()}removeTextSelection(){var n;(n=this.document.getSelection())==null||n.removeAllRanges()}}const Tx={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Qa extends Ja{constructor(n){const{event:t}=n,r=Ln(t.target);super(n,Tx,r)}}Qa.activators=[{eventName:"onPointerDown",handler:(s,n)=>{let{nativeEvent:t}=s,{onActivation:r}=n;return!t.isPrimary||t.button!==0?!1:(r==null||r({event:t}),!0)}}];const Fx={move:{name:"mousemove"},end:{name:"mouseup"}};var ua;(function(s){s[s.RightClick=2]="RightClick"})(ua||(ua={}));class Wx extends Ja{constructor(n){super(n,Fx,Ln(n.event.target))}}Wx.activators=[{eventName:"onMouseDown",handler:(s,n)=>{let{nativeEvent:t}=s,{onActivation:r}=n;return t.button===ua.RightClick?!1:(r==null||r({event:t}),!0)}}];const Ri={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class qx extends Ja{constructor(n){super(n,Ri)}static setup(){return window.addEventListener(Ri.move.name,n,{capture:!1,passive:!1}),function(){window.removeEventListener(Ri.move.name,n)};function n(){}}}qx.activators=[{eventName:"onTouchStart",handler:(s,n)=>{let{nativeEvent:t}=s,{onActivation:r}=n;const{touches:i}=t;return i.length>1?!1:(r==null||r({event:t}),!0)}}];var Jn;(function(s){s[s.Pointer=0]="Pointer",s[s.DraggableRect=1]="DraggableRect"})(Jn||(Jn={}));var Zr;(function(s){s[s.TreeOrder=0]="TreeOrder",s[s.ReversedTreeOrder=1]="ReversedTreeOrder"})(Zr||(Zr={}));function Ox(s){let{acceleration:n,activator:t=Jn.Pointer,canScroll:r,draggingRect:i,enabled:a,interval:o=5,order:m=Zr.TreeOrder,pointerCoordinates:d,scrollableAncestors:p,scrollableAncestorRects:f,delta:u,threshold:b}=s;const x=zx({delta:u,disabled:!a}),[j,h]=nx(),L=l.useRef({x:0,y:0}),I=l.useRef({x:0,y:0}),y=l.useMemo(()=>{switch(t){case Jn.Pointer:return d?{top:d.y,bottom:d.y,left:d.x,right:d.x}:null;case Jn.DraggableRect:return i}},[t,i,d]),M=l.useRef(null),se=l.useCallback(()=>{const w=M.current;if(!w)return;const O=L.current.x*I.current.x,ie=L.current.y*I.current.y;w.scrollBy(O,ie)},[]),re=l.useMemo(()=>m===Zr.TreeOrder?[...p].reverse():p,[m,p]);l.useEffect(()=>{if(!a||!p.length||!y){h();return}for(const w of re){if((r==null?void 0:r(w))===!1)continue;const O=p.indexOf(w),ie=f[O];if(!ie)continue;const{direction:de,speed:ue}=Lx(w,ie,y,n,b);for(const ve of["x","y"])x[ve][de[ve]]||(ue[ve]=0,de[ve]=0);if(ue.x>0||ue.y>0){h(),M.current=w,j(se,o),L.current=ue,I.current=de;return}}L.current={x:0,y:0},I.current={x:0,y:0},h()},[n,se,r,h,a,o,JSON.stringify(y),JSON.stringify(x),j,p,re,f,JSON.stringify(b)])}const $x={x:{[Kt.Backward]:!1,[Kt.Forward]:!1},y:{[Kt.Backward]:!1,[Kt.Forward]:!1}};function zx(s){let{delta:n,disabled:t}=s;const r=la(n);return dr(i=>{if(t||!r||!i)return $x;const a={x:Math.sign(n.x-r.x),y:Math.sign(n.y-r.y)};return{x:{[Kt.Backward]:i.x[Kt.Backward]||a.x===-1,[Kt.Forward]:i.x[Kt.Forward]||a.x===1},y:{[Kt.Backward]:i.y[Kt.Backward]||a.y===-1,[Kt.Forward]:i.y[Kt.Forward]||a.y===1}}},[t,n,r])}function Yx(s,n){const t=n!=null?s.get(n):void 0,r=t?t.node.current:null;return dr(i=>{var a;return n==null?null:(a=r??i)!=null?a:null},[r,n])}function Kx(s,n){return l.useMemo(()=>s.reduce((t,r)=>{const{sensor:i}=r,a=i.activators.map(o=>({eventName:o.eventName,handler:n(o.handler,r)}));return[...t,...a]},[]),[s,n])}var nr;(function(s){s[s.Always=0]="Always",s[s.BeforeDragging=1]="BeforeDragging",s[s.WhileDragging=2]="WhileDragging"})(nr||(nr={}));var pa;(function(s){s.Optimized="optimized"})(pa||(pa={}));const gm=new Map;function Xx(s,n){let{dragging:t,dependencies:r,config:i}=n;const[a,o]=l.useState(null),{frequency:m,measure:d,strategy:p}=i,f=l.useRef(s),u=L(),b=tr(u),x=l.useCallback(function(I){I===void 0&&(I=[]),!b.current&&o(y=>y===null?I:y.concat(I.filter(M=>!y.includes(M))))},[b]),j=l.useRef(null),h=dr(I=>{if(u&&!t)return gm;if(!I||I===gm||f.current!==s||a!=null){const y=new Map;for(let M of s){if(!M)continue;if(a&&a.length>0&&!a.includes(M.id)&&M.rect.current){y.set(M.id,M.rect.current);continue}const se=M.node.current,re=se?new Ka(d(se),se):null;M.rect.current=re,re&&y.set(M.id,re)}return y}return I},[s,a,t,u,d]);return l.useEffect(()=>{f.current=s},[s]),l.useEffect(()=>{u||x()},[t,u]),l.useEffect(()=>{a&&a.length>0&&o(null)},[JSON.stringify(a)]),l.useEffect(()=>{u||typeof m!="number"||j.current!==null||(j.current=setTimeout(()=>{x(),j.current=null},m))},[m,u,x,...r]),{droppableRects:h,measureDroppableContainers:x,measuringScheduled:a!=null};function L(){switch(p){case nr.Always:return!1;case nr.BeforeDragging:return t;default:return!t}}}function Xd(s,n){return dr(t=>s?t||(typeof n=="function"?n(s):s):null,[n,s])}function Jx(s,n){return Xd(s,n)}function Qx(s){let{callback:n,disabled:t}=s;const r=za(n),i=l.useMemo(()=>{if(t||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:a}=window;return new a(r)},[r,t]);return l.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function ki(s){let{callback:n,disabled:t}=s;const r=za(n),i=l.useMemo(()=>{if(t||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:a}=window;return new a(r)},[t]);return l.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function Gx(s){return new Ka(Hn(s),s)}function Nm(s,n,t){n===void 0&&(n=Gx);const[r,i]=l.useState(null);function a(){i(d=>{if(!s)return null;if(s.isConnected===!1){var p;return(p=d??t)!=null?p:null}const f=n(s);return JSON.stringify(d)===JSON.stringify(f)?d:f})}const o=Qx({callback(d){if(s)for(const p of d){const{type:f,target:u}=p;if(f==="childList"&&u instanceof HTMLElement&&u.contains(s)){a();break}}}}),m=ki({callback:a});return Hs(()=>{a(),s?(m==null||m.observe(s),o==null||o.observe(document.body,{childList:!0,subtree:!0})):(m==null||m.disconnect(),o==null||o.disconnect())},[s]),r}function Zx(s){const n=Xd(s);return Fd(s,n)}const bm=[];function e0(s){const n=l.useRef(s),t=dr(r=>s?r&&r!==bm&&s&&n.current&&s.parentNode===n.current.parentNode?r:hi(s):bm,[s]);return l.useEffect(()=>{n.current=s},[s]),t}function t0(s){const[n,t]=l.useState(null),r=l.useRef(s),i=l.useCallback(a=>{const o=Si(a.target);o&&t(m=>m?(m.set(o,ca(o)),new Map(m)):null)},[]);return l.useEffect(()=>{const a=r.current;if(s!==a){o(a);const m=s.map(d=>{const p=Si(d);return p?(p.addEventListener("scroll",i,{passive:!0}),[p,ca(p)]):null}).filter(d=>d!=null);t(m.length?new Map(m):null),r.current=s}return()=>{o(s),o(a)};function o(m){m.forEach(d=>{const p=Si(d);p==null||p.removeEventListener("scroll",i)})}},[i,s]),l.useMemo(()=>s.length?n?Array.from(n.values()).reduce((a,o)=>yn(a,o),hs):Yd(s):hs,[s,n])}function xm(s,n){n===void 0&&(n=[]);const t=l.useRef(null);return l.useEffect(()=>{t.current=null},n),l.useEffect(()=>{const r=s!==hs;r&&!t.current&&(t.current=s),!r&&t.current&&(t.current=null)},[s]),t.current?sr(s,t.current):hs}function s0(s){l.useEffect(()=>{if(!yi)return;const n=s.map(t=>{let{sensor:r}=t;return r.setup==null?void 0:r.setup()});return()=>{for(const t of n)t==null||t()}},s.map(n=>{let{sensor:t}=n;return t}))}function n0(s,n){return l.useMemo(()=>s.reduce((t,r)=>{let{eventName:i,handler:a}=r;return t[i]=o=>{a(o,n)},t},{}),[s,n])}function Jd(s){return l.useMemo(()=>s?Ax(s):null,[s])}const ym=[];function r0(s,n){n===void 0&&(n=Hn);const[t]=s,r=Jd(t?ms(t):null),[i,a]=l.useState(ym);function o(){a(()=>s.length?s.map(d=>$d(d)?r:new Ka(n(d),d)):ym)}const m=ki({callback:o});return Hs(()=>{m==null||m.disconnect(),o(),s.forEach(d=>m==null?void 0:m.observe(d))},[s]),i}function i0(s){if(!s)return null;if(s.children.length>1)return s;const n=s.children[0];return lr(n)?n:s}function a0(s){let{measure:n}=s;const[t,r]=l.useState(null),i=l.useCallback(p=>{for(const{target:f}of p)if(lr(f)){r(u=>{const b=n(f);return u?{...u,width:b.width,height:b.height}:b});break}},[n]),a=ki({callback:i}),o=l.useCallback(p=>{const f=i0(p);a==null||a.disconnect(),f&&(a==null||a.observe(f)),r(f?n(f):null)},[n,a]),[m,d]=Qr(o);return l.useMemo(()=>({nodeRef:m,rect:t,setRef:d}),[t,m,d])}const o0=[{sensor:Qa,options:{}},{sensor:Xa,options:{}}],m0={current:{}},Fr={draggable:{measure:cm},droppable:{measure:cm,strategy:nr.WhileDragging,frequency:pa.Optimized},dragOverlay:{measure:Hn}};class Qn extends Map{get(n){var t;return n!=null&&(t=super.get(n))!=null?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(n=>{let{disabled:t}=n;return!t})}getNodeFor(n){var t,r;return(t=(r=this.get(n))==null?void 0:r.node.current)!=null?t:void 0}}const l0={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Qn,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Gr},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Fr,measureDroppableContainers:Gr,windowRect:null,measuringScheduled:!1},d0={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Gr,draggableNodes:new Map,over:null,measureDroppableContainers:Gr},vi=l.createContext(d0),Qd=l.createContext(l0);function c0(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Qn}}}function u0(s,n){switch(n.type){case Wt.DragStart:return{...s,draggable:{...s.draggable,initialCoordinates:n.initialCoordinates,active:n.active}};case Wt.DragMove:return s.draggable.active==null?s:{...s,draggable:{...s.draggable,translate:{x:n.coordinates.x-s.draggable.initialCoordinates.x,y:n.coordinates.y-s.draggable.initialCoordinates.y}}};case Wt.DragEnd:case Wt.DragCancel:return{...s,draggable:{...s.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Wt.RegisterDroppable:{const{element:t}=n,{id:r}=t,i=new Qn(s.droppable.containers);return i.set(r,t),{...s,droppable:{...s.droppable,containers:i}}}case Wt.SetDroppableDisabled:{const{id:t,key:r,disabled:i}=n,a=s.droppable.containers.get(t);if(!a||r!==a.key)return s;const o=new Qn(s.droppable.containers);return o.set(t,{...a,disabled:i}),{...s,droppable:{...s.droppable,containers:o}}}case Wt.UnregisterDroppable:{const{id:t,key:r}=n,i=s.droppable.containers.get(t);if(!i||r!==i.key)return s;const a=new Qn(s.droppable.containers);return a.delete(t),{...s,droppable:{...s.droppable,containers:a}}}default:return s}}function p0(s){let{disabled:n}=s;const{active:t,activatorEvent:r,draggableNodes:i}=l.useContext(vi),a=la(r),o=la(t==null?void 0:t.id);return l.useEffect(()=>{if(!n&&!r&&a&&o!=null){if(!Ya(a)||document.activeElement===a.target)return;const m=i.get(o);if(!m)return;const{activatorNode:d,node:p}=m;if(!d.current&&!p.current)return;requestAnimationFrame(()=>{for(const f of[d.current,p.current]){if(!f)continue;const u=ax(f);if(u){u.focus();break}}})}},[r,n,i,o,a]),null}function f0(s,n){let{transform:t,...r}=n;return s!=null&&s.length?s.reduce((i,a)=>a({transform:i,...r}),t):t}function g0(s){return l.useMemo(()=>({draggable:{...Fr.draggable,...s==null?void 0:s.draggable},droppable:{...Fr.droppable,...s==null?void 0:s.droppable},dragOverlay:{...Fr.dragOverlay,...s==null?void 0:s.dragOverlay}}),[s==null?void 0:s.draggable,s==null?void 0:s.droppable,s==null?void 0:s.dragOverlay])}function N0(s){let{activeNode:n,measure:t,initialRect:r,config:i=!0}=s;const a=l.useRef(!1),{x:o,y:m}=typeof i=="boolean"?{x:i,y:i}:i;Hs(()=>{if(!o&&!m||!n){a.current=!1;return}if(a.current||!r)return;const p=n==null?void 0:n.node.current;if(!p||p.isConnected===!1)return;const f=t(p),u=Fd(f,r);if(o||(u.x=0),m||(u.y=0),a.current=!0,Math.abs(u.x)>0||Math.abs(u.y)>0){const b=Wd(p);b&&b.scrollBy({top:u.y,left:u.x})}},[n,o,m,r,t])}const Gd=l.createContext({...hs,scaleX:1,scaleY:1});var $s;(function(s){s[s.Uninitialized=0]="Uninitialized",s[s.Initializing=1]="Initializing",s[s.Initialized=2]="Initialized"})($s||($s={}));const hm=l.memo(function(n){var t,r,i,a;let{id:o,accessibility:m,autoScroll:d=!0,children:p,sensors:f=o0,collisionDetection:u=hx,measuring:b,modifiers:x,...j}=n;const h=l.useReducer(u0,void 0,c0),[L,I]=h,[y,M]=ux(),[se,re]=l.useState($s.Uninitialized),w=se===$s.Initialized,{draggable:{active:O,nodes:ie,translate:de},droppable:{containers:ue}}=L,ve=O!=null?ie.get(O):null,Q=l.useRef({initial:null,translated:null}),he=l.useMemo(()=>{var ct;return O!=null?{id:O,data:(ct=ve==null?void 0:ve.data)!=null?ct:m0,rect:Q}:null},[O,ve]),Ne=l.useRef(null),[Ve,je]=l.useState(null),[Be,Xe]=l.useState(null),le=tr(j,Object.values(j)),Le=cr("DndDescribedBy",o),Ue=l.useMemo(()=>ue.getEnabled(),[ue]),Ce=g0(b),{droppableRects:Re,measureDroppableContainers:We,measuringScheduled:Te}=Xx(Ue,{dragging:w,dependencies:[de.x,de.y],config:Ce.droppable}),qe=Yx(ie,O),R=l.useMemo(()=>Be?da(Be):null,[Be]),fe=lt(),pe=Jx(qe,Ce.draggable.measure);N0({activeNode:O!=null?ie.get(O):null,config:fe.layoutShiftCompensation,initialRect:pe,measure:Ce.draggable.measure});const He=Nm(qe,Ce.draggable.measure,pe),Z=Nm(qe?qe.parentElement:null),A=l.useRef({activatorEvent:null,active:null,activeNode:qe,collisionRect:null,collisions:null,droppableRects:Re,draggableNodes:ie,draggingNode:null,draggingNodeRect:null,droppableContainers:ue,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),ce=ue.getNodeFor((t=A.current.over)==null?void 0:t.id),V=a0({measure:Ce.dragOverlay.measure}),_=(r=V.nodeRef.current)!=null?r:qe,me=w?(i=V.rect)!=null?i:He:null,xe=!!(V.nodeRef.current&&V.rect),Me=Zx(xe?null:He),Fe=Jd(_?ms(_):null),B=e0(w?ce??qe:null),$=r0(B),G=f0(x,{transform:{x:de.x-Me.x,y:de.y-Me.y,scaleX:1,scaleY:1},activatorEvent:Be,active:he,activeNodeRect:He,containerNodeRect:Z,draggingNodeRect:me,over:A.current.over,overlayNodeRect:V.rect,scrollableAncestors:B,scrollableAncestorRects:$,windowRect:Fe}),T=R?yn(R,de):null,C=t0(B),z=xm(C),X=xm(C,[He]),K=yn(G,z),N=me?Dx(me,G):null,D=he&&N?u({active:he,collisionRect:N,droppableRects:Re,droppableContainers:Ue,pointerCoordinates:T}):null,U=Td(D,"id"),[Y,ke]=l.useState(null),De=xe?G:yn(G,X),Ie=kx(De,(a=Y==null?void 0:Y.rect)!=null?a:null,He),$e=l.useRef(null),ot=l.useCallback((ct,ut)=>{let{sensor:ht,options:Ct}=ut;if(Ne.current==null)return;const kt=ie.get(Ne.current);if(!kt)return;const c=ct.nativeEvent,k=new ht({active:Ne.current,activeNode:kt,event:c,options:Ct,context:A,onAbort(J){if(!ie.get(J))return;const{onDragAbort:ee}=le.current,q={id:J};ee==null||ee(q),y({type:"onDragAbort",event:q})},onPending(J,F,ee,q){if(!ie.get(J))return;const{onDragPending:v}=le.current,ne={id:J,constraint:F,initialCoordinates:ee,offset:q};v==null||v(ne),y({type:"onDragPending",event:ne})},onStart(J){const F=Ne.current;if(F==null)return;const ee=ie.get(F);if(!ee)return;const{onDragStart:q}=le.current,ye={activatorEvent:c,active:{id:F,data:ee.data,rect:Q}};xn.unstable_batchedUpdates(()=>{q==null||q(ye),re($s.Initializing),I({type:Wt.DragStart,initialCoordinates:J,active:F}),y({type:"onDragStart",event:ye}),je($e.current),Xe(c)})},onMove(J){I({type:Wt.DragMove,coordinates:J})},onEnd:H(Wt.DragEnd),onCancel:H(Wt.DragCancel)});$e.current=k;function H(J){return async function(){const{active:ee,collisions:q,over:ye,scrollAdjustedTranslate:v}=A.current;let ne=null;if(ee&&v){const{cancelDrop:ge}=le.current;ne={activatorEvent:c,active:ee,collisions:q,delta:v,over:ye},J===Wt.DragEnd&&typeof ge=="function"&&await Promise.resolve(ge(ne))&&(J=Wt.DragCancel)}Ne.current=null,xn.unstable_batchedUpdates(()=>{I({type:J}),re($s.Uninitialized),ke(null),je(null),Xe(null),$e.current=null;const ge=J===Wt.DragEnd?"onDragEnd":"onDragCancel";if(ne){const Se=le.current[ge];Se==null||Se(ne),y({type:ge,event:ne})}})}}},[ie]),et=l.useCallback((ct,ut)=>(ht,Ct)=>{const kt=ht.nativeEvent,c=ie.get(Ct);if(Ne.current!==null||!c||kt.dndKit||kt.defaultPrevented)return;const k={active:c};ct(ht,ut.options,k)===!0&&(kt.dndKit={capturedBy:ut.sensor},Ne.current=Ct,ot(ht,ut))},[ie,ot]),Qe=Kx(f,et);s0(f),Hs(()=>{He&&se===$s.Initializing&&re($s.Initialized)},[He,se]),l.useEffect(()=>{const{onDragMove:ct}=le.current,{active:ut,activatorEvent:ht,collisions:Ct,over:kt}=A.current;if(!ut||!ht)return;const c={active:ut,activatorEvent:ht,collisions:Ct,delta:{x:K.x,y:K.y},over:kt};xn.unstable_batchedUpdates(()=>{ct==null||ct(c),y({type:"onDragMove",event:c})})},[K.x,K.y]),l.useEffect(()=>{const{active:ct,activatorEvent:ut,collisions:ht,droppableContainers:Ct,scrollAdjustedTranslate:kt}=A.current;if(!ct||Ne.current==null||!ut||!kt)return;const{onDragOver:c}=le.current,k=Ct.get(U),H=k&&k.rect.current?{id:k.id,rect:k.rect.current,data:k.data,disabled:k.disabled}:null,J={active:ct,activatorEvent:ut,collisions:ht,delta:{x:kt.x,y:kt.y},over:H};xn.unstable_batchedUpdates(()=>{ke(H),c==null||c(J),y({type:"onDragOver",event:J})})},[U]),Hs(()=>{A.current={activatorEvent:Be,active:he,activeNode:qe,collisionRect:N,collisions:D,droppableRects:Re,draggableNodes:ie,draggingNode:_,draggingNodeRect:me,droppableContainers:ue,over:Y,scrollableAncestors:B,scrollAdjustedTranslate:K},Q.current={initial:me,translated:N}},[he,qe,D,N,ie,_,me,Re,ue,Y,B,K]),Ox({...fe,delta:de,draggingRect:N,pointerCoordinates:T,scrollableAncestors:B,scrollableAncestorRects:$});const it=l.useMemo(()=>({active:he,activeNode:qe,activeNodeRect:He,activatorEvent:Be,collisions:D,containerNodeRect:Z,dragOverlay:V,draggableNodes:ie,droppableContainers:ue,droppableRects:Re,over:Y,measureDroppableContainers:We,scrollableAncestors:B,scrollableAncestorRects:$,measuringConfiguration:Ce,measuringScheduled:Te,windowRect:Fe}),[he,qe,He,Be,D,Z,V,ie,ue,Re,Y,We,B,$,Ce,Te,Fe]),yt=l.useMemo(()=>({activatorEvent:Be,activators:Qe,active:he,activeNodeRect:He,ariaDescribedById:{draggable:Le},dispatch:I,draggableNodes:ie,over:Y,measureDroppableContainers:We}),[Be,Qe,he,He,I,Le,ie,Y,We]);return tt.createElement(Rd.Provider,{value:M},tt.createElement(vi.Provider,{value:yt},tt.createElement(Qd.Provider,{value:it},tt.createElement(Gd.Provider,{value:Ie},p)),tt.createElement(p0,{disabled:(m==null?void 0:m.restoreFocus)===!1})),tt.createElement(gx,{...m,hiddenTextDescribedById:Le}));function lt(){const ct=(Ve==null?void 0:Ve.autoScrollEnabled)===!1,ut=typeof d=="object"?d.enabled===!1:d===!1,ht=w&&!ct&&!ut;return typeof d=="object"?{...d,enabled:ht}:{enabled:ht}}}),b0=l.createContext(null),km="button",x0="Draggable";function y0(s){let{id:n,data:t,disabled:r=!1,attributes:i}=s;const a=cr(x0),{activators:o,activatorEvent:m,active:d,activeNodeRect:p,ariaDescribedById:f,draggableNodes:u,over:b}=l.useContext(vi),{role:x=km,roleDescription:j="draggable",tabIndex:h=0}=i??{},L=(d==null?void 0:d.id)===n,I=l.useContext(L?Gd:b0),[y,M]=Qr(),[se,re]=Qr(),w=n0(o,n),O=tr(t);Hs(()=>(u.set(n,{id:n,key:a,node:y,activatorNode:se,data:O}),()=>{const de=u.get(n);de&&de.key===a&&u.delete(n)}),[u,n]);const ie=l.useMemo(()=>({role:x,tabIndex:h,"aria-disabled":r,"aria-pressed":L&&x===km?!0:void 0,"aria-roledescription":j,"aria-describedby":f.draggable}),[r,x,h,L,j,f.draggable]);return{active:d,activatorEvent:m,activeNodeRect:p,attributes:ie,isDragging:L,listeners:r?void 0:w,node:y,over:b,setNodeRef:M,setActivatorNodeRef:re,transform:I}}function h0(){return l.useContext(Qd)}const k0="Droppable",v0={timeout:25};function D0(s){let{data:n,disabled:t=!1,id:r,resizeObserverConfig:i}=s;const a=cr(k0),{active:o,dispatch:m,over:d,measureDroppableContainers:p}=l.useContext(vi),f=l.useRef({disabled:t}),u=l.useRef(!1),b=l.useRef(null),x=l.useRef(null),{disabled:j,updateMeasurementsFor:h,timeout:L}={...v0,...i},I=tr(h??r),y=l.useCallback(()=>{if(!u.current){u.current=!0;return}x.current!=null&&clearTimeout(x.current),x.current=setTimeout(()=>{p(Array.isArray(I.current)?I.current:[I.current]),x.current=null},L)},[L]),M=ki({callback:y,disabled:j||!o}),se=l.useCallback((ie,de)=>{M&&(de&&(M.unobserve(de),u.current=!1),ie&&M.observe(ie))},[M]),[re,w]=Qr(se),O=tr(n);return l.useEffect(()=>{!M||!re.current||(M.disconnect(),u.current=!1,M.observe(re.current))},[re,M]),l.useEffect(()=>(m({type:Wt.RegisterDroppable,element:{id:r,key:a,disabled:t,node:re,rect:b,data:O}}),()=>m({type:Wt.UnregisterDroppable,key:a,id:r})),[r]),l.useEffect(()=>{t!==f.current.disabled&&(m({type:Wt.SetDroppableDisabled,id:r,key:a,disabled:t}),f.current.disabled=t)},[r,a,t,m]),{active:o,rect:b,isOver:(d==null?void 0:d.id)===r,node:re,over:d,setNodeRef:w}}function ei(s,n,t){const r=s.slice();return r.splice(t<0?r.length+t:t,0,r.splice(n,1)[0]),r}function V0(s,n){return s.reduce((t,r,i)=>{const a=n.get(r);return a&&(t[i]=a),t},Array(s.length))}function _r(s){return s!==null&&s>=0}function C0(s,n){if(s===n)return!0;if(s.length!==n.length)return!1;for(let t=0;t<s.length;t++)if(s[t]!==n[t])return!1;return!0}function E0(s){return typeof s=="boolean"?{draggable:s,droppable:s}:s}const Zd=s=>{let{rects:n,activeIndex:t,overIndex:r,index:i}=s;const a=ei(n,r,t),o=n[i],m=a[i];return!m||!o?null:{x:m.left-o.left,y:m.top-o.top,scaleX:m.width/o.width,scaleY:m.height/o.height}},jr={scaleX:1,scaleY:1},vm=s=>{var n;let{activeIndex:t,activeNodeRect:r,index:i,rects:a,overIndex:o}=s;const m=(n=a[t])!=null?n:r;if(!m)return null;if(i===t){const p=a[o];return p?{x:0,y:t<o?p.top+p.height-(m.top+m.height):p.top-m.top,...jr}:null}const d=A0(a,i,t);return i>t&&i<=o?{x:0,y:-m.height-d,...jr}:i<t&&i>=o?{x:0,y:m.height+d,...jr}:{x:0,y:0,...jr}};function A0(s,n,t){const r=s[n],i=s[n-1],a=s[n+1];return r?t<n?i?r.top-(i.top+i.height):a?a.top-(r.top+r.height):0:a?a.top-(r.top+r.height):i?r.top-(i.top+i.height):0:0}const ec="Sortable",tc=tt.createContext({activeIndex:-1,containerId:ec,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Zd,disabled:{draggable:!1,droppable:!1}});function Dm(s){let{children:n,id:t,items:r,strategy:i=Zd,disabled:a=!1}=s;const{active:o,dragOverlay:m,droppableRects:d,over:p,measureDroppableContainers:f}=h0(),u=cr(ec,t),b=m.rect!==null,x=l.useMemo(()=>r.map(w=>typeof w=="object"&&"id"in w?w.id:w),[r]),j=o!=null,h=o?x.indexOf(o.id):-1,L=p?x.indexOf(p.id):-1,I=l.useRef(x),y=!C0(x,I.current),M=L!==-1&&h===-1||y,se=E0(a);Hs(()=>{y&&j&&f(x)},[y,x,j,f]),l.useEffect(()=>{I.current=x},[x]);const re=l.useMemo(()=>({activeIndex:h,containerId:u,disabled:se,disableTransforms:M,items:x,overIndex:L,useDragOverlay:b,sortedRects:V0(x,d),strategy:i}),[h,u,se.draggable,se.droppable,M,x,L,d,b,i]);return tt.createElement(tc.Provider,{value:re},n)}const w0=s=>{let{id:n,items:t,activeIndex:r,overIndex:i}=s;return ei(t,r,i).indexOf(n)},_0=s=>{let{containerId:n,isSorting:t,wasDragging:r,index:i,items:a,newIndex:o,previousItems:m,previousContainerId:d,transition:p}=s;return!p||!r||m!==a&&i===o?!1:t?!0:o!==i&&n===d},j0={duration:200,easing:"ease"},sc="transform",L0=Dn.Transition.toString({property:sc,duration:0,easing:"linear"}),H0={roleDescription:"sortable"};function B0(s){let{disabled:n,index:t,node:r,rect:i}=s;const[a,o]=l.useState(null),m=l.useRef(t);return Hs(()=>{if(!n&&t!==m.current&&r.current){const d=i.current;if(d){const p=Hn(r.current,{ignoreTransform:!0}),f={x:d.left-p.left,y:d.top-p.top,scaleX:d.width/p.width,scaleY:d.height/p.height};(f.x||f.y)&&o(f)}}t!==m.current&&(m.current=t)},[n,t,r,i]),l.useEffect(()=>{a&&o(null)},[a]),a}function nc(s){let{animateLayoutChanges:n=_0,attributes:t,disabled:r,data:i,getNewIndex:a=w0,id:o,strategy:m,resizeObserverConfig:d,transition:p=j0}=s;const{items:f,containerId:u,activeIndex:b,disabled:x,disableTransforms:j,sortedRects:h,overIndex:L,useDragOverlay:I,strategy:y}=l.useContext(tc),M=U0(r,x),se=f.indexOf(o),re=l.useMemo(()=>({sortable:{containerId:u,index:se,items:f},...i}),[u,i,se,f]),w=l.useMemo(()=>f.slice(f.indexOf(o)),[f,o]),{rect:O,node:ie,isOver:de,setNodeRef:ue}=D0({id:o,data:re,disabled:M.droppable,resizeObserverConfig:{updateMeasurementsFor:w,...d}}),{active:ve,activatorEvent:Q,activeNodeRect:he,attributes:Ne,setNodeRef:Ve,listeners:je,isDragging:Be,over:Xe,setActivatorNodeRef:le,transform:Le}=y0({id:o,data:re,attributes:{...H0,...t},disabled:M.draggable}),Ue=sx(ue,Ve),Ce=!!ve,Re=Ce&&!j&&_r(b)&&_r(L),We=!I&&Be,Te=We&&Re?Le:null,R=Re?Te??(m??y)({rects:h,activeNodeRect:he,activeIndex:b,overIndex:L,index:se}):null,fe=_r(b)&&_r(L)?a({id:o,items:f,activeIndex:b,overIndex:L}):se,pe=ve==null?void 0:ve.id,He=l.useRef({activeId:pe,items:f,newIndex:fe,containerId:u}),Z=f!==He.current.items,A=n({active:ve,containerId:u,isDragging:Be,isSorting:Ce,id:o,index:se,items:f,newIndex:He.current.newIndex,previousItems:He.current.items,previousContainerId:He.current.containerId,transition:p,wasDragging:He.current.activeId!=null}),ce=B0({disabled:!A,index:se,node:ie,rect:O});return l.useEffect(()=>{Ce&&He.current.newIndex!==fe&&(He.current.newIndex=fe),u!==He.current.containerId&&(He.current.containerId=u),f!==He.current.items&&(He.current.items=f)},[Ce,fe,u,f]),l.useEffect(()=>{if(pe===He.current.activeId)return;if(pe&&!He.current.activeId){He.current.activeId=pe;return}const _=setTimeout(()=>{He.current.activeId=pe},50);return()=>clearTimeout(_)},[pe]),{active:ve,activeIndex:b,attributes:Ne,data:re,rect:O,index:se,newIndex:fe,items:f,isOver:de,isSorting:Ce,isDragging:Be,listeners:je,node:ie,overIndex:L,over:Xe,setNodeRef:Ue,setActivatorNodeRef:le,setDroppableNodeRef:ue,setDraggableNodeRef:Ve,transform:ce??R,transition:V()};function V(){if(ce||Z&&He.current.newIndex===se)return L0;if(!(We&&!Ya(Q)||!p)&&(Ce||A))return Dn.Transition.toString({...p,property:sc})}}function U0(s,n){var t,r;return typeof s=="boolean"?{draggable:s,droppable:!1}:{draggable:(t=s==null?void 0:s.draggable)!=null?t:n.draggable,droppable:(r=s==null?void 0:s.droppable)!=null?r:n.droppable}}function ti(s){if(!s)return!1;const n=s.data.current;return!!(n&&"sortable"in n&&typeof n.sortable=="object"&&"containerId"in n.sortable&&"items"in n.sortable&&"index"in n.sortable)}const S0=[Nt.Down,Nt.Right,Nt.Up,Nt.Left],P0=(s,n)=>{let{context:{active:t,collisionRect:r,droppableRects:i,droppableContainers:a,over:o,scrollableAncestors:m}}=n;if(S0.includes(s.code)){if(s.preventDefault(),!t||!r)return;const d=[];a.getEnabled().forEach(u=>{if(!u||u!=null&&u.disabled)return;const b=i.get(u.id);if(b)switch(s.code){case Nt.Down:r.top<b.top&&d.push(u);break;case Nt.Up:r.top>b.top&&d.push(u);break;case Nt.Left:r.left>b.left&&d.push(u);break;case Nt.Right:r.left<b.left&&d.push(u);break}});const p=xx({collisionRect:r,droppableRects:i,droppableContainers:d});let f=Td(p,"id");if(f===(o==null?void 0:o.id)&&p.length>1&&(f=p[1].id),f!=null){const u=a.get(t.id),b=a.get(f),x=b?i.get(b.id):null,j=b==null?void 0:b.node.current;if(j&&x&&u&&b){const L=hi(j).some((w,O)=>m[O]!==w),I=rc(u,b),y=R0(u,b),M=L||!I?{x:0,y:0}:{x:y?r.width-x.width:0,y:y?r.height-x.height:0},se={x:x.left,y:x.top};return M.x&&M.y?se:sr(se,M)}}}};function rc(s,n){return!ti(s)||!ti(n)?!1:s.data.current.sortable.containerId===n.data.current.sortable.containerId}function R0(s,n){return!ti(s)||!ti(n)||!rc(s,n)?!1:s.data.current.sortable.index<n.data.current.sortable.index}const fa=s=>{if(!s)return"";const n=s.split(",").map(m=>m.trim());if(n.length===0)return"";if(n.length===1)return n[0]===""?"":n[0];const t=["","","",""],r=n.sort((m,d)=>t.indexOf(m)-t.indexOf(d)),i=r[0],a=r[r.length-1];return`${i}-${a===""?"":a}`},ga=s=>{if(!s)return"";const n=s.split(",").map(t=>t.trim());return n.includes("")?"bg-purple-100 text-purple-700":n.includes("")?"bg-blue-100 text-blue-700":n.includes("")?"bg-green-100 text-green-700":n.includes("")?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700"},M0=({item:s,onEdit:n,onDelete:t,onImageClick:r})=>{const{attributes:i,listeners:a,setNodeRef:o,transform:m,transition:d,isDragging:p}=nc({id:s.id}),f={transform:Dn.Transform.toString(m),transition:d,opacity:p?.5:1};return e.jsxDEV("div",{ref:o,style:f,...i,...a,className:"bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow border border-gray-200 overflow-hidden flex flex-col group relative cursor-move",children:[e.jsxDEV("div",{className:"w-full aspect-square bg-gray-100 flex-shrink-0 relative",children:[s.image_url?e.jsxDEV("img",{src:s.image_url,alt:s.name,className:"w-full h-full object-contain block cursor-pointer",onClick:u=>{u.stopPropagation(),r(s)},onPointerDown:u=>u.stopPropagation()},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:122,columnNumber:11},void 0):e.jsxDEV("div",{className:"w-full h-full flex items-center justify-center text-gray-400 text-xs",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:133,columnNumber:11},void 0),e.jsxDEV("div",{className:"absolute top-2 right-2 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsxDEV("button",{onClick:u=>{u.stopPropagation(),n(s)},onPointerDown:u=>u.stopPropagation(),className:"p-1.5 bg-white text-gray-700 hover:bg-gray-100 rounded-md shadow-md transition-colors",title:"",children:e.jsxDEV(mn,{className:"w-3.5 h-3.5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:149,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:140,columnNumber:11},void 0),e.jsxDEV("button",{onClick:u=>{u.stopPropagation(),t(s.id)},onPointerDown:u=>u.stopPropagation(),className:"p-1.5 bg-white text-rose-600 hover:bg-rose-50 rounded-md shadow-md transition-colors",title:"",children:e.jsxDEV(Dt,{className:"w-3.5 h-3.5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:160,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:151,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:139,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:120,columnNumber:7},void 0),e.jsxDEV("div",{className:"p-2 pt-1.5 flex flex-col flex-1",children:[e.jsxDEV("div",{className:"flex items-start justify-between mb-1",children:[e.jsxDEV("div",{className:"flex items-center gap-1.5",children:[e.jsxDEV("span",{className:"inline-block px-1.5 py-0.5 text-xs bg-gray-100 text-gray-700 rounded",children:s.category},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:169,columnNumber:13},void 0),s.brand&&e.jsxDEV("span",{className:"text-xs text-gray-500",children:s.brand},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:173,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:168,columnNumber:11},void 0),s.grade&&e.jsxDEV("span",{className:`hidden md:inline-block px-1 py-0.5 text-[10px] rounded ${ga(s.grade)}`,children:fa(s.grade)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:177,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:167,columnNumber:9},void 0),e.jsxDEV("div",{className:"flex items-baseline justify-between gap-1 mt-auto",children:[e.jsxDEV("div",{className:"flex items-baseline gap-1 min-w-0",children:e.jsxDEV("h3",{className:"font-semibold text-xs text-gray-900 truncate",children:s.name},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:184,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:183,columnNumber:11},void 0),s.price&&e.jsxDEV("span",{className:"hidden md:inline text-xs text-gray-900 font-medium flex-shrink-0",children:[s.price,""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:187,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:182,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:166,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:111,columnNumber:5},void 0)},I0=({category:s,onRemove:n,onEdit:t})=>{const{attributes:r,listeners:i,setNodeRef:a,transform:o,transition:m,isDragging:d}=nc({id:s}),p={transform:Dn.Transform.toString(o),transition:m,opacity:d?.5:1};return e.jsxDEV("div",{ref:a,style:p,className:"flex items-center justify-between p-3 hover:bg-gray-50 border-b border-gray-100 last:border-b-0 bg-white",children:[e.jsxDEV("div",{className:"flex items-center gap-2 flex-1 cursor-grab active:cursor-grabbing",...r,...i,children:e.jsxDEV("span",{className:"text-sm text-gray-900",children:s},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:231,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:226,columnNumber:7},void 0),s!==""&&e.jsxDEV("div",{className:"flex items-center gap-1",children:[e.jsxDEV("button",{onClick:f=>{f.stopPropagation(),f.preventDefault(),t(s)},className:"text-gray-600 hover:text-gray-800 transition-colors p-1",title:"",type:"button",children:e.jsxDEV(mn,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:245,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:235,columnNumber:11},void 0),e.jsxDEV("button",{onClick:f=>{f.stopPropagation(),f.preventDefault(),n(s)},className:"text-red-500 hover:text-red-700 transition-colors p-1",title:"",type:"button",children:e.jsxDEV(Dt,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:257,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:247,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:234,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:221,columnNumber:5},void 0)},T0=()=>{var Jt;const{user:s}=Qt(),n=us(),t=(s==null?void 0:s.name)==="",[r,i]=l.useState(()=>t||localStorage.getItem("specBook_lastProject")?"project":"library"),[a,o]=l.useState([]),[m,d]=l.useState([]),[p,f]=l.useState([]),[u,b]=l.useState([]),[x,j]=l.useState(""),[h,L]=l.useState([]),[I,y]=l.useState(()=>{const E=localStorage.getItem("specBook_lastProject");return E?Number(E):null}),[M,se]=l.useState(!0),[re,w]=l.useState(null),[O,ie]=l.useState({name:"",category:"",brand:"",price:"",grades:[""],imageData:null}),[de,ue]=l.useState([]),[ve,Q]=l.useState(!1),[he,Ne]=l.useState(!1),[Ve,je]=l.useState([]),[Be,Xe]=l.useState(""),[le,Le]=l.useState(!1),[Ue,Ce]=l.useState(null),[Re,We]=l.useState([]),[Te,qe]=l.useState(null),[R,fe]=l.useState(!1),[pe,He]=l.useState(!1),[Z,A]=l.useState(1),[ce,V]=l.useState({x:0,y:0}),[_,me]=l.useState(!1),[xe,Me]=l.useState({x:0,y:0}),[Fe,B]=l.useState(null),[$,G]=l.useState(null),[T,C]=l.useState(!1),[z,X]=l.useState(0),[K,N]=l.useState(!1),[D,U]=l.useState(null),[Y,ke]=l.useState(!1),[De,Ie]=l.useState(null),[$e,ot]=l.useState(null),et=l.useRef(null),Qe=l.useRef(null),it=l.useRef(null),yt=l.useRef([]),lt=l.useRef(!0),[ct,ut]=l.useState(null),[ht,Ct]=l.useState(!1),kt=Nx(om(Qa),om(Xa,{coordinateGetter:P0})),c=(E,g)=>{const S=E.clientX-g.clientX,te=E.clientY-g.clientY;return Math.sqrt(S*S+te*te)},k=(E,g)=>({x:(E.clientX+g.clientX)/2,y:(E.clientY+g.clientY)/2});l.useEffect(()=>(lt.current=!0,()=>{lt.current=!1}),[]),l.useEffect(()=>{H(),F()},[]),l.useEffect(()=>{J()},[n]),l.useEffect(()=>{q()},[r,x,I,de]),l.useEffect(()=>{r==="project"&&I&&ee()},[r,I]),l.useEffect(()=>{I&&localStorage.setItem("specBook_lastProject",String(I))},[I]);const H=async()=>{try{const E=await we.get("/specbook/categories");b(E.data)}catch(E){console.error("  :",E)}},J=async()=>{try{const E=n.map(S=>({id:S.id,title:S.name}));console.log("  :",E.length,"",E),L(E);const g=localStorage.getItem("specBook_lastProject");if(g&&E.length>0){const S=Number(g);if(E.find(ae=>ae.id===S)){y(S),i("project");return}}t&&E.length>0&&!I&&(y(E[0].id),i("project"))}catch(E){console.error("  :",E)}},F=async()=>{try{const E=await we.get("/specbook/library");d(E.data)}catch(E){console.error("    :",E)}},ee=async()=>{if(I)try{const E=await we.get(`/specbook/project/${I}`);f(E.data)}catch(E){console.error("    :",E)}},q=async()=>{try{se(!0);const E={};x!==""&&(E.category=x),de.length>0&&(E.grades=de.join(","));let g;if(r==="library")g=await we.get("/specbook/library",{params:E});else{if(!I){o([]),se(!1);return}g=await we.get(`/specbook/project/${I}`,{params:E})}lt.current&&o(g.data)}catch(E){console.error("   :",E),lt.current&&P.error("   ")}finally{lt.current&&se(!1)}},ye=E=>r==="library"?E===""?m.length:m.filter(g=>g.category===E).length:E===""?p.length:p.filter(g=>g.category===E).length,v=E=>{E.preventDefault(),Q(!1);const g=E.dataTransfer.files[0];if(g&&g.type.startsWith("image/")){const S=new FileReader;S.onload=te=>{var ae;ut((ae=te.target)==null?void 0:ae.result),Ct(!0)},S.readAsDataURL(g)}},ne=E=>{var S;if(ht||le)return;const g=(S=E.clipboardData)==null?void 0:S.items;if(g){for(let te=0;te<g.length;te++)if(g[te].type.indexOf("image")!==-1){const ae=g[te].getAsFile();if(ae){const be=new FileReader;be.onload=_e=>{var Ee;ut((Ee=_e.target)==null?void 0:Ee.result),Ct(!0)},be.readAsDataURL(ae)}}}};l.useEffect(()=>(document.addEventListener("paste",ne),()=>document.removeEventListener("paste",ne)),[O,ht,le]);const ge=E=>{const g=E.replace(/[^\d]/g,"");return g?g.replace(/\B(?=(\d{3})+(?!\d))/g,","):""},Se=E=>{const g=ge(E.target.value);ie({...O,price:g})},ze=async E=>{var g,S;if(E.preventDefault(),!O.name||!O.category){P.error("  ");return}if(O.grades.length===0){P.error("   ");return}try{const te=O.grades.join(",");if(re){const ae={name:O.name,category:O.category,brand:O.brand,price:O.price,grade:te,description:"",imageData:O.imageData,projectId:r==="project"?I:null,isLibrary:r==="library"};await we.put(`/specbook/base64/${re.id}`,ae),P.success("  ")}else if(r==="project"&&I){const ae={name:O.name,category:O.category,brand:O.brand,price:O.price,grade:te,description:"",imageData:O.imageData,projectId:null,isLibrary:!0};await we.post("/specbook/base64",ae);const be={name:O.name,category:O.category,brand:O.brand,price:O.price,grade:te,description:"",imageData:O.imageData,projectId:I,isLibrary:!1};await we.post("/specbook/base64",be),P.success("    ")}else{const ae={name:O.name,category:O.category,brand:O.brand,price:O.price,grade:te,description:"",imageData:O.imageData,projectId:null,isLibrary:!0};await we.post("/specbook/base64",ae),P.success("  ")}w(null),ie({name:"",category:x!==""?x:"",brand:"",price:"",grades:[""],imageData:null}),q(),(r==="library"||r==="project"&&!re)&&F(),r==="project"&&I&&ee()}catch(te){console.error("   :",te),P.error(((S=(g=te.response)==null?void 0:g.data)==null?void 0:S.error)||" ")}},Je=E=>{w(E);const g=E.grade?E.grade.includes(",")?E.grade.split(","):[E.grade]:[""];ie({name:E.name,category:E.category,brand:E.brand,price:E.price,grades:g,imageData:null}),window.scrollTo({top:0,behavior:"smooth"})},Ge=async E=>{if(confirm(" ?"))try{await we.delete(`/specbook/${E}`),P.success("  "),q(),r==="library"?F():r==="project"&&I&&ee()}catch(g){console.error(" :",g),P.error(" ")}},st=()=>{w(null),ie({name:"",category:x!==""?x:"",brand:"",price:"",grades:[""],imageData:null})},Oe=E=>{ie({...O,imageData:E}),Ct(!1),ut(null)},Ye=()=>{Ct(!1),ut(null)},W=E=>{Ce(E);const g=E.sub_images||[];We(g),yt.current=g,Le(!0)},oe=E=>{const g=Array.from(E.target.files||[]);Pe(g)},Pe=E=>{E.forEach(g=>{if(g.type.startsWith("image/")||g.type==="application/pdf"){const S=new FileReader;S.onload=te=>{var be;const ae=(be=te.target)==null?void 0:be.result;We(_e=>[..._e,ae])},S.readAsDataURL(g)}else P.error(`   : ${g.name}`)})},nt=E=>{E.preventDefault(),E.stopPropagation(),fe(!1);const g=Array.from(E.dataTransfer.files);Pe(g)},Ze=E=>{var te;if(!le)return;const g=(te=E.clipboardData)==null?void 0:te.items;if(!g)return;const S=[];for(let ae=0;ae<g.length;ae++)if(g[ae].type.indexOf("image")!==-1){const be=g[ae].getAsFile();be&&S.push(be)}S.length>0&&(Pe(S),P.success(`${S.length}  `))};l.useEffect(()=>{if(le)return document.addEventListener("paste",Ze),()=>document.removeEventListener("paste",Ze)},[le]),l.useEffect(()=>{if(!(!Ue||!le||!(JSON.stringify(Re)!==JSON.stringify(yt.current))))return it.current&&clearTimeout(it.current),it.current=setTimeout(async()=>{He(!0);try{await we.put(`/specbook/${Ue.id}/sub-images`,{sub_images:Re}),yt.current=Re,q(),r==="library"?F():r==="project"&&I&&ee()}catch(g){console.error("Sub    :",g),P.error("   ")}finally{He(!1)}},1e3),()=>{it.current&&clearTimeout(it.current)}},[Re,Ue,le]);const bt=E=>{We(g=>g.filter((S,te)=>te!==E))},Et=()=>{it.current&&clearTimeout(it.current),Le(!1),Ce(null),We([]),He(!1)},At=async E=>{const{active:g,over:S}=E;if(!S||g.id===S.id)return;const te=a.findIndex(be=>be.id===g.id),ae=a.findIndex(be=>be.id===S.id);if(te!==-1&&ae!==-1){const be=ei(a,te,ae);o(be);try{await we.put("/specbook/reorder",{items:be.map((_e,Ee)=>({id:_e.id,display_order:Ee}))}),P.success("  ")}catch(_e){console.error("  :",_e),P.error("  "),q()}}},pt=()=>{je([...u]),Ne(!0)},Lt=()=>{Ne(!1),Xe("")},Ht=async()=>{if(!Be.trim()){P.error("  ");return}if(Ve.includes(Be.trim())){P.error("  ");return}const E=[...Ve,Be.trim()];je(E),Xe("");try{await we.put("/specbook/categories",{categories:E}),b(E),P.success(" ")}catch(g){console.error("   :",g),P.error("   "),je(u)}},Vt=async E=>{if(E===""){P.error("    ");return}const g=window.prompt("   ",E);if(!g||!g.trim()||g.trim()===E)return;if(Ve.includes(g.trim())){P.error("  ");return}const S=Ve.map(te=>te===E?g.trim():te);je(S);try{await we.put("/specbook/categories",{categories:S}),b(S),P.success("  ")}catch(te){console.error("   :",te),P.error("   "),je(u)}},It=async E=>{if(E===""){P.error("    ");return}const g=Ve.filter(S=>S!==E);je(g);try{await we.put("/specbook/categories",{categories:g}),b(g),P.success(" ")}catch(S){console.error("   :",S),P.error("   "),je(u)}},ts=async E=>{const{active:g,over:S}=E;if(S&&g.id!==S.id){const te=Ve.indexOf(g.id),ae=Ve.indexOf(S.id),be=ei(Ve,te,ae);je(be);try{await we.put("/specbook/categories",{categories:be}),b(be),P.success("  ")}catch(_e){console.error("   :",_e),P.error("   "),je(u)}}};return e.jsxDEV("div",{className:"flex flex-col h-[calc(100vh-120px)] bg-gray-50",children:[e.jsxDEV("div",{className:"specbook-container flex-1 flex flex-col md:flex-row gap-4 md:gap-6 overflow-hidden",children:[e.jsxDEV("div",{className:"specbook-sidebar hidden md:flex flex-col gap-4 w-80 lg:w-96 flex-shrink-0",children:[e.jsxDEV("div",{className:"specbook-form bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden flex flex-col",children:e.jsxDEV("form",{onSubmit:ze,className:"flex flex-col pt-3",children:[e.jsxDEV("div",{className:"flex flex-col sm:flex-row gap-3 px-3",children:[e.jsxDEV("div",{onDragOver:E=>{E.preventDefault(),Q(!0)},onDragLeave:()=>Q(!1),onDrop:v,className:`w-full sm:w-48 aspect-square flex-shrink-0 border-2 border-dashed rounded-lg flex items-center justify-center cursor-pointer transition-colors ${ve?"border-gray-500 bg-gray-50":"border-gray-300 hover:border-gray-400"}`,onClick:()=>{var E;return(E=et.current)==null?void 0:E.click()},children:[O.imageData||re!=null&&re.image_url?e.jsxDEV("img",{src:O.imageData||(re==null?void 0:re.image_url)||"",alt:"Preview",className:"w-full h-full object-contain rounded-lg"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1019,columnNumber:23},void 0):e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV(js,{className:"w-8 h-8 mx-auto mb-1 text-gray-400"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1026,columnNumber:25},void 0),e.jsxDEV("p",{className:"text-sm text-gray-500",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1027,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1025,columnNumber:23},void 0),e.jsxDEV("input",{ref:et,type:"file",accept:"image/*",onChange:E=>{var S;const g=(S=E.target.files)==null?void 0:S[0];if(g){const te=new FileReader;te.onload=ae=>{var be;ut((be=ae.target)==null?void 0:be.result),Ct(!0)},te.readAsDataURL(g)}E.target.value=""},className:"hidden"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1030,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1006,columnNumber:19},void 0),e.jsxDEV("div",{className:"flex-1 flex flex-col gap-2",children:[e.jsxDEV("div",{className:"space-y-1.5",children:[e.jsxDEV("select",{value:O.category,onChange:E=>ie({...O,category:E.target.value}),className:"w-full px-2 py-1.5 text-xs border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-gray-500",required:!0,children:[e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1061,columnNumber:25},void 0),u.filter(E=>E!=="").map(E=>e.jsxDEV("option",{value:E,children:E},E,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1063,columnNumber:27},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1055,columnNumber:23},void 0),e.jsxDEV("input",{type:"text",value:O.brand,onChange:E=>ie({...O,brand:E.target.value}),className:"w-full px-2 py-1.5 text-xs border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-gray-500",placeholder:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1067,columnNumber:23},void 0),e.jsxDEV("input",{type:"text",value:O.name,onChange:E=>ie({...O,name:E.target.value}),className:"w-full px-2 py-1.5 text-xs border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-gray-500",placeholder:"",required:!0},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1075,columnNumber:23},void 0),e.jsxDEV("div",{className:"relative",children:[e.jsxDEV("input",{type:"text",value:O.price,onChange:Se,className:"w-full px-2 py-1.5 text-xs border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-gray-500 pr-8",placeholder:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1085,columnNumber:25},void 0),e.jsxDEV("span",{className:"absolute right-2 top-1/2 -translate-y-1/2 text-xs text-gray-500",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1092,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1084,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1054,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex gap-1",children:["","","",""].map((E,g)=>{const S=g===3?"":E;return e.jsxDEV("button",{type:"button",onClick:()=>{O.grades.includes(S)?ie({...O,grades:O.grades.filter(te=>te!==S)}):ie({...O,grades:[...O.grades,S]})},className:`flex-1 px-1 py-1 text-xs font-medium rounded transition-colors ${O.grades.includes(S)?S===""?"bg-violet-500 text-white":S===""?"bg-sky-500 text-white":S===""?"bg-emerald-500 text-white":"bg-amber-400 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:E},S,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1101,columnNumber:27},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1097,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex gap-1.5 mt-3",children:[e.jsxDEV("button",{type:"submit",className:"flex-1 px-3 py-1.5 text-xs bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors",children:re?"":""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1128,columnNumber:23},void 0),re&&e.jsxDEV("button",{type:"button",onClick:st,className:"px-3 py-1.5 text-xs bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1135,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1127,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1053,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1004,columnNumber:17},void 0),e.jsxDEV("div",{className:"p-3 pt-0"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1148,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1002,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1001,columnNumber:11},void 0),e.jsxDEV("div",{className:"specbook-grade-filter bg-white rounded-lg shadow-sm p-4 border border-gray-200",children:e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV("h3",{className:"text-sm font-semibold text-gray-900 mr-3",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1155,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex gap-2 flex-1",children:[["","","",""].map(E=>e.jsxDEV("button",{onClick:()=>{de.includes(E)?ue(de.filter(g=>g!==E)):ue([...de,E])},className:`px-3 py-1.5 rounded text-xs font-medium transition-colors whitespace-nowrap ${de.includes(E)?E===""?"bg-violet-500 text-white":E===""?"bg-sky-500 text-white":E===""?"bg-emerald-500 text-white":"bg-amber-400 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:E},E,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1158,columnNumber:19},void 0)),de.length>0&&e.jsxDEV("button",{onClick:()=>ue([]),className:"px-3 py-1.5 rounded text-xs font-medium bg-gray-200 text-gray-700 hover:bg-gray-300 transition-colors whitespace-nowrap",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1180,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1156,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1154,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1153,columnNumber:11},void 0),e.jsxDEV("div",{className:"specbook-category bg-white rounded-lg shadow-sm p-4 border border-gray-200",children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-3",children:[e.jsxDEV("h3",{className:"text-sm font-semibold text-gray-900",children:["",r==="project"&&I&&e.jsxDEV("span",{className:"ml-1 text-gray-600",children:["(",(Jt=h.find(E=>E.id===I))==null?void 0:Jt.title,")"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1197,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1194,columnNumber:15},void 0),e.jsxDEV("button",{onClick:pt,className:"p-1 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded transition-colors",title:" ",children:e.jsxDEV(wm,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1207,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1202,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1193,columnNumber:13},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:u.map(E=>{const g=ye(E),S=(r==="library"||r==="project"&&I)&&g>0;return e.jsxDEV("button",{onClick:()=>j(E),className:`px-2 py-1.5 rounded text-xs font-medium transition-colors ${x===E?"bg-gray-800 text-white":"bg-gray-50 text-gray-700 hover:bg-gray-100"}`,children:[E,S&&e.jsxDEV("span",{className:`ml-1 ${x===E?"text-gray-300":"text-gray-400"}`,children:["(",g,")"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1228,columnNumber:23},void 0)]},E,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1217,columnNumber:19},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1210,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1192,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:999,columnNumber:9},void 0),r==="library"?e.jsxDEV("div",{className:"specbook-main flex-1 flex flex-col overflow-hidden pr-4 pt-3",children:[e.jsxDEV("div",{className:"mb-4 px-4",children:e.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 gap-2 lg:gap-4",children:[!t&&e.jsxDEV("button",{onClick:()=>{i("library"),y(null)},className:`col-span-1 lg:col-span-1 h-9 rounded-lg font-medium transition-colors text-xs md:text-sm flex items-center justify-center ${r==="library"?"bg-gray-800 text-white":"bg-gray-200 text-gray-700"}`,children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1249,columnNumber:17},void 0),e.jsxDEV("select",{value:I||"",onChange:E=>{E.target.value?(i("project"),y(Number(E.target.value))):t||(i("library"),y(null))},className:`specbook-header-project-select col-span-1 lg:col-span-1 ${t?"":"lg:col-start-4"} h-9 border border-gray-300 rounded-lg focus:outline-none bg-white text-xs md:text-sm px-1 md:px-2`,children:[!t&&e.jsxDEV("option",{value:"",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1272,columnNumber:35},void 0),h.map(E=>e.jsxDEV("option",{value:E.id,children:E.title},E.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1274,columnNumber:19},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1259,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1247,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1246,columnNumber:11},void 0),e.jsxDEV("div",{className:"specbook-content flex-1 flex flex-col md:flex-row overflow-hidden",children:[e.jsxDEV("div",{className:"specbook-library w-full md:w-1/2 flex flex-col overflow-hidden pb-4 md:pr-3",children:e.jsxDEV("div",{className:"flex-1 overflow-y-auto bg-gray-50 rounded-lg p-4",children:M?e.jsxDEV("div",{className:"flex items-center justify-center h-full",children:e.jsxDEV("div",{className:"text-gray-500",children:" ..."},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1288,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1287,columnNumber:13},void 0):a.length===0?e.jsxDEV("div",{className:"flex items-center justify-center h-full text-gray-500 text-sm",children:"   "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1291,columnNumber:13},void 0):e.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-3 gap-4",children:a.map(E=>e.jsxDEV("div",{draggable:!0,onDragStart:g=>{ke(!0),g.dataTransfer.setData("itemId",E.id.toString()),g.dataTransfer.effectAllowed="copy"},onDragEnd:()=>{ke(!1),Ie(null)},className:"bg-white rounded-lg shadow-sm hover:shadow-md transition-all border border-gray-200 overflow-hidden cursor-grab active:cursor-grabbing flex flex-col group relative",children:[e.jsxDEV("div",{className:"w-full aspect-square bg-gray-100 relative",onMouseDown:g=>{Ie({x:g.clientX,y:g.clientY})},onClick:g=>{!Y&&De&&Math.sqrt(Math.pow(g.clientX-De.x,2)+Math.pow(g.clientY-De.y,2))<5&&W(E),Ie(null)},children:E.image_url?e.jsxDEV("img",{src:E.image_url,alt:E.name,className:"w-full h-full object-contain pointer-events-none",draggable:!1},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1331,columnNumber:23},void 0):e.jsxDEV("div",{className:"w-full h-full flex items-center justify-center text-gray-400 text-xs pointer-events-none",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1338,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1311,columnNumber:19},void 0),e.jsxDEV("div",{className:"absolute top-2 right-2 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-auto",children:[e.jsxDEV("button",{onClick:g=>{g.stopPropagation(),Je(E)},onPointerDown:g=>g.stopPropagation(),className:"p-1.5 bg-white text-gray-700 hover:bg-gray-100 rounded-md shadow-md transition-colors cursor-pointer",title:"",children:e.jsxDEV(mn,{className:"w-3.5 h-3.5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1353,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1344,columnNumber:21},void 0),e.jsxDEV("button",{onClick:g=>{g.stopPropagation(),Ge(E.id)},onPointerDown:g=>g.stopPropagation(),className:"p-1.5 bg-white text-rose-600 hover:bg-rose-50 rounded-md shadow-md transition-colors cursor-pointer",title:"",children:e.jsxDEV(Dt,{className:"w-3.5 h-3.5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1364,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1355,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1343,columnNumber:19},void 0),e.jsxDEV("div",{className:"p-2 pt-1.5 flex flex-col flex-1",children:[e.jsxDEV("div",{className:"flex items-start justify-between mb-1",children:[e.jsxDEV("div",{className:"flex items-center gap-1.5",children:[e.jsxDEV("span",{className:"inline-block px-1.5 py-0.5 text-xs bg-gray-100 text-gray-700 rounded",children:E.category},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1370,columnNumber:25},void 0),E.brand&&e.jsxDEV("span",{className:"text-xs text-gray-500",children:E.brand},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1374,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1369,columnNumber:23},void 0),E.grade&&e.jsxDEV("span",{className:`hidden md:inline-block px-1.5 py-0.5 text-xs rounded ${ga(E.grade)}`,children:fa(E.grade)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1378,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1368,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex items-baseline justify-between gap-1 mt-auto",children:[e.jsxDEV("div",{className:"flex items-baseline gap-1 min-w-0",children:e.jsxDEV("h3",{className:"font-semibold text-xs text-gray-900 truncate",children:E.name},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1385,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1384,columnNumber:23},void 0),E.price&&e.jsxDEV("span",{className:"hidden md:inline text-xs text-gray-900 font-medium flex-shrink-0",children:[E.price,""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1388,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1383,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1367,columnNumber:19},void 0)]},E.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1297,columnNumber:17},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1295,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1285,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1284,columnNumber:13},void 0),e.jsxDEV("div",{className:"hidden md:block w-px bg-gray-300 self-stretch"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1399,columnNumber:13},void 0),e.jsxDEV("div",{className:"specbook-drop-zone hidden md:flex w-1/2 flex-col overflow-hidden pl-3 pb-4",children:[e.jsxDEV("div",{className:"specbook-drop-project-select hidden mb-2",children:e.jsxDEV("select",{value:I||"",onChange:E=>{E.target.value&&(i("project"),y(Number(E.target.value)))},className:"h-9 border border-gray-300 rounded-lg focus:outline-none bg-white text-sm px-3",children:[e.jsxDEV("option",{value:"",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1414,columnNumber:19},void 0),h.map(E=>e.jsxDEV("option",{value:E.id,children:E.title},E.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1416,columnNumber:21},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1404,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1403,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex-1 overflow-y-auto bg-gray-50 rounded-lg p-4 border-2 border-dashed border-gray-300 transition-colors",onDragOver:E=>{E.preventDefault(),E.currentTarget.classList.add("bg-blue-50","border-blue-400")},onDragLeave:E=>{E.currentTarget.classList.remove("bg-blue-50","border-blue-400")},onDrop:E=>{E.preventDefault(),E.currentTarget.classList.remove("bg-blue-50","border-blue-400");const g=E.dataTransfer.getData("itemId");g&&(U(Number(g)),N(!0))},children:e.jsxDEV("div",{className:"flex items-center justify-center h-full text-gray-400 text-sm",children:[e.jsxDEV("span",{className:"specbook-drop-text-landscape",children:"   "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1442,columnNumber:19},void 0),e.jsxDEV("span",{className:"specbook-drop-text-portrait",children:"   "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1443,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1441,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1422,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1401,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1282,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1244,columnNumber:11},void 0):e.jsxDEV("div",{className:"specbook-main flex-1 flex flex-col overflow-hidden pr-4 pt-3",children:[e.jsxDEV("div",{className:"mb-4 px-4",children:e.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 gap-2 lg:gap-4",children:[!t&&e.jsxDEV("button",{onClick:()=>{i("library"),y(null)},className:"col-span-1 lg:col-span-1 h-9 rounded-lg font-medium transition-colors bg-gray-200 text-gray-700 text-xs md:text-sm flex items-center justify-center",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1456,columnNumber:19},void 0),e.jsxDEV("select",{value:I||"",onChange:E=>{E.target.value?(i("project"),y(Number(E.target.value))):t||(i("library"),y(null))},className:`specbook-header-project-select col-span-1 lg:col-span-1 ${t?"":"lg:col-start-4"} h-9 border border-gray-300 rounded-lg focus:outline-none bg-white text-xs md:text-sm px-1 md:px-2`,children:[!t&&e.jsxDEV("option",{value:"",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1479,columnNumber:37},void 0),h.map(E=>e.jsxDEV("option",{value:E.id,children:E.title},E.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1481,columnNumber:21},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1466,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1454,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1453,columnNumber:13},void 0),e.jsxDEV("div",{className:"specbook-content flex-1 flex flex-col md:flex-row overflow-hidden gap-4",children:[!t&&e.jsxDEV("div",{className:"specbook-library hidden md:flex md:w-1/2 flex-col overflow-hidden pb-4 md:pr-3",children:e.jsxDEV("div",{className:"flex-1 overflow-y-auto bg-gray-50 rounded-lg p-4",children:M?e.jsxDEV("div",{className:"flex items-center justify-center h-full",children:e.jsxDEV("div",{className:"text-gray-500",children:" ..."},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1496,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1495,columnNumber:19},void 0):m.length===0?e.jsxDEV("div",{className:"flex items-center justify-center h-full text-gray-500 text-sm",children:"  "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1499,columnNumber:19},void 0):e.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-3 gap-4",children:m.filter(E=>x===""||E.category===x).map(E=>e.jsxDEV("div",{draggable:!0,onDragStart:g=>{ke(!0),g.dataTransfer.setData("itemId",E.id.toString()),g.dataTransfer.effectAllowed="copy"},onDragEnd:()=>{ke(!1),Ie(null)},className:"bg-white rounded-lg shadow-sm hover:shadow-md transition-all border border-gray-200 overflow-hidden cursor-grab active:cursor-grabbing flex flex-col",children:[e.jsxDEV("div",{className:"w-full aspect-square bg-gray-100",onMouseDown:g=>{Ie({x:g.clientX,y:g.clientY})},onClick:g=>{!Y&&De&&Math.sqrt(Math.pow(g.clientX-De.x,2)+Math.pow(g.clientY-De.y,2))<5&&W(E),Ie(null)},children:E.image_url?e.jsxDEV("img",{src:E.image_url,alt:E.name,className:"w-full h-full object-contain pointer-events-none",draggable:!1},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1541,columnNumber:29},void 0):e.jsxDEV("div",{className:"w-full h-full flex items-center justify-center text-gray-400 text-xs pointer-events-none",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1548,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1521,columnNumber:25},void 0),e.jsxDEV("div",{className:"p-2 pt-1.5 flex flex-col flex-1",children:[e.jsxDEV("div",{className:"flex items-start justify-between mb-1",children:[e.jsxDEV("div",{className:"flex items-center gap-1.5",children:[e.jsxDEV("span",{className:"inline-block px-1.5 py-0.5 text-xs bg-gray-100 text-gray-700 rounded",children:E.category},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1556,columnNumber:31},void 0),E.brand&&e.jsxDEV("span",{className:"text-xs text-gray-500",children:E.brand},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1560,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1555,columnNumber:29},void 0),E.grade&&e.jsxDEV("span",{className:`hidden md:inline-block px-1.5 py-0.5 text-xs rounded ${ga(E.grade)}`,children:fa(E.grade)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1564,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1554,columnNumber:27},void 0),e.jsxDEV("div",{className:"flex items-baseline justify-between gap-1 mt-auto",children:[e.jsxDEV("div",{className:"flex items-baseline gap-1 min-w-0",children:e.jsxDEV("h3",{className:"font-semibold text-xs text-gray-900 truncate",children:E.name},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1571,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1570,columnNumber:29},void 0),E.price&&e.jsxDEV("span",{className:"hidden md:inline text-xs text-gray-900 font-medium flex-shrink-0",children:[E.price,""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1574,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1569,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1553,columnNumber:25},void 0)]},E.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1507,columnNumber:23},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1503,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1493,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1492,columnNumber:17},void 0),!t&&e.jsxDEV("div",{className:"hidden md:block w-px bg-gray-300 self-stretch"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1587,columnNumber:15},void 0),e.jsxDEV("div",{className:`specbook-project w-full ${t?"":"md:w-1/2"} flex flex-col overflow-hidden ${t?"":"md:pl-3"} pb-4`,children:[e.jsxDEV("div",{className:"specbook-drop-project-select hidden mb-2",children:e.jsxDEV("select",{value:I||"",onChange:E=>{E.target.value?(i("project"),y(Number(E.target.value))):t||(i("library"),y(null))},className:"w-full h-9 border border-gray-300 rounded-lg focus:outline-none bg-white text-sm px-3",children:[!t&&e.jsxDEV("option",{value:"",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1606,columnNumber:37},void 0),h.map(E=>e.jsxDEV("option",{value:E.id,children:E.title},E.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1608,columnNumber:21},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1593,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1592,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex-1 overflow-y-auto bg-gray-50 rounded-lg p-4",onDragOver:E=>{E.preventDefault(),E.dataTransfer.dropEffect="copy"},onDrop:async E=>{E.preventDefault();const g=E.dataTransfer.getData("itemId");if(g&&I)try{const S=m.find(te=>te.id===Number(g));if(S){const{id:te,created_at:ae,updated_at:be,..._e}=S;await we.post("/specbook/base64",{..._e,isLibrary:!1,projectId:I}),P.success("  "),q(),ee()}}catch(S){console.error("  :",S),P.error("  ")}},children:M?e.jsxDEV("div",{className:"flex items-center justify-center h-full",children:e.jsxDEV("div",{className:"text-gray-500",children:" ..."},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1647,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1646,columnNumber:19},void 0):a.length===0?e.jsxDEV("div",{className:"flex items-center justify-center h-full text-gray-600 text-sm",children:[e.jsxDEV("span",{className:"specbook-drop-text-landscape",children:"   "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1651,columnNumber:21},void 0),e.jsxDEV("span",{className:"specbook-drop-text-portrait",children:"   "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1652,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1650,columnNumber:19},void 0):e.jsxDEV(hm,{sensors:kt,collisionDetection:dm,onDragEnd:At,children:e.jsxDEV(Dm,{items:a.filter(E=>x===""||E.category===x).map(E=>E.id),strategy:vm,children:e.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-3 gap-4",children:a.filter(E=>x===""||E.category===x).map(E=>e.jsxDEV(M0,{item:E,onEdit:Je,onDelete:Ge,onImageClick:W},E.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1670,columnNumber:29},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1666,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1660,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1655,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1614,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1590,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1489,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1451,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:997,columnNumber:7},void 0),he&&e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxDEV("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md mx-4",children:[e.jsxDEV("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[e.jsxDEV("h2",{className:"text-lg font-bold text-gray-900",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1694,columnNumber:15},void 0),e.jsxDEV("button",{onClick:Lt,className:"text-gray-500 hover:text-gray-700 transition-colors",children:e.jsxDEV(dt,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1699,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1695,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1693,columnNumber:13},void 0),e.jsxDEV("div",{className:"p-4",children:[e.jsxDEV("div",{className:"mb-4",children:e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV("input",{type:"text",value:Be,onChange:E=>Xe(E.target.value),onKeyPress:E=>{E.key==="Enter"&&Ht()},className:"flex-1 px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",placeholder:"  "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1707,columnNumber:19},void 0),e.jsxDEV("button",{onClick:Ht,className:"px-4 py-2 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors flex items-center gap-1",children:[e.jsxDEV(ws,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1723,columnNumber:21},void 0),""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1719,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1706,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1705,columnNumber:15},void 0),e.jsxDEV("div",{className:"mb-4",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  (  )"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1731,columnNumber:17},void 0),e.jsxDEV("div",{className:"max-h-120 overflow-y-auto border border-gray-200 rounded-lg",children:e.jsxDEV(hm,{sensors:kt,collisionDetection:dm,onDragEnd:ts,children:e.jsxDEV(Dm,{items:Ve,strategy:vm,children:Ve.map(E=>e.jsxDEV(I0,{category:E,onRemove:It,onEdit:Vt},E,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1745,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1740,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1735,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1734,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1730,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex justify-center",children:e.jsxDEV("button",{onClick:Lt,className:"px-6 py-2 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1759,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1758,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1703,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1692,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1691,columnNumber:9},void 0),le&&Ue&&e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxDEV("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-6xl max-h-[90vh] overflow-hidden flex flex-col",children:[e.jsxDEV("div",{className:"flex items-center justify-between p-4 md:p-6 border-b border-gray-200",children:[e.jsxDEV("div",{children:[e.jsxDEV("h2",{className:"text-xl font-bold text-gray-900",children:Ue.name},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1778,columnNumber:17},void 0),e.jsxDEV("p",{className:"text-xs text-gray-500 mt-1",children:"    Ctrl+V /PDF   "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1779,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1777,columnNumber:15},void 0),e.jsxDEV("button",{onClick:Et,className:"text-gray-500 hover:text-gray-700 transition-colors",children:e.jsxDEV(dt,{className:"h-6 w-6"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1787,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1783,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1776,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex-1 overflow-y-auto p-4 md:p-6",onDragOver:E=>{E.preventDefault(),fe(!0)},onDragLeave:E=>{E.preventDefault(),fe(!1)},onDrop:nt,children:[e.jsxDEV("input",{ref:Qe,type:"file",accept:"image/*,application/pdf",multiple:!0,onChange:oe,className:"hidden"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1805,columnNumber:15},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:[Ue.image_url&&e.jsxDEV("div",{className:"relative group",children:[e.jsxDEV("div",{className:"aspect-square bg-gray-100 rounded-lg overflow-hidden border-2 border-blue-500 cursor-pointer hover:border-blue-600 transition-colors",onClick:()=>qe(Ue.image_url),children:e.jsxDEV("img",{src:Ue.image_url,alt:" ",className:"w-full h-full object-contain"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1823,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1819,columnNumber:21},void 0),e.jsxDEV("div",{className:"absolute top-2 left-2 bg-blue-500 text-white text-xs font-bold px-2 py-1 rounded",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1829,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1818,columnNumber:19},void 0),Re.map((E,g)=>{const S=E.startsWith("data:application/pdf");return e.jsxDEV("div",{className:"relative group",children:[e.jsxDEV("div",{className:"aspect-square bg-gray-100 rounded-lg overflow-hidden border-2 border-gray-200 hover:border-gray-400 transition-colors cursor-pointer",onClick:()=>!S&&qe(E),children:S?e.jsxDEV("div",{className:"w-full h-full flex flex-col items-center justify-center text-red-600",children:[e.jsxDEV("svg",{className:"h-16 w-16 mb-2",fill:"currentColor",viewBox:"0 0 24 24",children:[e.jsxDEV("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6z"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1847,columnNumber:31},void 0),e.jsxDEV("path",{d:"M14 2v6h6M10 12h4M10 16h4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1848,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1846,columnNumber:29},void 0),e.jsxDEV("span",{className:"text-xs font-medium",children:"PDF"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1850,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1845,columnNumber:27},void 0):e.jsxDEV("img",{src:E,alt:`  ${g+1}`,className:"w-full h-full object-contain"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1853,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1840,columnNumber:23},void 0),e.jsxDEV("button",{onClick:()=>bt(g),className:"absolute top-2 right-2 p-1.5 bg-gray-700 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity hover:bg-gray-800",children:e.jsxDEV(Dt,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1864,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1860,columnNumber:23},void 0)]},g,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1839,columnNumber:21},void 0)}),e.jsxDEV("div",{onClick:()=>{var E;return(E=Qe.current)==null?void 0:E.click()},className:"aspect-square border-2 border-dashed border-gray-300 rounded-lg flex items-center justify-center cursor-pointer hover:border-gray-400 hover:bg-gray-50 transition-colors",children:e.jsxDEV(ws,{className:"h-12 w-12 text-gray-400"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1875,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1871,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1815,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1792,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex items-center justify-center p-4 border-t border-gray-200 bg-gray-50",children:e.jsxDEV("div",{className:"flex items-center gap-4",children:[e.jsxDEV("p",{className:"text-sm text-gray-600",children:[" ",(Ue.image_url?1:0)+Re.length," "]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1884,columnNumber:17},void 0),pe&&e.jsxDEV("p",{className:"text-sm text-blue-600 flex items-center gap-2",children:[e.jsxDEV("svg",{className:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsxDEV("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1890,columnNumber:23},void 0),e.jsxDEV("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1891,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1889,columnNumber:21},void 0)," ..."]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1888,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1883,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1882,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1774,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1773,columnNumber:9},void 0),Te&&e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-[60] overflow-hidden",onClick:E=>{E.target===E.currentTarget&&(qe(null),A(1),V({x:0,y:0}),B(null),G(null),C(!1))},onWheel:E=>{E.preventDefault();const g=E.deltaY>0?-.1:.1;A(S=>Math.max(.5,Math.min(5,S+g)))},children:[e.jsxDEV("div",{className:"absolute top-4 right-4 flex flex-col gap-2",children:[e.jsxDEV("button",{onClick:()=>{qe(null),A(1),V({x:0,y:0}),B(null),G(null),C(!1)},className:"p-2 bg-white bg-opacity-10 hover:bg-opacity-20 rounded-full transition-colors",children:e.jsxDEV(dt,{className:"h-6 w-6 text-white"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1935,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1924,columnNumber:13},void 0),e.jsxDEV("button",{onClick:E=>{E.stopPropagation(),A(g=>Math.min(5,g+.5))},className:"p-2 bg-white bg-opacity-10 hover:bg-opacity-20 rounded-full transition-colors",title:" (+)",children:e.jsxDEV("svg",{className:"h-6 w-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v6m3-3H7"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1946,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1945,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1937,columnNumber:13},void 0),e.jsxDEV("button",{onClick:E=>{E.stopPropagation(),A(g=>Math.max(.5,g-.5))},className:"p-2 bg-white bg-opacity-10 hover:bg-opacity-20 rounded-full transition-colors",title:" (-)",children:e.jsxDEV("svg",{className:"h-6 w-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM13 10H7"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1958,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1957,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1949,columnNumber:13},void 0),e.jsxDEV("button",{onClick:E=>{E.stopPropagation(),A(1),V({x:0,y:0})},className:"p-2 bg-white bg-opacity-10 hover:bg-opacity-20 rounded-full transition-colors",title:"",children:e.jsxDEV("svg",{className:"h-6 w-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1971,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1970,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1961,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1923,columnNumber:11},void 0),e.jsxDEV("div",{className:"absolute top-4 left-4 bg-white bg-opacity-10 text-white px-3 py-2 rounded-lg text-sm",children:[Math.round(Z*100),"%"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1977,columnNumber:11},void 0),e.jsxDEV("div",{className:"w-full h-full flex items-center justify-center overflow-hidden",onMouseDown:E=>{Z>1&&(me(!0),Me({x:E.clientX-ce.x,y:E.clientY-ce.y}))},onMouseMove:E=>{_&&Z>1&&V({x:E.clientX-xe.x,y:E.clientY-xe.y})},onMouseUp:()=>me(!1),onMouseLeave:()=>me(!1),onTouchStart:E=>{if(E.touches.length===2){E.preventDefault(),C(!0);const g=c(E.touches[0],E.touches[1]),S=k(E.touches[0],E.touches[1]);B(g),G(S)}else if(E.touches.length===1&&Z>1&&!T){const g=E.touches[0];Me({x:g.clientX-ce.x,y:g.clientY-ce.y})}},onTouchMove:E=>{if(E.touches.length===2){E.preventDefault(),C(!0);const g=c(E.touches[0],E.touches[1]),S=k(E.touches[0],E.touches[1]);if(Fe&&$){const te=g/Fe,ae=Math.max(.5,Math.min(5,Z*te)),be=S.x-$.x,_e=S.y-$.y,Ee=ae/Z,at=ce.x*Ee+be,rt=ce.y*Ee+_e;A(ae),V({x:at,y:rt})}B(g),G(S)}else if(E.touches.length===1&&Z>1&&!T){E.preventDefault();const g=E.touches[0];V({x:g.clientX-xe.x,y:g.clientY-xe.y})}},onTouchEnd:E=>{if(E.touches.length===0){const g=Date.now(),S=E.changedTouches[0],te={x:S.clientX,y:S.clientY};if(g-z<300&&$e&&Math.abs(te.x-$e.x)<30&&Math.abs(te.y-$e.y)<30&&!T){if(Z===1){const _e=E.currentTarget.getBoundingClientRect(),Ee=te.x-_e.left-_e.width/2,at=te.y-_e.top-_e.height/2;A(2.5),V({x:-Ee*1.5,y:-at*1.5})}else A(1),V({x:0,y:0});X(0),ot(null)}else X(g),ot(te);B(null),G(null),C(!1)}else if(E.touches.length===1&&T){B(null),G(null),C(!1);const g=E.touches[0];Me({x:g.clientX-ce.x,y:g.clientY-ce.y})}},onDoubleClick:E=>{E.stopPropagation();const g=E.currentTarget.getBoundingClientRect(),S=E.clientX-g.left-g.width/2,te=E.clientY-g.top-g.height/2;Z===1?(A(2.5),V({x:-S*1.5,y:-te*1.5})):(A(1),V({x:0,y:0}))},children:e.jsxDEV("img",{src:Te,alt:" ",style:{transform:`scale(${Z}) translate(${ce.x/Z}px, ${ce.y/Z}px)`,transformOrigin:"center center",transition:_||Fe!==null?"none":"transform 0.25s cubic-bezier(0.2, 0, 0, 1)",maxWidth:"100%",maxHeight:"100%",objectFit:"contain",cursor:Z>1?_?"grabbing":"grab":"pointer",userSelect:"none",touchAction:"none"},draggable:!1},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2120,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1982,columnNumber:11},void 0),e.jsxDEV("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 bg-white bg-opacity-10 text-white px-4 py-2 rounded-lg text-xs text-center",children:"     / |   |  2 /"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2139,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1904,columnNumber:9},void 0),K&&D&&e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxDEV("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[e.jsxDEV("h3",{className:"text-lg font-semibold mb-4",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2149,columnNumber:13},void 0),e.jsxDEV("p",{className:"text-sm text-gray-600 mb-4",children:"   "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2150,columnNumber:13},void 0),e.jsxDEV("div",{className:"max-h-96 overflow-y-auto space-y-2 mb-6",children:h.map(E=>e.jsxDEV("button",{onClick:async()=>{try{const g=m.find(S=>S.id===D);if(g){const{id:S,created_at:te,updated_at:ae,...be}=g;await we.post("/specbook/base64",{...be,isLibrary:!1,projectId:E.id}),P.success(`"${E.title}"  `),ee()}}catch(g){console.error("  :",g),P.error("  ")}finally{N(!1),U(null)}},className:"w-full px-4 py-3 text-left border border-gray-200 rounded-lg hover:bg-blue-50 hover:border-blue-300 transition-colors",children:e.jsxDEV("div",{className:"font-medium text-gray-900",children:E.title},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2180,columnNumber:19},void 0)},E.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2155,columnNumber:17},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2153,columnNumber:13},void 0),e.jsxDEV("button",{onClick:()=>{N(!1),U(null)},className:"w-full px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2184,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2148,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2147,columnNumber:9},void 0),ht&&ct&&e.jsxDEV(tx,{image:ct,onCropComplete:Oe,onCancel:Ye,aspectRatio:1},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2199,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:992,columnNumber:5},void 0)},F0=()=>{var Ne,Ve,je,Be,Xe,le,Le,Ue,Ce,Re,We,Te,qe,R,fe,pe,He,Z,A,ce,V,_,me,xe,Me,Fe,B,$,G,T,C,z,X,K;const{user:s}=Qt();if(!s||s.role!=="admin"&&s.role!=="manager")return e.jsxDEV(si,{to:"/dashboard",replace:!0},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:75,columnNumber:12},void 0);const[n,t]=l.useState({projectName:"",clientName:"",areaSize:0,residenceType:[],grade:[],finishType:"",bathroomCount:[],ceilingHeight:[],expansionWork:[],livingRoomExpansion:!1,roomExpansion:!1,roomExpansionCount:0,kitchenExpansion:!1,floorMaterial:[],wallMaterial:[],ceilingMaterial:[],furnitureWork:[],furnitureHardwareGrade:[],kitchenCountertop:[],switchPublic:[],switchRoom:[],lightingType:[],indirectLightingPublic:[],indirectLightingRoom:[],bathroomCeiling:[],bathroomTileGrade:[],bathroomFaucet:[],bathroomTile:[],bathroomGrout:[],moldingPublic:[],moldingRoom:[],includeSash:!1,includeGrooving:!1,includeBangtong:!1,includeAircon:!1,airconCount:1,airconType:[]}),[r,i]=l.useState(null),[a,o]=l.useState(!1),[m,d]=l.useState([]),[p,f]=l.useState("form"),[u,b]=l.useState(null),[x,j]=l.useState({floor:{},wall:{},furniture:{},countertop:{},switch:{},lighting:{},indirectLighting:{},molding:{},bathroom:{ceiling:{},faucet:{},tile:{},grout:{}},expansion:{}});l.useEffect(()=>{h(),L()},[]),l.useEffect(()=>{if(!n.areaSize||n.areaSize<=0||n.grade.length===0){i(null);return}const N=setTimeout(()=>{O()},500);return()=>clearTimeout(N)},[n]),l.useEffect(()=>{if(!x.floor||Object.keys(x.floor).length===0)return;const N=setTimeout(()=>{I()},500);return()=>clearTimeout(N)},[x]);const h=async()=>{try{const N=await we.get("/estimate-preview/list");d(N.data)}catch(N){console.error("   :",N)}},L=async()=>{try{const N=await we.get("/estimate-preview/settings/prices");N.data&&N.data.settings&&Object.keys(N.data.settings).length>0&&j(N.data.settings)}catch(N){console.error("   :",N)}},I=async()=>{try{await we.post("/estimate-preview/settings/prices",{settings:x})}catch(N){console.error("   :",N)}},y=(N,D,U,Y)=>{j(ke=>{const De={...ke};return De[N]||(De[N]={}),De[N][D]||(De[N][D]={min:"",max:""}),De[N][D][U]=Y,De})},M=(N,D,U,Y)=>{j(ke=>{const De={...ke};return De.bathroom[N]||(De.bathroom[N]={}),De.bathroom[N][D]||(De.bathroom[N][D]={min:"",max:""}),De.bathroom[N][D][U]=Y,De})},se=N=>{const{name:D,value:U,type:Y}=N.target;if(Y==="checkbox"){const ke=N.target.checked;t(De=>({...De,[D]:ke}))}else t(D==="areaSize"||D==="bathroomCount"||D==="airconCount"||D==="roomExpansionCount"?ke=>({...ke,[D]:Number(U)||0}):ke=>({...ke,[D]:U}))},re=(N,D)=>{const U=n[N];if(Array.isArray(U)){const Y=U.includes(D)?U.filter(ke=>ke!==D):[...U,D];t(ke=>({...ke,[N]:Y}))}},w=async()=>{if(!n.projectName){P.error(" ");return}if(!n.areaSize||n.areaSize<=0){P.error("  ");return}if(n.grade.length===0){P.error(" ");return}o(!0);try{const N={...n,residenceType:JSON.stringify(n.residenceType),grade:JSON.stringify(n.grade),bathroomCount:JSON.stringify(n.bathroomCount),ceilingHeight:JSON.stringify(n.ceilingHeight),expansionWork:JSON.stringify(n.expansionWork),floorMaterial:JSON.stringify(n.floorMaterial),wallMaterial:JSON.stringify(n.wallMaterial),ceilingMaterial:JSON.stringify(n.ceilingMaterial),furnitureWork:JSON.stringify(n.furnitureWork),furnitureHardwareGrade:JSON.stringify(n.furnitureHardwareGrade),kitchenCountertop:JSON.stringify(n.kitchenCountertop),switchPublic:JSON.stringify(n.switchPublic),switchRoom:JSON.stringify(n.switchRoom),lightingType:JSON.stringify(n.lightingType),indirectLightingPublic:JSON.stringify(n.indirectLightingPublic),indirectLightingRoom:JSON.stringify(n.indirectLightingRoom),bathroomCeiling:JSON.stringify(n.bathroomCeiling),bathroomTileGrade:JSON.stringify(n.bathroomTileGrade),bathroomFaucet:JSON.stringify(n.bathroomFaucet),bathroomTile:JSON.stringify(n.bathroomTile),bathroomGrout:JSON.stringify(n.bathroomGrout),moldingPublic:JSON.stringify(n.moldingPublic),moldingRoom:JSON.stringify(n.moldingRoom)},D=await we.post("/estimate-preview/create",N);i(D.data),P.success(" "),h()}catch(N){console.error("  :",N),P.error("  ")}finally{o(!1)}},O=async()=>{o(!0);try{const N={...n,projectName:n.projectName||"",clientName:n.clientName||"",residenceType:JSON.stringify(n.residenceType),grade:JSON.stringify(n.grade),bathroomCount:JSON.stringify(n.bathroomCount),ceilingHeight:JSON.stringify(n.ceilingHeight),expansionWork:JSON.stringify(n.expansionWork),floorMaterial:JSON.stringify(n.floorMaterial),wallMaterial:JSON.stringify(n.wallMaterial),ceilingMaterial:JSON.stringify(n.ceilingMaterial),furnitureWork:JSON.stringify(n.furnitureWork),furnitureHardwareGrade:JSON.stringify(n.furnitureHardwareGrade),kitchenCountertop:JSON.stringify(n.kitchenCountertop),switchPublic:JSON.stringify(n.switchPublic),switchRoom:JSON.stringify(n.switchRoom),lightingType:JSON.stringify(n.lightingType),indirectLightingPublic:JSON.stringify(n.indirectLightingPublic),indirectLightingRoom:JSON.stringify(n.indirectLightingRoom),bathroomCeiling:JSON.stringify(n.bathroomCeiling),bathroomTileGrade:JSON.stringify(n.bathroomTileGrade),bathroomFaucet:JSON.stringify(n.bathroomFaucet),bathroomTile:JSON.stringify(n.bathroomTile),bathroomGrout:JSON.stringify(n.bathroomGrout),moldingPublic:JSON.stringify(n.moldingPublic),moldingRoom:JSON.stringify(n.moldingRoom)},D=await we.post("/estimate-preview/calculate",N);i(D.data)}catch(N){console.error("   :",N),i(null)}finally{o(!1)}},ie=async N=>{try{const U=(await we.get(`/estimate-preview/${N}`)).data;t({projectName:U.project_name,clientName:U.client_name,areaSize:U.area_size,residenceType:U.residence_type?JSON.parse(U.residence_type):[],grade:U.grade,finishType:U.finish_type||"",bathroomCount:U.bathroom_count?JSON.parse(U.bathroom_count):[],ceilingHeight:U.ceiling_height?JSON.parse(U.ceiling_height):[],includeSash:U.include_sash===1,includeGrooving:U.include_grooving===1,includeBangtong:U.include_bangtong===1,includeAircon:U.include_aircon===1,airconCount:U.aircon_count||1,airconType:U.aircon_type?JSON.parse(U.aircon_type):[],floorMaterial:U.floor_material?JSON.parse(U.floor_material):[],wallMaterial:U.wall_material?JSON.parse(U.wall_material):[],ceilingMaterial:U.ceiling_material?JSON.parse(U.ceiling_material):[],furnitureWork:U.furniture_work?JSON.parse(U.furniture_work):[],furnitureHardwareGrade:U.furniture_hardware_grade?JSON.parse(U.furniture_hardware_grade):[],kitchenCountertop:U.kitchen_countertop?JSON.parse(U.kitchen_countertop):[],switchPublic:U.switch_public?JSON.parse(U.switch_public):[],switchRoom:U.switch_room?JSON.parse(U.switch_room):[],lightingType:U.lighting_type?JSON.parse(U.lighting_type):[],indirectLightingPublic:U.indirect_lighting_public?JSON.parse(U.indirect_lighting_public):[],indirectLightingRoom:U.indirect_lighting_room?JSON.parse(U.indirect_lighting_room):[],bathroomCeiling:U.bathroom_ceiling?JSON.parse(U.bathroom_ceiling):[],bathroomTileGrade:U.bathroom_tile_grade?JSON.parse(U.bathroom_tile_grade):[],bathroomFaucet:U.bathroom_faucet?JSON.parse(U.bathroom_faucet):[],bathroomTile:U.bathroom_tile?JSON.parse(U.bathroom_tile):[],bathroomGrout:U.bathroom_grout?JSON.parse(U.bathroom_grout):[],moldingPublic:U.molding_public?JSON.parse(U.molding_public):[],moldingRoom:U.molding_room?JSON.parse(U.molding_room):[]}),i({baseConstructionCost:U.base_construction_cost,fixtureCost:U.fixture_cost,sashCost:U.sash_cost,heatingCost:U.heating_cost,airconCost:U.aircon_cost,totalMinCost:U.total_min_cost,totalMaxCost:U.total_max_cost,detailBreakdown:U.detail_breakdown}),b(U),f("form"),P.success(" ")}catch(D){console.error("  :",D),P.error("  ")}},de=async N=>{if(window.confirm("  ?"))try{await we.delete(`/estimate-preview/${N}`),P.success(" "),h()}catch(D){console.error("  :",D),P.error("  ")}},ue=N=>new Intl.NumberFormat("ko-KR",{style:"currency",currency:"KRW",minimumFractionDigits:0}).format(N),ve=()=>{t({projectName:"",clientName:"",areaSize:0,residenceType:[],grade:[],finishType:"",bathroomCount:[],ceilingHeight:[],includeSash:!1,includeGrooving:!1,includeBangtong:!1,includeAircon:!1,airconCount:1,airconType:[],livingRoomExpansion:!1,roomExpansion:!1,roomExpansionCount:0,kitchenExpansion:!1,floorMaterial:[],wallMaterial:[],ceilingMaterial:[],furnitureWork:[],furnitureHardwareGrade:[],kitchenCountertop:[],switchPublic:[],switchRoom:[],lightingType:[],indirectLightingPublic:[],indirectLightingRoom:[],bathroomCeiling:[],bathroomTileGrade:[],bathroomFaucet:[],bathroomTile:[],bathroomGrout:[],moldingPublic:[],moldingRoom:[]}),i(null),b(null)},Q=()=>{P.info("PDF    ")},he={total:m.length,thisMonth:m.filter(N=>{const D=new Date(N.created_at),U=new Date;return D.getMonth()===U.getMonth()&&D.getFullYear()===U.getFullYear()}).length};return e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV("div",{className:"border-b border-gray-200 flex items-center justify-between",children:[e.jsxDEV("nav",{className:"flex space-x-4 md:space-x-8",children:[{id:"form",label:" "},{id:"history",label:" ",count:he.total,icon:Em},{id:"settings",label:" ",icon:wm}].map(N=>e.jsxDEV("button",{onClick:()=>f(N.id),className:Xt("py-3 md:py-4 px-1 border-b-2 font-medium text-xs md:text-sm transition-colors whitespace-nowrap flex items-center gap-2",p===N.id?"border-gray-700 text-gray-700":"border-transparent text-gray-400 hover:text-gray-700 hover:border-gray-300"),children:[N.icon&&e.jsxDEV(N.icon,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:516,columnNumber:28},void 0),N.label,N.count!==void 0&&N.count>0&&e.jsxDEV("span",{className:Xt("ml-1 py-0.5 px-1.5 rounded-full text-[10px] md:text-xs font-semibold",p===N.id?"bg-gray-700 text-white":"bg-gray-200 text-gray-600"),children:N.count},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:519,columnNumber:17},void 0)]},N.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:506,columnNumber:13},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:500,columnNumber:9},void 0),e.jsxDEV("button",{onClick:ve,className:"px-3 md:px-4 py-2 bg-gray-700 text-white text-xs md:text-sm rounded hover:bg-gray-800 transition-colors flex items-center gap-2",children:[e.jsxDEV(ws,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:533,columnNumber:11},void 0),e.jsxDEV("span",{className:"hidden md:inline",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:534,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:529,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:499,columnNumber:7},void 0),p==="form"&&e.jsxDEV("div",{className:"estimate-container grid grid-cols-1 lg:grid-cols-1 xl:grid-cols-2 gap-4 md:gap-6",children:[e.jsxDEV("div",{className:"estimate-form bg-white rounded-lg border border-gray-200 p-4 md:p-6",children:e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxDEV("div",{className:"md:col-span-2 space-y-4",children:[e.jsxDEV("div",{className:"flex flex-wrap gap-3",children:[e.jsxDEV("div",{className:"flex-1 min-w-[140px]",children:[e.jsxDEV("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:[" ",e.jsxDEV("span",{className:"text-red-500",children:"*"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:548,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:547,columnNumber:21},void 0),e.jsxDEV("input",{type:"text",name:"projectName",value:n.projectName,onChange:se,className:"w-full px-3 py-2 text-sm border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-gray-400",placeholder:":  "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:550,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:546,columnNumber:19},void 0),e.jsxDEV("div",{className:"w-24",children:[e.jsxDEV("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:[" ",e.jsxDEV("span",{className:"text-red-500",children:"*"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:561,columnNumber:26},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:560,columnNumber:21},void 0),e.jsxDEV("input",{type:"number",name:"areaSize",value:n.areaSize||"",onChange:se,className:"w-full px-3 py-2 text-sm border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-gray-400",placeholder:"25",min:"1"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:563,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:559,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:545,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex flex-wrap gap-x-8 gap-y-3",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:576,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex flex-wrap gap-x-4 gap-y-1",children:["","","","",""].map(N=>e.jsxDEV("label",{className:"flex items-center text-sm whitespace-nowrap cursor-pointer",children:[e.jsxDEV("input",{type:"checkbox",checked:n.residenceType.includes(N),onChange:()=>re("residenceType",N),className:"mr-1.5 rounded border-gray-300 text-gray-600 focus:ring-gray-400"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:580,columnNumber:27},void 0),e.jsxDEV("span",{className:"text-gray-700",children:N},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:586,columnNumber:27},void 0)]},N,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:579,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:577,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:575,columnNumber:19},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:[" ",e.jsxDEV("span",{className:"text-red-500",children:"*"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:592,columnNumber:86},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:592,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex flex-wrap gap-x-4 gap-y-1",children:["","","",""].map(N=>e.jsxDEV("label",{className:"flex items-center text-sm whitespace-nowrap cursor-pointer",children:[e.jsxDEV("input",{type:"checkbox",checked:n.grade.includes(N),onChange:()=>re("grade",N),className:"mr-1.5 rounded border-gray-300 text-gray-600 focus:ring-gray-400"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:596,columnNumber:27},void 0),e.jsxDEV("span",{className:"text-gray-700",children:N},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:602,columnNumber:27},void 0)]},N,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:595,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:593,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:591,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:574,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:544,columnNumber:15},void 0),e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:613,columnNumber:19},void 0),e.jsxDEV("div",{className:"flex flex-wrap gap-x-4 gap-y-1.5",children:["","","","","600 ","800-900 ","1200 "].map(N=>e.jsxDEV("label",{className:"flex items-center text-sm whitespace-nowrap cursor-pointer",children:[e.jsxDEV("input",{type:"checkbox",checked:n.floorMaterial.includes(N),onChange:()=>re("floorMaterial",N),className:"mr-1.5 rounded border-gray-300 text-gray-600 focus:ring-gray-400"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:617,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-gray-700",children:N},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:623,columnNumber:25},void 0)]},N,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:616,columnNumber:23},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:614,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:612,columnNumber:17},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" / "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:630,columnNumber:19},void 0),e.jsxDEV("div",{className:"flex flex-wrap gap-x-4 gap-y-1.5",children:["","()","()","()","","","","","()+()"].map(N=>e.jsxDEV("label",{className:"flex items-center text-sm whitespace-nowrap cursor-pointer",children:[e.jsxDEV("input",{type:"checkbox",checked:n.wallMaterial.includes(N),onChange:()=>re("wallMaterial",N),className:"mr-1.5 rounded border-gray-300 text-gray-600 focus:ring-gray-400"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:634,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-gray-700",children:N},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:640,columnNumber:25},void 0)]},N,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:633,columnNumber:23},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:631,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:629,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:611,columnNumber:15},void 0),e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("div",{className:"flex flex-wrap gap-x-8 gap-y-3",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:651,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex gap-x-4",children:["0","1","2","3","4"].map(N=>e.jsxDEV("label",{className:"flex items-center text-sm cursor-pointer",children:[e.jsxDEV("input",{type:"checkbox",checked:n.bathroomCount.includes(N),onChange:()=>re("bathroomCount",N),className:"mr-1.5 rounded border-gray-300 text-gray-600 focus:ring-gray-400"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:655,columnNumber:27},void 0),e.jsxDEV("span",{className:"text-gray-700",children:N},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:661,columnNumber:27},void 0)]},N,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:654,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:652,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:650,columnNumber:19},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:667,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex flex-wrap gap-x-4 gap-y-1",children:["2400","2400~2600","2600"].map(N=>e.jsxDEV("label",{className:"flex items-center text-sm whitespace-nowrap cursor-pointer",children:[e.jsxDEV("input",{type:"checkbox",checked:n.ceilingHeight.includes(N),onChange:()=>re("ceilingHeight",N),className:"mr-1.5 rounded border-gray-300 text-gray-600 focus:ring-gray-400"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:671,columnNumber:27},void 0),e.jsxDEV("span",{className:"text-gray-700",children:N},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:677,columnNumber:27},void 0)]},N,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:670,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:668,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:666,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:649,columnNumber:17},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:685,columnNumber:19},void 0),e.jsxDEV("div",{className:"flex flex-wrap gap-x-4 gap-y-1.5",children:[e.jsxDEV("label",{className:"flex items-center text-sm whitespace-nowrap cursor-pointer",children:[e.jsxDEV("input",{type:"checkbox",name:"livingRoomExpansion",checked:n.livingRoomExpansion,onChange:se,className:"mr-1.5 rounded border-gray-300 text-gray-600 focus:ring-gray-400"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:688,columnNumber:23},void 0),e.jsxDEV("span",{className:"text-gray-700",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:695,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:687,columnNumber:21},void 0),e.jsxDEV("label",{className:"flex items-center text-sm whitespace-nowrap cursor-pointer",children:[e.jsxDEV("input",{type:"checkbox",name:"kitchenExpansion",checked:n.kitchenExpansion,onChange:se,className:"mr-1.5 rounded border-gray-300 text-gray-600 focus:ring-gray-400"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:698,columnNumber:23},void 0),e.jsxDEV("span",{className:"text-gray-700",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:705,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:697,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("label",{className:"flex items-center text-sm whitespace-nowrap cursor-pointer",children:[e.jsxDEV("input",{type:"checkbox",name:"roomExpansion",checked:n.roomExpansion,onChange:se,className:"mr-1.5 rounded border-gray-300 text-gray-600 focus:ring-gray-400"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:709,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-gray-700",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:716,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:708,columnNumber:23},void 0),n.roomExpansion&&e.jsxDEV("select",{name:"roomExpansionCount",value:n.roomExpansionCount,onChange:se,className:"px-2 py-1 text-sm border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-gray-400",children:[e.jsxDEV("option",{value:0,children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:725,columnNumber:27},void 0),e.jsxDEV("option",{value:1,children:"1"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:726,columnNumber:27},void 0),e.jsxDEV("option",{value:2,children:"2"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:727,columnNumber:27},void 0),e.jsxDEV("option",{value:3,children:"3"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:728,columnNumber:27},void 0),e.jsxDEV("option",{value:4,children:"4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:729,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:719,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:707,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:686,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:684,columnNumber:17},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:737,columnNumber:19},void 0),e.jsxDEV("div",{className:"flex flex-wrap gap-x-4 gap-y-1.5",children:[e.jsxDEV("label",{className:"flex items-center text-sm whitespace-nowrap cursor-pointer",children:[e.jsxDEV("input",{type:"checkbox",name:"includeSash",checked:n.includeSash,onChange:se,className:"mr-1.5 rounded border-gray-300 text-gray-600 focus:ring-gray-400"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:740,columnNumber:23},void 0),e.jsxDEV("span",{className:"text-gray-700",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:747,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:739,columnNumber:21},void 0),e.jsxDEV("label",{className:"flex items-center text-sm whitespace-nowrap cursor-pointer",children:[e.jsxDEV("input",{type:"checkbox",name:"includeGrooving",checked:n.includeGrooving,onChange:se,className:"mr-1.5 rounded border-gray-300 text-gray-600 focus:ring-gray-400"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:750,columnNumber:23},void 0),e.jsxDEV("span",{className:"text-gray-700",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:757,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:749,columnNumber:21},void 0),e.jsxDEV("label",{className:"flex items-center text-sm whitespace-nowrap cursor-pointer",children:[e.jsxDEV("input",{type:"checkbox",name:"includeBangtong",checked:n.includeBangtong,onChange:se,className:"mr-1.5 rounded border-gray-300 text-gray-600 focus:ring-gray-400"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:760,columnNumber:23},void 0),e.jsxDEV("span",{className:"text-gray-700",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:767,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:759,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("label",{className:"flex items-center text-sm whitespace-nowrap cursor-pointer",children:[e.jsxDEV("input",{type:"checkbox",name:"includeAircon",checked:n.includeAircon,onChange:se,className:"mr-1.5 rounded border-gray-300 text-gray-600 focus:ring-gray-400"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:771,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-gray-700",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:778,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:770,columnNumber:23},void 0),n.includeAircon&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV("select",{name:"airconCount",value:n.airconCount,onChange:se,className:"px-2 py-1 text-sm border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-gray-400",children:[1,2,3,4,5,6,7,8,9,10].map(N=>e.jsxDEV("option",{value:N,children:[N,""]},N,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:789,columnNumber:31},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:782,columnNumber:27},void 0),["2 in 1"," "].map(N=>e.jsxDEV("label",{className:"flex items-center text-sm whitespace-nowrap cursor-pointer",children:[e.jsxDEV("input",{type:"checkbox",checked:n.airconType.includes(N),onChange:()=>re("airconType",N),className:"mr-1.5 rounded border-gray-300 text-gray-600 focus:ring-gray-400"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:794,columnNumber:31},void 0),e.jsxDEV("span",{className:"text-gray-700",children:N},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:800,columnNumber:31},void 0)]},N,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:793,columnNumber:29},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:781,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:769,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:738,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:736,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:648,columnNumber:15},void 0),e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"  "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:813,columnNumber:19},void 0),e.jsxDEV("div",{className:"flex flex-wrap gap-x-4 gap-y-1",children:["",""].map(N=>e.jsxDEV("label",{className:"flex items-center text-sm whitespace-nowrap cursor-pointer",children:[e.jsxDEV("input",{type:"checkbox",checked:n.furnitureWork.includes(N),onChange:()=>re("furnitureWork",N),className:"mr-1.5 rounded border-gray-300 text-gray-600 focus:ring-gray-400"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:817,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-gray-700",children:N},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:823,columnNumber:25},void 0)]},N,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:816,columnNumber:23},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:814,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:812,columnNumber:17},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:829,columnNumber:19},void 0),e.jsxDEV("div",{className:"flex flex-wrap gap-x-4 gap-y-1.5",children:[" BLUM()","()+()"," BLUM()+()"].map(N=>e.jsxDEV("label",{className:"flex items-center text-sm whitespace-nowrap cursor-pointer",children:[e.jsxDEV("input",{type:"checkbox",checked:n.furnitureHardwareGrade.includes(N),onChange:()=>re("furnitureHardwareGrade",N),className:"mr-1.5 rounded border-gray-300 text-gray-600 focus:ring-gray-400"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:833,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-gray-700",children:N},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:839,columnNumber:25},void 0)]},N,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:832,columnNumber:23},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:830,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:828,columnNumber:17},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:845,columnNumber:19},void 0),e.jsxDEV("div",{className:"flex flex-wrap gap-x-4 gap-y-1",children:["","","","",""].map(N=>e.jsxDEV("label",{className:"flex items-center text-sm whitespace-nowrap cursor-pointer",children:[e.jsxDEV("input",{type:"checkbox",checked:n.kitchenCountertop.includes(N),onChange:()=>re("kitchenCountertop",N),className:"mr-1.5 rounded border-gray-300 text-gray-600 focus:ring-gray-400"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:849,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-gray-700",children:N},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:855,columnNumber:25},void 0)]},N,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:848,columnNumber:23},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:846,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:844,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:811,columnNumber:15},void 0),e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("div",{className:"flex flex-wrap gap-x-8 gap-y-3",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"/ ()"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:866,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex flex-wrap gap-x-4 gap-y-1",children:["()","()"," "," "].map(N=>e.jsxDEV("label",{className:"flex items-center text-sm whitespace-nowrap cursor-pointer",children:[e.jsxDEV("input",{type:"checkbox",checked:n.switchPublic.includes(N),onChange:()=>re("switchPublic",N),className:"mr-1.5 rounded border-gray-300 text-gray-600 focus:ring-gray-400"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:870,columnNumber:27},void 0),e.jsxDEV("span",{className:"text-gray-700",children:N},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:876,columnNumber:27},void 0)]},N,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:869,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:867,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:865,columnNumber:19},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"/ ()"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:882,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex flex-wrap gap-x-4 gap-y-1",children:["()","()"," "," "].map(N=>e.jsxDEV("label",{className:"flex items-center text-sm whitespace-nowrap cursor-pointer",children:[e.jsxDEV("input",{type:"checkbox",checked:n.switchRoom.includes(N),onChange:()=>re("switchRoom",N),className:"mr-1.5 rounded border-gray-300 text-gray-600 focus:ring-gray-400"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:886,columnNumber:27},void 0),e.jsxDEV("span",{className:"text-gray-700",children:N},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:892,columnNumber:27},void 0)]},N,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:885,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:883,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:881,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:864,columnNumber:17},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:900,columnNumber:19},void 0),e.jsxDEV("div",{className:"flex flex-wrap gap-x-4 gap-y-1.5",children:["","","()","()","()"].map(N=>e.jsxDEV("label",{className:"flex items-center text-sm whitespace-nowrap cursor-pointer",children:[e.jsxDEV("input",{type:"checkbox",checked:n.lightingType.includes(N),onChange:()=>re("lightingType",N),className:"mr-1.5 rounded border-gray-300 text-gray-600 focus:ring-gray-400"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:904,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-gray-700",children:N},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:910,columnNumber:25},void 0)]},N,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:903,columnNumber:23},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:901,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:899,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex flex-wrap gap-x-8 gap-y-3",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" ()"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:918,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex gap-x-4",children:["LED","T3 "].map(N=>e.jsxDEV("label",{className:"flex items-center text-sm whitespace-nowrap cursor-pointer",children:[e.jsxDEV("input",{type:"checkbox",checked:n.indirectLightingPublic.includes(N),onChange:()=>re("indirectLightingPublic",N),className:"mr-1.5 rounded border-gray-300 text-gray-600 focus:ring-gray-400"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:922,columnNumber:27},void 0),e.jsxDEV("span",{className:"text-gray-700",children:N},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:928,columnNumber:27},void 0)]},N,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:921,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:919,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:917,columnNumber:19},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" ()"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:934,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex gap-x-4",children:["LED","T3 "].map(N=>e.jsxDEV("label",{className:"flex items-center text-sm whitespace-nowrap cursor-pointer",children:[e.jsxDEV("input",{type:"checkbox",checked:n.indirectLightingRoom.includes(N),onChange:()=>re("indirectLightingRoom",N),className:"mr-1.5 rounded border-gray-300 text-gray-600 focus:ring-gray-400"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:938,columnNumber:27},void 0),e.jsxDEV("span",{className:"text-gray-700",children:N},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:944,columnNumber:27},void 0)]},N,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:937,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:935,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:933,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:916,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:863,columnNumber:15},void 0),e.jsxDEV("div",{className:"space-y-4",children:e.jsxDEV("div",{className:"flex flex-wrap gap-x-8 gap-y-3",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" ()"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:956,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex flex-wrap gap-x-4 gap-y-1.5",children:["+","+","+","+"].map(N=>e.jsxDEV("label",{className:"flex items-center text-sm whitespace-nowrap cursor-pointer",children:[e.jsxDEV("input",{type:"checkbox",checked:n.moldingPublic.includes(N),onChange:()=>re("moldingPublic",N),className:"mr-1.5 rounded border-gray-300 text-gray-600 focus:ring-gray-400"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:960,columnNumber:27},void 0),e.jsxDEV("span",{className:"text-gray-700",children:N},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:966,columnNumber:27},void 0)]},N,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:959,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:957,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:955,columnNumber:19},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" ()"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:972,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex flex-wrap gap-x-4 gap-y-1.5",children:["+","+","+","+"].map(N=>e.jsxDEV("label",{className:"flex items-center text-sm whitespace-nowrap cursor-pointer",children:[e.jsxDEV("input",{type:"checkbox",checked:n.moldingRoom.includes(N),onChange:()=>re("moldingRoom",N),className:"mr-1.5 rounded border-gray-300 text-gray-600 focus:ring-gray-400"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:976,columnNumber:27},void 0),e.jsxDEV("span",{className:"text-gray-700",children:N},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:982,columnNumber:27},void 0)]},N,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:975,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:973,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:971,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:954,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:953,columnNumber:15},void 0),e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("div",{className:"flex flex-wrap gap-x-8 gap-y-3",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:994,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex gap-x-4",children:["SMC","",""].map(N=>e.jsxDEV("label",{className:"flex items-center text-sm whitespace-nowrap cursor-pointer",children:[e.jsxDEV("input",{type:"checkbox",checked:n.bathroomCeiling.includes(N),onChange:()=>re("bathroomCeiling",N),className:"mr-1.5 rounded border-gray-300 text-gray-600 focus:ring-gray-400"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:998,columnNumber:27},void 0),e.jsxDEV("span",{className:"text-gray-700",children:N},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1004,columnNumber:27},void 0)]},N,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:997,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:995,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:993,columnNumber:19},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1010,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex gap-x-4",children:["",""].map(N=>e.jsxDEV("label",{className:"flex items-center text-sm whitespace-nowrap cursor-pointer",children:[e.jsxDEV("input",{type:"checkbox",checked:n.bathroomFaucet.includes(N),onChange:()=>re("bathroomFaucet",N),className:"mr-1.5 rounded border-gray-300 text-gray-600 focus:ring-gray-400"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1014,columnNumber:27},void 0),e.jsxDEV("span",{className:"text-gray-700",children:N},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1020,columnNumber:27},void 0)]},N,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1013,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1011,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1009,columnNumber:19},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1026,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex flex-wrap gap-x-4 gap-y-1",children:["()","()","()"].map(N=>e.jsxDEV("label",{className:"flex items-center text-sm whitespace-nowrap cursor-pointer",children:[e.jsxDEV("input",{type:"checkbox",checked:n.bathroomTileGrade.includes(N),onChange:()=>re("bathroomTileGrade",N),className:"mr-1.5 rounded border-gray-300 text-gray-600 focus:ring-gray-400"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1030,columnNumber:27},void 0),e.jsxDEV("span",{className:"text-gray-700",children:N},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1036,columnNumber:27},void 0)]},N,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1029,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1027,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1025,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:992,columnNumber:17},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1044,columnNumber:19},void 0),e.jsxDEV("div",{className:"flex flex-wrap gap-x-4 gap-y-1.5",children:["600()","600()","750x1500","","300x600()+300()","600x1200 or 800()"].map(N=>e.jsxDEV("label",{className:"flex items-center text-sm whitespace-nowrap cursor-pointer",children:[e.jsxDEV("input",{type:"checkbox",checked:n.bathroomTile.includes(N),onChange:()=>re("bathroomTile",N),className:"mr-1.5 rounded border-gray-300 text-gray-600 focus:ring-gray-400"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1048,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-gray-700",children:N},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1054,columnNumber:25},void 0)]},N,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1047,columnNumber:23},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1045,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1043,columnNumber:17},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1061,columnNumber:19},void 0),e.jsxDEV("div",{className:"flex flex-wrap gap-x-4 gap-y-1.5",children:["","()"].map(N=>e.jsxDEV("label",{className:"flex items-center text-sm whitespace-nowrap cursor-pointer",children:[e.jsxDEV("input",{type:"checkbox",checked:n.bathroomGrout.includes(N),onChange:()=>re("bathroomGrout",N),className:"mr-1.5 rounded border-gray-300 text-gray-600 focus:ring-gray-400"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1065,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-gray-700",children:N},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1071,columnNumber:25},void 0)]},N,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1064,columnNumber:23},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1062,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1060,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:991,columnNumber:15},void 0),e.jsxDEV("button",{onClick:w,disabled:a,className:"md:col-span-2 w-full py-3 bg-gray-900 text-white rounded-lg font-semibold hover:bg-gray-800 disabled:opacity-50 disabled:cursor-not-allowed text-sm md:text-base transition-colors",children:a?" ...":" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1079,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:542,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:541,columnNumber:11},void 0),e.jsxDEV("div",{className:"estimate-result bg-white rounded-lg border border-gray-200 p-4 md:p-6",children:[e.jsxDEV("div",{className:"flex justify-between items-center mb-4",children:[e.jsxDEV("h2",{className:"text-base md:text-lg font-semibold text-gray-800",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1092,columnNumber:15},void 0),r&&e.jsxDEV("button",{onClick:Q,className:"px-3 py-1.5 border border-gray-300 text-gray-700 rounded hover:bg-gray-50 flex items-center gap-1 text-xs md:text-sm transition-colors",children:[e.jsxDEV(_c,{className:"h-3 w-3 md:h-4 md:w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1098,columnNumber:19},void 0),"PDF"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1094,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1091,columnNumber:13},void 0),r?e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV("p",{className:"text-xs md:text-sm text-gray-600 mb-2",children:"  "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1109,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-xl md:text-2xl font-bold text-gray-900",children:[ue(r.totalMinCost)," ~ ",ue(r.totalMaxCost)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1110,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-xs text-gray-500 mt-2",children:"(15% )"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1113,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1108,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1107,columnNumber:17},void 0),e.jsxDEV("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:e.jsxDEV("table",{className:"w-full",children:[e.jsxDEV("thead",{className:"bg-gray-50",children:e.jsxDEV("tr",{children:[e.jsxDEV("th",{className:"px-4 py-2 text-left text-xs md:text-sm font-medium text-gray-700",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1122,columnNumber:25},void 0),e.jsxDEV("th",{className:"px-4 py-2 text-right text-xs md:text-sm font-medium text-gray-700",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1123,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1121,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1120,columnNumber:21},void 0),e.jsxDEV("tbody",{className:"divide-y divide-gray-200",children:[e.jsxDEV("tr",{children:[e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1128,columnNumber:25},void 0),e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900 text-right font-medium",children:ue(r.baseConstructionCost)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1129,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1127,columnNumber:23},void 0),e.jsxDEV("tr",{className:"bg-gray-50",children:[e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900 font-semibold",children:[" (",n.grade.join(", "),")"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1134,columnNumber:25},void 0),e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900 text-right font-semibold",children:r.fixtureCostMin!==void 0&&r.fixtureCostMax!==void 0?`${ue(r.fixtureCostMin)} ~ ${ue(r.fixtureCostMax)}`:ue(r.fixtureCost)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1135,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1133,columnNumber:23},void 0),(Ve=(Ne=r.detailBreakdown)==null?void 0:Ne.fixtureItems)==null?void 0:Ve.map((N,D)=>e.jsxDEV("tr",{className:"bg-white",children:[e.jsxDEV("td",{className:"px-4 py-1.5 text-xs text-gray-600 pl-8",children:[" ",N.category,"  ",N.quantity,""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1144,columnNumber:27},void 0),e.jsxDEV("td",{className:"px-4 py-1.5 text-xs text-gray-600 text-right",children:[ue(N.minTotal)," ~ ",ue(N.maxTotal)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1147,columnNumber:27},void 0)]},D,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1143,columnNumber:25},void 0)),((Be=(je=r.detailBreakdown)==null?void 0:je.itemDetails)==null?void 0:Be.floor)>0&&e.jsxDEV("tr",{children:[e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1154,columnNumber:27},void 0),e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900 text-right font-medium",children:ue(r.detailBreakdown.itemDetails.floor)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1155,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1153,columnNumber:25},void 0),((le=(Xe=r.detailBreakdown)==null?void 0:Xe.itemDetails)==null?void 0:le.wall)>0&&e.jsxDEV("tr",{children:[e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1162,columnNumber:27},void 0),e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900 text-right font-medium",children:ue(r.detailBreakdown.itemDetails.wall)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1163,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1161,columnNumber:25},void 0),((Ue=(Le=r.detailBreakdown)==null?void 0:Le.itemDetails)==null?void 0:Ue.ceiling)>0&&e.jsxDEV("tr",{children:[e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1170,columnNumber:27},void 0),e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900 text-right font-medium",children:ue(r.detailBreakdown.itemDetails.ceiling)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1171,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1169,columnNumber:25},void 0),((Re=(Ce=r.detailBreakdown)==null?void 0:Ce.itemDetails)==null?void 0:Re.furniture)>0&&e.jsxDEV("tr",{children:[e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1178,columnNumber:27},void 0),e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900 text-right font-medium",children:ue(r.detailBreakdown.itemDetails.furniture)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1179,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1177,columnNumber:25},void 0),((Te=(We=r.detailBreakdown)==null?void 0:We.itemDetails)==null?void 0:Te.countertop)>0&&e.jsxDEV("tr",{children:[e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1186,columnNumber:27},void 0),e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900 text-right font-medium",children:ue(r.detailBreakdown.itemDetails.countertop)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1187,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1185,columnNumber:25},void 0),((R=(qe=r.detailBreakdown)==null?void 0:qe.itemDetails)==null?void 0:R.switchPublic)>0&&e.jsxDEV("tr",{children:[e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900",children:"/ ()"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1194,columnNumber:27},void 0),e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900 text-right font-medium",children:ue(r.detailBreakdown.itemDetails.switchPublic)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1195,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1193,columnNumber:25},void 0),((pe=(fe=r.detailBreakdown)==null?void 0:fe.itemDetails)==null?void 0:pe.switchRoom)>0&&e.jsxDEV("tr",{children:[e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900",children:"/ ()"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1202,columnNumber:27},void 0),e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900 text-right font-medium",children:ue(r.detailBreakdown.itemDetails.switchRoom)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1203,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1201,columnNumber:25},void 0),((Z=(He=r.detailBreakdown)==null?void 0:He.itemDetails)==null?void 0:Z.lighting)>0&&e.jsxDEV("tr",{children:[e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1210,columnNumber:27},void 0),e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900 text-right font-medium",children:ue(r.detailBreakdown.itemDetails.lighting)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1211,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1209,columnNumber:25},void 0),((ce=(A=r.detailBreakdown)==null?void 0:A.itemDetails)==null?void 0:ce.indirectPublic)>0&&e.jsxDEV("tr",{children:[e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900",children:" ()"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1218,columnNumber:27},void 0),e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900 text-right font-medium",children:ue(r.detailBreakdown.itemDetails.indirectPublic)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1219,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1217,columnNumber:25},void 0),((_=(V=r.detailBreakdown)==null?void 0:V.itemDetails)==null?void 0:_.indirectRoom)>0&&e.jsxDEV("tr",{children:[e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900",children:" ()"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1226,columnNumber:27},void 0),e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900 text-right font-medium",children:ue(r.detailBreakdown.itemDetails.indirectRoom)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1227,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1225,columnNumber:25},void 0),((xe=(me=r.detailBreakdown)==null?void 0:me.itemDetails)==null?void 0:xe.moldingPublic)>0&&e.jsxDEV("tr",{children:[e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900",children:" ()"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1234,columnNumber:27},void 0),e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900 text-right font-medium",children:ue(r.detailBreakdown.itemDetails.moldingPublic)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1235,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1233,columnNumber:25},void 0),((Fe=(Me=r.detailBreakdown)==null?void 0:Me.itemDetails)==null?void 0:Fe.moldingRoom)>0&&e.jsxDEV("tr",{children:[e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900",children:" ()"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1242,columnNumber:27},void 0),e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900 text-right font-medium",children:ue(r.detailBreakdown.itemDetails.moldingRoom)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1243,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1241,columnNumber:25},void 0),(($=(B=r.detailBreakdown)==null?void 0:B.itemDetails)==null?void 0:$.bathroomCeiling)>0&&e.jsxDEV("tr",{children:[e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1250,columnNumber:27},void 0),e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900 text-right font-medium",children:ue(r.detailBreakdown.itemDetails.bathroomCeiling)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1251,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1249,columnNumber:25},void 0),((T=(G=r.detailBreakdown)==null?void 0:G.itemDetails)==null?void 0:T.bathroomFaucet)>0&&e.jsxDEV("tr",{children:[e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1258,columnNumber:27},void 0),e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900 text-right font-medium",children:ue(r.detailBreakdown.itemDetails.bathroomFaucet)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1259,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1257,columnNumber:25},void 0),((z=(C=r.detailBreakdown)==null?void 0:C.itemDetails)==null?void 0:z.bathroomTile)>0&&e.jsxDEV("tr",{children:[e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1266,columnNumber:27},void 0),e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900 text-right font-medium",children:ue(r.detailBreakdown.itemDetails.bathroomTile)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1267,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1265,columnNumber:25},void 0),((K=(X=r.detailBreakdown)==null?void 0:X.itemDetails)==null?void 0:K.bathroomGrout)>0&&e.jsxDEV("tr",{children:[e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1274,columnNumber:27},void 0),e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900 text-right font-medium",children:ue(r.detailBreakdown.itemDetails.bathroomGrout)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1275,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1273,columnNumber:25},void 0),r.sashCost>0&&e.jsxDEV("tr",{children:[e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1282,columnNumber:27},void 0),e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900 text-right font-medium",children:ue(r.sashCost)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1283,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1281,columnNumber:25},void 0),r.heatingCost>0&&e.jsxDEV("tr",{children:[e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1290,columnNumber:27},void 0),e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900 text-right font-medium",children:ue(r.heatingCost)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1291,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1289,columnNumber:25},void 0),r.airconCost>0&&e.jsxDEV("tr",{children:[e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1298,columnNumber:27},void 0),e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900 text-right font-medium",children:ue(r.airconCost)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1299,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1297,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1126,columnNumber:21},void 0),e.jsxDEV("tfoot",{className:"bg-gray-50",children:e.jsxDEV("tr",{children:[e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm font-semibold text-gray-900",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1307,columnNumber:25},void 0),e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm font-bold text-gray-900 text-right",children:ue(r.baseConstructionCost+r.fixtureCost+(r.settingsBasedCost||0)+r.sashCost+r.heatingCost+r.airconCost)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1308,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1306,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1305,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1119,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1118,columnNumber:17},void 0),e.jsxDEV("div",{className:"text-xs md:text-sm text-gray-500 text-center mt-4",children:"*        ."},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1323,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1105,columnNumber:15},void 0):e.jsxDEV("div",{className:"text-center py-12 text-gray-400",children:[e.jsxDEV(jc,{className:"h-10 w-10 md:h-12 md:w-12 mx-auto mb-3"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1329,columnNumber:17},void 0),e.jsxDEV("p",{className:"text-sm md:text-base",children:"     "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1330,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1328,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1090,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:539,columnNumber:9},void 0),p==="history"&&e.jsxDEV("div",{className:"bg-white rounded-lg border border-gray-200",children:[e.jsxDEV("div",{className:"p-4 md:p-6 border-b border-gray-200",children:e.jsxDEV("h2",{className:"text-base md:text-lg font-semibold text-gray-800",children:["  (",he.total,")"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1340,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1339,columnNumber:11},void 0),e.jsxDEV("div",{className:"overflow-x-auto",children:e.jsxDEV("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsxDEV("thead",{className:"bg-gray-50",children:e.jsxDEV("tr",{children:[e.jsxDEV("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1346,columnNumber:19},void 0),e.jsxDEV("th",{className:"px-4 md:px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1347,columnNumber:19},void 0),e.jsxDEV("th",{className:"px-4 md:px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1348,columnNumber:19},void 0),e.jsxDEV("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1349,columnNumber:19},void 0),e.jsxDEV("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1350,columnNumber:19},void 0),e.jsxDEV("th",{className:"px-4 md:px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1351,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1345,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1344,columnNumber:15},void 0),e.jsxDEV("tbody",{className:"bg-white divide-y divide-gray-200",children:m.map(N=>e.jsxDEV("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsxDEV("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:N.project_name},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1357,columnNumber:21},void 0),e.jsxDEV("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-sm text-gray-700 text-center",children:[N.area_size,""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1360,columnNumber:21},void 0),e.jsxDEV("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-center",children:e.jsxDEV("span",{className:Xt("inline-flex px-2 py-1 text-xs font-medium rounded border",N.grade===""&&"bg-gray-50 text-gray-700 border-gray-300",N.grade===""&&"bg-gray-100 text-gray-800 border-gray-400",N.grade===""&&"bg-gray-200 text-gray-900 border-gray-500",N.grade===""&&"bg-gray-800 text-white border-gray-800"),children:N.grade},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1364,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1363,columnNumber:21},void 0),e.jsxDEV("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"font-medium",children:ue(N.total_min_cost)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1376,columnNumber:25},void 0),e.jsxDEV("div",{className:"text-xs text-gray-500",children:["~ ",ue(N.total_max_cost)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1377,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1375,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1374,columnNumber:21},void 0),e.jsxDEV("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:new Date(N.created_at).toLocaleDateString("ko-KR")},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1380,columnNumber:21},void 0),e.jsxDEV("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-sm text-center",children:e.jsxDEV("div",{className:"flex items-center justify-center gap-2",children:[e.jsxDEV("button",{onClick:()=>ie(N.id),className:"text-gray-600 hover:text-gray-900 transition-colors",title:"",children:e.jsxDEV(Lc,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1390,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1385,columnNumber:25},void 0),e.jsxDEV("button",{onClick:()=>de(N.id),className:"text-gray-400 hover:text-red-600 transition-colors",title:"",children:e.jsxDEV(Dt,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1397,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1392,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1384,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1383,columnNumber:21},void 0)]},N.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1356,columnNumber:19},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1354,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1343,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1342,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1338,columnNumber:9},void 0),p==="settings"&&e.jsxDEV("div",{className:"bg-white rounded-lg border border-gray-200 p-4 md:p-6",children:[e.jsxDEV("h2",{className:"text-base md:text-lg font-semibold text-gray-800 mb-6",children:"   "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1411,columnNumber:11},void 0),e.jsxDEV("div",{className:"space-y-6",children:[e.jsxDEV("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg mb-6",children:e.jsxDEV("p",{className:"text-sm text-gray-700",children:[e.jsxDEV("strong",{children:" :"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1418,columnNumber:17},void 0),"   ~   .        ."]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1417,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1416,columnNumber:13},void 0),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6 border-b pb-6",children:[e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"text-md font-semibold text-gray-700 mb-4",children:" ()"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1426,columnNumber:17},void 0),e.jsxDEV("div",{className:"space-y-3",children:["","","","","600 ","800-900 ","1200 "].map(N=>{var D,U;return e.jsxDEV("div",{className:"space-y-1",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700",children:N},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1430,columnNumber:23},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("input",{type:"number",placeholder:"",value:((D=x.floor[N])==null?void 0:D.min)||"",onChange:Y=>y("floor",N,"min",Y.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1432,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-gray-500 text-sm",children:"~"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1439,columnNumber:25},void 0),e.jsxDEV("input",{type:"number",placeholder:"",value:((U=x.floor[N])==null?void 0:U.max)||"",onChange:Y=>y("floor",N,"max",Y.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1440,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1431,columnNumber:23},void 0)]},N,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1429,columnNumber:21},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1427,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1425,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"text-md font-semibold text-gray-700 mb-4",children:"/ ()"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1455,columnNumber:17},void 0),e.jsxDEV("div",{className:"space-y-3",children:["","()","()","()","","","","","()+()"].map(N=>{var D,U;return e.jsxDEV("div",{className:"space-y-1",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700",children:N},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1459,columnNumber:23},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("input",{type:"number",placeholder:"",value:((D=x.wall[N])==null?void 0:D.min)||"",onChange:Y=>y("wall",N,"min",Y.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1461,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-gray-500 text-sm",children:"~"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1468,columnNumber:25},void 0),e.jsxDEV("input",{type:"number",placeholder:"",value:((U=x.wall[N])==null?void 0:U.max)||"",onChange:Y=>y("wall",N,"max",Y.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1469,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1460,columnNumber:23},void 0)]},N,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1458,columnNumber:21},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1456,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1454,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"text-md font-semibold text-gray-700 mb-4",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1484,columnNumber:17},void 0),e.jsxDEV("div",{className:"space-y-3",children:[["",""].map(N=>{var D,U;return e.jsxDEV("div",{className:"space-y-1",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700",children:["(",N,")"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1488,columnNumber:23},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("input",{type:"number",placeholder:"",value:((D=x.furniture[`(${N})`])==null?void 0:D.min)||"",onChange:Y=>y("furniture",`(${N})`,"min",Y.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1490,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-gray-500 text-sm",children:"~"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1497,columnNumber:25},void 0),e.jsxDEV("input",{type:"number",placeholder:"",value:((U=x.furniture[`(${N})`])==null?void 0:U.max)||"",onChange:Y=>y("furniture",`(${N})`,"max",Y.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1498,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1489,columnNumber:23},void 0)]},N,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1487,columnNumber:21},void 0)}),[" BLUM()","()+()"," BLUM()+()"].map(N=>{var D,U;return e.jsxDEV("div",{className:"space-y-1",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700",children:N},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1510,columnNumber:23},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("input",{type:"number",placeholder:"",value:((D=x.furniture[N])==null?void 0:D.min)||"",onChange:Y=>y("furniture",N,"min",Y.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1512,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-gray-500 text-sm",children:"~"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1519,columnNumber:25},void 0),e.jsxDEV("input",{type:"number",placeholder:"",value:((U=x.furniture[N])==null?void 0:U.max)||"",onChange:Y=>y("furniture",N,"max",Y.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1520,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1511,columnNumber:23},void 0)]},N,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1509,columnNumber:21},void 0)})]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1485,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1483,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"text-md font-semibold text-gray-700 mb-4",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1535,columnNumber:17},void 0),e.jsxDEV("div",{className:"space-y-3",children:["","","","",""].map(N=>{var D,U;return e.jsxDEV("div",{className:"space-y-1",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700",children:N},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1539,columnNumber:23},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("input",{type:"number",placeholder:"",value:((D=x.countertop[N])==null?void 0:D.min)||"",onChange:Y=>y("countertop",N,"min",Y.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1541,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-gray-500 text-sm",children:"~"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1548,columnNumber:25},void 0),e.jsxDEV("input",{type:"number",placeholder:"",value:((U=x.countertop[N])==null?void 0:U.max)||"",onChange:Y=>y("countertop",N,"max",Y.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1549,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1540,columnNumber:23},void 0)]},N,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1538,columnNumber:21},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1536,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1534,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"text-md font-semibold text-gray-700 mb-4",children:"/ ()"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1564,columnNumber:17},void 0),e.jsxDEV("div",{className:"space-y-3",children:["()","()"," "," "].map(N=>{var D,U;return e.jsxDEV("div",{className:"space-y-1",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700",children:N},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1568,columnNumber:23},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("input",{type:"number",placeholder:"",value:((D=x.switch[N])==null?void 0:D.min)||"",onChange:Y=>y("switch",N,"min",Y.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1570,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-gray-500 text-sm",children:"~"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1577,columnNumber:25},void 0),e.jsxDEV("input",{type:"number",placeholder:"",value:((U=x.switch[N])==null?void 0:U.max)||"",onChange:Y=>y("switch",N,"max",Y.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1578,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1569,columnNumber:23},void 0)]},N,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1567,columnNumber:21},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1565,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1563,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1423,columnNumber:13},void 0),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6 border-b pb-6",children:[e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"text-md font-semibold text-gray-700 mb-4",children:" ()"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1596,columnNumber:17},void 0),e.jsxDEV("div",{className:"space-y-3",children:["","","()","()","()"].map(N=>{var D,U;return e.jsxDEV("div",{className:"space-y-1",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700",children:N},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1600,columnNumber:23},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("input",{type:"number",placeholder:"",value:((D=x.lighting[N])==null?void 0:D.min)||"",onChange:Y=>y("lighting",N,"min",Y.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1602,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-gray-500 text-sm",children:"~"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1609,columnNumber:25},void 0),e.jsxDEV("input",{type:"number",placeholder:"",value:((U=x.lighting[N])==null?void 0:U.max)||"",onChange:Y=>y("lighting",N,"max",Y.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1610,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1601,columnNumber:23},void 0)]},N,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1599,columnNumber:21},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1597,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1595,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"text-md font-semibold text-gray-700 mb-4",children:" ()"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1625,columnNumber:17},void 0),e.jsxDEV("div",{className:"space-y-3",children:["LED","T3 "].map(N=>{var D,U;return e.jsxDEV("div",{className:"space-y-1",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700",children:N},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1629,columnNumber:23},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("input",{type:"number",placeholder:"",value:((D=x.indirectLighting[N])==null?void 0:D.min)||"",onChange:Y=>y("indirectLighting",N,"min",Y.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1631,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-gray-500 text-sm",children:"~"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1638,columnNumber:25},void 0),e.jsxDEV("input",{type:"number",placeholder:"",value:((U=x.indirectLighting[N])==null?void 0:U.max)||"",onChange:Y=>y("indirectLighting",N,"max",Y.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1639,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1630,columnNumber:23},void 0)]},N,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1628,columnNumber:21},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1626,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1624,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"text-md font-semibold text-gray-700 mb-4",children:" ()"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1654,columnNumber:17},void 0),e.jsxDEV("div",{className:"space-y-3",children:["+","+","+","+"].map(N=>{var D,U;return e.jsxDEV("div",{className:"space-y-1",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700",children:N},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1658,columnNumber:23},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("input",{type:"number",placeholder:"",value:((D=x.molding[N])==null?void 0:D.min)||"",onChange:Y=>y("molding",N,"min",Y.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1660,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-gray-500 text-sm",children:"~"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1667,columnNumber:25},void 0),e.jsxDEV("input",{type:"number",placeholder:"",value:((U=x.molding[N])==null?void 0:U.max)||"",onChange:Y=>y("molding",N,"max",Y.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1668,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1659,columnNumber:23},void 0)]},N,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1657,columnNumber:21},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1655,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1653,columnNumber:15},void 0),e.jsxDEV("div",{},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1681,columnNumber:15},void 0)," ",e.jsxDEV("div",{},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1682,columnNumber:15},void 0)," "]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1593,columnNumber:13},void 0),e.jsxDEV("div",{className:"border-b pb-6",children:[e.jsxDEV("h3",{className:"text-md font-semibold text-gray-700 mb-4",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1687,columnNumber:15},void 0),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6",children:[e.jsxDEV("div",{children:[e.jsxDEV("h4",{className:"text-sm font-semibold text-gray-600 mb-3",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1690,columnNumber:19},void 0),e.jsxDEV("div",{className:"space-y-3",children:["SMC","",""].map(N=>{var D,U;return e.jsxDEV("div",{className:"space-y-1",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700",children:N},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1694,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("input",{type:"number",placeholder:"",value:((D=x.bathroom.ceiling[N])==null?void 0:D.min)||"",onChange:Y=>M("ceiling",N,"min",Y.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1696,columnNumber:27},void 0),e.jsxDEV("span",{className:"text-gray-500 text-sm",children:"~"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1703,columnNumber:27},void 0),e.jsxDEV("input",{type:"number",placeholder:"",value:((U=x.bathroom.ceiling[N])==null?void 0:U.max)||"",onChange:Y=>M("ceiling",N,"max",Y.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1704,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1695,columnNumber:25},void 0)]},N,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1693,columnNumber:23},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1691,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1689,columnNumber:17},void 0),e.jsxDEV("div",{children:[e.jsxDEV("h4",{className:"text-sm font-semibold text-gray-600 mb-3",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1717,columnNumber:19},void 0),e.jsxDEV("div",{className:"space-y-3",children:["",""].map(N=>{var D,U;return e.jsxDEV("div",{className:"space-y-1",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700",children:N},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1721,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("input",{type:"number",placeholder:"",value:((D=x.bathroom.faucet[N])==null?void 0:D.min)||"",onChange:Y=>M("faucet",N,"min",Y.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1723,columnNumber:27},void 0),e.jsxDEV("span",{className:"text-gray-500 text-sm",children:"~"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1730,columnNumber:27},void 0),e.jsxDEV("input",{type:"number",placeholder:"",value:((U=x.bathroom.faucet[N])==null?void 0:U.max)||"",onChange:Y=>M("faucet",N,"max",Y.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1731,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1722,columnNumber:25},void 0)]},N,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1720,columnNumber:23},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1718,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1716,columnNumber:17},void 0),e.jsxDEV("div",{children:[e.jsxDEV("h4",{className:"text-sm font-semibold text-gray-600 mb-3",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1744,columnNumber:19},void 0),e.jsxDEV("div",{className:"space-y-3",children:["()","()","()"].map(N=>{var D,U;return e.jsxDEV("div",{className:"space-y-1",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700",children:N},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1748,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("input",{type:"number",placeholder:"",value:((D=x.bathroom.tile[N])==null?void 0:D.min)||"",onChange:Y=>M("tile",N,"min",Y.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1750,columnNumber:27},void 0),e.jsxDEV("span",{className:"text-gray-500 text-sm",children:"~"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1757,columnNumber:27},void 0),e.jsxDEV("input",{type:"number",placeholder:"",value:((U=x.bathroom.tile[N])==null?void 0:U.max)||"",onChange:Y=>M("tile",N,"max",Y.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1758,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1749,columnNumber:25},void 0)]},N,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1747,columnNumber:23},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1745,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1743,columnNumber:17},void 0),e.jsxDEV("div",{children:[e.jsxDEV("h4",{className:"text-sm font-semibold text-gray-600 mb-3",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1771,columnNumber:19},void 0),e.jsxDEV("div",{className:"space-y-3",children:["600()","600()","750x1500","","300x600()+300()","600x1200 or 800()"].map(N=>{var D,U;return e.jsxDEV("div",{className:"space-y-1",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700",children:N},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1775,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("input",{type:"number",placeholder:"",value:((D=x.bathroom.tile[N])==null?void 0:D.min)||"",onChange:Y=>M("tile",N,"min",Y.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1777,columnNumber:27},void 0),e.jsxDEV("span",{className:"text-gray-500 text-sm",children:"~"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1784,columnNumber:27},void 0),e.jsxDEV("input",{type:"number",placeholder:"",value:((U=x.bathroom.tile[N])==null?void 0:U.max)||"",onChange:Y=>M("tile",N,"max",Y.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1785,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1776,columnNumber:25},void 0)]},N,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1774,columnNumber:23},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1772,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1770,columnNumber:17},void 0),e.jsxDEV("div",{children:[e.jsxDEV("h4",{className:"text-sm font-semibold text-gray-600 mb-3",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1798,columnNumber:19},void 0),e.jsxDEV("div",{className:"space-y-3",children:["( )","()",""].map(N=>{var D,U;return e.jsxDEV("div",{className:"space-y-1",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700",children:N},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1802,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("input",{type:"number",placeholder:"",value:((D=x.bathroom.grout[N])==null?void 0:D.min)||"",onChange:Y=>M("grout",N,"min",Y.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1804,columnNumber:27},void 0),e.jsxDEV("span",{className:"text-gray-500 text-sm",children:"~"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1811,columnNumber:27},void 0),e.jsxDEV("input",{type:"number",placeholder:"",value:((U=x.bathroom.grout[N])==null?void 0:U.max)||"",onChange:Y=>M("grout",N,"max",Y.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1812,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1803,columnNumber:25},void 0)]},N,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1801,columnNumber:23},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1799,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1797,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1688,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1686,columnNumber:13},void 0),e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"text-md font-semibold text-gray-700 mb-4",children:"   "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1829,columnNumber:15},void 0),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-x-6 gap-y-3",children:[{label:"  ()",key:"livingRoom"},{label:"  ()",key:"kitchen"},{label:"  ()",key:"room"},{label:"  ()",key:"sash"},{label:"  ()",key:"grooving"},{label:"  ()",key:"bangtong"},{label:" (2 in 1) - 1",key:"aircon2in1"},{label:" () - 1",key:"airconSystem"}].map(N=>{var D,U;return e.jsxDEV("div",{className:"space-y-1",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700",children:N.label},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1842,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("input",{type:"number",placeholder:"",value:((D=x.expansion[N.key])==null?void 0:D.min)||"",onChange:Y=>y("expansion",N.key,"min",Y.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1844,columnNumber:23},void 0),e.jsxDEV("span",{className:"text-gray-500 text-sm",children:"~"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1851,columnNumber:23},void 0),e.jsxDEV("input",{type:"number",placeholder:"",value:((U=x.expansion[N.key])==null?void 0:U.max)||"",onChange:Y=>y("expansion",N.key,"max",Y.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1852,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1843,columnNumber:21},void 0)]},N.key,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1841,columnNumber:19},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1830,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1828,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1415,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1410,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:497,columnNumber:5},void 0)},W0="HVLabImageDB",q0=1,Xs="paymentRecordImages";let Lr=null;const Ga=()=>new Promise((s,n)=>{if(Lr){s(Lr);return}const t=indexedDB.open(W0,q0);t.onerror=()=>{console.error("IndexedDB  :",t.error),n(t.error)},t.onsuccess=()=>{Lr=t.result,s(Lr)},t.onupgradeneeded=r=>{const i=r.target.result;i.objectStoreNames.contains(Xs)||i.createObjectStore(Xs,{keyPath:"id"})}}),ic=async()=>{try{const s=await Ga();return new Promise((n,t)=>{const a=s.transaction(Xs,"readonly").objectStore(Xs).getAll();a.onsuccess=()=>{const o={};a.result.forEach(m=>{o[m.id]=m.images}),n(o)},a.onerror=()=>{console.error("  :",a.error),t(a.error)}})}catch(s){console.error("IndexedDB , localStorage :",s);const n=localStorage.getItem("paymentRecordImages");return n?JSON.parse(n):{}}},ac=async(s,n)=>{try{const t=await Ga();return new Promise((r,i)=>{const m=t.transaction(Xs,"readwrite").objectStore(Xs).put({id:s,images:n});m.onsuccess=()=>r(),m.onerror=()=>{console.error("  :",m.error),i(m.error)}})}catch(t){throw console.error("IndexedDB  :",t),t}},O0=async s=>{try{const n=await Ga();return new Promise((t,r)=>{const i=n.transaction(Xs,"readwrite"),a=i.objectStore(Xs);a.clear(),Object.entries(s).forEach(([o,m])=>{a.put({id:o,images:m})}),i.oncomplete=()=>t(),i.onerror=()=>{console.error("  :",i.error),r(i.error)}})}catch(n){throw console.error("IndexedDB   :",n),n}},oc=async()=>{try{const s=localStorage.getItem("paymentRecordImages");if(s){const n=JSON.parse(s);Object.keys(n).length>0&&(await O0(n),localStorage.removeItem("paymentRecordImages"),console.log("localStorage IndexedDB  "))}}catch(s){console.error(" :",s)}},Hr=["","","/","","","","","","","","","","","","",""],$0=()=>{const{payments:s,executionRecords:n,loadPaymentsFromAPI:t,loadExecutionRecordsFromAPI:r,addExecutionRecordToAPI:i,deleteExecutionRecordFromAPI:a,updateExecutionRecordInAPI:o,updatePaymentInAPI:m,deletePaymentFromAPI:d}=ks(),{user:p}=Qt(),f=us();if(!p)return e.jsxDEV(si,{to:"/login",replace:!0},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:113,columnNumber:12},void 0);const[u,b]=l.useState(""),[x,j]=l.useState(null),[h,L]=l.useState(!1),[I,y]=l.useState(!1),[M,se]=l.useState(!1),[re,w]=l.useState(!1),[O,ie]=l.useState(!1),[de,ue]=l.useState(""),[ve,Q]=l.useState("form"),[he,Ne]=l.useState(!1),[Ve,je]=l.useState(!1),Be=l.useRef(null),[Xe,le]=l.useState(!1),[Le,Ue]=l.useState(null),[Ce,Re]=l.useState({process:"",itemName:"",materialCost:"",laborCost:"",date:""}),[We,Te]=l.useState(null),[qe,R]=l.useState([]),[fe,pe]=l.useState({}),[He,Z]=l.useState(!1),[A,ce]=l.useState(()=>{const c=localStorage.getItem("hiddenPaymentIds");return c?JSON.parse(c):[]}),V=()=>{const c=localStorage.getItem("lastSelectedProject"),k=f.filter(H=>H.status!=="completed");return c&&k.some(H=>H.name===c)?c:k.length>0?k[0].name:""},[_,me]=l.useState({project:"",date:Ae(new Date,"yyyy-MM-dd"),process:"",itemName:"",materialCost:"",laborCost:"",images:[],quickText:"",quickImages:[]}),[xe,Me]=l.useState(()=>{const c=localStorage.getItem("executionMemos");return c?JSON.parse(c):{}}),[Fe,B]=l.useState(null),[$,G]=l.useState(""),[T,C]=l.useState("");l.useEffect(()=>{t().catch(k=>{console.error("Failed to load payments:",k)}),r().catch(k=>{console.error("Failed to load execution records:",k)});const c=()=>{Ne(window.innerWidth<768)};if(c(),window.addEventListener("resize",c),f.length>0&&!_.project){const k=V();k&&(me(H=>({...H,project:k})),localStorage.setItem("lastSelectedProject",k))}return()=>window.removeEventListener("resize",c)},[t,r,f]),l.useEffect(()=>{(async()=>{try{await oc();const k=await ic();pe(k),Z(!0)}catch(k){console.error("  :",k),Z(!0)}})()},[]);const z=l.useRef({});l.useEffect(()=>{He&&(Object.entries(fe).forEach(([c,k])=>{JSON.stringify(z.current[c])!==JSON.stringify(k)&&ac(c,k).catch(H=>{console.error("  :",H),P.error("  ")})}),z.current={...fe})},[fe,He]),l.useEffect(()=>{localStorage.setItem("hiddenPaymentIds",JSON.stringify(A))},[A]),l.useEffect(()=>{localStorage.setItem("executionMemos",JSON.stringify(xe))},[xe]),l.useEffect(()=>{if(_.itemName&&_.itemName.trim().length>=1){const c=_.itemName.trim().toLowerCase(),k=[...n].sort((J,F)=>new Date(F.date).getTime()-new Date(J.date).getTime()).map(J=>J.itemName).filter(J=>J&&J.toLowerCase().includes(c)),H=Array.from(new Set(k));R(H.slice(0,10))}else R([])},[_.itemName,n]);const X=l.useCallback(c=>{var J;const k=(J=c.clipboardData)==null?void 0:J.items;if(!k)return;const H=[];for(let F=0;F<k.length;F++)if(k[F].type.indexOf("image")!==-1){c.preventDefault();const ee=k[F].getAsFile();ee&&H.push(ee)}H.length!==0&&Promise.all(H.map(F=>new Promise((ee,q)=>{const ye=new FileReader;ye.onload=v=>{var ge;const ne=(ge=v.target)==null?void 0:ge.result;ee(ne)},ye.onerror=q,ye.readAsDataURL(F)}))).then(async F=>{if(!x){me(q=>({...q,quickImages:[...q.quickImages,...F]})),P.success(`${F.length}   `);return}const ee=n.find(q=>q.id===x);if(ee){const q=[...ee.images||[],...F];try{await o(x,{images:q}),P.success(`${F.length}  `)}catch(ye){console.error("  :",ye),P.error("  ")}}else{const q=fe[x]||[];pe(ye=>({...ye,[x]:[...q,...F]})),P.success(`${F.length}  `)}}).catch(F=>{console.error("   :",F),P.error("    ")})},[x,me,fe,n,o]);l.useEffect(()=>(document.addEventListener("paste",X),()=>document.removeEventListener("paste",X)),[X]);const K=f.map(c=>c.name);console.log("[ExecutionHistory] payments :",s.length,""),console.log("[ExecutionHistory]   payments:",s.filter(c=>c.images&&c.images.length>0).map(c=>{var k;return{id:c.id,imagesCount:(k=c.images)==null?void 0:k.length}})),console.log("[ExecutionHistory] paymentRecordImages :",Object.keys(fe).length," ",Object.entries(fe).slice(0,3).map(([c,k])=>({id:c,count:k==null?void 0:k.length})));const N=s.filter(c=>{const k=c.status==="approved"||c.status==="completed",H=!n.some(ee=>ee.paymentId===c.id),J=!A.includes(c.id),F=(p==null?void 0:p.name)!==""||K.includes(c.project);return k&&H&&J&&F}).map(c=>{const k=c.materialAmount||0,H=c.laborAmount||0,J=c.amount||0;let F=k,ee=H,q=0;return k===0&&H===0&&J>0?c.includesVAT?(F=Math.round(J/1.1),q=J-F):(F=J,q=0):c.includesVAT?(k>0&&(F=Math.round(k/1.1)),H>0&&(ee=Math.round(H/1.1)),q=J-(F+ee)):q=0,{id:c.id,type:"payment",project:c.project,author:c.requestedBy||"-",date:c.requestDate,process:c.process||"-",itemName:c.itemName||c.purpose||"-",materialCost:F,laborCost:ee,vatAmount:q,totalAmount:J,images:c.images&&c.images.length>0?c.images:fe[c.id]||[],notes:c.notes,quickText:c.quickText||""}}),D=N.filter(c=>c.images&&c.images.length>0);D.length>0&&console.log("[ExecutionHistory]   paymentRecords:",D.map(c=>({id:c.id,imagesCount:c.images.length})));const U=n.filter(c=>(p==null?void 0:p.name)!==""||K.includes(c.project)).map(c=>({...c,type:"manual"})),Y=[...N,...U].sort((c,k)=>new Date(k.date).getTime()-new Date(c.date).getTime()),ke=Y.filter(c=>{var J,F;const k=_.project===""||c.project===_.project,H=u===""||((J=c.itemName)==null?void 0:J.toLowerCase().includes(u.toLowerCase()))||((F=c.process)==null?void 0:F.toLowerCase().includes(u.toLowerCase()));return k&&H}),De=ke.reduce((c,k)=>(c.material+=k.materialCost||0,c.labor+=k.laborCost||0,c.vat+=k.vatAmount||0,c.total+=k.totalAmount||0,c),{material:0,labor:0,vat:0,total:0}),Ie=()=>{const c=_.quickText;if(!c.trim()){P.error("  ");return}const k=c.match(/[\d,]+/g),H=k?k.map(v=>parseInt(v.replace(/,/g,""),10)).filter(v=>v>0):[];let J="";for(const v of Hr)if(c.includes(v)){J=v;break}const F=c.split(`
`).filter(v=>v.trim());let ee="";if(F.length>0)for(const v of F){const ne=v.trim();if(ne&&!/^[\d,\s]+$/.test(ne)){ee=ne.substring(0,50);break}}let q="",ye="";if(H.length>0){const v=[...H].sort((ne,ge)=>ge-ne);q=String(v[0]),v.length>1&&(ye=String(v[1]))}me(v=>({...v,process:J||v.process,itemName:ee||v.itemName,materialCost:q||v.materialCost,laborCost:ye||v.laborCost,images:[...v.images,...v.quickImages],quickText:"",quickImages:[]})),P.success("  ")},$e=async()=>{if(!_.project){P.error(" ");return}const c=new Date;let k=Number(_.materialCost)||0,H=Number(_.laborCost)||0,J=0,F=0;if(I){const q=k+H,ye=Math.round(q/1.1);if(J=q-ye,q>0){const v=k/q,ne=H/q;k=Math.round(ye*v),H=Math.round(ye*ne)}F=q}else J=0,F=k+H;const ee={id:`exec_${Date.now()}`,project:_.project,author:(p==null?void 0:p.name)||"  ",date:new Date(_.date),process:_.process,itemName:_.itemName,materialCost:k,laborCost:H,vatAmount:J,totalAmount:F,images:_.images,notes:"",createdAt:c,updatedAt:c};try{const q=await i(ee);P.success(" "),me(ye=>({project:ye.project,date:Ae(new Date,"yyyy-MM-dd"),process:"",itemName:"",materialCost:"",laborCost:"",images:[],quickText:"",quickImages:[]})),y(!1),se(!1),he&&(j(q.id),Q("list"))}catch(q){console.error("  :",q),P.error("  ")}},ot=(c,k)=>{k.stopPropagation(),Te(null),Ue(c),me(H=>({...H,project:c.project||H.project,date:Ae(new Date(c.date),"yyyy-MM-dd"),process:c.process||"",itemName:c.itemName,materialCost:c.materialCost||0,laborCost:c.laborCost||0,images:c.images||[],quickText:"",quickImages:[]})),j(c.id),he&&Q("form")},et=()=>{Ue(null),me(c=>({...c,date:Ae(new Date,"yyyy-MM-dd"),process:"",itemName:"",materialCost:"",laborCost:"",images:[],quickText:"",quickImages:[]}))},Qe=async()=>{if(Le)try{const c=Number(_.materialCost)||0,k=Number(_.laborCost)||0,H=c+k;let J=Le.notes||"";_.quickText.trim()&&(J=J?`${J}
${_.quickText.trim()}`:_.quickText.trim());const ee=[...Le.images||[],..._.quickImages];if(Le.type==="payment"){const q=s.find(ye=>ye.id===Le.id);if(!q)throw new Error("   ");await m(Le.id,{...q,process:_.process,itemName:_.itemName,materialAmount:c,laborAmount:k,amount:H,requestDate:_.date}),await t()}else await o(Le.id,{project:_.project||Le.project,author:Le.author,process:_.process,itemName:_.itemName,materialCost:c,laborCost:k,totalAmount:H,date:new Date(_.date),notes:J,images:ee,paymentId:Le.paymentId}),await r();P.success(""),Ue(null),me(q=>({...q,date:Ae(new Date,"yyyy-MM-dd"),process:"",itemName:"",materialCost:"",laborCost:"",images:[],quickText:"",quickImages:[]}))}catch(c){console.error(" :",c),P.error(" ")}},it=async(c,k)=>{k.stopPropagation(),Te(null);const H=Y.find(J=>J.id===c);if(confirm(" ?"))try{(H==null?void 0:H.type)==="payment"?(await d(c),P.success(" ")):(await a(c),P.success(" ")),x===c&&j(null)}catch(J){console.error(" :",J),P.error(" ")}},yt=()=>{const c={};return ke.forEach(k=>{const H=k.process||"";c[H]||(c[H]={materialCost:0,laborCost:0,vatAmount:0,totalAmount:0}),c[H].materialCost+=k.materialCost||0,c[H].laborCost+=k.laborCost||0,c[H].vatAmount+=k.vatAmount||0,c[H].totalAmount+=k.totalAmount||0}),Object.entries(c).sort((k,H)=>H[1].totalAmount-k[1].totalAmount)},lt=c=>{var k;try{if(!x){P.error("  ");return}const H=Array.from(((k=c.target)==null?void 0:k.files)||[]);if(H.length===0)return;const J=H.filter(ee=>ee.type.startsWith("image/"));if(J.length===0){P.error("  ");return}J.filter(ee=>ee.size>10*1024*1024).length>0&&P.error("10MB       "),Promise.all(J.map(ee=>new Promise((q,ye)=>{try{const v=new FileReader;v.onload=ne=>{var Se;const ge=(Se=ne.target)==null?void 0:Se.result;ge?q(ge):ye(new Error("  "))},v.onerror=()=>ye(new Error("FileReader ")),v.readAsDataURL(ee)}catch(v){ye(v)}}))).then(async ee=>{const q=n.find(ye=>ye.id===x);if(q){const v=[...q.images||[],...ee];try{await o(x,{images:v}),P.success(`${ee.length}  `)}catch(ne){console.error("  :",ne),P.error("  ")}}else{const ye=fe[x]||[];pe(v=>({...v,[x]:[...ye,...ee]})),P.success(`${ee.length}  `)}}).catch(ee=>{console.error("   :",ee),P.error("    ")}),c.target.value=""}catch(H){console.error("    :",H),P.error("    ")}},ct=async c=>{var H;if(!x)return;const k=n.find(J=>J.id===x);if(k){const J=((H=k.images)==null?void 0:H.filter((F,ee)=>ee!==c))||[];try{await o(x,{images:J})}catch(F){console.error("  :",F)}}else pe(J=>{var F;return{...J,[x]:((F=J[x])==null?void 0:F.filter((ee,q)=>q!==c))||[]}})},ut=c=>{ue(c),ie(!0)},ht=c=>{c.preventDefault(),L(!0)},Ct=c=>{c.preventDefault(),L(!1)},kt=c=>{if(c.preventDefault(),L(!1),!x){P.error("  ");return}const H=Array.from(c.dataTransfer.files).filter(J=>J.type.startsWith("image/"));H.length!==0&&Promise.all(H.map(J=>new Promise((F,ee)=>{const q=new FileReader;q.onload=ye=>{var ne;const v=(ne=ye.target)==null?void 0:ne.result;F(v)},q.onerror=ee,q.readAsDataURL(J)}))).then(async J=>{const F=n.find(ee=>ee.id===x);if(F){const ee=[...F.images||[],...J];try{await o(x,{images:ee})}catch(q){console.error("  :",q)}}else pe(ee=>({...ee,[x]:[...ee[x]||[],...J]}));P.success(`${J.length}  `)}).catch(J=>{console.error("   :",J),P.error("    ")})};return e.jsxDEV("div",{className:"space-y-3 md:space-y-4",children:[e.jsxDEV("div",{className:"md:hidden mb-4",children:e.jsxDEV("select",{value:_.project,onChange:c=>{me({..._,project:c.target.value}),c.target.value&&localStorage.setItem("lastSelectedProject",c.target.value)},className:"w-full px-3 py-2.5 md:py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 bg-white cursor-pointer hover:border-gray-400 transition-colors appearance-none bg-[url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20fill%3D%22none%22%20viewBox%3D%220%200%2020%2020%22%3E%3Cpath%20stroke%3D%22%236b7280%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%221.5%22%20d%3D%22M6%208l4%204%204-4%22%2F%3E%3C%2Fsvg%3E')] bg-[length:1.5em_1.5em] bg-[right_0.5rem_center] bg-no-repeat pr-10",children:f.filter(c=>c.status!=="completed").map(c=>e.jsxDEV("option",{value:c.name,children:c.name},c.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:981,columnNumber:13},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:970,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:969,columnNumber:7},void 0),e.jsxDEV("div",{className:"md:hidden border-b border-gray-200 mb-4",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:e.jsxDEV("nav",{className:"flex space-x-4",children:[e.jsxDEV("button",{onClick:()=>Q("form"),className:`py-2 px-1 border-b-2 font-medium text-sm ${ve==="form"?"border-gray-900 text-gray-900":"border-transparent text-gray-500"}`,children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:990,columnNumber:13},void 0),e.jsxDEV("button",{onClick:()=>Q("list"),className:`py-2 px-1 border-b-2 font-medium text-sm ${ve==="list"?"border-gray-900 text-gray-900":"border-transparent text-gray-500"}`,children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1e3,columnNumber:13},void 0),e.jsxDEV("button",{onClick:()=>Q("image"),className:`py-2 px-1 border-b-2 font-medium text-sm ${ve==="image"?"border-gray-900 text-gray-900":"border-transparent text-gray-500"}`,children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1010,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:989,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:988,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:987,columnNumber:7},void 0),e.jsxDEV("div",{className:"execution-container grid grid-cols-1 md:grid-cols-6 ipad:grid-cols-6 ipad-lg:grid-cols-6 ipad-xl:grid-cols-12 ipad-2xl:grid-cols-12 gap-3 md:gap-4 md:h-[calc(100vh-120px)]",children:[e.jsxDEV("div",{className:`execution-form md:col-span-2 ipad:col-span-2 ipad-lg:col-span-2 ipad-xl:col-span-2 ipad-2xl:col-span-2 bg-white rounded-lg border p-3 md:p-4 overflow-y-auto ${ve!=="form"?"hidden md:block":""}`,children:e.jsxDEV("div",{className:"execution-form-inner space-y-4 w-full",children:[e.jsxDEV("div",{className:"exec-project hidden md:block",children:e.jsxDEV("select",{value:_.project,onChange:c=>{me({..._,project:c.target.value}),c.target.value&&localStorage.setItem("lastSelectedProject",c.target.value)},className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 bg-white cursor-pointer hover:border-gray-400 transition-colors appearance-none bg-[url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20fill%3D%22none%22%20viewBox%3D%220%200%2020%2020%22%3E%3Cpath%20stroke%3D%22%236b7280%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%221.5%22%20d%3D%22M6%208l4%204%204-4%22%2F%3E%3C%2Fsvg%3E')] bg-[length:1.5em_1.5em] bg-[right_0.5rem_center] bg-no-repeat pr-10",children:f.filter(c=>c.status!=="completed").map(c=>e.jsxDEV("option",{value:c.name,children:c.name},c.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1047,columnNumber:19},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1034,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1033,columnNumber:13},void 0),e.jsxDEV("div",{className:"exec-quick-input",children:[e.jsxDEV("textarea",{value:_.quickText,onChange:c=>me({..._,quickText:c.target.value}),onPaste:c=>{var H;const k=(H=c.clipboardData)==null?void 0:H.items;if(k){for(let J=0;J<k.length;J++)if(k[J].type.indexOf("image")!==-1){c.preventDefault();const F=k[J].getAsFile();if(F){const ee=new FileReader;ee.onload=q=>{var v;const ye=(v=q.target)==null?void 0:v.result;me(ne=>({...ne,quickImages:[...ne.quickImages,ye]}))},ee.readAsDataURL(F)}break}}},onDragOver:c=>{c.preventDefault(),c.stopPropagation()},onDrop:c=>{c.preventDefault(),c.stopPropagation(),Array.from(c.dataTransfer.files).filter(J=>J.type.startsWith("image/")).forEach(J=>{const F=new FileReader;F.onload=ee=>{var ye;const q=(ye=ee.target)==null?void 0:ye.result;me(v=>({...v,quickImages:[...v.quickImages,q]}))},F.readAsDataURL(J)})},rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",placeholder:he?"  ":"   (   Ctrl+V)"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1054,columnNumber:15},void 0),_.quickImages.length>0&&e.jsxDEV("div",{className:"mt-2 mb-2 grid grid-cols-3 gap-2",children:_.quickImages.map((c,k)=>e.jsxDEV("div",{className:"relative group",children:[e.jsxDEV("img",{src:c,alt:` ${k+1}`,className:"w-full h-20 object-cover rounded-lg border"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1109,columnNumber:23},void 0),e.jsxDEV("button",{type:"button",onClick:()=>{me(H=>({...H,quickImages:H.quickImages.filter((J,F)=>F!==k)}))},className:"absolute top-1 right-1 w-5 h-5 bg-red-500 text-white rounded-full flex items-center justify-center text-xs opacity-0 group-hover:opacity-100 transition-opacity",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1114,columnNumber:23},void 0)]},k,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1108,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1106,columnNumber:17},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 gap-2 mt-2",children:[e.jsxDEV("label",{className:"cursor-pointer",children:[e.jsxDEV("input",{type:"file",accept:"image/*",multiple:!0,className:"hidden",onChange:c=>{Array.from(c.target.files||[]).forEach(H=>{const J=new FileReader;J.onload=F=>{var q;const ee=(q=F.target)==null?void 0:q.result;me(ye=>({...ye,quickImages:[...ye.quickImages,ee]}))},J.readAsDataURL(H)}),c.target.value=""}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1133,columnNumber:19},void 0),e.jsxDEV("div",{className:"w-full h-10 flex items-center justify-center bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm font-medium border border-gray-300",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1154,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1132,columnNumber:17},void 0),e.jsxDEV("button",{type:"button",onClick:Ie,className:"h-10 flex items-center justify-center bg-gray-400 text-white rounded-lg hover:bg-gray-500 transition-colors text-sm font-medium",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1158,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1131,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1053,columnNumber:13},void 0),e.jsxDEV("div",{className:"exec-date-process grid grid-cols-2 gap-2",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[" ",_.date&&`(${Ae(new Date(_.date),"E",{locale:xt})})`]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1172,columnNumber:17},void 0),e.jsxDEV("input",{type:"date",value:_.date,onChange:c=>me({..._,date:c.target.value}),className:"w-full px-3 py-2 border rounded-lg bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500 cursor-pointer text-gray-900",style:{WebkitAppearance:"none",MozAppearance:"none",appearance:"none",backgroundColor:"white",backgroundImage:"none"}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1175,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1171,columnNumber:15},void 0),e.jsxDEV("div",{className:"relative",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1192,columnNumber:17},void 0),e.jsxDEV("button",{ref:Be,type:"button",onClick:()=>je(!0),className:"w-full px-3 py-2 border rounded-lg text-left bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500",children:_.process||e.jsxDEV("span",{className:"text-gray-400",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1199,columnNumber:40},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1193,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1191,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1169,columnNumber:13},void 0),e.jsxDEV("div",{className:"exec-item-name relative",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1206,columnNumber:15},void 0),e.jsxDEV("input",{type:"text",value:_.itemName,onChange:c=>me({..._,itemName:c.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1207,columnNumber:15},void 0),qe.length>0&&e.jsxDEV("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:qe.map((c,k)=>e.jsxDEV("button",{type:"button",onClick:()=>{me({..._,itemName:c}),R([])},className:"w-full px-3 py-2 text-left hover:bg-gray-50 text-sm",children:e.jsxDEV("div",{className:"font-medium text-gray-900",children:c},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1226,columnNumber:23},void 0)},k,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1217,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1215,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1205,columnNumber:13},void 0),e.jsxDEV("div",{className:"exec-amounts space-y-2",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1236,columnNumber:17},void 0),e.jsxDEV("input",{type:"number",value:_.materialCost,onChange:c=>me({..._,materialCost:c.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1237,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1235,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1246,columnNumber:17},void 0),e.jsxDEV("input",{type:"number",value:_.laborCost,onChange:c=>me({..._,laborCost:c.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1247,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1245,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex items-center gap-4",children:[e.jsxDEV("button",{type:"button",className:"flex items-center cursor-pointer",onMouseDown:c=>c.preventDefault(),onClick:()=>{I||se(!1),y(!I)},children:[e.jsxDEV("div",{className:`h-4 w-4 border rounded flex items-center justify-center ${I?"bg-gray-600 border-gray-600":"border-gray-300"}`,children:I&&e.jsxDEV("span",{className:"text-white text-xs",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1269,columnNumber:36},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1268,columnNumber:19},void 0),e.jsxDEV("span",{className:"ml-2 text-sm text-gray-700",children:"  (10%)"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1271,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1257,columnNumber:17},void 0),e.jsxDEV("button",{type:"button",className:"flex items-center cursor-pointer",onMouseDown:c=>c.preventDefault(),onClick:()=>{M||y(!1),se(!M)},children:[e.jsxDEV("div",{className:`h-4 w-4 border rounded flex items-center justify-center ${M?"bg-gray-600 border-gray-600":"border-gray-300"}`,children:M&&e.jsxDEV("span",{className:"text-white text-xs",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1287,columnNumber:45},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1286,columnNumber:19},void 0),e.jsxDEV("span",{className:"ml-2 text-sm text-gray-700",children:"3.3% "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1289,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1275,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1256,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1234,columnNumber:13},void 0),e.jsxDEV("div",{className:"exec-total-submit",children:[e.jsxDEV("div",{className:"exec-total pt-2 border-t",children:e.jsxDEV("div",{className:"flex justify-between items-baseline",children:[e.jsxDEV("span",{className:"font-medium",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1301,columnNumber:19},void 0),e.jsxDEV("div",{className:"text-right",children:[(I||M)&&e.jsxDEV("span",{className:"text-xs text-gray-500 mr-2",children:["(",I&&" ",M&&"3.3% ",")"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1304,columnNumber:23},void 0),e.jsxDEV("span",{className:"font-semibold",children:[(()=>{const c=(Number(_.materialCost)||0)+(Number(_.laborCost)||0);return(M?Math.round(c*.967):c).toLocaleString()})(),""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1308,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1302,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1300,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1299,columnNumber:15},void 0),Le&&e.jsxDEV("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-2 mb-3",children:e.jsxDEV("p",{className:"text-sm text-blue-700 font-medium",children:[" : ",Le.itemName]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1322,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1321,columnNumber:17},void 0),e.jsxDEV("div",{className:"exec-submit my-6",style:{marginTop:"20px"},children:Le?e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV("button",{onClick:et,className:"flex-1 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1330,columnNumber:21},void 0),e.jsxDEV("button",{onClick:Qe,className:"flex-1 py-2 bg-gray-700 text-white rounded-lg hover:bg-gray-800",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1336,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1329,columnNumber:19},void 0):e.jsxDEV("button",{onClick:$e,className:"w-full py-2 bg-gray-900 text-white rounded-lg hover:bg-gray-800",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1344,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1327,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1298,columnNumber:13},void 0),e.jsxDEV("div",{className:"exec-summary hidden md:block bg-gray-50 rounded-lg p-3 md:p-4 space-y-2 md:mt-8 lg:mt-[114.67px]",children:[e.jsxDEV("div",{className:"flex justify-between items-center",children:[e.jsxDEV("span",{className:"text-sm text-gray-600",children:" :"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1357,columnNumber:17},void 0),e.jsxDEV("span",{className:"text-sm font-medium text-gray-900",children:[De.material.toLocaleString(),""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1358,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1356,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex justify-between items-center",children:[e.jsxDEV("span",{className:"text-sm text-gray-600",children:" :"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1361,columnNumber:17},void 0),e.jsxDEV("span",{className:"text-sm font-medium text-gray-900",children:[De.labor.toLocaleString(),""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1362,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1360,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex justify-between items-center",children:[e.jsxDEV("span",{className:"text-sm text-gray-600",children:" :"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1365,columnNumber:17},void 0),e.jsxDEV("span",{className:"text-sm font-medium text-gray-900",children:[De.vat.toLocaleString(),""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1366,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1364,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex justify-between items-center pt-2 border-t border-gray-200",style:{marginTop:"10px"},children:[e.jsxDEV("span",{className:"text-sm font-bold text-gray-900",children:" :"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1369,columnNumber:17},void 0),e.jsxDEV("span",{className:"text-base font-bold text-gray-900",children:[De.total.toLocaleString(),""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1370,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1368,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1355,columnNumber:13},void 0),e.jsxDEV("div",{className:"exec-search hidden ipad-xl:block mt-4 space-y-2",children:[e.jsxDEV("div",{className:"relative",children:[e.jsxDEV("input",{type:"text",placeholder:"...",value:u,onChange:c=>b(c.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 text-sm"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1377,columnNumber:17},void 0),e.jsxDEV(Wr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1384,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1376,columnNumber:15},void 0),e.jsxDEV("button",{onClick:()=>w(!0),className:"w-full px-3 py-2 text-sm border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 hover:border-gray-400 transition-all duration-200 font-medium",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1386,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1375,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1031,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1028,columnNumber:9},void 0),e.jsxDEV("div",{className:`execution-list md:col-span-4 ipad:col-span-4 ipad-lg:col-span-4 ipad-xl:col-span-6 ipad-2xl:col-span-6 bg-white rounded-lg border overflow-hidden flex flex-col ${ve!=="list"?"hidden md:flex":""}`,children:[ve==="list"&&e.jsxDEV("div",{className:"md:hidden border-b bg-gray-50 p-2 space-y-2",children:[e.jsxDEV("div",{className:"bg-white rounded-lg px-3 py-2 border text-xs",children:[e.jsxDEV("div",{className:"flex justify-between gap-2",children:[e.jsxDEV("span",{className:"text-gray-500",children:[" ",e.jsxDEV("span",{className:"font-medium text-gray-900",children:De.material.toLocaleString()},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1406,columnNumber:55},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1406,columnNumber:19},void 0),e.jsxDEV("span",{className:"text-gray-500",children:[" ",e.jsxDEV("span",{className:"font-medium text-gray-900",children:De.labor.toLocaleString()},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1407,columnNumber:55},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1407,columnNumber:19},void 0),e.jsxDEV("span",{className:"text-gray-500",children:[" ",e.jsxDEV("span",{className:"font-medium text-gray-900",children:De.vat.toLocaleString()},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1408,columnNumber:55},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1408,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1405,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex justify-between items-center mt-1 pt-1 border-t border-gray-100",children:[e.jsxDEV("span",{className:"font-bold text-gray-900",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1411,columnNumber:19},void 0),e.jsxDEV("span",{className:"font-bold text-gray-900",children:[De.total.toLocaleString(),""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1412,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1410,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1404,columnNumber:15},void 0),e.jsxDEV("button",{onClick:()=>w(!0),className:"w-full py-1.5 text-sm border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1417,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1402,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex-1 overflow-auto",children:ke.length>0?e.jsxDEV(e.Fragment,{children:[e.jsxDEV("table",{className:"hidden md:table w-full",children:[e.jsxDEV("thead",{className:"bg-gray-50 sticky top-0 exec-table-header",children:e.jsxDEV("tr",{className:"text-left text-sm text-gray-700 border-b",children:[e.jsxDEV("th",{className:"px-3 py-3 font-medium exec-th-author",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1434,columnNumber:21},void 0),e.jsxDEV("th",{className:"px-3 py-3 font-medium exec-th-date",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1435,columnNumber:21},void 0),e.jsxDEV("th",{className:"px-3 py-3 font-medium exec-th-process",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1436,columnNumber:21},void 0),e.jsxDEV("th",{className:"px-3 py-3 font-medium exec-th-item",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1437,columnNumber:21},void 0),e.jsxDEV("th",{className:"px-3 py-3 font-medium text-right exec-th-material",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1438,columnNumber:21},void 0),e.jsxDEV("th",{className:"px-3 py-3 font-medium text-right exec-th-labor",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1439,columnNumber:21},void 0),e.jsxDEV("th",{className:"px-3 py-3 font-medium text-right exec-th-vat",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1440,columnNumber:21},void 0),e.jsxDEV("th",{className:"px-3 py-3 font-medium text-right exec-th-total",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1441,columnNumber:21},void 0),e.jsxDEV("th",{className:"px-2 py-3 w-20"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1442,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1433,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1432,columnNumber:17},void 0),e.jsxDEV("tbody",{className:"divide-y divide-gray-200",children:ke.map(c=>e.jsxDEV("tr",{className:`group hover:bg-gray-50 cursor-pointer text-sm ${x===c.id?"bg-blue-50":""}`,onClick:()=>j(c.id),children:[e.jsxDEV("td",{className:"px-3 py-3 text-gray-600 whitespace-nowrap exec-author-col",children:c.author||"-"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1452,columnNumber:23},void 0),e.jsxDEV("td",{className:"px-3 py-3 text-gray-600 exec-date-col",children:[e.jsxDEV("span",{className:"exec-date-full",children:Ae(new Date(c.date),"yyyy-MM-dd (EEE)",{locale:xt})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1456,columnNumber:25},void 0),e.jsxDEV("span",{className:"exec-date-short whitespace-nowrap",children:Ae(new Date(c.date),"MM-dd (EEE)",{locale:xt})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1457,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1455,columnNumber:23},void 0),e.jsxDEV("td",{className:"px-3 py-3 text-gray-600 exec-process-col",children:c.process||"-"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1459,columnNumber:23},void 0),e.jsxDEV("td",{className:"px-3 py-3 font-medium exec-item-col",children:c.itemName},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1462,columnNumber:23},void 0),e.jsxDEV("td",{className:"px-3 py-3 text-right exec-material-col",children:(c.materialCost||0).toLocaleString()},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1465,columnNumber:23},void 0),e.jsxDEV("td",{className:"px-3 py-3 text-right exec-labor-col",children:(c.laborCost||0).toLocaleString()},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1468,columnNumber:23},void 0),e.jsxDEV("td",{className:"px-3 py-3 text-right exec-vat-col",children:(c.vatAmount||0).toLocaleString()},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1471,columnNumber:23},void 0),e.jsxDEV("td",{className:"px-3 py-3 text-right font-semibold exec-total-col",children:[e.jsxDEV("span",{className:"exec-total-full",children:[(c.totalAmount||0).toLocaleString(),""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1475,columnNumber:25},void 0),e.jsxDEV("span",{className:"exec-total-short",children:(c.totalAmount||0).toLocaleString()},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1476,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1474,columnNumber:23},void 0),e.jsxDEV("td",{className:"px-2 py-3 text-center",children:e.jsxDEV("div",{className:"flex items-center justify-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsxDEV("button",{onClick:k=>ot(c,k),className:"p-1.5 text-gray-500 hover:text-blue-600 hover:bg-blue-50 rounded",title:"",children:e.jsxDEV(Gn,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1485,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1480,columnNumber:27},void 0),e.jsxDEV("button",{onClick:k=>it(c.id,k),className:"p-1.5 text-gray-500 hover:text-red-600 hover:bg-red-50 rounded",title:"",children:e.jsxDEV(Dt,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1492,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1487,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1479,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1478,columnNumber:23},void 0)]},c.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1447,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1445,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1431,columnNumber:17},void 0),e.jsxDEV("div",{className:"md:hidden space-y-1.5 p-2",children:ke.map(c=>e.jsxDEV("div",{className:`border rounded-lg px-3 py-2 relative ${x===c.id?"bg-blue-50 border-blue-300":"bg-white"}`,onClick:()=>{j(c.id),Q("image")},children:[e.jsxDEV("div",{className:"flex justify-between items-center",children:[e.jsxDEV("p",{className:"font-medium text-gray-900 text-sm truncate flex-1 mr-2",children:c.itemName},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1516,columnNumber:23},void 0),e.jsxDEV("div",{className:"flex items-center gap-1",children:[e.jsxDEV("p",{className:"text-sm font-bold text-gray-900 shrink-0",children:[(c.totalAmount||0).toLocaleString(),""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1518,columnNumber:25},void 0),e.jsxDEV("button",{onClick:k=>{k.stopPropagation(),Te(We===c.id?null:c.id)},className:"p-1 text-gray-400 hover:text-gray-600",children:e.jsxDEV(Hc,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1528,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1521,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1517,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1515,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex justify-between items-center mt-1 text-xs text-gray-500",children:[e.jsxDEV("span",{children:[c.process||"-","  ",c.author||"-","  ",Ae(new Date(c.date),"MM.dd",{locale:xt})]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1534,columnNumber:23},void 0),e.jsxDEV("span",{className:"text-[10px] text-gray-400",children:[" ",(c.materialCost||0).toLocaleString(),"   ",(c.laborCost||0).toLocaleString(),"   ",(c.vatAmount||0).toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1535,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1533,columnNumber:21},void 0),We===c.id&&e.jsxDEV("div",{className:"absolute right-2 top-8 bg-white border rounded-lg shadow-lg z-10 py-1",children:[e.jsxDEV("button",{onClick:k=>ot(c,k),className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-100 flex items-center gap-2",children:[e.jsxDEV(Gn,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1546,columnNumber:27},void 0),""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1542,columnNumber:25},void 0),e.jsxDEV("button",{onClick:k=>it(c.id,k),className:"w-full px-4 py-2 text-left text-sm text-red-600 hover:bg-red-50 flex items-center gap-2",children:[e.jsxDEV(Dt,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1553,columnNumber:27},void 0),""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1549,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1541,columnNumber:23},void 0)]},c.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1504,columnNumber:19},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1502,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1429,columnNumber:15},void 0):e.jsxDEV("div",{className:"flex items-center justify-center h-full text-gray-500",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1563,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1427,columnNumber:11},void 0),e.jsxDEV("div",{className:"hidden md:block ipad-xl:hidden border-t bg-gray-50 p-3",children:e.jsxDEV("div",{className:"flex flex-row items-center gap-3",children:[e.jsxDEV("div",{className:"flex-1 max-w-sm",children:e.jsxDEV("div",{className:"relative",children:[e.jsxDEV("input",{type:"text",placeholder:"...",value:u,onChange:c=>b(c.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 text-sm md:text-sm lg:text-base"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1575,columnNumber:19},void 0),e.jsxDEV(Wr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1582,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1574,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1573,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex items-center justify-end gap-2",children:[x&&e.jsxDEV("button",{onClick:async()=>{const c=n.find(H=>H.id===x),k=Y.find(H=>H.id===x);if(c){if(confirm("  ?"))try{await a(x),j(null),P.success(" ")}catch(H){console.error("  :",H),P.error("  ")}}else(k==null?void 0:k.type)==="payment"?confirm(`   ?
(   )`)&&(ce(H=>[...H,x]),j(null),P.success("  ")):P.error("   ")},className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"",children:e.jsxDEV(Dt,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1623,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1589,columnNumber:19},void 0),e.jsxDEV("button",{onClick:()=>w(!0),className:"px-3 py-2 text-sm md:px-3 lg:px-4 lg:text-base border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 hover:border-gray-400 transition-all duration-200 font-medium whitespace-nowrap",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1628,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1587,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1571,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1570,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1397,columnNumber:9},void 0),e.jsxDEV("div",{className:`execution-images md:col-span-6 ipad:col-span-6 ipad-lg:col-span-6 ipad-xl:col-span-4 ipad-2xl:col-span-4 bg-white rounded-lg border flex flex-col overflow-hidden ${ve!=="image"?"hidden md:flex":""}`,onDragOver:ht,onDragLeave:Ct,onDrop:kt,children:[e.jsxDEV("input",{type:"file",multiple:!0,accept:"image/*",onChange:lt,className:"hidden",id:"image-file-input"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1649,columnNumber:11},void 0),he&&x&&ve==="image"&&(()=>{const c=Y.find(k=>k.id===x);return c?e.jsxDEV("div",{className:"border-b bg-gray-50 p-3",children:e.jsxDEV("div",{className:"flex justify-between items-start",children:[e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("p",{className:"font-medium text-gray-900 text-sm",children:c.itemName},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1666,columnNumber:23},void 0),e.jsxDEV("p",{className:"text-xs text-gray-500 mt-0.5",children:[c.process||"-","  ",Ae(new Date(c.date),"yyyy.MM.dd",{locale:xt})]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1667,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1665,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-sm font-bold text-gray-900",children:["",(c.totalAmount||0).toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1671,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1664,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1663,columnNumber:17},void 0):null})(),e.jsxDEV("div",{className:"flex-1 overflow-y-auto p-4 relative",onClick:c=>{var H;const k=c.target;!k.closest("img")&&!k.closest("button")&&x&&(()=>{const F=n.find(q=>q.id===x),ee=Y.find(q=>q.id===x);return(ee==null?void 0:ee.images)||(F==null?void 0:F.images)||[]})().length>0&&((H=document.getElementById("image-file-input"))==null||H.click())},children:x?(()=>{var F,ee,q,ye,v;const c=n.find(ne=>ne.id===x),k=Y.find(ne=>ne.id===x),H=(k==null?void 0:k.images)||(c==null?void 0:c.images)||[],J=s.find(ne=>ne.id===x);return console.log("[ExecutionHistory]  :",{selectedRecord:x,fullRecordExists:!!k,fullRecordType:k==null?void 0:k.type,fullRecordImages:((F=k==null?void 0:k.images)==null?void 0:F.length)||0,recordExists:!!c,recordImages:((ee=c==null?void 0:c.images)==null?void 0:ee.length)||0,originalPaymentExists:!!J,originalPaymentImages:((q=J==null?void 0:J.images)==null?void 0:q.length)||0,paymentRecordImagesForId:((ye=fe[x])==null?void 0:ye.length)||0,finalImagesCount:H.length}),e.jsxDEV("div",{className:"h-full flex flex-col",children:[(k==null?void 0:k.type)==="payment"&&e.jsxDEV("div",{className:"mb-3 p-3 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsxDEV("p",{className:"text-sm font-semibold text-gray-900 mb-1",children:" :"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1730,columnNumber:23},void 0),e.jsxDEV("p",{className:"text-sm text-gray-700 mb-2",children:[" ",(v=k.totalAmount)==null?void 0:v.toLocaleString(),"",k.itemName&&` (${k.itemName})`]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1731,columnNumber:23},void 0),Fe===x?e.jsxDEV("div",{className:"mt-3 pt-3 border-t border-gray-200",children:[e.jsxDEV("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-xs font-medium text-gray-900 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1741,columnNumber:31},void 0),e.jsxDEV("input",{type:"text",inputMode:"numeric",value:$===""?"":$.toLocaleString(),onChange:ne=>{const ge=ne.target.value.replace(/,/g,"").replace(/[^0-9]/g,""),Se=ge===""?"":parseInt(ge,10);G(Se);const ze=k.totalAmount||0;C(Se!==""?Math.max(0,ze-Se):"")},placeholder:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-gray-400 focus:border-transparent"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1742,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1740,columnNumber:29},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-xs font-medium text-gray-900 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1763,columnNumber:31},void 0),e.jsxDEV("input",{type:"text",inputMode:"numeric",value:T===""?"":T.toLocaleString(),onChange:ne=>{const ge=ne.target.value.replace(/,/g,"").replace(/[^0-9]/g,""),Se=ge===""?"":parseInt(ge,10);C(Se);const ze=k.totalAmount||0;G(Se!==""?Math.max(0,ze-Se):"")},placeholder:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-gray-400 focus:border-transparent"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1764,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1762,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1739,columnNumber:27},void 0),e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV("button",{onClick:async()=>{const ne=$===""?0:$,ge=T===""?0:T;try{await Ns.updatePaymentAmounts(k.id,ne,ge),await t(),B(null),G(""),C(""),P.success(" .")}catch(Se){console.error("  :",Se),P.error("  .")}},className:"flex-1 px-3 py-2 text-sm font-medium text-white bg-gray-700 rounded-lg hover:bg-gray-800 transition-colors",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1786,columnNumber:29},void 0),e.jsxDEV("button",{onClick:()=>{B(null),G(""),C("")},className:"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1817,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1785,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1738,columnNumber:25},void 0):e.jsxDEV("button",{onClick:()=>{const ne=k.totalAmount||0,ge=k.quickText||k.itemName||"",Se=ge.includes("")||ge.includes(""),ze=ge.includes("")||ge.includes("")||ge.includes("");let Je=.7,Ge=.3;Se&&!ze?(Je=1,Ge=0):!Se&&ze&&(Je=0,Ge=1),G(Math.round(ne*Je)),C(Math.round(ne*Ge)),B(x)},className:"w-full px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1830,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1728,columnNumber:21},void 0),e.jsxDEV("div",{className:"mb-3",children:[e.jsxDEV("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1867,columnNumber:21},void 0),e.jsxDEV("textarea",{value:xe[x]!==void 0?xe[x]:(k==null?void 0:k.quickText)||(k==null?void 0:k.notes)||"",onChange:ne=>{Me(ge=>({...ge,[x]:ne.target.value}))},placeholder:" ...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-gray-500 focus:border-transparent resize-none",rows:12},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1868,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1866,columnNumber:19},void 0),H.length>0&&e.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2 mb-3",children:H.map((ne,ge)=>e.jsxDEV("div",{className:"relative group",children:[e.jsxDEV("img",{src:ne,alt:` ${ge+1}`,className:"w-full aspect-square object-contain rounded-lg cursor-pointer hover:opacity-90 transition-opacity border bg-gray-100",onClick:Se=>{Se.stopPropagation(),ut(ne)}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1889,columnNumber:27},void 0),e.jsxDEV("button",{onClick:Se=>{Se.stopPropagation(),ct(ge)},className:"absolute top-1 right-1 p-1 bg-red-500 text-white rounded-full opacity-100 md:opacity-0 md:group-hover:opacity-100 transition-opacity",children:e.jsxDEV(dt,{className:"h-3 w-3"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1905,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1898,columnNumber:27},void 0),e.jsxDEV("div",{className:"absolute bottom-1 left-1 bg-black bg-opacity-50 text-white text-xs px-1.5 py-0.5 rounded",children:[ge+1,"/",H.length]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1907,columnNumber:27},void 0)]},ge,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1888,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1886,columnNumber:21},void 0),e.jsxDEV("label",{htmlFor:"image-file-input",className:`block cursor-pointer ${H.length>0?"":"flex-1"}`,onClick:ne=>ne.stopPropagation(),children:e.jsxDEV("div",{className:`w-full border-2 border-dashed rounded-lg p-4 text-center transition-colors flex flex-col items-center justify-center ${h?"border-gray-500 bg-gray-50":"border-gray-300 hover:border-gray-400"} ${H.length>0?"min-h-[80px]":"min-h-[200px]"}`,children:[e.jsxDEV(js,{className:`mx-auto text-gray-400 mb-1 ${H.length>0?"h-6 w-6":"h-10 w-10 mb-2"}`},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1926,columnNumber:23},void 0),e.jsxDEV("p",{className:"text-sm font-medium text-gray-700",children:H.length>0?" ":" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1927,columnNumber:23},void 0),H.length===0&&e.jsxDEV("p",{className:"text-xs text-gray-500 mt-1",children:"   Ctrl+V "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1931,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1921,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1916,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1725,columnNumber:17},void 0)})():e.jsxDEV("div",{className:"h-full flex items-center justify-center min-h-[200px]",children:e.jsxDEV("div",{className:"text-center text-gray-400",children:[e.jsxDEV(Es,{className:"h-12 w-12 mx-auto mb-2"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1941,columnNumber:19},void 0),e.jsxDEV("p",{className:"text-sm",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1942,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1940,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1939,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1682,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1640,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1025,columnNumber:7},void 0),re&&e.jsxDEV("div",{className:"fixed inset-0 z-50 flex items-end md:items-center justify-center bg-black bg-opacity-50",onClick:c=>{window.innerWidth>=768&&c.target===c.currentTarget&&w(!1)},children:e.jsxDEV("div",{className:"bg-white rounded-t-2xl md:rounded-lg w-full md:max-w-4xl max-h-[85vh] md:max-h-[80vh] overflow-hidden md:m-4",onClick:c=>c.stopPropagation(),children:[e.jsxDEV("div",{className:"flex items-center justify-between p-4 md:p-5 lg:p-6 border-b",children:[e.jsxDEV("h2",{className:"text-lg md:text-lg lg:text-xl font-bold text-gray-900",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1963,columnNumber:15},void 0),e.jsxDEV("button",{onClick:()=>w(!1),className:"p-1.5 md:p-2 hover:bg-gray-100 rounded-full",children:e.jsxDEV(dt,{className:"h-5 w-5 text-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1968,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1964,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1962,columnNumber:13},void 0),e.jsxDEV("div",{className:"p-4 md:p-5 lg:p-6 overflow-y-auto max-h-[calc(85vh-120px)] md:max-h-[calc(80vh-120px)]",children:yt().length>0?e.jsxDEV(e.Fragment,{children:[e.jsxDEV("table",{className:"hidden md:table w-full",children:[e.jsxDEV("thead",{className:"bg-gray-100",children:e.jsxDEV("tr",{className:"text-left text-sm text-gray-700",children:[e.jsxDEV("th",{className:"px-4 py-3 font-medium",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1979,columnNumber:25},void 0),e.jsxDEV("th",{className:"px-4 py-3 font-medium text-right",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1980,columnNumber:25},void 0),e.jsxDEV("th",{className:"px-4 py-3 font-medium text-right",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1981,columnNumber:25},void 0),e.jsxDEV("th",{className:"px-4 py-3 font-medium text-right",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1982,columnNumber:25},void 0),e.jsxDEV("th",{className:"px-4 py-3 font-medium text-right",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1983,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1978,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1977,columnNumber:21},void 0),e.jsxDEV("tbody",{className:"divide-y divide-gray-200",children:yt().map(([c,k])=>e.jsxDEV("tr",{className:"hover:bg-gray-50",children:[e.jsxDEV("td",{className:"px-4 py-3 font-medium text-gray-700",children:c},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1989,columnNumber:27},void 0),e.jsxDEV("td",{className:"px-4 py-3 text-right",children:k.materialCost.toLocaleString()},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1990,columnNumber:27},void 0),e.jsxDEV("td",{className:"px-4 py-3 text-right",children:k.laborCost.toLocaleString()},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1991,columnNumber:27},void 0),e.jsxDEV("td",{className:"px-4 py-3 text-right",children:k.vatAmount.toLocaleString()},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1992,columnNumber:27},void 0),e.jsxDEV("td",{className:"px-4 py-3 text-right font-semibold",children:[k.totalAmount.toLocaleString(),""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1993,columnNumber:27},void 0)]},c,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1988,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1986,columnNumber:21},void 0),e.jsxDEV("tfoot",{className:"bg-gray-100 border-t-2 border-gray-300",children:e.jsxDEV("tr",{children:[e.jsxDEV("td",{className:"px-4 py-3 font-bold text-gray-700",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1999,columnNumber:25},void 0),e.jsxDEV("td",{className:"px-4 py-3 text-right font-bold",children:De.material.toLocaleString()},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2e3,columnNumber:25},void 0),e.jsxDEV("td",{className:"px-4 py-3 text-right font-bold",children:De.labor.toLocaleString()},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2001,columnNumber:25},void 0),e.jsxDEV("td",{className:"px-4 py-3 text-right font-bold",children:De.vat.toLocaleString()},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2002,columnNumber:25},void 0),e.jsxDEV("td",{className:"px-4 py-3 text-right font-bold text-gray-900",children:[De.total.toLocaleString(),""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2003,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1998,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1997,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1976,columnNumber:19},void 0),e.jsxDEV("div",{className:"md:hidden space-y-3",children:[yt().map(([c,k])=>e.jsxDEV("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsxDEV("div",{className:"flex justify-between items-start mb-3",children:[e.jsxDEV("h3",{className:"font-semibold text-gray-900",children:c},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2013,columnNumber:27},void 0),e.jsxDEV("span",{className:"text-lg font-bold text-gray-900",children:["",k.totalAmount.toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2014,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2012,columnNumber:25},void 0),e.jsxDEV("div",{className:"grid grid-cols-3 gap-2 text-sm",children:[e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-gray-500 text-xs",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2020,columnNumber:29},void 0),e.jsxDEV("p",{className:"font-medium",children:["",k.materialCost.toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2021,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2019,columnNumber:27},void 0),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-gray-500 text-xs",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2024,columnNumber:29},void 0),e.jsxDEV("p",{className:"font-medium",children:["",k.laborCost.toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2025,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2023,columnNumber:27},void 0),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-gray-500 text-xs",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2028,columnNumber:29},void 0),e.jsxDEV("p",{className:"font-medium",children:["",k.vatAmount.toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2029,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2027,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2018,columnNumber:25},void 0)]},c,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2011,columnNumber:23},void 0)),e.jsxDEV("div",{className:"bg-gray-900 text-white rounded-lg p-4 mt-4",children:[e.jsxDEV("div",{className:"flex justify-between items-start mb-3",children:[e.jsxDEV("h3",{className:"font-bold text-white",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2038,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-xl font-bold",children:["",De.total.toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2039,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2037,columnNumber:23},void 0),e.jsxDEV("div",{className:"grid grid-cols-3 gap-2 text-sm",children:[e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-gray-300 text-xs",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2045,columnNumber:27},void 0),e.jsxDEV("p",{className:"font-semibold",children:["",De.material.toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2046,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2044,columnNumber:25},void 0),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-gray-300 text-xs",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2049,columnNumber:27},void 0),e.jsxDEV("p",{className:"font-semibold",children:["",De.labor.toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2050,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2048,columnNumber:25},void 0),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-gray-300 text-xs",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2053,columnNumber:27},void 0),e.jsxDEV("p",{className:"font-semibold",children:["",De.vat.toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2054,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2052,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2043,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2036,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2009,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1974,columnNumber:17},void 0):e.jsxDEV("div",{className:"text-center py-8 text-gray-500",children:"  ."},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2061,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1972,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1961,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1952,columnNumber:9},void 0),Ve&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"md:hidden fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:e.jsxDEV("div",{className:"bg-white rounded-lg w-full max-w-md mx-4 max-h-[80vh] overflow-hidden",children:[e.jsxDEV("div",{className:"flex items-center justify-between p-3 border-b",children:[e.jsxDEV("h2",{className:"text-base font-bold text-gray-900",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2077,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>je(!1),className:"p-1 hover:bg-gray-100 rounded-full",children:e.jsxDEV(dt,{className:"h-4 w-4 text-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2082,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2078,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2076,columnNumber:15},void 0),e.jsxDEV("div",{className:"p-3 overflow-y-auto max-h-[calc(80vh-100px)]",children:[e.jsxDEV("div",{className:"grid grid-cols-2 gap-2 mb-2",children:Hr.map(c=>e.jsxDEV("button",{onClick:()=>{me({..._,process:c}),je(!1)},className:`p-2 text-sm text-center border rounded-lg transition-all ${_.process===c?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:border-gray-400 hover:bg-gray-50"}`,children:c},c,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2090,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2088,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>{me({..._,process:""}),je(!1)},className:"w-full p-2 text-sm text-center border-2 border-dashed border-gray-300 rounded-lg hover:border-gray-400 hover:bg-gray-50 text-gray-500",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2108,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2086,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2075,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2074,columnNumber:11},void 0),e.jsxDEV("div",{className:"hidden md:block fixed inset-0 z-40",onClick:()=>je(!1),children:e.jsxDEV("div",{onClick:c=>c.stopPropagation(),className:"absolute bg-white rounded-lg shadow-xl border border-gray-200",style:{top:Be.current?`${Be.current.getBoundingClientRect().bottom+window.scrollY+4}px`:"50%",left:Be.current?`${Be.current.getBoundingClientRect().left+window.scrollX}px`:"50%"},children:[e.jsxDEV("div",{className:"flex items-center justify-between p-2 border-b",children:[e.jsxDEV("h2",{className:"text-sm font-bold text-gray-900",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2132,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>je(!1),className:"p-1 hover:bg-gray-100 rounded-full",children:e.jsxDEV(dt,{className:"h-3 w-3 text-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2137,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2133,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2131,columnNumber:15},void 0),e.jsxDEV("div",{className:"p-2",children:[e.jsxDEV("div",{className:"grid grid-cols-4 gap-1.5 mb-2",children:Hr.map(c=>e.jsxDEV("button",{onClick:()=>{me({..._,process:c}),je(!1)},className:`p-1.5 text-xs text-center border rounded-lg transition-all whitespace-nowrap ${_.process===c?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:border-gray-400 hover:bg-gray-50"}`,children:c},c,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2145,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2143,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>{me({..._,process:""}),je(!1)},className:"w-full p-1.5 text-xs text-center border-2 border-dashed border-gray-300 rounded-lg hover:border-gray-400 hover:bg-gray-50 text-gray-500",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2163,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2141,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2123,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2122,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2072,columnNumber:9},void 0),O&&e.jsxDEV("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-90",onClick:()=>ie(!1),children:e.jsxDEV("div",{className:"relative max-w-[90vw] max-h-[90vh]",children:[e.jsxDEV("button",{onClick:c=>{c.stopPropagation(),ie(!1)},className:"absolute -top-10 right-0 text-white hover:text-gray-300 transition-colors",children:e.jsxDEV(dt,{className:"h-8 w-8"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2192,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2185,columnNumber:13},void 0),de?e.jsxDEV("img",{src:de,alt:" ",className:"max-w-full max-h-[90vh] object-contain",onClick:c=>c.stopPropagation(),onError:()=>{P.error("   "),ie(!1)}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2195,columnNumber:15},void 0):e.jsxDEV("div",{className:"text-white text-center p-4",children:e.jsxDEV("p",{children:"   "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2207,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2206,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2184,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2180,columnNumber:9},void 0),Xe&&Le&&e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxDEV("div",{className:"bg-white rounded-lg w-full max-w-md",children:[e.jsxDEV("div",{className:"flex justify-between items-center p-4 border-b",children:[e.jsxDEV("h3",{className:"text-lg font-semibold",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2219,columnNumber:15},void 0),e.jsxDEV("button",{onClick:()=>{le(!1),Ue(null)},className:"text-gray-500 hover:text-gray-700",children:e.jsxDEV(dt,{className:"w-5 h-5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2227,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2220,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2218,columnNumber:13},void 0),e.jsxDEV("div",{className:"p-4 space-y-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2233,columnNumber:17},void 0),e.jsxDEV("input",{type:"date",value:Ce.date,onChange:c=>Re({...Ce,date:c.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2234,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2232,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2243,columnNumber:17},void 0),e.jsxDEV("select",{value:Ce.process,onChange:c=>Re({...Ce,process:c.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2249,columnNumber:19},void 0),Hr.map(c=>e.jsxDEV("option",{value:c,children:c},c,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2251,columnNumber:21},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2244,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2242,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2257,columnNumber:17},void 0),e.jsxDEV("input",{type:"text",value:Ce.itemName,onChange:c=>Re({...Ce,itemName:c.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2258,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2256,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2267,columnNumber:17},void 0),e.jsxDEV("input",{type:"number",value:Ce.materialCost,onChange:c=>Re({...Ce,materialCost:c.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2268,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2266,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2277,columnNumber:17},void 0),e.jsxDEV("input",{type:"number",value:Ce.laborCost,onChange:c=>Re({...Ce,laborCost:c.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2278,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2276,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2230,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex gap-2 p-4 border-t",children:[e.jsxDEV("button",{onClick:()=>{le(!1),Ue(null)},className:"flex-1 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2287,columnNumber:15},void 0),e.jsxDEV("button",{onClick:Qe,className:"flex-1 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2296,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2286,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2217,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2216,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:967,columnNumber:5},void 0)},z0=window.location.origin;class Y0{constructor(){eo(this,"socket",null)}connect(n){return this.socket=On(z0,{auth:{token:n},transports:["websocket"],reconnection:!0,reconnectionAttempts:5,reconnectionDelay:1e3}),this.socket.on("connect",()=>{console.log(" Socket connected")}),this.socket.on("disconnect",()=>{console.log(" Socket disconnected")}),this.socket.on("connect_error",t=>{console.error("Socket connection error:",t)}),this.socket}disconnect(){this.socket&&(this.socket.disconnect(),this.socket=null)}joinProject(n){var t;(t=this.socket)==null||t.emit("join:project",n)}leaveProject(n){var t;(t=this.socket)==null||t.emit("leave:project",n)}emitScheduleUpdate(n){var t;(t=this.socket)==null||t.emit("schedule:update",n)}onScheduleUpdated(n){var t;(t=this.socket)==null||t.on("schedule:updated",n)}emitPaymentRequest(n){var t;(t=this.socket)==null||t.emit("payment:request",n)}onNewPayment(n){var t;(t=this.socket)==null||t.on("payment:new",n)}emitPaymentStatusUpdate(n){var t;(t=this.socket)==null||t.emit("payment:statusUpdate",n)}onPaymentStatusChanged(n){var t;(t=this.socket)==null||t.on("payment:statusChanged",n)}onPaymentUpdate(n){var t;(t=this.socket)==null||t.on("payment:update",n)}sendMessage(n){var t;(t=this.socket)==null||t.emit("message:send",n)}onMessageReceive(n){var t;(t=this.socket)==null||t.on("message:receive",n)}sendNotification(n){var t;(t=this.socket)==null||t.emit("notification:send",n)}onNotificationReceive(n){var t;(t=this.socket)==null||t.on("notification:receive",n)}onActiveUsers(n){var t;(t=this.socket)==null||t.on("users:active",n)}on(n,t){var r;(r=this.socket)==null||r.on(n,t)}emit(n,t){var r;(r=this.socket)==null||r.emit(n,t)}off(n,t){var r;(r=this.socket)==null||r.off(n,t)}getSocket(){return this.socket}}const K0=new Y0,X0=({projectName:s,onClose:n,type:t="cash"})=>{const r=t==="cash",i=r?"":"",a=r?"      .":"      .",[o,m]=l.useState({receiptDate:Ae(new Date,"yyyy-MM-dd"),customerName:"",amount:"",purpose:" ",receivedBy:""}),d=()=>{window.print()},p=u=>{const b=Number(u.replace(/,/g,""));return isNaN(b)?"":b.toLocaleString()},f=u=>{if(u===0)return"";const b=["","","",""],x=["","","",""],j=["","","","","","","","","",""];let h="",L=0;for(;u>0;){const I=u%1e4;if(I>0){let y="",M=I,se=0;for(;M>0;){const re=M%10;re>0&&(y=j[re]+x[se]+y),M=Math.floor(M/10),se++}h=y+b[L]+h}u=Math.floor(u/1e4),L++}return h+""};return e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 print:relative print:bg-white",children:e.jsxDEV("div",{className:"bg-white rounded-lg w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto print:max-h-none print:mx-0 print:rounded-none",children:[e.jsxDEV("div",{className:"flex items-center justify-between p-4 border-b print:hidden",children:[e.jsxDEV("h2",{className:"text-lg font-bold text-gray-900",children:i},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:76,columnNumber:13},void 0),e.jsxDEV("button",{onClick:n,className:"p-1 hover:bg-gray-100 rounded-full",children:e.jsxDEV(dt,{className:"h-5 w-5 text-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:81,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:77,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:75,columnNumber:11},void 0),e.jsxDEV("div",{className:"p-6 space-y-4 print:hidden",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:88,columnNumber:15},void 0),e.jsxDEV("input",{type:"date",value:o.receiptDate,onChange:u=>m({...o,receiptDate:u.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:89,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:87,columnNumber:13},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:98,columnNumber:15},void 0),e.jsxDEV("input",{type:"text",value:o.customerName,onChange:u=>m({...o,customerName:u.target.value}),placeholder:" ",className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:99,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:97,columnNumber:13},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:109,columnNumber:15},void 0),e.jsxDEV("input",{type:"text",value:p(o.amount),onChange:u=>{const b=u.target.value.replace(/,/g,"");/^\d*$/.test(b)&&m({...o,amount:b})},placeholder:" ",className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:110,columnNumber:15},void 0),o.amount&&e.jsxDEV("p",{className:"text-sm text-gray-600 mt-1",children:f(Number(o.amount))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:123,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:108,columnNumber:13},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:130,columnNumber:15},void 0),e.jsxDEV("input",{type:"text",value:o.purpose,onChange:u=>m({...o,purpose:u.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:131,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:129,columnNumber:13},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:140,columnNumber:15},void 0),e.jsxDEV("input",{type:"text",value:o.receivedBy,onChange:u=>m({...o,receivedBy:u.target.value}),placeholder:" ",className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:141,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:139,columnNumber:13},void 0),e.jsxDEV("button",{onClick:d,disabled:!o.customerName||!o.amount||!o.receivedBy,className:"w-full py-2 bg-gray-900 text-white rounded-lg hover:bg-gray-800 disabled:bg-gray-300 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[e.jsxDEV(Am,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:155,columnNumber:15},void 0),""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:150,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:86,columnNumber:11},void 0),e.jsxDEV("div",{className:"hidden print:block p-12",children:e.jsxDEV("div",{className:"border-4 border-double border-gray-900 p-8",children:[e.jsxDEV("h1",{className:"text-center text-3xl font-bold mb-8",children:r?"    ":"    "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:163,columnNumber:15},void 0),e.jsxDEV("div",{className:"space-y-6 text-lg",children:[e.jsxDEV("div",{className:"flex items-baseline border-b border-gray-300 pb-2",children:[e.jsxDEV("span",{className:"font-medium w-32",children:":"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:169,columnNumber:19},void 0),e.jsxDEV("span",{className:"flex-1 receipt-date",children:Ae(new Date(o.receiptDate),"yyyy MM dd",{locale:xt})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:170,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:168,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex items-baseline border-b border-gray-300 pb-2",children:[e.jsxDEV("span",{className:"font-medium w-32",children:":"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:174,columnNumber:19},void 0),e.jsxDEV("span",{className:"flex-1",children:o.customerName},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:175,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:173,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex items-baseline border-b border-gray-300 pb-2",children:[e.jsxDEV("span",{className:"font-medium w-32",children:":"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:179,columnNumber:19},void 0),e.jsxDEV("span",{className:"flex-1",children:s},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:180,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:178,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex items-baseline border-b border-gray-300 pb-2",children:[e.jsxDEV("span",{className:"font-medium w-32",children:":"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:184,columnNumber:19},void 0),e.jsxDEV("span",{className:"flex-1 font-bold receipt-amount",children:["",Number(o.amount).toLocaleString(),""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:185,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:183,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex items-baseline border-b border-gray-300 pb-2",children:[e.jsxDEV("span",{className:"font-medium w-32",children:"():"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:191,columnNumber:19},void 0),e.jsxDEV("span",{className:"flex-1",children:f(Number(o.amount))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:192,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:190,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex items-baseline border-b border-gray-300 pb-2",children:[e.jsxDEV("span",{className:"font-medium w-32",children:":"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:196,columnNumber:19},void 0),e.jsxDEV("span",{className:"flex-1",children:o.purpose},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:197,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:195,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:167,columnNumber:15},void 0),e.jsxDEV("div",{className:"mt-12 text-center",children:[e.jsxDEV("p",{className:"text-lg mb-8",children:a},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:202,columnNumber:17},void 0),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV("p",{className:"text-lg receipt-date",children:Ae(new Date(o.receiptDate),"yyyy MM dd",{locale:xt})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:205,columnNumber:19},void 0),e.jsxDEV("p",{className:"text-xl font-medium mt-8",children:[": ",o.receivedBy," ",e.jsxDEV("span",{className:"ml-4",children:"()"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:207,columnNumber:48},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:206,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:204,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:201,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:162,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:161,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:73,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:72,columnNumber:7},void 0),e.jsxDEV("style",{children:`
        @media print {
          body * {
            visibility: hidden;
          }
          .print\\:block, .print\\:block * {
            visibility: visible;
          }
          .print\\:hidden {
            display: none !important;
          }
        }
      `},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:217,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:71,columnNumber:5},void 0)},Mi=["","","/","","","","","","","","","","","","",""],J0=()=>{const{payments:s,loadPaymentsFromAPI:n,addPaymentToAPI:t,deletePaymentFromAPI:r,updatePaymentInAPI:i,updatePayment:a}=ks(),{user:o}=Qt(),m=us(),[d,p]=l.useState(""),[f,u]=l.useState(null),[b,x]=l.useState(null),[j,h]=l.useState(!1),[L,I]=l.useState(!1),[y,M]=l.useState(!1),[se,re]=l.useState(!1),[w,O]=l.useState(""),[ie,de]=l.useState("form"),[ue,ve]=l.useState(!1),[Q,he]=l.useState(!1),Ne=l.useRef(null),[Ve,je]=l.useState("pending"),[Be,Xe]=l.useState("all"),[le,Le]=l.useState(!1),[Ue,Ce]=l.useState(null),[Re,We]=l.useState(!1),[Te,qe]=l.useState(""),[R,fe]=l.useState(!1),pe=l.useRef(!1),[He,Z]=l.useState([]),[A,ce]=l.useState([]),[V,_]=l.useState(null),[me,xe]=l.useState([]),[Me,Fe]=l.useState([]),[B,$]=l.useState(!1),[G,T]=l.useState({}),[C,z]=l.useState(!1),X=()=>{const c=localStorage.getItem("lastSelectedProject"),k=m.filter(H=>H.status!=="completed");return c&&k.some(H=>H.name===c)?c:k.length>0?k[0].name:""},[K,N]=l.useState({project:"",date:Ae(new Date,"yyyy-MM-dd"),process:"",itemName:"",amount:"",accountHolder:"",bankName:"",accountNumber:"",images:[],quickText:"",quickImages:[]});l.useEffect(()=>{(async()=>{try{const k=await Rs.getAllContractors();Z(k.map(H=>({id:H._id||H.id,rank:H.rank,companyName:H.companyName,name:H.name,process:H.process,contact:H.contact,accountNumber:H.accountNumber,bankName:H.bankName,notes:H.notes,createdAt:new Date(H.createdAt),updatedAt:new Date(H.updatedAt)})))}catch(k){console.error("Failed to load contractors:",k)}})()},[]),l.useEffect(()=>{n().catch(k=>{console.error("Failed to load payments:",k)});const c=()=>{ve(window.innerWidth<1024)};if(c(),window.addEventListener("resize",c),m.length>0&&!K.project){const k=X();k&&(N(H=>({...H,project:k})),localStorage.setItem("lastSelectedProject",k))}return()=>window.removeEventListener("resize",c)},[n,m]),l.useEffect(()=>{const c=setInterval(()=>{console.log("[ ]    ..."),n().catch(H=>{console.error("[ ] :",H)})},3e4),k=()=>{document.visibilityState==="visible"&&(console.log("[ ]   -    ..."),n().catch(H=>{console.error("[ ] :",H)}))};return document.addEventListener("visibilitychange",k),()=>{clearInterval(c),document.removeEventListener("visibilitychange",k)}},[n]),l.useEffect(()=>{const c=K0.getSocket();if(!c)return;const k=H=>{console.log(" [ ]    :",H),n().catch(J=>{console.error("[ ]  :",J)})};return c.on("payment:refresh",k),()=>{c.off("payment:refresh",k)}},[n]),l.useEffect(()=>{(async()=>{var J,F,ee,q;if(pe.current)return;const k=new URLSearchParams(window.location.search),H=k.get("complete")||k.get("c");if(H){if(!o){console.log("[ ]   -  ");return}pe.current=!0,console.log("[ ]  :",H),window.history.replaceState({},"","/payments"),de("list"),je("completed"),a(String(H),{status:"completed"}),P.success(" ");try{await i(String(H),{status:"completed"}),n()}catch(ye){console.error("[ ]  :",ye),a(String(H),{status:"pending"}),je("pending");let v="  ";((J=ye.response)==null?void 0:J.status)===401?v=" .  ":((F=ye.response)==null?void 0:F.status)===404?v="     (ID: "+H+")":(q=(ee=ye.response)==null?void 0:ee.data)!=null&&q.error?v=ye.response.data.error:ye.message&&(v+=": "+ye.message),P.error(v)}}})()},[n,i,a,o]),l.useEffect(()=>{if(K.process){const c=new Set(s.filter(F=>{var ee;return F.status==="completed"&&((ee=F.bankInfo)==null?void 0:ee.accountHolder)}).map(F=>F.bankInfo.accountHolder.trim().toLowerCase())),k=(F,ee)=>{const q=F.toLowerCase(),ye=ee.toLowerCase();if(q.includes(ye)||ye.includes(q))return!0;const v=q.split("/").map(ge=>ge.trim()),ne=ye.replace(/$/,"").trim();for(const ge of v)if(ge===ne||ne.includes(ge)||ge.includes(ne))return!0;return!1},J=He.filter(F=>{if(!k(K.process,F.process))return!1;const q=F.accountNumber&&F.accountNumber.trim()!=="",ye=F.name.trim().toLowerCase(),v=c.has(ye);return q||v}).sort((F,ee)=>{const q=F.accountNumber&&F.accountNumber.trim()!=="",ye=ee.accountNumber&&ee.accountNumber.trim()!=="";return q&&!ye?-1:!q&&ye?1:0});ce(J)}else ce([])},[K.process,He,s]),l.useEffect(()=>{if(K.process){const c=(J,F)=>{if(!F)return!1;const ee=J.toLowerCase(),q=F.toLowerCase();if(ee.includes(q)||q.includes(ee))return!0;const ye=ee.split("/").map(ne=>ne.trim()),v=q.replace(/$/,"").trim();for(const ne of ye)if(ne===v||v.includes(ne)||ne.includes(v))return!0;return!1},k=s.filter(J=>{var F,ee,q;return J.status==="completed"&&J.process&&c(K.process,J.process)&&((F=J.bankInfo)==null?void 0:F.accountHolder)&&((ee=J.bankInfo)==null?void 0:ee.bankName)&&((q=J.bankInfo)==null?void 0:q.accountNumber)}),H=new Map;k.forEach(J=>{const F=`${J.bankInfo.accountHolder}_${J.bankInfo.bankName}_${J.bankInfo.accountNumber}`;H.has(F)||H.set(F,{accountHolder:J.bankInfo.accountHolder,bankName:J.bankInfo.bankName,accountNumber:J.bankInfo.accountNumber,itemName:J.itemName||"",amount:J.amount||0})}),xe(Array.from(H.values()))}else xe([])},[K.process,s]),l.useEffect(()=>{var k;const c=((k=K.accountHolder)==null?void 0:k.trim())||"";if(c.length>=1&&B){const H=[],J=new Set;He.filter(F=>F.accountNumber&&F.accountNumber.trim()!=="").forEach(F=>{const ee=F.name.trim(),q=ee.toLowerCase(),ye=c.toLowerCase();q.startsWith(ye)&&!J.has(q)&&(J.add(q),H.push({name:ee,bankName:F.bankName||"",accountNumber:F.accountNumber||"",source:"contractor"}))}),s.filter(F=>{var ee;return F.status==="completed"&&((ee=F.bankInfo)==null?void 0:ee.accountHolder)}).forEach(F=>{const ee=F.bankInfo.accountHolder.trim(),q=ee.toLowerCase(),ye=c.toLowerCase();q.startsWith(ye)&&!J.has(q)&&(J.add(q),H.push({name:ee,bankName:F.bankInfo.bankName||"",accountNumber:F.bankInfo.accountNumber||"",source:"payment"}))}),Fe(H)}else Fe([])},[K.accountHolder,B,He,s]);const D=c=>{const k=c.split(`
`).map(q=>q.trim()).filter(q=>q),H={amounts:{},bankInfo:{},vendor:null,itemName:void 0,includeVat:!1},J=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],F=q=>{if(!q||q.length<2||q.length>5||!/^[-]{2,5}$/.test(q))return!1;if(q.length>=2){const ye=q.charAt(0),v=q.substring(0,2);if(["","","","","","",""].includes(v)||J.includes(ye))return!0}return q.length>=2&&q.length<=4},ee=k.some(q=>q.includes(" ")||q.includes(""));return k.forEach((q,ye)=>{if(q.includes("")&&q.includes(":")){const v=q.match(/\s*:\s*(.+)/);v&&(H.itemName=v[1].trim())}if(q.includes("")&&q.includes(":")){const v=q.match(/\s*:\s*(.+)/);v&&(H.bankInfo.accountHolder=v[1].trim())}if(q.includes("")&&q.includes(":")){const v=q.match(/\s*:\s*(.+)/);v&&(H.bankInfo.bankName=v[1].trim())}if(q.includes("")&&q.includes(":")){const v=q.match(/\s*:\s*(.+)/);v&&(H.bankInfo.accountNumber=v[1].trim())}if(q.includes("")&&q.includes(":")){const v=q.match(/\s*:\s*([\d,]+)?/);v&&(H.amounts.total=parseInt(v[1].replace(/,/g,"")))}}),ee||(k.forEach(q=>{const ye=q.match(/\[([^\]]+)\]/);ye&&!H.itemName&&(H.itemName=ye[1].trim())}),k.forEach((q,ye)=>{(q.includes("")||q.includes(" ")||q.includes("()"))&&(H.includeVat=!0);const v=q.match(/(\d+)\s*\s*/);if(v){const Oe=parseInt(v[1])*1e4;q.includes("")||q.includes("")?H.amounts.material=Oe:q.includes("")||q.includes("")?H.amounts.labor=Oe:H.amounts.total||(H.amounts.total=Oe),q=q.replace(/(\d+)\s*\s*/g,"")}q.includes("/")&&q.split("/").forEach(Ye=>{const W=Ye.trim();W.startsWith("[")||W.endsWith("]")||(/^[\d\-]+$/.test(W)&&W.replace(/\-/g,"").length>=10?H.bankInfo.accountNumber||(H.bankInfo.accountNumber=W):F(W)&&!H.bankInfo.accountHolder&&(H.bankInfo.accountHolder=W))});const ne=[/\d{6}[\s\-]+\d{2}[\s\-]+\d{6}/,/\d{5,7}[\s\-]+\d{2}[\s\-]+\d{5,7}/,/\d{3,4}[\s\-]+\d{3,4}[\s\-]+\d{3,4}[\s\-]+\d{3,4}/,/\d{3}[\s\-]+\d{2}[\s\-]+\d{6}/,/\d{3}[\s\-]+\d{4}[\s\-]+\d{7}/,/\d{4}[\s\-]+\d{4}[\s\-]+\d{5}/,/\d{3,4}[\s\-]+\d{2,6}[\s\-]+\d{4,7}/,/\d{10,}/];let ge="",Se=-1;for(const Oe of ne){const Ye=q.match(Oe);if(Ye&&!H.bankInfo.accountNumber){ge=Ye[0],Se=Ye.index||-1,H.bankInfo.accountNumber=Ye[0].trim().replace(/\s+/g,"-");const oe=q.substring(Se+ge.length).trim().split(/\s+/);for(const Pe of oe)if(!(Pe.startsWith("[")||Pe.endsWith("]"))&&F(Pe)){H.bankInfo.accountHolder=Pe;break}if(!H.bankInfo.accountHolder&&ye+1<k.length){const Pe=k[ye+1],nt=Pe.split(/\s+/);for(const Ze of nt)if(!(Ze.startsWith("[")||Ze.endsWith("]"))&&F(Ze)){H.bankInfo.accountHolder=Ze;break}if(!H.bankInfo.accountHolder){const Ze=Pe.match(/^([-]{2,5})/);if(Ze){const bt=Ze[1].trim();F(bt)&&(H.bankInfo.accountHolder=bt)}}}break}}const ze=q.match(/[\d,]+/g);ze&&ze.forEach(Oe=>{const Ye=parseInt(Oe.replace(/,/g,"")),W=Oe.replace(/,/g,""),oe=ge&&ge.includes(W);!H.bankInfo.accountNumber&&W.length>=10&&W.length<=20?(H.bankInfo.accountNumber=W,ge=W):Ye>=1e3&&!v&&!oe&&(q.includes("")||q.includes("")?H.amounts.material=Ye:q.includes("")||q.includes("")?H.amounts.labor=Ye:H.amounts.total||(H.amounts.total=Ye))});const Je={:"KB",KB:"KB",:"",:"",:"",:"IBK",IBK:"IBK",:"NH",NH:"NH",:"",:"",:"",:"",K:"",:"KDB",KDB:"KDB",:"",:"",:"",:"",:"",:"",:"SC",SC:"SC",:"",:"",:"",:""};for(const[Oe,Ye]of Object.entries(Je))if(q.includes(Oe)){H.bankInfo.bankName=Ye;const W=new RegExp(`${Oe}\\s+([-]{2,5})`),oe=q.match(W);oe&&(H.bankInfo.accountHolder=oe[1]);break}if(!H.bankInfo.bankName){const Oe=q.match(/([-]+)(|)/);Oe&&(H.bankInfo.bankName=Oe[0])}const Ge=q.match(/\(([-]{2,5})\)/);if(Ge){const Oe=Ge[1];F(Oe)&&(H.bankInfo.accountHolder=Oe)}if(!Ge&&!H.bankInfo.accountHolder){const Oe=/[-]{2,5}/g,Ye=q.match(Oe);if(Ye){const W=q.match(/\d{10,}/)||q.match(/\d{3,4}[\s\-]+\d{3,4}[\s\-]+\d{3,4}[\s\-]+\d{3,4}/);Ye.forEach(oe=>{const Pe=c.split(`
`)[ye];Pe&&Pe.includes(`[${oe}]`)||!F(oe)||["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""].includes(oe)||Ge&&oe===Ge[1]||(W&&!Ge?H.bankInfo.accountHolder=oe:H.bankInfo.accountHolder||(ye>0&&(k[ye-1].match(/\d{10,}/)||k[ye-1].match(/|/))||ye<k.length-1&&(k[ye+1].match(/\d{10,}/)||k[ye+1].match(/|/))||q.match(/|/))&&(H.bankInfo.accountHolder=oe))})}}const st={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};for(const[Oe,Ye]of Object.entries(st))if(q.includes(Oe)){H.vendor=Ye;break}if(ye===0&&!H.itemName){const Oe=q.replace(/[\[\]{}()<>]/g,"").trim();Oe&&!Oe.includes(" ")&&(H.itemName=Oe.substring(0,50))}})),H.itemName&&H.itemName.includes("")&&(H.vendor=""),H},U=()=>{const c=K.quickText;if(!c.trim())return;const k=D(c),H={project:K.project,date:K.date,quickText:K.quickText,quickImages:K.quickImages||[],process:"",itemName:"",amount:"",accountHolder:"",bankName:"",accountNumber:"",images:[]};_(null),I(!1),M(!1);let J=0;if(k.amounts.material&&(J+=k.amounts.material),k.amounts.labor&&(J+=k.amounts.labor),k.amounts.total&&!k.amounts.material&&!k.amounts.labor&&(J=k.amounts.total),J>0&&(H.amount=J),k.bankInfo.bankName&&(H.bankName=k.bankInfo.bankName),k.bankInfo.accountNumber){H.accountNumber=k.bankInfo.accountNumber;const ee=He.find(q=>{var ne,ge;const ye=(ne=k.bankInfo.accountNumber)==null?void 0:ne.replace(/[-\s]/g,"");return((ge=q.accountNumber)==null?void 0:ge.replace(/[-\s]/g,""))===ye});ee?(H.accountHolder=ee.name||k.bankInfo.accountHolder,H.bankName=ee.bankName||k.bankInfo.bankName,H.accountNumber=ee.accountNumber||k.bankInfo.accountNumber,_(ee.id||ee._id||null),ee.process&&(H.process=ee.process)):k.bankInfo.accountHolder&&(H.accountHolder=k.bankInfo.accountHolder)}else k.bankInfo.accountHolder&&(H.accountHolder=k.bankInfo.accountHolder);if(k.vendor&&(H.process=k.vendor),!H.process){const ee=c.toLowerCase();for(const q of Mi)if(ee.includes(q.toLowerCase())){H.process=q;break}}k.itemName&&(H.itemName=k.itemName),N(H),k.includeVat&&(I(!0),M(!1));let F=[];if(k.amounts.material||k.amounts.labor||k.amounts.total){const ee=[];k.amounts.material&&ee.push(`: ${k.amounts.material.toLocaleString()}`),k.amounts.labor&&ee.push(`: ${k.amounts.labor.toLocaleString()}`),k.amounts.total&&!k.amounts.material&&!k.amounts.labor&&ee.push(`: ${k.amounts.total.toLocaleString()}`),F.push(ee.join(", "))}if(k.bankInfo.bankName||k.bankInfo.accountHolder){const ee=[];k.bankInfo.bankName&&ee.push(k.bankInfo.bankName),k.bankInfo.accountHolder&&ee.push(k.bankInfo.accountHolder),k.bankInfo.accountNumber&&ee.push(k.bankInfo.accountNumber),ee.length>0&&F.push(`: ${ee.join(" ")}`)}k.vendor&&F.push(`: ${k.vendor}`),k.includeVat&&F.push("  "),F.length>0?P.success(`  !
${F.join(`
`)}`,{duration:4e3,style:{whiteSpace:"pre-line"}}):P.info("  ...    .")};l.useEffect(()=>{(async()=>{try{await oc();const k=await ic();T(k),z(!0)}catch(k){console.error("  :",k),z(!0)}})()},[]);const Y=l.useRef({});l.useEffect(()=>{C&&(Object.entries(G).forEach(([c,k])=>{JSON.stringify(Y.current[c])!==JSON.stringify(k)&&ac(c,k).catch(H=>{console.error("  :",H),P.error("  ")})}),Y.current={...G})},[G,C]);const ke=l.useCallback(async c=>{var J;const k=(J=c.clipboardData)==null?void 0:J.items;if(!k)return;let H=!1;for(let F=0;F<k.length;F++)if(k[F].type.indexOf("image")!==-1){H=!0;break}if(H){if(!f){const F=document.activeElement;(F==null?void 0:F.tagName)==="INPUT"||(F==null?void 0:F.tagName)==="TEXTAREA"||(F==null?void 0:F.classList.contains("form-input"))||P.error("  ");return}for(let F=0;F<k.length;F++)if(k[F].type.indexOf("image")!==-1){c.preventDefault();const ee=k[F].getAsFile();if(ee){const q=new FileReader;q.onload=async ye=>{var ne;const v=(ne=ye.target)==null?void 0:ne.result;if(v)try{const ge=s.find(Je=>Je.id===f),ze=[...(ge==null?void 0:ge.images)||G[f]||[],v];await Ns.updatePaymentImages(f,ze),T(Je=>({...Je,[f]:ze})),await n(),P.success(" ")}catch(ge){console.error("  :",ge),P.error("  ")}},q.readAsDataURL(ee)}}}},[f,s,G,n]);l.useEffect(()=>(document.addEventListener("paste",ke),()=>document.removeEventListener("paste",ke)),[ke]);const De=(o==null?void 0:o.name)===""?s.filter(c=>m.some(k=>k.name===c.project)):s,Ie=[...De].sort((c,k)=>new Date(k.requestDate).getTime()-new Date(c.requestDate).getTime());console.log("[ ]",{" payments":s.length,"  ":De.length," ()":s.filter(c=>c.status==="completed").length," ( )":De.filter(c=>c.status==="completed").length," ":o==null?void 0:o.name," ":m.length});const $e=Ie.filter(c=>{var F,ee,q;const k=d===""||((F=c.purpose)==null?void 0:F.toLowerCase().includes(d.toLowerCase()))||((ee=c.itemName)==null?void 0:ee.toLowerCase().includes(d.toLowerCase()))||((q=c.process)==null?void 0:q.toLowerCase().includes(d.toLowerCase())),H=c.status===Ve,J=Ve==="pending"||!K.project||c.project===K.project;return k&&H&&J}),ot=c=>{const k=c.id||c._id||null;if(V===k){_(null);const ee=document.querySelector('input[placeholder=" "]');ee&&setTimeout(()=>{ee.focus()},100);return}_(k);const H=Yn(c.name);let J=c.bankName||"",F=c.accountNumber||"";if(F&&!J){const ee=F.trim().split(/\s+/);if(ee.length>=2){const q=ee[0];(q.includes("")||q.includes("")||q.includes("")||q.includes("")||q.includes(""))&&(J=q,F=ee.slice(1).join(""))}}N(ee=>({...ee,accountHolder:H,bankName:J,accountNumber:F}))};$e.reduce((c,k)=>{const H=k.materialAmount||0,J=k.laborAmount||0,F=k.amount||0;let ee=H,q=J,ye=0;return H===0&&J===0&&F>0?k.includesVAT?(ee=Math.round(F/1.1),ye=F-ee):(ee=F,ye=0):k.includesVAT?(H>0&&(ee=Math.round(H/1.1)),J>0&&(q=Math.round(J/1.1)),ye=F-(ee+q)):ye=0,c.material+=ee,c.labor+=q,c.vat+=ye,c.total+=F,c},{material:0,labor:0,vat:0,total:0});const et=async()=>{var k;if(R){console.log(" Already submitting, ignoring click");return}if(console.log(" handleSave called"),console.log(" Current user:",o),console.log(" Form data:",K),!K.project){P.error(" ");return}if(!K.itemName){P.error(" ");return}const c=Number(K.amount)||0;if(c===0){P.error(" ");return}fe(!0);try{const H=y?Math.round(c*.967):c,J=new Date;if(b){const F={project:K.project,requestDate:new Date(K.date),purpose:K.itemName,amount:H,category:"material",urgency:"normal",process:K.process,itemName:K.itemName,includesVAT:L,applyTaxDeduction:y,materialAmount:H,laborAmount:0,originalLaborAmount:0,accountHolder:K.accountHolder,bank:K.bankName,accountNumber:K.accountNumber,bankInfo:K.accountHolder||K.bankName||K.accountNumber?{accountHolder:K.accountHolder,bankName:K.bankName,accountNumber:K.accountNumber}:void 0,updatedAt:J};console.log(" Updating payment:",F),await i(b,F),P.success(" "),x(null)}else{const F={id:`payment_${Date.now()}`,project:K.project,requestDate:new Date(K.date),requestedBy:(o==null?void 0:o.name)||"  ",purpose:K.itemName,amount:H,status:"pending",category:"material",urgency:"normal",process:K.process,itemName:K.itemName,includesVAT:L,applyTaxDeduction:y,materialAmount:H,laborAmount:0,originalLaborAmount:0,accountHolder:K.accountHolder,bank:K.bankName,accountNumber:K.accountNumber,bankInfo:K.accountHolder||K.bankName||K.accountNumber?{accountHolder:K.accountHolder,bankName:K.bankName,accountNumber:K.accountNumber}:void 0,quickText:K.quickText||"",images:K.quickImages,attachments:[],createdAt:J,updatedAt:J};console.log(" Creating payment:",F),console.log(" Images in payment:",((k=K.quickImages)==null?void 0:k.length)||0,"");const ee=await t(F);if(P.success(" "),!L&&!y&&K.accountHolder&&K.bankName&&K.accountNumber)try{await we.post("/payments/send-toss-payment-sms",{recipientPhone:"01089423283",accountHolder:K.accountHolder,bankName:K.bankName,accountNumber:K.accountNumber,amount:H,projectName:K.project,itemName:K.itemName,process:K.process,paymentId:ee}),P.success("   ")}catch(q){console.error("SMS  :",q)}}N(F=>({project:F.project,date:Ae(new Date,"yyyy-MM-dd"),process:"",itemName:"",materialCost:"",laborCost:"",amount:"",accountHolder:"",bankName:"",accountNumber:"",images:[],quickText:"",quickImages:[]})),I(!1),M(!1),_(null),window.innerWidth<768&&de("list")}catch(H){console.error(" Payment save error:",H),P.error("  : "+H.message)}finally{fe(!1)}},Qe=c=>{var k,H,J,F;try{console.log("[handleEdit] Starting edit for payment:",c.id);const ee=c.originalMaterialAmount!==void 0?c.originalMaterialAmount:c.materialAmount||0,q=c.originalLaborAmount!==void 0?c.originalLaborAmount:c.laborAmount||0,ye={project:c.project||"",date:c.requestDate?Ae(new Date(c.requestDate),"yyyy-MM-dd"):Ae(new Date,"yyyy-MM-dd"),process:c.process||"",itemName:c.itemName||c.purpose||"",materialCost:ee>0?ee.toString():"",laborCost:q>0?q.toString():"",amount:((k=c.amount)==null?void 0:k.toString())||"",accountHolder:((H=c.bankInfo)==null?void 0:H.accountHolder)||"",bankName:((J=c.bankInfo)==null?void 0:J.bankName)||"",accountNumber:((F=c.bankInfo)==null?void 0:F.accountNumber)||"",images:c.attachments||[],quickText:c.quickText||"",quickImages:c.images||[]};console.log("[handleEdit] Setting form data:",ye),N(ye),I(c.includesVAT||!1),M(c.applyTaxDeduction||!1),u(c.id),x(c.id),ue&&de("form"),console.log("[handleEdit] Edit setup complete"),P.success("  ")}catch(ee){console.error("[handleEdit] Error:",ee),P.error("     ")}},it=async c=>{var k,H,J;try{const F=((k=c.bankInfo)==null?void 0:k.accountHolder)||c.accountHolder,ee=((H=c.bankInfo)==null?void 0:H.bankName)||c.bank,q=((J=c.bankInfo)==null?void 0:J.accountNumber)||c.accountNumber;if(!F||!ee||!q){P.error("  .    .");return}if(!window.confirm(`  ?

: 
: ${ee}
: ${q}
: ${c.amount.toLocaleString()}`))return;const v=q.replace(/[-\s]/g,""),ge={KB:"",:"",:"",:"",:"",NH:"",:"",IBK:"",:"",SC:"SC",:"",:"",:"",:"",:"",KDB:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}[ee]||ee,ze={KB:"004",:"004",:"088",:"020",:"081",NH:"011",:"011",IBK:"003",:"003",SC:"023",:"027",:"027",:"045",:"048",:"071",KDB:"002",:"002",:"007",:"031",:"032",:"039",:"034",:"037",:"035",:"090",:"089",:"092"}[ee]||"004",Je="",Ge=`supertoss://send?amount=${c.amount}&bankCode=${ze}&bank=${encodeURIComponent(ge)}&accountNo=${v}&receiverName=${encodeURIComponent(Je)}&toName=${encodeURIComponent(Je)}`;let st=!1;try{window.location.href=Ge,st=!0,P.success("  ...",{duration:3e3}),setTimeout(()=>{const Oe=/iPhone|iPad|iPod/i.test(navigator.userAgent),Ye=/Android/i.test(navigator.userAgent);(Oe||Ye)&&P(`      .

: 
: ${q}
: ${c.amount.toLocaleString()}

    .`,{icon:"",duration:8e3})},2e3)}catch(Oe){console.error("   :",Oe),P(`   .

: 
: ${ee}
: ${q}
: ${c.amount.toLocaleString()}

    .`,{icon:"",duration:1e4})}}catch(F){console.error(" :",F),P.error(`   : ${F.message}`)}},yt=async c=>{try{const k=s.find(H=>H.id===c);if(k&&k.quickText){const H=localStorage.getItem("executionMemos"),J=H?JSON.parse(H):{};J[c]=k.quickText,localStorage.setItem("executionMemos",JSON.stringify(J))}await i(c,{status:"completed"}),P.success(" "),Le(!1)}catch{P.error("  ")}},lt=async c=>{var J;if(!f){P.error("  ");return}const H=Array.from(((J=c.target)==null?void 0:J.files)||[]).filter(F=>F.type.startsWith("image/"));if(H.length!==0){try{const F=await Promise.all(H.map(v=>new Promise((ne,ge)=>{const Se=new FileReader;Se.onload=ze=>{var Ge;const Je=(Ge=ze.target)==null?void 0:Ge.result;Je?ne(Je):ge(new Error("  "))},Se.onerror=()=>ge(new Error("FileReader ")),Se.readAsDataURL(v)}))),ee=s.find(v=>v.id===f),ye=[...(ee==null?void 0:ee.images)||G[f]||[],...F];await Ns.updatePaymentImages(f,ye),T(v=>({...v,[f]:ye})),await n(),P.success(`${F.length}  `)}catch(F){console.error("  :",F),P.error("  ")}c.target.value=""}},ct=async c=>{if(f)try{const k=s.find(F=>F.id===f),J=((k==null?void 0:k.images)||G[f]||[]).filter((F,ee)=>ee!==c);await Ns.updatePaymentImages(f,J),T(F=>({...F,[f]:J})),await n()}catch(k){console.error("  :",k),P.error("  ")}},ut=c=>{O(c),re(!0)},ht=c=>{c.preventDefault(),h(!0)},Ct=c=>{c.preventDefault(),h(!1)},kt=async c=>{if(c.preventDefault(),h(!1),!f){P.error("  ");return}const H=Array.from(c.dataTransfer.files).filter(J=>J.type.startsWith("image/"));if(H.length!==0)try{const J=await Promise.all(H.map(ye=>new Promise((v,ne)=>{const ge=new FileReader;ge.onload=Se=>{var Je;const ze=(Je=Se.target)==null?void 0:Je.result;ze?v(ze):ne(new Error("  "))},ge.onerror=()=>ne(new Error("FileReader ")),ge.readAsDataURL(ye)}))),F=s.find(ye=>ye.id===f),q=[...(F==null?void 0:F.images)||G[f]||[],...J];await Ns.updatePaymentImages(f,q),T(ye=>({...ye,[f]:q})),await n(),P.success(`${J.length}  `)}catch(J){console.error("  :",J),P.error("  ")}};return e.jsxDEV("div",{className:"space-y-3 md:space-y-4",children:[e.jsxDEV("div",{className:"lg:hidden mb-4",children:e.jsxDEV("select",{value:K.project,onChange:c=>{N({...K,project:c.target.value}),c.target.value&&localStorage.setItem("lastSelectedProject",c.target.value)},className:"w-full px-3 py-2.5 md:py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 bg-white cursor-pointer hover:border-gray-400 transition-colors appearance-none bg-[url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20fill%3D%22none%22%20viewBox%3D%220%200%2020%2020%22%3E%3Cpath%20stroke%3D%22%236b7280%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%221.5%22%20d%3D%22M6%208l4%204%204-4%22%2F%3E%3C%2Fsvg%3E')] bg-[length:1.5em_1.5em] bg-[right_0.5rem_center] bg-no-repeat pr-10",children:[(o==null?void 0:o.name)!==""&&e.jsxDEV("option",{value:"",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:1976,columnNumber:35},void 0),m.filter(c=>c.status!=="completed").map(c=>e.jsxDEV("option",{value:c.name,children:c.name},c.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:1978,columnNumber:13},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:1966,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:1965,columnNumber:7},void 0),e.jsxDEV("div",{className:"lg:hidden border-b border-gray-200 mb-4",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:e.jsxDEV("nav",{className:"flex space-x-4",children:[e.jsxDEV("button",{onClick:()=>de("form"),className:`py-2 px-1 border-b-2 font-medium text-sm ${ie==="form"?"border-gray-900 text-gray-900":"border-transparent text-gray-500"}`,children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:1987,columnNumber:13},void 0),e.jsxDEV("button",{onClick:()=>de("list"),className:`py-2 px-1 border-b-2 font-medium text-sm ${ie==="list"?"border-gray-900 text-gray-900":"border-transparent text-gray-500"}`,children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:1997,columnNumber:13},void 0),e.jsxDEV("button",{onClick:()=>de("image"),className:`py-2 px-1 border-b-2 font-medium text-sm ${ie==="image"?"border-gray-900 text-gray-900":"border-transparent text-gray-500"}`,children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2007,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:1986,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:1985,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:1984,columnNumber:7},void 0),e.jsxDEV("div",{className:"payment-container grid grid-cols-1 md:grid-cols-6 ipad:grid-cols-6 ipad-lg:grid-cols-6 ipad-xl:grid-cols-12 ipad-2xl:grid-cols-12 gap-3 md:gap-4",children:[e.jsxDEV("div",{className:`payment-form md:col-span-2 ipad:col-span-2 ipad-lg:col-span-2 ipad-xl:col-span-2 ipad-2xl:col-span-2 bg-white rounded-lg border p-3 md:p-4 overflow-y-auto h-[calc(100vh-180px)] ${ie!=="form"?"hidden md:block":""}`,children:e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("div",{className:"hidden lg:block payment-project-row",children:e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV("select",{value:K.project,onChange:c=>{N({...K,project:c.target.value}),c.target.value&&localStorage.setItem("lastSelectedProject",c.target.value)},className:"flex-1 px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 bg-white cursor-pointer hover:border-gray-400 transition-colors appearance-none bg-[url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20fill%3D%22none%22%20viewBox%3D%220%200%2020%2020%22%3E%3Cpath%20stroke%3D%22%236b7280%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%221.5%22%20d%3D%22M6%208l4%204%204-4%22%2F%3E%3C%2Fsvg%3E')] bg-[length:1.5em_1.5em] bg-[right_0.5rem_center] bg-no-repeat pr-10",children:[(o==null?void 0:o.name)!==""&&e.jsxDEV("option",{value:"",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2042,columnNumber:43},void 0),m.filter(c=>c.status!=="completed").map(c=>e.jsxDEV("option",{value:c.name,children:c.name},c.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2044,columnNumber:21},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2032,columnNumber:17},void 0),e.jsxDEV("select",{value:K.bankName,onChange:c=>N({...K,bankName:c.target.value}),className:"payment-bank-select hidden px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 bg-white cursor-pointer hover:border-gray-400 transition-colors appearance-none bg-[url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20fill%3D%22none%22%20viewBox%3D%220%200%2020%2020%22%3E%3Cpath%20stroke%3D%22%236b7280%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%221.5%22%20d%3D%22M6%208l4%204%204-4%22%2F%3E%3C%2Fsvg%3E')] bg-[length:1.5em_1.5em] bg-[right_0.5rem_center] bg-no-repeat pr-8",children:[e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2052,columnNumber:19},void 0),e.jsxDEV("option",{value:"KB",children:"KB"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2053,columnNumber:19},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2054,columnNumber:19},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2055,columnNumber:19},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2056,columnNumber:19},void 0),e.jsxDEV("option",{value:"NH",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2057,columnNumber:19},void 0),e.jsxDEV("option",{value:"IBK",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2058,columnNumber:19},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2059,columnNumber:19},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2060,columnNumber:19},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2061,columnNumber:19},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2062,columnNumber:19},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2063,columnNumber:19},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2064,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2047,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2031,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2030,columnNumber:13},void 0),e.jsxDEV("div",{children:[e.jsxDEV("textarea",{value:K.quickText,onChange:c=>N({...K,quickText:c.target.value}),onPaste:c=>{var H;const k=(H=c.clipboardData)==null?void 0:H.items;if(k){for(let J=0;J<k.length;J++)if(k[J].type.indexOf("image")!==-1){c.preventDefault();const F=k[J].getAsFile();if(F){const ee=new FileReader;ee.onload=q=>{var v;const ye=(v=q.target)==null?void 0:v.result;N(ne=>({...ne,quickImages:[...ne.quickImages,ye]}))},ee.readAsDataURL(F)}break}}},onDragOver:c=>{c.preventDefault(),c.stopPropagation()},onDrop:c=>{c.preventDefault(),c.stopPropagation(),Array.from(c.dataTransfer.files).filter(J=>J.type.startsWith("image/")).forEach(J=>{const F=new FileReader;F.onload=ee=>{var ye;const q=(ye=ee.target)==null?void 0:ye.result;N(v=>({...v,quickImages:[...v.quickImages,q]}))},F.readAsDataURL(J)})},rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",placeholder:ue?"  ":"   (   Ctrl+V)"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2071,columnNumber:15},void 0),K.quickImages.length>0&&e.jsxDEV("div",{className:"mt-2 mb-2 grid grid-cols-3 gap-2",children:K.quickImages.map((c,k)=>e.jsxDEV("div",{className:"relative group",children:[e.jsxDEV("img",{src:c,alt:` ${k+1}`,className:"w-full h-20 object-cover rounded-lg border"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2126,columnNumber:23},void 0),e.jsxDEV("button",{type:"button",onClick:()=>{N(H=>({...H,quickImages:H.quickImages.filter((J,F)=>F!==k)}))},className:"absolute top-1 right-1 w-5 h-5 bg-red-500 text-white rounded-full flex items-center justify-center text-xs opacity-0 group-hover:opacity-100 transition-opacity",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2131,columnNumber:23},void 0)]},k,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2125,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2123,columnNumber:17},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 gap-2 mt-2",children:[e.jsxDEV("label",{className:"cursor-pointer",children:[e.jsxDEV("input",{type:"file",accept:"image/*",multiple:!0,className:"hidden",onChange:c=>{Array.from(c.target.files||[]).forEach(H=>{const J=new FileReader;J.onload=F=>{var q;const ee=(q=F.target)==null?void 0:q.result;N(ye=>({...ye,quickImages:[...ye.quickImages,ee]}))},J.readAsDataURL(H)}),c.target.value=""}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2150,columnNumber:19},void 0),e.jsxDEV("div",{className:"w-full h-10 flex items-center justify-center bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm font-medium border border-gray-300",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2171,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2149,columnNumber:17},void 0),e.jsxDEV("button",{type:"button",onClick:U,className:"h-10 flex items-center justify-center bg-gray-400 text-white rounded-lg hover:bg-gray-500 transition-colors text-sm font-medium",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2175,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2148,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2070,columnNumber:13},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[" ",K.date&&`(${Ae(new Date(K.date),"E",{locale:xt})})`]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2188,columnNumber:17},void 0),e.jsxDEV("input",{type:"date",value:K.date,onChange:c=>N({...K,date:c.target.value}),className:"w-full px-3 py-2 border rounded-lg bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500 cursor-pointer text-gray-900",style:{WebkitAppearance:"none",MozAppearance:"none",appearance:"none",backgroundColor:"white",backgroundImage:"none"}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2191,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2187,columnNumber:15},void 0),e.jsxDEV("div",{className:"relative",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2207,columnNumber:17},void 0),e.jsxDEV("button",{ref:Ne,type:"button",onClick:()=>he(!0),className:"w-full px-3 py-2 border rounded-lg text-left bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500",children:K.process||e.jsxDEV("span",{className:"text-gray-400",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2214,columnNumber:40},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2208,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2206,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2186,columnNumber:13},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2221,columnNumber:15},void 0),e.jsxDEV("input",{type:"text",value:K.itemName,onChange:c=>N({...K,itemName:c.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2222,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2220,columnNumber:13},void 0),e.jsxDEV("div",{className:"space-y-2 payment-amount-section",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2233,columnNumber:17},void 0),e.jsxDEV("div",{className:"relative",children:[e.jsxDEV("input",{type:"text",value:K.amount?Number(K.amount).toLocaleString():"",onChange:c=>{const k=c.target.value.replace(/[^0-9]/g,"");N({...K,amount:k})},className:"w-full px-3 py-2 pr-8 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",placeholder:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2235,columnNumber:19},void 0),e.jsxDEV("span",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2246,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2234,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2232,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex items-center gap-4",children:[e.jsxDEV("button",{type:"button",className:"flex items-center cursor-pointer",onMouseDown:c=>c.preventDefault(),onClick:()=>{L||M(!1),I(!L)},children:[e.jsxDEV("div",{className:`h-4 w-4 border rounded flex items-center justify-center ${L?"bg-gray-600 border-gray-600":"border-gray-300"}`,children:L&&e.jsxDEV("span",{className:"text-white text-xs",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2264,columnNumber:36},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2263,columnNumber:19},void 0),e.jsxDEV("span",{className:"ml-2 text-sm text-gray-700",children:"  (10%)"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2266,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2252,columnNumber:17},void 0),e.jsxDEV("button",{type:"button",className:"flex items-center cursor-pointer",onMouseDown:c=>c.preventDefault(),onClick:()=>{y||I(!1),M(!y)},children:[e.jsxDEV("div",{className:`h-4 w-4 border rounded flex items-center justify-center ${y?"bg-gray-600 border-gray-600":"border-gray-300"}`,children:y&&e.jsxDEV("span",{className:"text-white text-xs",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2282,columnNumber:45},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2281,columnNumber:19},void 0),e.jsxDEV("span",{className:"ml-2 text-sm text-gray-700",children:"3.3% "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2284,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2270,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2251,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2231,columnNumber:13},void 0),e.jsxDEV("div",{className:"payment-account-section border-t pt-3 space-y-2",children:[(A.length>0||me.length>0&&!V)&&e.jsxDEV("div",{className:"payment-suggestions-row grid grid-cols-2 gap-2",children:[e.jsxDEV("div",{className:`payment-contractor-suggestions bg-amber-50 border border-amber-200 rounded-lg p-2 ${A.length===0?"hidden":""}`,children:[e.jsxDEV("label",{className:"block text-xs font-medium text-amber-900 mb-1",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2300,columnNumber:21},void 0),e.jsxDEV("div",{className:"space-y-1 max-h-56 overflow-y-auto",children:A.map(c=>{const k=c.id||c._id,H=V===k;return e.jsxDEV("button",{type:"button",onClick:()=>ot(c),className:`w-full text-left px-2 py-1.5 rounded border transition-colors ${H?"border-gray-900 bg-gray-50":"border-gray-200 hover:border-gray-400 hover:bg-gray-50"}`,children:[e.jsxDEV("div",{className:"font-medium text-xs text-gray-900",children:Yn(c.name)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2316,columnNumber:29},void 0),e.jsxDEV("div",{className:"text-[10px] text-gray-500 truncate",children:[c.bankName||""," ",c.accountNumber||""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2319,columnNumber:29},void 0)]},k,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2306,columnNumber:27},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2301,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2297,columnNumber:19},void 0),e.jsxDEV("div",{className:`payment-history-suggestions bg-blue-50 border border-blue-200 rounded-lg p-2 ${me.length===0||V?"hidden":""}`,children:[e.jsxDEV("label",{className:"block text-xs font-medium text-blue-900 mb-1",children:"  "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2332,columnNumber:21},void 0),e.jsxDEV("div",{className:"space-y-1 max-h-56 overflow-y-auto",children:me.map((c,k)=>e.jsxDEV("button",{type:"button",onClick:()=>{N(H=>({...H,accountHolder:c.accountHolder,bankName:c.bankName,accountNumber:c.accountNumber})),xe([])},className:"w-full text-left px-2 py-1.5 rounded border border-blue-200 bg-white hover:border-blue-400 hover:bg-blue-50 transition-colors",children:[e.jsxDEV("div",{className:"font-medium text-xs text-gray-900",children:c.accountHolder},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2349,columnNumber:27},void 0),e.jsxDEV("div",{className:"text-[10px] text-gray-500 truncate",children:[c.bankName," ",c.accountNumber]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2352,columnNumber:27},void 0)]},k,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2335,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2333,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2329,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2295,columnNumber:17},void 0),e.jsxDEV("div",{className:"relative",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2364,columnNumber:17},void 0),e.jsxDEV("input",{type:"text",value:K.accountHolder,onChange:c=>N({...K,accountHolder:c.target.value}),onFocus:()=>$(!0),onBlur:()=>setTimeout(()=>$(!1),150),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",placeholder:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2365,columnNumber:17},void 0),B&&Me.length>0&&e.jsxDEV("div",{className:"absolute z-20 w-full mt-1 bg-white border rounded-lg shadow-lg max-h-48 overflow-y-auto",children:Me.map((c,k)=>e.jsxDEV("button",{type:"button",className:"w-full px-3 py-2 text-left hover:bg-gray-100 border-b last:border-b-0 flex justify-between items-center",onMouseDown:H=>H.preventDefault(),onClick:()=>{N({...K,accountHolder:c.name,bankName:c.bankName||K.bankName,accountNumber:c.accountNumber||K.accountNumber}),$(!1)},children:[e.jsxDEV("span",{className:"font-medium",children:c.name},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2393,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-xs text-gray-500",children:c.source==="contractor"?"":""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2394,columnNumber:25},void 0)]},`${c.name}-${k}`,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2378,columnNumber:23},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2376,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2363,columnNumber:15},void 0),e.jsxDEV("div",{className:"payment-bank-field",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2405,columnNumber:17},void 0),e.jsxDEV("select",{value:K.bankName,onChange:c=>N({...K,bankName:c.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",children:[e.jsxDEV("option",{value:"",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2411,columnNumber:19},void 0),e.jsxDEV("option",{value:"KB",children:"KB"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2412,columnNumber:19},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2413,columnNumber:19},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2414,columnNumber:19},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2415,columnNumber:19},void 0),e.jsxDEV("option",{value:"NH",children:"NH"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2416,columnNumber:19},void 0),e.jsxDEV("option",{value:"IBK",children:"IBK"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2417,columnNumber:19},void 0),e.jsxDEV("option",{value:"SC",children:"SC"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2418,columnNumber:19},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2419,columnNumber:19},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2420,columnNumber:19},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2421,columnNumber:19},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2422,columnNumber:19},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2423,columnNumber:19},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2424,columnNumber:19},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2425,columnNumber:19},void 0),e.jsxDEV("option",{value:"KDB",children:"KDB"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2426,columnNumber:19},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2427,columnNumber:19},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2428,columnNumber:19},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2429,columnNumber:19},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2430,columnNumber:19},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2431,columnNumber:19},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2432,columnNumber:19},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2433,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2406,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2404,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2438,columnNumber:17},void 0),e.jsxDEV("input",{type:"text",value:K.accountNumber,onChange:c=>N({...K,accountNumber:c.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",placeholder:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2439,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2437,columnNumber:15},void 0),e.jsxDEV("div",{className:"pt-2 border-t",children:e.jsxDEV("div",{className:"flex justify-between items-baseline",children:[e.jsxDEV("span",{className:"font-medium",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2450,columnNumber:19},void 0),e.jsxDEV("div",{className:"text-right",children:[(L||y)&&e.jsxDEV("span",{className:"text-xs text-gray-500 mr-2",children:["(",L&&" ",y&&"3.3% ",")"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2453,columnNumber:23},void 0),e.jsxDEV("span",{className:"font-semibold",children:[(()=>{const c=Number(K.amount)||0;let k=c;return y&&(k=Math.round(c*.967)),k.toLocaleString()})(),""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2457,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2451,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2449,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2448,columnNumber:15},void 0),e.jsxDEV("div",{className:"mt-6 lg:my-[50px]",children:[b&&e.jsxDEV("button",{onClick:()=>{x(null),N(c=>({project:c.project,date:Ae(new Date,"yyyy-MM-dd"),process:"",itemName:"",materialCost:"",laborCost:"",amount:"",accountHolder:"",bankName:"",accountNumber:"",images:[],quickText:"",quickImages:[]})),I(!1),M(!1),_(null),P.info(" ")},className:"w-full py-2 mb-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 touch-manipulation",style:{minHeight:"48px"},children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2476,columnNumber:19},void 0),e.jsxDEV("button",{onClick:c=>{console.log(" Payment button clicked!",c),console.log(" Button element:",c.currentTarget),console.log(" Form data:",K),et()},disabled:R,className:`w-full py-3 rounded-lg touch-manipulation font-medium text-base ${R?"bg-gray-400 text-gray-200 cursor-not-allowed":"bg-gray-900 text-white hover:bg-gray-800 active:bg-gray-950"}`,style:{minHeight:"48px",WebkitTapHighlightColor:"transparent"},children:R?"...":b?"":""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2505,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2474,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2292,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2028,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2025,columnNumber:9},void 0),e.jsxDEV("div",{className:`payment-list md:col-span-4 ipad:col-span-4 ipad-lg:col-span-4 ipad-xl:col-span-4 ipad-2xl:col-span-4 bg-white rounded-lg border overflow-hidden flex flex-col h-[calc(100vh-180px)] ${ie!=="list"?"hidden md:flex":""}`,children:[e.jsxDEV("div",{className:"bg-gray-50 px-4 pt-3 pb-0 flex-shrink-0",children:e.jsxDEV("div",{className:"flex items-center justify-between gap-4",children:e.jsxDEV("nav",{className:"flex gap-2 overflow-x-auto flex-1",children:[e.jsxDEV("button",{onClick:()=>je("pending"),className:`px-4 py-2.5 rounded-t-lg font-medium text-sm transition-all whitespace-nowrap flex items-center gap-2 ${Ve==="pending"?"bg-white text-gray-900 shadow-sm border-b-2 border-gray-900":"text-gray-500 hover:text-gray-700 hover:bg-gray-100"}`,children:["",e.jsxDEV("span",{className:`px-2 py-0.5 rounded-full text-xs font-semibold ${Ve==="pending"?"bg-gray-900 text-white":"bg-gray-300 text-gray-600"}`,children:Ie.filter(c=>c.status==="pending").length},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2544,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2535,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>je("completed"),className:`px-4 py-2.5 rounded-t-lg font-medium text-sm transition-all whitespace-nowrap flex items-center gap-2 ${Ve==="completed"?"bg-white text-gray-900 shadow-sm border-b-2 border-gray-900":"text-gray-500 hover:text-gray-700 hover:bg-gray-100"}`,children:["",e.jsxDEV("span",{className:`px-2 py-0.5 rounded-full text-xs font-semibold ${Ve==="completed"?"bg-gray-900 text-white":"bg-gray-300 text-gray-600"}`,children:Ie.filter(c=>c.status==="completed").length},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2559,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2550,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2534,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2533,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2532,columnNumber:11},void 0),e.jsxDEV("div",{className:"border-b border-gray-200"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2568,columnNumber:11},void 0),e.jsxDEV("div",{className:"flex-1 overflow-auto p-4",children:$e.length>0?e.jsxDEV("div",{className:"space-y-4",children:Ve==="completed"?(()=>{const c=$e.reduce((k,H)=>{const J=H.project||"";return k[J]||(k[J]=[]),k[J].push(H),k},{});return Object.entries(c).map(([k,H])=>{const J=H.reduce((F,ee)=>F+(ee.amount||0),0);return e.jsxDEV("div",{className:"border rounded-lg overflow-hidden",children:[e.jsxDEV("div",{className:"bg-gray-50 px-3 py-2 border-b flex items-center justify-between",children:e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"font-semibold text-gray-900 text-sm",children:k},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2594,columnNumber:31},void 0),e.jsxDEV("p",{className:"text-xs text-gray-500",children:[" ",H.length,"  ",J.toLocaleString(),""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2595,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2593,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2592,columnNumber:27},void 0),e.jsxDEV("div",{className:"p-2 space-y-2",children:H.map(F=>{var ge,Se,ze;const ee=F.amount||0,q=((ge=F.bankInfo)==null?void 0:ge.accountHolder)||F.accountHolder||"",ye=((Se=F.bankInfo)==null?void 0:Se.bankName)||F.bank||"",v=((ze=F.bankInfo)==null?void 0:ze.accountNumber)||F.accountNumber||"",ne=q&&ye&&v?`${q} | ${ye} ${v}`:" ";return e.jsxDEV("div",{onClick:()=>u(F.id),className:`border rounded-lg p-3 cursor-pointer transition-colors ${f===F.id?"border-gray-900 bg-gray-50":"border-gray-200 bg-white hover:border-gray-400"}`,children:[e.jsxDEV("div",{className:"flex justify-between items-start mb-2.5",children:[e.jsxDEV("div",{className:"flex-1 min-w-0",children:e.jsxDEV("div",{className:"flex items-baseline gap-2",children:[F.process&&e.jsxDEV("span",{className:"text-xs text-gray-500 shrink-0",children:["[",F.process,"]"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2625,columnNumber:43},void 0),e.jsxDEV("h3",{className:"font-semibold text-gray-900 text-sm truncate",children:F.purpose||F.itemName||"-"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2627,columnNumber:41},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2623,columnNumber:39},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2622,columnNumber:37},void 0),e.jsxDEV("div",{className:"text-right ml-3 shrink-0",children:[e.jsxDEV("p",{className:"text-base font-bold text-gray-900",children:[ee.toLocaleString(),""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2633,columnNumber:39},void 0),e.jsxDEV("p",{className:"text-[10px] text-gray-400",children:[F.requestedBy||"-","  ",Ae(new Date(F.requestDate),"MM/dd",{locale:xt})]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2636,columnNumber:39},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2632,columnNumber:37},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2621,columnNumber:35},void 0),e.jsxDEV("div",{className:"flex items-center gap-2 mb-2.5 text-xs",children:[e.jsxDEV("span",{className:"text-gray-400",children:[" ",(F.materialAmount||0).toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2643,columnNumber:37},void 0),e.jsxDEV("span",{className:"text-gray-300",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2644,columnNumber:37},void 0),e.jsxDEV("span",{className:"text-gray-400",children:[" ",(F.laborAmount||0).toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2645,columnNumber:37},void 0),F.includesVAT&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV("span",{className:"text-gray-300",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2648,columnNumber:41},void 0),e.jsxDEV("span",{className:"px-1.5 py-0.5 bg-blue-50 text-blue-700 text-[10px] rounded",children:"VAT"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2649,columnNumber:41},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2647,columnNumber:39},void 0),F.applyTaxDeduction&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV("span",{className:"text-gray-300",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2654,columnNumber:41},void 0),e.jsxDEV("span",{className:"px-1.5 py-0.5 bg-purple-50 text-purple-700 text-[10px] rounded",children:"3.3%"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2655,columnNumber:41},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2653,columnNumber:39},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2642,columnNumber:35},void 0),e.jsxDEV("div",{className:"flex items-center justify-between mb-2",children:[e.jsxDEV("div",{className:"text-xs text-gray-500 truncate flex-1",children:ne},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2661,columnNumber:37},void 0),e.jsxDEV("div",{className:"flex items-center gap-1 ml-2 flex-shrink-0",children:[e.jsxDEV("button",{onClick:Je=>{Je.stopPropagation(),Qe(F)},className:"p-1 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded transition-colors",title:"",children:e.jsxDEV(mn,{className:"h-3.5 w-3.5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2673,columnNumber:41},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2665,columnNumber:39},void 0),e.jsxDEV("button",{onClick:async Je=>{Je.stopPropagation(),window.confirm("  ?")&&(await r(F.id),P.success(""))},className:"p-1 text-red-400 hover:text-red-600 hover:bg-red-50 rounded transition-colors",title:"",children:e.jsxDEV(Dt,{className:"h-3.5 w-3.5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2686,columnNumber:41},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2675,columnNumber:39},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2664,columnNumber:37},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2660,columnNumber:35},void 0)]},F.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2611,columnNumber:33},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2600,columnNumber:27},void 0)]},k,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2590,columnNumber:25},void 0)})})():$e.map(c=>{var q,ye,v;const k=c.amount||0,H=((q=c.bankInfo)==null?void 0:q.accountHolder)||c.accountHolder||"",J=((ye=c.bankInfo)==null?void 0:ye.bankName)||c.bank||"",F=((v=c.bankInfo)==null?void 0:v.accountNumber)||c.accountNumber||"",ee=H&&J&&F?`${H} | ${J} ${F}`:" ";return e.jsxDEV("div",{onClick:()=>u(c.id),className:`border rounded-lg p-3 cursor-pointer transition-colors ${f===c.id?"border-gray-900 bg-gray-50":"border-gray-200 bg-white hover:border-gray-400"}`,children:[e.jsxDEV("div",{className:"flex justify-between items-start mb-2.5",children:[e.jsxDEV("div",{className:"flex-1 min-w-0",children:[e.jsxDEV("div",{className:"flex items-baseline gap-2",children:[c.process&&e.jsxDEV("span",{className:"text-xs text-gray-500 shrink-0",children:["[",c.process,"]"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2725,columnNumber:31},void 0),e.jsxDEV("h3",{className:"font-semibold text-gray-900 text-sm truncate",children:c.purpose||c.itemName||"-"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2727,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2723,columnNumber:27},void 0),e.jsxDEV("p",{className:"text-xs text-gray-500 mt-0.5",children:c.project||"-"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2731,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2722,columnNumber:25},void 0),e.jsxDEV("div",{className:"text-right ml-3 shrink-0",children:[e.jsxDEV("p",{className:"text-base font-bold text-gray-900",children:[k.toLocaleString(),""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2734,columnNumber:27},void 0),e.jsxDEV("p",{className:"text-[10px] text-gray-400",children:[c.requestedBy||"-","  ",Ae(new Date(c.requestDate),"MM/dd",{locale:xt})]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2737,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2733,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2721,columnNumber:23},void 0),e.jsxDEV("div",{className:"flex items-center gap-2 mb-2.5 text-xs",children:[e.jsxDEV("span",{className:"text-gray-400",children:[" ",(c.materialAmount||0).toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2745,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-gray-300",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2746,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-gray-400",children:[" ",(c.laborAmount||0).toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2747,columnNumber:25},void 0),c.includesVAT&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV("span",{className:"text-gray-300",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2750,columnNumber:29},void 0),e.jsxDEV("span",{className:"px-1.5 py-0.5 bg-blue-50 text-blue-700 text-[10px] rounded",children:"VAT"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2751,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2749,columnNumber:27},void 0),c.applyTaxDeduction&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV("span",{className:"text-gray-300",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2756,columnNumber:29},void 0),e.jsxDEV("span",{className:"px-1.5 py-0.5 bg-purple-50 text-purple-700 text-[10px] rounded",children:"3.3%"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2757,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2755,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2744,columnNumber:23},void 0),e.jsxDEV("div",{className:"flex items-center justify-between mb-2.5",children:[e.jsxDEV("div",{className:"text-xs text-gray-500 truncate flex-1",children:ee},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2764,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex items-center gap-1 ml-2 flex-shrink-0",children:[e.jsxDEV("button",{onClick:ne=>{ne.stopPropagation(),Qe(c)},className:"p-1 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded transition-colors",title:"",children:e.jsxDEV(mn,{className:"h-3.5 w-3.5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2776,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2768,columnNumber:27},void 0),e.jsxDEV("button",{onClick:async ne=>{ne.stopPropagation(),window.confirm("  ?")&&(await r(c.id),P.success(""))},className:"p-1 text-red-400 hover:text-red-600 hover:bg-red-50 rounded transition-colors",title:"",children:e.jsxDEV(Dt,{className:"h-3.5 w-3.5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2789,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2778,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2767,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2763,columnNumber:23},void 0),Ve==="pending"&&(o==null?void 0:o.role)&&["manager","admin"].includes(o.role)&&e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("button",{onClick:ne=>{if(ne.stopPropagation(),c.status==="completed"){P.info("   ");return}it(c)},disabled:c.status==="completed",className:`flex-1 py-1.5 px-2 rounded text-xs font-medium transition-colors ${c.status==="completed"?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-gray-700 text-white hover:bg-gray-800"}`,children:c.status==="completed"?"":""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2798,columnNumber:27},void 0),e.jsxDEV("button",{onClick:ne=>{ne.stopPropagation(),yt(c.id)},disabled:c.status==="completed",className:`flex-1 py-1.5 px-2 text-white rounded text-xs font-medium transition-colors ${c.status==="completed"?"opacity-50 cursor-not-allowed":""}`,style:{backgroundColor:c.status==="completed"?"#9ca3af":"#5f81a5"},onMouseEnter:ne=>{c.status!=="completed"&&(ne.currentTarget.style.backgroundColor="#4a6b8a")},onMouseLeave:ne=>{c.status!=="completed"&&(ne.currentTarget.style.backgroundColor="#5f81a5")},children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2816,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2797,columnNumber:25},void 0)]},c.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2711,columnNumber:21},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2572,columnNumber:15},void 0):e.jsxDEV("div",{className:"flex items-center justify-center h-full text-gray-500",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2847,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2570,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2528,columnNumber:9},void 0),e.jsxDEV("div",{className:`payment-images md:col-span-6 ipad:col-span-6 ipad-lg:col-span-6 ipad-xl:col-span-6 ipad-2xl:col-span-6 bg-white rounded-lg border flex flex-col overflow-hidden h-[calc(100vh-180px)] ${ie!=="image"?"hidden lg:flex":""}`,onDragOver:ht,onDragLeave:Ct,onDrop:kt,children:[e.jsxDEV("input",{type:"file",multiple:!0,accept:"image/*",onChange:lt,className:"hidden",id:"image-file-input"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2863,columnNumber:11},void 0),ue&&f&&ie==="image"&&(()=>{const c=Ie.find(k=>k.id===f);return c?e.jsxDEV("div",{className:"border-b bg-gray-50 p-3",children:e.jsxDEV("div",{className:"flex justify-between items-start",children:[e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("p",{className:"font-medium text-gray-900 text-sm",children:c.purpose||c.itemName},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2880,columnNumber:23},void 0),e.jsxDEV("p",{className:"text-xs text-gray-500 mt-0.5",children:[c.process||"-","  ",Ae(new Date(c.requestDate),"yyyy.MM.dd",{locale:xt})]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2881,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2879,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-sm font-bold text-gray-900",children:["",(c.amount||0).toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2885,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2878,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2877,columnNumber:17},void 0):null})(),e.jsxDEV("div",{className:"flex-1 overflow-y-auto p-4 relative",onClick:c=>{var H;const k=c.target;if(!k.closest("img")&&!k.closest("button")&&f){const J=Ie.find(ye=>ye.id===f),F=(J==null?void 0:J.images)||[],ee=G[f]||[];(F.length>0?F:ee).length>0&&((H=document.getElementById("image-file-input"))==null||H.click())}},children:f?(()=>{const c=Ie.find(F=>F.id===f),k=(c==null?void 0:c.images)||[],H=G[f]||[],J=k.length>0?k:H;return e.jsxDEV("div",{className:"h-full flex flex-col",children:[e.jsxDEV("div",{className:"mb-3",children:[e.jsxDEV("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2921,columnNumber:21},void 0),e.jsxDEV("textarea",{value:(c==null?void 0:c.quickText)||(c==null?void 0:c.notes)||"",readOnly:!0,placeholder:" ",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm bg-gray-50 resize-none",rows:8},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2922,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2920,columnNumber:19},void 0),J.length>0&&e.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2 mb-3",children:J.map((F,ee)=>e.jsxDEV("div",{className:"relative group",children:[e.jsxDEV("img",{src:F,alt:` ${ee+1}`,className:"w-full aspect-square object-contain rounded-lg cursor-pointer hover:opacity-90 transition-opacity border bg-gray-100",onClick:q=>{q.stopPropagation(),ut(F)}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2936,columnNumber:27},void 0),e.jsxDEV("button",{onClick:q=>{q.stopPropagation(),ct(ee)},className:"absolute top-1 right-1 p-1 bg-red-500 text-white rounded-full opacity-100 md:opacity-0 md:group-hover:opacity-100 transition-opacity",children:e.jsxDEV(dt,{className:"h-3 w-3"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2952,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2945,columnNumber:27},void 0),e.jsxDEV("div",{className:"absolute bottom-1 left-1 bg-black bg-opacity-50 text-white text-xs px-1.5 py-0.5 rounded",children:[ee+1,"/",J.length]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2954,columnNumber:27},void 0)]},ee,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2935,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2933,columnNumber:21},void 0),e.jsxDEV("label",{htmlFor:"image-file-input",className:`block cursor-pointer ${J.length>0?"":"flex-1"}`,onClick:F=>F.stopPropagation(),children:e.jsxDEV("div",{className:`w-full border-2 border-dashed rounded-lg p-4 text-center transition-colors flex flex-col items-center justify-center ${j?"border-gray-500 bg-gray-50":"border-gray-300 hover:border-gray-400"} ${J.length>0?"min-h-[80px]":"min-h-[200px]"}`,children:[e.jsxDEV(js,{className:`mx-auto text-gray-400 mb-1 ${J.length>0?"h-6 w-6":"h-10 w-10 mb-2"}`},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2973,columnNumber:23},void 0),e.jsxDEV("p",{className:"text-sm font-medium text-gray-700",children:J.length>0?" ":" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2974,columnNumber:23},void 0),J.length===0&&e.jsxDEV("p",{className:"text-xs text-gray-500 mt-1",children:"   Ctrl+V "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2978,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2968,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2963,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2918,columnNumber:17},void 0)})():e.jsxDEV("div",{className:"h-full flex items-center justify-center min-h-[200px]",children:e.jsxDEV("div",{className:"text-center text-gray-400",children:[e.jsxDEV(Es,{className:"h-12 w-12 mx-auto mb-2"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2987,columnNumber:19},void 0),e.jsxDEV("p",{className:"text-sm",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2988,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2986,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2985,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2895,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2855,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2022,columnNumber:7},void 0),Q&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"lg:hidden fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:e.jsxDEV("div",{className:"bg-white rounded-lg w-full max-w-md mx-4 max-h-[80vh] overflow-hidden",children:[e.jsxDEV("div",{className:"flex items-center justify-between p-3 border-b",children:[e.jsxDEV("h2",{className:"text-base font-bold text-gray-900",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:3003,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>he(!1),className:"p-1 hover:bg-gray-100 rounded-full",children:e.jsxDEV(dt,{className:"h-4 w-4 text-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:3008,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:3004,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:3002,columnNumber:15},void 0),e.jsxDEV("div",{className:"p-3 overflow-y-auto max-h-[calc(80vh-100px)]",children:[e.jsxDEV("div",{className:"grid grid-cols-2 gap-2 mb-2",children:Mi.map(c=>e.jsxDEV("button",{onClick:()=>{N({...K,process:c}),he(!1)},className:`p-2 text-sm text-center border rounded-lg transition-all ${K.process===c?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:border-gray-400 hover:bg-gray-50"}`,children:c},c,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:3015,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:3013,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>{N({...K,process:""}),he(!1)},className:"w-full p-2 text-sm text-center border-2 border-dashed border-gray-300 rounded-lg hover:border-gray-400 hover:bg-gray-50 text-gray-500",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:3032,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:3012,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:3001,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:3e3,columnNumber:11},void 0),e.jsxDEV("div",{className:"hidden lg:block fixed inset-0 z-40",onClick:()=>he(!1),children:e.jsxDEV("div",{onClick:c=>c.stopPropagation(),className:"absolute bg-white rounded-lg shadow-xl border border-gray-200",style:{top:Ne.current?`${Ne.current.getBoundingClientRect().bottom+window.scrollY+4}px`:"50%",left:Ne.current?`${Ne.current.getBoundingClientRect().left+window.scrollX}px`:"50%"},children:[e.jsxDEV("div",{className:"flex items-center justify-between p-2 border-b",children:[e.jsxDEV("h2",{className:"text-sm font-bold text-gray-900",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:3056,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>he(!1),className:"p-1 hover:bg-gray-100 rounded-full",children:e.jsxDEV(dt,{className:"h-3 w-3 text-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:3061,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:3057,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:3055,columnNumber:15},void 0),e.jsxDEV("div",{className:"p-2",children:[e.jsxDEV("div",{className:"grid grid-cols-4 gap-1.5 mb-2",children:Mi.map(c=>e.jsxDEV("button",{onClick:()=>{N({...K,process:c}),he(!1)},className:`p-1.5 text-xs text-center border rounded-lg transition-all whitespace-nowrap ${K.process===c?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:border-gray-400 hover:bg-gray-50"}`,children:c},c,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:3068,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:3066,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>{N({...K,process:""}),he(!1)},className:"w-full p-1.5 text-xs text-center border-2 border-dashed border-gray-300 rounded-lg hover:border-gray-400 hover:bg-gray-50 text-gray-500",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:3085,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:3065,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:3047,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:3046,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2998,columnNumber:9},void 0),se&&e.jsxDEV("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-90",onClick:()=>re(!1),children:e.jsxDEV("div",{className:"relative max-w-[90vw] max-h-[90vh]",children:[e.jsxDEV("button",{onClick:c=>{c.stopPropagation(),re(!1)},className:"absolute -top-10 right-0 text-white hover:text-gray-300 transition-colors",children:e.jsxDEV(dt,{className:"h-8 w-8"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:3114,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:3107,columnNumber:13},void 0),e.jsxDEV("img",{src:w,alt:" ",className:"max-w-full max-h-[90vh] object-contain",onClick:c=>c.stopPropagation()},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:3116,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:3106,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:3102,columnNumber:9},void 0),Re&&e.jsxDEV(X0,{projectName:Te,onClose:()=>We(!1)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:3128,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:1963,columnNumber:5},void 0)},Q0=()=>{const[s,n]=l.useState([]),[t,r]=l.useState(null),[i,a]=l.useState(!0);l.useEffect(()=>{o()},[]);const o=async()=>{try{a(!0);const u=await we.get("/quote-inquiries");n(u.data)}catch(u){console.error("Failed to load inquiries:",u),P.error("  ")}finally{a(!1)}},m=async u=>{try{await we.put(`/quote-inquiries/${u}/read`),n(b=>b.map(x=>x.id===u?{...x,isRead:!0}:x)),window.dispatchEvent(new CustomEvent("quoteInquiryRead"))}catch(b){console.error("Failed to mark as read:",b)}},d=u=>{r(u),u.isRead||m(u.id)},p=async(u,b)=>{if(b.stopPropagation(),!!confirm("  ?"))try{await we.delete(`/quote-inquiries/${u}`),n(x=>x.filter(j=>j.id!==u)),(t==null?void 0:t.id)===u&&r(null),P.success(" ")}catch(x){console.error("Failed to delete inquiry:",x),P.error("  ")}},f=s.filter(u=>!u.isRead).length;return i?e.jsxDEV("div",{className:"flex items-center justify-center h-full",children:e.jsxDEV("div",{className:"text-gray-500",children:" ..."},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:90,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:89,columnNumber:7},void 0):e.jsxDEV("div",{className:"h-full flex flex-col md:flex-row gap-4 p-4",children:[e.jsxDEV("div",{className:`w-full md:w-1/3 bg-white rounded-lg shadow overflow-hidden flex flex-col ${t?"hidden md:flex":"flex"}`,children:[e.jsxDEV("div",{className:"p-4 border-b bg-gray-50",children:e.jsxDEV("h2",{className:"text-lg font-semibold text-gray-900",children:[" ",f>0&&e.jsxDEV("span",{className:"ml-2 px-2 py-1 text-xs bg-red-500 text-white rounded-full",children:f},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:103,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:100,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:99,columnNumber:9},void 0),e.jsxDEV("div",{className:"flex-1 overflow-y-auto",children:s.length===0?e.jsxDEV("div",{className:"p-4 text-center text-gray-500",children:"  "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:112,columnNumber:13},void 0):e.jsxDEV("div",{className:"divide-y",children:s.map(u=>e.jsxDEV("div",{className:`relative group ${(t==null?void 0:t.id)===u.id?"bg-blue-50 border-l-4 border-blue-500":""} ${u.isRead?"":"bg-yellow-50"}`,children:e.jsxDEV("button",{onClick:()=>d(u),className:"w-full p-4 text-left hover:bg-gray-50 transition-colors",children:[e.jsxDEV("div",{className:"flex justify-between items-start mb-2",children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("span",{className:"font-medium text-gray-900",children:u.name},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:130,columnNumber:25},void 0),!u.isRead&&e.jsxDEV("span",{className:"w-2 h-2 bg-red-500 rounded-full"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:132,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:129,columnNumber:23},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("span",{className:"text-xs text-gray-500",children:Ae(new Date(u.createdAt),"MM/dd HH:mm")},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:136,columnNumber:25},void 0),e.jsxDEV("button",{onClick:b=>p(u.id,b),className:"p-1 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded transition-colors",title:"",children:e.jsxDEV(Dt,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:144,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:139,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:135,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:128,columnNumber:21},void 0),e.jsxDEV("div",{className:"text-sm text-gray-600 flex items-center gap-1 mb-1",children:[e.jsxDEV(lo,{className:"w-3 h-3"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:150,columnNumber:23},void 0),u.phone]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:149,columnNumber:21},void 0),e.jsxDEV("div",{className:"text-sm text-gray-500 line-clamp-2",children:u.message},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:154,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:124,columnNumber:19},void 0)},u.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:118,columnNumber:17},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:116,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:110,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:98,columnNumber:7},void 0),e.jsxDEV("div",{className:`flex-1 bg-white rounded-lg shadow overflow-hidden ${t?"flex flex-col":"hidden md:flex md:flex-col"}`,children:t?e.jsxDEV("div",{className:"h-full flex flex-col",children:[e.jsxDEV("div",{className:"p-6 border-b bg-gray-50",children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-2",children:[e.jsxDEV("h3",{className:"text-xl font-semibold text-gray-900",children:t.name},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:171,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>r(null),className:"md:hidden px-3 py-1 text-sm bg-gray-200 hover:bg-gray-300 text-gray-700 rounded transition-colors",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:175,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:170,columnNumber:15},void 0),e.jsxDEV("div",{className:"text-sm text-gray-500",children:Ae(new Date(t.createdAt),"yyyy MM dd HH:mm")},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:182,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:169,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV("h4",{className:"font-medium text-gray-900 flex items-center gap-2",children:[e.jsxDEV(Bc,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:191,columnNumber:19},void 0)," "]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:190,columnNumber:17},void 0),e.jsxDEV("div",{className:"pl-6 space-y-2",children:[e.jsxDEV("div",{className:"flex items-center gap-2 text-gray-700",children:[e.jsxDEV(lo,{className:"w-4 h-4 text-gray-400"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:196,columnNumber:21},void 0),e.jsxDEV("span",{children:t.phone},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:197,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:195,columnNumber:19},void 0),e.jsxDEV("div",{className:"flex items-center gap-2 text-gray-700",children:[e.jsxDEV(Uc,{className:"w-4 h-4 text-gray-400"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:200,columnNumber:21},void 0),e.jsxDEV("span",{children:t.email},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:201,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:199,columnNumber:19},void 0),t.address&&e.jsxDEV("div",{className:"flex items-center gap-2 text-gray-700",children:[e.jsxDEV(Sc,{className:"w-4 h-4 text-gray-400"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:205,columnNumber:23},void 0),e.jsxDEV("span",{children:t.address},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:206,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:204,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:194,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:189,columnNumber:15},void 0),(t.projectType||t.budget)&&e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV("h4",{className:"font-medium text-gray-900 flex items-center gap-2",children:[e.jsxDEV(Pc,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:216,columnNumber:21},void 0)," "]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:215,columnNumber:19},void 0),e.jsxDEV("div",{className:"pl-6 space-y-2",children:[t.projectType&&e.jsxDEV("div",{className:"text-gray-700",children:[e.jsxDEV("span",{className:"text-gray-500",children:" : "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:222,columnNumber:25},void 0),t.projectType]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:221,columnNumber:23},void 0),t.budget&&e.jsxDEV("div",{className:"text-gray-700",children:[e.jsxDEV("span",{className:"text-gray-500",children:": "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:228,columnNumber:25},void 0),t.budget]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:227,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:219,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:214,columnNumber:17},void 0),e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV("h4",{className:"font-medium text-gray-900",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:238,columnNumber:17},void 0),e.jsxDEV("div",{className:"pl-6 text-gray-700 whitespace-pre-wrap bg-gray-50 p-4 rounded-lg",children:t.message},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:239,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:237,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:187,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:168,columnNumber:11},void 0):e.jsxDEV("div",{className:"h-full flex items-center justify-center text-gray-500",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:246,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:166,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:96,columnNumber:5},void 0)},G0=()=>{const{login:s}=Qt(),[n,t]=l.useState(!1),{register:r,handleSubmit:i,setValue:a,formState:{errors:o}}=or(),m=async p=>{t(!0);try{await s(p.username,p.password)}finally{t(!1)}},d=p=>{a("username",p)};return e.jsxDEV("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:e.jsxDEV("div",{className:"max-w-md w-full",children:e.jsxDEV("div",{className:"bg-white border border-gray-200 rounded-lg p-8",children:[e.jsxDEV("div",{className:"text-center mb-8",children:[e.jsxDEV("h2",{className:"text-3xl font-bold text-gray-900",children:"HV LAB"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Login.tsx",lineNumber:39,columnNumber:13},void 0),e.jsxDEV("p",{className:"mt-2 text-sm text-gray-600",children:"   "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Login.tsx",lineNumber:40,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Login.tsx",lineNumber:38,columnNumber:11},void 0),e.jsxDEV("form",{onSubmit:i(m),className:"space-y-6",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-2",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Login.tsx",lineNumber:47,columnNumber:15},void 0),e.jsxDEV("input",{...r("username",{required:" "}),type:"text",className:"input",placeholder:" ",autoFocus:!0},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Login.tsx",lineNumber:50,columnNumber:15},void 0),o.username&&e.jsxDEV("p",{className:"mt-1 text-sm text-red-600",children:o.username.message},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Login.tsx",lineNumber:60,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Login.tsx",lineNumber:46,columnNumber:13},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Login.tsx",lineNumber:65,columnNumber:15},void 0),e.jsxDEV("input",{...r("password",{required:" "}),type:"password",className:"input",placeholder:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Login.tsx",lineNumber:68,columnNumber:15},void 0),o.password&&e.jsxDEV("p",{className:"mt-1 text-sm text-red-600",children:o.password.message},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Login.tsx",lineNumber:77,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Login.tsx",lineNumber:64,columnNumber:13},void 0),e.jsxDEV("button",{type:"submit",disabled:n,className:"w-full btn btn-primary flex items-center justify-center",children:n?e.jsxDEV("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Login.tsx",lineNumber:87,columnNumber:17},void 0):e.jsxDEV(e.Fragment,{children:[e.jsxDEV(Rc,{className:"mr-2 h-5 w-5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Login.tsx",lineNumber:90,columnNumber:19},void 0),""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Login.tsx",lineNumber:89,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Login.tsx",lineNumber:81,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Login.tsx",lineNumber:45,columnNumber:11},void 0),e.jsxDEV("div",{className:"mt-6 border-t pt-6",children:[e.jsxDEV("p",{className:"text-sm text-gray-600 text-center mb-4",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Login.tsx",lineNumber:98,columnNumber:13},void 0),e.jsxDEV("div",{className:"grid grid-cols-3 gap-2",children:["","","","","","",""].map(p=>e.jsxDEV("button",{onClick:()=>d(p),className:"px-3 py-2 text-sm bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",type:"button",children:p},p,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Login.tsx",lineNumber:101,columnNumber:17},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Login.tsx",lineNumber:99,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Login.tsx",lineNumber:97,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Login.tsx",lineNumber:37,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Login.tsx",lineNumber:36,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Login.tsx",lineNumber:35,columnNumber:5},void 0)},Z0=s=>{try{const n=window.AudioContext||window.webkitAudioContext,t=new n,r=s==="emergency"?5:3;let i=0;const a=()=>{if(i>=r)return;const o=t.createOscillator(),m=t.createGain();o.connect(m),m.connect(t.destination),o.frequency.value=s==="emergency"?1e3:800,o.type="sine",m.gain.setValueAtTime(.3,t.currentTime),m.gain.exponentialRampToValueAtTime(.01,t.currentTime+.5),o.start(t.currentTime),o.stop(t.currentTime+.5),i++,i<r&&setTimeout(a,700)};a()}catch(n){console.error("  :",n)}},ey=s=>{if("vibrate"in navigator){const n=s==="emergency"?[200,200,200,200,200,200,200,200,200,200]:[200,200,200,200,200,200];navigator.vibrate(n)}},ty=(s,n)=>{Z0(s),ey(s),"Notification"in window&&Notification.permission==="granted"&&new Notification("  ",{body:n,icon:"/icon-192x192.png",badge:"/icon-192x192.png",tag:"urgent-payment",requireInteraction:!0})},sy=async()=>"Notification"in window&&Notification.permission==="default"?await Notification.requestPermission()==="granted":Notification.permission==="granted",ny=new bc({defaultOptions:{queries:{staleTime:1e3*60*5,refetchOnWindowFocus:!1}}});function ry(){const[s,n]=l.useState(!1);return l.useEffect(()=>{const t=Mp({immediate:!0,onNeedRefresh(){console.log("   ."),n(!0),P.loading("   ...",{duration:2e3}),setTimeout(()=>{t(!0).then(()=>{P.dismiss(),P.success(" !",{duration:2e3,icon:""}),setTimeout(()=>{window.location.reload()},1e3)})},1500)},onOfflineReady(){console.log("    ")},onRegisteredSW(m,d){console.log(" Service Worker :",m),d&&setInterval(()=>{console.log("   ..."),d.update()},6e4)},onRegisterError(m){console.error(" Service Worker  :",m)}});sy();const r=async()=>{try{const d=await(await fetch("/version.json?t="+Date.now())).json(),p=localStorage.getItem("app_version");p&&p!==d.version?(console.log("   :",d.version),localStorage.setItem("app_version",d.version),"serviceWorker"in navigator&&(await navigator.serviceWorker.ready).update()):p||localStorage.setItem("app_version",d.version)}catch(m){console.error("  :",m)}};setTimeout(r,5e3);const i=setInterval(r,3e4),o=On("/",{transports:["websocket","polling"]});return o.on("connect",()=>{console.log(" Socket.IO ")}),o.on("urgent-payment",m=>{console.log("    :",m);const d=`${m.project}  ${m.amount.toLocaleString()}  `;ty(m.urgency,d)}),o.on("disconnect",()=>{console.log(" Socket.IO  ")}),()=>{o.disconnect(),clearInterval(i)}},[]),e.jsxDEV(xc,{client:ny,children:e.jsxDEV(fc,{children:e.jsxDEV(Tp,{children:[e.jsxDEV(gc,{children:[e.jsxDEV(Ft,{path:"/login",element:e.jsxDEV(G0,{},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:152,columnNumber:43},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:152,columnNumber:13},this),e.jsxDEV(Ft,{path:"/",element:e.jsxDEV(Df,{},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:153,columnNumber:38},this),children:[e.jsxDEV(Ft,{index:!0,element:e.jsxDEV(si,{to:"/dashboard",replace:!0},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:154,columnNumber:37},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:154,columnNumber:15},this),e.jsxDEV(Ft,{path:"dashboard",element:e.jsxDEV(Yf,{},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:155,columnNumber:48},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:155,columnNumber:15},this),e.jsxDEV(Ft,{path:"projects",element:e.jsxDEV(eg,{},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:156,columnNumber:47},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:156,columnNumber:15},this),e.jsxDEV(Ft,{path:"schedule",element:e.jsxDEV(gb,{},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:157,columnNumber:47},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:157,columnNumber:15},this),e.jsxDEV(Ft,{path:"drawings",element:e.jsxDEV(bb,{},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:158,columnNumber:47},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:158,columnNumber:15},this),e.jsxDEV(Ft,{path:"site-log",element:e.jsxDEV(xb,{},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:159,columnNumber:47},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:159,columnNumber:15},this),e.jsxDEV(Ft,{path:"after-service",element:e.jsxDEV(yb,{},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:160,columnNumber:52},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:160,columnNumber:15},this),e.jsxDEV(Ft,{path:"additional-work",element:e.jsxDEV(kb,{},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:161,columnNumber:54},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:161,columnNumber:15},this),e.jsxDEV(Ft,{path:"construction-payment",element:e.jsxDEV(Db,{},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:162,columnNumber:59},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:162,columnNumber:15},this),e.jsxDEV(Ft,{path:"contractors",element:e.jsxDEV(Vb,{},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:163,columnNumber:50},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:163,columnNumber:15},this),e.jsxDEV(Ft,{path:"work-request",element:e.jsxDEV(Cb,{},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:164,columnNumber:51},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:164,columnNumber:15},this),e.jsxDEV(Ft,{path:"finish-check",element:e.jsxDEV(Eb,{},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:165,columnNumber:51},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:165,columnNumber:15},this),e.jsxDEV(Ft,{path:"specbook",element:e.jsxDEV(T0,{},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:166,columnNumber:47},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:166,columnNumber:15},this),e.jsxDEV(Ft,{path:"estimate-preview",element:e.jsxDEV(F0,{},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:167,columnNumber:55},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:167,columnNumber:15},this),e.jsxDEV(Ft,{path:"execution-history",element:e.jsxDEV($0,{},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:168,columnNumber:56},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:168,columnNumber:15},this),e.jsxDEV(Ft,{path:"payments",element:e.jsxDEV(J0,{},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:169,columnNumber:47},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:169,columnNumber:15},this),e.jsxDEV(Ft,{path:"quote-inquiry",element:e.jsxDEV(Q0,{},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:170,columnNumber:52},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:170,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:153,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:151,columnNumber:11},this),e.jsxDEV(Fu,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#fff",color:"#363636",border:"1px solid #e5e5e5"}}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:173,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:150,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:149,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:148,columnNumber:5},this)}"serviceWorker"in navigator&&navigator.serviceWorker.getRegistrations().then(function(s){for(const n of s)n.update()});qm(document.getElementById("root")).render(e.jsxDEV(l.StrictMode,{children:e.jsxDEV(ry,{},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/main.tsx",lineNumber:18,columnNumber:5},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/main.tsx",lineNumber:17,columnNumber:3},void 0));
