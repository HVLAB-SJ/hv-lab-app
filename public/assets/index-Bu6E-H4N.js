var U0=e=>{throw TypeError(e)};var pE=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var ah=(e,t,r)=>t.has(e)||U0("Cannot "+r);var be=(e,t,r)=>(ah(e,t,"read from private field"),r?r.call(e):t.get(e)),Je=(e,t,r)=>t.has(e)?U0("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Ue=(e,t,r,n)=>(ah(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),fr=(e,t,r)=>(ah(e,t,"access private method"),r);var Su=(e,t,r,n)=>({set _(s){Ue(e,t,s,r)},get _(){return be(e,t,n)}});var wne=pE((Hne,Wd)=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var un=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ar(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var gj={exports:{}},Vf={},yj={exports:{}},Ke={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uc=Symbol.for("react.element"),gE=Symbol.for("react.portal"),yE=Symbol.for("react.fragment"),xE=Symbol.for("react.strict_mode"),vE=Symbol.for("react.profiler"),bE=Symbol.for("react.provider"),wE=Symbol.for("react.context"),NE=Symbol.for("react.forward_ref"),jE=Symbol.for("react.suspense"),SE=Symbol.for("react.memo"),kE=Symbol.for("react.lazy"),V0=Symbol.iterator;function DE(e){return e===null||typeof e!="object"?null:(e=V0&&e[V0]||e["@@iterator"],typeof e=="function"?e:null)}var xj={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},vj=Object.assign,bj={};function Io(e,t,r){this.props=e,this.context=t,this.refs=bj,this.updater=r||xj}Io.prototype.isReactComponent={};Io.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Io.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function wj(){}wj.prototype=Io.prototype;function cy(e,t,r){this.props=e,this.context=t,this.refs=bj,this.updater=r||xj}var uy=cy.prototype=new wj;uy.constructor=cy;vj(uy,Io.prototype);uy.isPureReactComponent=!0;var z0=Array.isArray,Nj=Object.prototype.hasOwnProperty,dy={current:null},jj={key:!0,ref:!0,__self:!0,__source:!0};function Sj(e,t,r){var n,s={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Nj.call(t,n)&&!jj.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:Uc,type:e,key:i,ref:o,props:s,_owner:dy.current}}function CE(e,t){return{$$typeof:Uc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function fy(e){return typeof e=="object"&&e!==null&&e.$$typeof===Uc}function EE(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Y0=/\/+/g;function ih(e,t){return typeof e=="object"&&e!==null&&e.key!=null?EE(""+e.key):t.toString(36)}function ld(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Uc:case gE:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+ih(o,0):n,z0(s)?(r="",e!=null&&(r=e.replace(Y0,"$&/")+"/"),ld(s,t,r,"",function(u){return u})):s!=null&&(fy(s)&&(s=CE(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Y0,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",z0(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+ih(i,l);o+=ld(i,t,r,c,s)}else if(c=DE(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+ih(i,l++),o+=ld(i,t,r,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function ku(e,t,r){if(e==null)return e;var n=[],s=0;return ld(e,n,"","",function(i){return t.call(r,i,s++)}),n}function AE(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Tr={current:null},cd={transition:null},TE={ReactCurrentDispatcher:Tr,ReactCurrentBatchConfig:cd,ReactCurrentOwner:dy};function kj(){throw Error("act(...) is not supported in production builds of React.")}Ke.Children={map:ku,forEach:function(e,t,r){ku(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return ku(e,function(){t++}),t},toArray:function(e){return ku(e,function(t){return t})||[]},only:function(e){if(!fy(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ke.Component=Io;Ke.Fragment=yE;Ke.Profiler=vE;Ke.PureComponent=cy;Ke.StrictMode=xE;Ke.Suspense=jE;Ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=TE;Ke.act=kj;Ke.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=vj({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=dy.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)Nj.call(t,c)&&!jj.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Uc,type:e.type,key:s,ref:i,props:n,_owner:o}};Ke.createContext=function(e){return e={$$typeof:wE,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:bE,_context:e},e.Consumer=e};Ke.createElement=Sj;Ke.createFactory=function(e){var t=Sj.bind(null,e);return t.type=e,t};Ke.createRef=function(){return{current:null}};Ke.forwardRef=function(e){return{$$typeof:NE,render:e}};Ke.isValidElement=fy;Ke.lazy=function(e){return{$$typeof:kE,_payload:{_status:-1,_result:e},_init:AE}};Ke.memo=function(e,t){return{$$typeof:SE,type:e,compare:t===void 0?null:t}};Ke.startTransition=function(e){var t=cd.transition;cd.transition={};try{e()}finally{cd.transition=t}};Ke.unstable_act=kj;Ke.useCallback=function(e,t){return Tr.current.useCallback(e,t)};Ke.useContext=function(e){return Tr.current.useContext(e)};Ke.useDebugValue=function(){};Ke.useDeferredValue=function(e){return Tr.current.useDeferredValue(e)};Ke.useEffect=function(e,t){return Tr.current.useEffect(e,t)};Ke.useId=function(){return Tr.current.useId()};Ke.useImperativeHandle=function(e,t,r){return Tr.current.useImperativeHandle(e,t,r)};Ke.useInsertionEffect=function(e,t){return Tr.current.useInsertionEffect(e,t)};Ke.useLayoutEffect=function(e,t){return Tr.current.useLayoutEffect(e,t)};Ke.useMemo=function(e,t){return Tr.current.useMemo(e,t)};Ke.useReducer=function(e,t,r){return Tr.current.useReducer(e,t,r)};Ke.useRef=function(e){return Tr.current.useRef(e)};Ke.useState=function(e){return Tr.current.useState(e)};Ke.useSyncExternalStore=function(e,t,r){return Tr.current.useSyncExternalStore(e,t,r)};Ke.useTransition=function(){return Tr.current.useTransition()};Ke.version="18.3.1";yj.exports=Ke;var w=yj.exports;const U=Ar(w);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _E=w,PE=Symbol.for("react.element"),RE=Symbol.for("react.fragment"),ME=Object.prototype.hasOwnProperty,OE=_E.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,IE={key:!0,ref:!0,__self:!0,__source:!0};function Dj(e,t,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)ME.call(t,n)&&!IE.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:PE,type:e,key:i,ref:o,props:s,_owner:OE.current}}Vf.Fragment=RE;Vf.jsx=Dj;Vf.jsxs=Dj;gj.exports=Vf;var a=gj.exports,Cj={exports:{}},Xr={},Ej={exports:{}},Aj={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(ce,q){var oe=ce.length;ce.push(q);e:for(;0<oe;){var J=oe-1>>>1,H=ce[J];if(0<s(H,q))ce[J]=q,ce[oe]=H,oe=J;else break e}}function r(ce){return ce.length===0?null:ce[0]}function n(ce){if(ce.length===0)return null;var q=ce[0],oe=ce.pop();if(oe!==q){ce[0]=oe;e:for(var J=0,H=ce.length,ae=H>>>1;J<ae;){var ye=2*(J+1)-1,ve=ce[ye],te=ye+1,ue=ce[te];if(0>s(ve,oe))te<H&&0>s(ue,ve)?(ce[J]=ue,ce[te]=oe,J=te):(ce[J]=ve,ce[ye]=oe,J=ye);else if(te<H&&0>s(ue,oe))ce[J]=ue,ce[te]=oe,J=te;else break e}}return q}function s(ce,q){var oe=ce.sortIndex-q.sortIndex;return oe!==0?oe:ce.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,m=3,v=!1,p=!1,h=!1,j=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(ce){for(var q=r(u);q!==null;){if(q.callback===null)n(u);else if(q.startTime<=ce)n(u),q.sortIndex=q.expirationTime,t(c,q);else break;q=r(u)}}function g(ce){if(h=!1,N(ce),!p)if(r(c)!==null)p=!0,re(A);else{var q=r(u);q!==null&&pe(g,q.startTime-ce)}}function A(ce,q){p=!1,h&&(h=!1,x(O),O=-1),v=!0;var oe=m;try{for(N(q),f=r(c);f!==null&&(!(f.expirationTime>q)||ce&&!V());){var J=f.callback;if(typeof J=="function"){f.callback=null,m=f.priorityLevel;var H=J(f.expirationTime<=q);q=e.unstable_now(),typeof H=="function"?f.callback=H:f===r(c)&&n(c),N(q)}else n(c);f=r(c)}if(f!==null)var ae=!0;else{var ye=r(u);ye!==null&&pe(g,ye.startTime-q),ae=!1}return ae}finally{f=null,m=oe,v=!1}}var k=!1,_=null,O=-1,R=5,I=-1;function V(){return!(e.unstable_now()-I<R)}function Z(){if(_!==null){var ce=e.unstable_now();I=ce;var q=!0;try{q=_(!0,ce)}finally{q?Q():(k=!1,_=null)}}else k=!1}var Q;if(typeof b=="function")Q=function(){b(Z)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,xe=G.port2;G.port1.onmessage=Z,Q=function(){xe.postMessage(null)}}else Q=function(){j(Z,0)};function re(ce){_=ce,k||(k=!0,Q())}function pe(ce,q){O=j(function(){ce(e.unstable_now())},q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ce){ce.callback=null},e.unstable_continueExecution=function(){p||v||(p=!0,re(A))},e.unstable_forceFrameRate=function(ce){0>ce||125<ce?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<ce?Math.floor(1e3/ce):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(ce){switch(m){case 1:case 2:case 3:var q=3;break;default:q=m}var oe=m;m=q;try{return ce()}finally{m=oe}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(ce,q){switch(ce){case 1:case 2:case 3:case 4:case 5:break;default:ce=3}var oe=m;m=ce;try{return q()}finally{m=oe}},e.unstable_scheduleCallback=function(ce,q,oe){var J=e.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?J+oe:J):oe=J,ce){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=oe+H,ce={id:d++,callback:q,priorityLevel:ce,startTime:oe,expirationTime:H,sortIndex:-1},oe>J?(ce.sortIndex=oe,t(u,ce),r(c)===null&&ce===r(u)&&(h?(x(O),O=-1):h=!0,pe(g,oe-J))):(ce.sortIndex=H,t(c,ce),p||v||(p=!0,re(A))),ce},e.unstable_shouldYield=V,e.unstable_wrapCallback=function(ce){var q=m;return function(){var oe=m;m=q;try{return ce.apply(this,arguments)}finally{m=oe}}}})(Aj);Ej.exports=Aj;var $E=Ej.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LE=w,Kr=$E;function ke(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Tj=new Set,Jl={};function Ai(e,t){bo(e,t),bo(e+"Capture",t)}function bo(e,t){for(Jl[e]=t,e=0;e<t.length;e++)Tj.add(t[e])}var Ls=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xp=Object.prototype.hasOwnProperty,FE=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,q0={},G0={};function BE(e){return xp.call(G0,e)?!0:xp.call(q0,e)?!1:FE.test(e)?G0[e]=!0:(q0[e]=!0,!1)}function WE(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function HE(e,t,r,n){if(t===null||typeof t>"u"||WE(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function _r(e,t,r,n,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var ur={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ur[e]=new _r(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ur[t]=new _r(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ur[e]=new _r(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ur[e]=new _r(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ur[e]=new _r(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ur[e]=new _r(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ur[e]=new _r(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ur[e]=new _r(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ur[e]=new _r(e,5,!1,e.toLowerCase(),null,!1,!1)});var my=/[\-:]([a-z])/g;function hy(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(my,hy);ur[t]=new _r(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(my,hy);ur[t]=new _r(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(my,hy);ur[t]=new _r(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ur[e]=new _r(e,1,!1,e.toLowerCase(),null,!1,!1)});ur.xlinkHref=new _r("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ur[e]=new _r(e,1,!1,e.toLowerCase(),null,!0,!0)});function py(e,t,r,n){var s=ur.hasOwnProperty(t)?ur[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(HE(t,r,s,n)&&(r=null),n||s===null?BE(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Ys=LE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Du=Symbol.for("react.element"),Wi=Symbol.for("react.portal"),Hi=Symbol.for("react.fragment"),gy=Symbol.for("react.strict_mode"),vp=Symbol.for("react.profiler"),_j=Symbol.for("react.provider"),Pj=Symbol.for("react.context"),yy=Symbol.for("react.forward_ref"),bp=Symbol.for("react.suspense"),wp=Symbol.for("react.suspense_list"),xy=Symbol.for("react.memo"),sa=Symbol.for("react.lazy"),Rj=Symbol.for("react.offscreen"),K0=Symbol.iterator;function ol(e){return e===null||typeof e!="object"?null:(e=K0&&e[K0]||e["@@iterator"],typeof e=="function"?e:null)}var Mt=Object.assign,oh;function kl(e){if(oh===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);oh=t&&t[1]||""}return`
`+oh+e}var lh=!1;function ch(e,t){if(!e||lh)return"";lh=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{lh=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?kl(e):""}function UE(e){switch(e.tag){case 5:return kl(e.type);case 16:return kl("Lazy");case 13:return kl("Suspense");case 19:return kl("SuspenseList");case 0:case 2:case 15:return e=ch(e.type,!1),e;case 11:return e=ch(e.type.render,!1),e;case 1:return e=ch(e.type,!0),e;default:return""}}function Np(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Hi:return"Fragment";case Wi:return"Portal";case vp:return"Profiler";case gy:return"StrictMode";case bp:return"Suspense";case wp:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Pj:return(e.displayName||"Context")+".Consumer";case _j:return(e._context.displayName||"Context")+".Provider";case yy:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case xy:return t=e.displayName||null,t!==null?t:Np(e.type)||"Memo";case sa:t=e._payload,e=e._init;try{return Np(e(t))}catch{}}return null}function VE(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Np(t);case 8:return t===gy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function _a(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Mj(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function zE(e){var t=Mj(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Cu(e){e._valueTracker||(e._valueTracker=zE(e))}function Oj(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Mj(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Hd(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function jp(e,t){var r=t.checked;return Mt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Q0(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=_a(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Ij(e,t){t=t.checked,t!=null&&py(e,"checked",t,!1)}function Sp(e,t){Ij(e,t);var r=_a(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?kp(e,t.type,r):t.hasOwnProperty("defaultValue")&&kp(e,t.type,_a(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function X0(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function kp(e,t,r){(t!=="number"||Hd(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Dl=Array.isArray;function eo(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+_a(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Dp(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ke(91));return Mt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function J0(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(ke(92));if(Dl(r)){if(1<r.length)throw Error(ke(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:_a(r)}}function $j(e,t){var r=_a(t.value),n=_a(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Z0(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Lj(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Cp(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Lj(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Eu,Fj=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Eu=Eu||document.createElement("div"),Eu.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Eu.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Zl(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Rl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},YE=["Webkit","ms","Moz","O"];Object.keys(Rl).forEach(function(e){YE.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Rl[t]=Rl[e]})});function Bj(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Rl.hasOwnProperty(e)&&Rl[e]?(""+t).trim():t+"px"}function Wj(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Bj(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var qE=Mt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ep(e,t){if(t){if(qE[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ke(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ke(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ke(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ke(62))}}function Ap(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tp=null;function vy(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var _p=null,to=null,ro=null;function ev(e){if(e=Yc(e)){if(typeof _p!="function")throw Error(ke(280));var t=e.stateNode;t&&(t=Kf(t),_p(e.stateNode,e.type,t))}}function Hj(e){to?ro?ro.push(e):ro=[e]:to=e}function Uj(){if(to){var e=to,t=ro;if(ro=to=null,ev(e),t)for(e=0;e<t.length;e++)ev(t[e])}}function Vj(e,t){return e(t)}function zj(){}var uh=!1;function Yj(e,t,r){if(uh)return e(t,r);uh=!0;try{return Vj(e,t,r)}finally{uh=!1,(to!==null||ro!==null)&&(zj(),Uj())}}function ec(e,t){var r=e.stateNode;if(r===null)return null;var n=Kf(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(ke(231,t,typeof r));return r}var Pp=!1;if(Ls)try{var ll={};Object.defineProperty(ll,"passive",{get:function(){Pp=!0}}),window.addEventListener("test",ll,ll),window.removeEventListener("test",ll,ll)}catch{Pp=!1}function GE(e,t,r,n,s,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Ml=!1,Ud=null,Vd=!1,Rp=null,KE={onError:function(e){Ml=!0,Ud=e}};function QE(e,t,r,n,s,i,o,l,c){Ml=!1,Ud=null,GE.apply(KE,arguments)}function XE(e,t,r,n,s,i,o,l,c){if(QE.apply(this,arguments),Ml){if(Ml){var u=Ud;Ml=!1,Ud=null}else throw Error(ke(198));Vd||(Vd=!0,Rp=u)}}function Ti(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function qj(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function tv(e){if(Ti(e)!==e)throw Error(ke(188))}function JE(e){var t=e.alternate;if(!t){if(t=Ti(e),t===null)throw Error(ke(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return tv(s),e;if(i===n)return tv(s),t;i=i.sibling}throw Error(ke(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=i;break}if(l===n){o=!0,n=s,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=s;break}if(l===n){o=!0,n=i,r=s;break}l=l.sibling}if(!o)throw Error(ke(189))}}if(r.alternate!==n)throw Error(ke(190))}if(r.tag!==3)throw Error(ke(188));return r.stateNode.current===r?e:t}function Gj(e){return e=JE(e),e!==null?Kj(e):null}function Kj(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Kj(e);if(t!==null)return t;e=e.sibling}return null}var Qj=Kr.unstable_scheduleCallback,rv=Kr.unstable_cancelCallback,ZE=Kr.unstable_shouldYield,eA=Kr.unstable_requestPaint,Bt=Kr.unstable_now,tA=Kr.unstable_getCurrentPriorityLevel,by=Kr.unstable_ImmediatePriority,Xj=Kr.unstable_UserBlockingPriority,zd=Kr.unstable_NormalPriority,rA=Kr.unstable_LowPriority,Jj=Kr.unstable_IdlePriority,zf=null,is=null;function nA(e){if(is&&typeof is.onCommitFiberRoot=="function")try{is.onCommitFiberRoot(zf,e,void 0,(e.current.flags&128)===128)}catch{}}var _n=Math.clz32?Math.clz32:iA,sA=Math.log,aA=Math.LN2;function iA(e){return e>>>=0,e===0?32:31-(sA(e)/aA|0)|0}var Au=64,Tu=4194304;function Cl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Yd(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=Cl(l):(i&=o,i!==0&&(n=Cl(i)))}else o=r&~s,o!==0?n=Cl(o):i!==0&&(n=Cl(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-_n(t),s=1<<r,n|=e[r],t&=~s;return n}function oA(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lA(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-_n(i),l=1<<o,c=s[o];c===-1?(!(l&r)||l&n)&&(s[o]=oA(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function Mp(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Zj(){var e=Au;return Au<<=1,!(Au&4194240)&&(Au=64),e}function dh(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Vc(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-_n(t),e[t]=r}function cA(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-_n(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function wy(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-_n(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var pt=0;function e1(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var t1,Ny,r1,n1,s1,Op=!1,_u=[],wa=null,Na=null,ja=null,tc=new Map,rc=new Map,oa=[],uA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function nv(e,t){switch(e){case"focusin":case"focusout":wa=null;break;case"dragenter":case"dragleave":Na=null;break;case"mouseover":case"mouseout":ja=null;break;case"pointerover":case"pointerout":tc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":rc.delete(t.pointerId)}}function cl(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Yc(t),t!==null&&Ny(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function dA(e,t,r,n,s){switch(t){case"focusin":return wa=cl(wa,e,t,r,n,s),!0;case"dragenter":return Na=cl(Na,e,t,r,n,s),!0;case"mouseover":return ja=cl(ja,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return tc.set(i,cl(tc.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,rc.set(i,cl(rc.get(i)||null,e,t,r,n,s)),!0}return!1}function a1(e){var t=Qa(e.target);if(t!==null){var r=Ti(t);if(r!==null){if(t=r.tag,t===13){if(t=qj(r),t!==null){e.blockedOn=t,s1(e.priority,function(){r1(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ud(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Ip(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Tp=n,r.target.dispatchEvent(n),Tp=null}else return t=Yc(r),t!==null&&Ny(t),e.blockedOn=r,!1;t.shift()}return!0}function sv(e,t,r){ud(e)&&r.delete(t)}function fA(){Op=!1,wa!==null&&ud(wa)&&(wa=null),Na!==null&&ud(Na)&&(Na=null),ja!==null&&ud(ja)&&(ja=null),tc.forEach(sv),rc.forEach(sv)}function ul(e,t){e.blockedOn===t&&(e.blockedOn=null,Op||(Op=!0,Kr.unstable_scheduleCallback(Kr.unstable_NormalPriority,fA)))}function nc(e){function t(s){return ul(s,e)}if(0<_u.length){ul(_u[0],e);for(var r=1;r<_u.length;r++){var n=_u[r];n.blockedOn===e&&(n.blockedOn=null)}}for(wa!==null&&ul(wa,e),Na!==null&&ul(Na,e),ja!==null&&ul(ja,e),tc.forEach(t),rc.forEach(t),r=0;r<oa.length;r++)n=oa[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<oa.length&&(r=oa[0],r.blockedOn===null);)a1(r),r.blockedOn===null&&oa.shift()}var no=Ys.ReactCurrentBatchConfig,qd=!0;function mA(e,t,r,n){var s=pt,i=no.transition;no.transition=null;try{pt=1,jy(e,t,r,n)}finally{pt=s,no.transition=i}}function hA(e,t,r,n){var s=pt,i=no.transition;no.transition=null;try{pt=4,jy(e,t,r,n)}finally{pt=s,no.transition=i}}function jy(e,t,r,n){if(qd){var s=Ip(e,t,r,n);if(s===null)wh(e,t,n,Gd,r),nv(e,n);else if(dA(s,e,t,r,n))n.stopPropagation();else if(nv(e,n),t&4&&-1<uA.indexOf(e)){for(;s!==null;){var i=Yc(s);if(i!==null&&t1(i),i=Ip(e,t,r,n),i===null&&wh(e,t,n,Gd,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else wh(e,t,n,null,r)}}var Gd=null;function Ip(e,t,r,n){if(Gd=null,e=vy(n),e=Qa(e),e!==null)if(t=Ti(e),t===null)e=null;else if(r=t.tag,r===13){if(e=qj(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gd=e,null}function i1(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(tA()){case by:return 1;case Xj:return 4;case zd:case rA:return 16;case Jj:return 536870912;default:return 16}default:return 16}}var ya=null,Sy=null,dd=null;function o1(){if(dd)return dd;var e,t=Sy,r=t.length,n,s="value"in ya?ya.value:ya.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[i-n];n++);return dd=s.slice(e,1<n?1-n:void 0)}function fd(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Pu(){return!0}function av(){return!1}function Jr(e){function t(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Pu:av,this.isPropagationStopped=av,this}return Mt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Pu)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Pu)},persist:function(){},isPersistent:Pu}),t}var $o={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ky=Jr($o),zc=Mt({},$o,{view:0,detail:0}),pA=Jr(zc),fh,mh,dl,Yf=Mt({},zc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Dy,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==dl&&(dl&&e.type==="mousemove"?(fh=e.screenX-dl.screenX,mh=e.screenY-dl.screenY):mh=fh=0,dl=e),fh)},movementY:function(e){return"movementY"in e?e.movementY:mh}}),iv=Jr(Yf),gA=Mt({},Yf,{dataTransfer:0}),yA=Jr(gA),xA=Mt({},zc,{relatedTarget:0}),hh=Jr(xA),vA=Mt({},$o,{animationName:0,elapsedTime:0,pseudoElement:0}),bA=Jr(vA),wA=Mt({},$o,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),NA=Jr(wA),jA=Mt({},$o,{data:0}),ov=Jr(jA),SA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},DA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function CA(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=DA[e])?!!t[e]:!1}function Dy(){return CA}var EA=Mt({},zc,{key:function(e){if(e.key){var t=SA[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=fd(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?kA[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Dy,charCode:function(e){return e.type==="keypress"?fd(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?fd(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),AA=Jr(EA),TA=Mt({},Yf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lv=Jr(TA),_A=Mt({},zc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Dy}),PA=Jr(_A),RA=Mt({},$o,{propertyName:0,elapsedTime:0,pseudoElement:0}),MA=Jr(RA),OA=Mt({},Yf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),IA=Jr(OA),$A=[9,13,27,32],Cy=Ls&&"CompositionEvent"in window,Ol=null;Ls&&"documentMode"in document&&(Ol=document.documentMode);var LA=Ls&&"TextEvent"in window&&!Ol,l1=Ls&&(!Cy||Ol&&8<Ol&&11>=Ol),cv=" ",uv=!1;function c1(e,t){switch(e){case"keyup":return $A.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function u1(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ui=!1;function FA(e,t){switch(e){case"compositionend":return u1(t);case"keypress":return t.which!==32?null:(uv=!0,cv);case"textInput":return e=t.data,e===cv&&uv?null:e;default:return null}}function BA(e,t){if(Ui)return e==="compositionend"||!Cy&&c1(e,t)?(e=o1(),dd=Sy=ya=null,Ui=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return l1&&t.locale!=="ko"?null:t.data;default:return null}}var WA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!WA[e.type]:t==="textarea"}function d1(e,t,r,n){Hj(n),t=Kd(t,"onChange"),0<t.length&&(r=new ky("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Il=null,sc=null;function HA(e){N1(e,0)}function qf(e){var t=Yi(e);if(Oj(t))return e}function UA(e,t){if(e==="change")return t}var f1=!1;if(Ls){var ph;if(Ls){var gh="oninput"in document;if(!gh){var fv=document.createElement("div");fv.setAttribute("oninput","return;"),gh=typeof fv.oninput=="function"}ph=gh}else ph=!1;f1=ph&&(!document.documentMode||9<document.documentMode)}function mv(){Il&&(Il.detachEvent("onpropertychange",m1),sc=Il=null)}function m1(e){if(e.propertyName==="value"&&qf(sc)){var t=[];d1(t,sc,e,vy(e)),Yj(HA,t)}}function VA(e,t,r){e==="focusin"?(mv(),Il=t,sc=r,Il.attachEvent("onpropertychange",m1)):e==="focusout"&&mv()}function zA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return qf(sc)}function YA(e,t){if(e==="click")return qf(t)}function qA(e,t){if(e==="input"||e==="change")return qf(t)}function GA(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Rn=typeof Object.is=="function"?Object.is:GA;function ac(e,t){if(Rn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!xp.call(t,s)||!Rn(e[s],t[s]))return!1}return!0}function hv(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pv(e,t){var r=hv(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=hv(r)}}function h1(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?h1(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function p1(){for(var e=window,t=Hd();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Hd(e.document)}return t}function Ey(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function KA(e){var t=p1(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&h1(r.ownerDocument.documentElement,r)){if(n!==null&&Ey(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=pv(r,i);var o=pv(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var QA=Ls&&"documentMode"in document&&11>=document.documentMode,Vi=null,$p=null,$l=null,Lp=!1;function gv(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Lp||Vi==null||Vi!==Hd(n)||(n=Vi,"selectionStart"in n&&Ey(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),$l&&ac($l,n)||($l=n,n=Kd($p,"onSelect"),0<n.length&&(t=new ky("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Vi)))}function Ru(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var zi={animationend:Ru("Animation","AnimationEnd"),animationiteration:Ru("Animation","AnimationIteration"),animationstart:Ru("Animation","AnimationStart"),transitionend:Ru("Transition","TransitionEnd")},yh={},g1={};Ls&&(g1=document.createElement("div").style,"AnimationEvent"in window||(delete zi.animationend.animation,delete zi.animationiteration.animation,delete zi.animationstart.animation),"TransitionEvent"in window||delete zi.transitionend.transition);function Gf(e){if(yh[e])return yh[e];if(!zi[e])return e;var t=zi[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in g1)return yh[e]=t[r];return e}var y1=Gf("animationend"),x1=Gf("animationiteration"),v1=Gf("animationstart"),b1=Gf("transitionend"),w1=new Map,yv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $a(e,t){w1.set(e,t),Ai(t,[e])}for(var xh=0;xh<yv.length;xh++){var vh=yv[xh],XA=vh.toLowerCase(),JA=vh[0].toUpperCase()+vh.slice(1);$a(XA,"on"+JA)}$a(y1,"onAnimationEnd");$a(x1,"onAnimationIteration");$a(v1,"onAnimationStart");$a("dblclick","onDoubleClick");$a("focusin","onFocus");$a("focusout","onBlur");$a(b1,"onTransitionEnd");bo("onMouseEnter",["mouseout","mouseover"]);bo("onMouseLeave",["mouseout","mouseover"]);bo("onPointerEnter",["pointerout","pointerover"]);bo("onPointerLeave",["pointerout","pointerover"]);Ai("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ai("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ai("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ai("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ai("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ai("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var El="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ZA=new Set("cancel close invalid load scroll toggle".split(" ").concat(El));function xv(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,XE(n,t,void 0,e),e.currentTarget=null}function N1(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;xv(s,l,u),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;xv(s,l,u),i=c}}}if(Vd)throw e=Rp,Vd=!1,Rp=null,e}function bt(e,t){var r=t[Up];r===void 0&&(r=t[Up]=new Set);var n=e+"__bubble";r.has(n)||(j1(t,e,2,!1),r.add(n))}function bh(e,t,r){var n=0;t&&(n|=4),j1(r,e,n,t)}var Mu="_reactListening"+Math.random().toString(36).slice(2);function ic(e){if(!e[Mu]){e[Mu]=!0,Tj.forEach(function(r){r!=="selectionchange"&&(ZA.has(r)||bh(r,!1,e),bh(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Mu]||(t[Mu]=!0,bh("selectionchange",!1,t))}}function j1(e,t,r,n){switch(i1(t)){case 1:var s=mA;break;case 4:s=hA;break;default:s=jy}r=s.bind(null,t,r,e),s=void 0,!Pp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function wh(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Qa(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}Yj(function(){var u=i,d=vy(r),f=[];e:{var m=w1.get(e);if(m!==void 0){var v=ky,p=e;switch(e){case"keypress":if(fd(r)===0)break e;case"keydown":case"keyup":v=AA;break;case"focusin":p="focus",v=hh;break;case"focusout":p="blur",v=hh;break;case"beforeblur":case"afterblur":v=hh;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=iv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=yA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=PA;break;case y1:case x1:case v1:v=bA;break;case b1:v=MA;break;case"scroll":v=pA;break;case"wheel":v=IA;break;case"copy":case"cut":case"paste":v=NA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=lv}var h=(t&4)!==0,j=!h&&e==="scroll",x=h?m!==null?m+"Capture":null:m;h=[];for(var b=u,N;b!==null;){N=b;var g=N.stateNode;if(N.tag===5&&g!==null&&(N=g,x!==null&&(g=ec(b,x),g!=null&&h.push(oc(b,g,N)))),j)break;b=b.return}0<h.length&&(m=new v(m,p,null,r,d),f.push({event:m,listeners:h}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",m&&r!==Tp&&(p=r.relatedTarget||r.fromElement)&&(Qa(p)||p[Fs]))break e;if((v||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,v?(p=r.relatedTarget||r.toElement,v=u,p=p?Qa(p):null,p!==null&&(j=Ti(p),p!==j||p.tag!==5&&p.tag!==6)&&(p=null)):(v=null,p=u),v!==p)){if(h=iv,g="onMouseLeave",x="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(h=lv,g="onPointerLeave",x="onPointerEnter",b="pointer"),j=v==null?m:Yi(v),N=p==null?m:Yi(p),m=new h(g,b+"leave",v,r,d),m.target=j,m.relatedTarget=N,g=null,Qa(d)===u&&(h=new h(x,b+"enter",p,r,d),h.target=N,h.relatedTarget=j,g=h),j=g,v&&p)t:{for(h=v,x=p,b=0,N=h;N;N=Ri(N))b++;for(N=0,g=x;g;g=Ri(g))N++;for(;0<b-N;)h=Ri(h),b--;for(;0<N-b;)x=Ri(x),N--;for(;b--;){if(h===x||x!==null&&h===x.alternate)break t;h=Ri(h),x=Ri(x)}h=null}else h=null;v!==null&&vv(f,m,v,h,!1),p!==null&&j!==null&&vv(f,j,p,h,!0)}}e:{if(m=u?Yi(u):window,v=m.nodeName&&m.nodeName.toLowerCase(),v==="select"||v==="input"&&m.type==="file")var A=UA;else if(dv(m))if(f1)A=qA;else{A=zA;var k=VA}else(v=m.nodeName)&&v.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(A=YA);if(A&&(A=A(e,u))){d1(f,A,r,d);break e}k&&k(e,m,u),e==="focusout"&&(k=m._wrapperState)&&k.controlled&&m.type==="number"&&kp(m,"number",m.value)}switch(k=u?Yi(u):window,e){case"focusin":(dv(k)||k.contentEditable==="true")&&(Vi=k,$p=u,$l=null);break;case"focusout":$l=$p=Vi=null;break;case"mousedown":Lp=!0;break;case"contextmenu":case"mouseup":case"dragend":Lp=!1,gv(f,r,d);break;case"selectionchange":if(QA)break;case"keydown":case"keyup":gv(f,r,d)}var _;if(Cy)e:{switch(e){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else Ui?c1(e,r)&&(O="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(O="onCompositionStart");O&&(l1&&r.locale!=="ko"&&(Ui||O!=="onCompositionStart"?O==="onCompositionEnd"&&Ui&&(_=o1()):(ya=d,Sy="value"in ya?ya.value:ya.textContent,Ui=!0)),k=Kd(u,O),0<k.length&&(O=new ov(O,e,null,r,d),f.push({event:O,listeners:k}),_?O.data=_:(_=u1(r),_!==null&&(O.data=_)))),(_=LA?FA(e,r):BA(e,r))&&(u=Kd(u,"onBeforeInput"),0<u.length&&(d=new ov("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=_))}N1(f,t)})}function oc(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Kd(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=ec(e,r),i!=null&&n.unshift(oc(e,i,s)),i=ec(e,t),i!=null&&n.push(oc(e,i,s))),e=e.return}return n}function Ri(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function vv(e,t,r,n,s){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=ec(r,i),c!=null&&o.unshift(oc(r,c,l))):s||(c=ec(r,i),c!=null&&o.push(oc(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var eT=/\r\n?/g,tT=/\u0000|\uFFFD/g;function bv(e){return(typeof e=="string"?e:""+e).replace(eT,`
`).replace(tT,"")}function Ou(e,t,r){if(t=bv(t),bv(e)!==t&&r)throw Error(ke(425))}function Qd(){}var Fp=null,Bp=null;function Wp(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Hp=typeof setTimeout=="function"?setTimeout:void 0,rT=typeof clearTimeout=="function"?clearTimeout:void 0,wv=typeof Promise=="function"?Promise:void 0,nT=typeof queueMicrotask=="function"?queueMicrotask:typeof wv<"u"?function(e){return wv.resolve(null).then(e).catch(sT)}:Hp;function sT(e){setTimeout(function(){throw e})}function Nh(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),nc(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);nc(t)}function Sa(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Nv(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Lo=Math.random().toString(36).slice(2),ts="__reactFiber$"+Lo,lc="__reactProps$"+Lo,Fs="__reactContainer$"+Lo,Up="__reactEvents$"+Lo,aT="__reactListeners$"+Lo,iT="__reactHandles$"+Lo;function Qa(e){var t=e[ts];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Fs]||r[ts]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Nv(e);e!==null;){if(r=e[ts])return r;e=Nv(e)}return t}e=r,r=e.parentNode}return null}function Yc(e){return e=e[ts]||e[Fs],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Yi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ke(33))}function Kf(e){return e[lc]||null}var Vp=[],qi=-1;function La(e){return{current:e}}function jt(e){0>qi||(e.current=Vp[qi],Vp[qi]=null,qi--)}function vt(e,t){qi++,Vp[qi]=e.current,e.current=t}var Pa={},vr=La(Pa),Ir=La(!1),gi=Pa;function wo(e,t){var r=e.type.contextTypes;if(!r)return Pa;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function $r(e){return e=e.childContextTypes,e!=null}function Xd(){jt(Ir),jt(vr)}function jv(e,t,r){if(vr.current!==Pa)throw Error(ke(168));vt(vr,t),vt(Ir,r)}function S1(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(ke(108,VE(e)||"Unknown",s));return Mt({},r,n)}function Jd(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Pa,gi=vr.current,vt(vr,e),vt(Ir,Ir.current),!0}function Sv(e,t,r){var n=e.stateNode;if(!n)throw Error(ke(169));r?(e=S1(e,t,gi),n.__reactInternalMemoizedMergedChildContext=e,jt(Ir),jt(vr),vt(vr,e)):jt(Ir),vt(Ir,r)}var ks=null,Qf=!1,jh=!1;function k1(e){ks===null?ks=[e]:ks.push(e)}function oT(e){Qf=!0,k1(e)}function Fa(){if(!jh&&ks!==null){jh=!0;var e=0,t=pt;try{var r=ks;for(pt=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}ks=null,Qf=!1}catch(s){throw ks!==null&&(ks=ks.slice(e+1)),Qj(by,Fa),s}finally{pt=t,jh=!1}}return null}var Gi=[],Ki=0,Zd=null,ef=0,sn=[],an=0,yi=null,Cs=1,Es="";function za(e,t){Gi[Ki++]=ef,Gi[Ki++]=Zd,Zd=e,ef=t}function D1(e,t,r){sn[an++]=Cs,sn[an++]=Es,sn[an++]=yi,yi=e;var n=Cs;e=Es;var s=32-_n(n)-1;n&=~(1<<s),r+=1;var i=32-_n(t)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,Cs=1<<32-_n(t)+s|r<<s|n,Es=i+e}else Cs=1<<i|r<<s|n,Es=e}function Ay(e){e.return!==null&&(za(e,1),D1(e,1,0))}function Ty(e){for(;e===Zd;)Zd=Gi[--Ki],Gi[Ki]=null,ef=Gi[--Ki],Gi[Ki]=null;for(;e===yi;)yi=sn[--an],sn[an]=null,Es=sn[--an],sn[an]=null,Cs=sn[--an],sn[an]=null}var Gr=null,qr=null,At=!1,Cn=null;function C1(e,t){var r=dn(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function kv(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Gr=e,qr=Sa(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Gr=e,qr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=yi!==null?{id:Cs,overflow:Es}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=dn(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Gr=e,qr=null,!0):!1;default:return!1}}function zp(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Yp(e){if(At){var t=qr;if(t){var r=t;if(!kv(e,t)){if(zp(e))throw Error(ke(418));t=Sa(r.nextSibling);var n=Gr;t&&kv(e,t)?C1(n,r):(e.flags=e.flags&-4097|2,At=!1,Gr=e)}}else{if(zp(e))throw Error(ke(418));e.flags=e.flags&-4097|2,At=!1,Gr=e}}}function Dv(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Gr=e}function Iu(e){if(e!==Gr)return!1;if(!At)return Dv(e),At=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Wp(e.type,e.memoizedProps)),t&&(t=qr)){if(zp(e))throw E1(),Error(ke(418));for(;t;)C1(e,t),t=Sa(t.nextSibling)}if(Dv(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ke(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){qr=Sa(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}qr=null}}else qr=Gr?Sa(e.stateNode.nextSibling):null;return!0}function E1(){for(var e=qr;e;)e=Sa(e.nextSibling)}function No(){qr=Gr=null,At=!1}function _y(e){Cn===null?Cn=[e]:Cn.push(e)}var lT=Ys.ReactCurrentBatchConfig;function fl(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ke(309));var n=r.stateNode}if(!n)throw Error(ke(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(ke(284));if(!r._owner)throw Error(ke(290,e))}return e}function $u(e,t){throw e=Object.prototype.toString.call(t),Error(ke(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Cv(e){var t=e._init;return t(e._payload)}function A1(e){function t(x,b){if(e){var N=x.deletions;N===null?(x.deletions=[b],x.flags|=16):N.push(b)}}function r(x,b){if(!e)return null;for(;b!==null;)t(x,b),b=b.sibling;return null}function n(x,b){for(x=new Map;b!==null;)b.key!==null?x.set(b.key,b):x.set(b.index,b),b=b.sibling;return x}function s(x,b){return x=Ea(x,b),x.index=0,x.sibling=null,x}function i(x,b,N){return x.index=N,e?(N=x.alternate,N!==null?(N=N.index,N<b?(x.flags|=2,b):N):(x.flags|=2,b)):(x.flags|=1048576,b)}function o(x){return e&&x.alternate===null&&(x.flags|=2),x}function l(x,b,N,g){return b===null||b.tag!==6?(b=Th(N,x.mode,g),b.return=x,b):(b=s(b,N),b.return=x,b)}function c(x,b,N,g){var A=N.type;return A===Hi?d(x,b,N.props.children,g,N.key):b!==null&&(b.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===sa&&Cv(A)===b.type)?(g=s(b,N.props),g.ref=fl(x,b,N),g.return=x,g):(g=vd(N.type,N.key,N.props,null,x.mode,g),g.ref=fl(x,b,N),g.return=x,g)}function u(x,b,N,g){return b===null||b.tag!==4||b.stateNode.containerInfo!==N.containerInfo||b.stateNode.implementation!==N.implementation?(b=_h(N,x.mode,g),b.return=x,b):(b=s(b,N.children||[]),b.return=x,b)}function d(x,b,N,g,A){return b===null||b.tag!==7?(b=ui(N,x.mode,g,A),b.return=x,b):(b=s(b,N),b.return=x,b)}function f(x,b,N){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Th(""+b,x.mode,N),b.return=x,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Du:return N=vd(b.type,b.key,b.props,null,x.mode,N),N.ref=fl(x,null,b),N.return=x,N;case Wi:return b=_h(b,x.mode,N),b.return=x,b;case sa:var g=b._init;return f(x,g(b._payload),N)}if(Dl(b)||ol(b))return b=ui(b,x.mode,N,null),b.return=x,b;$u(x,b)}return null}function m(x,b,N,g){var A=b!==null?b.key:null;if(typeof N=="string"&&N!==""||typeof N=="number")return A!==null?null:l(x,b,""+N,g);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Du:return N.key===A?c(x,b,N,g):null;case Wi:return N.key===A?u(x,b,N,g):null;case sa:return A=N._init,m(x,b,A(N._payload),g)}if(Dl(N)||ol(N))return A!==null?null:d(x,b,N,g,null);$u(x,N)}return null}function v(x,b,N,g,A){if(typeof g=="string"&&g!==""||typeof g=="number")return x=x.get(N)||null,l(b,x,""+g,A);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Du:return x=x.get(g.key===null?N:g.key)||null,c(b,x,g,A);case Wi:return x=x.get(g.key===null?N:g.key)||null,u(b,x,g,A);case sa:var k=g._init;return v(x,b,N,k(g._payload),A)}if(Dl(g)||ol(g))return x=x.get(N)||null,d(b,x,g,A,null);$u(b,g)}return null}function p(x,b,N,g){for(var A=null,k=null,_=b,O=b=0,R=null;_!==null&&O<N.length;O++){_.index>O?(R=_,_=null):R=_.sibling;var I=m(x,_,N[O],g);if(I===null){_===null&&(_=R);break}e&&_&&I.alternate===null&&t(x,_),b=i(I,b,O),k===null?A=I:k.sibling=I,k=I,_=R}if(O===N.length)return r(x,_),At&&za(x,O),A;if(_===null){for(;O<N.length;O++)_=f(x,N[O],g),_!==null&&(b=i(_,b,O),k===null?A=_:k.sibling=_,k=_);return At&&za(x,O),A}for(_=n(x,_);O<N.length;O++)R=v(_,x,O,N[O],g),R!==null&&(e&&R.alternate!==null&&_.delete(R.key===null?O:R.key),b=i(R,b,O),k===null?A=R:k.sibling=R,k=R);return e&&_.forEach(function(V){return t(x,V)}),At&&za(x,O),A}function h(x,b,N,g){var A=ol(N);if(typeof A!="function")throw Error(ke(150));if(N=A.call(N),N==null)throw Error(ke(151));for(var k=A=null,_=b,O=b=0,R=null,I=N.next();_!==null&&!I.done;O++,I=N.next()){_.index>O?(R=_,_=null):R=_.sibling;var V=m(x,_,I.value,g);if(V===null){_===null&&(_=R);break}e&&_&&V.alternate===null&&t(x,_),b=i(V,b,O),k===null?A=V:k.sibling=V,k=V,_=R}if(I.done)return r(x,_),At&&za(x,O),A;if(_===null){for(;!I.done;O++,I=N.next())I=f(x,I.value,g),I!==null&&(b=i(I,b,O),k===null?A=I:k.sibling=I,k=I);return At&&za(x,O),A}for(_=n(x,_);!I.done;O++,I=N.next())I=v(_,x,O,I.value,g),I!==null&&(e&&I.alternate!==null&&_.delete(I.key===null?O:I.key),b=i(I,b,O),k===null?A=I:k.sibling=I,k=I);return e&&_.forEach(function(Z){return t(x,Z)}),At&&za(x,O),A}function j(x,b,N,g){if(typeof N=="object"&&N!==null&&N.type===Hi&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case Du:e:{for(var A=N.key,k=b;k!==null;){if(k.key===A){if(A=N.type,A===Hi){if(k.tag===7){r(x,k.sibling),b=s(k,N.props.children),b.return=x,x=b;break e}}else if(k.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===sa&&Cv(A)===k.type){r(x,k.sibling),b=s(k,N.props),b.ref=fl(x,k,N),b.return=x,x=b;break e}r(x,k);break}else t(x,k);k=k.sibling}N.type===Hi?(b=ui(N.props.children,x.mode,g,N.key),b.return=x,x=b):(g=vd(N.type,N.key,N.props,null,x.mode,g),g.ref=fl(x,b,N),g.return=x,x=g)}return o(x);case Wi:e:{for(k=N.key;b!==null;){if(b.key===k)if(b.tag===4&&b.stateNode.containerInfo===N.containerInfo&&b.stateNode.implementation===N.implementation){r(x,b.sibling),b=s(b,N.children||[]),b.return=x,x=b;break e}else{r(x,b);break}else t(x,b);b=b.sibling}b=_h(N,x.mode,g),b.return=x,x=b}return o(x);case sa:return k=N._init,j(x,b,k(N._payload),g)}if(Dl(N))return p(x,b,N,g);if(ol(N))return h(x,b,N,g);$u(x,N)}return typeof N=="string"&&N!==""||typeof N=="number"?(N=""+N,b!==null&&b.tag===6?(r(x,b.sibling),b=s(b,N),b.return=x,x=b):(r(x,b),b=Th(N,x.mode,g),b.return=x,x=b),o(x)):r(x,b)}return j}var jo=A1(!0),T1=A1(!1),tf=La(null),rf=null,Qi=null,Py=null;function Ry(){Py=Qi=rf=null}function My(e){var t=tf.current;jt(tf),e._currentValue=t}function qp(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function so(e,t){rf=e,Py=Qi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Or=!0),e.firstContext=null)}function mn(e){var t=e._currentValue;if(Py!==e)if(e={context:e,memoizedValue:t,next:null},Qi===null){if(rf===null)throw Error(ke(308));Qi=e,rf.dependencies={lanes:0,firstContext:e}}else Qi=Qi.next=e;return t}var Xa=null;function Oy(e){Xa===null?Xa=[e]:Xa.push(e)}function _1(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,Oy(t)):(r.next=s.next,s.next=r),t.interleaved=r,Bs(e,n)}function Bs(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var aa=!1;function Iy(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function P1(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Rs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ka(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,ot&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Bs(e,r)}return s=n.interleaved,s===null?(t.next=t,Oy(n)):(t.next=s.next,s.next=t),n.interleaved=t,Bs(e,r)}function md(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,wy(e,r)}}function Ev(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function nf(e,t,r,n){var s=e.updateQueue;aa=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;o=0,d=u=c=null,l=i;do{var m=l.lane,v=l.eventTime;if((n&m)===m){d!==null&&(d=d.next={eventTime:v,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var p=e,h=l;switch(m=t,v=r,h.tag){case 1:if(p=h.payload,typeof p=="function"){f=p.call(v,f,m);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=h.payload,m=typeof p=="function"?p.call(v,f,m):p,m==null)break e;f=Mt({},f,m);break e;case 2:aa=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=s.effects,m===null?s.effects=[l]:m.push(l))}else v={eventTime:v,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=v,c=f):d=d.next=v,o|=m;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;m=l,l=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);vi|=o,e.lanes=o,e.memoizedState=f}}function Av(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(ke(191,s));s.call(n)}}}var qc={},os=La(qc),cc=La(qc),uc=La(qc);function Ja(e){if(e===qc)throw Error(ke(174));return e}function $y(e,t){switch(vt(uc,t),vt(cc,e),vt(os,qc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Cp(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Cp(t,e)}jt(os),vt(os,t)}function So(){jt(os),jt(cc),jt(uc)}function R1(e){Ja(uc.current);var t=Ja(os.current),r=Cp(t,e.type);t!==r&&(vt(cc,e),vt(os,r))}function Ly(e){cc.current===e&&(jt(os),jt(cc))}var Pt=La(0);function sf(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Sh=[];function Fy(){for(var e=0;e<Sh.length;e++)Sh[e]._workInProgressVersionPrimary=null;Sh.length=0}var hd=Ys.ReactCurrentDispatcher,kh=Ys.ReactCurrentBatchConfig,xi=0,Rt=null,Gt=null,sr=null,af=!1,Ll=!1,dc=0,cT=0;function mr(){throw Error(ke(321))}function By(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Rn(e[r],t[r]))return!1;return!0}function Wy(e,t,r,n,s,i){if(xi=i,Rt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,hd.current=e===null||e.memoizedState===null?mT:hT,e=r(n,s),Ll){i=0;do{if(Ll=!1,dc=0,25<=i)throw Error(ke(301));i+=1,sr=Gt=null,t.updateQueue=null,hd.current=pT,e=r(n,s)}while(Ll)}if(hd.current=of,t=Gt!==null&&Gt.next!==null,xi=0,sr=Gt=Rt=null,af=!1,t)throw Error(ke(300));return e}function Hy(){var e=dc!==0;return dc=0,e}function Gn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return sr===null?Rt.memoizedState=sr=e:sr=sr.next=e,sr}function hn(){if(Gt===null){var e=Rt.alternate;e=e!==null?e.memoizedState:null}else e=Gt.next;var t=sr===null?Rt.memoizedState:sr.next;if(t!==null)sr=t,Gt=e;else{if(e===null)throw Error(ke(310));Gt=e,e={memoizedState:Gt.memoizedState,baseState:Gt.baseState,baseQueue:Gt.baseQueue,queue:Gt.queue,next:null},sr===null?Rt.memoizedState=sr=e:sr=sr.next=e}return sr}function fc(e,t){return typeof t=="function"?t(e):t}function Dh(e){var t=hn(),r=t.queue;if(r===null)throw Error(ke(311));r.lastRenderedReducer=e;var n=Gt,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((xi&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=n):c=c.next=f,Rt.lanes|=d,vi|=d}u=u.next}while(u!==null&&u!==i);c===null?o=n:c.next=l,Rn(n,t.memoizedState)||(Or=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,Rt.lanes|=i,vi|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Ch(e){var t=hn(),r=t.queue;if(r===null)throw Error(ke(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);Rn(i,t.memoizedState)||(Or=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function M1(){}function O1(e,t){var r=Rt,n=hn(),s=t(),i=!Rn(n.memoizedState,s);if(i&&(n.memoizedState=s,Or=!0),n=n.queue,Uy(L1.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||sr!==null&&sr.memoizedState.tag&1){if(r.flags|=2048,mc(9,$1.bind(null,r,n,s,t),void 0,null),ir===null)throw Error(ke(349));xi&30||I1(r,t,s)}return s}function I1(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Rt.updateQueue,t===null?(t={lastEffect:null,stores:null},Rt.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function $1(e,t,r,n){t.value=r,t.getSnapshot=n,F1(t)&&B1(e)}function L1(e,t,r){return r(function(){F1(t)&&B1(e)})}function F1(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Rn(e,r)}catch{return!0}}function B1(e){var t=Bs(e,1);t!==null&&Pn(t,e,1,-1)}function Tv(e){var t=Gn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fc,lastRenderedState:e},t.queue=e,e=e.dispatch=fT.bind(null,Rt,e),[t.memoizedState,e]}function mc(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Rt.updateQueue,t===null?(t={lastEffect:null,stores:null},Rt.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function W1(){return hn().memoizedState}function pd(e,t,r,n){var s=Gn();Rt.flags|=e,s.memoizedState=mc(1|t,r,void 0,n===void 0?null:n)}function Xf(e,t,r,n){var s=hn();n=n===void 0?null:n;var i=void 0;if(Gt!==null){var o=Gt.memoizedState;if(i=o.destroy,n!==null&&By(n,o.deps)){s.memoizedState=mc(t,r,i,n);return}}Rt.flags|=e,s.memoizedState=mc(1|t,r,i,n)}function _v(e,t){return pd(8390656,8,e,t)}function Uy(e,t){return Xf(2048,8,e,t)}function H1(e,t){return Xf(4,2,e,t)}function U1(e,t){return Xf(4,4,e,t)}function V1(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function z1(e,t,r){return r=r!=null?r.concat([e]):null,Xf(4,4,V1.bind(null,t,e),r)}function Vy(){}function Y1(e,t){var r=hn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&By(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function q1(e,t){var r=hn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&By(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function G1(e,t,r){return xi&21?(Rn(r,t)||(r=Zj(),Rt.lanes|=r,vi|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Or=!0),e.memoizedState=r)}function uT(e,t){var r=pt;pt=r!==0&&4>r?r:4,e(!0);var n=kh.transition;kh.transition={};try{e(!1),t()}finally{pt=r,kh.transition=n}}function K1(){return hn().memoizedState}function dT(e,t,r){var n=Ca(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Q1(e))X1(t,r);else if(r=_1(e,t,r,n),r!==null){var s=Er();Pn(r,e,n,s),J1(r,t,n)}}function fT(e,t,r){var n=Ca(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Q1(e))X1(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(s.hasEagerState=!0,s.eagerState=l,Rn(l,o)){var c=t.interleaved;c===null?(s.next=s,Oy(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=_1(e,t,s,n),r!==null&&(s=Er(),Pn(r,e,n,s),J1(r,t,n))}}function Q1(e){var t=e.alternate;return e===Rt||t!==null&&t===Rt}function X1(e,t){Ll=af=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function J1(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,wy(e,r)}}var of={readContext:mn,useCallback:mr,useContext:mr,useEffect:mr,useImperativeHandle:mr,useInsertionEffect:mr,useLayoutEffect:mr,useMemo:mr,useReducer:mr,useRef:mr,useState:mr,useDebugValue:mr,useDeferredValue:mr,useTransition:mr,useMutableSource:mr,useSyncExternalStore:mr,useId:mr,unstable_isNewReconciler:!1},mT={readContext:mn,useCallback:function(e,t){return Gn().memoizedState=[e,t===void 0?null:t],e},useContext:mn,useEffect:_v,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,pd(4194308,4,V1.bind(null,t,e),r)},useLayoutEffect:function(e,t){return pd(4194308,4,e,t)},useInsertionEffect:function(e,t){return pd(4,2,e,t)},useMemo:function(e,t){var r=Gn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Gn();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=dT.bind(null,Rt,e),[n.memoizedState,e]},useRef:function(e){var t=Gn();return e={current:e},t.memoizedState=e},useState:Tv,useDebugValue:Vy,useDeferredValue:function(e){return Gn().memoizedState=e},useTransition:function(){var e=Tv(!1),t=e[0];return e=uT.bind(null,e[1]),Gn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Rt,s=Gn();if(At){if(r===void 0)throw Error(ke(407));r=r()}else{if(r=t(),ir===null)throw Error(ke(349));xi&30||I1(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,_v(L1.bind(null,n,i,e),[e]),n.flags|=2048,mc(9,$1.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Gn(),t=ir.identifierPrefix;if(At){var r=Es,n=Cs;r=(n&~(1<<32-_n(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=dc++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=cT++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},hT={readContext:mn,useCallback:Y1,useContext:mn,useEffect:Uy,useImperativeHandle:z1,useInsertionEffect:H1,useLayoutEffect:U1,useMemo:q1,useReducer:Dh,useRef:W1,useState:function(){return Dh(fc)},useDebugValue:Vy,useDeferredValue:function(e){var t=hn();return G1(t,Gt.memoizedState,e)},useTransition:function(){var e=Dh(fc)[0],t=hn().memoizedState;return[e,t]},useMutableSource:M1,useSyncExternalStore:O1,useId:K1,unstable_isNewReconciler:!1},pT={readContext:mn,useCallback:Y1,useContext:mn,useEffect:Uy,useImperativeHandle:z1,useInsertionEffect:H1,useLayoutEffect:U1,useMemo:q1,useReducer:Ch,useRef:W1,useState:function(){return Ch(fc)},useDebugValue:Vy,useDeferredValue:function(e){var t=hn();return Gt===null?t.memoizedState=e:G1(t,Gt.memoizedState,e)},useTransition:function(){var e=Ch(fc)[0],t=hn().memoizedState;return[e,t]},useMutableSource:M1,useSyncExternalStore:O1,useId:K1,unstable_isNewReconciler:!1};function wn(e,t){if(e&&e.defaultProps){t=Mt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Gp(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Mt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Jf={isMounted:function(e){return(e=e._reactInternals)?Ti(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Er(),s=Ca(e),i=Rs(n,s);i.payload=t,r!=null&&(i.callback=r),t=ka(e,i,s),t!==null&&(Pn(t,e,s,n),md(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Er(),s=Ca(e),i=Rs(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=ka(e,i,s),t!==null&&(Pn(t,e,s,n),md(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Er(),n=Ca(e),s=Rs(r,n);s.tag=2,t!=null&&(s.callback=t),t=ka(e,s,n),t!==null&&(Pn(t,e,n,r),md(t,e,n))}};function Pv(e,t,r,n,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!ac(r,n)||!ac(s,i):!0}function Z1(e,t,r){var n=!1,s=Pa,i=t.contextType;return typeof i=="object"&&i!==null?i=mn(i):(s=$r(t)?gi:vr.current,n=t.contextTypes,i=(n=n!=null)?wo(e,s):Pa),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Jf,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Rv(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Jf.enqueueReplaceState(t,t.state,null)}function Kp(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Iy(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=mn(i):(i=$r(t)?gi:vr.current,s.context=wo(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Gp(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Jf.enqueueReplaceState(s,s.state,null),nf(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function ko(e,t){try{var r="",n=t;do r+=UE(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Eh(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Qp(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var gT=typeof WeakMap=="function"?WeakMap:Map;function e2(e,t,r){r=Rs(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){cf||(cf=!0,ig=n),Qp(e,t)},r}function t2(e,t,r){r=Rs(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){Qp(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Qp(e,t),typeof n!="function"&&(Da===null?Da=new Set([this]):Da.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Mv(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new gT;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=TT.bind(null,e,t,r),t.then(e,e))}function Ov(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Iv(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Rs(-1,1),t.tag=2,ka(r,t,1))),r.lanes|=1),e)}var yT=Ys.ReactCurrentOwner,Or=!1;function jr(e,t,r,n){t.child=e===null?T1(t,null,r,n):jo(t,e.child,r,n)}function $v(e,t,r,n,s){r=r.render;var i=t.ref;return so(t,s),n=Wy(e,t,r,n,i,s),r=Hy(),e!==null&&!Or?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ws(e,t,s)):(At&&r&&Ay(t),t.flags|=1,jr(e,t,n,s),t.child)}function Lv(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!Jy(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,r2(e,t,i,n,s)):(e=vd(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:ac,r(o,n)&&e.ref===t.ref)return Ws(e,t,s)}return t.flags|=1,e=Ea(i,n),e.ref=t.ref,e.return=t,t.child=e}function r2(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(ac(i,n)&&e.ref===t.ref)if(Or=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(Or=!0);else return t.lanes=e.lanes,Ws(e,t,s)}return Xp(e,t,r,n,s)}function n2(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},vt(Ji,zr),zr|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,vt(Ji,zr),zr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,vt(Ji,zr),zr|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,vt(Ji,zr),zr|=n;return jr(e,t,s,r),t.child}function s2(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Xp(e,t,r,n,s){var i=$r(r)?gi:vr.current;return i=wo(t,i),so(t,s),r=Wy(e,t,r,n,i,s),n=Hy(),e!==null&&!Or?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ws(e,t,s)):(At&&n&&Ay(t),t.flags|=1,jr(e,t,r,s),t.child)}function Fv(e,t,r,n,s){if($r(r)){var i=!0;Jd(t)}else i=!1;if(so(t,s),t.stateNode===null)gd(e,t),Z1(t,r,n),Kp(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=mn(u):(u=$r(r)?gi:vr.current,u=wo(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&Rv(t,o,n,u),aa=!1;var m=t.memoizedState;o.state=m,nf(t,n,o,s),c=t.memoizedState,l!==n||m!==c||Ir.current||aa?(typeof d=="function"&&(Gp(t,r,d,n),c=t.memoizedState),(l=aa||Pv(t,r,l,n,m,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,P1(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:wn(t.type,l),o.props=u,f=t.pendingProps,m=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=mn(c):(c=$r(r)?gi:vr.current,c=wo(t,c));var v=r.getDerivedStateFromProps;(d=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||m!==c)&&Rv(t,o,n,c),aa=!1,m=t.memoizedState,o.state=m,nf(t,n,o,s);var p=t.memoizedState;l!==f||m!==p||Ir.current||aa?(typeof v=="function"&&(Gp(t,r,v,n),p=t.memoizedState),(u=aa||Pv(t,r,u,n,m,p,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,p,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,p,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=p),o.props=n,o.state=p,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),n=!1)}return Jp(e,t,r,n,i,s)}function Jp(e,t,r,n,s,i){s2(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&Sv(t,r,!1),Ws(e,t,i);n=t.stateNode,yT.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=jo(t,e.child,null,i),t.child=jo(t,null,l,i)):jr(e,t,l,i),t.memoizedState=n.state,s&&Sv(t,r,!0),t.child}function a2(e){var t=e.stateNode;t.pendingContext?jv(e,t.pendingContext,t.pendingContext!==t.context):t.context&&jv(e,t.context,!1),$y(e,t.containerInfo)}function Bv(e,t,r,n,s){return No(),_y(s),t.flags|=256,jr(e,t,r,n),t.child}var Zp={dehydrated:null,treeContext:null,retryLane:0};function eg(e){return{baseLanes:e,cachePool:null,transitions:null}}function i2(e,t,r){var n=t.pendingProps,s=Pt.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),vt(Pt,s&1),e===null)return Yp(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=tm(o,n,0,null),e=ui(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=eg(r),t.memoizedState=Zp,e):zy(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return xT(e,t,o,n,l,s,r);if(i){i=n.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Ea(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Ea(l,i):(i=ui(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?eg(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=Zp,n}return i=e.child,e=i.sibling,n=Ea(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function zy(e,t){return t=tm({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Lu(e,t,r,n){return n!==null&&_y(n),jo(t,e.child,null,r),e=zy(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function xT(e,t,r,n,s,i,o){if(r)return t.flags&256?(t.flags&=-257,n=Eh(Error(ke(422))),Lu(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=tm({mode:"visible",children:n.children},s,0,null),i=ui(i,s,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&jo(t,e.child,null,o),t.child.memoizedState=eg(o),t.memoizedState=Zp,i);if(!(t.mode&1))return Lu(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(ke(419)),n=Eh(i,n,void 0),Lu(e,t,o,n)}if(l=(o&e.childLanes)!==0,Or||l){if(n=ir,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Bs(e,s),Pn(n,e,s,-1))}return Xy(),n=Eh(Error(ke(421))),Lu(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=_T.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,qr=Sa(s.nextSibling),Gr=t,At=!0,Cn=null,e!==null&&(sn[an++]=Cs,sn[an++]=Es,sn[an++]=yi,Cs=e.id,Es=e.overflow,yi=t),t=zy(t,n.children),t.flags|=4096,t)}function Wv(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),qp(e.return,t,r)}function Ah(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function o2(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(jr(e,t,n.children,r),n=Pt.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Wv(e,r,t);else if(e.tag===19)Wv(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(vt(Pt,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&sf(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Ah(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&sf(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Ah(t,!0,r,null,i);break;case"together":Ah(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function gd(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ws(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),vi|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ke(153));if(t.child!==null){for(e=t.child,r=Ea(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Ea(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function vT(e,t,r){switch(t.tag){case 3:a2(t),No();break;case 5:R1(t);break;case 1:$r(t.type)&&Jd(t);break;case 4:$y(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;vt(tf,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(vt(Pt,Pt.current&1),t.flags|=128,null):r&t.child.childLanes?i2(e,t,r):(vt(Pt,Pt.current&1),e=Ws(e,t,r),e!==null?e.sibling:null);vt(Pt,Pt.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return o2(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),vt(Pt,Pt.current),n)break;return null;case 22:case 23:return t.lanes=0,n2(e,t,r)}return Ws(e,t,r)}var l2,tg,c2,u2;l2=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};tg=function(){};c2=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Ja(os.current);var i=null;switch(r){case"input":s=jp(e,s),n=jp(e,n),i=[];break;case"select":s=Mt({},s,{value:void 0}),n=Mt({},n,{value:void 0}),i=[];break;case"textarea":s=Dp(e,s),n=Dp(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Qd)}Ep(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Jl.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Jl.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&bt("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};u2=function(e,t,r,n){r!==n&&(t.flags|=4)};function ml(e,t){if(!At)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function hr(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function bT(e,t,r){var n=t.pendingProps;switch(Ty(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return hr(t),null;case 1:return $r(t.type)&&Xd(),hr(t),null;case 3:return n=t.stateNode,So(),jt(Ir),jt(vr),Fy(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Iu(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Cn!==null&&(cg(Cn),Cn=null))),tg(e,t),hr(t),null;case 5:Ly(t);var s=Ja(uc.current);if(r=t.type,e!==null&&t.stateNode!=null)c2(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(ke(166));return hr(t),null}if(e=Ja(os.current),Iu(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[ts]=t,n[lc]=i,e=(t.mode&1)!==0,r){case"dialog":bt("cancel",n),bt("close",n);break;case"iframe":case"object":case"embed":bt("load",n);break;case"video":case"audio":for(s=0;s<El.length;s++)bt(El[s],n);break;case"source":bt("error",n);break;case"img":case"image":case"link":bt("error",n),bt("load",n);break;case"details":bt("toggle",n);break;case"input":Q0(n,i),bt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},bt("invalid",n);break;case"textarea":J0(n,i),bt("invalid",n)}Ep(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&Ou(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Ou(n.textContent,l,e),s=["children",""+l]):Jl.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&bt("scroll",n)}switch(r){case"input":Cu(n),X0(n,i,!0);break;case"textarea":Cu(n),Z0(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Qd)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Lj(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[ts]=t,e[lc]=n,l2(e,t,!1,!1),t.stateNode=e;e:{switch(o=Ap(r,n),r){case"dialog":bt("cancel",e),bt("close",e),s=n;break;case"iframe":case"object":case"embed":bt("load",e),s=n;break;case"video":case"audio":for(s=0;s<El.length;s++)bt(El[s],e);s=n;break;case"source":bt("error",e),s=n;break;case"img":case"image":case"link":bt("error",e),bt("load",e),s=n;break;case"details":bt("toggle",e),s=n;break;case"input":Q0(e,n),s=jp(e,n),bt("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=Mt({},n,{value:void 0}),bt("invalid",e);break;case"textarea":J0(e,n),s=Dp(e,n),bt("invalid",e);break;default:s=n}Ep(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?Wj(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Fj(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Zl(e,c):typeof c=="number"&&Zl(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Jl.hasOwnProperty(i)?c!=null&&i==="onScroll"&&bt("scroll",e):c!=null&&py(e,i,c,o))}switch(r){case"input":Cu(e),X0(e,n,!1);break;case"textarea":Cu(e),Z0(e);break;case"option":n.value!=null&&e.setAttribute("value",""+_a(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?eo(e,!!n.multiple,i,!1):n.defaultValue!=null&&eo(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Qd)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return hr(t),null;case 6:if(e&&t.stateNode!=null)u2(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(ke(166));if(r=Ja(uc.current),Ja(os.current),Iu(t)){if(n=t.stateNode,r=t.memoizedProps,n[ts]=t,(i=n.nodeValue!==r)&&(e=Gr,e!==null))switch(e.tag){case 3:Ou(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ou(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ts]=t,t.stateNode=n}return hr(t),null;case 13:if(jt(Pt),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(At&&qr!==null&&t.mode&1&&!(t.flags&128))E1(),No(),t.flags|=98560,i=!1;else if(i=Iu(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(ke(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ke(317));i[ts]=t}else No(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;hr(t),i=!1}else Cn!==null&&(cg(Cn),Cn=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Pt.current&1?Xt===0&&(Xt=3):Xy())),t.updateQueue!==null&&(t.flags|=4),hr(t),null);case 4:return So(),tg(e,t),e===null&&ic(t.stateNode.containerInfo),hr(t),null;case 10:return My(t.type._context),hr(t),null;case 17:return $r(t.type)&&Xd(),hr(t),null;case 19:if(jt(Pt),i=t.memoizedState,i===null)return hr(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)ml(i,!1);else{if(Xt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=sf(e),o!==null){for(t.flags|=128,ml(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return vt(Pt,Pt.current&1|2),t.child}e=e.sibling}i.tail!==null&&Bt()>Do&&(t.flags|=128,n=!0,ml(i,!1),t.lanes=4194304)}else{if(!n)if(e=sf(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),ml(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!At)return hr(t),null}else 2*Bt()-i.renderingStartTime>Do&&r!==1073741824&&(t.flags|=128,n=!0,ml(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Bt(),t.sibling=null,r=Pt.current,vt(Pt,n?r&1|2:r&1),t):(hr(t),null);case 22:case 23:return Qy(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?zr&1073741824&&(hr(t),t.subtreeFlags&6&&(t.flags|=8192)):hr(t),null;case 24:return null;case 25:return null}throw Error(ke(156,t.tag))}function wT(e,t){switch(Ty(t),t.tag){case 1:return $r(t.type)&&Xd(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return So(),jt(Ir),jt(vr),Fy(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ly(t),null;case 13:if(jt(Pt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ke(340));No()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return jt(Pt),null;case 4:return So(),null;case 10:return My(t.type._context),null;case 22:case 23:return Qy(),null;case 24:return null;default:return null}}var Fu=!1,gr=!1,NT=typeof WeakSet=="function"?WeakSet:Set,$e=null;function Xi(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){It(e,t,n)}else r.current=null}function rg(e,t,r){try{r()}catch(n){It(e,t,n)}}var Hv=!1;function jT(e,t){if(Fp=qd,e=p1(),Ey(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,m=null;t:for(;;){for(var v;f!==r||s!==0&&f.nodeType!==3||(l=o+s),f!==i||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(v=f.firstChild)!==null;)m=f,f=v;for(;;){if(f===e)break t;if(m===r&&++u===s&&(l=o),m===i&&++d===n&&(c=o),(v=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=v}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Bp={focusedElem:e,selectionRange:r},qd=!1,$e=t;$e!==null;)if(t=$e,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,$e=e;else for(;$e!==null;){t=$e;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var h=p.memoizedProps,j=p.memoizedState,x=t.stateNode,b=x.getSnapshotBeforeUpdate(t.elementType===t.type?h:wn(t.type,h),j);x.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var N=t.stateNode.containerInfo;N.nodeType===1?N.textContent="":N.nodeType===9&&N.documentElement&&N.removeChild(N.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ke(163))}}catch(g){It(t,t.return,g)}if(e=t.sibling,e!==null){e.return=t.return,$e=e;break}$e=t.return}return p=Hv,Hv=!1,p}function Fl(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&rg(t,r,i)}s=s.next}while(s!==n)}}function Zf(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function ng(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function d2(e){var t=e.alternate;t!==null&&(e.alternate=null,d2(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ts],delete t[lc],delete t[Up],delete t[aT],delete t[iT])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function f2(e){return e.tag===5||e.tag===3||e.tag===4}function Uv(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||f2(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function sg(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Qd));else if(n!==4&&(e=e.child,e!==null))for(sg(e,t,r),e=e.sibling;e!==null;)sg(e,t,r),e=e.sibling}function ag(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(ag(e,t,r),e=e.sibling;e!==null;)ag(e,t,r),e=e.sibling}var lr=null,kn=!1;function Js(e,t,r){for(r=r.child;r!==null;)m2(e,t,r),r=r.sibling}function m2(e,t,r){if(is&&typeof is.onCommitFiberUnmount=="function")try{is.onCommitFiberUnmount(zf,r)}catch{}switch(r.tag){case 5:gr||Xi(r,t);case 6:var n=lr,s=kn;lr=null,Js(e,t,r),lr=n,kn=s,lr!==null&&(kn?(e=lr,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):lr.removeChild(r.stateNode));break;case 18:lr!==null&&(kn?(e=lr,r=r.stateNode,e.nodeType===8?Nh(e.parentNode,r):e.nodeType===1&&Nh(e,r),nc(e)):Nh(lr,r.stateNode));break;case 4:n=lr,s=kn,lr=r.stateNode.containerInfo,kn=!0,Js(e,t,r),lr=n,kn=s;break;case 0:case 11:case 14:case 15:if(!gr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&rg(r,t,o),s=s.next}while(s!==n)}Js(e,t,r);break;case 1:if(!gr&&(Xi(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){It(r,t,l)}Js(e,t,r);break;case 21:Js(e,t,r);break;case 22:r.mode&1?(gr=(n=gr)||r.memoizedState!==null,Js(e,t,r),gr=n):Js(e,t,r);break;default:Js(e,t,r)}}function Vv(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new NT),t.forEach(function(n){var s=PT.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function bn(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:lr=l.stateNode,kn=!1;break e;case 3:lr=l.stateNode.containerInfo,kn=!0;break e;case 4:lr=l.stateNode.containerInfo,kn=!0;break e}l=l.return}if(lr===null)throw Error(ke(160));m2(i,o,s),lr=null,kn=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){It(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)h2(t,e),t=t.sibling}function h2(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(bn(t,e),Yn(e),n&4){try{Fl(3,e,e.return),Zf(3,e)}catch(h){It(e,e.return,h)}try{Fl(5,e,e.return)}catch(h){It(e,e.return,h)}}break;case 1:bn(t,e),Yn(e),n&512&&r!==null&&Xi(r,r.return);break;case 5:if(bn(t,e),Yn(e),n&512&&r!==null&&Xi(r,r.return),e.flags&32){var s=e.stateNode;try{Zl(s,"")}catch(h){It(e,e.return,h)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Ij(s,i),Ap(l,o);var u=Ap(l,i);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?Wj(s,f):d==="dangerouslySetInnerHTML"?Fj(s,f):d==="children"?Zl(s,f):py(s,d,f,u)}switch(l){case"input":Sp(s,i);break;case"textarea":$j(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?eo(s,!!i.multiple,v,!1):m!==!!i.multiple&&(i.defaultValue!=null?eo(s,!!i.multiple,i.defaultValue,!0):eo(s,!!i.multiple,i.multiple?[]:"",!1))}s[lc]=i}catch(h){It(e,e.return,h)}}break;case 6:if(bn(t,e),Yn(e),n&4){if(e.stateNode===null)throw Error(ke(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(h){It(e,e.return,h)}}break;case 3:if(bn(t,e),Yn(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{nc(t.containerInfo)}catch(h){It(e,e.return,h)}break;case 4:bn(t,e),Yn(e);break;case 13:bn(t,e),Yn(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Gy=Bt())),n&4&&Vv(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(gr=(u=gr)||d,bn(t,e),gr=u):bn(t,e),Yn(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for($e=e,d=e.child;d!==null;){for(f=$e=d;$e!==null;){switch(m=$e,v=m.child,m.tag){case 0:case 11:case 14:case 15:Fl(4,m,m.return);break;case 1:Xi(m,m.return);var p=m.stateNode;if(typeof p.componentWillUnmount=="function"){n=m,r=m.return;try{t=n,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(h){It(n,r,h)}}break;case 5:Xi(m,m.return);break;case 22:if(m.memoizedState!==null){Yv(f);continue}}v!==null?(v.return=m,$e=v):Yv(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Bj("display",o))}catch(h){It(e,e.return,h)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(h){It(e,e.return,h)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:bn(t,e),Yn(e),n&4&&Vv(e);break;case 21:break;default:bn(t,e),Yn(e)}}function Yn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(f2(r)){var n=r;break e}r=r.return}throw Error(ke(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Zl(s,""),n.flags&=-33);var i=Uv(e);ag(e,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=Uv(e);sg(e,l,o);break;default:throw Error(ke(161))}}catch(c){It(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ST(e,t,r){$e=e,p2(e)}function p2(e,t,r){for(var n=(e.mode&1)!==0;$e!==null;){var s=$e,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||Fu;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||gr;l=Fu;var u=gr;if(Fu=o,(gr=c)&&!u)for($e=s;$e!==null;)o=$e,c=o.child,o.tag===22&&o.memoizedState!==null?qv(s):c!==null?(c.return=o,$e=c):qv(s);for(;i!==null;)$e=i,p2(i),i=i.sibling;$e=s,Fu=l,gr=u}zv(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,$e=i):zv(e)}}function zv(e){for(;$e!==null;){var t=$e;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:gr||Zf(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!gr)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:wn(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Av(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Av(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&nc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ke(163))}gr||t.flags&512&&ng(t)}catch(m){It(t,t.return,m)}}if(t===e){$e=null;break}if(r=t.sibling,r!==null){r.return=t.return,$e=r;break}$e=t.return}}function Yv(e){for(;$e!==null;){var t=$e;if(t===e){$e=null;break}var r=t.sibling;if(r!==null){r.return=t.return,$e=r;break}$e=t.return}}function qv(e){for(;$e!==null;){var t=$e;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Zf(4,t)}catch(c){It(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){It(t,s,c)}}var i=t.return;try{ng(t)}catch(c){It(t,i,c)}break;case 5:var o=t.return;try{ng(t)}catch(c){It(t,o,c)}}}catch(c){It(t,t.return,c)}if(t===e){$e=null;break}var l=t.sibling;if(l!==null){l.return=t.return,$e=l;break}$e=t.return}}var kT=Math.ceil,lf=Ys.ReactCurrentDispatcher,Yy=Ys.ReactCurrentOwner,fn=Ys.ReactCurrentBatchConfig,ot=0,ir=null,Vt=null,cr=0,zr=0,Ji=La(0),Xt=0,hc=null,vi=0,em=0,qy=0,Bl=null,Mr=null,Gy=0,Do=1/0,js=null,cf=!1,ig=null,Da=null,Bu=!1,xa=null,uf=0,Wl=0,og=null,yd=-1,xd=0;function Er(){return ot&6?Bt():yd!==-1?yd:yd=Bt()}function Ca(e){return e.mode&1?ot&2&&cr!==0?cr&-cr:lT.transition!==null?(xd===0&&(xd=Zj()),xd):(e=pt,e!==0||(e=window.event,e=e===void 0?16:i1(e.type)),e):1}function Pn(e,t,r,n){if(50<Wl)throw Wl=0,og=null,Error(ke(185));Vc(e,r,n),(!(ot&2)||e!==ir)&&(e===ir&&(!(ot&2)&&(em|=r),Xt===4&&la(e,cr)),Lr(e,n),r===1&&ot===0&&!(t.mode&1)&&(Do=Bt()+500,Qf&&Fa()))}function Lr(e,t){var r=e.callbackNode;lA(e,t);var n=Yd(e,e===ir?cr:0);if(n===0)r!==null&&rv(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&rv(r),t===1)e.tag===0?oT(Gv.bind(null,e)):k1(Gv.bind(null,e)),nT(function(){!(ot&6)&&Fa()}),r=null;else{switch(e1(n)){case 1:r=by;break;case 4:r=Xj;break;case 16:r=zd;break;case 536870912:r=Jj;break;default:r=zd}r=j2(r,g2.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function g2(e,t){if(yd=-1,xd=0,ot&6)throw Error(ke(327));var r=e.callbackNode;if(ao()&&e.callbackNode!==r)return null;var n=Yd(e,e===ir?cr:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=df(e,n);else{t=n;var s=ot;ot|=2;var i=x2();(ir!==e||cr!==t)&&(js=null,Do=Bt()+500,ci(e,t));do try{ET();break}catch(l){y2(e,l)}while(!0);Ry(),lf.current=i,ot=s,Vt!==null?t=0:(ir=null,cr=0,t=Xt)}if(t!==0){if(t===2&&(s=Mp(e),s!==0&&(n=s,t=lg(e,s))),t===1)throw r=hc,ci(e,0),la(e,n),Lr(e,Bt()),r;if(t===6)la(e,n);else{if(s=e.current.alternate,!(n&30)&&!DT(s)&&(t=df(e,n),t===2&&(i=Mp(e),i!==0&&(n=i,t=lg(e,i))),t===1))throw r=hc,ci(e,0),la(e,n),Lr(e,Bt()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(ke(345));case 2:Ya(e,Mr,js);break;case 3:if(la(e,n),(n&130023424)===n&&(t=Gy+500-Bt(),10<t)){if(Yd(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Er(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Hp(Ya.bind(null,e,Mr,js),t);break}Ya(e,Mr,js);break;case 4:if(la(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-_n(n);i=1<<o,o=t[o],o>s&&(s=o),n&=~i}if(n=s,n=Bt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*kT(n/1960))-n,10<n){e.timeoutHandle=Hp(Ya.bind(null,e,Mr,js),n);break}Ya(e,Mr,js);break;case 5:Ya(e,Mr,js);break;default:throw Error(ke(329))}}}return Lr(e,Bt()),e.callbackNode===r?g2.bind(null,e):null}function lg(e,t){var r=Bl;return e.current.memoizedState.isDehydrated&&(ci(e,t).flags|=256),e=df(e,t),e!==2&&(t=Mr,Mr=r,t!==null&&cg(t)),e}function cg(e){Mr===null?Mr=e:Mr.push.apply(Mr,e)}function DT(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!Rn(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function la(e,t){for(t&=~qy,t&=~em,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-_n(t),n=1<<r;e[r]=-1,t&=~n}}function Gv(e){if(ot&6)throw Error(ke(327));ao();var t=Yd(e,0);if(!(t&1))return Lr(e,Bt()),null;var r=df(e,t);if(e.tag!==0&&r===2){var n=Mp(e);n!==0&&(t=n,r=lg(e,n))}if(r===1)throw r=hc,ci(e,0),la(e,t),Lr(e,Bt()),r;if(r===6)throw Error(ke(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ya(e,Mr,js),Lr(e,Bt()),null}function Ky(e,t){var r=ot;ot|=1;try{return e(t)}finally{ot=r,ot===0&&(Do=Bt()+500,Qf&&Fa())}}function bi(e){xa!==null&&xa.tag===0&&!(ot&6)&&ao();var t=ot;ot|=1;var r=fn.transition,n=pt;try{if(fn.transition=null,pt=1,e)return e()}finally{pt=n,fn.transition=r,ot=t,!(ot&6)&&Fa()}}function Qy(){zr=Ji.current,jt(Ji)}function ci(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,rT(r)),Vt!==null)for(r=Vt.return;r!==null;){var n=r;switch(Ty(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Xd();break;case 3:So(),jt(Ir),jt(vr),Fy();break;case 5:Ly(n);break;case 4:So();break;case 13:jt(Pt);break;case 19:jt(Pt);break;case 10:My(n.type._context);break;case 22:case 23:Qy()}r=r.return}if(ir=e,Vt=e=Ea(e.current,null),cr=zr=t,Xt=0,hc=null,qy=em=vi=0,Mr=Bl=null,Xa!==null){for(t=0;t<Xa.length;t++)if(r=Xa[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}Xa=null}return e}function y2(e,t){do{var r=Vt;try{if(Ry(),hd.current=of,af){for(var n=Rt.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}af=!1}if(xi=0,sr=Gt=Rt=null,Ll=!1,dc=0,Yy.current=null,r===null||r.return===null){Xt=1,hc=t,Vt=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=cr,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=Ov(o);if(v!==null){v.flags&=-257,Iv(v,o,l,i,t),v.mode&1&&Mv(i,u,t),t=v,c=u;var p=t.updateQueue;if(p===null){var h=new Set;h.add(c),t.updateQueue=h}else p.add(c);break e}else{if(!(t&1)){Mv(i,u,t),Xy();break e}c=Error(ke(426))}}else if(At&&l.mode&1){var j=Ov(o);if(j!==null){!(j.flags&65536)&&(j.flags|=256),Iv(j,o,l,i,t),_y(ko(c,l));break e}}i=c=ko(c,l),Xt!==4&&(Xt=2),Bl===null?Bl=[i]:Bl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var x=e2(i,c,t);Ev(i,x);break e;case 1:l=c;var b=i.type,N=i.stateNode;if(!(i.flags&128)&&(typeof b.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(Da===null||!Da.has(N)))){i.flags|=65536,t&=-t,i.lanes|=t;var g=t2(i,l,t);Ev(i,g);break e}}i=i.return}while(i!==null)}b2(r)}catch(A){t=A,Vt===r&&r!==null&&(Vt=r=r.return);continue}break}while(!0)}function x2(){var e=lf.current;return lf.current=of,e===null?of:e}function Xy(){(Xt===0||Xt===3||Xt===2)&&(Xt=4),ir===null||!(vi&268435455)&&!(em&268435455)||la(ir,cr)}function df(e,t){var r=ot;ot|=2;var n=x2();(ir!==e||cr!==t)&&(js=null,ci(e,t));do try{CT();break}catch(s){y2(e,s)}while(!0);if(Ry(),ot=r,lf.current=n,Vt!==null)throw Error(ke(261));return ir=null,cr=0,Xt}function CT(){for(;Vt!==null;)v2(Vt)}function ET(){for(;Vt!==null&&!ZE();)v2(Vt)}function v2(e){var t=N2(e.alternate,e,zr);e.memoizedProps=e.pendingProps,t===null?b2(e):Vt=t,Yy.current=null}function b2(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=wT(r,t),r!==null){r.flags&=32767,Vt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Xt=6,Vt=null;return}}else if(r=bT(r,t,zr),r!==null){Vt=r;return}if(t=t.sibling,t!==null){Vt=t;return}Vt=t=e}while(t!==null);Xt===0&&(Xt=5)}function Ya(e,t,r){var n=pt,s=fn.transition;try{fn.transition=null,pt=1,AT(e,t,r,n)}finally{fn.transition=s,pt=n}return null}function AT(e,t,r,n){do ao();while(xa!==null);if(ot&6)throw Error(ke(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ke(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(cA(e,i),e===ir&&(Vt=ir=null,cr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Bu||(Bu=!0,j2(zd,function(){return ao(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=fn.transition,fn.transition=null;var o=pt;pt=1;var l=ot;ot|=4,Yy.current=null,jT(e,r),h2(r,e),KA(Bp),qd=!!Fp,Bp=Fp=null,e.current=r,ST(r),eA(),ot=l,pt=o,fn.transition=i}else e.current=r;if(Bu&&(Bu=!1,xa=e,uf=s),i=e.pendingLanes,i===0&&(Da=null),nA(r.stateNode),Lr(e,Bt()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(cf)throw cf=!1,e=ig,ig=null,e;return uf&1&&e.tag!==0&&ao(),i=e.pendingLanes,i&1?e===og?Wl++:(Wl=0,og=e):Wl=0,Fa(),null}function ao(){if(xa!==null){var e=e1(uf),t=fn.transition,r=pt;try{if(fn.transition=null,pt=16>e?16:e,xa===null)var n=!1;else{if(e=xa,xa=null,uf=0,ot&6)throw Error(ke(331));var s=ot;for(ot|=4,$e=e.current;$e!==null;){var i=$e,o=i.child;if($e.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for($e=u;$e!==null;){var d=$e;switch(d.tag){case 0:case 11:case 15:Fl(8,d,i)}var f=d.child;if(f!==null)f.return=d,$e=f;else for(;$e!==null;){d=$e;var m=d.sibling,v=d.return;if(d2(d),d===u){$e=null;break}if(m!==null){m.return=v,$e=m;break}$e=v}}}var p=i.alternate;if(p!==null){var h=p.child;if(h!==null){p.child=null;do{var j=h.sibling;h.sibling=null,h=j}while(h!==null)}}$e=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,$e=o;else e:for(;$e!==null;){if(i=$e,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Fl(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,$e=x;break e}$e=i.return}}var b=e.current;for($e=b;$e!==null;){o=$e;var N=o.child;if(o.subtreeFlags&2064&&N!==null)N.return=o,$e=N;else e:for(o=b;$e!==null;){if(l=$e,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Zf(9,l)}}catch(A){It(l,l.return,A)}if(l===o){$e=null;break e}var g=l.sibling;if(g!==null){g.return=l.return,$e=g;break e}$e=l.return}}if(ot=s,Fa(),is&&typeof is.onPostCommitFiberRoot=="function")try{is.onPostCommitFiberRoot(zf,e)}catch{}n=!0}return n}finally{pt=r,fn.transition=t}}return!1}function Kv(e,t,r){t=ko(r,t),t=e2(e,t,1),e=ka(e,t,1),t=Er(),e!==null&&(Vc(e,1,t),Lr(e,t))}function It(e,t,r){if(e.tag===3)Kv(e,e,r);else for(;t!==null;){if(t.tag===3){Kv(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Da===null||!Da.has(n))){e=ko(r,e),e=t2(t,e,1),t=ka(t,e,1),e=Er(),t!==null&&(Vc(t,1,e),Lr(t,e));break}}t=t.return}}function TT(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Er(),e.pingedLanes|=e.suspendedLanes&r,ir===e&&(cr&r)===r&&(Xt===4||Xt===3&&(cr&130023424)===cr&&500>Bt()-Gy?ci(e,0):qy|=r),Lr(e,t)}function w2(e,t){t===0&&(e.mode&1?(t=Tu,Tu<<=1,!(Tu&130023424)&&(Tu=4194304)):t=1);var r=Er();e=Bs(e,t),e!==null&&(Vc(e,t,r),Lr(e,r))}function _T(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),w2(e,r)}function PT(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(ke(314))}n!==null&&n.delete(t),w2(e,r)}var N2;N2=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ir.current)Or=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Or=!1,vT(e,t,r);Or=!!(e.flags&131072)}else Or=!1,At&&t.flags&1048576&&D1(t,ef,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;gd(e,t),e=t.pendingProps;var s=wo(t,vr.current);so(t,r),s=Wy(null,t,n,e,s,r);var i=Hy();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,$r(n)?(i=!0,Jd(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Iy(t),s.updater=Jf,t.stateNode=s,s._reactInternals=t,Kp(t,n,e,r),t=Jp(null,t,n,!0,i,r)):(t.tag=0,At&&i&&Ay(t),jr(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(gd(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=MT(n),e=wn(n,e),s){case 0:t=Xp(null,t,n,e,r);break e;case 1:t=Fv(null,t,n,e,r);break e;case 11:t=$v(null,t,n,e,r);break e;case 14:t=Lv(null,t,n,wn(n.type,e),r);break e}throw Error(ke(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:wn(n,s),Xp(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:wn(n,s),Fv(e,t,n,s,r);case 3:e:{if(a2(t),e===null)throw Error(ke(387));n=t.pendingProps,i=t.memoizedState,s=i.element,P1(e,t),nf(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=ko(Error(ke(423)),t),t=Bv(e,t,n,r,s);break e}else if(n!==s){s=ko(Error(ke(424)),t),t=Bv(e,t,n,r,s);break e}else for(qr=Sa(t.stateNode.containerInfo.firstChild),Gr=t,At=!0,Cn=null,r=T1(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(No(),n===s){t=Ws(e,t,r);break e}jr(e,t,n,r)}t=t.child}return t;case 5:return R1(t),e===null&&Yp(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,Wp(n,s)?o=null:i!==null&&Wp(n,i)&&(t.flags|=32),s2(e,t),jr(e,t,o,r),t.child;case 6:return e===null&&Yp(t),null;case 13:return i2(e,t,r);case 4:return $y(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=jo(t,null,n,r):jr(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:wn(n,s),$v(e,t,n,s,r);case 7:return jr(e,t,t.pendingProps,r),t.child;case 8:return jr(e,t,t.pendingProps.children,r),t.child;case 12:return jr(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,vt(tf,n._currentValue),n._currentValue=o,i!==null)if(Rn(i.value,o)){if(i.children===s.children&&!Ir.current){t=Ws(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=Rs(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),qp(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(ke(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),qp(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}jr(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,so(t,r),s=mn(s),n=n(s),t.flags|=1,jr(e,t,n,r),t.child;case 14:return n=t.type,s=wn(n,t.pendingProps),s=wn(n.type,s),Lv(e,t,n,s,r);case 15:return r2(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:wn(n,s),gd(e,t),t.tag=1,$r(n)?(e=!0,Jd(t)):e=!1,so(t,r),Z1(t,n,s),Kp(t,n,s,r),Jp(null,t,n,!0,e,r);case 19:return o2(e,t,r);case 22:return n2(e,t,r)}throw Error(ke(156,t.tag))};function j2(e,t){return Qj(e,t)}function RT(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dn(e,t,r,n){return new RT(e,t,r,n)}function Jy(e){return e=e.prototype,!(!e||!e.isReactComponent)}function MT(e){if(typeof e=="function")return Jy(e)?1:0;if(e!=null){if(e=e.$$typeof,e===yy)return 11;if(e===xy)return 14}return 2}function Ea(e,t){var r=e.alternate;return r===null?(r=dn(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function vd(e,t,r,n,s,i){var o=2;if(n=e,typeof e=="function")Jy(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Hi:return ui(r.children,s,i,t);case gy:o=8,s|=8;break;case vp:return e=dn(12,r,t,s|2),e.elementType=vp,e.lanes=i,e;case bp:return e=dn(13,r,t,s),e.elementType=bp,e.lanes=i,e;case wp:return e=dn(19,r,t,s),e.elementType=wp,e.lanes=i,e;case Rj:return tm(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case _j:o=10;break e;case Pj:o=9;break e;case yy:o=11;break e;case xy:o=14;break e;case sa:o=16,n=null;break e}throw Error(ke(130,e==null?e:typeof e,""))}return t=dn(o,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function ui(e,t,r,n){return e=dn(7,e,n,t),e.lanes=r,e}function tm(e,t,r,n){return e=dn(22,e,n,t),e.elementType=Rj,e.lanes=r,e.stateNode={isHidden:!1},e}function Th(e,t,r){return e=dn(6,e,null,t),e.lanes=r,e}function _h(e,t,r){return t=dn(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function OT(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=dh(0),this.expirationTimes=dh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dh(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Zy(e,t,r,n,s,i,o,l,c){return e=new OT(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=dn(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Iy(i),e}function IT(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Wi,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function S2(e){if(!e)return Pa;e=e._reactInternals;e:{if(Ti(e)!==e||e.tag!==1)throw Error(ke(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if($r(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ke(171))}if(e.tag===1){var r=e.type;if($r(r))return S1(e,r,t)}return t}function k2(e,t,r,n,s,i,o,l,c){return e=Zy(r,n,!0,e,s,i,o,l,c),e.context=S2(null),r=e.current,n=Er(),s=Ca(r),i=Rs(n,s),i.callback=t??null,ka(r,i,s),e.current.lanes=s,Vc(e,s,n),Lr(e,n),e}function rm(e,t,r,n){var s=t.current,i=Er(),o=Ca(s);return r=S2(r),t.context===null?t.context=r:t.pendingContext=r,t=Rs(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=ka(s,t,o),e!==null&&(Pn(e,s,o,i),md(e,s,o)),o}function ff(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Qv(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function ex(e,t){Qv(e,t),(e=e.alternate)&&Qv(e,t)}function $T(){return null}var D2=typeof reportError=="function"?reportError:function(e){console.error(e)};function tx(e){this._internalRoot=e}nm.prototype.render=tx.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ke(409));rm(e,t,null,null)};nm.prototype.unmount=tx.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;bi(function(){rm(null,e,null,null)}),t[Fs]=null}};function nm(e){this._internalRoot=e}nm.prototype.unstable_scheduleHydration=function(e){if(e){var t=n1();e={blockedOn:null,target:e,priority:t};for(var r=0;r<oa.length&&t!==0&&t<oa[r].priority;r++);oa.splice(r,0,e),r===0&&a1(e)}};function rx(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function sm(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Xv(){}function LT(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=ff(o);i.call(u)}}var o=k2(t,n,e,0,null,!1,!1,"",Xv);return e._reactRootContainer=o,e[Fs]=o.current,ic(e.nodeType===8?e.parentNode:e),bi(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=ff(c);l.call(u)}}var c=Zy(e,0,!1,null,null,!1,!1,"",Xv);return e._reactRootContainer=c,e[Fs]=c.current,ic(e.nodeType===8?e.parentNode:e),bi(function(){rm(t,c,r,n)}),c}function am(e,t,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=ff(o);l.call(c)}}rm(t,o,e,s)}else o=LT(r,t,e,s,n);return ff(o)}t1=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Cl(t.pendingLanes);r!==0&&(wy(t,r|1),Lr(t,Bt()),!(ot&6)&&(Do=Bt()+500,Fa()))}break;case 13:bi(function(){var n=Bs(e,1);if(n!==null){var s=Er();Pn(n,e,1,s)}}),ex(e,1)}};Ny=function(e){if(e.tag===13){var t=Bs(e,134217728);if(t!==null){var r=Er();Pn(t,e,134217728,r)}ex(e,134217728)}};r1=function(e){if(e.tag===13){var t=Ca(e),r=Bs(e,t);if(r!==null){var n=Er();Pn(r,e,t,n)}ex(e,t)}};n1=function(){return pt};s1=function(e,t){var r=pt;try{return pt=e,t()}finally{pt=r}};_p=function(e,t,r){switch(t){case"input":if(Sp(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Kf(n);if(!s)throw Error(ke(90));Oj(n),Sp(n,s)}}}break;case"textarea":$j(e,r);break;case"select":t=r.value,t!=null&&eo(e,!!r.multiple,t,!1)}};Vj=Ky;zj=bi;var FT={usingClientEntryPoint:!1,Events:[Yc,Yi,Kf,Hj,Uj,Ky]},hl={findFiberByHostInstance:Qa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},BT={bundleType:hl.bundleType,version:hl.version,rendererPackageName:hl.rendererPackageName,rendererConfig:hl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ys.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Gj(e),e===null?null:e.stateNode},findFiberByHostInstance:hl.findFiberByHostInstance||$T,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wu.isDisabled&&Wu.supportsFiber)try{zf=Wu.inject(BT),is=Wu}catch{}}Xr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=FT;Xr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!rx(t))throw Error(ke(200));return IT(e,t,null,r)};Xr.createRoot=function(e,t){if(!rx(e))throw Error(ke(299));var r=!1,n="",s=D2;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Zy(e,1,!1,null,null,r,!1,n,s),e[Fs]=t.current,ic(e.nodeType===8?e.parentNode:e),new tx(t)};Xr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ke(188)):(e=Object.keys(e).join(","),Error(ke(268,e)));return e=Gj(t),e=e===null?null:e.stateNode,e};Xr.flushSync=function(e){return bi(e)};Xr.hydrate=function(e,t,r){if(!sm(t))throw Error(ke(200));return am(null,e,t,!0,r)};Xr.hydrateRoot=function(e,t,r){if(!rx(e))throw Error(ke(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=D2;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=k2(t,null,e,1,r??null,s,!1,i,o),e[Fs]=t.current,ic(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new nm(t)};Xr.render=function(e,t,r){if(!sm(t))throw Error(ke(200));return am(null,e,t,!1,r)};Xr.unmountComponentAtNode=function(e){if(!sm(e))throw Error(ke(40));return e._reactRootContainer?(bi(function(){am(null,null,e,!1,function(){e._reactRootContainer=null,e[Fs]=null})}),!0):!1};Xr.unstable_batchedUpdates=Ky;Xr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!sm(r))throw Error(ke(200));if(e==null||e._reactInternals===void 0)throw Error(ke(38));return am(e,t,r,!1,n)};Xr.version="18.3.1-next-f1338f8080-20240426";function C2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(C2)}catch(e){console.error(e)}}C2(),Cj.exports=Xr;var Za=Cj.exports;const E2=Ar(Za);var A2,Jv=Za;A2=Jv.createRoot,Jv.hydrateRoot;/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Zv="popstate";function WT(e={}){function t(n,s){let{pathname:i,search:o,hash:l}=n.location;return ug("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:pc(s)}return UT(t,r,null,e)}function Tt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Mn(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function HT(){return Math.random().toString(36).substring(2,10)}function eb(e,t){return{usr:e.state,key:e.key,idx:t}}function ug(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Fo(t):t,state:r,key:t&&t.key||n||HT()}}function pc({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Fo(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function UT(e,t,r,n={}){let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,l="POP",c=null,u=d();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function d(){return(o.state||{idx:null}).idx}function f(){l="POP";let j=d(),x=j==null?null:j-u;u=j,c&&c({action:l,location:h.location,delta:x})}function m(j,x){l="PUSH";let b=ug(h.location,j,x);u=d()+1;let N=eb(b,u),g=h.createHref(b);try{o.pushState(N,"",g)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;s.location.assign(g)}i&&c&&c({action:l,location:h.location,delta:1})}function v(j,x){l="REPLACE";let b=ug(h.location,j,x);u=d();let N=eb(b,u),g=h.createHref(b);o.replaceState(N,"",g),i&&c&&c({action:l,location:h.location,delta:0})}function p(j){return VT(j)}let h={get action(){return l},get location(){return e(s,o)},listen(j){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Zv,f),c=j,()=>{s.removeEventListener(Zv,f),c=null}},createHref(j){return t(s,j)},createURL:p,encodeLocation(j){let x=p(j);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:m,replace:v,go(j){return o.go(j)}};return h}function VT(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Tt(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:pc(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function T2(e,t,r="/"){return zT(e,t,r,!1)}function zT(e,t,r,n){let s=typeof t=="string"?Fo(t):t,i=Hs(s.pathname||"/",r);if(i==null)return null;let o=_2(e);YT(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=n_(i);l=t_(o[c],u,n)}return l}function _2(e,t=[],r=[],n="",s=!1){let i=(o,l,c=s,u)=>{let d={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(n)&&c)return;Tt(d.relativePath.startsWith(n),`Absolute route path "${d.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(n.length)}let f=Ms([n,d.relativePath]),m=r.concat(d);o.children&&o.children.length>0&&(Tt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),_2(o.children,t,m,f,c)),!(o.path==null&&!o.index)&&t.push({path:f,score:ZT(f,o.index),routesMeta:m})};return e.forEach((o,l)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))i(o,l);else for(let u of P2(o.path))i(o,l,!0,u)}),t}function P2(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=P2(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function YT(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:e_(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var qT=/^:[\w-]+$/,GT=3,KT=2,QT=1,XT=10,JT=-2,tb=e=>e==="*";function ZT(e,t){let r=e.split("/"),n=r.length;return r.some(tb)&&(n+=JT),t&&(n+=KT),r.filter(s=>!tb(s)).reduce((s,i)=>s+(qT.test(i)?GT:i===""?QT:XT),n)}function e_(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function t_(e,t,r=!1){let{routesMeta:n}=e,s={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=mf({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),m=c.route;if(!f&&u&&r&&!n[n.length-1].route.index&&(f=mf({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:Ms([i,f.pathname]),pathnameBase:o_(Ms([i,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(i=Ms([i,f.pathnameBase]))}return o}function mf(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=r_(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,{paramName:d,isOptional:f},m)=>{if(d==="*"){let p=l[m]||"";o=i.slice(0,i.length-p.length).replace(/(.)\/+$/,"$1")}const v=l[m];return f&&!v?u[d]=void 0:u[d]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function r_(e,t=!1,r=!0){Mn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function n_(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Mn(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Hs(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function s_(e,t="/"){let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?Fo(e):e;return{pathname:r?r.startsWith("/")?r:a_(r,t):t,search:l_(n),hash:c_(s)}}function a_(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Ph(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function i_(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function nx(e){let t=i_(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function sx(e,t,r,n=!1){let s;typeof e=="string"?s=Fo(e):(s={...e},Tt(!s.pathname||!s.pathname.includes("?"),Ph("?","pathname","search",s)),Tt(!s.pathname||!s.pathname.includes("#"),Ph("#","pathname","hash",s)),Tt(!s.search||!s.search.includes("#"),Ph("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f-=1;s.pathname=m.join("/")}l=f>=0?t[f]:"/"}let c=s_(s,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}var Ms=e=>e.join("/").replace(/\/\/+/g,"/"),o_=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),l_=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,c_=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function u_(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var R2=["POST","PUT","PATCH","DELETE"];new Set(R2);var d_=["GET",...R2];new Set(d_);var Bo=w.createContext(null);Bo.displayName="DataRouter";var im=w.createContext(null);im.displayName="DataRouterState";w.createContext(!1);var M2=w.createContext({isTransitioning:!1});M2.displayName="ViewTransition";var f_=w.createContext(new Map);f_.displayName="Fetchers";var m_=w.createContext(null);m_.displayName="Await";var Bn=w.createContext(null);Bn.displayName="Navigation";var Gc=w.createContext(null);Gc.displayName="Location";var Wn=w.createContext({outlet:null,matches:[],isDataRoute:!1});Wn.displayName="Route";var ax=w.createContext(null);ax.displayName="RouteError";function h_(e,{relative:t}={}){Tt(Wo(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=w.useContext(Bn),{hash:s,pathname:i,search:o}=Kc(e,{relative:t}),l=i;return r!=="/"&&(l=i==="/"?r:Ms([r,i])),n.createHref({pathname:l,search:o,hash:s})}function Wo(){return w.useContext(Gc)!=null}function qs(){return Tt(Wo(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(Gc).location}var O2="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function I2(e){w.useContext(Bn).static||w.useLayoutEffect(e)}function om(){let{isDataRoute:e}=w.useContext(Wn);return e?A_():p_()}function p_(){Tt(Wo(),"useNavigate() may be used only in the context of a <Router> component.");let e=w.useContext(Bo),{basename:t,navigator:r}=w.useContext(Bn),{matches:n}=w.useContext(Wn),{pathname:s}=qs(),i=JSON.stringify(nx(n)),o=w.useRef(!1);return I2(()=>{o.current=!0}),w.useCallback((c,u={})=>{if(Mn(o.current,O2),!o.current)return;if(typeof c=="number"){r.go(c);return}let d=sx(c,JSON.parse(i),s,u.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Ms([t,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[t,r,i,s,e])}var g_=w.createContext(null);function y_(e){let t=w.useContext(Wn).outlet;return w.useMemo(()=>t&&w.createElement(g_.Provider,{value:e},t),[t,e])}function Kc(e,{relative:t}={}){let{matches:r}=w.useContext(Wn),{pathname:n}=qs(),s=JSON.stringify(nx(r));return w.useMemo(()=>sx(e,JSON.parse(s),n,t==="path"),[e,s,n,t])}function x_(e,t){return $2(e,t)}function $2(e,t,r,n,s){var b;Tt(Wo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=w.useContext(Bn),{matches:o}=w.useContext(Wn),l=o[o.length-1],c=l?l.params:{},u=l?l.pathname:"/",d=l?l.pathnameBase:"/",f=l&&l.route;{let N=f&&f.path||"";L2(u,!f||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let m=qs(),v;if(t){let N=typeof t=="string"?Fo(t):t;Tt(d==="/"||((b=N.pathname)==null?void 0:b.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${N.pathname}" was given in the \`location\` prop.`),v=N}else v=m;let p=v.pathname||"/",h=p;if(d!=="/"){let N=d.replace(/^\//,"").split("/");h="/"+p.replace(/^\//,"").split("/").slice(N.length).join("/")}let j=T2(e,{pathname:h});Mn(f||j!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Mn(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let x=j_(j&&j.map(N=>Object.assign({},N,{params:Object.assign({},c,N.params),pathname:Ms([d,i.encodeLocation?i.encodeLocation(N.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?d:Ms([d,i.encodeLocation?i.encodeLocation(N.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathnameBase])})),o,r,n,s);return t&&x?w.createElement(Gc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},x):x}function v_(){let e=E_(),t=u_(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=w.createElement(w.Fragment,null,w.createElement("p",null," Hey developer "),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:i},"ErrorBoundary")," or"," ",w.createElement("code",{style:i},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),r?w.createElement("pre",{style:s},r):null,o)}var b_=w.createElement(v_,null),w_=class extends w.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?w.createElement(Wn.Provider,{value:this.props.routeContext},w.createElement(ax.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function N_({routeContext:e,match:t,children:r}){let n=w.useContext(Bo);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),w.createElement(Wn.Provider,{value:e},r)}function j_(e,t=[],r=null,n=null,s=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,o=r==null?void 0:r.errors;if(o!=null){let u=i.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);Tt(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,u+1))}let l=!1,c=-1;if(r)for(let u=0;u<i.length;u++){let d=i[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:f,errors:m}=r,v=d.route.loader&&!f.hasOwnProperty(d.route.id)&&(!m||m[d.route.id]===void 0);if(d.route.lazy||v){l=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((u,d,f)=>{let m,v=!1,p=null,h=null;r&&(m=o&&d.route.id?o[d.route.id]:void 0,p=d.route.errorElement||b_,l&&(c<0&&f===0?(L2("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,h=null):c===f&&(v=!0,h=d.route.hydrateFallbackElement||null)));let j=t.concat(i.slice(0,f+1)),x=()=>{let b;return m?b=p:v?b=h:d.route.Component?b=w.createElement(d.route.Component,null):d.route.element?b=d.route.element:b=u,w.createElement(N_,{match:d,routeContext:{outlet:u,matches:j,isDataRoute:r!=null},children:b})};return r&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?w.createElement(w_,{location:r.location,revalidation:r.revalidation,component:p,error:m,children:x(),routeContext:{outlet:null,matches:j,isDataRoute:!0},unstable_onError:n}):x()},null)}function ix(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function S_(e){let t=w.useContext(Bo);return Tt(t,ix(e)),t}function k_(e){let t=w.useContext(im);return Tt(t,ix(e)),t}function D_(e){let t=w.useContext(Wn);return Tt(t,ix(e)),t}function ox(e){let t=D_(e),r=t.matches[t.matches.length-1];return Tt(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function C_(){return ox("useRouteId")}function E_(){var n;let e=w.useContext(ax),t=k_("useRouteError"),r=ox("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function A_(){let{router:e}=S_("useNavigate"),t=ox("useNavigate"),r=w.useRef(!1);return I2(()=>{r.current=!0}),w.useCallback(async(s,i={})=>{Mn(r.current,O2),r.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...i}))},[e,t])}var rb={};function L2(e,t,r){!t&&!rb[e]&&(rb[e]=!0,Mn(!1,r))}w.memo(T_);function T_({routes:e,future:t,state:r,unstable_onError:n}){return $2(e,void 0,r,n,t)}function F2({to:e,replace:t,state:r,relative:n}){Tt(Wo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=w.useContext(Bn);Mn(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=w.useContext(Wn),{pathname:o}=qs(),l=om(),c=sx(e,nx(i),o,n==="path"),u=JSON.stringify(c);return w.useEffect(()=>{l(JSON.parse(u),{replace:t,state:r,relative:n})},[l,u,n,t,r]),null}function __(e){return y_(e.context)}function tr(e){Tt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function P_({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:s,static:i=!1}){Tt(!Wo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),l=w.useMemo(()=>({basename:o,navigator:s,static:i,future:{}}),[o,s,i]);typeof r=="string"&&(r=Fo(r));let{pathname:c="/",search:u="",hash:d="",state:f=null,key:m="default"}=r,v=w.useMemo(()=>{let p=Hs(c,o);return p==null?null:{location:{pathname:p,search:u,hash:d,state:f,key:m},navigationType:n}},[o,c,u,d,f,m,n]);return Mn(v!=null,`<Router basename="${o}"> is not able to match the URL "${c}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:w.createElement(Bn.Provider,{value:l},w.createElement(Gc.Provider,{children:t,value:v}))}function R_({children:e,location:t}){return x_(dg(e),t)}function dg(e,t=[]){let r=[];return w.Children.forEach(e,(n,s)=>{if(!w.isValidElement(n))return;let i=[...t,s];if(n.type===w.Fragment){r.push.apply(r,dg(n.props.children,i));return}Tt(n.type===tr,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Tt(!n.props.index||!n.props.children,"An index route cannot have child routes.");let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=dg(n.props.children,i)),r.push(o)}),r}var bd="get",wd="application/x-www-form-urlencoded";function lm(e){return e!=null&&typeof e.tagName=="string"}function M_(e){return lm(e)&&e.tagName.toLowerCase()==="button"}function O_(e){return lm(e)&&e.tagName.toLowerCase()==="form"}function I_(e){return lm(e)&&e.tagName.toLowerCase()==="input"}function $_(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function L_(e,t){return e.button===0&&(!t||t==="_self")&&!$_(e)}var Hu=null;function F_(){if(Hu===null)try{new FormData(document.createElement("form"),0),Hu=!1}catch{Hu=!0}return Hu}var B_=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Rh(e){return e!=null&&!B_.has(e)?(Mn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${wd}"`),null):e}function W_(e,t){let r,n,s,i,o;if(O_(e)){let l=e.getAttribute("action");n=l?Hs(l,t):null,r=e.getAttribute("method")||bd,s=Rh(e.getAttribute("enctype"))||wd,i=new FormData(e)}else if(M_(e)||I_(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||l.getAttribute("action");if(n=c?Hs(c,t):null,r=e.getAttribute("formmethod")||l.getAttribute("method")||bd,s=Rh(e.getAttribute("formenctype"))||Rh(l.getAttribute("enctype"))||wd,i=new FormData(l,e),!F_()){let{name:u,type:d,value:f}=e;if(d==="image"){let m=u?`${u}.`:"";i.append(`${m}x`,"0"),i.append(`${m}y`,"0")}else u&&i.append(u,f)}}else{if(lm(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=bd,n=null,s=wd,o=e}return i&&s==="text/plain"&&(o=i,i=void 0),{action:n,method:r.toLowerCase(),encType:s,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function lx(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function H_(e,t,r){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname=`_root.${r}`:t&&Hs(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function U_(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function V_(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function z_(e,t,r){let n=await Promise.all(e.map(async s=>{let i=t.routes[s.route.id];if(i){let o=await U_(i,r);return o.links?o.links():[]}return[]}));return K_(n.flat(1).filter(V_).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function nb(e,t,r,n,s,i){let o=(c,u)=>r[u]?c.route.id!==r[u].route.id:!0,l=(c,u)=>{var d;return r[u].pathname!==c.pathname||((d=r[u].route.path)==null?void 0:d.endsWith("*"))&&r[u].params["*"]!==c.params["*"]};return i==="assets"?t.filter((c,u)=>o(c,u)||l(c,u)):i==="data"?t.filter((c,u)=>{var f;let d=n.routes[c.route.id];if(!d||!d.hasLoader)return!1;if(o(c,u)||l(c,u))return!0;if(c.route.shouldRevalidate){let m=c.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((f=r[0])==null?void 0:f.params)||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function Y_(e,t,{includeHydrateFallback:r}={}){return q_(e.map(n=>{let s=t.routes[n.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),r&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function q_(e){return[...new Set(e)]}function G_(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function K_(e,t){let r=new Set;return new Set(t),e.reduce((n,s)=>{let i=JSON.stringify(G_(s));return r.has(i)||(r.add(i),n.push({key:i,link:s})),n},[])}function B2(){let e=w.useContext(Bo);return lx(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Q_(){let e=w.useContext(im);return lx(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var cx=w.createContext(void 0);cx.displayName="FrameworkContext";function W2(){let e=w.useContext(cx);return lx(e,"You must render this element inside a <HydratedRouter> element"),e}function X_(e,t){let r=w.useContext(cx),[n,s]=w.useState(!1),[i,o]=w.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:f}=t,m=w.useRef(null);w.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let h=x=>{x.forEach(b=>{o(b.isIntersecting)})},j=new IntersectionObserver(h,{threshold:.5});return m.current&&j.observe(m.current),()=>{j.disconnect()}}},[e]),w.useEffect(()=>{if(n){let h=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(h)}}},[n]);let v=()=>{s(!0)},p=()=>{s(!1),o(!1)};return r?e!=="intent"?[i,m,{}]:[i,m,{onFocus:pl(l,v),onBlur:pl(c,p),onMouseEnter:pl(u,v),onMouseLeave:pl(d,p),onTouchStart:pl(f,v)}]:[!1,m,{}]}function pl(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function J_({page:e,...t}){let{router:r}=B2(),n=w.useMemo(()=>T2(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?w.createElement(eP,{page:e,matches:n,...t}):null}function Z_(e){let{manifest:t,routeModules:r}=W2(),[n,s]=w.useState([]);return w.useEffect(()=>{let i=!1;return z_(e,t,r).then(o=>{i||s(o)}),()=>{i=!0}},[e,t,r]),n}function eP({page:e,matches:t,...r}){let n=qs(),{manifest:s,routeModules:i}=W2(),{basename:o}=B2(),{loaderData:l,matches:c}=Q_(),u=w.useMemo(()=>nb(e,t,c,s,n,"data"),[e,t,c,s,n]),d=w.useMemo(()=>nb(e,t,c,s,n,"assets"),[e,t,c,s,n]),f=w.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let p=new Set,h=!1;if(t.forEach(x=>{var N;let b=s.routes[x.route.id];!b||!b.hasLoader||(!u.some(g=>g.route.id===x.route.id)&&x.route.id in l&&((N=i[x.route.id])!=null&&N.shouldRevalidate)||b.hasClientLoader?h=!0:p.add(x.route.id))}),p.size===0)return[];let j=H_(e,o,"data");return h&&p.size>0&&j.searchParams.set("_routes",t.filter(x=>p.has(x.route.id)).map(x=>x.route.id).join(",")),[j.pathname+j.search]},[o,l,n,s,u,t,e,i]),m=w.useMemo(()=>Y_(d,s),[d,s]),v=Z_(d);return w.createElement(w.Fragment,null,f.map(p=>w.createElement("link",{key:p,rel:"prefetch",as:"fetch",href:p,...r})),m.map(p=>w.createElement("link",{key:p,rel:"modulepreload",href:p,...r})),v.map(({key:p,link:h})=>w.createElement("link",{key:p,nonce:r.nonce,...h})))}function tP(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var H2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{H2&&(window.__reactRouterVersion="7.9.4")}catch{}function rP({basename:e,children:t,window:r}){let n=w.useRef();n.current==null&&(n.current=WT({window:r,v5Compat:!0}));let s=n.current,[i,o]=w.useState({action:s.action,location:s.location}),l=w.useCallback(c=>{w.startTransition(()=>o(c))},[o]);return w.useLayoutEffect(()=>s.listen(l),[s,l]),w.createElement(P_,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:s})}var U2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,V2=w.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:s,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f,...m},v){let{basename:p}=w.useContext(Bn),h=typeof u=="string"&&U2.test(u),j,x=!1;if(typeof u=="string"&&h&&(j=u,H2))try{let R=new URL(window.location.href),I=u.startsWith("//")?new URL(R.protocol+u):new URL(u),V=Hs(I.pathname,p);I.origin===R.origin&&V!=null?u=V+I.search+I.hash:x=!0}catch{Mn(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let b=h_(u,{relative:s}),[N,g,A]=X_(n,m),k=aP(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:f});function _(R){t&&t(R),R.defaultPrevented||k(R)}let O=w.createElement("a",{...m,...A,href:j||b,onClick:x||i?t:_,ref:tP(v,g),target:c,"data-discover":!h&&r==="render"?"true":void 0});return N&&!h?w.createElement(w.Fragment,null,O,w.createElement(J_,{page:b})):O});V2.displayName="Link";var fg=w.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:s=!1,style:i,to:o,viewTransition:l,children:c,...u},d){let f=Kc(o,{relative:u.relative}),m=qs(),v=w.useContext(im),{navigator:p,basename:h}=w.useContext(Bn),j=v!=null&&uP(f)&&l===!0,x=p.encodeLocation?p.encodeLocation(f).pathname:f.pathname,b=m.pathname,N=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;r||(b=b.toLowerCase(),N=N?N.toLowerCase():null,x=x.toLowerCase()),N&&h&&(N=Hs(N,h)||N);const g=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let A=b===x||!s&&b.startsWith(x)&&b.charAt(g)==="/",k=N!=null&&(N===x||!s&&N.startsWith(x)&&N.charAt(x.length)==="/"),_={isActive:A,isPending:k,isTransitioning:j},O=A?t:void 0,R;typeof n=="function"?R=n(_):R=[n,A?"active":null,k?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let I=typeof i=="function"?i(_):i;return w.createElement(V2,{...u,"aria-current":O,className:R,ref:d,style:I,to:o,viewTransition:l},typeof c=="function"?c(_):c)});fg.displayName="NavLink";var nP=w.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:s,state:i,method:o=bd,action:l,onSubmit:c,relative:u,preventScrollReset:d,viewTransition:f,...m},v)=>{let p=lP(),h=cP(l,{relative:u}),j=o.toLowerCase()==="get"?"get":"post",x=typeof l=="string"&&U2.test(l),b=N=>{if(c&&c(N),N.defaultPrevented)return;N.preventDefault();let g=N.nativeEvent.submitter,A=(g==null?void 0:g.getAttribute("formmethod"))||o;p(g||N.currentTarget,{fetcherKey:t,method:A,navigate:r,replace:s,state:i,relative:u,preventScrollReset:d,viewTransition:f})};return w.createElement("form",{ref:v,method:j,action:h,onSubmit:n?c:b,...m,"data-discover":!x&&e==="render"?"true":void 0})});nP.displayName="Form";function sP(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function z2(e){let t=w.useContext(Bo);return Tt(t,sP(e)),t}function aP(e,{target:t,replace:r,state:n,preventScrollReset:s,relative:i,viewTransition:o}={}){let l=om(),c=qs(),u=Kc(e,{relative:i});return w.useCallback(d=>{if(L_(d,t)){d.preventDefault();let f=r!==void 0?r:pc(c)===pc(u);l(e,{replace:f,state:n,preventScrollReset:s,relative:i,viewTransition:o})}},[c,l,u,r,n,t,e,s,i,o])}var iP=0,oP=()=>`__${String(++iP)}__`;function lP(){let{router:e}=z2("useSubmit"),{basename:t}=w.useContext(Bn),r=C_();return w.useCallback(async(n,s={})=>{let{action:i,method:o,encType:l,formData:c,body:u}=W_(n,t);if(s.navigate===!1){let d=s.fetcherKey||oP();await e.fetch(d,r,s.action||i,{preventScrollReset:s.preventScrollReset,formData:c,body:u,formMethod:s.method||o,formEncType:s.encType||l,flushSync:s.flushSync})}else await e.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:c,body:u,formMethod:s.method||o,formEncType:s.encType||l,replace:s.replace,state:s.state,fromRouteId:r,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,r])}function cP(e,{relative:t}={}){let{basename:r}=w.useContext(Bn),n=w.useContext(Wn);Tt(n,"useFormAction must be used inside a RouteContext");let[s]=n.matches.slice(-1),i={...Kc(e||".",{relative:t})},o=qs();if(e==null){i.search=o.search;let l=new URLSearchParams(i.search),c=l.getAll("index");if(c.some(d=>d==="")){l.delete("index"),c.filter(f=>f).forEach(f=>l.append("index",f));let d=l.toString();i.search=d?`?${d}`:""}}return(!e||e===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:Ms([r,i.pathname])),pc(i)}function uP(e,{relative:t}={}){let r=w.useContext(M2);Tt(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=z2("useViewTransitionState"),s=Kc(e,{relative:t});if(!r.isTransitioning)return!1;let i=Hs(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=Hs(r.nextLocation.pathname,n)||r.nextLocation.pathname;return mf(s.pathname,o)!=null||mf(s.pathname,i)!=null}var cm=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},dP={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},da,ly,oj,fP=(oj=class{constructor(){Je(this,da,dP);Je(this,ly,!1)}setTimeoutProvider(e){Ue(this,da,e)}setTimeout(e,t){return be(this,da).setTimeout(e,t)}clearTimeout(e){be(this,da).clearTimeout(e)}setInterval(e,t){return be(this,da).setInterval(e,t)}clearInterval(e){be(this,da).clearInterval(e)}},da=new WeakMap,ly=new WeakMap,oj),mg=new fP;function mP(e){setTimeout(e,0)}var um=typeof window>"u"||"Deno"in globalThis;function Nn(){}function hP(e,t){return typeof e=="function"?e(t):e}function pP(e){return typeof e=="number"&&e>=0&&e!==1/0}function gP(e,t){return Math.max(e+(t||0)-Date.now(),0)}function hg(e,t){return typeof e=="function"?e(t):e}function yP(e,t){return typeof e=="function"?e(t):e}function sb(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:i,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==ux(o,t.options))return!1}else if(!yc(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||i&&!i(t))}function ab(e,t){const{exact:r,status:n,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(gc(t.options.mutationKey)!==gc(i))return!1}else if(!yc(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function ux(e,t){return((t==null?void 0:t.queryKeyHashFn)||gc)(e)}function gc(e){return JSON.stringify(e,(t,r)=>pg(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function yc(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>yc(e[r],t[r])):!1}var xP=Object.prototype.hasOwnProperty;function Y2(e,t){if(e===t)return e;const r=ib(e)&&ib(t);if(!r&&!(pg(e)&&pg(t)))return t;const s=(r?e:Object.keys(e)).length,i=r?t:Object.keys(t),o=i.length,l=r?new Array(o):{};let c=0;for(let u=0;u<o;u++){const d=r?u:i[u],f=e[d],m=t[d];if(f===m){l[d]=f,(r?u<s:xP.call(e,d))&&c++;continue}if(f===null||m===null||typeof f!="object"||typeof m!="object"){l[d]=m;continue}const v=Y2(f,m);l[d]=v,v===f&&c++}return s===o&&c===s?e:l}function ib(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function pg(e){if(!ob(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!ob(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function ob(e){return Object.prototype.toString.call(e)==="[object Object]"}function vP(e){return new Promise(t=>{mg.setTimeout(t,e)})}function bP(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?Y2(e,t):t}function wP(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function NP(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var dx=Symbol();function q2(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===dx?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var ni,fa,fo,lj,jP=(lj=class extends cm{constructor(){super();Je(this,ni);Je(this,fa);Je(this,fo);Ue(this,fo,t=>{if(!um&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){be(this,fa)||this.setEventListener(be(this,fo))}onUnsubscribe(){var t;this.hasListeners()||((t=be(this,fa))==null||t.call(this),Ue(this,fa,void 0))}setEventListener(t){var r;Ue(this,fo,t),(r=be(this,fa))==null||r.call(this),Ue(this,fa,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){be(this,ni)!==t&&(Ue(this,ni,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof be(this,ni)=="boolean"?be(this,ni):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},ni=new WeakMap,fa=new WeakMap,fo=new WeakMap,lj),G2=new jP;function SP(){let e,t;const r=new Promise((s,i)=>{e=s,t=i});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}var kP=mP;function DP(){let e=[],t=0,r=l=>{l()},n=l=>{l()},s=kP;const i=l=>{t?e.push(l):s(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&s(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{s=l}}}var kr=DP(),mo,ma,ho,cj,CP=(cj=class extends cm{constructor(){super();Je(this,mo,!0);Je(this,ma);Je(this,ho);Ue(this,ho,t=>{if(!um&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){be(this,ma)||this.setEventListener(be(this,ho))}onUnsubscribe(){var t;this.hasListeners()||((t=be(this,ma))==null||t.call(this),Ue(this,ma,void 0))}setEventListener(t){var r;Ue(this,ho,t),(r=be(this,ma))==null||r.call(this),Ue(this,ma,t(this.setOnline.bind(this)))}setOnline(t){be(this,mo)!==t&&(Ue(this,mo,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return be(this,mo)}},mo=new WeakMap,ma=new WeakMap,ho=new WeakMap,cj),hf=new CP;function EP(e){return Math.min(1e3*2**e,3e4)}function K2(e){return(e??"online")==="online"?hf.isOnline():!0}var gg=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Q2(e){let t=!1,r=0,n;const s=SP(),i=()=>s.status!=="pending",o=h=>{var j;if(!i()){const x=new gg(h);m(x),(j=e.onCancel)==null||j.call(e,x)}},l=()=>{t=!0},c=()=>{t=!1},u=()=>G2.isFocused()&&(e.networkMode==="always"||hf.isOnline())&&e.canRun(),d=()=>K2(e.networkMode)&&e.canRun(),f=h=>{i()||(n==null||n(),s.resolve(h))},m=h=>{i()||(n==null||n(),s.reject(h))},v=()=>new Promise(h=>{var j;n=x=>{(i()||u())&&h(x)},(j=e.onPause)==null||j.call(e)}).then(()=>{var h;n=void 0,i()||(h=e.onContinue)==null||h.call(e)}),p=()=>{if(i())return;let h;const j=r===0?e.initialPromise:void 0;try{h=j??e.fn()}catch(x){h=Promise.reject(x)}Promise.resolve(h).then(f).catch(x=>{var k;if(i())return;const b=e.retry??(um?0:3),N=e.retryDelay??EP,g=typeof N=="function"?N(r,x):N,A=b===!0||typeof b=="number"&&r<b||typeof b=="function"&&b(r,x);if(t||!A){m(x);return}r++,(k=e.onFail)==null||k.call(e,r,x),vP(g).then(()=>u()?void 0:v()).then(()=>{t?m(x):p()})})};return{promise:s,status:()=>s.status,cancel:o,continue:()=>(n==null||n(),s),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?p():v().then(p),s)}}var si,uj,X2=(uj=class{constructor(){Je(this,si)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),pP(this.gcTime)&&Ue(this,si,mg.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(um?1/0:5*60*1e3))}clearGcTimeout(){be(this,si)&&(mg.clearTimeout(be(this,si)),Ue(this,si,void 0))}},si=new WeakMap,uj),ai,po,tn,ii,nr,Bc,oi,jn,Ns,dj,AP=(dj=class extends X2{constructor(t){super();Je(this,jn);Je(this,ai);Je(this,po);Je(this,tn);Je(this,ii);Je(this,nr);Je(this,Bc);Je(this,oi);Ue(this,oi,!1),Ue(this,Bc,t.defaultOptions),this.setOptions(t.options),this.observers=[],Ue(this,ii,t.client),Ue(this,tn,be(this,ii).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Ue(this,ai,lb(this.options)),this.state=t.state??be(this,ai),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=be(this,nr))==null?void 0:t.promise}setOptions(t){if(this.options={...be(this,Bc),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=lb(this.options);r.data!==void 0&&(this.setData(r.data,{updatedAt:r.dataUpdatedAt,manual:!0}),Ue(this,ai,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&be(this,tn).remove(this)}setData(t,r){const n=bP(this.state.data,t,this.options);return fr(this,jn,Ns).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){fr(this,jn,Ns).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,s;const r=(n=be(this,nr))==null?void 0:n.promise;return(s=be(this,nr))==null||s.cancel(t),r?r.then(Nn).catch(Nn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(be(this,ai))}isActive(){return this.observers.some(t=>yP(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===dx||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>hg(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!gP(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=be(this,nr))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=be(this,nr))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),be(this,tn).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(be(this,nr)&&(be(this,oi)?be(this,nr).cancel({revert:!0}):be(this,nr).cancelRetry()),this.scheduleGc()),be(this,tn).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||fr(this,jn,Ns).call(this,{type:"invalidate"})}async fetch(t,r){var c,u,d,f,m,v,p,h,j,x,b,N;if(this.state.fetchStatus!=="idle"&&((c=be(this,nr))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(be(this,nr))return be(this,nr).continueRetry(),be(this,nr).promise}if(t&&this.setOptions(t),!this.options.queryFn){const g=this.observers.find(A=>A.options.queryFn);g&&this.setOptions(g.options)}const n=new AbortController,s=g=>{Object.defineProperty(g,"signal",{enumerable:!0,get:()=>(Ue(this,oi,!0),n.signal)})},i=()=>{const g=q2(this.options,r),k=(()=>{const _={client:be(this,ii),queryKey:this.queryKey,meta:this.meta};return s(_),_})();return Ue(this,oi,!1),this.options.persister?this.options.persister(g,k,this):g(k)},l=(()=>{const g={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:be(this,ii),state:this.state,fetchFn:i};return s(g),g})();(u=this.options.behavior)==null||u.onFetch(l,this),Ue(this,po,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&fr(this,jn,Ns).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta}),Ue(this,nr,Q2({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,onCancel:g=>{g instanceof gg&&g.revert&&this.setState({...be(this,po),fetchStatus:"idle"}),n.abort()},onFail:(g,A)=>{fr(this,jn,Ns).call(this,{type:"failed",failureCount:g,error:A})},onPause:()=>{fr(this,jn,Ns).call(this,{type:"pause"})},onContinue:()=>{fr(this,jn,Ns).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const g=await be(this,nr).start();if(g===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(g),(v=(m=be(this,tn).config).onSuccess)==null||v.call(m,g,this),(h=(p=be(this,tn).config).onSettled)==null||h.call(p,g,this.state.error,this),g}catch(g){if(g instanceof gg){if(g.silent)return be(this,nr).promise;if(g.revert){if(this.state.data===void 0)throw g;return this.state.data}}throw fr(this,jn,Ns).call(this,{type:"error",error:g}),(x=(j=be(this,tn).config).onError)==null||x.call(j,g,this),(N=(b=be(this,tn).config).onSettled)==null||N.call(b,this.state.data,g,this),g}finally{this.scheduleGc()}}},ai=new WeakMap,po=new WeakMap,tn=new WeakMap,ii=new WeakMap,nr=new WeakMap,Bc=new WeakMap,oi=new WeakMap,jn=new WeakSet,Ns=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...TP(n.data,this.options),fetchMeta:t.meta??null};case"success":const s={...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Ue(this,po,t.manual?s:void 0),s;case"error":const i=t.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),kr.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),be(this,tn).notify({query:this,type:"updated",action:t})})},dj);function TP(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:K2(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function lb(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}function cb(e){return{onFetch:(t,r)=>{var d,f,m,v,p;const n=t.options,s=(m=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:m.direction,i=((v=t.state.data)==null?void 0:v.pages)||[],o=((p=t.state.data)==null?void 0:p.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let h=!1;const j=N=>{Object.defineProperty(N,"signal",{enumerable:!0,get:()=>(t.signal.aborted?h=!0:t.signal.addEventListener("abort",()=>{h=!0}),t.signal)})},x=q2(t.options,t.fetchOptions),b=async(N,g,A)=>{if(h)return Promise.reject();if(g==null&&N.pages.length)return Promise.resolve(N);const _=(()=>{const V={client:t.client,queryKey:t.queryKey,pageParam:g,direction:A?"backward":"forward",meta:t.options.meta};return j(V),V})(),O=await x(_),{maxPages:R}=t.options,I=A?NP:wP;return{pages:I(N.pages,O,R),pageParams:I(N.pageParams,g,R)}};if(s&&i.length){const N=s==="backward",g=N?_P:ub,A={pages:i,pageParams:o},k=g(n,A);l=await b(A,k,N)}else{const N=e??i.length;do{const g=c===0?o[0]??n.initialPageParam:ub(n,l);if(c>0&&g==null)break;l=await b(l,g),c++}while(c<N)}return l};t.options.persister?t.fetchFn=()=>{var h,j;return(j=(h=t.options).persister)==null?void 0:j.call(h,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function ub(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function _P(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Wc,Xn,Nr,li,Jn,ta,fj,PP=(fj=class extends X2{constructor(t){super();Je(this,Jn);Je(this,Wc);Je(this,Xn);Je(this,Nr);Je(this,li);Ue(this,Wc,t.client),this.mutationId=t.mutationId,Ue(this,Nr,t.mutationCache),Ue(this,Xn,[]),this.state=t.state||RP(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){be(this,Xn).includes(t)||(be(this,Xn).push(t),this.clearGcTimeout(),be(this,Nr).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Ue(this,Xn,be(this,Xn).filter(r=>r!==t)),this.scheduleGc(),be(this,Nr).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){be(this,Xn).length||(this.state.status==="pending"?this.scheduleGc():be(this,Nr).remove(this))}continue(){var t;return((t=be(this,li))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,l,c,u,d,f,m,v,p,h,j,x,b,N,g,A,k,_,O,R;const r=()=>{fr(this,Jn,ta).call(this,{type:"continue"})},n={client:be(this,Wc),meta:this.options.meta,mutationKey:this.options.mutationKey};Ue(this,li,Q2({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(I,V)=>{fr(this,Jn,ta).call(this,{type:"failed",failureCount:I,error:V})},onPause:()=>{fr(this,Jn,ta).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>be(this,Nr).canRun(this)}));const s=this.state.status==="pending",i=!be(this,li).canStart();try{if(s)r();else{fr(this,Jn,ta).call(this,{type:"pending",variables:t,isPaused:i}),await((l=(o=be(this,Nr).config).onMutate)==null?void 0:l.call(o,t,this,n));const V=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,t,n));V!==this.state.context&&fr(this,Jn,ta).call(this,{type:"pending",context:V,variables:t,isPaused:i})}const I=await be(this,li).start();return await((f=(d=be(this,Nr).config).onSuccess)==null?void 0:f.call(d,I,t,this.state.context,this,n)),await((v=(m=this.options).onSuccess)==null?void 0:v.call(m,I,t,this.state.context,n)),await((h=(p=be(this,Nr).config).onSettled)==null?void 0:h.call(p,I,null,this.state.variables,this.state.context,this,n)),await((x=(j=this.options).onSettled)==null?void 0:x.call(j,I,null,t,this.state.context,n)),fr(this,Jn,ta).call(this,{type:"success",data:I}),I}catch(I){try{throw await((N=(b=be(this,Nr).config).onError)==null?void 0:N.call(b,I,t,this.state.context,this,n)),await((A=(g=this.options).onError)==null?void 0:A.call(g,I,t,this.state.context,n)),await((_=(k=be(this,Nr).config).onSettled)==null?void 0:_.call(k,void 0,I,this.state.variables,this.state.context,this,n)),await((R=(O=this.options).onSettled)==null?void 0:R.call(O,void 0,I,t,this.state.context,n)),I}finally{fr(this,Jn,ta).call(this,{type:"error",error:I})}}finally{be(this,Nr).runNext(this)}}},Wc=new WeakMap,Xn=new WeakMap,Nr=new WeakMap,li=new WeakMap,Jn=new WeakSet,ta=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),kr.batch(()=>{be(this,Xn).forEach(n=>{n.onMutationUpdate(t)}),be(this,Nr).notify({mutation:this,type:"updated",action:t})})},fj);function RP(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ds,Sn,Hc,mj,MP=(mj=class extends cm{constructor(t={}){super();Je(this,Ds);Je(this,Sn);Je(this,Hc);this.config=t,Ue(this,Ds,new Set),Ue(this,Sn,new Map),Ue(this,Hc,0)}build(t,r,n){const s=new PP({client:t,mutationCache:this,mutationId:++Su(this,Hc)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){be(this,Ds).add(t);const r=Uu(t);if(typeof r=="string"){const n=be(this,Sn).get(r);n?n.push(t):be(this,Sn).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(be(this,Ds).delete(t)){const r=Uu(t);if(typeof r=="string"){const n=be(this,Sn).get(r);if(n)if(n.length>1){const s=n.indexOf(t);s!==-1&&n.splice(s,1)}else n[0]===t&&be(this,Sn).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=Uu(t);if(typeof r=="string"){const n=be(this,Sn).get(r),s=n==null?void 0:n.find(i=>i.state.status==="pending");return!s||s===t}else return!0}runNext(t){var n;const r=Uu(t);if(typeof r=="string"){const s=(n=be(this,Sn).get(r))==null?void 0:n.find(i=>i!==t&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){kr.batch(()=>{be(this,Ds).forEach(t=>{this.notify({type:"removed",mutation:t})}),be(this,Ds).clear(),be(this,Sn).clear()})}getAll(){return Array.from(be(this,Ds))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>ab(r,n))}findAll(t={}){return this.getAll().filter(r=>ab(t,r))}notify(t){kr.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return kr.batch(()=>Promise.all(t.map(r=>r.continue().catch(Nn))))}},Ds=new WeakMap,Sn=new WeakMap,Hc=new WeakMap,mj);function Uu(e){var t;return(t=e.options.scope)==null?void 0:t.id}var Zn,hj,OP=(hj=class extends cm{constructor(t={}){super();Je(this,Zn);this.config=t,Ue(this,Zn,new Map)}build(t,r,n){const s=r.queryKey,i=r.queryHash??ux(s,r);let o=this.get(i);return o||(o=new AP({client:t,queryKey:s,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){be(this,Zn).has(t.queryHash)||(be(this,Zn).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=be(this,Zn).get(t.queryHash);r&&(t.destroy(),r===t&&be(this,Zn).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){kr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return be(this,Zn).get(t)}getAll(){return[...be(this,Zn).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>sb(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>sb(t,n)):r}notify(t){kr.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){kr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){kr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Zn=new WeakMap,hj),Ot,ha,pa,go,yo,ga,xo,vo,pj,IP=(pj=class{constructor(e={}){Je(this,Ot);Je(this,ha);Je(this,pa);Je(this,go);Je(this,yo);Je(this,ga);Je(this,xo);Je(this,vo);Ue(this,Ot,e.queryCache||new OP),Ue(this,ha,e.mutationCache||new MP),Ue(this,pa,e.defaultOptions||{}),Ue(this,go,new Map),Ue(this,yo,new Map),Ue(this,ga,0)}mount(){Su(this,ga)._++,be(this,ga)===1&&(Ue(this,xo,G2.subscribe(async e=>{e&&(await this.resumePausedMutations(),be(this,Ot).onFocus())})),Ue(this,vo,hf.subscribe(async e=>{e&&(await this.resumePausedMutations(),be(this,Ot).onOnline())})))}unmount(){var e,t;Su(this,ga)._--,be(this,ga)===0&&((e=be(this,xo))==null||e.call(this),Ue(this,xo,void 0),(t=be(this,vo))==null||t.call(this),Ue(this,vo,void 0))}isFetching(e){return be(this,Ot).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return be(this,ha).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=be(this,Ot).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=be(this,Ot).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(hg(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return be(this,Ot).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=be(this,Ot).get(n.queryHash),i=s==null?void 0:s.state.data,o=hP(t,i);if(o!==void 0)return be(this,Ot).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return kr.batch(()=>be(this,Ot).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=be(this,Ot).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=be(this,Ot);kr.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=be(this,Ot);return kr.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=kr.batch(()=>be(this,Ot).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(Nn).catch(Nn)}invalidateQueries(e,t={}){return kr.batch(()=>(be(this,Ot).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=kr.batch(()=>be(this,Ot).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,r);return r.throwOnError||(i=i.catch(Nn)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(Nn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=be(this,Ot).build(this,t);return r.isStaleByTime(hg(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Nn).catch(Nn)}fetchInfiniteQuery(e){return e.behavior=cb(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Nn).catch(Nn)}ensureInfiniteQueryData(e){return e.behavior=cb(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return hf.isOnline()?be(this,ha).resumePausedMutations():Promise.resolve()}getQueryCache(){return be(this,Ot)}getMutationCache(){return be(this,ha)}getDefaultOptions(){return be(this,pa)}setDefaultOptions(e){Ue(this,pa,e)}setQueryDefaults(e,t){be(this,go).set(gc(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...be(this,go).values()],r={};return t.forEach(n=>{yc(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){be(this,yo).set(gc(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...be(this,yo).values()],r={};return t.forEach(n=>{yc(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...be(this,pa).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=ux(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===dx&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...be(this,pa).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){be(this,Ot).clear(),be(this,ha).clear()}},Ot=new WeakMap,ha=new WeakMap,pa=new WeakMap,go=new WeakMap,yo=new WeakMap,ga=new WeakMap,xo=new WeakMap,vo=new WeakMap,pj),$P=w.createContext(void 0),LP=({client:e,children:t})=>(w.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),a.jsx($P.Provider,{value:e,children:t}));let FP={data:""},BP=e=>{if(typeof window=="object"){let t=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(e||document.head).appendChild(t),t.firstChild}return e||FP},WP=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,HP=/\/\*[^]*?\*\/|  +/g,db=/\n+/g,ca=(e,t)=>{let r="",n="",s="";for(let i in e){let o=e[i];i[0]=="@"?i[1]=="i"?r=i+" "+o+";":n+=i[1]=="f"?ca(o,i):i+"{"+ca(o,i[1]=="k"?"":t)+"}":typeof o=="object"?n+=ca(o,t?t.replace(/([^,])+/g,l=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=ca.p?ca.p(i,o):i+":"+o+";")}return r+(t&&s?t+"{"+s+"}":s)+n},xs={},J2=e=>{if(typeof e=="object"){let t="";for(let r in e)t+=r+J2(e[r]);return t}return e},UP=(e,t,r,n,s)=>{let i=J2(e),o=xs[i]||(xs[i]=(c=>{let u=0,d=11;for(;u<c.length;)d=101*d+c.charCodeAt(u++)>>>0;return"go"+d})(i));if(!xs[o]){let c=i!==e?e:(u=>{let d,f,m=[{}];for(;d=WP.exec(u.replace(HP,""));)d[4]?m.shift():d[3]?(f=d[3].replace(db," ").trim(),m.unshift(m[0][f]=m[0][f]||{})):m[0][d[1]]=d[2].replace(db," ").trim();return m[0]})(e);xs[o]=ca(s?{["@keyframes "+o]:c}:c,r?"":"."+o)}let l=r&&xs.g?xs.g:null;return r&&(xs.g=xs[o]),((c,u,d,f)=>{f?u.data=u.data.replace(f,c):u.data.indexOf(c)===-1&&(u.data=d?c+u.data:u.data+c)})(xs[o],t,n,l),o},VP=(e,t,r)=>e.reduce((n,s,i)=>{let o=t[i];if(o&&o.call){let l=o(r),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;o=c?"."+c:l&&typeof l=="object"?l.props?"":ca(l,""):l===!1?"":l}return n+s+(o??"")},"");function dm(e){let t=this||{},r=e.call?e(t.p):e;return UP(r.unshift?r.raw?VP(r,[].slice.call(arguments,1),t.p):r.reduce((n,s)=>Object.assign(n,s&&s.call?s(t.p):s),{}):r,BP(t.target),t.g,t.o,t.k)}let Z2,yg,xg;dm.bind({g:1});let Us=dm.bind({k:1});function zP(e,t,r,n){ca.p=t,Z2=e,yg=r,xg=n}function Ba(e,t){let r=this||{};return function(){let n=arguments;function s(i,o){let l=Object.assign({},i),c=l.className||s.className;r.p=Object.assign({theme:yg&&yg()},l),r.o=/ *go\d+/.test(c),l.className=dm.apply(r,n)+(c?" "+c:"");let u=e;return e[0]&&(u=l.as||e,delete l.as),xg&&u[0]&&xg(l),Z2(u,l)}return s}}var YP=e=>typeof e=="function",pf=(e,t)=>YP(e)?e(t):e,qP=(()=>{let e=0;return()=>(++e).toString()})(),eS=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),GP=20,fx="default",tS=(e,t)=>{let{toastLimit:r}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,r)};case 1:return{...e,toasts:e.toasts.map(o=>o.id===t.toast.id?{...o,...t.toast}:o)};case 2:let{toast:n}=t;return tS(e,{type:e.toasts.find(o=>o.id===n.id)?1:0,toast:n});case 3:let{toastId:s}=t;return{...e,toasts:e.toasts.map(o=>o.id===s||s===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(o=>o.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let i=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+i}))}}},Nd=[],rS={toasts:[],pausedAt:void 0,settings:{toastLimit:GP}},as={},nS=(e,t=fx)=>{as[t]=tS(as[t]||rS,e),Nd.forEach(([r,n])=>{r===t&&n(as[t])})},sS=e=>Object.keys(as).forEach(t=>nS(e,t)),KP=e=>Object.keys(as).find(t=>as[t].toasts.some(r=>r.id===e)),fm=(e=fx)=>t=>{nS(t,e)},QP={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},XP=(e={},t=fx)=>{let[r,n]=w.useState(as[t]||rS),s=w.useRef(as[t]);w.useEffect(()=>(s.current!==as[t]&&n(as[t]),Nd.push([t,n]),()=>{let o=Nd.findIndex(([l])=>l===t);o>-1&&Nd.splice(o,1)}),[t]);let i=r.toasts.map(o=>{var l,c,u;return{...e,...e[o.type],...o,removeDelay:o.removeDelay||((l=e[o.type])==null?void 0:l.removeDelay)||(e==null?void 0:e.removeDelay),duration:o.duration||((c=e[o.type])==null?void 0:c.duration)||(e==null?void 0:e.duration)||QP[o.type],style:{...e.style,...(u=e[o.type])==null?void 0:u.style,...o.style}}});return{...r,toasts:i}},JP=(e,t="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...r,id:(r==null?void 0:r.id)||qP()}),Qc=e=>(t,r)=>{let n=JP(t,e,r);return fm(n.toasterId||KP(n.id))({type:2,toast:n}),n.id},Qt=(e,t)=>Qc("blank")(e,t);Qt.error=Qc("error");Qt.success=Qc("success");Qt.loading=Qc("loading");Qt.custom=Qc("custom");Qt.dismiss=(e,t)=>{let r={type:3,toastId:e};t?fm(t)(r):sS(r)};Qt.dismissAll=e=>Qt.dismiss(void 0,e);Qt.remove=(e,t)=>{let r={type:4,toastId:e};t?fm(t)(r):sS(r)};Qt.removeAll=e=>Qt.remove(void 0,e);Qt.promise=(e,t,r)=>{let n=Qt.loading(t.loading,{...r,...r==null?void 0:r.loading});return typeof e=="function"&&(e=e()),e.then(s=>{let i=t.success?pf(t.success,s):void 0;return i?Qt.success(i,{id:n,...r,...r==null?void 0:r.success}):Qt.dismiss(n),s}).catch(s=>{let i=t.error?pf(t.error,s):void 0;i?Qt.error(i,{id:n,...r,...r==null?void 0:r.error}):Qt.dismiss(n)}),e};var ZP=1e3,e3=(e,t="default")=>{let{toasts:r,pausedAt:n}=XP(e,t),s=w.useRef(new Map).current,i=w.useCallback((f,m=ZP)=>{if(s.has(f))return;let v=setTimeout(()=>{s.delete(f),o({type:4,toastId:f})},m);s.set(f,v)},[]);w.useEffect(()=>{if(n)return;let f=Date.now(),m=r.map(v=>{if(v.duration===1/0)return;let p=(v.duration||0)+v.pauseDuration-(f-v.createdAt);if(p<0){v.visible&&Qt.dismiss(v.id);return}return setTimeout(()=>Qt.dismiss(v.id,t),p)});return()=>{m.forEach(v=>v&&clearTimeout(v))}},[r,n,t]);let o=w.useCallback(fm(t),[t]),l=w.useCallback(()=>{o({type:5,time:Date.now()})},[o]),c=w.useCallback((f,m)=>{o({type:1,toast:{id:f,height:m}})},[o]),u=w.useCallback(()=>{n&&o({type:6,time:Date.now()})},[n,o]),d=w.useCallback((f,m)=>{let{reverseOrder:v=!1,gutter:p=8,defaultPosition:h}=m||{},j=r.filter(N=>(N.position||h)===(f.position||h)&&N.height),x=j.findIndex(N=>N.id===f.id),b=j.filter((N,g)=>g<x&&N.visible).length;return j.filter(N=>N.visible).slice(...v?[b+1]:[0,b]).reduce((N,g)=>N+(g.height||0)+p,0)},[r]);return w.useEffect(()=>{r.forEach(f=>{if(f.dismissed)i(f.id,f.removeDelay);else{let m=s.get(f.id);m&&(clearTimeout(m),s.delete(f.id))}})},[r,i]),{toasts:r,handlers:{updateHeight:c,startPause:l,endPause:u,calculateOffset:d}}},t3=Us`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,r3=Us`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,n3=Us`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,s3=Ba("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${t3} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${r3} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${n3} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,a3=Us`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,i3=Ba("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${a3} 1s linear infinite;
`,o3=Us`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,l3=Us`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,c3=Ba("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${o3} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${l3} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,u3=Ba("div")`
  position: absolute;
`,d3=Ba("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,f3=Us`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,m3=Ba("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${f3} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,h3=({toast:e})=>{let{icon:t,type:r,iconTheme:n}=e;return t!==void 0?typeof t=="string"?w.createElement(m3,null,t):t:r==="blank"?null:w.createElement(d3,null,w.createElement(i3,{...n}),r!=="loading"&&w.createElement(u3,null,r==="error"?w.createElement(s3,{...n}):w.createElement(c3,{...n})))},p3=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,g3=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,y3="0%{opacity:0;} 100%{opacity:1;}",x3="0%{opacity:1;} 100%{opacity:0;}",v3=Ba("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,b3=Ba("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,w3=(e,t)=>{let r=e.includes("top")?1:-1,[n,s]=eS()?[y3,x3]:[p3(r),g3(r)];return{animation:t?`${Us(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Us(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},N3=w.memo(({toast:e,position:t,style:r,children:n})=>{let s=e.height?w3(e.position||t||"top-center",e.visible):{opacity:0},i=w.createElement(h3,{toast:e}),o=w.createElement(b3,{...e.ariaProps},pf(e.message,e));return w.createElement(v3,{className:e.className,style:{...s,...r,...e.style}},typeof n=="function"?n({icon:i,message:o}):w.createElement(w.Fragment,null,i,o))});zP(w.createElement);var j3=({id:e,className:t,style:r,onHeightUpdate:n,children:s})=>{let i=w.useCallback(o=>{if(o){let l=()=>{let c=o.getBoundingClientRect().height;n(e,c)};l(),new MutationObserver(l).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[e,n]);return w.createElement("div",{ref:i,className:t,style:r},s)},S3=(e,t)=>{let r=e.includes("top"),n=r?{top:0}:{bottom:0},s=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:eS()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(r?1:-1)}px)`,...n,...s}},k3=dm`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Vu=16,D3=({reverseOrder:e,position:t="top-center",toastOptions:r,gutter:n,children:s,toasterId:i,containerStyle:o,containerClassName:l})=>{let{toasts:c,handlers:u}=e3(r,i);return w.createElement("div",{"data-rht-toaster":i||"",style:{position:"fixed",zIndex:9999,top:Vu,left:Vu,right:Vu,bottom:Vu,pointerEvents:"none",...o},className:l,onMouseEnter:u.startPause,onMouseLeave:u.endPause},c.map(d=>{let f=d.position||t,m=u.calculateOffset(d,{reverseOrder:e,gutter:n,defaultPosition:t}),v=S3(f,m);return w.createElement(j3,{id:d.id,key:d.id,onHeightUpdate:u.updateHeight,className:d.visible?k3:"",style:v},d.type==="custom"?pf(d.message,d):s?s(d):w.createElement(N3,{toast:d,position:f}))}))},z=Qt;const ds=Object.create(null);ds.open="0";ds.close="1";ds.ping="2";ds.pong="3";ds.message="4";ds.upgrade="5";ds.noop="6";const jd=Object.create(null);Object.keys(ds).forEach(e=>{jd[ds[e]]=e});const vg={type:"error",data:"parser error"},aS=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",iS=typeof ArrayBuffer=="function",oS=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,mx=({type:e,data:t},r,n)=>aS&&t instanceof Blob?r?n(t):fb(t,n):iS&&(t instanceof ArrayBuffer||oS(t))?r?n(t):fb(new Blob([t]),n):n(ds[e]+(t||"")),fb=(e,t)=>{const r=new FileReader;return r.onload=function(){const n=r.result.split(",")[1];t("b"+(n||""))},r.readAsDataURL(e)};function mb(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let Mh;function C3(e,t){if(aS&&e.data instanceof Blob)return e.data.arrayBuffer().then(mb).then(t);if(iS&&(e.data instanceof ArrayBuffer||oS(e.data)))return t(mb(e.data));mx(e,!1,r=>{Mh||(Mh=new TextEncoder),t(Mh.encode(r))})}const hb="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Al=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<hb.length;e++)Al[hb.charCodeAt(e)]=e;const E3=e=>{let t=e.length*.75,r=e.length,n,s=0,i,o,l,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const u=new ArrayBuffer(t),d=new Uint8Array(u);for(n=0;n<r;n+=4)i=Al[e.charCodeAt(n)],o=Al[e.charCodeAt(n+1)],l=Al[e.charCodeAt(n+2)],c=Al[e.charCodeAt(n+3)],d[s++]=i<<2|o>>4,d[s++]=(o&15)<<4|l>>2,d[s++]=(l&3)<<6|c&63;return u},A3=typeof ArrayBuffer=="function",hx=(e,t)=>{if(typeof e!="string")return{type:"message",data:lS(e,t)};const r=e.charAt(0);return r==="b"?{type:"message",data:T3(e.substring(1),t)}:jd[r]?e.length>1?{type:jd[r],data:e.substring(1)}:{type:jd[r]}:vg},T3=(e,t)=>{if(A3){const r=E3(e);return lS(r,t)}else return{base64:!0,data:e}},lS=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},cS="",_3=(e,t)=>{const r=e.length,n=new Array(r);let s=0;e.forEach((i,o)=>{mx(i,!1,l=>{n[o]=l,++s===r&&t(n.join(cS))})})},P3=(e,t)=>{const r=e.split(cS),n=[];for(let s=0;s<r.length;s++){const i=hx(r[s],t);if(n.push(i),i.type==="error")break}return n};function R3(){return new TransformStream({transform(e,t){C3(e,r=>{const n=r.length;let s;if(n<126)s=new Uint8Array(1),new DataView(s.buffer).setUint8(0,n);else if(n<65536){s=new Uint8Array(3);const i=new DataView(s.buffer);i.setUint8(0,126),i.setUint16(1,n)}else{s=new Uint8Array(9);const i=new DataView(s.buffer);i.setUint8(0,127),i.setBigUint64(1,BigInt(n))}e.data&&typeof e.data!="string"&&(s[0]|=128),t.enqueue(s),t.enqueue(r)})}})}let Oh;function zu(e){return e.reduce((t,r)=>t+r.length,0)}function Yu(e,t){if(e[0].length===t)return e.shift();const r=new Uint8Array(t);let n=0;for(let s=0;s<t;s++)r[s]=e[0][n++],n===e[0].length&&(e.shift(),n=0);return e.length&&n<e[0].length&&(e[0]=e[0].slice(n)),r}function M3(e,t){Oh||(Oh=new TextDecoder);const r=[];let n=0,s=-1,i=!1;return new TransformStream({transform(o,l){for(r.push(o);;){if(n===0){if(zu(r)<1)break;const c=Yu(r,1);i=(c[0]&128)===128,s=c[0]&127,s<126?n=3:s===126?n=1:n=2}else if(n===1){if(zu(r)<2)break;const c=Yu(r,2);s=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),n=3}else if(n===2){if(zu(r)<8)break;const c=Yu(r,8),u=new DataView(c.buffer,c.byteOffset,c.length),d=u.getUint32(0);if(d>Math.pow(2,21)-1){l.enqueue(vg);break}s=d*Math.pow(2,32)+u.getUint32(4),n=3}else{if(zu(r)<s)break;const c=Yu(r,s);l.enqueue(hx(i?c:Oh.decode(c),t)),n=0}if(s===0||s>e){l.enqueue(vg);break}}}})}const uS=4;function zt(e){if(e)return O3(e)}function O3(e){for(var t in zt.prototype)e[t]=zt.prototype[t];return e}zt.prototype.on=zt.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};zt.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return r.fn=t,this.on(e,r),this};zt.prototype.off=zt.prototype.removeListener=zt.prototype.removeAllListeners=zt.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+e];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var n,s=0;s<r.length;s++)if(n=r[s],n===t||n.fn===t){r.splice(s,1);break}return r.length===0&&delete this._callbacks["$"+e],this};zt.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),r=this._callbacks["$"+e],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(r){r=r.slice(0);for(var n=0,s=r.length;n<s;++n)r[n].apply(this,t)}return this};zt.prototype.emitReserved=zt.prototype.emit;zt.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};zt.prototype.hasListeners=function(e){return!!this.listeners(e).length};const mm=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,r)=>r(t,0),on=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),I3="arraybuffer";function dS(e,...t){return t.reduce((r,n)=>(e.hasOwnProperty(n)&&(r[n]=e[n]),r),{})}const $3=on.setTimeout,L3=on.clearTimeout;function hm(e,t){t.useNativeTimers?(e.setTimeoutFn=$3.bind(on),e.clearTimeoutFn=L3.bind(on)):(e.setTimeoutFn=on.setTimeout.bind(on),e.clearTimeoutFn=on.clearTimeout.bind(on))}const F3=1.33;function B3(e){return typeof e=="string"?W3(e):Math.ceil((e.byteLength||e.size)*F3)}function W3(e){let t=0,r=0;for(let n=0,s=e.length;n<s;n++)t=e.charCodeAt(n),t<128?r+=1:t<2048?r+=2:t<55296||t>=57344?r+=3:(n++,r+=4);return r}function fS(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function H3(e){let t="";for(let r in e)e.hasOwnProperty(r)&&(t.length&&(t+="&"),t+=encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t}function U3(e){let t={},r=e.split("&");for(let n=0,s=r.length;n<s;n++){let i=r[n].split("=");t[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return t}class V3 extends Error{constructor(t,r,n){super(t),this.description=r,this.context=n,this.type="TransportError"}}class px extends zt{constructor(t){super(),this.writable=!1,hm(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,r,n){return super.emitReserved("error",new V3(t,r,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const r=hx(t,this.socket.binaryType);this.onPacket(r)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,r={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(r)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const r=H3(t);return r.length?"?"+r:""}}class z3 extends px{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const r=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let n=0;this._polling&&(n++,this.once("pollComplete",function(){--n||r()})),this.writable||(n++,this.once("drain",function(){--n||r()}))}else r()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const r=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};P3(t,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,_3(t,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",r=this.query||{};return this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=fS()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.createUri(t,r)}}let mS=!1;try{mS=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const Y3=mS;function q3(){}class G3 extends z3{constructor(t){if(super(t),typeof location<"u"){const r=location.protocol==="https:";let n=location.port;n||(n=r?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||n!==t.port}}doWrite(t,r){const n=this.request({method:"POST",data:t});n.on("success",r),n.on("error",(s,i)=>{this.onError("xhr post error",s,i)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(r,n)=>{this.onError("xhr poll error",r,n)}),this.pollXhr=t}}class ls extends zt{constructor(t,r,n){super(),this.createRequest=t,hm(this,n),this._opts=n,this._method=n.method||"GET",this._uri=r,this._data=n.data!==void 0?n.data:null,this._create()}_create(){var t;const r=dS(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(r);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let s in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(s)&&n.setRequestHeader(s,this._opts.extraHeaders[s])}}catch{}if(this._method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var s;n.readyState===3&&((s=this._opts.cookieJar)===null||s===void 0||s.parseCookies(n.getResponseHeader("set-cookie"))),n.readyState===4&&(n.status===200||n.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof n.status=="number"?n.status:0)},0))},n.send(this._data)}catch(s){this.setTimeoutFn(()=>{this._onError(s)},0);return}typeof document<"u"&&(this._index=ls.requestsCount++,ls.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=q3,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete ls.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}ls.requestsCount=0;ls.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",pb);else if(typeof addEventListener=="function"){const e="onpagehide"in on?"pagehide":"unload";addEventListener(e,pb,!1)}}function pb(){for(let e in ls.requests)ls.requests.hasOwnProperty(e)&&ls.requests[e].abort()}const K3=function(){const e=hS({xdomain:!1});return e&&e.responseType!==null}();class Q3 extends G3{constructor(t){super(t);const r=t&&t.forceBase64;this.supportsBinary=K3&&!r}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new ls(hS,this.uri(),t)}}function hS(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||Y3))return new XMLHttpRequest}catch{}if(!t)try{return new on[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const pS=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class X3 extends px{get name(){return"websocket"}doOpen(){const t=this.uri(),r=this.opts.protocols,n=pS?{}:dS(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,r,n)}catch(s){return this.emitReserved("error",s)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const n=t[r],s=r===t.length-1;mx(n,this.supportsBinary,i=>{try{this.doWrite(n,i)}catch{}s&&mm(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",r=this.query||{};return this.opts.timestampRequests&&(r[this.opts.timestampParam]=fS()),this.supportsBinary||(r.b64=1),this.createUri(t,r)}}const Ih=on.WebSocket||on.MozWebSocket;class J3 extends X3{createSocket(t,r,n){return pS?new Ih(t,r,n):r?new Ih(t,r):new Ih(t)}doWrite(t,r){this.ws.send(r)}}class Z3 extends px{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const r=M3(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=t.readable.pipeThrough(r).getReader(),s=R3();s.readable.pipeTo(t.writable),this._writer=s.writable.getWriter();const i=()=>{n.read().then(({done:l,value:c})=>{l||(this.onPacket(c),i())}).catch(l=>{})};i();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const n=t[r],s=r===t.length-1;this._writer.write(n).then(()=>{s&&mm(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const eR={websocket:J3,webtransport:Z3,polling:Q3},tR=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,rR=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function bg(e){if(e.length>8e3)throw"URI too long";const t=e,r=e.indexOf("["),n=e.indexOf("]");r!=-1&&n!=-1&&(e=e.substring(0,r)+e.substring(r,n).replace(/:/g,";")+e.substring(n,e.length));let s=tR.exec(e||""),i={},o=14;for(;o--;)i[rR[o]]=s[o]||"";return r!=-1&&n!=-1&&(i.source=t,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=nR(i,i.path),i.queryKey=sR(i,i.query),i}function nR(e,t){const r=/\/{2,9}/g,n=t.replace(r,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&n.splice(0,1),t.slice(-1)=="/"&&n.splice(n.length-1,1),n}function sR(e,t){const r={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,s,i){s&&(r[s]=i)}),r}const wg=typeof addEventListener=="function"&&typeof removeEventListener=="function",Sd=[];wg&&addEventListener("offline",()=>{Sd.forEach(e=>e())},!1);class Aa extends zt{constructor(t,r){if(super(),this.binaryType=I3,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(r=t,t=null),t){const n=bg(t);r.hostname=n.host,r.secure=n.protocol==="https"||n.protocol==="wss",r.port=n.port,n.query&&(r.query=n.query)}else r.host&&(r.hostname=bg(r.host).host);hm(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(n=>{const s=n.prototype.name;this.transports.push(s),this._transportsByName[s]=n}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=U3(this.opts.query)),wg&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Sd.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const r=Object.assign({},this.opts.query);r.EIO=uS,r.transport=t,this.id&&(r.sid=this.id);const n=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](n)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&Aa.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const r=this.createTransport(t);r.open(),this.setTransport(r)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",Aa.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const r=new Error("server error");r.code=t.data,this._onError(r);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let n=0;n<this.writeBuffer.length;n++){const s=this.writeBuffer[n].data;if(s&&(r+=B3(s)),n>0&&r>this._maxPayload)return this.writeBuffer.slice(0,n);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,mm(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,r,n){return this._sendPacket("message",t,r,n),this}send(t,r,n){return this._sendPacket("message",t,r,n),this}_sendPacket(t,r,n,s){if(typeof r=="function"&&(s=r,r=void 0),typeof n=="function"&&(s=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const i={type:t,data:r,options:n};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),s&&this.once("flush",s),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),t()},n=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():t()}):this.upgrading?n():t()),this}_onError(t){if(Aa.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),wg&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const n=Sd.indexOf(this._offlineEventListener);n!==-1&&Sd.splice(n,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,r),this.writeBuffer=[],this._prevBufferLen=0}}}Aa.protocol=uS;class aR extends Aa{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let r=this.createTransport(t),n=!1;Aa.priorWebsocketSuccess=!1;const s=()=>{n||(r.send([{type:"ping",data:"probe"}]),r.once("packet",f=>{if(!n)if(f.type==="pong"&&f.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;Aa.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(d(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const m=new Error("probe error");m.transport=r.name,this.emitReserved("upgradeError",m)}}))};function i(){n||(n=!0,d(),r.close(),r=null)}const o=f=>{const m=new Error("probe error: "+f);m.transport=r.name,i(),this.emitReserved("upgradeError",m)};function l(){o("transport closed")}function c(){o("socket closed")}function u(f){r&&f.name!==r.name&&i()}const d=()=>{r.removeListener("open",s),r.removeListener("error",o),r.removeListener("close",l),this.off("close",c),this.off("upgrading",u)};r.once("open",s),r.once("error",o),r.once("close",l),this.once("close",c),this.once("upgrading",u),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{n||r.open()},200):r.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const r=[];for(let n=0;n<t.length;n++)~this.transports.indexOf(t[n])&&r.push(t[n]);return r}}let iR=class extends aR{constructor(t,r={}){const n=typeof t=="object"?t:r;(!n.transports||n.transports&&typeof n.transports[0]=="string")&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map(s=>eR[s]).filter(s=>!!s)),super(t,n)}};function oR(e,t="",r){let n=e;r=r||typeof location<"u"&&location,e==null&&(e=r.protocol+"//"+r.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=r.protocol+e:e=r.host+e),/^(https?|wss?):\/\//.test(e)||(typeof r<"u"?e=r.protocol+"//"+e:e="https://"+e),n=bg(e)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const i=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+i+":"+n.port+t,n.href=n.protocol+"://"+i+(r&&r.port===n.port?"":":"+n.port),n}const lR=typeof ArrayBuffer=="function",cR=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,gS=Object.prototype.toString,uR=typeof Blob=="function"||typeof Blob<"u"&&gS.call(Blob)==="[object BlobConstructor]",dR=typeof File=="function"||typeof File<"u"&&gS.call(File)==="[object FileConstructor]";function gx(e){return lR&&(e instanceof ArrayBuffer||cR(e))||uR&&e instanceof Blob||dR&&e instanceof File}function kd(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let r=0,n=e.length;r<n;r++)if(kd(e[r]))return!0;return!1}if(gx(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return kd(e.toJSON(),!0);for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&kd(e[r]))return!0;return!1}function fR(e){const t=[],r=e.data,n=e;return n.data=Ng(r,t),n.attachments=t.length,{packet:n,buffers:t}}function Ng(e,t){if(!e)return e;if(gx(e)){const r={_placeholder:!0,num:t.length};return t.push(e),r}else if(Array.isArray(e)){const r=new Array(e.length);for(let n=0;n<e.length;n++)r[n]=Ng(e[n],t);return r}else if(typeof e=="object"&&!(e instanceof Date)){const r={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=Ng(e[n],t));return r}return e}function mR(e,t){return e.data=jg(e.data,t),delete e.attachments,e}function jg(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let r=0;r<e.length;r++)e[r]=jg(e[r],t);else if(typeof e=="object")for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(e[r]=jg(e[r],t));return e}const hR=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],pR=5;var Ze;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(Ze||(Ze={}));class gR{constructor(t){this.replacer=t}encode(t){return(t.type===Ze.EVENT||t.type===Ze.ACK)&&kd(t)?this.encodeAsBinary({type:t.type===Ze.EVENT?Ze.BINARY_EVENT:Ze.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let r=""+t.type;return(t.type===Ze.BINARY_EVENT||t.type===Ze.BINARY_ACK)&&(r+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(r+=t.nsp+","),t.id!=null&&(r+=t.id),t.data!=null&&(r+=JSON.stringify(t.data,this.replacer)),r}encodeAsBinary(t){const r=fR(t),n=this.encodeAsString(r.packet),s=r.buffers;return s.unshift(n),s}}function gb(e){return Object.prototype.toString.call(e)==="[object Object]"}class yx extends zt{constructor(t){super(),this.reviver=t}add(t){let r;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(t);const n=r.type===Ze.BINARY_EVENT;n||r.type===Ze.BINARY_ACK?(r.type=n?Ze.EVENT:Ze.ACK,this.reconstructor=new yR(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(gx(t)||t.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(t),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let r=0;const n={type:Number(t.charAt(0))};if(Ze[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===Ze.BINARY_EVENT||n.type===Ze.BINARY_ACK){const i=r+1;for(;t.charAt(++r)!=="-"&&r!=t.length;);const o=t.substring(i,r);if(o!=Number(o)||t.charAt(r)!=="-")throw new Error("Illegal attachments");n.attachments=Number(o)}if(t.charAt(r+1)==="/"){const i=r+1;for(;++r&&!(t.charAt(r)===","||r===t.length););n.nsp=t.substring(i,r)}else n.nsp="/";const s=t.charAt(r+1);if(s!==""&&Number(s)==s){const i=r+1;for(;++r;){const o=t.charAt(r);if(o==null||Number(o)!=o){--r;break}if(r===t.length)break}n.id=Number(t.substring(i,r+1))}if(t.charAt(++r)){const i=this.tryParse(t.substr(r));if(yx.isPayloadValid(n.type,i))n.data=i;else throw new Error("invalid payload")}return n}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,r){switch(t){case Ze.CONNECT:return gb(r);case Ze.DISCONNECT:return r===void 0;case Ze.CONNECT_ERROR:return typeof r=="string"||gb(r);case Ze.EVENT:case Ze.BINARY_EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&hR.indexOf(r[0])===-1);case Ze.ACK:case Ze.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class yR{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const r=mR(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const xR=Object.freeze(Object.defineProperty({__proto__:null,Decoder:yx,Encoder:gR,get PacketType(){return Ze},protocol:pR},Symbol.toStringTag,{value:"Module"}));function Dn(e,t,r){return e.on(t,r),function(){e.off(t,r)}}const vR=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class yS extends zt{constructor(t,r,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=r,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Dn(t,"open",this.onopen.bind(this)),Dn(t,"packet",this.onpacket.bind(this)),Dn(t,"error",this.onerror.bind(this)),Dn(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...r){var n,s,i;if(vR.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(r.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const o={type:Ze.EVENT,data:r};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const d=this.ids++,f=r.pop();this._registerAckCallback(d,f),o.id=d}const l=(s=(n=this.io.engine)===null||n===void 0?void 0:n.transport)===null||s===void 0?void 0:s.writable,c=this.connected&&!(!((i=this.io.engine)===null||i===void 0)&&i._hasPingExpired());return this.flags.volatile&&!l||(c?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(t,r){var n;const s=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(s===void 0){this.acks[t]=r;return}const i=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let l=0;l<this.sendBuffer.length;l++)this.sendBuffer[l].id===t&&this.sendBuffer.splice(l,1);r.call(this,new Error("operation has timed out"))},s),o=(...l)=>{this.io.clearTimeoutFn(i),r.apply(this,l)};o.withError=!0,this.acks[t]=o}emitWithAck(t,...r){return new Promise((n,s)=>{const i=(o,l)=>o?s(o):n(l);i.withError=!0,r.push(i),this.emit(t,...r)})}_addToQueue(t){let r;typeof t[t.length-1]=="function"&&(r=t.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((s,...i)=>n!==this._queue[0]?void 0:(s!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),r&&r(s)):(this._queue.shift(),r&&r(null,...i)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const r=this._queue[0];r.pending&&!t||(r.pending=!0,r.tryCount++,this.flags=r.flags,this.emit.apply(this,r.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:Ze.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,r),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(n=>String(n.id)===t)){const n=this.acks[t];delete this.acks[t],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case Ze.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Ze.EVENT:case Ze.BINARY_EVENT:this.onevent(t);break;case Ze.ACK:case Ze.BINARY_ACK:this.onack(t);break;case Ze.DISCONNECT:this.ondisconnect();break;case Ze.CONNECT_ERROR:this.destroy();const n=new Error(t.data.message);n.data=t.data.data,this.emitReserved("connect_error",n);break}}onevent(t){const r=t.data||[];t.id!=null&&r.push(this.ack(t.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const n of r)n.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const r=this;let n=!1;return function(...s){n||(n=!0,r.packet({type:Ze.ACK,id:t,data:s}))}}onack(t){const r=this.acks[t.id];typeof r=="function"&&(delete this.acks[t.id],r.withError&&t.data.unshift(null),r.apply(this,t.data))}onconnect(t,r){this.id=t,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Ze.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const r=this._anyListeners;for(let n=0;n<r.length;n++)if(t===r[n])return r.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const r=this._anyOutgoingListeners;for(let n=0;n<r.length;n++)if(t===r[n])return r.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const n of r)n.apply(this,t.data)}}}function Ho(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Ho.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),r=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+r:e-r}return Math.min(e,this.max)|0};Ho.prototype.reset=function(){this.attempts=0};Ho.prototype.setMin=function(e){this.ms=e};Ho.prototype.setMax=function(e){this.max=e};Ho.prototype.setJitter=function(e){this.jitter=e};class Sg extends zt{constructor(t,r){var n;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(r=t,t=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,hm(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((n=r.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new Ho({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=t;const s=r.parser||xR;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var r;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(r=this.backoff)===null||r===void 0||r.setMin(t),this)}randomizationFactor(t){var r;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(r=this.backoff)===null||r===void 0||r.setJitter(t),this)}reconnectionDelayMax(t){var r;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(r=this.backoff)===null||r===void 0||r.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new iR(this.uri,this.opts);const r=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const s=Dn(r,"open",function(){n.onopen(),t&&t()}),i=l=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",l),t?t(l):this.maybeReconnectOnOpen()},o=Dn(r,"error",i);if(this._timeout!==!1){const l=this._timeout,c=this.setTimeoutFn(()=>{s(),i(new Error("timeout")),r.close()},l);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(s),this.subs.push(o),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(Dn(t,"ping",this.onping.bind(this)),Dn(t,"data",this.ondata.bind(this)),Dn(t,"error",this.onerror.bind(this)),Dn(t,"close",this.onclose.bind(this)),Dn(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(r){this.onclose("parse error",r)}}ondecoded(t){mm(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,r){let n=this.nsps[t];return n?this._autoConnect&&!n.active&&n.connect():(n=new yS(this,t,r),this.nsps[t]=n),n}_destroy(t){const r=Object.keys(this.nsps);for(const n of r)if(this.nsps[n].active)return;this._close()}_packet(t){const r=this.encoder.encode(t);for(let n=0;n<r.length;n++)this.engine.write(r[n],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,r){var n;this.cleanup(),(n=this.engine)===null||n===void 0||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(s=>{s?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",s)):t.onreconnect()}))},r);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const gl={};function Dd(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const r=oR(e,t.path||"/socket.io"),n=r.source,s=r.id,i=r.path,o=gl[s]&&i in gl[s].nsps,l=t.forceNew||t["force new connection"]||t.multiplex===!1||o;let c;return l?c=new Sg(n,t):(gl[s]||(gl[s]=new Sg(n,t)),c=gl[s]),r.query&&!t.query&&(t.query=r.queryKey),c.socket(r.path,t)}Object.assign(Dd,{Manager:Sg,Socket:yS,io:Dd,connect:Dd});function xS(e,t){return function(){return e.apply(t,arguments)}}const{toString:bR}=Object.prototype,{getPrototypeOf:xx}=Object,{iterator:pm,toStringTag:vS}=Symbol,gm=(e=>t=>{const r=bR.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Hn=e=>(e=e.toLowerCase(),t=>gm(t)===e),ym=e=>t=>typeof t===e,{isArray:Uo}=Array,Co=ym("undefined");function Xc(e){return e!==null&&!Co(e)&&e.constructor!==null&&!Co(e.constructor)&&Fr(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const bS=Hn("ArrayBuffer");function wR(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&bS(e.buffer),t}const NR=ym("string"),Fr=ym("function"),wS=ym("number"),Jc=e=>e!==null&&typeof e=="object",jR=e=>e===!0||e===!1,Cd=e=>{if(gm(e)!=="object")return!1;const t=xx(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(vS in e)&&!(pm in e)},SR=e=>{if(!Jc(e)||Xc(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},kR=Hn("Date"),DR=Hn("File"),CR=Hn("Blob"),ER=Hn("FileList"),AR=e=>Jc(e)&&Fr(e.pipe),TR=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Fr(e.append)&&((t=gm(e))==="formdata"||t==="object"&&Fr(e.toString)&&e.toString()==="[object FormData]"))},_R=Hn("URLSearchParams"),[PR,RR,MR,OR]=["ReadableStream","Request","Response","Headers"].map(Hn),IR=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Zc(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,s;if(typeof e!="object"&&(e=[e]),Uo(e))for(n=0,s=e.length;n<s;n++)t.call(null,e[n],n,e);else{if(Xc(e))return;const i=r?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let l;for(n=0;n<o;n++)l=i[n],t.call(null,e[l],l,e)}}function NS(e,t){if(Xc(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,s;for(;n-- >0;)if(s=r[n],t===s.toLowerCase())return s;return null}const ei=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,jS=e=>!Co(e)&&e!==ei;function kg(){const{caseless:e,skipUndefined:t}=jS(this)&&this||{},r={},n=(s,i)=>{const o=e&&NS(r,i)||i;Cd(r[o])&&Cd(s)?r[o]=kg(r[o],s):Cd(s)?r[o]=kg({},s):Uo(s)?r[o]=s.slice():(!t||!Co(s))&&(r[o]=s)};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&Zc(arguments[s],n);return r}const $R=(e,t,r,{allOwnKeys:n}={})=>(Zc(t,(s,i)=>{r&&Fr(s)?e[i]=xS(s,r):e[i]=s},{allOwnKeys:n}),e),LR=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),FR=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},BR=(e,t,r,n)=>{let s,i,o;const l={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),i=s.length;i-- >0;)o=s[i],(!n||n(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=r!==!1&&xx(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},WR=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},HR=e=>{if(!e)return null;if(Uo(e))return e;let t=e.length;if(!wS(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},UR=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&xx(Uint8Array)),VR=(e,t)=>{const n=(e&&e[pm]).call(e);let s;for(;(s=n.next())&&!s.done;){const i=s.value;t.call(e,i[0],i[1])}},zR=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},YR=Hn("HTMLFormElement"),qR=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,s){return n.toUpperCase()+s}),yb=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),GR=Hn("RegExp"),SS=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};Zc(r,(s,i)=>{let o;(o=t(s,i,e))!==!1&&(n[i]=o||s)}),Object.defineProperties(e,n)},KR=e=>{SS(e,(t,r)=>{if(Fr(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(Fr(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},QR=(e,t)=>{const r={},n=s=>{s.forEach(i=>{r[i]=!0})};return Uo(e)?n(e):n(String(e).split(t)),r},XR=()=>{},JR=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function ZR(e){return!!(e&&Fr(e.append)&&e[vS]==="FormData"&&e[pm])}const eM=e=>{const t=new Array(10),r=(n,s)=>{if(Jc(n)){if(t.indexOf(n)>=0)return;if(Xc(n))return n;if(!("toJSON"in n)){t[s]=n;const i=Uo(n)?[]:{};return Zc(n,(o,l)=>{const c=r(o,s+1);!Co(c)&&(i[l]=c)}),t[s]=void 0,i}}return n};return r(e,0)},tM=Hn("AsyncFunction"),rM=e=>e&&(Jc(e)||Fr(e))&&Fr(e.then)&&Fr(e.catch),kS=((e,t)=>e?setImmediate:t?((r,n)=>(ei.addEventListener("message",({source:s,data:i})=>{s===ei&&i===r&&n.length&&n.shift()()},!1),s=>{n.push(s),ei.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Fr(ei.postMessage)),nM=typeof queueMicrotask<"u"?queueMicrotask.bind(ei):typeof process<"u"&&process.nextTick||kS,sM=e=>e!=null&&Fr(e[pm]),me={isArray:Uo,isArrayBuffer:bS,isBuffer:Xc,isFormData:TR,isArrayBufferView:wR,isString:NR,isNumber:wS,isBoolean:jR,isObject:Jc,isPlainObject:Cd,isEmptyObject:SR,isReadableStream:PR,isRequest:RR,isResponse:MR,isHeaders:OR,isUndefined:Co,isDate:kR,isFile:DR,isBlob:CR,isRegExp:GR,isFunction:Fr,isStream:AR,isURLSearchParams:_R,isTypedArray:UR,isFileList:ER,forEach:Zc,merge:kg,extend:$R,trim:IR,stripBOM:LR,inherits:FR,toFlatObject:BR,kindOf:gm,kindOfTest:Hn,endsWith:WR,toArray:HR,forEachEntry:VR,matchAll:zR,isHTMLForm:YR,hasOwnProperty:yb,hasOwnProp:yb,reduceDescriptors:SS,freezeMethods:KR,toObjectSet:QR,toCamelCase:qR,noop:XR,toFiniteNumber:JR,findKey:NS,global:ei,isContextDefined:jS,isSpecCompliantForm:ZR,toJSONObject:eM,isAsyncFn:tM,isThenable:rM,setImmediate:kS,asap:nM,isIterable:sM};function Ve(e,t,r,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),s&&(this.response=s,this.status=s.status?s.status:null)}me.inherits(Ve,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:me.toJSONObject(this.config),code:this.code,status:this.status}}});const DS=Ve.prototype,CS={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{CS[e]={value:e}});Object.defineProperties(Ve,CS);Object.defineProperty(DS,"isAxiosError",{value:!0});Ve.from=(e,t,r,n,s,i)=>{const o=Object.create(DS);me.toFlatObject(e,o,function(d){return d!==Error.prototype},u=>u!=="isAxiosError");const l=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return Ve.call(o,l,c,r,n,s),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",i&&Object.assign(o,i),o};const aM=null;function Dg(e){return me.isPlainObject(e)||me.isArray(e)}function ES(e){return me.endsWith(e,"[]")?e.slice(0,-2):e}function xb(e,t,r){return e?e.concat(t).map(function(s,i){return s=ES(s),!r&&i?"["+s+"]":s}).join(r?".":""):t}function iM(e){return me.isArray(e)&&!e.some(Dg)}const oM=me.toFlatObject(me,{},null,function(t){return/^is[A-Z]/.test(t)});function xm(e,t,r){if(!me.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=me.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(h,j){return!me.isUndefined(j[h])});const n=r.metaTokens,s=r.visitor||d,i=r.dots,o=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&me.isSpecCompliantForm(t);if(!me.isFunction(s))throw new TypeError("visitor must be a function");function u(p){if(p===null)return"";if(me.isDate(p))return p.toISOString();if(me.isBoolean(p))return p.toString();if(!c&&me.isBlob(p))throw new Ve("Blob is not supported. Use a Buffer instead.");return me.isArrayBuffer(p)||me.isTypedArray(p)?c&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function d(p,h,j){let x=p;if(p&&!j&&typeof p=="object"){if(me.endsWith(h,"{}"))h=n?h:h.slice(0,-2),p=JSON.stringify(p);else if(me.isArray(p)&&iM(p)||(me.isFileList(p)||me.endsWith(h,"[]"))&&(x=me.toArray(p)))return h=ES(h),x.forEach(function(N,g){!(me.isUndefined(N)||N===null)&&t.append(o===!0?xb([h],g,i):o===null?h:h+"[]",u(N))}),!1}return Dg(p)?!0:(t.append(xb(j,h,i),u(p)),!1)}const f=[],m=Object.assign(oM,{defaultVisitor:d,convertValue:u,isVisitable:Dg});function v(p,h){if(!me.isUndefined(p)){if(f.indexOf(p)!==-1)throw Error("Circular reference detected in "+h.join("."));f.push(p),me.forEach(p,function(x,b){(!(me.isUndefined(x)||x===null)&&s.call(t,x,me.isString(b)?b.trim():b,h,m))===!0&&v(x,h?h.concat(b):[b])}),f.pop()}}if(!me.isObject(e))throw new TypeError("data must be an object");return v(e),t}function vb(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function vx(e,t){this._pairs=[],e&&xm(e,this,t)}const AS=vx.prototype;AS.append=function(t,r){this._pairs.push([t,r])};AS.toString=function(t){const r=t?function(n){return t.call(this,n,vb)}:vb;return this._pairs.map(function(s){return r(s[0])+"="+r(s[1])},"").join("&")};function lM(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function TS(e,t,r){if(!t)return e;const n=r&&r.encode||lM;me.isFunction(r)&&(r={serialize:r});const s=r&&r.serialize;let i;if(s?i=s(t,r):i=me.isURLSearchParams(t)?t.toString():new vx(t,r).toString(n),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class bb{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){me.forEach(this.handlers,function(n){n!==null&&t(n)})}}const _S={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},cM=typeof URLSearchParams<"u"?URLSearchParams:vx,uM=typeof FormData<"u"?FormData:null,dM=typeof Blob<"u"?Blob:null,fM={isBrowser:!0,classes:{URLSearchParams:cM,FormData:uM,Blob:dM},protocols:["http","https","file","blob","url","data"]},bx=typeof window<"u"&&typeof document<"u",Cg=typeof navigator=="object"&&navigator||void 0,mM=bx&&(!Cg||["ReactNative","NativeScript","NS"].indexOf(Cg.product)<0),hM=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",pM=bx&&window.location.href||"http://localhost",gM=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:bx,hasStandardBrowserEnv:mM,hasStandardBrowserWebWorkerEnv:hM,navigator:Cg,origin:pM},Symbol.toStringTag,{value:"Module"})),yr={...gM,...fM};function yM(e,t){return xm(e,new yr.classes.URLSearchParams,{visitor:function(r,n,s,i){return yr.isNode&&me.isBuffer(r)?(this.append(n,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function xM(e){return me.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function vM(e){const t={},r=Object.keys(e);let n;const s=r.length;let i;for(n=0;n<s;n++)i=r[n],t[i]=e[i];return t}function PS(e){function t(r,n,s,i){let o=r[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=i>=r.length;return o=!o&&me.isArray(s)?s.length:o,c?(me.hasOwnProp(s,o)?s[o]=[s[o],n]:s[o]=n,!l):((!s[o]||!me.isObject(s[o]))&&(s[o]=[]),t(r,n,s[o],i)&&me.isArray(s[o])&&(s[o]=vM(s[o])),!l)}if(me.isFormData(e)&&me.isFunction(e.entries)){const r={};return me.forEachEntry(e,(n,s)=>{t(xM(n),s,r,0)}),r}return null}function bM(e,t,r){if(me.isString(e))try{return(t||JSON.parse)(e),me.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const eu={transitional:_S,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",s=n.indexOf("application/json")>-1,i=me.isObject(t);if(i&&me.isHTMLForm(t)&&(t=new FormData(t)),me.isFormData(t))return s?JSON.stringify(PS(t)):t;if(me.isArrayBuffer(t)||me.isBuffer(t)||me.isStream(t)||me.isFile(t)||me.isBlob(t)||me.isReadableStream(t))return t;if(me.isArrayBufferView(t))return t.buffer;if(me.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return yM(t,this.formSerializer).toString();if((l=me.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return xm(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return i||s?(r.setContentType("application/json",!1),bM(t)):t}],transformResponse:[function(t){const r=this.transitional||eu.transitional,n=r&&r.forcedJSONParsing,s=this.responseType==="json";if(me.isResponse(t)||me.isReadableStream(t))return t;if(t&&me.isString(t)&&(n&&!this.responseType||s)){const o=!(r&&r.silentJSONParsing)&&s;try{return JSON.parse(t,this.parseReviver)}catch(l){if(o)throw l.name==="SyntaxError"?Ve.from(l,Ve.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:yr.classes.FormData,Blob:yr.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};me.forEach(["delete","get","head","post","put","patch"],e=>{eu.headers[e]={}});const wM=me.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),NM=e=>{const t={};let r,n,s;return e&&e.split(`
`).forEach(function(o){s=o.indexOf(":"),r=o.substring(0,s).trim().toLowerCase(),n=o.substring(s+1).trim(),!(!r||t[r]&&wM[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},wb=Symbol("internals");function yl(e){return e&&String(e).trim().toLowerCase()}function Ed(e){return e===!1||e==null?e:me.isArray(e)?e.map(Ed):String(e)}function jM(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const SM=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function $h(e,t,r,n,s){if(me.isFunction(n))return n.call(this,t,r);if(s&&(t=r),!!me.isString(t)){if(me.isString(n))return t.indexOf(n)!==-1;if(me.isRegExp(n))return n.test(t)}}function kM(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function DM(e,t){const r=me.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(s,i,o){return this[n].call(this,t,s,i,o)},configurable:!0})})}let Br=class{constructor(t){t&&this.set(t)}set(t,r,n){const s=this;function i(l,c,u){const d=yl(c);if(!d)throw new Error("header name must be a non-empty string");const f=me.findKey(s,d);(!f||s[f]===void 0||u===!0||u===void 0&&s[f]!==!1)&&(s[f||c]=Ed(l))}const o=(l,c)=>me.forEach(l,(u,d)=>i(u,d,c));if(me.isPlainObject(t)||t instanceof this.constructor)o(t,r);else if(me.isString(t)&&(t=t.trim())&&!SM(t))o(NM(t),r);else if(me.isObject(t)&&me.isIterable(t)){let l={},c,u;for(const d of t){if(!me.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[u=d[0]]=(c=l[u])?me.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}o(l,r)}else t!=null&&i(r,t,n);return this}get(t,r){if(t=yl(t),t){const n=me.findKey(this,t);if(n){const s=this[n];if(!r)return s;if(r===!0)return jM(s);if(me.isFunction(r))return r.call(this,s,n);if(me.isRegExp(r))return r.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=yl(t),t){const n=me.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||$h(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let s=!1;function i(o){if(o=yl(o),o){const l=me.findKey(n,o);l&&(!r||$h(n,n[l],l,r))&&(delete n[l],s=!0)}}return me.isArray(t)?t.forEach(i):i(t),s}clear(t){const r=Object.keys(this);let n=r.length,s=!1;for(;n--;){const i=r[n];(!t||$h(this,this[i],i,t,!0))&&(delete this[i],s=!0)}return s}normalize(t){const r=this,n={};return me.forEach(this,(s,i)=>{const o=me.findKey(n,i);if(o){r[o]=Ed(s),delete r[i];return}const l=t?kM(i):String(i).trim();l!==i&&delete r[i],r[l]=Ed(s),n[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return me.forEach(this,(n,s)=>{n!=null&&n!==!1&&(r[s]=t&&me.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(s=>n.set(s)),n}static accessor(t){const n=(this[wb]=this[wb]={accessors:{}}).accessors,s=this.prototype;function i(o){const l=yl(o);n[l]||(DM(s,o),n[l]=!0)}return me.isArray(t)?t.forEach(i):i(t),this}};Br.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);me.reduceDescriptors(Br.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});me.freezeMethods(Br);function Lh(e,t){const r=this||eu,n=t||r,s=Br.from(n.headers);let i=n.data;return me.forEach(e,function(l){i=l.call(r,i,s.normalize(),t?t.status:void 0)}),s.normalize(),i}function RS(e){return!!(e&&e.__CANCEL__)}function Vo(e,t,r){Ve.call(this,e??"canceled",Ve.ERR_CANCELED,t,r),this.name="CanceledError"}me.inherits(Vo,Ve,{__CANCEL__:!0});function MS(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new Ve("Request failed with status code "+r.status,[Ve.ERR_BAD_REQUEST,Ve.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function CM(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function EM(e,t){e=e||10;const r=new Array(e),n=new Array(e);let s=0,i=0,o;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),d=n[i];o||(o=u),r[s]=c,n[s]=u;let f=i,m=0;for(;f!==s;)m+=r[f++],f=f%e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),u-o<t)return;const v=d&&u-d;return v?Math.round(m*1e3/v):void 0}}function AM(e,t){let r=0,n=1e3/t,s,i;const o=(u,d=Date.now())=>{r=d,s=null,i&&(clearTimeout(i),i=null),e(...u)};return[(...u)=>{const d=Date.now(),f=d-r;f>=n?o(u,d):(s=u,i||(i=setTimeout(()=>{i=null,o(s)},n-f)))},()=>s&&o(s)]}const gf=(e,t,r=3)=>{let n=0;const s=EM(50,250);return AM(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,c=o-n,u=s(c),d=o<=l;n=o;const f={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&d?(l-o)/u:void 0,event:i,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(f)},r)},Nb=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},jb=e=>(...t)=>me.asap(()=>e(...t)),TM=yr.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,yr.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(yr.origin),yr.navigator&&/(msie|trident)/i.test(yr.navigator.userAgent)):()=>!0,_M=yr.hasStandardBrowserEnv?{write(e,t,r,n,s,i){const o=[e+"="+encodeURIComponent(t)];me.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),me.isString(n)&&o.push("path="+n),me.isString(s)&&o.push("domain="+s),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function PM(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function RM(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function OS(e,t,r){let n=!PM(t);return e&&(n||r==!1)?RM(e,t):t}const Sb=e=>e instanceof Br?{...e}:e;function wi(e,t){t=t||{};const r={};function n(u,d,f,m){return me.isPlainObject(u)&&me.isPlainObject(d)?me.merge.call({caseless:m},u,d):me.isPlainObject(d)?me.merge({},d):me.isArray(d)?d.slice():d}function s(u,d,f,m){if(me.isUndefined(d)){if(!me.isUndefined(u))return n(void 0,u,f,m)}else return n(u,d,f,m)}function i(u,d){if(!me.isUndefined(d))return n(void 0,d)}function o(u,d){if(me.isUndefined(d)){if(!me.isUndefined(u))return n(void 0,u)}else return n(void 0,d)}function l(u,d,f){if(f in t)return n(u,d);if(f in e)return n(void 0,u)}const c={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(u,d,f)=>s(Sb(u),Sb(d),f,!0)};return me.forEach(Object.keys({...e,...t}),function(d){const f=c[d]||s,m=f(e[d],t[d],d);me.isUndefined(m)&&f!==l||(r[d]=m)}),r}const IS=e=>{const t=wi({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:i,headers:o,auth:l}=t;if(t.headers=o=Br.from(o),t.url=TS(OS(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),me.isFormData(r)){if(yr.hasStandardBrowserEnv||yr.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(me.isFunction(r.getHeaders)){const c=r.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([d,f])=>{u.includes(d.toLowerCase())&&o.set(d,f)})}}if(yr.hasStandardBrowserEnv&&(n&&me.isFunction(n)&&(n=n(t)),n||n!==!1&&TM(t.url))){const c=s&&i&&_M.read(i);c&&o.set(s,c)}return t},MM=typeof XMLHttpRequest<"u",OM=MM&&function(e){return new Promise(function(r,n){const s=IS(e);let i=s.data;const o=Br.from(s.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=s,d,f,m,v,p;function h(){v&&v(),p&&p(),s.cancelToken&&s.cancelToken.unsubscribe(d),s.signal&&s.signal.removeEventListener("abort",d)}let j=new XMLHttpRequest;j.open(s.method.toUpperCase(),s.url,!0),j.timeout=s.timeout;function x(){if(!j)return;const N=Br.from("getAllResponseHeaders"in j&&j.getAllResponseHeaders()),A={data:!l||l==="text"||l==="json"?j.responseText:j.response,status:j.status,statusText:j.statusText,headers:N,config:e,request:j};MS(function(_){r(_),h()},function(_){n(_),h()},A),j=null}"onloadend"in j?j.onloadend=x:j.onreadystatechange=function(){!j||j.readyState!==4||j.status===0&&!(j.responseURL&&j.responseURL.indexOf("file:")===0)||setTimeout(x)},j.onabort=function(){j&&(n(new Ve("Request aborted",Ve.ECONNABORTED,e,j)),j=null)},j.onerror=function(g){const A=g&&g.message?g.message:"Network Error",k=new Ve(A,Ve.ERR_NETWORK,e,j);k.event=g||null,n(k),j=null},j.ontimeout=function(){let g=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const A=s.transitional||_S;s.timeoutErrorMessage&&(g=s.timeoutErrorMessage),n(new Ve(g,A.clarifyTimeoutError?Ve.ETIMEDOUT:Ve.ECONNABORTED,e,j)),j=null},i===void 0&&o.setContentType(null),"setRequestHeader"in j&&me.forEach(o.toJSON(),function(g,A){j.setRequestHeader(A,g)}),me.isUndefined(s.withCredentials)||(j.withCredentials=!!s.withCredentials),l&&l!=="json"&&(j.responseType=s.responseType),u&&([m,p]=gf(u,!0),j.addEventListener("progress",m)),c&&j.upload&&([f,v]=gf(c),j.upload.addEventListener("progress",f),j.upload.addEventListener("loadend",v)),(s.cancelToken||s.signal)&&(d=N=>{j&&(n(!N||N.type?new Vo(null,e,j):N),j.abort(),j=null)},s.cancelToken&&s.cancelToken.subscribe(d),s.signal&&(s.signal.aborted?d():s.signal.addEventListener("abort",d)));const b=CM(s.url);if(b&&yr.protocols.indexOf(b)===-1){n(new Ve("Unsupported protocol "+b+":",Ve.ERR_BAD_REQUEST,e));return}j.send(i||null)})},IM=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,s;const i=function(u){if(!s){s=!0,l();const d=u instanceof Error?u:this.reason;n.abort(d instanceof Ve?d:new Vo(d instanceof Error?d.message:d))}};let o=t&&setTimeout(()=>{o=null,i(new Ve(`timeout ${t} of ms exceeded`,Ve.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),e=null)};e.forEach(u=>u.addEventListener("abort",i));const{signal:c}=n;return c.unsubscribe=()=>me.asap(l),c}},$M=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,s;for(;n<r;)s=n+t,yield e.slice(n,s),n=s},LM=async function*(e,t){for await(const r of FM(e))yield*$M(r,t)},FM=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},kb=(e,t,r,n)=>{const s=LM(e,t);let i=0,o,l=c=>{o||(o=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await s.next();if(u){l(),c.close();return}let f=d.byteLength;if(r){let m=i+=f;r(m)}c.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(c){return l(c),s.return()}},{highWaterMark:2})},Db=64*1024,{isFunction:qu}=me,BM=(({Request:e,Response:t})=>({Request:e,Response:t}))(me.global),{ReadableStream:Cb,TextEncoder:Eb}=me.global,Ab=(e,...t)=>{try{return!!e(...t)}catch{return!1}},WM=e=>{e=me.merge.call({skipUndefined:!0},BM,e);const{fetch:t,Request:r,Response:n}=e,s=t?qu(t):typeof fetch=="function",i=qu(r),o=qu(n);if(!s)return!1;const l=s&&qu(Cb),c=s&&(typeof Eb=="function"?(p=>h=>p.encode(h))(new Eb):async p=>new Uint8Array(await new r(p).arrayBuffer())),u=i&&l&&Ab(()=>{let p=!1;const h=new r(yr.origin,{body:new Cb,method:"POST",get duplex(){return p=!0,"half"}}).headers.has("Content-Type");return p&&!h}),d=o&&l&&Ab(()=>me.isReadableStream(new n("").body)),f={stream:d&&(p=>p.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(p=>{!f[p]&&(f[p]=(h,j)=>{let x=h&&h[p];if(x)return x.call(h);throw new Ve(`Response type '${p}' is not supported`,Ve.ERR_NOT_SUPPORT,j)})});const m=async p=>{if(p==null)return 0;if(me.isBlob(p))return p.size;if(me.isSpecCompliantForm(p))return(await new r(yr.origin,{method:"POST",body:p}).arrayBuffer()).byteLength;if(me.isArrayBufferView(p)||me.isArrayBuffer(p))return p.byteLength;if(me.isURLSearchParams(p)&&(p=p+""),me.isString(p))return(await c(p)).byteLength},v=async(p,h)=>{const j=me.toFiniteNumber(p.getContentLength());return j??m(h)};return async p=>{let{url:h,method:j,data:x,signal:b,cancelToken:N,timeout:g,onDownloadProgress:A,onUploadProgress:k,responseType:_,headers:O,withCredentials:R="same-origin",fetchOptions:I}=IS(p),V=t||fetch;_=_?(_+"").toLowerCase():"text";let Z=IM([b,N&&N.toAbortSignal()],g),Q=null;const G=Z&&Z.unsubscribe&&(()=>{Z.unsubscribe()});let xe;try{if(k&&u&&j!=="get"&&j!=="head"&&(xe=await v(O,x))!==0){let J=new r(h,{method:"POST",body:x,duplex:"half"}),H;if(me.isFormData(x)&&(H=J.headers.get("content-type"))&&O.setContentType(H),J.body){const[ae,ye]=Nb(xe,gf(jb(k)));x=kb(J.body,Db,ae,ye)}}me.isString(R)||(R=R?"include":"omit");const re=i&&"credentials"in r.prototype,pe={...I,signal:Z,method:j.toUpperCase(),headers:O.normalize().toJSON(),body:x,duplex:"half",credentials:re?R:void 0};Q=i&&new r(h,pe);let ce=await(i?V(Q,I):V(h,pe));const q=d&&(_==="stream"||_==="response");if(d&&(A||q&&G)){const J={};["status","statusText","headers"].forEach(ve=>{J[ve]=ce[ve]});const H=me.toFiniteNumber(ce.headers.get("content-length")),[ae,ye]=A&&Nb(H,gf(jb(A),!0))||[];ce=new n(kb(ce.body,Db,ae,()=>{ye&&ye(),G&&G()}),J)}_=_||"text";let oe=await f[me.findKey(f,_)||"text"](ce,p);return!q&&G&&G(),await new Promise((J,H)=>{MS(J,H,{data:oe,headers:Br.from(ce.headers),status:ce.status,statusText:ce.statusText,config:p,request:Q})})}catch(re){throw G&&G(),re&&re.name==="TypeError"&&/Load failed|fetch/i.test(re.message)?Object.assign(new Ve("Network Error",Ve.ERR_NETWORK,p,Q),{cause:re.cause||re}):Ve.from(re,re&&re.code,p,Q)}}},HM=new Map,$S=e=>{let t=e?e.env:{};const{fetch:r,Request:n,Response:s}=t,i=[n,s,r];let o=i.length,l=o,c,u,d=HM;for(;l--;)c=i[l],u=d.get(c),u===void 0&&d.set(c,u=l?new Map:WM(t)),d=u;return u};$S();const Eg={http:aM,xhr:OM,fetch:{get:$S}};me.forEach(Eg,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Tb=e=>`- ${e}`,UM=e=>me.isFunction(e)||e===null||e===!1,LS={getAdapter:(e,t)=>{e=me.isArray(e)?e:[e];const{length:r}=e;let n,s;const i={};for(let o=0;o<r;o++){n=e[o];let l;if(s=n,!UM(n)&&(s=Eg[(l=String(n)).toLowerCase()],s===void 0))throw new Ve(`Unknown adapter '${l}'`);if(s&&(me.isFunction(s)||(s=s.get(t))))break;i[l||"#"+o]=s}if(!s){const o=Object.entries(i).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let l=r?o.length>1?`since :
`+o.map(Tb).join(`
`):" "+Tb(o[0]):"as no adapter specified";throw new Ve("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return s},adapters:Eg};function Fh(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Vo(null,e)}function _b(e){return Fh(e),e.headers=Br.from(e.headers),e.data=Lh.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),LS.getAdapter(e.adapter||eu.adapter,e)(e).then(function(n){return Fh(e),n.data=Lh.call(e,e.transformResponse,n),n.headers=Br.from(n.headers),n},function(n){return RS(n)||(Fh(e),n&&n.response&&(n.response.data=Lh.call(e,e.transformResponse,n.response),n.response.headers=Br.from(n.response.headers))),Promise.reject(n)})}const FS="1.12.2",vm={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{vm[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const Pb={};vm.transitional=function(t,r,n){function s(i,o){return"[Axios v"+FS+"] Transitional option '"+i+"'"+o+(n?". "+n:"")}return(i,o,l)=>{if(t===!1)throw new Ve(s(o," has been removed"+(r?" in "+r:"")),Ve.ERR_DEPRECATED);return r&&!Pb[o]&&(Pb[o]=!0,console.warn(s(o," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(i,o,l):!0}};vm.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function VM(e,t,r){if(typeof e!="object")throw new Ve("options must be an object",Ve.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let s=n.length;for(;s-- >0;){const i=n[s],o=t[i];if(o){const l=e[i],c=l===void 0||o(l,i,e);if(c!==!0)throw new Ve("option "+i+" must be "+c,Ve.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Ve("Unknown option "+i,Ve.ERR_BAD_OPTION)}}const Ad={assertOptions:VM,validators:vm},qn=Ad.validators;let di=class{constructor(t){this.defaults=t||{},this.interceptors={request:new bb,response:new bb}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=wi(this.defaults,r);const{transitional:n,paramsSerializer:s,headers:i}=r;n!==void 0&&Ad.assertOptions(n,{silentJSONParsing:qn.transitional(qn.boolean),forcedJSONParsing:qn.transitional(qn.boolean),clarifyTimeoutError:qn.transitional(qn.boolean)},!1),s!=null&&(me.isFunction(s)?r.paramsSerializer={serialize:s}:Ad.assertOptions(s,{encode:qn.function,serialize:qn.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Ad.assertOptions(r,{baseUrl:qn.spelling("baseURL"),withXsrfToken:qn.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=i&&me.merge(i.common,i[r.method]);i&&me.forEach(["delete","get","head","post","put","patch","common"],p=>{delete i[p]}),r.headers=Br.concat(o,i);const l=[];let c=!0;this.interceptors.request.forEach(function(h){typeof h.runWhen=="function"&&h.runWhen(r)===!1||(c=c&&h.synchronous,l.unshift(h.fulfilled,h.rejected))});const u=[];this.interceptors.response.forEach(function(h){u.push(h.fulfilled,h.rejected)});let d,f=0,m;if(!c){const p=[_b.bind(this),void 0];for(p.unshift(...l),p.push(...u),m=p.length,d=Promise.resolve(r);f<m;)d=d.then(p[f++],p[f++]);return d}m=l.length;let v=r;for(;f<m;){const p=l[f++],h=l[f++];try{v=p(v)}catch(j){h.call(this,j);break}}try{d=_b.call(this,v)}catch(p){return Promise.reject(p)}for(f=0,m=u.length;f<m;)d=d.then(u[f++],u[f++]);return d}getUri(t){t=wi(this.defaults,t);const r=OS(t.baseURL,t.url,t.allowAbsoluteUrls);return TS(r,t.params,t.paramsSerializer)}};me.forEach(["delete","get","head","options"],function(t){di.prototype[t]=function(r,n){return this.request(wi(n||{},{method:t,url:r,data:(n||{}).data}))}});me.forEach(["post","put","patch"],function(t){function r(n){return function(i,o,l){return this.request(wi(l||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}di.prototype[t]=r(),di.prototype[t+"Form"]=r(!0)});let zM=class BS{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const n=this;this.promise.then(s=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](s);n._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(l=>{n.subscribe(l),i=l}).then(s);return o.cancel=function(){n.unsubscribe(i)},o},t(function(i,o,l){n.reason||(n.reason=new Vo(i,o,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new BS(function(s){t=s}),cancel:t}}};function YM(e){return function(r){return e.apply(null,r)}}function qM(e){return me.isObject(e)&&e.isAxiosError===!0}const Ag={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ag).forEach(([e,t])=>{Ag[t]=e});function WS(e){const t=new di(e),r=xS(di.prototype.request,t);return me.extend(r,di.prototype,t,{allOwnKeys:!0}),me.extend(r,t,null,{allOwnKeys:!0}),r.create=function(s){return WS(wi(e,s))},r}const Wt=WS(eu);Wt.Axios=di;Wt.CanceledError=Vo;Wt.CancelToken=zM;Wt.isCancel=RS;Wt.VERSION=FS;Wt.toFormData=xm;Wt.AxiosError=Ve;Wt.Cancel=Wt.CanceledError;Wt.all=function(t){return Promise.all(t)};Wt.spread=YM;Wt.isAxiosError=qM;Wt.mergeConfig=wi;Wt.AxiosHeaders=Br;Wt.formToJSON=e=>PS(me.isHTMLForm(e)?new FormData(e):e);Wt.getAdapter=LS.getAdapter;Wt.HttpStatusCode=Ag;Wt.default=Wt;const{Axios:Dne,AxiosError:Cne,CanceledError:Ene,isCancel:Ane,CancelToken:Tne,VERSION:_ne,all:Pne,Cancel:Rne,isAxiosError:Mne,spread:One,toFormData:Ine,AxiosHeaders:$ne,HttpStatusCode:Lne,formToJSON:Fne,getAdapter:Bne,mergeConfig:Wne}=Wt,GM="/api",Ee=Wt.create({baseURL:GM,headers:{"Content-Type":"application/json"}});Ee.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));Ee.interceptors.response.use(e=>e,e=>{var t;return((t=e.response)==null?void 0:t.status)===401&&(localStorage.removeItem("token"),window.location.href="/login"),Promise.reject(e)});const HS=w.createContext(void 0);function KM({children:e}){const[t,r]=w.useState(null),[n,s]=w.useState(!0),i=om();w.useEffect(()=>{o()},[]);const o=async()=>{try{const d=localStorage.getItem("token");if(!d){s(!1);return}Ee.defaults.headers.common.Authorization=`Bearer ${d}`;const f=await Ee.get("/auth/me");f.data.success&&r(f.data.user)}catch{localStorage.removeItem("token"),delete Ee.defaults.headers.common.Authorization}finally{s(!1)}},l=async(d,f)=>{var m,v;try{const p=await Ee.post("/auth/login",{username:d,password:f}),{token:h,user:j}=p.data;localStorage.setItem("token",h),Ee.defaults.headers.common.Authorization=`Bearer ${h}`,r(j),z.success(`${j.name}, !`),i("/")}catch(p){const h=p;throw z.error(((v=(m=h.response)==null?void 0:m.data)==null?void 0:v.message)||" "),p}},c=()=>{localStorage.removeItem("token"),delete Ee.defaults.headers.common.Authorization,r(null),i("/login"),z.success("")},u=d=>{r(d)};return a.jsx(HS.Provider,{value:{user:t,loading:n,login:l,logout:c,updateUser:u},children:e})}function Gs(){const e=w.useContext(HS);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function US(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=US(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Cr(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=US(e))&&(n&&(n+=" "),n+=t);return n}/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var QM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XM=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),nt=(e,t)=>{const r=w.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:c,...u},d)=>w.createElement("svg",{ref:d,...QM,width:s,height:s,stroke:n,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${XM(e)}`,l].join(" "),...u},[...t.map(([f,m])=>w.createElement(f,m)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rb=nt("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bh=nt("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JM=nt("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZM=nt("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const es=nt("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eO=nt("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Td=nt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wh=nt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mb=nt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hh=nt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tO=nt("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VS=nt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rO=nt("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nO=nt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sO=nt("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aO=nt("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const As=nt("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iO=nt("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oO=nt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lO=nt("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fi=nt("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hl=nt("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zS=nt("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ob=nt("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Os=nt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cO=nt("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yf=nt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YS=nt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gu=nt("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _t=nt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ra=nt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uO=nt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dO=nt("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ib=nt("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=nt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),fO={},$b=e=>{let t;const r=new Set,n=(d,f)=>{const m=typeof d=="function"?d(t):d;if(!Object.is(m,t)){const v=t;t=f??(typeof m!="object"||m===null)?m:Object.assign({},t,m),r.forEach(p=>p(t,v))}},s=()=>t,c={setState:n,getState:s,getInitialState:()=>u,subscribe:d=>(r.add(d),()=>r.delete(d)),destroy:()=>{(fO?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},u=t=e(n,s,c);return c},mO=e=>e?$b(e):$b;var qS={exports:{}},GS={},KS={exports:{}},QS={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Eo=w;function hO(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var pO=typeof Object.is=="function"?Object.is:hO,gO=Eo.useState,yO=Eo.useEffect,xO=Eo.useLayoutEffect,vO=Eo.useDebugValue;function bO(e,t){var r=t(),n=gO({inst:{value:r,getSnapshot:t}}),s=n[0].inst,i=n[1];return xO(function(){s.value=r,s.getSnapshot=t,Uh(s)&&i({inst:s})},[e,r,t]),yO(function(){return Uh(s)&&i({inst:s}),e(function(){Uh(s)&&i({inst:s})})},[e]),vO(r),r}function Uh(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!pO(e,r)}catch{return!0}}function wO(e,t){return t()}var NO=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?wO:bO;QS.useSyncExternalStore=Eo.useSyncExternalStore!==void 0?Eo.useSyncExternalStore:NO;KS.exports=QS;var jO=KS.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bm=w,SO=jO;function kO(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var DO=typeof Object.is=="function"?Object.is:kO,CO=SO.useSyncExternalStore,EO=bm.useRef,AO=bm.useEffect,TO=bm.useMemo,_O=bm.useDebugValue;GS.useSyncExternalStoreWithSelector=function(e,t,r,n,s){var i=EO(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=TO(function(){function c(v){if(!u){if(u=!0,d=v,v=n(v),s!==void 0&&o.hasValue){var p=o.value;if(s(p,v))return f=p}return f=v}if(p=f,DO(d,v))return p;var h=n(v);return s!==void 0&&s(p,h)?(d=v,p):(d=v,f=h)}var u=!1,d,f,m=r===void 0?null:r;return[function(){return c(t())},m===null?void 0:function(){return c(m())}]},[t,r,n,s]);var l=CO(e,i[0],i[1]);return AO(function(){o.hasValue=!0,o.value=l},[l]),_O(l),l};qS.exports=GS;var PO=qS.exports;const RO=Ar(PO),XS={},{useDebugValue:MO}=U,{useSyncExternalStoreWithSelector:OO}=RO;let Lb=!1;const IO=e=>e;function $O(e,t=IO,r){(XS?"production":void 0)!=="production"&&r&&!Lb&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Lb=!0);const n=OO(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return MO(n),n}const LO=e=>{(XS?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?mO(e):e,r=(n,s)=>$O(t,n,s);return Object.assign(r,t),r},JS=e=>LO,FO={};function BO(e,t){let r;try{r=e()}catch{return}return{getItem:s=>{var i;const o=c=>c===null?null:JSON.parse(c,void 0),l=(i=r.getItem(s))!=null?i:null;return l instanceof Promise?l.then(o):o(l)},setItem:(s,i)=>r.setItem(s,JSON.stringify(i,void 0)),removeItem:s=>r.removeItem(s)}}const xc=e=>t=>{try{const r=e(t);return r instanceof Promise?r:{then(n){return xc(n)(r)},catch(n){return this}}}catch(r){return{then(n){return this},catch(n){return xc(n)(r)}}}},WO=(e,t)=>(r,n,s)=>{let i={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:j=>j,version:0,merge:(j,x)=>({...x,...j}),...t},o=!1;const l=new Set,c=new Set;let u;try{u=i.getStorage()}catch{}if(!u)return e((...j)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),r(...j)},n,s);const d=xc(i.serialize),f=()=>{const j=i.partialize({...n()});let x;const b=d({state:j,version:i.version}).then(N=>u.setItem(i.name,N)).catch(N=>{x=N});if(x)throw x;return b},m=s.setState;s.setState=(j,x)=>{m(j,x),f()};const v=e((...j)=>{r(...j),f()},n,s);let p;const h=()=>{var j;if(!u)return;o=!1,l.forEach(b=>b(n()));const x=((j=i.onRehydrateStorage)==null?void 0:j.call(i,n()))||void 0;return xc(u.getItem.bind(u))(i.name).then(b=>{if(b)return i.deserialize(b)}).then(b=>{if(b)if(typeof b.version=="number"&&b.version!==i.version){if(i.migrate)return i.migrate(b.state,b.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return b.state}).then(b=>{var N;return p=i.merge(b,(N=n())!=null?N:v),r(p,!0),f()}).then(()=>{x==null||x(p,void 0),o=!0,c.forEach(b=>b(p))}).catch(b=>{x==null||x(void 0,b)})};return s.persist={setOptions:j=>{i={...i,...j},j.getStorage&&(u=j.getStorage())},clearStorage:()=>{u==null||u.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>h(),hasHydrated:()=>o,onHydrate:j=>(l.add(j),()=>{l.delete(j)}),onFinishHydration:j=>(c.add(j),()=>{c.delete(j)})},h(),p||v},HO=(e,t)=>(r,n,s)=>{let i={storage:BO(()=>localStorage),partialize:h=>h,version:0,merge:(h,j)=>({...j,...h}),...t},o=!1;const l=new Set,c=new Set;let u=i.storage;if(!u)return e((...h)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),r(...h)},n,s);const d=()=>{const h=i.partialize({...n()});return u.setItem(i.name,{state:h,version:i.version})},f=s.setState;s.setState=(h,j)=>{f(h,j),d()};const m=e((...h)=>{r(...h),d()},n,s);s.getInitialState=()=>m;let v;const p=()=>{var h,j;if(!u)return;o=!1,l.forEach(b=>{var N;return b((N=n())!=null?N:m)});const x=((j=i.onRehydrateStorage)==null?void 0:j.call(i,(h=n())!=null?h:m))||void 0;return xc(u.getItem.bind(u))(i.name).then(b=>{if(b)if(typeof b.version=="number"&&b.version!==i.version){if(i.migrate)return[!0,i.migrate(b.state,b.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,b.state];return[!1,void 0]}).then(b=>{var N;const[g,A]=b;if(v=i.merge(A,(N=n())!=null?N:m),r(v,!0),g)return d()}).then(()=>{x==null||x(v,void 0),v=n(),o=!0,c.forEach(b=>b(v))}).catch(b=>{x==null||x(void 0,b)})};return s.persist={setOptions:h=>{i={...i,...h},h.storage&&(u=h.storage)},clearStorage:()=>{u==null||u.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>p(),hasHydrated:()=>o,onHydrate:h=>(l.add(h),()=>{l.delete(h)}),onFinishHydration:h=>(c.add(h),()=>{c.delete(h)})},i.skipHydration||p(),v||m},UO=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((FO?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),WO(e,t)):HO(e,t),ZS=UO,ek=JS()(ZS((e,t)=>({notifications:[],unreadCount:0,addNotification:r=>{const n={...r,id:Date.now().toString()+Math.random().toString(36).substr(2,9),read:!1,createdAt:new Date};e(s=>({notifications:[n,...s.notifications].slice(0,50),unreadCount:s.unreadCount+1}))},markAsRead:r=>{e(n=>({notifications:n.notifications.map(s=>s.id===r?{...s,read:!0}:s),unreadCount:Math.max(0,n.unreadCount-1)}))},markAllAsRead:()=>{e(r=>({notifications:r.notifications.map(n=>({...n,read:!0})),unreadCount:0}))},deleteNotification:r=>{e(n=>{const s=n.notifications.find(o=>o.id===r),i=s&&!s.read;return{notifications:n.notifications.filter(o=>o.id!==r),unreadCount:i?Math.max(0,n.unreadCount-1):n.unreadCount}})},clearAll:()=>{e({notifications:[],unreadCount:0})},getUnreadCount:()=>t().unreadCount}),{name:"notification-storage",partialize:e=>({notifications:e.notifications,unreadCount:e.unreadCount})}));function On(e){"@babel/helpers - typeof";return On=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},On(e)}function Ma(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function dt(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function ht(e){dt(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||On(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function VO(e,t){dt(2,arguments);var r=ht(e),n=Ma(t);return isNaN(n)?new Date(NaN):(n&&r.setDate(r.getDate()+n),r)}function zO(e,t){dt(2,arguments);var r=ht(e).getTime(),n=Ma(t);return new Date(r+n)}var YO={};function tu(){return YO}function Tg(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function Fb(e){dt(1,arguments);var t=ht(e);return t.setHours(0,0,0,0),t}function _d(e,t){dt(2,arguments);var r=ht(e),n=ht(t),s=r.getTime()-n.getTime();return s<0?-1:s>0?1:s}function tk(e,t){dt(2,arguments);var r=Fb(e),n=Fb(t);return r.getTime()===n.getTime()}function qO(e){return dt(1,arguments),e instanceof Date||On(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function GO(e){if(dt(1,arguments),!qO(e)&&typeof e!="number")return!1;var t=ht(e);return!isNaN(Number(t))}function KO(e,t){dt(2,arguments);var r=ht(e),n=ht(t),s=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return s*12+i}function QO(e,t){return dt(2,arguments),ht(e).getTime()-ht(t).getTime()}var XO={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}},JO="trunc";function ZO(e){return XO[JO]}function e4(e){dt(1,arguments);var t=ht(e);return t.setHours(23,59,59,999),t}function t4(e){dt(1,arguments);var t=ht(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function r4(e){dt(1,arguments);var t=ht(e);return e4(t).getTime()===t4(t).getTime()}function n4(e,t){dt(2,arguments);var r=ht(e),n=ht(t),s=_d(r,n),i=Math.abs(KO(r,n)),o;if(i<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-s*i);var l=_d(r,n)===-s;r4(ht(e))&&i===1&&_d(e,n)===1&&(l=!1),o=s*(i-Number(l))}return o===0?0:o}function s4(e,t,r){dt(2,arguments);var n=QO(e,t)/1e3;return ZO()(n)}function a4(e,t){dt(2,arguments);var r=Ma(t);return zO(e,-r)}var i4=864e5;function o4(e){dt(1,arguments);var t=ht(e),r=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var n=t.getTime(),s=r-n;return Math.floor(s/i4)+1}function xf(e){dt(1,arguments);var t=1,r=ht(e),n=r.getUTCDay(),s=(n<t?7:0)+n-t;return r.setUTCDate(r.getUTCDate()-s),r.setUTCHours(0,0,0,0),r}function rk(e){dt(1,arguments);var t=ht(e),r=t.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(r+1,0,4),n.setUTCHours(0,0,0,0);var s=xf(n),i=new Date(0);i.setUTCFullYear(r,0,4),i.setUTCHours(0,0,0,0);var o=xf(i);return t.getTime()>=s.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function l4(e){dt(1,arguments);var t=rk(e),r=new Date(0);r.setUTCFullYear(t,0,4),r.setUTCHours(0,0,0,0);var n=xf(r);return n}var c4=6048e5;function u4(e){dt(1,arguments);var t=ht(e),r=xf(t).getTime()-l4(t).getTime();return Math.round(r/c4)+1}function vf(e,t){var r,n,s,i,o,l,c,u;dt(1,arguments);var d=tu(),f=Ma((r=(n=(s=(i=t==null?void 0:t.weekStartsOn)!==null&&i!==void 0?i:t==null||(o=t.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&s!==void 0?s:d.weekStartsOn)!==null&&n!==void 0?n:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&r!==void 0?r:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var m=ht(e),v=m.getUTCDay(),p=(v<f?7:0)+v-f;return m.setUTCDate(m.getUTCDate()-p),m.setUTCHours(0,0,0,0),m}function nk(e,t){var r,n,s,i,o,l,c,u;dt(1,arguments);var d=ht(e),f=d.getUTCFullYear(),m=tu(),v=Ma((r=(n=(s=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(o=t.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&s!==void 0?s:m.firstWeekContainsDate)!==null&&n!==void 0?n:(c=m.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&r!==void 0?r:1);if(!(v>=1&&v<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var p=new Date(0);p.setUTCFullYear(f+1,0,v),p.setUTCHours(0,0,0,0);var h=vf(p,t),j=new Date(0);j.setUTCFullYear(f,0,v),j.setUTCHours(0,0,0,0);var x=vf(j,t);return d.getTime()>=h.getTime()?f+1:d.getTime()>=x.getTime()?f:f-1}function d4(e,t){var r,n,s,i,o,l,c,u;dt(1,arguments);var d=tu(),f=Ma((r=(n=(s=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(o=t.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&s!==void 0?s:d.firstWeekContainsDate)!==null&&n!==void 0?n:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&r!==void 0?r:1),m=nk(e,t),v=new Date(0);v.setUTCFullYear(m,0,f),v.setUTCHours(0,0,0,0);var p=vf(v,t);return p}var f4=6048e5;function m4(e,t){dt(1,arguments);var r=ht(e),n=vf(r,t).getTime()-d4(r,t).getTime();return Math.round(n/f4)+1}function mt(e,t){for(var r=e<0?"-":"",n=Math.abs(e).toString();n.length<t;)n="0"+n;return r+n}var Zs={y:function(t,r){var n=t.getUTCFullYear(),s=n>0?n:1-n;return mt(r==="yy"?s%100:s,r.length)},M:function(t,r){var n=t.getUTCMonth();return r==="M"?String(n+1):mt(n+1,2)},d:function(t,r){return mt(t.getUTCDate(),r.length)},a:function(t,r){var n=t.getUTCHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h:function(t,r){return mt(t.getUTCHours()%12||12,r.length)},H:function(t,r){return mt(t.getUTCHours(),r.length)},m:function(t,r){return mt(t.getUTCMinutes(),r.length)},s:function(t,r){return mt(t.getUTCSeconds(),r.length)},S:function(t,r){var n=r.length,s=t.getUTCMilliseconds(),i=Math.floor(s*Math.pow(10,n-3));return mt(i,r.length)}},Mi={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},h4={G:function(t,r,n){var s=t.getUTCFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return n.era(s,{width:"abbreviated"});case"GGGGG":return n.era(s,{width:"narrow"});case"GGGG":default:return n.era(s,{width:"wide"})}},y:function(t,r,n){if(r==="yo"){var s=t.getUTCFullYear(),i=s>0?s:1-s;return n.ordinalNumber(i,{unit:"year"})}return Zs.y(t,r)},Y:function(t,r,n,s){var i=nk(t,s),o=i>0?i:1-i;if(r==="YY"){var l=o%100;return mt(l,2)}return r==="Yo"?n.ordinalNumber(o,{unit:"year"}):mt(o,r.length)},R:function(t,r){var n=rk(t);return mt(n,r.length)},u:function(t,r){var n=t.getUTCFullYear();return mt(n,r.length)},Q:function(t,r,n){var s=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"Q":return String(s);case"QQ":return mt(s,2);case"Qo":return n.ordinalNumber(s,{unit:"quarter"});case"QQQ":return n.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(s,{width:"wide",context:"formatting"})}},q:function(t,r,n){var s=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"q":return String(s);case"qq":return mt(s,2);case"qo":return n.ordinalNumber(s,{unit:"quarter"});case"qqq":return n.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(s,{width:"wide",context:"standalone"})}},M:function(t,r,n){var s=t.getUTCMonth();switch(r){case"M":case"MM":return Zs.M(t,r);case"Mo":return n.ordinalNumber(s+1,{unit:"month"});case"MMM":return n.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(s,{width:"wide",context:"formatting"})}},L:function(t,r,n){var s=t.getUTCMonth();switch(r){case"L":return String(s+1);case"LL":return mt(s+1,2);case"Lo":return n.ordinalNumber(s+1,{unit:"month"});case"LLL":return n.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(s,{width:"wide",context:"standalone"})}},w:function(t,r,n,s){var i=m4(t,s);return r==="wo"?n.ordinalNumber(i,{unit:"week"}):mt(i,r.length)},I:function(t,r,n){var s=u4(t);return r==="Io"?n.ordinalNumber(s,{unit:"week"}):mt(s,r.length)},d:function(t,r,n){return r==="do"?n.ordinalNumber(t.getUTCDate(),{unit:"date"}):Zs.d(t,r)},D:function(t,r,n){var s=o4(t);return r==="Do"?n.ordinalNumber(s,{unit:"dayOfYear"}):mt(s,r.length)},E:function(t,r,n){var s=t.getUTCDay();switch(r){case"E":case"EE":case"EEE":return n.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(s,{width:"short",context:"formatting"});case"EEEE":default:return n.day(s,{width:"wide",context:"formatting"})}},e:function(t,r,n,s){var i=t.getUTCDay(),o=(i-s.weekStartsOn+8)%7||7;switch(r){case"e":return String(o);case"ee":return mt(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,r,n,s){var i=t.getUTCDay(),o=(i-s.weekStartsOn+8)%7||7;switch(r){case"c":return String(o);case"cc":return mt(o,r.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,r,n){var s=t.getUTCDay(),i=s===0?7:s;switch(r){case"i":return String(i);case"ii":return mt(i,r.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(s,{width:"short",context:"formatting"});case"iiii":default:return n.day(s,{width:"wide",context:"formatting"})}},a:function(t,r,n){var s=t.getUTCHours(),i=s/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,r,n){var s=t.getUTCHours(),i;switch(s===12?i=Mi.noon:s===0?i=Mi.midnight:i=s/12>=1?"pm":"am",r){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,r,n){var s=t.getUTCHours(),i;switch(s>=17?i=Mi.evening:s>=12?i=Mi.afternoon:s>=4?i=Mi.morning:i=Mi.night,r){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,r,n){if(r==="ho"){var s=t.getUTCHours()%12;return s===0&&(s=12),n.ordinalNumber(s,{unit:"hour"})}return Zs.h(t,r)},H:function(t,r,n){return r==="Ho"?n.ordinalNumber(t.getUTCHours(),{unit:"hour"}):Zs.H(t,r)},K:function(t,r,n){var s=t.getUTCHours()%12;return r==="Ko"?n.ordinalNumber(s,{unit:"hour"}):mt(s,r.length)},k:function(t,r,n){var s=t.getUTCHours();return s===0&&(s=24),r==="ko"?n.ordinalNumber(s,{unit:"hour"}):mt(s,r.length)},m:function(t,r,n){return r==="mo"?n.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):Zs.m(t,r)},s:function(t,r,n){return r==="so"?n.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):Zs.s(t,r)},S:function(t,r){return Zs.S(t,r)},X:function(t,r,n,s){var i=s._originalDate||t,o=i.getTimezoneOffset();if(o===0)return"Z";switch(r){case"X":return Wb(o);case"XXXX":case"XX":return qa(o);case"XXXXX":case"XXX":default:return qa(o,":")}},x:function(t,r,n,s){var i=s._originalDate||t,o=i.getTimezoneOffset();switch(r){case"x":return Wb(o);case"xxxx":case"xx":return qa(o);case"xxxxx":case"xxx":default:return qa(o,":")}},O:function(t,r,n,s){var i=s._originalDate||t,o=i.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+Bb(o,":");case"OOOO":default:return"GMT"+qa(o,":")}},z:function(t,r,n,s){var i=s._originalDate||t,o=i.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+Bb(o,":");case"zzzz":default:return"GMT"+qa(o,":")}},t:function(t,r,n,s){var i=s._originalDate||t,o=Math.floor(i.getTime()/1e3);return mt(o,r.length)},T:function(t,r,n,s){var i=s._originalDate||t,o=i.getTime();return mt(o,r.length)}};function Bb(e,t){var r=e>0?"-":"+",n=Math.abs(e),s=Math.floor(n/60),i=n%60;if(i===0)return r+String(s);var o=t;return r+String(s)+o+mt(i,2)}function Wb(e,t){if(e%60===0){var r=e>0?"-":"+";return r+mt(Math.abs(e)/60,2)}return qa(e,t)}function qa(e,t){var r=t||"",n=e>0?"-":"+",s=Math.abs(e),i=mt(Math.floor(s/60),2),o=mt(s%60,2);return n+i+r+o}var Hb=function(t,r){switch(t){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},sk=function(t,r){switch(t){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},p4=function(t,r){var n=t.match(/(P+)(p+)?/)||[],s=n[1],i=n[2];if(!i)return Hb(t,r);var o;switch(s){case"P":o=r.dateTime({width:"short"});break;case"PP":o=r.dateTime({width:"medium"});break;case"PPP":o=r.dateTime({width:"long"});break;case"PPPP":default:o=r.dateTime({width:"full"});break}return o.replace("{{date}}",Hb(s,r)).replace("{{time}}",sk(i,r))},g4={p:sk,P:p4},y4=["D","DD"],x4=["YY","YYYY"];function v4(e){return y4.indexOf(e)!==-1}function b4(e){return x4.indexOf(e)!==-1}function Ub(e,t,r){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var w4={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},N4=function(t,r,n){var s,i=w4[t];return typeof i=="string"?s=i:r===1?s=i.one:s=i.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+s:s+" ago":s};function io(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.width?String(t.width):e.defaultWidth,n=e.formats[r]||e.formats[e.defaultWidth];return n}}var j4={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},S4={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},k4={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},D4={date:io({formats:j4,defaultWidth:"full"}),time:io({formats:S4,defaultWidth:"full"}),dateTime:io({formats:k4,defaultWidth:"full"})},C4={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},E4=function(t,r,n,s){return C4[t]};function rs(e){return function(t,r){var n=r!=null&&r.context?String(r.context):"standalone",s;if(n==="formatting"&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,o=r!=null&&r.width?String(r.width):i;s=e.formattingValues[o]||e.formattingValues[i]}else{var l=e.defaultWidth,c=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[c]||e.values[l]}var u=e.argumentCallback?e.argumentCallback(t):t;return s[u]}}var A4={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},T4={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},_4={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},P4={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},R4={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},M4={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},O4=function(t,r){var n=Number(t),s=n%100;if(s>20||s<10)switch(s%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},I4={ordinalNumber:O4,era:rs({values:A4,defaultWidth:"wide"}),quarter:rs({values:T4,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:rs({values:_4,defaultWidth:"wide"}),day:rs({values:P4,defaultWidth:"wide"}),dayPeriod:rs({values:R4,defaultWidth:"wide",formattingValues:M4,defaultFormattingWidth:"wide"})};function ns(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;var o=i[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?L4(l,function(f){return f.test(o)}):$4(l,function(f){return f.test(o)}),u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;var d=t.slice(o.length);return{value:u,rest:d}}}function $4(e,t){for(var r in e)if(e.hasOwnProperty(r)&&t(e[r]))return r}function L4(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return r}function ak(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.match(e.matchPattern);if(!n)return null;var s=n[0],i=t.match(e.parsePattern);if(!i)return null;var o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;var l=t.slice(s.length);return{value:o,rest:l}}}var F4=/^(\d+)(th|st|nd|rd)?/i,B4=/\d+/i,W4={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},H4={any:[/^b/i,/^(a|c)/i]},U4={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},V4={any:[/1/i,/2/i,/3/i,/4/i]},z4={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Y4={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},q4={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},G4={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},K4={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Q4={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},X4={ordinalNumber:ak({matchPattern:F4,parsePattern:B4,valueCallback:function(t){return parseInt(t,10)}}),era:ns({matchPatterns:W4,defaultMatchWidth:"wide",parsePatterns:H4,defaultParseWidth:"any"}),quarter:ns({matchPatterns:U4,defaultMatchWidth:"wide",parsePatterns:V4,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:ns({matchPatterns:z4,defaultMatchWidth:"wide",parsePatterns:Y4,defaultParseWidth:"any"}),day:ns({matchPatterns:q4,defaultMatchWidth:"wide",parsePatterns:G4,defaultParseWidth:"any"}),dayPeriod:ns({matchPatterns:K4,defaultMatchWidth:"any",parsePatterns:Q4,defaultParseWidth:"any"})},ik={code:"en-US",formatDistance:N4,formatLong:D4,formatRelative:E4,localize:I4,match:X4,options:{weekStartsOn:0,firstWeekContainsDate:1}},J4=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Z4=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,eI=/^'([^]*?)'?$/,tI=/''/g,rI=/[a-zA-Z]/;function _e(e,t,r){var n,s,i,o,l,c,u,d,f,m,v,p,h,j,x,b,N,g;dt(2,arguments);var A=String(t),k=tu(),_=(n=(s=r==null?void 0:r.locale)!==null&&s!==void 0?s:k.locale)!==null&&n!==void 0?n:ik,O=Ma((i=(o=(l=(c=r==null?void 0:r.firstWeekContainsDate)!==null&&c!==void 0?c:r==null||(u=r.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&l!==void 0?l:k.firstWeekContainsDate)!==null&&o!==void 0?o:(f=k.locale)===null||f===void 0||(m=f.options)===null||m===void 0?void 0:m.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(O>=1&&O<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var R=Ma((v=(p=(h=(j=r==null?void 0:r.weekStartsOn)!==null&&j!==void 0?j:r==null||(x=r.locale)===null||x===void 0||(b=x.options)===null||b===void 0?void 0:b.weekStartsOn)!==null&&h!==void 0?h:k.weekStartsOn)!==null&&p!==void 0?p:(N=k.locale)===null||N===void 0||(g=N.options)===null||g===void 0?void 0:g.weekStartsOn)!==null&&v!==void 0?v:0);if(!(R>=0&&R<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!_.localize)throw new RangeError("locale must contain localize property");if(!_.formatLong)throw new RangeError("locale must contain formatLong property");var I=ht(e);if(!GO(I))throw new RangeError("Invalid time value");var V=Tg(I),Z=a4(I,V),Q={firstWeekContainsDate:O,weekStartsOn:R,locale:_,_originalDate:I},G=A.match(Z4).map(function(xe){var re=xe[0];if(re==="p"||re==="P"){var pe=g4[re];return pe(xe,_.formatLong)}return xe}).join("").match(J4).map(function(xe){if(xe==="''")return"'";var re=xe[0];if(re==="'")return nI(xe);var pe=h4[re];if(pe)return!(r!=null&&r.useAdditionalWeekYearTokens)&&b4(xe)&&Ub(xe,t,String(e)),!(r!=null&&r.useAdditionalDayOfYearTokens)&&v4(xe)&&Ub(xe,t,String(e)),pe(Z,xe,_.localize,Q);if(re.match(rI))throw new RangeError("Format string contains an unescaped latin alphabet character `"+re+"`");return xe}).join("");return G}function nI(e){var t=e.match(eI);return t?t[1].replace(tI,"'"):e}function ok(e,t){if(e==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}function sI(e){return ok({},e)}var Vb=1440,aI=2520,Vh=43200,iI=86400;function oI(e,t,r){var n,s;dt(2,arguments);var i=tu(),o=(n=(s=r==null?void 0:r.locale)!==null&&s!==void 0?s:i.locale)!==null&&n!==void 0?n:ik;if(!o.formatDistance)throw new RangeError("locale must contain formatDistance property");var l=_d(e,t);if(isNaN(l))throw new RangeError("Invalid time value");var c=ok(sI(r),{addSuffix:!!(r!=null&&r.addSuffix),comparison:l}),u,d;l>0?(u=ht(t),d=ht(e)):(u=ht(e),d=ht(t));var f=s4(d,u),m=(Tg(d)-Tg(u))/1e3,v=Math.round((f-m)/60),p;if(v<2)return r!=null&&r.includeSeconds?f<5?o.formatDistance("lessThanXSeconds",5,c):f<10?o.formatDistance("lessThanXSeconds",10,c):f<20?o.formatDistance("lessThanXSeconds",20,c):f<40?o.formatDistance("halfAMinute",0,c):f<60?o.formatDistance("lessThanXMinutes",1,c):o.formatDistance("xMinutes",1,c):v===0?o.formatDistance("lessThanXMinutes",1,c):o.formatDistance("xMinutes",v,c);if(v<45)return o.formatDistance("xMinutes",v,c);if(v<90)return o.formatDistance("aboutXHours",1,c);if(v<Vb){var h=Math.round(v/60);return o.formatDistance("aboutXHours",h,c)}else{if(v<aI)return o.formatDistance("xDays",1,c);if(v<Vh){var j=Math.round(v/Vb);return o.formatDistance("xDays",j,c)}else if(v<iI)return p=Math.round(v/Vh),o.formatDistance("aboutXMonths",p,c)}if(p=n4(d,u),p<12){var x=Math.round(v/Vh);return o.formatDistance("xMonths",x,c)}else{var b=p%12,N=Math.floor(p/12);return b<3?o.formatDistance("aboutXYears",N,c):b<9?o.formatDistance("overXYears",N,c):o.formatDistance("almostXYears",N+1,c)}}function lI(e,t){return dt(1,arguments),oI(e,Date.now(),t)}function cI(e){return dt(1,arguments),ht(e).getTime()>Date.now()}function _g(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function wx(e,t){if(e){if(typeof e=="string")return _g(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_g(e,t):void 0}}function uI(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bf(e,t){return bf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},bf(e,t)}function br(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bf(e,t)}function wf(e){return wf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},wf(e)}function lk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lk=function(){return!!e})()}function dI(e,t){if(t&&(On(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uI(e)}function Zt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fI(e,t){if(On(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(On(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ck(e){var t=fI(e,"string");return On(t)=="symbol"?t:t+""}function zb(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ck(n.key),n)}}function er(e,t,r){return t&&zb(e.prototype,t),r&&zb(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ka(e,t,r){return(t=ck(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yb(e){return dt(1,arguments),tk(e,Date.now())}function mI(e){return dt(1,arguments),tk(e,VO(Date.now(),1))}var hI={lessThanXSeconds:{one:"1 ",other:"{{count}} "},xSeconds:{one:"1",other:"{{count}}"},halfAMinute:"30",lessThanXMinutes:{one:"1 ",other:"{{count}} "},xMinutes:{one:"1",other:"{{count}}"},aboutXHours:{one:" 1",other:" {{count}}"},xHours:{one:"1",other:"{{count}}"},xDays:{one:"1",other:"{{count}}"},aboutXWeeks:{one:" 1",other:" {{count}}"},xWeeks:{one:"1",other:"{{count}}"},aboutXMonths:{one:" 1",other:" {{count}}"},xMonths:{one:"1",other:"{{count}}"},aboutXYears:{one:" 1",other:" {{count}}"},xYears:{one:"1",other:"{{count}}"},overXYears:{one:"1 ",other:"{{count}} "},almostXYears:{one:" 1",other:" {{count}}"}},pI=function(t,r,n){var s,i=hI[t];return typeof i=="string"?s=i:r===1?s=i.one:s=i.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?s+" ":s+" ":s},gI={full:"y M d EEEE",long:"y M d",medium:"y.MM.dd",short:"y.MM.dd"},yI={full:"a H mm ss zzzz",long:"a H:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},xI={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},vI={date:io({formats:gI,defaultWidth:"full"}),time:io({formats:yI,defaultWidth:"full"}),dateTime:io({formats:xI,defaultWidth:"full"})},bI={lastWeek:"'' eeee p",yesterday:"'' p",today:"'' p",tomorrow:"'' p",nextWeek:"'' eeee p",other:"P"},wI=function(t,r,n,s){return bI[t]},NI={narrow:["BC","AD"],abbreviated:["BC","AD"],wide:["",""]},jI={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1","2","3","4"]},SI={narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],abbreviated:["1","2","3","4","5","6","7","8","9","10","11","12"],wide:["1","2","3","4","5","6","7","8","9","10","11","12"]},kI={narrow:["","","","","","",""],short:["","","","","","",""],abbreviated:["","","","","","",""],wide:["","","","","","",""]},DI={narrow:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},abbreviated:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},CI={narrow:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},abbreviated:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},EI=function(t,r){var n=Number(t),s=String(r==null?void 0:r.unit);switch(s){case"minute":case"second":return String(n);case"date":return n+"";default:return n+""}},AI={ordinalNumber:EI,era:rs({values:NI,defaultWidth:"wide"}),quarter:rs({values:jI,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:rs({values:SI,defaultWidth:"wide"}),day:rs({values:kI,defaultWidth:"wide"}),dayPeriod:rs({values:DI,defaultWidth:"wide",formattingValues:CI,defaultFormattingWidth:"wide"})},TI=/^(\d+)(|)?/i,_I=/\d+/i,PI={narrow:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(|)/i},RI={any:[/^(bc|)/i,/^(ad|)/i]},MI={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234]?/i},OI={any:[/1/i,/2/i,/3/i,/4/i]},II={narrow:/^(1[012]|[123456789])/,abbreviated:/^(1[012]|[123456789])/i,wide:/^(1[012]|[123456789])/i},$I={any:[/^1?$/,/^2/,/^3/,/^4/,/^5/,/^6/,/^7/,/^8/,/^9/,/^10/,/^11/,/^12/]},LI={narrow:/^[]/,short:/^[]/,abbreviated:/^[]/,wide:/^[]/},FI={any:[/^/,/^/,/^/,/^/,/^/,/^/,/^/]},BI={any:/^(am|pm|||||||)/i},WI={any:{am:/^(am|)/i,pm:/^(pm|)/i,midnight:/^/i,noon:/^/i,morning:/^/i,afternoon:/^/i,evening:/^/i,night:/^/i}},HI={ordinalNumber:ak({matchPattern:TI,parsePattern:_I,valueCallback:function(t){return parseInt(t,10)}}),era:ns({matchPatterns:PI,defaultMatchWidth:"wide",parsePatterns:RI,defaultParseWidth:"any"}),quarter:ns({matchPatterns:MI,defaultMatchWidth:"wide",parsePatterns:OI,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:ns({matchPatterns:II,defaultMatchWidth:"wide",parsePatterns:$I,defaultParseWidth:"any"}),day:ns({matchPatterns:LI,defaultMatchWidth:"wide",parsePatterns:FI,defaultParseWidth:"any"}),dayPeriod:ns({matchPatterns:BI,defaultMatchWidth:"any",parsePatterns:WI,defaultParseWidth:"any"})},tt={code:"ko",formatDistance:pI,formatLong:vI,formatRelative:wI,localize:AI,match:HI,options:{weekStartsOn:0,firstWeekContainsDate:1}};const UI=({isOpen:e,onClose:t})=>{const r=om(),{notifications:n,unreadCount:s,markAsRead:i,markAllAsRead:o,deleteNotification:l,clearAll:c}=ek();if(!e)return null;const u=m=>{switch(m){case"payment":return a.jsx(rO,{className:"h-5 w-5"});case"as_request":return a.jsx(dO,{className:"h-5 w-5"});case"schedule":return a.jsx(es,{className:"h-5 w-5"});case"work_request":return a.jsx(JM,{className:"h-5 w-5"});default:return a.jsx(Bh,{className:"h-5 w-5"})}},d=m=>{switch(m){case"payment":return"text-green-600 bg-green-50";case"as_request":return"text-yellow-600 bg-yellow-50";case"schedule":return"text-blue-600 bg-blue-50";case"work_request":return"text-purple-600 bg-purple-50";default:return"text-gray-600 bg-gray-50"}},f=m=>{i(m.id),m.link&&(r(m.link),t())};return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-25 z-40",onClick:t}),a.jsxs("div",{className:"fixed right-0 top-16 h-[calc(100vh-4rem)] w-full sm:w-96 bg-white shadow-2xl z-50 flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Bh,{className:"h-5 w-5 text-gray-900"}),a.jsx("h2",{className:"text-lg font-bold text-gray-900",children:""}),s>0&&a.jsx("span",{className:"px-2 py-0.5 bg-gray-900 text-white text-xs font-bold rounded-full",children:s})]}),a.jsx("button",{onClick:t,className:"p-1 hover:bg-gray-100 rounded-lg transition-colors",children:a.jsx(rt,{className:"h-5 w-5 text-gray-600"})})]}),n.length>0&&a.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-gray-50 border-b border-gray-200",children:[s>0&&a.jsxs("button",{onClick:o,className:"flex items-center gap-1 text-xs text-gray-600 hover:text-gray-900",children:[a.jsx(Td,{className:"h-3 w-3"})," "]}),a.jsxs("button",{onClick:c,className:"flex items-center gap-1 text-xs text-gray-600 hover:text-red-600 ml-auto",children:[a.jsx(_t,{className:"h-3 w-3"})," "]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto",children:n.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center p-8",children:[a.jsx(Bh,{className:"h-12 w-12 text-gray-300 mb-3"}),a.jsx("p",{className:"text-sm text-gray-500",children:" "})]}):a.jsx("div",{className:"divide-y divide-gray-100",children:n.map(m=>a.jsx("div",{className:`p-4 hover:bg-gray-50 transition-colors cursor-pointer ${m.read?"":"bg-blue-50"}`,onClick:()=>f(m),children:a.jsxs("div",{className:"flex gap-3",children:[a.jsx("div",{className:`flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center ${d(m.type)}`,children:u(m.type)}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-start justify-between gap-2",children:[a.jsx("p",{className:`text-sm font-semibold ${m.read?"text-gray-700":"text-gray-900"}`,children:m.title}),!m.read&&a.jsx("span",{className:"flex-shrink-0 w-2 h-2 bg-blue-600 rounded-full mt-1"})]}),a.jsx("p",{className:"text-xs text-gray-600 mt-1 line-clamp-2",children:m.message}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:lI(new Date(m.createdAt),{addSuffix:!0,locale:tt})})]}),a.jsx("button",{onClick:v=>{v.stopPropagation(),l(m.id)},className:"flex-shrink-0 p-1 hover:bg-gray-200 rounded transition-colors",children:a.jsx(rt,{className:"h-4 w-4 text-gray-400"})})]})},m.id))})})]})]})},ra={getAllWorkRequests:async()=>(await Ee.get("/workrequests")).data,getWorkRequestById:async e=>(await Ee.get(`/workrequests/${e}`)).data,createWorkRequest:async e=>{console.log("[workRequestService.createWorkRequest] Input data:",e);const t={project:e.project,requestType:e.requestType,description:e.description,requestDate:e.requestDate instanceof Date?e.requestDate.toISOString():e.requestDate,dueDate:e.dueDate instanceof Date?e.dueDate.toISOString():e.dueDate,requestedBy:e.requestedBy,assignedTo:e.assignedTo,priority:e.priority||"medium",status:e.status||"pending",notes:e.notes||""};return console.log("[workRequestService.createWorkRequest] Sending to backend:",t),(await Ee.post("/workrequests",t)).data},updateWorkRequest:async(e,t)=>{console.log("[workRequestService.updateWorkRequest] Input data:",t);const r={};return t.project!==void 0&&(r.project=t.project),t.requestType!==void 0&&(r.requestType=t.requestType),t.description!==void 0&&(r.description=t.description),t.requestDate!==void 0&&(r.requestDate=t.requestDate instanceof Date?t.requestDate.toISOString():t.requestDate),t.dueDate!==void 0&&(r.dueDate=t.dueDate instanceof Date?t.dueDate.toISOString():t.dueDate),t.requestedBy!==void 0&&(r.requestedBy=t.requestedBy),t.assignedTo!==void 0&&(r.assignedTo=t.assignedTo),t.priority!==void 0&&(r.priority=t.priority),t.status!==void 0&&(r.status=t.status),t.notes!==void 0&&(r.notes=t.notes),t.completedDate!==void 0&&(r.completedDate=t.completedDate instanceof Date?t.completedDate.toISOString():t.completedDate),console.log("[workRequestService.updateWorkRequest] Sending to backend:",r),(await Ee.put(`/workrequests/${e}`,r)).data},deleteWorkRequest:async e=>{await Ee.delete(`/workrequests/${e}`)}},na={getAllPayments:async()=>(await Ee.get("/payments")).data,getPaymentById:async e=>(await Ee.get(`/payments/${e}`)).data,createPayment:async e=>{var n,s,i;const t={project_id:e.projectId,request_type:e.category,vendor_name:e.process||"",description:e.purpose||"",amount:e.amount,account_holder:((n=e.bankInfo)==null?void 0:n.accountHolder)||"",bank_name:((s=e.bankInfo)==null?void 0:s.bankName)||"",account_number:((i=e.bankInfo)==null?void 0:i.accountNumber)||"",notes:e.notes||"",itemName:e.itemName||"",materialAmount:e.materialAmount||0,laborAmount:e.laborAmount||0,originalLaborAmount:e.originalLaborAmount||0,applyTaxDeduction:e.applyTaxDeduction||!1,includesVAT:e.includesVAT||!1};return console.log("[paymentService.createPayment] Sending to backend:",t),(await Ee.post("/payments",t)).data},updatePayment:async(e,t)=>{const r={};return t.purpose!==void 0&&(r.description=t.purpose),t.amount!==void 0&&(r.amount=t.amount),t.process!==void 0&&(r.vendor_name=t.process),t.category!==void 0&&(r.request_type=t.category),t.itemName!==void 0&&(r.itemName=t.itemName),t.materialAmount!==void 0&&(r.materialAmount=t.materialAmount),t.laborAmount!==void 0&&(r.laborAmount=t.laborAmount),t.originalLaborAmount!==void 0&&(r.originalLaborAmount=t.originalLaborAmount),t.applyTaxDeduction!==void 0&&(r.applyTaxDeduction=t.applyTaxDeduction),t.includesVAT!==void 0&&(r.includesVAT=t.includesVAT),t.notes!==void 0&&(r.notes=t.notes),t.bankInfo!==void 0&&(t.bankInfo.accountHolder&&(r.account_holder=t.bankInfo.accountHolder),t.bankInfo.bankName&&(r.bank_name=t.bankInfo.bankName),t.bankInfo.accountNumber&&(r.account_number=t.bankInfo.accountNumber)),(await Ee.put(`/payments/${e}`,r)).data},updatePaymentStatus:async(e,t)=>(await Ee.put(`/payments/${e}/status`,{status:t})).data,deletePayment:async e=>{await Ee.delete(`/payments/${e}`)}},Tl={getAllASRequests:async()=>(await Ee.get("/as-requests")).data,getASRequestById:async e=>(await Ee.get(`/as-requests/${e}`)).data,createASRequest:async e=>(await Ee.post("/as-requests",e)).data,updateASRequest:async(e,t)=>(await Ee.put(`/as-requests/${e}`,t)).data,deleteASRequest:async e=>{await Ee.delete(`/as-requests/${e}`)}},VI=()=>{var g,A;const{user:e,logout:t,loading:r}=Gs(),[n,s]=w.useState(!1),[i,o]=w.useState(!1),l=qs(),{unreadCount:c}=ek(),[u,d]=w.useState(0),[f,m]=w.useState(0),[v,p]=w.useState(0);if(w.useEffect(()=>{const k=async()=>{if(e)try{const R=(await ra.getAllWorkRequests()).filter(I=>I.assignedTo===e.name&&I.status==="pending").length;d(R)}catch(O){console.error("Failed to load pending work requests:",O)}};k();const _=setInterval(k,3e4);return()=>clearInterval(_)},[e]),w.useEffect(()=>{const k=async()=>{if(e)try{const R=(await na.getAllPayments()).filter(I=>I.status==="pending").length;m(R)}catch(O){console.error("Failed to load pending payments:",O)}};k();const _=setInterval(k,3e4);return()=>clearInterval(_)},[e]),w.useEffect(()=>{const k=async()=>{if(e)try{const R=(await Tl.getAllASRequests()).filter(I=>I.status==="in-progress").length;p(R)}catch(O){console.error("Failed to load in-progress AS requests:",O)}};k();const _=setInterval(k,3e4);return()=>clearInterval(_)},[e]),r)return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900"}),a.jsx("p",{className:"mt-4 text-gray-600",children:" ..."})]})});if(!e)return a.jsx(F2,{to:"/login",replace:!0});const h=[{name:"",href:"/dashboard"},{name:"",href:"/projects"},{name:"",href:"/schedule"},{name:"AS ",href:"/after-service",...v>0&&{badge:v}},{name:"",href:"/additional-work"},{name:"",href:"/construction-payment",roles:["admin","manager"]},{name:"",href:"/contractors"},{name:"",href:"/work-request",...u>0&&{badge:u}},{name:"",href:"/finish-check"},{name:"",href:"/specbook"},{name:"",href:"/estimate-preview"},{name:"",href:"/execution-history"},{name:"",href:"/payments",...f>0&&{badge:f}},{name:"",href:"/quote-inquiry",roles:["admin","manager"]}],j=h.filter(k=>!k.roles||k.roles.includes((e==null?void 0:e.role)||"")),x=((g=h.find(k=>k.href===l.pathname))==null?void 0:g.name)||"",N=(()=>{const k=l.pathname;return["/projects","/schedule","/after-service","/additional-work","/construction-payment","/contractors","/work-request"].includes(k)?()=>{const O=new CustomEvent("headerAddButtonClick");window.dispatchEvent(O)}:null})();return a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsxs("div",{className:Cr("fixed inset-0 z-40 lg:hidden",n?"block":"hidden"),children:[a.jsx("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-50",onClick:()=>s(!1)}),a.jsxs("div",{className:"fixed inset-y-0 left-0 flex w-64 flex-col bg-white",children:[a.jsxs("div",{className:"flex h-16 items-center justify-between px-6 border-b border-gray-200",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"HV LAB"}),a.jsx("button",{onClick:()=>s(!1),className:"text-sm text-gray-600 hover:text-gray-900",children:""})]}),a.jsx("nav",{className:"flex-1 space-y-1 px-4 py-4",children:j.map(k=>a.jsx(fg,{to:k.href,className:({isActive:_})=>Cr("block px-4 py-3 text-sm font-medium border-l-2 transition-colors relative",_?"border-gray-900 bg-gray-50 text-gray-900":"border-transparent text-gray-600 hover:border-gray-400 hover:bg-gray-50"),onClick:()=>s(!1),children:a.jsxs("span",{className:"flex items-center justify-between",children:[a.jsx("span",{children:k.name}),k.badge&&k.badge>0&&a.jsx("span",{className:"ml-2 inline-flex items-center justify-center px-2 py-0.5 text-xs font-bold leading-none text-white bg-red-600 rounded-full",children:k.badge>99?"99+":k.badge})]})},k.name))}),a.jsx("div",{className:"border-t border-gray-200 px-4 py-4",children:a.jsx("button",{onClick:t,className:"w-full px-4 py-3 text-sm font-medium text-gray-600 hover:bg-gray-50 text-left",children:""})})]})]}),a.jsx("div",{className:"hidden lg:fixed lg:inset-y-0 lg:flex lg:w-64 lg:flex-col",children:a.jsxs("div",{className:"flex flex-col bg-white border-r border-gray-200",children:[a.jsx("div",{className:"flex h-16 items-center px-6 border-b border-gray-200",children:a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"HV LAB"})}),a.jsx("nav",{className:"flex-1 space-y-1 px-4 py-4",children:j.map(k=>a.jsx(fg,{to:k.href,className:({isActive:_})=>Cr("block px-4 py-3 text-sm font-medium border-l-2 transition-colors relative",_?"border-gray-900 bg-gray-50 text-gray-900":"border-transparent text-gray-600 hover:border-gray-400 hover:bg-gray-50"),children:a.jsxs("span",{className:"flex items-center justify-between",children:[a.jsx("span",{children:k.name}),k.badge&&k.badge>0&&a.jsx("span",{className:"ml-2 inline-flex items-center justify-center px-2 py-0.5 text-xs font-bold leading-none text-white bg-red-600 rounded-full",children:k.badge>99?"99+":k.badge})]})},k.name))}),a.jsx("div",{className:"border-t border-gray-200 px-4 py-4",children:a.jsx("button",{onClick:t,className:"w-full px-4 py-3 text-sm font-medium text-gray-600 hover:bg-gray-50 text-left",children:""})})]})}),a.jsxs("div",{className:"lg:pl-64",children:[a.jsx("header",{className:"sticky top-0 z-30 bg-white border-b border-gray-200",children:a.jsxs("div",{className:"flex items-center justify-between px-4 py-3 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("button",{onClick:()=>s(!0),className:"lg:hidden p-2 text-gray-600 hover:text-gray-900 -ml-2","aria-label":" ",children:a.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),x&&a.jsx("h1",{className:"text-lg font-bold text-gray-900",children:x})]}),a.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-6 ml-auto",children:[N&&a.jsx("button",{onClick:N,className:"lg:hidden p-2 text-gray-900 hover:text-gray-700","aria-label":"",children:a.jsx(Os,{className:"h-6 w-6"})}),a.jsxs("button",{onClick:()=>o(!i),className:"hidden sm:block relative p-2 text-gray-600 hover:text-gray-900 transition-colors","aria-label":"",children:[a.jsx("svg",{className:"h-5 w-5 sm:h-6 sm:w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),c>0&&a.jsx("span",{className:"absolute top-1 right-1 flex items-center justify-center h-4 w-4 bg-red-600 text-white text-[10px] font-bold rounded-full",children:c>9?"9+":c})]}),a.jsxs("div",{className:"hidden sm:flex items-center space-x-2 sm:space-x-3",children:[a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:e==null?void 0:e.name}),a.jsx("p",{className:"text-xs text-gray-500",children:e==null?void 0:e.role})]}),a.jsx("div",{className:"h-8 w-8 sm:h-9 sm:w-9 bg-gray-900 text-white flex items-center justify-center text-xs font-bold rounded-full",children:(A=e==null?void 0:e.name)==null?void 0:A.substring(0,1)})]})]})]})}),a.jsx("main",{className:"py-[10px] md:py-6 lg:py-8",children:a.jsx("div",{className:"px-3 sm:px-4 md:px-6 lg:px-8",children:a.jsx(__,{})})})]}),a.jsx(UI,{isOpen:i,onClose:()=>o(!1)})]})},Ku={getAllSchedules:async()=>(await Ee.get("/schedules")).data,getScheduleById:async e=>(await Ee.get(`/schedules/${e}`)).data,createSchedule:async e=>(await Ee.post("/schedules",{project:e.project,title:e.title,type:e.type||"other",phase:e.phase||"",startDate:e.startDate,endDate:e.endDate,allDay:e.allDay!==void 0?e.allDay:!0,assignedTo:e.assignedTo||[],description:e.description,location:e.location,priority:e.priority||"medium",progress:e.progress||0,isCompleted:e.isCompleted||!1,asRequestId:e.asRequestId,time:e.time})).data,updateSchedule:async(e,t)=>(await Ee.put(`/schedules/${e}`,t)).data,deleteSchedule:async e=>{await Ee.delete(`/schedules/${e}`)}},Qu={getAllProjects:async()=>(await Ee.get("/projects")).data,getProjectById:async e=>(await Ee.get(`/projects/${e}`)).data,createProject:async e=>{const t={name:e.name,client:typeof e.client=="string"?e.client:e.client.name,location:typeof e.location=="string"?e.location:e.location.address,status:e.status||"planning",manager:e.manager,description:e.description||""};if(e.startDate){const n=typeof e.startDate=="string"?new Date(e.startDate):e.startDate;t.startDate=n.toISOString().split("T")[0]}if(e.endDate){const n=typeof e.endDate=="string"?new Date(e.endDate):e.endDate;t.endDate=n.toISOString().split("T")[0]}return console.log("[projectService.createProject] Sending to backend:",t),(await Ee.post("/projects",t)).data},updateProject:async(e,t)=>{var n;const r={};if(t.name!==void 0&&(r.name=t.name),t.client!==void 0&&(r.client=typeof t.client=="string"?t.client:t.client.name),t.location!==void 0&&(r.location=typeof t.location=="string"?t.location:t.location.address),t.startDate!==void 0)if(typeof t.startDate=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(t.startDate))r.startDate=t.startDate;else{const s=typeof t.startDate=="string"?new Date(t.startDate):t.startDate;r.startDate=s.toISOString().split("T")[0]}if(t.endDate!==void 0)if(typeof t.endDate=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(t.endDate))r.endDate=t.endDate;else{const s=typeof t.endDate=="string"?new Date(t.endDate):t.endDate;r.endDate=s.toISOString().split("T")[0]}t.status!==void 0&&(r.status=t.status),t.manager!==void 0&&(r.manager=t.manager),t.description!==void 0&&(r.description=t.description),t.meetingNotes!==void 0&&(r.meetingNotes=t.meetingNotes),t.customerRequests!==void 0&&(r.customerRequests=t.customerRequests),t.entrancePassword!==void 0&&(r.entrancePassword=t.entrancePassword),t.sitePassword!==void 0&&(r.sitePassword=t.sitePassword),console.log("[projectService.updateProject] Sending to backend:",r);try{return(await Ee.put(`/projects/${e}`,r)).data}catch(s){const i=s;throw console.error("[projectService.updateProject] Error:",s),console.error("[projectService.updateProject] Error response:",(n=i.response)==null?void 0:n.data),s}},deleteProject:async e=>{await Ee.delete(`/projects/${e}`)}},Ts={getAllContractors:async()=>(await Ee.get("/contractors")).data,getContractorById:async e=>(await Ee.get(`/contractors/${e}`)).data,createContractor:async e=>(await Ee.post("/contractors",e)).data,updateContractor:async(e,t)=>(await Ee.put(`/contractors/${e}`,t)).data,deleteContractor:async e=>{await Ee.delete(`/contractors/${e}`)}},Xu={getAllConstructionPayments:async()=>(await Ee.get("/construction-payments")).data,getConstructionPaymentById:async e=>(await Ee.get(`/construction-payments/${e}`)).data,createConstructionPayment:async e=>(await Ee.post("/construction-payments",e)).data,updateConstructionPayment:async(e,t)=>(await Ee.put(`/construction-payments/${e}`,t)).data,deleteConstructionPayment:async e=>{await Ee.delete(`/construction-payments/${e}`)}},Un=JS()(ZS(e=>({projects:[],schedules:[],payments:[],contractors:[],constructionPayments:[],asRequests:[],executionRecords:[],setProjects:t=>e({projects:t}),addProject:t=>e(r=>{const n={id:t.id,project:t.name,client:t.client,totalAmount:t.contractAmount,vatType:"percentage",vatPercentage:100,vatAmount:0,payments:[]};return{projects:[t,...r.projects],constructionPayments:[n,...r.constructionPayments]}}),updateProject:(t,r)=>e(n=>({projects:n.projects.map(s=>s.id===t?{...s,...r}:s)})),deleteProject:t=>e(r=>({projects:r.projects.filter(n=>n.id!==t),constructionPayments:r.constructionPayments.filter(n=>n.id!==t)})),setSchedules:t=>e({schedules:t}),addSchedule:t=>e(r=>({schedules:[t,...r.schedules]})),updateSchedule:(t,r)=>e(n=>({schedules:n.schedules.map(s=>s.id===t?{...s,...r}:s)})),deleteSchedule:t=>e(r=>({schedules:r.schedules.filter(n=>n.id!==t)})),setPayments:t=>e({payments:t}),addPayment:t=>e(r=>({payments:[t,...r.payments]})),updatePayment:(t,r)=>e(n=>({payments:n.payments.map(s=>s.id===t?{...s,...r}:s)})),deletePayment:t=>e(r=>({payments:r.payments.filter(n=>n.id!==t)})),setContractors:t=>e({contractors:t}),addContractor:t=>e(r=>({contractors:[t,...r.contractors]})),updateContractor:(t,r)=>e(n=>({contractors:n.contractors.map(s=>s.id===t?{...s,...r}:s)})),deleteContractor:t=>e(r=>({contractors:r.contractors.filter(n=>n.id!==t)})),setConstructionPayments:t=>e({constructionPayments:t}),addConstructionPayment:t=>e(r=>({constructionPayments:[t,...r.constructionPayments]})),updateConstructionPayment:(t,r)=>e(n=>({constructionPayments:n.constructionPayments.map(s=>s.id===t?{...s,...r}:s)})),deleteConstructionPayment:t=>e(r=>({constructionPayments:r.constructionPayments.filter(n=>n.id!==t)})),setASRequests:t=>e({asRequests:t}),addASRequest:t=>e(r=>({asRequests:[t,...r.asRequests]})),updateASRequest:(t,r)=>e(n=>({asRequests:n.asRequests.map(s=>s.id===t?{...s,...r}:s)})),deleteASRequest:t=>e(r=>({asRequests:r.asRequests.filter(n=>n.id!==t)})),setExecutionRecords:t=>e({executionRecords:t}),addExecutionRecord:t=>e(r=>({executionRecords:[t,...r.executionRecords]})),updateExecutionRecord:(t,r)=>e(n=>({executionRecords:n.executionRecords.map(s=>s.id===t?{...s,...r}:s)})),deleteExecutionRecord:t=>e(r=>({executionRecords:r.executionRecords.filter(n=>n.id!==t)})),loadPaymentsFromAPI:async()=>{try{const r=(await na.getAllPayments()).map(n=>({id:String(n.id),project:n.project_name,purpose:n.description,process:n.vendor_name,itemName:n.item_name||"",amount:n.amount,materialAmount:n.material_amount||0,laborAmount:n.labor_amount||0,originalLaborAmount:n.original_labor_amount||0,applyTaxDeduction:n.apply_tax_deduction===1,includesVAT:n.includes_vat===1,category:n.request_type,status:n.status,urgency:"normal",requestedBy:n.requester_name,requestDate:new Date(n.created_at),approvalDate:n.approved_at?new Date(n.approved_at):void 0,bankInfo:{accountHolder:n.account_holder||"",bankName:n.bank_name||"",accountNumber:n.account_number||""},attachments:[],notes:n.notes||""}));e({payments:r})}catch(t){throw console.error("Failed to load payments from API:",t),t}},addPaymentToAPI:async t=>{try{const r={projectId:t.project,purpose:t.purpose,process:t.process,itemName:t.itemName,amount:t.amount,category:t.category,urgency:t.urgency,requestedBy:t.requestedBy,bankInfo:t.bankInfo,notes:t.notes,attachments:[],materialAmount:t.materialAmount||0,laborAmount:t.laborAmount||0,originalLaborAmount:t.originalLaborAmount||0,applyTaxDeduction:t.applyTaxDeduction||!1,includesVAT:t.includesVAT||!1};console.log("[addPaymentToAPI] Sending payment data:",r),await na.createPayment(r);const s=(await na.getAllPayments()).map(i=>({id:String(i.id),project:i.project_name,purpose:i.description,process:i.vendor_name,itemName:i.item_name||"",amount:i.amount,materialAmount:i.material_amount||0,laborAmount:i.labor_amount||0,originalLaborAmount:i.original_labor_amount||0,applyTaxDeduction:i.apply_tax_deduction===1,includesVAT:i.includes_vat===1,category:i.request_type,status:i.status,urgency:"normal",requestedBy:i.requester_name,requestDate:new Date(i.created_at),approvalDate:i.approved_at?new Date(i.approved_at):void 0,bankInfo:{accountHolder:i.account_holder||"",bankName:i.bank_name||"",accountNumber:i.account_number||""},attachments:[],notes:i.notes||""}));e({payments:s})}catch(r){throw console.error("Failed to add payment to API:",r),r}},updatePaymentInAPI:async(t,r)=>{try{r.status&&Object.keys(r).length===1?await na.updatePaymentStatus(t,r.status):await na.updatePayment(t,{projectId:r.project,purpose:r.purpose,process:r.process,itemName:r.itemName,amount:r.amount,category:r.category,urgency:r.urgency,bankInfo:r.bankInfo,notes:r.notes});const s=(await na.getAllPayments()).map(i=>({id:String(i.id),project:i.project_name,purpose:i.description,process:i.vendor_name,itemName:i.item_name||"",amount:i.amount,materialAmount:i.material_amount||0,laborAmount:i.labor_amount||0,originalLaborAmount:i.original_labor_amount||0,applyTaxDeduction:i.apply_tax_deduction===1,includesVAT:i.includes_vat===1,category:i.request_type,status:i.status,urgency:"normal",requestedBy:i.requester_name,requestDate:new Date(i.created_at),approvalDate:i.approved_at?new Date(i.approved_at):void 0,bankInfo:{accountHolder:i.account_holder||"",bankName:i.bank_name||"",accountNumber:i.account_number||""},attachments:[],notes:i.notes||""}));e({payments:s})}catch(n){throw console.error("Failed to update payment in API:",n),n}},deletePaymentFromAPI:async t=>{try{await na.deletePayment(t),e(r=>({payments:r.payments.filter(n=>n.id!==t)}))}catch(r){throw console.error("Failed to delete payment from API:",r),r}},loadSchedulesFromAPI:async()=>{try{const t=await Ku.getAllSchedules();console.log(" LOAD SCHEDULES - Raw API response sample:",t[0]);const r=t.map(n=>{var i;console.log(" Processing schedule:",{id:n._id,title:n.title,assigneeNames:n.assigneeNames,assignedTo:n.assignedTo,assignedToType:typeof n.assignedTo,assignedToLength:Array.isArray(n.assignedTo)?n.assignedTo.length:"not array"});const s=Array.isArray(n.assigneeNames)?n.assigneeNames:n.assigneeNames?typeof n.assigneeNames=="string"?n.assigneeNames.split(",").map(o=>o.trim()):[n.assigneeNames]:((i=n.assignedTo)==null?void 0:i.map(o=>typeof o=="object"?o.name:o))||[];return console.log(" Final attendees:",s),{id:n._id,title:n.title,start:new Date(n.startDate),end:new Date(n.endDate),type:n.type,project:typeof n.project=="object"?n.project.name:n.project,location:n.location,attendees:s,description:n.description,time:n.time}});e({schedules:r})}catch(t){throw console.error("Failed to load schedules from API:",t),t}},addScheduleToAPI:async t=>{var r;try{console.log(" addScheduleToAPI - Input schedule:",{project:t.project,attendees:t.attendees,title:t.title});const n=await Ku.createSchedule({project:t.project||"",title:t.title,type:t.type,startDate:t.start,endDate:t.end,allDay:!t.time||t.time==="-",location:t.location,assignedTo:t.attendees||[],description:t.description,asRequestId:t.asRequestId,time:t.time});console.log(" addScheduleToAPI - API Response:",{id:n._id,assigneeNames:n.assigneeNames,assignedTo:n.assignedTo,project:n.project});const s=t.attendees||[];let i=n.assigneeNames||((r=n.assignedTo)==null?void 0:r.map(l=>typeof l=="object"?l.name:l))||[];s.length>0&&i.length>s.length&&(console.log(" Server added extra attendees, filtering to match request:",{requested:s,serverReturned:i}),i=s);const o={id:n._id,title:n.title,start:new Date(n.startDate),end:new Date(n.endDate),type:n.type,project:typeof n.project=="object"?n.project.name:n.project,location:n.location,attendees:i,description:n.description,time:n.time};console.log(" addScheduleToAPI - Final schedule attendees:",o.attendees),e(l=>({schedules:[o,...l.schedules]}))}catch(n){throw console.error("Failed to add schedule to API:",n),n}},updateScheduleInAPI:async(t,r)=>{var n,s,i;try{console.log(" updateScheduleInAPI called with:",{id:t,updatedSchedule:r});const o=await Ku.updateSchedule(t,{project:r.project,title:r.title,type:r.type,startDate:r.start,endDate:r.end,location:r.location,description:r.description,assignedTo:r.attendees||[],time:r.time});console.log(" updateScheduleInAPI response:",o);const l={id:o._id,title:o.title,start:new Date(o.startDate),end:new Date(o.endDate),type:o.type,project:typeof o.project=="object"?o.project.name:o.project,location:o.location,attendees:o.assigneeNames||((n=o.assignedTo)==null?void 0:n.map(c=>typeof c=="object"?c.name:c))||[],description:o.description,time:o.time};e(c=>({schedules:c.schedules.map(u=>u.id===t?l:u)}))}catch(o){throw console.error("Failed to update schedule in API:",o),console.error("Error details:",{message:o instanceof Error?o.message:"Unknown error",response:o&&typeof o=="object"&&"response"in o?(s=o.response)==null?void 0:s.data:void 0,status:o&&typeof o=="object"&&"response"in o?(i=o.response)==null?void 0:i.status:void 0}),o}},deleteScheduleFromAPI:async t=>{try{await Ku.deleteSchedule(t),e(r=>({schedules:r.schedules.filter(n=>n.id!==t)}))}catch(r){throw console.error("Failed to delete schedule from API:",r),r}},loadProjectsFromAPI:async()=>{try{const r=(await Qu.getAllProjects()).map(n=>{var s,i;return{id:n._id||n.id,name:n.name,client:typeof n.client=="object"?n.client.name:n.client||"",location:typeof n.location=="object"?n.location.address:n.location||n.address||"",status:n.status==="inProgress"?"in-progress":n.status==="onHold"?"on-hold":n.status,progress:n.progress||0,startDate:n.startDate||n.start_date?new Date(n.startDate||n.start_date):void 0,endDate:n.endDate||n.end_date?new Date(n.endDate||n.end_date):void 0,contractAmount:n.budget||n.contractAmount||0,spent:n.actualCost||n.spent||0,manager:n.manager||"",team:[],description:n.description||"",meetingNotes:((s=n.meetingNotes)==null?void 0:s.map(o=>({id:o.id,content:o.content,date:new Date(o.date)})))||[],customerRequests:((i=n.customerRequests)==null?void 0:i.map(o=>({id:o.id,content:o.content,completed:o.completed,createdAt:new Date(o.createdAt)})))||[],entrancePassword:n.entrancePassword||"",sitePassword:n.sitePassword||""}});e({projects:r})}catch(t){throw console.error("Failed to load projects from API:",t),t}},addProjectToAPI:async t=>{var r,n;try{const s=await Qu.createProject({name:t.name,client:t.client,location:t.location,startDate:t.startDate,endDate:t.endDate,status:t.status,contractAmount:t.contractAmount,spent:t.spent,manager:t.manager,team:t.team,progress:t.progress,description:t.description}),i={id:s._id||s.id,name:s.name,client:typeof s.client=="object"?s.client.name:s.client||"",location:typeof s.location=="object"?s.location.address:s.location||s.address||"",status:s.status==="inProgress"?"in-progress":s.status==="onHold"?"on-hold":s.status,progress:s.progress||0,startDate:s.startDate||s.start_date?new Date(s.startDate||s.start_date):void 0,endDate:s.endDate||s.end_date?new Date(s.endDate||s.end_date):void 0,contractAmount:s.budget||s.contractAmount||0,spent:s.actualCost||s.spent||0,manager:s.manager||"",team:[],description:s.description||"",meetingNotes:((r=s.meetingNotes)==null?void 0:r.map(o=>({id:o.id,content:o.content,date:new Date(o.date)})))||[],customerRequests:((n=s.customerRequests)==null?void 0:n.map(o=>({id:o.id,content:o.content,completed:o.completed,createdAt:new Date(o.createdAt)})))||[],entrancePassword:s.entrancePassword||"",sitePassword:s.sitePassword||""};e(o=>({projects:[i,...o.projects]}))}catch(s){throw console.error("Failed to add project to API:",s),s}},updateProjectInAPI:async(t,r)=>{var n,s;try{const i=await Qu.updateProject(t,r),o={id:i._id||i.id,name:i.name,client:typeof i.client=="object"?i.client.name:i.client||"",location:typeof i.location=="object"?i.location.address:i.location||i.address||"",status:i.status==="inProgress"?"in-progress":i.status==="onHold"?"on-hold":i.status,progress:i.progress||0,startDate:i.startDate||i.start_date?new Date(i.startDate||i.start_date):void 0,endDate:i.endDate||i.end_date?new Date(i.endDate||i.end_date):void 0,contractAmount:i.budget||i.contractAmount||0,spent:i.actualCost||i.spent||0,manager:i.manager||"",team:[],description:i.description||"",meetingNotes:((n=i.meetingNotes)==null?void 0:n.map(l=>({id:l.id,content:l.content,date:new Date(l.date)})))||[],customerRequests:((s=i.customerRequests)==null?void 0:s.map(l=>({id:l.id,content:l.content,completed:l.completed,createdAt:new Date(l.createdAt)})))||[],entrancePassword:i.entrancePassword||"",sitePassword:i.sitePassword||""};e(l=>({projects:l.projects.map(c=>c.id===t?o:c)}))}catch(i){throw console.error("Failed to update project in API:",i),i}},deleteProjectFromAPI:async t=>{try{await Qu.deleteProject(t),e(r=>({projects:r.projects.filter(n=>n.id!==t)}))}catch(r){throw console.error("Failed to delete project from API:",r),r}},loadContractorsFromAPI:async()=>{try{const r=(await Ts.getAllContractors()).map(n=>({id:n._id,rank:n.rank,companyName:n.companyName,name:n.name,process:n.process,contact:n.contact,accountNumber:n.accountNumber,notes:n.notes,createdAt:new Date(n.createdAt),updatedAt:new Date(n.updatedAt)}));e({contractors:r})}catch(t){throw console.error("Failed to load contractors from API:",t),t}},addContractorToAPI:async t=>{try{const r=await Ts.createContractor({rank:t.rank,companyName:t.companyName,name:t.name,process:t.process,contact:t.contact,accountNumber:t.accountNumber,notes:t.notes}),n={id:r._id,rank:r.rank,companyName:r.companyName,name:r.name,process:r.process,contact:r.contact,accountNumber:r.accountNumber,notes:r.notes,createdAt:new Date(r.createdAt),updatedAt:new Date(r.updatedAt)};e(s=>({contractors:[n,...s.contractors]}))}catch(r){throw console.error("Failed to add contractor to API:",r),r}},updateContractorInAPI:async(t,r)=>{try{const n=await Ts.updateContractor(t,{rank:r.rank,companyName:r.companyName,name:r.name,process:r.process,contact:r.contact,accountNumber:r.accountNumber,notes:r.notes}),s={id:n._id,rank:n.rank,companyName:n.companyName,name:n.name,process:n.process,contact:n.contact,accountNumber:n.accountNumber,notes:n.notes,createdAt:new Date(n.createdAt),updatedAt:new Date(n.updatedAt)};e(i=>({contractors:i.contractors.map(o=>o.id===t?s:o)}))}catch(n){throw console.error("Failed to update contractor in API:",n),n}},deleteContractorFromAPI:async t=>{try{await Ts.deleteContractor(t),e(r=>({contractors:r.contractors.filter(n=>n.id!==t)}))}catch(r){throw console.error("Failed to delete contractor from API:",r),r}},loadConstructionPaymentsFromAPI:async()=>{try{const r=(await Xu.getAllConstructionPayments()).map(n=>{var i;let s;return n.expectedPaymentDates&&(s={contract:n.expectedPaymentDates.contract?new Date(n.expectedPaymentDates.contract):void 0,start:n.expectedPaymentDates.start?new Date(n.expectedPaymentDates.start):void 0,middle:n.expectedPaymentDates.middle?new Date(n.expectedPaymentDates.middle):void 0,final:n.expectedPaymentDates.final?new Date(n.expectedPaymentDates.final):void 0}),{id:n._id,project:n.project,client:n.client,totalAmount:n.totalAmount,vatType:n.vatType,vatPercentage:n.vatPercentage,vatAmount:n.vatAmount,expectedPaymentDates:s,payments:((i=n.payments)==null?void 0:i.map(o=>{var u;const l=o.date?new Date(o.date):new Date,c=isNaN(l.getTime())?new Date:l;return{type:o.type||((u=o.types)==null?void 0:u[0])||"",amount:o.amount,date:c,method:o.method,notes:o.notes}}))||[]}});e({constructionPayments:r})}catch(t){throw console.error("Failed to load construction payments from API:",t),t}},addConstructionPaymentToAPI:async t=>{var r;try{const n=await Xu.createConstructionPayment(t),s={id:n._id,project:n.project,client:n.client,totalAmount:n.totalAmount,vatType:n.vatType,vatPercentage:n.vatPercentage,vatAmount:n.vatAmount,payments:((r=n.payments)==null?void 0:r.map(i=>{var c;const o=i.date?new Date(i.date):new Date,l=isNaN(o.getTime())?new Date:o;return{type:i.type||((c=i.types)==null?void 0:c[0])||"",amount:i.amount,date:l,method:i.method,notes:i.notes}}))||[]};e(i=>({constructionPayments:[s,...i.constructionPayments]}))}catch(n){throw console.error("Failed to add construction payment to API:",n),n}},updateConstructionPaymentInAPI:async(t,r)=>{var n;try{const s=await Xu.updateConstructionPayment(t,r);let i;s.expectedPaymentDates&&(i={contract:s.expectedPaymentDates.contract?new Date(s.expectedPaymentDates.contract):void 0,start:s.expectedPaymentDates.start?new Date(s.expectedPaymentDates.start):void 0,middle:s.expectedPaymentDates.middle?new Date(s.expectedPaymentDates.middle):void 0,final:s.expectedPaymentDates.final?new Date(s.expectedPaymentDates.final):void 0});const o={id:s._id,project:s.project,client:s.client,totalAmount:s.totalAmount,vatType:s.vatType,vatPercentage:s.vatPercentage,vatAmount:s.vatAmount,expectedPaymentDates:i,payments:((n=s.payments)==null?void 0:n.map(l=>{var c;return{type:l.type||((c=l.types)==null?void 0:c[0])||"",amount:l.amount,date:new Date(l.date),method:l.method,notes:l.notes}}))||[]};e(l=>({constructionPayments:l.constructionPayments.map(c=>c.id===t?o:c)}))}catch(s){throw console.error("Failed to update construction payment in API:",s),s}},deleteConstructionPaymentFromAPI:async t=>{try{await Xu.deleteConstructionPayment(t),e(r=>({constructionPayments:r.constructionPayments.filter(n=>n.id!==t)}))}catch(r){throw console.error("Failed to delete construction payment from API:",r),r}},loadASRequestsFromAPI:async()=>{try{const r=(await Tl.getAllASRequests()).map(n=>({id:n._id,project:n.project,client:n.client,requestDate:new Date(n.requestDate),siteAddress:n.siteAddress,entrancePassword:n.entrancePassword,description:n.description,scheduledVisitDate:n.scheduledVisitDate?new Date(n.scheduledVisitDate):void 0,scheduledVisitTime:n.scheduledVisitTime,assignedTo:n.assignedTo?Array.isArray(n.assignedTo)?n.assignedTo:[n.assignedTo]:[],completionDate:n.completionDate?new Date(n.completionDate):void 0,notes:n.notes,status:n.status||"pending"}));e({asRequests:r})}catch(t){throw console.error("Failed to load AS requests from API:",t),t}},addASRequestToAPI:async t=>{try{const r=await Tl.createASRequest(t),n={id:r._id,project:r.project,client:r.client,requestDate:new Date(r.requestDate),siteAddress:r.siteAddress,entrancePassword:r.entrancePassword,description:r.description,scheduledVisitDate:r.scheduledVisitDate?new Date(r.scheduledVisitDate):void 0,scheduledVisitTime:r.scheduledVisitTime,assignedTo:Array.isArray(r.assignedTo)?r.assignedTo:[],completionDate:r.completionDate?new Date(r.completionDate):void 0,notes:r.notes};return e(s=>({asRequests:[n,...s.asRequests]})),n}catch(r){throw console.error("Failed to add AS request to API:",r),r}},updateASRequestInAPI:async(t,r)=>{try{const n=await Tl.updateASRequest(t,r),s={id:n._id,project:n.project,client:n.client,requestDate:new Date(n.requestDate),siteAddress:n.siteAddress,entrancePassword:n.entrancePassword,description:n.description,scheduledVisitDate:n.scheduledVisitDate?new Date(n.scheduledVisitDate):void 0,scheduledVisitTime:n.scheduledVisitTime,assignedTo:Array.isArray(n.assignedTo)?n.assignedTo:[],completionDate:n.completionDate?new Date(n.completionDate):void 0,notes:n.notes,status:n.status||"pending"};e(i=>({asRequests:i.asRequests.map(o=>o.id===t?s:o)}))}catch(n){throw console.error("Failed to update AS request in API:",n),n}},deleteASRequestFromAPI:async t=>{try{await Tl.deleteASRequest(t),e(r=>({asRequests:r.asRequests.filter(n=>n.id!==t)}))}catch(r){throw console.error("Failed to delete AS request from API:",r),r}}}),{name:"interior-management-storage",storage:{getItem:e=>{var c,u,d,f,m,v,p;const t=localStorage.getItem(e);if(!t)return null;const{state:r}=JSON.parse(t),n=((c=r.projects)==null?void 0:c.map(h=>({...h,startDate:h.startDate?new Date(h.startDate):void 0,endDate:h.endDate?new Date(h.endDate):void 0,contractAmount:h.contractAmount!==void 0?h.contractAmount:h.budget||0})))||[],s=((u=r.constructionPayments)==null?void 0:u.map(h=>{var j;return{...h,vatType:h.vatType||"percentage",vatPercentage:h.vatPercentage??100,vatAmount:h.vatAmount??0,payments:((j=h.payments)==null?void 0:j.map(x=>({...x,date:new Date(x.date)})))||[]}}))||[],i=new Set(s.map(h=>h.id)),o=n.filter(h=>!i.has(h.id)).map(h=>({id:h.id,project:h.name,client:h.client,totalAmount:h.contractAmount||0,vatType:"percentage",vatPercentage:100,vatAmount:0,payments:[]})),l=[...s,...o];return{state:{...r,projects:n,schedules:((d=r.schedules)==null?void 0:d.map(h=>({...h,start:new Date(h.start),end:new Date(h.end)})))||[],payments:((f=r.payments)==null?void 0:f.map(h=>({...h,requestDate:new Date(h.requestDate),approvalDate:h.approvalDate?new Date(h.approvalDate):void 0})))||[],contractors:((m=r.contractors)==null?void 0:m.map(h=>({...h,createdAt:new Date(h.createdAt),updatedAt:new Date(h.updatedAt)})))||[],constructionPayments:l,asRequests:((v=r.asRequests)==null?void 0:v.map(h=>({...h,requestDate:new Date(h.requestDate),scheduledVisitDate:h.scheduledVisitDate?new Date(h.scheduledVisitDate):void 0,completionDate:h.completionDate?new Date(h.completionDate):void 0})))||[],executionRecords:((p=r.executionRecords)==null?void 0:p.map(h=>({...h,date:new Date(h.date),createdAt:new Date(h.createdAt),updatedAt:new Date(h.updatedAt)})))||[]}}},setItem:(e,t)=>{const r=JSON.stringify(t);localStorage.setItem(e,r)},removeItem:e=>localStorage.removeItem(e)}}));var ru=e=>e.type==="checkbox",ti=e=>e instanceof Date,Sr=e=>e==null;const uk=e=>typeof e=="object";var Yt=e=>!Sr(e)&&!Array.isArray(e)&&uk(e)&&!ti(e),zI=e=>Yt(e)&&e.target?ru(e.target)?e.target.checked:e.target.value:e,YI=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,qI=(e,t)=>e.has(YI(t)),GI=e=>{const t=e.constructor&&e.constructor.prototype;return Yt(t)&&t.hasOwnProperty("isPrototypeOf")},Nx=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function rr(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(Nx&&(e instanceof Blob||n))&&(r||Yt(e)))if(t=r?[]:Object.create(Object.getPrototypeOf(e)),!r&&!GI(e))t=e;else for(const s in e)e.hasOwnProperty(s)&&(t[s]=rr(e[s]));else return e;return t}var wm=e=>/^\w*$/.test(e),Ut=e=>e===void 0,jx=e=>Array.isArray(e)?e.filter(Boolean):[],Sx=e=>jx(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Fe=(e,t,r)=>{if(!t||!Yt(e))return r;const n=(wm(t)?[t]:Sx(t)).reduce((s,i)=>Sr(s)?s:s[i],e);return Ut(n)||n===e?Ut(e[t])?r:e[t]:n},Qn=e=>typeof e=="boolean",Ct=(e,t,r)=>{let n=-1;const s=wm(t)?[t]:Sx(t),i=s.length,o=i-1;for(;++n<i;){const l=s[n];let c=r;if(n!==o){const u=e[l];c=Yt(u)||Array.isArray(u)?u:isNaN(+s[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const qb={BLUR:"blur",FOCUS_OUT:"focusout"},En={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},vs={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},KI=U.createContext(null);KI.displayName="HookFormContext";var QI=(e,t,r,n=!0)=>{const s={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(s,i,{get:()=>{const o=i;return t._proxyFormState[o]!==En.all&&(t._proxyFormState[o]=!n||En.all),e[o]}});return s};const XI=typeof window<"u"?U.useLayoutEffect:U.useEffect;var Yr=e=>typeof e=="string",JI=(e,t,r,n,s)=>Yr(e)?(n&&t.watch.add(e),Fe(r,e,s)):Array.isArray(e)?e.map(i=>(n&&t.watch.add(i),Fe(r,i))):(n&&(t.watchAll=!0),r),Pg=e=>Sr(e)||!uk(e);function ua(e,t,r=new WeakSet){if(Pg(e)||Pg(t))return e===t;if(ti(e)&&ti(t))return e.getTime()===t.getTime();const n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const i of n){const o=e[i];if(!s.includes(i))return!1;if(i!=="ref"){const l=t[i];if(ti(o)&&ti(l)||Yt(o)&&Yt(l)||Array.isArray(o)&&Array.isArray(l)?!ua(o,l,r):o!==l)return!1}}return!0}var ZI=(e,t,r,n,s)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:s||!0}}:{},Ul=e=>Array.isArray(e)?e:[e],Gb=()=>{let e=[];return{get observers(){return e},next:s=>{for(const i of e)i.next&&i.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(i=>i!==s)}}),unsubscribe:()=>{e=[]}}};function dk(e,t){const r={};for(const n in e)if(e.hasOwnProperty(n)){const s=e[n],i=t[n];if(s&&Yt(s)&&i){const o=dk(s,i);Yt(o)&&(r[n]=o)}else e[n]&&(r[n]=i)}return r}var Rr=e=>Yt(e)&&!Object.keys(e).length,kx=e=>e.type==="file",An=e=>typeof e=="function",Nf=e=>{if(!Nx)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},fk=e=>e.type==="select-multiple",Dx=e=>e.type==="radio",e5=e=>Dx(e)||ru(e),zh=e=>Nf(e)&&e.isConnected;function t5(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=Ut(e)?n++:e[t[n++]];return e}function r5(e){for(const t in e)if(e.hasOwnProperty(t)&&!Ut(e[t]))return!1;return!0}function Ht(e,t){const r=Array.isArray(t)?t:wm(t)?[t]:Sx(t),n=r.length===1?e:t5(e,r),s=r.length-1,i=r[s];return n&&delete n[i],s!==0&&(Yt(n)&&Rr(n)||Array.isArray(n)&&r5(n))&&Ht(e,r.slice(0,-1)),e}var n5=e=>{for(const t in e)if(An(e[t]))return!0;return!1};function mk(e){return Array.isArray(e)||Yt(e)&&!n5(e)}function Rg(e,t={}){for(const r in e)mk(e[r])?(t[r]=Array.isArray(e[r])?[]:{},Rg(e[r],t[r])):Sr(e[r])||(t[r]=!0);return t}function Li(e,t,r){r||(r=Rg(t));for(const n in e)mk(e[n])?Ut(t)||Pg(r[n])?r[n]=Rg(e[n],Array.isArray(e[n])?[]:{}):Li(e[n],Sr(t)?{}:t[n],r[n]):r[n]=!ua(e[n],t[n]);return r}const Kb={value:!1,isValid:!1},Qb={value:!0,isValid:!0};var hk=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Ut(e[0].attributes.value)?Ut(e[0].value)||e[0].value===""?Qb:{value:e[0].value,isValid:!0}:Qb:Kb}return Kb},pk=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>Ut(e)?e:t?e===""?NaN:e&&+e:r&&Yr(e)?new Date(e):n?n(e):e;const Xb={isValid:!1,value:null};var gk=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,Xb):Xb;function Jb(e){const t=e.ref;return kx(t)?t.files:Dx(t)?gk(e.refs).value:fk(t)?[...t.selectedOptions].map(({value:r})=>r):ru(t)?hk(e.refs).value:pk(Ut(t.value)?e.ref.value:t.value,e)}var s5=(e,t,r,n)=>{const s={};for(const i of e){const o=Fe(t,i);o&&Ct(s,i,o._f)}return{criteriaMode:r,names:[...e],fields:s,shouldUseNativeValidation:n}},jf=e=>e instanceof RegExp,xl=e=>Ut(e)?e:jf(e)?e.source:Yt(e)?jf(e.value)?e.value.source:e.value:e,Zb=e=>({isOnSubmit:!e||e===En.onSubmit,isOnBlur:e===En.onBlur,isOnChange:e===En.onChange,isOnAll:e===En.all,isOnTouch:e===En.onTouched});const ew="AsyncFunction";var a5=e=>!!e&&!!e.validate&&!!(An(e.validate)&&e.validate.constructor.name===ew||Yt(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===ew)),i5=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),tw=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const Vl=(e,t,r,n)=>{for(const s of r||Object.keys(e)){const i=Fe(e,s);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],s)&&!n)return!0;if(o.ref&&t(o.ref,o.name)&&!n)return!0;if(Vl(l,t))break}else if(Yt(l)&&Vl(l,t))break}}};function rw(e,t,r){const n=Fe(e,r);if(n||wm(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const i=s.join("."),o=Fe(t,i),l=Fe(e,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(l&&l.type)return{name:i,error:l};if(l&&l.root&&l.root.type)return{name:`${i}.root`,error:l.root};s.pop()}return{name:r}}var o5=(e,t,r,n)=>{r(e);const{name:s,...i}=e;return Rr(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===(!n||En.all))},l5=(e,t,r)=>!e||!t||e===t||Ul(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),c5=(e,t,r,n,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(t||e):(r?n.isOnBlur:s.isOnBlur)?!e:(r?n.isOnChange:s.isOnChange)?e:!0,u5=(e,t)=>!jx(Fe(e,t)).length&&Ht(e,t),d5=(e,t,r)=>{const n=Ul(Fe(e,r));return Ct(n,"root",t[r]),Ct(e,r,n),e};function nw(e,t,r="validate"){if(Yr(e)||Array.isArray(e)&&e.every(Yr)||Qn(e)&&!e)return{type:r,message:Yr(e)?e:"",ref:t}}var Oi=e=>Yt(e)&&!jf(e)?e:{value:e,message:""},sw=async(e,t,r,n,s,i)=>{const{ref:o,refs:l,required:c,maxLength:u,minLength:d,min:f,max:m,pattern:v,validate:p,name:h,valueAsNumber:j,mount:x}=e._f,b=Fe(r,h);if(!x||t.has(h))return{};const N=l?l[0]:o,g=Z=>{s&&N.reportValidity&&(N.setCustomValidity(Qn(Z)?"":Z||""),N.reportValidity())},A={},k=Dx(o),_=ru(o),O=k||_,R=(j||kx(o))&&Ut(o.value)&&Ut(b)||Nf(o)&&o.value===""||b===""||Array.isArray(b)&&!b.length,I=ZI.bind(null,h,n,A),V=(Z,Q,G,xe=vs.maxLength,re=vs.minLength)=>{const pe=Z?Q:G;A[h]={type:Z?xe:re,message:pe,ref:o,...I(Z?xe:re,pe)}};if(i?!Array.isArray(b)||!b.length:c&&(!O&&(R||Sr(b))||Qn(b)&&!b||_&&!hk(l).isValid||k&&!gk(l).isValid)){const{value:Z,message:Q}=Yr(c)?{value:!!c,message:c}:Oi(c);if(Z&&(A[h]={type:vs.required,message:Q,ref:N,...I(vs.required,Q)},!n))return g(Q),A}if(!R&&(!Sr(f)||!Sr(m))){let Z,Q;const G=Oi(m),xe=Oi(f);if(!Sr(b)&&!isNaN(b)){const re=o.valueAsNumber||b&&+b;Sr(G.value)||(Z=re>G.value),Sr(xe.value)||(Q=re<xe.value)}else{const re=o.valueAsDate||new Date(b),pe=oe=>new Date(new Date().toDateString()+" "+oe),ce=o.type=="time",q=o.type=="week";Yr(G.value)&&b&&(Z=ce?pe(b)>pe(G.value):q?b>G.value:re>new Date(G.value)),Yr(xe.value)&&b&&(Q=ce?pe(b)<pe(xe.value):q?b<xe.value:re<new Date(xe.value))}if((Z||Q)&&(V(!!Z,G.message,xe.message,vs.max,vs.min),!n))return g(A[h].message),A}if((u||d)&&!R&&(Yr(b)||i&&Array.isArray(b))){const Z=Oi(u),Q=Oi(d),G=!Sr(Z.value)&&b.length>+Z.value,xe=!Sr(Q.value)&&b.length<+Q.value;if((G||xe)&&(V(G,Z.message,Q.message),!n))return g(A[h].message),A}if(v&&!R&&Yr(b)){const{value:Z,message:Q}=Oi(v);if(jf(Z)&&!b.match(Z)&&(A[h]={type:vs.pattern,message:Q,ref:o,...I(vs.pattern,Q)},!n))return g(Q),A}if(p){if(An(p)){const Z=await p(b,r),Q=nw(Z,N);if(Q&&(A[h]={...Q,...I(vs.validate,Q.message)},!n))return g(Q.message),A}else if(Yt(p)){let Z={};for(const Q in p){if(!Rr(Z)&&!n)break;const G=nw(await p[Q](b,r),N,Q);G&&(Z={...G,...I(Q,G.message)},g(G.message),n&&(A[h]=Z))}if(!Rr(Z)&&(A[h]={ref:N,...Z},!n))return A}}return g(!0),A};const f5={mode:En.onSubmit,reValidateMode:En.onChange,shouldFocusError:!0};function m5(e={}){let t={...f5,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:An(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},s=Yt(t.defaultValues)||Yt(t.values)?rr(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:rr(s),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const m={array:Gb(),state:Gb()},v=t.criteriaMode===En.all,p=S=>D=>{clearTimeout(u),u=setTimeout(S,D)},h=async S=>{if(!t.disabled&&(d.isValid||f.isValid||S)){const D=t.resolver?Rr((await _()).errors):await R(n,!0);D!==r.isValid&&m.state.next({isValid:D})}},j=(S,D)=>{!t.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((S||Array.from(l.mount)).forEach(P=>{P&&(D?Ct(r.validatingFields,P,D):Ht(r.validatingFields,P))}),m.state.next({validatingFields:r.validatingFields,isValidating:!Rr(r.validatingFields)}))},x=(S,D=[],P,K,ne=!0,E=!0)=>{if(K&&P&&!t.disabled){if(o.action=!0,E&&Array.isArray(Fe(n,S))){const X=P(Fe(n,S),K.argA,K.argB);ne&&Ct(n,S,X)}if(E&&Array.isArray(Fe(r.errors,S))){const X=P(Fe(r.errors,S),K.argA,K.argB);ne&&Ct(r.errors,S,X),u5(r.errors,S)}if((d.touchedFields||f.touchedFields)&&E&&Array.isArray(Fe(r.touchedFields,S))){const X=P(Fe(r.touchedFields,S),K.argA,K.argB);ne&&Ct(r.touchedFields,S,X)}(d.dirtyFields||f.dirtyFields)&&(r.dirtyFields=Li(s,i)),m.state.next({name:S,isDirty:V(S,D),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Ct(i,S,D)},b=(S,D)=>{Ct(r.errors,S,D),m.state.next({errors:r.errors})},N=S=>{r.errors=S,m.state.next({errors:r.errors,isValid:!1})},g=(S,D,P,K)=>{const ne=Fe(n,S);if(ne){const E=Fe(i,S,Ut(P)?Fe(s,S):P);Ut(E)||K&&K.defaultChecked||D?Ct(i,S,D?E:Jb(ne._f)):G(S,E),o.mount&&h()}},A=(S,D,P,K,ne)=>{let E=!1,X=!1;const B={name:S};if(!t.disabled){if(!P||K){(d.isDirty||f.isDirty)&&(X=r.isDirty,r.isDirty=B.isDirty=V(),E=X!==B.isDirty);const le=ua(Fe(s,S),D);X=!!Fe(r.dirtyFields,S),le?Ht(r.dirtyFields,S):Ct(r.dirtyFields,S,!0),B.dirtyFields=r.dirtyFields,E=E||(d.dirtyFields||f.dirtyFields)&&X!==!le}if(P){const le=Fe(r.touchedFields,S);le||(Ct(r.touchedFields,S,P),B.touchedFields=r.touchedFields,E=E||(d.touchedFields||f.touchedFields)&&le!==P)}E&&ne&&m.state.next(B)}return E?B:{}},k=(S,D,P,K)=>{const ne=Fe(r.errors,S),E=(d.isValid||f.isValid)&&Qn(D)&&r.isValid!==D;if(t.delayError&&P?(c=p(()=>b(S,P)),c(t.delayError)):(clearTimeout(u),c=null,P?Ct(r.errors,S,P):Ht(r.errors,S)),(P?!ua(ne,P):ne)||!Rr(K)||E){const X={...K,...E&&Qn(D)?{isValid:D}:{},errors:r.errors,name:S};r={...r,...X},m.state.next(X)}},_=async S=>{j(S,!0);const D=await t.resolver(i,t.context,s5(S||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return j(S),D},O=async S=>{const{errors:D}=await _(S);if(S)for(const P of S){const K=Fe(D,P);K?Ct(r.errors,P,K):Ht(r.errors,P)}else r.errors=D;return D},R=async(S,D,P={valid:!0})=>{for(const K in S){const ne=S[K];if(ne){const{_f:E,...X}=ne;if(E){const B=l.array.has(E.name),le=ne._f&&a5(ne._f);le&&d.validatingFields&&j([E.name],!0);const Pe=await sw(ne,l.disabled,i,v,t.shouldUseNativeValidation&&!D,B);if(le&&d.validatingFields&&j([E.name]),Pe[E.name]&&(P.valid=!1,D))break;!D&&(Fe(Pe,E.name)?B?d5(r.errors,Pe,E.name):Ct(r.errors,E.name,Pe[E.name]):Ht(r.errors,E.name))}!Rr(X)&&await R(X,D,P)}}return P.valid},I=()=>{for(const S of l.unMount){const D=Fe(n,S);D&&(D._f.refs?D._f.refs.every(P=>!zh(P)):!zh(D._f.ref))&&ue(S)}l.unMount=new Set},V=(S,D)=>!t.disabled&&(S&&D&&Ct(i,S,D),!ua(oe(),s)),Z=(S,D,P)=>JI(S,l,{...o.mount?i:Ut(D)?s:Yr(S)?{[S]:D}:D},P,D),Q=S=>jx(Fe(o.mount?i:s,S,t.shouldUnregister?Fe(s,S,[]):[])),G=(S,D,P={})=>{const K=Fe(n,S);let ne=D;if(K){const E=K._f;E&&(!E.disabled&&Ct(i,S,pk(D,E)),ne=Nf(E.ref)&&Sr(D)?"":D,fk(E.ref)?[...E.ref.options].forEach(X=>X.selected=ne.includes(X.value)):E.refs?ru(E.ref)?E.refs.forEach(X=>{(!X.defaultChecked||!X.disabled)&&(Array.isArray(ne)?X.checked=!!ne.find(B=>B===X.value):X.checked=ne===X.value||!!ne)}):E.refs.forEach(X=>X.checked=X.value===ne):kx(E.ref)?E.ref.value="":(E.ref.value=ne,E.ref.type||m.state.next({name:S,values:rr(i)})))}(P.shouldDirty||P.shouldTouch)&&A(S,ne,P.shouldTouch,P.shouldDirty,!0),P.shouldValidate&&q(S)},xe=(S,D,P)=>{for(const K in D){if(!D.hasOwnProperty(K))return;const ne=D[K],E=S+"."+K,X=Fe(n,E);(l.array.has(S)||Yt(ne)||X&&!X._f)&&!ti(ne)?xe(E,ne,P):G(E,ne,P)}},re=(S,D,P={})=>{const K=Fe(n,S),ne=l.array.has(S),E=rr(D);Ct(i,S,E),ne?(m.array.next({name:S,values:rr(i)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&P.shouldDirty&&m.state.next({name:S,dirtyFields:Li(s,i),isDirty:V(S,E)})):K&&!K._f&&!Sr(E)?xe(S,E,P):G(S,E,P),tw(S,l)&&m.state.next({...r,name:S}),m.state.next({name:o.mount?S:void 0,values:rr(i)})},pe=async S=>{o.mount=!0;const D=S.target;let P=D.name,K=!0;const ne=Fe(n,P),E=le=>{K=Number.isNaN(le)||ti(le)&&isNaN(le.getTime())||ua(le,Fe(i,P,le))},X=Zb(t.mode),B=Zb(t.reValidateMode);if(ne){let le,Pe;const Me=D.type?Jb(ne._f):zI(S),He=S.type===qb.BLUR||S.type===qb.FOCUS_OUT,lt=!i5(ne._f)&&!t.resolver&&!Fe(r.errors,P)&&!ne._f.deps||c5(He,Fe(r.touchedFields,P),r.isSubmitted,B,X),Xe=tw(P,l,He);Ct(i,P,Me),He?(!D||!D.readOnly)&&(ne._f.onBlur&&ne._f.onBlur(S),c&&c(0)):ne._f.onChange&&ne._f.onChange(S);const st=A(P,Me,He),ft=!Rr(st)||Xe;if(!He&&m.state.next({name:P,type:S.type,values:rr(i)}),lt)return(d.isValid||f.isValid)&&(t.mode==="onBlur"?He&&h():He||h()),ft&&m.state.next({name:P,...Xe?{}:st});if(!He&&Xe&&m.state.next({...r}),t.resolver){const{errors:it}=await _([P]);if(E(Me),K){const qt=rw(r.errors,n,P),or=rw(it,n,qt.name||P);le=or.error,P=or.name,Pe=Rr(it)}}else j([P],!0),le=(await sw(ne,l.disabled,i,v,t.shouldUseNativeValidation))[P],j([P]),E(Me),K&&(le?Pe=!1:(d.isValid||f.isValid)&&(Pe=await R(n,!0)));K&&(ne._f.deps&&(!Array.isArray(ne._f.deps)||ne._f.deps.length>0)&&q(ne._f.deps),k(P,Pe,le,st))}},ce=(S,D)=>{if(Fe(r.errors,D)&&S.focus)return S.focus(),1},q=async(S,D={})=>{let P,K;const ne=Ul(S);if(t.resolver){const E=await O(Ut(S)?S:ne);P=Rr(E),K=S?!ne.some(X=>Fe(E,X)):P}else S?(K=(await Promise.all(ne.map(async E=>{const X=Fe(n,E);return await R(X&&X._f?{[E]:X}:X)}))).every(Boolean),!(!K&&!r.isValid)&&h()):K=P=await R(n);return m.state.next({...!Yr(S)||(d.isValid||f.isValid)&&P!==r.isValid?{}:{name:S},...t.resolver||!S?{isValid:P}:{},errors:r.errors}),D.shouldFocus&&!K&&Vl(n,ce,S?ne:l.mount),K},oe=(S,D)=>{let P={...o.mount?i:s};return D&&(P=dk(D.dirtyFields?r.dirtyFields:r.touchedFields,P)),Ut(S)?P:Yr(S)?Fe(P,S):S.map(K=>Fe(P,K))},J=(S,D)=>({invalid:!!Fe((D||r).errors,S),isDirty:!!Fe((D||r).dirtyFields,S),error:Fe((D||r).errors,S),isValidating:!!Fe(r.validatingFields,S),isTouched:!!Fe((D||r).touchedFields,S)}),H=S=>{S&&Ul(S).forEach(D=>Ht(r.errors,D)),m.state.next({errors:S?r.errors:{}})},ae=(S,D,P)=>{const K=(Fe(n,S,{_f:{}})._f||{}).ref,ne=Fe(r.errors,S)||{},{ref:E,message:X,type:B,...le}=ne;Ct(r.errors,S,{...le,...D,ref:K}),m.state.next({name:S,errors:r.errors,isValid:!1}),P&&P.shouldFocus&&K&&K.focus&&K.focus()},ye=(S,D)=>An(S)?m.state.subscribe({next:P=>"values"in P&&S(Z(void 0,D),P)}):Z(S,D,!0),ve=S=>m.state.subscribe({next:D=>{l5(S.name,D.name,S.exact)&&o5(D,S.formState||d,M,S.reRenderRoot)&&S.callback({values:{...i},...r,...D,defaultValues:s})}}).unsubscribe,te=S=>(o.mount=!0,f={...f,...S.formState},ve({...S,formState:f})),ue=(S,D={})=>{for(const P of S?Ul(S):l.mount)l.mount.delete(P),l.array.delete(P),D.keepValue||(Ht(n,P),Ht(i,P)),!D.keepError&&Ht(r.errors,P),!D.keepDirty&&Ht(r.dirtyFields,P),!D.keepTouched&&Ht(r.touchedFields,P),!D.keepIsValidating&&Ht(r.validatingFields,P),!t.shouldUnregister&&!D.keepDefaultValue&&Ht(s,P);m.state.next({values:rr(i)}),m.state.next({...r,...D.keepDirty?{isDirty:V()}:{}}),!D.keepIsValid&&h()},Ne=({disabled:S,name:D})=>{(Qn(S)&&o.mount||S||l.disabled.has(D))&&(S?l.disabled.add(D):l.disabled.delete(D))},F=(S,D={})=>{let P=Fe(n,S);const K=Qn(D.disabled)||Qn(t.disabled);return Ct(n,S,{...P||{},_f:{...P&&P._f?P._f:{ref:{name:S}},name:S,mount:!0,...D}}),l.mount.add(S),P?Ne({disabled:Qn(D.disabled)?D.disabled:t.disabled,name:S}):g(S,!0,D.value),{...K?{disabled:D.disabled||t.disabled}:{},...t.progressive?{required:!!D.required,min:xl(D.min),max:xl(D.max),minLength:xl(D.minLength),maxLength:xl(D.maxLength),pattern:xl(D.pattern)}:{},name:S,onChange:pe,onBlur:pe,ref:ne=>{if(ne){F(S,D),P=Fe(n,S);const E=Ut(ne.value)&&ne.querySelectorAll&&ne.querySelectorAll("input,select,textarea")[0]||ne,X=e5(E),B=P._f.refs||[];if(X?B.find(le=>le===E):E===P._f.ref)return;Ct(n,S,{_f:{...P._f,...X?{refs:[...B.filter(zh),E,...Array.isArray(Fe(s,S))?[{}]:[]],ref:{type:E.type,name:S}}:{ref:E}}}),g(S,!1,void 0,E)}else P=Fe(n,S,{}),P._f&&(P._f.mount=!1),(t.shouldUnregister||D.shouldUnregister)&&!(qI(l.array,S)&&o.action)&&l.unMount.add(S)}}},ie=()=>t.shouldFocusError&&Vl(n,ce,l.mount),T=S=>{Qn(S)&&(m.state.next({disabled:S}),Vl(n,(D,P)=>{const K=Fe(n,P);K&&(D.disabled=K._f.disabled||S,Array.isArray(K._f.refs)&&K._f.refs.forEach(ne=>{ne.disabled=K._f.disabled||S}))},0,!1))},W=(S,D)=>async P=>{let K;P&&(P.preventDefault&&P.preventDefault(),P.persist&&P.persist());let ne=rr(i);if(m.state.next({isSubmitting:!0}),t.resolver){const{errors:E,values:X}=await _();r.errors=E,ne=rr(X)}else await R(n);if(l.disabled.size)for(const E of l.disabled)Ht(ne,E);if(Ht(r.errors,"root"),Rr(r.errors)){m.state.next({errors:{}});try{await S(ne,P)}catch(E){K=E}}else D&&await D({...r.errors},P),ie(),setTimeout(ie);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Rr(r.errors)&&!K,submitCount:r.submitCount+1,errors:r.errors}),K)throw K},Y=(S,D={})=>{Fe(n,S)&&(Ut(D.defaultValue)?re(S,rr(Fe(s,S))):(re(S,D.defaultValue),Ct(s,S,rr(D.defaultValue))),D.keepTouched||Ht(r.touchedFields,S),D.keepDirty||(Ht(r.dirtyFields,S),r.isDirty=D.defaultValue?V(S,rr(Fe(s,S))):V()),D.keepError||(Ht(r.errors,S),d.isValid&&h()),m.state.next({...r}))},ee=(S,D={})=>{const P=S?rr(S):s,K=rr(P),ne=Rr(S),E=ne?s:K;if(D.keepDefaultValues||(s=P),!D.keepValues){if(D.keepDirtyValues){const X=new Set([...l.mount,...Object.keys(Li(s,i))]);for(const B of Array.from(X))Fe(r.dirtyFields,B)?Ct(E,B,Fe(i,B)):re(B,Fe(E,B))}else{if(Nx&&Ut(S))for(const X of l.mount){const B=Fe(n,X);if(B&&B._f){const le=Array.isArray(B._f.refs)?B._f.refs[0]:B._f.ref;if(Nf(le)){const Pe=le.closest("form");if(Pe){Pe.reset();break}}}}if(D.keepFieldsRef)for(const X of l.mount)re(X,Fe(E,X));else n={}}i=t.shouldUnregister?D.keepDefaultValues?rr(s):{}:rr(E),m.array.next({values:{...E}}),m.state.next({values:{...E}})}l={mount:D.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!D.keepIsValid||!!D.keepDirtyValues,o.watch=!!t.shouldUnregister,m.state.next({submitCount:D.keepSubmitCount?r.submitCount:0,isDirty:ne?!1:D.keepDirty?r.isDirty:!!(D.keepDefaultValues&&!ua(S,s)),isSubmitted:D.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:ne?{}:D.keepDirtyValues?D.keepDefaultValues&&i?Li(s,i):r.dirtyFields:D.keepDefaultValues&&S?Li(s,S):D.keepDirty?r.dirtyFields:{},touchedFields:D.keepTouched?r.touchedFields:{},errors:D.keepErrors?r.errors:{},isSubmitSuccessful:D.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:s})},Te=(S,D)=>ee(An(S)?S(i):S,D),we=(S,D={})=>{const P=Fe(n,S),K=P&&P._f;if(K){const ne=K.refs?K.refs[0]:K.ref;ne.focus&&(ne.focus(),D.shouldSelect&&An(ne.select)&&ne.select())}},M=S=>{r={...r,...S}},C={control:{register:F,unregister:ue,getFieldState:J,handleSubmit:W,setError:ae,_subscribe:ve,_runSchema:_,_focusError:ie,_getWatch:Z,_getDirty:V,_setValid:h,_setFieldArray:x,_setDisabledField:Ne,_setErrors:N,_getFieldArray:Q,_reset:ee,_resetDefaultValues:()=>An(t.defaultValues)&&t.defaultValues().then(S=>{Te(S,t.resetOptions),m.state.next({isLoading:!1})}),_removeUnmounted:I,_disableForm:T,_subjects:m,_proxyFormState:d,get _fields(){return n},get _formValues(){return i},get _state(){return o},set _state(S){o=S},get _defaultValues(){return s},get _names(){return l},set _names(S){l=S},get _formState(){return r},get _options(){return t},set _options(S){t={...t,...S}}},subscribe:te,trigger:q,register:F,handleSubmit:W,watch:ye,setValue:re,getValues:oe,reset:Te,resetField:Y,clearErrors:H,unregister:ue,setError:ae,setFocus:we,getFieldState:J};return{...C,formControl:C}}function nu(e={}){const t=U.useRef(void 0),r=U.useRef(void 0),[n,s]=U.useState({isDirty:!1,isValidating:!1,isLoading:An(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:An(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!An(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...l}=m5(e);t.current={...l,formState:n}}const i=t.current.control;return i._options=e,XI(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0});return s(l=>({...l,isReady:!0})),i._formState.isReady=!0,o},[i]),U.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),U.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),U.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),U.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),U.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==n.isDirty&&i._subjects.state.next({isDirty:o})}},[i,n.isDirty]),U.useEffect(()=>{e.values&&!ua(e.values,r.current)?(i._reset(e.values,{keepFieldsRef:!0,...i._options.resetOptions}),r.current=e.values,s(o=>({...o}))):i._resetDefaultValues()},[i,e.values]),U.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=QI(n,i),t.current}const aw=["","","","","",""],yk=({event:e,slotInfo:t,defaultProjectName:r,onClose:n,onSave:s,onDelete:i})=>{const{register:o,handleSubmit:l,setValue:c,watch:u,formState:{errors:d},reset:f}=nu({defaultValues:{projectId:"",title:"",date:"",description:""}}),{projects:m}=Un(),[v,p]=w.useState([]),[h,j]=w.useState(""),[x,b]=w.useState(!1),[N,g]=w.useState(""),[A,k]=w.useState(9),[_,O]=w.useState(0),[R,I]=w.useState(""),V=u("projectId");w.useEffect(()=>{if(V){const q=m.find(oe=>oe.id===V||oe.id===parseInt(V)||oe.id.toString()===V.toString());console.log(" Selected project:",q==null?void 0:q.name),console.log(" Project team:",q==null?void 0:q.team),console.log(" Current selectedMembers:",v)}},[V,m,v]),w.useEffect(()=>{console.log(" Modal mount - initializing states"),p([]),I(""),j("")},[]),w.useEffect(()=>{if(console.log(" ScheduleModal useEffect triggered:",{hasEvent:!!e,eventId:e==null?void 0:e.id,hasSlotInfo:!!t,hasMergedEvents:!!(e!=null&&e.mergedEventIds)}),e&&e.id){console.log(" ScheduleModal processing event:",{title:e.title,projectId:e.projectId,projectName:e.projectName,start:e.start,assignedTo:e.assignedTo,time:e.time});const q=e.originalTitle||e.title,oe=/ - (|) \d{1,2}$/,J=q.replace(oe,"");if(c("title",J,{shouldValidate:!1,shouldDirty:!1}),c("date",_e(e.start,"yyyy-MM-dd"),{shouldValidate:!1,shouldDirty:!1}),c("description",e.description||"",{shouldValidate:!1,shouldDirty:!1}),e.projectId&&e.projectId!==""&&e.projectId!=="undefined")console.log(" Setting projectId from event:",e.projectId),c("projectId",e.projectId,{shouldValidate:!1,shouldDirty:!1}),I("");else if(e.projectName){const ae=m.find(ye=>ye.name===e.projectName);console.log(" Finding project by name:",e.projectName,"found:",ae),ae?(console.log(" Setting projectId from found project:",ae.id),c("projectId",ae.id,{shouldValidate:!1,shouldDirty:!1}),I("")):(console.log(" Project not found, leaving empty"),c("projectId","",{shouldValidate:!1,shouldDirty:!1}),I(""))}else console.log(" No project info, leaving empty"),c("projectId","",{shouldValidate:!1,shouldDirty:!1}),I("");const H=e.assignedTo||e.attendees||[];if(console.log(" Setting selectedMembers to:",H),p(Array.isArray(H)?H:[]),e.time&&e.time!=="-"){console.log(" Setting time from event:",{eventTime:e.time,parsedHours:e.time.split(":")[0],parsedMinutes:e.time.split(":")[1]}),b(!0);const[ae,ye]=e.time.split(":"),ve=parseInt(ae,10),te=parseInt(ye,10);ve>=12?(g(""),k(ve===12?12:ve-12)):(g(""),k(ve===0?12:ve)),O(te),console.log(" Time state set:",{hasTime:!0,period:ve>=12?"":"",hour:ve>=12?ve===12?12:ve-12:ve===0?12:ve,minute:te})}else console.log(" No time in event, setting hasTime to false"),b(!1),g(""),k(9),O(0)}else if(t&&!e&&(console.log(" New schedule from slot:",t),f({projectId:"",title:"",date:_e(t.start,"yyyy-MM-dd"),description:""}),console.log(" New schedule - resetting selectedMembers to empty array"),p([]),I(""),r)){const q=m.find(oe=>oe.name===r);q&&c("projectId",q.id,{shouldValidate:!1,shouldDirty:!1})}},[e==null?void 0:e.id]);const Z=q=>{console.log(" toggleMember called with:",q),console.log(" Current selectedMembers before toggle:",v),p(oe=>{console.log(" Previous members in setState:",oe);const J=oe.includes(q)?oe.filter(H=>H!==q):[...oe,q];return console.log(" Updated members after toggle:",J),J})},Q=()=>{const q="HV LAB";v.includes(q)?p(oe=>oe.filter(J=>J!==q)):p(oe=>[...oe,q])},G=()=>{const q="";v.includes(q)?p(oe=>oe.filter(J=>J!==q)):p(oe=>[...oe,q])},xe=()=>{const q="";v.includes(q)?p(oe=>oe.filter(J=>J!==q)):p(oe=>[...oe,q])},re=()=>{h.trim()&&!v.includes(h.trim())&&(p(q=>[...q,h.trim()]),j(""))},pe=q=>{p(oe=>oe.filter(J=>J!==q))},ce=async q=>{console.log(" Form onSubmit called with data:",q),console.log(" selectedMembers:",v),console.log(" hasTime state:",x),console.log(" timePeriod:",N,"timeHour:",A,"timeMinute:",_),console.log(" Available projects:",m.map(ue=>({id:ue.id,name:ue.name,idType:typeof ue.id}))),console.log(" Merged event IDs:",e==null?void 0:e.mergedEventIds);const oe=/ - (|) \d{1,2}$/,J=q.title.replace(oe,"").trim();let H="",ae="";if(q.projectId){const ue=m.find(Ne=>Ne.id===q.projectId||Ne.id===parseInt(q.projectId)||Ne.id.toString()===q.projectId.toString());console.log(" Looking for project with id:",q.projectId,"type:",typeof q.projectId),console.log(" Found project:",ue),H=(ue==null?void 0:ue.name)||"",ae=q.projectId}else H="",ae="";console.log(" Final projectId:",ae,"projectName:",H,"cleanedTitle:",J);const ye=new Date(q.date);let ve="-";if(x){let ue=A;N===""&&A!==12?ue=A+12:N===""&&A===12&&(ue=0),ve=`${ue.toString().padStart(2,"0")}:${_.toString().padStart(2,"0")}`,console.log(" Time calculated:",ve)}else console.log(" No time set (hasTime is false)");const te={...e,title:J,start:ye,end:ye,projectId:ae,projectName:H,assignedTo:v,description:q.description||"",time:ve,mergedEventIds:e==null?void 0:e.mergedEventIds};console.log(" Calling onSave with newEvent:",te);try{await s(te),console.log(" onSave completed successfully")}catch(ue){throw console.error(" onSave failed:",ue),ue}};return console.log(" Rendering ScheduleModal with selectedMembers:",v),a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-3 md:p-4",children:a.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 md:p-6 border-b",children:[a.jsx("h2",{className:"text-lg md:text-xl font-semibold",children:e?" ":"  "}),a.jsx("button",{onClick:n,className:"p-1.5 md:p-2 hover:bg-gray-100 rounded-lg transition-colors",children:a.jsx(rt,{className:"h-5 w-5"})})]}),a.jsxs("form",{onSubmit:l(ce),className:"p-4 md:p-6 space-y-3 md:space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),a.jsxs("select",{...o("projectId"),className:"input w-full",children:[a.jsx("option",{value:""}),m.filter(q=>e!=null&&e.isASVisit?!0:q.status!=="completed").map(q=>a.jsx("option",{value:q.id,children:q.name},q.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  *"}),a.jsx("input",{...o("title",{required:" "}),type:"text",className:"input w-full"}),d.title&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(d.title.message)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"}),a.jsx("input",{...o("date",{required:" "}),type:"date",className:"input w-full"}),d.date&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(d.date.message)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),a.jsx("div",{className:"mb-2",children:a.jsx("button",{type:"button",onClick:()=>b(!x),className:`px-3 py-1.5 text-xs rounded border transition-colors ${x?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:x?" ":"  (-)"})}),x&&a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsxs("div",{className:"flex gap-1",children:[a.jsx("button",{type:"button",onClick:()=>g(""),className:`px-3 py-1.5 text-xs rounded border transition-colors ${N===""?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:""}),a.jsx("button",{type:"button",onClick:()=>g(""),className:`px-3 py-1.5 text-xs rounded border transition-colors ${N===""?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:""})]}),a.jsx("select",{value:A,onChange:q=>k(parseInt(q.target.value)),className:"flex-1 min-w-[80px] max-w-[120px] px-2 py-1.5 text-sm border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-gray-500",children:[12,1,2,3,4,5,6,7,8,9,10,11].map(q=>a.jsxs("option",{value:q,children:[q,""]},q))}),a.jsx("select",{value:_,onChange:q=>O(parseInt(q.target.value)),className:"flex-1 min-w-[80px] max-w-[120px] px-2 py-1.5 text-sm border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-gray-500",children:[0,10,20,30,40,50].map(q=>a.jsxs("option",{value:q,children:[q,""]},q))})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" (  )"}),a.jsxs("div",{className:"flex flex-wrap gap-1.5 mb-2",children:[a.jsx("button",{type:"button",onClick:Q,className:`px-2.5 py-1.5 rounded border transition-colors text-sm ${v.includes("HV LAB")?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:"HV LAB"}),a.jsx("button",{type:"button",onClick:G,className:`px-2.5 py-1.5 rounded border transition-colors text-sm ${v.includes("")?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:""}),a.jsx("button",{type:"button",onClick:xe,className:`px-2.5 py-1.5 rounded border transition-colors text-sm ${v.includes("")?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:""}),aw.map(q=>a.jsx("button",{type:"button",onClick:()=>Z(q),className:`px-2.5 py-1.5 rounded border transition-colors text-sm ${v.includes(q)?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:q},q)),v.filter(q=>!aw.includes(q)&&q!=="HV LAB"&&q!==""&&q!=="").map(q=>a.jsxs("button",{type:"button",onClick:()=>pe(q),className:"px-2.5 py-1.5 rounded border transition-colors text-sm bg-gray-900 text-white border-gray-900 hover:bg-gray-800",children:[q," "]},q))]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:h,onChange:q=>j(q.target.value),onKeyPress:q=>{q.key==="Enter"&&(q.preventDefault(),re())},className:"flex-1 px-3 py-1.5 border border-gray-300 rounded-lg text-xs focus:outline-none focus:ring-2 focus:ring-gray-500"}),a.jsx("button",{type:"button",onClick:re,className:"px-3 py-1.5 bg-gray-100 text-gray-700 rounded-lg text-xs font-medium hover:bg-gray-200 transition-colors",children:""})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),a.jsx("textarea",{...o("description"),rows:4,className:"input w-full text-sm md:text-base"})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between gap-2 sm:gap-0 pt-4 border-t",children:[a.jsx("div",{children:e&&a.jsxs("button",{type:"button",onClick:()=>{window.confirm("  ?")&&i(e.id)},className:"btn btn-outline text-red-600 hover:bg-red-50 flex items-center w-full sm:w-auto justify-center text-sm md:text-base",children:[a.jsx(_t,{className:"h-4 w-4 mr-2"}),""]})}),a.jsxs("div",{className:"flex gap-2 sm:space-x-3",children:[a.jsx("button",{type:"button",onClick:n,className:"btn btn-outline flex-1 sm:flex-none text-sm md:text-base",children:""}),a.jsx("button",{type:"submit",className:"btn btn-primary flex-1 sm:flex-none text-sm md:text-base",children:e?"":""})]})]})]})]})})},iw=["","","","","",""],h5=()=>{const{schedules:e,loadSchedulesFromAPI:t,addScheduleToAPI:r,deleteScheduleFromAPI:n}=Un(),{user:s}=Gs(),[i,o]=w.useState(!1),l=s!=null&&s.name?s.name.slice(-2):null,c=f=>{if(!f||f==="-")return"";const[m,v]=f.split(":"),p=parseInt(m,10),h=parseInt(v,10),j=p>=12?"":"",x=p%12||12;return h>0?`${j} ${x} ${h}`:`${j} ${x}`},u=l?[l,...iw.filter(f=>f!==l)]:iw,d=f=>{const m=e.filter(h=>h.attendees?!!(h.attendees.includes(f)||h.attendees.includes("HV LAB")||h.attendees.includes("")&&["",""].includes(f)||h.attendees.includes("")&&["","",""].includes(f)):!1),v=m.filter(h=>Yb(new Date(h.start))),p=m.filter(h=>cI(new Date(h.start))&&!Yb(new Date(h.start))).sort((h,j)=>new Date(h.start).getTime()-new Date(j.start).getTime()).slice(0,3);return{todaySchedules:v,upcomingSchedules:p,member:f}};return a.jsxs("div",{className:"space-y-3 md:space-y-4",children:[a.jsx("div",{children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 md:gap-4",children:u.map(f=>{const{todaySchedules:m,upcomingSchedules:v}=d(f),p=m.length+v.length,h=f===l;return a.jsxs("div",{className:`card p-4 md:p-4 ${h?"ring-1 ring-gray-400":""}`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-4 pb-3 border-b border-gray-200",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("h3",{className:"font-bold text-lg md:text-lg text-gray-900",children:f}),h&&a.jsx("span",{className:"text-xs px-2 py-0.5 bg-gray-100/50 text-gray-900 rounded font-medium",children:""})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[h&&a.jsx("button",{onClick:()=>o(!0),className:"p-1.5 hover:bg-gray-100 rounded-full transition-colors",title:" ",children:a.jsx(Os,{className:"h-4 w-4 text-gray-700"})}),a.jsxs("span",{className:`text-xs px-2.5 py-1 ${h&&m.length>0?"bg-amber-100 text-gray-900":"bg-gray-100 text-gray-900"} rounded-full font-semibold whitespace-nowrap`,children:[m.length," "]}),a.jsxs("span",{className:"text-xs px-2.5 py-1 bg-gray-100 text-gray-700 rounded-full font-semibold whitespace-nowrap",children:[v.length," "]})]})]}),m.length>0&&a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"flex items-center gap-1.5 mb-2",children:[a.jsx(es,{className:"h-4 w-4 text-gray-900"}),a.jsx("p",{className:"text-xs font-semibold text-gray-900 uppercase",children:""})]}),a.jsx("div",{className:"space-y-2",children:(()=>{const j=m.reduce((x,b)=>{const N=b.project||"-";return x[N]||(x[N]=[]),x[N].push(b),x},{});return Object.entries(j).map(([x,b])=>{const N=f===l;return a.jsxs("div",{className:`border-l-3 ${N?"border-gray-400":"border-gray-900"} ${N?"bg-amber-50":"bg-gray-50"} rounded-r overflow-hidden`,children:[a.jsx("div",{className:`px-3 py-1.5 ${N?"bg-amber-100":"bg-gray-100"} border-b ${N?"border-amber-200":"border-gray-200"}`,children:a.jsx("span",{className:"text-xs font-semibold text-gray-900",children:x})}),a.jsx("div",{className:"px-3 py-2 space-y-1",children:b.map(g=>{const A=g.time&&g.time!=="-"?` - ${c(g.time)}`:"";return a.jsxs("p",{className:"font-medium text-gray-900 text-sm leading-relaxed",children:[" ",g.title,A]},g.id)})})]},x)})})()})]}),v.length>0&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-1.5 mb-2",children:[a.jsx(VS,{className:"h-4 w-4 text-gray-600"}),a.jsx("p",{className:"text-xs font-semibold text-gray-600 uppercase",children:""})]}),a.jsx("div",{className:"space-y-2",children:(()=>{const j=v.reduce((x,b)=>{const N=_e(new Date(b.start),"MM.dd",{locale:tt}),g=b.project||"-",A=`${N}|${g}`;return x[A]||(x[A]={date:N,project:g,schedules:[]}),x[A].schedules.push(b),x},{});return Object.values(j).map(({date:x,project:b,schedules:N})=>{const A=N.length>0&&mI(new Date(N[0].start))?`${x} ()`:x;return a.jsxs("div",{className:"border-l-3 border-gray-400 bg-gray-50 rounded-r overflow-hidden",children:[a.jsxs("div",{className:"px-3 py-1.5 bg-gray-100 border-b border-gray-200 flex items-center justify-between",children:[a.jsx("span",{className:"text-xs font-semibold text-gray-700",children:b}),a.jsx("span",{className:"text-xs text-gray-500 font-medium",children:A})]}),a.jsx("div",{className:"px-3 py-2 space-y-1",children:N.map(k=>{const _=k.time&&k.time!=="-"?` - ${c(k.time)}`:"";return a.jsxs("p",{className:"font-medium text-gray-900 text-sm leading-relaxed",children:[" ",k.title,_]},k.id)})})]},`${x}-${b}`)})})()})]}),p===0&&a.jsx("div",{className:"text-center py-8 text-gray-400 text-sm",children:"  "})]},f)})})}),i&&a.jsx(yk,{event:null,slotInfo:{start:new Date,end:new Date},onClose:()=>o(!1),onSave:async f=>{try{console.log("Dashboard: Adding schedule...",f),await r({id:Date.now().toString(),title:f.title||"",start:f.start||new Date,end:f.end||new Date,type:"other",project:f.projectId||f.projectName||"",location:"",attendees:f.assignedTo||[],description:f.description||"",time:f.time}),console.log("Dashboard: Schedule added successfully"),await t(),console.log("Dashboard: Schedules fetched, closing modal"),o(!1)}catch(m){console.error("Failed to add schedule:",m),alert("  : "+(m instanceof Error?m.message:"   "))}},onDelete:async f=>{try{await n(f),await t(),o(!1)}catch(m){console.error("Failed to delete schedule:",m),alert("  : "+(m instanceof Error?m.message:"   "))}}})]})},p5=({value:e,detailValue:t="",onChange:r,onDetailChange:n,placeholder:s=" ",error:i})=>{const[o,l]=w.useState(!1),[c,u]=w.useState(e),[d,f]=w.useState(t),m=w.useRef(null);w.useEffect(()=>{const x=b=>{m.current&&!m.current.contains(b.target)&&l(!1)};return o&&document.addEventListener("mousedown",x),()=>{document.removeEventListener("mousedown",x)}},[o]),w.useEffect(()=>{u(e)},[e]),w.useEffect(()=>{f(t)},[t]);const v=()=>new Promise((x,b)=>{if(window.daum&&window.daum.Postcode){x(!0);return}const N=document.createElement("script");N.src="//t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js",N.async=!0,N.onload=()=>x(!0),N.onerror=()=>b(new Error("Kakao Postcode   ")),document.head.appendChild(N)}),p=x=>{const b=x.roadAddr||x.jibunAddr;u(b),r(b,d),l(!1)},h=x=>{const b=x.target.value;f(b),n&&n(b),c&&r(c,b)},j=async()=>{try{(!window.daum||!window.daum.Postcode)&&await v(),window.daum&&new window.daum.Postcode({oncomplete:function(x){const b={roadAddr:x.roadAddress,jibunAddr:x.jibunAddress||x.autoJibunAddress||"",zipNo:x.zonecode,bdNm:x.buildingName,siNm:x.sido,sggNm:x.sigungu,emdNm:x.bname,rn:x.roadname};p(b)}}).open()}catch(x){console.error("  :",x),alert("     .  .")}};return a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"relative",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx("input",{type:"text",value:c,onClick:()=>j(),onChange:x=>{u(x.target.value),r(x.target.value,d)},placeholder:s,className:`input pr-8 cursor-pointer ${i?"border-red-500":""}`,readOnly:!0}),a.jsx(yf,{className:"absolute right-2 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400 pointer-events-none"})]}),a.jsx("button",{type:"button",onClick:j,className:"px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg text-sm font-medium transition-colors",children:" "})]}),i&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:i})]}),a.jsx("div",{children:a.jsx("input",{type:"text",value:d,onChange:h,placeholder:" (/ )",className:"input",disabled:!c})}),c&&a.jsx("div",{className:"p-3 bg-gray-50 rounded-lg",children:a.jsxs("p",{className:"text-sm text-gray-600",children:[a.jsx("span",{className:"font-medium",children:" :"})," ",c,d&&`, ${d}`]})}),a.jsx("div",{id:"address-search-container",style:{display:"none",width:"100%",height:"400px"}})]})},ow=["","","","","",""],g5=({project:e,onClose:t,onSave:r})=>{const{register:n,handleSubmit:s,setValue:i,reset:o,formState:{errors:l}}=nu({defaultValues:{name:"",client:"",location:"",detailLocation:"",startDate:"",endDate:""}}),[c,u]=w.useState([]),[d,f]=w.useState(""),[m,v]=w.useState(""),[p,h]=w.useState("");w.useEffect(()=>{var g;if(e){const A=e.location?e.location.split(","):["",""],k=((g=A[0])==null?void 0:g.trim())||e.location||"",_=A.length>1?A.slice(1).join(",").trim():"";o({name:e.name,client:e.client||"",location:k,detailLocation:_,startDate:e.startDate?new Date(e.startDate).toISOString().split("T")[0]:"",endDate:e.endDate?new Date(e.endDate).toISOString().split("T")[0]:""}),v(k),h(_);const O=e.manager?e.manager.split(",").map(R=>R.trim()).filter(R=>R&&R!==""):[];u(O)}else o({name:"",client:"",location:"",detailLocation:"",startDate:"",endDate:""}),v(""),h(""),u([])},[e,o]);const j=g=>{u(A=>A.includes(g)?A.filter(k=>k!==g):[...A,g])},x=()=>{d.trim()&&!c.includes(d.trim())&&(u(g=>[...g,d.trim()]),f(""))},b=g=>{u(A=>A.filter(k=>k!==g))},N=g=>{console.log(" ProjectModal onSubmit - Raw form data:",g);const A=m&&p?`${m}, ${p}`:m||g.location,k={name:g.name,client:g.client,location:A,manager:c.join(", "),contractAmount:(e==null?void 0:e.contractAmount)??0,spent:(e==null?void 0:e.spent)??0,status:(e==null?void 0:e.status)??"planning",progress:(e==null?void 0:e.progress)??0,description:(e==null?void 0:e.description)??"",meetingNotes:(e==null?void 0:e.meetingNotes)??[],customerRequests:(e==null?void 0:e.customerRequests)??[],entrancePassword:(e==null?void 0:e.entrancePassword)??"",sitePassword:(e==null?void 0:e.sitePassword)??""};if(g.startDate&&g.startDate!=="")k.startDate=g.startDate,console.log(" Setting startDate from form:",g.startDate);else if(e!=null&&e.startDate){const _=typeof e.startDate=="string"&&e.startDate.includes("T")?e.startDate.split("T")[0]:e.startDate;k.startDate=_,console.log(" Keeping existing startDate:",k.startDate)}if(g.endDate&&g.endDate!=="")k.endDate=g.endDate,console.log(" Setting endDate from form:",g.endDate);else if(e!=null&&e.endDate){const _=typeof e.endDate=="string"&&e.endDate.includes("T")?e.endDate.split("T")[0]:e.endDate;k.endDate=_,console.log(" Keeping existing endDate:",k.endDate)}console.log(" ProjectModal onSubmit - Final formData:",k),r(k)};return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-3 md:p-4",children:a.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 md:p-6 border-b sticky top-0 bg-white z-10",children:[a.jsx("h2",{className:"text-lg md:text-xl font-semibold",children:e?" ":" "}),a.jsx("button",{onClick:t,className:"p-1.5 md:p-2 hover:bg-gray-100 rounded-lg transition-colors",children:a.jsx(rt,{className:"h-5 w-5"})})]}),a.jsxs("form",{onSubmit:s(N),className:"p-4 md:p-6 space-y-4 md:space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"}),a.jsx("input",{...n("name",{required:" "}),type:"text",className:"input"}),l.name&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(l.name.message)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),a.jsx("input",{...n("client"),type:"text",className:"input"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"}),a.jsx(p5,{value:m,detailValue:p,onChange:(g,A)=>{v(g),h(A||""),i("location",g),i("detailLocation",A||"")},onDetailChange:g=>{h(g),i("detailLocation",g)},placeholder:"  ",required:!0,error:l.location?String(l.location.message):void 0})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),a.jsx("input",{...n("startDate"),type:"date",className:"input"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),a.jsx("input",{...n("endDate"),type:"date",className:"input"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" (  )"}),a.jsxs("div",{className:"flex flex-wrap gap-1.5 mb-2",children:[ow.map(g=>a.jsx("button",{type:"button",onClick:()=>j(g),className:`px-2.5 py-1.5 rounded border transition-colors text-sm ${c.includes(g)?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:g},g)),c.filter(g=>!ow.includes(g)).map(g=>a.jsxs("button",{type:"button",onClick:()=>b(g),className:"px-2.5 py-1.5 rounded border transition-colors text-sm bg-gray-900 text-white border-gray-900 hover:bg-gray-800",children:[g," "]},g))]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:d,onChange:g=>f(g.target.value),onKeyPress:g=>{g.key==="Enter"&&(g.preventDefault(),x())},placeholder:"   ",className:"flex-1 px-3 py-1.5 border border-gray-300 rounded-lg text-xs focus:outline-none focus:ring-2 focus:ring-gray-500"}),a.jsx("button",{type:"button",onClick:x,className:"px-3 py-1.5 bg-gray-100 text-gray-700 rounded-lg text-xs font-medium hover:bg-gray-200 transition-colors",children:""})]})]}),a.jsxs("div",{className:"flex justify-end space-x-2 md:space-x-3 pt-4 border-t",children:[a.jsx("button",{type:"button",onClick:t,className:"btn btn-outline text-sm md:text-base",children:""}),a.jsx("button",{type:"submit",className:"btn btn-primary text-sm md:text-base",children:e?"":""})]})]})]})})},y5=({projectName:e,meetingNotes:t,onClose:r,onSave:n,onDelete:s})=>{const[i,o]=w.useState(""),[l,c]=w.useState(new Date().toISOString().split("T")[0]),[u,d]=w.useState(!1),f=()=>{d(!0),o(""),c(new Date().toISOString().split("T")[0])},m=()=>{if(!i.trim()){alert(" ");return}if(!l){alert(" ");return}n(i.trim(),new Date(l)),o(""),c(new Date().toISOString().split("T")[0]),d(!1)},v=()=>{o(""),c(new Date().toISOString().split("T")[0]),d(!1)},p=h=>{window.confirm("   ?")&&s(h)};return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",onClick:r,children:a.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[80vh] flex flex-col shadow-xl",onClick:h=>h.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:" "}),a.jsx("p",{className:"text-sm text-gray-500 mt-0.5",children:e})]}),a.jsx("button",{onClick:r,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:a.jsx(rt,{className:"h-5 w-5 text-gray-500"})})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[!u&&a.jsx("button",{onClick:f,className:"w-full mb-4 px-4 py-2.5 border border-gray-300 rounded text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:"+ "}),u&&a.jsxs("div",{className:"mb-4 p-4 bg-gray-50 rounded border border-gray-200",children:[a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"}),a.jsx("input",{type:"date",value:l,onChange:h=>c(h.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded text-sm focus:outline-none focus:border-gray-900"})]}),a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  *"}),a.jsx("textarea",{value:i,onChange:h=>o(h.target.value),placeholder:"  ",className:"w-full px-3 py-2 border border-gray-300 rounded text-sm focus:outline-none focus:border-gray-900 resize-none",rows:4})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:m,className:"px-4 py-1.5 bg-gray-900 text-white text-sm rounded hover:bg-gray-800 transition-colors",children:""}),a.jsx("button",{onClick:v,className:"px-4 py-1.5 bg-gray-200 text-gray-700 text-sm rounded hover:bg-gray-300 transition-colors",children:""})]})]}),a.jsx("div",{className:"space-y-3",children:t.length===0?a.jsx("div",{className:"text-center py-12 text-gray-400 text-sm",children:"   "}):t.map(h=>a.jsx("div",{className:"p-4 bg-white border border-gray-200 rounded hover:border-gray-300 transition-colors group",children:a.jsxs("div",{className:"flex items-start justify-between gap-3",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:_e(new Date(h.date),"yyyy.MM.dd (eee)",{locale:tt})}),a.jsx("p",{className:"text-sm text-gray-900 whitespace-pre-wrap break-words",children:h.content})]}),a.jsx("button",{onClick:()=>p(h.id),className:"opacity-0 group-hover:opacity-100 px-2 py-1 text-xs text-gray-500 hover:text-red-600 transition-all",children:""})]})},h.id))})]})]})})},x5=({projectName:e,customerRequests:t,onClose:r,onSave:n,onToggleComplete:s,onDelete:i})=>{const[o,l]=w.useState(""),[c,u]=w.useState(new Date().toISOString().split("T")[0]),[d,f]=w.useState(!1),m=()=>{f(!0),l(""),u(new Date().toISOString().split("T")[0])},v=()=>{if(!o.trim()){alert(" ");return}if(!c){alert(" ");return}n(o.trim(),new Date(c)),l(""),u(new Date().toISOString().split("T")[0]),f(!1)},p=()=>{l(""),u(new Date().toISOString().split("T")[0]),f(!1)},h=N=>{window.confirm("  ?")&&i(N)},j=N=>{s(N)},x=t.filter(N=>!N.completed),b=t.filter(N=>N.completed);return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",onClick:r,children:a.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[80vh] flex flex-col shadow-xl",onClick:N=>N.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:" "}),a.jsx("p",{className:"text-sm text-gray-500 mt-0.5",children:e})]}),a.jsx("button",{onClick:r,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:a.jsx(rt,{className:"h-5 w-5 text-gray-500"})})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[!d&&a.jsx("button",{onClick:m,className:"w-full mb-4 px-4 py-2.5 border border-gray-300 rounded text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:"+ "}),d&&a.jsxs("div",{className:"mb-4 p-4 bg-gray-50 rounded border border-gray-200",children:[a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"}),a.jsx("input",{type:"date",value:c,onChange:N=>u(N.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded text-sm focus:outline-none focus:border-gray-900"})]}),a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  *"}),a.jsx("textarea",{value:o,onChange:N=>l(N.target.value),placeholder:"  ",className:"w-full px-3 py-2 border border-gray-300 rounded text-sm focus:outline-none focus:border-gray-900 resize-none",rows:3})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:v,className:"px-4 py-1.5 bg-gray-900 text-white text-sm rounded hover:bg-gray-800 transition-colors",children:""}),a.jsx("button",{onClick:p,className:"px-4 py-1.5 bg-gray-200 text-gray-700 text-sm rounded hover:bg-gray-300 transition-colors",children:""})]})]}),a.jsx("div",{className:"space-y-2",children:t.length===0?a.jsx("div",{className:"text-center py-12 text-gray-400 text-sm",children:"  "}):a.jsxs(a.Fragment,{children:[x.map(N=>a.jsx("div",{className:"p-3 bg-white border border-gray-300 rounded hover:border-gray-400 transition-colors group",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("button",{onClick:()=>j(N.id),className:"mt-0.5 flex-shrink-0",children:a.jsx(tO,{className:"h-4 w-4 text-gray-400"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm text-gray-900 whitespace-pre-wrap break-words",children:N.content}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:_e(new Date(N.createdAt),"yyyy.MM.dd",{locale:tt})})]}),a.jsx("button",{onClick:()=>h(N.id),className:"opacity-0 group-hover:opacity-100 px-2 py-1 text-xs text-gray-500 hover:text-red-600 transition-all",children:""})]})},N.id)),b.map(N=>a.jsx("div",{className:"p-3 bg-gray-50 border border-gray-200 rounded hover:border-gray-300 transition-colors group",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("button",{onClick:()=>j(N.id),className:"mt-0.5 flex-shrink-0",children:a.jsx(eO,{className:"h-4 w-4 text-gray-900"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm text-gray-500 line-through whitespace-pre-wrap break-words",children:N.content}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:_e(new Date(N.createdAt),"yyyy.MM.dd",{locale:tt})})]}),a.jsx("button",{onClick:()=>h(N.id),className:"opacity-0 group-hover:opacity-100 px-2 py-1 text-xs text-gray-500 hover:text-red-600 transition-all",children:""})]})},N.id))]})})]})]})})},v5=({projectName:e,entrancePassword:t,sitePassword:r,onClose:n,onSave:s})=>{const[i,o]=w.useState(t||""),[l,c]=w.useState(r||""),[u,d]=w.useState(!1),f=()=>{d(!0)},m=()=>{s(i,l),d(!1)},v=()=>{o(t||""),c(r||""),d(!1)};return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",onClick:n,children:a.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full shadow-xl",onClick:p=>p.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:""}),a.jsx("p",{className:"text-sm text-gray-500 mt-0.5",children:e})]}),a.jsx("button",{onClick:n,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:a.jsx(rt,{className:"h-5 w-5 text-gray-500"})})]}),a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),u?a.jsx("input",{type:"text",value:i,onChange:p=>o(p.target.value),placeholder:"  ",className:"w-full px-3 py-2 border border-gray-300 rounded text-sm focus:outline-none focus:border-gray-900"}):a.jsx("div",{className:"px-3 py-2 bg-gray-50 border border-gray-200 rounded",children:i?a.jsx("span",{className:"text-sm font-mono text-gray-900",children:i}):a.jsx("span",{className:"text-sm text-gray-400",children:""})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),u?a.jsx("input",{type:"text",value:l,onChange:p=>c(p.target.value),placeholder:"  ",className:"w-full px-3 py-2 border border-gray-300 rounded text-sm focus:outline-none focus:border-gray-900"}):a.jsx("div",{className:"px-3 py-2 bg-gray-50 border border-gray-200 rounded",children:l?a.jsx("span",{className:"text-sm font-mono text-gray-900",children:l}):a.jsx("span",{className:"text-sm text-gray-400",children:""})})]})]}),a.jsx("div",{className:"border-t border-gray-200 px-6 py-4 flex gap-2",children:u?a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:m,className:"flex-1 px-4 py-2 bg-gray-900 text-white text-sm rounded hover:bg-gray-800 transition-colors",children:""}),a.jsx("button",{onClick:v,className:"flex-1 px-4 py-2 bg-gray-200 text-gray-700 text-sm rounded hover:bg-gray-300 transition-colors",children:""})]}):a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:f,className:"flex-1 px-4 py-2 bg-gray-200 text-gray-700 text-sm rounded hover:bg-gray-300 transition-colors",children:""}),a.jsx("button",{onClick:n,className:"flex-1 px-4 py-2 bg-gray-900 text-white text-sm rounded hover:bg-gray-800 transition-colors",children:""})]})})]})})},b5=()=>{const{projects:e,loadProjectsFromAPI:t,addProjectToAPI:r,updateProjectInAPI:n,deleteProjectFromAPI:s}=Un(),{user:i}=Gs(),[o,l]=w.useState("in-progress"),[c,u]=w.useState("grid"),[d,f]=w.useState(!1),[m,v]=w.useState(null),[p,h]=w.useState(!1),[j,x]=w.useState(!1),[b,N]=w.useState(!1),[g,A]=w.useState(null),k=(F,ie)=>`lastViewed_${i==null?void 0:i.id}_${F}_${ie}`,_=(F,ie)=>{const T=k(F,ie),W=localStorage.getItem(T);return W?parseInt(W,10):0},O=(F,ie)=>{const T=k(F,ie);localStorage.setItem(T,Date.now().toString())},R=(F,ie)=>{const T=_(F.id,ie);return ie==="meeting"?(F.meetingNotes||[]).some(Y=>(Y.createdAt?new Date(Y.createdAt).getTime():new Date(Y.date).getTime())>T):(F.customerRequests||[]).some(Y=>!Y.completed)};w.useEffect(()=>{t().catch(F=>{console.error("Failed to load projects:",F),z.error("   ")})},[t]),w.useEffect(()=>{const F=()=>{v(null),f(!0)};return window.addEventListener("headerAddButtonClick",F),()=>window.removeEventListener("headerAddButtonClick",F)},[]);const I=(F,ie)=>{if(!F||!ie)return 0;const T=new Date,W=new Date(F),Y=new Date(ie);if(T<W)return 0;if(T>Y)return 100;const ee=Math.ceil((Y.getTime()-W.getTime())/(1e3*60*60*24)),Te=Math.ceil((T.getTime()-W.getTime())/(1e3*60*60*24)),we=Math.round(Te/ee*100);return Math.min(100,Math.max(0,we))},V=F=>{v(F),f(!0)},Z=async(F,ie)=>{if(window.confirm(`"${ie}"  ?

    .`))try{await s(F),z.success(" ")}catch(T){console.error("Failed to delete project:",T),z.error("  ")}},Q=async F=>{try{if(m)await n(m.id,F),z.success(" ");else{const ie={id:"",...F,team:F.team||[]};await r(ie),z.success(" "),l(F.status||"planning")}f(!1),v(null)}catch(ie){console.error("Failed to save project:",ie),z.error("  ")}},G=async(F,ie)=>{try{await n(F,{status:ie}),z.success(" ")}catch(T){console.error("Failed to update project status:",T),z.error("  ")}},xe=F=>{A(F),h(!0),O(F.id,"meeting")},re=F=>{A(F),x(!0),O(F.id,"request")},pe=F=>{A(F),N(!0)},ce=async(F,ie)=>{if(!g)return;const T=g.entrancePassword,W=g.sitePassword;A({...g,entrancePassword:F,sitePassword:ie});try{await n(g.id,{entrancePassword:F,sitePassword:ie}),z.success(" ")}catch(Y){console.error("Failed to save passwords:",Y),z.error("  "),A({...g,entrancePassword:T,sitePassword:W})}},q=async(F,ie)=>{if(!g)return;const T={id:Date.now().toString(),content:F,date:ie,createdAt:new Date},W=[...g.meetingNotes||[],T];A({...g,meetingNotes:W});try{await n(g.id,{meetingNotes:W}),z.success("  ")}catch(Y){console.error("Failed to save meeting note:",Y),z.error("   "),A({...g,meetingNotes:g.meetingNotes||[]})}},oe=async(F,ie)=>{if(!g)return;const T={id:Date.now().toString(),content:F,completed:!1,createdAt:ie},W=[...g.customerRequests||[],T];A({...g,customerRequests:W});try{await n(g.id,{customerRequests:W}),z.success("  ")}catch(Y){console.error("Failed to save customer request:",Y),z.error("   "),A({...g,customerRequests:g.customerRequests||[]})}},J=async F=>{if(!g)return;const ie=g.customerRequests||[],T=ie.map(W=>W.id===F?{...W,completed:!W.completed}:W);A({...g,customerRequests:T});try{await n(g.id,{customerRequests:T}),z.success("  ")}catch(W){console.error("Failed to toggle request:",W),z.error("  "),A({...g,customerRequests:ie})}},H=async F=>{if(!g)return;const ie=g.meetingNotes||[],T=ie.filter(W=>W.id!==F);A({...g,meetingNotes:T});try{await n(g.id,{meetingNotes:T}),z.success("  ")}catch(W){console.error("Failed to delete meeting note:",W),z.error(" "),A({...g,meetingNotes:ie})}},ae=async F=>{if(!g)return;const ie=g.customerRequests||[],T=ie.filter(W=>W.id!==F);A({...g,customerRequests:T});try{await n(g.id,{customerRequests:T}),z.success("  ")}catch(W){console.error("Failed to delete customer request:",W),z.error(" "),A({...g,customerRequests:ie})}},ye=({project:F})=>{const T={planning:{label:"",color:"bg-white text-gray-700 border-gray-300"},"in-progress":{label:"",color:"bg-white text-gray-900 border-gray-300"},completed:{label:"",color:"bg-gray-900 text-white border-gray-900"},"on-hold":{label:"",color:"bg-white text-gray-600 border-gray-300"}}[F.status];return a.jsxs("select",{value:F.status,onChange:W=>G(F.id,W.target.value),className:Cr("px-2 py-1 text-xs font-medium border rounded cursor-pointer","focus:outline-none focus:ring-2 focus:ring-gray-500",T.color),onClick:W=>W.stopPropagation(),children:[a.jsx("option",{value:"planning",children:""}),a.jsx("option",{value:"in-progress",children:""}),a.jsx("option",{value:"completed",children:""}),a.jsx("option",{value:"on-hold",children:""})]})},te=(()=>{let F=e;return o!=="all"&&(F=F.filter(ie=>ie.status===o)),F})(),ue={planning:e.filter(F=>F.status==="planning").length,inProgress:e.filter(F=>F.status==="in-progress").length,completed:e.filter(F=>F.status==="completed").length,onHold:e.filter(F=>F.status==="on-hold").length},Ne=({project:F})=>{var T,W,Y,ee;const ie=I(F.startDate,F.endDate);return a.jsxs("div",{className:"card p-3 md:p-4 hover:border-gray-400 transition-colors",children:[a.jsxs("div",{className:"flex items-start justify-between mb-3 md:mb-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-bold text-base md:text-lg text-gray-900",children:F.name}),a.jsxs("p",{className:"text-xs md:text-sm text-gray-600 mt-1",children:[F.client,""]})]}),a.jsxs("div",{className:"flex flex-col items-end",children:[a.jsx(ye,{project:F}),a.jsx("button",{onClick:()=>V(F),className:"text-xs text-gray-600 hover:text-gray-900 mt-2",children:""})]})]}),a.jsxs("div",{className:"space-y-1.5 md:space-y-2 mb-3 md:mb-4 text-xs md:text-sm",children:[a.jsxs("div",{className:"text-gray-600",children:[": ",F.location]}),a.jsxs("div",{className:"text-gray-600",children:[": ",F.startDate&&F.endDate?`${_e(F.startDate,"MM.dd (eee)",{locale:tt})} - ${_e(F.endDate,"MM.dd (eee)",{locale:tt})}`:""]}),a.jsxs("div",{className:"text-gray-600",children:[": ",F.manager]})]}),a.jsxs("div",{className:"mb-3 md:mb-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1.5 md:mb-2",children:[a.jsx("span",{className:"text-[10px] md:text-xs text-gray-600",children:" ( )"}),a.jsxs("span",{className:"text-xs md:text-sm font-medium text-gray-900",children:[ie,"%"]})]}),a.jsx("div",{className:"w-full bg-gray-200 h-1",children:a.jsx("div",{className:"bg-gray-900 h-1 transition-all",style:{width:`${ie}%`}})})]}),a.jsxs("div",{className:"pt-2 border-t border-gray-200 space-y-2",children:[a.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[a.jsxs("button",{onClick:()=>xe(F),className:"relative px-2 py-1.5 text-xs font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:["",(((T=F.meetingNotes)==null?void 0:T.length)||0)>0&&a.jsxs("span",{className:"ml-1 text-[10px] text-gray-500",children:["(",((W=F.meetingNotes)==null?void 0:W.length)||0,")"]}),R(F,"meeting")&&a.jsx("span",{className:"absolute -top-1 -right-1 inline-flex items-center justify-center px-1.5 py-0.5 text-[9px] font-bold leading-none text-white bg-red-500 rounded-full",children:"N"})]}),a.jsxs("button",{onClick:()=>re(F),className:"relative px-2 py-1.5 text-xs font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:["",(((Y=F.customerRequests)==null?void 0:Y.length)||0)>0&&a.jsxs("span",{className:"ml-1 text-[10px] text-gray-500",children:["(",((ee=F.customerRequests)==null?void 0:ee.length)||0,")"]}),R(F,"request")&&a.jsx("span",{className:"absolute -top-1 -right-1 inline-flex items-center justify-center px-1.5 py-0.5 text-[9px] font-bold leading-none text-white bg-red-500 rounded-full",children:"N"})]}),a.jsx("button",{onClick:()=>pe(F),className:"px-2 py-1.5 text-xs font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:""})]}),((i==null?void 0:i.role)==="admin"||(i==null?void 0:i.role)==="manager")&&a.jsx("div",{className:"flex space-x-2",children:a.jsx("button",{onClick:()=>Z(F.id,F.name),className:"text-xs text-rose-600 hover:text-rose-700",children:""})})]})]})};return a.jsxs("div",{className:"space-y-3 md:space-y-4",children:[a.jsx("div",{className:"border-b border-gray-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("nav",{className:"flex space-x-4 md:space-x-8 overflow-x-auto",children:[{id:"planning",label:"",count:ue.planning,color:"text-gray-700"},{id:"in-progress",label:"",count:ue.inProgress,color:"text-gray-700"},{id:"completed",label:"",count:ue.completed,color:"text-gray-700"},{id:"all",label:"",count:e.length,color:"text-gray-600"}].map(F=>a.jsxs("button",{onClick:()=>l(F.id),className:Cr("py-3 md:py-4 px-1 border-b-2 font-medium text-xs md:text-sm transition-colors whitespace-nowrap",o===F.id?`border-gray-700 ${F.color}`:"border-transparent text-gray-400 hover:text-gray-700 hover:border-gray-300"),children:[F.label,a.jsx("span",{className:Cr("ml-1 md:ml-2 py-0.5 px-1.5 md:px-2 rounded-full text-[10px] md:text-xs font-semibold",o===F.id?"bg-gray-700 text-white":"bg-gray-200 text-gray-600"),children:F.count})]},F.id))}),a.jsxs("div",{className:"flex items-center gap-6 mb-3 md:mb-4",children:[a.jsxs("div",{className:"hidden sm:flex border border-gray-300 overflow-hidden rounded",children:[a.jsx("button",{onClick:()=>u("grid"),className:Cr("px-3 md:px-4 py-2 text-xs md:text-sm",c==="grid"?"bg-gray-100":"hover:bg-gray-50"),children:""}),a.jsx("button",{onClick:()=>u("list"),className:Cr("px-3 md:px-4 py-2 text-xs md:text-sm border-l border-gray-300",c==="list"?"bg-gray-100":"hover:bg-gray-50"),children:""})]}),a.jsx("button",{onClick:()=>{v(null),f(!0)},className:"hidden lg:inline-flex btn btn-primary px-4 py-2",children:"+  "})]})]})}),c==="grid"||window.innerWidth<768?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 md:gap-6",children:te.map(F=>a.jsx(Ne,{project:F},F.id))}):a.jsx("div",{className:"bg-white border border-gray-200 overflow-hidden",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:te.map(F=>{var T,W,Y,ee;const ie=I(F.startDate,F.endDate);return a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:F.name}),a.jsx("p",{className:"text-sm text-gray-500",children:F.location})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("p",{className:"text-sm",children:[F.client,""]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:F.startDate&&F.endDate?a.jsxs(a.Fragment,{children:[_e(F.startDate,"yyyy.MM.dd (eee)",{locale:tt})," -",a.jsx("br",{}),_e(F.endDate,"yyyy.MM.dd (eee)",{locale:tt})]}):""}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx(ye,{project:F})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-24 bg-gray-200 h-1 mr-2",children:a.jsx("div",{className:"bg-gray-900 h-1",style:{width:`${ie}%`}})}),a.jsxs("span",{className:"text-sm",children:[ie,"%"]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:()=>xe(F),className:"relative px-3 py-1.5 text-xs font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:["",(((T=F.meetingNotes)==null?void 0:T.length)||0)>0&&a.jsxs("span",{className:"ml-1 text-[10px] text-gray-500",children:["(",((W=F.meetingNotes)==null?void 0:W.length)||0,")"]}),R(F,"meeting")&&a.jsx("span",{className:"absolute -top-1 -right-1 inline-flex items-center justify-center px-1.5 py-0.5 text-[9px] font-bold leading-none text-white bg-red-500 rounded-full",children:"N"})]}),a.jsxs("button",{onClick:()=>re(F),className:"relative px-3 py-1.5 text-xs font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:["",(((Y=F.customerRequests)==null?void 0:Y.length)||0)>0&&a.jsxs("span",{className:"ml-1 text-[10px] text-gray-500",children:["(",((ee=F.customerRequests)==null?void 0:ee.length)||0,")"]}),R(F,"request")&&a.jsx("span",{className:"absolute -top-1 -right-1 inline-flex items-center justify-center px-1.5 py-0.5 text-[9px] font-bold leading-none text-white bg-red-500 rounded-full",children:"N"})]}),a.jsx("button",{onClick:()=>pe(F),className:"px-3 py-1.5 text-xs font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:""})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>V(F),className:"text-xs text-gray-600 hover:text-gray-900",children:""}),((i==null?void 0:i.role)==="admin"||(i==null?void 0:i.role)==="manager")&&a.jsx("button",{onClick:()=>Z(F.id,F.name),className:"text-xs text-rose-600 hover:text-rose-700",children:""})]})]})})]},F.id)})})]})}),d&&a.jsx(g5,{project:m,onClose:()=>{f(!1),v(null)},onSave:Q}),p&&g&&a.jsx(y5,{projectName:g.name,meetingNotes:g.meetingNotes||[],onClose:()=>{h(!1),A(null)},onSave:q,onDelete:H}),j&&g&&a.jsx(x5,{projectName:g.name,customerRequests:g.customerRequests||[],onClose:()=>{x(!1),A(null)},onSave:oe,onToggleComplete:J,onDelete:ae}),b&&g&&a.jsx(v5,{projectName:g.name,entrancePassword:g.entrancePassword||"",sitePassword:g.sitePassword||"",onClose:()=>{N(!1),A(null)},onSave:ce})]})};function lw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function yt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lw(Object(r),!0).forEach(function(n){Ka(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nm(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function fs(e,t){if(e==null)return{};var r,n,s=Nm(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function wr(e,t,r){return t=wf(t),dI(e,lk()?Reflect.construct(t,r||[],wf(e).constructor):t.apply(e,r))}function xk(e){if(Array.isArray(e))return e}function w5(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function vk(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cn(e,t){return xk(e)||w5(e,t)||wx(e,t)||vk()}function bk(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=bk(e[t]))&&(n&&(n+=" "),n+=r);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}function Lt(){for(var e,t,r=0,n="";r<arguments.length;)(e=arguments[r++])&&(t=bk(e))&&(n&&(n+=" "),n+=t);return n}function $t(){return $t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$t.apply(null,arguments)}var N5=function(e,t,r,n,s,i,o,l){if(!e){var c;if(t===void 0)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[r,n,s,i,o,l],d=0;c=new Error(t.replace(/%s/g,function(){return u[d++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}},j5=N5;const vc=Ar(j5);var S5=function(){};function k5(e,t){var r={};return Object.keys(e).forEach(function(n){r[Pd(n)]=S5}),r}function cw(e,t){return e[t]!==void 0}function Pd(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function D5(e){return!!e&&(typeof e!="function"||e.prototype&&e.prototype.isReactComponent)}function C5(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,bf(e,t)}function wk(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);e!=null&&this.setState(e)}function Nk(e){function t(r){var n=this.constructor.getDerivedStateFromProps(e,r);return n??null}this.setState(t.bind(this))}function jk(e,t){try{var r=this.props,n=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(r,n)}finally{this.props=r,this.state=n}}wk.__suppressDeprecationWarning=!0;Nk.__suppressDeprecationWarning=!0;jk.__suppressDeprecationWarning=!0;function E5(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if(typeof e.getDerivedStateFromProps!="function"&&typeof t.getSnapshotBeforeUpdate!="function")return e;var r=null,n=null,s=null;if(typeof t.componentWillMount=="function"?r="componentWillMount":typeof t.UNSAFE_componentWillMount=="function"&&(r="UNSAFE_componentWillMount"),typeof t.componentWillReceiveProps=="function"?n="componentWillReceiveProps":typeof t.UNSAFE_componentWillReceiveProps=="function"&&(n="UNSAFE_componentWillReceiveProps"),typeof t.componentWillUpdate=="function"?s="componentWillUpdate":typeof t.UNSAFE_componentWillUpdate=="function"&&(s="UNSAFE_componentWillUpdate"),r!==null||n!==null||s!==null){var i=e.displayName||e.name,o=typeof e.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+i+" uses "+o+" but also contains the following legacy lifecycles:"+(r!==null?`
  `+r:"")+(n!==null?`
  `+n:"")+(s!==null?`
  `+s:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof e.getDerivedStateFromProps=="function"&&(t.componentWillMount=wk,t.componentWillReceiveProps=Nk),typeof t.getSnapshotBeforeUpdate=="function"){if(typeof t.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=jk;var l=t.componentDidUpdate;t.componentDidUpdate=function(u,d,f){var m=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:f;l.call(this,u,d,m)}}return e}var A5="/Users/jquense/src/uncontrollable/src/uncontrollable.js";function Sk(e,t,r){r===void 0&&(r=[]);var n=e.displayName||e.name||"Component",s=D5(e),i=Object.keys(t),o=i.map(Pd);s||!r.length||vc(!1);var l=function(u){C5(d,u);function d(){for(var m,v=arguments.length,p=new Array(v),h=0;h<v;h++)p[h]=arguments[h];m=u.call.apply(u,[this].concat(p))||this,m.handlers=Object.create(null),i.forEach(function(x){var b=t[x],N=function(A){if(m.props[b]){var k;m._notifying=!0;for(var _=arguments.length,O=new Array(_>1?_-1:0),R=1;R<_;R++)O[R-1]=arguments[R];(k=m.props)[b].apply(k,[A].concat(O)),m._notifying=!1}m.unmounted||m.setState(function(I){var V,Z=I.values;return{values:$t(Object.create(null),Z,(V={},V[x]=A,V))}})};m.handlers[b]=N}),r.length&&(m.attachRef=function(x){m.inner=x});var j=Object.create(null);return i.forEach(function(x){j[x]=m.props[Pd(x)]}),m.state={values:j,prevProps:{}},m}var f=d.prototype;return f.shouldComponentUpdate=function(){return!this._notifying},d.getDerivedStateFromProps=function(v,p){var h=p.values,j=p.prevProps,x={values:$t(Object.create(null),h),prevProps:{}};return i.forEach(function(b){x.prevProps[b]=v[b],!cw(v,b)&&cw(j,b)&&(x.values[b]=v[Pd(b)])}),x},f.componentWillUnmount=function(){this.unmounted=!0},f.render=function(){var v=this,p=this.props,h=p.innerRef,j=Nm(p,["innerRef"]);o.forEach(function(b){delete j[b]});var x={};return i.forEach(function(b){var N=v.props[b];x[b]=N!==void 0?N:v.state.values[b]}),U.createElement(e,$t({},j,x,this.handlers,{ref:h||this.attachRef}))},d}(U.Component);E5(l),l.displayName="Uncontrolled("+n+")",l.propTypes=$t({innerRef:function(){}},k5(t)),r.forEach(function(u){l.prototype[u]=function(){var f;return(f=this.inner)[u].apply(f,arguments)}});var c=l;return U.forwardRef&&(c=U.forwardRef(function(u,d){return U.createElement(l,$t({},u,{innerRef:d,__source:{fileName:A5,lineNumber:128},__self:this}))}),c.propTypes=l.propTypes),c.ControlledComponent=e,c.deferControlTo=function(u,d,f){return d===void 0&&(d={}),Sk(u,$t({},t,d),f)},c}var kk={exports:{}},T5="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",_5=T5,P5=_5;function Dk(){}function Ck(){}Ck.resetWarningCache=Dk;var R5=function(){function e(n,s,i,o,l,c){if(c!==P5){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Ck,resetWarningCache:Dk};return r.PropTypes=r,r};kk.exports=R5();var M5=kk.exports;const Ae=Ar(M5);var Sf="milliseconds",bc="seconds",wc="minutes",Nc="hours",Ni="day",Ao="week",jc="month",ji="year",Si="decade",ki="century",Ek={milliseconds:1,seconds:1e3,minutes:60*1e3,hours:60*60*1e3,day:24*60*60*1e3,week:7*24*60*60*1e3},O5={month:1,year:12,decade:10*12,century:100*12};function I5(e){return[31,$5(e),31,30,31,30,31,31,30,31,30,31]}function $5(e){return e%4===0&&e%100!==0||e%400===0?29:28}function In(e,t,r){switch(e=new Date(e),r){case Sf:case bc:case wc:case Nc:case Ni:case Ao:return L5(e,t*Ek[r]);case jc:case ji:case Si:case ki:return F5(e,t*O5[r])}throw new TypeError('Invalid units: "'+r+'"')}function L5(e,t){var r=new Date(+e+t);return B5(e,r)}function F5(e,t){var r=e.getFullYear(),n=e.getMonth(),s=e.getDate(),i=r*12+n+t,o=Math.trunc(i/12),l=i%12,c=Math.min(s,I5(o)[l]),u=new Date(e);return u.setFullYear(o),u.setDate(1),u.setMonth(l),u.setDate(c),u}function B5(e,t){var r=e.getTimezoneOffset(),n=t.getTimezoneOffset(),s=n-r;return new Date(+t+s*Ek.minutes)}function Sc(e,t,r){return In(e,-t,r)}function dr(e,t,r){switch(e=new Date(e),t){case ki:case Si:case ji:e=Df(e,0);case jc:e=Rk(e,1);case Ao:case Ni:e=Cc(e,0);case Nc:e=To(e,0);case wc:e=Dc(e,0);case bc:e=kc(e,0)}return t===Si&&(e=Sc(e,Di(e)%10,"year")),t===ki&&(e=Sc(e,Di(e)%100,"year")),t===Ao&&(e=Mk(e,0,r)),e}function kf(e,t,r){switch(e=new Date(e),e=dr(e,t,r),t){case ki:case Si:case ji:case jc:case Ao:e=In(e,1,t),e=Sc(e,1,Ni),e.setHours(23,59,59,999);break;case Ni:e.setHours(23,59,59,999);break;case Nc:case wc:case bc:e=In(e,1,t),e=Sc(e,1,Sf)}return e}var su=Yo(function(e,t){return e===t}),Cx=Yo(function(e,t){return e!==t}),jm=Yo(function(e,t){return e>t}),au=Yo(function(e,t){return e>=t}),Ex=Yo(function(e,t){return e<t}),zo=Yo(function(e,t){return e<=t});function Ak(){return new Date(Math.min.apply(Math,arguments))}function Tk(){return new Date(Math.max.apply(Math,arguments))}function _k(e,t,r,n){return n=n||"day",(!t||au(e,t,n))&&(!r||zo(e,r,n))}var kc=Wa("Milliseconds"),Dc=Wa("Seconds"),To=Wa("Minutes"),Cc=Wa("Hours"),Pk=Wa("Day"),Rk=Wa("Date"),Df=Wa("Month"),Di=Wa("FullYear");function W5(e,t){return t===void 0?Di(dr(e,Si)):In(e,t+10,ji)}function H5(e,t){return t===void 0?Di(dr(e,ki)):In(e,t+100,ji)}function Mk(e,t,r){var n=(Pk(e)+7-(r||0))%7;return t===void 0?n:In(e,t-n,Ni)}function U5(e,t,r,n){var s,i,o;switch(r){case Sf:case bc:case wc:case Nc:case Ni:case Ao:s=t.getTime()-e.getTime();break;case jc:case ji:case Si:case ki:s=(Di(t)-Di(e))*12+Df(t)-Df(e);break;default:throw new TypeError('Invalid units: "'+r+'"')}switch(r){case Sf:i=1;break;case bc:i=1e3;break;case wc:i=1e3*60;break;case Nc:i=1e3*60*60;break;case Ni:i=1e3*60*60*24;break;case Ao:i=1e3*60*60*24*7;break;case jc:i=1;break;case ji:i=12;break;case Si:i=120;break;case ki:i=1200;break;default:throw new TypeError('Invalid units: "'+r+'"')}return o=s/i,n?o:Math.round(o)}function Wa(e){var t=function(r){switch(r){case"Milliseconds":return 36e5;case"Seconds":return 3600;case"Minutes":return 60;case"Hours":return 1;default:return null}}(e);return function(r,n){if(n===void 0)return r["get"+e]();var s=new Date(r);return s["set"+e](n),t&&s["get"+e]()!=n&&(e==="Hours"||n>=t&&s.getHours()-r.getHours()<Math.floor(n/t))&&s["set"+e](n+t),s}}function Yo(e){return function(t,r,n){return e(+dr(t,n),+dr(r,n))}}const uw=Object.freeze(Object.defineProperty({__proto__:null,add:In,century:H5,date:Rk,day:Pk,decade:W5,diff:U5,endOf:kf,eq:su,gt:jm,gte:au,hours:Cc,inRange:_k,lt:Ex,lte:zo,max:Tk,milliseconds:kc,min:Ak,minutes:To,month:Df,neq:Cx,seconds:Dc,startOf:dr,subtract:Sc,weekday:Mk,year:Di},Symbol.toStringTag,{value:"Module"}));function V5(e){if(Array.isArray(e))return _g(e)}function Ok(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function z5(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rd(e){return V5(e)||Ok(e)||wx(e)||z5()}function Y5(e,t,r){var n=-1,s=e.length;t<0&&(t=-t>s?0:s+t),r=r>s?s:r,r<0&&(r+=s),s=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(s);++n<s;)i[n]=e[n+t];return i}var Ik=Y5;function q5(e,t){return e===t||e!==e&&t!==t}var iu=q5,G5=typeof un=="object"&&un&&un.Object===Object&&un,$k=G5,K5=$k,Q5=typeof self=="object"&&self&&self.Object===Object&&self,X5=K5||Q5||Function("return this")(),ps=X5,J5=ps,Z5=J5.Symbol,qo=Z5,dw=qo,Lk=Object.prototype,e$=Lk.hasOwnProperty,t$=Lk.toString,vl=dw?dw.toStringTag:void 0;function r$(e){var t=e$.call(e,vl),r=e[vl];try{e[vl]=void 0;var n=!0}catch{}var s=t$.call(e);return n&&(t?e[vl]=r:delete e[vl]),s}var n$=r$,s$=Object.prototype,a$=s$.toString;function i$(e){return a$.call(e)}var o$=i$,fw=qo,l$=n$,c$=o$,u$="[object Null]",d$="[object Undefined]",mw=fw?fw.toStringTag:void 0;function f$(e){return e==null?e===void 0?d$:u$:mw&&mw in Object(e)?l$(e):c$(e)}var Go=f$;function m$(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Ks=m$,h$=Go,p$=Ks,g$="[object AsyncFunction]",y$="[object Function]",x$="[object GeneratorFunction]",v$="[object Proxy]";function b$(e){if(!p$(e))return!1;var t=h$(e);return t==y$||t==x$||t==g$||t==v$}var Ax=b$,w$=9007199254740991;function N$(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=w$}var Tx=N$,j$=Ax,S$=Tx;function k$(e){return e!=null&&S$(e.length)&&!j$(e)}var ou=k$,D$=9007199254740991,C$=/^(?:0|[1-9]\d*)$/;function E$(e,t){var r=typeof e;return t=t??D$,!!t&&(r=="number"||r!="symbol"&&C$.test(e))&&e>-1&&e%1==0&&e<t}var _x=E$,A$=iu,T$=ou,_$=_x,P$=Ks;function R$(e,t,r){if(!P$(r))return!1;var n=typeof t;return(n=="number"?T$(r)&&_$(t,r.length):n=="string"&&t in r)?A$(r[t],e):!1}var Sm=R$,M$=/\s/;function O$(e){for(var t=e.length;t--&&M$.test(e.charAt(t)););return t}var I$=O$,$$=I$,L$=/^\s+/;function F$(e){return e&&e.slice(0,$$(e)+1).replace(L$,"")}var B$=F$;function W$(e){return e!=null&&typeof e=="object"}var Ha=W$,H$=Go,U$=Ha,V$="[object Symbol]";function z$(e){return typeof e=="symbol"||U$(e)&&H$(e)==V$}var lu=z$,Y$=B$,hw=Ks,q$=lu,pw=NaN,G$=/^[-+]0x[0-9a-f]+$/i,K$=/^0b[01]+$/i,Q$=/^0o[0-7]+$/i,X$=parseInt;function J$(e){if(typeof e=="number")return e;if(q$(e))return pw;if(hw(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=hw(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Y$(e);var r=K$.test(e);return r||Q$.test(e)?X$(e.slice(2),r?2:8):G$.test(e)?pw:+e}var Z$=J$,eL=Z$,gw=1/0,tL=17976931348623157e292;function rL(e){if(!e)return e===0?e:0;if(e=eL(e),e===gw||e===-gw){var t=e<0?-1:1;return t*tL}return e===e?e:0}var Fk=rL,nL=Fk;function sL(e){var t=nL(e),r=t%1;return t===t?r?t-r:t:0}var Bk=sL,aL=Ik,iL=Sm,oL=Bk,lL=Math.ceil,cL=Math.max;function uL(e,t,r){(r?iL(e,t,r):t===void 0)?t=1:t=cL(oL(t),0);var n=e==null?0:e.length;if(!n||t<1)return[];for(var s=0,i=0,o=Array(lL(n/t));s<n;)o[i++]=aL(e,s,s+=t);return o}var dL=uL;const fL=Ar(dL);function cu(e){return e&&e.ownerDocument||document}function mL(e){var t=cu(e);return t&&t.defaultView||window}function hL(e,t){return mL(e).getComputedStyle(e,t)}var pL=/([A-Z])/g;function gL(e){return e.replace(pL,"-$1").toLowerCase()}var yL=/^ms-/;function Ju(e){return gL(e).replace(yL,"-ms-")}var xL=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function vL(e){return!!(e&&xL.test(e))}function Fi(e,t){var r="",n="";if(typeof t=="string")return e.style.getPropertyValue(Ju(t))||hL(e).getPropertyValue(Ju(t));Object.keys(t).forEach(function(s){var i=t[s];!i&&i!==0?e.style.removeProperty(Ju(s)):vL(s)?n+=s+"("+i+") ":r+=Ju(s)+": "+i+";"}),n&&(r+="transform: "+n+";"),e.style.cssText+=";"+r}function Ec(e,t){if(e.contains)return e.contains(t);if(e.compareDocumentPosition)return e===t||!!(e.compareDocumentPosition(t)&16)}function bL(e){return"nodeType"in e&&e.nodeType===document.DOCUMENT_NODE}function Px(e){return"window"in e&&e.window===e?e:bL(e)&&e.defaultView||!1}function Wk(e){var t=e==="pageXOffset"?"scrollLeft":"scrollTop";function r(n,s){var i=Px(n);if(s===void 0)return i?i[e]:n[t];i?i.scrollTo(i[e],s):n[t]=s}return r}const Hk=Wk("pageXOffset"),Uk=Wk("pageYOffset");function mi(e){var t=cu(e),r={top:0,left:0,height:0,width:0},n=t&&t.documentElement;return!n||!Ec(n,e)||(e.getBoundingClientRect!==void 0&&(r=e.getBoundingClientRect()),r={top:r.top+Uk(n)-(n.clientTop||0),left:r.left+Hk(n)-(n.clientLeft||0),width:r.width,height:r.height}),r}var wL=function(t){return!!t&&"offsetParent"in t};function NL(e){for(var t=cu(e),r=e&&e.offsetParent;wL(r)&&r.nodeName!=="HTML"&&Fi(r,"position")==="static";)r=r.offsetParent;return r||t.documentElement}var jL=function(t){return t.nodeName&&t.nodeName.toLowerCase()};function Vk(e,t){var r={top:0,left:0},n;if(Fi(e,"position")==="fixed")n=e.getBoundingClientRect();else{var s=t||NL(e);n=mi(e),jL(s)!=="html"&&(r=mi(s));var i=String(Fi(s,"borderTopWidth")||0);r.top+=parseInt(i,10)-Uk(s)||0;var o=String(Fi(s,"borderLeftWidth")||0);r.left+=parseInt(o,10)-Hk(s)||0}var l=String(Fi(e,"marginTop")||0),c=String(Fi(e,"marginLeft")||0);return $t({},n,{top:n.top-r.top-(parseInt(l,10)||0),left:n.left-r.left-(parseInt(c,10)||0)})}const Rx=!!(typeof window<"u"&&window.document&&window.document.createElement);var yw=new Date().getTime();function SL(e){var t=new Date().getTime(),r=Math.max(0,16-(t-yw)),n=setTimeout(e,r);return yw=t,n}var kL=["","webkit","moz","o","ms"],Mg="clearTimeout",Og=SL,xw=function(t,r){return t+(t?r[0].toUpperCase()+r.substr(1):r)+"AnimationFrame"};Rx&&kL.some(function(e){var t=xw(e,"request");return t in window&&(Mg=xw(e,"cancel"),Og=function(n){return window[t](n)}),!!Og});var vw=function(t){typeof window[Mg]=="function"&&window[Mg](t)},zk=Og,Yh;function DL(e,t){if(!Yh){var r=document.body,n=r.matches||r.matchesSelector||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector;Yh=function(i,o){return n.call(i,o)}}return Yh(e,t)}var CL=Function.prototype.bind.call(Function.prototype.call,[].slice);function EL(e,t){return CL(e.querySelectorAll(t))}var Ig=!1,$g=!1;try{var qh={get passive(){return Ig=!0},get once(){return $g=Ig=!0}};Rx&&(window.addEventListener("test",qh,qh),window.removeEventListener("test",qh,!0))}catch{}function AL(e,t,r,n){if(n&&typeof n!="boolean"&&!$g){var s=n.once,i=n.capture,o=r;!$g&&s&&(o=r.__once||function l(c){this.removeEventListener(t,l,i),r.call(this,c)},r.__once=o),e.addEventListener(t,o,Ig?n:i)}e.addEventListener(t,r,n)}function TL(e){const t=w.useRef(e);return w.useEffect(()=>{t.current=e},[e]),t}function bw(e){const t=TL(e);return w.useCallback(function(...r){return t.current&&t.current(...r)},[t])}function ww(){return w.useState(null)}function _L(){const e=w.useRef(!0),t=w.useRef(()=>e.current);return w.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),t.current}function PL(e){const t=_L();return[e[0],w.useCallback(r=>{if(t())return e[1](r)},[t,e[1]])]}var Wr="top",pn="bottom",gn="right",Hr="left",Mx="auto",uu=[Wr,pn,gn,Hr],_o="start",Ac="end",RL="clippingParents",Yk="viewport",bl="popper",ML="reference",Nw=uu.reduce(function(e,t){return e.concat([t+"-"+_o,t+"-"+Ac])},[]),Ox=[].concat(uu,[Mx]).reduce(function(e,t){return e.concat([t,t+"-"+_o,t+"-"+Ac])},[]),OL="beforeRead",IL="read",$L="afterRead",LL="beforeMain",FL="main",BL="afterMain",WL="beforeWrite",HL="write",UL="afterWrite",VL=[OL,IL,$L,LL,FL,BL,WL,HL,UL];function cs(e){return e.split("-")[0]}function Qr(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Ci(e){var t=Qr(e).Element;return e instanceof t||e instanceof Element}function us(e){var t=Qr(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function Ix(e){if(typeof ShadowRoot>"u")return!1;var t=Qr(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}var hi=Math.max,Cf=Math.min,Po=Math.round;function Lg(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function qk(){return!/^((?!chrome|android).)*safari/i.test(Lg())}function Ro(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!1);var n=e.getBoundingClientRect(),s=1,i=1;t&&us(e)&&(s=e.offsetWidth>0&&Po(n.width)/e.offsetWidth||1,i=e.offsetHeight>0&&Po(n.height)/e.offsetHeight||1);var o=Ci(e)?Qr(e):window,l=o.visualViewport,c=!qk()&&r,u=(n.left+(c&&l?l.offsetLeft:0))/s,d=(n.top+(c&&l?l.offsetTop:0))/i,f=n.width/s,m=n.height/i;return{width:f,height:m,top:d,right:u+f,bottom:d+m,left:u,x:u,y:d}}function $x(e){var t=Ro(e),r=e.offsetWidth,n=e.offsetHeight;return Math.abs(t.width-r)<=1&&(r=t.width),Math.abs(t.height-n)<=1&&(n=t.height),{x:e.offsetLeft,y:e.offsetTop,width:r,height:n}}function Gk(e,t){var r=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(r&&Ix(r)){var n=t;do{if(n&&e.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function Oa(e){return e?(e.nodeName||"").toLowerCase():null}function Vs(e){return Qr(e).getComputedStyle(e)}function zL(e){return["table","td","th"].indexOf(Oa(e))>=0}function Ua(e){return((Ci(e)?e.ownerDocument:e.document)||window.document).documentElement}function km(e){return Oa(e)==="html"?e:e.assignedSlot||e.parentNode||(Ix(e)?e.host:null)||Ua(e)}function jw(e){return!us(e)||Vs(e).position==="fixed"?null:e.offsetParent}function YL(e){var t=/firefox/i.test(Lg()),r=/Trident/i.test(Lg());if(r&&us(e)){var n=Vs(e);if(n.position==="fixed")return null}var s=km(e);for(Ix(s)&&(s=s.host);us(s)&&["html","body"].indexOf(Oa(s))<0;){var i=Vs(s);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||t&&i.willChange==="filter"||t&&i.filter&&i.filter!=="none")return s;s=s.parentNode}return null}function du(e){for(var t=Qr(e),r=jw(e);r&&zL(r)&&Vs(r).position==="static";)r=jw(r);return r&&(Oa(r)==="html"||Oa(r)==="body"&&Vs(r).position==="static")?t:r||YL(e)||t}function Lx(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function zl(e,t,r){return hi(e,Cf(t,r))}function qL(e,t,r){var n=zl(e,t,r);return n>r?r:n}function Kk(){return{top:0,right:0,bottom:0,left:0}}function Qk(e){return Object.assign({},Kk(),e)}function Xk(e,t){return t.reduce(function(r,n){return r[n]=e,r},{})}var GL=function(t,r){return t=typeof t=="function"?t(Object.assign({},r.rects,{placement:r.placement})):t,Qk(typeof t!="number"?t:Xk(t,uu))};function KL(e){var t,r=e.state,n=e.name,s=e.options,i=r.elements.arrow,o=r.modifiersData.popperOffsets,l=cs(r.placement),c=Lx(l),u=[Hr,gn].indexOf(l)>=0,d=u?"height":"width";if(!(!i||!o)){var f=GL(s.padding,r),m=$x(i),v=c==="y"?Wr:Hr,p=c==="y"?pn:gn,h=r.rects.reference[d]+r.rects.reference[c]-o[c]-r.rects.popper[d],j=o[c]-r.rects.reference[c],x=du(i),b=x?c==="y"?x.clientHeight||0:x.clientWidth||0:0,N=h/2-j/2,g=f[v],A=b-m[d]-f[p],k=b/2-m[d]/2+N,_=zl(g,k,A),O=c;r.modifiersData[n]=(t={},t[O]=_,t.centerOffset=_-k,t)}}function QL(e){var t=e.state,r=e.options,n=r.element,s=n===void 0?"[data-popper-arrow]":n;s!=null&&(typeof s=="string"&&(s=t.elements.popper.querySelector(s),!s)||Gk(t.elements.popper,s)&&(t.elements.arrow=s))}const XL={name:"arrow",enabled:!0,phase:"main",fn:KL,effect:QL,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Mo(e){return e.split("-")[1]}var JL={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ZL(e,t){var r=e.x,n=e.y,s=t.devicePixelRatio||1;return{x:Po(r*s)/s||0,y:Po(n*s)/s||0}}function Sw(e){var t,r=e.popper,n=e.popperRect,s=e.placement,i=e.variation,o=e.offsets,l=e.position,c=e.gpuAcceleration,u=e.adaptive,d=e.roundOffsets,f=e.isFixed,m=o.x,v=m===void 0?0:m,p=o.y,h=p===void 0?0:p,j=typeof d=="function"?d({x:v,y:h}):{x:v,y:h};v=j.x,h=j.y;var x=o.hasOwnProperty("x"),b=o.hasOwnProperty("y"),N=Hr,g=Wr,A=window;if(u){var k=du(r),_="clientHeight",O="clientWidth";if(k===Qr(r)&&(k=Ua(r),Vs(k).position!=="static"&&l==="absolute"&&(_="scrollHeight",O="scrollWidth")),k=k,s===Wr||(s===Hr||s===gn)&&i===Ac){g=pn;var R=f&&k===A&&A.visualViewport?A.visualViewport.height:k[_];h-=R-n.height,h*=c?1:-1}if(s===Hr||(s===Wr||s===pn)&&i===Ac){N=gn;var I=f&&k===A&&A.visualViewport?A.visualViewport.width:k[O];v-=I-n.width,v*=c?1:-1}}var V=Object.assign({position:l},u&&JL),Z=d===!0?ZL({x:v,y:h},Qr(r)):{x:v,y:h};if(v=Z.x,h=Z.y,c){var Q;return Object.assign({},V,(Q={},Q[g]=b?"0":"",Q[N]=x?"0":"",Q.transform=(A.devicePixelRatio||1)<=1?"translate("+v+"px, "+h+"px)":"translate3d("+v+"px, "+h+"px, 0)",Q))}return Object.assign({},V,(t={},t[g]=b?h+"px":"",t[N]=x?v+"px":"",t.transform="",t))}function eF(e){var t=e.state,r=e.options,n=r.gpuAcceleration,s=n===void 0?!0:n,i=r.adaptive,o=i===void 0?!0:i,l=r.roundOffsets,c=l===void 0?!0:l,u={placement:cs(t.placement),variation:Mo(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:s,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,Sw(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:c})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,Sw(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const tF={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:eF,data:{}};var Zu={passive:!0};function rF(e){var t=e.state,r=e.instance,n=e.options,s=n.scroll,i=s===void 0?!0:s,o=n.resize,l=o===void 0?!0:o,c=Qr(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&u.forEach(function(d){d.addEventListener("scroll",r.update,Zu)}),l&&c.addEventListener("resize",r.update,Zu),function(){i&&u.forEach(function(d){d.removeEventListener("scroll",r.update,Zu)}),l&&c.removeEventListener("resize",r.update,Zu)}}const nF={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:rF,data:{}};var sF={left:"right",right:"left",bottom:"top",top:"bottom"};function Md(e){return e.replace(/left|right|bottom|top/g,function(t){return sF[t]})}var aF={start:"end",end:"start"};function kw(e){return e.replace(/start|end/g,function(t){return aF[t]})}function Fx(e){var t=Qr(e),r=t.pageXOffset,n=t.pageYOffset;return{scrollLeft:r,scrollTop:n}}function Bx(e){return Ro(Ua(e)).left+Fx(e).scrollLeft}function iF(e,t){var r=Qr(e),n=Ua(e),s=r.visualViewport,i=n.clientWidth,o=n.clientHeight,l=0,c=0;if(s){i=s.width,o=s.height;var u=qk();(u||!u&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:i,height:o,x:l+Bx(e),y:c}}function oF(e){var t,r=Ua(e),n=Fx(e),s=(t=e.ownerDocument)==null?void 0:t.body,i=hi(r.scrollWidth,r.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),o=hi(r.scrollHeight,r.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),l=-n.scrollLeft+Bx(e),c=-n.scrollTop;return Vs(s||r).direction==="rtl"&&(l+=hi(r.clientWidth,s?s.clientWidth:0)-i),{width:i,height:o,x:l,y:c}}function Wx(e){var t=Vs(e),r=t.overflow,n=t.overflowX,s=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+s+n)}function Jk(e){return["html","body","#document"].indexOf(Oa(e))>=0?e.ownerDocument.body:us(e)&&Wx(e)?e:Jk(km(e))}function Yl(e,t){var r;t===void 0&&(t=[]);var n=Jk(e),s=n===((r=e.ownerDocument)==null?void 0:r.body),i=Qr(n),o=s?[i].concat(i.visualViewport||[],Wx(n)?n:[]):n,l=t.concat(o);return s?l:l.concat(Yl(km(o)))}function Fg(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function lF(e,t){var r=Ro(e,!1,t==="fixed");return r.top=r.top+e.clientTop,r.left=r.left+e.clientLeft,r.bottom=r.top+e.clientHeight,r.right=r.left+e.clientWidth,r.width=e.clientWidth,r.height=e.clientHeight,r.x=r.left,r.y=r.top,r}function Dw(e,t,r){return t===Yk?Fg(iF(e,r)):Ci(t)?lF(t,r):Fg(oF(Ua(e)))}function cF(e){var t=Yl(km(e)),r=["absolute","fixed"].indexOf(Vs(e).position)>=0,n=r&&us(e)?du(e):e;return Ci(n)?t.filter(function(s){return Ci(s)&&Gk(s,n)&&Oa(s)!=="body"}):[]}function uF(e,t,r,n){var s=t==="clippingParents"?cF(e):[].concat(t),i=[].concat(s,[r]),o=i[0],l=i.reduce(function(c,u){var d=Dw(e,u,n);return c.top=hi(d.top,c.top),c.right=Cf(d.right,c.right),c.bottom=Cf(d.bottom,c.bottom),c.left=hi(d.left,c.left),c},Dw(e,o,n));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function Zk(e){var t=e.reference,r=e.element,n=e.placement,s=n?cs(n):null,i=n?Mo(n):null,o=t.x+t.width/2-r.width/2,l=t.y+t.height/2-r.height/2,c;switch(s){case Wr:c={x:o,y:t.y-r.height};break;case pn:c={x:o,y:t.y+t.height};break;case gn:c={x:t.x+t.width,y:l};break;case Hr:c={x:t.x-r.width,y:l};break;default:c={x:t.x,y:t.y}}var u=s?Lx(s):null;if(u!=null){var d=u==="y"?"height":"width";switch(i){case _o:c[u]=c[u]-(t[d]/2-r[d]/2);break;case Ac:c[u]=c[u]+(t[d]/2-r[d]/2);break}}return c}function Tc(e,t){t===void 0&&(t={});var r=t,n=r.placement,s=n===void 0?e.placement:n,i=r.strategy,o=i===void 0?e.strategy:i,l=r.boundary,c=l===void 0?RL:l,u=r.rootBoundary,d=u===void 0?Yk:u,f=r.elementContext,m=f===void 0?bl:f,v=r.altBoundary,p=v===void 0?!1:v,h=r.padding,j=h===void 0?0:h,x=Qk(typeof j!="number"?j:Xk(j,uu)),b=m===bl?ML:bl,N=e.rects.popper,g=e.elements[p?b:m],A=uF(Ci(g)?g:g.contextElement||Ua(e.elements.popper),c,d,o),k=Ro(e.elements.reference),_=Zk({reference:k,element:N,placement:s}),O=Fg(Object.assign({},N,_)),R=m===bl?O:k,I={top:A.top-R.top+x.top,bottom:R.bottom-A.bottom+x.bottom,left:A.left-R.left+x.left,right:R.right-A.right+x.right},V=e.modifiersData.offset;if(m===bl&&V){var Z=V[s];Object.keys(I).forEach(function(Q){var G=[gn,pn].indexOf(Q)>=0?1:-1,xe=[Wr,pn].indexOf(Q)>=0?"y":"x";I[Q]+=Z[xe]*G})}return I}function dF(e,t){t===void 0&&(t={});var r=t,n=r.placement,s=r.boundary,i=r.rootBoundary,o=r.padding,l=r.flipVariations,c=r.allowedAutoPlacements,u=c===void 0?Ox:c,d=Mo(n),f=d?l?Nw:Nw.filter(function(p){return Mo(p)===d}):uu,m=f.filter(function(p){return u.indexOf(p)>=0});m.length===0&&(m=f);var v=m.reduce(function(p,h){return p[h]=Tc(e,{placement:h,boundary:s,rootBoundary:i,padding:o})[cs(h)],p},{});return Object.keys(v).sort(function(p,h){return v[p]-v[h]})}function fF(e){if(cs(e)===Mx)return[];var t=Md(e);return[kw(e),t,kw(t)]}function mF(e){var t=e.state,r=e.options,n=e.name;if(!t.modifiersData[n]._skip){for(var s=r.mainAxis,i=s===void 0?!0:s,o=r.altAxis,l=o===void 0?!0:o,c=r.fallbackPlacements,u=r.padding,d=r.boundary,f=r.rootBoundary,m=r.altBoundary,v=r.flipVariations,p=v===void 0?!0:v,h=r.allowedAutoPlacements,j=t.options.placement,x=cs(j),b=x===j,N=c||(b||!p?[Md(j)]:fF(j)),g=[j].concat(N).reduce(function(ye,ve){return ye.concat(cs(ve)===Mx?dF(t,{placement:ve,boundary:d,rootBoundary:f,padding:u,flipVariations:p,allowedAutoPlacements:h}):ve)},[]),A=t.rects.reference,k=t.rects.popper,_=new Map,O=!0,R=g[0],I=0;I<g.length;I++){var V=g[I],Z=cs(V),Q=Mo(V)===_o,G=[Wr,pn].indexOf(Z)>=0,xe=G?"width":"height",re=Tc(t,{placement:V,boundary:d,rootBoundary:f,altBoundary:m,padding:u}),pe=G?Q?gn:Hr:Q?pn:Wr;A[xe]>k[xe]&&(pe=Md(pe));var ce=Md(pe),q=[];if(i&&q.push(re[Z]<=0),l&&q.push(re[pe]<=0,re[ce]<=0),q.every(function(ye){return ye})){R=V,O=!1;break}_.set(V,q)}if(O)for(var oe=p?3:1,J=function(ve){var te=g.find(function(ue){var Ne=_.get(ue);if(Ne)return Ne.slice(0,ve).every(function(F){return F})});if(te)return R=te,"break"},H=oe;H>0;H--){var ae=J(H);if(ae==="break")break}t.placement!==R&&(t.modifiersData[n]._skip=!0,t.placement=R,t.reset=!0)}}const hF={name:"flip",enabled:!0,phase:"main",fn:mF,requiresIfExists:["offset"],data:{_skip:!1}};function Cw(e,t,r){return r===void 0&&(r={x:0,y:0}),{top:e.top-t.height-r.y,right:e.right-t.width+r.x,bottom:e.bottom-t.height+r.y,left:e.left-t.width-r.x}}function Ew(e){return[Wr,gn,pn,Hr].some(function(t){return e[t]>=0})}function pF(e){var t=e.state,r=e.name,n=t.rects.reference,s=t.rects.popper,i=t.modifiersData.preventOverflow,o=Tc(t,{elementContext:"reference"}),l=Tc(t,{altBoundary:!0}),c=Cw(o,n),u=Cw(l,s,i),d=Ew(c),f=Ew(u);t.modifiersData[r]={referenceClippingOffsets:c,popperEscapeOffsets:u,isReferenceHidden:d,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":f})}const gF={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:pF};function yF(e,t,r){var n=cs(e),s=[Hr,Wr].indexOf(n)>=0?-1:1,i=typeof r=="function"?r(Object.assign({},t,{placement:e})):r,o=i[0],l=i[1];return o=o||0,l=(l||0)*s,[Hr,gn].indexOf(n)>=0?{x:l,y:o}:{x:o,y:l}}function xF(e){var t=e.state,r=e.options,n=e.name,s=r.offset,i=s===void 0?[0,0]:s,o=Ox.reduce(function(d,f){return d[f]=yF(f,t.rects,i),d},{}),l=o[t.placement],c=l.x,u=l.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=c,t.modifiersData.popperOffsets.y+=u),t.modifiersData[n]=o}const vF={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:xF};function bF(e){var t=e.state,r=e.name;t.modifiersData[r]=Zk({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})}const wF={name:"popperOffsets",enabled:!0,phase:"read",fn:bF,data:{}};function NF(e){return e==="x"?"y":"x"}function jF(e){var t=e.state,r=e.options,n=e.name,s=r.mainAxis,i=s===void 0?!0:s,o=r.altAxis,l=o===void 0?!1:o,c=r.boundary,u=r.rootBoundary,d=r.altBoundary,f=r.padding,m=r.tether,v=m===void 0?!0:m,p=r.tetherOffset,h=p===void 0?0:p,j=Tc(t,{boundary:c,rootBoundary:u,padding:f,altBoundary:d}),x=cs(t.placement),b=Mo(t.placement),N=!b,g=Lx(x),A=NF(g),k=t.modifiersData.popperOffsets,_=t.rects.reference,O=t.rects.popper,R=typeof h=="function"?h(Object.assign({},t.rects,{placement:t.placement})):h,I=typeof R=="number"?{mainAxis:R,altAxis:R}:Object.assign({mainAxis:0,altAxis:0},R),V=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,Z={x:0,y:0};if(k){if(i){var Q,G=g==="y"?Wr:Hr,xe=g==="y"?pn:gn,re=g==="y"?"height":"width",pe=k[g],ce=pe+j[G],q=pe-j[xe],oe=v?-O[re]/2:0,J=b===_o?_[re]:O[re],H=b===_o?-O[re]:-_[re],ae=t.elements.arrow,ye=v&&ae?$x(ae):{width:0,height:0},ve=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:Kk(),te=ve[G],ue=ve[xe],Ne=zl(0,_[re],ye[re]),F=N?_[re]/2-oe-Ne-te-I.mainAxis:J-Ne-te-I.mainAxis,ie=N?-_[re]/2+oe+Ne+ue+I.mainAxis:H+Ne+ue+I.mainAxis,T=t.elements.arrow&&du(t.elements.arrow),W=T?g==="y"?T.clientTop||0:T.clientLeft||0:0,Y=(Q=V==null?void 0:V[g])!=null?Q:0,ee=pe+F-Y-W,Te=pe+ie-Y,we=zl(v?Cf(ce,ee):ce,pe,v?hi(q,Te):q);k[g]=we,Z[g]=we-pe}if(l){var M,y=g==="x"?Wr:Hr,C=g==="x"?pn:gn,S=k[A],D=A==="y"?"height":"width",P=S+j[y],K=S-j[C],ne=[Wr,Hr].indexOf(x)!==-1,E=(M=V==null?void 0:V[A])!=null?M:0,X=ne?P:S-_[D]-O[D]-E+I.altAxis,B=ne?S+_[D]+O[D]-E-I.altAxis:K,le=v&&ne?qL(X,S,B):zl(v?X:P,S,v?B:K);k[A]=le,Z[A]=le-S}t.modifiersData[n]=Z}}const SF={name:"preventOverflow",enabled:!0,phase:"main",fn:jF,requiresIfExists:["offset"]};function kF(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function DF(e){return e===Qr(e)||!us(e)?Fx(e):kF(e)}function CF(e){var t=e.getBoundingClientRect(),r=Po(t.width)/e.offsetWidth||1,n=Po(t.height)/e.offsetHeight||1;return r!==1||n!==1}function EF(e,t,r){r===void 0&&(r=!1);var n=us(t),s=us(t)&&CF(t),i=Ua(t),o=Ro(e,s,r),l={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(n||!n&&!r)&&((Oa(t)!=="body"||Wx(i))&&(l=DF(t)),us(t)?(c=Ro(t,!0),c.x+=t.clientLeft,c.y+=t.clientTop):i&&(c.x=Bx(i))),{x:o.left+l.scrollLeft-c.x,y:o.top+l.scrollTop-c.y,width:o.width,height:o.height}}function AF(e){var t=new Map,r=new Set,n=[];e.forEach(function(i){t.set(i.name,i)});function s(i){r.add(i.name);var o=[].concat(i.requires||[],i.requiresIfExists||[]);o.forEach(function(l){if(!r.has(l)){var c=t.get(l);c&&s(c)}}),n.push(i)}return e.forEach(function(i){r.has(i.name)||s(i)}),n}function TF(e){var t=AF(e);return VL.reduce(function(r,n){return r.concat(t.filter(function(s){return s.phase===n}))},[])}function _F(e){var t;return function(){return t||(t=new Promise(function(r){Promise.resolve().then(function(){t=void 0,r(e())})})),t}}function PF(e){var t=e.reduce(function(r,n){var s=r[n.name];return r[n.name]=s?Object.assign({},s,n,{options:Object.assign({},s.options,n.options),data:Object.assign({},s.data,n.data)}):n,r},{});return Object.keys(t).map(function(r){return t[r]})}var Aw={placement:"bottom",modifiers:[],strategy:"absolute"};function Tw(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return!t.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function RF(e){e===void 0&&(e={});var t=e,r=t.defaultModifiers,n=r===void 0?[]:r,s=t.defaultOptions,i=s===void 0?Aw:s;return function(l,c,u){u===void 0&&(u=i);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},Aw,i),modifiersData:{},elements:{reference:l,popper:c},attributes:{},styles:{}},f=[],m=!1,v={state:d,setOptions:function(x){var b=typeof x=="function"?x(d.options):x;h(),d.options=Object.assign({},i,d.options,b),d.scrollParents={reference:Ci(l)?Yl(l):l.contextElement?Yl(l.contextElement):[],popper:Yl(c)};var N=TF(PF([].concat(n,d.options.modifiers)));return d.orderedModifiers=N.filter(function(g){return g.enabled}),p(),v.update()},forceUpdate:function(){if(!m){var x=d.elements,b=x.reference,N=x.popper;if(Tw(b,N)){d.rects={reference:EF(b,du(N),d.options.strategy==="fixed"),popper:$x(N)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(I){return d.modifiersData[I.name]=Object.assign({},I.data)});for(var g=0;g<d.orderedModifiers.length;g++){if(d.reset===!0){d.reset=!1,g=-1;continue}var A=d.orderedModifiers[g],k=A.fn,_=A.options,O=_===void 0?{}:_,R=A.name;typeof k=="function"&&(d=k({state:d,options:O,name:R,instance:v})||d)}}}},update:_F(function(){return new Promise(function(j){v.forceUpdate(),j(d)})}),destroy:function(){h(),m=!0}};if(!Tw(l,c))return v;v.setOptions(u).then(function(j){!m&&u.onFirstUpdate&&u.onFirstUpdate(j)});function p(){d.orderedModifiers.forEach(function(j){var x=j.name,b=j.options,N=b===void 0?{}:b,g=j.effect;if(typeof g=="function"){var A=g({state:d,name:x,instance:v,options:N}),k=function(){};f.push(A||k)}})}function h(){f.forEach(function(j){return j()}),f=[]}return v}}var MF=RF({defaultModifiers:[gF,wF,tF,nF,vF,hF,SF,XL]}),_w=function(t){return{position:t,top:"0",left:"0",opacity:"0",pointerEvents:"none"}},OF={name:"applyStyles",enabled:!1},IF={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(t){var r=t.state;return function(){var n=r.elements,s=n.reference,i=n.popper;if("removeAttribute"in s){var o=(s.getAttribute("aria-describedby")||"").split(",").filter(function(l){return l.trim()!==i.id});o.length?s.setAttribute("aria-describedby",o.join(",")):s.removeAttribute("aria-describedby")}}},fn:function(t){var r,n=t.state,s=n.elements,i=s.popper,o=s.reference,l=(r=i.getAttribute("role"))==null?void 0:r.toLowerCase();if(i.id&&l==="tooltip"&&"setAttribute"in o){var c=o.getAttribute("aria-describedby");if(c&&c.split(",").indexOf(i.id)!==-1)return;o.setAttribute("aria-describedby",c?c+","+i.id:i.id)}}},$F=[];function LF(e,t,r){var n=r===void 0?{}:r,s=n.enabled,i=s===void 0?!0:s,o=n.placement,l=o===void 0?"bottom":o,c=n.strategy,u=c===void 0?"absolute":c,d=n.modifiers,f=d===void 0?$F:d,m=Nm(n,["enabled","placement","strategy","modifiers"]),v=w.useRef(),p=w.useCallback(function(){var g;(g=v.current)==null||g.update()},[]),h=w.useCallback(function(){var g;(g=v.current)==null||g.forceUpdate()},[]),j=PL(w.useState({placement:l,update:p,forceUpdate:h,attributes:{},styles:{popper:_w(u),arrow:{}}})),x=j[0],b=j[1],N=w.useMemo(function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(A){var k=A.state,_={},O={};Object.keys(k.elements).forEach(function(R){_[R]=k.styles[R],O[R]=k.attributes[R]}),b({state:k,styles:_,attributes:O,update:p,forceUpdate:h,placement:k.placement})}}},[p,h,b]);return w.useEffect(function(){!v.current||!i||v.current.setOptions({placement:l,strategy:u,modifiers:[].concat(f,[N,OF])})},[u,l,N,i]),w.useEffect(function(){if(!(!i||e==null||t==null))return v.current=MF(e,t,$t({},m,{placement:l,strategy:u,modifiers:[].concat(f,[IF,N])})),function(){v.current!=null&&(v.current.destroy(),v.current=void 0,b(function(g){return $t({},g,{attributes:{},styles:{popper:_w(u)}})}))}},[i,e,t]),x}function FF(e,t,r,n){var s=n&&typeof n!="boolean"?n.capture:n;e.removeEventListener(t,r,s),r.__once&&e.removeEventListener(t,r.__once,s)}function _l(e,t,r,n){return AL(e,t,r,n),function(){FF(e,t,r,n)}}var BF=function(){},WF=BF;const HF=Ar(WF);function UF(e){return e&&"setState"in e?E2.findDOMNode(e):e??null}const VF=function(e){return cu(UF(e))};var zF=27,Pw=function(){};function YF(e){return e.button===0}function qF(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}var Rw=function(t){return t&&("current"in t?t.current:t)};function GF(e,t,r){var n=r===void 0?{}:r,s=n.disabled,i=n.clickTrigger,o=i===void 0?"click":i,l=w.useRef(!1),c=t||Pw,u=w.useCallback(function(m){var v,p=Rw(e);HF(!!p,"RootClose captured a close event but does not have a ref to compare it to. useRootClose(), should be passed a ref that resolves to a DOM node"),l.current=!p||qF(m)||!YF(m)||!!Ec(p,(v=m.composedPath==null?void 0:m.composedPath()[0])!=null?v:m.target)},[e]),d=bw(function(m){l.current||c(m)}),f=bw(function(m){m.keyCode===zF&&c(m)});w.useEffect(function(){if(!(s||e==null)){var m=window.event,v=VF(Rw(e)),p=_l(v,o,u,!0),h=_l(v,o,function(b){if(b===m){m=void 0;return}d(b)}),j=_l(v,"keyup",function(b){if(b===m){m=void 0;return}f(b)}),x=[];return"ontouchstart"in v.documentElement&&(x=[].slice.call(v.body.children).map(function(b){return _l(b,"mousemove",Pw)})),function(){p(),h(),j(),x.forEach(function(b){return b()})}}},[e,s,o,u,d,f])}function KF(e){var t={};return Array.isArray(e)?(e==null||e.forEach(function(r){t[r.name]=r}),t):e||t}function QF(e){return e===void 0&&(e={}),Array.isArray(e)?e:Object.keys(e).map(function(t){return e[t].name=t,e[t]})}function XF(e){var t,r,n,s,i=e.enabled,o=e.enableEvents,l=e.placement,c=e.flip,u=e.offset,d=e.fixed,f=e.containerPadding,m=e.arrowElement,v=e.popperConfig,p=v===void 0?{}:v,h=KF(p.modifiers);return $t({},p,{placement:l,enabled:i,strategy:d?"fixed":p.strategy,modifiers:QF($t({},h,{eventListeners:{enabled:o},preventOverflow:$t({},h.preventOverflow,{options:f?$t({padding:f},(t=h.preventOverflow)==null?void 0:t.options):(r=h.preventOverflow)==null?void 0:r.options}),offset:{options:$t({offset:u},(n=h.offset)==null?void 0:n.options)},arrow:$t({},h.arrow,{enabled:!!m,options:$t({},(s=h.arrow)==null?void 0:s.options,{element:m})}),flip:$t({enabled:!!c},h.flip)}))})}function JF(e,t){return e.classList?e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function ZF(e,t){e.classList?e.classList.add(t):JF(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function Mw(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function e6(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=Mw(e.className,t):e.setAttribute("class",Mw(e.className&&e.className.baseVal||"",t))}var ed;function Hx(e){if((!ed&&ed!==0||e)&&Rx){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),ed=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return ed}var Gh=function(t){var r;return typeof document>"u"?null:t==null?cu().body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),(r=t)!=null&&r.nodeType&&t||null)};function Ow(e,t){var r=w.useState(function(){return Gh(e)}),n=r[0],s=r[1];if(!n){var i=Gh(e);i&&s(i)}return w.useEffect(function(){},[t,n]),w.useEffect(function(){var o=Gh(e);o!==n&&s(o)},[e,n]),n}const Iw=e=>!e||typeof e=="function"?e:t=>{e.current=t};function t6(e,t){const r=Iw(e),n=Iw(t);return s=>{r&&r(s),n&&n(s)}}function r6(e,t){return w.useMemo(()=>t6(e,t),[e,t])}var Ux=U.forwardRef(function(e,t){var r=e.flip,n=e.offset,s=e.placement,i=e.containerPadding,o=i===void 0?5:i,l=e.popperConfig,c=l===void 0?{}:l,u=e.transition,d=ww(),f=d[0],m=d[1],v=ww(),p=v[0],h=v[1],j=r6(m,t),x=Ow(e.container),b=Ow(e.target),N=w.useState(!e.show),g=N[0],A=N[1],k=LF(b,f,XF({placement:s,enableEvents:!!e.show,containerPadding:o||5,flip:r,offset:n,arrowElement:p,popperConfig:c})),_=k.styles,O=k.attributes,R=Nm(k,["styles","attributes"]);e.show?g&&A(!1):!e.transition&&!g&&A(!0);var I=function(){A(!0),e.onExited&&e.onExited.apply(e,arguments)},V=e.show||u&&!g;if(GF(f,e.onHide,{disabled:!e.rootClose||e.rootCloseDisabled,clickTrigger:e.rootCloseEvent}),!V)return null;var Z=e.children($t({},R,{show:!!e.show,props:$t({},O.popper,{style:_.popper,ref:j}),arrowProps:$t({},O.arrow,{style:_.arrow,ref:h})}));if(u){var Q=e.onExit,G=e.onExiting,xe=e.onEnter,re=e.onEntering,pe=e.onEntered;Z=U.createElement(u,{in:e.show,appear:!0,onExit:Q,onExiting:G,onExited:I,onEnter:xe,onEntering:re,onEntered:pe},Z)}return x?E2.createPortal(Z,x):null});Ux.displayName="Overlay";Ux.propTypes={show:Ae.bool,placement:Ae.oneOf(Ox),target:Ae.any,container:Ae.any,flip:Ae.bool,children:Ae.func.isRequired,containerPadding:Ae.number,popperConfig:Ae.object,rootClose:Ae.bool,rootCloseEvent:Ae.oneOf(["click","mousedown"]),rootCloseDisabled:Ae.bool,onHide:function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),s=1;s<r;s++)n[s-1]=arguments[s];if(t.rootClose){var i;return(i=Ae.func).isRequired.apply(i,[t].concat(n))}return Ae.func.apply(Ae,[t].concat(n))},transition:Ae.elementType,onEnter:Ae.func,onEntering:Ae.func,onEntered:Ae.func,onExit:Ae.func,onExiting:Ae.func,onExited:Ae.func};function n6(){this.__data__=[],this.size=0}var s6=n6,a6=iu;function i6(e,t){for(var r=e.length;r--;)if(a6(e[r][0],t))return r;return-1}var Dm=i6,o6=Dm,l6=Array.prototype,c6=l6.splice;function u6(e){var t=this.__data__,r=o6(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():c6.call(t,r,1),--this.size,!0}var d6=u6,f6=Dm;function m6(e){var t=this.__data__,r=f6(t,e);return r<0?void 0:t[r][1]}var h6=m6,p6=Dm;function g6(e){return p6(this.__data__,e)>-1}var y6=g6,x6=Dm;function v6(e,t){var r=this.__data__,n=x6(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var b6=v6,w6=s6,N6=d6,j6=h6,S6=y6,k6=b6;function Ko(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Ko.prototype.clear=w6;Ko.prototype.delete=N6;Ko.prototype.get=j6;Ko.prototype.has=S6;Ko.prototype.set=k6;var Cm=Ko,D6=Cm;function C6(){this.__data__=new D6,this.size=0}var E6=C6;function A6(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var T6=A6;function _6(e){return this.__data__.get(e)}var P6=_6;function R6(e){return this.__data__.has(e)}var M6=R6,O6=ps,I6=O6["__core-js_shared__"],$6=I6,Kh=$6,$w=function(){var e=/[^.]+$/.exec(Kh&&Kh.keys&&Kh.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function L6(e){return!!$w&&$w in e}var F6=L6,B6=Function.prototype,W6=B6.toString;function H6(e){if(e!=null){try{return W6.call(e)}catch{}try{return e+""}catch{}}return""}var eD=H6,U6=Ax,V6=F6,z6=Ks,Y6=eD,q6=/[\\^$.*+?()[\]{}|]/g,G6=/^\[object .+?Constructor\]$/,K6=Function.prototype,Q6=Object.prototype,X6=K6.toString,J6=Q6.hasOwnProperty,Z6=RegExp("^"+X6.call(J6).replace(q6,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function eB(e){if(!z6(e)||V6(e))return!1;var t=U6(e)?Z6:G6;return t.test(Y6(e))}var tB=eB;function rB(e,t){return e==null?void 0:e[t]}var nB=rB,sB=tB,aB=nB;function iB(e,t){var r=aB(e,t);return sB(r)?r:void 0}var _i=iB,oB=_i,lB=ps,cB=oB(lB,"Map"),Vx=cB,uB=_i,dB=uB(Object,"create"),Em=dB,Lw=Em;function fB(){this.__data__=Lw?Lw(null):{},this.size=0}var mB=fB;function hB(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var pB=hB,gB=Em,yB="__lodash_hash_undefined__",xB=Object.prototype,vB=xB.hasOwnProperty;function bB(e){var t=this.__data__;if(gB){var r=t[e];return r===yB?void 0:r}return vB.call(t,e)?t[e]:void 0}var wB=bB,NB=Em,jB=Object.prototype,SB=jB.hasOwnProperty;function kB(e){var t=this.__data__;return NB?t[e]!==void 0:SB.call(t,e)}var DB=kB,CB=Em,EB="__lodash_hash_undefined__";function AB(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=CB&&t===void 0?EB:t,this}var TB=AB,_B=mB,PB=pB,RB=wB,MB=DB,OB=TB;function Qo(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Qo.prototype.clear=_B;Qo.prototype.delete=PB;Qo.prototype.get=RB;Qo.prototype.has=MB;Qo.prototype.set=OB;var IB=Qo,Fw=IB,$B=Cm,LB=Vx;function FB(){this.size=0,this.__data__={hash:new Fw,map:new(LB||$B),string:new Fw}}var BB=FB;function WB(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var HB=WB,UB=HB;function VB(e,t){var r=e.__data__;return UB(t)?r[typeof t=="string"?"string":"hash"]:r.map}var Am=VB,zB=Am;function YB(e){var t=zB(this,e).delete(e);return this.size-=t?1:0,t}var qB=YB,GB=Am;function KB(e){return GB(this,e).get(e)}var QB=KB,XB=Am;function JB(e){return XB(this,e).has(e)}var ZB=JB,e7=Am;function t7(e,t){var r=e7(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var r7=t7,n7=BB,s7=qB,a7=QB,i7=ZB,o7=r7;function Xo(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Xo.prototype.clear=n7;Xo.prototype.delete=s7;Xo.prototype.get=a7;Xo.prototype.has=i7;Xo.prototype.set=o7;var zx=Xo,l7=Cm,c7=Vx,u7=zx,d7=200;function f7(e,t){var r=this.__data__;if(r instanceof l7){var n=r.__data__;if(!c7||n.length<d7-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new u7(n)}return r.set(e,t),this.size=r.size,this}var m7=f7,h7=Cm,p7=E6,g7=T6,y7=P6,x7=M6,v7=m7;function Jo(e){var t=this.__data__=new h7(e);this.size=t.size}Jo.prototype.clear=p7;Jo.prototype.delete=g7;Jo.prototype.get=y7;Jo.prototype.has=x7;Jo.prototype.set=v7;var Yx=Jo,b7="__lodash_hash_undefined__";function w7(e){return this.__data__.set(e,b7),this}var N7=w7;function j7(e){return this.__data__.has(e)}var S7=j7,k7=zx,D7=N7,C7=S7;function Ef(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new k7;++t<r;)this.add(e[t])}Ef.prototype.add=Ef.prototype.push=D7;Ef.prototype.has=C7;var E7=Ef;function A7(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var T7=A7;function _7(e,t){return e.has(t)}var P7=_7,R7=E7,M7=T7,O7=P7,I7=1,$7=2;function L7(e,t,r,n,s,i){var o=r&I7,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=i.get(e),d=i.get(t);if(u&&d)return u==t&&d==e;var f=-1,m=!0,v=r&$7?new R7:void 0;for(i.set(e,t),i.set(t,e);++f<l;){var p=e[f],h=t[f];if(n)var j=o?n(h,p,f,t,e,i):n(p,h,f,e,t,i);if(j!==void 0){if(j)continue;m=!1;break}if(v){if(!M7(t,function(x,b){if(!O7(v,b)&&(p===x||s(p,x,r,n,i)))return v.push(b)})){m=!1;break}}else if(!(p===h||s(p,h,r,n,i))){m=!1;break}}return i.delete(e),i.delete(t),m}var tD=L7,F7=ps,B7=F7.Uint8Array,rD=B7;function W7(e){var t=-1,r=Array(e.size);return e.forEach(function(n,s){r[++t]=[s,n]}),r}var H7=W7;function U7(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var V7=U7,Bw=qo,Ww=rD,z7=iu,Y7=tD,q7=H7,G7=V7,K7=1,Q7=2,X7="[object Boolean]",J7="[object Date]",Z7="[object Error]",eW="[object Map]",tW="[object Number]",rW="[object RegExp]",nW="[object Set]",sW="[object String]",aW="[object Symbol]",iW="[object ArrayBuffer]",oW="[object DataView]",Hw=Bw?Bw.prototype:void 0,Qh=Hw?Hw.valueOf:void 0;function lW(e,t,r,n,s,i,o){switch(r){case oW:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case iW:return!(e.byteLength!=t.byteLength||!i(new Ww(e),new Ww(t)));case X7:case J7:case tW:return z7(+e,+t);case Z7:return e.name==t.name&&e.message==t.message;case rW:case sW:return e==t+"";case eW:var l=q7;case nW:var c=n&K7;if(l||(l=G7),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;n|=Q7,o.set(e,t);var d=Y7(l(e),l(t),n,s,i,o);return o.delete(e),d;case aW:if(Qh)return Qh.call(e)==Qh.call(t)}return!1}var cW=lW;function uW(e,t){for(var r=-1,n=t.length,s=e.length;++r<n;)e[s+r]=t[r];return e}var qx=uW,dW=Array.isArray,yn=dW,fW=qx,mW=yn;function hW(e,t,r){var n=t(e);return mW(e)?n:fW(n,r(e))}var nD=hW;function pW(e,t){for(var r=-1,n=e==null?0:e.length,s=0,i=[];++r<n;){var o=e[r];t(o,r,e)&&(i[s++]=o)}return i}var gW=pW;function yW(){return[]}var sD=yW,xW=gW,vW=sD,bW=Object.prototype,wW=bW.propertyIsEnumerable,Uw=Object.getOwnPropertySymbols,NW=Uw?function(e){return e==null?[]:(e=Object(e),xW(Uw(e),function(t){return wW.call(e,t)}))}:vW,Gx=NW;function jW(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var SW=jW,kW=Go,DW=Ha,CW="[object Arguments]";function EW(e){return DW(e)&&kW(e)==CW}var AW=EW,Vw=AW,TW=Ha,aD=Object.prototype,_W=aD.hasOwnProperty,PW=aD.propertyIsEnumerable,RW=Vw(function(){return arguments}())?Vw:function(e){return TW(e)&&_W.call(e,"callee")&&!PW.call(e,"callee")},Kx=RW,Af={exports:{}};function MW(){return!1}var OW=MW;Af.exports;(function(e,t){var r=ps,n=OW,s=t&&!t.nodeType&&t,i=s&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===s,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(Af,Af.exports);var Tm=Af.exports,IW=Go,$W=Tx,LW=Ha,FW="[object Arguments]",BW="[object Array]",WW="[object Boolean]",HW="[object Date]",UW="[object Error]",VW="[object Function]",zW="[object Map]",YW="[object Number]",qW="[object Object]",GW="[object RegExp]",KW="[object Set]",QW="[object String]",XW="[object WeakMap]",JW="[object ArrayBuffer]",ZW="[object DataView]",e9="[object Float32Array]",t9="[object Float64Array]",r9="[object Int8Array]",n9="[object Int16Array]",s9="[object Int32Array]",a9="[object Uint8Array]",i9="[object Uint8ClampedArray]",o9="[object Uint16Array]",l9="[object Uint32Array]",wt={};wt[e9]=wt[t9]=wt[r9]=wt[n9]=wt[s9]=wt[a9]=wt[i9]=wt[o9]=wt[l9]=!0;wt[FW]=wt[BW]=wt[JW]=wt[WW]=wt[ZW]=wt[HW]=wt[UW]=wt[VW]=wt[zW]=wt[YW]=wt[qW]=wt[GW]=wt[KW]=wt[QW]=wt[XW]=!1;function c9(e){return LW(e)&&$W(e.length)&&!!wt[IW(e)]}var u9=c9;function d9(e){return function(t){return e(t)}}var _m=d9,Tf={exports:{}};Tf.exports;(function(e,t){var r=$k,n=t&&!t.nodeType&&t,s=n&&!0&&e&&!e.nodeType&&e,i=s&&s.exports===n,o=i&&r.process,l=function(){try{var c=s&&s.require&&s.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(Tf,Tf.exports);var Qx=Tf.exports,f9=u9,m9=_m,zw=Qx,Yw=zw&&zw.isTypedArray,h9=Yw?m9(Yw):f9,Xx=h9,p9=SW,g9=Kx,y9=yn,x9=Tm,v9=_x,b9=Xx,w9=Object.prototype,N9=w9.hasOwnProperty;function j9(e,t){var r=y9(e),n=!r&&g9(e),s=!r&&!n&&x9(e),i=!r&&!n&&!s&&b9(e),o=r||n||s||i,l=o?p9(e.length,String):[],c=l.length;for(var u in e)(t||N9.call(e,u))&&!(o&&(u=="length"||s&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||v9(u,c)))&&l.push(u);return l}var iD=j9,S9=Object.prototype;function k9(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||S9;return e===r}var Jx=k9;function D9(e,t){return function(r){return e(t(r))}}var oD=D9,C9=oD,E9=C9(Object.keys,Object),A9=E9,T9=Jx,_9=A9,P9=Object.prototype,R9=P9.hasOwnProperty;function M9(e){if(!T9(e))return _9(e);var t=[];for(var r in Object(e))R9.call(e,r)&&r!="constructor"&&t.push(r);return t}var O9=M9,I9=iD,$9=O9,L9=ou;function F9(e){return L9(e)?I9(e):$9(e)}var fu=F9,B9=nD,W9=Gx,H9=fu;function U9(e){return B9(e,H9,W9)}var lD=U9,qw=lD,V9=1,z9=Object.prototype,Y9=z9.hasOwnProperty;function q9(e,t,r,n,s,i){var o=r&V9,l=qw(e),c=l.length,u=qw(t),d=u.length;if(c!=d&&!o)return!1;for(var f=c;f--;){var m=l[f];if(!(o?m in t:Y9.call(t,m)))return!1}var v=i.get(e),p=i.get(t);if(v&&p)return v==t&&p==e;var h=!0;i.set(e,t),i.set(t,e);for(var j=o;++f<c;){m=l[f];var x=e[m],b=t[m];if(n)var N=o?n(b,x,m,t,e,i):n(x,b,m,e,t,i);if(!(N===void 0?x===b||s(x,b,r,n,i):N)){h=!1;break}j||(j=m=="constructor")}if(h&&!j){var g=e.constructor,A=t.constructor;g!=A&&"constructor"in e&&"constructor"in t&&!(typeof g=="function"&&g instanceof g&&typeof A=="function"&&A instanceof A)&&(h=!1)}return i.delete(e),i.delete(t),h}var G9=q9,K9=_i,Q9=ps,X9=K9(Q9,"DataView"),J9=X9,Z9=_i,eH=ps,tH=Z9(eH,"Promise"),rH=tH,nH=_i,sH=ps,aH=nH(sH,"Set"),iH=aH,oH=_i,lH=ps,cH=oH(lH,"WeakMap"),uH=cH,Bg=J9,Wg=Vx,Hg=rH,Ug=iH,Vg=uH,cD=Go,Zo=eD,Gw="[object Map]",dH="[object Object]",Kw="[object Promise]",Qw="[object Set]",Xw="[object WeakMap]",Jw="[object DataView]",fH=Zo(Bg),mH=Zo(Wg),hH=Zo(Hg),pH=Zo(Ug),gH=Zo(Vg),Ga=cD;(Bg&&Ga(new Bg(new ArrayBuffer(1)))!=Jw||Wg&&Ga(new Wg)!=Gw||Hg&&Ga(Hg.resolve())!=Kw||Ug&&Ga(new Ug)!=Qw||Vg&&Ga(new Vg)!=Xw)&&(Ga=function(e){var t=cD(e),r=t==dH?e.constructor:void 0,n=r?Zo(r):"";if(n)switch(n){case fH:return Jw;case mH:return Gw;case hH:return Kw;case pH:return Qw;case gH:return Xw}return t});var Pm=Ga,Xh=Yx,yH=tD,xH=cW,vH=G9,Zw=Pm,eN=yn,tN=Tm,bH=Xx,wH=1,rN="[object Arguments]",nN="[object Array]",td="[object Object]",NH=Object.prototype,sN=NH.hasOwnProperty;function jH(e,t,r,n,s,i){var o=eN(e),l=eN(t),c=o?nN:Zw(e),u=l?nN:Zw(t);c=c==rN?td:c,u=u==rN?td:u;var d=c==td,f=u==td,m=c==u;if(m&&tN(e)){if(!tN(t))return!1;o=!0,d=!1}if(m&&!d)return i||(i=new Xh),o||bH(e)?yH(e,t,r,n,s,i):xH(e,t,c,r,n,s,i);if(!(r&wH)){var v=d&&sN.call(e,"__wrapped__"),p=f&&sN.call(t,"__wrapped__");if(v||p){var h=v?e.value():e,j=p?t.value():t;return i||(i=new Xh),s(h,j,r,n,i)}}return m?(i||(i=new Xh),vH(e,t,r,n,s,i)):!1}var SH=jH,kH=SH,aN=Ha;function uD(e,t,r,n,s){return e===t?!0:e==null||t==null||!aN(e)&&!aN(t)?e!==e&&t!==t:kH(e,t,r,n,uD,s)}var Zx=uD,DH=Zx;function CH(e,t){return DH(e,t)}var EH=CH;const AH=Ar(EH);function Jh(e,t){var r=Px(e);return r?r.innerHeight:mi(e).height}function dD(e,t,r){e.closest&&!r&&e.closest(t);var n=e;do{if(DL(n,t))return n;n=n.parentElement}while(n&&n!==r&&n.nodeType===document.ELEMENT_NODE);return null}function TH(e,t,r,n){for(var s=e.length,i=r+(n?1:-1);n?i--:++i<s;)if(t(e[i],i,e))return i;return-1}var _H=TH,PH=Yx,RH=Zx,MH=1,OH=2;function IH(e,t,r,n){var s=r.length,i=s,o=!n;if(e==null)return!i;for(e=Object(e);s--;){var l=r[s];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++s<i;){l=r[s];var c=l[0],u=e[c],d=l[1];if(o&&l[2]){if(u===void 0&&!(c in e))return!1}else{var f=new PH;if(n)var m=n(u,d,c,e,t,f);if(!(m===void 0?RH(d,u,MH|OH,n,f):m))return!1}}return!0}var $H=IH,LH=Ks;function FH(e){return e===e&&!LH(e)}var fD=FH,BH=fD,WH=fu;function HH(e){for(var t=WH(e),r=t.length;r--;){var n=t[r],s=e[n];t[r]=[n,s,BH(s)]}return t}var UH=HH;function VH(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var mD=VH,zH=$H,YH=UH,qH=mD;function GH(e){var t=YH(e);return t.length==1&&t[0][2]?qH(t[0][0],t[0][1]):function(r){return r===e||zH(r,e,t)}}var KH=GH,QH=yn,XH=lu,JH=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ZH=/^\w*$/;function eU(e,t){if(QH(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||XH(e)?!0:ZH.test(e)||!JH.test(e)||t!=null&&e in Object(t)}var e0=eU,hD=zx,tU="Expected a function";function t0(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(tU);var r=function(){var n=arguments,s=t?t.apply(this,n):n[0],i=r.cache;if(i.has(s))return i.get(s);var o=e.apply(this,n);return r.cache=i.set(s,o)||i,o};return r.cache=new(t0.Cache||hD),r}t0.Cache=hD;var rU=t0,nU=rU,sU=500;function aU(e){var t=nU(e,function(n){return r.size===sU&&r.clear(),n}),r=t.cache;return t}var iU=aU,oU=iU,lU=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,cU=/\\(\\)?/g,uU=oU(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(lU,function(r,n,s,i){t.push(s?i.replace(cU,"$1"):n||r)}),t}),dU=uU;function fU(e,t){for(var r=-1,n=e==null?0:e.length,s=Array(n);++r<n;)s[r]=t(e[r],r,e);return s}var r0=fU,iN=qo,mU=r0,hU=yn,pU=lu,oN=iN?iN.prototype:void 0,lN=oN?oN.toString:void 0;function pD(e){if(typeof e=="string")return e;if(hU(e))return mU(e,pD)+"";if(pU(e))return lN?lN.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var gU=pD,yU=gU;function xU(e){return e==null?"":yU(e)}var vU=xU,bU=yn,wU=e0,NU=dU,jU=vU;function SU(e,t){return bU(e)?e:wU(e,t)?[e]:NU(jU(e))}var Rm=SU,kU=lu;function DU(e){if(typeof e=="string"||kU(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var mu=DU,CU=Rm,EU=mu;function AU(e,t){t=CU(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[EU(t[r++])];return r&&r==n?e:void 0}var Mm=AU,TU=Mm;function _U(e,t,r){var n=e==null?void 0:TU(e,t);return n===void 0?r:n}var PU=_U;function RU(e,t){return e!=null&&t in Object(e)}var MU=RU,OU=Rm,IU=Kx,$U=yn,LU=_x,FU=Tx,BU=mu;function WU(e,t,r){t=OU(t,e);for(var n=-1,s=t.length,i=!1;++n<s;){var o=BU(t[n]);if(!(i=e!=null&&r(e,o)))break;e=e[o]}return i||++n!=s?i:(s=e==null?0:e.length,!!s&&FU(s)&&LU(o,s)&&($U(e)||IU(e)))}var HU=WU,UU=MU,VU=HU;function zU(e,t){return e!=null&&VU(e,t,UU)}var YU=zU,qU=Zx,GU=PU,KU=YU,QU=e0,XU=fD,JU=mD,ZU=mu,e8=1,t8=2;function r8(e,t){return QU(e)&&XU(t)?JU(ZU(e),t):function(r){var n=GU(r,e);return n===void 0&&n===t?KU(r,e):qU(t,n,e8|t8)}}var n8=r8;function s8(e){return e}var Om=s8;function a8(e){return function(t){return t==null?void 0:t[e]}}var i8=a8,o8=Mm;function l8(e){return function(t){return o8(t,e)}}var c8=l8,u8=i8,d8=c8,f8=e0,m8=mu;function h8(e){return f8(e)?u8(m8(e)):d8(e)}var p8=h8,g8=KH,y8=n8,x8=Om,v8=yn,b8=p8;function w8(e){return typeof e=="function"?e:e==null?x8:typeof e=="object"?v8(e)?y8(e[0],e[1]):g8(e):b8(e)}var Im=w8,N8=_H,j8=Im,S8=Bk,k8=Math.max;function D8(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var s=r==null?0:S8(r);return s<0&&(s=k8(n+s,0)),N8(e,j8(t),s)}var C8=D8;const E8=Ar(C8);var A8=Math.ceil,T8=Math.max;function _8(e,t,r,n){for(var s=-1,i=T8(A8((t-e)/(r||1)),0),o=Array(i);i--;)o[n?i:++s]=e,e+=r;return o}var P8=_8,R8=P8,M8=Sm,Zh=Fk;function O8(e){return function(t,r,n){return n&&typeof n!="number"&&M8(t,r,n)&&(r=n=void 0),t=Zh(t),r===void 0?(r=t,t=0):r=Zh(r),n=n===void 0?t<r?1:-1:Zh(n),R8(t,r,n,e)}}var I8=O8,$8=I8,L8=$8(),F8=L8;const B8=Ar(F8);var cN=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function W8(e,t){return!!(e===t||cN(e)&&cN(t))}function H8(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!W8(e[r],t[r]))return!1;return!0}function gD(e,t){t===void 0&&(t=H8);var r=null;function n(){for(var s=[],i=0;i<arguments.length;i++)s[i]=arguments[i];if(r&&r.lastThis===this&&t(s,r.lastArgs))return r.lastResult;var o=e.apply(this,s);return r={lastResult:o,lastArgs:s,lastThis:this},o}return n.clear=function(){r=null},n}function zg(e,t){var r=Px(e);return r?r.innerWidth:mi(e).width}var uN=qo,U8=Kx,V8=yn,dN=uN?uN.isConcatSpreadable:void 0;function z8(e){return V8(e)||U8(e)||!!(dN&&e&&e[dN])}var Y8=z8,q8=qx,G8=Y8;function yD(e,t,r,n,s){var i=-1,o=e.length;for(r||(r=G8),s||(s=[]);++i<o;){var l=e[i];t>0&&r(l)?t>1?yD(l,t-1,r,n,s):q8(s,l):n||(s[s.length]=l)}return s}var xD=yD;function K8(e){return function(t,r,n){for(var s=-1,i=Object(t),o=n(t),l=o.length;l--;){var c=o[e?l:++s];if(r(i[c],c,i)===!1)break}return t}}var Q8=K8,X8=Q8,J8=X8(),Z8=J8,eV=Z8,tV=fu;function rV(e,t){return e&&eV(e,t,tV)}var n0=rV,nV=ou;function sV(e,t){return function(r,n){if(r==null)return r;if(!nV(r))return e(r,n);for(var s=r.length,i=t?s:-1,o=Object(r);(t?i--:++i<s)&&n(o[i],i,o)!==!1;);return r}}var aV=sV,iV=n0,oV=aV,lV=oV(iV),cV=lV,uV=cV,dV=ou;function fV(e,t){var r=-1,n=dV(e)?Array(e.length):[];return uV(e,function(s,i,o){n[++r]=t(s,i,o)}),n}var mV=fV;function hV(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var pV=hV,fN=lu;function gV(e,t){if(e!==t){var r=e!==void 0,n=e===null,s=e===e,i=fN(e),o=t!==void 0,l=t===null,c=t===t,u=fN(t);if(!l&&!u&&!i&&e>t||i&&o&&c&&!l&&!u||n&&o&&c||!r&&c||!s)return 1;if(!n&&!i&&!u&&e<t||u&&r&&s&&!n&&!i||l&&r&&s||!o&&s||!c)return-1}return 0}var yV=gV,xV=yV;function vV(e,t,r){for(var n=-1,s=e.criteria,i=t.criteria,o=s.length,l=r.length;++n<o;){var c=xV(s[n],i[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var bV=vV,ep=r0,wV=Mm,NV=Im,jV=mV,SV=pV,kV=_m,DV=bV,CV=Om,EV=yn;function AV(e,t,r){t.length?t=ep(t,function(i){return EV(i)?function(o){return wV(o,i.length===1?i[0]:i)}:i}):t=[CV];var n=-1;t=ep(t,kV(NV));var s=jV(e,function(i,o,l){var c=ep(t,function(u){return u(i)});return{criteria:c,index:++n,value:i}});return SV(s,function(i,o){return DV(i,o,r)})}var TV=AV;function _V(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var PV=_V,RV=PV,mN=Math.max;function MV(e,t,r){return t=mN(t===void 0?e.length-1:t,0),function(){for(var n=arguments,s=-1,i=mN(n.length-t,0),o=Array(i);++s<i;)o[s]=n[t+s];s=-1;for(var l=Array(t+1);++s<t;)l[s]=n[s];return l[t]=r(o),RV(e,this,l)}}var vD=MV;function OV(e){return function(){return e}}var IV=OV,$V=_i,LV=function(){try{var e=$V(Object,"defineProperty");return e({},"",{}),e}catch{}}(),bD=LV,FV=IV,hN=bD,BV=Om,WV=hN?function(e,t){return hN(e,"toString",{configurable:!0,enumerable:!1,value:FV(t),writable:!0})}:BV,HV=WV,UV=800,VV=16,zV=Date.now;function YV(e){var t=0,r=0;return function(){var n=zV(),s=VV-(n-r);if(r=n,s>0){if(++t>=UV)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var qV=YV,GV=HV,KV=qV,QV=KV(GV),wD=QV,XV=Om,JV=vD,ZV=wD;function ez(e,t){return ZV(JV(e,t,XV),e+"")}var ND=ez,tz=xD,rz=TV,nz=ND,pN=Sm,sz=nz(function(e,t){if(e==null)return[];var r=t.length;return r>1&&pN(e,t[0],t[1])?t=[]:r>2&&pN(t[0],t[1],t[2])&&(t=[t[0]]),rz(e,tz(t,1),[])}),az=sz;const iz=Ar(az);function jD(e){return xk(e)||Ok(e)||wx(e)||vk()}function oz(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var lz=oz,cz=Ks,uz=Jx,dz=lz,fz=Object.prototype,mz=fz.hasOwnProperty;function hz(e){if(!cz(e))return dz(e);var t=uz(e),r=[];for(var n in e)n=="constructor"&&(t||!mz.call(e,n))||r.push(n);return r}var pz=hz,gz=iD,yz=pz,xz=ou;function vz(e){return xz(e)?gz(e,!0):yz(e)}var $m=vz,bz=ND,wz=iu,Nz=Sm,jz=$m,SD=Object.prototype,Sz=SD.hasOwnProperty,kz=bz(function(e,t){e=Object(e);var r=-1,n=t.length,s=n>2?t[2]:void 0;for(s&&Nz(t[0],t[1],s)&&(n=1);++r<n;)for(var i=t[r],o=jz(i),l=-1,c=o.length;++l<c;){var u=o[l],d=e[u];(d===void 0||wz(d,SD[u])&&!Sz.call(e,u))&&(e[u]=i[u])}return e}),Dz=kz;const Cz=Ar(Dz);var gN=bD;function Ez(e,t,r){t=="__proto__"&&gN?gN(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var s0=Ez,Az=s0,Tz=n0,_z=Im;function Pz(e,t){var r={};return t=_z(t),Tz(e,function(n,s,i){Az(r,s,t(n,s,i))}),r}var Rz=Pz;const Mz=Ar(Rz);function Oz(e,t){for(var r=-1,n=e==null?0:e.length;++r<n&&t(e[r],r,e)!==!1;);return e}var kD=Oz,Iz=s0,$z=iu,Lz=Object.prototype,Fz=Lz.hasOwnProperty;function Bz(e,t,r){var n=e[t];(!(Fz.call(e,t)&&$z(n,r))||r===void 0&&!(t in e))&&Iz(e,t,r)}var DD=Bz,Wz=DD,Hz=s0;function Uz(e,t,r,n){var s=!r;r||(r={});for(var i=-1,o=t.length;++i<o;){var l=t[i],c=n?n(r[l],e[l],l,r,e):void 0;c===void 0&&(c=e[l]),s?Hz(r,l,c):Wz(r,l,c)}return r}var hu=Uz,Vz=hu,zz=fu;function Yz(e,t){return e&&Vz(t,zz(t),e)}var qz=Yz,Gz=hu,Kz=$m;function Qz(e,t){return e&&Gz(t,Kz(t),e)}var Xz=Qz,_f={exports:{}};_f.exports;(function(e,t){var r=ps,n=t&&!t.nodeType&&t,s=n&&!0&&e&&!e.nodeType&&e,i=s&&s.exports===n,o=i?r.Buffer:void 0,l=o?o.allocUnsafe:void 0;function c(u,d){if(d)return u.slice();var f=u.length,m=l?l(f):new u.constructor(f);return u.copy(m),m}e.exports=c})(_f,_f.exports);var Jz=_f.exports;function Zz(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}var eY=Zz,tY=hu,rY=Gx;function nY(e,t){return tY(e,rY(e),t)}var sY=nY,aY=oD,iY=aY(Object.getPrototypeOf,Object),Lm=iY,oY=qx,lY=Lm,cY=Gx,uY=sD,dY=Object.getOwnPropertySymbols,fY=dY?function(e){for(var t=[];e;)oY(t,cY(e)),e=lY(e);return t}:uY,CD=fY,mY=hu,hY=CD;function pY(e,t){return mY(e,hY(e),t)}var gY=pY,yY=nD,xY=CD,vY=$m;function bY(e){return yY(e,vY,xY)}var ED=bY,wY=Object.prototype,NY=wY.hasOwnProperty;function jY(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&NY.call(e,"index")&&(r.index=e.index,r.input=e.input),r}var SY=jY,yN=rD;function kY(e){var t=new e.constructor(e.byteLength);return new yN(t).set(new yN(e)),t}var a0=kY,DY=a0;function CY(e,t){var r=t?DY(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}var EY=CY,AY=/\w*$/;function TY(e){var t=new e.constructor(e.source,AY.exec(e));return t.lastIndex=e.lastIndex,t}var _Y=TY,xN=qo,vN=xN?xN.prototype:void 0,bN=vN?vN.valueOf:void 0;function PY(e){return bN?Object(bN.call(e)):{}}var RY=PY,MY=a0;function OY(e,t){var r=t?MY(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var IY=OY,$Y=a0,LY=EY,FY=_Y,BY=RY,WY=IY,HY="[object Boolean]",UY="[object Date]",VY="[object Map]",zY="[object Number]",YY="[object RegExp]",qY="[object Set]",GY="[object String]",KY="[object Symbol]",QY="[object ArrayBuffer]",XY="[object DataView]",JY="[object Float32Array]",ZY="[object Float64Array]",eq="[object Int8Array]",tq="[object Int16Array]",rq="[object Int32Array]",nq="[object Uint8Array]",sq="[object Uint8ClampedArray]",aq="[object Uint16Array]",iq="[object Uint32Array]";function oq(e,t,r){var n=e.constructor;switch(t){case QY:return $Y(e);case HY:case UY:return new n(+e);case XY:return LY(e,r);case JY:case ZY:case eq:case tq:case rq:case nq:case sq:case aq:case iq:return WY(e,r);case VY:return new n;case zY:case GY:return new n(e);case YY:return FY(e);case qY:return new n;case KY:return BY(e)}}var lq=oq,cq=Ks,wN=Object.create,uq=function(){function e(){}return function(t){if(!cq(t))return{};if(wN)return wN(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}(),AD=uq,dq=AD,fq=Lm,mq=Jx;function hq(e){return typeof e.constructor=="function"&&!mq(e)?dq(fq(e)):{}}var pq=hq,gq=Pm,yq=Ha,xq="[object Map]";function vq(e){return yq(e)&&gq(e)==xq}var bq=vq,wq=bq,Nq=_m,NN=Qx,jN=NN&&NN.isMap,jq=jN?Nq(jN):wq,Sq=jq,kq=Pm,Dq=Ha,Cq="[object Set]";function Eq(e){return Dq(e)&&kq(e)==Cq}var Aq=Eq,Tq=Aq,_q=_m,SN=Qx,kN=SN&&SN.isSet,Pq=kN?_q(kN):Tq,Rq=Pq,Mq=Yx,Oq=kD,Iq=DD,$q=qz,Lq=Xz,Fq=Jz,Bq=eY,Wq=sY,Hq=gY,Uq=lD,Vq=ED,zq=Pm,Yq=SY,qq=lq,Gq=pq,Kq=yn,Qq=Tm,Xq=Sq,Jq=Ks,Zq=Rq,eG=fu,tG=$m,rG=1,nG=2,sG=4,TD="[object Arguments]",aG="[object Array]",iG="[object Boolean]",oG="[object Date]",lG="[object Error]",_D="[object Function]",cG="[object GeneratorFunction]",uG="[object Map]",dG="[object Number]",PD="[object Object]",fG="[object RegExp]",mG="[object Set]",hG="[object String]",pG="[object Symbol]",gG="[object WeakMap]",yG="[object ArrayBuffer]",xG="[object DataView]",vG="[object Float32Array]",bG="[object Float64Array]",wG="[object Int8Array]",NG="[object Int16Array]",jG="[object Int32Array]",SG="[object Uint8Array]",kG="[object Uint8ClampedArray]",DG="[object Uint16Array]",CG="[object Uint32Array]",xt={};xt[TD]=xt[aG]=xt[yG]=xt[xG]=xt[iG]=xt[oG]=xt[vG]=xt[bG]=xt[wG]=xt[NG]=xt[jG]=xt[uG]=xt[dG]=xt[PD]=xt[fG]=xt[mG]=xt[hG]=xt[pG]=xt[SG]=xt[kG]=xt[DG]=xt[CG]=!0;xt[lG]=xt[_D]=xt[gG]=!1;function Od(e,t,r,n,s,i){var o,l=t&rG,c=t&nG,u=t&sG;if(r&&(o=s?r(e,n,s,i):r(e)),o!==void 0)return o;if(!Jq(e))return e;var d=Kq(e);if(d){if(o=Yq(e),!l)return Bq(e,o)}else{var f=zq(e),m=f==_D||f==cG;if(Qq(e))return Fq(e,l);if(f==PD||f==TD||m&&!s){if(o=c||m?{}:Gq(e),!l)return c?Hq(e,Lq(o,e)):Wq(e,$q(o,e))}else{if(!xt[f])return s?e:{};o=qq(e,f,l)}}i||(i=new Mq);var v=i.get(e);if(v)return v;i.set(e,o),Zq(e)?e.forEach(function(j){o.add(Od(j,t,r,j,e,i))}):Xq(e)&&e.forEach(function(j,x){o.set(x,Od(j,t,r,x,e,i))});var p=u?c?Vq:Uq:c?tG:eG,h=d?void 0:p(e);return Oq(h||e,function(j,x){h&&(x=j,j=e[x]),Iq(o,x,Od(j,t,r,x,e,i))}),o}var EG=Od;function AG(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var TG=AG,_G=Mm,PG=Ik;function RG(e,t){return t.length<2?e:_G(e,PG(t,0,-1))}var MG=RG,OG=Rm,IG=TG,$G=MG,LG=mu;function FG(e,t){return t=OG(t,e),e=$G(e,t),e==null||delete e[LG(IG(t))]}var BG=FG,WG=Go,HG=Lm,UG=Ha,VG="[object Object]",zG=Function.prototype,YG=Object.prototype,RD=zG.toString,qG=YG.hasOwnProperty,GG=RD.call(Object);function KG(e){if(!UG(e)||WG(e)!=VG)return!1;var t=HG(e);if(t===null)return!0;var r=qG.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&RD.call(r)==GG}var QG=KG,XG=QG;function JG(e){return XG(e)?void 0:e}var ZG=JG,eK=xD;function tK(e){var t=e==null?0:e.length;return t?eK(e,1):[]}var rK=tK,nK=rK,sK=vD,aK=wD;function iK(e){return aK(sK(e,void 0,nK),e+"")}var oK=iK,lK=r0,cK=EG,uK=BG,dK=Rm,fK=hu,mK=ZG,hK=oK,pK=ED,gK=1,yK=2,xK=4,vK=hK(function(e,t){var r={};if(e==null)return r;var n=!1;t=lK(t,function(i){return i=dK(i,e),n||(n=i.length>1),i}),fK(e,pK(e),r),n&&(r=cK(r,gK|yK|xK,mK));for(var s=t.length;s--;)uK(r,t[s]);return r}),bK=vK;const wK=Ar(bK);var NK=kD,jK=AD,SK=n0,kK=Im,DK=Lm,CK=yn,EK=Tm,AK=Ax,TK=Ks,_K=Xx;function PK(e,t,r){var n=CK(e),s=n||EK(e)||_K(e);if(t=kK(t),r==null){var i=e&&e.constructor;s?r=n?new i:[]:TK(e)?r=AK(i)?jK(DK(e)):{}:r={}}return(s?NK:SK)(e,function(o,l,c){return t(r,o,l,c)}),r}var RK=PK;const MK=Ar(RK);var OK={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(un,function(){return function(r,n,s){n.prototype.isBetween=function(i,o,l,c){var u=s(i),d=s(o),f=(c=c||"()")[0]==="(",m=c[1]===")";return(f?this.isAfter(u,l):!this.isBefore(u,l))&&(m?this.isBefore(d,l):!this.isAfter(d,l))||(f?this.isBefore(u,l):!this.isAfter(u,l))&&(m?this.isAfter(d,l):!this.isBefore(d,l))}}})})(OK);var IK={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(un,function(){return function(r,n){n.prototype.isSameOrAfter=function(s,i){return this.isSame(s,i)||this.isAfter(s,i)}}})})(IK);var $K={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(un,function(){return function(r,n){n.prototype.isSameOrBefore=function(s,i){return this.isSame(s,i)||this.isBefore(s,i)}}})})($K);var LK={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(un,function(){return function(r,n,s){var i=n.prototype,o=function(f){return f&&(f.indexOf?f:f.s)},l=function(f,m,v,p,h){var j=f.name?f:f.$locale(),x=o(j[m]),b=o(j[v]),N=x||b.map(function(A){return A.slice(0,p)});if(!h)return N;var g=j.weekStart;return N.map(function(A,k){return N[(k+(g||0))%7]})},c=function(){return s.Ls[s.locale()]},u=function(f,m){return f.formats[m]||function(v){return v.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(p,h,j){return h||j.slice(1)})}(f.formats[m.toUpperCase()])},d=function(){var f=this;return{months:function(m){return m?m.format("MMMM"):l(f,"months")},monthsShort:function(m){return m?m.format("MMM"):l(f,"monthsShort","months",3)},firstDayOfWeek:function(){return f.$locale().weekStart||0},weekdays:function(m){return m?m.format("dddd"):l(f,"weekdays")},weekdaysMin:function(m){return m?m.format("dd"):l(f,"weekdaysMin","weekdays",2)},weekdaysShort:function(m){return m?m.format("ddd"):l(f,"weekdaysShort","weekdays",3)},longDateFormat:function(m){return u(f.$locale(),m)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};i.localeData=function(){return d.bind(this)()},s.localeData=function(){var f=c();return{firstDayOfWeek:function(){return f.weekStart||0},weekdays:function(){return s.weekdays()},weekdaysShort:function(){return s.weekdaysShort()},weekdaysMin:function(){return s.weekdaysMin()},months:function(){return s.months()},monthsShort:function(){return s.monthsShort()},longDateFormat:function(m){return u(f,m)},meridiem:f.meridiem,ordinal:f.ordinal}},s.months=function(){return l(c(),"months")},s.monthsShort=function(){return l(c(),"monthsShort","months",3)},s.weekdays=function(f){return l(c(),"weekdays",null,null,f)},s.weekdaysShort=function(f){return l(c(),"weekdaysShort","weekdays",3,f)},s.weekdaysMin=function(f){return l(c(),"weekdaysMin","weekdays",2,f)}}})})(LK);var FK={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(un,function(){var r={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(n,s,i){var o=s.prototype,l=o.format;i.en.formats=r,o.format=function(c){c===void 0&&(c="YYYY-MM-DDTHH:mm:ssZ");var u=this.$locale().formats,d=function(f,m){return f.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(v,p,h){var j=h&&h.toUpperCase();return p||m[h]||r[h]||m[j].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(x,b,N){return b||N.slice(1)})})}(c,u===void 0?{}:u);return l.call(this,d)}}})})(FK);var BK={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(un,function(){return function(r,n,s){var i=function(o,l){if(!l||!l.length||l.length===1&&!l[0]||l.length===1&&Array.isArray(l[0])&&!l[0].length)return null;var c;l.length===1&&l[0].length>0&&(l=l[0]),c=(l=l.filter(function(d){return d}))[0];for(var u=1;u<l.length;u+=1)l[u].isValid()&&!l[u][o](c)||(c=l[u]);return c};s.max=function(){var o=[].slice.call(arguments,0);return i("isAfter",o)},s.min=function(){var o=[].slice.call(arguments,0);return i("isBefore",o)}}})})(BK);var WK={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(un,function(){var r="minute",n=/[+-]\d\d(?::?\d\d)?/g,s=/([+-]|\d\d)/g;return function(i,o,l){var c=o.prototype;l.utc=function(h){var j={date:h,utc:!0,args:arguments};return new o(j)},c.utc=function(h){var j=l(this.toDate(),{locale:this.$L,utc:!0});return h?j.add(this.utcOffset(),r):j},c.local=function(){return l(this.toDate(),{locale:this.$L,utc:!1})};var u=c.parse;c.parse=function(h){h.utc&&(this.$u=!0),this.$utils().u(h.$offset)||(this.$offset=h.$offset),u.call(this,h)};var d=c.init;c.init=function(){if(this.$u){var h=this.$d;this.$y=h.getUTCFullYear(),this.$M=h.getUTCMonth(),this.$D=h.getUTCDate(),this.$W=h.getUTCDay(),this.$H=h.getUTCHours(),this.$m=h.getUTCMinutes(),this.$s=h.getUTCSeconds(),this.$ms=h.getUTCMilliseconds()}else d.call(this)};var f=c.utcOffset;c.utcOffset=function(h,j){var x=this.$utils().u;if(x(h))return this.$u?0:x(this.$offset)?f.call(this):this.$offset;if(typeof h=="string"&&(h=function(A){A===void 0&&(A="");var k=A.match(n);if(!k)return null;var _=(""+k[0]).match(s)||["-",0,0],O=_[0],R=60*+_[1]+ +_[2];return R===0?0:O==="+"?R:-R}(h),h===null))return this;var b=Math.abs(h)<=16?60*h:h;if(b===0)return this.utc(j);var N=this.clone();if(j)return N.$offset=b,N.$u=!1,N;var g=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();return(N=this.local().add(b+g,r)).$offset=b,N.$x.$localOffset=g,N};var m=c.format;c.format=function(h){var j=h||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return m.call(this,j)},c.valueOf=function(){var h=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*h},c.isUTC=function(){return!!this.$u},c.toISOString=function(){return this.toDate().toISOString()},c.toString=function(){return this.toDate().toUTCString()};var v=c.toDate;c.toDate=function(h){return h==="s"&&this.$offset?l(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():v.call(this)};var p=c.diff;c.diff=function(h,j,x){if(h&&this.$u===h.$u)return p.call(this,h,j,x);var b=this.local(),N=l(h).local();return p.call(b,N,j,x)}}})})(WK);var HK={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(un,function(){return function(r,n){n.prototype.isLeapYear=function(){return this.$y%4==0&&this.$y%100!=0||this.$y%400==0}}})})(HK);function Kn(e){return e.children}var Ur={PREVIOUS:"PREV",NEXT:"NEXT",TODAY:"TODAY",DATE:"DATE"},Dr={MONTH:"month",WEEK:"week",WORK_WEEK:"work_week",DAY:"day",AGENDA:"agenda"},DN=Object.keys(Dr).map(function(e){return Dr[e]});Ae.oneOfType([Ae.string,Ae.func]);Ae.any;Ae.func;Ae.oneOfType([Ae.arrayOf(Ae.oneOf(DN)),Ae.objectOf(function(e,t){var r=DN.indexOf(t)!==-1&&typeof e[t]=="boolean";if(r)return null;for(var n=arguments.length,s=new Array(n>2?n-2:0),i=2;i<n;i++)s[i-2]=arguments[i];return Ae.elementType.apply(Ae,[e,t].concat(s))})]);Ae.oneOfType([Ae.oneOf(["overlap","no-overlap"]),Ae.func]);var CN={seconds:1e3,minutes:1e3*60,hours:1e3*60*60,day:1e3*60*60*24};function MD(e,t){var r=dr(e,"month");return dr(r,"week",t.startOfWeek())}function OD(e,t){var r=kf(e,"month");return kf(r,"week",t.startOfWeek())}function UK(e,t){for(var r=MD(e,t),n=OD(e,t),s=[];zo(r,n,"day");)s.push(r),r=In(r,1,"day");return s}function VK(e,t){var r=dr(e,t);return su(r,e)?r:In(r,1,t)}function zK(e,t){for(var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",n=e,s=[];zo(n,t,r);)s.push(n),n=In(n,1,r);return s}function YK(e,t){return t==null&&e==null?null:(t==null&&(t=new Date),e==null&&(e=new Date),e=dr(e,"day"),e=Cc(e,Cc(t)),e=To(e,To(t)),e=Dc(e,Dc(t)),kc(e,kc(t)))}function EN(e){return Cc(e)===0&&To(e)===0&&Dc(e)===0&&kc(e)===0}function qK(e,t,r,n){return r==="day"&&(r="date"),Math.abs(uw[r](e,void 0,n)-uw[r](t,void 0,n))}function i0(e,t,r){return!r||r==="milliseconds"?Math.abs(+e-+t):Math.round(Math.abs(+dr(e,r)/CN[r]-+dr(t,r)/CN[r]))}var GK=Ae.oneOfType([Ae.string,Ae.func]);function KK(e,t,r,n,s){var i=typeof n=="function"?n(r,s,e):t.call(e,r,n,s);return vc(i==null||typeof i=="string","`localizer format(..)` must return a string, null, or undefined"),i}function QK(e,t,r){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,t+r,0,0)}function o0(e,t){return e.getTimezoneOffset()-t.getTimezoneOffset()}function XK(e,t){return i0(e,t,"minutes")+o0(e,t)}function JK(e){var t=dr(e,"day");return i0(t,e,"minutes")+o0(t,e)}function ZK(e,t){return Ex(e,t,"day")}function eQ(e,t,r){var n=su(e,t,"minutes");return n?au(t,r,"minutes"):jm(t,r,"minutes")}function Yg(e,t){return qK(e,t,"day")}function tQ(e){var t=e.evtA,r=t.start,n=t.end,s=t.allDay,i=e.evtB,o=i.start,l=i.end,c=i.allDay,u=+dr(r,"day")-+dr(o,"day"),d=Yg(r,n),f=Yg(o,l);return u||f-d||!!c-!!s||+r-+o||+n-+l}function rQ(e){var t=e.event,r=t.start,n=t.end,s=e.range,i=s.start,o=s.end,l=dr(r,"day"),c=zo(l,o,"day"),u=Cx(l,n,"minutes"),d=u?jm(n,i,"minutes"):au(n,i,"minutes");return c&&d}function nQ(e,t){return su(e,t,"day")}function sQ(e,t){return EN(e)&&EN(t)}var aQ=er(function e(t){var r=this;Zt(this,e),vc(typeof t.format=="function","date localizer `format(..)` must be a function"),vc(typeof t.firstOfWeek=="function","date localizer `firstOfWeek(..)` must be a function"),this.propType=t.propType||GK,this.formats=t.formats,this.format=function(){for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return KK.apply(void 0,[r,t.format].concat(s))},this.startOfWeek=t.firstOfWeek,this.merge=t.merge||YK,this.inRange=t.inRange||_k,this.lt=t.lt||Ex,this.lte=t.lte||zo,this.gt=t.gt||jm,this.gte=t.gte||au,this.eq=t.eq||su,this.neq=t.neq||Cx,this.startOf=t.startOf||dr,this.endOf=t.endOf||kf,this.add=t.add||In,this.range=t.range||zK,this.diff=t.diff||i0,this.ceil=t.ceil||VK,this.min=t.min||Ak,this.max=t.max||Tk,this.minutes=t.minutes||To,this.daySpan=t.daySpan||Yg,this.firstVisibleDay=t.firstVisibleDay||MD,this.lastVisibleDay=t.lastVisibleDay||OD,this.visibleDays=t.visibleDays||UK,this.getSlotDate=t.getSlotDate||QK,this.getTimezoneOffset=t.getTimezoneOffset||function(n){return n.getTimezoneOffset()},this.getDstOffset=t.getDstOffset||o0,this.getTotalMin=t.getTotalMin||XK,this.getMinutesFromMidnight=t.getMinutesFromMidnight||JK,this.continuesPrior=t.continuesPrior||ZK,this.continuesAfter=t.continuesAfter||eQ,this.sortEvents=t.sortEvents||tQ,this.inEventRange=t.inEventRange||rQ,this.isSameDate=t.isSameDate||nQ,this.startAndEndAreDateOnly=t.startAndEndAreDateOnly||sQ,this.segmentOffset=t.browserTZOffset?t.browserTZOffset():0});function iQ(e,t,r,n){var s=yt(yt({},e.formats),r);return yt(yt({},e),{},{messages:n,startOfWeek:function(){return e.startOfWeek(t)},format:function(o,l){return e.format(o,s[l]||l,t)}})}var oQ=function(e){function t(){var r;Zt(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=wr(this,t,[].concat(s)),r.navigate=function(o){r.props.onNavigate(o)},r.view=function(o){r.props.onView(o)},r}return br(t,e),er(t,[{key:"render",value:function(){var n=this.props,s=n.localizer.messages,i=n.label;return U.createElement("div",{className:"rbc-toolbar"},U.createElement("span",{className:"rbc-btn-group"},U.createElement("button",{type:"button",onClick:this.navigate.bind(null,Ur.TODAY)},s.today),U.createElement("button",{type:"button",onClick:this.navigate.bind(null,Ur.PREVIOUS)},s.previous),U.createElement("button",{type:"button",onClick:this.navigate.bind(null,Ur.NEXT)},s.next)),U.createElement("span",{className:"rbc-toolbar-label"},i),U.createElement("span",{className:"rbc-btn-group"},this.viewNamesGroup(s)))}},{key:"viewNamesGroup",value:function(n){var s=this,i=this.props.views,o=this.props.view;if(i.length>1)return i.map(function(l){return U.createElement("button",{type:"button",key:l,className:Lt({"rbc-active":o===l}),onClick:s.view.bind(null,l)},n[l])})}}])}(U.Component);function Nt(e,t){e&&e.apply(null,[].concat(t))}var lQ={date:"Date",time:"Time",event:"Event",allDay:"All Day",week:"Week",work_week:"Work Week",day:"Day",month:"Month",previous:"Back",next:"Next",yesterday:"Yesterday",tomorrow:"Tomorrow",today:"Today",agenda:"Agenda",noEventsInRange:"There are no events in this range.",showMore:function(t){return"+".concat(t," more")}};function cQ(e){return yt(yt({},lQ),e)}function uQ(e){var t=e.ref,r=e.callback;w.useEffect(function(){var n=function(i){t.current&&!t.current.contains(i.target)&&r()};return document.addEventListener("mousedown",n),function(){document.removeEventListener("mousedown",n)}},[t,r])}var dQ=["style","className","event","selected","isAllDay","onSelect","onDoubleClick","onKeyPress","localizer","continuesPrior","continuesAfter","accessors","getters","children","components","slotStart","slotEnd"],ID=function(e){function t(){return Zt(this,t),wr(this,t,arguments)}return br(t,e),er(t,[{key:"render",value:function(){var n=this.props,s=n.style,i=n.className,o=n.event,l=n.selected,c=n.isAllDay,u=n.onSelect,d=n.onDoubleClick,f=n.onKeyPress,m=n.localizer,v=n.continuesPrior,p=n.continuesAfter,h=n.accessors,j=n.getters,x=n.children,b=n.components,N=b.event,g=b.eventWrapper,A=n.slotStart,k=n.slotEnd,_=fs(n,dQ);delete _.resizable;var O=h.title(o),R=h.tooltip(o),I=h.end(o),V=h.start(o),Z=h.allDay(o),Q=c||Z||m.diff(V,m.ceil(I,"day"),"day")>1,G=j.eventProp(o,V,I,l),xe=U.createElement("div",{className:"rbc-event-content",title:R||void 0},N?U.createElement(N,{event:o,continuesPrior:v,continuesAfter:p,title:O,isAllDay:Z,localizer:m,slotStart:A,slotEnd:k}):O);return U.createElement(g,Object.assign({},this.props,{type:"date"}),U.createElement("div",Object.assign({},_,{style:yt(yt({},G.style),s),className:Lt("rbc-event",i,G.className,{"rbc-selected":l,"rbc-event-allday":Q,"rbc-event-continues-prior":v,"rbc-event-continues-after":p}),onClick:function(pe){return u&&u(o,pe)},onDoubleClick:function(pe){return d&&d(o,pe)},onKeyDown:function(pe){return f&&f(o,pe)}}),typeof x=="function"?x(xe):xe))}}])}(U.Component);function Fm(e,t){return!e||t==null?!1:AH(e,t)}function $D(e,t){var r=e.right-e.left,n=r/t;return n}function LD(e,t,r,n){var s=$D(e,n);return r?n-1-Math.floor((t-e.left)/s):Math.floor((t-e.left)/s)}function fQ(e,t){var r=t.x,n=t.y;return n>=e.top&&n<=e.bottom&&r>=e.left&&r<=e.right}function mQ(e,t,r,n,s){var i=-1,o=-1,l=n-1,c=$D(t,n),u=LD(t,r.x,s,n),d=t.top<r.y&&t.bottom>r.y,f=t.top<e.y&&t.bottom>e.y,m=e.y>t.bottom,v=t.top>e.y,p=r.top<t.top&&r.bottom>t.bottom;return p&&(i=0,o=l),d&&(v?(i=0,o=u):m&&(i=u,o=l)),f&&(i=o=s?l-Math.floor((e.x-t.left)/c):Math.floor((e.x-t.left)/c),d?u<i?i=u:o=u:e.y<r.y?o=l:i=0),{startIdx:i,endIdx:o}}function hQ(e){var t=e.target,r=e.offset,n=e.container,s=e.box,i=mi(t),o=i.top,l=i.left,c=i.width,u=i.height,d=mi(n),f=d.top,m=d.left,v=d.width,p=d.height,h=mi(s),j=h.width,x=h.height,b=f+p,N=m+v,g=o+x,A=l+j,k=r.x,_=r.y,O=g>b?o-x-_:o+_+u,R=A>N?l+k-j+c:l+k;return{topOffset:O,leftOffset:R}}function pQ(e){var t=e.containerRef,r=e.accessors,n=e.getters,s=e.selected,i=e.components,o=e.localizer,l=e.position,c=e.show,u=e.events,d=e.slotStart,f=e.slotEnd,m=e.onSelect,v=e.onDoubleClick,p=e.onKeyPress,h=e.handleDragStart,j=e.popperRef,x=e.target,b=e.offset;uQ({ref:j,callback:c}),w.useLayoutEffect(function(){var A=hQ({target:x,offset:b,container:t.current,box:j.current}),k=A.topOffset,_=A.leftOffset;j.current.style.top="".concat(k,"px"),j.current.style.left="".concat(_,"px")},[b.x,b.y,x]);var N=l.width,g={minWidth:N+N/2};return U.createElement("div",{style:g,className:"rbc-overlay",ref:j},U.createElement("div",{className:"rbc-overlay-header"},o.format(d,"dayHeaderFormat")),u.map(function(A,k){return U.createElement(ID,{key:k,type:"popup",localizer:o,event:A,getters:n,onSelect:m,accessors:r,components:i,onDoubleClick:v,onKeyPress:p,continuesPrior:o.lt(r.end(A),d,"day"),continuesAfter:o.gte(r.start(A),f,"day"),slotStart:d,slotEnd:f,selected:Fm(A,s),draggable:!0,onDragStart:function(){return h(A)},onDragEnd:function(){return c()}})}))}var FD=U.forwardRef(function(e,t){return U.createElement(pQ,Object.assign({},e,{popperRef:t}))});FD.propTypes={accessors:Ae.object.isRequired,getters:Ae.object.isRequired,selected:Ae.object,components:Ae.object.isRequired,localizer:Ae.object.isRequired,position:Ae.object.isRequired,show:Ae.func.isRequired,events:Ae.array.isRequired,slotStart:Ae.instanceOf(Date).isRequired,slotEnd:Ae.instanceOf(Date),onSelect:Ae.func,onDoubleClick:Ae.func,onKeyPress:Ae.func,handleDragStart:Ae.func,style:Ae.object,offset:Ae.shape({x:Ae.number,y:Ae.number})};function gQ(e){var t=e.containerRef,r=e.popupOffset,n=r===void 0?5:r,s=e.overlay,i=e.accessors,o=e.localizer,l=e.components,c=e.getters,u=e.selected,d=e.handleSelectEvent,f=e.handleDoubleClickEvent,m=e.handleKeyPressEvent,v=e.handleDragStart,p=e.onHide,h=e.overlayDisplay,j=w.useRef(null);if(!s.position)return null;var x=n;isNaN(n)||(x={x:n,y:n});var b=s.position,N=s.events,g=s.date,A=s.end;return U.createElement(Ux,{rootClose:!0,flip:!0,show:!0,placement:"bottom",onHide:p,target:s.target},function(k){var _=k.props;return U.createElement(FD,Object.assign({},_,{containerRef:t,ref:j,target:s.target,offset:x,accessors:i,getters:c,selected:u,components:l,localizer:o,position:b,show:h,events:N,slotStart:g,slotEnd:A,onSelect:d,onDoubleClick:f,onKeyPress:m,handleDragStart:v}))})}var l0=U.forwardRef(function(e,t){return U.createElement(gQ,Object.assign({},e,{containerRef:t}))});l0.propTypes={popupOffset:Ae.oneOfType([Ae.number,Ae.shape({x:Ae.number,y:Ae.number})]),overlay:Ae.shape({position:Ae.object,events:Ae.array,date:Ae.instanceOf(Date),end:Ae.instanceOf(Date)}),accessors:Ae.object.isRequired,localizer:Ae.object.isRequired,components:Ae.object.isRequired,getters:Ae.object.isRequired,selected:Ae.object,handleSelectEvent:Ae.func,handleDoubleClickEvent:Ae.func,handleKeyPressEvent:Ae.func,handleDragStart:Ae.func,onHide:Ae.func,overlayDisplay:Ae.func};function pr(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document;return _l(r,e,t,{passive:!1})}function yQ(e,t,r){return!e||Ec(e,document.elementFromPoint(t,r))}function xQ(e,t){var r=t.clientX,n=t.clientY,s=document.elementFromPoint(r,n);return dD(s,".rbc-event",e)}function vQ(e,t){var r=t.clientX,n=t.clientY,s=document.elementFromPoint(r,n);return dD(s,".rbc-show-more",e)}function Pf(e,t){return!!xQ(e,t)}function bQ(e,t){return!!vQ(e,t)}function wl(e){var t=e;return e.touches&&e.touches.length&&(t=e.touches[0]),{clientX:t.clientX,clientY:t.clientY,pageX:t.pageX,pageY:t.pageY}}var AN=5,wQ=250,BD=function(){function e(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.global,s=n===void 0?!1:n,i=r.longPressThreshold,o=i===void 0?250:i,l=r.validContainers,c=l===void 0?[]:l;Zt(this,e),this._initialEvent=null,this.selecting=!1,this.isDetached=!1,this.container=t,this.globalMouse=!t||s,this.longPressThreshold=o,this.validContainers=c,this._listeners=Object.create(null),this._handleInitialEvent=this._handleInitialEvent.bind(this),this._handleMoveEvent=this._handleMoveEvent.bind(this),this._handleTerminatingEvent=this._handleTerminatingEvent.bind(this),this._keyListener=this._keyListener.bind(this),this._dropFromOutsideListener=this._dropFromOutsideListener.bind(this),this._dragOverFromOutsideListener=this._dragOverFromOutsideListener.bind(this),this._removeTouchMoveWindowListener=pr("touchmove",function(){},window),this._removeKeyDownListener=pr("keydown",this._keyListener),this._removeKeyUpListener=pr("keyup",this._keyListener),this._removeDropFromOutsideListener=pr("drop",this._dropFromOutsideListener),this._removeDragOverFromOutsideListener=pr("dragover",this._dragOverFromOutsideListener),this._addInitialEventListener()}return er(e,[{key:"on",value:function(r,n){var s=this._listeners[r]||(this._listeners[r]=[]);return s.push(n),{remove:function(){var o=s.indexOf(n);o!==-1&&s.splice(o,1)}}}},{key:"emit",value:function(r){for(var n=arguments.length,s=new Array(n>1?n-1:0),i=1;i<n;i++)s[i-1]=arguments[i];var o,l=this._listeners[r]||[];return l.forEach(function(c){o===void 0&&(o=c.apply(void 0,s))}),o}},{key:"teardown",value:function(){this._initialEvent=null,this._initialEventData=null,this._selectRect=null,this.selecting=!1,this._lastClickData=null,this.isDetached=!0,this._listeners=Object.create(null),this._removeTouchMoveWindowListener&&this._removeTouchMoveWindowListener(),this._removeInitialEventListener&&this._removeInitialEventListener(),this._removeEndListener&&this._removeEndListener(),this._onEscListener&&this._onEscListener(),this._removeMoveListener&&this._removeMoveListener(),this._removeKeyUpListener&&this._removeKeyUpListener(),this._removeKeyDownListener&&this._removeKeyDownListener(),this._removeDropFromOutsideListener&&this._removeDropFromOutsideListener(),this._removeDragOverFromOutsideListener&&this._removeDragOverFromOutsideListener()}},{key:"isSelected",value:function(r){var n=this._selectRect;return!n||!this.selecting?!1:TN(n,Ei(r))}},{key:"filter",value:function(r){var n=this._selectRect;return!n||!this.selecting?[]:r.filter(this.isSelected,this)}},{key:"_addLongPressListener",value:function(r,n){var s=this,i=null,o=null,l=null,c=function(m){i=setTimeout(function(){d(),r(m)},s.longPressThreshold),o=pr("touchmove",function(){return d()}),l=pr("touchend",function(){return d()})},u=pr("touchstart",c),d=function(){i&&clearTimeout(i),o&&o(),l&&l(),i=null,o=null,l=null};return n&&c(n),function(){d(),u()}}},{key:"_addInitialEventListener",value:function(){var r=this,n=pr("mousedown",function(i){r._removeInitialEventListener(),r._handleInitialEvent(i),r._removeInitialEventListener=pr("mousedown",r._handleInitialEvent)}),s=pr("touchstart",function(i){r._removeInitialEventListener(),r._removeInitialEventListener=r._addLongPressListener(r._handleInitialEvent,i)});this._removeInitialEventListener=function(){n(),s()}}},{key:"_dropFromOutsideListener",value:function(r){var n=wl(r),s=n.pageX,i=n.pageY,o=n.clientX,l=n.clientY;this.emit("dropFromOutside",{x:s,y:i,clientX:o,clientY:l}),r.preventDefault()}},{key:"_dragOverFromOutsideListener",value:function(r){var n=wl(r),s=n.pageX,i=n.pageY,o=n.clientX,l=n.clientY;this.emit("dragOverFromOutside",{x:s,y:i,clientX:o,clientY:l}),r.preventDefault()}},{key:"_handleInitialEvent",value:function(r){if(this._initialEvent=r,!this.isDetached){var n=wl(r),s=n.clientX,i=n.clientY,o=n.pageX,l=n.pageY,c=this.container(),u,d;if(!(r.which===3||r.button===2||!yQ(c,s,i))){if(!this.globalMouse&&c&&!Ec(c,r.target)){var f=NQ(0),m=f.top,v=f.left,p=f.bottom,h=f.right;if(d=Ei(c),u=TN({top:d.top-m,left:d.left-v,bottom:d.bottom+p,right:d.right+h},{top:l,left:o}),!u)return}var j=this.emit("beforeSelect",this._initialEventData={isTouch:/^touch/.test(r.type),x:o,y:l,clientX:s,clientY:i});if(j!==!1)switch(r.type){case"mousedown":this._removeEndListener=pr("mouseup",this._handleTerminatingEvent),this._onEscListener=pr("keydown",this._handleTerminatingEvent),this._removeMoveListener=pr("mousemove",this._handleMoveEvent);break;case"touchstart":this._handleMoveEvent(r),this._removeEndListener=pr("touchend",this._handleTerminatingEvent),this._removeMoveListener=pr("touchmove",this._handleMoveEvent);break}}}}},{key:"_isWithinValidContainer",value:function(r){var n=r.target,s=this.validContainers;return!s||!s.length||!n?!0:s.some(function(i){return!!n.closest(i)})}},{key:"_handleTerminatingEvent",value:function(r){var n=this.selecting,s=this._selectRect;if(!n&&r.type.includes("key")&&(r=this._initialEvent),this.selecting=!1,this._removeEndListener&&this._removeEndListener(),this._removeMoveListener&&this._removeMoveListener(),this._selectRect=null,this._initialEvent=null,this._initialEventData=null,!!r){var i=!this.container||Ec(this.container(),r.target),o=this._isWithinValidContainer(r);return r.key==="Escape"||!o?this.emit("reset"):!n&&i?this._handleClickEvent(r):n?this.emit("select",s):this.emit("reset")}}},{key:"_handleClickEvent",value:function(r){var n=wl(r),s=n.pageX,i=n.pageY,o=n.clientX,l=n.clientY,c=new Date().getTime();return this._lastClickData&&c-this._lastClickData.timestamp<wQ?(this._lastClickData=null,this.emit("doubleClick",{x:s,y:i,clientX:o,clientY:l})):(this._lastClickData={timestamp:c},this.emit("click",{x:s,y:i,clientX:o,clientY:l}))}},{key:"_handleMoveEvent",value:function(r){if(!(this._initialEventData===null||this.isDetached)){var n=this._initialEventData,s=n.x,i=n.y,o=wl(r),l=o.pageX,c=o.pageY,u=Math.abs(s-l),d=Math.abs(i-c),f=Math.min(l,s),m=Math.min(c,i),v=this.selecting,p=this.isClick(l,c);p&&!v&&!(u||d)||(!v&&!p&&this.emit("selectStart",this._initialEventData),p||(this.selecting=!0,this._selectRect={top:m,left:f,x:l,y:c,right:f+u,bottom:m+d},this.emit("selecting",this._selectRect)),r.preventDefault())}}},{key:"_keyListener",value:function(r){this.ctrl=r.metaKey||r.ctrlKey}},{key:"isClick",value:function(r,n){var s=this._initialEventData,i=s.x,o=s.y,l=s.isTouch;return!l&&Math.abs(r-i)<=AN&&Math.abs(n-o)<=AN}}])}();function NQ(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return On(e)!=="object"&&(e={top:e,left:e,right:e,bottom:e}),e}function TN(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,n=Ei(e),s=n.top,i=n.left,o=n.right,l=o===void 0?i:o,c=n.bottom,u=c===void 0?s:c,d=Ei(t),f=d.top,m=d.left,v=d.right,p=v===void 0?m:v,h=d.bottom,j=h===void 0?f:h;return!(u-r<f||s+r>j||l-r<m||i+r>p)}function Ei(e){if(!e.getBoundingClientRect)return e;var t=e.getBoundingClientRect(),r=t.left+_N("left"),n=t.top+_N("top");return{top:n,left:r,right:(e.offsetWidth||0)+r,bottom:(e.offsetHeight||0)+n}}function _N(e){if(e==="left")return window.pageXOffset||document.body.scrollLeft||0;if(e==="top")return window.pageYOffset||document.body.scrollTop||0}var jQ=function(e){function t(r,n){var s;return Zt(this,t),s=wr(this,t,[r,n]),s.state={selecting:!1},s.containerRef=w.createRef(),s}return br(t,e),er(t,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"componentDidUpdate",value:function(n){!n.selectable&&this.props.selectable&&this._selectable(),n.selectable&&!this.props.selectable&&this._teardownSelectable()}},{key:"render",value:function(){var n=this.props,s=n.range,i=n.getNow,o=n.getters,l=n.date,c=n.components.dateCellWrapper,u=n.localizer,d=this.state,f=d.selecting,m=d.startIdx,v=d.endIdx,p=i();return U.createElement("div",{className:"rbc-row-bg",ref:this.containerRef},s.map(function(h,j){var x=f&&j>=m&&j<=v,b=o.dayProp(h),N=b.className,g=b.style;return U.createElement(c,{key:j,value:h,range:s},U.createElement("div",{style:g,className:Lt("rbc-day-bg",N,x&&"rbc-selected-cell",u.isSameDate(h,p)&&"rbc-today",l&&u.neq(l,h,"month")&&"rbc-off-range-bg")}))}))}},{key:"_selectable",value:function(){var n=this,s=this.containerRef.current,i=this._selector=new BD(this.props.container,{longPressThreshold:this.props.longPressThreshold}),o=function(c,u){if(!Pf(s,c)&&!bQ(s,c)){var d=Ei(s),f=n.props,m=f.range,v=f.rtl;if(fQ(d,c)){var p=LD(d,c.x,v,m.length);n._selectSlot({startIdx:p,endIdx:p,action:u,box:c})}}n._initial={},n.setState({selecting:!1})};i.on("selecting",function(l){var c=n.props,u=c.range,d=c.rtl,f=-1,m=-1;if(n.state.selecting||(Nt(n.props.onSelectStart,[l]),n._initial={x:l.x,y:l.y}),i.isSelected(s)){var v=Ei(s),p=mQ(n._initial,v,l,u.length,d);f=p.startIdx,m=p.endIdx}n.setState({selecting:!0,startIdx:f,endIdx:m})}),i.on("beforeSelect",function(l){if(n.props.selectable==="ignoreEvents")return!Pf(n.containerRef.current,l)}),i.on("click",function(l){return o(l,"click")}),i.on("doubleClick",function(l){return o(l,"doubleClick")}),i.on("select",function(l){n._selectSlot(yt(yt({},n.state),{},{action:"select",bounds:l})),n._initial={},n.setState({selecting:!1}),Nt(n.props.onSelectEnd,[n.state])})}},{key:"_teardownSelectable",value:function(){this._selector&&(this._selector.teardown(),this._selector=null)}},{key:"_selectSlot",value:function(n){var s=n.endIdx,i=n.startIdx,o=n.action,l=n.bounds,c=n.box;s!==-1&&i!==-1&&this.props.onSelectSlot&&this.props.onSelectSlot({start:i,end:s,action:o,bounds:l,box:c,resourceId:this.props.resourceId})}}])}(U.Component),rn={propTypes:{slotMetrics:Ae.object.isRequired,selected:Ae.object,isAllDay:Ae.bool,accessors:Ae.object.isRequired,localizer:Ae.object.isRequired,components:Ae.object.isRequired,getters:Ae.object.isRequired,onSelect:Ae.func,onDoubleClick:Ae.func,onKeyPress:Ae.func},defaultProps:{segments:[],selected:{}},renderEvent:function(t,r){var n=t.selected;t.isAllDay;var s=t.accessors,i=t.getters,o=t.onSelect,l=t.onDoubleClick,c=t.onKeyPress,u=t.localizer,d=t.slotMetrics,f=t.components,m=t.resizable,v=d.continuesPrior(r),p=d.continuesAfter(r);return U.createElement(ID,{event:r,getters:i,localizer:u,accessors:s,components:f,onSelect:o,onDoubleClick:l,onKeyPress:c,continuesPrior:v,continuesAfter:p,slotStart:d.first,slotEnd:d.last,selected:Fm(r,n),resizable:m})},renderSpan:function(t,r,n){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:" ",i=Math.abs(r)/t*100+"%";return U.createElement("div",{key:n,className:"rbc-row-segment",style:{WebkitFlexBasis:i,flexBasis:i,maxWidth:i}},s)}},WD=function(e){function t(){return Zt(this,t),wr(this,t,arguments)}return br(t,e),er(t,[{key:"render",value:function(){var n=this,s=this.props,i=s.segments,o=s.slotMetrics.slots,l=s.className,c=1;return U.createElement("div",{className:Lt(l,"rbc-row")},i.reduce(function(u,d,f){var m=d.event,v=d.left,p=d.right,h=d.span,j="_lvl_"+f,x=v-c,b=rn.renderEvent(n.props,m);return x&&u.push(rn.renderSpan(o,x,"".concat(j,"_gap"))),u.push(rn.renderSpan(o,h,j,b)),c=p+1,u},[]))}}])}(U.Component);WD.defaultProps=yt({},rn.defaultProps);function HD(e){var t=e.dateRange,r=e.unit,n=r===void 0?"day":r,s=e.localizer;return{first:t[0],last:s.add(t[t.length-1],1,n)}}function SQ(e,t,r,n){var s=HD({dateRange:t,localizer:n}),i=s.first,o=s.last,l=n.diff(i,o,"day"),c=n.max(n.startOf(r.start(e),"day"),i),u=n.min(n.ceil(r.end(e),"day"),o),d=E8(t,function(m){return n.isSameDate(m,c)}),f=n.diff(c,u,"day");return f=Math.min(f,l),f=Math.max(f-n.segmentOffset,1),{event:e,span:f,left:d+1,right:Math.max(d+f,1)}}function qg(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0,r,n,s,i=[],o=[];for(r=0;r<e.length;r++){for(s=e[r],n=0;n<i.length&&kQ(s,i[n]);n++);n>=t?o.push(s):(i[n]||(i[n]=[])).push(s)}for(r=0;r<i.length;r++)i[r].sort(function(l,c){return l.left-c.left});return{levels:i,extra:o}}function _c(e,t,r,n,s){var i={start:n.start(e),end:n.end(e)},o={start:t,end:r};return s.inEventRange({event:i,range:o})}function kQ(e,t){return t.some(function(r){return r.left<=e.right&&r.right>=e.left})}function DQ(e,t,r){var n=Rd(e),s=[],i=[];n.forEach(function(c){var u=t.start(c),d=t.end(c);r.daySpan(u,d)>1?s.push(c):i.push(c)});var o=s.sort(function(c,u){return Gg(c,u,t,r)}),l=i.sort(function(c,u){return Gg(c,u,t,r)});return[].concat(Rd(o),Rd(l))}function Gg(e,t,r,n){var s={start:r.start(e),end:r.end(e),allDay:r.allDay(e)},i={start:r.start(t),end:r.end(t),allDay:r.allDay(t)};return n.sortEvents({evtA:s,evtB:i})}var Kg=function(t,r){return t.left<=r&&t.right>=r},tp=function(t,r){return t.filter(function(n){return Kg(n,r)}).map(function(n){return n.event})},UD=function(e){function t(){return Zt(this,t),wr(this,t,arguments)}return br(t,e),er(t,[{key:"render",value:function(){for(var n=this.props,s=n.segments,i=n.slotMetrics.slots,o=qg(s).levels[0],l=1,c=1,u=[];l<=i;){var d="_lvl_"+l,f=o.filter(function(g){return Kg(g,l)})[0]||{},m=f.event,v=f.left,p=f.right,h=f.span;if(!m){var j=this.getHiddenEventsForSlot(s,l);if(j.length>0){var x=l-c;x&&u.push(rn.renderSpan(i,x,d+"_gap")),u.push(rn.renderSpan(i,1,d,this.renderShowMore(s,l))),c=l=l+1;continue}l++;continue}var b=Math.max(0,v-c);if(this.canRenderSlotEvent(v,h)){var N=rn.renderEvent(this.props,m);b&&u.push(rn.renderSpan(i,b,d+"_gap")),u.push(rn.renderSpan(i,h,d,N)),c=l=p+1}else b&&u.push(rn.renderSpan(i,b,d+"_gap")),u.push(rn.renderSpan(i,1,d,this.renderShowMore(s,l))),c=l=l+1}return U.createElement("div",{className:"rbc-row"},u)}},{key:"getHiddenEventsForSlot",value:function(n,s){var i=tp(n,s),o=qg(n).levels[0],l=o.filter(function(c){return Kg(c,s)}).map(function(c){return c.event});return i.filter(function(c){return!l.some(function(u){return u===c})})}},{key:"canRenderSlotEvent",value:function(n,s){var i=this.props.segments;return B8(n,n+s).every(function(o){var l=tp(i,o).length;return l===1})}},{key:"renderShowMore",value:function(n,s){var i=this,o=this.props,l=o.localizer,c=o.slotMetrics,u=o.components,d=c.getEventsForSlot(s),f=tp(n,s),m=f.length;if(u!=null&&u.showMore){var v=u.showMore,p=c.getDateForSlot(s-1);return m?U.createElement(v,{localizer:l,slotDate:p,slot:s,count:m,events:d,remainingEvents:f}):!1}return m?U.createElement("button",{type:"button",key:"sm_"+s,className:Lt("rbc-button-link","rbc-show-more"),onClick:function(j){return i.showMore(s,j)}},l.messages.showMore(m,f,d)):!1}},{key:"showMore",value:function(n,s){s.preventDefault(),s.stopPropagation(),this.props.onShowMore(n,s.target)}}])}(U.Component);UD.defaultProps=yt({},rn.defaultProps);var CQ=function(t){var r=t.children;return U.createElement("div",{className:"rbc-row-content-scroll-container"},r)},EQ=function(t,r){return t.left<=r&&t.right>=r},AQ=function(t,r){return t[0].range===r[0].range&&t[0].events===r[0].events};function VD(){return gD(function(e){for(var t=e.range,r=e.events,n=e.maxRows,s=e.minRows,i=e.accessors,o=e.localizer,l=HD({dateRange:t,localizer:o}),c=l.first,u=l.last,d=r.map(function(h){return SQ(h,t,i,o)}),f=qg(d,Math.max(n-1,1)),m=f.levels,v=f.extra,p=v.length>0?s-1:s;m.length<p;)m.push([]);return{first:c,last:u,levels:m,extra:v,range:t,slots:t.length,clone:function(j){var x=VD();return x(yt(yt({},e),j))},getDateForSlot:function(j){return t[j]},getSlotForDate:function(j){return t.find(function(x){return o.isSameDate(x,j)})},getEventsForSlot:function(j){return d.filter(function(x){return EQ(x,j)}).map(function(x){return x.event})},continuesPrior:function(j){return o.continuesPrior(i.start(j),c)},continuesAfter:function(j){var x=i.start(j),b=i.end(j);return o.continuesAfter(x,b,u)}}},AQ)}var Pc=function(e){function t(){var r;Zt(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=wr(this,t,[].concat(s)),r.handleSelectSlot=function(o){var l=r.props,c=l.range,u=l.onSelectSlot;u(c.slice(o.start,o.end+1),o)},r.handleShowMore=function(o,l){var c=r.props,u=c.range,d=c.onShowMore,f=r.slotMetrics(r.props),m=EL(r.containerRef.current,".rbc-row-bg")[0],v;m&&(v=m.children[o-1]);var p=f.getEventsForSlot(o);d(p,u[o-1],v,o,l)},r.getContainer=function(){var o=r.props.container;return o?o():r.containerRef.current},r.renderHeadingCell=function(o,l){var c=r.props,u=c.renderHeader,d=c.getNow,f=c.localizer;return u({date:o,key:"header_".concat(l),className:Lt("rbc-date-cell",f.isSameDate(o,d())&&"rbc-now")})},r.renderDummy=function(){var o=r.props,l=o.className,c=o.range,u=o.renderHeader,d=o.showAllEvents;return U.createElement("div",{className:l,ref:r.containerRef},U.createElement("div",{className:Lt("rbc-row-content",d&&"rbc-row-content-scrollable")},u&&U.createElement("div",{className:"rbc-row",ref:r.headingRowRef},c.map(r.renderHeadingCell)),U.createElement("div",{className:"rbc-row",ref:r.eventRowRef},U.createElement("div",{className:"rbc-row-segment"},U.createElement("div",{className:"rbc-event"},U.createElement("div",{className:"rbc-event-content"},""))))))},r.containerRef=w.createRef(),r.headingRowRef=w.createRef(),r.eventRowRef=w.createRef(),r.slotMetrics=VD(),r}return br(t,e),er(t,[{key:"getRowLimit",value:function(){var n,s=Jh(this.eventRowRef.current),i=(n=this.headingRowRef)!==null&&n!==void 0&&n.current?Jh(this.headingRowRef.current):0,o=Jh(this.containerRef.current)-i;return Math.max(Math.floor(o/s),1)}},{key:"render",value:function(){var n=this.props,s=n.date,i=n.rtl,o=n.range,l=n.className,c=n.selected,u=n.selectable,d=n.renderForMeasure,f=n.accessors,m=n.getters,v=n.components,p=n.getNow,h=n.renderHeader,j=n.onSelect,x=n.localizer,b=n.onSelectStart,N=n.onSelectEnd,g=n.onDoubleClick,A=n.onKeyPress,k=n.resourceId,_=n.longPressThreshold,O=n.isAllDay,R=n.resizable,I=n.showAllEvents;if(d)return this.renderDummy();var V=this.slotMetrics(this.props),Z=V.levels,Q=V.extra,G=I?CQ:Kn,xe=v.weekWrapper,re={selected:c,accessors:f,getters:m,localizer:x,components:v,onSelect:j,onDoubleClick:g,onKeyPress:A,resourceId:k,slotMetrics:V,resizable:R};return U.createElement("div",{className:l,role:"rowgroup",ref:this.containerRef},U.createElement(jQ,{localizer:x,date:s,getNow:p,rtl:i,range:o,selectable:u,container:this.getContainer,getters:m,onSelectStart:b,onSelectEnd:N,onSelectSlot:this.handleSelectSlot,components:v,longPressThreshold:_,resourceId:k}),U.createElement("div",{className:Lt("rbc-row-content",I&&"rbc-row-content-scrollable"),role:"row"},h&&U.createElement("div",{className:"rbc-row ",ref:this.headingRowRef},o.map(this.renderHeadingCell)),U.createElement(G,null,U.createElement(xe,Object.assign({isAllDay:O},re,{rtl:this.props.rtl}),Z.map(function(pe,ce){return U.createElement(WD,Object.assign({key:ce,segments:pe},re))}),!!Q.length&&U.createElement(UD,Object.assign({segments:Q,onShowMore:this.handleShowMore},re))))))}}])}(U.Component);Pc.defaultProps={minRows:0,maxRows:1/0};var c0=function(t){var r=t.label;return U.createElement("span",{role:"columnheader","aria-sort":"none"},r)},TQ=function(t){var r=t.label,n=t.drilldownView,s=t.onDrillDown;return n?U.createElement("button",{type:"button",className:"rbc-button-link",onClick:s},r):U.createElement("span",null,r)},_Q=["date","className"],PQ=function(t,r,n,s,i){return t.filter(function(o){return _c(o,r,n,s,i)})},Bm=function(e){function t(){var r;Zt(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=wr(this,t,[].concat(s)),r.getContainer=function(){return r.containerRef.current},r.renderWeek=function(o,l){var c=r.props,u=c.events,d=c.components,f=c.selectable,m=c.getNow,v=c.selected,p=c.date,h=c.localizer,j=c.longPressThreshold,x=c.accessors,b=c.getters,N=c.showAllEvents,g=r.state,A=g.needLimitMeasure,k=g.rowLimit,_=PQ(Rd(u),o[0],o[o.length-1],x,h),O=DQ(_,x,h);return U.createElement(Pc,{key:l,ref:l===0?r.slotRowRef:void 0,container:r.getContainer,className:"rbc-month-row",getNow:m,date:p,range:o,events:O,maxRows:N?1/0:k,selected:v,selectable:f,components:d,accessors:x,getters:b,localizer:h,renderHeader:r.readerDateHeading,renderForMeasure:A,onShowMore:r.handleShowMore,onSelect:r.handleSelectEvent,onDoubleClick:r.handleDoubleClickEvent,onKeyPress:r.handleKeyPressEvent,onSelectSlot:r.handleSelectSlot,longPressThreshold:j,rtl:r.props.rtl,resizable:r.props.resizable,showAllEvents:N})},r.readerDateHeading=function(o){var l=o.date,c=o.className,u=fs(o,_Q),d=r.props,f=d.date,m=d.getDrilldownView,v=d.localizer,p=v.neq(f,l,"month"),h=v.isSameDate(l,f),j=m(l),x=v.format(l,"dateFormat"),b=r.props.components.dateHeader||TQ;return U.createElement("div",Object.assign({},u,{className:Lt(c,p&&"rbc-off-range",h&&"rbc-current"),role:"cell"}),U.createElement(b,{label:x,date:l,drilldownView:j,isOffRange:p,onDrillDown:function(g){return r.handleHeadingClick(l,j,g)}}))},r.handleSelectSlot=function(o,l){r._pendingSelection=r._pendingSelection.concat(o),clearTimeout(r._selectTimer),r._selectTimer=setTimeout(function(){return r.selectDates(l)})},r.handleHeadingClick=function(o,l,c){c.preventDefault(),r.clearSelection(),Nt(r.props.onDrillDown,[o,l])},r.handleSelectEvent=function(){r.clearSelection();for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];Nt(r.props.onSelectEvent,l)},r.handleDoubleClickEvent=function(){r.clearSelection();for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];Nt(r.props.onDoubleClickEvent,l)},r.handleKeyPressEvent=function(){r.clearSelection();for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];Nt(r.props.onKeyPressEvent,l)},r.handleShowMore=function(o,l,c,u,d){var f=r.props,m=f.popup,v=f.onDrillDown,p=f.onShowMore,h=f.getDrilldownView,j=f.doShowMoreDrillDown;if(r.clearSelection(),m){var x=Vk(c,r.containerRef.current);r.setState({overlay:{date:l,events:o,position:x,target:d}})}else j&&Nt(v,[l,h(l)||Dr.DAY]);Nt(p,[o,l,u])},r.overlayDisplay=function(){r.setState({overlay:null})},r.state={rowLimit:5,needLimitMeasure:!0,date:null},r.containerRef=w.createRef(),r.slotRowRef=w.createRef(),r._bgRows=[],r._pendingSelection=[],r}return br(t,e),er(t,[{key:"componentDidMount",value:function(){var n=this,s;this.state.needLimitMeasure&&this.measureRowLimit(this.props),window.addEventListener("resize",this._resizeListener=function(){s||zk(function(){s=!1,n.setState({needLimitMeasure:!0})})},!1)}},{key:"componentDidUpdate",value:function(){this.state.needLimitMeasure&&this.measureRowLimit(this.props)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._resizeListener,!1)}},{key:"render",value:function(){var n=this.props,s=n.date,i=n.localizer,o=n.className,l=i.visibleDays(s,i),c=fL(l,7);return this._weekCount=c.length,U.createElement("div",{className:Lt("rbc-month-view",o),role:"table","aria-label":"Month View",ref:this.containerRef},U.createElement("div",{className:"rbc-row rbc-month-header",role:"row"},this.renderHeaders(c[0])),c.map(this.renderWeek),this.props.popup&&this.renderOverlay())}},{key:"renderHeaders",value:function(n){var s=this.props,i=s.localizer,o=s.components,l=n[0],c=n[n.length-1],u=o.header||c0;return i.range(l,c,"day").map(function(d,f){return U.createElement("div",{key:"header_"+f,className:"rbc-header"},U.createElement(u,{date:d,localizer:i,label:i.format(d,"weekdayFormat")}))})}},{key:"renderOverlay",value:function(){var n,s,i=this,o=(n=(s=this.state)===null||s===void 0?void 0:s.overlay)!==null&&n!==void 0?n:{},l=this.props,c=l.accessors,u=l.localizer,d=l.components,f=l.getters,m=l.selected,v=l.popupOffset,p=l.handleDragStart,h=function(){return i.setState({overlay:null})};return U.createElement(l0,{overlay:o,accessors:c,localizer:u,components:d,getters:f,selected:m,popupOffset:v,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:p,show:!!o.position,overlayDisplay:this.overlayDisplay,onHide:h})}},{key:"measureRowLimit",value:function(){this.setState({needLimitMeasure:!1,rowLimit:this.slotRowRef.current.getRowLimit()})}},{key:"selectDates",value:function(n){var s=this._pendingSelection.slice();this._pendingSelection=[],s.sort(function(l,c){return+l-+c});var i=new Date(s[0]),o=new Date(s[s.length-1]);o.setDate(s[s.length-1].getDate()+1),Nt(this.props.onSelectSlot,{slots:s,start:i,end:o,action:n.action,bounds:n.bounds,box:n.box})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}}],[{key:"getDerivedStateFromProps",value:function(n,s){var i=n.date,o=n.localizer;return{date:i,needLimitMeasure:o.neq(i,s.date,"month")}}}])}(U.Component);Bm.range=function(e,t){var r=t.localizer,n=r.firstVisibleDay(e,r),s=r.lastVisibleDay(e,r);return{start:n,end:s}};Bm.navigate=function(e,t,r){var n=r.localizer;switch(t){case Ur.PREVIOUS:return n.add(e,-1,"month");case Ur.NEXT:return n.add(e,1,"month");default:return e}};Bm.title=function(e,t){var r=t.localizer;return r.format(e,"monthHeaderFormat")};var PN=function(t){var r=t.min,n=t.max,s=t.step,i=t.slots,o=t.localizer;return"".concat(+o.startOf(r,"minutes"))+"".concat(+o.startOf(n,"minutes"))+"".concat(s,"-").concat(i)};function u0(e){for(var t=e.min,r=e.max,n=e.step,s=e.timeslots,i=e.localizer,o=PN({step:n,localizer:i}),l=1+i.getTotalMin(t,r),c=i.getMinutesFromMidnight(t),u=Math.ceil((l-1)/(n*s)),d=u*s,f=new Array(u),m=new Array(d),v=0;v<u;v++){f[v]=new Array(s);for(var p=0;p<s;p++){var h=v*s+p,j=h*n;m[h]=f[v][p]=i.getSlotDate(t,c,j)}}var x=m.length*n;m.push(i.getSlotDate(t,c,x));function b(N){var g=i.diff(t,N,"minutes")+i.getDstOffset(t,N);return Math.min(g,l)}return{groups:f,update:function(g){return PN(g)!==o?u0(g):this},dateIsInGroup:function(g,A){var k=f[A+1];return i.inRange(g,f[A][0],k?k[0]:r,"minutes")},nextSlot:function(g){var A=m[Math.min(m.findIndex(function(k){return k===g||i.eq(k,g)})+1,m.length-1)];return i.eq(A,g)&&(A=i.add(g,n,"minutes")),A},closestSlotToPosition:function(g){var A=Math.min(m.length-1,Math.max(0,Math.floor(g*d)));return m[A]},closestSlotFromPoint:function(g,A){var k=Math.abs(A.top-A.bottom);return this.closestSlotToPosition((g.y-A.top)/k)},closestSlotFromDate:function(g){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(i.lt(g,t,"minutes"))return m[0];if(i.gt(g,r,"minutes"))return m[m.length-1];var k=i.diff(t,g,"minutes");return m[(k-k%n)/n+A]},startsBeforeDay:function(g){return i.lt(g,t,"day")},startsAfterDay:function(g){return i.gt(g,r,"day")},startsBefore:function(g){return i.lt(i.merge(t,g),t,"minutes")},startsAfter:function(g){return i.gt(i.merge(r,g),r,"minutes")},getRange:function(g,A,k,_){k||(g=i.min(r,i.max(t,g))),_||(A=i.min(r,i.max(t,A)));var O=b(g),R=b(A),I=R>n*d&&!i.eq(r,A)?(O-n)/(n*d)*100:O/(n*d)*100;return{top:I,height:R/(n*d)*100-I,start:b(g),startDate:g,end:b(A),endDate:A}},getCurrentTimePosition:function(g){var A=b(g),k=A/(n*d)*100;return k}}}var RQ=function(){function e(t,r){var n=r.accessors,s=r.slotMetrics;Zt(this,e);var i=s.getRange(n.start(t),n.end(t)),o=i.start,l=i.startDate,c=i.end,u=i.endDate,d=i.top,f=i.height;this.start=o,this.end=c,this.startMs=+l,this.endMs=+u,this.top=d,this.height=f,this.data=t}return er(e,[{key:"_width",get:function(){if(this.rows){var r=this.rows.reduce(function(s,i){return Math.max(s,i.leaves.length+1)},0)+1;return 100/r}if(this.leaves){var n=100-this.container._width;return n/(this.leaves.length+1)}return this.row._width}},{key:"width",get:function(){var r=this._width,n=Math.min(100,this._width*1.7);if(this.rows)return n;if(this.leaves)return this.leaves.length>0?n:r;var s=this.row.leaves,i=s.indexOf(this);return i===s.length-1?r:n}},{key:"xOffset",get:function(){if(this.rows)return 0;if(this.leaves)return this.container._width;var r=this.row,n=r.leaves,s=r.xOffset,i=r._width,o=n.indexOf(this)+1;return s+o*i}}])}();function MQ(e,t,r){return Math.abs(t.start-e.start)<r||t.start>e.start&&t.start<e.end}function OQ(e){for(var t=iz(e,["startMs",function(l){return-l.endMs}]),r=[];t.length>0;){var n=t.shift();r.push(n);for(var s=0;s<t.length;s++){var i=t[s];if(!(n.endMs>i.startMs)){if(s>0){var o=t.splice(s,1)[0];r.push(o)}break}}}return r}function zD(e){for(var t=e.events,r=e.minimumStartDifference,n=e.slotMetrics,s=e.accessors,i=t.map(function(d){return new RQ(d,{slotMetrics:n,accessors:s})}),o=OQ(i),l=[],c=function(){var f=o[u],m=l.find(function(h){return h.end>f.start||Math.abs(f.start-h.start)<r});if(!m)return f.rows=[],l.push(f),1;f.container=m;for(var v=null,p=m.rows.length-1;!v&&p>=0;p--)MQ(m.rows[p],f,r)&&(v=m.rows[p]);v?(v.leaves.push(f),f.row=v):(f.leaves=[],m.rows.push(f))},u=0;u<o.length;u++)c();return o.map(function(d){return{event:d.data,style:{top:d.top,height:d.height,width:d.width,xOffset:Math.max(0,d.xOffset)}}})}function YD(e,t,r){for(var n=0;n<e.friends.length;++n)if(!(r.indexOf(e.friends[n])>-1)){t=t>e.friends[n].idx?t:e.friends[n].idx,r.push(e.friends[n]);var s=YD(e.friends[n],t,r);t=t>s?t:s}return t}function IQ(e){var t=e.events,r=e.minimumStartDifference,n=e.slotMetrics,s=e.accessors,i=zD({events:t,minimumStartDifference:r,slotMetrics:n,accessors:s});i.sort(function(xe,re){return xe=xe.style,re=re.style,xe.top!==re.top?xe.top>re.top?1:-1:xe.height!==re.height?xe.top+xe.height<re.top+re.height?1:-1:0});for(var o=0;o<i.length;++o)i[o].friends=[],delete i[o].style.left,delete i[o].style.left,delete i[o].idx,delete i[o].size;for(var l=0;l<i.length-1;++l)for(var c=i[l],u=c.style.top,d=c.style.top+c.style.height,f=l+1;f<i.length;++f){var m=i[f],v=m.style.top,p=m.style.top+m.style.height;(v>=u&&p<=d||p>u&&p<=d||v>=u&&v<d)&&(c.friends.push(m),m.friends.push(c))}for(var h=0;h<i.length;++h){for(var j=i[h],x=[],b=0;b<100;++b)x.push(1);for(var N=0;N<j.friends.length;++N)j.friends[N].idx!==void 0&&(x[j.friends[N].idx]=0);j.idx=x.indexOf(1)}for(var g=0;g<i.length;++g){var A=0;if(!i[g].size){var k=[],_=YD(i[g],0,k);A=100/(_+1),i[g].size=A;for(var O=0;O<k.length;++O)k[O].size=A}}for(var R=0;R<i.length;++R){var I=i[R];I.style.left=I.idx*I.size;for(var V=0,Z=0;Z<I.friends.length;++Z){var Q=I.friends[Z].idx;V=V>Q?V:Q}V<=I.idx&&(I.size=100-I.idx*I.size);var G=I.idx===0?0:3;I.style.width="calc(".concat(I.size,"% - ").concat(G,"px)"),I.style.height="calc(".concat(I.style.height,"% - 2px)"),I.style.xOffset="calc(".concat(I.style.left,"% + ").concat(G,"px)")}return i}var RN={overlap:zD,"no-overlap":IQ};function $Q(e){return!!(e&&e.constructor&&e.call&&e.apply)}function LQ(e){e.events,e.minimumStartDifference,e.slotMetrics,e.accessors;var t=e.dayLayoutAlgorithm,r=t;return t in RN&&(r=RN[t]),$Q(r)?r.apply(this,arguments):[]}var qD=function(e){function t(){return Zt(this,t),wr(this,t,arguments)}return br(t,e),er(t,[{key:"render",value:function(){var n=this.props,s=n.renderSlot,i=n.resource,o=n.group,l=n.getters,c=n.components,u=c===void 0?{}:c,d=u.timeSlotWrapper,f=d===void 0?Kn:d,m=l?l.slotGroupProp(o):{};return U.createElement("div",Object.assign({className:"rbc-timeslot-group"},m),o.map(function(v,p){var h=l?l.slotProp(v,i):{};return U.createElement(f,{key:p,value:v,resource:i},U.createElement("div",Object.assign({},h,{className:Lt("rbc-time-slot",h.className)}),s&&s(v,p)))}))}}])}(w.Component);function rd(e){return typeof e=="string"?e:e+"%"}function FQ(e){var t=e.style,r=e.className,n=e.event,s=e.accessors,i=e.rtl,o=e.selected,l=e.label,c=e.continuesPrior,u=e.continuesAfter,d=e.getters,f=e.onClick,m=e.onDoubleClick,v=e.isBackgroundEvent,p=e.onKeyPress,h=e.components,j=h.event,x=h.eventWrapper,b=s.title(n),N=s.tooltip(n),g=s.end(n),A=s.start(n),k=d.eventProp(n,A,g,o),_=[U.createElement("div",{key:"1",className:"rbc-event-label"},l),U.createElement("div",{key:"2",className:"rbc-event-content"},j?U.createElement(j,{event:n,title:b}):b)],O=t.height,R=t.top,I=t.width,V=t.xOffset,Z=yt(yt({},k.style),{},Ka({top:rd(R),height:rd(O),width:rd(I)},i?"right":"left",rd(V)));return U.createElement(x,Object.assign({type:"time"},e),U.createElement("div",{role:"button",tabIndex:0,onClick:f,onDoubleClick:m,style:Z,onKeyDown:p,title:N?(typeof l=="string"?l+": ":"")+N:void 0,className:Lt(v?"rbc-background-event":"rbc-event",r,k.className,{"rbc-selected":o,"rbc-event-continues-earlier":c,"rbc-event-continues-later":u})},_))}var BQ=function(t){var r=t.children,n=t.className,s=t.style,i=t.innerRef;return U.createElement("div",{className:n,style:s,ref:i},r)},WQ=U.forwardRef(function(e,t){return U.createElement(BQ,Object.assign({},e,{innerRef:t}))}),HQ=["dayProp"],UQ=["eventContainerWrapper","timeIndicatorWrapper"],GD=function(e){function t(){var r;Zt(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=wr(this,t,[].concat(s)),r.state={selecting:!1,timeIndicatorPosition:null},r.intervalTriggered=!1,r.renderEvents=function(o){var l=o.events,c=o.isBackgroundEvent,u=r.props,d=u.rtl,f=u.selected,m=u.accessors,v=u.localizer,p=u.getters,h=u.components,j=u.step,x=u.timeslots,b=u.dayLayoutAlgorithm,N=u.resizable,g=r,A=g.slotMetrics,k=v.messages,_=LQ({events:l,accessors:m,slotMetrics:A,minimumStartDifference:Math.ceil(j*x/2),dayLayoutAlgorithm:b});return _.map(function(O,R){var I,V=O.event,Z=O.style,Q=m.end(V),G=m.start(V),xe=(I=m.eventId(V))!==null&&I!==void 0?I:"evt_"+R,re="eventTimeRangeFormat",pe,ce=A.startsBeforeDay(G),q=A.startsAfterDay(Q);ce?re="eventTimeRangeEndFormat":q&&(re="eventTimeRangeStartFormat"),ce&&q?pe=k.allDay:pe=v.format({start:G,end:Q},re);var oe=ce||A.startsBefore(G),J=q||A.startsAfter(Q);return U.createElement(FQ,{style:Z,event:V,label:pe,key:xe,getters:p,rtl:d,components:h,continuesPrior:oe,continuesAfter:J,accessors:m,resource:r.props.resource,selected:Fm(V,f),onClick:function(ae){return r._select(yt(yt(yt({},V),r.props.resource&&{sourceResource:r.props.resource}),c&&{isBackgroundEvent:!0}),ae)},onDoubleClick:function(ae){return r._doubleClick(V,ae)},isBackgroundEvent:c,onKeyPress:function(ae){return r._keyPress(V,ae)},resizable:N})})},r._selectable=function(){var o=r.containerRef.current,l=r.props,c=l.longPressThreshold,u=l.localizer,d=r._selector=new BD(function(){return o},{longPressThreshold:c}),f=function(h){var j=r.props.onSelecting,x=r.state||{},b=m(h),N=b.startDate,g=b.endDate;j&&(u.eq(x.startDate,N,"minutes")&&u.eq(x.endDate,g,"minutes")||j({start:N,end:g,resourceId:r.props.resource})===!1)||(r.state.start!==b.start||r.state.end!==b.end||r.state.selecting!==b.selecting)&&r.setState(b)},m=function(h){var j=r.slotMetrics.closestSlotFromPoint(h,Ei(o));r.state.selecting||(r._initialSlot=j);var x=r._initialSlot;u.lte(x,j)?j=r.slotMetrics.nextSlot(j):u.gt(x,j)&&(x=r.slotMetrics.nextSlot(x));var b=r.slotMetrics.getRange(u.min(x,j),u.max(x,j));return yt(yt({},b),{},{selecting:!0,top:"".concat(b.top,"%"),height:"".concat(b.height,"%")})},v=function(h,j){if(!Pf(r.containerRef.current,h)){var x=m(h),b=x.startDate,N=x.endDate;r._selectSlot({startDate:b,endDate:N,action:j,box:h})}r.setState({selecting:!1})};d.on("selecting",f),d.on("selectStart",f),d.on("beforeSelect",function(p){if(r.props.selectable==="ignoreEvents")return!Pf(r.containerRef.current,p)}),d.on("click",function(p){return v(p,"click")}),d.on("doubleClick",function(p){return v(p,"doubleClick")}),d.on("select",function(p){r.state.selecting&&(r._selectSlot(yt(yt({},r.state),{},{action:"select",bounds:p})),r.setState({selecting:!1}))}),d.on("reset",function(){r.state.selecting&&r.setState({selecting:!1})})},r._teardownSelectable=function(){r._selector&&(r._selector.teardown(),r._selector=null)},r._selectSlot=function(o){for(var l=o.startDate,c=o.endDate,u=o.action,d=o.bounds,f=o.box,m=l,v=[];r.props.localizer.lte(m,c);)v.push(m),m=new Date(+m+r.props.step*60*1e3);Nt(r.props.onSelectSlot,{slots:v,start:l,end:c,resourceId:r.props.resource,action:u,bounds:d,box:f})},r._select=function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];Nt(r.props.onSelectEvent,l)},r._doubleClick=function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];Nt(r.props.onDoubleClickEvent,l)},r._keyPress=function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];Nt(r.props.onKeyPressEvent,l)},r.slotMetrics=u0(r.props),r.containerRef=w.createRef(),r}return br(t,e),er(t,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable(),this.props.isNow&&this.setTimeIndicatorPositionUpdateInterval()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable(),this.clearTimeIndicatorInterval()}},{key:"componentDidUpdate",value:function(n,s){this.props.selectable&&!n.selectable&&this._selectable(),!this.props.selectable&&n.selectable&&this._teardownSelectable();var i=this.props,o=i.getNow,l=i.isNow,c=i.localizer,u=i.date,d=i.min,f=i.max,m=c.neq(n.getNow(),o(),"minutes");if(n.isNow!==l||m){if(this.clearTimeIndicatorInterval(),l){var v=!m&&c.eq(n.date,u,"minutes")&&s.timeIndicatorPosition===this.state.timeIndicatorPosition;this.setTimeIndicatorPositionUpdateInterval(v)}}else l&&(c.neq(n.min,d,"minutes")||c.neq(n.max,f,"minutes"))&&this.positionTimeIndicator()}},{key:"setTimeIndicatorPositionUpdateInterval",value:function(){var n=this,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;!this.intervalTriggered&&!s&&this.positionTimeIndicator(),this._timeIndicatorTimeout=window.setTimeout(function(){n.intervalTriggered=!0,n.positionTimeIndicator(),n.setTimeIndicatorPositionUpdateInterval()},6e4)}},{key:"clearTimeIndicatorInterval",value:function(){this.intervalTriggered=!1,window.clearTimeout(this._timeIndicatorTimeout)}},{key:"positionTimeIndicator",value:function(){var n=this.props,s=n.min,i=n.max,o=n.getNow,l=o();if(l>=s&&l<=i){var c=this.slotMetrics.getCurrentTimePosition(l);this.intervalTriggered=!0,this.setState({timeIndicatorPosition:c})}else this.clearTimeIndicatorInterval()}},{key:"render",value:function(){var n=this.props,s=n.date,i=n.max,o=n.rtl,l=n.isNow,c=n.resource,u=n.accessors,d=n.localizer,f=n.getters,m=f.dayProp,v=fs(f,HQ),p=n.components,h=p.eventContainerWrapper,j=p.timeIndicatorWrapper,x=fs(p,UQ);this.slotMetrics=this.slotMetrics.update(this.props);var b=this.slotMetrics,N=this.state,g=N.selecting,A=N.top,k=N.height,_=N.startDate,O=N.endDate,R={start:_,end:O},I=m(i,c),V=I.className,Z=I.style,Q={className:"rbc-current-time-indicator",style:{top:"".concat(this.state.timeIndicatorPosition,"%")}},G=x.dayColumnWrapper||WQ;return U.createElement(G,{ref:this.containerRef,date:s,style:Z,className:Lt(V,"rbc-day-slot","rbc-time-column",l&&"rbc-now",l&&"rbc-today",g&&"rbc-slot-selecting"),slotMetrics:b,resource:c},b.groups.map(function(xe,re){return U.createElement(qD,{key:re,group:xe,resource:c,getters:v,components:x})}),U.createElement(h,{localizer:d,resource:c,accessors:u,getters:v,components:x,slotMetrics:b},U.createElement("div",{className:Lt("rbc-events-container",o&&"rtl")},this.renderEvents({events:this.props.backgroundEvents,isBackgroundEvent:!0}),this.renderEvents({events:this.props.events}))),g&&U.createElement("div",{className:"rbc-slot-selection",style:{top:A,height:k}},U.createElement("span",null,d.format(R,"selectRangeFormat"))),l&&this.intervalTriggered&&U.createElement(j,Q,U.createElement("div",Q)))}}])}(U.Component);GD.defaultProps={dragThroughEvents:!0,timeslots:2};var KD=function(t){var r=t.label;return U.createElement(U.Fragment,null,r)},VQ=function(e){function t(){var r;Zt(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=wr(this,t,[].concat(s)),r.handleHeaderClick=function(o,l,c){c.preventDefault(),Nt(r.props.onDrillDown,[o,l])},r.renderRow=function(o){var l=r.props,c=l.events,u=l.rtl,d=l.selectable,f=l.getNow,m=l.range,v=l.getters,p=l.localizer,h=l.accessors,j=l.components,x=l.resizable,b=h.resourceId(o),N=o?c.filter(function(g){return h.resource(g)===b}):c;return U.createElement(Pc,{isAllDay:!0,rtl:u,getNow:f,minRows:2,maxRows:r.props.allDayMaxRows+1,range:m,events:N,resourceId:b,className:"rbc-allday-cell",selectable:d,selected:r.props.selected,components:j,accessors:h,getters:v,localizer:p,onSelect:r.props.onSelectEvent,onShowMore:r.props.onShowMore,onDoubleClick:r.props.onDoubleClickEvent,onKeyPress:r.props.onKeyPressEvent,onSelectSlot:r.props.onSelectSlot,longPressThreshold:r.props.longPressThreshold,resizable:x})},r}return br(t,e),er(t,[{key:"renderHeaderCells",value:function(n){var s=this,i=this.props,o=i.localizer,l=i.getDrilldownView,c=i.getNow,u=i.getters.dayProp,d=i.components.header,f=d===void 0?c0:d,m=c();return n.map(function(v,p){var h=l(v),j=o.format(v,"dayFormat"),x=u(v),b=x.className,N=x.style,g=U.createElement(f,{date:v,label:j,localizer:o});return U.createElement("div",{key:p,style:N,className:Lt("rbc-header",b,o.isSameDate(v,m)&&"rbc-today")},h?U.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(k){return s.handleHeaderClick(v,h,k)}},g):U.createElement("span",null,g))})}},{key:"render",value:function(){var n=this,s=this.props,i=s.width,o=s.rtl,l=s.resources,c=s.range,u=s.events,d=s.getNow,f=s.accessors,m=s.selectable,v=s.components,p=s.getters,h=s.scrollRef,j=s.localizer,x=s.isOverflowing,b=s.components,N=b.timeGutterHeader,g=b.resourceHeader,A=g===void 0?KD:g,k=s.resizable,_={};x&&(_[o?"marginLeft":"marginRight"]="".concat(Hx()-1,"px"));var O=l.groupEvents(u);return U.createElement("div",{style:_,ref:h,className:Lt("rbc-time-header",x&&"rbc-overflowing")},U.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:i,minWidth:i,maxWidth:i}},N&&U.createElement(N,null)),l.map(function(R,I){var V=cn(R,2),Z=V[0],Q=V[1];return U.createElement("div",{className:"rbc-time-header-content",key:Z||I},Q&&U.createElement("div",{className:"rbc-row rbc-row-resource",key:"resource_".concat(I)},U.createElement("div",{className:"rbc-header"},U.createElement(A,{index:I,label:f.resourceTitle(Q),resource:Q}))),U.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(c.length<=1?" rbc-time-header-cell-single-day":"")},n.renderHeaderCells(c)),U.createElement(Pc,{isAllDay:!0,rtl:o,getNow:d,minRows:2,maxRows:n.props.allDayMaxRows+1,range:c,events:O.get(Z)||[],resourceId:Q&&Z,className:"rbc-allday-cell",selectable:m,selected:n.props.selected,components:v,accessors:f,getters:p,localizer:j,onSelect:n.props.onSelectEvent,onShowMore:n.props.onShowMore,onDoubleClick:n.props.onDoubleClickEvent,onKeyDown:n.props.onKeyPressEvent,onSelectSlot:n.props.onSelectSlot,longPressThreshold:n.props.longPressThreshold,resizable:k}))}))}}])}(U.Component),zQ=function(e){function t(){var r;Zt(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=wr(this,t,[].concat(s)),r.handleHeaderClick=function(o,l,c){c.preventDefault(),Nt(r.props.onDrillDown,[o,l])},r}return br(t,e),er(t,[{key:"renderHeaderCells",value:function(n){var s=this,i=this.props,o=i.localizer,l=i.getDrilldownView,c=i.getNow,u=i.getters.dayProp,d=i.components,f=d.header,m=f===void 0?c0:f,v=d.resourceHeader,p=v===void 0?KD:v,h=i.resources,j=i.accessors,x=i.events,b=i.rtl,N=i.selectable,g=i.components,A=i.getters,k=i.resizable,_=c(),O=h.groupEvents(x);return n.map(function(R,I){var V=l(R),Z=o.format(R,"dayFormat"),Q=u(R),G=Q.className,xe=Q.style,re=U.createElement(m,{date:R,label:Z,localizer:o});return U.createElement("div",{key:I,className:"rbc-time-header-content rbc-resource-grouping"},U.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(n.length<=1?" rbc-time-header-cell-single-day":"")},U.createElement("div",{style:xe,className:Lt("rbc-header",G,o.isSameDate(R,_)&&"rbc-today")},V?U.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(ce){return s.handleHeaderClick(R,V,ce)}},re):U.createElement("span",null,re))),U.createElement("div",{className:"rbc-row"},h.map(function(pe,ce){var q=cn(pe,2),oe=q[0],J=q[1];return U.createElement("div",{key:"resource_".concat(oe,"_").concat(ce),className:Lt("rbc-header",G,o.isSameDate(R,_)&&"rbc-today")},U.createElement(p,{index:ce,label:j.resourceTitle(J),resource:J}))})),U.createElement("div",{className:"rbc-row rbc-m-b-negative-3 rbc-h-full"},h.map(function(pe,ce){var q=cn(pe,2),oe=q[0],J=q[1],H=(O.get(oe)||[]).filter(function(ae){return o.isSameDate(ae.start,R)||o.isSameDate(ae.end,R)});return U.createElement(Pc,{key:"resource_".concat(oe,"_").concat(ce),isAllDay:!0,rtl:b,getNow:c,minRows:2,maxRows:s.props.allDayMaxRows+1,range:[R],events:H,resourceId:J&&oe,className:"rbc-allday-cell",selectable:N,selected:s.props.selected,components:g,accessors:j,getters:A,localizer:o,onSelect:s.props.onSelectEvent,onShowMore:s.props.onShowMore,onDoubleClick:s.props.onDoubleClickEvent,onKeyDown:s.props.onKeyPressEvent,onSelectSlot:s.props.onSelectSlot,longPressThreshold:s.props.longPressThreshold,resizable:k})})))})}},{key:"render",value:function(){var n=this.props,s=n.width,i=n.rtl,o=n.range,l=n.scrollRef,c=n.isOverflowing,u=n.components.timeGutterHeader,d={};return c&&(d[i?"marginLeft":"marginRight"]="".concat(Hx()-1,"px")),U.createElement("div",{style:d,ref:l,className:Lt("rbc-time-header",c&&"rbc-overflowing")},U.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:s,minWidth:s,maxWidth:s}},u&&U.createElement(u,null)),this.renderHeaderCells(o))}}])}(U.Component);function YQ(e){var t=e.min,r=e.max,n=e.localizer;return n.getTimezoneOffset(t)!==n.getTimezoneOffset(r)?{start:n.add(t,-1,"day"),end:n.add(r,-1,"day")}:{start:t,end:r}}var qQ=function(t){var r=t.min,n=t.max,s=t.timeslots,i=t.step,o=t.localizer,l=t.getNow,c=t.resource,u=t.components,d=t.getters,f=t.gutterRef,m=u.timeGutterWrapper,v=w.useMemo(function(){return YQ({min:r,max:n,localizer:o})},[r==null?void 0:r.toISOString(),n==null?void 0:n.toISOString(),o]),p=v.start,h=v.end,j=w.useState(u0({min:p,max:h,timeslots:s,step:i,localizer:o})),x=cn(j,2),b=x[0],N=x[1];w.useEffect(function(){b&&N(b.update({min:p,max:h,timeslots:s,step:i,localizer:o}))},[p==null?void 0:p.toISOString(),h==null?void 0:h.toISOString(),s,i]);var g=w.useCallback(function(A,k){if(k)return null;var _=b.dateIsInGroup(l(),k);return U.createElement("span",{className:Lt("rbc-label",_&&"rbc-now")},o.format(A,"timeGutterFormat"))},[b,o,l]);return U.createElement(m,{slotMetrics:b},U.createElement("div",{className:"rbc-time-gutter rbc-time-column",ref:f},b.groups.map(function(A,k){return U.createElement(qD,{key:k,group:A,resource:c,components:u,renderSlot:g,getters:d})})))},GQ=U.forwardRef(function(e,t){return U.createElement(qQ,Object.assign({gutterRef:t},e))}),rp={};function KQ(e,t){return{map:function(n){return e?e.map(function(s,i){return n([t.resourceId(s),s],i)}):[n([rp,null],0)]},groupEvents:function(n){var s=new Map;return e?(n.forEach(function(i){var o=t.resource(i)||rp;if(Array.isArray(o))o.forEach(function(c){var u=s.get(c)||[];u.push(i),s.set(c,u)});else{var l=s.get(o)||[];l.push(i),s.set(o,l)}}),s):(s.set(rp,n),s)}}}var el=function(e){function t(r){var n;return Zt(this,t),n=wr(this,t,[r]),n.handleScroll=function(s){n.scrollRef.current&&(n.scrollRef.current.scrollLeft=s.target.scrollLeft)},n.handleResize=function(){vw(n.rafHandle),n.rafHandle=zk(n.checkOverflow)},n.handleKeyPressEvent=function(){n.clearSelection();for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];Nt(n.props.onKeyPressEvent,i)},n.handleSelectEvent=function(){n.clearSelection();for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];Nt(n.props.onSelectEvent,i)},n.handleDoubleClickEvent=function(){n.clearSelection();for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];Nt(n.props.onDoubleClickEvent,i)},n.handleShowMore=function(s,i,o,l,c){var u=n.props,d=u.popup,f=u.onDrillDown,m=u.onShowMore,v=u.getDrilldownView,p=u.doShowMoreDrillDown;if(n.clearSelection(),d){var h=Vk(o,n.containerRef.current);n.setState({overlay:{date:i,events:s,position:yt(yt({},h),{},{width:"200px"}),target:c}})}else p&&Nt(f,[i,v(i)||Dr.DAY]);Nt(m,[s,i,l])},n.handleSelectAllDaySlot=function(s,i){var o=n.props.onSelectSlot,l=new Date(s[0]),c=new Date(s[s.length-1]);c.setDate(s[s.length-1].getDate()+1),Nt(o,{slots:s,start:l,end:c,action:i.action,resourceId:i.resourceId})},n.overlayDisplay=function(){n.setState({overlay:null})},n.checkOverflow=function(){if(!n._updatingOverflow){var s=n.contentRef.current;if(s!=null&&s.scrollHeight){var i=s.scrollHeight>s.clientHeight;n.state.isOverflowing!==i&&(n._updatingOverflow=!0,n.setState({isOverflowing:i},function(){n._updatingOverflow=!1}))}}},n.memoizedResources=gD(function(s,i){return KQ(s,i)}),n.state={gutterWidth:void 0,isOverflowing:null},n.scrollRef=U.createRef(),n.contentRef=U.createRef(),n.containerRef=U.createRef(),n._scrollRatio=null,n.gutterRef=w.createRef(),n}return br(t,e),er(t,[{key:"getSnapshotBeforeUpdate",value:function(){return this.checkOverflow(),null}},{key:"componentDidMount",value:function(){this.props.width==null&&this.measureGutter(),this.calculateScroll(),this.applyScroll(),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),vw(this.rafHandle),this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest)}},{key:"componentDidUpdate",value:function(){this.applyScroll()}},{key:"renderDayColumn",value:function(n,s,i,o,l,c,u,d,f,m){var v=this.props,p=v.min,h=v.max,j=(o.get(s)||[]).filter(function(b){return c.inRange(n,u.start(b),u.end(b),"day")}),x=(l.get(s)||[]).filter(function(b){return c.inRange(n,u.start(b),u.end(b),"day")});return U.createElement(GD,Object.assign({},this.props,{localizer:c,min:c.merge(n,p),max:c.merge(n,h),resource:i&&s,components:d,isNow:c.isSameDate(n,m),key:"".concat(s,"-").concat(n),date:n,events:j,backgroundEvents:x,dayLayoutAlgorithm:f}))}},{key:"renderResourcesFirst",value:function(n,s,i,o,l,c,u,d,f){var m=this;return s.map(function(v){var p=cn(v,2),h=p[0],j=p[1];return n.map(function(x){return m.renderDayColumn(x,h,j,i,o,l,c,d,f,u)})})}},{key:"renderRangeFirst",value:function(n,s,i,o,l,c,u,d,f){var m=this;return n.map(function(v){return U.createElement("div",{style:{display:"flex",minHeight:"100%",flex:1},key:v},s.map(function(p){var h=cn(p,2),j=h[0],x=h[1];return U.createElement("div",{style:{flex:1},key:c.resourceId(x)},m.renderDayColumn(v,j,x,i,o,l,c,d,f,u))}))})}},{key:"renderEvents",value:function(n,s,i,o){var l=this.props,c=l.accessors,u=l.localizer,d=l.resourceGroupingLayout,f=l.components,m=l.dayLayoutAlgorithm,v=this.memoizedResources(this.props.resources,c),p=v.groupEvents(s),h=v.groupEvents(i);return d?this.renderRangeFirst(n,v,p,h,u,c,o,f,m):this.renderResourcesFirst(n,v,p,h,u,c,o,f,m)}},{key:"render",value:function(){var n,s=this.props,i=s.events,o=s.backgroundEvents,l=s.range,c=s.width,u=s.rtl,d=s.selected,f=s.getNow,m=s.resources,v=s.components,p=s.accessors,h=s.getters,j=s.localizer,x=s.min,b=s.max,N=s.showMultiDayTimes,g=s.longPressThreshold,A=s.resizable,k=s.resourceGroupingLayout;c=c||this.state.gutterWidth;var _=l[0],O=l[l.length-1];this.slots=l.length;var R=[],I=[],V=[];i.forEach(function(Q){if(_c(Q,_,O,p,j)){var G=p.start(Q),xe=p.end(Q);p.allDay(Q)||j.startAndEndAreDateOnly(G,xe)||!N&&!j.isSameDate(G,xe)?R.push(Q):I.push(Q)}}),o.forEach(function(Q){_c(Q,_,O,p,j)&&V.push(Q)}),R.sort(function(Q,G){return Gg(Q,G,p,j)});var Z={range:l,events:R,width:c,rtl:u,getNow:f,localizer:j,selected:d,allDayMaxRows:this.props.showAllEvents?1/0:(n=this.props.allDayMaxRows)!==null&&n!==void 0?n:1/0,resources:this.memoizedResources(m,p),selectable:this.props.selectable,accessors:p,getters:h,components:v,scrollRef:this.scrollRef,isOverflowing:this.state.isOverflowing,longPressThreshold:g,onSelectSlot:this.handleSelectAllDaySlot,onSelectEvent:this.handleSelectEvent,onShowMore:this.handleShowMore,onDoubleClickEvent:this.props.onDoubleClickEvent,onKeyPressEvent:this.props.onKeyPressEvent,onDrillDown:this.props.onDrillDown,getDrilldownView:this.props.getDrilldownView,resizable:A};return U.createElement("div",{className:Lt("rbc-time-view",m&&"rbc-time-view-resources"),ref:this.containerRef},m&&m.length>1&&k?U.createElement(zQ,Z):U.createElement(VQ,Z),this.props.popup&&this.renderOverlay(),U.createElement("div",{ref:this.contentRef,className:"rbc-time-content",onScroll:this.handleScroll},U.createElement(GQ,{date:_,ref:this.gutterRef,localizer:j,min:j.merge(_,x),max:j.merge(_,b),step:this.props.step,getNow:this.props.getNow,timeslots:this.props.timeslots,components:v,className:"rbc-time-gutter",getters:h}),this.renderEvents(l,I,V,f())))}},{key:"renderOverlay",value:function(){var n,s,i=this,o=(n=(s=this.state)===null||s===void 0?void 0:s.overlay)!==null&&n!==void 0?n:{},l=this.props,c=l.accessors,u=l.localizer,d=l.components,f=l.getters,m=l.selected,v=l.popupOffset,p=l.handleDragStart,h=function(){return i.setState({overlay:null})};return U.createElement(l0,{overlay:o,accessors:c,localizer:u,components:d,getters:f,selected:m,popupOffset:v,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:p,show:!!o.position,overlayDisplay:this.overlayDisplay,onHide:h})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}},{key:"measureGutter",value:function(){var n=this;this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest),this.measureGutterAnimationFrameRequest=window.requestAnimationFrame(function(){var s,i=(s=n.gutterRef)!==null&&s!==void 0&&s.current?zg(n.gutterRef.current):void 0;i&&n.state.gutterWidth!==i&&n.setState({gutterWidth:i})})}},{key:"applyScroll",value:function(){if(this._scrollRatio!=null&&this.props.enableAutoScroll===!0){var n=this.contentRef.current;n.scrollTop=n.scrollHeight*this._scrollRatio,this._scrollRatio=null}}},{key:"calculateScroll",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,s=n.min,i=n.max,o=n.scrollToTime,l=n.localizer,c=l.diff(l.merge(o,s),o,"milliseconds"),u=l.diff(s,i,"milliseconds");this._scrollRatio=c/u}}])}(w.Component);el.defaultProps={step:30,timeslots:2,resourceGroupingLayout:!1};var QQ=["date","localizer","min","max","scrollToTime","enableAutoScroll"],Wm=function(e){function t(){return Zt(this,t),wr(this,t,arguments)}return br(t,e),er(t,[{key:"render",value:function(){var n=this.props,s=n.date,i=n.localizer,o=n.min,l=o===void 0?i.startOf(new Date,"day"):o,c=n.max,u=c===void 0?i.endOf(new Date,"day"):c,d=n.scrollToTime,f=d===void 0?i.startOf(new Date,"day"):d,m=n.enableAutoScroll,v=m===void 0?!0:m,p=fs(n,QQ),h=t.range(s,{localizer:i});return U.createElement(el,Object.assign({},p,{range:h,eventOffset:10,localizer:i,min:l,max:u,scrollToTime:f,enableAutoScroll:v}))}}])}(U.Component);Wm.range=function(e,t){var r=t.localizer;return[r.startOf(e,"day")]};Wm.navigate=function(e,t,r){var n=r.localizer;switch(t){case Ur.PREVIOUS:return n.add(e,-1,"day");case Ur.NEXT:return n.add(e,1,"day");default:return e}};Wm.title=function(e,t){var r=t.localizer;return r.format(e,"dayHeaderFormat")};var XQ=["date","localizer","min","max","scrollToTime","enableAutoScroll"],Ia=function(e){function t(){return Zt(this,t),wr(this,t,arguments)}return br(t,e),er(t,[{key:"render",value:function(){var n=this.props,s=n.date,i=n.localizer,o=n.min,l=o===void 0?i.startOf(new Date,"day"):o,c=n.max,u=c===void 0?i.endOf(new Date,"day"):c,d=n.scrollToTime,f=d===void 0?i.startOf(new Date,"day"):d,m=n.enableAutoScroll,v=m===void 0?!0:m,p=fs(n,XQ),h=t.range(s,this.props);return U.createElement(el,Object.assign({},p,{range:h,eventOffset:15,localizer:i,min:l,max:u,scrollToTime:f,enableAutoScroll:v}))}}])}(U.Component);Ia.defaultProps=el.defaultProps;Ia.navigate=function(e,t,r){var n=r.localizer;switch(t){case Ur.PREVIOUS:return n.add(e,-1,"week");case Ur.NEXT:return n.add(e,1,"week");default:return e}};Ia.range=function(e,t){var r=t.localizer,n=r.startOfWeek(),s=r.startOf(e,"week",n),i=r.endOf(e,"week",n);return r.range(s,i)};Ia.title=function(e,t){var r=t.localizer,n=Ia.range(e,{localizer:r}),s=jD(n),i=s[0],o=s.slice(1);return r.format({start:i,end:o.pop()},"dayRangeHeaderFormat")};var JQ=["date","localizer","min","max","scrollToTime","enableAutoScroll"];function d0(e,t){return Ia.range(e,t).filter(function(r){return[6,0].indexOf(r.getDay())===-1})}var pu=function(e){function t(){return Zt(this,t),wr(this,t,arguments)}return br(t,e),er(t,[{key:"render",value:function(){var n=this.props,s=n.date,i=n.localizer,o=n.min,l=o===void 0?i.startOf(new Date,"day"):o,c=n.max,u=c===void 0?i.endOf(new Date,"day"):c,d=n.scrollToTime,f=d===void 0?i.startOf(new Date,"day"):d,m=n.enableAutoScroll,v=m===void 0?!0:m,p=fs(n,JQ),h=d0(s,this.props);return U.createElement(el,Object.assign({},p,{range:h,eventOffset:15,localizer:i,min:l,max:u,scrollToTime:f,enableAutoScroll:v}))}}])}(U.Component);pu.defaultProps=el.defaultProps;pu.range=d0;pu.navigate=Ia.navigate;pu.title=function(e,t){var r=t.localizer,n=d0(e,{localizer:r}),s=jD(n),i=s[0],o=s.slice(1);return r.format({start:i,end:o.pop()},"dayRangeHeaderFormat")};var Hm=30;function Um(e){var t=e.accessors,r=e.components,n=e.date,s=e.events,i=e.getters,o=e.length,l=o===void 0?Hm:o,c=e.localizer,u=e.onDoubleClickEvent,d=e.onSelectEvent,f=e.selected,m=w.useRef(null),v=w.useRef(null),p=w.useRef(null),h=w.useRef(null),j=w.useRef(null);w.useEffect(function(){N()});var x=function(O,R,I){var V=r.event,Z=r.date;return R=R.filter(function(Q){return _c(Q,c.startOf(O,"day"),c.endOf(O,"day"),t,c)}),R.map(function(Q,G){var xe=t.title(Q),re=t.end(Q),pe=t.start(Q),ce=i.eventProp(Q,pe,re,Fm(Q,f)),q=G===0&&c.format(O,"agendaDateFormat"),oe=G===0?U.createElement("td",{rowSpan:R.length,className:"rbc-agenda-date-cell"},Z?U.createElement(Z,{day:O,label:q}):q):!1;return U.createElement("tr",{key:I+"_"+G,className:ce.className,style:ce.style},oe,U.createElement("td",{className:"rbc-agenda-time-cell"},b(O,Q)),U.createElement("td",{className:"rbc-agenda-event-cell",onClick:function(H){return d&&d(Q,H)},onDoubleClick:function(H){return u&&u(Q,H)}},V?U.createElement(V,{event:Q,title:xe}):xe))},[])},b=function(O,R){var I="",V=r.time,Z=c.messages.allDay,Q=t.end(R),G=t.start(R);return t.allDay(R)||(c.eq(G,Q)?Z=c.format(G,"agendaTimeFormat"):c.isSameDate(G,Q)?Z=c.format({start:G,end:Q},"agendaTimeRangeFormat"):c.isSameDate(O,G)?Z=c.format(G,"agendaTimeFormat"):c.isSameDate(O,Q)&&(Z=c.format(Q,"agendaTimeFormat"))),c.gt(O,G,"day")&&(I="rbc-continues-prior"),c.lt(O,Q,"day")&&(I+=" rbc-continues-after"),U.createElement("span",{className:I.trim()},V?U.createElement(V,{event:R,day:O,label:Z}):Z)},N=function(){if(j.current){var O=m.current,R=j.current.firstChild;if(R){var I=h.current.scrollHeight>h.current.clientHeight,V=[],Z=V;V=[zg(R.children[0]),zg(R.children[1])],(Z[0]!==V[0]||Z[1]!==V[1])&&(v.current.style.width=V[0]+"px",p.current.style.width=V[1]+"px"),I?(ZF(O,"rbc-header-overflowing"),O.style.marginRight=Hx()+"px"):e6(O,"rbc-header-overflowing")}}},g=c.messages,A=c.add(n,l,"day"),k=c.range(n,A,"day");return s=s.filter(function(_){return _c(_,c.startOf(n,"day"),c.endOf(A,"day"),t,c)}),s.sort(function(_,O){return+t.start(_)-+t.start(O)}),U.createElement("div",{className:"rbc-agenda-view"},s.length!==0?U.createElement(U.Fragment,null,U.createElement("table",{ref:m,className:"rbc-agenda-table"},U.createElement("thead",null,U.createElement("tr",null,U.createElement("th",{className:"rbc-header",ref:v},g.date),U.createElement("th",{className:"rbc-header",ref:p},g.time),U.createElement("th",{className:"rbc-header"},g.event)))),U.createElement("div",{className:"rbc-agenda-content",ref:h},U.createElement("table",{className:"rbc-agenda-table"},U.createElement("tbody",{ref:j},k.map(function(_,O){return x(_,s,O)}))))):U.createElement("span",{className:"rbc-agenda-empty"},g.noEventsInRange))}Um.range=function(e,t){var r=t.length,n=r===void 0?Hm:r,s=t.localizer,i=s.add(e,n,"day");return{start:e,end:i}};Um.navigate=function(e,t,r){var n=r.length,s=n===void 0?Hm:n,i=r.localizer;switch(t){case Ur.PREVIOUS:return i.add(e,-s,"day");case Ur.NEXT:return i.add(e,s,"day");default:return e}};Um.title=function(e,t){var r=t.length,n=r===void 0?Hm:r,s=t.localizer,i=s.add(e,n,"day");return s.format({start:e,end:i},"agendaHeaderFormat")};var Id=Ka(Ka(Ka(Ka(Ka({},Dr.MONTH,Bm),Dr.WEEK,Ia),Dr.WORK_WEEK,pu),Dr.DAY,Wm),Dr.AGENDA,Um),ZQ=["action","date","today"];function eX(e,t){var r=t.action,n=t.date,s=t.today,i=fs(t,ZQ);switch(e=typeof e=="string"?Id[e]:e,r){case Ur.TODAY:n=s||new Date;break;case Ur.DATE:break;default:vc(e&&typeof e.navigate=="function","Calendar View components must implement a static `.navigate(date, action)` method.s"),n=e.navigate(n,r,i)}return n}function tX(e,t){var r=null;return typeof t=="function"?r=t(e):typeof t=="string"&&On(e)==="object"&&e!=null&&t in e&&(r=e[t]),r}var bs=function(t){return function(r){return tX(r,t)}},rX=["view","date","getNow","onNavigate"],nX=["view","toolbar","events","backgroundEvents","resourceGroupingLayout","style","className","elementProps","date","getNow","length","showMultiDayTimes","onShowMore","doShowMoreDrillDown","components","formats","messages","culture"];function QD(e){if(Array.isArray(e))return e;for(var t=[],r=0,n=Object.entries(e);r<n.length;r++){var s=cn(n[r],2),i=s[0],o=s[1];o&&t.push(i)}return t}function sX(e,t){var r=t.views,n=QD(r);return n.indexOf(e)!==-1}var XD=function(e){function t(){var r;Zt(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=wr(this,t,[].concat(s)),r.getViews=function(){var o=r.props.views;return Array.isArray(o)?MK(o,function(l,c){return l[c]=Id[c]},{}):On(o)==="object"?Mz(o,function(l,c){return l===!0?Id[c]:l}):Id},r.getView=function(){var o=r.getViews();return o[r.props.view]},r.getDrilldownView=function(o){var l=r.props,c=l.view,u=l.drilldownView,d=l.getDrilldownView;return d?d(o,c,Object.keys(r.getViews())):u},r.handleRangeChange=function(o,l,c){var u=r.props,d=u.onRangeChange,f=u.localizer;d&&l.range&&d(l.range(o,{localizer:f}),c)},r.handleNavigate=function(o,l){var c=r.props,u=c.view,d=c.date,f=c.getNow,m=c.onNavigate,v=fs(c,rX),p=r.getView(),h=f();d=eX(p,yt(yt({},v),{},{action:o,date:l||d||h,today:h})),m(d,u,o),r.handleRangeChange(d,p)},r.handleViewChange=function(o){o!==r.props.view&&sX(o,r.props)&&r.props.onView(o);var l=r.getViews();r.handleRangeChange(r.props.date||r.props.getNow(),l[o],o)},r.handleSelectEvent=function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];Nt(r.props.onSelectEvent,l)},r.handleDoubleClickEvent=function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];Nt(r.props.onDoubleClickEvent,l)},r.handleKeyPressEvent=function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];Nt(r.props.onKeyPressEvent,l)},r.handleSelectSlot=function(o){Nt(r.props.onSelectSlot,o)},r.handleDrillDown=function(o,l){var c=r.props.onDrillDown;if(c){c(o,l,r.drilldownView);return}l&&r.handleViewChange(l),r.handleNavigate(Ur.DATE,o)},r.state={context:t.getContext(r.props)},r}return br(t,e),er(t,[{key:"render",value:function(){var n=this.props,s=n.view,i=n.toolbar,o=n.events,l=n.backgroundEvents,c=n.resourceGroupingLayout,u=n.style,d=n.className,f=n.elementProps,m=n.date,v=n.getNow,p=n.length,h=n.showMultiDayTimes,j=n.onShowMore,x=n.doShowMoreDrillDown;n.components,n.formats,n.messages,n.culture;var b=fs(n,nX);m=m||v();var N=this.getView(),g=this.state.context,A=g.accessors,k=g.components,_=g.getters,O=g.localizer,R=g.viewNames,I=k.toolbar||oQ,V=N.title(m,{localizer:O,length:p});return U.createElement("div",Object.assign({},f,{className:Lt(d,"rbc-calendar",b.rtl&&"rbc-rtl"),style:u}),i&&U.createElement(I,{date:m,view:s,views:R,label:V,onView:this.handleViewChange,onNavigate:this.handleNavigate,localizer:O}),U.createElement(N,Object.assign({},b,{events:o,backgroundEvents:l,date:m,getNow:v,length:p,localizer:O,getters:_,components:k,accessors:A,showMultiDayTimes:h,getDrilldownView:this.getDrilldownView,onNavigate:this.handleNavigate,onDrillDown:this.handleDrillDown,onSelectEvent:this.handleSelectEvent,onDoubleClickEvent:this.handleDoubleClickEvent,onKeyPressEvent:this.handleKeyPressEvent,onSelectSlot:this.handleSelectSlot,onShowMore:j,doShowMoreDrillDown:x,resourceGroupingLayout:c})))}}],[{key:"getDerivedStateFromProps",value:function(n){return{context:t.getContext(n)}}},{key:"getContext",value:function(n){var s=n.startAccessor,i=n.endAccessor,o=n.allDayAccessor,l=n.tooltipAccessor,c=n.titleAccessor,u=n.resourceAccessor,d=n.resourceIdAccessor,f=n.resourceTitleAccessor,m=n.eventIdAccessor,v=n.eventPropGetter,p=n.backgroundEventPropGetter,h=n.slotPropGetter,j=n.slotGroupPropGetter,x=n.dayPropGetter,b=n.view,N=n.views,g=n.localizer,A=n.culture,k=n.messages,_=k===void 0?{}:k,O=n.components,R=O===void 0?{}:O,I=n.formats,V=I===void 0?{}:I,Z=QD(N),Q=cQ(_);return{viewNames:Z,localizer:iQ(g,A,V,Q),getters:{eventProp:function(){return v&&v.apply(void 0,arguments)||{}},backgroundEventProp:function(){return p&&p.apply(void 0,arguments)||{}},slotProp:function(){return h&&h.apply(void 0,arguments)||{}},slotGroupProp:function(){return j&&j.apply(void 0,arguments)||{}},dayProp:function(){return x&&x.apply(void 0,arguments)||{}}},components:Cz(R[b]||{},wK(R,Z),{eventWrapper:Kn,backgroundEventWrapper:Kn,eventContainerWrapper:Kn,dateCellWrapper:Kn,weekWrapper:Kn,timeSlotWrapper:Kn,timeGutterWrapper:Kn,timeIndicatorWrapper:Kn}),accessors:{start:bs(s),end:bs(i),allDay:bs(o),tooltip:bs(l),title:bs(c),resource:bs(u),resourceId:bs(d),resourceTitle:bs(f),eventId:bs(m)}}}}])}(U.Component);XD.defaultProps={events:[],backgroundEvents:[],elementProps:{},popup:!1,toolbar:!0,view:Dr.MONTH,views:[Dr.MONTH,Dr.WEEK,Dr.DAY,Dr.AGENDA],step:30,length:30,allDayMaxRows:1/0,doShowMoreDrillDown:!0,drilldownView:Dr.DAY,titleAccessor:"title",tooltipAccessor:"title",allDayAccessor:"allDay",startAccessor:"start",endAccessor:"end",resourceAccessor:"resourceId",resourceIdAccessor:"id",resourceTitleAccessor:"title",eventIdAccessor:"id",longPressThreshold:250,getNow:function(){return new Date},dayLayoutAlgorithm:"overlap"};var aX=Sk(XD,{view:"onView",date:"onNavigate",selected:"onSelectEvent"}),iX=function(t,r,n){var s=t.start,i=t.end;return n.format(s,"MMMM DD",r)+"  "+n.format(i,n.eq(s,i,"month")?"DD":"MMMM DD",r)},oX=function(t,r,n){var s=t.start,i=t.end;return n.format(s,"L",r)+"  "+n.format(i,"L",r)},np=function(t,r,n){var s=t.start,i=t.end;return n.format(s,"LT",r)+"  "+n.format(i,"LT",r)},lX=function(t,r,n){var s=t.start;return n.format(s,"LT",r)+"  "},cX=function(t,r,n){var s=t.end;return"  "+n.format(s,"LT",r)},uX={dateFormat:"DD",dayFormat:"DD ddd",weekdayFormat:"ddd",selectRangeFormat:np,eventTimeRangeFormat:np,eventTimeRangeStartFormat:lX,eventTimeRangeEndFormat:cX,timeGutterFormat:"LT",monthHeaderFormat:"MMMM YYYY",dayHeaderFormat:"dddd MMM DD",dayRangeHeaderFormat:iX,agendaHeaderFormat:oX,agendaDateFormat:"ddd MMM DD",agendaTimeFormat:"LT",agendaTimeRangeFormat:np};function ea(e){var t=e&&e.toLowerCase();return t==="FullYear"?t="year":t||(t=void 0),t}function dX(e){var t=function(H,ae){return ae?H.locale(ae):H};function r(J){return e(J).toDate().getTimezoneOffset()}function n(J,H){var ae,ye,ve=e(J).local(),te=e(H).local();if(!e.tz)return ve.toDate().getTimezoneOffset()-te.toDate().getTimezoneOffset();var ue=(ae=ve==null||(ye=ve._z)===null||ye===void 0?void 0:ye.name)!==null&&ae!==void 0?ae:e.tz.guess(),Ne=e.tz.zone(ue).utcOffset(+ve),F=e.tz.zone(ue).utcOffset(+te);return Ne-F}function s(J){var H=e(J).startOf("day");return n(H,J)}function i(J,H,ae){var ye=ea(ae),ve=ye?e(J).startOf(ye):e(J),te=ye?e(H).startOf(ye):e(H);return[ve,te,ye]}function o(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,H=arguments.length>1?arguments[1]:void 0,ae=ea(H);return ae?e(J).startOf(ae).toDate():e(J).toDate()}function l(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,H=arguments.length>1?arguments[1]:void 0,ae=ea(H);return ae?e(J).endOf(ae).toDate():e(J).toDate()}function c(J,H,ae){var ye=i(J,H,ae),ve=cn(ye,3),te=ve[0],ue=ve[1],Ne=ve[2];return te.isSame(ue,Ne)}function u(J,H,ae){return!c(J,H,ae)}function d(J,H,ae){var ye=i(J,H,ae),ve=cn(ye,3),te=ve[0],ue=ve[1],Ne=ve[2];return te.isAfter(ue,Ne)}function f(J,H,ae){var ye=i(J,H,ae),ve=cn(ye,3),te=ve[0],ue=ve[1],Ne=ve[2];return te.isBefore(ue,Ne)}function m(J,H,ae){var ye=i(J,H,ae),ve=cn(ye,3),te=ve[0],ue=ve[1],Ne=ve[2];return te.isSameOrBefore(ue,Ne)}function v(J,H,ae){var ye=i(J,H,ae),ve=cn(ye,3),te=ve[0],ue=ve[1],Ne=ve[2];return te.isSameOrBefore(ue,Ne)}function p(J,H,ae){var ye=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"day",ve=ea(ye),te=e(J),ue=e(H),Ne=e(ae);return te.isBetween(ue,Ne,ve,"[]")}function h(J,H){var ae=e(J),ye=e(H),ve=e.min(ae,ye);return ve.toDate()}function j(J,H){var ae=e(J),ye=e(H),ve=e.max(ae,ye);return ve.toDate()}function x(J,H){if(!J&&!H)return null;var ae=e(H).format("HH:mm:ss"),ye=e(J).startOf("day").format("MM/DD/YYYY");return e("".concat(ye," ").concat(ae),"MM/DD/YYYY HH:mm:ss").toDate()}function b(J,H,ae){var ye=ea(ae);return e(J).add(H,ye).toDate()}function N(J,H){for(var ae=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",ye=ea(ae),ve=e(J).toDate(),te=[];v(ve,H);)te.push(ve),ve=b(ve,1,ye);return te}function g(J,H){var ae=ea(H),ye=o(J,ae);return c(ye,J)?ye:b(ye,1,ae)}function A(J,H){var ae=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",ye=ea(ae),ve=e(J),te=e(H);return te.diff(ve,ye)}function k(J){var H=e(J);return H.minutes()}function _(J){var H=J?e.localeData(J):e.localeData();return H?H.firstDayOfWeek():0}function O(J){return e(J).startOf("month").startOf("week").toDate()}function R(J){return e(J).endOf("month").endOf("week").toDate()}function I(J){for(var H=O(J),ae=R(J),ye=[];v(H,ae);)ye.push(H),H=b(H,1,"d");return ye}function V(J,H,ae){return e(J).startOf("day").minute(H+ae).toDate()}function Z(J,H){return A(J,H,"minutes")}function Q(J){var H=e(J).startOf("day"),ae=e(J);return ae.diff(H,"minutes")+s(J)}function G(J,H){var ae=e(J),ye=e(H);return ae.isBefore(ye,"day")}function xe(J,H,ae){var ye=e(H),ve=e(ae);return ye.isSameOrAfter(ve,"minutes")}function re(J,H){var ae=e(J),ye=e(H),ve=e.duration(ye.diff(ae));return ve.days()}function pe(J){var H=J.evtA,ae=H.start,ye=H.end,ve=H.allDay,te=J.evtB,ue=te.start,Ne=te.end,F=te.allDay,ie=+o(ae,"day")-+o(ue,"day"),T=re(ae,ye),W=re(ue,Ne);return ie||W-T||!!F-!!ve||+ae-+ue||+ye-+Ne}function ce(J){var H=J.event,ae=H.start,ye=H.end,ve=J.range,te=ve.start,ue=ve.end,Ne=e(ae).startOf("day"),F=e(ye),ie=e(te),T=e(ue),W=Ne.isSameOrBefore(T,"day"),Y=!Ne.isSame(F,"minutes"),ee=Y?F.isAfter(ie,"minutes"):F.isSameOrAfter(ie,"minutes");return W&&ee}function q(J,H){var ae=e(J),ye=e(H);return ae.isSame(ye,"day")}function oe(){var J=new Date,H=/-/.test(J.toString())?"-":"",ae=J.getTimezoneOffset(),ye=Number("".concat(H).concat(Math.abs(ae))),ve=e().utcOffset();return ve>ye?1:0}return new aQ({formats:uX,firstOfWeek:_,firstVisibleDay:O,lastVisibleDay:R,visibleDays:I,format:function(H,ae,ye){return t(e(H),ye).format(ae)},lt:f,lte:v,gt:d,gte:m,eq:c,neq:u,merge:x,inRange:p,startOf:o,endOf:l,range:N,add:b,diff:A,ceil:g,min:h,max:j,minutes:k,getSlotDate:V,getTimezoneOffset:r,getDstOffset:n,getTotalMin:Z,getMinutesFromMidnight:Q,continuesPrior:G,continuesAfter:xe,sortEvents:pe,inEventRange:ce,isSameDate:q,daySpan:re,browserTZOffset:oe})}//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var JD;function Se(){return JD.apply(null,arguments)}function fX(e){JD=e}function $n(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function pi(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function ct(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function f0(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var t;for(t in e)if(ct(e,t))return!1;return!0}function Pr(e){return e===void 0}function zs(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function gu(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function ZD(e,t){var r=[],n,s=e.length;for(n=0;n<s;++n)r.push(t(e[n],n));return r}function va(e,t){for(var r in t)ct(t,r)&&(e[r]=t[r]);return ct(t,"toString")&&(e.toString=t.toString),ct(t,"valueOf")&&(e.valueOf=t.valueOf),e}function gs(e,t,r,n){return NC(e,t,r,n,!0).utc()}function mX(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function Ye(e){return e._pf==null&&(e._pf=mX()),e._pf}var Qg;Array.prototype.some?Qg=Array.prototype.some:Qg=function(e){var t=Object(this),r=t.length>>>0,n;for(n=0;n<r;n++)if(n in t&&e.call(this,t[n],n,t))return!0;return!1};function m0(e){var t=null,r=!1,n=e._d&&!isNaN(e._d.getTime());if(n&&(t=Ye(e),r=Qg.call(t.parsedDateParts,function(s){return s!=null}),n=t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&r),e._strict&&(n=n&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=n;else return n;return e._isValid}function Vm(e){var t=gs(NaN);return e!=null?va(Ye(t),e):Ye(t).userInvalidated=!0,t}var MN=Se.momentProperties=[],sp=!1;function h0(e,t){var r,n,s,i=MN.length;if(Pr(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),Pr(t._i)||(e._i=t._i),Pr(t._f)||(e._f=t._f),Pr(t._l)||(e._l=t._l),Pr(t._strict)||(e._strict=t._strict),Pr(t._tzm)||(e._tzm=t._tzm),Pr(t._isUTC)||(e._isUTC=t._isUTC),Pr(t._offset)||(e._offset=t._offset),Pr(t._pf)||(e._pf=Ye(t)),Pr(t._locale)||(e._locale=t._locale),i>0)for(r=0;r<i;r++)n=MN[r],s=t[n],Pr(s)||(e[n]=s);return e}function yu(e){h0(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),sp===!1&&(sp=!0,Se.updateOffset(this),sp=!1)}function Ln(e){return e instanceof yu||e!=null&&e._isAMomentObject!=null}function eC(e){Se.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+e)}function xn(e,t){var r=!0;return va(function(){if(Se.deprecationHandler!=null&&Se.deprecationHandler(null,e),r){var n=[],s,i,o,l=arguments.length;for(i=0;i<l;i++){if(s="",typeof arguments[i]=="object"){s+=`
[`+i+"] ";for(o in arguments[0])ct(arguments[0],o)&&(s+=o+": "+arguments[0][o]+", ");s=s.slice(0,-2)}else s=arguments[i];n.push(s)}eC(e+`
Arguments: `+Array.prototype.slice.call(n).join("")+`
`+new Error().stack),r=!1}return t.apply(this,arguments)},t)}var ON={};function tC(e,t){Se.deprecationHandler!=null&&Se.deprecationHandler(e,t),ON[e]||(eC(t),ON[e]=!0)}Se.suppressDeprecationWarnings=!1;Se.deprecationHandler=null;function ys(e){return typeof Function<"u"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function hX(e){var t,r;for(r in e)ct(e,r)&&(t=e[r],ys(t)?this[r]=t:this["_"+r]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function Xg(e,t){var r=va({},e),n;for(n in t)ct(t,n)&&(pi(e[n])&&pi(t[n])?(r[n]={},va(r[n],e[n]),va(r[n],t[n])):t[n]!=null?r[n]=t[n]:delete r[n]);for(n in e)ct(e,n)&&!ct(t,n)&&pi(e[n])&&(r[n]=va({},r[n]));return r}function p0(e){e!=null&&this.set(e)}var Jg;Object.keys?Jg=Object.keys:Jg=function(e){var t,r=[];for(t in e)ct(e,t)&&r.push(t);return r};var pX={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function gX(e,t,r){var n=this._calendar[e]||this._calendar.sameElse;return ys(n)?n.call(t,r):n}function ms(e,t,r){var n=""+Math.abs(e),s=t-n.length,i=e>=0;return(i?r?"+":"":"-")+Math.pow(10,Math.max(0,s)).toString().substr(1)+n}var g0=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,nd=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,ap={},oo={};function Be(e,t,r,n){var s=n;typeof n=="string"&&(s=function(){return this[n]()}),e&&(oo[e]=s),t&&(oo[t[0]]=function(){return ms(s.apply(this,arguments),t[1],t[2])}),r&&(oo[r]=function(){return this.localeData().ordinal(s.apply(this,arguments),e)})}function yX(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function xX(e){var t=e.match(g0),r,n;for(r=0,n=t.length;r<n;r++)oo[t[r]]?t[r]=oo[t[r]]:t[r]=yX(t[r]);return function(s){var i="",o;for(o=0;o<n;o++)i+=ys(t[o])?t[o].call(s,e):t[o];return i}}function $d(e,t){return e.isValid()?(t=rC(t,e.localeData()),ap[t]=ap[t]||xX(t),ap[t](e)):e.localeData().invalidDate()}function rC(e,t){var r=5;function n(s){return t.longDateFormat(s)||s}for(nd.lastIndex=0;r>=0&&nd.test(e);)e=e.replace(nd,n),nd.lastIndex=0,r-=1;return e}var vX={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function bX(e){var t=this._longDateFormat[e],r=this._longDateFormat[e.toUpperCase()];return t||!r?t:(this._longDateFormat[e]=r.match(g0).map(function(n){return n==="MMMM"||n==="MM"||n==="DD"||n==="dddd"?n.slice(1):n}).join(""),this._longDateFormat[e])}var wX="Invalid date";function NX(){return this._invalidDate}var jX="%d",SX=/\d{1,2}/;function kX(e){return this._ordinal.replace("%d",e)}var DX={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function CX(e,t,r,n){var s=this._relativeTime[r];return ys(s)?s(e,t,r,n):s.replace(/%d/i,e)}function EX(e,t){var r=this._relativeTime[e>0?"future":"past"];return ys(r)?r(t):r.replace(/%s/i,t)}var IN={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function vn(e){return typeof e=="string"?IN[e]||IN[e.toLowerCase()]:void 0}function y0(e){var t={},r,n;for(n in e)ct(e,n)&&(r=vn(n),r&&(t[r]=e[n]));return t}var AX={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function TX(e){var t=[],r;for(r in e)ct(e,r)&&t.push({unit:r,priority:AX[r]});return t.sort(function(n,s){return n.priority-s.priority}),t}var nC=/\d/,Zr=/\d\d/,sC=/\d{3}/,x0=/\d{4}/,zm=/[+-]?\d{6}/,kt=/\d\d?/,aC=/\d\d\d\d?/,iC=/\d\d\d\d\d\d?/,Ym=/\d{1,3}/,v0=/\d{1,4}/,qm=/[+-]?\d{1,6}/,tl=/\d+/,Gm=/[+-]?\d+/,_X=/Z|[+-]\d\d:?\d\d/gi,Km=/Z|[+-]\d\d(?::?\d\d)?/gi,PX=/[+-]?\d+(\.\d{1,3})?/,xu=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,rl=/^[1-9]\d?/,b0=/^([1-9]\d|\d)/,Rf;Rf={};function Oe(e,t,r){Rf[e]=ys(t)?t:function(n,s){return n&&r?r:t}}function RX(e,t){return ct(Rf,e)?Rf[e](t._strict,t._locale):new RegExp(MX(e))}function MX(e){return Is(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,r,n,s,i){return r||n||s||i}))}function Is(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function ln(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function Qe(e){var t=+e,r=0;return t!==0&&isFinite(t)&&(r=ln(t)),r}var Zg={};function gt(e,t){var r,n=t,s;for(typeof e=="string"&&(e=[e]),zs(t)&&(n=function(i,o){o[t]=Qe(i)}),s=e.length,r=0;r<s;r++)Zg[e[r]]=n}function vu(e,t){gt(e,function(r,n,s,i){s._w=s._w||{},t(r,s._w,s,i)})}function OX(e,t,r){t!=null&&ct(Zg,e)&&Zg[e](t,r._a,r,e)}function Qm(e){return e%4===0&&e%100!==0||e%400===0}var xr=0,_s=1,ss=2,Jt=3,Tn=4,Ps=5,ri=6,IX=7,$X=8;Be("Y",0,0,function(){var e=this.year();return e<=9999?ms(e,4):"+"+e});Be(0,["YY",2],0,function(){return this.year()%100});Be(0,["YYYY",4],0,"year");Be(0,["YYYYY",5],0,"year");Be(0,["YYYYYY",6,!0],0,"year");Oe("Y",Gm);Oe("YY",kt,Zr);Oe("YYYY",v0,x0);Oe("YYYYY",qm,zm);Oe("YYYYYY",qm,zm);gt(["YYYYY","YYYYYY"],xr);gt("YYYY",function(e,t){t[xr]=e.length===2?Se.parseTwoDigitYear(e):Qe(e)});gt("YY",function(e,t){t[xr]=Se.parseTwoDigitYear(e)});gt("Y",function(e,t){t[xr]=parseInt(e,10)});function ql(e){return Qm(e)?366:365}Se.parseTwoDigitYear=function(e){return Qe(e)+(Qe(e)>68?1900:2e3)};var oC=nl("FullYear",!0);function LX(){return Qm(this.year())}function nl(e,t){return function(r){return r!=null?(lC(this,e,r),Se.updateOffset(this,t),this):Rc(this,e)}}function Rc(e,t){if(!e.isValid())return NaN;var r=e._d,n=e._isUTC;switch(t){case"Milliseconds":return n?r.getUTCMilliseconds():r.getMilliseconds();case"Seconds":return n?r.getUTCSeconds():r.getSeconds();case"Minutes":return n?r.getUTCMinutes():r.getMinutes();case"Hours":return n?r.getUTCHours():r.getHours();case"Date":return n?r.getUTCDate():r.getDate();case"Day":return n?r.getUTCDay():r.getDay();case"Month":return n?r.getUTCMonth():r.getMonth();case"FullYear":return n?r.getUTCFullYear():r.getFullYear();default:return NaN}}function lC(e,t,r){var n,s,i,o,l;if(!(!e.isValid()||isNaN(r))){switch(n=e._d,s=e._isUTC,t){case"Milliseconds":return void(s?n.setUTCMilliseconds(r):n.setMilliseconds(r));case"Seconds":return void(s?n.setUTCSeconds(r):n.setSeconds(r));case"Minutes":return void(s?n.setUTCMinutes(r):n.setMinutes(r));case"Hours":return void(s?n.setUTCHours(r):n.setHours(r));case"Date":return void(s?n.setUTCDate(r):n.setDate(r));case"FullYear":break;default:return}i=r,o=e.month(),l=e.date(),l=l===29&&o===1&&!Qm(i)?28:l,s?n.setUTCFullYear(i,o,l):n.setFullYear(i,o,l)}}function FX(e){return e=vn(e),ys(this[e])?this[e]():this}function BX(e,t){if(typeof e=="object"){e=y0(e);var r=TX(e),n,s=r.length;for(n=0;n<s;n++)this[r[n].unit](e[r[n].unit])}else if(e=vn(e),ys(this[e]))return this[e](t);return this}function WX(e,t){return(e%t+t)%t}var Ft;Array.prototype.indexOf?Ft=Array.prototype.indexOf:Ft=function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};function w0(e,t){if(isNaN(e)||isNaN(t))return NaN;var r=WX(t,12);return e+=(t-r)/12,r===1?Qm(e)?29:28:31-r%7%2}Be("M",["MM",2],"Mo",function(){return this.month()+1});Be("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)});Be("MMMM",0,0,function(e){return this.localeData().months(this,e)});Oe("M",kt,rl);Oe("MM",kt,Zr);Oe("MMM",function(e,t){return t.monthsShortRegex(e)});Oe("MMMM",function(e,t){return t.monthsRegex(e)});gt(["M","MM"],function(e,t){t[_s]=Qe(e)-1});gt(["MMM","MMMM"],function(e,t,r,n){var s=r._locale.monthsParse(e,n,r._strict);s!=null?t[_s]=s:Ye(r).invalidMonth=e});var HX="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),cC="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),uC=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,UX=xu,VX=xu;function zX(e,t){return e?$n(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||uC).test(t)?"format":"standalone"][e.month()]:$n(this._months)?this._months:this._months.standalone}function YX(e,t){return e?$n(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[uC.test(t)?"format":"standalone"][e.month()]:$n(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function qX(e,t,r){var n,s,i,o=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)i=gs([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(i,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(i,"").toLocaleLowerCase();return r?t==="MMM"?(s=Ft.call(this._shortMonthsParse,o),s!==-1?s:null):(s=Ft.call(this._longMonthsParse,o),s!==-1?s:null):t==="MMM"?(s=Ft.call(this._shortMonthsParse,o),s!==-1?s:(s=Ft.call(this._longMonthsParse,o),s!==-1?s:null)):(s=Ft.call(this._longMonthsParse,o),s!==-1?s:(s=Ft.call(this._shortMonthsParse,o),s!==-1?s:null))}function GX(e,t,r){var n,s,i;if(this._monthsParseExact)return qX.call(this,e,t,r);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(s=gs([2e3,n]),r&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(s,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(s,"").replace(".","")+"$","i")),!r&&!this._monthsParse[n]&&(i="^"+this.months(s,"")+"|^"+this.monthsShort(s,""),this._monthsParse[n]=new RegExp(i.replace(".",""),"i")),r&&t==="MMMM"&&this._longMonthsParse[n].test(e))return n;if(r&&t==="MMM"&&this._shortMonthsParse[n].test(e))return n;if(!r&&this._monthsParse[n].test(e))return n}}function dC(e,t){if(!e.isValid())return e;if(typeof t=="string"){if(/^\d+$/.test(t))t=Qe(t);else if(t=e.localeData().monthsParse(t),!zs(t))return e}var r=t,n=e.date();return n=n<29?n:Math.min(n,w0(e.year(),r)),e._isUTC?e._d.setUTCMonth(r,n):e._d.setMonth(r,n),e}function fC(e){return e!=null?(dC(this,e),Se.updateOffset(this,!0),this):Rc(this,"Month")}function KX(){return w0(this.year(),this.month())}function QX(e){return this._monthsParseExact?(ct(this,"_monthsRegex")||mC.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(ct(this,"_monthsShortRegex")||(this._monthsShortRegex=UX),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function XX(e){return this._monthsParseExact?(ct(this,"_monthsRegex")||mC.call(this),e?this._monthsStrictRegex:this._monthsRegex):(ct(this,"_monthsRegex")||(this._monthsRegex=VX),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function mC(){function e(c,u){return u.length-c.length}var t=[],r=[],n=[],s,i,o,l;for(s=0;s<12;s++)i=gs([2e3,s]),o=Is(this.monthsShort(i,"")),l=Is(this.months(i,"")),t.push(o),r.push(l),n.push(l),n.push(o);t.sort(e),r.sort(e),n.sort(e),this._monthsRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}function JX(e,t,r,n,s,i,o){var l;return e<100&&e>=0?(l=new Date(e+400,t,r,n,s,i,o),isFinite(l.getFullYear())&&l.setFullYear(e)):l=new Date(e,t,r,n,s,i,o),l}function Mc(e){var t,r;return e<100&&e>=0?(r=Array.prototype.slice.call(arguments),r[0]=e+400,t=new Date(Date.UTC.apply(null,r)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function Mf(e,t,r){var n=7+t-r,s=(7+Mc(e,0,n).getUTCDay()-t)%7;return-s+n-1}function hC(e,t,r,n,s){var i=(7+r-n)%7,o=Mf(e,n,s),l=1+7*(t-1)+i+o,c,u;return l<=0?(c=e-1,u=ql(c)+l):l>ql(e)?(c=e+1,u=l-ql(e)):(c=e,u=l),{year:c,dayOfYear:u}}function Oc(e,t,r){var n=Mf(e.year(),t,r),s=Math.floor((e.dayOfYear()-n-1)/7)+1,i,o;return s<1?(o=e.year()-1,i=s+$s(o,t,r)):s>$s(e.year(),t,r)?(i=s-$s(e.year(),t,r),o=e.year()+1):(o=e.year(),i=s),{week:i,year:o}}function $s(e,t,r){var n=Mf(e,t,r),s=Mf(e+1,t,r);return(ql(e)-n+s)/7}Be("w",["ww",2],"wo","week");Be("W",["WW",2],"Wo","isoWeek");Oe("w",kt,rl);Oe("ww",kt,Zr);Oe("W",kt,rl);Oe("WW",kt,Zr);vu(["w","ww","W","WW"],function(e,t,r,n){t[n.substr(0,1)]=Qe(e)});function ZX(e){return Oc(e,this._week.dow,this._week.doy).week}var eJ={dow:0,doy:6};function tJ(){return this._week.dow}function rJ(){return this._week.doy}function nJ(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function sJ(e){var t=Oc(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}Be("d",0,"do","day");Be("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)});Be("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)});Be("dddd",0,0,function(e){return this.localeData().weekdays(this,e)});Be("e",0,0,"weekday");Be("E",0,0,"isoWeekday");Oe("d",kt);Oe("e",kt);Oe("E",kt);Oe("dd",function(e,t){return t.weekdaysMinRegex(e)});Oe("ddd",function(e,t){return t.weekdaysShortRegex(e)});Oe("dddd",function(e,t){return t.weekdaysRegex(e)});vu(["dd","ddd","dddd"],function(e,t,r,n){var s=r._locale.weekdaysParse(e,n,r._strict);s!=null?t.d=s:Ye(r).invalidWeekday=e});vu(["d","e","E"],function(e,t,r,n){t[n]=Qe(e)});function aJ(e,t){return typeof e!="string"?e:isNaN(e)?(e=t.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function iJ(e,t){return typeof e=="string"?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function N0(e,t){return e.slice(t,7).concat(e.slice(0,t))}var oJ="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),pC="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),lJ="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),cJ=xu,uJ=xu,dJ=xu;function fJ(e,t){var r=$n(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===!0?N0(r,this._week.dow):e?r[e.day()]:r}function mJ(e){return e===!0?N0(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function hJ(e){return e===!0?N0(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function pJ(e,t,r){var n,s,i,o=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)i=gs([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(i,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(i,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(i,"").toLocaleLowerCase();return r?t==="dddd"?(s=Ft.call(this._weekdaysParse,o),s!==-1?s:null):t==="ddd"?(s=Ft.call(this._shortWeekdaysParse,o),s!==-1?s:null):(s=Ft.call(this._minWeekdaysParse,o),s!==-1?s:null):t==="dddd"?(s=Ft.call(this._weekdaysParse,o),s!==-1||(s=Ft.call(this._shortWeekdaysParse,o),s!==-1)?s:(s=Ft.call(this._minWeekdaysParse,o),s!==-1?s:null)):t==="ddd"?(s=Ft.call(this._shortWeekdaysParse,o),s!==-1||(s=Ft.call(this._weekdaysParse,o),s!==-1)?s:(s=Ft.call(this._minWeekdaysParse,o),s!==-1?s:null)):(s=Ft.call(this._minWeekdaysParse,o),s!==-1||(s=Ft.call(this._weekdaysParse,o),s!==-1)?s:(s=Ft.call(this._shortWeekdaysParse,o),s!==-1?s:null))}function gJ(e,t,r){var n,s,i;if(this._weekdaysParseExact)return pJ.call(this,e,t,r);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++){if(s=gs([2e3,1]).day(n),r&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(s,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(s,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(s,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[n]||(i="^"+this.weekdays(s,"")+"|^"+this.weekdaysShort(s,"")+"|^"+this.weekdaysMin(s,""),this._weekdaysParse[n]=new RegExp(i.replace(".",""),"i")),r&&t==="dddd"&&this._fullWeekdaysParse[n].test(e))return n;if(r&&t==="ddd"&&this._shortWeekdaysParse[n].test(e))return n;if(r&&t==="dd"&&this._minWeekdaysParse[n].test(e))return n;if(!r&&this._weekdaysParse[n].test(e))return n}}function yJ(e){if(!this.isValid())return e!=null?this:NaN;var t=Rc(this,"Day");return e!=null?(e=aJ(e,this.localeData()),this.add(e-t,"d")):t}function xJ(e){if(!this.isValid())return e!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function vJ(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var t=iJ(e,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function bJ(e){return this._weekdaysParseExact?(ct(this,"_weekdaysRegex")||j0.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(ct(this,"_weekdaysRegex")||(this._weekdaysRegex=cJ),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function wJ(e){return this._weekdaysParseExact?(ct(this,"_weekdaysRegex")||j0.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(ct(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=uJ),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function NJ(e){return this._weekdaysParseExact?(ct(this,"_weekdaysRegex")||j0.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(ct(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=dJ),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function j0(){function e(d,f){return f.length-d.length}var t=[],r=[],n=[],s=[],i,o,l,c,u;for(i=0;i<7;i++)o=gs([2e3,1]).day(i),l=Is(this.weekdaysMin(o,"")),c=Is(this.weekdaysShort(o,"")),u=Is(this.weekdays(o,"")),t.push(l),r.push(c),n.push(u),s.push(l),s.push(c),s.push(u);t.sort(e),r.sort(e),n.sort(e),s.sort(e),this._weekdaysRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function S0(){return this.hours()%12||12}function jJ(){return this.hours()||24}Be("H",["HH",2],0,"hour");Be("h",["hh",2],0,S0);Be("k",["kk",2],0,jJ);Be("hmm",0,0,function(){return""+S0.apply(this)+ms(this.minutes(),2)});Be("hmmss",0,0,function(){return""+S0.apply(this)+ms(this.minutes(),2)+ms(this.seconds(),2)});Be("Hmm",0,0,function(){return""+this.hours()+ms(this.minutes(),2)});Be("Hmmss",0,0,function(){return""+this.hours()+ms(this.minutes(),2)+ms(this.seconds(),2)});function gC(e,t){Be(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}gC("a",!0);gC("A",!1);function yC(e,t){return t._meridiemParse}Oe("a",yC);Oe("A",yC);Oe("H",kt,b0);Oe("h",kt,rl);Oe("k",kt,rl);Oe("HH",kt,Zr);Oe("hh",kt,Zr);Oe("kk",kt,Zr);Oe("hmm",aC);Oe("hmmss",iC);Oe("Hmm",aC);Oe("Hmmss",iC);gt(["H","HH"],Jt);gt(["k","kk"],function(e,t,r){var n=Qe(e);t[Jt]=n===24?0:n});gt(["a","A"],function(e,t,r){r._isPm=r._locale.isPM(e),r._meridiem=e});gt(["h","hh"],function(e,t,r){t[Jt]=Qe(e),Ye(r).bigHour=!0});gt("hmm",function(e,t,r){var n=e.length-2;t[Jt]=Qe(e.substr(0,n)),t[Tn]=Qe(e.substr(n)),Ye(r).bigHour=!0});gt("hmmss",function(e,t,r){var n=e.length-4,s=e.length-2;t[Jt]=Qe(e.substr(0,n)),t[Tn]=Qe(e.substr(n,2)),t[Ps]=Qe(e.substr(s)),Ye(r).bigHour=!0});gt("Hmm",function(e,t,r){var n=e.length-2;t[Jt]=Qe(e.substr(0,n)),t[Tn]=Qe(e.substr(n))});gt("Hmmss",function(e,t,r){var n=e.length-4,s=e.length-2;t[Jt]=Qe(e.substr(0,n)),t[Tn]=Qe(e.substr(n,2)),t[Ps]=Qe(e.substr(s))});function SJ(e){return(e+"").toLowerCase().charAt(0)==="p"}var kJ=/[ap]\.?m?\.?/i,DJ=nl("Hours",!0);function CJ(e,t,r){return e>11?r?"pm":"PM":r?"am":"AM"}var xC={calendar:pX,longDateFormat:vX,invalidDate:wX,ordinal:jX,dayOfMonthOrdinalParse:SX,relativeTime:DX,months:HX,monthsShort:cC,week:eJ,weekdays:oJ,weekdaysMin:lJ,weekdaysShort:pC,meridiemParse:kJ},Et={},Nl={},Ic;function EJ(e,t){var r,n=Math.min(e.length,t.length);for(r=0;r<n;r+=1)if(e[r]!==t[r])return r;return n}function $N(e){return e&&e.toLowerCase().replace("_","-")}function AJ(e){for(var t=0,r,n,s,i;t<e.length;){for(i=$N(e[t]).split("-"),r=i.length,n=$N(e[t+1]),n=n?n.split("-"):null;r>0;){if(s=Xm(i.slice(0,r).join("-")),s)return s;if(n&&n.length>=r&&EJ(i,n)>=r-1)break;r--}t++}return Ic}function TJ(e){return!!(e&&e.match("^[^/\\\\]*$"))}function Xm(e){var t=null,r;if(Et[e]===void 0&&typeof Wd<"u"&&Wd&&Wd.exports&&TJ(e))try{t=Ic._abbr,r=require,r("./locale/"+e),Ta(t)}catch{Et[e]=null}return Et[e]}function Ta(e,t){var r;return e&&(Pr(t)?r=Qs(e):r=k0(e,t),r?Ic=r:typeof console<"u"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),Ic._abbr}function k0(e,t){if(t!==null){var r,n=xC;if(t.abbr=e,Et[e]!=null)tC("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=Et[e]._config;else if(t.parentLocale!=null)if(Et[t.parentLocale]!=null)n=Et[t.parentLocale]._config;else if(r=Xm(t.parentLocale),r!=null)n=r._config;else return Nl[t.parentLocale]||(Nl[t.parentLocale]=[]),Nl[t.parentLocale].push({name:e,config:t}),null;return Et[e]=new p0(Xg(n,t)),Nl[e]&&Nl[e].forEach(function(s){k0(s.name,s.config)}),Ta(e),Et[e]}else return delete Et[e],null}function _J(e,t){if(t!=null){var r,n,s=xC;Et[e]!=null&&Et[e].parentLocale!=null?Et[e].set(Xg(Et[e]._config,t)):(n=Xm(e),n!=null&&(s=n._config),t=Xg(s,t),n==null&&(t.abbr=e),r=new p0(t),r.parentLocale=Et[e],Et[e]=r),Ta(e)}else Et[e]!=null&&(Et[e].parentLocale!=null?(Et[e]=Et[e].parentLocale,e===Ta()&&Ta(e)):Et[e]!=null&&delete Et[e]);return Et[e]}function Qs(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Ic;if(!$n(e)){if(t=Xm(e),t)return t;e=[e]}return AJ(e)}function PJ(){return Jg(Et)}function D0(e){var t,r=e._a;return r&&Ye(e).overflow===-2&&(t=r[_s]<0||r[_s]>11?_s:r[ss]<1||r[ss]>w0(r[xr],r[_s])?ss:r[Jt]<0||r[Jt]>24||r[Jt]===24&&(r[Tn]!==0||r[Ps]!==0||r[ri]!==0)?Jt:r[Tn]<0||r[Tn]>59?Tn:r[Ps]<0||r[Ps]>59?Ps:r[ri]<0||r[ri]>999?ri:-1,Ye(e)._overflowDayOfYear&&(t<xr||t>ss)&&(t=ss),Ye(e)._overflowWeeks&&t===-1&&(t=IX),Ye(e)._overflowWeekday&&t===-1&&(t=$X),Ye(e).overflow=t),e}var RJ=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,MJ=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,OJ=/Z|[+-]\d\d(?::?\d\d)?/,sd=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],ip=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],IJ=/^\/?Date\((-?\d+)/i,$J=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,LJ={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function vC(e){var t,r,n=e._i,s=RJ.exec(n)||MJ.exec(n),i,o,l,c,u=sd.length,d=ip.length;if(s){for(Ye(e).iso=!0,t=0,r=u;t<r;t++)if(sd[t][1].exec(s[1])){o=sd[t][0],i=sd[t][2]!==!1;break}if(o==null){e._isValid=!1;return}if(s[3]){for(t=0,r=d;t<r;t++)if(ip[t][1].exec(s[3])){l=(s[2]||" ")+ip[t][0];break}if(l==null){e._isValid=!1;return}}if(!i&&l!=null){e._isValid=!1;return}if(s[4])if(OJ.exec(s[4]))c="Z";else{e._isValid=!1;return}e._f=o+(l||"")+(c||""),E0(e)}else e._isValid=!1}function FJ(e,t,r,n,s,i){var o=[BJ(e),cC.indexOf(t),parseInt(r,10),parseInt(n,10),parseInt(s,10)];return i&&o.push(parseInt(i,10)),o}function BJ(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function WJ(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function HJ(e,t,r){if(e){var n=pC.indexOf(e),s=new Date(t[0],t[1],t[2]).getDay();if(n!==s)return Ye(r).weekdayMismatch=!0,r._isValid=!1,!1}return!0}function UJ(e,t,r){if(e)return LJ[e];if(t)return 0;var n=parseInt(r,10),s=n%100,i=(n-s)/100;return i*60+s}function bC(e){var t=$J.exec(WJ(e._i)),r;if(t){if(r=FJ(t[4],t[3],t[2],t[5],t[6],t[7]),!HJ(t[1],r,e))return;e._a=r,e._tzm=UJ(t[8],t[9],t[10]),e._d=Mc.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),Ye(e).rfc2822=!0}else e._isValid=!1}function VJ(e){var t=IJ.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}if(vC(e),e._isValid===!1)delete e._isValid;else return;if(bC(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:Se.createFromInputFallback(e)}Se.createFromInputFallback=xn("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function Bi(e,t,r){return e??t??r}function zJ(e){var t=new Date(Se.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function C0(e){var t,r,n=[],s,i,o;if(!e._d){for(s=zJ(e),e._w&&e._a[ss]==null&&e._a[_s]==null&&YJ(e),e._dayOfYear!=null&&(o=Bi(e._a[xr],s[xr]),(e._dayOfYear>ql(o)||e._dayOfYear===0)&&(Ye(e)._overflowDayOfYear=!0),r=Mc(o,0,e._dayOfYear),e._a[_s]=r.getUTCMonth(),e._a[ss]=r.getUTCDate()),t=0;t<3&&e._a[t]==null;++t)e._a[t]=n[t]=s[t];for(;t<7;t++)e._a[t]=n[t]=e._a[t]==null?t===2?1:0:e._a[t];e._a[Jt]===24&&e._a[Tn]===0&&e._a[Ps]===0&&e._a[ri]===0&&(e._nextDay=!0,e._a[Jt]=0),e._d=(e._useUTC?Mc:JX).apply(null,n),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Jt]=24),e._w&&typeof e._w.d<"u"&&e._w.d!==i&&(Ye(e).weekdayMismatch=!0)}}function YJ(e){var t,r,n,s,i,o,l,c,u;t=e._w,t.GG!=null||t.W!=null||t.E!=null?(i=1,o=4,r=Bi(t.GG,e._a[xr],Oc(St(),1,4).year),n=Bi(t.W,1),s=Bi(t.E,1),(s<1||s>7)&&(c=!0)):(i=e._locale._week.dow,o=e._locale._week.doy,u=Oc(St(),i,o),r=Bi(t.gg,e._a[xr],u.year),n=Bi(t.w,u.week),t.d!=null?(s=t.d,(s<0||s>6)&&(c=!0)):t.e!=null?(s=t.e+i,(t.e<0||t.e>6)&&(c=!0)):s=i),n<1||n>$s(r,i,o)?Ye(e)._overflowWeeks=!0:c!=null?Ye(e)._overflowWeekday=!0:(l=hC(r,n,s,i,o),e._a[xr]=l.year,e._dayOfYear=l.dayOfYear)}Se.ISO_8601=function(){};Se.RFC_2822=function(){};function E0(e){if(e._f===Se.ISO_8601){vC(e);return}if(e._f===Se.RFC_2822){bC(e);return}e._a=[],Ye(e).empty=!0;var t=""+e._i,r,n,s,i,o,l=t.length,c=0,u,d;for(s=rC(e._f,e._locale).match(g0)||[],d=s.length,r=0;r<d;r++)i=s[r],n=(t.match(RX(i,e))||[])[0],n&&(o=t.substr(0,t.indexOf(n)),o.length>0&&Ye(e).unusedInput.push(o),t=t.slice(t.indexOf(n)+n.length),c+=n.length),oo[i]?(n?Ye(e).empty=!1:Ye(e).unusedTokens.push(i),OX(i,n,e)):e._strict&&!n&&Ye(e).unusedTokens.push(i);Ye(e).charsLeftOver=l-c,t.length>0&&Ye(e).unusedInput.push(t),e._a[Jt]<=12&&Ye(e).bigHour===!0&&e._a[Jt]>0&&(Ye(e).bigHour=void 0),Ye(e).parsedDateParts=e._a.slice(0),Ye(e).meridiem=e._meridiem,e._a[Jt]=qJ(e._locale,e._a[Jt],e._meridiem),u=Ye(e).era,u!==null&&(e._a[xr]=e._locale.erasConvertYear(u,e._a[xr])),C0(e),D0(e)}function qJ(e,t,r){var n;return r==null?t:e.meridiemHour!=null?e.meridiemHour(t,r):(e.isPM!=null&&(n=e.isPM(r),n&&t<12&&(t+=12),!n&&t===12&&(t=0)),t)}function GJ(e){var t,r,n,s,i,o,l=!1,c=e._f.length;if(c===0){Ye(e).invalidFormat=!0,e._d=new Date(NaN);return}for(s=0;s<c;s++)i=0,o=!1,t=h0({},e),e._useUTC!=null&&(t._useUTC=e._useUTC),t._f=e._f[s],E0(t),m0(t)&&(o=!0),i+=Ye(t).charsLeftOver,i+=Ye(t).unusedTokens.length*10,Ye(t).score=i,l?i<n&&(n=i,r=t):(n==null||i<n||o)&&(n=i,r=t,o&&(l=!0));va(e,r||t)}function KJ(e){if(!e._d){var t=y0(e._i),r=t.day===void 0?t.date:t.day;e._a=ZD([t.year,t.month,r,t.hour,t.minute,t.second,t.millisecond],function(n){return n&&parseInt(n,10)}),C0(e)}}function QJ(e){var t=new yu(D0(wC(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function wC(e){var t=e._i,r=e._f;return e._locale=e._locale||Qs(e._l),t===null||r===void 0&&t===""?Vm({nullInput:!0}):(typeof t=="string"&&(e._i=t=e._locale.preparse(t)),Ln(t)?new yu(D0(t)):(gu(t)?e._d=t:$n(r)?GJ(e):r?E0(e):XJ(e),m0(e)||(e._d=null),e))}function XJ(e){var t=e._i;Pr(t)?e._d=new Date(Se.now()):gu(t)?e._d=new Date(t.valueOf()):typeof t=="string"?VJ(e):$n(t)?(e._a=ZD(t.slice(0),function(r){return parseInt(r,10)}),C0(e)):pi(t)?KJ(e):zs(t)?e._d=new Date(t):Se.createFromInputFallback(e)}function NC(e,t,r,n,s){var i={};return(t===!0||t===!1)&&(n=t,t=void 0),(r===!0||r===!1)&&(n=r,r=void 0),(pi(e)&&f0(e)||$n(e)&&e.length===0)&&(e=void 0),i._isAMomentObject=!0,i._useUTC=i._isUTC=s,i._l=r,i._i=e,i._f=t,i._strict=n,QJ(i)}function St(e,t,r,n){return NC(e,t,r,n,!1)}var JJ=xn("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=St.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:Vm()}),ZJ=xn("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=St.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:Vm()});function jC(e,t){var r,n;if(t.length===1&&$n(t[0])&&(t=t[0]),!t.length)return St();for(r=t[0],n=1;n<t.length;++n)(!t[n].isValid()||t[n][e](r))&&(r=t[n]);return r}function eZ(){var e=[].slice.call(arguments,0);return jC("isBefore",e)}function tZ(){var e=[].slice.call(arguments,0);return jC("isAfter",e)}var rZ=function(){return Date.now?Date.now():+new Date},jl=["year","quarter","month","week","day","hour","minute","second","millisecond"];function nZ(e){var t,r=!1,n,s=jl.length;for(t in e)if(ct(e,t)&&!(Ft.call(jl,t)!==-1&&(e[t]==null||!isNaN(e[t]))))return!1;for(n=0;n<s;++n)if(e[jl[n]]){if(r)return!1;parseFloat(e[jl[n]])!==Qe(e[jl[n]])&&(r=!0)}return!0}function sZ(){return this._isValid}function aZ(){return Vn(NaN)}function Jm(e){var t=y0(e),r=t.year||0,n=t.quarter||0,s=t.month||0,i=t.week||t.isoWeek||0,o=t.day||0,l=t.hour||0,c=t.minute||0,u=t.second||0,d=t.millisecond||0;this._isValid=nZ(t),this._milliseconds=+d+u*1e3+c*6e4+l*1e3*60*60,this._days=+o+i*7,this._months=+s+n*3+r*12,this._data={},this._locale=Qs(),this._bubble()}function Ld(e){return e instanceof Jm}function ey(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function iZ(e,t,r){var n=Math.min(e.length,t.length),s=Math.abs(e.length-t.length),i=0,o;for(o=0;o<n;o++)Qe(e[o])!==Qe(t[o])&&i++;return i+s}function SC(e,t){Be(e,0,0,function(){var r=this.utcOffset(),n="+";return r<0&&(r=-r,n="-"),n+ms(~~(r/60),2)+t+ms(~~r%60,2)})}SC("Z",":");SC("ZZ","");Oe("Z",Km);Oe("ZZ",Km);gt(["Z","ZZ"],function(e,t,r){r._useUTC=!0,r._tzm=A0(Km,e)});var oZ=/([\+\-]|\d\d)/gi;function A0(e,t){var r=(t||"").match(e),n,s,i;return r===null?null:(n=r[r.length-1]||[],s=(n+"").match(oZ)||["-",0,0],i=+(s[1]*60)+Qe(s[2]),i===0?0:s[0]==="+"?i:-i)}function T0(e,t){var r,n;return t._isUTC?(r=t.clone(),n=(Ln(e)||gu(e)?e.valueOf():St(e).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+n),Se.updateOffset(r,!1),r):St(e).local()}function ty(e){return-Math.round(e._d.getTimezoneOffset())}Se.updateOffset=function(){};function lZ(e,t,r){var n=this._offset||0,s;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=A0(Km,e),e===null)return this}else Math.abs(e)<16&&!r&&(e=e*60);return!this._isUTC&&t&&(s=ty(this)),this._offset=e,this._isUTC=!0,s!=null&&this.add(s,"m"),n!==e&&(!t||this._changeInProgress?CC(this,Vn(e-n,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,Se.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?n:ty(this)}function cZ(e,t){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function uZ(e){return this.utcOffset(0,e)}function dZ(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(ty(this),"m")),this}function fZ(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=A0(_X,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function mZ(e){return this.isValid()?(e=e?St(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function hZ(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function pZ(){if(!Pr(this._isDSTShifted))return this._isDSTShifted;var e={},t;return h0(e,this),e=wC(e),e._a?(t=e._isUTC?gs(e._a):St(e._a),this._isDSTShifted=this.isValid()&&iZ(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function gZ(){return this.isValid()?!this._isUTC:!1}function yZ(){return this.isValid()?this._isUTC:!1}function kC(){return this.isValid()?this._isUTC&&this._offset===0:!1}var xZ=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,vZ=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Vn(e,t){var r=e,n=null,s,i,o;return Ld(e)?r={ms:e._milliseconds,d:e._days,M:e._months}:zs(e)||!isNaN(+e)?(r={},t?r[t]=+e:r.milliseconds=+e):(n=xZ.exec(e))?(s=n[1]==="-"?-1:1,r={y:0,d:Qe(n[ss])*s,h:Qe(n[Jt])*s,m:Qe(n[Tn])*s,s:Qe(n[Ps])*s,ms:Qe(ey(n[ri]*1e3))*s}):(n=vZ.exec(e))?(s=n[1]==="-"?-1:1,r={y:Va(n[2],s),M:Va(n[3],s),w:Va(n[4],s),d:Va(n[5],s),h:Va(n[6],s),m:Va(n[7],s),s:Va(n[8],s)}):r==null?r={}:typeof r=="object"&&("from"in r||"to"in r)&&(o=bZ(St(r.from),St(r.to)),r={},r.ms=o.milliseconds,r.M=o.months),i=new Jm(r),Ld(e)&&ct(e,"_locale")&&(i._locale=e._locale),Ld(e)&&ct(e,"_isValid")&&(i._isValid=e._isValid),i}Vn.fn=Jm.prototype;Vn.invalid=aZ;function Va(e,t){var r=e&&parseFloat(e.replace(",","."));return(isNaN(r)?0:r)*t}function LN(e,t){var r={};return r.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(r.months,"M").isAfter(t)&&--r.months,r.milliseconds=+t-+e.clone().add(r.months,"M"),r}function bZ(e,t){var r;return e.isValid()&&t.isValid()?(t=T0(t,e),e.isBefore(t)?r=LN(e,t):(r=LN(t,e),r.milliseconds=-r.milliseconds,r.months=-r.months),r):{milliseconds:0,months:0}}function DC(e,t){return function(r,n){var s,i;return n!==null&&!isNaN(+n)&&(tC(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=r,r=n,n=i),s=Vn(r,n),CC(this,s,e),this}}function CC(e,t,r,n){var s=t._milliseconds,i=ey(t._days),o=ey(t._months);e.isValid()&&(n=n??!0,o&&dC(e,Rc(e,"Month")+o*r),i&&lC(e,"Date",Rc(e,"Date")+i*r),s&&e._d.setTime(e._d.valueOf()+s*r),n&&Se.updateOffset(e,i||o))}var wZ=DC(1,"add"),NZ=DC(-1,"subtract");function EC(e){return typeof e=="string"||e instanceof String}function jZ(e){return Ln(e)||gu(e)||EC(e)||zs(e)||kZ(e)||SZ(e)||e===null||e===void 0}function SZ(e){var t=pi(e)&&!f0(e),r=!1,n=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],s,i,o=n.length;for(s=0;s<o;s+=1)i=n[s],r=r||ct(e,i);return t&&r}function kZ(e){var t=$n(e),r=!1;return t&&(r=e.filter(function(n){return!zs(n)&&EC(e)}).length===0),t&&r}function DZ(e){var t=pi(e)&&!f0(e),r=!1,n=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],s,i;for(s=0;s<n.length;s+=1)i=n[s],r=r||ct(e,i);return t&&r}function CZ(e,t){var r=e.diff(t,"days",!0);return r<-6?"sameElse":r<-1?"lastWeek":r<0?"lastDay":r<1?"sameDay":r<2?"nextDay":r<7?"nextWeek":"sameElse"}function EZ(e,t){arguments.length===1&&(arguments[0]?jZ(arguments[0])?(e=arguments[0],t=void 0):DZ(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var r=e||St(),n=T0(r,this).startOf("day"),s=Se.calendarFormat(this,n)||"sameElse",i=t&&(ys(t[s])?t[s].call(this,r):t[s]);return this.format(i||this.localeData().calendar(s,this,St(r)))}function AZ(){return new yu(this)}function TZ(e,t){var r=Ln(e)?e:St(e);return this.isValid()&&r.isValid()?(t=vn(t)||"millisecond",t==="millisecond"?this.valueOf()>r.valueOf():r.valueOf()<this.clone().startOf(t).valueOf()):!1}function _Z(e,t){var r=Ln(e)?e:St(e);return this.isValid()&&r.isValid()?(t=vn(t)||"millisecond",t==="millisecond"?this.valueOf()<r.valueOf():this.clone().endOf(t).valueOf()<r.valueOf()):!1}function PZ(e,t,r,n){var s=Ln(e)?e:St(e),i=Ln(t)?t:St(t);return this.isValid()&&s.isValid()&&i.isValid()?(n=n||"()",(n[0]==="("?this.isAfter(s,r):!this.isBefore(s,r))&&(n[1]===")"?this.isBefore(i,r):!this.isAfter(i,r))):!1}function RZ(e,t){var r=Ln(e)?e:St(e),n;return this.isValid()&&r.isValid()?(t=vn(t)||"millisecond",t==="millisecond"?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf())):!1}function MZ(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function OZ(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function IZ(e,t,r){var n,s,i;if(!this.isValid())return NaN;if(n=T0(e,this),!n.isValid())return NaN;switch(s=(n.utcOffset()-this.utcOffset())*6e4,t=vn(t),t){case"year":i=Fd(this,n)/12;break;case"month":i=Fd(this,n);break;case"quarter":i=Fd(this,n)/3;break;case"second":i=(this-n)/1e3;break;case"minute":i=(this-n)/6e4;break;case"hour":i=(this-n)/36e5;break;case"day":i=(this-n-s)/864e5;break;case"week":i=(this-n-s)/6048e5;break;default:i=this-n}return r?i:ln(i)}function Fd(e,t){if(e.date()<t.date())return-Fd(t,e);var r=(t.year()-e.year())*12+(t.month()-e.month()),n=e.clone().add(r,"months"),s,i;return t-n<0?(s=e.clone().add(r-1,"months"),i=(t-n)/(n-s)):(s=e.clone().add(r+1,"months"),i=(t-n)/(s-n)),-(r+i)||0}Se.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";Se.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function $Z(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function LZ(e){if(!this.isValid())return null;var t=e!==!0,r=t?this.clone().utc():this;return r.year()<0||r.year()>9999?$d(r,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):ys(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",$d(r,"Z")):$d(r,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function FZ(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="",r,n,s,i;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),r="["+e+'("]',n=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",s="-MM-DD[T]HH:mm:ss.SSS",i=t+'[")]',this.format(r+n+s+i)}function BZ(e){e||(e=this.isUtc()?Se.defaultFormatUtc:Se.defaultFormat);var t=$d(this,e);return this.localeData().postformat(t)}function WZ(e,t){return this.isValid()&&(Ln(e)&&e.isValid()||St(e).isValid())?Vn({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function HZ(e){return this.from(St(),e)}function UZ(e,t){return this.isValid()&&(Ln(e)&&e.isValid()||St(e).isValid())?Vn({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function VZ(e){return this.to(St(),e)}function AC(e){var t;return e===void 0?this._locale._abbr:(t=Qs(e),t!=null&&(this._locale=t),this)}var TC=xn("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function _C(){return this._locale}var Of=1e3,lo=60*Of,If=60*lo,PC=(365*400+97)*24*If;function co(e,t){return(e%t+t)%t}function RC(e,t,r){return e<100&&e>=0?new Date(e+400,t,r)-PC:new Date(e,t,r).valueOf()}function MC(e,t,r){return e<100&&e>=0?Date.UTC(e+400,t,r)-PC:Date.UTC(e,t,r)}function zZ(e){var t,r;if(e=vn(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(r=this._isUTC?MC:RC,e){case"year":t=r(this.year(),0,1);break;case"quarter":t=r(this.year(),this.month()-this.month()%3,1);break;case"month":t=r(this.year(),this.month(),1);break;case"week":t=r(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=r(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=co(t+(this._isUTC?0:this.utcOffset()*lo),If);break;case"minute":t=this._d.valueOf(),t-=co(t,lo);break;case"second":t=this._d.valueOf(),t-=co(t,Of);break}return this._d.setTime(t),Se.updateOffset(this,!0),this}function YZ(e){var t,r;if(e=vn(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(r=this._isUTC?MC:RC,e){case"year":t=r(this.year()+1,0,1)-1;break;case"quarter":t=r(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=r(this.year(),this.month()+1,1)-1;break;case"week":t=r(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=r(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=If-co(t+(this._isUTC?0:this.utcOffset()*lo),If)-1;break;case"minute":t=this._d.valueOf(),t+=lo-co(t,lo)-1;break;case"second":t=this._d.valueOf(),t+=Of-co(t,Of)-1;break}return this._d.setTime(t),Se.updateOffset(this,!0),this}function qZ(){return this._d.valueOf()-(this._offset||0)*6e4}function GZ(){return Math.floor(this.valueOf()/1e3)}function KZ(){return new Date(this.valueOf())}function QZ(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function XZ(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function JZ(){return this.isValid()?this.toISOString():null}function ZZ(){return m0(this)}function eee(){return va({},Ye(this))}function tee(){return Ye(this).overflow}function ree(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}Be("N",0,0,"eraAbbr");Be("NN",0,0,"eraAbbr");Be("NNN",0,0,"eraAbbr");Be("NNNN",0,0,"eraName");Be("NNNNN",0,0,"eraNarrow");Be("y",["y",1],"yo","eraYear");Be("y",["yy",2],0,"eraYear");Be("y",["yyy",3],0,"eraYear");Be("y",["yyyy",4],0,"eraYear");Oe("N",_0);Oe("NN",_0);Oe("NNN",_0);Oe("NNNN",mee);Oe("NNNNN",hee);gt(["N","NN","NNN","NNNN","NNNNN"],function(e,t,r,n){var s=r._locale.erasParse(e,n,r._strict);s?Ye(r).era=s:Ye(r).invalidEra=e});Oe("y",tl);Oe("yy",tl);Oe("yyy",tl);Oe("yyyy",tl);Oe("yo",pee);gt(["y","yy","yyy","yyyy"],xr);gt(["yo"],function(e,t,r,n){var s;r._locale._eraYearOrdinalRegex&&(s=e.match(r._locale._eraYearOrdinalRegex)),r._locale.eraYearOrdinalParse?t[xr]=r._locale.eraYearOrdinalParse(e,s):t[xr]=parseInt(e,10)});function nee(e,t){var r,n,s,i=this._eras||Qs("en")._eras;for(r=0,n=i.length;r<n;++r){switch(typeof i[r].since){case"string":s=Se(i[r].since).startOf("day"),i[r].since=s.valueOf();break}switch(typeof i[r].until){case"undefined":i[r].until=1/0;break;case"string":s=Se(i[r].until).startOf("day").valueOf(),i[r].until=s.valueOf();break}}return i}function see(e,t,r){var n,s,i=this.eras(),o,l,c;for(e=e.toUpperCase(),n=0,s=i.length;n<s;++n)if(o=i[n].name.toUpperCase(),l=i[n].abbr.toUpperCase(),c=i[n].narrow.toUpperCase(),r)switch(t){case"N":case"NN":case"NNN":if(l===e)return i[n];break;case"NNNN":if(o===e)return i[n];break;case"NNNNN":if(c===e)return i[n];break}else if([o,l,c].indexOf(e)>=0)return i[n]}function aee(e,t){var r=e.since<=e.until?1:-1;return t===void 0?Se(e.since).year():Se(e.since).year()+(t-e.offset)*r}function iee(){var e,t,r,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e)if(r=this.clone().startOf("day").valueOf(),n[e].since<=r&&r<=n[e].until||n[e].until<=r&&r<=n[e].since)return n[e].name;return""}function oee(){var e,t,r,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e)if(r=this.clone().startOf("day").valueOf(),n[e].since<=r&&r<=n[e].until||n[e].until<=r&&r<=n[e].since)return n[e].narrow;return""}function lee(){var e,t,r,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e)if(r=this.clone().startOf("day").valueOf(),n[e].since<=r&&r<=n[e].until||n[e].until<=r&&r<=n[e].since)return n[e].abbr;return""}function cee(){var e,t,r,n,s=this.localeData().eras();for(e=0,t=s.length;e<t;++e)if(r=s[e].since<=s[e].until?1:-1,n=this.clone().startOf("day").valueOf(),s[e].since<=n&&n<=s[e].until||s[e].until<=n&&n<=s[e].since)return(this.year()-Se(s[e].since).year())*r+s[e].offset;return this.year()}function uee(e){return ct(this,"_erasNameRegex")||P0.call(this),e?this._erasNameRegex:this._erasRegex}function dee(e){return ct(this,"_erasAbbrRegex")||P0.call(this),e?this._erasAbbrRegex:this._erasRegex}function fee(e){return ct(this,"_erasNarrowRegex")||P0.call(this),e?this._erasNarrowRegex:this._erasRegex}function _0(e,t){return t.erasAbbrRegex(e)}function mee(e,t){return t.erasNameRegex(e)}function hee(e,t){return t.erasNarrowRegex(e)}function pee(e,t){return t._eraYearOrdinalRegex||tl}function P0(){var e=[],t=[],r=[],n=[],s,i,o,l,c,u=this.eras();for(s=0,i=u.length;s<i;++s)o=Is(u[s].name),l=Is(u[s].abbr),c=Is(u[s].narrow),t.push(o),e.push(l),r.push(c),n.push(o),n.push(l),n.push(c);this._erasRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+r.join("|")+")","i")}Be(0,["gg",2],0,function(){return this.weekYear()%100});Be(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Zm(e,t){Be(0,[e,e.length],0,t)}Zm("gggg","weekYear");Zm("ggggg","weekYear");Zm("GGGG","isoWeekYear");Zm("GGGGG","isoWeekYear");Oe("G",Gm);Oe("g",Gm);Oe("GG",kt,Zr);Oe("gg",kt,Zr);Oe("GGGG",v0,x0);Oe("gggg",v0,x0);Oe("GGGGG",qm,zm);Oe("ggggg",qm,zm);vu(["gggg","ggggg","GGGG","GGGGG"],function(e,t,r,n){t[n.substr(0,2)]=Qe(e)});vu(["gg","GG"],function(e,t,r,n){t[n]=Se.parseTwoDigitYear(e)});function gee(e){return OC.call(this,e,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function yee(e){return OC.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function xee(){return $s(this.year(),1,4)}function vee(){return $s(this.isoWeekYear(),1,4)}function bee(){var e=this.localeData()._week;return $s(this.year(),e.dow,e.doy)}function wee(){var e=this.localeData()._week;return $s(this.weekYear(),e.dow,e.doy)}function OC(e,t,r,n,s){var i;return e==null?Oc(this,n,s).year:(i=$s(e,n,s),t>i&&(t=i),Nee.call(this,e,t,r,n,s))}function Nee(e,t,r,n,s){var i=hC(e,t,r,n,s),o=Mc(i.year,0,i.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}Be("Q",0,"Qo","quarter");Oe("Q",nC);gt("Q",function(e,t){t[_s]=(Qe(e)-1)*3});function jee(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}Be("D",["DD",2],"Do","date");Oe("D",kt,rl);Oe("DD",kt,Zr);Oe("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient});gt(["D","DD"],ss);gt("Do",function(e,t){t[ss]=Qe(e.match(kt)[0])});var IC=nl("Date",!0);Be("DDD",["DDDD",3],"DDDo","dayOfYear");Oe("DDD",Ym);Oe("DDDD",sC);gt(["DDD","DDDD"],function(e,t,r){r._dayOfYear=Qe(e)});function See(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}Be("m",["mm",2],0,"minute");Oe("m",kt,b0);Oe("mm",kt,Zr);gt(["m","mm"],Tn);var kee=nl("Minutes",!1);Be("s",["ss",2],0,"second");Oe("s",kt,b0);Oe("ss",kt,Zr);gt(["s","ss"],Ps);var Dee=nl("Seconds",!1);Be("S",0,0,function(){return~~(this.millisecond()/100)});Be(0,["SS",2],0,function(){return~~(this.millisecond()/10)});Be(0,["SSS",3],0,"millisecond");Be(0,["SSSS",4],0,function(){return this.millisecond()*10});Be(0,["SSSSS",5],0,function(){return this.millisecond()*100});Be(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});Be(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});Be(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});Be(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});Oe("S",Ym,nC);Oe("SS",Ym,Zr);Oe("SSS",Ym,sC);var ba,$C;for(ba="SSSS";ba.length<=9;ba+="S")Oe(ba,tl);function Cee(e,t){t[ri]=Qe(("0."+e)*1e3)}for(ba="S";ba.length<=9;ba+="S")gt(ba,Cee);$C=nl("Milliseconds",!1);Be("z",0,0,"zoneAbbr");Be("zz",0,0,"zoneName");function Eee(){return this._isUTC?"UTC":""}function Aee(){return this._isUTC?"Coordinated Universal Time":""}var De=yu.prototype;De.add=wZ;De.calendar=EZ;De.clone=AZ;De.diff=IZ;De.endOf=YZ;De.format=BZ;De.from=WZ;De.fromNow=HZ;De.to=UZ;De.toNow=VZ;De.get=FX;De.invalidAt=tee;De.isAfter=TZ;De.isBefore=_Z;De.isBetween=PZ;De.isSame=RZ;De.isSameOrAfter=MZ;De.isSameOrBefore=OZ;De.isValid=ZZ;De.lang=TC;De.locale=AC;De.localeData=_C;De.max=ZJ;De.min=JJ;De.parsingFlags=eee;De.set=BX;De.startOf=zZ;De.subtract=NZ;De.toArray=QZ;De.toObject=XZ;De.toDate=KZ;De.toISOString=LZ;De.inspect=FZ;typeof Symbol<"u"&&Symbol.for!=null&&(De[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});De.toJSON=JZ;De.toString=$Z;De.unix=GZ;De.valueOf=qZ;De.creationData=ree;De.eraName=iee;De.eraNarrow=oee;De.eraAbbr=lee;De.eraYear=cee;De.year=oC;De.isLeapYear=LX;De.weekYear=gee;De.isoWeekYear=yee;De.quarter=De.quarters=jee;De.month=fC;De.daysInMonth=KX;De.week=De.weeks=nJ;De.isoWeek=De.isoWeeks=sJ;De.weeksInYear=bee;De.weeksInWeekYear=wee;De.isoWeeksInYear=xee;De.isoWeeksInISOWeekYear=vee;De.date=IC;De.day=De.days=yJ;De.weekday=xJ;De.isoWeekday=vJ;De.dayOfYear=See;De.hour=De.hours=DJ;De.minute=De.minutes=kee;De.second=De.seconds=Dee;De.millisecond=De.milliseconds=$C;De.utcOffset=lZ;De.utc=uZ;De.local=dZ;De.parseZone=fZ;De.hasAlignedHourOffset=mZ;De.isDST=hZ;De.isLocal=gZ;De.isUtcOffset=yZ;De.isUtc=kC;De.isUTC=kC;De.zoneAbbr=Eee;De.zoneName=Aee;De.dates=xn("dates accessor is deprecated. Use date instead.",IC);De.months=xn("months accessor is deprecated. Use month instead",fC);De.years=xn("years accessor is deprecated. Use year instead",oC);De.zone=xn("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",cZ);De.isDSTShifted=xn("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",pZ);function Tee(e){return St(e*1e3)}function _ee(){return St.apply(null,arguments).parseZone()}function LC(e){return e}var ut=p0.prototype;ut.calendar=gX;ut.longDateFormat=bX;ut.invalidDate=NX;ut.ordinal=kX;ut.preparse=LC;ut.postformat=LC;ut.relativeTime=CX;ut.pastFuture=EX;ut.set=hX;ut.eras=nee;ut.erasParse=see;ut.erasConvertYear=aee;ut.erasAbbrRegex=dee;ut.erasNameRegex=uee;ut.erasNarrowRegex=fee;ut.months=zX;ut.monthsShort=YX;ut.monthsParse=GX;ut.monthsRegex=XX;ut.monthsShortRegex=QX;ut.week=ZX;ut.firstDayOfYear=rJ;ut.firstDayOfWeek=tJ;ut.weekdays=fJ;ut.weekdaysMin=hJ;ut.weekdaysShort=mJ;ut.weekdaysParse=gJ;ut.weekdaysRegex=bJ;ut.weekdaysShortRegex=wJ;ut.weekdaysMinRegex=NJ;ut.isPM=SJ;ut.meridiem=CJ;function $f(e,t,r,n){var s=Qs(),i=gs().set(n,t);return s[r](i,e)}function FC(e,t,r){if(zs(e)&&(t=e,e=void 0),e=e||"",t!=null)return $f(e,t,r,"month");var n,s=[];for(n=0;n<12;n++)s[n]=$f(e,n,r,"month");return s}function R0(e,t,r,n){typeof e=="boolean"?(zs(t)&&(r=t,t=void 0),t=t||""):(t=e,r=t,e=!1,zs(t)&&(r=t,t=void 0),t=t||"");var s=Qs(),i=e?s._week.dow:0,o,l=[];if(r!=null)return $f(t,(r+i)%7,n,"day");for(o=0;o<7;o++)l[o]=$f(t,(o+i)%7,n,"day");return l}function Pee(e,t){return FC(e,t,"months")}function Ree(e,t){return FC(e,t,"monthsShort")}function Mee(e,t,r){return R0(e,t,r,"weekdays")}function Oee(e,t,r){return R0(e,t,r,"weekdaysShort")}function Iee(e,t,r){return R0(e,t,r,"weekdaysMin")}Ta("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,r=Qe(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+r}});Se.lang=xn("moment.lang is deprecated. Use moment.locale instead.",Ta);Se.langData=xn("moment.langData is deprecated. Use moment.localeData instead.",Qs);var ws=Math.abs;function $ee(){var e=this._data;return this._milliseconds=ws(this._milliseconds),this._days=ws(this._days),this._months=ws(this._months),e.milliseconds=ws(e.milliseconds),e.seconds=ws(e.seconds),e.minutes=ws(e.minutes),e.hours=ws(e.hours),e.months=ws(e.months),e.years=ws(e.years),this}function BC(e,t,r,n){var s=Vn(t,r);return e._milliseconds+=n*s._milliseconds,e._days+=n*s._days,e._months+=n*s._months,e._bubble()}function Lee(e,t){return BC(this,e,t,1)}function Fee(e,t){return BC(this,e,t,-1)}function FN(e){return e<0?Math.floor(e):Math.ceil(e)}function Bee(){var e=this._milliseconds,t=this._days,r=this._months,n=this._data,s,i,o,l,c;return e>=0&&t>=0&&r>=0||e<=0&&t<=0&&r<=0||(e+=FN(ry(r)+t)*864e5,t=0,r=0),n.milliseconds=e%1e3,s=ln(e/1e3),n.seconds=s%60,i=ln(s/60),n.minutes=i%60,o=ln(i/60),n.hours=o%24,t+=ln(o/24),c=ln(WC(t)),r+=c,t-=FN(ry(c)),l=ln(r/12),r%=12,n.days=t,n.months=r,n.years=l,this}function WC(e){return e*4800/146097}function ry(e){return e*146097/4800}function Wee(e){if(!this.isValid())return NaN;var t,r,n=this._milliseconds;if(e=vn(e),e==="month"||e==="quarter"||e==="year")switch(t=this._days+n/864e5,r=this._months+WC(t),e){case"month":return r;case"quarter":return r/3;case"year":return r/12}else switch(t=this._days+Math.round(ry(this._months)),e){case"week":return t/7+n/6048e5;case"day":return t+n/864e5;case"hour":return t*24+n/36e5;case"minute":return t*1440+n/6e4;case"second":return t*86400+n/1e3;case"millisecond":return Math.floor(t*864e5)+n;default:throw new Error("Unknown unit "+e)}}function Xs(e){return function(){return this.as(e)}}var HC=Xs("ms"),Hee=Xs("s"),Uee=Xs("m"),Vee=Xs("h"),zee=Xs("d"),Yee=Xs("w"),qee=Xs("M"),Gee=Xs("Q"),Kee=Xs("y"),Qee=HC;function Xee(){return Vn(this)}function Jee(e){return e=vn(e),this.isValid()?this[e+"s"]():NaN}function Pi(e){return function(){return this.isValid()?this._data[e]:NaN}}var Zee=Pi("milliseconds"),ete=Pi("seconds"),tte=Pi("minutes"),rte=Pi("hours"),nte=Pi("days"),ste=Pi("months"),ate=Pi("years");function ite(){return ln(this.days()/7)}var Ss=Math.round,Zi={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function ote(e,t,r,n,s){return s.relativeTime(t||1,!!r,e,n)}function lte(e,t,r,n){var s=Vn(e).abs(),i=Ss(s.as("s")),o=Ss(s.as("m")),l=Ss(s.as("h")),c=Ss(s.as("d")),u=Ss(s.as("M")),d=Ss(s.as("w")),f=Ss(s.as("y")),m=i<=r.ss&&["s",i]||i<r.s&&["ss",i]||o<=1&&["m"]||o<r.m&&["mm",o]||l<=1&&["h"]||l<r.h&&["hh",l]||c<=1&&["d"]||c<r.d&&["dd",c];return r.w!=null&&(m=m||d<=1&&["w"]||d<r.w&&["ww",d]),m=m||u<=1&&["M"]||u<r.M&&["MM",u]||f<=1&&["y"]||["yy",f],m[2]=t,m[3]=+e>0,m[4]=n,ote.apply(null,m)}function cte(e){return e===void 0?Ss:typeof e=="function"?(Ss=e,!0):!1}function ute(e,t){return Zi[e]===void 0?!1:t===void 0?Zi[e]:(Zi[e]=t,e==="s"&&(Zi.ss=t-1),!0)}function dte(e,t){if(!this.isValid())return this.localeData().invalidDate();var r=!1,n=Zi,s,i;return typeof e=="object"&&(t=e,e=!1),typeof e=="boolean"&&(r=e),typeof t=="object"&&(n=Object.assign({},Zi,t),t.s!=null&&t.ss==null&&(n.ss=t.s-1)),s=this.localeData(),i=lte(this,!r,n,s),r&&(i=s.pastFuture(+this,i)),s.postformat(i)}var op=Math.abs;function Ii(e){return(e>0)-(e<0)||+e}function eh(){if(!this.isValid())return this.localeData().invalidDate();var e=op(this._milliseconds)/1e3,t=op(this._days),r=op(this._months),n,s,i,o,l=this.asSeconds(),c,u,d,f;return l?(n=ln(e/60),s=ln(n/60),e%=60,n%=60,i=ln(r/12),r%=12,o=e?e.toFixed(3).replace(/\.?0+$/,""):"",c=l<0?"-":"",u=Ii(this._months)!==Ii(l)?"-":"",d=Ii(this._days)!==Ii(l)?"-":"",f=Ii(this._milliseconds)!==Ii(l)?"-":"",c+"P"+(i?u+i+"Y":"")+(r?u+r+"M":"")+(t?d+t+"D":"")+(s||n||e?"T":"")+(s?f+s+"H":"")+(n?f+n+"M":"")+(e?f+o+"S":"")):"P0D"}var at=Jm.prototype;at.isValid=sZ;at.abs=$ee;at.add=Lee;at.subtract=Fee;at.as=Wee;at.asMilliseconds=HC;at.asSeconds=Hee;at.asMinutes=Uee;at.asHours=Vee;at.asDays=zee;at.asWeeks=Yee;at.asMonths=qee;at.asQuarters=Gee;at.asYears=Kee;at.valueOf=Qee;at._bubble=Bee;at.clone=Xee;at.get=Jee;at.milliseconds=Zee;at.seconds=ete;at.minutes=tte;at.hours=rte;at.days=nte;at.weeks=ite;at.months=ste;at.years=ate;at.humanize=dte;at.toISOString=eh;at.toString=eh;at.toJSON=eh;at.locale=AC;at.localeData=_C;at.toIsoString=xn("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",eh);at.lang=TC;Be("X",0,0,"unix");Be("x",0,0,"valueOf");Oe("x",Gm);Oe("X",PX);gt("X",function(e,t,r){r._d=new Date(parseFloat(e)*1e3)});gt("x",function(e,t,r){r._d=new Date(Qe(e))});//! moment.js
Se.version="2.30.1";fX(St);Se.fn=De;Se.min=eZ;Se.max=tZ;Se.now=rZ;Se.utc=gs;Se.unix=Tee;Se.months=Pee;Se.isDate=gu;Se.locale=Ta;Se.invalid=Vm;Se.duration=Vn;Se.isMoment=Ln;Se.weekdays=Mee;Se.parseZone=_ee;Se.localeData=Qs;Se.isDuration=Ld;Se.monthsShort=Ree;Se.weekdaysMin=Iee;Se.defineLocale=k0;Se.updateLocale=_J;Se.locales=PJ;Se.weekdaysShort=Oee;Se.normalizeUnits=vn;Se.relativeTimeRounding=cte;Se.relativeTimeThreshold=ute;Se.calendarFormat=CZ;Se.prototype=De;Se.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};Se.updateLocale("ko",{months:["1","2","3","4","5","6","7","8","9","10","11","12"],monthsShort:["1","2","3","4","5","6","7","8","9","10","11","12"],weekdays:["","","","","","",""],weekdaysShort:["","","","","","",""],weekdaysMin:["","","","","","",""],longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY MMMM D",LLL:"YYYY MMMM D A h:mm",LLLL:"YYYY MMMM D dddd A h:mm"},meridiem:e=>e<12?"":"",week:{dow:0,doy:1}});Se.locale("ko");const fte=dX(Se),BN=["#F3F4F6","#F3F4F6","#F3F4F6","#F3F4F6","#F3F4F6","#F3F4F6","#F3F4F6","#F3F4F6","#F3F4F6","#F3F4F6","#F3F4F6","#F3F4F6","#F3F4F6","#F3F4F6","#F3F4F6","#F3F4F6"],WN=e=>{if(!e)return e;const t=e.split("_");return t.length>1&&t[0].length>2?t[0].substring(0,2)+"_"+t.slice(1).join("_"):e},Gl={"2025-01-01":"","2025-01-28":" ","2025-01-29":"","2025-01-30":" ","2025-03-01":"","2025-03-03":"","2025-05-05":"","2025-05-06":"","2025-06-06":"","2025-08-15":"","2025-10-03":"","2025-10-05":" ","2025-10-06":"","2025-10-07":" ","2025-10-08":"","2025-10-09":"","2025-12-25":""},mte=U.memo(({date:e,label:t,filteredEvents:r,selectedDate:n,user:s,isMobileView:i})=>{const o=Se(e).format("YYYY-MM-DD"),l=Gl[o],c=!!Gl[o],u=n&&Se(e).isSame(n,"day"),d=r.filter(A=>Se(A.start).isSame(e,"day")),f=d.length,m=d.filter(A=>A.assignedTo&&A.assignedTo.includes((s==null?void 0:s.name)||"")).length,v=f-m,p=t.replace(/^0/,""),h=e.getDay()===0,j=e.getDay()===6;let x="#000000";c||h?x="#dc2626":j&&(x="#3b82f6");const b=Se(e).isSame(Se(),"day"),N=p.length===2,g=i?{backgroundColor:"transparent",color:x,borderRadius:"50%",width:"30px",height:"30px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",fontWeight:b?"700":"400",border:u?"1px solid #1f2937":"1px solid transparent",boxSizing:"border-box",gap:"1px"}:{color:x,fontWeight:b?"700":"400",paddingLeft:N?"0px":"4px"};return a.jsx("div",{className:i?"flex flex-col items-center":"flex items-center gap-2",style:{overflow:"visible",position:"relative",zIndex:10},children:i?a.jsxs("span",{style:g,children:[a.jsx("span",{style:{fontSize:"13px",lineHeight:"1"},children:p}),f>0&&a.jsxs("div",{className:"flex gap-0.5",style:{minHeight:"4px",marginTop:"1px"},children:[Array.from({length:m}).map((A,k)=>a.jsx("div",{style:{width:"4px",height:"4px",borderRadius:"50%",backgroundColor:"#66BB6A",flexShrink:0}},`user-${k}`)),Array.from({length:v}).map((A,k)=>a.jsx("div",{style:{width:"4px",height:"4px",borderRadius:"50%",backgroundColor:"#757575",flexShrink:0}},`other-${k}`))]})]}):a.jsxs(a.Fragment,{children:[a.jsx("span",{style:g,children:p}),l&&a.jsx("span",{className:"text-xs font-medium",style:{color:"#ef4444"},children:l})]})})}),hte=U.memo(({event:e,user:t})=>{const r=e.assignedTo||[],[n,s]=w.useState(window.innerWidth>=768&&window.innerWidth<1024),[i,o]=w.useState(!1),l=t!=null&&t.name?t.name.slice(-2):null,c=l&&["",""].includes(l),u=l&&["","",""].includes(l);return w.useEffect(()=>{const d=()=>{s(window.innerWidth>=768&&window.innerWidth<1024)};return window.addEventListener("resize",d),()=>window.removeEventListener("resize",d)},[]),n?a.jsxs("div",{className:"w-full relative block",onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),style:{padding:"2px 4px",minHeight:"40px",display:"flex",flexDirection:"column",justifyContent:"flex-start"},children:[a.jsxs("div",{className:"flex items-center justify-between w-full",style:{fontSize:"11px",opacity:.8,marginBottom:"2px"},children:[!e.isASVisit&&e.projectName&&a.jsxs("span",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:"60%",flexShrink:0},children:["[",WN(e.projectName),"]"]}),r.length>0&&a.jsx("span",{style:{flexShrink:0,fontSize:"11px"},children:r.map((d,f)=>{const m=d==="HV LAB"||d===""&&c||d===""&&u||d===(t==null?void 0:t.name);return a.jsxs(U.Fragment,{children:[a.jsx("span",{style:{fontWeight:m?"bold":"normal"},children:d}),f<r.length-1&&""]},d)})})]}),a.jsx("div",{style:{fontWeight:500,fontSize:"12px",lineHeight:"1.4",overflow:"hidden",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",wordBreak:"keep-all",textOverflow:"ellipsis"},title:e.title,children:e.title}),i&&a.jsxs("div",{className:"absolute z-50 bg-gray-900 text-white text-xs rounded p-2 shadow-lg",style:{bottom:"100%",left:"0",marginBottom:"4px",minWidth:"200px",maxWidth:"300px"},children:[a.jsx("div",{className:"font-semibold mb-1",children:e.title}),e.projectName&&a.jsxs("div",{className:"opacity-90",children:[": ",e.projectName]}),r.length>0&&a.jsxs("div",{className:"opacity-90 mt-1",children:[": ",r.join(", ")]})]})]}):a.jsxs("div",{className:"flex items-center justify-between w-full gap-1.5 overflow-hidden",children:[a.jsxs("div",{className:"flex items-center gap-1.5 overflow-hidden flex-1",children:[!e.isASVisit&&e.projectName&&a.jsxs("span",{className:"text-xs opacity-70 flex-shrink-0",children:["[",WN(e.projectName),"]"]}),a.jsx("span",{className:"font-medium truncate",children:e.title})]}),r.length>0&&a.jsx("span",{className:"text-xs opacity-80 flex-shrink-0 ml-auto",children:r.map((d,f)=>{const m=d==="HV LAB"||d===""&&c||d===""&&u||d===(t==null?void 0:t.name);return a.jsxs(U.Fragment,{children:[a.jsx("span",{className:m?"font-bold":"",children:d}),f<r.length-1&&""]},d)})})]})}),pte=()=>{const{schedules:e,loadSchedulesFromAPI:t,addScheduleToAPI:r,updateScheduleInAPI:n,deleteScheduleFromAPI:s,projects:i,asRequests:o,updateASRequestInAPI:l,loadASRequestsFromAPI:c,constructionPayments:u,updateConstructionPaymentInAPI:d}=Un(),{user:f}=Gs(),m=f!=null&&f.name?f.name.slice(-2):null;console.log(" Current user:",f==null?void 0:f.name,"Short name:",m),w.useEffect(()=>{t().catch(M=>{console.error("Failed to load schedules:",M),z.error("  ")})},[t]);const v=M=>{const y=i.findIndex(C=>C.name===M);return y>=0?BN[y%BN.length]:"#e8e2ea"},p=M=>{if(!M||M==="-")return"";const[y,C]=M.split(":"),S=parseInt(y,10),D=parseInt(C,10),P=S>=12?"":"",K=S>12?S-12:S===0?12:S;return D===0?`${P} ${K}`:`${P} ${K} ${D}`},h=e.filter(M=>!M.asRequestId).map(M=>{const y=M.project===""?"[]":M.project,C=i.find(E=>E.name===M.project),S=M.time,D=S&&S!=="-"?` - ${p(S)}`:"",P=M.attendees||[],K=P.includes("")||P.includes((f==null?void 0:f.name)||"")||m&&P.includes(m),ne=K?new Date(M.start.getTime()-216e5):M.start;return K&&console.log(` User schedule found: ${M.title}, attendees:`,P),{id:M.id,title:M.title+D,originalTitle:M.title,start:ne,end:M.end,projectId:(C==null?void 0:C.id)||"",projectName:y||"",type:M.type||"other",phase:"",assignedTo:P,priority:"medium",allDay:!S||S==="-",color:v(M.project||""),isASVisit:!1,time:S,description:M.description}}),j=o.filter(M=>M.scheduledVisitDate).map(M=>{const y=M.scheduledVisitTime,C=y&&y!=="-"?` - ${p(y)}`:"",S=i.find(P=>P.name===M.project),D=`[AS] ${M.project}`;return{id:`as-${M.id}`,title:D+C,originalTitle:D,start:M.scheduledVisitDate,end:M.scheduledVisitDate,projectId:(S==null?void 0:S.id)||"",projectName:M.project,type:"as_visit",phase:"",assignedTo:M.assignedTo?Array.isArray(M.assignedTo)?M.assignedTo:M.assignedTo.split(",").map(P=>P.trim()):[],priority:"high",allDay:!y||y==="-",color:"#FEF3C7",isASVisit:!0,time:y,description:M.description}}),x=(f==null?void 0:f.role)==="manager"?u.flatMap(M=>{var P,K,ne,E,X,B,le,Pe;const y=i.find(Me=>Me.name===M.project);if(!y){const Me=[],He=M.totalAmount+(M.vatType==="percentage"?M.totalAmount*(M.vatPercentage/100):M.vatAmount),lt=new Set(M.payments.flatMap(Xe=>{var st;return((st=Xe.type)==null?void 0:st.split(", ").map(ft=>ft.trim()))||[]}));return!lt.has("")&&((P=M.expectedPaymentDates)!=null&&P.contract)&&Me.push({id:`payment-${M.id}-contract`,title:"[] ",originalTitle:"[] ",start:new Date(M.expectedPaymentDates.contract),end:new Date(M.expectedPaymentDates.contract),projectId:"",projectName:M.project,type:"expected_payment",phase:"",assignedTo:[],priority:"medium",allDay:!0,color:"#DBEAFE",isExpectedPayment:!0,description:` (10%): ${Math.round(He*.1).toLocaleString()}`}),!lt.has("")&&((K=M.expectedPaymentDates)!=null&&K.start)&&Me.push({id:`payment-${M.id}-start`,title:"[] ",originalTitle:"[] ",start:new Date(M.expectedPaymentDates.start),end:new Date(M.expectedPaymentDates.start),projectId:"",projectName:M.project,type:"expected_payment",phase:"",assignedTo:[],priority:"medium",allDay:!0,color:"#DBEAFE",isExpectedPayment:!0,description:` (40%): ${Math.round(He*.4).toLocaleString()}`}),!lt.has("")&&((ne=M.expectedPaymentDates)!=null&&ne.middle)&&Me.push({id:`payment-${M.id}-middle`,title:"[] ",originalTitle:"[] ",start:new Date(M.expectedPaymentDates.middle),end:new Date(M.expectedPaymentDates.middle),projectId:"",projectName:M.project,type:"expected_payment",phase:"",assignedTo:[],priority:"medium",allDay:!0,color:"#DBEAFE",isExpectedPayment:!0,description:` (40%): ${Math.round(He*.4).toLocaleString()}`}),!lt.has("")&&((E=M.expectedPaymentDates)!=null&&E.final)&&Me.push({id:`payment-${M.id}-final`,title:"[] ",originalTitle:"[] ",start:new Date(M.expectedPaymentDates.final),end:new Date(M.expectedPaymentDates.final),projectId:"",projectName:M.project,type:"expected_payment",phase:"",assignedTo:[],priority:"medium",allDay:!0,color:"#DBEAFE",isExpectedPayment:!0,description:` (10%): ${Math.round(He*.1).toLocaleString()}`}),Me}if(!y.startDate||!y.endDate)return[];const C=M.totalAmount+(M.vatType==="percentage"?M.totalAmount*(M.vatPercentage/100):M.vatAmount),S=new Set(M.payments.flatMap(Me=>{var He;return((He=Me.type)==null?void 0:He.split(", ").map(lt=>lt.trim()))||[]})),D=[];return!S.has("")&&((X=M.expectedPaymentDates)!=null&&X.contract)&&D.push({id:`payment-${M.id}-contract`,title:"[] ",originalTitle:"[] ",start:new Date(M.expectedPaymentDates.contract),end:new Date(M.expectedPaymentDates.contract),projectId:y.id||"",projectName:M.project,type:"expected_payment",phase:"",assignedTo:[],priority:"medium",allDay:!0,color:"#DBEAFE",isExpectedPayment:!0,description:` (10%): ${Math.round(C*.1).toLocaleString()}`}),!S.has("")&&((B=M.expectedPaymentDates)!=null&&B.start)&&D.push({id:`payment-${M.id}-start`,title:"[] ",originalTitle:"[] ",start:new Date(M.expectedPaymentDates.start),end:new Date(M.expectedPaymentDates.start),projectId:y.id||"",projectName:M.project,type:"expected_payment",phase:"",assignedTo:[],priority:"medium",allDay:!0,color:"#DBEAFE",isExpectedPayment:!0,description:` (40%): ${Math.round(C*.4).toLocaleString()}`}),!S.has("")&&((le=M.expectedPaymentDates)!=null&&le.middle)&&D.push({id:`payment-${M.id}-middle`,title:"[] ",originalTitle:"[] ",start:new Date(M.expectedPaymentDates.middle),end:new Date(M.expectedPaymentDates.middle),projectId:y.id||"",projectName:M.project,type:"expected_payment",phase:"",assignedTo:[],priority:"medium",allDay:!0,color:"#DBEAFE",isExpectedPayment:!0,description:` (40%): ${Math.round(C*.4).toLocaleString()}`}),!S.has("")&&((Pe=M.expectedPaymentDates)!=null&&Pe.final)&&D.push({id:`payment-${M.id}-final`,title:"[] ",originalTitle:"[] ",start:new Date(M.expectedPaymentDates.final),end:new Date(M.expectedPaymentDates.final),projectId:y.id||"",projectName:M.project,type:"expected_payment",phase:"",assignedTo:[],priority:"medium",allDay:!0,color:"#DBEAFE",isExpectedPayment:!0,description:` (10%): ${Math.round(C*.1).toLocaleString()}`}),D}):[],b=[...h,...j,...x],g=(M=>{const y=new Map;M.forEach(S=>{if(S.isASVisit||S.isExpectedPayment){const D=`single_${S.id}`;y.set(D,[S])}else{const D=S.start.toISOString().split("T")[0],P=[...S.assignedTo].sort().join(","),K=`${D}_${S.projectName}_${P}`;y.has(K)||y.set(K,[]),y.get(K).push(S)}});const C=[];return y.forEach(S=>{if(S.length===1)C.push(S[0]);else{const D=S[0],P=S.map(Pe=>Pe.originalTitle||Pe.title),K=[...new Set(P)],ne=S.filter(Pe=>Pe.time&&Pe.time!=="-").map(Pe=>Pe.time),E=ne.length>0?` - ${ne.join(", ")}`:"",X=S.map(Pe=>{const Me=Pe.originalTitle||Pe.title;return Me.startsWith(D.projectName+" - ")?Me.substring(D.projectName.length+3):Me}),B=[...new Set(X)],le={...D,id:S[0].id,title:`${B.join(", ")}${E}`,originalTitle:K.join(", "),description:S.map(Pe=>Pe.description||Pe.originalTitle||Pe.title).join(`
`),assignedTo:[...new Set(S.flatMap(Pe=>Pe.assignedTo))],mergedEventIds:S.map(Pe=>Pe.id)};C.push(le)}}),C.sort((S,D)=>S.start.getTime()-D.start.getTime())})(b),[A,k]=w.useState("month"),[_,O]=w.useState(new Date),[R,I]=w.useState(!1),[V,Z]=w.useState(null),[Q,G]=w.useState(null),[xe,re]=w.useState("all"),[pe,ce]=w.useState(window.innerWidth<768?new Date:null),q=xe==="all"?g:g.filter(M=>M.projectName===xe);w.useEffect(()=>{const M=()=>{document.querySelectorAll(".rbc-show-more, .rbc-button-link").forEach(K=>{K.style.display="none",K.style.visibility="hidden",K.style.pointerEvents="none"}),document.querySelectorAll('.rbc-overlay, .rbc-overlay-header, .rbc-popup, [class*="rbc-overlay"]').forEach(K=>{K.style.display="none",K.style.visibility="hidden",K.style.opacity="0",K.style.pointerEvents="none",K.style.position="absolute",K.style.left="-9999px",K.style.top="-9999px",K.style.zIndex="-1"})};M();const y=new MutationObserver(M),C=document.querySelector(".rbc-calendar");C&&y.observe(C,{childList:!0,subtree:!0});const S=new MutationObserver(M);return S.observe(document.body,{childList:!0,subtree:!0}),()=>{y.disconnect(),S.disconnect()}},[A,_]);const[oe,J]=w.useState({date:null,projectId:"",title:""}),H=U.useRef(!1),ae=U.useRef(null),ye=M=>{H.current=!0,ae.current&&clearTimeout(ae.current);const y={...M,title:M.originalTitle||M.title};G(null),Z(y),I(!0),ae.current=setTimeout(()=>{H.current=!1,ae.current=null},1500)},ve=M=>{if(H.current)return;const y=window.innerWidth,C=y<768,S=y>=768&&y<1024;if(C){if(M.start){ce(M.start);const P=document.querySelector(".md\\:hidden.mt-3.bg-white");P&&P.scrollIntoView({behavior:"smooth",block:"nearest"})}return}const D=M.action==="click"||M.action==="select";S&&!D||C||(G(M),Z(null),I(!0))},te=async()=>{if(!oe.projectId||!oe.title.trim()){alert("  ");return}const M=i.find(y=>y.id===oe.projectId);if(!(!M||!oe.date))try{await r({id:Date.now().toString(),title:oe.title,start:oe.date,end:oe.date,type:"other",project:M.name,location:"",attendees:[],description:""}),J({date:null,projectId:"",title:""}),ce(null),z.success(" ")}catch(y){console.error("Failed to add schedule:",y),z.error("  ")}},ue=M=>{let y=M.color||"#E0E7FF",C="#1f2937";if(M.isASVisit)y="#E8F5E9",C="#1f2937";else{const S=M.assignedTo&&M.assignedTo.includes("HV LAB"),D=M.assignedTo&&M.assignedTo.includes("")&&m&&["",""].includes(m),P=M.assignedTo&&M.assignedTo.includes("")&&m&&["","",""].includes(m);M.assignedTo&&M.assignedTo.includes((f==null?void 0:f.name)||"")||S||D||P?(y="#FEF3C7",C="#1f2937"):M.color||(y="#e8e2ea")}return{style:{backgroundColor:y,"--event-bg-color":y,borderRadius:"6px",color:C,border:"none",display:"block",fontSize:"0.8125rem",padding:"4px 8px",fontWeight:"500",boxShadow:"0 1px 2px rgba(0,0,0,0.05)",overflow:"hidden"}}},Ne=U.useCallback(M=>{const y=Se(M).format("YYYY-MM-DD"),C=!!Gl[y],S=pe&&Se(M).isSame(pe,"day");let D="";return S&&(D+="selected-date "),C&&(D+="holiday-date "),{className:D.trim(),style:{}}},[pe]),[F,ie]=w.useState(window.innerWidth<768);w.useEffect(()=>{const M=()=>{ie(window.innerWidth<768)};return window.addEventListener("resize",M),()=>window.removeEventListener("resize",M)},[]),w.useEffect(()=>{const M=()=>{const y=pe||new Date;G({start:y,end:y}),Z(null),I(!0)};return window.addEventListener("headerAddButtonClick",M),()=>window.removeEventListener("headerAddButtonClick",M)},[pe]);const T=U.useCallback(({date:M,label:y})=>a.jsx(mte,{date:M,label:y,filteredEvents:q,selectedDate:pe,user:f,isMobileView:F}),[q,pe,f,F]),W=U.useCallback(({event:M})=>a.jsx(hte,{event:M,user:f}),[f]),Y=({onNavigate:M})=>{const[y,C]=U.useState(!1),[S,D]=U.useState(Se(_).year()),[P,K]=U.useState(Se(_).month()),ne=window.innerWidth<768,E=()=>{D(Se(_).year()),K(Se(_).month()),C(!0)},X=()=>{O(Se().year(S).month(P).toDate()),C(!1)};return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:`flex flex-col bg-white border-b border-gray-200 ${ne?"px-2 py-1":"px-3 md:px-5 py-2"}`,children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("button",{onClick:()=>M("PREV"),className:"px-2 py-1.5 text-2xl md:text-3xl text-gray-700 hover:bg-gray-100 rounded-lg transition-colors font-bold",children:""}),a.jsx("div",{className:"text-base md:text-lg font-bold text-gray-900 hover:bg-gray-50 px-2 md:px-3 py-1 rounded-lg transition-colors cursor-pointer",onClick:E,children:a.jsx("span",{children:Se(_).format("YYYY MM")})}),a.jsx("button",{onClick:()=>M("NEXT"),className:"px-2 py-1.5 text-2xl md:text-3xl text-gray-700 hover:bg-gray-100 rounded-lg transition-colors font-bold",children:""})]}),a.jsxs("select",{className:"px-3 md:px-4 py-1.5 md:py-2 bg-white text-gray-700 rounded-lg text-xs md:text-sm font-medium focus:outline-none focus:ring-2 focus:ring-gray-300 border border-gray-300",value:xe,onChange:B=>re(B.target.value),style:{appearance:"none",backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%236b7280'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 0.5rem center",backgroundSize:"1.25rem",paddingRight:"2.5rem"},children:[a.jsx("option",{value:"all",children:" "}),i.filter(B=>B.status!=="completed").map(B=>a.jsx("option",{value:B.name,children:B.name},B.id))]})]})}),y&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white rounded-lg w-full max-w-sm shadow-xl",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[a.jsx("h3",{className:"text-lg font-bold text-gray-900",children:" "}),a.jsx("button",{onClick:()=>C(!1),className:"p-1 hover:bg-gray-100 rounded-lg transition-colors",children:a.jsx("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsx("div",{className:"p-4 border-b border-gray-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("button",{onClick:()=>D(S-1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:a.jsx("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),a.jsxs("span",{className:"text-xl font-bold text-gray-900",children:[S,""]}),a.jsx("button",{onClick:()=>D(S+1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:a.jsx("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})}),a.jsx("div",{className:"p-4",children:a.jsx("div",{className:"grid grid-cols-3 gap-2",children:[1,2,3,4,5,6,7,8,9,10,11,12].map(B=>{const le=P===B-1,Pe=Se().year()===S&&Se().month()===B-1;return a.jsxs("button",{onClick:()=>K(B-1),className:`py-3 px-4 rounded-lg text-sm font-medium transition-colors ${le?"bg-gray-900 text-white":Pe?"bg-gray-100 text-gray-900 border-2 border-gray-900":"bg-gray-50 text-gray-700 hover:bg-gray-100"}`,children:[B,""]},B)})})}),a.jsxs("div",{className:"p-4 border-t border-gray-200 flex gap-2",children:[a.jsx("button",{onClick:()=>{O(new Date),C(!1)},className:"flex-1 py-2 px-4 bg-gray-100 text-gray-900 rounded-lg text-sm font-medium hover:bg-gray-200 transition-colors",children:""}),a.jsx("button",{onClick:X,className:"flex-1 py-2 px-4 bg-gray-900 text-white rounded-lg text-sm font-medium hover:bg-gray-800 transition-colors",children:""})]})]})})]})},ee=()=>null,Te=w.useMemo(()=>({toolbar:Y,event:W,month:{dateHeader:T,showMore:ee}}),[T,W]),we=U.useMemo(()=>{if(!pe)return[];const y=[...q.filter(C=>Se(C.start).isSame(pe,"day"))].sort((C,S)=>{const D=C.assignedTo&&C.assignedTo.includes("HV LAB"),P=C.assignedTo&&C.assignedTo.includes("")&&m&&["",""].includes(m),K=C.assignedTo&&C.assignedTo.includes("")&&m&&["","",""].includes(m),ne=C.assignedTo&&m&&C.assignedTo.includes(m)||C.assignedTo&&(f==null?void 0:f.name)&&C.assignedTo.includes(f.name)||D||P||K,E=S.assignedTo&&S.assignedTo.includes("HV LAB"),X=S.assignedTo&&S.assignedTo.includes("")&&m&&["",""].includes(m),B=S.assignedTo&&S.assignedTo.includes("")&&m&&["","",""].includes(m),le=S.assignedTo&&m&&S.assignedTo.includes(m)||S.assignedTo&&(f==null?void 0:f.name)&&S.assignedTo.includes(f.name)||E||X||B;return ne&&!le?-1:!ne&&le?1:new Date(C.start).getTime()-new Date(S.start).getTime()});return console.log("Sorted events:",y.map(C=>({title:C.title,assignedTo:C.assignedTo,user:f==null?void 0:f.name,userShort:m}))),y},[pe,q,f,m]);return w.useEffect(()=>{const y=setTimeout(()=>{const C=F?document.querySelectorAll(".rbc-month-view td.rbc-date-cell"):document.querySelectorAll(".rbc-date-cell"),S=document.querySelectorAll(".rbc-month-row"),D=[];S.forEach((Me,He)=>{const lt=Me.querySelectorAll(".rbc-date-cell");let Xe=0;lt.forEach(st=>{const ft=st.querySelector("button");let it=ft==null?void 0:ft.textContent;if(!it){const qt=st.querySelector("span");it=qt==null?void 0:qt.textContent}if(it&&!isNaN(parseInt(it))){const qt=Se(_).date(parseInt(it)),or=q.filter(zn=>Se(zn.start).isSame(qt,"day"));Xe=Math.max(Xe,or.length)}}),D.push(Xe)});const P=100,K=18,ne=25,E=Math.floor((P-ne)/K),X=D.length,B=P*X,le=D.map(Me=>Me<=E?P:ne+Me*K+10),Pe=le.reduce((Me,He)=>Me+He,0);if(Pe>B){const Me=le.map((Xe,st)=>({index:st,height:Xe,overflow:Xe>P})),He=Me.filter(Xe=>Xe.overflow).reduce((Xe,st)=>Xe+(st.height-P),0),lt=Me.filter(Xe=>!Xe.overflow);if(lt.length>0){const Xe=B-He-lt.length*P,st=Math.max(50,P+Xe/lt.length);S.forEach((ft,it)=>{const or=le[it]>P?le[it]:st;ft.style.height=`${or}px`,ft.style.minHeight=`${or}px`})}else{const Xe=B/Pe;S.forEach((st,ft)=>{const it=Math.max(80,le[ft]*Xe);st.style.height=`${it}px`,st.style.minHeight=`${it}px`})}}else{const Me=le.reduce((st,ft)=>st+(ft>P?ft:0),0),He=le.filter(st=>st<=P).length,lt=B-Me,Xe=He>0?lt/He:P;S.forEach((st,ft)=>{const it=le[ft]>P?le[ft]:Xe;st.style.height=`${it}px`,st.style.minHeight=`${it}px`})}C.forEach(Me=>{const He=Me.querySelector("button");let lt=He==null?void 0:He.textContent;if(!lt){const it=Me.querySelector("span");lt=it==null?void 0:it.textContent}if(!lt||isNaN(parseInt(lt)))return;const Xe=Se(_).date(parseInt(lt)),st=q.filter(it=>Se(it.start).isSame(Xe,"day"));st.length>0?Me.setAttribute("data-event-count",st.length.toString()):Me.removeAttribute("data-event-count");const ft=Xe.clone().toDate();if(pe&&Se(ft).isSame(pe,"day")?Me.classList.add("selected-date"):Me.classList.remove("selected-date"),F){const it=Me,qt=it._mobileClickHandler;qt&&Me.removeEventListener("click",qt);const or=zn=>{if(zn.target.closest(".rbc-event"))return;const fe=Xe.clone().toDate();ce(fe);const se=document.querySelector(".md\\:hidden.mt-3.bg-white");se&&se.scrollIntoView({behavior:"smooth",block:"nearest"})};it._mobileClickHandler=or,Me.addEventListener("click",or,!0),Me.style.cursor="pointer",Me.style.touchAction="manipulation"}})},200);return()=>{clearTimeout(y),F&&document.querySelectorAll(".rbc-month-view td.rbc-date-cell").forEach(S=>{const D=S,P=D._mobileClickHandler;P&&(S.removeEventListener("click",P),delete D._mobileClickHandler)})}},[q,_,F,pe]),a.jsxs("div",{className:"space-y-3 md:space-y-2",children:[oe.date&&a.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-3 md:p-4 shadow-sm",children:a.jsxs("div",{className:"flex flex-col md:flex-row items-stretch md:items-center gap-2 md:gap-3",children:[a.jsx("div",{className:"text-xs md:text-sm font-semibold text-gray-900 md:min-w-[80px]",children:Se(oe.date).format("MM DD")}),a.jsx("select",{value:oe.projectId,onChange:M=>J({...oe,projectId:M.target.value}),className:"px-3 md:px-4 py-2 border border-gray-300 rounded-lg text-xs md:text-sm focus:outline-none focus:ring-2 focus:ring-gray-500",children:i.filter(M=>M.status!=="completed").map(M=>a.jsx("option",{value:M.id,children:M.name},M.id))}),a.jsx("input",{type:"text",value:oe.title,onChange:M=>J({...oe,title:M.target.value}),onKeyPress:M=>{M.key==="Enter"&&te()},placeholder:"  ...",className:"flex-1 px-3 md:px-4 py-2 border border-gray-300 rounded-lg text-xs md:text-sm focus:outline-none focus:ring-2 focus:ring-gray-500",autoFocus:!0}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:te,className:"flex-1 md:flex-none px-4 md:px-5 py-2 bg-gray-900 text-white text-xs md:text-sm font-medium rounded-lg hover:bg-gray-800 transition-colors",children:""}),a.jsx("button",{onClick:()=>{J({date:null,projectId:"",title:""}),ce(null)},className:"flex-1 md:flex-none px-4 md:px-5 py-2 bg-white border border-gray-300 text-gray-700 text-xs md:text-sm font-medium rounded-lg hover:bg-gray-50 transition-colors",children:""})]})]})}),a.jsxs("div",{className:"flex flex-col md:block",children:[a.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden shadow-sm calendar-container",style:{paddingBottom:0},children:a.jsx(aX,{localizer:fte,events:q,startAccessor:"start",endAccessor:"end",view:A,onView:k,date:_,onNavigate:O,onSelectEvent:ye,onSelectSlot:ve,selectable:!0,longPressThreshold:0,eventPropGetter:ue,dayPropGetter:Ne,components:Te,popup:!1,doShowMoreDrillDown:!1,onShowMore:()=>{},showAllEvents:!0,messages:{today:"",previous:"",next:"",month:"",week:"",day:"",agenda:"",date:"",time:"",event:"",noEventsInRange:"   ",showMore:M=>`+${M} `}},`calendar-${(pe==null?void 0:pe.getTime())||"no-selection"}`)}),pe&&a.jsxs("div",{className:"md:hidden mt-3 bg-white border border-gray-200 rounded-lg overflow-hidden shadow-sm",children:[a.jsxs("div",{className:"flex items-center justify-between p-3 border-b border-gray-200 bg-gray-50",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("p",{className:"text-sm font-semibold text-gray-900",children:Se(pe).format("MM DD dddd")}),Gl[Se(pe).format("YYYY-MM-DD")]&&a.jsx("span",{className:"text-xs font-medium px-2 py-0.5 rounded-full bg-red-50 text-red-600",children:Gl[Se(pe).format("YYYY-MM-DD")]})]}),a.jsx("button",{onClick:()=>ce(null),className:"p-1 hover:bg-gray-200 rounded-full transition-colors",children:a.jsx("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsx("div",{className:"max-h-[35vh] overflow-y-auto",children:we.length===0?a.jsx("div",{className:"p-4 text-center",children:a.jsx("p",{className:"text-sm text-gray-500",children:" "})}):a.jsx("div",{className:"divide-y divide-gray-100",children:we.map(M=>{const y=M.assignedTo&&M.assignedTo.includes("HV LAB"),C=M.assignedTo&&M.assignedTo.includes("")&&m&&["",""].includes(m),S=M.assignedTo&&M.assignedTo.includes("")&&m&&["","",""].includes(m),P=M.assignedTo&&(M.assignedTo.includes((f==null?void 0:f.name)||"")||m&&M.assignedTo.includes(m))||y||C||S,K=!M.color&&!P;return a.jsx("div",{onClick:()=>{const ne={...M,title:M.originalTitle||M.title};ye(ne)},className:`p-3 transition-colors cursor-pointer ${P?"bg-yellow-50 hover:bg-yellow-100 active:bg-yellow-200":K?"hover:bg-purple-50 active:bg-purple-100":"hover:bg-gray-50 active:bg-gray-100"}`,style:K?{backgroundColor:"#f3f0f5"}:void 0,children:a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx("div",{className:"w-1 h-full rounded-full flex-shrink-0",style:{backgroundColor:P?"#FEF3C7":M.color||"#e8e2ea",minHeight:"28px"}}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-semibold text-gray-900 truncate",children:M.title}),M.projectName&&a.jsx("p",{className:"text-xs text-gray-600 mt-0.5",children:M.projectName}),M.assignedTo&&M.assignedTo.length>0&&a.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:["","",""].every(X=>M.assignedTo.includes(X))?"":M.assignedTo.join(", ")})]}),a.jsx("svg",{className:"w-4 h-4 text-gray-400 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})},M.id)})})})]})]}),R&&a.jsx(yk,{event:V,slotInfo:Q,defaultProjectName:xe!=="all"?xe:void 0,onClose:()=>{I(!1),Z(null),G(null)},onSave:async M=>{console.log(" Schedule.tsx onSave called with newEvent:",M);try{if(V)if(V.id.startsWith("as-")){const y=V.id.replace("as-","");let C="";M.assignedTo&&Array.isArray(M.assignedTo)&&M.assignedTo.length>0?C=M.assignedTo.join(", "):V.assignedTo&&Array.isArray(V.assignedTo)?C=V.assignedTo.join(", "):typeof V.assignedTo=="string"&&(C=V.assignedTo),await l(y,{project:M.title||V.title,assignedTo:C,scheduledVisitDate:M.start,scheduledVisitTime:M.time||V.time}),z.success("AS   "),await c(),I(!1)}else if(V.id.startsWith("payment-")){const y=V.id.split("-"),C=y[1],S=y[2],D=u.find(P=>P.id===C);if(D){const P={...D.expectedPaymentDates};P[S]=M.start,await d(C,{expectedPaymentDates:P}),z.success("  ")}}else{console.log(" Updating schedule with projectId:",M.projectId,"projectName:",M.projectName);let y=M.title;const C=/ - (|) \d{1,2}( \d{1,2})?$/;if(y=y.replace(C,""),V.mergedEventIds&&V.mergedEventIds.length>0){console.log(" Updating merged schedules:",V.mergedEventIds);const S=(V.originalTitle||V.title).split(", "),D=y.split(", ");for(let P=0;P<V.mergedEventIds.length;P++){const K=V.mergedEventIds[P],ne=D[P]||S[P]||y;await n(K,{title:ne.trim(),start:M.start,end:M.end,type:"other",project:M.projectId||M.projectName,location:"",attendees:M.assignedTo||[],description:M.description,time:M.time})}z.success(`${V.mergedEventIds.length}  `)}else await n(V.id,{title:y,start:M.start,end:M.end,type:"other",project:M.projectId||M.projectName,location:"",attendees:M.assignedTo||[],description:M.description,time:M.time}),z.success(" ");await t()}else console.log(" Adding schedule with projectId:",M.projectId,"projectName:",M.projectName),await r({id:Date.now().toString(),title:M.title,start:M.start,end:M.end,type:"other",project:M.projectId||M.projectName,location:"",attendees:M.assignedTo||[],description:M.description,time:M.time}),z.success(" ");I(!1)}catch(y){console.error("Failed to save schedule:",y),z.error("  ")}},onDelete:async M=>{try{if(M.startsWith("payment-")){const y=M.split("-"),C=y[1],S=y[2],D=u.find(P=>P.id===C);if(D){const P={...D.expectedPaymentDates};delete P[S],await d(C,{expectedPaymentDates:P}),z.success("  ")}}else if(M.startsWith("as-")){const y=M.replace("as-","");await l(y,{scheduledVisitDate:null,scheduledVisitTime:null}),z.success("AS   ")}else{const y=g.find(C=>C.id===M);if(y!=null&&y.mergedEventIds&&y.mergedEventIds.length>0){console.log("Deleting merged schedules:",y.mergedEventIds);for(const C of y.mergedEventIds)await s(C);z.success(`${y.mergedEventIds.length}  `)}else await s(M),z.success(" ")}I(!1)}catch(y){console.error("Failed to delete schedule:",y),z.error("  ")}}})]})},HN=["","","","","",""],gte=({request:e,onClose:t,onSave:r})=>{const{register:n,handleSubmit:s,setValue:i,formState:{errors:o}}=nu(),{projects:l}=Un(),[c,u]=w.useState([]),[d,f]=w.useState(""),[m,v]=w.useState(""),[p,h]=w.useState(9),[j,x]=w.useState(0),b=l.filter(_=>_.status==="completed");w.useEffect(()=>{if(e){if(i("project",e.project),i("client",e.client),i("siteAddress",e.siteAddress),i("entrancePassword",e.entrancePassword),i("description",e.description),e.requestDate&&i("requestDate",e.requestDate.toISOString().split("T")[0]),e.scheduledVisitDate&&i("scheduledVisitDate",e.scheduledVisitDate.toISOString().split("T")[0]),e.scheduledVisitTime){const[_,O]=e.scheduledVisitTime.split(":"),R=parseInt(_,10),I=parseInt(O,10);R>=12?(v(""),h(R===12?12:R-12)):(v(""),h(R===0?12:R)),x(I)}u(e.assignedTo||[])}else u([]),v(""),h(9),x(0)},[e,i]);const N=_=>{u(O=>O.includes(_)?O.filter(R=>R!==_):[...O,_])},g=()=>{d.trim()&&!c.includes(d.trim())&&(u(_=>[..._,d.trim()]),f(""))},A=_=>{u(O=>O.filter(R=>R!==_))},k=_=>{let O=p;m===""&&p!==12?O=p+12:m===""&&p===12&&(O=0);const R=`${O.toString().padStart(2,"0")}:${j.toString().padStart(2,"0")}`,I={..._,requestDate:new Date(_.requestDate),scheduledVisitDate:_.scheduledVisitDate?new Date(_.scheduledVisitDate):void 0,scheduledVisitTime:R,assignedTo:c};r(I)};return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b sticky top-0 bg-white z-10",children:[a.jsx("h2",{className:"text-xl font-semibold",children:e?"AS  ":"AS  "}),a.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:a.jsx(rt,{className:"h-5 w-5"})})]}),a.jsxs("form",{onSubmit:s(k),className:"p-6 space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" * ( )"}),a.jsxs("select",{...n("project",{required:" "}),className:"input",onChange:_=>{const O=b.find(R=>R.name===_.target.value);O&&(i("client",O.client),i("siteAddress",O.location),i("entrancePassword",O.entrancePassword||""))},children:[a.jsx("option",{value:"",children:""}),b.map(_=>a.jsx("option",{value:_.name,children:_.name},_.id))]}),o.project&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(o.project.message)}),b.length===0&&a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"  "})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"}),a.jsx("input",{...n("client",{required:" "}),type:"text",className:"input"}),o.client&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(o.client.message)})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"}),a.jsx("input",{...n("siteAddress",{required:" "}),type:"text",className:"input"}),o.siteAddress&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(o.siteAddress.message)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),a.jsx("input",{...n("entrancePassword"),type:"text",className:"input"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),a.jsx("textarea",{...n("description"),rows:3,className:"input"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" (  )"}),a.jsxs("div",{className:"flex flex-wrap gap-1.5 mb-2",children:[HN.map(_=>a.jsx("button",{type:"button",onClick:()=>N(_),className:`px-2.5 py-1.5 rounded border transition-colors text-sm ${c.includes(_)?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:_},_)),c.filter(_=>!HN.includes(_)).map(_=>a.jsxs("button",{type:"button",onClick:()=>A(_),className:"px-2.5 py-1.5 rounded border transition-colors text-sm bg-gray-900 text-white border-gray-900 hover:bg-gray-800",children:[_," "]},_))]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:d,onChange:_=>f(_.target.value),onKeyPress:_=>{_.key==="Enter"&&(_.preventDefault(),g())},className:"flex-1 px-3 py-1.5 border border-gray-300 rounded-lg text-xs focus:outline-none focus:ring-2 focus:ring-gray-500"}),a.jsx("button",{type:"button",onClick:g,className:"px-3 py-1.5 bg-gray-100 text-gray-700 rounded-lg text-xs font-medium hover:bg-gray-200 transition-colors",children:""})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),a.jsx("input",{...n("requestDate"),type:"date",className:"input"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),a.jsx("input",{...n("scheduledVisitDate"),type:"date",className:"input"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("div",{className:"flex gap-1",children:[a.jsx("button",{type:"button",onClick:()=>v(""),className:`px-3 py-1.5 text-xs rounded border transition-colors ${m===""?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:""}),a.jsx("button",{type:"button",onClick:()=>v(""),className:`px-3 py-1.5 text-xs rounded border transition-colors ${m===""?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:""})]}),a.jsx("select",{value:p,onChange:_=>h(parseInt(_.target.value)),className:"px-2 py-1.5 text-sm border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-gray-500",children:[12,1,2,3,4,5,6,7,8,9,10,11].map(_=>a.jsxs("option",{value:_,children:[_,""]},_))}),a.jsx("select",{value:j,onChange:_=>x(parseInt(_.target.value)),className:"px-2 py-1.5 text-sm border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-gray-500",children:[0,10,20,30,40,50].map(_=>a.jsxs("option",{value:_,children:[_,""]},_))})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[a.jsx("button",{type:"button",onClick:t,className:"btn btn-outline",children:""}),a.jsx("button",{type:"submit",className:"btn btn-primary",children:e?"":""})]})]})]})})},lp=e=>{if(!e)return"";const[t]=e.split(":"),r=parseInt(t,10),n=r>=12?"":"",s=r>12?r-12:r===0?12:r;return`${n} ${s}`},yte=()=>{var ae,ye,ve,te,ue,Ne,F,ie;const{asRequests:e,loadASRequestsFromAPI:t,addASRequestToAPI:r,updateASRequestInAPI:n,deleteASRequestFromAPI:s}=Un(),i=e,[o,l]=w.useState(""),[c,u]=w.useState(!1),[d,f]=w.useState(null),[m,v]=w.useState("active"),[p,h]=w.useState(null),j=w.useRef(null),[x,b]=w.useState(null),[N,g]=w.useState(!1),[A,k]=w.useState(!1),[_,O]=w.useState("");w.useEffect(()=>{t().catch(T=>{console.error("Failed to load AS requests:",T),z.error("AS    ")})},[t]),w.useEffect(()=>{const T=()=>{R()};return window.addEventListener("headerAddButtonClick",T),()=>window.removeEventListener("headerAddButtonClick",T)},[]),w.useEffect(()=>{var T,W;p&&j.current&&((W=(T=j.current).showPicker)==null||W.call(T))},[p]);const R=()=>{f(null),u(!0)},I=async T=>{try{if(d)await n(d.id,T),z.success("AS  ");else{const W={id:"",...T};await r(W),z.success("AS  ")}u(!1)}catch(W){console.error("Failed to save AS request:",W),z.error("AS   ")}},V=T=>{f(T),u(!0)},Z=async(T,W)=>{if(window.confirm(`"${W}" AS  ?

    .`))try{await s(T),z.success("AS  ")}catch(Y){console.error("Failed to delete AS request:",Y),z.error("AS   ")}},Q=(T,W)=>{if(W==="scheduledVisitDate"){const Y=e.find(Te=>Te.id===T);let ee={period:"",hour:9,minute:0};if(Y!=null&&Y.scheduledVisitTime){const[Te,we]=Y.scheduledVisitTime.split(":"),M=parseInt(Te,10),y=parseInt(we,10);ee={period:M>=12?"":"",hour:M===0?12:M>12?M-12:M,minute:y}}h({requestId:T,field:W,time:ee})}else h({requestId:T,field:W})},G=async(T,W)=>{if(!p)return;const Y=new Date(T);if(!isNaN(Y.getTime()))try{const ee={[p.field]:Y};if(p.field==="scheduledVisitDate"&&W){let Te=W.hour;W.period===""&&W.hour!==12?Te=W.hour+12:W.period===""&&W.hour===12&&(Te=0),ee.scheduledVisitTime=`${Te.toString().padStart(2,"0")}:${W.minute.toString().padStart(2,"0")}`}await n(p.requestId,ee),h(null)}catch(ee){console.error("Failed to update date:",ee),z.error("  "),h(null)}},xe=w.useCallback(T=>{var Y;const W=(Y=T.clipboardData)==null?void 0:Y.items;if(W){for(let ee=0;ee<W.length;ee++)if(W[ee].type.indexOf("image")!==-1){T.preventDefault();const Te=W[ee].getAsFile();if(Te){const we=new FileReader;we.onload=M=>{var S,D;const y=(S=M.target)==null?void 0:S.result,C=x||((D=T.target.closest("[data-request-id]"))==null?void 0:D.getAttribute("data-request-id"));if(C){const P=i.find(K=>K.id===C);if(P){const K=[...P.images||[],y];n(C,{images:K}),z.success(" ")}}else z.error("AS     ")},we.readAsDataURL(Te)}}}},[x,i,n]);w.useEffect(()=>(document.addEventListener("paste",xe),()=>document.removeEventListener("paste",xe)),[xe]);const re=T=>{O(T),k(!0)},pe=(T,W)=>{T.preventDefault(),T.stopPropagation(),W&&g(!0)},ce=T=>{T.preventDefault(),T.stopPropagation(),g(!1)},q=(T,W)=>{T.preventDefault(),T.stopPropagation(),g(!1);const Y=Array.from(T.dataTransfer.files),ee=[],Te=Y.filter(we=>we.type.startsWith("image/"));if(Te.length===0){z.error("   ");return}Te.forEach(we=>{const M=new FileReader;M.onload=y=>{var S;const C=(S=y.target)==null?void 0:S.result;if(ee.push(C),ee.length===Te.length){const D=i.find(P=>P.id===W);if(D){const P=[...D.images||[],...ee];n(W,{images:P}),z.success(`${ee.length}  `)}}},M.readAsDataURL(we)})},oe=async(T,W)=>{try{const Y={status:W};W==="completed"?Y.completionDate=new Date:W==="pending"?Y.completionDate=void 0:W==="revisit"&&(Y.scheduledVisitDate=void 0,Y.completionDate=void 0),await n(T,Y);const ee=W==="completed"?"AS ":W==="revisit"?" ":"";z.success(` "${ee}" `)}catch(Y){console.error("Failed to update status:",Y),z.error("  ")}},J=T=>{const W={pending:{label:"",color:"bg-gray-100 text-gray-700 border-gray-300"},completed:{label:"AS ",color:"bg-green-100 text-green-700 border-green-300"},revisit:{label:"",color:"bg-orange-100 text-orange-700 border-orange-300"}},Y=W[T]||W.pending;return a.jsx("span",{className:`px-2 py-1 text-xs font-medium border rounded ${Y.color}`,children:Y.label})},H=i.filter(T=>{const W=T.project.toLowerCase().includes(o.toLowerCase())||T.client.toLowerCase().includes(o.toLowerCase())||T.description.toLowerCase().includes(o.toLowerCase());return m==="completed"?W&&T.status==="completed":W&&T.status!=="completed"});return a.jsxs("div",{className:"space-y-3 md:space-y-4",children:[a.jsxs("div",{className:"border-b border-gray-200 flex items-center justify-between",children:[a.jsxs("nav",{className:"flex space-x-4 md:space-x-8",children:[a.jsxs("button",{onClick:()=>v("active"),className:`py-2 md:py-3 px-1 border-b-2 font-medium text-xs md:text-sm transition-colors whitespace-nowrap ${m==="active"?"border-gray-700 text-gray-700":"border-transparent text-gray-400 hover:text-gray-700 hover:border-gray-300"}`,children:["",a.jsx("span",{className:`ml-1 md:ml-2 py-0.5 px-1.5 md:px-2 rounded-full text-[10px] md:text-xs font-semibold ${m==="active"?"bg-gray-700 text-white":"bg-gray-200 text-gray-600"}`,children:i.filter(T=>T.status!=="completed").length})]}),a.jsxs("button",{onClick:()=>v("completed"),className:`py-2 md:py-3 px-1 border-b-2 font-medium text-xs md:text-sm transition-colors whitespace-nowrap ${m==="completed"?"border-gray-700 text-gray-700":"border-transparent text-gray-400 hover:text-gray-700 hover:border-gray-300"}`,children:["AS ",a.jsx("span",{className:`ml-1 md:ml-2 py-0.5 px-1.5 md:px-2 rounded-full text-[10px] md:text-xs font-semibold ${m==="completed"?"bg-gray-700 text-white":"bg-gray-200 text-gray-600"}`,children:i.filter(T=>T.status==="completed").length})]})]}),a.jsx("button",{onClick:R,className:"btn btn-primary px-4 py-2",children:"+AS "})]}),a.jsx("div",{children:a.jsx("input",{type:"text",placeholder:"...",value:o,onChange:T=>l(T.target.value),className:"w-full px-3 md:px-4 py-2 text-sm md:text-base border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-600 focus:border-transparent"})}),a.jsx("div",{className:"lg:hidden grid grid-cols-1 md:grid-cols-2 gap-3",children:H.map(T=>{var W,Y,ee,Te;return a.jsxs("div",{"data-request-id":T.id,className:"card p-3 md:p-4 hover:border-gray-400 transition-colors",onDragOver:we=>pe(we,T.id),onDragLeave:ce,onDrop:we=>q(we,T.id),children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"flex items-center gap-2 mb-1",children:J(T.status)}),a.jsx("h3",{className:"font-bold text-base text-gray-900",children:T.project}),a.jsxs("p",{className:"text-sm text-gray-600 mt-0.5",children:[T.client,""]})]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("button",{onClick:()=>V(T),className:"text-gray-600 hover:text-gray-700 p-1 -mt-1",children:a.jsx(fi,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>Z(T.id,T.project),className:"text-rose-600 hover:text-rose-700 p-1 -mt-1",children:a.jsx(_t,{className:"h-4 w-4"})})]})]}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500",children:""}),a.jsx("p",{className:"text-gray-900 mt-0.5",children:T.siteAddress})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500",children:"AS "}),a.jsx("p",{className:"text-gray-900 mt-0.5",children:T.description})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500",children:""}),a.jsx("p",{className:"text-gray-900 mt-0.5",children:T.assignedTo&&T.assignedTo.length>0?T.assignedTo.join(", "):""})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2 pt-2",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500 mb-1",children:""}),a.jsxs("div",{className:"relative inline-block",children:[(p==null?void 0:p.requestId)===T.id&&(p==null?void 0:p.field)==="requestDate"&&a.jsx("input",{ref:j,type:"date",defaultValue:_e(T.requestDate,"yyyy-MM-dd"),onChange:we=>G(we.target.value),onBlur:()=>h(null),className:"absolute left-0 top-0 w-auto h-auto opacity-0 z-50",style:{pointerEvents:"auto"}}),a.jsxs("button",{onClick:()=>Q(T.id,"requestDate"),className:"flex items-center space-x-1 text-xs text-gray-900 hover:text-gray-600 transition-colors",children:[a.jsx(es,{className:"h-3 w-3"}),a.jsx("span",{children:_e(T.requestDate,"MM.dd (eee)",{locale:tt})})]})]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500 mb-1",children:""}),a.jsxs("div",{className:"relative inline-block",children:[(p==null?void 0:p.requestId)===T.id&&(p==null?void 0:p.field)==="scheduledVisitDate"&&a.jsx("div",{className:"absolute left-0 top-0 z-50 bg-white border border-gray-300 rounded-lg shadow-lg p-3",style:{minWidth:"280px"},children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:""}),a.jsx("input",{ref:j,type:"date",defaultValue:T.scheduledVisitDate?_e(T.scheduledVisitDate,"yyyy-MM-dd"):"",className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-gray-500",onChange:we=>{const M=we.target.value,y=p.time||{period:"",hour:9,minute:0};G(M,y)}})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:""}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("div",{className:"flex gap-1",children:[a.jsx("button",{type:"button",onClick:()=>h(we=>we?{...we,time:{...we.time,period:""}}:null),className:`px-2 py-1 text-xs rounded border transition-colors ${((W=p==null?void 0:p.time)==null?void 0:W.period)===""?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:""}),a.jsx("button",{type:"button",onClick:()=>h(we=>we?{...we,time:{...we.time,period:""}}:null),className:`px-2 py-1 text-xs rounded border transition-colors ${((Y=p==null?void 0:p.time)==null?void 0:Y.period)===""?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:""})]}),a.jsx("select",{value:((ee=p==null?void 0:p.time)==null?void 0:ee.hour)||9,onChange:we=>h(M=>M?{...M,time:{...M.time,hour:parseInt(we.target.value)}}:null),className:"px-1 py-1 text-xs border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-gray-500",children:[12,1,2,3,4,5,6,7,8,9,10,11].map(we=>a.jsxs("option",{value:we,children:[we,""]},we))}),a.jsx("select",{value:((Te=p==null?void 0:p.time)==null?void 0:Te.minute)||0,onChange:we=>h(M=>M?{...M,time:{...M.time,minute:parseInt(we.target.value)}}:null),className:"px-1 py-1 text-xs border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-gray-500",children:[0,10,20,30,40,50].map(we=>a.jsxs("option",{value:we,children:[we,""]},we))})]})]}),a.jsxs("div",{className:"flex justify-end gap-2 pt-2 border-t",children:[a.jsx("button",{type:"button",onClick:()=>h(null),className:"px-3 py-1 text-xs bg-gray-200 text-gray-700 rounded hover:bg-gray-300",children:""}),a.jsx("button",{type:"button",onClick:()=>{const we=j.current;we&&(p!=null&&p.time)&&G(we.value,p.time)},className:"px-3 py-1 text-xs bg-gray-900 text-white rounded hover:bg-gray-800",children:""})]})]})}),a.jsxs("button",{onClick:()=>Q(T.id,"scheduledVisitDate"),className:"flex items-center space-x-1 text-xs text-gray-900 hover:text-gray-600 transition-colors",children:[a.jsx(es,{className:"h-3 w-3"}),a.jsxs("span",{children:[T.scheduledVisitDate?_e(T.scheduledVisitDate,"MM.dd (eee)",{locale:tt}):"",T.scheduledVisitTime&&` ${lp(T.scheduledVisitTime)}`]})]})]})]})]}),T.status!=="completed"&&a.jsxs("div",{className:"flex gap-2 mt-3 pt-3 border-t border-gray-100",children:[a.jsx("button",{onClick:()=>oe(T.id,"completed"),className:"flex-1 px-3 py-2 text-xs font-medium bg-blue-50 text-blue-700 rounded-lg hover:bg-blue-100 transition-colors",children:"AS "}),a.jsx("button",{onClick:()=>oe(T.id,"revisit"),className:"flex-1 px-3 py-2 text-xs font-medium bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",children:""})]}),T.status==="completed"&&a.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-100",children:[a.jsx("button",{onClick:()=>oe(T.id,"pending"),className:"w-full px-3 py-2 text-xs font-medium bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors mb-2",children:" "}),a.jsx("p",{className:"text-xs text-gray-500 text-center",children:T.completionDate&&`: ${_e(T.completionDate,"yyyy.MM.dd",{locale:tt})}`})]}),T.images&&T.images.length>0&&a.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-100",children:[a.jsxs("p",{className:"text-xs text-gray-500 mb-2",children:["  (",T.images.length,")"]}),a.jsx("div",{className:"grid grid-cols-3 gap-2",children:T.images.map((we,M)=>a.jsx("img",{src:we,alt:`AS  ${M+1}`,className:"w-full h-20 object-cover rounded cursor-pointer hover:opacity-75",onClick:()=>re(we)},M))})]})]})]},T.id)})}),a.jsxs("div",{className:"hidden lg:grid lg:grid-cols-3 gap-4",children:[(()=>{const T=Math.ceil(H.length/2),W=H.slice(0,T),Y=H.slice(T);return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"space-y-4",children:W.map(ee=>{var Te,we,M,y;return a.jsxs("div",{"data-request-id":ee.id,onClick:()=>b(ee.id),className:`card p-4 cursor-pointer transition-all ${x===ee.id?"ring-2 ring-blue-500 bg-blue-50":"hover:border-gray-400"}`,children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"flex items-center gap-2 mb-1",children:J(ee.status)}),a.jsx("h3",{className:"font-bold text-base text-gray-900",children:ee.project}),a.jsxs("p",{className:"text-sm text-gray-600 mt-0.5",children:[ee.client,""]})]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("button",{onClick:C=>{C.stopPropagation(),V(ee)},className:"text-gray-600 hover:text-gray-700 p-1",children:a.jsx(fi,{className:"h-4 w-4"})}),a.jsx("button",{onClick:C=>{C.stopPropagation(),Z(ee.id,ee.project)},className:"text-rose-600 hover:text-rose-700 p-1",children:a.jsx(_t,{className:"h-4 w-4"})})]})]}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500",children:""}),a.jsx("p",{className:"text-gray-900 mt-0.5",children:ee.siteAddress})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500",children:"AS "}),a.jsx("p",{className:"text-gray-900 mt-0.5",children:ee.description})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500",children:""}),a.jsx("p",{className:"text-gray-900 mt-0.5",children:ee.assignedTo&&ee.assignedTo.length>0?ee.assignedTo.join(", "):""})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2 pt-2",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500 mb-1",children:""}),a.jsxs("div",{className:"relative inline-block",children:[(p==null?void 0:p.requestId)===ee.id&&(p==null?void 0:p.field)==="requestDate"&&a.jsx("input",{ref:j,type:"date",defaultValue:_e(ee.requestDate,"yyyy-MM-dd"),onChange:C=>G(C.target.value),onBlur:()=>h(null),className:"absolute left-0 top-0 w-auto h-auto opacity-0 z-50",style:{pointerEvents:"auto"}}),a.jsxs("button",{onClick:C=>{C.stopPropagation(),Q(ee.id,"requestDate")},className:"flex items-center space-x-1 text-xs text-gray-900 hover:text-gray-600 transition-colors",children:[a.jsx(es,{className:"h-3 w-3"}),a.jsx("span",{children:_e(ee.requestDate,"MM.dd (eee)",{locale:tt})})]})]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500 mb-1",children:""}),a.jsxs("div",{className:"relative inline-block",children:[(p==null?void 0:p.requestId)===ee.id&&(p==null?void 0:p.field)==="scheduledVisitDate"&&a.jsx("div",{className:"absolute left-0 top-0 z-50 bg-white border border-gray-300 rounded-lg shadow-lg p-3",style:{minWidth:"280px"},children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:""}),a.jsx("input",{ref:j,type:"date",defaultValue:ee.scheduledVisitDate?_e(ee.scheduledVisitDate,"yyyy-MM-dd"):"",className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-gray-500",onChange:C=>{const S=C.target.value,D=p.time||{period:"",hour:9,minute:0};G(S,D)}})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:""}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("div",{className:"flex gap-1",children:[a.jsx("button",{type:"button",onClick:()=>h(C=>C?{...C,time:{...C.time,period:""}}:null),className:`px-2 py-1 text-xs rounded border transition-colors ${((Te=p==null?void 0:p.time)==null?void 0:Te.period)===""?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:""}),a.jsx("button",{type:"button",onClick:()=>h(C=>C?{...C,time:{...C.time,period:""}}:null),className:`px-2 py-1 text-xs rounded border transition-colors ${((we=p==null?void 0:p.time)==null?void 0:we.period)===""?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:""})]}),a.jsx("select",{value:((M=p==null?void 0:p.time)==null?void 0:M.hour)||9,onChange:C=>h(S=>S?{...S,time:{...S.time,hour:parseInt(C.target.value)}}:null),className:"px-1 py-1 text-xs border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-gray-500",children:[12,1,2,3,4,5,6,7,8,9,10,11].map(C=>a.jsxs("option",{value:C,children:[C,""]},C))}),a.jsx("select",{value:((y=p==null?void 0:p.time)==null?void 0:y.minute)||0,onChange:C=>h(S=>S?{...S,time:{...S.time,minute:parseInt(C.target.value)}}:null),className:"px-1 py-1 text-xs border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-gray-500",children:[0,10,20,30,40,50].map(C=>a.jsxs("option",{value:C,children:[C,""]},C))})]})]}),a.jsxs("div",{className:"flex justify-end gap-2 pt-2 border-t",children:[a.jsx("button",{type:"button",onClick:()=>h(null),className:"px-3 py-1 text-xs bg-gray-200 text-gray-700 rounded hover:bg-gray-300",children:""}),a.jsx("button",{type:"button",onClick:()=>{const C=j.current;C&&(p!=null&&p.time)&&G(C.value,p.time)},className:"px-3 py-1 text-xs bg-gray-900 text-white rounded hover:bg-gray-800",children:""})]})]})}),a.jsxs("button",{onClick:C=>{C.stopPropagation(),Q(ee.id,"scheduledVisitDate")},className:"flex items-center space-x-1 text-xs text-gray-900 hover:text-gray-600 transition-colors",children:[a.jsx(es,{className:"h-3 w-3"}),a.jsxs("span",{children:[ee.scheduledVisitDate?_e(ee.scheduledVisitDate,"MM.dd (eee)",{locale:tt}):"",ee.scheduledVisitTime&&` ${lp(ee.scheduledVisitTime)}`]})]})]})]})]}),ee.status!=="completed"&&a.jsxs("div",{className:"flex gap-2 mt-3 pt-3 border-t border-gray-100",children:[a.jsx("button",{onClick:C=>{C.stopPropagation(),oe(ee.id,"completed")},className:"flex-1 px-3 py-2 text-xs font-medium bg-blue-50 text-blue-700 rounded-lg hover:bg-blue-100 transition-colors",children:"AS "}),a.jsx("button",{onClick:C=>{C.stopPropagation(),oe(ee.id,"revisit")},className:"flex-1 px-3 py-2 text-xs font-medium bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",children:""})]}),ee.status==="completed"&&a.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-100",children:[a.jsx("button",{onClick:C=>{C.stopPropagation(),oe(ee.id,"pending")},className:"w-full px-3 py-2 text-xs font-medium bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors mb-2",children:" "}),a.jsx("p",{className:"text-xs text-gray-500 text-center",children:ee.completionDate&&`: ${_e(ee.completionDate,"yyyy.MM.dd",{locale:tt})}`})]})]})]},ee.id)})}),a.jsx("div",{className:"space-y-4",children:Y.map(ee=>{var Te,we,M,y;return a.jsxs("div",{"data-request-id":ee.id,onClick:()=>b(ee.id),className:`card p-4 cursor-pointer transition-all ${x===ee.id?"ring-2 ring-blue-500 bg-blue-50":"hover:border-gray-400"}`,children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"flex items-center gap-2 mb-1",children:J(ee.status)}),a.jsx("h3",{className:"font-bold text-base text-gray-900",children:ee.project}),a.jsxs("p",{className:"text-sm text-gray-600 mt-0.5",children:[ee.client,""]})]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("button",{onClick:C=>{C.stopPropagation(),V(ee)},className:"text-gray-600 hover:text-gray-700 p-1",children:a.jsx(fi,{className:"h-4 w-4"})}),a.jsx("button",{onClick:C=>{C.stopPropagation(),Z(ee.id,ee.project)},className:"text-rose-600 hover:text-rose-700 p-1",children:a.jsx(_t,{className:"h-4 w-4"})})]})]}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500",children:""}),a.jsx("p",{className:"text-gray-900 mt-0.5",children:ee.siteAddress})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500",children:"AS "}),a.jsx("p",{className:"text-gray-900 mt-0.5",children:ee.description})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500",children:""}),a.jsx("p",{className:"text-gray-900 mt-0.5",children:ee.assignedTo&&ee.assignedTo.length>0?ee.assignedTo.join(", "):""})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2 pt-2",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500 mb-1",children:""}),a.jsxs("div",{className:"relative inline-block",children:[(p==null?void 0:p.requestId)===ee.id&&(p==null?void 0:p.field)==="requestDate"&&a.jsx("input",{ref:j,type:"date",defaultValue:_e(ee.requestDate,"yyyy-MM-dd"),onChange:C=>G(C.target.value),onBlur:()=>h(null),className:"absolute left-0 top-0 w-auto h-auto opacity-0 z-50",style:{pointerEvents:"auto"}}),a.jsxs("button",{onClick:C=>{C.stopPropagation(),Q(ee.id,"requestDate")},className:"flex items-center space-x-1 text-xs text-gray-900 hover:text-gray-600 transition-colors",children:[a.jsx(es,{className:"h-3 w-3"}),a.jsx("span",{children:_e(ee.requestDate,"MM.dd (eee)",{locale:tt})})]})]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500 mb-1",children:""}),a.jsxs("div",{className:"relative inline-block",children:[(p==null?void 0:p.requestId)===ee.id&&(p==null?void 0:p.field)==="scheduledVisitDate"&&a.jsx("div",{className:"absolute left-0 top-0 z-50 bg-white border border-gray-300 rounded-lg shadow-lg p-3",style:{minWidth:"280px"},children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:""}),a.jsx("input",{ref:j,type:"date",defaultValue:ee.scheduledVisitDate?_e(ee.scheduledVisitDate,"yyyy-MM-dd"):"",className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-gray-500",onChange:C=>{const S=C.target.value,D=p.time||{period:"",hour:9,minute:0};G(S,D)}})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:""}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("div",{className:"flex gap-1",children:[a.jsx("button",{type:"button",onClick:()=>h(C=>C?{...C,time:{...C.time,period:""}}:null),className:`px-2 py-1 text-xs rounded border transition-colors ${((Te=p==null?void 0:p.time)==null?void 0:Te.period)===""?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:""}),a.jsx("button",{type:"button",onClick:()=>h(C=>C?{...C,time:{...C.time,period:""}}:null),className:`px-2 py-1 text-xs rounded border transition-colors ${((we=p==null?void 0:p.time)==null?void 0:we.period)===""?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:""})]}),a.jsx("select",{value:((M=p==null?void 0:p.time)==null?void 0:M.hour)||9,onChange:C=>h(S=>S?{...S,time:{...S.time,hour:parseInt(C.target.value)}}:null),className:"px-1 py-1 text-xs border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-gray-500",children:[12,1,2,3,4,5,6,7,8,9,10,11].map(C=>a.jsxs("option",{value:C,children:[C,""]},C))}),a.jsx("select",{value:((y=p==null?void 0:p.time)==null?void 0:y.minute)||0,onChange:C=>h(S=>S?{...S,time:{...S.time,minute:parseInt(C.target.value)}}:null),className:"px-1 py-1 text-xs border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-gray-500",children:[0,10,20,30,40,50].map(C=>a.jsxs("option",{value:C,children:[C,""]},C))})]})]}),a.jsxs("div",{className:"flex justify-end gap-2 pt-2 border-t",children:[a.jsx("button",{type:"button",onClick:()=>h(null),className:"px-3 py-1 text-xs bg-gray-200 text-gray-700 rounded hover:bg-gray-300",children:""}),a.jsx("button",{type:"button",onClick:()=>{const C=j.current;C&&(p!=null&&p.time)&&G(C.value,p.time)},className:"px-3 py-1 text-xs bg-gray-900 text-white rounded hover:bg-gray-800",children:""})]})]})}),a.jsxs("button",{onClick:C=>{C.stopPropagation(),Q(ee.id,"scheduledVisitDate")},className:"flex items-center space-x-1 text-xs text-gray-900 hover:text-gray-600 transition-colors",children:[a.jsx(es,{className:"h-3 w-3"}),a.jsxs("span",{children:[ee.scheduledVisitDate?_e(ee.scheduledVisitDate,"MM.dd (eee)",{locale:tt}):"",ee.scheduledVisitTime&&` ${lp(ee.scheduledVisitTime)}`]})]})]})]})]}),ee.status!=="completed"&&a.jsxs("div",{className:"flex gap-2 mt-3 pt-3 border-t border-gray-100",children:[a.jsx("button",{onClick:C=>{C.stopPropagation(),oe(ee.id,"completed")},className:"flex-1 px-3 py-2 text-xs font-medium bg-blue-50 text-blue-700 rounded-lg hover:bg-blue-100 transition-colors",children:"AS "}),a.jsx("button",{onClick:C=>{C.stopPropagation(),oe(ee.id,"revisit")},className:"flex-1 px-3 py-2 text-xs font-medium bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",children:""})]}),ee.status==="completed"&&a.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-100",children:[a.jsx("button",{onClick:C=>{C.stopPropagation(),oe(ee.id,"pending")},className:"w-full px-3 py-2 text-xs font-medium bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors mb-2",children:" "}),a.jsx("p",{className:"text-xs text-gray-500 text-center",children:ee.completionDate&&`: ${_e(ee.completionDate,"yyyy.MM.dd",{locale:tt})}`})]})]})]},ee.id)})})]})})(),a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:""}),x?a.jsx("div",{onDragOver:T=>pe(T,x),onDragLeave:ce,onDrop:T=>q(T,x),children:a.jsxs("div",{className:"space-y-4 max-h-[70vh] overflow-y-auto pr-2",children:[(ye=(ae=i.find(T=>T.id===x))==null?void 0:ae.images)==null?void 0:ye.map((T,W)=>a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:T,alt:`AS  ${W+1}`,onClick:()=>re(T),className:"w-full h-auto object-contain cursor-pointer rounded-lg border border-gray-200"}),a.jsx("button",{onClick:()=>{var ee;const Y=i.find(Te=>Te.id===x);if(Y){const Te=((ee=Y.images)==null?void 0:ee.filter((we,M)=>M!==W))||[];n(x,{images:Te}),z.success(" ")}},className:"absolute top-2 right-2 p-1 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors shadow-lg",children:a.jsx(rt,{className:"h-4 w-4"})})]},W)),a.jsxs("div",{className:`w-full min-h-[200px] border-2 border-dashed rounded-lg p-6 text-center transition-colors flex flex-col items-center justify-center ${N?"border-gray-500 bg-gray-50":"border-gray-300 hover:border-gray-400"}`,children:[a.jsx(Ra,{className:"h-10 w-10 mx-auto text-gray-400 mb-2"}),a.jsx("p",{className:"text-sm font-medium text-gray-700",children:(te=(ve=i.find(T=>T.id===x))==null?void 0:ve.images)!=null&&te.length?" ":" "}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"  Ctrl+V "}),((Ne=(ue=i.find(T=>T.id===x))==null?void 0:ue.images)==null?void 0:Ne.length)>0&&a.jsxs("p",{className:"text-xs text-blue-600 mt-2 font-medium",children:[" ",(ie=(F=i.find(T=>T.id===x))==null?void 0:F.images)==null?void 0:ie.length,""]})]})]})}):a.jsx("div",{className:"h-full min-h-[400px] flex items-center justify-center",children:a.jsxs("div",{className:"text-center text-gray-400",children:[a.jsx(As,{className:"h-16 w-16 mx-auto mb-4"}),a.jsx("p",{className:"text-lg font-medium",children:"AS  "}),a.jsx("p",{className:"text-sm mt-2",children:"    "})]})})]})]}),c&&a.jsx(gte,{request:d,onClose:()=>u(!1),onSave:I}),A&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-90",onClick:()=>k(!1),children:a.jsxs("div",{className:"relative max-w-[90vw] max-h-[90vh]",children:[a.jsx("button",{onClick:T=>{T.stopPropagation(),k(!1)},className:"absolute -top-10 right-0 text-white hover:text-gray-300 transition-colors",children:a.jsx(rt,{className:"h-8 w-8"})}),a.jsx("img",{src:_,alt:" ",className:"max-w-full max-h-[90vh] object-contain",onClick:T=>T.stopPropagation()})]})})]})},xte=({work:e,onClose:t,onSave:r,initialProject:n})=>{const{register:s,handleSubmit:i,setValue:o,formState:{errors:l}}=nu(),{projects:c}=Un(),[u,d]=w.useState(!1),[f,m]=w.useState([]),[v,p]=w.useState([]);w.useEffect(()=>{if(e)o("project",e.project),o("description",e.description),o("amount",e.amount),o("date",e.date.toISOString().split("T")[0]),o("notes",e.notes||""),p(e.images||[]),m(e.images||[]);else{const k=new Date().toISOString().split("T")[0];o("date",k),p([]),m([]),n&&o("project",n)}},[e,o,n]);const h=w.useCallback(k=>{var O;const _=(O=k.clipboardData)==null?void 0:O.items;if(_){for(let R=0;R<_.length;R++)if(_[R].type.indexOf("image")!==-1){k.preventDefault();const I=_[R].getAsFile();if(I){const V=new FileReader;V.onload=Z=>{var G;const Q=(G=Z.target)==null?void 0:G.result;m(xe=>[...xe,Q]),p(xe=>[...xe,Q]),z.success(" ")},V.readAsDataURL(I)}}}},[]);w.useEffect(()=>(document.addEventListener("paste",h),()=>document.removeEventListener("paste",h)),[h]);const j=k=>{k.preventDefault(),d(!0)},x=k=>{k.preventDefault(),d(!1)},b=k=>{k.preventDefault(),d(!1);const _=Array.from(k.dataTransfer.files);_.forEach(O=>{if(O.type.startsWith("image/")){const R=new FileReader;R.onload=I=>{var Z;const V=(Z=I.target)==null?void 0:Z.result;m(Q=>[...Q,V]),p(Q=>[...Q,V])},R.readAsDataURL(O)}}),_.length>0&&z.success(`${_.length}  `)},N=k=>{var O;const _=Array.from(((O=k.target)==null?void 0:O.files)||[]);_.forEach(R=>{if(R.type.startsWith("image/")){const I=new FileReader;I.onload=V=>{var Q;const Z=(Q=V.target)==null?void 0:Q.result;m(G=>[...G,Z]),p(G=>[...G,Z])},I.readAsDataURL(R)}}),_.length>0&&z.success(`${_.length}  `)},g=k=>{m(_=>_.filter((O,R)=>R!==k)),p(_=>_.filter((O,R)=>R!==k)),z.success(" ")},A=k=>{const _={...k,amount:Number(k.amount),date:new Date(k.date),images:v};r(_)};return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b sticky top-0 bg-white z-10",children:[a.jsx("h2",{className:"text-xl font-semibold",children:e?" ":" "}),a.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:a.jsx(rt,{className:"h-5 w-5"})})]}),a.jsxs("form",{onSubmit:i(A),className:"p-6 space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"}),a.jsxs("select",{...s("project",{required:" "}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",children:[a.jsx("option",{value:"",children:""}),c.map(k=>a.jsx("option",{value:k.name,children:k.name},k.id))]}),l.project&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(l.project.message)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"}),a.jsx("textarea",{...s("description",{required:"  "}),rows:3,className:"input",placeholder:"    (:    )"}),l.description&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(l.description.message)})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" () *"}),a.jsx("input",{...s("amount",{required:" ",min:{value:0,message:" 0  "}}),type:"number",className:"input",placeholder:": 500000"}),l.amount&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(l.amount.message)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"}),a.jsx("input",{...s("date",{required:" "}),type:"date",className:"input"}),l.date&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(l.date.message)})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),a.jsx("textarea",{...s("notes"),rows:2,className:"input",placeholder:"  ()"})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"  (Ctrl+V  )"}),a.jsx("div",{className:`border-2 border-dashed rounded-lg p-6 transition-colors ${u?"border-gray-500 bg-gray-50":"border-gray-300"}`,onDragOver:j,onDragLeave:x,onDrop:b,children:a.jsxs("div",{className:"text-center",children:[a.jsx(As,{className:"mx-auto h-12 w-12 text-gray-400"}),a.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"    "}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:" Ctrl+V   "}),a.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:N,className:"hidden",id:"file-upload-additional"}),a.jsxs("label",{htmlFor:"file-upload-additional",className:"mt-4 inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 cursor-pointer",children:[a.jsx(Ra,{className:"h-4 w-4 mr-2"})," "]})]})}),f.length>0&&a.jsx("div",{className:"mt-4 grid grid-cols-2 md:grid-cols-4 gap-4",children:f.map((k,_)=>a.jsxs("div",{className:"relative group",children:[a.jsx("img",{src:k,alt:` ${_+1}`,className:"w-full h-32 object-cover rounded-lg"}),a.jsx("button",{type:"button",onClick:()=>g(_),className:"absolute top-2 right-2 p-1 bg-red-500 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:a.jsx(_t,{className:"h-3 w-3"})})]},_))})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[a.jsx("button",{type:"button",onClick:t,className:"btn btn-outline",children:""}),a.jsx("button",{type:"submit",className:"btn btn-primary",children:e?"":""})]})]})]})})},Pl={getAllAdditionalWorks:async()=>(await Ee.get("/additional-works")).data,getAdditionalWorkById:async e=>(await Ee.get(`/additional-works/${e}`)).data,createAdditionalWork:async e=>{const t={project:e.project,description:e.description,amount:e.amount,work_date:e.date instanceof Date?e.date.toISOString().split("T")[0]:e.date,notes:e.notes||""};return console.log("[additionalWorkService.createAdditionalWork] Sending to backend:",t),(await Ee.post("/additional-works",t)).data},updateAdditionalWork:async(e,t)=>{const r={};return t.project!==void 0&&(r.project=t.project),t.description!==void 0&&(r.description=t.description),t.amount!==void 0&&(r.amount=t.amount),t.date!==void 0&&(r.work_date=t.date instanceof Date?t.date.toISOString().split("T")[0]:t.date),t.notes!==void 0&&(r.notes=t.notes),console.log("[additionalWorkService.updateAdditionalWork] Sending to backend:",r),(await Ee.put(`/additional-works/${e}`,r)).data},deleteAdditionalWork:async e=>{await Ee.delete(`/additional-works/${e}`)}},vte=()=>{var ae,ye,ve;const[e,t]=w.useState([]),[r,n]=w.useState(!1),[s,i]=w.useState(null),[o,l]=w.useState(""),[c,u]=w.useState(new Set),[d,f]=w.useState(void 0),[m,v]=w.useState(null),[p,h]=w.useState(()=>{const te=localStorage.getItem("additionalWorkImages");return te?JSON.parse(te):{}}),[j,x]=w.useState(!1),[b,N]=w.useState(null),[g,A]=w.useState(!1);w.useEffect(()=>{Q()},[]),w.useEffect(()=>{const te=()=>{G()};return window.addEventListener("headerAddButtonClick",te),()=>window.removeEventListener("headerAddButtonClick",te)},[]),w.useEffect(()=>{localStorage.setItem("additionalWorkImages",JSON.stringify(p))},[p]);const k=w.useCallback(te=>{var Ne;if(!m){z.error("  ");return}const ue=(Ne=te.clipboardData)==null?void 0:Ne.items;if(ue){for(let F=0;F<ue.length;F++)if(ue[F].type.indexOf("image")!==-1){te.preventDefault();const ie=ue[F].getAsFile();if(ie){const T=new FileReader;T.onload=W=>{var ee;const Y=(ee=W.target)==null?void 0:ee.result;h(Te=>({...Te,[m]:[...Te[m]||[],Y]})),z.success(" ")},T.readAsDataURL(ie)}}}},[m]);w.useEffect(()=>(document.addEventListener("paste",k),()=>document.removeEventListener("paste",k)),[k]);const _=te=>{te.preventDefault(),x(!0)},O=te=>{te.preventDefault(),x(!1)},R=te=>{if(te.preventDefault(),x(!1),!m){z.error("  ");return}const ue=Array.from(te.dataTransfer.files);ue.forEach(Ne=>{if(Ne.type.startsWith("image/")){const F=new FileReader;F.onload=ie=>{var W;const T=(W=ie.target)==null?void 0:W.result;h(Y=>({...Y,[m]:[...Y[m]||[],T]}))},F.readAsDataURL(Ne)}}),ue.some(Ne=>Ne.type.startsWith("image/"))&&z.success(" ")},I=te=>{if(!m){z.error("  ");return}const ue=Array.from(te.target.files||[]);ue.forEach(Ne=>{if(Ne.type.startsWith("image/")){const F=new FileReader;F.onload=ie=>{var W;const T=(W=ie.target)==null?void 0:W.result;h(Y=>({...Y,[m]:[...Y[m]||[],T]}))},F.readAsDataURL(Ne)}}),ue.length>0&&z.success(" ")},V=(te,ue)=>{h(Ne=>({...Ne,[te]:(Ne[te]||[]).filter((F,ie)=>ie!==ue)})),z.success(" ")},Z=te=>{N(te),A(!0)},Q=async()=>{try{const te=await Pl.getAllAdditionalWorks();t(te.map(ue=>({id:ue._id,project:ue.project,description:ue.description,amount:ue.amount,date:new Date(ue.date),notes:ue.notes})))}catch(te){console.error("Failed to load additional works:",te),z.error("   ")}},G=te=>{i(null),f(te),n(!0)},xe=()=>{n(!1),f(void 0)},re=te=>{i(te),f(void 0),n(!0)},pe=async(te,ue)=>{if(window.confirm(`"${ue}"  ?

    .`))try{await Pl.deleteAdditionalWork(te),await Q(),z.success(" ")}catch(Ne){console.error("Failed to delete additional work:",Ne),z.error("  ")}},ce=async te=>{try{s?(await Pl.updateAdditionalWork(s.id,te),z.success(" ")):(await Pl.createAdditionalWork(te),z.success(" ")),await Q(),n(!1),f(void 0)}catch(ue){console.error("Failed to save additional work:",ue),z.error("  ")}},q=e.filter(te=>{var Ne,F;return(((Ne=te.project)==null?void 0:Ne.toLowerCase())||"").includes(o.toLowerCase())||(((F=te.description)==null?void 0:F.toLowerCase())||"").includes(o.toLowerCase())}),oe=q.reduce((te,ue)=>{const Ne=te.find(F=>F.projectName===ue.project);return Ne?(Ne.works.push(ue),Ne.totalAmount+=ue.amount):te.push({projectName:ue.project,works:[ue],totalAmount:ue.amount}),te},[]);oe.sort((te,ue)=>te.projectName.localeCompare(ue.projectName)),oe.forEach(te=>{te.works.sort((ue,Ne)=>Ne.date.getTime()-ue.date.getTime())}),w.useEffect(()=>{const te=new Set(oe.map(ue=>ue.projectName));u(te)},[q.length]);const J=te=>{const ue=new Set(c);ue.has(te)?ue.delete(te):ue.add(te),u(ue)},H=oe.reduce((te,ue)=>te+ue.totalAmount,0);return a.jsxs("div",{className:"space-y-3 md:space-y-4",children:[a.jsx("div",{className:"flex items-center justify-end",children:a.jsx("button",{onClick:G,className:"hidden lg:inline-flex btn btn-primary px-4 py-2",children:"+ "})}),a.jsx("div",{children:a.jsx("input",{type:"text",placeholder:"...",value:o,onChange:te=>l(te.target.value),className:"w-full px-3 md:px-4 py-2 text-sm md:text-base border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-600 focus:border-transparent"})}),oe.length>0&&a.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4 md:p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm md:text-base text-gray-600",children:"  "}),a.jsxs("p",{className:"text-xl md:text-2xl font-bold text-gray-900 mt-1",children:[H.toLocaleString(),""]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-sm text-gray-600",children:[oe.length," "]}),a.jsxs("p",{className:"text-sm text-gray-600",children:[q.length,""]})]})]})}),a.jsxs("div",{className:"md:hidden space-y-4",children:[oe.map(te=>a.jsxs("div",{className:"card overflow-hidden",children:[a.jsxs("div",{className:"w-full p-4 flex items-center justify-between bg-gray-50",children:[a.jsxs("button",{onClick:()=>J(te.projectName),className:"flex-1 text-left hover:bg-gray-100 transition-colors -m-4 p-4 rounded-l",children:[a.jsx("h3",{className:"font-bold text-base text-gray-900",children:te.projectName}),a.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[te.works.length,"  ",te.totalAmount.toLocaleString(),""]})]}),a.jsxs("div",{className:"flex items-center space-x-1 flex-shrink-0",children:[a.jsx("button",{onClick:ue=>{ue.stopPropagation(),G(te.projectName)},className:"p-1.5 hover:bg-gray-200 rounded-full transition-colors",title:"   ",children:a.jsx(Os,{className:"h-4 w-4 text-gray-600"})}),c.has(te.projectName)?a.jsx(Hh,{className:"h-5 w-5 text-gray-600"}):a.jsx(Wh,{className:"h-5 w-5 text-gray-600"})]})]}),c.has(te.projectName)&&a.jsx("div",{className:"divide-y divide-gray-200",children:te.works.map(ue=>a.jsxs("div",{className:"p-3 hover:bg-gray-50 transition-colors",children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsx("p",{className:"text-sm text-gray-600",children:_e(ue.date,"yyyy.MM.dd (eee)",{locale:tt})}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("button",{onClick:()=>re(ue),className:"text-gray-600 hover:text-gray-700 p-1",children:a.jsx(fi,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>pe(ue.id,ue.project),className:"text-rose-600 hover:text-rose-700 p-1",children:a.jsx(_t,{className:"h-4 w-4"})})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500 mb-1",children:""}),a.jsx("p",{className:"text-sm text-gray-900",children:ue.description})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500 mb-1",children:""}),a.jsxs("p",{className:"text-sm text-gray-900 font-medium",children:[ue.amount.toLocaleString(),""]})]}),ue.notes&&a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500 mb-1",children:""}),a.jsx("p",{className:"text-sm text-gray-900",children:ue.notes})]})]})]},ue.id))})]},te.projectName)),oe.length===0&&a.jsx("div",{className:"text-center py-8 text-gray-500",children:" "})]}),a.jsxs("div",{className:"hidden md:grid md:grid-cols-3 gap-4",children:[(()=>{const te=Math.ceil(oe.length/2),ue=oe.slice(0,te),Ne=oe.slice(te);return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-4",children:[ue.map(F=>a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:[a.jsxs("div",{className:"w-full px-4 py-3 flex items-center justify-between bg-gray-50",children:[a.jsxs("button",{onClick:()=>J(F.projectName),className:"flex-1 flex items-center justify-between hover:bg-gray-100 transition-colors -m-3 p-3 rounded-l",children:[a.jsx("h3",{className:"font-bold text-lg text-gray-900 truncate flex-1 text-left mr-3",children:F.projectName}),a.jsx("div",{className:"flex items-center space-x-2 flex-shrink-0",children:a.jsxs("p",{className:"text-base font-semibold text-gray-700",children:[F.works.length," ",F.totalAmount.toLocaleString(),""]})})]}),a.jsxs("div",{className:"flex items-center space-x-1 flex-shrink-0",children:[a.jsx("button",{onClick:ie=>{ie.stopPropagation(),G(F.projectName)},className:"p-1.5 hover:bg-gray-200 rounded-full transition-colors",title:"   ",children:a.jsx(Os,{className:"h-4 w-4 text-gray-600"})}),c.has(F.projectName)?a.jsx(Hh,{className:"h-5 w-5 text-gray-600"}):a.jsx(Wh,{className:"h-5 w-5 text-gray-600"})]})]}),c.has(F.projectName)&&a.jsx("div",{className:"divide-y divide-gray-200",children:F.works.map(ie=>a.jsxs("div",{onClick:()=>v(ie.id),className:`p-4 cursor-pointer transition-colors ${m===ie.id?"bg-blue-50 border-l-4 border-blue-500":"hover:bg-gray-50"}`,children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("p",{className:"text-sm text-gray-600 flex-shrink-0",children:_e(ie.date,"MM.dd (eee)",{locale:tt})}),a.jsx("p",{className:"text-base text-gray-900 font-medium flex-1 truncate",children:ie.description}),a.jsxs("p",{className:"text-base font-semibold text-gray-900 flex-shrink-0 mr-2",children:[ie.amount.toLocaleString(),""]}),a.jsxs("div",{className:"flex items-center space-x-1 flex-shrink-0",children:[a.jsx("button",{onClick:T=>{T.stopPropagation(),re(ie)},className:"text-gray-600 hover:text-gray-700 transition-colors p-1",children:a.jsx(fi,{className:"h-4 w-4"})}),a.jsx("button",{onClick:T=>{T.stopPropagation(),pe(ie.id,ie.project)},className:"text-rose-600 hover:text-rose-700 transition-colors p-1",children:a.jsx(_t,{className:"h-4 w-4"})})]})]}),ie.notes&&a.jsx("p",{className:"text-sm text-gray-600 mt-2",children:ie.notes})]},ie.id))})]},F.projectName)),ue.length===0&&oe.length===0&&a.jsx("div",{className:"text-center py-8 text-gray-500 bg-white border border-gray-200 rounded-lg",children:" "})]}),a.jsx("div",{className:"space-y-4",children:Ne.map(F=>a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:[a.jsxs("div",{className:"w-full px-4 py-3 flex items-center justify-between bg-gray-50",children:[a.jsxs("button",{onClick:()=>J(F.projectName),className:"flex-1 flex items-center justify-between hover:bg-gray-100 transition-colors -m-3 p-3 rounded-l",children:[a.jsx("h3",{className:"font-bold text-lg text-gray-900 truncate flex-1 text-left mr-3",children:F.projectName}),a.jsx("div",{className:"flex items-center space-x-2 flex-shrink-0",children:a.jsxs("p",{className:"text-base font-semibold text-gray-700",children:[F.works.length," ",F.totalAmount.toLocaleString(),""]})})]}),a.jsxs("div",{className:"flex items-center space-x-1 flex-shrink-0",children:[a.jsx("button",{onClick:ie=>{ie.stopPropagation(),G(F.projectName)},className:"p-1.5 hover:bg-gray-200 rounded-full transition-colors",title:"   ",children:a.jsx(Os,{className:"h-4 w-4 text-gray-600"})}),c.has(F.projectName)?a.jsx(Hh,{className:"h-5 w-5 text-gray-600"}):a.jsx(Wh,{className:"h-5 w-5 text-gray-600"})]})]}),c.has(F.projectName)&&a.jsx("div",{className:"divide-y divide-gray-200",children:F.works.map(ie=>a.jsxs("div",{onClick:()=>v(ie.id),className:`p-4 cursor-pointer transition-colors ${m===ie.id?"bg-blue-50 border-l-4 border-blue-500":"hover:bg-gray-50"}`,children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("p",{className:"text-sm text-gray-600 flex-shrink-0",children:_e(ie.date,"MM.dd (eee)",{locale:tt})}),a.jsx("p",{className:"text-base text-gray-900 font-medium flex-1 truncate",children:ie.description}),a.jsxs("p",{className:"text-base font-semibold text-gray-900 flex-shrink-0 mr-2",children:[ie.amount.toLocaleString(),""]}),a.jsxs("div",{className:"flex items-center space-x-1 flex-shrink-0",children:[a.jsx("button",{onClick:T=>{T.stopPropagation(),re(ie)},className:"text-gray-600 hover:text-gray-700 transition-colors p-1",children:a.jsx(fi,{className:"h-4 w-4"})}),a.jsx("button",{onClick:T=>{T.stopPropagation(),pe(ie.id,ie.project)},className:"text-rose-600 hover:text-rose-700 transition-colors p-1",children:a.jsx(_t,{className:"h-4 w-4"})})]})]}),ie.notes&&a.jsx("p",{className:"text-sm text-gray-600 mt-2",children:ie.notes})]},ie.id))})]},F.projectName))})]})})(),a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:""}),m?a.jsx("div",{children:a.jsxs("div",{onDragOver:_,onDragLeave:O,onDrop:R,children:[a.jsx("input",{id:"image-file-input",type:"file",accept:"image/*",multiple:!0,onChange:I,className:"hidden"}),a.jsxs("div",{className:"space-y-4 max-h-[70vh] overflow-y-auto pr-2",children:[(ae=p[m])==null?void 0:ae.map((te,ue)=>ue===1?null:a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:te,alt:`  ${ue+1}`,onClick:()=>Z(te),className:"w-full h-auto object-contain cursor-pointer rounded-lg border border-gray-200"}),a.jsx("button",{onClick:()=>V(m,ue),className:"absolute top-2 right-2 p-1 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors shadow-lg",children:a.jsx(rt,{className:"h-4 w-4"})})]},ue)),a.jsx("label",{htmlFor:"image-file-input",className:"block cursor-pointer",children:a.jsxs("div",{className:`w-full min-h-[200px] border-2 border-dashed rounded-lg p-6 text-center transition-colors flex flex-col items-center justify-center ${j?"border-gray-500 bg-gray-50":"border-gray-300 hover:border-gray-400"}`,children:[a.jsx(Ra,{className:"h-10 w-10 mx-auto text-gray-400 mb-2"}),a.jsx("p",{className:"text-sm font-medium text-gray-700",children:((ye=p[m])==null?void 0:ye.length)>0?" ":" "}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"   Ctrl+V "}),((ve=p[m])==null?void 0:ve.length)>0&&a.jsxs("p",{className:"text-xs text-blue-600 mt-2 font-medium",children:[" ",p[m].length,""]})]})})]})]})}):a.jsx("div",{className:"h-full min-h-[400px] flex items-center justify-center",children:a.jsxs("div",{className:"text-center text-gray-400",children:[a.jsx(As,{className:"h-16 w-16 mx-auto mb-4"}),a.jsx("p",{className:"text-lg font-medium",children:" "}),a.jsx("p",{className:"text-sm mt-2",children:"    "})]})})]})]}),r&&a.jsx(xte,{work:s,onClose:xe,onSave:ce,initialProject:d}),g&&b&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-75 p-4",onClick:()=>A(!1),children:a.jsxs("div",{className:"relative max-w-7xl max-h-full",children:[a.jsx("button",{onClick:()=>A(!1),className:"absolute top-4 right-4 p-2 bg-white rounded-full hover:bg-gray-100 transition-colors z-10",children:a.jsx(rt,{className:"h-6 w-6 text-gray-700"})}),a.jsx("img",{src:b,alt:" ",className:"max-w-full max-h-[90vh] object-contain rounded-lg",onClick:te=>te.stopPropagation()})]})})]})},bte="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAZAAAAGQCAYAAACAvzbMAAAgAElEQVR4nO3dedgdRZ328W8ZIECIIYmENYAiyBZkEWRfRBQcBQFFRVAZtkFlhFdBUGEURhgVFBdcYEZRQEZhZJNFFAVEERVZJUIgsgZIZEnYEkJS7x/VkQfyLFV9qrqq+9yf6zpXuEKd7t+TPs+5u6urq0BEREREREREREREREREREQAMIP9pYVRwGoN1yIiImV6yMCCV/7lEkM0Xg24L209IiLSEmsAD7zyL1+VoRAREekABYiIiNSiABERkVoUICIiUosCREREalGAiIhILQoQERGpRQEiIiK1KEBERKQWBYiIiNSiABERkVoUICIiUosCREREalGAiIhILQoQERGpRQEiIiK1DLWgVCx/AK5JvA8RERncjsCWqTaeOkCuMXBs4n2IiMggLJxMwgBRF5aIiNSiABERkVoUICIiUosCREREalGAiIhILQoQERGpJfUwXi8WJuOGmq0JjMlcTr+bC5xn4P5eN2RhK2Ad3PEt4rPWxx4GzjXwXC8bsbAM8BZgdWASYCLUJvVY3KMS1+YqIOsvtYWxwAnAR4GlctYiL3Oihc0M3FbnzRY2Br4FbBO3LOnR4RY2NfBinTdbOBD4IrBi3LKkFxY+beDLOfadrQvLwvLAb4AjUHiUZgngG3XeaGE74PcoPEo0BfjX0DdZMBa+Dfw3Co8SnWhhQo4d57wHcgWwWcb9y/C2sbB0yBssrAf8EtfNIWV6W433fAY4LHYhEs1SwA45dpwlQCzsR8LH6yWKJYANAt9zKjA6QS0Sz5SQxhZWxgWIlC3ouMbSeIBY9wWTpb9Ogk30bWhhe2C3hLVIHN7HtHIysGyKQiSq0OMaRY4rkL1xZzVSvpB+1aOTVSExTbCev/fVIJf9EtcjcfTNPZC9MuxT6vEaUl0N7dwlcS0Sh8G/m3FvYFTCWiSeLI8/5AiQOjfxJI/Znu22RyPp2sIaeN6z7U5JK5GYfH9Xo2o0QKx7qGxsk/uUnjzl2W6rpFVITP8IaKvj2h6+v6tRNX0Fog9ku9zr2U7HtT28jml1/2PtxLVIPL6/q1EpQGQojxr4u2dbHdf2uN6zXZbnCqQ23+MaVdMBojOa9viqTyPrnkxWt2Q7vICbYsaHflfb43oDt+TYcdMBsmrD+5Nw83BTVngFCDqmbTEDOCBgkkwd13a4Bvhwrp03PZniKgFtp+GmT/i1cbNOSplCjinAucBnY8z2K0mFHNf5wMeBc3qd7VfapbEAse5pVt+ujvnAHgamJixJ4gj5ovkj8JG6s8FKo0KO67EGzkhWiRSryS6skCclr1N4tMbyAW2/q/BoDd/jugD4TspCpFxNBkjIDK2XJ6tCYgs5rpcmq0Ji8z2u16rbqn81GSAhU4PfnqwKic33uM4yYQ+xSV6+x1W/q32s1ACZmawKic33uOqYtouOq4yoyQAJWSfisWRVSGy+x1XHtF10XGVETQbI/IC2LySrQmLzPa46pu2i4yojajJA5ga0DVpKVbLyPa46pu2i4yojajJA5gW01YeyPXyPq45pu+i4yohKvQJ5Q7IqJDbf46q5ldrF97jqd7WPlXoFoplA28P3uE60MCVpJRKT73HV72ofazJAZgW0PcTCCskqkZgeD2j7uWRVSGy+x3VDC3skrUSK1ViAVFNY+I4ZHw9cYGEb69ZwlnI9GNB2Hwsn2fAJGKV5Icf1B9YdW90P6TNNz8b7EDDJs+32VIukaCre5J4Ergb+nwn74gB3TEMcCxyrY5qcBe4BzgO+aMKH24Yc1/HATxbtVJKaB/wZON7Ar3MX0/R6IKFfTtKM8cB7gKkWtgl8r45pmQxu4MLxwG9t2KSXoONaqtG439GrLfxH7mKaDpA7Gt6fhBkD/MIGzJxcTaTnu/St5LEF4dOt63e1fJ+38O6cBTQdIDc2vD8JNwb4bOB7dFzL914LGwe0v4mw2SMkj5MsjMq1cwWIDOZgC0sGtNdxbYfDfRsaFx5Z1tmWIOsBO+baeaMBYtworJub3KfUMhZ4Z0D7n6cqRKJ6b+CJwZXJKpGY9s2146avQMCNCpHyeX8ojRvto7PV8oWeGPwoVSESVeiJQTQ5AuR/M+xTwoU+Yazj2g7ex7U6MbgtYS0Sx1hgkxw7bjxAqucM9GVTvhVs2HNCZ+CeJ5GyrR7Y/stJqpDYJufYaY4rEIBPEjY3luTxWt+GxoVH9nHpMqKgLxoD56JBEm0QemIQRZYAMTADeD9uehMpV+iH8nSqJ5KlWHW+aN6LHiwsXV9dgWDgItyN2udz1SAjCj1bXQh8EN18LdmkwK7JRd3OO6AHRkvWXwECYOB8XDfJdwmb1VWasUzoGwwsMPBhYFvcXD1a8rQ8Y0LfYFx4rAscAUyNXpH0Kvh3NYamJ1NcjIHHgMOAw6x7KGbFzCX1gy2Bk1PuwMDvgJ0tLIUbIZLlA95nPgu8NdXGqwkZvw583cJEYAMyn4T2id/kLmAo2QNkIOPObHR2k5itcQZaV/Wlo5uwDbBwcFP7Mq7H4Lqm9tfPSp7hWGcPIiJSiwJERERqUYCIiEgtChAREalFASIiIrUoQEREpBYFiIiI1KIAEemOkh8ZkPqKPa4KkP5U7AdSRNpDASIiIrUoQEREpBYFiIgMycKhFqZbsH3+mmnhA7mPR2kUICIyKAsH4ZZa8F6ZssNWAH5k4Q25CylJUbPxhrAwDrfmxJrAGtWfi/57Im620FnAzAF/3g9cYOC+HDX7srAj7oM6HjeT7Q0G5uatSvrQJ3IXUJglgLcDd+UupBStChALywN7APsAb2P4+idVrw1e8fdfsXAT8FPgxwYeSlFrHRZGA/8LvPsV/+spCx8ycGmGsqQPWXcytmHuOgq0Re4CStKKLiwLO1q4DHclcRbwDnoLv82ALwEPWri2WsiqBB9j8fAAF5yXWLesqEgT1s5dQKEm5i6gJEUHiIWxFr6DW5Gr19AYyvbAzRb+n83/73H4CP//vxqpQtoq5vM9a0TcVpeMzbDPYp/bKrYLy8JOwLnAyg3sbjRwKrC3hX2Nu1fSqKr7as0Rmm0Sb3flqoJ8BdyxHweYvBX90wLcvbQZBp7OXUxiOtMenJZmHqDIALGwP/BDmv/i2Bq4ycKbDdzb8L591oIfbWFlA48kr6YhFkbhThbejwvIlXH3rkblrGskFp4FZgB/By4BzjcuXLpiYe4CCjUndwElKS5ArLsHcBb5zjonAr+2sIWBxxrcr+/Pu2TSKhpiYTvcicLewITM5dQxBnefYG3cgI6vW9fV+mPgHAPzcxYXwYLcBRRqdu4CSpK7z/9lrLvPcT7561od+JXN09/ZaRaWs3AGcB1wMO0Mj8GMAt4KfB/4k4W1MtfTq7tzF1Coe3IXUJLcX9T/ZN3N7Asp56poQ+ByC0vlLqQrrOsivAMXHF32RuA2CwfmLqQHv0FXIYO5PncBJSkiQCxsCVxBeV/W2wKfy11EF1h3dn4t/TO6Z1ngvy0cm7uQOoy7x7MP7e+Ki+kvuMcJpJL9bL+6ifpT3C9ciY6ycHrD90M6pTpBuJQCPm8ZnGThQQPn5C4klIGfVTM+rI+6c58GbjXwYu5CSlLCL/QBwOTcRQxjaeAE4NDchbSRdQ9t/hL379ivzrLwDwNX5i4klIHncTM3iCwmaxdWdfVxfM4aPB2oSdTCVU/4Xw0sl7uWzEYBF9p4z/EMpejne6S2Yo9r7nsg/0rZVx+LjMJNfSKerBuWfAGuC0TcFdjFtvDnW0RCZAuQ6hfpuFz7r2EP626qd0ETZzQH4PrO5SWTgUNyFyESS84rkLfR+9XHXNzN2U8Be+KGT47B/VwTgNfjZs/8d2Baj/sCN9mhjKCalkXzdg3ueNvf94OkQ3LeRN+jh/f+CfcFdUV1k28wT1ave6v237SwM3AisFXN/e5mwZiC+yQLcRRuLitZ3ErAx4FTchci0qucVyDvqfEei5v0cGsDPxsmPAZl3A3d7YDPUG98+zjgzTXe1zesWwSrlc8+NOgY666URVotS4BY9yUcOtvnC8A7DXyql7HYBhYYOBl3FfJsjU3sWnfffeJQyn2mpxQTgf1yFyHSq1xdWKHdVwuAvQ1cHqsA42bd3RM3Nj8kSHcDPh+rjg7aq4f3TsNNpHk1bvGwWSVNm15NMz8RN3PyurhRhLtSb+LPdwHfi1ddGtZ1RR6ATgr+ilsOW93XA7QhQCywv4Gfxy7CwC+t64/+dsDbNrcwzmhWzsVY17+/eY233gccbOBXkUuKyrgpzmdVrzuACyy8Fvgf3JT0IXaxsKyB5yKXGY11YXk7fksN9INvo4E0L9N4F1bV9xsyvPM8A+elqse8tOJhwFvYJlE5bfe+Gu85A1i/9PAYinHrgewMfJaws9OlgF0ilxP77PggFB4DfdTCazLst9irnhz3QDYOaLuAZiYzPDmwvdaLHlxo99XpBg4NHQxRGgPWwEmEDx54V4p6Ito6dwEF0snjADkCJOTq43vVGV5Sxs3VdEfAW9ZJVUtDop/RWLfQVciDlpcw8hrwrWLcbAUhkyZul6qWSF6bu4ACtf13P6rSAyTk3kSvvhvQVlcgi9sI/8/TbOBDHb0h+VHgKc+2ry98vRlNQ7O4fp+V+GVKDpBpxo18aMrFAW0VIIvbNKDtV7s6CKEaNfZNz+avAqYkLKdX/T4J5mAUIAPkCJANPNudn7SKVzDwEDDVs/mamhRvMb4BMhv3MGiXfQ3/+zobpSykRy/kLqBAWg9kgEYDpBqBtapn8/9LWcsQQp4z0fTuL+c7VflPTL0HOFvDuCl0fIedl3wFMid3AQXq5JVzXU1fgfj+srxg3PKRTft9QFvdTKtUD9j5XoFckbKWgvgOSy45QO7PXUCBFKoDNB0gK3u2uz1pFUO7J6Ct78/SD9bHjcIayQLgqsS1lOJqz3YxAyT2oIRbI2+vC0JGa8ZS7GCTpgPEdwK5O5NWMbS7AtqOTlZF+6zu2e6vJT95HZNxs0A/7tF0RZt/Ybeh+IZgv3gOuDZ3ESVp+oPrO59OlgAxMA+Y4dlcAfIS36dzc50Y5OJ7QlLk1PfVGu6fw6270+9eAI4w7ipaKk3PhVX6FQi4AFnFo50C5CW+AeI7yq0r7sbvae7xwGOJa6nFwBdxr0ZY9xzN6SM0exZ4ZwPlDPQ3A482vM/ilRogM5NWMTzf2V/bHCCx+1QVIIO727Pd8kmr6J4XDVyTuwgp9x5Izn7yZzzbtTlAYvMNkH47g3vIs934pFWIJKIAWVw/XIHE5hsg/TYE0vdkRFcg0kqlBkjO2Vl1BRLON0CKWRyqIb4/r65ApJWaDpClPdu14QrE92fpBwqQwekKRDqt6QDxXfpzYdIqhuc7102xD/dk4Ds8u9/mEfId/up7ZT4SfSa7qdjjWuoDTG2g8eAv8Q2Gfuv2852qfV7SKkQSUYDUpwB5iW+A9Fu3n29gKkCklRQg9SlAXqIAGZzvz6tp06WVFCD1tbk/P3afqgJkcLoCkU5TgNSnK5CX+AbISkmrKI/v6DQFiLRS01OZdIkC5CW+AbI2boK+fuG79HHxXVjWLeX6fvwXhKtr88Tbl4gUIPUpQF4SEiD9xPfnLfoKxMK+wH8Dy+SupTLONje0dR7wC+BIA9Mb2mdrqAurPgXIS/7h2e71Sasoj+/P67NuSBbWheCZlBMeTRsN7A5caPtvGPqIdAVS3zYWPh9xe+MibqtpvmdmW1sY1Q9rKlj3hbuBZ/OQlTBH2G105+L/oGiXbQR8ADgrw76LfZBQAVLfttVL3Op7PsYB29EfU3G/A78HCReYQtcet+5LU/ckXvIO8gRIsdSFJTGE9A3vnqyKsvj+nNOSVtGb/XIXUJjNchdQGgWIxBASIPvbjvenW3eltbdn81jdV1FZN2/dB3LXUZjJuQsojQJEYvDtwgL3bMThqQopxLH4T5BYZIDglnVeLXcRhVnStvteZXQKkP4U9aacccN4fVffAziqq1chFiYCnwh4S6kBskLuAgqlABlAASKx/D6g7WuAH1v/6f1bwcIo4BzCpmz5U6JyejUpdwFSPgWIxHJpYPt3A6elKCSjs4BdA9o/TrkBMiF3AVI+DeOVWC7FdY2FXFX8u4U3AAcbeDBNWelZWAs4A3hL4FsvMuWO8R/l0eYWYHbqQhoyCVgvdxFtowCRKAzMtvBbYPvAt74duNvC94HvGrg9fnVpWPeMxEHAR/BfPGqgS+JW1HgYHW7g+ob3mYSFD+K6H0tU6kmGAkSiupTwAAF3z+CjwEct3Ia7sTyrepX01PoSuJvLK+DOVtftYVsvAL+MUZRILgoQieks4ER6W/djo+rVdecYeD53ESK90E10ica4SRW7dmM8hQXAF3IXIdIrBUh9XzJgYr2o1/VToi8Bz+QuonA/NPBA7iJEeqUAqc9nlEqpkt2UM/AUugoZjq4+pDMUIPW1OUBSO5XuDO+MTVcf0hkKkPoUIEOorkL2BRbmrqUw9wGfzl2ESCwKkPr0bzcMA5cDh+WuoyBzgLcZ/9UbRYqnL8H6dAUyAuOezj4ldx0FmA/sbtKv/VHsA2fSk2KPqwKkPgWIn6OBi3IXkdlHDFybuwiR2PQgYX0KEA8GrIX34KY4P5H+Wl/7IeBAA1flLqRtLIwFplBvipg6NA9WDQqQ+hQgnowbuvpVCz8FvgHsmbmk1BYC3wI+Y+DZ3MW0jYXX4aa08V2USzJpugvrxYb3V4fvbLIKkEAGHjKwF+7M8ivAzMwlxfYA8J/A6wx8QuFR25dQeLRC0wHi+4Ryzm6OsZ7t5ietosMM3GHcvZGVcbPxnkN754V6HvgxsAuwpoHjDNyfuabWsq7L6l9y1yF+mu7Cetqz3VjgkZSFDOPVnu2eS1pFWkWM6jCuq+cq4CoLH8KdOIwBlqv+HAOMppyVC1/EnQQ9W/35DPBMwWt6tNHr6Ohyx13UdID4XoH4fomn4LvmcZsDpDjVl/Cz1atrXVvib3zuAkagk4UBmu7CCrkCyaUfrkBESrV87gJGkKtnpEil3gNZI2kVw1vds51ukEppunB2XPKJ2SMmz0CgYo9rqVcgU5JWMQTruq/W9Gxe8gddpFc+gxpSDCR5MsE2Y9HDoK9Q6hVIlgABNg1oqwCRLvMZSTY9wX7vptxJOM/KXUBpmg4Q3+GNChCRvO5k+P7+m4xbsz4qA3OBm2JvN4IH0IwCi2k6QKbinkoeyUoW3pi6mEHsGtB2RrIqRDKr1ms/EDc1/yvdB3wk4e6/mXDbdTwNvFvDtRfX6DBeAwss3AWs79F8P+DWxCX9k3UPte0c8Ja/pKpFpAQGrrCwNvA+4G24qeivBC4yCR+kNXC2dd3dB5N/7rTpwGnGTa0ir5BjLqy/4hcgH7JwdIOpfyj+D6w9bNrdhaUzKfFSrV9yevVqcr8X4l5SsBzTuf/Vs90k4F9TFrKIdWPPPx7wljtS1SIi0hY5AiTky/dk28xDhacAEwPaK0CkRLqy7KZij2vJVyAAKwAnpSoEwMJWuJuFIRQgItL3cgTIXcCjAe0/Zt3NtOgsrEu91fIUICLS9xoPkOqm+E/C3sIZNuwexYgsbALcgLvXEuJJGhwdJiJSqlxrov+0xnu+aeFiC+v0smMLr7ZwMvAH6k3cdn7KIYwiIm2RJUAM/J6wbqxFdgfutPA9C9vYgHUiLKxp3SJG04FjqL/W8o9rvk9EpFNyrol+HnBkjfeNAg6pXjOtGys+DXiies3BPXw0Abe2wCrAbsBGEWqeCVwXYTsiIq2XM0B+Sr0AGWgS7gHApvxI0xkMzcLGuG7BRVeGRv/d6H9vRmTWrQi5Oe67opSfs9/+u25vSXLZAsTAHyz8EdgiVw2B5lHeHD11RQ1BC6sBV9Pj/Skpi4UP455AH5O7FilTrpvoixxKe87oTzFuRk5Z3KUoPDrFui7f/0HhIcPIGiAGbgHOzFmDp1kkfqCxraybAn/j3HVIEJ/VND+Mu98o7eC71lJUua9AwI2I8l2pMJejTLsnT0zpTbkLkCD3Gr9lWXVc2+WuHDvNHiDGPZh3fO46hnGLgR/mLqJgq+QuQIL8zbPdakmrkNh8j2tU2QOk8g3Cnk5vyixgn9xFFE4B0i5TPdutnrQKic33uEZVRIAYtwbyB6k3L1UqTwA7GPeMiQztNbkLkCDnj9TAuhvnOYf4S5jpZFrwqogAATBuqdv3ApfnrgWYDexkMqV6ywy25KmU6RfGDZ0flnE32V9ooB6J4/PVSXjjigkQgOrm3p7kDZFngJ2NlrD09VjuAsTbpwPa6ri2w3Tg3Fw7LypAAIw789kD+ATuSqBJFwIbGrip4f2Cu9/iI8YZ/0zPdk94tLmll0KkMZeasFmkb05WicR0bK6rDygwQMBdiRh3Y30t4Nu47q2U/grsaGAvA/cn3tdQpgFzR2gzy7i5vnrlO+RvukebK2nPw6D96rfABwLfc2WKQiSqI029mc2jKTJAFjHwuIGP4UaEHIGbxTeWR4BvATsAUwxcG3Hbwap7QKeO0CzKQ5fVvk4fodk9wF88tjUbtySwlOkKYBfj9/DgQD9EA0hKZYEDDZyWu5BBWVjDgo3wOjlBbZMtfNLCjTXqecTCtyxsHzIVfFMsLGvhVAtzX1H3XAunVBPbxdrX0tYt1DXYv9NsC9sFbGsJC9+w8ESkz41evb3mWPiBhbf08jm3sL6FKy28WMDPpBdMs3C8hTUCjuHJkfY96LDuQT9cVYH31fzcDfRfBo6NsJ1BWfeFugJuVt4VBrxGA//A3VeYWf05yzR/T6UWC0viDtgquNr/btxkjin2tQXwdmBr3NP204HTDDycYn8i0hzrTuKPibCpNQabC7DVY72rL9WHqldnGLfi4b3VK/W+/ojH0E4RkVcq+h6IiIiUSwEiIiK1KEBERKQWBYiIiNSiABERkVoUICIiUosCREREalGAiIhILQoQERGpRQEiIiK1KEBERKQWBYiIiNSiABERkVoUICIiUosCREREamn1eiAiIk2z8EZgfKbdzwNuq7FEcRLZAsTCGOBzwMbAFGDVXLUM4gngPw18LcXGLXwGOApYPsX2a5iPW//8SuAEAwt73aB1a81/BlgHmAyM6nWb0pMZwDEGzs5dSFtZ12PzC+CtuUuxbuXQLxs4I2chWQKkWjL3F8AbcuzfwwTgq9Yl/dUxN2xhV+CLMbcZwZLAm6vXasBBdTdk3WfqbOD9cUqTSFYBvm/hVgO3+bzBwvbAp4BXJ60svfnAncBNwMU9LG19OPnDA9xS5GsB37OwqoH/yFVI4wFiYRzubHdC0/uu4WAiBwhwSOTtxXaghXuNW0s5SBUelwC7xS9LIlgC2B939Tss63oErgSWSV1UQxZ98d9tYTfjzuBDvSNmQZEcZ+HbBh7LsfMcN9GPoh3hAfC2mBuz7swh6jYTOd7Ca2q87zAUHqV7i2e7g+lOeAy0DvBnC+uGvKnqvto6TUk9McA+uXbeaIBUVx9HNLnPHo23cW+WTcTd+ynd0sCxIW+wMBb4QppyJKL1PNttk7SKvMYDxwW+ZyKwXIJaYsh2rJq+AtmNdnyBDhTzQ9Omnz30HsZB5BuZIv58rypem7SK/N5vYc2A9iX/7q6Sa8dNB8jaDe8vhpgfnJI/hK+0ig27ebp/skokKuv3OWzTZ7WOVwF7BrQv+d8j2wjWpgPk9Q3vL4Z5hW6rCV6j5Kr+5E0S1yLxPOfRZunkVeS3YUDbucmq6N3kXDvWFcjInoq4rbrDB3OZ5Nnu7UmrkJieNmA92j2TvJL8QgJkTrIqerdkdQ+ycU0HSLa+uh7E/NJ/IuK2SvKm3AWIN98Toq5+VgfaIKBtyQECmaalanqnbZt76+4YT2UvUm3r3ljbK4gCpD2merbrhwAZU40MHZFx3c8zEtfTOm37Qm/aVQm2+asE28ymerYlaEy9ZHWFZ7tbklbRTtfkLqA0CpChzQVOS7DdU4AXEmw3l5LmMJPhTQXO9Gx7ecpCWuobuQsoTYmz8c4ApmWuYRbwNZOgu8nAPdbddP4E+Z6bGIebxDKG0BEgzwM/Ae6PtH/x8zBwrvEbgQXuSvl6YNt0JbWLgRutm0njs7gh7gur14Ih/vT9u6H+3wLcpKTFKjFALjbw0dxFpGTcpXC2y2EL2wHXRdrc6gFt5wNb+k7mJ/kYN+PrjsBGeN4nKMQ44GgSTTtiXA/CKSm2PRjrN2IumxIDRNol5CrqNIVHexh3Bnxz7jpCWTfT999ws35LQroHIr1aNqDtJcmqEKkYd//y57nriKToKxAFiPQqJEBuSlaFyMv1w4OQ2SlApFe+AfKkcTfQRaQjFCDSK98AeTBpFSLdpC4s6TTfgRiPJK1CRBqnAJFe+c4wPCppFSLdpCsQ6TTfaa77YXpwkb6iAJFe+V6BKEBEOkYBIr3yvQJZ38JSSSsR6R51YUmnPenZbllg55SFiEizFCDSq5A1Er5mYflklYhIozQXlvQqJEDeAEy3cEHg+yTcQuAe4ErTH4tDdVXRXVgKEOlVaBCMBw5OUYgM6gkLBxq4KHch0j0KEOmJgcesW2dbXVNlmgD8zMI+xl35SY+sm6hxuRGa3Wbg3+PsrlwKEInhz8BbcxchQzLAtyz83PiPmpOhbYdbUGo4ffHgrG6iSwx/yV2AjGhF4JDcRXSEyV1AKRQgEoOmaW+H/XIX0KCU321NBkjRXVgKEInhl7jlaqVsm1t4fe4iUrPue03PHDVA90CkZwaetHAx8J7ctciI9gVO6GUDFtYDdgImRakovu2ATRNuX1cgFQWIxPIlFCBtsG3dN1r4HHAEMDFeOa2keyAVdWFJFMaNxNIw0fKtEPoGC0tYOAc4EYWHDKAAkZiOBhbkLkKGFdTtZN3Z9i+BD6Ypp5XUhVVRgEg0Bv4O7I2eNSjZyoHtDwR2TFFIi6kLq6IAkaiMu5m+JfC73LXIoIyFsT4NrZtB+aTE9YQUR8sAAA/WSURBVMjwir4C0U10ic7ArcC2FrYC1gEmo89aE/YCpni08z1xPI4a90xaxndBtIF0BVLRL7UkY+AG3EsaYGFt/ALE1/sjbqtEj9Sc2kUBUul8F5aF3SzcYOFRC89buNvCWTHXpbDwbxZusmAjvR63cJGFI6w7exdpVLV65Jq560hsau4CPBTdhdXpALFwJHA5rk9+Rdy63GsDHwZu9+0LHmEfnwS+Q9wHlyYAewBfA262sEnEbYv42DB3AQ2oGyC6Aql0tgvLutEmXxymyWq4Pt6je9xVjCmbhzMR+K2Fdxn4TeJ9iSyyfu4CEnsROLPme30CZIqFa2puf6BlImwjmc4GCO6J25H+8XfpZQfWrbC3ei/b8DQGuMTCZOPW3hBJbbXcBSR2UjXYI5VxwA4Jt1+ELndh+Uwat3aP+wgdU9+L5ej9aknEV1e7aRYCX6hedXX13yZYl69Axnm0GdPjPsb3+P5QR1r4qoF/NLxfkeEswK0J81zuQoZgcevCPwT8n4HretyeAqTS5QBpQtOrji0NvAP4UcP7FRnKd4FPG5iTuxBpngKkNzMz7HO9DPuUdmh6yOc84HDjbkj3E12BVLp8D6QJChDpZ4/1YXiAAuSfFCC9mUbzl+4KEBEpggKkB8bdPPxZw7tdseH9iYgMSgHSu+OAR3MXISLpWXVfvYxuovfIwEPWrcF8CLA54R+wMbgJ8EbHrk1EJCUFSAQG7qGHh/ysWyXuD8BroxUlIinoCmQAdWEVwLjRXAfmrkNERqQAGUBXIIUw8BsL9wJr5a5FRHo2G7glwna2pfkHlr0pQMoyFQWI1Ff02hEd4XsFcquJsJa8dUH06l63k4q6sMrySO4CRGRYvgHSF2GuK5CyLMhdQC4WVsUtyrVy9Vqp+nMc5fQ7L8Ddr5qBC/sZwH3AH4yb5VVkkb74PChAJJsqNN5TvbahnKAI9ZiF84HzgBtMn5x9AkvmLiAD389oXwSIurCkcRZeZ+HXuOm1T8PdKGxreICbHeDjwO+A+y28O3M9TVnZunVq+om6sAZQgEijLBwG3A7slLuWRCYDF1o408KyuYtpwKG5CyiUrkBEYrGwkoVfAd+mP75YDwJus/DG3IUk9gXbXxN86gpkAN0DkeQsvAb3pP0auWtp2FrADRbeZODO3MUkMga42cKfaNcgkGnACQYeDHyf7oEMoACRpCwsA/yC/guPRZYBrrSwmYFZuYtJZDTuPlab7AC8ycKmiQY99EWAqAtLkrHu83UBbnhuP5sMXGbTj1rqi26TiDYm/F6curAGUIBISt/BreEubqbm7+cuIsDjuQtoSKoA0RWISF3W/WIekruOwuxn4V9yF+Hp7twFNCTVAAAFiEgP/it3AYU6IXcBnqblLqAh4wLbqwtrAAWIRGdhN2CL3HUUalMLO+cuYiQGHgbm5a6jAaETFaoLa4C+H4VlI8yYGdEquQuI5OTcBRTuOODq3EV4OA/4SO4iEks1A0JfXIH0fYAAv8ldQJdYd+XR9YfnerWDhfWMm76/ZMcD+1PwehQRzA5sryuQARQgEtv7enz/bOAG3DMTs4Cne64onlcBE3FzX60LbNDDtvak8AAx8KCFM3DTz3TVU4HtFSADKEAktg/WfN/vcMN+LzAt6Xu38GbgY7ifOfR+4l7ASdGLiu8E3M9X7KJGPbo30Xb7ogtLN9ElGuumZF8x8G3PAIcZ2NbAuW0JDwADNxr4EO6p5tDFwDazbr2TmKJ/aRl4FPcg6F2xt12I6wLb6wpkAAWIxBTaffUYsJGB76YopikGrgc2JHy+q30SlBOdcWfpmwE/y11LZHcBVwW+Zw7wnEe71pwI9UJdWBKFdWdmIV+ITwNvNfD3RCU1ysATFnYFbgXGe75tT+Dr6aqKx8CzwN7VVdMGwBTCn6EoyRzgIgMvhrzJwEILl+MWQRvOn2pX1iIKEIllPcK6rz5t4I5UxeRQ3XQ+EjjL8y3bWhhlWjSLrXFddY/gpubvVx/BTfWyD4OfLFwGnNloRZmoC0tiCRm6eydudE8XnQ38zbPtKGCdhLVIAgaeNfBvuBF5KwNb4abu2QlY28A723RS0AtdgUgsGwW0Payrv2BVF8cxwEWeb9mAwofzyuCqaeAfrV59SVcgEovvFchUEz7ypVUMXAzM8Gy+fspaRFJSgEgsvgFyYdIqynGxZ7teHkYUyUoBIj2zsDz+83j1S4D83LOdAkRaSwEiMWzm2e45A39OWkk5fLvp1rXx5prqi6efpRx9HyAGTCkv2vtAne9657cnraIgxj1h/7BH01HEfyJdpBF9HyASxUTPdrclraI8vk+mt/mBPOljChCJQQEyOAWIdJoCRGKY4NnOp0unS+7zbKcAkVZSgEgMvlcgoWsvtJ3vYkUKEGklBYjEoAAZnO/PqwCRVlKASAy+XVj9FiC6ApFO01xYEoPvanVzklZRHt8AibXaX/TnQCyMBd4LvAVYBrgG+ImBmbH3Je2jAJEYfCdG9F3Nrd8ErUnRFAuTcQsurTvgr/cCPmlhZ5NuOdjiWZgEfAA3A+983JLMPzPwQNbCGqYAkRh8vwCXTlpFeUZ7tit19bof8PLwWGQN3LT1WzdbThksrAVcC6w64K/fAxxvYU/j/l9f0D0QiUEBMrjWBkj1JbnzME22soOHSz/4AS8Pj0XGA5dX3X59QQEiMShABucbIC8kraKe4cJjkZ2SV1EYC68HthumybLAoQ2Vk50CRGLwDZBJSasoj+/otOKuQIDVPdoMdhbedW/xaPOO5FUUQgEiMfgGyGuTVlGe13m2KzFAJnu06ccA8fmZff7tOkEBIjH4BojvF2pX+AZmiV1YPg+HviZ5FeXxWfdGASIS4B+e7XQFMrjHk1ZRj8+Q634clj3Go43vva/W6/sAsX4fiKYslbuAmv7u2W7bpFUUxLov1008m0+Pt1uR5vR9gOCWYy1FW28y+wbIZAtvSFpJObbEb4qSBfjP2itSFAUITMldwAAr5S6gJt8AAdg1WRVl8f057zf+T/KLFEUBAvvkLgDAuqd6N85dR00KkMX5/px9Ox2ItJ+mMoEDLGwO3Ag8lGH/y+L6ynemvTcl7wlou4uFNU2Hu22sO55beDaPdf9DpHFdDpCQG4obVq82WJi7gFcy8Lx1I4l8hn6OAk4F9k5bVVbfCWirKxBprS53YZX4cFYMc3MXMIQbAtruZWHfZJVkZOFjwJsD3vKnVLWIpNblAHkudwGJlBqMPw9s/30LmyapJBML2wBfD3jLbOC3icoRSU4B0j5P5y5gCJcFth8N/NoWMoihVxYOwK2dMSrgbVdpBJa0WZcDpKs3aR/LXcBgjBuAcFvg28YBP7Fwtm3pEGYLq1q4BPg+bkBEiNCrNo9yRJrT5QAJ/TJriyIDpFL3C3E/4EELF1vY08IUCyvZsLP55CwsYWFlCxtZeJ91V10PAO+qtzkuj1uhSLM6OwrLwAPWnRWvlruWyEq+sroM+EzN9y4B7F69/qnDp9R/NP5ziIkUqctXIBDeL98Gt+QuYCgGfg/8OXcdLREy1FekSF0PkG9R4HMTPZgP/Cp3ESM4MncBLXA3bk1xkVbrbBcWgIE7LHwDOCJ3LZFcbOCp3EUMx8D11b2Bf8ldS8E+ZbpxYrOVhWtyF9Gw9XIXUJJOB0jlaNzMqFvmLqRHc4FP5S7C0yeB3ej+FW4dNxi4NHcRkUwAdshdhOTT+V9w47p93orrzmrrPdm/AlsauD93IT4M3AUck7uOAs0BPpy7CJFY+uEKBAPPAodbOBHXtbIRsDruDKrUCQwX4IaIXgf8sG1dHga+Yt3l/gG5aynEAmB3A9NyFyISS18EyCIGZgI/yF1HHzkYN4x6l9yFFOATBq5NvI+2XmFLS3W+C0vyqabp2BOYmruWzH5g4PTcRYjEpgCRpKruw62AM3PXksGigQ8H5S5EJAUFiCRnYLaBQ4Dt6Z8FlG4Ephg4tW33r0R8KUCkMcZNXb4h8BW6+6U6FzgK2NqErdQo0joKEGmUgeeNezZnZdwIrfNxw1vbbA7u5/gQsIqBU3TVIf2gr0ZhSTmqEXFnAWdZ9zncAjdia8XqNan689WUM9R6LvAobkbkR6vXg8CN1fNGIn1FASLZGXgRNxGjiLSIurBERKQWXYGIdEfTDxJOA37c8D5z2xs3EERQgIhIfXcb+HzuIppkYR0UIP+kLiwREalFASIiIrUoQEREpBYFiIiI1KIAERGRWhQgIiJSiwJERERqUYCIdIdWJJRGKUBERKQWBYiIiNSiABGRupbLXUAGY3IXUBIFiIjUtXzuAjJYMXcBJVGAiEhd61lYJncRTbFucbONc9dREgWIiNS1FHC87YNZvS0sCXwRGJ27lpKUeOA3t302RXQGq8feoIV9gH1x3RqLlqA1+u/G/7tpxwDHaPxwfyoxQN5UvaQlLBwFfDl3HRLVwtwFtNj83AU0RV1Y0hMLY4H/zF2HBPEJh+eTV9Fdc3MX0BQFiPRqD1xfuLTDswae9mj3XPJKumte7gKaogCRXmlUSrvc4dnu0aRVdNuc3AU0RQEiw/G5NzoxeRUS0988292btIpum5G7gKY0HSAvNLw/6c1Mjzbjk1chMU31bKcAqU8Bkojvh1fK8IBHm2eSVyGxzAf+17PtTcCChLV02d25C2hK0wFya8P7k/qmG78rkMeSVyKxnG7gfp+GBmYDv0pcT1fdEHFbvidoz0bcp7emA+S2hvcn9f3Qs50CpB2eBk4IfI+GZ4ebC/w64vZ8rmYeMPBixH16azpALgQubnifEm4BcK5n29+lLESieBHY38CTIW8ycD3wnTQlddbZJu5zIBd4tPm/iPsL0miAGNcHuxdwCnpQqVQW92XjdRPVuACZnrYk6cE8YHdT/8Tt48D3ItbTZfcDn4q5QQOn415DeZyMV4qND+M1sNC4qS/WAD4HXAo83HQdMqhrgd0MnBf4vj2BOxPUI715FtjFwBV1N1D9vv4b8E7glmiVdc/1wJYmwTMgxoX4jsDZuBO7F4H7cFceGxp4IvY+fWWbC8vALNzsltJyxt3b2sDCRsCE3PUIL+KGkj5oIs3LZOAy4DILmwDjYmyzQ2aYxCOvjDu5uzblPuoocTJFaSmjQRKdZ+Dm3DVIOfQkuoiI1KIAERGRWhQgIiJSiwJERERqUYCIiEgtChAREalFASIiIrUoQEREpJbUDxLuaOHkxPsQEZHB7Zhy46kDZMvqJSIiHaMuLBERqUUBIiIitShARESkFgWIiIjUogAREZFaFCAiIlKLAkRERGpRgIiISC0KEBERqUUBIiIitShARESkFgWIiIjUogAREZFaFCAiIlKLAkRERGpRgIiISC1msL+0MApYteFaRESkTA8bWJC7CBERERERERERERERERERkWL9f8GkA7e6iMNFAAAAAElFTkSuQmCC",wte=()=>{const{projects:e,constructionPayments:t,loadConstructionPaymentsFromAPI:r,addConstructionPaymentToAPI:n,updateConstructionPaymentInAPI:s,deleteConstructionPaymentFromAPI:i,executionRecords:o,payments:l}=Un(),[c,u]=w.useState(t),[d,f]=w.useState([]),[m,v]=w.useState(!1),[p,h]=w.useState("cash"),[j,x]=w.useState({project:"",client:"",amount:"",date:_e(new Date,"yyyy-MM-dd"),clientSignature:"",totalContractAmount:0,previousAmount:0,remainingAmount:0,startDate:"",endDate:""});w.useEffect(()=>{console.log(" ConstructionPayment: Loading payments from API..."),r().then(()=>{console.log(" ConstructionPayment: Payments loaded successfully")}).catch(y=>{console.error(" ConstructionPayment: Failed to load construction payments:",y),z.error("   ")})},[r]),w.useEffect(()=>{console.log(" ConstructionPayment: Loading additional works from API..."),Pl.getAllAdditionalWorks().then(y=>{console.log(" ConstructionPayment: Additional works loaded:",y),f(y.map(C=>({_id:C._id,project:C.project,amount:C.amount})))}).catch(y=>{console.error(" ConstructionPayment: Failed to load additional works:",y)})},[]),w.useEffect(()=>{const y=()=>{ye()};return window.addEventListener("headerAddButtonClick",y),()=>window.removeEventListener("headerAddButtonClick",y)},[]),w.useEffect(()=>{console.log(" ConstructionPayment: Syncing with dataStore"),console.log(" constructionPayments:",t),console.log(" projects:",e);const y=t.map(C=>({...C,vatType:C.vatType||"percentage",vatPercentage:C.vatPercentage??100,vatAmount:C.vatAmount??0,payments:C.payments.map(S=>{var D;return{...S,type:S.type||((D=S.types)==null?void 0:D[0])||""}})}));console.log(" Normalized records:",y),u(y)},[t,e]);const[b,N]=w.useState(""),[g,A]=w.useState(null),[k,_]=w.useState(!1),[O,R]=w.useState(!1),[I,V]=w.useState(null),[Z,Q]=w.useState("remaining"),[G,xe]=w.useState({projectId:"",totalAmount:0,vatType:"percentage",vatPercentage:100,vatAmount:0}),[re,pe]=w.useState({types:[],percentage:0,amount:0,date:"",method:"",notes:"",quickText:""}),ce={:10,:40,:40,:10,:0},q=y=>y.reduce((C,S)=>C+(ce[S]||0),0),oe=y=>{const C=y.match(/(\d+(?:,\d+)*)\s*\s*/);if(C)return parseInt(C[1].replace(/,/g,""))*1e4;const S=y.match(/(\d+(?:,\d+)*)\s*/);return S?parseInt(S[1].replace(/,/g,"")):0},J=()=>{const y=re.quickText;if(!y.trim())return;const C=oe(y);pe({...re,amount:C,notes:y.trim()})},H=(y,C)=>{const S=g?e.find(K=>K.name===g.project):null;if(!S||y.length===0||!S.startDate||!S.endDate)return"";const D=new Date(S.startDate),P=new Date(S.endDate);if(isNaN(D.getTime())||isNaN(P.getTime())||y.includes(""))return"";if(y.includes("")){const K=new Date(D);return K.setDate(K.getDate()-7),_e(K,"yyyy-MM-dd")}else if(y.includes("")){const K=D.getTime()+(P.getTime()-D.getTime())/2;return _e(new Date(K),"yyyy-MM-dd")}else if(y.includes("")||y.includes(""))return _e(P,"yyyy-MM-dd");return""},ae=y=>{const C=e.find(B=>B.name===y.project);if(!C)return[];if(!C.startDate||!C.endDate)return[];const S=F(y),D=new Date(C.startDate),P=new Date(C.endDate);if(isNaN(D.getTime())||isNaN(P.getTime()))return[];const K=[];K.push({type:"",date:null,amount:Math.round(S*.1),percentage:10,status:"pending"});const ne=new Date(D);ne.setDate(ne.getDate()-7),K.push({type:"",date:ne,amount:Math.round(S*.4),percentage:40,status:ne<=new Date?"overdue":"pending"});const E=D.getTime()+(P.getTime()-D.getTime())/2,X=new Date(E);return K.push({type:"",date:X,amount:Math.round(S*.4),percentage:40,status:X<=new Date?"overdue":"pending"}),K.push({type:"",date:P,amount:Math.round(S*.1),percentage:10,status:P<=new Date?"overdue":"pending"}),y.payments.forEach(B=>{var Pe;(((Pe=B.type)==null?void 0:Pe.split(", "))||[]).forEach(Me=>{const He=K.find(lt=>lt.type===Me.trim());He&&(He.status="completed",He.actualDate=B.date,He.actualAmount=B.amount)})}),K},ye=()=>{_(!0)},ve=async()=>{console.log(" handleSaveProject called"),console.log(" newProject:",G),console.log(" projects:",e);const y=e.find(C=>C.id===G.projectId||C.id===parseInt(G.projectId)||C.id.toString()===G.projectId.toString());if(console.log(" selectedProject:",y),console.log(" totalAmount:",G.totalAmount,"type:",typeof G.totalAmount),!y){alert(" ");return}if(G.totalAmount<=0){alert("   (0  )");return}try{const C={id:"",project_id:y.id,project:y.name,client:y.client,totalAmount:G.totalAmount,vatType:G.vatType,vatPercentage:G.vatPercentage,vatAmount:G.vatAmount,payments:[]};console.log(" Sending to API:",C),await n(C),z.success(" "),_(!1),xe({projectId:"",totalAmount:0,vatType:"percentage",vatPercentage:100,vatAmount:0})}catch(C){console.error("Failed to add construction payment:",C),z.error("  ")}},te=()=>{V(null),pe({types:[],percentage:0,amount:0,date:"",method:"",notes:"",quickText:""}),R(!0)},ue=y=>{const C=g==null?void 0:g.payments[y];if(!C)return;V(y);const S=C.type?C.type.split(",").map(D=>D.trim()):[];pe({types:S,percentage:q(S),amount:C.amount,date:_e(C.date,"yyyy-MM-dd"),method:C.method,notes:C.notes||""}),R(!0)},Ne=async()=>{if(!g||!re.date||re.amount<=0||re.types.length===0){alert("  ");return}try{let y;I!==null?y=g.payments.map((D,P)=>P===I?{type:re.types.join(", "),amount:re.amount,date:new Date(re.date),method:re.method,notes:re.notes}:D):y=[...g.payments,{type:re.types.join(", "),amount:re.amount,date:new Date(re.date),method:re.method,notes:re.notes}];const C={...g,payments:y};await s(g.id,C),z.success(I!==null?" ":" ");const S=c.map(D=>D.id===g.id?C:D);u(S),A(C),R(!1),V(null),pe({types:[],percentage:0,amount:0,date:"",method:"",notes:""})}catch(y){console.error("Failed to save payment:",y),z.error("  ")}},F=y=>{const C=y.totalAmount;if(y.vatType==="amount")return C+(y.vatAmount||0);{const S=C*((y.vatPercentage??100)/100)*.1;return C+S}},ie=y=>{const C=we(y.project);if(y.vatType==="amount")return y.totalAmount+(y.vatAmount||0)+C;{const S=y.totalAmount*((y.vatPercentage??100)/100)*.1;return y.totalAmount+S+C}},T=y=>y.vatType==="amount"?y.vatAmount||0:y.totalAmount*((y.vatPercentage??100)/100)*.1,W=y=>{if(!g)return 0;const C=F(g);return Math.round(C*y/100)},Y=y=>y.payments.reduce((C,S)=>C+S.amount,0),ee=y=>ie(y)-Y(y),Te=y=>{const C=o.filter(D=>D.project===y).reduce((D,P)=>D+(P.totalAmount||0),0),S=l.filter(D=>(D.status==="approved"||D.status==="completed")&&D.project===y).reduce((D,P)=>D+P.amount,0);return C+S},we=y=>d.filter(C=>C.project===y).reduce((C,S)=>C+S.amount,0),M=c.filter(y=>(y.project||"").toLowerCase().includes(b.toLowerCase())||(y.client||"").toLowerCase().includes(b.toLowerCase())).filter(y=>{if(Z==="all")return!0;const C=ee(y);return Z==="completed"?C===0:Z==="remaining"?C>0:!0});return a.jsxs("div",{className:"space-y-3 md:space-y-4",children:[a.jsxs("div",{className:"border-b border-gray-200 flex items-center justify-between",children:[a.jsx("nav",{className:"flex space-x-4 md:space-x-8 overflow-x-auto",children:[{id:"remaining",label:"",count:c.filter(y=>ee(y)>0).length},{id:"completed",label:"",count:c.filter(y=>ee(y)===0).length},{id:"all",label:"",count:c.length}].map(y=>a.jsxs("button",{onClick:()=>Q(y.id),className:`py-3 md:py-4 px-1 border-b-2 font-medium text-xs md:text-sm transition-colors whitespace-nowrap ${Z===y.id?"border-gray-700 text-gray-700":"border-transparent text-gray-400 hover:text-gray-700 hover:border-gray-300"}`,children:[y.label,a.jsx("span",{className:`ml-1 md:ml-2 py-0.5 px-1.5 md:px-2 rounded-full text-[10px] md:text-xs font-semibold ${Z===y.id?"bg-gray-700 text-white":"bg-gray-200 text-gray-600"}`,children:y.count})]},y.id))}),a.jsx("button",{onClick:ye,className:"btn btn-primary px-4 py-2 whitespace-nowrap",children:"+"})]}),a.jsx("div",{children:a.jsx("input",{type:"text",placeholder:"   ...",value:b,onChange:y=>N(y.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-600 focus:border-transparent"})}),a.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:M.map(y=>{const C=Y(y),S=ee(y),D=F(y),P=C/D*100;return a.jsxs("div",{className:"card hover:border-gray-400 transition-colors",children:[a.jsx("div",{className:"mb-4",children:a.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-2 mb-2",children:[a.jsx("h3",{className:"font-bold text-lg text-gray-900 flex-shrink-0",children:y.project}),a.jsxs("div",{className:"flex gap-1.5 flex-wrap",children:[a.jsx("button",{onClick:()=>{const K=Y(y),ne=F(y),E=ne-K,X=e.find(B=>B.name===y.project);x({project:y.project,client:y.client,amount:"",date:_e(new Date,"yyyy-MM-dd"),clientSignature:"",totalContractAmount:ne,previousAmount:K,remainingAmount:E,startDate:X!=null&&X.startDate?_e(new Date(X.startDate),"yyyy-MM-dd"):"",endDate:X!=null&&X.endDate?_e(new Date(X.endDate),"yyyy-MM-dd"):""}),h("transfer"),v(!0)},className:"px-2 py-1 text-xs sm:px-3 sm:py-1.5 sm:text-sm bg-gray-800 text-white rounded hover:bg-gray-900 transition-colors whitespace-nowrap",children:""}),a.jsx("button",{onClick:()=>{const K=M[M.length-1],ne=Y(K),E=F(K),X=E-ne,B=e.find(le=>le.name===K.project);x({project:K.project,client:K.client,amount:"",date:_e(new Date,"yyyy-MM-dd"),clientSignature:"",totalContractAmount:E,previousAmount:ne,remainingAmount:X,startDate:B!=null&&B.startDate?_e(new Date(B.startDate),"yyyy-MM-dd"):"",endDate:B!=null&&B.endDate?_e(new Date(B.endDate),"yyyy-MM-dd"):""}),h("cash"),v(!0)},className:"px-2 py-1 text-xs sm:px-3 sm:py-1.5 sm:text-sm bg-gray-800 text-white rounded hover:bg-gray-900 transition-colors whitespace-nowrap",children:""}),a.jsx("button",{onClick:()=>A(y),className:"px-2 py-1 text-xs sm:text-sm text-gray-600 hover:text-gray-800 whitespace-nowrap",children:""})]})]})}),a.jsx("div",{className:"mb-4",children:a.jsx("div",{className:"p-3 bg-gray-50 border border-gray-200 rounded-lg",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-xs text-gray-600 mb-1",children:""}),a.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["",y.totalAmount.toLocaleString()]})]}),a.jsxs("div",{className:"ml-4 text-right",children:[a.jsx("p",{className:"text-xs text-gray-500 mb-1",children:" "}),a.jsxs("p",{className:"text-sm font-semibold text-gray-700",children:["",D.toLocaleString()]}),a.jsxs("p",{className:"text-xs text-gray-500 mt-0.5",children:["( ",y.vatType==="percentage"?`${y.vatPercentage??100}%`:`${(y.vatAmount||0).toLocaleString()}`," )"]})]})]})})}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm text-gray-600",children:""}),a.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[P.toFixed(1),"%"]})]}),a.jsx("div",{className:"w-full bg-gray-200 h-2 rounded-full",children:a.jsx("div",{className:"bg-gray-600 h-2 rounded-full transition-all",style:{width:`${P}%`}})})]}),a.jsx("div",{className:"mb-4",children:a.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3",children:[a.jsxs("div",{className:"p-3 bg-gray-50 border border-gray-200 rounded-lg",children:[a.jsx("p",{className:"text-xs text-gray-700 mb-1",children:""}),a.jsxs("p",{className:"text-base font-bold text-gray-800",children:["",C.toLocaleString()]})]}),a.jsxs("div",{className:"p-3 bg-gray-50 border border-gray-200 rounded-lg",children:[a.jsx("p",{className:"text-xs text-gray-700 mb-1",children:" "}),a.jsxs("p",{className:"text-base font-bold text-gray-800",children:["",Te(y.project).toLocaleString()]})]}),a.jsxs("div",{className:"p-3 bg-gray-50 border border-gray-200 rounded-lg",children:[a.jsx("p",{className:"text-xs text-gray-700 mb-1",children:" "}),a.jsxs("p",{className:"text-base font-bold text-gray-800",children:["",we(y.project).toLocaleString()]})]}),a.jsxs("div",{className:"p-3 bg-gray-50 border border-gray-200 rounded-lg",children:[a.jsx("p",{className:"text-xs text-gray-700 mb-1",children:""}),a.jsxs("p",{className:"text-base font-bold text-gray-800",children:["",S.toLocaleString()]})]})]})}),y.payments.length>0&&a.jsxs("div",{className:"border-t pt-4",children:[a.jsx("p",{className:"text-xs text-gray-500 mb-2",children:""}),y.payments.slice(-2).reverse().map((K,ne)=>a.jsxs("div",{className:"flex items-center justify-between text-sm mb-1",children:[a.jsxs("span",{className:"text-gray-700",children:[K.type||""," - ",_e(K.date,"MM/dd")]}),a.jsxs("span",{className:"font-medium text-gray-900",children:["",K.amount.toLocaleString()]})]},ne))]})]},y.id)})}),g&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white rounded-lg max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsx("div",{className:"p-6 border-b",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-xl font-semibold",children:g.project}),a.jsx("button",{onClick:()=>A(null),className:"p-2 hover:bg-gray-100 rounded-lg",children:""})]})}),a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:" "}),a.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[a.jsx("div",{className:"space-y-3",children:ae(g).map((y,C)=>{var P;const D={:"contract",:"start",:"middle",:"final"}[y.type];return a.jsxs("div",{className:"flex items-center justify-between gap-3",children:[a.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[a.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded ${y.status==="completed"?"bg-green-100 text-green-800":y.status==="overdue"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:y.type}),y.status!=="completed"?a.jsx("input",{type:"date",value:(P=g.expectedPaymentDates)!=null&&P[D]?_e(new Date(g.expectedPaymentDates[D]),"yyyy-MM-dd"):y.date?_e(y.date,"yyyy-MM-dd"):"",onChange:async K=>{const ne=K.target.value?new Date(K.target.value):null,E={...g.expectedPaymentDates,[D]:ne},X={...g,expectedPaymentDates:E};A(X);try{await s(g.id,{expectedPaymentDates:E});const B=c.map(le=>le.id===g.id?X:le);u(B),z.success("  ")}catch(B){console.error("Failed to update payment date:",B),z.error("  ")}},className:"px-3 py-1.5 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-gray-600"}):a.jsxs("span",{className:"text-sm text-gray-700",children:[y.date?_e(y.date,"yyyy MM dd"):" ",y.actualDate&&a.jsxs("span",{className:"text-green-600 ml-2",children:["(: ",_e(y.actualDate,"MM/dd"),")"]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["",y.amount.toLocaleString(),a.jsxs("span",{className:"text-xs text-gray-500 ml-1",children:["(",y.percentage,"%)"]})]}),y.status==="completed"&&y.actualAmount&&a.jsxs("p",{className:"text-xs text-green-600",children:[": ",y.actualAmount.toLocaleString()]})]})]},C)})}),a.jsx("div",{className:"mt-4 pt-3 border-t border-gray-200",children:a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:" "}),a.jsxs("span",{className:"font-bold text-gray-900",children:["",F(g).toLocaleString()]})]})})]})]}),a.jsxs("div",{className:"space-y-4 mb-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"p-4 bg-gray-50 border border-gray-300 rounded-lg",children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"  ()"}),a.jsx("input",{type:"number",value:g.totalAmount||"",onChange:async y=>{const C=y.target.value===""?0:Number(y.target.value),S={...g,totalAmount:C};A(S);try{await s(g.id,S);const D=c.map(P=>P.id===g.id?S:P);u(D)}catch(D){console.error("Failed to update total amount:",D),z.error("  ")}},className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-lg font-bold focus:outline-none focus:ring-2 focus:ring-gray-600 focus:border-transparent",placeholder:"50000000",min:"0"}),a.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"   "})]}),a.jsxs("div",{className:"p-4 bg-gray-50 border border-gray-200 rounded-lg",children:[a.jsxs("p",{className:"text-xs text-gray-700 mb-1",children:["  ( ",g.vatType==="percentage"?`${g.vatPercentage??100}%`:`${(g.vatAmount||0).toLocaleString()}`," )"]}),a.jsxs("p",{className:"text-xl font-bold text-gray-900",children:["",F(g).toLocaleString()]})]})]}),a.jsxs("div",{className:"p-4 bg-gray-50 border border-gray-300 rounded-lg",children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"  "}),a.jsxs("div",{className:"flex gap-2 mb-3",children:[a.jsx("button",{type:"button",onClick:async()=>{const y={...g,vatType:"percentage"};A(y);try{await s(g.id,y);const C=c.map(S=>S.id===g.id?y:S);u(C)}catch(C){console.error("Failed to update VAT type:",C),z.error("   ")}},className:`flex-1 px-3 py-2 text-sm border rounded-lg font-medium transition-colors ${g.vatType==="percentage"?"border-gray-900 bg-gray-900 text-white":"border-gray-300 bg-white text-gray-700 hover:border-gray-400"}`,children:" (%)"}),a.jsx("button",{type:"button",onClick:async()=>{const y={...g,vatType:"amount"};A(y);try{await s(g.id,y);const C=c.map(S=>S.id===g.id?y:S);u(C)}catch(C){console.error("Failed to update VAT type:",C),z.error("   ")}},className:`flex-1 px-3 py-2 text-sm border rounded-lg font-medium transition-colors ${g.vatType==="amount"?"border-gray-900 bg-gray-900 text-white":"border-gray-300 bg-white text-gray-700 hover:border-gray-400"}`,children:" ()"})]}),g.vatType==="percentage"&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"   (%)"}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("input",{type:"number",value:g.vatPercentage,onChange:async y=>{const C=Number(y.target.value),S={...g,vatPercentage:C};A(S);try{await s(g.id,S);const D=c.map(P=>P.id===g.id?S:P);u(D)}catch(D){console.error("Failed to update VAT percentage:",D),z.error("   ")}},className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-gray-600 focus:border-transparent",placeholder:"100",min:"0",max:"100"}),a.jsx("div",{className:"text-xs text-gray-600",children:a.jsxs("p",{children:[": ",T(g).toLocaleString()]})})]}),a.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"0%:   | 100%:     | 50%:   "})]}),g.vatType==="amount"&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"   ()"}),a.jsx("input",{type:"number",value:g.vatAmount,onChange:async y=>{const C=Number(y.target.value),S={...g,vatAmount:C};A(S);try{await s(g.id,S);const D=c.map(P=>P.id===g.id?S:P);u(D)}catch(D){console.error("Failed to update VAT amount:",D),z.error("   ")}},className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-gray-600 focus:border-transparent",placeholder:"5000000",min:"0"}),a.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"    "})]})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[a.jsx("p",{className:"text-xs text-gray-700 mb-1",children:""}),a.jsxs("p",{className:"text-lg font-bold text-gray-800",children:["",Y(g).toLocaleString()]})]}),a.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[a.jsx("p",{className:"text-xs text-gray-700 mb-1",children:" "}),a.jsxs("p",{className:"text-lg font-bold text-gray-800",children:["",Te(g.project).toLocaleString()]})]}),a.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[a.jsx("p",{className:"text-xs text-gray-700 mb-1",children:" "}),a.jsxs("p",{className:"text-lg font-bold text-gray-800",children:["",we(g.project).toLocaleString()]})]}),a.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[a.jsx("p",{className:"text-xs text-gray-700 mb-1",children:""}),a.jsxs("p",{className:"text-lg font-bold text-gray-800",children:["",ee(g).toLocaleString()]})]})]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold",children:" "}),a.jsx("button",{onClick:te,className:"btn btn-primary btn-sm",children:"+  "})]}),a.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""}),a.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:""})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:g.payments.map((y,C)=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-4 py-3",children:a.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-gray-100 text-gray-800 rounded",children:y.type||""})}),a.jsxs("td",{className:"px-4 py-3 font-medium text-gray-900",children:["",y.amount.toLocaleString()]}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:_e(y.date,"yyyy MM dd")}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:y.method}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:y.notes||"-"}),a.jsx("td",{className:"px-4 py-3 text-center",children:a.jsx("button",{onClick:()=>ue(C),className:"text-gray-600 hover:text-gray-700 transition-colors",children:a.jsx(fi,{className:"h-4 w-4"})})})]},C))})]})})]})]}),a.jsxs("div",{className:"p-6 border-t flex justify-between",children:[a.jsx("button",{onClick:async()=>{if(g&&window.confirm(`   ?
    .`))try{await i(g.id),z.success(" "),A(null)}catch(y){console.error("Failed to delete construction payment:",y),z.error(" ")}},className:"btn btn-outline text-red-600 hover:bg-red-50 hover:border-red-300",children:""}),a.jsx("button",{onClick:()=>A(null),className:"btn btn-outline",children:""})]})]})}),k&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full",children:[a.jsx("div",{className:"p-6 border-b",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"  "}),a.jsx("button",{onClick:()=>_(!1),className:"p-2 hover:bg-gray-100 rounded-lg",children:a.jsx(rt,{className:"h-5 w-5"})})]})}),a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  *"}),a.jsxs("select",{value:G.projectId,onChange:y=>xe({...G,projectId:y.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-600 focus:border-transparent",children:[a.jsx("option",{value:"",children:""}),e.map(y=>a.jsxs("option",{value:y.id,children:[y.name," - ",y.client]},y.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  *"}),a.jsx("input",{type:"number",value:G.totalAmount||"",onChange:y=>xe({...G,totalAmount:Number(y.target.value)}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-600 focus:border-transparent",placeholder:"50000000"}),a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"  ( )"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"   *"}),a.jsxs("div",{className:"flex gap-2 mb-3",children:[a.jsx("button",{type:"button",onClick:()=>xe({...G,vatType:"percentage"}),className:`flex-1 px-3 py-2 text-sm border rounded-lg font-medium transition-colors ${G.vatType==="percentage"?"border-gray-900 bg-gray-900 text-white":"border-gray-300 bg-white text-gray-700 hover:border-gray-400"}`,children:" (%)"}),a.jsx("button",{type:"button",onClick:()=>xe({...G,vatType:"amount"}),className:`flex-1 px-3 py-2 text-sm border rounded-lg font-medium transition-colors ${G.vatType==="amount"?"border-gray-900 bg-gray-900 text-white":"border-gray-300 bg-white text-gray-700 hover:border-gray-400"}`,children:" ()"})]}),G.vatType==="percentage"&&a.jsxs("div",{children:[a.jsx("input",{type:"number",value:G.vatPercentage??100,onChange:y=>{const C=y.target.value===""?100:Number(y.target.value);xe({...G,vatPercentage:C})},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-600 focus:border-transparent",placeholder:"100",min:"0",max:"100"}),a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"0%:   | 100%:     | 50%:   "})]}),G.vatType==="amount"&&a.jsxs("div",{children:[a.jsx("input",{type:"number",value:G.vatAmount??0,onChange:y=>{const C=y.target.value===""?0:Number(y.target.value);xe({...G,vatAmount:C})},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-600 focus:border-transparent",placeholder:"5000000",min:"0"}),a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"    "})]}),G.totalAmount>0&&a.jsxs("div",{className:"mt-2 p-3 bg-gray-50 border border-gray-200 rounded-lg",children:[a.jsx("p",{className:"text-xs text-gray-700 mb-1",children:"  ( )"}),a.jsxs("p",{className:"text-xl font-bold text-gray-900",children:["",(G.totalAmount+(G.vatType==="percentage"?G.totalAmount*((G.vatPercentage??100)/100)*.1:G.vatAmount??0)).toLocaleString()]}),a.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:["=  ",G.totalAmount.toLocaleString()," +  ",(G.vatType==="percentage"?G.totalAmount*((G.vatPercentage??100)/100)*.1:G.vatAmount??0).toLocaleString()]})]})]})]}),a.jsxs("div",{className:"p-6 border-t flex justify-end space-x-3",children:[a.jsx("button",{onClick:()=>_(!1),className:"btn btn-outline",children:""}),a.jsx("button",{onClick:ve,className:"btn btn-primary",children:""})]})]})}),O&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full",children:[a.jsx("div",{className:"p-6 border-b",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-xl font-semibold",children:I!==null?" ":" "}),a.jsx("button",{onClick:()=>{R(!1),V(null)},className:"p-2 hover:bg-gray-100 rounded-lg",children:a.jsx(rt,{className:"h-5 w-5"})})]})}),a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"   ( )"}),a.jsx("textarea",{value:re.quickText,onChange:y=>pe({...re,quickText:y.target.value}),rows:3,className:"w-full px-3 py-2 border border-blue-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:`: [703 ]
 40.  110 432 160269 .  .`}),a.jsx("button",{type:"button",onClick:J,className:"mt-2 w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium",children:"  "}),a.jsx("p",{className:"mt-2 text-xs text-gray-600",children:'*      (: "40", "400000")'})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" * (  )"}),a.jsx("div",{className:"space-y-2",children:["","","","",""].map(y=>{const C=ce[y];return a.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:re.types.includes(y),onChange:S=>{let D;S.target.checked?D=[...re.types,y]:D=re.types.filter(E=>E!==y);const P=q(D),K=W(P),ne=H(D);pe({...re,types:D,percentage:P,amount:K,date:ne||re.date})},className:"w-4 h-4 text-gray-900 border-gray-300 rounded focus:ring-gray-600"}),a.jsxs("span",{className:"text-sm text-gray-900",children:[y,a.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:["(",C,"%)"]}),y===""&&a.jsx("span",{className:"text-xs text-gray-400 ml-1",children:"(  )"}),y===""&&a.jsx("span",{className:"text-xs text-gray-400 ml-1",children:"(  1 )"}),y===""&&a.jsx("span",{className:"text-xs text-gray-400 ml-1",children:"( )"}),y===""&&a.jsx("span",{className:"text-xs text-gray-400 ml-1",children:"( )"}),y===""&&a.jsx("span",{className:"text-xs text-gray-400 ml-1",children:"( )"})]})]},y)})}),re.types.length>0&&a.jsx("div",{className:"mt-2 p-2 bg-gray-50 border border-gray-200 rounded",children:a.jsxs("p",{className:"text-xs text-gray-700",children:[" : ",re.types.join(" + ")," =  ",re.percentage,"%"]})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  *"}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{type:"button",onClick:()=>pe({...re,method:""}),className:`flex-1 px-4 py-3 border-2 rounded-lg font-medium transition-colors ${re.method===""?"border-gray-900 bg-gray-900 text-white":"border-gray-300 bg-white text-gray-700 hover:border-gray-400"}`,children:""}),a.jsx("button",{type:"button",onClick:()=>pe({...re,method:""}),className:`flex-1 px-4 py-3 border-2 rounded-lg font-medium transition-colors ${re.method===""?"border-gray-900 bg-gray-900 text-white":"border-gray-300 bg-white text-gray-700 hover:border-gray-400"}`,children:""})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"   (%)"}),a.jsx("input",{type:"number",value:re.percentage||"",onChange:y=>{const C=Number(y.target.value),S=W(C);pe({...re,percentage:C,amount:S})},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-600 focus:border-transparent",placeholder:"10",min:"0",max:"100"}),g&&re.percentage>0&&a.jsxs("div",{className:"mt-2 p-3 bg-gray-50 border border-gray-200 rounded-lg",children:[a.jsx("p",{className:"text-xs text-gray-700 mb-1",children:" "}),a.jsxs("p",{className:"text-xs text-gray-900",children:[" ( ",g.vatPercentage,"% ) ",F(g).toLocaleString(),"  ",re.percentage,"%"]}),a.jsxs("p",{className:"text-sm font-bold text-gray-900 mt-1",children:["= ",W(re.percentage).toLocaleString()]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  *"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"number",value:re.amount||"",onChange:y=>pe({...re,amount:Number(y.target.value)}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-600 focus:border-transparent",placeholder:"5000000",min:"0"}),a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:re.percentage>0?"       ":"   "})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"}),a.jsx("input",{type:"date",value:re.date,onChange:y=>pe({...re,date:y.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-600 focus:border-transparent"}),a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"     ,   "})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),a.jsx("textarea",{value:re.notes,onChange:y=>pe({...re,notes:y.target.value}),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-600 focus:border-transparent",placeholder:"  "})]})]}),a.jsxs("div",{className:"p-6 border-t flex justify-between",children:[a.jsx("div",{children:I!==null&&a.jsx("button",{onClick:async()=>{if(g&&window.confirm("   ?"))try{const y=g.payments.filter((D,P)=>P!==I),C={...g,payments:y};await s(g.id,{payments:y}),A(C);const S=c.map(D=>D.id===g.id?C:D);u(S),R(!1),V(null),z.success("  ")}catch(y){console.error("Failed to delete payment:",y),z.error(" ")}},className:"btn btn-outline text-red-600 hover:bg-red-50 hover:border-red-300",children:""})}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsx("button",{onClick:()=>{R(!1),V(null)},className:"btn btn-outline",children:""}),a.jsx("button",{onClick:Ne,className:"btn btn-primary",children:I!==null?"":""})]})]})]})}),m&&a.jsxs(a.Fragment,{children:[a.jsx("style",{children:`
            @media print {
              * {
                -webkit-print-color-adjust: exact !important;
                print-color-adjust: exact !important;
                color-adjust: exact !important;
              }
              /*       */
              img[alt=""] {
                display: inline-block !important;
                visibility: visible !important;
                opacity: 0.8 !important;
                -webkit-print-color-adjust: exact !important;
                print-color-adjust: exact !important;
              }
            }
            @page {
              size: A4;
              margin: 20mm;
            }
          `}),a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4 print:bg-white print:relative print:p-0",children:a.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto print:shadow-none print:max-w-none print:max-h-none",children:a.jsxs("div",{className:"p-6 print:p-8",children:[a.jsx("div",{className:"flex items-center justify-end mb-6 print:hidden",children:a.jsx("button",{onClick:()=>v(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:a.jsx(rt,{className:"w-5 h-5"})})}),a.jsxs("div",{className:"space-y-6 print:space-y-0",children:[a.jsxs("div",{className:"border border-black p-8 bg-white print:border print:p-12",children:[a.jsx("div",{className:"p-3 mb-8",children:a.jsx("h3",{className:"text-center text-2xl font-bold",children:p==="cash"?"":""})}),a.jsxs("table",{className:"w-full mb-8 border-collapse",children:[a.jsxs("colgroup",{children:[a.jsx("col",{style:{width:"30%"}}),a.jsx("col",{style:{width:"70%"}})]}),a.jsxs("tbody",{children:[a.jsxs("tr",{className:"border border-black",children:[a.jsx("td",{className:"border-r border-black py-3 px-4 bg-white font-medium whitespace-nowrap",children:""}),a.jsxs("td",{className:"py-3 px-4 print:py-3 text-center",children:[a.jsx("span",{className:"print:hidden",children:j.project}),a.jsx("input",{type:"text",value:j.project,className:"hidden print:block w-full bg-transparent border-none outline-none p-0 text-center",readOnly:!0})]})]}),a.jsxs("tr",{className:"border border-t-0 border-black",children:[a.jsx("td",{className:"border-r border-black py-3 px-4 bg-white font-medium whitespace-nowrap",children:""}),a.jsx("td",{className:"py-3 px-4 text-center",children:j.startDate&&j.endDate?a.jsxs("span",{children:[_e(new Date(j.startDate),"yyyy.MM.dd")," ~ ",_e(new Date(j.endDate),"yyyy.MM.dd")]}):a.jsx("span",{className:"text-gray-400 print:hidden",children:"-"})})]}),a.jsxs("tr",{className:"border border-t-0 border-black",children:[a.jsx("td",{className:"border-r border-black py-3 px-4 bg-white font-medium whitespace-nowrap",children:""}),a.jsxs("td",{className:"py-3 px-4 text-right pr-4",children:[j.totalContractAmount.toLocaleString()," "]})]}),a.jsxs("tr",{className:"border border-t-0 border-black",children:[a.jsx("td",{className:"border-r border-black py-3 px-4 bg-white font-medium whitespace-nowrap",children:""}),a.jsxs("td",{className:"py-3 px-4 text-right pr-4",children:[j.previousAmount.toLocaleString()," "]})]}),a.jsxs("tr",{className:"border border-t-0 border-black",children:[a.jsx("td",{className:"border-r border-black py-3 px-4 bg-white font-medium whitespace-nowrap",children:""}),a.jsxs("td",{className:"py-3 px-4 text-right pr-4",children:[a.jsxs("span",{className:"print:hidden flex items-center justify-end gap-1",children:[a.jsx("input",{type:"text",value:j.amount,onChange:y=>{const C=y.target.value.replace(/[^0-9]/g,""),S=C?parseInt(C).toLocaleString():"";x({...j,amount:S})},placeholder:" ",className:"w-full text-right border border-gray-300 rounded px-2 py-1"}),a.jsx("span",{children:""})]}),a.jsxs("span",{className:"hidden print:inline",children:[j.amount," "]})]})]}),a.jsxs("tr",{className:"border border-t-0 border-black",children:[a.jsxs("td",{className:"border-r border-black py-3 px-4 bg-white font-medium whitespace-nowrap",children:[" ",a.jsx("span",{className:"text-xs",children:"( )"})]}),a.jsxs("td",{className:"py-3 px-4 text-right pr-4",children:[(()=>{const y=j.amount?parseInt(j.amount.replace(/,/g,"")):0;return(j.remainingAmount-y).toLocaleString()})()," "]})]})]})]}),a.jsx("div",{className:"text-center mb-12",children:a.jsxs("p",{className:"text-base",children:["* ",p==="cash"?"      .":"      ."]})}),a.jsx("div",{className:"text-center mb-12",children:a.jsxs("p",{className:"text-base",children:[a.jsx("span",{className:"print:hidden",children:a.jsx("input",{type:"date",value:j.date,onChange:y=>x({...j,date:y.target.value}),className:"border border-gray-300 rounded px-2 py-1"})}),a.jsx("span",{className:"hidden print:inline",children:_e(new Date(j.date),"yyyy MM dd")})]})}),a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"grid grid-cols-4 items-center border-b border-gray-300 pb-2",children:[a.jsx("span",{className:"font-medium",children:"[]"}),a.jsx("span",{children:" "}),a.jsx("span",{className:"text-xl font-bold text-right pr-4",children:"  "}),a.jsxs("div",{className:"flex items-center justify-end gap-1",children:[a.jsx("span",{className:"text-sm",style:{marginRight:"20px"},children:"()"}),a.jsx("img",{src:bte,alt:"",style:{display:"inline-block",width:"56px",height:"56px",marginLeft:"-45px",marginRight:"10px",opacity:.8,printColorAdjust:"exact",WebkitPrintColorAdjust:"exact",colorAdjust:"exact"}})]})]}),a.jsxs("div",{className:"grid grid-cols-4 items-center border-b border-gray-300 pb-2",children:[a.jsx("span",{className:"font-medium",children:"[]"}),a.jsx("span",{children:j.project.split("_")[0]}),a.jsx("span",{className:"text-xl text-right pr-4",children:""}),a.jsxs("div",{className:"flex items-center justify-end gap-1",children:[a.jsx("span",{className:"text-sm",style:{marginRight:"20px"},children:"()"}),a.jsx("div",{style:{display:"inline-block",width:"56px",height:"56px",marginLeft:"-45px",marginRight:"10px",visibility:"hidden"}})]})]})]})]}),a.jsxs("div",{className:"flex gap-3 print:hidden",children:[a.jsx("button",{onClick:()=>{if(!j.amount){z.error(" ");return}window.print(),z.success(" ")},className:"flex-1 px-4 py-3 bg-gray-800 text-white font-medium rounded-lg hover:bg-gray-900 transition-colors",children:""}),a.jsx("button",{onClick:()=>v(!1),className:"px-4 py-3 bg-gray-200 text-gray-700 font-medium rounded-lg hover:bg-gray-300 transition-colors",children:""})]})]})]})})})]})]})},Lf=["","","","","","","","","","","","","","","","","","","","","","","","","","",""],ad=e=>{const t=e.replace(/$/g,"").trim(),r=t.split(" ");if(r.length>=2){const n=r[r.length-1];for(const s of Lf)if(n===s)return s}for(const n of Lf)if(t.endsWith(n))return n;return""},cp=e=>{if(!e)return e;const t=e.replace(/$/g,"").trim(),r=t.split(" ");if(r.length>=2){const n=r[r.length-1];for(const s of Lf)if(n===s)return r.slice(0,-1).join(" ").trim()}for(const n of Lf)if(t.endsWith(n))return t.substring(0,t.length-n.length).trim();return t};function Nte(){const[e,t]=w.useState([]),[r,n]=w.useState(!0),[s,i]=w.useState(null),[o,l]=w.useState(!1),[c,u]=w.useState(null),[d,f]=w.useState(""),[m,v]=w.useState({rank:"",companyName:"",name:"",position:"",process:"",contact:"",bankName:"",accountNumber:"",notes:""});w.useEffect(()=>{p()},[]),w.useEffect(()=>{const k=()=>{h()};return window.addEventListener("headerAddButtonClick",k),()=>window.removeEventListener("headerAddButtonClick",k)},[]);const p=async()=>{var k,_;try{n(!0),i(null);const O=await Ts.getAllContractors();t(O.map(R=>({id:R._id,rank:R.rank,companyName:R.companyName,name:R.name,position:R.position,process:R.process,contact:R.contact,accountNumber:R.accountNumber,notes:R.notes,createdAt:new Date(R.createdAt),updatedAt:new Date(R.updatedAt)})))}catch(O){console.error("Failed to load contractors:",O);const R=O instanceof Error&&((_=(k=O.response)==null?void 0:k.data)==null?void 0:_.message);i(R||"   .")}finally{n(!1)}},h=k=>{if(k){u(k);let _="",O=k.accountNumber||"";if(k.accountNumber){const V=["KB","","","","NH","IBK","KEB","SC","","","","","","","","","","","","","","","","","NH","","","","","KB","",""];for(const Z of V)if(k.accountNumber.startsWith(Z)){_=Z,O=k.accountNumber.substring(Z.length).trim();break}}let R=k.name,I=k.position||"";I||(I=ad(k.name),R=cp(k.name)),v({rank:k.rank||"",companyName:k.companyName||"",name:R,position:I,process:k.process,contact:k.contact||"",bankName:_,accountNumber:O,notes:k.notes||""})}else u(null),v({rank:"",companyName:"",name:"",position:"",process:"",contact:"",bankName:"",accountNumber:"",notes:""});l(!0)},j=()=>{l(!1),u(null),v({rank:"",companyName:"",name:"",position:"",process:"",contact:"",bankName:"",accountNumber:"",notes:""})},x=async k=>{var O,R;k.preventDefault();const _=m.bankName&&m.accountNumber?`${m.bankName} ${m.accountNumber}`:m.accountNumber;try{const I={rank:m.rank,companyName:m.companyName,name:m.name,position:m.position,process:m.process,contact:m.contact,accountNumber:_,notes:m.notes};c?await Ts.updateContractor(c.id,I):await Ts.createContractor(I),await p(),j()}catch(I){console.error("Failed to save contractor:",I);const V=I instanceof Error&&((R=(O=I.response)==null?void 0:O.data)==null?void 0:R.message);alert(V||"  .")}},b=async k=>{var _,O;if(window.confirm("   ?"))try{await Ts.deleteContractor(k),await p()}catch(R){console.error("Failed to delete contractor:",R);const I=R instanceof Error&&((O=(_=R.response)==null?void 0:_.data)==null?void 0:O.message);alert(I||"  .")}},N=()=>"border-gray-200 text-gray-600 bg-gray-50",g=k=>k?k==="1"?1:k==="1()"?2:k==="2"?3:k==="2()"?4:k==="3"?5:k==="3()"?6:k===""?100:k===""?200:999:999,A=e.filter(k=>k.name.toLowerCase().includes(d.toLowerCase())||k.process.toLowerCase().includes(d.toLowerCase())||k.accountNumber.toLowerCase().includes(d.toLowerCase())||k.contact&&k.contact.toLowerCase().includes(d.toLowerCase())||k.rank&&k.rank.toLowerCase().includes(d.toLowerCase())||k.companyName&&k.companyName.toLowerCase().includes(d.toLowerCase())).sort((k,_)=>{const O=g(k.rank)-g(_.rank);if(O!==0)return O;const R=k.process.localeCompare(_.process,"ko");return R!==0?R:k.name.localeCompare(_.name,"ko")});return a.jsxs("div",{className:"space-y-3 md:space-y-4",children:[a.jsx("div",{className:"flex items-center justify-end",children:a.jsx("button",{onClick:()=>h(),className:"hidden lg:inline-flex btn btn-primary px-4 py-2",children:"+  "})}),a.jsxs("div",{className:"relative",children:[a.jsx(yf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4 md:w-5 md:h-5"}),a.jsx("input",{type:"text",placeholder:", ,  ...",value:d,onChange:k=>f(k.target.value),className:"w-full pl-9 md:pl-10 pr-4 py-2 text-sm md:text-base border border-gray-200 rounded-lg focus:ring-2 focus:ring-gray-400 focus:border-transparent"})]}),a.jsx("div",{className:"hidden md:block bg-white rounded-lg border border-gray-200 overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:" "}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:""})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r?a.jsx("tr",{children:a.jsx("td",{colSpan:9,className:"px-6 py-12 text-center",children:a.jsx("p",{className:"text-gray-500",children:" ..."})})}):s?a.jsx("tr",{children:a.jsx("td",{colSpan:9,className:"px-6 py-12 text-center",children:a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-red-500",children:s}),a.jsx("button",{onClick:p,className:"inline-block px-6 py-3 bg-gray-900 text-white rounded-lg hover:bg-gray-800 transition-colors",children:" "})]})})}):A.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:9,className:"px-6 py-12 text-center",children:a.jsx("p",{className:"text-gray-500",children:d?"  .":"  ."})})}):A.map(k=>a.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 py-1 text-xs font-medium border rounded ${N(k.rank)}`,children:k.rank||"-"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:"text-xs font-medium text-gray-700",children:k.process})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-900",children:k.companyName||"-"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"font-medium text-gray-900",children:cp(k.name)})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-900",children:k.position||ad(k.name)||"-"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-900",children:k.contact||"-"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-900",children:k.accountNumber})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("div",{className:"text-sm text-gray-500 max-w-xs truncate",children:k.notes||"-"})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[a.jsx("button",{onClick:()=>h(k),className:"text-gray-600 hover:text-gray-900 mr-3",children:a.jsx(Hl,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>b(k.id),className:"text-red-600 hover:text-red-900",children:a.jsx(_t,{className:"w-4 h-4"})})]})]},k.id))})]})})}),a.jsx("div",{className:"md:hidden space-y-3",children:r?a.jsx("div",{className:"text-center py-12 text-gray-500 text-sm",children:" ..."}):s?a.jsxs("div",{className:"text-center py-12 space-y-4",children:[a.jsx("p",{className:"text-red-500 text-sm",children:s}),a.jsx("button",{onClick:p,className:"inline-block px-4 py-2 bg-gray-900 text-white rounded-lg hover:bg-gray-800 transition-colors text-sm",children:" "})]}):A.length===0?a.jsx("div",{className:"text-center py-12 text-gray-500 text-sm",children:d?"  .":"  ."}):A.map(k=>a.jsxs("div",{className:"card p-3 space-y-2",children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[k.rank&&a.jsx("span",{className:`px-1.5 py-0.5 text-[10px] font-medium border rounded ${N(k.rank)}`,children:k.rank}),a.jsx("span",{className:"px-1.5 py-0.5 text-[10px] font-medium text-gray-700 bg-gray-100 rounded",children:k.process})]}),k.companyName&&a.jsx("p",{className:"text-xs text-gray-600 mb-0.5",children:k.companyName}),a.jsx("p",{className:"font-semibold text-gray-900 text-sm",children:cp(k.name)})]}),a.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[a.jsx("button",{onClick:()=>h(k),className:"p-1.5 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded",children:a.jsx(Hl,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>b(k.id),className:"p-1.5 text-red-600 hover:text-red-900 hover:bg-red-50 rounded",children:a.jsx(_t,{className:"w-4 h-4"})})]})]}),a.jsxs("div",{className:"space-y-1 text-xs",children:[(k.position||ad(k.name))&&a.jsxs("div",{className:"flex items-start",children:[a.jsx("span",{className:"text-gray-500 w-14 flex-shrink-0",children:":"}),a.jsx("span",{className:"text-gray-900",children:k.position||ad(k.name)})]}),k.contact&&a.jsxs("div",{className:"flex items-start",children:[a.jsx("span",{className:"text-gray-500 w-14 flex-shrink-0",children:":"}),a.jsx("span",{className:"text-gray-900",children:k.contact})]}),a.jsxs("div",{className:"flex items-start",children:[a.jsx("span",{className:"text-gray-500 w-14 flex-shrink-0",children:":"}),a.jsx("span",{className:"text-gray-900 break-all",children:k.accountNumber})]}),k.notes&&a.jsxs("div",{className:"flex items-start",children:[a.jsx("span",{className:"text-gray-500 w-14 flex-shrink-0",children:":"}),a.jsx("span",{className:"text-gray-600",children:k.notes})]})]})]},k.id))}),o&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsx("div",{className:"bg-white rounded-lg max-w-md w-full max-h-[90vh] overflow-y-auto",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:c?" ":"  "}),a.jsx("button",{onClick:j,className:"text-gray-400 hover:text-gray-600",children:a.jsx(rt,{className:"w-6 h-6"})})]}),a.jsxs("form",{onSubmit:x,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),a.jsxs("select",{value:m.rank,onChange:k=>v({...m,rank:k.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-400 focus:border-transparent",children:[a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"1",children:"1"}),a.jsx("option",{value:"2",children:"2"}),a.jsx("option",{value:"3",children:"3"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),a.jsx("input",{type:"text",value:m.companyName,onChange:k=>v({...m,companyName:k.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-400 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[" ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",required:!0,value:m.name,onChange:k=>v({...m,name:k.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-400 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),a.jsx("input",{type:"text",value:m.position,onChange:k=>v({...m,position:k.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-400 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[" ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",required:!0,value:m.process,onChange:k=>v({...m,process:k.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-400 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),a.jsx("input",{type:"text",value:m.contact,onChange:k=>v({...m,contact:k.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-400 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),a.jsxs("select",{value:m.bankName,onChange:k=>v({...m,bankName:k.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-400 focus:border-transparent",children:[a.jsx("option",{value:"",children:""}),a.jsxs("optgroup",{label:"",children:[a.jsx("option",{value:"KB",children:"KB"}),a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"NH",children:"NH"}),a.jsx("option",{value:"IBK",children:"IBK"}),a.jsx("option",{value:"KEB",children:"KEB"}),a.jsx("option",{value:"SC",children:"SC"}),a.jsx("option",{value:"",children:""})]}),a.jsxs("optgroup",{label:"",children:[a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"",children:""})]}),a.jsxs("optgroup",{label:"",children:[a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"",children:""})]}),a.jsxs("optgroup",{label:"",children:[a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"",children:""})]}),a.jsxs("optgroup",{label:"",children:[a.jsx("option",{value:"NH",children:"NH"}),a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"KB",children:"KB"}),a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"",children:""})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),a.jsx("input",{type:"text",value:m.accountNumber,onChange:k=>v({...m,accountNumber:k.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-400 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),a.jsx("textarea",{value:m.notes,onChange:k=>v({...m,notes:k.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-400 focus:border-transparent",rows:3})]}),a.jsxs("div",{className:"flex space-x-3 pt-4",children:[a.jsx("button",{type:"button",onClick:j,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:""}),a.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-gray-700 text-white rounded-lg hover:bg-gray-800 transition-colors",children:c?"":""})]})]})]})})})]})}const $i=["","","","","","","",""],jte=()=>{const{addScheduleToAPI:e,deleteScheduleFromAPI:t,updateScheduleInAPI:r,schedules:n,projects:s,fetchSchedules:i}=Un(),{user:o}=Gs(),[l,c]=w.useState([]),[u,d]=w.useState(""),[f,m]=w.useState("pending"),[v,p]=w.useState("all"),[h,j]=w.useState(null),[x,b]=w.useState(null),N=w.useRef(null),[g,A]=w.useState({project:"",requestType:"",description:"",requestDate:_e(new Date,"yyyy-MM-dd"),dueDate:_e(new Date(Date.now()+3*24*60*60*1e3),"yyyy-MM-dd"),requestedBy:(o==null?void 0:o.name)||"",assignedTo:""}),[k,_]=w.useState(!1),[O,R]=w.useState(""),[I,V]=w.useState(null),[Z,Q]=w.useState(!0);w.useEffect(()=>{G()},[]),w.useEffect(()=>{o!=null&&o.name&&!g.requestedBy&&A(T=>({...T,requestedBy:o.name}))},[o]);const G=async()=>{try{const W=(await ra.getAllWorkRequests()).map(Y=>({id:Y._id,project:Y.project,requestType:Y.requestType,description:Y.description,requestDate:new Date(Y.requestDate),dueDate:new Date(Y.dueDate),requestedBy:Y.requestedBy,assignedTo:Y.assignedTo,status:Y.status,priority:Y.priority,notes:Y.notes,completedDate:Y.completedDate?new Date(Y.completedDate):void 0}));c(W)}catch(T){console.error("Failed to load work requests:",T),z.error("  ")}};w.useEffect(()=>{var T,W;h&&N.current&&((W=(T=N.current).showPicker)==null||W.call(T))},[h]),w.useEffect(()=>{const T=()=>{x&&b(null)};if(x)return document.addEventListener("click",T),()=>document.removeEventListener("click",T)},[x]);const xe=async(T,W)=>{if(window.confirm(`"${W}"  ?

    .`))try{const Y=l.find(ee=>ee.id===T);if(await ra.deleteWorkRequest(T),c(l.filter(ee=>ee.id!==T)),z.success(" "),Y)try{let ee="";Y.project?ee=Y.requestType?`[] ${Y.requestType}`:`[] ${Y.description.substring(0,20)}`:ee=Y.description;const Te=n.filter(we=>{const M=we.start&&new Date(we.start).toDateString()===Y.dueDate.toDateString(),y=we.title===ee;return M&&y});for(const we of Te)try{await t(we.id)}catch(M){console.error("Failed to delete related schedule:",M)}await i()}catch(ee){console.error("Failed to handle related schedules:",ee)}}catch(Y){console.error("Failed to delete work request:",Y),z.error("  "),await G()}},re=T=>{V(T),A({project:T.project,requestType:T.requestType,description:T.description,requestDate:_e(T.requestDate,"yyyy-MM-dd"),dueDate:_e(T.dueDate,"yyyy-MM-dd"),requestedBy:T.requestedBy,assignedTo:T.assignedTo}),_(T.priority==="high"),Q(!0)},pe=()=>{V(null),A({project:"",requestType:"",description:"",requestDate:_e(new Date,"yyyy-MM-dd"),dueDate:_e(new Date(Date.now()+3*24*60*60*1e3),"yyyy-MM-dd"),requestedBy:(o==null?void 0:o.name)||"",assignedTo:""}),_(!1),R("")},ce=async T=>{if(T.preventDefault(),!g.requestedBy||!g.assignedTo||!g.requestDate||!g.dueDate){z.error("   ");return}try{const W=g.requestType===""?O:g.requestType;if(I){const Y=await ra.updateWorkRequest(I.id,{project:g.project,requestType:W,description:g.description,requestDate:new Date(g.requestDate),dueDate:new Date(g.dueDate),requestedBy:g.requestedBy,assignedTo:g.assignedTo,status:I.status,priority:k?"high":"medium"}),ee={id:Y._id,project:Y.project,requestType:Y.requestType,description:Y.description,requestDate:new Date(Y.requestDate),dueDate:new Date(Y.dueDate),requestedBy:Y.requestedBy,assignedTo:Y.assignedTo,status:Y.status,priority:Y.priority,notes:Y.notes,completedDate:Y.completedDate?new Date(Y.completedDate):void 0};let Te="";Y.project?Te=Y.requestType?`[] ${Y.requestType}`:`[] ${Y.description.substring(0,20)}`:Te=Y.description;const we=n.find(M=>{const y=M.start&&new Date(M.start).toDateString()===new Date(Y.dueDate).toDateString(),C=M.title===Te;return y&&C});if(we)try{let M=null,y="";if(Y.project){const S=s.find(D=>D.name===Y.project);M=S?S.id:we.project,y=Y.requestType?`[] ${Y.requestType}`:`[] ${Y.description.substring(0,20)}`}else y=Y.description,M=we.project;const C=Y.assignedTo===""?["","",""]:[Y.assignedTo];await r(we.id,{title:y,start:new Date(Y.dueDate),end:new Date(Y.dueDate),project:M,attendees:C,description:`${Y.description}

: ${Y.assignedTo}
: ${Y.requestedBy}
: ${Y.priority}
${Y.notes||""}`})}catch(M){console.error("Failed to update related schedule:",M)}c(l.map(M=>M.id===I.id?ee:M)),z.success(" ")}else{const Y=await ra.createWorkRequest({project:g.project,requestType:W,description:g.description||"",requestDate:new Date(g.requestDate),dueDate:new Date(g.dueDate),requestedBy:g.requestedBy,assignedTo:g.assignedTo,status:"pending",priority:k?"high":"medium"}),ee={id:Y._id,project:Y.project,requestType:Y.requestType,description:Y.description,requestDate:new Date(Y.requestDate),dueDate:new Date(Y.dueDate),requestedBy:Y.requestedBy,assignedTo:Y.assignedTo,status:Y.status,priority:Y.priority,notes:Y.notes,completedDate:Y.completedDate?new Date(Y.completedDate):void 0};try{let Te=null,we="";if(Y.project){const y=s.find(C=>C.name===Y.project);if(Te=y?y.id:null,!Te)throw console.warn("Project not found for work request:",Y.project),new Error("Project not found");we=Y.requestType?`[] ${Y.requestType}`:`[] ${Y.description.substring(0,20)}`}else we=Y.description;const M=Y.assignedTo===""?["","",""]:[Y.assignedTo];await e({id:`workrequest-${Y._id}`,title:we,start:new Date(Y.dueDate),end:new Date(Y.dueDate),type:"other",project:Te,location:"",attendees:M,description:`${Y.description}

: ${Y.assignedTo}
: ${Y.requestedBy}
: ${Y.priority}
${Y.notes||""}`})}catch(Te){console.error("Failed to create schedule:",Te)}c([ee,...l]),z.success(" ")}pe()}catch(W){console.error("Failed to save work request:",W),z.error("  ")}},q=(T,W)=>{j({requestId:T,field:W})},oe=async T=>{if(!h)return;const W=new Date(T);if(!isNaN(W.getTime()))try{if(!l.find(ee=>ee.id===h.requestId))return;await ra.updateWorkRequest(h.requestId,{[h.field]:W}),c(l.map(ee=>ee.id===h.requestId?{...ee,[h.field]:W}:ee)),j(null),z.success(" ")}catch(Y){console.error("Failed to update date:",Y),z.error("  "),j(null)}},J=(T,W)=>{b({requestId:T,field:W})},H=async T=>{if(x)try{await ra.updateWorkRequest(x.requestId,{[x.field]:T}),c(l.map(W=>W.id===x.requestId?{...W,[x.field]:T}:W)),b(null),z.success(" ")}catch(W){console.error("Failed to update person:",W),z.error("  "),b(null)}},ae=async(T,W)=>{try{const Y=W==="completed"?new Date:void 0;if(await ra.updateWorkRequest(T,{status:W,completedDate:Y}),c(l.map(Te=>Te.id===T?{...Te,status:W,completedDate:Y}:Te)),W==="completed"){const Te=l.find(we=>we.id===T);if(Te){const we=n.find(M=>M.id===`workrequest-${T}`||M.title.includes("[]")&&M.project===Te.project);if(we)try{await t(we.id)}catch(M){console.error("Failed to delete related schedule:",M)}}}const ee={pending:"","in-progress":"",completed:""};z.success(` ${ee[W]} `)}catch(Y){console.error("Failed to update status:",Y),z.error("  ")}},ye=T=>{const Y={pending:{label:"",color:"bg-gray-100 text-gray-700 border-gray-300"},"in-progress":{label:"",color:"bg-gray-100 text-gray-800 border-gray-300"},completed:{label:"",color:"bg-gray-900 text-white border-gray-900"},cancelled:{label:"",color:"bg-gray-100 text-gray-500 border-gray-300"}}[T];return a.jsx("span",{className:`px-3 py-1 text-xs font-medium border ${Y.color}`,children:Y.label})},ve=T=>{const Y={low:{label:"",color:"text-gray-600",bg:"",border:""},medium:{label:"",color:"text-gray-600",bg:"",border:""},high:{label:"",color:"text-rose-700",bg:"bg-rose-50",border:"border border-rose-300"}}[T];return a.jsx("span",{className:`inline-flex items-center px-2 py-0.5 text-xs font-semibold rounded ${Y.color} ${Y.bg} ${Y.border}`,children:Y.label})},te=T=>{const W=new Date;W.setHours(0,0,0,0);const Y=new Date(T);Y.setHours(0,0,0,0);const ee=Y.getTime()-W.getTime();return Math.ceil(ee/(1e3*60*60*24))},ue=T=>{const W=te(T);return W<0?a.jsxs("span",{className:"inline-flex items-center px-2 py-1 text-xs font-bold bg-gray-100 text-gray-700 border border-gray-300 rounded",children:["D+",Math.abs(W)]}):W===0?a.jsx("span",{className:"inline-flex items-center px-2 py-1 text-xs font-bold bg-gray-900 text-white border border-gray-900 rounded",children:"D-Day"}):W<=3?a.jsxs("span",{className:"inline-flex items-center px-2 py-1 text-xs font-bold bg-gray-100 text-gray-700 border border-gray-300 rounded",children:["D-",W]}):W<=7?a.jsxs("span",{className:"inline-flex items-center px-2 py-1 text-xs font-bold bg-gray-100 text-gray-700 border border-gray-300 rounded",children:["D-",W]}):a.jsxs("span",{className:"inline-flex items-center px-2 py-1 text-xs font-medium bg-gray-100 text-gray-700 border border-gray-300 rounded",children:["D-",W]})},F=(()=>{let T=l;return f!=="all"&&(T=T.filter(W=>W.status===f)),u&&(T=T.filter(W=>W.project.toLowerCase().includes(u.toLowerCase())||W.requestType.toLowerCase().includes(u.toLowerCase())||W.description.toLowerCase().includes(u.toLowerCase()))),v!=="all"&&(T=T.filter(W=>W.priority===v)),T})(),ie={pending:l.filter(T=>T.status==="pending").length,inProgress:l.filter(T=>T.status==="in-progress").length,completed:l.filter(T=>T.status==="completed").length,total:l.length};return a.jsxs("div",{className:"space-y-3 md:space-y-4",children:[a.jsxs("div",{className:"hidden md:grid md:grid-cols-[400px_1fr] gap-4",children:[a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 h-fit sticky top-4",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:I?" ":" "}),a.jsxs("form",{onSubmit:ce,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),a.jsxs("select",{value:g.project,onChange:T=>A({...g,project:T.target.value}),className:"input w-full",children:[a.jsx("option",{value:""}),s.filter(T=>T.status!=="completed").map(T=>a.jsx("option",{value:T.name,children:T.name},T.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),a.jsxs("select",{value:g.requestType,onChange:T=>A({...g,requestType:T.target.value}),className:"input w-full",children:[a.jsx("option",{value:""}),a.jsx("option",{value:"3D",children:"3D"}),a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"",children:""}),a.jsx("option",{value:" ",children:" "}),a.jsx("option",{value:" ",children:" "}),a.jsx("option",{value:" ",children:" "}),a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"",children:""})]}),g.requestType===""&&a.jsx("input",{type:"text",value:O,onChange:T=>R(T.target.value),placeholder:"  ",className:"input w-full mt-2"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),a.jsx("textarea",{value:g.description,onChange:T=>A({...g,description:T.target.value}),rows:4,className:"input w-full",placeholder:"   "})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"}),a.jsx("input",{type:"date",value:g.requestDate,onChange:T=>A({...g,requestDate:T.target.value}),required:!0,className:"input w-full"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"}),a.jsx("input",{type:"date",value:g.dueDate,onChange:T=>A({...g,dueDate:T.target.value}),required:!0,className:"input w-full"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"}),a.jsxs("select",{value:g.requestedBy,onChange:T=>A({...g,requestedBy:T.target.value}),required:!0,className:"input w-full",children:[a.jsx("option",{value:"",children:""}),$i.map(T=>a.jsx("option",{value:T,children:T},T))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"}),a.jsxs("select",{value:g.assignedTo,onChange:T=>A({...g,assignedTo:T.target.value}),required:!0,className:"input w-full",children:[a.jsx("option",{value:"",children:""}),$i.map(T=>a.jsx("option",{value:T,children:T},T))]})]})]}),a.jsx("div",{children:a.jsxs("button",{type:"button",onClick:()=>_(!k),className:`flex items-center gap-2 px-4 py-3 rounded-lg border-2 transition-all w-full ${k?"bg-rose-50 border-rose-500 text-rose-700":"bg-white border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[a.jsx(Rb,{className:`h-5 w-5 ${k?"text-rose-600":"text-gray-400"}`}),a.jsx("span",{className:"font-medium",children:k?" ":"  "})]})}),a.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[I&&a.jsx("button",{type:"button",onClick:pe,className:"flex-1 btn btn-outline",children:""}),a.jsx("button",{type:"submit",className:"flex-1 btn btn-primary",children:I?"":""})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"border-b border-gray-200",children:a.jsx("nav",{className:"flex space-x-8",children:[{id:"pending",label:"",count:ie.pending,color:"text-gray-700"},{id:"in-progress",label:"",count:ie.inProgress,color:"text-gray-700"},{id:"completed",label:"",count:ie.completed,color:"text-gray-700"},{id:"all",label:"",count:ie.total,color:"text-gray-600"}].map(T=>a.jsxs("button",{onClick:()=>m(T.id),className:Cr("py-4 px-1 border-b-2 font-medium text-sm transition-colors whitespace-nowrap",f===T.id?`border-gray-700 ${T.color}`:"border-transparent text-gray-400 hover:text-gray-700 hover:border-gray-300"),children:[T.label,T.count>0&&a.jsx("span",{className:Cr("ml-2 py-0.5 px-2 rounded-full text-xs font-semibold",f===T.id?"bg-gray-700 text-white":"bg-gray-200 text-gray-600"),children:T.count})]},T.id))})}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("input",{type:"text",placeholder:"...",value:u,onChange:T=>d(T.target.value),className:"flex-1 px-4 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:border-gray-900"}),a.jsxs("select",{value:v,onChange:T=>p(T.target.value),className:"px-4 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:border-gray-900",children:[a.jsx("option",{value:"all",children:" "}),a.jsx("option",{value:"high",children:""}),a.jsx("option",{value:"medium",children:""}),a.jsx("option",{value:"low",children:""})]})]}),a.jsx("div",{className:"bg-white border border-gray-200 overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"D-day"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""}),a.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:""})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",style:{overflow:"visible"},children:F.map(T=>a.jsxs("tr",{className:`hover:bg-gray-50 ${T.priority==="high"?"bg-rose-50/30":""}`,style:{overflow:"visible"},children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("p",{className:"font-medium text-gray-900",children:T.project})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("p",{className:"text-sm text-gray-900",children:T.requestType})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("p",{className:"text-sm text-gray-900",children:T.description})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",style:{overflow:"visible"},children:a.jsxs("div",{className:"relative inline-block",children:[a.jsx("button",{onClick:W=>{W.stopPropagation(),J(T.id,"requestedBy")},className:"text-sm text-gray-900 hover:text-gray-600 hover:underline transition-colors",children:T.requestedBy}),(x==null?void 0:x.requestId)===T.id&&(x==null?void 0:x.field)==="requestedBy"&&a.jsx("div",{onClick:W=>W.stopPropagation(),className:"absolute left-0 top-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg z-50 min-w-[100px]",children:$i.map(W=>a.jsx("button",{onClick:()=>H(W),className:`block w-full text-left px-4 py-2 text-sm hover:bg-gray-100 transition-colors first:rounded-t-lg last:rounded-b-lg ${W===T.requestedBy?"bg-gray-50 font-medium":""}`,children:W},W))})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",style:{overflow:"visible"},children:a.jsxs("div",{className:"relative inline-block",children:[a.jsx("button",{onClick:W=>{W.stopPropagation(),J(T.id,"assignedTo")},className:"text-sm text-gray-900 hover:text-gray-600 hover:underline transition-colors",children:T.assignedTo}),(x==null?void 0:x.requestId)===T.id&&(x==null?void 0:x.field)==="assignedTo"&&a.jsx("div",{onClick:W=>W.stopPropagation(),className:"absolute left-0 top-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg z-50 min-w-[100px]",children:$i.map(W=>a.jsx("button",{onClick:()=>H(W),className:`block w-full text-left px-4 py-2 text-sm hover:bg-gray-100 transition-colors first:rounded-t-lg last:rounded-b-lg ${W===T.assignedTo?"bg-gray-50 font-medium":""}`,children:W},W))})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"relative inline-block",children:[(h==null?void 0:h.requestId)===T.id&&(h==null?void 0:h.field)==="requestDate"&&a.jsx("input",{ref:N,type:"date",defaultValue:_e(T.requestDate,"yyyy-MM-dd"),onChange:W=>oe(W.target.value),onBlur:()=>j(null),className:"absolute left-0 top-0 w-auto h-auto opacity-0 z-50",style:{pointerEvents:"auto"}}),a.jsxs("button",{onClick:()=>q(T.id,"requestDate"),className:"flex items-center space-x-2 text-sm text-gray-900 hover:text-gray-600 transition-colors",children:[a.jsx(es,{className:"h-4 w-4"}),a.jsx("span",{children:_e(T.requestDate,"yyyy.MM.dd (eee)",{locale:tt})})]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"relative inline-block",children:[(h==null?void 0:h.requestId)===T.id&&(h==null?void 0:h.field)==="dueDate"&&a.jsx("input",{ref:N,type:"date",defaultValue:_e(T.dueDate,"yyyy-MM-dd"),onChange:W=>oe(W.target.value),onBlur:()=>j(null),className:"absolute left-0 top-0 w-auto h-auto opacity-0 z-50",style:{pointerEvents:"auto"}}),a.jsxs("button",{onClick:()=>q(T.id,"dueDate"),className:"flex items-center space-x-2 text-sm text-gray-900 hover:text-gray-600 transition-colors",children:[a.jsx(es,{className:"h-4 w-4"}),a.jsx("span",{children:_e(T.dueDate,"yyyy.MM.dd (eee)",{locale:tt})})]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:ue(T.dueDate)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:ve(T.priority)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:ye(T.status)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[T.status==="pending"&&a.jsx("button",{onClick:()=>ae(T.id,"in-progress"),className:"px-3 py-1 text-xs font-semibold text-white rounded transition-colors bg-gray-600 hover:bg-gray-700",children:""}),T.status==="in-progress"&&a.jsx("button",{onClick:()=>ae(T.id,"completed"),className:"px-3 py-1 text-xs font-semibold bg-gray-900 text-white rounded hover:bg-gray-800 transition-colors",children:""}),a.jsx("button",{onClick:()=>re(T),className:"text-xs text-gray-600 hover:text-gray-900",children:""}),a.jsx("button",{onClick:()=>xe(T.id,T.project),className:"text-gray-600 hover:text-gray-700",children:a.jsx(_t,{className:"h-4 w-4"})})]})})]},T.id))})]})})]})]}),a.jsxs("div",{className:"md:hidden space-y-3",children:[a.jsx("div",{className:"border-b border-gray-200",children:a.jsx("nav",{className:"flex space-x-4 overflow-x-auto",children:[{id:"pending",label:"",count:ie.pending,color:"text-gray-700"},{id:"in-progress",label:"",count:ie.inProgress,color:"text-gray-700"},{id:"completed",label:"",count:ie.completed,color:"text-gray-700"},{id:"all",label:"",count:ie.total,color:"text-gray-600"}].map(T=>a.jsxs("button",{onClick:()=>m(T.id),className:Cr("py-3 px-1 border-b-2 font-medium text-xs transition-colors whitespace-nowrap",f===T.id?`border-gray-700 ${T.color}`:"border-transparent text-gray-400 hover:text-gray-700 hover:border-gray-300"),children:[T.label,T.count>0&&a.jsx("span",{className:Cr("ml-1 py-0.5 px-1.5 rounded-full text-[10px] font-semibold",f===T.id?"bg-gray-700 text-white":"bg-gray-200 text-gray-600"),children:T.count})]},T.id))})}),a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[a.jsx("h2",{className:"text-base font-semibold text-gray-900 mb-3",children:I?" ":" "}),a.jsxs("form",{onSubmit:ce,className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),a.jsxs("select",{value:g.project,onChange:T=>A({...g,project:T.target.value}),className:"w-full px-3 py-2.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 bg-white cursor-pointer hover:border-gray-400 transition-colors appearance-none bg-[url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20fill%3D%22none%22%20viewBox%3D%220%200%2020%2020%22%3E%3Cpath%20stroke%3D%22%236b7280%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%221.5%22%20d%3D%22M6%208l4%204%204-4%22%2F%3E%3C%2Fsvg%3E')] bg-[length:1.5em_1.5em] bg-[right_0.5rem_center] bg-no-repeat pr-10",children:[a.jsx("option",{value:""}),s.filter(T=>T.status!=="completed").map(T=>a.jsx("option",{value:T.name,children:T.name},T.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),a.jsxs("select",{value:g.requestType,onChange:T=>A({...g,requestType:T.target.value}),className:"w-full px-3 py-2.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 bg-white cursor-pointer hover:border-gray-400 transition-colors appearance-none bg-[url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20fill%3D%22none%22%20viewBox%3D%220%200%2020%2020%22%3E%3Cpath%20stroke%3D%22%236b7280%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%221.5%22%20d%3D%22M6%208l4%204%204-4%22%2F%3E%3C%2Fsvg%3E')] bg-[length:1.5em_1.5em] bg-[right_0.5rem_center] bg-no-repeat pr-10",children:[a.jsx("option",{value:""}),a.jsx("option",{value:"3D",children:"3D"}),a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"",children:""}),a.jsx("option",{value:" ",children:" "}),a.jsx("option",{value:" ",children:" "}),a.jsx("option",{value:" ",children:" "}),a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"",children:""})]}),g.requestType===""&&a.jsx("input",{type:"text",value:O,onChange:T=>R(T.target.value),placeholder:"  ",className:"w-full px-3 py-2.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 mt-2 hover:border-gray-400 transition-colors"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),a.jsx("textarea",{value:g.description,onChange:T=>A({...g,description:T.target.value}),rows:3,className:"w-full px-3 py-2.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 hover:border-gray-400 transition-colors",placeholder:"   "})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" *"}),a.jsx("input",{type:"date",value:g.requestDate,onChange:T=>A({...g,requestDate:T.target.value}),required:!0,className:"w-full px-3 py-2.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 hover:border-gray-400 transition-colors"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" *"}),a.jsx("input",{type:"date",value:g.dueDate,onChange:T=>A({...g,dueDate:T.target.value}),required:!0,className:"w-full px-3 py-2.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 hover:border-gray-400 transition-colors"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" *"}),a.jsxs("select",{value:g.requestedBy,onChange:T=>A({...g,requestedBy:T.target.value}),required:!0,className:"w-full px-3 py-2.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 bg-white cursor-pointer hover:border-gray-400 transition-colors appearance-none bg-[url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20fill%3D%22none%22%20viewBox%3D%220%200%2020%2020%22%3E%3Cpath%20stroke%3D%22%236b7280%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%221.5%22%20d%3D%22M6%208l4%204%204-4%22%2F%3E%3C%2Fsvg%3E')] bg-[length:1.5em_1.5em] bg-[right_0.5rem_center] bg-no-repeat pr-10",children:[a.jsx("option",{value:"",children:""}),$i.map(T=>a.jsx("option",{value:T,children:T},T))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" *"}),a.jsxs("select",{value:g.assignedTo,onChange:T=>A({...g,assignedTo:T.target.value}),required:!0,className:"w-full px-3 py-2.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 bg-white cursor-pointer hover:border-gray-400 transition-colors appearance-none bg-[url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20fill%3D%22none%22%20viewBox%3D%220%200%2020%2020%22%3E%3Cpath%20stroke%3D%22%236b7280%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%221.5%22%20d%3D%22M6%208l4%204%204-4%22%2F%3E%3C%2Fsvg%3E')] bg-[length:1.5em_1.5em] bg-[right_0.5rem_center] bg-no-repeat pr-10",children:[a.jsx("option",{value:"",children:""}),$i.map(T=>a.jsx("option",{value:T,children:T},T))]})]})]}),a.jsx("div",{children:a.jsxs("button",{type:"button",onClick:()=>_(!k),className:`flex items-center justify-center gap-2 px-4 py-2.5 rounded-lg border transition-all w-full text-sm ${k?"bg-rose-50 border-rose-300 text-rose-700":"bg-white border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[a.jsx(Rb,{className:`h-4 w-4 ${k?"text-rose-600":"text-gray-400"}`}),a.jsx("span",{className:"font-medium",children:k?" ":"  "})]})}),a.jsxs("div",{className:"flex gap-2 pt-2",children:[I&&a.jsx("button",{type:"button",onClick:pe,className:"flex-1 px-4 py-2.5 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:""}),a.jsx("button",{type:"submit",className:"flex-1 px-4 py-2.5 text-sm font-medium text-white bg-gray-900 rounded-lg hover:bg-gray-800 transition-colors",children:I?"":""})]})]})]}),F.map(T=>a.jsxs("div",{className:`card p-3 hover:border-gray-400 transition-colors ${T.priority==="high"?"border-2 border-rose-200 bg-rose-50/30":""}`,children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[ye(T.status),ue(T.dueDate),T.priority==="high"&&ve(T.priority)]}),a.jsx("h3",{className:"font-bold text-base text-gray-900",children:T.project}),a.jsx("p",{className:"text-xs text-gray-600 mt-0.5",children:T.requestType})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>re(T),className:"text-xs text-gray-600 hover:text-gray-900 px-2 py-1",children:""}),a.jsx("button",{onClick:()=>xe(T.id,T.project),className:"text-gray-600 hover:text-gray-700 p-1",children:a.jsx(_t,{className:"h-4 w-4"})})]})]}),a.jsxs("div",{className:"space-y-2 text-sm border-t border-gray-100 pt-2",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500",children:" "}),a.jsx("p",{className:"text-gray-900 mt-0.5",children:T.description})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:""}),a.jsx("p",{className:"text-gray-900 font-medium mt-0.5",children:T.requestedBy})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:""}),a.jsx("p",{className:"text-gray-900 font-medium mt-0.5",children:T.assignedTo})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2 pt-1",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500 mb-1",children:""}),a.jsx("p",{className:"text-xs text-gray-900",children:_e(T.requestDate,"MM.dd (eee)",{locale:tt})})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500 mb-1",children:""}),a.jsx("p",{className:"text-xs text-gray-900",children:_e(T.dueDate,"MM.dd (eee)",{locale:tt})})]})]}),a.jsx("div",{className:"flex items-center justify-between pt-1",children:a.jsxs("div",{className:"text-xs",children:[a.jsx("span",{className:"text-gray-500",children:": "}),ve(T.priority)]})})]}),a.jsxs("div",{className:"flex gap-2 mt-3 pt-3 border-t border-gray-100",children:[T.status==="pending"&&a.jsx("button",{onClick:()=>ae(T.id,"in-progress"),className:"flex-1 px-3 py-2 text-xs font-semibold text-white rounded-lg transition-colors bg-gray-600 hover:bg-gray-700",children:""}),T.status==="in-progress"&&a.jsx("button",{onClick:()=>ae(T.id,"completed"),className:"flex-1 px-3 py-2 text-xs font-semibold bg-gray-900 text-white rounded-lg hover:bg-gray-800 transition-colors",children:""}),T.status==="completed"&&a.jsx("div",{className:"flex-1 text-center text-xs text-gray-500 py-2",children:" "})]})]},T.id))]})]})},Ste=()=>{const{user:e}=Gs(),[t,r]=w.useState([]),[n,s]=w.useState(null),[i,o]=w.useState([]),[l,c]=w.useState(null),[u,d]=w.useState(!0),[f,m]=w.useState(""),[v,p]=w.useState(""),[h,j]=w.useState(null),[x,b]=w.useState(""),[N,g]=w.useState(null),[A,k]=w.useState(""),[_,O]=w.useState(!1),[R,I]=w.useState(null),[V,Z]=w.useState(new Set),Q=w.useRef(null),[G,xe]=w.useState(window.innerWidth<768),[re,pe]=w.useState(!1);w.useEffect(()=>{ce(),q();const y=()=>{xe(window.innerWidth<768)};return window.addEventListener("resize",y),()=>window.removeEventListener("resize",y)},[]),w.useEffect(()=>{n!==null&&q()},[n]),w.useEffect(()=>{n!==null&&(e!=null&&e.id)&&localStorage.setItem(`finishCheck_selectedProject_${e.id}`,n.toString())},[n,e==null?void 0:e.id]),w.useEffect(()=>{l!==null&&(e!=null&&e.id)&&localStorage.setItem(`finishCheck_selectedSpace_${e.id}`,l.toString())},[l,e==null?void 0:e.id]),w.useEffect(()=>{if(!G&&R){const y=async C=>{var D;const S=(D=C.clipboardData)==null?void 0:D.items;if(S){for(let P=0;P<S.length;P++)if(S[P].type.indexOf("image")!==-1){C.preventDefault();const K=S[P].getAsFile();K&&await F(R,K)}}};return document.addEventListener("paste",y),()=>document.removeEventListener("paste",y)}},[R,G]);const ce=async()=>{try{const y=await Ee.get("/specbook/projects");r(y.data);const C=e!=null&&e.id?localStorage.getItem(`finishCheck_selectedProject_${e.id}`):null;C&&y.data.some(S=>S.id===Number(C))?s(Number(C)):y.data.length>0&&s(y.data[0].id)}catch(y){console.error("Failed to load projects:",y),z.error("   ")}},q=async()=>{try{d(!0);const y=n?`/finish-check/spaces?project_id=${n}`:"/finish-check/spaces",S=(await Ee.get(y)).data.map(P=>({...P,items:P.items.map(K=>({...K,images:K.images||[]}))}));o(S);const D=e!=null&&e.id?localStorage.getItem(`finishCheck_selectedSpace_${e.id}`):null;if(D){const P=Number(D);if(P===-1||S.some(K=>K.id===P)){c(P);return}}S.length>0&&l===null&&c(S[0].id)}catch(y){console.error("Failed to load spaces:",y),z.error("   ")}finally{d(!1)}},oe=async()=>{if(!f.trim()){z.error("  ");return}if(!n){z.error(" ");return}try{const y=await Ee.post("/finish-check/spaces",{name:f.trim(),project_id:n});o([...i,y.data]),m(""),z.success(" "),i.length===0&&c(y.data.id)}catch(y){console.error("Failed to add space:",y),z.error("  ")}},J=async(y,C)=>{if(!C.trim()){z.error("  ");return}try{await Ee.put(`/finish-check/spaces/${y}`,{name:C.trim()}),o(i.map(S=>S.id===y?{...S,name:C.trim()}:S)),j(null),b(""),z.success("  ")}catch(S){console.error("Failed to update space:",S),z.error("  ")}},H=async(y,C)=>{if(confirm(`"${C}"  ?

        .`))try{await Ee.delete(`/finish-check/spaces/${y}`);const S=i.filter(D=>D.id!==y);o(S),l===y&&c(S.length>0?S[0].id:null),z.success(" ")}catch(S){console.error("Failed to delete space:",S),z.error("  ")}},ae=async()=>{if(!l){z.error(" ");return}if(!v.trim()){z.error("  ");return}try{const y=await Ee.post("/finish-check/items",{space_id:l,content:v.trim()});o(i.map(C=>C.id===l?{...C,items:[...C.items,{...y.data,images:[]}]}:C)),p(""),z.success(" ")}catch(y){console.error("Failed to add item:",y),z.error("  ")}},ye=async y=>{try{const C=await Ee.put(`/finish-check/items/${y}/toggle`);o(i.map(S=>({...S,items:S.items.map(D=>D.id===y?{...D,...C.data}:D)})))}catch(C){console.error("Failed to toggle item:",C),z.error("   ")}},ve=async y=>{try{const C=await Ee.put(`/finish-check/items/${y}/toggle-priority`);o(i.map(S=>({...S,items:S.items.map(D=>D.id===y?{...D,is_priority:C.data.is_priority}:D)})))}catch(C){console.error("Failed to toggle priority:",C),z.error("  ")}},te=async(y,C)=>{if(!C.trim()){z.error("  ");return}try{await Ee.put(`/finish-check/items/${y}`,{content:C.trim()}),o(i.map(S=>({...S,items:S.items.map(D=>D.id===y?{...D,content:C.trim()}:D)}))),g(null),k(""),z.success(" ")}catch(S){console.error("Failed to update item:",S),z.error("  ")}},ue=async y=>{if(confirm("  ?"))try{await Ee.delete(`/finish-check/items/${y}`),o(i.map(C=>({...C,items:C.items.filter(S=>S.id!==y)}))),R===y&&I(null),z.success(" ")}catch(C){console.error("Failed to delete item:",C),z.error("  ")}},Ne=y=>new Promise((C,S)=>{const D=new FileReader;D.readAsDataURL(y),D.onload=()=>C(D.result),D.onerror=P=>S(P)}),F=async(y,C)=>{var P,K;if(!["image/jpeg","image/png","image/webp"].includes(C.type)){z.error("JPEG, PNG, WebP    ");return}const D=5*1024*1024;if(C.size>D){z.error("  5MB  ");return}try{Z(X=>new Set([...X,y]));const ne=await Ne(C),E=await Ee.post(`/finish-check/items/${y}/images`,{image_data:ne,filename:C.name});o(i.map(X=>({...X,items:X.items.map(B=>B.id===y?{...B,images:[...B.images,E.data]}:B)}))),z.success(" ")}catch(ne){console.error("Failed to upload image:",ne),z.error(((K=(P=ne.response)==null?void 0:P.data)==null?void 0:K.error)||"  ")}finally{Z(ne=>{const E=new Set(ne);return E.delete(y),E})}},ie=async(y,C)=>{const S=C.target.files;if(!(!S||S.length===0)){for(let D=0;D<S.length;D++)await F(y,S[D]);Q.current&&(Q.current.value="")}},T=async(y,C)=>{if(confirm("  ?"))try{await Ee.delete(`/finish-check/images/${C}`),o(i.map(S=>({...S,items:S.items.map(D=>D.id===y?{...D,images:D.images.filter(P=>P.id!==C)}:D)}))),z.success(" ")}catch(S){console.error("Failed to delete image:",S),z.error("  ")}},W=async(y,C)=>{y.preventDefault(),y.stopPropagation();const S=y.dataTransfer.files;if(!(!S||S.length===0))for(let D=0;D<S.length;D++)S[D].type.startsWith("image/")&&await F(C,S[D])},Y=y=>{y.preventDefault(),y.stopPropagation()},ee=i.find(y=>y.id===l),Te=((ee==null?void 0:ee.items.filter(y=>!y.is_completed))||[]).sort((y,C)=>(C.is_priority||0)-(y.is_priority||0)),we=(ee==null?void 0:ee.items.filter(y=>y.is_completed))||[];if(u)return a.jsx("div",{className:"flex items-center justify-center h-[calc(100vh-120px)]",children:a.jsx("div",{className:"text-gray-500",children:" ..."})});const M=R?i.flatMap(y=>y.items).find(y=>y.id===R):null;return a.jsxs("div",{className:"h-[calc(100vh-120px)] flex flex-col md:flex-row gap-4 overflow-hidden",children:[a.jsx("input",{ref:Q,type:"file",accept:"image/jpeg,image/png,image/webp",multiple:!0,className:"hidden",onChange:y=>{R&&ie(R,y)}}),a.jsxs("div",{className:`w-full md:w-64 lg:w-80 flex-shrink-0 bg-white border border-gray-200 rounded-lg overflow-hidden flex flex-col ${_?"hidden md:flex":"flex"}`,children:[a.jsxs("div",{className:"p-4 border-b border-gray-200",children:[a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),a.jsxs("select",{value:n||"",onChange:y=>{const C=y.target.value?Number(y.target.value):null;s(C),c(null)},className:"w-full px-3 py-2.5 md:py-2 text-sm md:text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 bg-white cursor-pointer hover:border-gray-400 transition-colors appearance-none bg-[url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20fill%3D%22none%22%20viewBox%3D%220%200%2020%2020%22%3E%3Cpath%20stroke%3D%22%236b7280%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%221.5%22%20d%3D%22M6%208l4%204%204-4%22%2F%3E%3C%2Fsvg%3E')] bg-[length:1.5em_1.5em] bg-[right_0.5rem_center] bg-no-repeat pr-10",children:[a.jsx("option",{value:"",children:" "}),t.map(y=>a.jsx("option",{value:y.id,children:y.title},y.id))]})]}),a.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-3",children:" "}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:f,onChange:y=>m(y.target.value),onKeyPress:y=>{y.key==="Enter"&&oe()},placeholder:" ",className:"flex-1 px-3 py-2.5 md:py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"}),a.jsx("button",{onClick:oe,className:"px-3 py-2.5 md:p-2 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors flex items-center justify-center min-w-[44px]",title:" ",children:a.jsx(Os,{className:"w-5 h-5"})})]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto",children:i.length===0?a.jsx("div",{className:"p-4 text-center text-sm text-gray-500",children:" "}):a.jsxs("div",{className:"divide-y divide-gray-200",children:[a.jsx("div",{className:`p-4 hover:bg-gray-50 transition-colors cursor-pointer ${l===-1?"bg-gray-100 border-l-4 border-gray-800":""}`,onClick:()=>{c(-1),O(!0)},children:a.jsx("div",{className:"flex items-center justify-between",children:a.jsx("div",{className:"flex-1 min-w-0",children:a.jsx("h3",{className:"font-medium text-gray-900",children:" "})})})}),i.map(y=>a.jsx("div",{className:`p-4 hover:bg-gray-50 transition-colors cursor-pointer ${l===y.id?"bg-gray-100 border-l-4 border-gray-800":""}`,onClick:()=>{c(y.id),O(!0)},children:h===y.id?a.jsxs("div",{className:"flex gap-2",onClick:C=>C.stopPropagation(),children:[a.jsx("input",{type:"text",value:x,onChange:C=>b(C.target.value),onKeyPress:C=>{C.key==="Enter"?J(y.id,x):C.key==="Escape"&&(j(null),b(""))},className:"flex-1 px-2 py-1 text-sm border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-gray-500",autoFocus:!0}),a.jsx("button",{onClick:()=>J(y.id,x),className:"p-1 text-green-600 hover:text-green-700",children:a.jsx(Td,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>{j(null),b("")},className:"p-1 text-gray-600 hover:text-gray-700",children:a.jsx(rt,{className:"w-4 h-4"})})]}):a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"font-medium text-gray-900 truncate",children:y.name}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[y.items.filter(C=>C.is_completed).length," / ",y.items.length," "]})]}),a.jsxs("div",{className:"flex items-center gap-1 ml-2",onClick:C=>C.stopPropagation(),children:[a.jsx("button",{onClick:()=>{j(y.id),b(y.name)},className:"p-1 text-gray-600 hover:text-gray-800 transition-colors",title:"",children:a.jsx(Hl,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>H(y.id,y.name),className:"p-1 text-red-500 hover:text-red-700 transition-colors",title:"",children:a.jsx(_t,{className:"w-4 h-4"})})]})]})},y.id))]})})]}),a.jsx("div",{className:`flex-1 bg-white border border-gray-200 rounded-lg overflow-hidden flex flex-col ${_?"flex":"hidden md:flex"}`,children:l===-1?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"p-4 border-b border-gray-200",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>O(!1),className:"md:hidden p-2 -ml-2 text-gray-600 hover:text-gray-900 transition-colors",children:a.jsx(Mb,{className:"w-5 h-5"})}),a.jsx("h2",{className:"text-lg font-bold text-gray-900",children:" "}),a.jsxs("span",{className:"px-3 py-1 bg-gray-100 text-gray-700 text-sm font-semibold rounded-full",children:[i.reduce((y,C)=>y+C.items.filter(S=>S.is_completed).length,0)," / ",i.reduce((y,C)=>y+C.items.length,0)," "]})]})}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[a.jsx("div",{className:"columns-1 md:columns-4 gap-4",children:i.map((y,C)=>{const S=y.items.filter(P=>!P.is_completed).sort((P,K)=>(K.is_priority||0)-(P.is_priority||0)),D=y.items.filter(P=>P.is_completed);return y.items.length===0?null:a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50 mb-2 break-inside-avoid",children:[a.jsxs("h3",{className:"text-base font-bold text-gray-900 mb-4 pb-2 border-b border-gray-300 flex items-center gap-2",children:[a.jsx("span",{className:"inline-flex items-center justify-center w-6 h-6 bg-gray-800 text-white text-xs font-bold rounded-full",children:C+1}),y.name]}),S.length>0&&a.jsxs("div",{className:"mb-4",children:[a.jsxs("h4",{className:"text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[a.jsx("span",{className:"w-2 h-2 bg-red-500 rounded-full"})," (",S.length,")"]}),a.jsx("div",{className:"space-y-2",children:S.map(P=>a.jsxs("div",{className:"flex items-start gap-3 p-3 bg-white border border-gray-200 rounded-lg",children:[a.jsx("input",{type:"checkbox",checked:!1,onChange:()=>ye(P.id),className:"mt-1 w-5 h-5 rounded border-gray-300 text-gray-800 focus:ring-gray-500 cursor-pointer"}),a.jsx("span",{className:"flex-1 text-sm text-gray-900",children:P.content}),a.jsx("button",{onClick:()=>ve(P.id),className:`p-1 transition-colors ${P.is_priority?"text-yellow-500 hover:text-yellow-600":"text-gray-300 hover:text-gray-400"}`,title:"",children:a.jsx(Gu,{className:`w-4 h-4 ${P.is_priority?"fill-current":""}`})})]},P.id))})]}),D.length>0&&a.jsxs("div",{children:[a.jsxs("h4",{className:"text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[a.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"})," (",D.length,")"]}),a.jsx("div",{className:"space-y-2",children:D.map(P=>a.jsxs("div",{className:"flex items-start gap-3 p-3 bg-white border border-gray-200 rounded-lg",children:[a.jsx("input",{type:"checkbox",checked:!0,onChange:()=>ye(P.id),className:"mt-1 w-5 h-5 rounded border-gray-300 text-gray-800 focus:ring-gray-500 cursor-pointer"}),a.jsx("span",{className:"flex-1 text-sm text-gray-500 line-through",children:P.content}),a.jsx("button",{onClick:()=>ve(P.id),className:`p-1 transition-colors ${P.is_priority?"text-yellow-500 hover:text-yellow-600":"text-gray-300 hover:text-gray-400"}`,title:"",children:a.jsx(Gu,{className:`w-4 h-4 ${P.is_priority?"fill-current":""}`})})]},P.id))})]})]},y.id)})}),i.every(y=>y.items.length===0)&&a.jsx("div",{className:"flex items-center justify-center h-full text-gray-500 text-sm",children:"   "})]})]}):ee?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"p-4 border-b border-gray-200",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx("button",{onClick:()=>O(!1),className:"md:hidden p-2 -ml-2 text-gray-600 hover:text-gray-900 transition-colors",children:a.jsx(Mb,{className:"w-5 h-5"})}),a.jsxs("h2",{className:"text-lg font-bold text-gray-900",children:[ee.name," - "]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:v,onChange:y=>p(y.target.value),onKeyPress:y=>{y.key==="Enter"&&ae()},placeholder:"  ",className:"flex-1 px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"}),a.jsx("button",{onClick:ae,className:"px-4 py-2 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors text-sm font-medium",children:""})]})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-6",children:[Te.length>0&&a.jsxs("div",{children:[a.jsxs("h3",{className:"text-sm font-semibold text-gray-700 mb-3 flex items-center gap-2",children:[a.jsx("span",{className:"w-2 h-2 bg-red-500 rounded-full"})," (",Te.length,")"]}),a.jsx("div",{className:"space-y-2",children:Te.map(y=>a.jsxs("div",{className:"flex items-start gap-3 p-3 bg-white border border-gray-200 rounded-lg hover:border-gray-300 transition-colors",children:[a.jsx("input",{type:"checkbox",checked:!1,onChange:()=>ye(y.id),className:"mt-1 w-5 h-5 rounded border-gray-300 text-gray-800 focus:ring-gray-500 cursor-pointer"}),N===y.id?a.jsxs("div",{className:"flex-1 flex gap-2",children:[a.jsx("input",{type:"text",value:A,onChange:C=>k(C.target.value),onKeyPress:C=>{C.key==="Enter"?te(y.id,A):C.key==="Escape"&&(g(null),k(""))},className:"flex-1 px-2 py-1 text-sm border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-gray-500",autoFocus:!0}),a.jsx("button",{onClick:()=>te(y.id,A),className:"p-1 text-green-600 hover:text-green-700",children:a.jsx(Td,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>{g(null),k("")},className:"p-1 text-gray-600 hover:text-gray-700",children:a.jsx(rt,{className:"w-4 h-4"})})]}):a.jsxs(a.Fragment,{children:[a.jsxs("span",{className:`flex-1 text-sm text-gray-900 ${!G&&R===y.id?"font-semibold":""}`,onClick:()=>!G&&I(y.id),style:{cursor:G?"default":"pointer"},children:[y.content,y.images.length>0&&a.jsxs("span",{className:"ml-2 text-xs text-gray-500",children:["(",y.images.length,")"]})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("button",{onClick:()=>ve(y.id),className:`p-1 transition-colors ${y.is_priority?"text-yellow-500 hover:text-yellow-600":"text-gray-300 hover:text-gray-400"}`,title:"",children:a.jsx(Gu,{className:`w-4 h-4 ${y.is_priority?"fill-current":""}`})}),a.jsx("button",{onClick:()=>{I(y.id),G&&pe(!0)},className:`p-1 transition-colors ${y.images.length>0?"text-blue-600 hover:text-blue-800":"text-gray-300 hover:text-gray-400"}`,title:"",children:a.jsx(As,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>{g(y.id),k(y.content)},className:"p-1 text-gray-600 hover:text-gray-800 transition-colors",title:"",children:a.jsx(Hl,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>ue(y.id),className:"p-1 text-red-500 hover:text-red-700 transition-colors",title:"",children:a.jsx(_t,{className:"w-4 h-4"})})]})]})]},y.id))})]}),we.length>0&&a.jsxs("div",{children:[a.jsxs("h3",{className:"text-sm font-semibold text-gray-700 mb-3 flex items-center gap-2",children:[a.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"})," (",we.length,")"]}),a.jsx("div",{className:"space-y-2",children:we.map(y=>a.jsxs("div",{className:"flex items-start gap-3 p-3 bg-gray-50 border border-gray-200 rounded-lg hover:border-gray-300 transition-colors",children:[a.jsx("input",{type:"checkbox",checked:!0,onChange:()=>ye(y.id),className:"mt-1 w-5 h-5 rounded border-gray-300 text-gray-800 focus:ring-gray-500 cursor-pointer"}),N===y.id?a.jsxs("div",{className:"flex-1 flex gap-2",children:[a.jsx("input",{type:"text",value:A,onChange:C=>k(C.target.value),onKeyPress:C=>{C.key==="Enter"?te(y.id,A):C.key==="Escape"&&(g(null),k(""))},className:"flex-1 px-2 py-1 text-sm border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-gray-500",autoFocus:!0}),a.jsx("button",{onClick:()=>te(y.id,A),className:"p-1 text-green-600 hover:text-green-700",children:a.jsx(Td,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>{g(null),k("")},className:"p-1 text-gray-600 hover:text-gray-700",children:a.jsx(rt,{className:"w-4 h-4"})})]}):a.jsxs(a.Fragment,{children:[a.jsxs("span",{className:`flex-1 text-sm text-gray-500 line-through ${!G&&R===y.id?"font-semibold":""}`,onClick:()=>!G&&I(y.id),style:{cursor:G?"default":"pointer"},children:[y.content,y.images.length>0&&a.jsxs("span",{className:"ml-2 text-xs text-gray-500",children:["(",y.images.length,")"]})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("button",{onClick:()=>ve(y.id),className:`p-1 transition-colors ${y.is_priority?"text-yellow-500 hover:text-yellow-600":"text-gray-300 hover:text-gray-400"}`,title:"",children:a.jsx(Gu,{className:`w-4 h-4 ${y.is_priority?"fill-current":""}`})}),a.jsx("button",{onClick:()=>{I(y.id),G&&pe(!0)},className:`p-1 transition-colors ${y.images.length>0?"text-blue-600 hover:text-blue-800":"text-gray-300 hover:text-gray-400"}`,title:"",children:a.jsx(As,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>{g(y.id),k(y.content)},className:"p-1 text-gray-600 hover:text-gray-800 transition-colors",title:"",children:a.jsx(Hl,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>ue(y.id),className:"p-1 text-red-500 hover:text-red-700 transition-colors",title:"",children:a.jsx(_t,{className:"w-4 h-4"})})]})]})]},y.id))})]}),Te.length===0&&we.length===0&&a.jsx("div",{className:"flex items-center justify-center h-full text-gray-500 text-sm",children:"  "})]})]}):a.jsx("div",{className:"flex items-center justify-center h-full text-gray-500 text-sm",children:"  "})}),!G&&R&&M&&a.jsxs("div",{className:"w-80 bg-white border border-gray-200 rounded-lg overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"p-4 border-b border-gray-200 bg-gray-50",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:""}),a.jsx("button",{onClick:()=>I(null),className:"p-1 text-gray-600 hover:text-gray-900 transition-colors",title:"",children:a.jsx(rt,{className:"w-4 h-4"})})]}),a.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:M.content}),a.jsxs("button",{onClick:()=>{var y;return(y=Q.current)==null?void 0:y.click()},disabled:V.has(R),className:"w-full px-3 py-2 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors text-sm font-medium flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[a.jsx(Ra,{className:"w-4 h-4"}),V.has(R)?" ...":" "]}),a.jsx("p",{className:"text-xs text-gray-500 mt-2 text-center",children:"    , Ctrl+V "})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-4",onDrop:y=>W(y,R),onDragOver:Y,children:M.images.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-400 text-sm",children:[a.jsx(As,{className:"w-12 h-12 mb-2"}),a.jsx("p",{children:" "})]}):a.jsx("div",{className:"grid grid-cols-2 gap-3",children:M.images.map(y=>a.jsxs("div",{className:"relative group",children:[a.jsx("img",{src:y.image_data,alt:y.filename||"",className:"w-full h-32 object-cover rounded-lg border border-gray-200"}),a.jsx("button",{onClick:()=>T(R,y.id),className:"absolute top-1 right-1 p-1 bg-red-500 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-600",title:"",children:a.jsx(Ib,{className:"w-4 h-4"})}),y.filename&&a.jsx("p",{className:"text-xs text-gray-500 mt-1 truncate",title:y.filename,children:y.filename})]},y.id))})})]}),G&&re&&R&&M&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-end justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-t-2xl w-full max-h-[80vh] flex flex-col",children:[a.jsxs("div",{className:"p-4 border-b border-gray-200",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:""}),a.jsx("button",{onClick:()=>{pe(!1),I(null)},className:"p-1 text-gray-600 hover:text-gray-900",children:a.jsx(rt,{className:"w-5 h-5"})})]}),a.jsx("p",{className:"text-sm text-gray-600 mb-3",children:M.content}),a.jsxs("button",{onClick:()=>{var y;return(y=Q.current)==null?void 0:y.click()},disabled:V.has(R),className:"w-full px-4 py-2 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors text-sm font-medium flex items-center justify-center gap-2 disabled:opacity-50",children:[a.jsx(Ra,{className:"w-4 h-4"}),V.has(R)?" ...":" "]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:M.images.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-400",children:[a.jsx(As,{className:"w-16 h-16 mb-2"}),a.jsx("p",{className:"text-sm",children:" "})]}):a.jsx("div",{className:"grid grid-cols-2 gap-3",children:M.images.map(y=>a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:y.image_data,alt:y.filename||"",className:"w-full h-40 object-cover rounded-lg border border-gray-200"}),a.jsx("button",{onClick:()=>T(R,y.id),className:"absolute top-2 right-2 p-1.5 bg-red-500 text-white rounded-full hover:bg-red-600",children:a.jsx(Ib,{className:"w-4 h-4"})}),y.filename&&a.jsx("p",{className:"text-xs text-gray-500 mt-1 truncate",title:y.filename,children:y.filename})]},y.id))})})]})})]})};function kte(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return w.useMemo(()=>n=>{t.forEach(s=>s(n))},t)}const th=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function sl(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function M0(e){return"nodeType"in e}function Vr(e){var t,r;return e?sl(e)?e:M0(e)&&(t=(r=e.ownerDocument)==null?void 0:r.defaultView)!=null?t:window:window}function O0(e){const{Document:t}=Vr(e);return e instanceof t}function bu(e){return sl(e)?!1:e instanceof Vr(e).HTMLElement}function UC(e){return e instanceof Vr(e).SVGElement}function al(e){return e?sl(e)?e.document:M0(e)?O0(e)?e:bu(e)||UC(e)?e.ownerDocument:document:document:document}const hs=th?w.useLayoutEffect:w.useEffect;function I0(e){const t=w.useRef(e);return hs(()=>{t.current=e}),w.useCallback(function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return t.current==null?void 0:t.current(...n)},[])}function Dte(){const e=w.useRef(null),t=w.useCallback((n,s)=>{e.current=setInterval(n,s)},[]),r=w.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,r]}function $c(e,t){t===void 0&&(t=[e]);const r=w.useRef(e);return hs(()=>{r.current!==e&&(r.current=e)},t),r}function wu(e,t){const r=w.useRef();return w.useMemo(()=>{const n=e(r.current);return r.current=n,n},[...t])}function Ff(e){const t=I0(e),r=w.useRef(null),n=w.useCallback(s=>{s!==r.current&&(t==null||t(s,r.current)),r.current=s},[]);return[r,n]}function ny(e){const t=w.useRef();return w.useEffect(()=>{t.current=e},[e]),t.current}let up={};function Nu(e,t){return w.useMemo(()=>{if(t)return t;const r=up[e]==null?0:up[e]+1;return up[e]=r,e+"-"+r},[e,t])}function VC(e){return function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),s=1;s<r;s++)n[s-1]=arguments[s];return n.reduce((i,o)=>{const l=Object.entries(o);for(const[c,u]of l){const d=i[c];d!=null&&(i[c]=d+e*u)}return i},{...t})}}const uo=VC(1),Lc=VC(-1);function Cte(e){return"clientX"in e&&"clientY"in e}function $0(e){if(!e)return!1;const{KeyboardEvent:t}=Vr(e.target);return t&&e instanceof t}function Ete(e){if(!e)return!1;const{TouchEvent:t}=Vr(e.target);return t&&e instanceof t}function sy(e){if(Ete(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:r}=e.touches[0];return{x:t,y:r}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:r}=e.changedTouches[0];return{x:t,y:r}}}return Cte(e)?{x:e.clientX,y:e.clientY}:null}const Oo=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:r}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(r?Math.round(r):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:r}=e;return"scaleX("+t+") scaleY("+r+")"}},Transform:{toString(e){if(e)return[Oo.Translate.toString(e),Oo.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:r,easing:n}=e;return t+" "+r+"ms "+n}}}),UN="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function Ate(e){return e.matches(UN)?e:e.querySelector(UN)}const Tte={display:"none"};function _te(e){let{id:t,value:r}=e;return U.createElement("div",{id:t,style:Tte},r)}function Pte(e){let{id:t,announcement:r,ariaLiveType:n="assertive"}=e;const s={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return U.createElement("div",{id:t,style:s,role:"status","aria-live":n,"aria-atomic":!0},r)}function Rte(){const[e,t]=w.useState("");return{announce:w.useCallback(n=>{n!=null&&t(n)},[]),announcement:e}}const zC=w.createContext(null);function Mte(e){const t=w.useContext(zC);w.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function Ote(){const[e]=w.useState(()=>new Set),t=w.useCallback(n=>(e.add(n),()=>e.delete(n)),[e]);return[w.useCallback(n=>{let{type:s,event:i}=n;e.forEach(o=>{var l;return(l=o[s])==null?void 0:l.call(o,i)})},[e]),t]}const Ite={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},$te={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was moved over droppable area "+r.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was dropped over droppable area "+r.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function Lte(e){let{announcements:t=$te,container:r,hiddenTextDescribedById:n,screenReaderInstructions:s=Ite}=e;const{announce:i,announcement:o}=Rte(),l=Nu("DndLiveRegion"),[c,u]=w.useState(!1);if(w.useEffect(()=>{u(!0)},[]),Mte(w.useMemo(()=>({onDragStart(f){let{active:m}=f;i(t.onDragStart({active:m}))},onDragMove(f){let{active:m,over:v}=f;t.onDragMove&&i(t.onDragMove({active:m,over:v}))},onDragOver(f){let{active:m,over:v}=f;i(t.onDragOver({active:m,over:v}))},onDragEnd(f){let{active:m,over:v}=f;i(t.onDragEnd({active:m,over:v}))},onDragCancel(f){let{active:m,over:v}=f;i(t.onDragCancel({active:m,over:v}))}}),[i,t])),!c)return null;const d=U.createElement(U.Fragment,null,U.createElement(_te,{id:n,value:s.draggable}),U.createElement(Pte,{id:l,announcement:o}));return r?Za.createPortal(d,r):d}var Kt;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(Kt||(Kt={}));function Bf(){}function VN(e,t){return w.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function Fte(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return w.useMemo(()=>[...t].filter(n=>n!=null),[...t])}const Fn=Object.freeze({x:0,y:0});function YC(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function qC(e,t){let{data:{value:r}}=e,{data:{value:n}}=t;return r-n}function Bte(e,t){let{data:{value:r}}=e,{data:{value:n}}=t;return n-r}function zN(e){let{left:t,top:r,height:n,width:s}=e;return[{x:t,y:r},{x:t+s,y:r},{x:t,y:r+n},{x:t+s,y:r+n}]}function GC(e,t){if(!e||e.length===0)return null;const[r]=e;return r[t]}function YN(e,t,r){return t===void 0&&(t=e.left),r===void 0&&(r=e.top),{x:t+e.width*.5,y:r+e.height*.5}}const dp=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:n}=e;const s=YN(t,t.left,t.top),i=[];for(const o of n){const{id:l}=o,c=r.get(l);if(c){const u=YC(YN(c),s);i.push({id:l,data:{droppableContainer:o,value:u}})}}return i.sort(qC)},Wte=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:n}=e;const s=zN(t),i=[];for(const o of n){const{id:l}=o,c=r.get(l);if(c){const u=zN(c),d=s.reduce((m,v,p)=>m+YC(u[p],v),0),f=Number((d/4).toFixed(4));i.push({id:l,data:{droppableContainer:o,value:f}})}}return i.sort(qC)};function Hte(e,t){const r=Math.max(t.top,e.top),n=Math.max(t.left,e.left),s=Math.min(t.left+t.width,e.left+e.width),i=Math.min(t.top+t.height,e.top+e.height),o=s-n,l=i-r;if(n<s&&r<i){const c=t.width*t.height,u=e.width*e.height,d=o*l,f=d/(c+u-d);return Number(f.toFixed(4))}return 0}const Ute=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:n}=e;const s=[];for(const i of n){const{id:o}=i,l=r.get(o);if(l){const c=Hte(l,t);c>0&&s.push({id:o,data:{droppableContainer:i,value:c}})}}return s.sort(Bte)};function Vte(e,t,r){return{...e,scaleX:t&&r?t.width/r.width:1,scaleY:t&&r?t.height/r.height:1}}function KC(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Fn}function zte(e){return function(r){for(var n=arguments.length,s=new Array(n>1?n-1:0),i=1;i<n;i++)s[i-1]=arguments[i];return s.reduce((o,l)=>({...o,top:o.top+e*l.y,bottom:o.bottom+e*l.y,left:o.left+e*l.x,right:o.right+e*l.x}),{...r})}}const Yte=zte(1);function qte(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function Gte(e,t,r){const n=qte(t);if(!n)return e;const{scaleX:s,scaleY:i,x:o,y:l}=n,c=e.left-o-(1-s)*parseFloat(r),u=e.top-l-(1-i)*parseFloat(r.slice(r.indexOf(" ")+1)),d=s?e.width/s:e.width,f=i?e.height/i:e.height;return{width:d,height:f,top:u,right:c+d,bottom:u+f,left:c}}const Kte={ignoreTransform:!1};function il(e,t){t===void 0&&(t=Kte);let r=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:u,transformOrigin:d}=Vr(e).getComputedStyle(e);u&&(r=Gte(r,u,d))}const{top:n,left:s,width:i,height:o,bottom:l,right:c}=r;return{top:n,left:s,width:i,height:o,bottom:l,right:c}}function qN(e){return il(e,{ignoreTransform:!0})}function Qte(e){const t=e.innerWidth,r=e.innerHeight;return{top:0,left:0,right:t,bottom:r,width:t,height:r}}function Xte(e,t){return t===void 0&&(t=Vr(e).getComputedStyle(e)),t.position==="fixed"}function Jte(e,t){t===void 0&&(t=Vr(e).getComputedStyle(e));const r=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(s=>{const i=t[s];return typeof i=="string"?r.test(i):!1})}function rh(e,t){const r=[];function n(s){if(t!=null&&r.length>=t||!s)return r;if(O0(s)&&s.scrollingElement!=null&&!r.includes(s.scrollingElement))return r.push(s.scrollingElement),r;if(!bu(s)||UC(s)||r.includes(s))return r;const i=Vr(e).getComputedStyle(s);return s!==e&&Jte(s,i)&&r.push(s),Xte(s,i)?r:n(s.parentNode)}return e?n(e):r}function QC(e){const[t]=rh(e,1);return t??null}function fp(e){return!th||!e?null:sl(e)?e:M0(e)?O0(e)||e===al(e).scrollingElement?window:bu(e)?e:null:null}function XC(e){return sl(e)?e.scrollX:e.scrollLeft}function JC(e){return sl(e)?e.scrollY:e.scrollTop}function ay(e){return{x:XC(e),y:JC(e)}}var ar;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(ar||(ar={}));function ZC(e){return!th||!e?!1:e===document.scrollingElement}function eE(e){const t={x:0,y:0},r=ZC(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},n={x:e.scrollWidth-r.width,y:e.scrollHeight-r.height},s=e.scrollTop<=t.y,i=e.scrollLeft<=t.x,o=e.scrollTop>=n.y,l=e.scrollLeft>=n.x;return{isTop:s,isLeft:i,isBottom:o,isRight:l,maxScroll:n,minScroll:t}}const Zte={x:.2,y:.2};function ere(e,t,r,n,s){let{top:i,left:o,right:l,bottom:c}=r;n===void 0&&(n=10),s===void 0&&(s=Zte);const{isTop:u,isBottom:d,isLeft:f,isRight:m}=eE(e),v={x:0,y:0},p={x:0,y:0},h={height:t.height*s.y,width:t.width*s.x};return!u&&i<=t.top+h.height?(v.y=ar.Backward,p.y=n*Math.abs((t.top+h.height-i)/h.height)):!d&&c>=t.bottom-h.height&&(v.y=ar.Forward,p.y=n*Math.abs((t.bottom-h.height-c)/h.height)),!m&&l>=t.right-h.width?(v.x=ar.Forward,p.x=n*Math.abs((t.right-h.width-l)/h.width)):!f&&o<=t.left+h.width&&(v.x=ar.Backward,p.x=n*Math.abs((t.left+h.width-o)/h.width)),{direction:v,speed:p}}function tre(e){if(e===document.scrollingElement){const{innerWidth:i,innerHeight:o}=window;return{top:0,left:0,right:i,bottom:o,width:i,height:o}}const{top:t,left:r,right:n,bottom:s}=e.getBoundingClientRect();return{top:t,left:r,right:n,bottom:s,width:e.clientWidth,height:e.clientHeight}}function tE(e){return e.reduce((t,r)=>uo(t,ay(r)),Fn)}function rre(e){return e.reduce((t,r)=>t+XC(r),0)}function nre(e){return e.reduce((t,r)=>t+JC(r),0)}function sre(e,t){if(t===void 0&&(t=il),!e)return;const{top:r,left:n,bottom:s,right:i}=t(e);QC(e)&&(s<=0||i<=0||r>=window.innerHeight||n>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const are=[["x",["left","right"],rre],["y",["top","bottom"],nre]];class L0{constructor(t,r){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const n=rh(r),s=tE(n);this.rect={...t},this.width=t.width,this.height=t.height;for(const[i,o,l]of are)for(const c of o)Object.defineProperty(this,c,{get:()=>{const u=l(n),d=s[i]-u;return this.rect[c]+d},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Kl{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(r=>{var n;return(n=this.target)==null?void 0:n.removeEventListener(...r)})},this.target=t}add(t,r,n){var s;(s=this.target)==null||s.addEventListener(t,r,n),this.listeners.push([t,r,n])}}function ire(e){const{EventTarget:t}=Vr(e);return e instanceof t?e:al(e)}function mp(e,t){const r=Math.abs(e.x),n=Math.abs(e.y);return typeof t=="number"?Math.sqrt(r**2+n**2)>t:"x"in t&&"y"in t?r>t.x&&n>t.y:"x"in t?r>t.x:"y"in t?n>t.y:!1}var nn;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(nn||(nn={}));function GN(e){e.preventDefault()}function ore(e){e.stopPropagation()}var et;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(et||(et={}));const rE={start:[et.Space,et.Enter],cancel:[et.Esc],end:[et.Space,et.Enter,et.Tab]},lre=(e,t)=>{let{currentCoordinates:r}=t;switch(e.code){case et.Right:return{...r,x:r.x+25};case et.Left:return{...r,x:r.x-25};case et.Down:return{...r,y:r.y+25};case et.Up:return{...r,y:r.y-25}}};class F0{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:r}}=t;this.props=t,this.listeners=new Kl(al(r)),this.windowListeners=new Kl(Vr(r)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(nn.Resize,this.handleCancel),this.windowListeners.add(nn.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(nn.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:r}=this.props,n=t.node.current;n&&sre(n),r(Fn)}handleKeyDown(t){if($0(t)){const{active:r,context:n,options:s}=this.props,{keyboardCodes:i=rE,coordinateGetter:o=lre,scrollBehavior:l="smooth"}=s,{code:c}=t;if(i.end.includes(c)){this.handleEnd(t);return}if(i.cancel.includes(c)){this.handleCancel(t);return}const{collisionRect:u}=n.current,d=u?{x:u.left,y:u.top}:Fn;this.referenceCoordinates||(this.referenceCoordinates=d);const f=o(t,{active:r,context:n.current,currentCoordinates:d});if(f){const m=Lc(f,d),v={x:0,y:0},{scrollableAncestors:p}=n.current;for(const h of p){const j=t.code,{isTop:x,isRight:b,isLeft:N,isBottom:g,maxScroll:A,minScroll:k}=eE(h),_=tre(h),O={x:Math.min(j===et.Right?_.right-_.width/2:_.right,Math.max(j===et.Right?_.left:_.left+_.width/2,f.x)),y:Math.min(j===et.Down?_.bottom-_.height/2:_.bottom,Math.max(j===et.Down?_.top:_.top+_.height/2,f.y))},R=j===et.Right&&!b||j===et.Left&&!N,I=j===et.Down&&!g||j===et.Up&&!x;if(R&&O.x!==f.x){const V=h.scrollLeft+m.x,Z=j===et.Right&&V<=A.x||j===et.Left&&V>=k.x;if(Z&&!m.y){h.scrollTo({left:V,behavior:l});return}Z?v.x=h.scrollLeft-V:v.x=j===et.Right?h.scrollLeft-A.x:h.scrollLeft-k.x,v.x&&h.scrollBy({left:-v.x,behavior:l});break}else if(I&&O.y!==f.y){const V=h.scrollTop+m.y,Z=j===et.Down&&V<=A.y||j===et.Up&&V>=k.y;if(Z&&!m.x){h.scrollTo({top:V,behavior:l});return}Z?v.y=h.scrollTop-V:v.y=j===et.Down?h.scrollTop-A.y:h.scrollTop-k.y,v.y&&h.scrollBy({top:-v.y,behavior:l});break}}this.handleMove(t,uo(Lc(f,this.referenceCoordinates),v))}}}handleMove(t,r){const{onMove:n}=this.props;t.preventDefault(),n(r)}handleEnd(t){const{onEnd:r}=this.props;t.preventDefault(),this.detach(),r()}handleCancel(t){const{onCancel:r}=this.props;t.preventDefault(),this.detach(),r()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}F0.activators=[{eventName:"onKeyDown",handler:(e,t,r)=>{let{keyboardCodes:n=rE,onActivation:s}=t,{active:i}=r;const{code:o}=e.nativeEvent;if(n.start.includes(o)){const l=i.activatorNode.current;return l&&e.target!==l?!1:(e.preventDefault(),s==null||s({event:e.nativeEvent}),!0)}return!1}}];function KN(e){return!!(e&&"distance"in e)}function QN(e){return!!(e&&"delay"in e)}class B0{constructor(t,r,n){var s;n===void 0&&(n=ire(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=r;const{event:i}=t,{target:o}=i;this.props=t,this.events=r,this.document=al(o),this.documentListeners=new Kl(this.document),this.listeners=new Kl(n),this.windowListeners=new Kl(Vr(o)),this.initialCoordinates=(s=sy(i))!=null?s:Fn,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:r,bypassActivationConstraint:n}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(nn.Resize,this.handleCancel),this.windowListeners.add(nn.DragStart,GN),this.windowListeners.add(nn.VisibilityChange,this.handleCancel),this.windowListeners.add(nn.ContextMenu,GN),this.documentListeners.add(nn.Keydown,this.handleKeydown),r){if(n!=null&&n({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(QN(r)){this.timeoutId=setTimeout(this.handleStart,r.delay),this.handlePending(r);return}if(KN(r)){this.handlePending(r);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,r){const{active:n,onPending:s}=this.props;s(n,t,this.initialCoordinates,r)}handleStart(){const{initialCoordinates:t}=this,{onStart:r}=this.props;t&&(this.activated=!0,this.documentListeners.add(nn.Click,ore,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(nn.SelectionChange,this.removeTextSelection),r(t))}handleMove(t){var r;const{activated:n,initialCoordinates:s,props:i}=this,{onMove:o,options:{activationConstraint:l}}=i;if(!s)return;const c=(r=sy(t))!=null?r:Fn,u=Lc(s,c);if(!n&&l){if(KN(l)){if(l.tolerance!=null&&mp(u,l.tolerance))return this.handleCancel();if(mp(u,l.distance))return this.handleStart()}if(QN(l)&&mp(u,l.tolerance))return this.handleCancel();this.handlePending(l,u);return}t.cancelable&&t.preventDefault(),o(c)}handleEnd(){const{onAbort:t,onEnd:r}=this.props;this.detach(),this.activated||t(this.props.active),r()}handleCancel(){const{onAbort:t,onCancel:r}=this.props;this.detach(),this.activated||t(this.props.active),r()}handleKeydown(t){t.code===et.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const cre={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class W0 extends B0{constructor(t){const{event:r}=t,n=al(r.target);super(t,cre,n)}}W0.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;return!r.isPrimary||r.button!==0?!1:(n==null||n({event:r}),!0)}}];const ure={move:{name:"mousemove"},end:{name:"mouseup"}};var iy;(function(e){e[e.RightClick=2]="RightClick"})(iy||(iy={}));class dre extends B0{constructor(t){super(t,ure,al(t.event.target))}}dre.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;return r.button===iy.RightClick?!1:(n==null||n({event:r}),!0)}}];const hp={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class fre extends B0{constructor(t){super(t,hp)}static setup(){return window.addEventListener(hp.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(hp.move.name,t)};function t(){}}}fre.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;const{touches:s}=r;return s.length>1?!1:(n==null||n({event:r}),!0)}}];var Ql;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Ql||(Ql={}));var Wf;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(Wf||(Wf={}));function mre(e){let{acceleration:t,activator:r=Ql.Pointer,canScroll:n,draggingRect:s,enabled:i,interval:o=5,order:l=Wf.TreeOrder,pointerCoordinates:c,scrollableAncestors:u,scrollableAncestorRects:d,delta:f,threshold:m}=e;const v=pre({delta:f,disabled:!i}),[p,h]=Dte(),j=w.useRef({x:0,y:0}),x=w.useRef({x:0,y:0}),b=w.useMemo(()=>{switch(r){case Ql.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case Ql.DraggableRect:return s}},[r,s,c]),N=w.useRef(null),g=w.useCallback(()=>{const k=N.current;if(!k)return;const _=j.current.x*x.current.x,O=j.current.y*x.current.y;k.scrollBy(_,O)},[]),A=w.useMemo(()=>l===Wf.TreeOrder?[...u].reverse():u,[l,u]);w.useEffect(()=>{if(!i||!u.length||!b){h();return}for(const k of A){if((n==null?void 0:n(k))===!1)continue;const _=u.indexOf(k),O=d[_];if(!O)continue;const{direction:R,speed:I}=ere(k,O,b,t,m);for(const V of["x","y"])v[V][R[V]]||(I[V]=0,R[V]=0);if(I.x>0||I.y>0){h(),N.current=k,p(g,o),j.current=I,x.current=R;return}}j.current={x:0,y:0},x.current={x:0,y:0},h()},[t,g,n,h,i,o,JSON.stringify(b),JSON.stringify(v),p,u,A,d,JSON.stringify(m)])}const hre={x:{[ar.Backward]:!1,[ar.Forward]:!1},y:{[ar.Backward]:!1,[ar.Forward]:!1}};function pre(e){let{delta:t,disabled:r}=e;const n=ny(t);return wu(s=>{if(r||!n||!s)return hre;const i={x:Math.sign(t.x-n.x),y:Math.sign(t.y-n.y)};return{x:{[ar.Backward]:s.x[ar.Backward]||i.x===-1,[ar.Forward]:s.x[ar.Forward]||i.x===1},y:{[ar.Backward]:s.y[ar.Backward]||i.y===-1,[ar.Forward]:s.y[ar.Forward]||i.y===1}}},[r,t,n])}function gre(e,t){const r=t!=null?e.get(t):void 0,n=r?r.node.current:null;return wu(s=>{var i;return t==null?null:(i=n??s)!=null?i:null},[n,t])}function yre(e,t){return w.useMemo(()=>e.reduce((r,n)=>{const{sensor:s}=n,i=s.activators.map(o=>({eventName:o.eventName,handler:t(o.handler,n)}));return[...r,...i]},[]),[e,t])}var Fc;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Fc||(Fc={}));var oy;(function(e){e.Optimized="optimized"})(oy||(oy={}));const XN=new Map;function xre(e,t){let{dragging:r,dependencies:n,config:s}=t;const[i,o]=w.useState(null),{frequency:l,measure:c,strategy:u}=s,d=w.useRef(e),f=j(),m=$c(f),v=w.useCallback(function(x){x===void 0&&(x=[]),!m.current&&o(b=>b===null?x:b.concat(x.filter(N=>!b.includes(N))))},[m]),p=w.useRef(null),h=wu(x=>{if(f&&!r)return XN;if(!x||x===XN||d.current!==e||i!=null){const b=new Map;for(let N of e){if(!N)continue;if(i&&i.length>0&&!i.includes(N.id)&&N.rect.current){b.set(N.id,N.rect.current);continue}const g=N.node.current,A=g?new L0(c(g),g):null;N.rect.current=A,A&&b.set(N.id,A)}return b}return x},[e,i,r,f,c]);return w.useEffect(()=>{d.current=e},[e]),w.useEffect(()=>{f||v()},[r,f]),w.useEffect(()=>{i&&i.length>0&&o(null)},[JSON.stringify(i)]),w.useEffect(()=>{f||typeof l!="number"||p.current!==null||(p.current=setTimeout(()=>{v(),p.current=null},l))},[l,f,v,...n]),{droppableRects:h,measureDroppableContainers:v,measuringScheduled:i!=null};function j(){switch(u){case Fc.Always:return!1;case Fc.BeforeDragging:return r;default:return!r}}}function nE(e,t){return wu(r=>e?r||(typeof t=="function"?t(e):e):null,[t,e])}function vre(e,t){return nE(e,t)}function bre(e){let{callback:t,disabled:r}=e;const n=I0(t),s=w.useMemo(()=>{if(r||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:i}=window;return new i(n)},[n,r]);return w.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function nh(e){let{callback:t,disabled:r}=e;const n=I0(t),s=w.useMemo(()=>{if(r||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:i}=window;return new i(n)},[r]);return w.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function wre(e){return new L0(il(e),e)}function JN(e,t,r){t===void 0&&(t=wre);const[n,s]=w.useState(null);function i(){s(c=>{if(!e)return null;if(e.isConnected===!1){var u;return(u=c??r)!=null?u:null}const d=t(e);return JSON.stringify(c)===JSON.stringify(d)?c:d})}const o=bre({callback(c){if(e)for(const u of c){const{type:d,target:f}=u;if(d==="childList"&&f instanceof HTMLElement&&f.contains(e)){i();break}}}}),l=nh({callback:i});return hs(()=>{i(),e?(l==null||l.observe(e),o==null||o.observe(document.body,{childList:!0,subtree:!0})):(l==null||l.disconnect(),o==null||o.disconnect())},[e]),n}function Nre(e){const t=nE(e);return KC(e,t)}const ZN=[];function jre(e){const t=w.useRef(e),r=wu(n=>e?n&&n!==ZN&&e&&t.current&&e.parentNode===t.current.parentNode?n:rh(e):ZN,[e]);return w.useEffect(()=>{t.current=e},[e]),r}function Sre(e){const[t,r]=w.useState(null),n=w.useRef(e),s=w.useCallback(i=>{const o=fp(i.target);o&&r(l=>l?(l.set(o,ay(o)),new Map(l)):null)},[]);return w.useEffect(()=>{const i=n.current;if(e!==i){o(i);const l=e.map(c=>{const u=fp(c);return u?(u.addEventListener("scroll",s,{passive:!0}),[u,ay(u)]):null}).filter(c=>c!=null);r(l.length?new Map(l):null),n.current=e}return()=>{o(e),o(i)};function o(l){l.forEach(c=>{const u=fp(c);u==null||u.removeEventListener("scroll",s)})}},[s,e]),w.useMemo(()=>e.length?t?Array.from(t.values()).reduce((i,o)=>uo(i,o),Fn):tE(e):Fn,[e,t])}function ej(e,t){t===void 0&&(t=[]);const r=w.useRef(null);return w.useEffect(()=>{r.current=null},t),w.useEffect(()=>{const n=e!==Fn;n&&!r.current&&(r.current=e),!n&&r.current&&(r.current=null)},[e]),r.current?Lc(e,r.current):Fn}function kre(e){w.useEffect(()=>{if(!th)return;const t=e.map(r=>{let{sensor:n}=r;return n.setup==null?void 0:n.setup()});return()=>{for(const r of t)r==null||r()}},e.map(t=>{let{sensor:r}=t;return r}))}function Dre(e,t){return w.useMemo(()=>e.reduce((r,n)=>{let{eventName:s,handler:i}=n;return r[s]=o=>{i(o,t)},r},{}),[e,t])}function sE(e){return w.useMemo(()=>e?Qte(e):null,[e])}const tj=[];function Cre(e,t){t===void 0&&(t=il);const[r]=e,n=sE(r?Vr(r):null),[s,i]=w.useState(tj);function o(){i(()=>e.length?e.map(c=>ZC(c)?n:new L0(t(c),c)):tj)}const l=nh({callback:o});return hs(()=>{l==null||l.disconnect(),o(),e.forEach(c=>l==null?void 0:l.observe(c))},[e]),s}function Ere(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return bu(t)?t:e}function Are(e){let{measure:t}=e;const[r,n]=w.useState(null),s=w.useCallback(u=>{for(const{target:d}of u)if(bu(d)){n(f=>{const m=t(d);return f?{...f,width:m.width,height:m.height}:m});break}},[t]),i=nh({callback:s}),o=w.useCallback(u=>{const d=Ere(u);i==null||i.disconnect(),d&&(i==null||i.observe(d)),n(d?t(d):null)},[t,i]),[l,c]=Ff(o);return w.useMemo(()=>({nodeRef:l,rect:r,setRef:c}),[r,l,c])}const Tre=[{sensor:W0,options:{}},{sensor:F0,options:{}}],_re={current:{}},Bd={draggable:{measure:qN},droppable:{measure:qN,strategy:Fc.WhileDragging,frequency:oy.Optimized},dragOverlay:{measure:il}};class Xl extends Map{get(t){var r;return t!=null&&(r=super.get(t))!=null?r:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:r}=t;return!r})}getNodeFor(t){var r,n;return(r=(n=this.get(t))==null?void 0:n.node.current)!=null?r:void 0}}const Pre={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Xl,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Bf},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Bd,measureDroppableContainers:Bf,windowRect:null,measuringScheduled:!1},Rre={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Bf,draggableNodes:new Map,over:null,measureDroppableContainers:Bf},sh=w.createContext(Rre),aE=w.createContext(Pre);function Mre(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Xl}}}function Ore(e,t){switch(t.type){case Kt.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case Kt.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case Kt.DragEnd:case Kt.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Kt.RegisterDroppable:{const{element:r}=t,{id:n}=r,s=new Xl(e.droppable.containers);return s.set(n,r),{...e,droppable:{...e.droppable,containers:s}}}case Kt.SetDroppableDisabled:{const{id:r,key:n,disabled:s}=t,i=e.droppable.containers.get(r);if(!i||n!==i.key)return e;const o=new Xl(e.droppable.containers);return o.set(r,{...i,disabled:s}),{...e,droppable:{...e.droppable,containers:o}}}case Kt.UnregisterDroppable:{const{id:r,key:n}=t,s=e.droppable.containers.get(r);if(!s||n!==s.key)return e;const i=new Xl(e.droppable.containers);return i.delete(r),{...e,droppable:{...e.droppable,containers:i}}}default:return e}}function Ire(e){let{disabled:t}=e;const{active:r,activatorEvent:n,draggableNodes:s}=w.useContext(sh),i=ny(n),o=ny(r==null?void 0:r.id);return w.useEffect(()=>{if(!t&&!n&&i&&o!=null){if(!$0(i)||document.activeElement===i.target)return;const l=s.get(o);if(!l)return;const{activatorNode:c,node:u}=l;if(!c.current&&!u.current)return;requestAnimationFrame(()=>{for(const d of[c.current,u.current]){if(!d)continue;const f=Ate(d);if(f){f.focus();break}}})}},[n,t,s,o,i]),null}function $re(e,t){let{transform:r,...n}=t;return e!=null&&e.length?e.reduce((s,i)=>i({transform:s,...n}),r):r}function Lre(e){return w.useMemo(()=>({draggable:{...Bd.draggable,...e==null?void 0:e.draggable},droppable:{...Bd.droppable,...e==null?void 0:e.droppable},dragOverlay:{...Bd.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function Fre(e){let{activeNode:t,measure:r,initialRect:n,config:s=!0}=e;const i=w.useRef(!1),{x:o,y:l}=typeof s=="boolean"?{x:s,y:s}:s;hs(()=>{if(!o&&!l||!t){i.current=!1;return}if(i.current||!n)return;const u=t==null?void 0:t.node.current;if(!u||u.isConnected===!1)return;const d=r(u),f=KC(d,n);if(o||(f.x=0),l||(f.y=0),i.current=!0,Math.abs(f.x)>0||Math.abs(f.y)>0){const m=QC(u);m&&m.scrollBy({top:f.y,left:f.x})}},[t,o,l,n,r])}const iE=w.createContext({...Fn,scaleX:1,scaleY:1});var ia;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(ia||(ia={}));const pp=w.memo(function(t){var r,n,s,i;let{id:o,accessibility:l,autoScroll:c=!0,children:u,sensors:d=Tre,collisionDetection:f=Ute,measuring:m,modifiers:v,...p}=t;const h=w.useReducer(Ore,void 0,Mre),[j,x]=h,[b,N]=Ote(),[g,A]=w.useState(ia.Uninitialized),k=g===ia.Initialized,{draggable:{active:_,nodes:O,translate:R},droppable:{containers:I}}=j,V=_!=null?O.get(_):null,Z=w.useRef({initial:null,translated:null}),Q=w.useMemo(()=>{var se;return _!=null?{id:_,data:(se=V==null?void 0:V.data)!=null?se:_re,rect:Z}:null},[_,V]),G=w.useRef(null),[xe,re]=w.useState(null),[pe,ce]=w.useState(null),q=$c(p,Object.values(p)),oe=Nu("DndDescribedBy",o),J=w.useMemo(()=>I.getEnabled(),[I]),H=Lre(m),{droppableRects:ae,measureDroppableContainers:ye,measuringScheduled:ve}=xre(J,{dragging:k,dependencies:[R.x,R.y],config:H.droppable}),te=gre(O,_),ue=w.useMemo(()=>pe?sy(pe):null,[pe]),Ne=fe(),F=vre(te,H.draggable.measure);Fre({activeNode:_!=null?O.get(_):null,config:Ne.layoutShiftCompensation,initialRect:F,measure:H.draggable.measure});const ie=JN(te,H.draggable.measure,F),T=JN(te?te.parentElement:null),W=w.useRef({activatorEvent:null,active:null,activeNode:te,collisionRect:null,collisions:null,droppableRects:ae,draggableNodes:O,draggingNode:null,draggingNodeRect:null,droppableContainers:I,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Y=I.getNodeFor((r=W.current.over)==null?void 0:r.id),ee=Are({measure:H.dragOverlay.measure}),Te=(n=ee.nodeRef.current)!=null?n:te,we=k?(s=ee.rect)!=null?s:ie:null,M=!!(ee.nodeRef.current&&ee.rect),y=Nre(M?null:ie),C=sE(Te?Vr(Te):null),S=jre(k?Y??te:null),D=Cre(S),P=$re(v,{transform:{x:R.x-y.x,y:R.y-y.y,scaleX:1,scaleY:1},activatorEvent:pe,active:Q,activeNodeRect:ie,containerNodeRect:T,draggingNodeRect:we,over:W.current.over,overlayNodeRect:ee.rect,scrollableAncestors:S,scrollableAncestorRects:D,windowRect:C}),K=ue?uo(ue,R):null,ne=Sre(S),E=ej(ne),X=ej(ne,[ie]),B=uo(P,E),le=we?Yte(we,P):null,Pe=Q&&le?f({active:Q,collisionRect:le,droppableRects:ae,droppableContainers:J,pointerCoordinates:K}):null,Me=GC(Pe,"id"),[He,lt]=w.useState(null),Xe=M?P:uo(P,X),st=Vte(Xe,(i=He==null?void 0:He.rect)!=null?i:null,ie),ft=w.useRef(null),it=w.useCallback((se,he)=>{let{sensor:de,options:je}=he;if(G.current==null)return;const Re=O.get(G.current);if(!Re)return;const Le=se.nativeEvent,Ge=new de({active:G.current,activeNode:Re,event:Le,options:je,context:W,onAbort(L){if(!O.get(L))return;const{onDragAbort:Ce}=q.current,Ie={id:L};Ce==null||Ce(Ie),b({type:"onDragAbort",event:Ie})},onPending(L,ge,Ce,Ie){if(!O.get(L))return;const{onDragPending:qe}=q.current,Dt={id:L,constraint:ge,initialCoordinates:Ce,offset:Ie};qe==null||qe(Dt),b({type:"onDragPending",event:Dt})},onStart(L){const ge=G.current;if(ge==null)return;const Ce=O.get(ge);if(!Ce)return;const{onDragStart:Ie}=q.current,We={activatorEvent:Le,active:{id:ge,data:Ce.data,rect:Z}};Za.unstable_batchedUpdates(()=>{Ie==null||Ie(We),A(ia.Initializing),x({type:Kt.DragStart,initialCoordinates:L,active:ge}),b({type:"onDragStart",event:We}),re(ft.current),ce(Le)})},onMove(L){x({type:Kt.DragMove,coordinates:L})},onEnd:ze(Kt.DragEnd),onCancel:ze(Kt.DragCancel)});ft.current=Ge;function ze(L){return async function(){const{active:Ce,collisions:Ie,over:We,scrollAdjustedTranslate:qe}=W.current;let Dt=null;if(Ce&&qe){const{cancelDrop:en}=q.current;Dt={activatorEvent:Le,active:Ce,collisions:Ie,delta:qe,over:We},L===Kt.DragEnd&&typeof en=="function"&&await Promise.resolve(en(Dt))&&(L=Kt.DragCancel)}G.current=null,Za.unstable_batchedUpdates(()=>{x({type:L}),A(ia.Uninitialized),lt(null),re(null),ce(null),ft.current=null;const en=L===Kt.DragEnd?"onDragEnd":"onDragCancel";if(Dt){const ju=q.current[en];ju==null||ju(Dt),b({type:en,event:Dt})}})}}},[O]),qt=w.useCallback((se,he)=>(de,je)=>{const Re=de.nativeEvent,Le=O.get(je);if(G.current!==null||!Le||Re.dndKit||Re.defaultPrevented)return;const Ge={active:Le};se(de,he.options,Ge)===!0&&(Re.dndKit={capturedBy:he.sensor},G.current=je,it(de,he))},[O,it]),or=yre(d,qt);kre(d),hs(()=>{ie&&g===ia.Initializing&&A(ia.Initialized)},[ie,g]),w.useEffect(()=>{const{onDragMove:se}=q.current,{active:he,activatorEvent:de,collisions:je,over:Re}=W.current;if(!he||!de)return;const Le={active:he,activatorEvent:de,collisions:je,delta:{x:B.x,y:B.y},over:Re};Za.unstable_batchedUpdates(()=>{se==null||se(Le),b({type:"onDragMove",event:Le})})},[B.x,B.y]),w.useEffect(()=>{const{active:se,activatorEvent:he,collisions:de,droppableContainers:je,scrollAdjustedTranslate:Re}=W.current;if(!se||G.current==null||!he||!Re)return;const{onDragOver:Le}=q.current,Ge=je.get(Me),ze=Ge&&Ge.rect.current?{id:Ge.id,rect:Ge.rect.current,data:Ge.data,disabled:Ge.disabled}:null,L={active:se,activatorEvent:he,collisions:de,delta:{x:Re.x,y:Re.y},over:ze};Za.unstable_batchedUpdates(()=>{lt(ze),Le==null||Le(L),b({type:"onDragOver",event:L})})},[Me]),hs(()=>{W.current={activatorEvent:pe,active:Q,activeNode:te,collisionRect:le,collisions:Pe,droppableRects:ae,draggableNodes:O,draggingNode:Te,draggingNodeRect:we,droppableContainers:I,over:He,scrollableAncestors:S,scrollAdjustedTranslate:B},Z.current={initial:we,translated:le}},[Q,te,Pe,le,O,Te,we,ae,I,He,S,B]),mre({...Ne,delta:R,draggingRect:le,pointerCoordinates:K,scrollableAncestors:S,scrollableAncestorRects:D});const zn=w.useMemo(()=>({active:Q,activeNode:te,activeNodeRect:ie,activatorEvent:pe,collisions:Pe,containerNodeRect:T,dragOverlay:ee,draggableNodes:O,droppableContainers:I,droppableRects:ae,over:He,measureDroppableContainers:ye,scrollableAncestors:S,scrollableAncestorRects:D,measuringConfiguration:H,measuringScheduled:ve,windowRect:C}),[Q,te,ie,pe,Pe,T,ee,O,I,ae,He,ye,S,D,H,ve,C]),$=w.useMemo(()=>({activatorEvent:pe,activators:or,active:Q,activeNodeRect:ie,ariaDescribedById:{draggable:oe},dispatch:x,draggableNodes:O,over:He,measureDroppableContainers:ye}),[pe,or,Q,ie,x,oe,O,He,ye]);return U.createElement(zC.Provider,{value:N},U.createElement(sh.Provider,{value:$},U.createElement(aE.Provider,{value:zn},U.createElement(iE.Provider,{value:st},u)),U.createElement(Ire,{disabled:(l==null?void 0:l.restoreFocus)===!1})),U.createElement(Lte,{...l,hiddenTextDescribedById:oe}));function fe(){const se=(xe==null?void 0:xe.autoScrollEnabled)===!1,he=typeof c=="object"?c.enabled===!1:c===!1,de=k&&!se&&!he;return typeof c=="object"?{...c,enabled:de}:{enabled:de}}}),Bre=w.createContext(null),rj="button",Wre="Draggable";function Hre(e){let{id:t,data:r,disabled:n=!1,attributes:s}=e;const i=Nu(Wre),{activators:o,activatorEvent:l,active:c,activeNodeRect:u,ariaDescribedById:d,draggableNodes:f,over:m}=w.useContext(sh),{role:v=rj,roleDescription:p="draggable",tabIndex:h=0}=s??{},j=(c==null?void 0:c.id)===t,x=w.useContext(j?iE:Bre),[b,N]=Ff(),[g,A]=Ff(),k=Dre(o,t),_=$c(r);hs(()=>(f.set(t,{id:t,key:i,node:b,activatorNode:g,data:_}),()=>{const R=f.get(t);R&&R.key===i&&f.delete(t)}),[f,t]);const O=w.useMemo(()=>({role:v,tabIndex:h,"aria-disabled":n,"aria-pressed":j&&v===rj?!0:void 0,"aria-roledescription":p,"aria-describedby":d.draggable}),[n,v,h,j,p,d.draggable]);return{active:c,activatorEvent:l,activeNodeRect:u,attributes:O,isDragging:j,listeners:n?void 0:k,node:b,over:m,setNodeRef:N,setActivatorNodeRef:A,transform:x}}function Ure(){return w.useContext(aE)}const Vre="Droppable",zre={timeout:25};function Yre(e){let{data:t,disabled:r=!1,id:n,resizeObserverConfig:s}=e;const i=Nu(Vre),{active:o,dispatch:l,over:c,measureDroppableContainers:u}=w.useContext(sh),d=w.useRef({disabled:r}),f=w.useRef(!1),m=w.useRef(null),v=w.useRef(null),{disabled:p,updateMeasurementsFor:h,timeout:j}={...zre,...s},x=$c(h??n),b=w.useCallback(()=>{if(!f.current){f.current=!0;return}v.current!=null&&clearTimeout(v.current),v.current=setTimeout(()=>{u(Array.isArray(x.current)?x.current:[x.current]),v.current=null},j)},[j]),N=nh({callback:b,disabled:p||!o}),g=w.useCallback((O,R)=>{N&&(R&&(N.unobserve(R),f.current=!1),O&&N.observe(O))},[N]),[A,k]=Ff(g),_=$c(t);return w.useEffect(()=>{!N||!A.current||(N.disconnect(),f.current=!1,N.observe(A.current))},[A,N]),w.useEffect(()=>(l({type:Kt.RegisterDroppable,element:{id:n,key:i,disabled:r,node:A,rect:m,data:_}}),()=>l({type:Kt.UnregisterDroppable,key:i,id:n})),[n]),w.useEffect(()=>{r!==d.current.disabled&&(l({type:Kt.SetDroppableDisabled,id:n,key:i,disabled:r}),d.current.disabled=r)},[n,i,r,l]),{active:o,rect:m,isOver:(c==null?void 0:c.id)===n,node:A,over:c,setNodeRef:k}}function Hf(e,t,r){const n=e.slice();return n.splice(r<0?n.length+r:r,0,n.splice(t,1)[0]),n}function qre(e,t){return e.reduce((r,n,s)=>{const i=t.get(n);return i&&(r[s]=i),r},Array(e.length))}function id(e){return e!==null&&e>=0}function Gre(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function Kre(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const oE=e=>{let{rects:t,activeIndex:r,overIndex:n,index:s}=e;const i=Hf(t,n,r),o=t[s],l=i[s];return!l||!o?null:{x:l.left-o.left,y:l.top-o.top,scaleX:l.width/o.width,scaleY:l.height/o.height}},od={scaleX:1,scaleY:1},gp=e=>{var t;let{activeIndex:r,activeNodeRect:n,index:s,rects:i,overIndex:o}=e;const l=(t=i[r])!=null?t:n;if(!l)return null;if(s===r){const u=i[o];return u?{x:0,y:r<o?u.top+u.height-(l.top+l.height):u.top-l.top,...od}:null}const c=Qre(i,s,r);return s>r&&s<=o?{x:0,y:-l.height-c,...od}:s<r&&s>=o?{x:0,y:l.height+c,...od}:{x:0,y:0,...od}};function Qre(e,t,r){const n=e[t],s=e[t-1],i=e[t+1];return n?r<t?s?n.top-(s.top+s.height):i?i.top-(n.top+n.height):0:i?i.top-(n.top+n.height):s?n.top-(s.top+s.height):0:0}const lE="Sortable",cE=U.createContext({activeIndex:-1,containerId:lE,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:oE,disabled:{draggable:!1,droppable:!1}});function yp(e){let{children:t,id:r,items:n,strategy:s=oE,disabled:i=!1}=e;const{active:o,dragOverlay:l,droppableRects:c,over:u,measureDroppableContainers:d}=Ure(),f=Nu(lE,r),m=l.rect!==null,v=w.useMemo(()=>n.map(k=>typeof k=="object"&&"id"in k?k.id:k),[n]),p=o!=null,h=o?v.indexOf(o.id):-1,j=u?v.indexOf(u.id):-1,x=w.useRef(v),b=!Gre(v,x.current),N=j!==-1&&h===-1||b,g=Kre(i);hs(()=>{b&&p&&d(v)},[b,v,p,d]),w.useEffect(()=>{x.current=v},[v]);const A=w.useMemo(()=>({activeIndex:h,containerId:f,disabled:g,disableTransforms:N,items:v,overIndex:j,useDragOverlay:m,sortedRects:qre(v,c),strategy:s}),[h,f,g.draggable,g.droppable,N,v,j,c,m,s]);return U.createElement(cE.Provider,{value:A},t)}const Xre=e=>{let{id:t,items:r,activeIndex:n,overIndex:s}=e;return Hf(r,n,s).indexOf(t)},Jre=e=>{let{containerId:t,isSorting:r,wasDragging:n,index:s,items:i,newIndex:o,previousItems:l,previousContainerId:c,transition:u}=e;return!u||!n||l!==i&&s===o?!1:r?!0:o!==s&&t===c},Zre={duration:200,easing:"ease"},uE="transform",ene=Oo.Transition.toString({property:uE,duration:0,easing:"linear"}),tne={roleDescription:"sortable"};function rne(e){let{disabled:t,index:r,node:n,rect:s}=e;const[i,o]=w.useState(null),l=w.useRef(r);return hs(()=>{if(!t&&r!==l.current&&n.current){const c=s.current;if(c){const u=il(n.current,{ignoreTransform:!0}),d={x:c.left-u.left,y:c.top-u.top,scaleX:c.width/u.width,scaleY:c.height/u.height};(d.x||d.y)&&o(d)}}r!==l.current&&(l.current=r)},[t,r,n,s]),w.useEffect(()=>{i&&o(null)},[i]),i}function dE(e){let{animateLayoutChanges:t=Jre,attributes:r,disabled:n,data:s,getNewIndex:i=Xre,id:o,strategy:l,resizeObserverConfig:c,transition:u=Zre}=e;const{items:d,containerId:f,activeIndex:m,disabled:v,disableTransforms:p,sortedRects:h,overIndex:j,useDragOverlay:x,strategy:b}=w.useContext(cE),N=nne(n,v),g=d.indexOf(o),A=w.useMemo(()=>({sortable:{containerId:f,index:g,items:d},...s}),[f,s,g,d]),k=w.useMemo(()=>d.slice(d.indexOf(o)),[d,o]),{rect:_,node:O,isOver:R,setNodeRef:I}=Yre({id:o,data:A,disabled:N.droppable,resizeObserverConfig:{updateMeasurementsFor:k,...c}}),{active:V,activatorEvent:Z,activeNodeRect:Q,attributes:G,setNodeRef:xe,listeners:re,isDragging:pe,over:ce,setActivatorNodeRef:q,transform:oe}=Hre({id:o,data:A,attributes:{...tne,...r},disabled:N.draggable}),J=kte(I,xe),H=!!V,ae=H&&!p&&id(m)&&id(j),ye=!x&&pe,ve=ye&&ae?oe:null,ue=ae?ve??(l??b)({rects:h,activeNodeRect:Q,activeIndex:m,overIndex:j,index:g}):null,Ne=id(m)&&id(j)?i({id:o,items:d,activeIndex:m,overIndex:j}):g,F=V==null?void 0:V.id,ie=w.useRef({activeId:F,items:d,newIndex:Ne,containerId:f}),T=d!==ie.current.items,W=t({active:V,containerId:f,isDragging:pe,isSorting:H,id:o,index:g,items:d,newIndex:ie.current.newIndex,previousItems:ie.current.items,previousContainerId:ie.current.containerId,transition:u,wasDragging:ie.current.activeId!=null}),Y=rne({disabled:!W,index:g,node:O,rect:_});return w.useEffect(()=>{H&&ie.current.newIndex!==Ne&&(ie.current.newIndex=Ne),f!==ie.current.containerId&&(ie.current.containerId=f),d!==ie.current.items&&(ie.current.items=d)},[H,Ne,f,d]),w.useEffect(()=>{if(F===ie.current.activeId)return;if(F&&!ie.current.activeId){ie.current.activeId=F;return}const Te=setTimeout(()=>{ie.current.activeId=F},50);return()=>clearTimeout(Te)},[F]),{active:V,activeIndex:m,attributes:G,data:A,rect:_,index:g,newIndex:Ne,items:d,isOver:R,isSorting:H,isDragging:pe,listeners:re,node:O,overIndex:j,over:ce,setNodeRef:J,setActivatorNodeRef:q,setDroppableNodeRef:I,setDraggableNodeRef:xe,transform:Y??ue,transition:ee()};function ee(){if(Y||T&&ie.current.newIndex===g)return ene;if(!(ye&&!$0(Z)||!u)&&(H||W))return Oo.Transition.toString({...u,property:uE})}}function nne(e,t){var r,n;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(r=e==null?void 0:e.draggable)!=null?r:t.draggable,droppable:(n=e==null?void 0:e.droppable)!=null?n:t.droppable}}function Uf(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const sne=[et.Down,et.Right,et.Up,et.Left],ane=(e,t)=>{let{context:{active:r,collisionRect:n,droppableRects:s,droppableContainers:i,over:o,scrollableAncestors:l}}=t;if(sne.includes(e.code)){if(e.preventDefault(),!r||!n)return;const c=[];i.getEnabled().forEach(f=>{if(!f||f!=null&&f.disabled)return;const m=s.get(f.id);if(m)switch(e.code){case et.Down:n.top<m.top&&c.push(f);break;case et.Up:n.top>m.top&&c.push(f);break;case et.Left:n.left>m.left&&c.push(f);break;case et.Right:n.left<m.left&&c.push(f);break}});const u=Wte({collisionRect:n,droppableRects:s,droppableContainers:c});let d=GC(u,"id");if(d===(o==null?void 0:o.id)&&u.length>1&&(d=u[1].id),d!=null){const f=i.get(r.id),m=i.get(d),v=m?s.get(m.id):null,p=m==null?void 0:m.node.current;if(p&&v&&f&&m){const j=rh(p).some((k,_)=>l[_]!==k),x=fE(f,m),b=ine(f,m),N=j||!x?{x:0,y:0}:{x:b?n.width-v.width:0,y:b?n.height-v.height:0},g={x:v.left,y:v.top};return N.x&&N.y?g:Lc(g,N)}}}};function fE(e,t){return!Uf(e)||!Uf(t)?!1:e.data.current.sortable.containerId===t.data.current.sortable.containerId}function ine(e,t){return!Uf(e)||!Uf(t)||!fE(e,t)?!1:e.data.current.sortable.index<t.data.current.sortable.index}const mE=e=>{if(!e)return"";const t=e.split(",").map(l=>l.trim());if(t.length===0)return"";if(t.length===1)return t[0]===""?"":t[0];const r=["","","",""],n=t.sort((l,c)=>r.indexOf(l)-r.indexOf(c)),s=n[0],i=n[n.length-1];return`${s}-${i===""?"":i}`},hE=e=>{if(!e)return"";const t=e.split(",").map(r=>r.trim());return t.includes("")?"bg-purple-100 text-purple-700":t.includes("")?"bg-blue-100 text-blue-700":t.includes("")?"bg-green-100 text-green-700":t.includes("")?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700"},nj=({item:e,onEdit:t,onDelete:r,onImageClick:n})=>{const{attributes:s,listeners:i,setNodeRef:o,transform:l,transition:c,isDragging:u}=dE({id:e.id}),d={transform:Oo.Transform.toString(l),transition:c,opacity:u?.5:1};return a.jsxs("div",{ref:o,style:d,...s,...i,className:"bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow border border-gray-200 overflow-hidden flex flex-col group relative cursor-move",children:[a.jsxs("div",{className:"w-full aspect-square bg-gray-100 flex-shrink-0 relative",children:[e.image_url?a.jsx("img",{src:e.image_url,alt:e.name,className:"w-full h-full object-contain block cursor-pointer",onClick:f=>{f.stopPropagation(),n(e)},onPointerDown:f=>f.stopPropagation()}):a.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400 text-xs",children:" "}),a.jsxs("div",{className:"absolute top-2 right-2 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[a.jsx("button",{onClick:f=>{f.stopPropagation(),t(e)},onPointerDown:f=>f.stopPropagation(),className:"p-1.5 bg-white text-gray-700 hover:bg-gray-100 rounded-md shadow-md transition-colors",title:"",children:a.jsx(zS,{className:"w-3.5 h-3.5"})}),a.jsx("button",{onClick:f=>{f.stopPropagation(),r(e.id)},onPointerDown:f=>f.stopPropagation(),className:"p-1.5 bg-white text-rose-600 hover:bg-rose-50 rounded-md shadow-md transition-colors",title:"",children:a.jsx(_t,{className:"w-3.5 h-3.5"})})]})]}),a.jsxs("div",{className:"p-2 pt-1.5 flex flex-col flex-1",children:[a.jsxs("div",{className:"flex items-start justify-between mb-1",children:[a.jsx("span",{className:"inline-block px-1.5 py-0.5 text-xs bg-gray-100 text-gray-700 rounded",children:e.category}),e.grade&&a.jsx("span",{className:`hidden md:inline-block px-1 py-0.5 text-[10px] rounded ${hE(e.grade)}`,children:mE(e.grade)})]}),a.jsxs("div",{className:"flex items-baseline justify-between gap-1 mt-auto",children:[a.jsxs("div",{className:"flex items-baseline gap-1 min-w-0",children:[a.jsx("h3",{className:"font-semibold text-xs text-gray-900 truncate",children:e.name}),e.brand&&a.jsx("span",{className:"text-xs text-gray-600 flex-shrink-0",children:e.brand})]}),e.price&&a.jsxs("span",{className:"hidden md:inline text-xs text-gray-900 font-medium flex-shrink-0",children:[e.price,""]})]})]})]})},one=({category:e,onRemove:t,onEdit:r})=>{const{attributes:n,listeners:s,setNodeRef:i,transform:o,transition:l,isDragging:c}=dE({id:e}),u={transform:Oo.Transform.toString(o),transition:l,opacity:c?.5:1};return a.jsxs("div",{ref:i,style:u,className:"flex items-center justify-between p-3 hover:bg-gray-50 border-b border-gray-100 last:border-b-0 bg-white",children:[a.jsx("div",{className:"flex items-center gap-2 flex-1 cursor-grab active:cursor-grabbing",...n,...s,children:a.jsx("span",{className:"text-sm text-gray-900",children:e})}),e!==""&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("button",{onClick:d=>{d.stopPropagation(),d.preventDefault(),r(e)},className:"text-gray-600 hover:text-gray-800 transition-colors p-1",title:"",type:"button",children:a.jsx(zS,{className:"h-4 w-4"})}),a.jsx("button",{onClick:d=>{d.stopPropagation(),d.preventDefault(),t(e)},className:"text-red-500 hover:text-red-700 transition-colors p-1",title:"",type:"button",children:a.jsx(_t,{className:"h-4 w-4"})})]})]})},lne=()=>{var ze;const[e,t]=w.useState("library"),[r,n]=w.useState([]),[s,i]=w.useState([]),[o,l]=w.useState([]),[c,u]=w.useState([]),[d,f]=w.useState(""),[m,v]=w.useState([]),[p,h]=w.useState(null),[j,x]=w.useState(!0),[b,N]=w.useState(null),[g,A]=w.useState({name:"",category:"",brand:"",price:"",grades:[""],imageData:null}),[k,_]=w.useState([]),[O,R]=w.useState(!1),[I,V]=w.useState(!1),[Z,Q]=w.useState([]),[G,xe]=w.useState(""),[re,pe]=w.useState(!1),[ce,q]=w.useState(null),[oe,J]=w.useState([]),[H,ae]=w.useState(null),[ye,ve]=w.useState(!1),[te,ue]=w.useState(!1),[Ne,F]=w.useState(1),[ie,T]=w.useState({x:0,y:0}),[W,Y]=w.useState(!1),[ee,Te]=w.useState({x:0,y:0}),we=w.useRef(null),M=w.useRef(null),y=w.useRef(null),C=w.useRef([]),S=Fte(VN(W0),VN(F0,{coordinateGetter:ane}));w.useEffect(()=>{D(),P(),K()},[]),w.useEffect(()=>{E()},[e,d,p,k]),w.useEffect(()=>{e==="project"&&p&&ne()},[e,p]);const D=async()=>{try{const L=await Ee.get("/specbook/categories");u(L.data)}catch(L){console.error("  :",L)}},P=async()=>{try{const L=await Ee.get("/specbook/projects");console.log("  :",L.data.length,"",L.data),v(L.data)}catch(L){console.error("  :",L)}},K=async()=>{try{const L=await Ee.get("/specbook/library");i(L.data)}catch(L){console.error("    :",L)}},ne=async()=>{if(p)try{const L=await Ee.get(`/specbook/project/${p}`);l(L.data)}catch(L){console.error("    :",L)}},E=async()=>{try{x(!0);const L={};d!==""&&(L.category=d),k.length>0&&(L.grades=k.join(","));let ge;if(e==="library")ge=await Ee.get("/specbook/library",{params:L});else{if(!p){n([]),x(!1);return}ge=await Ee.get(`/specbook/project/${p}`,{params:L})}n(ge.data)}catch(L){console.error("   :",L),z.error("   ")}finally{x(!1)}},X=L=>e==="library"?L===""?s.length:s.filter(ge=>ge.category===L).length:L===""?o.length:o.filter(ge=>ge.category===L).length,B=L=>{L.preventDefault(),R(!1);const ge=L.dataTransfer.files[0];if(ge&&ge.type.startsWith("image/")){const Ce=new FileReader;Ce.onload=Ie=>{var We;A({...g,imageData:(We=Ie.target)==null?void 0:We.result})},Ce.readAsDataURL(ge)}},le=L=>{var Ce;const ge=(Ce=L.clipboardData)==null?void 0:Ce.items;if(ge){for(let Ie=0;Ie<ge.length;Ie++)if(ge[Ie].type.indexOf("image")!==-1){const We=ge[Ie].getAsFile();if(We){const qe=new FileReader;qe.onload=Dt=>{var en;A({...g,imageData:(en=Dt.target)==null?void 0:en.result})},qe.readAsDataURL(We)}}}};w.useEffect(()=>(document.addEventListener("paste",le),()=>document.removeEventListener("paste",le)),[g]);const Pe=L=>{const ge=L.replace(/[^\d]/g,"");return ge?ge.replace(/\B(?=(\d{3})+(?!\d))/g,","):""},Me=L=>{const ge=Pe(L.target.value);A({...g,price:ge})},He=async L=>{var ge,Ce;if(L.preventDefault(),!g.name||!g.category){z.error("  ");return}if(g.grades.length===0){z.error("   ");return}try{const Ie=g.grades.join(",");if(b){const We={name:g.name,category:g.category,brand:g.brand,price:g.price,grade:Ie,description:"",imageData:g.imageData,projectId:e==="project"?p:null,isLibrary:e==="library"};await Ee.put(`/specbook/base64/${b.id}`,We),z.success("  ")}else if(e==="project"&&p){const We={name:g.name,category:g.category,brand:g.brand,price:g.price,grade:Ie,description:"",imageData:g.imageData,projectId:null,isLibrary:!0};await Ee.post("/specbook/base64",We);const qe={name:g.name,category:g.category,brand:g.brand,price:g.price,grade:Ie,description:"",imageData:g.imageData,projectId:p,isLibrary:!1};await Ee.post("/specbook/base64",qe),z.success("    ")}else{const We={name:g.name,category:g.category,brand:g.brand,price:g.price,grade:Ie,description:"",imageData:g.imageData,projectId:null,isLibrary:!0};await Ee.post("/specbook/base64",We),z.success("  ")}N(null),A({name:"",category:d!==""?d:"",brand:"",price:"",grades:[""],imageData:null}),E(),(e==="library"||e==="project"&&!b)&&K(),e==="project"&&p&&ne()}catch(Ie){console.error("   :",Ie),z.error(((Ce=(ge=Ie.response)==null?void 0:ge.data)==null?void 0:Ce.error)||" ")}},lt=L=>{N(L);const ge=L.grade?L.grade.includes(",")?L.grade.split(","):[L.grade]:[""];A({name:L.name,category:L.category,brand:L.brand,price:L.price,grades:ge,imageData:null}),window.scrollTo({top:0,behavior:"smooth"})},Xe=async L=>{if(confirm(" ?"))try{await Ee.delete(`/specbook/${L}`),z.success("  "),E(),e==="library"?K():e==="project"&&p&&ne()}catch(ge){console.error(" :",ge),z.error(" ")}},st=()=>{N(null),A({name:"",category:d!==""?d:"",brand:"",price:"",grades:[""],imageData:null})},ft=L=>{q(L);const ge=L.sub_images||[];J(ge),C.current=ge,pe(!0)},it=L=>{const ge=Array.from(L.target.files||[]);qt(ge)},qt=L=>{L.forEach(ge=>{if(ge.type.startsWith("image/")||ge.type==="application/pdf"){const Ce=new FileReader;Ce.onload=Ie=>{var qe;const We=(qe=Ie.target)==null?void 0:qe.result;J(Dt=>[...Dt,We])},Ce.readAsDataURL(ge)}else z.error(`   : ${ge.name}`)})},or=L=>{L.preventDefault(),L.stopPropagation(),ve(!1);const ge=Array.from(L.dataTransfer.files);qt(ge)},zn=L=>{var Ie;if(!re)return;const ge=(Ie=L.clipboardData)==null?void 0:Ie.items;if(!ge)return;const Ce=[];for(let We=0;We<ge.length;We++)if(ge[We].type.indexOf("image")!==-1){const qe=ge[We].getAsFile();qe&&Ce.push(qe)}Ce.length>0&&(qt(Ce),z.success(`${Ce.length}  `))};w.useEffect(()=>{if(re)return document.addEventListener("paste",zn),()=>document.removeEventListener("paste",zn)},[re]),w.useEffect(()=>{if(!(!ce||!re||!(JSON.stringify(oe)!==JSON.stringify(C.current))))return y.current&&clearTimeout(y.current),y.current=setTimeout(async()=>{ue(!0);try{await Ee.put(`/specbook/${ce.id}/sub-images`,{sub_images:oe}),C.current=oe,E(),e==="library"?K():e==="project"&&p&&ne()}catch(ge){console.error("Sub    :",ge),z.error("   ")}finally{ue(!1)}},1e3),()=>{y.current&&clearTimeout(y.current)}},[oe,ce,re]);const $=L=>{J(ge=>ge.filter((Ce,Ie)=>Ie!==L))},fe=()=>{y.current&&clearTimeout(y.current),pe(!1),q(null),J([]),ue(!1)},se=async L=>{const{active:ge,over:Ce}=L;if(!Ce||ge.id===Ce.id)return;const Ie=r.findIndex(qe=>qe.id===ge.id),We=r.findIndex(qe=>qe.id===Ce.id);if(Ie!==-1&&We!==-1){const qe=Hf(r,Ie,We);n(qe);try{await Ee.put("/specbook/reorder",{items:qe.map((Dt,en)=>({id:Dt.id,display_order:en}))}),z.success("  ")}catch(Dt){console.error("  :",Dt),z.error("  "),E()}}},he=()=>{Q([...c]),V(!0)},de=()=>{V(!1),xe("")},je=async()=>{if(!G.trim()){z.error("  ");return}if(Z.includes(G.trim())){z.error("  ");return}const L=[...Z,G.trim()];Q(L),xe("");try{await Ee.put("/specbook/categories",{categories:L}),u(L),z.success(" ")}catch(ge){console.error("   :",ge),z.error("   "),Q(c)}},Re=async L=>{if(L===""){z.error("    ");return}const ge=window.prompt("   ",L);if(!ge||!ge.trim()||ge.trim()===L)return;if(Z.includes(ge.trim())){z.error("  ");return}const Ce=Z.map(Ie=>Ie===L?ge.trim():Ie);Q(Ce);try{await Ee.put("/specbook/categories",{categories:Ce}),u(Ce),z.success("  ")}catch(Ie){console.error("   :",Ie),z.error("   "),Q(c)}},Le=async L=>{if(L===""){z.error("    ");return}const ge=Z.filter(Ce=>Ce!==L);Q(ge);try{await Ee.put("/specbook/categories",{categories:ge}),u(ge),z.success(" ")}catch(Ce){console.error("   :",Ce),z.error("   "),Q(c)}},Ge=async L=>{const{active:ge,over:Ce}=L;if(Ce&&ge.id!==Ce.id){const Ie=Z.indexOf(ge.id),We=Z.indexOf(Ce.id),qe=Hf(Z,Ie,We);Q(qe);try{await Ee.put("/specbook/categories",{categories:qe}),u(qe),z.success("  ")}catch(Dt){console.error("   :",Dt),z.error("   "),Q(c)}}};return a.jsxs("div",{className:"flex flex-col h-[calc(100vh-120px)] bg-gray-50",onDragOver:L=>{L.preventDefault(),showModal&&R(!0)},onDragLeave:()=>{showModal&&R(!1)},onDrop:L=>{showModal&&B(L)},children:[a.jsxs("div",{className:"flex-1 flex flex-col md:flex-row gap-4 md:gap-6 overflow-hidden",children:[a.jsxs("div",{className:"hidden md:flex flex-col gap-4 w-80 lg:w-96 flex-shrink-0",children:[a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden flex flex-col",children:a.jsxs("form",{onSubmit:He,className:"flex flex-col pt-3",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 px-3",children:[a.jsxs("div",{onDragOver:L=>{L.preventDefault(),R(!0)},onDragLeave:()=>R(!1),onDrop:B,className:`w-full sm:w-48 aspect-square flex-shrink-0 border-2 border-dashed rounded-lg flex items-center justify-center cursor-pointer transition-colors ${O?"border-gray-500 bg-gray-50":"border-gray-300 hover:border-gray-400"}`,onClick:()=>{var L;return(L=we.current)==null?void 0:L.click()},children:[g.imageData||b!=null&&b.image_url?a.jsx("img",{src:g.imageData||(b==null?void 0:b.image_url)||"",alt:"Preview",className:"w-full h-full object-contain rounded-lg"}):a.jsxs("div",{className:"text-center",children:[a.jsx(Ra,{className:"w-8 h-8 mx-auto mb-1 text-gray-400"}),a.jsx("p",{className:"text-sm text-gray-500",children:""})]}),a.jsx("input",{ref:we,type:"file",accept:"image/*",onChange:L=>{var Ce;const ge=(Ce=L.target.files)==null?void 0:Ce[0];if(ge){const Ie=new FileReader;Ie.onload=We=>{var qe;A({...g,imageData:(qe=We.target)==null?void 0:qe.result})},Ie.readAsDataURL(ge)}},className:"hidden"})]}),a.jsxs("div",{className:"flex-1 flex flex-col gap-2",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsxs("select",{value:g.category,onChange:L=>A({...g,category:L.target.value}),className:"w-full px-2 py-1.5 text-xs border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-gray-500",required:!0,children:[a.jsx("option",{value:"",children:""}),c.filter(L=>L!=="").map(L=>a.jsx("option",{value:L,children:L},L))]}),a.jsx("input",{type:"text",value:g.brand,onChange:L=>A({...g,brand:L.target.value}),className:"w-full px-2 py-1.5 text-xs border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-gray-500",placeholder:""}),a.jsx("input",{type:"text",value:g.name,onChange:L=>A({...g,name:L.target.value}),className:"w-full px-2 py-1.5 text-xs border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-gray-500",placeholder:"",required:!0}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",value:g.price,onChange:Me,className:"w-full px-2 py-1.5 text-xs border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-gray-500 pr-8",placeholder:""}),a.jsx("span",{className:"absolute right-2 top-1/2 -translate-y-1/2 text-xs text-gray-500",children:""})]})]}),a.jsx("div",{className:"flex gap-1",children:["","","",""].map((L,ge)=>{const Ce=ge===3?"":L;return a.jsx("button",{type:"button",onClick:()=>{g.grades.includes(Ce)?A({...g,grades:g.grades.filter(Ie=>Ie!==Ce)}):A({...g,grades:[...g.grades,Ce]})},className:`flex-1 px-1 py-1 text-xs font-medium rounded transition-colors ${g.grades.includes(Ce)?Ce===""?"bg-violet-500 text-white":Ce===""?"bg-sky-500 text-white":Ce===""?"bg-emerald-500 text-white":"bg-amber-400 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:L},Ce)})}),a.jsxs("div",{className:"flex gap-1.5 mt-3",children:[a.jsx("button",{type:"submit",className:"flex-1 px-3 py-1.5 text-xs bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors",children:b?"":""}),b&&a.jsx("button",{type:"button",onClick:st,className:"px-3 py-1.5 text-xs bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",children:""})]})]})]}),a.jsx("div",{className:"p-3 pt-0"})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-gray-200",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-900 mr-3",children:" "}),a.jsxs("div",{className:"flex gap-2 flex-1",children:[["","","",""].map(L=>a.jsx("button",{onClick:()=>{k.includes(L)?_(k.filter(ge=>ge!==L)):_([...k,L])},className:`px-3 py-1.5 rounded text-xs font-medium transition-colors ${k.includes(L)?L===""?"bg-violet-500 text-white":L===""?"bg-sky-500 text-white":L===""?"bg-emerald-500 text-white":"bg-amber-400 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:L},L)),k.length>0&&a.jsx("button",{onClick:()=>_([]),className:"px-3 py-1.5 rounded text-xs font-medium bg-gray-200 text-gray-700 hover:bg-gray-300 transition-colors",children:""})]})]})}),a.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-gray-200",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("h3",{className:"text-sm font-semibold text-gray-900",children:["",e==="project"&&p&&a.jsxs("span",{className:"ml-1 text-gray-600",children:["(",(ze=m.find(L=>L.id===p))==null?void 0:ze.title,")"]})]}),a.jsx("button",{onClick:he,className:"p-1 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded transition-colors",title:" ",children:a.jsx(YS,{className:"h-4 w-4"})})]}),a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:c.map(L=>{const ge=X(L),Ce=(e==="library"||e==="project"&&p)&&ge>0;return a.jsxs("button",{onClick:()=>f(L),className:`px-2 py-1.5 rounded text-xs font-medium transition-colors ${d===L?"bg-gray-800 text-white":"bg-gray-50 text-gray-700 hover:bg-gray-100"}`,children:[L,Ce&&a.jsxs("span",{className:`ml-1 ${d===L?"text-gray-300":"text-gray-400"}`,children:["(",ge,")"]})]},L)})})]})]}),e==="library"?a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden pr-4 pt-3",children:[a.jsx("div",{className:"mb-4 px-4",children:a.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-6 gap-2 lg:gap-4",children:[a.jsx("button",{onClick:()=>{t("library"),h(null)},className:`col-span-1 lg:col-span-1 h-9 rounded-lg font-medium transition-colors text-xs md:text-sm flex items-center justify-center ${e==="library"?"bg-gray-800 text-white":"bg-gray-200 text-gray-700"}`,children:" "}),a.jsxs("select",{value:p||"",onChange:L=>{L.target.value?(t("project"),h(Number(L.target.value))):(t("library"),h(null))},className:"col-span-1 lg:col-span-1 lg:col-start-4 h-9 border border-gray-300 rounded-lg focus:outline-none bg-white text-xs md:text-sm px-1 md:px-2",children:[a.jsx("option",{value:"",children:" "}),m.map(L=>a.jsx("option",{value:L.id,children:L.title},L.id))]})]})}),a.jsxs("div",{className:"flex-1 flex flex-col md:flex-row overflow-hidden",children:[a.jsx("div",{className:"w-full md:w-1/2 flex flex-col overflow-hidden pb-4 md:pr-3",children:a.jsx("div",{className:"flex-1 overflow-y-auto bg-gray-50 rounded-lg p-4",children:j?a.jsx("div",{className:"flex items-center justify-center h-full",children:a.jsx("div",{className:"text-gray-500",children:" ..."})}):r.length===0?a.jsx("div",{className:"flex items-center justify-center h-full text-gray-500 text-sm",children:"   "}):a.jsx(pp,{sensors:S,collisionDetection:dp,onDragEnd:se,children:a.jsx(yp,{items:r.map(L=>L.id),strategy:gp,children:a.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-4",children:r.map(L=>a.jsx(nj,{item:L,onEdit:lt,onDelete:Xe,onImageClick:ft},L.id))})})})})}),a.jsx("div",{className:"hidden md:block w-px bg-gray-300 self-stretch"}),a.jsx("div",{className:"hidden md:flex w-1/2 flex-col overflow-hidden pl-3 pb-4",children:a.jsx("div",{className:"flex-1 overflow-y-auto bg-gray-50 rounded-lg p-4",children:a.jsx("div",{className:"flex items-center justify-center h-full text-gray-400 text-sm",children:"     "})})})]})]}):a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden pr-4 pt-3",children:[a.jsx("div",{className:"mb-4 px-4",children:a.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-6 gap-2 lg:gap-4",children:[a.jsx("button",{onClick:()=>{t("library"),h(null)},className:"col-span-1 lg:col-span-1 h-9 rounded-lg font-medium transition-colors bg-gray-200 text-gray-700 text-xs md:text-sm flex items-center justify-center",children:" "}),a.jsxs("select",{value:p||"",onChange:L=>{L.target.value?(t("project"),h(Number(L.target.value))):(t("library"),h(null))},className:"col-span-1 lg:col-span-1 lg:col-start-4 h-9 border border-gray-300 rounded-lg focus:outline-none bg-white text-xs md:text-sm px-1 md:px-2",children:[a.jsx("option",{value:"",children:" "}),m.map(L=>a.jsx("option",{value:L.id,children:L.title},L.id))]})]})}),a.jsxs("div",{className:"flex-1 flex flex-col md:flex-row overflow-hidden gap-4",children:[a.jsx("div",{className:"hidden md:flex md:w-1/2 flex-col overflow-hidden pb-4 md:pr-3",children:a.jsx("div",{className:"flex-1 overflow-y-auto bg-gray-50 rounded-lg p-4",children:j?a.jsx("div",{className:"flex items-center justify-center h-full",children:a.jsx("div",{className:"text-gray-500",children:" ..."})}):s.length===0?a.jsx("div",{className:"flex items-center justify-center h-full text-gray-500 text-sm",children:"  "}):a.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-4",children:s.filter(L=>d===""||L.category===d).map(L=>a.jsxs("div",{draggable:!0,onDragStart:ge=>{ge.dataTransfer.setData("itemId",L.id.toString()),ge.dataTransfer.effectAllowed="copy"},className:"bg-white rounded-lg shadow-sm hover:shadow-md transition-all border border-gray-200 overflow-hidden cursor-move flex flex-col",children:[a.jsx("div",{className:"w-full aspect-square bg-gray-100",children:L.image_url?a.jsx("img",{src:L.image_url,alt:L.name,className:"w-full h-full object-contain"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400 text-xs",children:" "})}),a.jsxs("div",{className:"p-2 pt-1.5 flex flex-col flex-1",children:[a.jsxs("div",{className:"flex items-start justify-between mb-1",children:[a.jsx("span",{className:"inline-block px-1.5 py-0.5 text-xs bg-gray-100 text-gray-700 rounded",children:L.category}),L.grade&&a.jsx("span",{className:`inline-block px-1.5 py-0.5 text-xs rounded ${hE(L.grade)}`,children:mE(L.grade)})]}),a.jsxs("div",{className:"flex items-baseline justify-between gap-1 mt-auto",children:[a.jsxs("div",{className:"flex items-baseline gap-1 min-w-0",children:[a.jsx("h3",{className:"font-semibold text-xs text-gray-900 truncate",children:L.name}),L.brand&&a.jsx("span",{className:"text-xs text-gray-600 flex-shrink-0",children:L.brand})]}),L.price&&a.jsxs("span",{className:"text-xs text-gray-900 font-medium flex-shrink-0",children:[L.price,""]})]})]})]},L.id))})})}),a.jsx("div",{className:"hidden md:block w-px bg-gray-300 self-stretch"}),a.jsx("div",{className:"w-full md:w-1/2 flex flex-col overflow-hidden md:pl-3 pb-4",children:a.jsx("div",{className:"flex-1 overflow-y-auto bg-gray-50 rounded-lg p-4",onDragOver:L=>{L.preventDefault(),L.dataTransfer.dropEffect="copy"},onDrop:async L=>{L.preventDefault();const ge=L.dataTransfer.getData("itemId");if(ge&&p)try{const Ce=s.find(Ie=>Ie.id===Number(ge));if(Ce){const{id:Ie,created_at:We,updated_at:qe,...Dt}=Ce;await Ee.post("/specbook/base64",{...Dt,isLibrary:!1,projectId:p}),z.success("  "),E(),ne()}}catch(Ce){console.error("  :",Ce),z.error("  ")}},children:j?a.jsx("div",{className:"flex items-center justify-center h-full",children:a.jsx("div",{className:"text-gray-500",children:" ..."})}):r.length===0?a.jsx("div",{className:"flex items-center justify-center h-full text-gray-600 text-sm",children:"   "}):a.jsx(pp,{sensors:S,collisionDetection:dp,onDragEnd:se,children:a.jsx(yp,{items:r.filter(L=>d===""||L.category===d).map(L=>L.id),strategy:gp,children:a.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-4",children:r.filter(L=>d===""||L.category===d).map(L=>a.jsx(nj,{item:L,onEdit:lt,onDelete:Xe,onImageClick:ft},L.id))})})})})})]})]})]}),I&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md mx-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[a.jsx("h2",{className:"text-lg font-bold text-gray-900",children:" "}),a.jsx("button",{onClick:de,className:"text-gray-500 hover:text-gray-700 transition-colors",children:a.jsx(rt,{className:"h-5 w-5"})})]}),a.jsxs("div",{className:"p-4",children:[a.jsx("div",{className:"mb-4",children:a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:G,onChange:L=>xe(L.target.value),onKeyPress:L=>{L.key==="Enter"&&je()},className:"flex-1 px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",placeholder:"  "}),a.jsxs("button",{onClick:je,className:"px-4 py-2 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors flex items-center gap-1",children:[a.jsx(Os,{className:"h-4 w-4"}),""]})]})}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  (  )"}),a.jsx("div",{className:"max-h-120 overflow-y-auto border border-gray-200 rounded-lg",children:a.jsx(pp,{sensors:S,collisionDetection:dp,onDragEnd:Ge,children:a.jsx(yp,{items:Z,strategy:gp,children:Z.map(L=>a.jsx(one,{category:L,onRemove:Le,onEdit:Re},L))})})})]}),a.jsx("div",{className:"flex justify-center",children:a.jsx("button",{onClick:de,className:"px-6 py-2 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors",children:""})})]})]})}),re&&ce&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-6xl max-h-[90vh] overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 md:p-6 border-b border-gray-200",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:ce.name}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"    Ctrl+V /PDF   "})]}),a.jsx("button",{onClick:fe,className:"text-gray-500 hover:text-gray-700 transition-colors",children:a.jsx(rt,{className:"h-6 w-6"})})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-4 md:p-6",onDragOver:L=>{L.preventDefault(),ve(!0)},onDragLeave:L=>{L.preventDefault(),ve(!1)},onDrop:or,children:[a.jsx("input",{ref:M,type:"file",accept:"image/*,application/pdf",multiple:!0,onChange:it,className:"hidden"}),a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:[ce.image_url&&a.jsxs("div",{className:"relative group",children:[a.jsx("div",{className:"aspect-square bg-gray-100 rounded-lg overflow-hidden border-2 border-blue-500 cursor-pointer hover:border-blue-600 transition-colors",onClick:()=>ae(ce.image_url),children:a.jsx("img",{src:ce.image_url,alt:" ",className:"w-full h-full object-contain"})}),a.jsx("div",{className:"absolute top-2 left-2 bg-blue-500 text-white text-xs font-bold px-2 py-1 rounded",children:""})]}),oe.map((L,ge)=>{const Ce=L.startsWith("data:application/pdf");return a.jsxs("div",{className:"relative group",children:[a.jsx("div",{className:"aspect-square bg-gray-100 rounded-lg overflow-hidden border-2 border-gray-200 hover:border-gray-400 transition-colors cursor-pointer",onClick:()=>!Ce&&ae(L),children:Ce?a.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center text-red-600",children:[a.jsxs("svg",{className:"h-16 w-16 mb-2",fill:"currentColor",viewBox:"0 0 24 24",children:[a.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6z"}),a.jsx("path",{d:"M14 2v6h6M10 12h4M10 16h4"})]}),a.jsx("span",{className:"text-xs font-medium",children:"PDF"})]}):a.jsx("img",{src:L,alt:`  ${ge+1}`,className:"w-full h-full object-contain"})}),a.jsx("button",{onClick:()=>$(ge),className:"absolute top-2 right-2 p-1.5 bg-gray-700 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity hover:bg-gray-800",children:a.jsx(_t,{className:"h-4 w-4"})})]},ge)}),a.jsx("div",{onClick:()=>{var L;return(L=M.current)==null?void 0:L.click()},className:"aspect-square border-2 border-dashed border-gray-300 rounded-lg flex items-center justify-center cursor-pointer hover:border-gray-400 hover:bg-gray-50 transition-colors",children:a.jsx(Os,{className:"h-12 w-12 text-gray-400"})})]})]}),a.jsx("div",{className:"flex items-center justify-center p-4 border-t border-gray-200 bg-gray-50",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("p",{className:"text-sm text-gray-600",children:[" ",(ce.image_url?1:0)+oe.length," "]}),te&&a.jsxs("p",{className:"text-sm text-blue-600 flex items-center gap-2",children:[a.jsxs("svg",{className:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})," ..."]})]})})]})}),H&&a.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-[60] overflow-hidden",onClick:L=>{L.target===L.currentTarget&&(ae(null),F(1),T({x:0,y:0}))},onWheel:L=>{L.preventDefault();const ge=L.deltaY>0?-.1:.1;F(Ce=>Math.max(.5,Math.min(5,Ce+ge)))},children:[a.jsxs("div",{className:"absolute top-4 right-4 flex flex-col gap-2",children:[a.jsx("button",{onClick:()=>ae(null),className:"p-2 bg-white bg-opacity-10 hover:bg-opacity-20 rounded-full transition-colors",children:a.jsx(rt,{className:"h-6 w-6 text-white"})}),a.jsx("button",{onClick:L=>{L.stopPropagation(),F(ge=>Math.min(5,ge+.5))},className:"p-2 bg-white bg-opacity-10 hover:bg-opacity-20 rounded-full transition-colors",title:" (+)",children:a.jsx("svg",{className:"h-6 w-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v6m3-3H7"})})}),a.jsx("button",{onClick:L=>{L.stopPropagation(),F(ge=>Math.max(.5,ge-.5))},className:"p-2 bg-white bg-opacity-10 hover:bg-opacity-20 rounded-full transition-colors",title:" (-)",children:a.jsx("svg",{className:"h-6 w-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM13 10H7"})})}),a.jsx("button",{onClick:L=>{L.stopPropagation(),F(1),T({x:0,y:0})},className:"p-2 bg-white bg-opacity-10 hover:bg-opacity-20 rounded-full transition-colors",title:"",children:a.jsx("svg",{className:"h-6 w-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})})]}),a.jsxs("div",{className:"absolute top-4 left-4 bg-white bg-opacity-10 text-white px-3 py-2 rounded-lg text-sm",children:[Math.round(Ne*100),"%"]}),a.jsx("div",{className:"w-full h-full flex items-center justify-center overflow-hidden",onMouseDown:L=>{Ne>1&&(Y(!0),Te({x:L.clientX-ie.x,y:L.clientY-ie.y}))},onMouseMove:L=>{W&&Ne>1&&T({x:L.clientX-ee.x,y:L.clientY-ee.y})},onMouseUp:()=>Y(!1),onMouseLeave:()=>Y(!1),onDoubleClick:L=>{L.stopPropagation(),Ne===1?F(2):(F(1),T({x:0,y:0}))},children:a.jsx("img",{src:H,alt:" ",style:{transform:`scale(${Ne}) translate(${ie.x/Ne}px, ${ie.y/Ne}px)`,transformOrigin:"center center",transition:W?"none":"transform 0.1s ease-out",maxWidth:"100%",maxHeight:"100%",objectFit:"contain",cursor:Ne>1?W?"grabbing":"grab":"pointer",userSelect:"none"},draggable:!1})}),a.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 bg-white bg-opacity-10 text-white px-4 py-2 rounded-lg text-xs text-center",children:"  / |   |  2 /"})]})]})},cne=()=>{var Q,G,xe,re,pe,ce,q,oe,J,H,ae,ye,ve,te,ue,Ne,F,ie,T,W,Y,ee,Te,we,M,y,C,S,D,P,K,ne;const[e,t]=w.useState({projectName:"",clientName:"",areaSize:0,residenceType:[],grade:[],finishType:"",bathroomCount:[],ceilingHeight:[],expansionWork:[],livingRoomExpansion:!1,roomExpansion:!1,roomExpansionCount:0,kitchenExpansion:!1,floorMaterial:[],wallMaterial:[],ceilingMaterial:[],furnitureWork:[],furnitureHardwareGrade:[],kitchenCountertop:[],switchPublic:[],switchRoom:[],lightingType:[],indirectLightingPublic:[],indirectLightingRoom:[],bathroomCeiling:[],bathroomTileGrade:[],bathroomFaucet:[],bathroomTile:[],bathroomGrout:[],moldingPublic:[],moldingRoom:[],includeSash:!1,includeGrooving:!1,includeBangtong:!1,includeAircon:!1,airconCount:1,airconType:[]}),[r,n]=w.useState(null),[s,i]=w.useState(!1),[o,l]=w.useState([]),[c,u]=w.useState("form"),[d,f]=w.useState(null),[m,v]=w.useState({floor:{},wall:{},furniture:{},countertop:{},switch:{},lighting:{},indirectLighting:{},molding:{},bathroom:{ceiling:{},faucet:{},tile:{},grout:{}},expansion:{}});w.useEffect(()=>{p(),h()},[]),w.useEffect(()=>{if(!e.areaSize||e.areaSize<=0||e.grade.length===0){n(null);return}const E=setTimeout(()=>{k()},500);return()=>clearTimeout(E)},[e]),w.useEffect(()=>{if(!m.floor||Object.keys(m.floor).length===0)return;const E=setTimeout(()=>{j()},500);return()=>clearTimeout(E)},[m]);const p=async()=>{try{const E=await Ee.get("/estimate-preview/list");l(E.data)}catch(E){console.error("   :",E)}},h=async()=>{try{const E=await Ee.get("/estimate-preview/settings/prices");E.data&&E.data.settings&&Object.keys(E.data.settings).length>0&&v(E.data.settings)}catch(E){console.error("   :",E)}},j=async()=>{try{await Ee.post("/estimate-preview/settings/prices",{settings:m})}catch(E){console.error("   :",E)}},x=(E,X,B,le)=>{v(Pe=>{const Me={...Pe};return Me[E]||(Me[E]={}),Me[E][X]||(Me[E][X]={min:"",max:""}),Me[E][X][B]=le,Me})},b=(E,X,B,le)=>{v(Pe=>{const Me={...Pe};return Me.bathroom[E]||(Me.bathroom[E]={}),Me.bathroom[E][X]||(Me.bathroom[E][X]={min:"",max:""}),Me.bathroom[E][X][B]=le,Me})},N=E=>{const{name:X,value:B,type:le}=E.target;if(le==="checkbox"){const Pe=E.target.checked;t(Me=>({...Me,[X]:Pe}))}else t(X==="areaSize"||X==="bathroomCount"||X==="airconCount"||X==="roomExpansionCount"?Pe=>({...Pe,[X]:Number(B)||0}):Pe=>({...Pe,[X]:B}))},g=(E,X)=>{const B=e[E];if(Array.isArray(B)){const le=B.includes(X)?B.filter(Pe=>Pe!==X):[...B,X];t(Pe=>({...Pe,[E]:le}))}},A=async()=>{if(!e.projectName){z.error(" ");return}if(!e.areaSize||e.areaSize<=0){z.error("  ");return}if(e.grade.length===0){z.error(" ");return}i(!0);try{const E={...e,residenceType:JSON.stringify(e.residenceType),grade:JSON.stringify(e.grade),bathroomCount:JSON.stringify(e.bathroomCount),ceilingHeight:JSON.stringify(e.ceilingHeight),expansionWork:JSON.stringify(e.expansionWork),floorMaterial:JSON.stringify(e.floorMaterial),wallMaterial:JSON.stringify(e.wallMaterial),ceilingMaterial:JSON.stringify(e.ceilingMaterial),furnitureWork:JSON.stringify(e.furnitureWork),furnitureHardwareGrade:JSON.stringify(e.furnitureHardwareGrade),kitchenCountertop:JSON.stringify(e.kitchenCountertop),switchPublic:JSON.stringify(e.switchPublic),switchRoom:JSON.stringify(e.switchRoom),lightingType:JSON.stringify(e.lightingType),indirectLightingPublic:JSON.stringify(e.indirectLightingPublic),indirectLightingRoom:JSON.stringify(e.indirectLightingRoom),bathroomCeiling:JSON.stringify(e.bathroomCeiling),bathroomTileGrade:JSON.stringify(e.bathroomTileGrade),bathroomFaucet:JSON.stringify(e.bathroomFaucet),bathroomTile:JSON.stringify(e.bathroomTile),bathroomGrout:JSON.stringify(e.bathroomGrout),moldingPublic:JSON.stringify(e.moldingPublic),moldingRoom:JSON.stringify(e.moldingRoom)},X=await Ee.post("/estimate-preview/create",E);n(X.data),z.success(" "),p()}catch(E){console.error("  :",E),z.error("  ")}finally{i(!1)}},k=async()=>{i(!0);try{const E={...e,projectName:e.projectName||"",clientName:e.clientName||"",residenceType:JSON.stringify(e.residenceType),grade:JSON.stringify(e.grade),bathroomCount:JSON.stringify(e.bathroomCount),ceilingHeight:JSON.stringify(e.ceilingHeight),expansionWork:JSON.stringify(e.expansionWork),floorMaterial:JSON.stringify(e.floorMaterial),wallMaterial:JSON.stringify(e.wallMaterial),ceilingMaterial:JSON.stringify(e.ceilingMaterial),furnitureWork:JSON.stringify(e.furnitureWork),furnitureHardwareGrade:JSON.stringify(e.furnitureHardwareGrade),kitchenCountertop:JSON.stringify(e.kitchenCountertop),switchPublic:JSON.stringify(e.switchPublic),switchRoom:JSON.stringify(e.switchRoom),lightingType:JSON.stringify(e.lightingType),indirectLightingPublic:JSON.stringify(e.indirectLightingPublic),indirectLightingRoom:JSON.stringify(e.indirectLightingRoom),bathroomCeiling:JSON.stringify(e.bathroomCeiling),bathroomTileGrade:JSON.stringify(e.bathroomTileGrade),bathroomFaucet:JSON.stringify(e.bathroomFaucet),bathroomTile:JSON.stringify(e.bathroomTile),bathroomGrout:JSON.stringify(e.bathroomGrout),moldingPublic:JSON.stringify(e.moldingPublic),moldingRoom:JSON.stringify(e.moldingRoom)},X=await Ee.post("/estimate-preview/calculate",E);n(X.data)}catch(E){console.error("   :",E),n(null)}finally{i(!1)}},_=async E=>{try{const B=(await Ee.get(`/estimate-preview/${E}`)).data;t({projectName:B.project_name,clientName:B.client_name,areaSize:B.area_size,residenceType:B.residence_type?JSON.parse(B.residence_type):[],grade:B.grade,finishType:B.finish_type||"",bathroomCount:B.bathroom_count?JSON.parse(B.bathroom_count):[],ceilingHeight:B.ceiling_height?JSON.parse(B.ceiling_height):[],includeSash:B.include_sash===1,includeGrooving:B.include_grooving===1,includeBangtong:B.include_bangtong===1,includeAircon:B.include_aircon===1,airconCount:B.aircon_count||1,airconType:B.aircon_type?JSON.parse(B.aircon_type):[],floorMaterial:B.floor_material?JSON.parse(B.floor_material):[],wallMaterial:B.wall_material?JSON.parse(B.wall_material):[],ceilingMaterial:B.ceiling_material?JSON.parse(B.ceiling_material):[],furnitureWork:B.furniture_work?JSON.parse(B.furniture_work):[],furnitureHardwareGrade:B.furniture_hardware_grade?JSON.parse(B.furniture_hardware_grade):[],kitchenCountertop:B.kitchen_countertop?JSON.parse(B.kitchen_countertop):[],switchPublic:B.switch_public?JSON.parse(B.switch_public):[],switchRoom:B.switch_room?JSON.parse(B.switch_room):[],lightingType:B.lighting_type?JSON.parse(B.lighting_type):[],indirectLightingPublic:B.indirect_lighting_public?JSON.parse(B.indirect_lighting_public):[],indirectLightingRoom:B.indirect_lighting_room?JSON.parse(B.indirect_lighting_room):[],bathroomCeiling:B.bathroom_ceiling?JSON.parse(B.bathroom_ceiling):[],bathroomTileGrade:B.bathroom_tile_grade?JSON.parse(B.bathroom_tile_grade):[],bathroomFaucet:B.bathroom_faucet?JSON.parse(B.bathroom_faucet):[],bathroomTile:B.bathroom_tile?JSON.parse(B.bathroom_tile):[],bathroomGrout:B.bathroom_grout?JSON.parse(B.bathroom_grout):[],moldingPublic:B.molding_public?JSON.parse(B.molding_public):[],moldingRoom:B.molding_room?JSON.parse(B.molding_room):[]}),n({baseConstructionCost:B.base_construction_cost,fixtureCost:B.fixture_cost,sashCost:B.sash_cost,heatingCost:B.heating_cost,airconCost:B.aircon_cost,totalMinCost:B.total_min_cost,totalMaxCost:B.total_max_cost,detailBreakdown:B.detail_breakdown}),f(B),u("form"),z.success(" ")}catch(X){console.error("  :",X),z.error("  ")}},O=async E=>{if(window.confirm("  ?"))try{await Ee.delete(`/estimate-preview/${E}`),z.success(" "),p()}catch(X){console.error("  :",X),z.error("  ")}},R=E=>new Intl.NumberFormat("ko-KR",{style:"currency",currency:"KRW",minimumFractionDigits:0}).format(E),I=()=>{t({projectName:"",clientName:"",areaSize:0,residenceType:[],grade:[],finishType:"",bathroomCount:[],ceilingHeight:[],includeSash:!1,includeGrooving:!1,includeBangtong:!1,includeAircon:!1,airconCount:1,airconType:[],livingRoomExpansion:!1,roomExpansion:!1,roomExpansionCount:0,kitchenExpansion:!1,floorMaterial:[],wallMaterial:[],ceilingMaterial:[],furnitureWork:[],furnitureHardwareGrade:[],kitchenCountertop:[],switchPublic:[],switchRoom:[],lightingType:[],indirectLightingPublic:[],indirectLightingRoom:[],bathroomCeiling:[],bathroomTileGrade:[],bathroomFaucet:[],bathroomTile:[],bathroomGrout:[],moldingPublic:[],moldingRoom:[]}),n(null),f(null)},V=()=>{z.info("PDF    ")},Z={total:o.length,thisMonth:o.filter(E=>{const X=new Date(E.created_at),B=new Date;return X.getMonth()===B.getMonth()&&X.getFullYear()===B.getFullYear()}).length};return a.jsxs("div",{className:"space-y-3 md:space-y-4",children:[a.jsxs("div",{className:"border-b border-gray-200 flex items-center justify-between",children:[a.jsx("nav",{className:"flex space-x-4 md:space-x-8",children:[{id:"form",label:" "},{id:"history",label:" ",count:Z.total,icon:VS},{id:"settings",label:" ",icon:YS}].map(E=>a.jsxs("button",{onClick:()=>u(E.id),className:Cr("py-3 md:py-4 px-1 border-b-2 font-medium text-xs md:text-sm transition-colors whitespace-nowrap flex items-center gap-2",c===E.id?"border-gray-700 text-gray-700":"border-transparent text-gray-400 hover:text-gray-700 hover:border-gray-300"),children:[E.icon&&a.jsx(E.icon,{className:"h-4 w-4"}),E.label,E.count!==void 0&&E.count>0&&a.jsx("span",{className:Cr("ml-1 py-0.5 px-1.5 rounded-full text-[10px] md:text-xs font-semibold",c===E.id?"bg-gray-700 text-white":"bg-gray-200 text-gray-600"),children:E.count})]},E.id))}),a.jsxs("button",{onClick:I,className:"px-3 md:px-4 py-2 bg-gray-700 text-white text-xs md:text-sm rounded hover:bg-gray-800 transition-colors flex items-center gap-2",children:[a.jsx(Os,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden md:inline",children:" "})]})]}),c==="form"&&a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 md:gap-6",children:[a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 md:p-6",children:[a.jsx("h2",{className:"text-base md:text-lg font-semibold text-gray-800 mb-4",children:"  "}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[a.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg md:col-span-2",children:[a.jsx("h3",{className:"text-sm font-bold text-gray-800 mb-2 pb-1 border-b border-gray-200",children:" "}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:[" ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"projectName",value:e.projectName,onChange:N,className:"w-full px-3 py-2 text-sm border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-gray-400 focus:border-gray-400",placeholder:":  "})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:[" ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"number",name:"areaSize",value:e.areaSize||"",onChange:N,className:"w-full px-3 py-2 text-sm border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-gray-400 focus:border-gray-400",placeholder:": 25",min:"1"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "}),a.jsx("div",{className:"grid grid-cols-2 md:flex md:flex-wrap gap-2",children:["","","","",""].map(E=>a.jsxs("label",{className:"flex items-center text-xs md:text-sm whitespace-nowrap",children:[a.jsx("input",{type:"checkbox",checked:e.residenceType.includes(E),onChange:()=>g("residenceType",E),className:"mr-1 rounded border-gray-300 text-gray-600 focus:ring-gray-400 flex-shrink-0"}),a.jsx("span",{className:"text-gray-700",children:E})]},E))})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:[" ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("div",{className:"grid grid-cols-2 md:flex gap-2 md:gap-3",children:["","","",""].map(E=>a.jsxs("label",{className:"flex items-center text-xs md:text-sm whitespace-nowrap",children:[a.jsx("input",{type:"checkbox",checked:e.grade.includes(E),onChange:()=>g("grade",E),className:"mr-1.5 md:mr-2 rounded border-gray-300 text-gray-600 focus:ring-gray-400 flex-shrink-0"}),a.jsx("span",{className:"text-gray-700",children:E})]},E))})]})]})]})]}),a.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[a.jsx("h3",{className:"text-sm font-bold text-gray-800 mb-2 pb-1 border-b border-gray-200",children:" "}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:""}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"grid grid-cols-2 md:flex gap-2 md:gap-4",children:["","","",""].map(E=>a.jsxs("label",{className:"flex items-center text-xs md:text-sm whitespace-nowrap",children:[a.jsx("input",{type:"checkbox",checked:e.floorMaterial.includes(E),onChange:()=>g("floorMaterial",E),className:"mr-1.5 md:mr-2 rounded border-gray-300 text-gray-600 focus:ring-gray-400 flex-shrink-0"}),a.jsx("span",{className:"text-gray-700",children:E})]},E))}),a.jsx("div",{className:"grid grid-cols-2 md:flex gap-2 md:gap-4",children:["600 ","800-900 ","1200 "].map(E=>a.jsxs("label",{className:"flex items-center text-xs md:text-sm whitespace-nowrap",children:[a.jsx("input",{type:"checkbox",checked:e.floorMaterial.includes(E),onChange:()=>g("floorMaterial",E),className:"mr-1.5 md:mr-2 rounded border-gray-300 text-gray-600 focus:ring-gray-400 flex-shrink-0"}),a.jsx("span",{className:"text-gray-700",children:E})]},E))})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" / "}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:["","()","()","()","","","",""].map(E=>a.jsxs("label",{className:"flex items-center text-xs md:text-sm whitespace-nowrap",children:[a.jsx("input",{type:"checkbox",checked:e.wallMaterial.includes(E),onChange:()=>g("wallMaterial",E),className:"mr-1.5 md:mr-2 rounded border-gray-300 text-gray-600 focus:ring-gray-400 flex-shrink-0"}),a.jsx("span",{className:"text-gray-700",children:E})]},E))}),a.jsx("div",{className:"grid grid-cols-1",children:a.jsxs("label",{className:"flex items-center text-xs md:text-sm",children:[a.jsx("input",{type:"checkbox",checked:e.wallMaterial.includes("()+()"),onChange:()=>g("wallMaterial","()+()"),className:"mr-1.5 md:mr-2 rounded border-gray-300 text-gray-600 focus:ring-gray-400 flex-shrink-0"}),a.jsx("span",{className:"text-gray-700 break-keep",children:"()+()"})]})})]})]})]})]}),a.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[a.jsx("h3",{className:"text-sm font-bold text-gray-800 mb-2 pb-1 border-b border-gray-200",children:" "}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" "}),a.jsx("div",{className:"flex gap-2 md:gap-3",children:["0","1","2","3","4"].map(E=>a.jsxs("label",{className:"flex items-center text-xs md:text-sm",children:[a.jsx("input",{type:"checkbox",checked:e.bathroomCount.includes(E),onChange:()=>g("bathroomCount",E),className:"mr-1.5 md:mr-2 rounded border-gray-300 text-gray-600 focus:ring-gray-400 flex-shrink-0"}),a.jsx("span",{className:"text-gray-700",children:E})]},E))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:""}),a.jsx("div",{className:"flex gap-2 md:gap-3",children:["2400","2400~2600","2600"].map(E=>a.jsxs("label",{className:"flex items-center text-xs md:text-sm whitespace-nowrap",children:[a.jsx("input",{type:"checkbox",checked:e.ceilingHeight.includes(E),onChange:()=>g("ceilingHeight",E),className:"mr-1.5 md:mr-2 rounded border-gray-300 text-gray-600 focus:ring-gray-400 flex-shrink-0"}),a.jsx("span",{className:"text-gray-700",children:E})]},E))})]})]}),a.jsxs("div",{className:"pt-2",children:[a.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" "}),a.jsxs("div",{className:"grid grid-cols-1 md:flex gap-2 md:gap-4 md:flex-wrap",children:[a.jsxs("label",{className:"flex items-center text-xs md:text-sm whitespace-nowrap",children:[a.jsx("input",{type:"checkbox",name:"livingRoomExpansion",checked:e.livingRoomExpansion,onChange:N,className:"mr-1.5 md:mr-2 rounded border-gray-300 text-gray-600 focus:ring-gray-400 flex-shrink-0"}),a.jsx("span",{className:"text-gray-700",children:" "})]}),a.jsxs("label",{className:"flex items-center text-xs md:text-sm whitespace-nowrap",children:[a.jsx("input",{type:"checkbox",name:"kitchenExpansion",checked:e.kitchenExpansion,onChange:N,className:"mr-1.5 md:mr-2 rounded border-gray-300 text-gray-600 focus:ring-gray-400 flex-shrink-0"}),a.jsx("span",{className:"text-gray-700",children:" "})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsxs("label",{className:"flex items-center text-xs md:text-sm whitespace-nowrap",children:[a.jsx("input",{type:"checkbox",name:"roomExpansion",checked:e.roomExpansion,onChange:N,className:"mr-1.5 md:mr-2 rounded border-gray-300 text-gray-600 focus:ring-gray-400 flex-shrink-0"}),a.jsx("span",{className:"text-gray-700",children:" "})]}),e.roomExpansion&&a.jsxs("select",{name:"roomExpansionCount",value:e.roomExpansionCount,onChange:N,className:"ml-2 px-2 py-1 text-xs md:text-sm border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-gray-400",children:[a.jsx("option",{value:0,children:""}),a.jsx("option",{value:1,children:"1"}),a.jsx("option",{value:2,children:"2"}),a.jsx("option",{value:3,children:"3"}),a.jsx("option",{value:4,children:"4"})]})]})]})]}),a.jsxs("div",{className:"pt-2",children:[a.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" "}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"flex items-center text-xs md:text-sm",children:[a.jsx("input",{type:"checkbox",name:"includeSash",checked:e.includeSash,onChange:N,className:"mr-1.5 md:mr-2 rounded border-gray-300 text-gray-600 focus:ring-gray-400 flex-shrink-0"}),a.jsx("span",{className:"text-gray-700",children:" "})]}),a.jsxs("label",{className:"flex items-center text-xs md:text-sm",children:[a.jsx("input",{type:"checkbox",name:"includeGrooving",checked:e.includeGrooving,onChange:N,className:"mr-1.5 md:mr-2 rounded border-gray-300 text-gray-600 focus:ring-gray-400 flex-shrink-0"}),a.jsx("span",{className:"text-gray-700 break-keep",children:"(+)"})]}),a.jsxs("label",{className:"flex items-center text-xs md:text-sm",children:[a.jsx("input",{type:"checkbox",name:"includeBangtong",checked:e.includeBangtong,onChange:N,className:"mr-1.5 md:mr-2 rounded border-gray-300 text-gray-600 focus:ring-gray-400 flex-shrink-0"}),a.jsx("span",{className:"text-gray-700 break-keep",children:"(++)"})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center flex-wrap gap-2",children:[a.jsxs("label",{className:"flex items-center text-xs md:text-sm whitespace-nowrap",children:[a.jsx("input",{type:"checkbox",name:"includeAircon",checked:e.includeAircon,onChange:N,className:"mr-1.5 md:mr-2 rounded border-gray-300 text-gray-600 focus:ring-gray-400 flex-shrink-0"}),a.jsx("span",{className:"text-gray-700",children:" "})]}),e.includeAircon&&a.jsx("select",{name:"airconCount",value:e.airconCount,onChange:N,className:"px-2 py-1 text-xs md:text-sm border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-gray-400",children:[1,2,3,4,5,6,7,8,9,10].map(E=>a.jsxs("option",{value:E,children:[E,""]},E))})]}),e.includeAircon&&a.jsx("div",{className:"ml-0 md:ml-6 mt-2 flex gap-2 md:gap-3",children:["2 in 1"," "].map(E=>a.jsxs("label",{className:"flex items-center text-xs md:text-sm whitespace-nowrap",children:[a.jsx("input",{type:"checkbox",checked:e.airconType.includes(E),onChange:()=>g("airconType",E),className:"mr-1.5 md:mr-2 rounded border-gray-300 text-gray-600 focus:ring-gray-400 flex-shrink-0"}),a.jsx("span",{className:"text-gray-700",children:E})]},E))})]})]})]})]})]}),a.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[a.jsx("h3",{className:"text-sm font-bold text-gray-800 mb-2 pb-1 border-b border-gray-200",children:" "}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"  "}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxs("label",{className:"flex items-center text-xs md:text-sm whitespace-nowrap",children:[a.jsx("input",{type:"checkbox",checked:e.furnitureWork.includes(""),onChange:()=>g("furnitureWork",""),className:"mr-1.5 md:mr-2 rounded border-gray-300 text-gray-600 focus:ring-gray-400 flex-shrink-0"}),a.jsx("span",{className:"text-gray-700",children:""})]}),a.jsxs("label",{className:"flex items-center text-xs md:text-sm whitespace-nowrap",children:[a.jsx("input",{type:"checkbox",checked:e.furnitureWork.includes(""),onChange:()=>g("furnitureWork",""),className:"mr-1.5 md:mr-2 rounded border-gray-300 text-gray-600 focus:ring-gray-400 flex-shrink-0"}),a.jsx("span",{className:"text-gray-700",children:""})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxs("label",{className:"flex items-center text-xs md:text-sm whitespace-nowrap",children:[a.jsx("input",{type:"checkbox",checked:e.furnitureHardwareGrade.includes(" BLUM()"),onChange:()=>g("furnitureHardwareGrade"," BLUM()"),className:"mr-1.5 md:mr-2 rounded border-gray-300 text-gray-600 focus:ring-gray-400 flex-shrink-0"}),a.jsx("span",{className:"text-gray-700",children:" BLUM()"})]}),a.jsxs("label",{className:"flex items-center text-xs md:text-sm",children:[a.jsx("input",{type:"checkbox",checked:e.furnitureHardwareGrade.includes("()+()"),onChange:()=>g("furnitureHardwareGrade","()+()"),className:"mr-1.5 md:mr-2 rounded border-gray-300 text-gray-600 focus:ring-gray-400 flex-shrink-0"}),a.jsx("span",{className:"text-gray-700 break-keep",children:"()+()"})]})]}),a.jsx("div",{className:"grid grid-cols-1",children:a.jsxs("label",{className:"flex items-center text-xs md:text-sm",children:[a.jsx("input",{type:"checkbox",checked:e.furnitureHardwareGrade.includes(" BLUM()+()"),onChange:()=>g("furnitureHardwareGrade"," BLUM()+()"),className:"mr-1.5 md:mr-2 rounded border-gray-300 text-gray-600 focus:ring-gray-400 flex-shrink-0"}),a.jsx("span",{className:"text-gray-700 break-keep",children:" BLUM()+()"})]})})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:["","","","",""].map(E=>a.jsxs("label",{className:"flex items-center text-xs md:text-sm whitespace-nowrap",children:[a.jsx("input",{type:"checkbox",checked:e.kitchenCountertop.includes(E),onChange:()=>g("kitchenCountertop",E),className:"mr-1.5 md:mr-2 rounded border-gray-300 text-gray-600 focus:ring-gray-400 flex-shrink-0"}),a.jsx("span",{className:"text-gray-700",children:E})]},E))})]})]})]}),a.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[a.jsx("h3",{className:"text-sm font-bold text-gray-800 mb-2 pb-1 border-b border-gray-200",children:"/"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"/ ()"}),a.jsx("div",{className:"grid grid-cols-2 gap-2",children:["()","()"," "," "].map(E=>a.jsxs("label",{className:"flex items-center text-xs md:text-sm",children:[a.jsx("input",{type:"checkbox",checked:e.switchPublic.includes(E),onChange:()=>g("switchPublic",E),className:"mr-1.5 md:mr-2 rounded border-gray-300 text-gray-600 focus:ring-gray-400 flex-shrink-0"}),a.jsx("span",{className:"text-gray-700 whitespace-nowrap",children:E})]},E))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"/ ()"}),a.jsx("div",{className:"grid grid-cols-2 gap-2",children:["()","()"," "," "].map(E=>a.jsxs("label",{className:"flex items-center text-xs md:text-sm",children:[a.jsx("input",{type:"checkbox",checked:e.switchRoom.includes(E),onChange:()=>g("switchRoom",E),className:"mr-1.5 md:mr-2 rounded border-gray-300 text-gray-600 focus:ring-gray-400 flex-shrink-0"}),a.jsx("span",{className:"text-gray-700 whitespace-nowrap",children:E})]},E))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:""}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"grid grid-cols-2 gap-2",children:["",""].map(E=>a.jsxs("label",{className:"flex items-center text-xs md:text-sm whitespace-nowrap",children:[a.jsx("input",{type:"checkbox",checked:e.lightingType.includes(E),onChange:()=>g("lightingType",E),className:"mr-1.5 md:mr-2 rounded border-gray-300 text-gray-600 focus:ring-gray-400 flex-shrink-0"}),a.jsx("span",{className:"text-gray-700",children:E})]},E))}),a.jsx("div",{className:"grid grid-cols-2 gap-2",children:["()","()"].map(E=>a.jsxs("label",{className:"flex items-center text-xs md:text-sm whitespace-nowrap",children:[a.jsx("input",{type:"checkbox",checked:e.lightingType.includes(E),onChange:()=>g("lightingType",E),className:"mr-1.5 md:mr-2 rounded border-gray-300 text-gray-600 focus:ring-gray-400 flex-shrink-0"}),a.jsx("span",{className:"text-gray-700",children:E})]},E))}),a.jsx("div",{className:"grid grid-cols-2 gap-2",children:a.jsxs("label",{className:"flex items-center text-xs md:text-sm whitespace-nowrap",children:[a.jsx("input",{type:"checkbox",checked:e.lightingType.includes("()"),onChange:()=>g("lightingType","()"),className:"mr-1.5 md:mr-2 rounded border-gray-300 text-gray-600 focus:ring-gray-400 flex-shrink-0"}),a.jsx("span",{className:"text-gray-700",children:"()"})]})})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" ()"}),a.jsx("div",{className:"flex gap-3",children:["LED","T3 "].map(E=>a.jsxs("label",{className:"flex items-center text-sm",children:[a.jsx("input",{type:"checkbox",checked:e.indirectLightingPublic.includes(E),onChange:()=>g("indirectLightingPublic",E),className:"mr-2 rounded border-gray-300 text-gray-600 focus:ring-gray-400"}),a.jsx("span",{className:"text-gray-700",children:E})]},E))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" ()"}),a.jsx("div",{className:"flex gap-3",children:["LED","T3 "].map(E=>a.jsxs("label",{className:"flex items-center text-sm",children:[a.jsx("input",{type:"checkbox",checked:e.indirectLightingRoom.includes(E),onChange:()=>g("indirectLightingRoom",E),className:"mr-2 rounded border-gray-300 text-gray-600 focus:ring-gray-400"}),a.jsx("span",{className:"text-gray-700",children:E})]},E))})]})]})]})]}),a.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[a.jsx("h3",{className:"text-sm font-bold text-gray-800 mb-2 pb-1 border-b border-gray-200",children:" "}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" ()"}),a.jsx("div",{className:"grid grid-cols-1 gap-2",children:["+","+","+","+"].map(E=>a.jsxs("label",{className:"flex items-center text-xs md:text-sm",children:[a.jsx("input",{type:"checkbox",checked:e.moldingPublic.includes(E),onChange:()=>g("moldingPublic",E),className:"mr-1.5 md:mr-2 rounded border-gray-300 text-gray-600 focus:ring-gray-400 flex-shrink-0"}),a.jsx("span",{className:"text-gray-700 break-keep",children:E})]},E))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" ()"}),a.jsx("div",{className:"grid grid-cols-1 gap-2",children:["+","+","+","+"].map(E=>a.jsxs("label",{className:"flex items-center text-xs md:text-sm",children:[a.jsx("input",{type:"checkbox",checked:e.moldingRoom.includes(E),onChange:()=>g("moldingRoom",E),className:"mr-1.5 md:mr-2 rounded border-gray-300 text-gray-600 focus:ring-gray-400 flex-shrink-0"}),a.jsx("span",{className:"text-gray-700 break-keep",children:E})]},E))})]})]})]}),a.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[a.jsx("h3",{className:"text-sm font-bold text-gray-800 mb-2 pb-1 border-b border-gray-200",children:" "}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "}),a.jsx("div",{className:"grid grid-cols-2 md:flex gap-2 md:gap-3",children:["SMC","",""].map(E=>a.jsxs("label",{className:"flex items-center text-xs md:text-sm whitespace-nowrap",children:[a.jsx("input",{type:"checkbox",checked:e.bathroomCeiling.includes(E),onChange:()=>g("bathroomCeiling",E),className:"mr-1.5 md:mr-2 rounded border-gray-300 text-gray-600 focus:ring-gray-400 flex-shrink-0"}),a.jsx("span",{className:"text-gray-700",children:E})]},E))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "}),a.jsx("div",{className:"grid grid-cols-2 md:flex gap-2 md:gap-3",children:["",""].map(E=>a.jsxs("label",{className:"flex items-center text-xs md:text-sm whitespace-nowrap",children:[a.jsx("input",{type:"checkbox",checked:e.bathroomFaucet.includes(E),onChange:()=>g("bathroomFaucet",E),className:"mr-1.5 md:mr-2 rounded border-gray-300 text-gray-600 focus:ring-gray-400 flex-shrink-0"}),a.jsx("span",{className:"text-gray-700",children:E})]},E))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "}),a.jsx("div",{className:"grid grid-cols-2 md:flex gap-2 md:gap-3",children:["()","()","()"].map(E=>a.jsxs("label",{className:"flex items-center text-xs md:text-sm whitespace-nowrap",children:[a.jsx("input",{type:"checkbox",checked:e.bathroomTileGrade.includes(E),onChange:()=>g("bathroomTileGrade",E),className:"mr-1.5 md:mr-2 rounded border-gray-300 text-gray-600 focus:ring-gray-400 flex-shrink-0"}),a.jsx("span",{className:"text-gray-700",children:E})]},E))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"grid grid-cols-2 gap-2",children:["600()","600()","750x1500",""].map(E=>a.jsxs("label",{className:"flex items-center text-xs md:text-sm whitespace-nowrap",children:[a.jsx("input",{type:"checkbox",checked:e.bathroomTile.includes(E),onChange:()=>g("bathroomTile",E),className:"mr-1.5 md:mr-2 rounded border-gray-300 text-gray-600 focus:ring-gray-400 flex-shrink-0"}),a.jsx("span",{className:"text-gray-700",children:E})]},E))}),a.jsx("div",{className:"grid grid-cols-1 gap-2",children:["300x600()+300()","600x1200 or 800()"].map(E=>a.jsxs("label",{className:"flex items-center text-xs md:text-sm",children:[a.jsx("input",{type:"checkbox",checked:e.bathroomTile.includes(E),onChange:()=>g("bathroomTile",E),className:"mr-1.5 md:mr-2 rounded border-gray-300 text-gray-600 focus:ring-gray-400 flex-shrink-0"}),a.jsx("span",{className:"text-gray-700 break-keep",children:E})]},E))})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:""}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"grid grid-cols-1",children:a.jsxs("label",{className:"flex items-center text-xs md:text-sm",children:[a.jsx("input",{type:"checkbox",checked:e.bathroomGrout.includes("( )"),onChange:()=>g("bathroomGrout","( )"),className:"mr-1.5 md:mr-2 rounded border-gray-300 text-gray-600 focus:ring-gray-400 flex-shrink-0"}),a.jsx("span",{className:"text-gray-700 break-keep",children:"( )"})]})}),a.jsx("div",{className:"grid grid-cols-2 gap-2",children:["()",""].map(E=>a.jsxs("label",{className:"flex items-center text-xs md:text-sm whitespace-nowrap",children:[a.jsx("input",{type:"checkbox",checked:e.bathroomGrout.includes(E),onChange:()=>g("bathroomGrout",E),className:"mr-1.5 md:mr-2 rounded border-gray-300 text-gray-600 focus:ring-gray-400 flex-shrink-0"}),a.jsx("span",{className:"text-gray-700",children:E})]},E))}),a.jsx("div",{className:"grid grid-cols-2 gap-2",children:["FG8(  )","FG4( )"].map(E=>a.jsxs("label",{className:"flex items-center text-xs md:text-sm",children:[a.jsx("input",{type:"checkbox",checked:e.bathroomGrout.includes(E),onChange:()=>g("bathroomGrout",E),className:"mr-1.5 md:mr-2 rounded border-gray-300 text-gray-600 focus:ring-gray-400 flex-shrink-0"}),a.jsx("span",{className:"text-gray-700 break-keep",children:E})]},E))})]})]})]})]}),a.jsx("button",{onClick:A,disabled:s,className:"md:col-span-2 w-full py-3 bg-gray-700 text-white rounded hover:bg-gray-800 disabled:opacity-50 disabled:cursor-not-allowed text-sm md:text-base transition-colors",children:s?" ...":" "})]})]}),a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 md:p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-base md:text-lg font-semibold text-gray-800",children:" "}),r&&a.jsxs("button",{onClick:V,className:"px-3 py-1.5 border border-gray-300 text-gray-700 rounded hover:bg-gray-50 flex items-center gap-1 text-xs md:text-sm transition-colors",children:[a.jsx(nO,{className:"h-3 w-3 md:h-4 md:w-4"}),"PDF"]})]}),r?a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-xs md:text-sm text-gray-600 mb-2",children:"  "}),a.jsxs("p",{className:"text-xl md:text-2xl font-bold text-gray-900",children:[R(r.totalMinCost)," ~ ",R(r.totalMaxCost)]}),a.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"(15% )"})]})}),a.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-2 text-left text-xs md:text-sm font-medium text-gray-700",children:""}),a.jsx("th",{className:"px-4 py-2 text-right text-xs md:text-sm font-medium text-gray-700",children:""})]})}),a.jsxs("tbody",{className:"divide-y divide-gray-200",children:[a.jsxs("tr",{children:[a.jsx("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900",children:" "}),a.jsx("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900 text-right font-medium",children:R(r.baseConstructionCost)})]}),a.jsxs("tr",{children:[a.jsxs("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900",children:[" (",e.grade,")"]}),a.jsx("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900 text-right font-medium",children:R(r.fixtureCost)})]}),((G=(Q=r.detailBreakdown)==null?void 0:Q.itemDetails)==null?void 0:G.floor)>0&&a.jsxs("tr",{children:[a.jsx("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900",children:""}),a.jsx("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900 text-right font-medium",children:R(r.detailBreakdown.itemDetails.floor)})]}),((re=(xe=r.detailBreakdown)==null?void 0:xe.itemDetails)==null?void 0:re.wall)>0&&a.jsxs("tr",{children:[a.jsx("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900",children:""}),a.jsx("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900 text-right font-medium",children:R(r.detailBreakdown.itemDetails.wall)})]}),((ce=(pe=r.detailBreakdown)==null?void 0:pe.itemDetails)==null?void 0:ce.ceiling)>0&&a.jsxs("tr",{children:[a.jsx("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900",children:""}),a.jsx("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900 text-right font-medium",children:R(r.detailBreakdown.itemDetails.ceiling)})]}),((oe=(q=r.detailBreakdown)==null?void 0:q.itemDetails)==null?void 0:oe.furniture)>0&&a.jsxs("tr",{children:[a.jsx("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900",children:" "}),a.jsx("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900 text-right font-medium",children:R(r.detailBreakdown.itemDetails.furniture)})]}),((H=(J=r.detailBreakdown)==null?void 0:J.itemDetails)==null?void 0:H.countertop)>0&&a.jsxs("tr",{children:[a.jsx("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900",children:" "}),a.jsx("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900 text-right font-medium",children:R(r.detailBreakdown.itemDetails.countertop)})]}),((ye=(ae=r.detailBreakdown)==null?void 0:ae.itemDetails)==null?void 0:ye.switchPublic)>0&&a.jsxs("tr",{children:[a.jsx("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900",children:"/ ()"}),a.jsx("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900 text-right font-medium",children:R(r.detailBreakdown.itemDetails.switchPublic)})]}),((te=(ve=r.detailBreakdown)==null?void 0:ve.itemDetails)==null?void 0:te.switchRoom)>0&&a.jsxs("tr",{children:[a.jsx("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900",children:"/ ()"}),a.jsx("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900 text-right font-medium",children:R(r.detailBreakdown.itemDetails.switchRoom)})]}),((Ne=(ue=r.detailBreakdown)==null?void 0:ue.itemDetails)==null?void 0:Ne.lighting)>0&&a.jsxs("tr",{children:[a.jsx("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900",children:""}),a.jsx("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900 text-right font-medium",children:R(r.detailBreakdown.itemDetails.lighting)})]}),((ie=(F=r.detailBreakdown)==null?void 0:F.itemDetails)==null?void 0:ie.indirectPublic)>0&&a.jsxs("tr",{children:[a.jsx("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900",children:" ()"}),a.jsx("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900 text-right font-medium",children:R(r.detailBreakdown.itemDetails.indirectPublic)})]}),((W=(T=r.detailBreakdown)==null?void 0:T.itemDetails)==null?void 0:W.indirectRoom)>0&&a.jsxs("tr",{children:[a.jsx("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900",children:" ()"}),a.jsx("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900 text-right font-medium",children:R(r.detailBreakdown.itemDetails.indirectRoom)})]}),((ee=(Y=r.detailBreakdown)==null?void 0:Y.itemDetails)==null?void 0:ee.moldingPublic)>0&&a.jsxs("tr",{children:[a.jsx("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900",children:" ()"}),a.jsx("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900 text-right font-medium",children:R(r.detailBreakdown.itemDetails.moldingPublic)})]}),((we=(Te=r.detailBreakdown)==null?void 0:Te.itemDetails)==null?void 0:we.moldingRoom)>0&&a.jsxs("tr",{children:[a.jsx("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900",children:" ()"}),a.jsx("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900 text-right font-medium",children:R(r.detailBreakdown.itemDetails.moldingRoom)})]}),((y=(M=r.detailBreakdown)==null?void 0:M.itemDetails)==null?void 0:y.bathroomCeiling)>0&&a.jsxs("tr",{children:[a.jsx("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900",children:" "}),a.jsx("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900 text-right font-medium",children:R(r.detailBreakdown.itemDetails.bathroomCeiling)})]}),((S=(C=r.detailBreakdown)==null?void 0:C.itemDetails)==null?void 0:S.bathroomFaucet)>0&&a.jsxs("tr",{children:[a.jsx("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900",children:" "}),a.jsx("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900 text-right font-medium",children:R(r.detailBreakdown.itemDetails.bathroomFaucet)})]}),((P=(D=r.detailBreakdown)==null?void 0:D.itemDetails)==null?void 0:P.bathroomTile)>0&&a.jsxs("tr",{children:[a.jsx("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900",children:" "}),a.jsx("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900 text-right font-medium",children:R(r.detailBreakdown.itemDetails.bathroomTile)})]}),((ne=(K=r.detailBreakdown)==null?void 0:K.itemDetails)==null?void 0:ne.bathroomGrout)>0&&a.jsxs("tr",{children:[a.jsx("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900",children:" "}),a.jsx("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900 text-right font-medium",children:R(r.detailBreakdown.itemDetails.bathroomGrout)})]}),r.sashCost>0&&a.jsxs("tr",{children:[a.jsx("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900",children:" "}),a.jsx("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900 text-right font-medium",children:R(r.sashCost)})]}),r.heatingCost>0&&a.jsxs("tr",{children:[a.jsx("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900",children:""}),a.jsx("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900 text-right font-medium",children:R(r.heatingCost)})]}),r.airconCost>0&&a.jsxs("tr",{children:[a.jsx("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900",children:" "}),a.jsx("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900 text-right font-medium",children:R(r.airconCost)})]})]}),a.jsx("tfoot",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("td",{className:"px-4 py-2 text-xs md:text-sm font-semibold text-gray-900",children:""}),a.jsx("td",{className:"px-4 py-2 text-xs md:text-sm font-bold text-gray-900 text-right",children:R(r.baseConstructionCost+r.fixtureCost+(r.settingsBasedCost||0)+r.sashCost+r.heatingCost+r.airconCost)})]})})]})}),a.jsx("div",{className:"text-xs md:text-sm text-gray-500 text-center mt-4",children:"*        ."})]}):a.jsxs("div",{className:"text-center py-12 text-gray-400",children:[a.jsx(aO,{className:"h-10 w-10 md:h-12 md:w-12 mx-auto mb-3"}),a.jsx("p",{className:"text-sm md:text-base",children:"     "})]})]})]}),c==="history"&&a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[a.jsx("div",{className:"p-4 md:p-6 border-b border-gray-200",children:a.jsxs("h2",{className:"text-base md:text-lg font-semibold text-gray-800",children:["  (",Z.total,")"]})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),a.jsx("th",{className:"px-4 md:px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),a.jsx("th",{className:"px-4 md:px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),a.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:" "}),a.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),a.jsx("th",{className:"px-4 md:px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:""})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:o.map(E=>a.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[a.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:E.project_name}),a.jsxs("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-sm text-gray-700 text-center",children:[E.area_size,""]}),a.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-center",children:a.jsx("span",{className:Cr("inline-flex px-2 py-1 text-xs font-medium rounded border",E.grade===""&&"bg-gray-50 text-gray-700 border-gray-300",E.grade===""&&"bg-gray-100 text-gray-800 border-gray-400",E.grade===""&&"bg-gray-200 text-gray-900 border-gray-500",E.grade===""&&"bg-gray-800 text-white border-gray-800"),children:E.grade})}),a.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:R(E.total_min_cost)}),a.jsxs("div",{className:"text-xs text-gray-500",children:["~ ",R(E.total_max_cost)]})]})}),a.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:new Date(E.created_at).toLocaleDateString("ko-KR")}),a.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-sm text-center",children:a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx("button",{onClick:()=>_(E.id),className:"text-gray-600 hover:text-gray-900 transition-colors",title:"",children:a.jsx(sO,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>O(E.id),className:"text-gray-400 hover:text-red-600 transition-colors",title:"",children:a.jsx(_t,{className:"h-4 w-4"})})]})})]},E.id))})]})})]}),c==="settings"&&a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 md:p-6",children:[a.jsx("h2",{className:"text-base md:text-lg font-semibold text-gray-800 mb-6",children:"   "}),a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg mb-6",children:a.jsxs("p",{className:"text-sm text-gray-700",children:[a.jsx("strong",{children:" :"}),"   ~   .        ."]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6 border-b pb-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-md font-semibold text-gray-700 mb-4",children:" ()"}),a.jsx("div",{className:"space-y-3",children:["","","","","600 ","800-900 ","1200 "].map(E=>{var X,B;return a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:E}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"number",placeholder:"",value:((X=m.floor[E])==null?void 0:X.min)||"",onChange:le=>x("floor",E,"min",le.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"}),a.jsx("span",{className:"text-gray-500 text-sm",children:"~"}),a.jsx("input",{type:"number",placeholder:"",value:((B=m.floor[E])==null?void 0:B.max)||"",onChange:le=>x("floor",E,"max",le.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"})]})]},E)})})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-md font-semibold text-gray-700 mb-4",children:"/ ()"}),a.jsx("div",{className:"space-y-3",children:["","()","()","()","","","","","()+()"].map(E=>{var X,B;return a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:E}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"number",placeholder:"",value:((X=m.wall[E])==null?void 0:X.min)||"",onChange:le=>x("wall",E,"min",le.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"}),a.jsx("span",{className:"text-gray-500 text-sm",children:"~"}),a.jsx("input",{type:"number",placeholder:"",value:((B=m.wall[E])==null?void 0:B.max)||"",onChange:le=>x("wall",E,"max",le.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"})]})]},E)})})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-md font-semibold text-gray-700 mb-4",children:" "}),a.jsxs("div",{className:"space-y-3",children:[["",""].map(E=>{var X,B;return a.jsxs("div",{className:"space-y-1",children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["(",E,")"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"number",placeholder:"",value:((X=m.furniture[`(${E})`])==null?void 0:X.min)||"",onChange:le=>x("furniture",`(${E})`,"min",le.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"}),a.jsx("span",{className:"text-gray-500 text-sm",children:"~"}),a.jsx("input",{type:"number",placeholder:"",value:((B=m.furniture[`(${E})`])==null?void 0:B.max)||"",onChange:le=>x("furniture",`(${E})`,"max",le.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"})]})]},E)}),[" BLUM()","()+()"," BLUM()+()"].map(E=>{var X,B;return a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:E}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"number",placeholder:"",value:((X=m.furniture[E])==null?void 0:X.min)||"",onChange:le=>x("furniture",E,"min",le.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"}),a.jsx("span",{className:"text-gray-500 text-sm",children:"~"}),a.jsx("input",{type:"number",placeholder:"",value:((B=m.furniture[E])==null?void 0:B.max)||"",onChange:le=>x("furniture",E,"max",le.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"})]})]},E)})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-md font-semibold text-gray-700 mb-4",children:" "}),a.jsx("div",{className:"space-y-3",children:["","","","",""].map(E=>{var X,B;return a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:E}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"number",placeholder:"",value:((X=m.countertop[E])==null?void 0:X.min)||"",onChange:le=>x("countertop",E,"min",le.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"}),a.jsx("span",{className:"text-gray-500 text-sm",children:"~"}),a.jsx("input",{type:"number",placeholder:"",value:((B=m.countertop[E])==null?void 0:B.max)||"",onChange:le=>x("countertop",E,"max",le.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"})]})]},E)})})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-md font-semibold text-gray-700 mb-4",children:"/ ()"}),a.jsx("div",{className:"space-y-3",children:["()","()"," "," "].map(E=>{var X,B;return a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:E}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"number",placeholder:"",value:((X=m.switch[E])==null?void 0:X.min)||"",onChange:le=>x("switch",E,"min",le.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"}),a.jsx("span",{className:"text-gray-500 text-sm",children:"~"}),a.jsx("input",{type:"number",placeholder:"",value:((B=m.switch[E])==null?void 0:B.max)||"",onChange:le=>x("switch",E,"max",le.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"})]})]},E)})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6 border-b pb-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-md font-semibold text-gray-700 mb-4",children:" ()"}),a.jsx("div",{className:"space-y-3",children:["","","()","()","()"].map(E=>{var X,B;return a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:E}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"number",placeholder:"",value:((X=m.lighting[E])==null?void 0:X.min)||"",onChange:le=>x("lighting",E,"min",le.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"}),a.jsx("span",{className:"text-gray-500 text-sm",children:"~"}),a.jsx("input",{type:"number",placeholder:"",value:((B=m.lighting[E])==null?void 0:B.max)||"",onChange:le=>x("lighting",E,"max",le.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"})]})]},E)})})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-md font-semibold text-gray-700 mb-4",children:" ()"}),a.jsx("div",{className:"space-y-3",children:["LED","T3 "].map(E=>{var X,B;return a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:E}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"number",placeholder:"",value:((X=m.indirectLighting[E])==null?void 0:X.min)||"",onChange:le=>x("indirectLighting",E,"min",le.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"}),a.jsx("span",{className:"text-gray-500 text-sm",children:"~"}),a.jsx("input",{type:"number",placeholder:"",value:((B=m.indirectLighting[E])==null?void 0:B.max)||"",onChange:le=>x("indirectLighting",E,"max",le.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"})]})]},E)})})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-md font-semibold text-gray-700 mb-4",children:" ()"}),a.jsx("div",{className:"space-y-3",children:["+","+","+","+"].map(E=>{var X,B;return a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:E}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"number",placeholder:"",value:((X=m.molding[E])==null?void 0:X.min)||"",onChange:le=>x("molding",E,"min",le.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"}),a.jsx("span",{className:"text-gray-500 text-sm",children:"~"}),a.jsx("input",{type:"number",placeholder:"",value:((B=m.molding[E])==null?void 0:B.max)||"",onChange:le=>x("molding",E,"max",le.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"})]})]},E)})})]}),a.jsx("div",{})," ",a.jsx("div",{})," "]}),a.jsxs("div",{className:"border-b pb-6",children:[a.jsx("h3",{className:"text-md font-semibold text-gray-700 mb-4",children:""}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-600 mb-3",children:""}),a.jsx("div",{className:"space-y-3",children:["SMC","",""].map(E=>{var X,B;return a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:E}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"number",placeholder:"",value:((X=m.bathroom.ceiling[E])==null?void 0:X.min)||"",onChange:le=>b("ceiling",E,"min",le.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"}),a.jsx("span",{className:"text-gray-500 text-sm",children:"~"}),a.jsx("input",{type:"number",placeholder:"",value:((B=m.bathroom.ceiling[E])==null?void 0:B.max)||"",onChange:le=>b("ceiling",E,"max",le.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"})]})]},E)})})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-600 mb-3",children:""}),a.jsx("div",{className:"space-y-3",children:["",""].map(E=>{var X,B;return a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:E}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"number",placeholder:"",value:((X=m.bathroom.faucet[E])==null?void 0:X.min)||"",onChange:le=>b("faucet",E,"min",le.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"}),a.jsx("span",{className:"text-gray-500 text-sm",children:"~"}),a.jsx("input",{type:"number",placeholder:"",value:((B=m.bathroom.faucet[E])==null?void 0:B.max)||"",onChange:le=>b("faucet",E,"max",le.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"})]})]},E)})})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-600 mb-3",children:" "}),a.jsx("div",{className:"space-y-3",children:["()","()","()"].map(E=>{var X,B;return a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:E}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"number",placeholder:"",value:((X=m.bathroom.tile[E])==null?void 0:X.min)||"",onChange:le=>b("tile",E,"min",le.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"}),a.jsx("span",{className:"text-gray-500 text-sm",children:"~"}),a.jsx("input",{type:"number",placeholder:"",value:((B=m.bathroom.tile[E])==null?void 0:B.max)||"",onChange:le=>b("tile",E,"max",le.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"})]})]},E)})})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-600 mb-3",children:" "}),a.jsx("div",{className:"space-y-3",children:["600()","600()","750x1500","","300x600()+300()","600x1200 or 800()"].map(E=>{var X,B;return a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:E}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"number",placeholder:"",value:((X=m.bathroom.tile[E])==null?void 0:X.min)||"",onChange:le=>b("tile",E,"min",le.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"}),a.jsx("span",{className:"text-gray-500 text-sm",children:"~"}),a.jsx("input",{type:"number",placeholder:"",value:((B=m.bathroom.tile[E])==null?void 0:B.max)||"",onChange:le=>b("tile",E,"max",le.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"})]})]},E)})})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-600 mb-3",children:""}),a.jsx("div",{className:"space-y-3",children:["( )","()",""].map(E=>{var X,B;return a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:E}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"number",placeholder:"",value:((X=m.bathroom.grout[E])==null?void 0:X.min)||"",onChange:le=>b("grout",E,"min",le.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"}),a.jsx("span",{className:"text-gray-500 text-sm",children:"~"}),a.jsx("input",{type:"number",placeholder:"",value:((B=m.bathroom.grout[E])==null?void 0:B.max)||"",onChange:le=>b("grout",E,"max",le.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"})]})]},E)})})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-md font-semibold text-gray-700 mb-4",children:"   "}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-x-6 gap-y-3",children:[{label:"  ()",key:"livingRoom"},{label:"  ()",key:"kitchen"},{label:"  ()",key:"room"},{label:"  ()",key:"sash"},{label:"  ()",key:"grooving"},{label:"  ()",key:"bangtong"},{label:" (2 in 1) - 1",key:"aircon2in1"},{label:" () - 1",key:"airconSystem"}].map(E=>{var X,B;return a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:E.label}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"number",placeholder:"",value:((X=m.expansion[E.key])==null?void 0:X.min)||"",onChange:le=>x("expansion",E.key,"min",le.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"}),a.jsx("span",{className:"text-gray-500 text-sm",children:"~"}),a.jsx("input",{type:"number",placeholder:"",value:((B=m.expansion[E.key])==null?void 0:B.max)||"",onChange:le=>x("expansion",E.key,"max",le.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"})]})]},E.key)})})]})]})]})]})},sj=["","","/","","","","","","","","","","","","",""],une=()=>{const{payments:e,executionRecords:t,loadPaymentsFromAPI:r,addExecutionRecord:n,deleteExecutionRecord:s,updateExecutionRecord:i,projects:o}=Un(),{user:l}=Gs(),[c,u]=w.useState(""),[d,f]=w.useState(null),[m,v]=w.useState(!1),[p,h]=w.useState(!1),[j,x]=w.useState(!1),[b,N]=w.useState(!1),[g,A]=w.useState(!1),[k,_]=w.useState(""),[O,R]=w.useState("form"),[I,V]=w.useState(!1),[Z,Q]=w.useState(!1),G=w.useRef(null),[xe,re]=w.useState([]),[pe,ce]=w.useState(()=>{const y=localStorage.getItem("paymentRecordImages");return y?JSON.parse(y):{}}),[q,oe]=w.useState(()=>{const y=localStorage.getItem("hiddenPaymentIds");return y?JSON.parse(y):[]}),J=()=>{const y=localStorage.getItem("lastSelectedProject"),C=o.filter(S=>S.status!=="completed");return y&&C.some(S=>S.name===y)?y:C.length>0?C[0].name:""},[H,ae]=w.useState({project:"",date:_e(new Date,"yyyy-MM-dd"),process:"",itemName:"",materialCost:"",laborCost:"",images:[]});w.useEffect(()=>{r().catch(C=>{console.error("Failed to load payments:",C)});const y=()=>{V(window.innerWidth<1024)};if(y(),window.addEventListener("resize",y),o.length>0&&!H.project){const C=J();C&&(ae(S=>({...S,project:C})),localStorage.setItem("lastSelectedProject",C))}return()=>window.removeEventListener("resize",y)},[r,o]),w.useEffect(()=>{localStorage.setItem("paymentRecordImages",JSON.stringify(pe))},[pe]),w.useEffect(()=>{localStorage.setItem("hiddenPaymentIds",JSON.stringify(q))},[q]),w.useEffect(()=>{if(H.itemName&&H.itemName.trim().length>=1){const y=H.itemName.trim().toLowerCase(),C=[...t].sort((D,P)=>new Date(P.date).getTime()-new Date(D.date).getTime()).map(D=>D.itemName).filter(D=>D&&D.toLowerCase().includes(y)),S=Array.from(new Set(C));re(S.slice(0,10))}else re([])},[H.itemName,t]);const ye=w.useCallback(y=>{var S;if(!d){z.error("  ");return}const C=(S=y.clipboardData)==null?void 0:S.items;if(C){for(let D=0;D<C.length;D++)if(C[D].type.indexOf("image")!==-1){y.preventDefault();const P=C[D].getAsFile();if(P){const K=new FileReader;K.onload=ne=>{var B;const E=(B=ne.target)==null?void 0:B.result,X=t.find(le=>le.id===d);if(X){const le=[...X.images||[],E];i(d,{images:le})}else ce(le=>({...le,[d]:[...le[d]||[],E]}));z.success(" ")},K.readAsDataURL(P)}}}},[d,t,i]);w.useEffect(()=>(document.addEventListener("paste",ye),()=>document.removeEventListener("paste",ye)),[ye]);const ve=e.filter(y=>(y.status==="approved"||y.status==="completed")&&!t.some(C=>C.paymentId===y.id)&&!q.includes(y.id)).map(y=>{const C=y.materialAmount||0,S=y.laborAmount||0,D=y.amount||0;let P=C,K=S,ne=0;return C===0&&S===0&&D>0?y.includesVAT?(P=Math.round(D/1.1),ne=D-P):(P=D,ne=0):y.includesVAT?(C>0&&(P=Math.round(C/1.1)),S>0&&(K=Math.round(S/1.1)),ne=D-(P+K)):ne=0,{id:y.id,type:"payment",project:y.project,author:y.requestedBy||"-",date:y.requestDate,process:y.process||"-",itemName:y.itemName||y.purpose||"-",materialCost:P,laborCost:K,vatAmount:ne,totalAmount:D,images:pe[y.id]||[],notes:y.notes}}),te=t.map(y=>({...y,type:"manual"})),ue=[...ve,...te].sort((y,C)=>new Date(C.date).getTime()-new Date(y.date).getTime()),Ne=ue.filter(y=>{var D,P;const C=H.project===""||y.project===H.project,S=c===""||((D=y.itemName)==null?void 0:D.toLowerCase().includes(c.toLowerCase()))||((P=y.process)==null?void 0:P.toLowerCase().includes(c.toLowerCase()));return C&&S}),F=Ne.reduce((y,C)=>(y.material+=C.materialCost||0,y.labor+=C.laborCost||0,y.vat+=C.vatAmount||0,y.total+=C.totalAmount||0,y),{material:0,labor:0,vat:0,total:0}),ie=()=>{if(!H.project){z.error(" ");return}const y=new Date;let C=Number(H.materialCost)||0,S=Number(H.laborCost)||0,D=0,P=0;if(p){const ne=C+S,E=Math.round(ne/1.1);if(D=ne-E,ne>0){const X=C/ne,B=S/ne;C=Math.round(E*X),S=Math.round(E*B)}P=ne}else D=0,P=C+S;const K={id:`exec_${Date.now()}`,project:H.project,author:(l==null?void 0:l.name)||"  ",date:new Date(H.date),process:H.process,itemName:H.itemName,materialCost:C,laborCost:S,vatAmount:D,totalAmount:P,images:H.images,notes:"",createdAt:y,updatedAt:y};n(K),z.success(" "),ae(ne=>({project:ne.project,date:_e(new Date,"yyyy-MM-dd"),process:"",itemName:"",materialCost:"",laborCost:"",images:[]})),h(!1),x(!1)},T=()=>{const y={};return Ne.forEach(C=>{const S=C.process||"";y[S]||(y[S]={materialCost:0,laborCost:0,vatAmount:0,totalAmount:0}),y[S].materialCost+=C.materialCost||0,y[S].laborCost+=C.laborCost||0,y[S].vatAmount+=C.vatAmount||0,y[S].totalAmount+=C.totalAmount||0}),Object.entries(y).sort((C,S)=>S[1].totalAmount-C[1].totalAmount)},W=y=>{var P;if(!d){z.error("  ");return}const C=Array.from(((P=y.target)==null?void 0:P.files)||[]),S=[],D=C.filter(K=>K.type.startsWith("image/"));D.length!==0&&D.forEach(K=>{const ne=new FileReader;ne.onload=E=>{var B;const X=(B=E.target)==null?void 0:B.result;if(S.push(X),S.length===D.length){const le=t.find(Pe=>Pe.id===d);if(le){const Pe=[...le.images||[],...S];i(d,{images:Pe})}else ce(Pe=>({...Pe,[d]:[...Pe[d]||[],...S]}));z.success(`${S.length}  `)}},ne.readAsDataURL(K)})},Y=y=>{var S;if(!d)return;const C=t.find(D=>D.id===d);if(C){const D=((S=C.images)==null?void 0:S.filter((P,K)=>K!==y))||[];i(d,{images:D})}else ce(D=>{var P;return{...D,[d]:((P=D[d])==null?void 0:P.filter((K,ne)=>ne!==y))||[]}})},ee=y=>{_(y),A(!0)},Te=y=>{y.preventDefault(),v(!0)},we=y=>{y.preventDefault(),v(!1)},M=y=>{if(y.preventDefault(),v(!1),!d){z.error("  ");return}const C=Array.from(y.dataTransfer.files),S=[],D=C.filter(P=>P.type.startsWith("image/"));D.length!==0&&D.forEach(P=>{const K=new FileReader;K.onload=ne=>{var X;const E=(X=ne.target)==null?void 0:X.result;if(S.push(E),S.length===D.length){const B=t.find(le=>le.id===d);if(B){const le=[...B.images||[],...S];i(d,{images:le})}else ce(le=>({...le,[d]:[...le[d]||[],...S]}));z.success(`${S.length}  `)}},K.readAsDataURL(P)})};return a.jsxs("div",{className:"space-y-3 md:space-y-4",children:[a.jsxs("div",{className:"lg:hidden mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),a.jsx("select",{value:H.project,onChange:y=>{ae({...H,project:y.target.value}),y.target.value&&localStorage.setItem("lastSelectedProject",y.target.value)},className:"w-full px-3 py-2.5 md:py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 bg-white cursor-pointer hover:border-gray-400 transition-colors appearance-none bg-[url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20fill%3D%22none%22%20viewBox%3D%220%200%2020%2020%22%3E%3Cpath%20stroke%3D%22%236b7280%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%221.5%22%20d%3D%22M6%208l4%204%204-4%22%2F%3E%3C%2Fsvg%3E')] bg-[length:1.5em_1.5em] bg-[right_0.5rem_center] bg-no-repeat pr-10",children:o.filter(y=>y.status!=="completed").map(y=>a.jsx("option",{value:y.name,children:y.name},y.id))})]}),a.jsx("div",{className:"lg:hidden border-b border-gray-200 mb-4",children:a.jsxs("nav",{className:"flex space-x-4",children:[a.jsx("button",{onClick:()=>R("form"),className:`py-2 px-1 border-b-2 font-medium text-sm ${O==="form"?"border-gray-900 text-gray-900":"border-transparent text-gray-500"}`,children:""}),a.jsx("button",{onClick:()=>R("list"),className:`py-2 px-1 border-b-2 font-medium text-sm ${O==="list"?"border-gray-900 text-gray-900":"border-transparent text-gray-500"}`,children:""}),a.jsx("button",{onClick:()=>R("image"),className:`py-2 px-1 border-b-2 font-medium text-sm ${O==="image"?"border-gray-900 text-gray-900":"border-transparent text-gray-500"}`,children:""})]})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-4",children:[a.jsx("div",{className:`lg:col-span-2 bg-white rounded-lg border p-4 flex flex-col overflow-hidden ${O!=="form"?"hidden lg:flex":""}`,children:a.jsxs("div",{className:"space-y-4 overflow-y-auto flex-shrink-0",children:[a.jsxs("div",{className:"hidden lg:block",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"}),a.jsx("select",{value:H.project,onChange:y=>{ae({...H,project:y.target.value}),y.target.value&&localStorage.setItem("lastSelectedProject",y.target.value)},className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 bg-white cursor-pointer hover:border-gray-400 transition-colors appearance-none bg-[url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20fill%3D%22none%22%20viewBox%3D%220%200%2020%2020%22%3E%3Cpath%20stroke%3D%22%236b7280%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%221.5%22%20d%3D%22M6%208l4%204%204-4%22%2F%3E%3C%2Fsvg%3E')] bg-[length:1.5em_1.5em] bg-[right_0.5rem_center] bg-no-repeat pr-10",children:o.filter(y=>y.status!=="completed").map(y=>a.jsx("option",{value:y.name,children:y.name},y.id))})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[" ",H.date&&`(${_e(new Date(H.date),"E",{locale:tt})})`]}),a.jsx("input",{type:"date",value:H.date,onChange:y=>ae({...H,date:y.target.value}),className:"w-full px-3 py-2 border rounded-lg bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500 cursor-pointer text-gray-900",style:{WebkitAppearance:"none",MozAppearance:"none",appearance:"none",backgroundColor:"white",backgroundImage:"none"}})]}),a.jsxs("div",{className:"relative",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),a.jsx("button",{ref:G,type:"button",onClick:()=>Q(!0),className:"w-full px-3 py-2 border rounded-lg text-left bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500",children:H.process||a.jsx("span",{className:"text-gray-400",children:""})})]})]}),a.jsxs("div",{className:"relative",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),a.jsx("input",{type:"text",value:H.itemName,onChange:y=>ae({...H,itemName:y.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"}),xe.length>0&&a.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:xe.map((y,C)=>a.jsx("button",{type:"button",onClick:()=>{ae({...H,itemName:y}),re([])},className:"w-full px-3 py-2 text-left hover:bg-gray-50 text-sm",children:a.jsx("div",{className:"font-medium text-gray-900",children:y})},C))})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),a.jsx("input",{type:"number",value:H.materialCost,onChange:y=>ae({...H,materialCost:y.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),a.jsx("input",{type:"number",value:H.laborCost,onChange:y=>ae({...H,laborCost:y.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:"includeVat",checked:p,onChange:y=>{y.target.checked&&x(!1),h(y.target.checked)},className:"h-4 w-4 text-gray-600 focus:ring-gray-500 border-gray-300 rounded"}),a.jsx("label",{htmlFor:"includeVat",className:"ml-2 block text-sm text-gray-700",children:"  (10%)"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:"includeTaxDeduction",checked:j,onChange:y=>{y.target.checked&&h(!1),x(y.target.checked)},className:"h-4 w-4 text-gray-600 focus:ring-gray-500 border-gray-300 rounded"}),a.jsx("label",{htmlFor:"includeTaxDeduction",className:"ml-2 block text-sm text-gray-700",children:"3.3% "})]})]}),a.jsx("div",{className:"pt-2 border-t",children:a.jsxs("div",{className:"flex justify-between items-baseline",children:[a.jsx("span",{className:"font-medium",children:""}),a.jsxs("div",{className:"text-right",children:[(p||j)&&a.jsxs("span",{className:"text-xs text-gray-500 mr-2",children:["(",p&&" ",j&&"3.3% ",")"]}),a.jsxs("span",{className:"font-semibold",children:[(()=>{const y=(Number(H.materialCost)||0)+(Number(H.laborCost)||0);return(j?Math.round(y*.967):y).toLocaleString()})(),""]})]})]})}),a.jsx("div",{className:"my-6",style:{marginTop:"20px"},children:a.jsx("button",{onClick:ie,className:"w-full py-2 bg-gray-900 text-white rounded-lg hover:bg-gray-800",children:""})})]}),a.jsxs("div",{className:"hidden lg:block bg-gray-50 rounded-lg p-4 space-y-2",style:{marginTop:"114.67px"},children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:" :"}),a.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[F.material.toLocaleString(),""]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:" :"}),a.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[F.labor.toLocaleString(),""]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:" :"}),a.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[F.vat.toLocaleString(),""]})]}),a.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-gray-200",style:{marginTop:"10px"},children:[a.jsx("span",{className:"text-sm font-bold text-gray-900",children:" :"}),a.jsxs("span",{className:"text-base font-bold text-gray-900",children:[F.total.toLocaleString(),""]})]})]})]})}),a.jsxs("div",{className:`lg:col-span-6 bg-white rounded-lg border overflow-hidden flex flex-col ${O!=="list"?"hidden lg:flex":""}`,children:[a.jsx("div",{className:"flex-1 overflow-auto",children:Ne.length>0?a.jsxs(a.Fragment,{children:[a.jsxs("table",{className:"hidden lg:table w-full",children:[a.jsx("thead",{className:"bg-gray-50 sticky top-0",children:a.jsxs("tr",{className:"text-left text-sm text-gray-700 border-b",children:[a.jsx("th",{className:"px-3 py-3 font-medium w-[7%]",children:""}),a.jsx("th",{className:"px-3 py-3 font-medium w-[14%]",children:""}),a.jsx("th",{className:"px-3 py-3 font-medium w-[9%]",children:""}),a.jsx("th",{className:"px-3 py-3 font-medium w-[20%]",children:""}),a.jsx("th",{className:"px-3 py-3 font-medium text-right w-[12%]",children:""}),a.jsx("th",{className:"px-3 py-3 font-medium text-right w-[12%]",children:""}),a.jsx("th",{className:"px-3 py-3 font-medium text-right w-[12%]",children:""}),a.jsx("th",{className:"px-3 py-3 font-medium text-right w-[14%]",children:""})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200",children:Ne.map(y=>a.jsxs("tr",{className:`hover:bg-gray-50 cursor-pointer text-sm ${d===y.id?"bg-blue-50":""}`,onClick:()=>f(y.id),children:[a.jsx("td",{className:"px-3 py-3 text-gray-600",children:y.author||"-"}),a.jsx("td",{className:"px-3 py-3 text-gray-600",children:_e(new Date(y.date),"yyyy-MM-dd (EEE)",{locale:tt})}),a.jsx("td",{className:"px-3 py-3 text-gray-600",children:y.process||"-"}),a.jsx("td",{className:"px-3 py-3 font-medium",children:y.itemName}),a.jsx("td",{className:"px-3 py-3 text-right",children:(y.materialCost||0).toLocaleString()}),a.jsx("td",{className:"px-3 py-3 text-right",children:(y.laborCost||0).toLocaleString()}),a.jsx("td",{className:"px-3 py-3 text-right",children:(y.vatAmount||0).toLocaleString()}),a.jsxs("td",{className:"px-3 py-3 text-right font-semibold",children:[(y.totalAmount||0).toLocaleString(),""]})]},y.id))})]}),a.jsx("div",{className:"lg:hidden space-y-3 p-3",children:Ne.map(y=>a.jsxs("div",{className:`border rounded-lg p-4 ${d===y.id?"bg-blue-50 border-blue-300":"bg-white"}`,onClick:()=>f(y.id),children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium text-gray-900",children:y.itemName}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[y.process||"-","  ",y.author||"-"]})]}),a.jsxs("p",{className:"text-sm font-bold text-gray-900",children:["",(y.totalAmount||0).toLocaleString()]})]}),a.jsx("div",{className:"text-xs text-gray-500",children:_e(new Date(y.date),"yyyy.MM.dd (EEE)",{locale:tt})}),a.jsxs("div",{className:"mt-2 pt-2 border-t grid grid-cols-3 gap-2 text-xs",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:""}),a.jsxs("p",{className:"font-medium",children:["",(y.materialCost||0).toLocaleString()]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:""}),a.jsxs("p",{className:"font-medium",children:["",(y.laborCost||0).toLocaleString()]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:""}),a.jsxs("p",{className:"font-medium",children:["",(y.vatAmount||0).toLocaleString()]})]})]})]},y.id))})]}):a.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:" "})}),a.jsxs("div",{className:"border-t bg-gray-50 p-3",children:[O==="list"&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"lg:hidden mb-3",children:a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",placeholder:"...",value:c,onChange:y=>u(y.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 text-sm"}),a.jsx(yf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"})]})}),a.jsxs("div",{className:"lg:hidden bg-white rounded-lg p-3 mb-3 space-y-2 border",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:" :"}),a.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[F.material.toLocaleString(),""]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:" :"}),a.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[F.labor.toLocaleString(),""]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:" :"}),a.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[F.vat.toLocaleString(),""]})]}),a.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-gray-200",children:[a.jsx("span",{className:"text-sm font-bold text-gray-900",children:" :"}),a.jsxs("span",{className:"text-base font-bold text-gray-900",children:[F.total.toLocaleString(),""]})]})]})]}),a.jsxs("div",{className:"flex flex-col lg:flex-row items-stretch lg:items-center gap-3",children:[a.jsx("div",{className:"hidden lg:block flex-1 lg:max-w-sm",children:a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",placeholder:"...",value:c,onChange:y=>u(y.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 text-sm lg:text-base"}),a.jsx(yf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"})]})}),a.jsxs("div",{className:"flex items-center justify-between lg:justify-end gap-2",children:[d&&a.jsx("button",{onClick:()=>{const y=t.find(S=>S.id===d),C=ue.find(S=>S.id===d);y?confirm("  ?")&&(s(d),f(null),z.success(" ")):(C==null?void 0:C.type)==="payment"?confirm(`   ?
(   )`)&&(oe(S=>[...S,d]),f(null),z.success("  ")):z.error("   ")},className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"",children:a.jsx(_t,{className:"h-5 w-5"})}),a.jsx("button",{onClick:()=>N(!0),className:"px-3 py-2 text-sm lg:text-base lg:px-4 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 hover:border-gray-400 transition-all duration-200 font-medium whitespace-nowrap",children:" "})]})]})]})]}),a.jsxs("div",{className:`lg:col-span-4 bg-white rounded-lg border flex flex-col overflow-hidden ${O!=="image"?"hidden lg:flex":""}`,onDragOver:Te,onDragLeave:we,onDrop:M,children:[a.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:W,className:"hidden",id:"image-file-input"}),I&&d&&O==="image"&&(()=>{const y=ue.find(C=>C.id===d);return y?a.jsx("div",{className:"border-b bg-gray-50 p-3",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium text-gray-900 text-sm",children:y.itemName}),a.jsxs("p",{className:"text-xs text-gray-500 mt-0.5",children:[y.process||"-","  ",_e(new Date(y.date),"yyyy.MM.dd",{locale:tt})]})]}),a.jsxs("p",{className:"text-sm font-bold text-gray-900",children:["",(y.totalAmount||0).toLocaleString()]})]})}):null})(),a.jsx("div",{className:"flex-1 overflow-y-auto p-4 relative",onClick:y=>{var S;const C=y.target;!C.closest("img")&&!C.closest("button")&&d&&(()=>{const P=t.find(K=>K.id===d);return(P==null?void 0:P.images)||pe[d]||[]})().length>0&&((S=document.getElementById("image-file-input"))==null||S.click())},children:d?(()=>{const y=t.find(S=>S.id===d),C=(y==null?void 0:y.images)||pe[d]||[];return C.length>0?a.jsx("div",{className:"grid grid-cols-1 gap-3",children:C.map((S,D)=>a.jsxs("div",{className:"relative group border rounded-lg overflow-hidden",children:[a.jsx("img",{src:S,alt:` ${D+1}`,className:"w-full h-auto cursor-pointer hover:opacity-90 transition-opacity",onClick:P=>{P.stopPropagation(),ee(S)}}),a.jsx("button",{onClick:P=>{P.stopPropagation(),Y(D)},className:"absolute top-2 right-2 p-1.5 bg-red-500 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:a.jsx(rt,{className:"h-4 w-4"})})]},D))}):a.jsx("label",{htmlFor:"image-file-input",className:"h-full flex items-center justify-center cursor-pointer",children:a.jsxs("div",{className:`w-full h-full min-h-[200px] border-2 border-dashed rounded-lg p-6 text-center transition-colors flex flex-col items-center justify-center ${m?"border-gray-500 bg-gray-50":"border-gray-300 hover:border-gray-400"}`,children:[a.jsx(Ra,{className:"h-10 w-10 mx-auto text-gray-400 mb-2"}),a.jsx("p",{className:"text-sm font-medium text-gray-700",children:" "}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"   Ctrl+V "})]})})})():a.jsx("div",{className:"h-full flex items-center justify-center min-h-[200px]",children:a.jsxs("div",{className:"text-center text-gray-400",children:[a.jsx(As,{className:"h-12 w-12 mx-auto mb-2"}),a.jsx("p",{className:"text-sm",children:" "})]})})})]})]}),b&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-end lg:items-center justify-center bg-black bg-opacity-50",children:a.jsxs("div",{className:"bg-white rounded-t-2xl lg:rounded-lg w-full lg:max-w-4xl max-h-[85vh] lg:max-h-[80vh] overflow-hidden lg:m-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 lg:p-6 border-b",children:[a.jsx("h2",{className:"text-lg lg:text-xl font-bold text-gray-900",children:" "}),a.jsx("button",{onClick:()=>N(!1),className:"p-1.5 lg:p-2 hover:bg-gray-100 rounded-full",children:a.jsx(rt,{className:"h-5 w-5 text-gray-500"})})]}),a.jsx("div",{className:"p-4 lg:p-6 overflow-y-auto max-h-[calc(85vh-120px)] lg:max-h-[calc(80vh-120px)]",children:T().length>0?a.jsxs(a.Fragment,{children:[a.jsxs("table",{className:"hidden lg:table w-full",children:[a.jsx("thead",{className:"bg-gray-100",children:a.jsxs("tr",{className:"text-left text-sm text-gray-700",children:[a.jsx("th",{className:"px-4 py-3 font-medium",children:""}),a.jsx("th",{className:"px-4 py-3 font-medium text-right",children:""}),a.jsx("th",{className:"px-4 py-3 font-medium text-right",children:""}),a.jsx("th",{className:"px-4 py-3 font-medium text-right",children:""}),a.jsx("th",{className:"px-4 py-3 font-medium text-right",children:""})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200",children:T().map(([y,C])=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-4 py-3 font-medium text-gray-700",children:y}),a.jsx("td",{className:"px-4 py-3 text-right",children:C.materialCost.toLocaleString()}),a.jsx("td",{className:"px-4 py-3 text-right",children:C.laborCost.toLocaleString()}),a.jsx("td",{className:"px-4 py-3 text-right",children:C.vatAmount.toLocaleString()}),a.jsxs("td",{className:"px-4 py-3 text-right font-semibold",children:[C.totalAmount.toLocaleString(),""]})]},y))}),a.jsx("tfoot",{className:"bg-gray-100 border-t-2 border-gray-300",children:a.jsxs("tr",{children:[a.jsx("td",{className:"px-4 py-3 font-bold text-gray-700",children:""}),a.jsx("td",{className:"px-4 py-3 text-right font-bold",children:F.material.toLocaleString()}),a.jsx("td",{className:"px-4 py-3 text-right font-bold",children:F.labor.toLocaleString()}),a.jsx("td",{className:"px-4 py-3 text-right font-bold",children:F.vat.toLocaleString()}),a.jsxs("td",{className:"px-4 py-3 text-right font-bold text-gray-900",children:[F.total.toLocaleString(),""]})]})})]}),a.jsxs("div",{className:"lg:hidden space-y-3",children:[T().map(([y,C])=>a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[a.jsxs("div",{className:"flex justify-between items-start mb-3",children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:y}),a.jsxs("span",{className:"text-lg font-bold text-gray-900",children:["",C.totalAmount.toLocaleString()]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-2 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500 text-xs",children:""}),a.jsxs("p",{className:"font-medium",children:["",C.materialCost.toLocaleString()]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500 text-xs",children:""}),a.jsxs("p",{className:"font-medium",children:["",C.laborCost.toLocaleString()]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500 text-xs",children:""}),a.jsxs("p",{className:"font-medium",children:["",C.vatAmount.toLocaleString()]})]})]})]},y)),a.jsxs("div",{className:"bg-gray-900 text-white rounded-lg p-4 mt-4",children:[a.jsxs("div",{className:"flex justify-between items-start mb-3",children:[a.jsx("h3",{className:"font-bold text-white",children:""}),a.jsxs("span",{className:"text-xl font-bold",children:["",F.total.toLocaleString()]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-2 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-300 text-xs",children:""}),a.jsxs("p",{className:"font-semibold",children:["",F.material.toLocaleString()]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-300 text-xs",children:""}),a.jsxs("p",{className:"font-semibold",children:["",F.labor.toLocaleString()]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-300 text-xs",children:""}),a.jsxs("p",{className:"font-semibold",children:["",F.vat.toLocaleString()]})]})]})]})]})]}):a.jsx("div",{className:"text-center py-8 text-gray-500",children:"  ."})})]})}),Z&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"lg:hidden fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:a.jsxs("div",{className:"bg-white rounded-lg w-full max-w-md mx-4 max-h-[80vh] overflow-hidden",children:[a.jsxs("div",{className:"flex items-center justify-between p-3 border-b",children:[a.jsx("h2",{className:"text-base font-bold text-gray-900",children:" "}),a.jsx("button",{onClick:()=>Q(!1),className:"p-1 hover:bg-gray-100 rounded-full",children:a.jsx(rt,{className:"h-4 w-4 text-gray-500"})})]}),a.jsxs("div",{className:"p-3 overflow-y-auto max-h-[calc(80vh-100px)]",children:[a.jsx("div",{className:"grid grid-cols-2 gap-2 mb-2",children:sj.map(y=>a.jsx("button",{onClick:()=>{ae({...H,process:y}),Q(!1)},className:`p-2 text-sm text-center border rounded-lg transition-all ${H.process===y?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:border-gray-400 hover:bg-gray-50"}`,children:y},y))}),a.jsx("button",{onClick:()=>{ae({...H,process:""}),Q(!1)},className:"w-full p-2 text-sm text-center border-2 border-dashed border-gray-300 rounded-lg hover:border-gray-400 hover:bg-gray-50 text-gray-500",children:" "})]})]})}),a.jsx("div",{className:"hidden lg:block fixed inset-0 z-40",onClick:()=>Q(!1),children:a.jsxs("div",{onClick:y=>y.stopPropagation(),className:"absolute bg-white rounded-lg shadow-xl border border-gray-200",style:{top:G.current?`${G.current.getBoundingClientRect().bottom+window.scrollY+4}px`:"50%",left:G.current?`${G.current.getBoundingClientRect().left+window.scrollX}px`:"50%"},children:[a.jsxs("div",{className:"flex items-center justify-between p-2 border-b",children:[a.jsx("h2",{className:"text-sm font-bold text-gray-900",children:" "}),a.jsx("button",{onClick:()=>Q(!1),className:"p-1 hover:bg-gray-100 rounded-full",children:a.jsx(rt,{className:"h-3 w-3 text-gray-500"})})]}),a.jsxs("div",{className:"p-2",children:[a.jsx("div",{className:"grid grid-cols-4 gap-1.5 mb-2",children:sj.map(y=>a.jsx("button",{onClick:()=>{ae({...H,process:y}),Q(!1)},className:`p-1.5 text-xs text-center border rounded-lg transition-all whitespace-nowrap ${H.process===y?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:border-gray-400 hover:bg-gray-50"}`,children:y},y))}),a.jsx("button",{onClick:()=>{ae({...H,process:""}),Q(!1)},className:"w-full p-1.5 text-xs text-center border-2 border-dashed border-gray-300 rounded-lg hover:border-gray-400 hover:bg-gray-50 text-gray-500",children:" "})]})]})})]}),g&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-90",onClick:()=>A(!1),children:a.jsxs("div",{className:"relative max-w-[90vw] max-h-[90vh]",children:[a.jsx("button",{onClick:y=>{y.stopPropagation(),A(!1)},className:"absolute -top-10 right-0 text-white hover:text-gray-300 transition-colors",children:a.jsx(rt,{className:"h-8 w-8"})}),a.jsx("img",{src:k,alt:" ",className:"max-w-full max-h-[90vh] object-contain",onClick:y=>y.stopPropagation()})]})})]})},dne=({projectName:e,onClose:t,type:r="cash"})=>{const n=r==="cash",s=n?"":"",i=n?"      .":"      .",[o,l]=w.useState({receiptDate:_e(new Date,"yyyy-MM-dd"),customerName:"",amount:"",purpose:" ",receivedBy:""}),c=()=>{window.print()},u=f=>{const m=Number(f.replace(/,/g,""));return isNaN(m)?"":m.toLocaleString()},d=f=>{if(f===0)return"";const m=["","","",""],v=["","","",""],p=["","","","","","","","","",""];let h="",j=0;for(;f>0;){const x=f%1e4;if(x>0){let b="",N=x,g=0;for(;N>0;){const A=N%10;A>0&&(b=p[A]+v[g]+b),N=Math.floor(N/10),g++}h=b+m[j]+h}f=Math.floor(f/1e4),j++}return h+""};return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 print:relative print:bg-white",children:a.jsxs("div",{className:"bg-white rounded-lg w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto print:max-h-none print:mx-0 print:rounded-none",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b print:hidden",children:[a.jsx("h2",{className:"text-lg font-bold text-gray-900",children:s}),a.jsx("button",{onClick:t,className:"p-1 hover:bg-gray-100 rounded-full",children:a.jsx(rt,{className:"h-5 w-5 text-gray-500"})})]}),a.jsxs("div",{className:"p-6 space-y-4 print:hidden",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),a.jsx("input",{type:"date",value:o.receiptDate,onChange:f=>l({...o,receiptDate:f.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),a.jsx("input",{type:"text",value:o.customerName,onChange:f=>l({...o,customerName:f.target.value}),placeholder:" ",className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),a.jsx("input",{type:"text",value:u(o.amount),onChange:f=>{const m=f.target.value.replace(/,/g,"");/^\d*$/.test(m)&&l({...o,amount:m})},placeholder:" ",className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"}),o.amount&&a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:d(Number(o.amount))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),a.jsx("input",{type:"text",value:o.purpose,onChange:f=>l({...o,purpose:f.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),a.jsx("input",{type:"text",value:o.receivedBy,onChange:f=>l({...o,receivedBy:f.target.value}),placeholder:" ",className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"})]}),a.jsxs("button",{onClick:c,disabled:!o.customerName||!o.amount||!o.receivedBy,className:"w-full py-2 bg-gray-900 text-white rounded-lg hover:bg-gray-800 disabled:bg-gray-300 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[a.jsx(cO,{className:"h-4 w-4"}),""]})]}),a.jsx("div",{className:"hidden print:block p-12",children:a.jsxs("div",{className:"border-4 border-double border-gray-900 p-8",children:[a.jsx("h1",{className:"text-center text-3xl font-bold mb-8",children:n?"    ":"    "}),a.jsxs("div",{className:"space-y-6 text-lg",children:[a.jsxs("div",{className:"flex items-baseline border-b border-gray-300 pb-2",children:[a.jsx("span",{className:"font-medium w-32",children:":"}),a.jsx("span",{className:"flex-1 receipt-date",children:_e(new Date(o.receiptDate),"yyyy MM dd",{locale:tt})})]}),a.jsxs("div",{className:"flex items-baseline border-b border-gray-300 pb-2",children:[a.jsx("span",{className:"font-medium w-32",children:":"}),a.jsx("span",{className:"flex-1",children:o.customerName})]}),a.jsxs("div",{className:"flex items-baseline border-b border-gray-300 pb-2",children:[a.jsx("span",{className:"font-medium w-32",children:":"}),a.jsx("span",{className:"flex-1",children:e})]}),a.jsxs("div",{className:"flex items-baseline border-b border-gray-300 pb-2",children:[a.jsx("span",{className:"font-medium w-32",children:":"}),a.jsxs("span",{className:"flex-1 font-bold receipt-amount",children:["",Number(o.amount).toLocaleString(),""]})]}),a.jsxs("div",{className:"flex items-baseline border-b border-gray-300 pb-2",children:[a.jsx("span",{className:"font-medium w-32",children:"():"}),a.jsx("span",{className:"flex-1",children:d(Number(o.amount))})]}),a.jsxs("div",{className:"flex items-baseline border-b border-gray-300 pb-2",children:[a.jsx("span",{className:"font-medium w-32",children:":"}),a.jsx("span",{className:"flex-1",children:o.purpose})]})]}),a.jsxs("div",{className:"mt-12 text-center",children:[a.jsx("p",{className:"text-lg mb-8",children:i}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-lg receipt-date",children:_e(new Date(o.receiptDate),"yyyy MM dd",{locale:tt})}),a.jsxs("p",{className:"text-xl font-medium mt-8",children:[": ",o.receivedBy," ",a.jsx("span",{className:"ml-4",children:"()"})]})]})]})]})})]})}),a.jsx("style",{children:`
        @media print {
          body * {
            visibility: hidden;
          }
          .print\\:block, .print\\:block * {
            visibility: visible;
          }
          .print\\:hidden {
            display: none !important;
          }
        }
      `})]})},aj=["","","","","","","","","","","","","","","","","","","","","","","","","","",""],Sl=e=>{if(!e)return e;const t=e.replace(/$/g,"").trim(),r=t.split(" ");if(r.length>=2){const n=r[r.length-1];for(const s of aj)if(n===s)return r.slice(0,-1).join(" ").trim()}for(const n of aj)if(t.endsWith(n))return t.substring(0,t.length-n.length).trim();return t},ij=["","","/","","","","","","","","","","","","",""],fne=()=>{const{payments:e,loadPaymentsFromAPI:t,addPaymentToAPI:r,deletePaymentFromAPI:n,updatePaymentInAPI:s,projects:i}=Un(),{user:o}=Gs(),[l,c]=w.useState(""),[u,d]=w.useState(null),[f,m]=w.useState(null),[v,p]=w.useState(!1),[h,j]=w.useState(!1),[x,b]=w.useState(!1),[N,g]=w.useState(!1),[A,k]=w.useState(""),[_,O]=w.useState("form"),[R,I]=w.useState(!1),[V,Z]=w.useState(!1),Q=w.useRef(null),[G,xe]=w.useState("pending"),[re,pe]=w.useState("all"),[ce,q]=w.useState(!1),[oe,J]=w.useState(null),[H,ae]=w.useState(!1),[ye,ve]=w.useState(""),[te,ue]=w.useState([]),[Ne,F]=w.useState([]),[ie,T]=w.useState(null),[W,Y]=w.useState([]),[ee,Te]=w.useState([]),[we,M]=w.useState(!1),[y,C]=w.useState(()=>{const $=localStorage.getItem("paymentRecordImages");return $?JSON.parse($):{}}),S=()=>{const $=localStorage.getItem("lastSelectedProject"),fe=i.filter(se=>se.status!=="completed");return $&&fe.some(se=>se.name===$)?$:fe.length>0?fe[0].name:""},[D,P]=w.useState({project:"",date:_e(new Date,"yyyy-MM-dd"),process:"",itemName:"",amount:"",accountHolder:"",bankName:"",accountNumber:"",images:[],quickText:""});w.useEffect(()=>{(async()=>{try{const fe=await Ts.getAllContractors();ue(fe.map(se=>({id:se._id||se.id,rank:se.rank,companyName:se.companyName,name:se.name,process:se.process,contact:se.contact,accountNumber:se.accountNumber,bankName:se.bankName,notes:se.notes,createdAt:new Date(se.createdAt),updatedAt:new Date(se.updatedAt)})))}catch(fe){console.error("Failed to load contractors:",fe)}})()},[]),w.useEffect(()=>{t().catch(fe=>{console.error("Failed to load payments:",fe)});const $=()=>{I(window.innerWidth<1024)};if($(),window.addEventListener("resize",$),i.length>0&&!D.project){const fe=S();fe&&(P(se=>({...se,project:fe})),localStorage.setItem("lastSelectedProject",fe))}return()=>window.removeEventListener("resize",$)},[t,i]),w.useEffect(()=>{const $=setInterval(()=>{console.log("[ ]    ..."),t().catch(fe=>{console.error("[ ] :",fe)})},3e4);return()=>clearInterval($)},[t]),w.useEffect(()=>{(async()=>{var he,de,je,Re;const fe=new URLSearchParams(window.location.search),se=fe.get("complete")||fe.get("c");if(se){if(console.log("[ ] URL  :",se),!o){console.log("[ ]   -  ");return}O("list"),xe("pending");try{await t(),await s(String(se),{status:"completed"}),z.success(" "),xe("completed"),window.history.replaceState({},"","/payments"),await t()}catch(Le){console.error("[ ]  :",Le);let Ge="  ";((he=Le.response)==null?void 0:he.status)===401?Ge=" .  ":((de=Le.response)==null?void 0:de.status)===404?Ge="     (ID: "+se+")":(Re=(je=Le.response)==null?void 0:je.data)!=null&&Re.error?Ge=Le.response.data.error:Le.message&&(Ge+=": "+Le.message),z.error(Ge),window.history.replaceState({},"","/payments")}}})()},[t,s,o]),w.useEffect(()=>{if(D.process){const $=new Set(e.filter(he=>{var de;return he.status==="completed"&&((de=he.bankInfo)==null?void 0:de.accountHolder)}).map(he=>he.bankInfo.accountHolder.trim().toLowerCase())),se=te.filter(he=>{if(!(he.process.toLowerCase().includes(D.process.toLowerCase())||D.process.toLowerCase().includes(he.process.toLowerCase())))return!1;const je=he.accountNumber&&he.accountNumber.trim()!=="",Re=he.name.trim().toLowerCase(),Le=$.has(Re);return je||Le}).sort((he,de)=>{const je=he.accountNumber&&he.accountNumber.trim()!=="",Re=de.accountNumber&&de.accountNumber.trim()!=="";return je&&!Re?-1:!je&&Re?1:0});F(se)}else F([])},[D.process,te,e]),w.useEffect(()=>{if(D.accountHolder&&D.accountHolder.trim().length>=1){const $=D.accountHolder.trim().toLowerCase(),fe=new Map;let se=null;if(ie){const de=te.find(je=>(je.id||je._id)===ie);de&&de.accountNumber&&de.bankName&&(se=`${Sl(de.name).trim()}_${de.bankName}_${de.accountNumber}`)}e.filter(de=>{var je,Re,Le;return de.status==="completed"&&((je=de.bankInfo)==null?void 0:je.accountHolder)&&((Re=de.bankInfo)==null?void 0:Re.bankName)&&((Le=de.bankInfo)==null?void 0:Le.accountNumber)}).forEach(de=>{const je=de.bankInfo.accountHolder.trim(),Re=je.toLowerCase();if(Re.includes($)||$.includes(Re)){const Le=`${je}_${de.bankInfo.bankName}_${de.bankInfo.accountNumber}`;Le!==se&&!fe.has(Le)&&fe.set(Le,{accountHolder:je,bankName:de.bankInfo.bankName,accountNumber:de.bankInfo.accountNumber})}}),te.forEach(de=>{if((de.id||de._id)!==ie&&de.accountNumber&&de.bankName){const je=Sl(de.name).trim(),Re=je.toLowerCase();if(Re.includes($)||$.includes(Re)){const Le=`${je}_${de.bankName}_${de.accountNumber}`;fe.has(Le)||fe.set(Le,{accountHolder:je,bankName:de.bankName,accountNumber:de.accountNumber})}}}),Y(Array.from(fe.values()))}else Y([])},[D.accountHolder,e,te,ie]),w.useEffect(()=>{if(we&&D.itemName&&D.itemName.trim().length>=1){const $=D.itemName.trim().toLowerCase(),fe=[...e].sort((he,de)=>new Date(de.date).getTime()-new Date(he.date).getTime()).map(he=>he.itemName).filter(he=>he&&he.toLowerCase().includes($)),se=Array.from(new Set(fe));Te(se.slice(0,10))}else Te([])},[D.itemName,e,we]);const K=$=>{const fe=$.split(`
`).map(he=>he.trim()).filter(he=>he),se={amounts:{},bankInfo:{},vendor:null,itemName:void 0,includeVat:!1};return fe.forEach((he,de)=>{(he.includes("")||he.includes(" ")||he.includes("()"))&&(se.includeVat=!0);const je=he.match(/(\d+)\s*\s*/);if(je){const ge=parseInt(je[1])*1e4;he.includes("")||he.includes("")?se.amounts.material=ge:he.includes("")||he.includes("")?se.amounts.labor=ge:se.amounts.total||(se.amounts.total=ge),he=he.replace(/(\d+)\s*\s*/g,"")}he.includes("/")&&he.split("/").forEach(Ce=>{const Ie=Ce.trim();/^[\d\-]+$/.test(Ie)&&Ie.replace(/\-/g,"").length>=10?se.bankInfo.accountNumber||(se.bankInfo.accountNumber=Ie):/^[-]{2,5}$/.test(Ie)&&!["","","","","","",""].includes(Ie)&&!se.bankInfo.accountHolder&&(se.bankInfo.accountHolder=Ie)});const Re=[/\d{3,4}[\s\-]+\d{3,4}[\s\-]+\d{3,4}[\s\-]+\d{3,4}/,/\d{3,4}[\s\-]+\d{2,6}[\s\-]+\d{4,7}/,/\d{10,}/];for(const ge of Re){const Ce=he.match(ge);if(Ce&&!se.bankInfo.accountNumber){se.bankInfo.accountNumber=Ce[0].trim().replace(/\s+/g,"-");break}}const Le=he.match(/[\d,]+/g);Le&&Le.forEach(ge=>{const Ce=parseInt(ge.replace(/,/g,""));!se.bankInfo.accountNumber&&ge.replace(/,/g,"").length>=10&&ge.replace(/,/g,"").length<=20?se.bankInfo.accountNumber=ge.replace(/,/g,""):Ce>=1e3&&!je&&(he.includes("")||he.includes("")?se.amounts.material=Ce:he.includes("")||he.includes("")?se.amounts.labor=Ce:se.amounts.total||(se.amounts.total=Ce))});const Ge={:"KB",KB:"KB",:"",:"",:"",:"IBK",IBK:"IBK",:"NH",NH:"NH",:"",:"",:"",:"",K:"",:"KDB",KDB:"KDB",:"",:"",:"",:"",:"",:"",:"SC",SC:"SC",:"",:"",:"",:""};for(const[ge,Ce]of Object.entries(Ge))if(he.includes(ge)){se.bankInfo.bankName=Ce;const Ie=new RegExp(`${ge}\\s+([-]{2,5})`),We=he.match(Ie);We&&(se.bankInfo.accountHolder=We[1]);break}if(!se.bankInfo.bankName){const ge=he.match(/([-]+)(|)/);ge&&(se.bankInfo.bankName=ge[0])}const ze=he.match(/\(([-]{2,5})\)/);if(ze&&(["","","","","","",""].includes(ze[1])||(se.bankInfo.accountHolder=ze[1])),!ze&&!se.bankInfo.accountHolder){const ge=/[-]{2,5}/g,Ce=he.match(ge);if(Ce){const Ie=he.match(/\d{10,}/)||he.match(/\d{3,4}[\s\-]+\d{3,4}[\s\-]+\d{3,4}[\s\-]+\d{3,4}/);Ce.forEach(We=>{if(["","","","","","",""].includes(We))return;const Dt=We.includes("")||We.includes("")||We.includes(""),en=Object.keys(Ge).includes(We);if(!Dt&&!en&&!We.includes("")&&!We.includes("")&&!["","","","","","","","","","","","","",""].some(H0=>We.includes(H0))){if(ze&&We===ze[1])return;Ie&&!ze?se.bankInfo.accountHolder=We:se.bankInfo.accountHolder||(de>0&&(fe[de-1].match(/\d{10,}/)||fe[de-1].match(/|/))||de<fe.length-1&&(fe[de+1].match(/\d{10,}/)||fe[de+1].match(/|/))||he.match(/|/))&&(se.bankInfo.accountHolder=We)}})}}const L={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};for(const[ge,Ce]of Object.entries(L))if(he.includes(ge)){se.vendor=Ce;break}if(de===0&&!se.itemName){const ge=he.replace(/[\[\]{}()<>]/g,"").trim();ge&&(se.itemName=ge.substring(0,50))}}),se},ne=()=>{const $=D.quickText;if(!$.trim())return;const fe=K($),se={...D};let he=0;fe.amounts.material&&(he+=fe.amounts.material),fe.amounts.labor&&(he+=fe.amounts.labor),fe.amounts.total&&!fe.amounts.material&&!fe.amounts.labor&&(he=fe.amounts.total),he>0&&(se.amount=he),fe.bankInfo.bankName&&(se.bankName=fe.bankInfo.bankName),fe.bankInfo.accountNumber&&(se.accountNumber=fe.bankInfo.accountNumber),fe.bankInfo.accountHolder&&(se.accountHolder=fe.bankInfo.accountHolder),fe.vendor&&(se.process=fe.vendor),fe.itemName&&(se.itemName=fe.itemName),P(se),fe.includeVat&&(j(!0),b(!1));let de=[];if(fe.amounts.material||fe.amounts.labor||fe.amounts.total){const je=[];fe.amounts.material&&je.push(`: ${fe.amounts.material.toLocaleString()}`),fe.amounts.labor&&je.push(`: ${fe.amounts.labor.toLocaleString()}`),fe.amounts.total&&!fe.amounts.material&&!fe.amounts.labor&&je.push(`: ${fe.amounts.total.toLocaleString()}`),de.push(je.join(", "))}if(fe.bankInfo.bankName||fe.bankInfo.accountHolder){const je=[];fe.bankInfo.bankName&&je.push(fe.bankInfo.bankName),fe.bankInfo.accountHolder&&je.push(fe.bankInfo.accountHolder),fe.bankInfo.accountNumber&&je.push(fe.bankInfo.accountNumber),je.length>0&&de.push(`: ${je.join(" ")}`)}fe.vendor&&de.push(`: ${fe.vendor}`),fe.includeVat&&de.push("  "),de.length>0?z.success(`  !
${de.join(`
`)}`,{duration:4e3,style:{whiteSpace:"pre-line"}}):z.info("  ...    .")},E=w.useCallback(()=>{if(!ie&&(!D.accountHolder||D.accountHolder.trim().length===0)){const $=new Map;e.filter(se=>{var he,de,je;return se.status==="completed"&&((he=se.bankInfo)==null?void 0:he.accountHolder)&&((de=se.bankInfo)==null?void 0:de.bankName)&&((je=se.bankInfo)==null?void 0:je.accountNumber)}).forEach(se=>{const he=se.bankInfo.accountHolder.trim(),de=`${he}_${se.bankInfo.bankName}_${se.bankInfo.accountNumber}`;$.has(de)||$.set(de,{accountHolder:he,bankName:se.bankInfo.bankName,accountNumber:se.bankInfo.accountNumber})}),te.forEach(se=>{if(se.accountNumber&&se.bankName){const he=Sl(se.name).trim(),de=`${he}_${se.bankName}_${se.accountNumber}`;$.has(de)||$.set(de,{accountHolder:he,bankName:se.bankName,accountNumber:se.accountNumber})}}),Y(Array.from($.values()))}},[D.accountHolder,e,te,ie]);w.useEffect(()=>{localStorage.setItem("paymentRecordImages",JSON.stringify(y))},[y]);const X=w.useCallback($=>{var se;if(!u){z.error("  ");return}const fe=(se=$.clipboardData)==null?void 0:se.items;if(fe){for(let he=0;he<fe.length;he++)if(fe[he].type.indexOf("image")!==-1){$.preventDefault();const de=fe[he].getAsFile();if(de){const je=new FileReader;je.onload=Re=>{var Ge;const Le=(Ge=Re.target)==null?void 0:Ge.result;C(ze=>({...ze,[u]:[...ze[u]||[],Le]})),z.success(" ")},je.readAsDataURL(de)}}}},[u]);w.useEffect(()=>(document.addEventListener("paste",X),()=>document.removeEventListener("paste",X)),[X]);const B=[...e].sort(($,fe)=>new Date(fe.requestDate).getTime()-new Date($.requestDate).getTime()),le=B.filter($=>{var de,je,Re;const fe=l===""||((de=$.purpose)==null?void 0:de.toLowerCase().includes(l.toLowerCase()))||((je=$.itemName)==null?void 0:je.toLowerCase().includes(l.toLowerCase()))||((Re=$.process)==null?void 0:Re.toLowerCase().includes(l.toLowerCase())),se=$.status===G,he=re==="all"||$.project===re;return fe&&se&&he}),Pe=$=>{const fe=$.id||$._id||null;if(ie===fe){T(null);const je=document.querySelector('input[placeholder=" "]');je&&setTimeout(()=>{je.focus()},100);return}T(fe);const se=Sl($.name);let he=$.bankName||"",de=$.accountNumber||"";if(de&&!he){const je=de.trim().split(/\s+/);if(je.length>=2){const Re=je[0];(Re.includes("")||Re.includes("")||Re.includes("")||Re.includes("")||Re.includes(""))&&(he=Re,de=je.slice(1).join(""))}}P(je=>({...je,accountHolder:se,bankName:he,accountNumber:de}))};le.reduce(($,fe)=>{const se=fe.materialAmount||0,he=fe.laborAmount||0,de=fe.amount||0;let je=se,Re=he,Le=0;return se===0&&he===0&&de>0?fe.includesVAT?(je=Math.round(de/1.1),Le=de-je):(je=de,Le=0):fe.includesVAT?(se>0&&(je=Math.round(se/1.1)),he>0&&(Re=Math.round(he/1.1)),Le=de-(je+Re)):Le=0,$.material+=je,$.labor+=Re,$.vat+=Le,$.total+=de,$},{material:0,labor:0,vat:0,total:0});const Me=async()=>{if(console.log(" handleSave called"),console.log(" Current user:",o),console.log(" Form data:",D),!D.project){z.error(" ");return}if(!D.itemName){z.error(" ");return}const $=Number(D.materialCost)||0,fe=Number(D.laborCost)||0;if($+fe===0){z.error(" ");return}try{const he=x?Math.round($*.967):$,de=x?Math.round(fe*.967):fe,je=he+de,Re=new Date;if(f){const Le={project:D.project,requestDate:new Date(D.date),purpose:D.itemName,amount:je,category:"material",urgency:"normal",process:D.process,itemName:D.itemName,includesVAT:h,applyTaxDeduction:x,materialAmount:he,laborAmount:de,originalLaborAmount:fe,accountHolder:D.accountHolder,bank:D.bankName,accountNumber:D.accountNumber,bankInfo:D.accountHolder||D.bankName||D.accountNumber?{accountHolder:D.accountHolder,bankName:D.bankName,accountNumber:D.accountNumber}:void 0,updatedAt:Re};console.log(" Updating payment:",Le),await s(f,Le),z.success(" "),m(null)}else{const Le={id:`payment_${Date.now()}`,project:D.project,requestDate:new Date(D.date),requestedBy:(o==null?void 0:o.name)||"  ",purpose:D.itemName,amount:je,status:"pending",category:"material",urgency:"normal",process:D.process,itemName:D.itemName,includesVAT:h,applyTaxDeduction:x,materialAmount:he,laborAmount:de,originalLaborAmount:fe,accountHolder:D.accountHolder,bank:D.bankName,accountNumber:D.accountNumber,bankInfo:D.accountHolder||D.bankName||D.accountNumber?{accountHolder:D.accountHolder,bankName:D.bankName,accountNumber:D.accountNumber}:void 0,attachments:[],createdAt:Re,updatedAt:Re};console.log(" Creating payment:",Le),await r(Le),z.success(" ")}P(Le=>({project:Le.project,date:_e(new Date,"yyyy-MM-dd"),process:"",itemName:"",materialCost:"",laborCost:"",amount:"",accountHolder:"",bankName:"",accountNumber:"",images:[],quickText:""})),j(!1),b(!1),T(null),R&&O("list")}catch(he){console.error(" Payment save error:",he),z.error("  : "+he.message)}},He=$=>{var he,de,je,Re;const fe=$.originalMaterialAmount!==void 0?$.originalMaterialAmount:$.materialAmount||0,se=$.originalLaborAmount!==void 0?$.originalLaborAmount:$.laborAmount||0;P({project:$.project,date:_e(new Date($.requestDate),"yyyy-MM-dd"),process:$.process||"",itemName:$.itemName||$.purpose||"",materialCost:fe>0?fe.toString():"",laborCost:se>0?se.toString():"",amount:((he=$.amount)==null?void 0:he.toString())||"",accountHolder:((de=$.bankInfo)==null?void 0:de.accountHolder)||"",bankName:((je=$.bankInfo)==null?void 0:je.bankName)||"",accountNumber:((Re=$.bankInfo)==null?void 0:Re.accountNumber)||"",images:$.attachments||[]}),j($.includesVAT||!1),b($.applyTaxDeduction||!1),d($.id),m($.id),R&&O("form"),z.success("  ")},lt=async $=>{var fe,se,he;try{const de=((fe=$.bankInfo)==null?void 0:fe.accountHolder)||$.accountHolder,je=((se=$.bankInfo)==null?void 0:se.bankName)||$.bank,Re=((he=$.bankInfo)==null?void 0:he.accountNumber)||$.accountNumber;if(!de||!je||!Re){z.error("  .    .");return}if(!window.confirm(`  ?

: ${de}
: ${je}
: ${Re}
: ${$.amount.toLocaleString()}`))return;const Ge=Re.replace(/-/g,""),L={KB:"",:"",:"",:"",:"",NH:"",:"",IBK:"",:"",SC:"SC",:"",:"",:"",:"",:"",KDB:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}[je]||je,Ce={KB:"004",:"004",:"088",:"020",:"081",NH:"011",:"011",IBK:"003",:"003",SC:"023",:"027",:"027",:"045",:"048",:"071",KDB:"002",:"002",:"007",:"031",:"032",:"039",:"034",:"037",:"035",:"090",:"089",:"092"}[je]||"004",Ie=`supertoss://send?amount=${$.amount}&bankCode=${Ce}&bank=${encodeURIComponent(L)}&accountNo=${Ge}`;let We=!1;try{window.location.href=Ie,We=!0,z.success("  ...",{duration:3e3}),setTimeout(()=>{const qe=/iPhone|iPad|iPod/i.test(navigator.userAgent),Dt=/Android/i.test(navigator.userAgent);(qe||Dt)&&z(`      .

: ${de}
: ${Re}
: ${$.amount.toLocaleString()}

    .`,{icon:"",duration:8e3})},2e3)}catch(qe){console.error("   :",qe),z(`   .

: ${de}
: ${je}
: ${Re}
: ${$.amount.toLocaleString()}

    .`,{icon:"",duration:1e4})}}catch(de){console.error(" :",de),z.error(`   : ${de.message}`)}},Xe=async $=>{try{await s($,{status:"completed"}),z.success(" "),q(!1)}catch{z.error("  ")}},st=$=>{var de;if(!u){z.error("  ");return}const fe=Array.from(((de=$.target)==null?void 0:de.files)||[]),se=[],he=fe.filter(je=>je.type.startsWith("image/"));he.length!==0&&he.forEach(je=>{const Re=new FileReader;Re.onload=Le=>{var ze;const Ge=(ze=Le.target)==null?void 0:ze.result;se.push(Ge),se.length===he.length&&(C(L=>({...L,[u]:[...L[u]||[],...se]})),z.success(`${se.length}  `))},Re.readAsDataURL(je)})},ft=$=>{u&&C(fe=>{var se;return{...fe,[u]:((se=fe[u])==null?void 0:se.filter((he,de)=>de!==$))||[]}})},it=$=>{k($),g(!0)},qt=$=>{$.preventDefault(),p(!0)},or=$=>{$.preventDefault(),p(!1)},zn=$=>{if($.preventDefault(),p(!1),!u){z.error("  ");return}const fe=Array.from($.dataTransfer.files),se=[],he=fe.filter(de=>de.type.startsWith("image/"));he.length!==0&&he.forEach(de=>{const je=new FileReader;je.onload=Re=>{var Ge;const Le=(Ge=Re.target)==null?void 0:Ge.result;se.push(Le),se.length===he.length&&(C(ze=>({...ze,[u]:[...ze[u]||[],...se]})),z.success(`${se.length}  `))},je.readAsDataURL(de)})};return a.jsxs("div",{className:"space-y-3 md:space-y-4",children:[a.jsxs("div",{className:"lg:hidden mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),a.jsxs("select",{value:D.project,onChange:$=>{P({...D,project:$.target.value}),$.target.value&&localStorage.setItem("lastSelectedProject",$.target.value)},className:"w-full px-3 py-2.5 md:py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 bg-white cursor-pointer hover:border-gray-400 transition-colors appearance-none bg-[url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20fill%3D%22none%22%20viewBox%3D%220%200%2020%2020%22%3E%3Cpath%20stroke%3D%22%236b7280%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%221.5%22%20d%3D%22M6%208l4%204%204-4%22%2F%3E%3C%2Fsvg%3E')] bg-[length:1.5em_1.5em] bg-[right_0.5rem_center] bg-no-repeat pr-10",children:[a.jsx("option",{value:"",children:" "}),i.filter($=>$.status!=="completed").map($=>a.jsx("option",{value:$.name,children:$.name},$.id))]})]}),a.jsx("div",{className:"lg:hidden border-b border-gray-200 mb-4",children:a.jsxs("nav",{className:"flex space-x-4",children:[a.jsx("button",{onClick:()=>O("form"),className:`py-2 px-1 border-b-2 font-medium text-sm ${_==="form"?"border-gray-900 text-gray-900":"border-transparent text-gray-500"}`,children:""}),a.jsx("button",{onClick:()=>O("list"),className:`py-2 px-1 border-b-2 font-medium text-sm ${_==="list"?"border-gray-900 text-gray-900":"border-transparent text-gray-500"}`,children:""}),a.jsx("button",{onClick:()=>O("image"),className:`py-2 px-1 border-b-2 font-medium text-sm ${_==="image"?"border-gray-900 text-gray-900":"border-transparent text-gray-500"}`,children:""})]})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-4",children:[a.jsx("div",{className:`lg:col-span-2 bg-white rounded-lg border p-4 overflow-y-auto ${_!=="form"?"hidden lg:block":""}`,children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"hidden lg:block",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"}),a.jsxs("select",{value:D.project,onChange:$=>{P({...D,project:$.target.value}),$.target.value&&localStorage.setItem("lastSelectedProject",$.target.value)},className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 bg-white cursor-pointer hover:border-gray-400 transition-colors appearance-none bg-[url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20fill%3D%22none%22%20viewBox%3D%220%200%2020%2020%22%3E%3Cpath%20stroke%3D%22%236b7280%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%221.5%22%20d%3D%22M6%208l4%204%204-4%22%2F%3E%3C%2Fsvg%3E')] bg-[length:1.5em_1.5em] bg-[right_0.5rem_center] bg-no-repeat pr-10",children:[a.jsx("option",{value:"",children:" "}),i.filter($=>$.status!=="completed").map($=>a.jsx("option",{value:$.name,children:$.name},$.id))]})]}),a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"   (  )"}),a.jsx("textarea",{value:D.quickText,onChange:$=>P({...D,quickText:$.target.value}),rows:4,className:"w-full px-3 py-2 border border-blue-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:`: [703 ]
: 120
: 80
 110-432-160269 

, , , , /  .`}),a.jsx("button",{type:"button",onClick:ne,className:"mt-2 w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium",children:"  "}),a.jsxs("p",{className:"mt-2 text-xs text-gray-600",children:["  : (/), , , ,   ",a.jsx("br",{})," : []  ",a.jsx("br",{}),' : "40", "400000" ',a.jsx("br",{})," : , , , , ,  ",a.jsx("br",{})," : , , , ,  "]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[" ",D.date&&`(${_e(new Date(D.date),"E",{locale:tt})})`]}),a.jsx("input",{type:"date",value:D.date,onChange:$=>P({...D,date:$.target.value}),className:"w-full px-3 py-2 border rounded-lg bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500 cursor-pointer text-gray-900",style:{WebkitAppearance:"none",MozAppearance:"none",appearance:"none",backgroundColor:"white",backgroundImage:"none"}})]}),a.jsxs("div",{className:"relative",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),a.jsx("button",{ref:Q,type:"button",onClick:()=>Z(!0),className:"w-full px-3 py-2 border rounded-lg text-left bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500",children:D.process||a.jsx("span",{className:"text-gray-400",children:""})})]})]}),a.jsxs("div",{className:"relative",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),a.jsx("input",{type:"text",value:D.itemName,onChange:$=>P({...D,itemName:$.target.value}),onFocus:()=>M(!0),onBlur:()=>setTimeout(()=>M(!1),200),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"}),ee.length>0&&a.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:ee.map(($,fe)=>a.jsx("button",{type:"button",onClick:()=>{P({...D,itemName:$}),Te([])},className:"w-full px-3 py-2 text-left hover:bg-gray-50 text-sm",children:a.jsx("div",{className:"font-medium text-gray-900",children:$})},fe))})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),a.jsx("input",{type:"number",value:D.amount,onChange:$=>P({...D,amount:$.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",placeholder:" "})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:"includeVat",checked:h,onChange:$=>{$.target.checked&&b(!1),j($.target.checked)},className:"h-4 w-4 text-gray-600 focus:ring-gray-500 border-gray-300 rounded"}),a.jsx("label",{htmlFor:"includeVat",className:"ml-2 block text-sm text-gray-700",children:"  (10%)"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:"includeTaxDeduction",checked:x,onChange:$=>{$.target.checked&&j(!1),b($.target.checked)},className:"h-4 w-4 text-gray-600 focus:ring-gray-500 border-gray-300 rounded"}),a.jsx("label",{htmlFor:"includeTaxDeduction",className:"ml-2 block text-sm text-gray-700",children:"3.3% "})]})]})]}),Ne.length>0&&a.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-3 mt-3",children:[a.jsx("label",{className:"block text-sm font-medium text-amber-900 mb-2",children:" "}),a.jsx("div",{className:"space-y-1 max-h-32 overflow-y-auto",children:Ne.map($=>{const fe=$.id||$._id,se=ie===fe;return a.jsx("button",{type:"button",onClick:()=>Pe($),className:`w-full text-left px-3 py-2 rounded-lg border transition-colors ${se?"border-gray-900 bg-gray-50":"border-gray-200 hover:border-gray-400 hover:bg-gray-50"}`,children:a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-medium text-sm text-gray-900",children:Sl($.name)}),$.companyName&&a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"text-gray-300",children:"|"}),a.jsx("span",{className:"text-xs text-gray-600",children:$.companyName})]})]}),$.accountNumber&&$.bankName&&a.jsxs("div",{className:"text-xs text-gray-500",children:[$.bankName," ",$.accountNumber]})]})},fe)})})]}),a.jsxs("div",{className:"border-t pt-3 space-y-2",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),a.jsx("input",{type:"text",value:D.accountHolder,onChange:$=>P({...D,accountHolder:$.target.value}),onFocus:E,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",placeholder:" "})]}),W.length>0&&!ie&&a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[a.jsx("label",{className:"block text-sm font-medium text-blue-900 mb-2",children:"  "}),a.jsx("div",{className:"space-y-1 max-h-32 overflow-y-auto",children:W.map(($,fe)=>a.jsx("button",{type:"button",onClick:()=>{P(se=>({...se,accountHolder:$.accountHolder,bankName:$.bankName,accountNumber:$.accountNumber})),Y([])},className:"w-full text-left px-3 py-2 rounded-lg border border-blue-200 bg-white hover:border-blue-400 hover:bg-blue-50 transition-colors",children:a.jsx("div",{className:"flex justify-between items-start",children:a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-sm text-gray-900",children:$.accountHolder}),a.jsxs("div",{className:"text-xs text-gray-500 mt-0.5",children:[$.bankName," ",$.accountNumber]})]})})},fe))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),a.jsxs("select",{value:D.bankName,onChange:$=>P({...D,bankName:$.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",children:[a.jsx("option",{value:"",children:" "}),a.jsx("option",{value:"KB",children:"KB"}),a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"NH",children:"NH"}),a.jsx("option",{value:"IBK",children:"IBK"}),a.jsx("option",{value:"SC",children:"SC"}),a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"KDB",children:"KDB"}),a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"",children:""})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),a.jsx("input",{type:"text",value:D.accountNumber,onChange:$=>P({...D,accountNumber:$.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",placeholder:" "})]}),a.jsx("div",{className:"pt-2 border-t",children:a.jsxs("div",{className:"flex justify-between items-baseline",children:[a.jsx("span",{className:"font-medium",children:""}),a.jsxs("div",{className:"text-right",children:[(h||x)&&a.jsxs("span",{className:"text-xs text-gray-500 mr-2",children:["(",h&&" ",x&&"3.3% ",")"]}),a.jsxs("span",{className:"font-semibold",children:[(()=>{const $=(Number(D.materialCost)||0)+(Number(D.laborCost)||0);return(x?Math.round($*.967):$).toLocaleString()})(),""]})]})]})}),a.jsxs("div",{className:"my-6 lg:my-[50px] sticky bottom-0 bg-white pt-4 pb-4 -mb-4 lg:static lg:pb-0",style:{zIndex:100},children:[f&&a.jsx("button",{onClick:()=>{m(null),P($=>({project:$.project,date:_e(new Date,"yyyy-MM-dd"),process:"",itemName:"",materialCost:"",laborCost:"",amount:"",accountHolder:"",bankName:"",accountNumber:"",images:[],quickText:""})),j(!1),b(!1),T(null),z.info(" ")},className:"w-full py-2 mb-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 touch-manipulation",style:{minHeight:"48px"},children:""}),a.jsx("button",{onClick:$=>{console.log(" Payment button clicked!",$),console.log(" Button element:",$.currentTarget),console.log(" Form data:",D),Me()},className:"w-full py-3 bg-gray-900 text-white rounded-lg hover:bg-gray-800 active:bg-gray-950 touch-manipulation font-medium text-base",style:{minHeight:"48px",position:"relative",zIndex:101,WebkitTapHighlightColor:"transparent"},children:f?"":""})]})]})]})}),a.jsxs("div",{className:`lg:col-span-4 bg-white rounded-lg border overflow-hidden flex flex-col ${_!=="list"?"hidden lg:flex":""}`,children:[a.jsx("div",{className:"bg-gray-50 px-4 pt-3 pb-0",children:a.jsx("div",{className:"flex items-center justify-between gap-4",children:a.jsxs("nav",{className:"flex gap-2 overflow-x-auto flex-1",children:[a.jsxs("button",{onClick:()=>xe("pending"),className:`px-4 py-2.5 rounded-t-lg font-medium text-sm transition-all whitespace-nowrap flex items-center gap-2 ${G==="pending"?"bg-white text-gray-900 shadow-sm border-b-2 border-gray-900":"text-gray-500 hover:text-gray-700 hover:bg-gray-100"}`,children:["",a.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-semibold ${G==="pending"?"bg-gray-900 text-white":"bg-gray-300 text-gray-600"}`,children:B.filter($=>$.status==="pending").length})]}),a.jsxs("button",{onClick:()=>xe("completed"),className:`px-4 py-2.5 rounded-t-lg font-medium text-sm transition-all whitespace-nowrap flex items-center gap-2 ${G==="completed"?"bg-white text-gray-900 shadow-sm border-b-2 border-gray-900":"text-gray-500 hover:text-gray-700 hover:bg-gray-100"}`,children:["",a.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-semibold ${G==="completed"?"bg-gray-900 text-white":"bg-gray-300 text-gray-600"}`,children:B.filter($=>$.status==="completed").length})]})]})})}),a.jsx("div",{className:"border-b border-gray-200"}),a.jsx("div",{className:"flex-1 overflow-auto p-4",children:le.length>0?a.jsx("div",{className:"space-y-4",children:G==="completed"?(()=>{const $=le.reduce((fe,se)=>{const he=se.project||"";return fe[he]||(fe[he]=[]),fe[he].push(se),fe},{});return Object.entries($).map(([fe,se])=>{const he=se.reduce((de,je)=>de+(je.amount||0),0);return a.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[a.jsx("div",{className:"bg-gray-50 px-3 py-2 border-b flex items-center justify-between",children:a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900 text-sm",children:fe}),a.jsxs("p",{className:"text-xs text-gray-500",children:[" ",se.length,"  ",he.toLocaleString(),""]})]})}),a.jsx("div",{className:"p-2 space-y-2",children:se.map(de=>{var L,ge,Ce;const je=de.amount||0,Re=((L=de.bankInfo)==null?void 0:L.accountHolder)||de.accountHolder||"",Le=((ge=de.bankInfo)==null?void 0:ge.bankName)||de.bank||"",Ge=((Ce=de.bankInfo)==null?void 0:Ce.accountNumber)||de.accountNumber||"",ze=Re&&Le&&Ge?`${Re} | ${Le} ${Ge}`:" ";return a.jsxs("div",{onClick:()=>d(de.id),className:`border rounded-lg p-3 cursor-pointer transition-colors ${u===de.id?"border-gray-900 bg-gray-50":"border-gray-200 bg-white hover:border-gray-400"}`,children:[a.jsxs("div",{className:"flex justify-between items-start mb-2.5",children:[a.jsx("div",{className:"flex-1 min-w-0",children:a.jsxs("div",{className:"flex items-baseline gap-2",children:[de.process&&a.jsxs("span",{className:"text-xs text-gray-500 shrink-0",children:["[",de.process,"]"]}),a.jsx("h3",{className:"font-semibold text-gray-900 text-sm truncate",children:de.purpose||de.itemName||"-"})]})}),a.jsxs("div",{className:"flex items-start gap-2 ml-3 shrink-0",children:[a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-base font-bold text-gray-900",children:[je.toLocaleString(),""]}),a.jsxs("p",{className:"text-[10px] text-gray-400",children:[de.requestedBy||"-","  ",_e(new Date(de.requestDate),"MM/dd",{locale:tt})]})]}),a.jsx("button",{onClick:async Ie=>{var We;if(Ie.stopPropagation(),window.confirm("  ?"))try{await n(de.id),z.success("")}catch(qe){console.error(" :",qe),((We=qe.response)==null?void 0:We.status)===404?(z.error("  .  ."),await t()):z.error(" : "+(qe.message||"   "))}},className:"p-0.5 text-gray-300 hover:text-red-500 transition-colors",title:"",children:a.jsx(_t,{className:"h-3.5 w-3.5"})})]})]}),a.jsxs("div",{className:"flex items-center gap-2 mb-2.5 text-xs",children:[a.jsxs("span",{className:"text-gray-400",children:[" ",(de.materialAmount||0).toLocaleString()]}),a.jsx("span",{className:"text-gray-300",children:""}),a.jsxs("span",{className:"text-gray-400",children:[" ",(de.laborAmount||0).toLocaleString()]}),de.includesVAT&&a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"text-gray-300",children:""}),a.jsx("span",{className:"px-1.5 py-0.5 bg-blue-50 text-blue-700 text-[10px] rounded",children:"VAT"})]}),de.applyTaxDeduction&&a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"text-gray-300",children:""}),a.jsx("span",{className:"px-1.5 py-0.5 bg-purple-50 text-purple-700 text-[10px] rounded",children:"3.3%"})]})]}),a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("div",{className:"text-xs text-gray-500 truncate flex-1",children:ze}),a.jsx("button",{onClick:Ie=>{Ie.stopPropagation(),He(de)},className:"text-xs text-gray-600 hover:text-gray-900 ml-2 flex-shrink-0",children:""})]})]},de.id)})})]},fe)})})():le.map($=>{var Re,Le,Ge;const fe=$.amount||0,se=((Re=$.bankInfo)==null?void 0:Re.accountHolder)||$.accountHolder||"",he=((Le=$.bankInfo)==null?void 0:Le.bankName)||$.bank||"",de=((Ge=$.bankInfo)==null?void 0:Ge.accountNumber)||$.accountNumber||"",je=se&&he&&de?`${se} | ${he} ${de}`:" ";return a.jsxs("div",{onClick:()=>d($.id),className:`border rounded-lg p-3 cursor-pointer transition-colors ${u===$.id?"border-gray-900 bg-gray-50":"border-gray-200 bg-white hover:border-gray-400"}`,children:[a.jsxs("div",{className:"flex justify-between items-start mb-2.5",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-baseline gap-2",children:[$.process&&a.jsxs("span",{className:"text-xs text-gray-500 shrink-0",children:["[",$.process,"]"]}),a.jsx("h3",{className:"font-semibold text-gray-900 text-sm truncate",children:$.purpose||$.itemName||"-"})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:$.project||"-"})]}),a.jsxs("div",{className:"flex items-start gap-2 ml-3 shrink-0",children:[a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-base font-bold text-gray-900",children:[fe.toLocaleString(),""]}),a.jsxs("p",{className:"text-[10px] text-gray-400",children:[$.requestedBy||"-","  ",_e(new Date($.requestDate),"MM/dd",{locale:tt})]})]}),a.jsx("button",{onClick:async ze=>{ze.stopPropagation(),window.confirm("  ?")&&(await n($.id),z.success(""))},className:"p-0.5 text-gray-300 hover:text-red-500 transition-colors",title:"",children:a.jsx(_t,{className:"h-3.5 w-3.5"})})]})]}),a.jsxs("div",{className:"flex items-center gap-2 mb-2.5 text-xs",children:[a.jsxs("span",{className:"text-gray-400",children:[" ",($.materialAmount||0).toLocaleString()]}),a.jsx("span",{className:"text-gray-300",children:""}),a.jsxs("span",{className:"text-gray-400",children:[" ",($.laborAmount||0).toLocaleString()]}),$.includesVAT&&a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"text-gray-300",children:""}),a.jsx("span",{className:"px-1.5 py-0.5 bg-blue-50 text-blue-700 text-[10px] rounded",children:"VAT"})]}),$.applyTaxDeduction&&a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"text-gray-300",children:""}),a.jsx("span",{className:"px-1.5 py-0.5 bg-purple-50 text-purple-700 text-[10px] rounded",children:"3.3%"})]})]}),a.jsxs("div",{className:"flex items-center justify-between mb-2.5",children:[a.jsx("div",{className:"text-xs text-gray-500 truncate flex-1",children:je}),a.jsx("button",{onClick:ze=>{ze.stopPropagation(),He($)},className:"text-xs text-gray-600 hover:text-gray-900 ml-2 flex-shrink-0",children:""})]}),G==="pending"&&(o==null?void 0:o.role)&&["manager","admin"].includes(o.role)&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:ze=>{if(ze.stopPropagation(),$.status==="completed"){z.info("   ");return}lt($)},disabled:$.status==="completed",className:`flex-1 py-1.5 px-2 rounded text-xs font-medium transition-colors ${$.status==="completed"?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-gray-700 text-white hover:bg-gray-800"}`,children:$.status==="completed"?"":""}),a.jsx("button",{onClick:ze=>{ze.stopPropagation(),Xe($.id)},disabled:$.status==="completed",className:`flex-1 py-1.5 px-2 text-white rounded text-xs font-medium transition-colors ${$.status==="completed"?"opacity-50 cursor-not-allowed":""}`,style:{backgroundColor:$.status==="completed"?"#9ca3af":"#5f81a5"},onMouseEnter:ze=>{$.status!=="completed"&&(ze.currentTarget.style.backgroundColor="#4a6b8a")},onMouseLeave:ze=>{$.status!=="completed"&&(ze.currentTarget.style.backgroundColor="#5f81a5")},children:""})]})]},$.id)})}):a.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:" "})})]}),a.jsxs("div",{className:`lg:col-span-6 bg-white rounded-lg border flex flex-col overflow-hidden ${_!=="image"?"hidden lg:flex":""}`,onDragOver:qt,onDragLeave:or,onDrop:zn,children:[a.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:st,className:"hidden",id:"image-file-input"}),R&&u&&_==="image"&&(()=>{const $=B.find(fe=>fe.id===u);return $?a.jsx("div",{className:"border-b bg-gray-50 p-3",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium text-gray-900 text-sm",children:$.purpose||$.itemName}),a.jsxs("p",{className:"text-xs text-gray-500 mt-0.5",children:[$.process||"-","  ",_e(new Date($.requestDate),"yyyy.MM.dd",{locale:tt})]})]}),a.jsxs("p",{className:"text-sm font-bold text-gray-900",children:["",($.amount||0).toLocaleString()]})]})}):null})(),a.jsx("div",{className:"flex-1 overflow-y-auto p-4 relative",onClick:$=>{var se;const fe=$.target;!fe.closest("img")&&!fe.closest("button")&&u&&(y[u]||[]).length>0&&((se=document.getElementById("image-file-input"))==null||se.click())},children:u?(()=>{const $=y[u]||[];return $.length>0?a.jsx("div",{className:"grid grid-cols-1 gap-3",children:$.map((fe,se)=>a.jsxs("div",{className:"relative group border rounded-lg overflow-hidden",children:[a.jsx("img",{src:fe,alt:` ${se+1}`,className:"w-full h-auto cursor-pointer hover:opacity-90 transition-opacity",onClick:he=>{he.stopPropagation(),it(fe)}}),a.jsx("button",{onClick:he=>{he.stopPropagation(),ft(se)},className:"absolute top-2 right-2 p-1.5 bg-red-500 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:a.jsx(rt,{className:"h-4 w-4"})})]},se))}):a.jsx("label",{htmlFor:"image-file-input",className:"h-full flex items-center justify-center cursor-pointer",children:a.jsxs("div",{className:`w-full h-full min-h-[200px] border-2 border-dashed rounded-lg p-6 text-center transition-colors flex flex-col items-center justify-center ${v?"border-gray-500 bg-gray-50":"border-gray-300 hover:border-gray-400"}`,children:[a.jsx(Ra,{className:"h-10 w-10 mx-auto text-gray-400 mb-2"}),a.jsx("p",{className:"text-sm font-medium text-gray-700",children:" "}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"   Ctrl+V "})]})})})():a.jsx("div",{className:"h-full flex items-center justify-center min-h-[200px]",children:a.jsxs("div",{className:"text-center text-gray-400",children:[a.jsx(As,{className:"h-12 w-12 mx-auto mb-2"}),a.jsx("p",{className:"text-sm",children:" "})]})})})]})]}),V&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"lg:hidden fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:a.jsxs("div",{className:"bg-white rounded-lg w-full max-w-md mx-4 max-h-[80vh] overflow-hidden",children:[a.jsxs("div",{className:"flex items-center justify-between p-3 border-b",children:[a.jsx("h2",{className:"text-base font-bold text-gray-900",children:" "}),a.jsx("button",{onClick:()=>Z(!1),className:"p-1 hover:bg-gray-100 rounded-full",children:a.jsx(rt,{className:"h-4 w-4 text-gray-500"})})]}),a.jsxs("div",{className:"p-3 overflow-y-auto max-h-[calc(80vh-100px)]",children:[a.jsx("div",{className:"grid grid-cols-2 gap-2 mb-2",children:ij.map($=>a.jsx("button",{onClick:()=>{P({...D,process:$}),Z(!1)},className:`p-2 text-sm text-center border rounded-lg transition-all ${D.process===$?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:border-gray-400 hover:bg-gray-50"}`,children:$},$))}),a.jsx("button",{onClick:()=>{P({...D,process:""}),Z(!1)},className:"w-full p-2 text-sm text-center border-2 border-dashed border-gray-300 rounded-lg hover:border-gray-400 hover:bg-gray-50 text-gray-500",children:" "})]})]})}),a.jsx("div",{className:"hidden lg:block fixed inset-0 z-40",onClick:()=>Z(!1),children:a.jsxs("div",{onClick:$=>$.stopPropagation(),className:"absolute bg-white rounded-lg shadow-xl border border-gray-200",style:{top:Q.current?`${Q.current.getBoundingClientRect().bottom+window.scrollY+4}px`:"50%",left:Q.current?`${Q.current.getBoundingClientRect().left+window.scrollX}px`:"50%"},children:[a.jsxs("div",{className:"flex items-center justify-between p-2 border-b",children:[a.jsx("h2",{className:"text-sm font-bold text-gray-900",children:" "}),a.jsx("button",{onClick:()=>Z(!1),className:"p-1 hover:bg-gray-100 rounded-full",children:a.jsx(rt,{className:"h-3 w-3 text-gray-500"})})]}),a.jsxs("div",{className:"p-2",children:[a.jsx("div",{className:"grid grid-cols-4 gap-1.5 mb-2",children:ij.map($=>a.jsx("button",{onClick:()=>{P({...D,process:$}),Z(!1)},className:`p-1.5 text-xs text-center border rounded-lg transition-all whitespace-nowrap ${D.process===$?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:border-gray-400 hover:bg-gray-50"}`,children:$},$))}),a.jsx("button",{onClick:()=>{P({...D,process:""}),Z(!1)},className:"w-full p-1.5 text-xs text-center border-2 border-dashed border-gray-300 rounded-lg hover:border-gray-400 hover:bg-gray-50 text-gray-500",children:" "})]})]})})]}),N&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-90",onClick:()=>g(!1),children:a.jsxs("div",{className:"relative max-w-[90vw] max-h-[90vh]",children:[a.jsx("button",{onClick:$=>{$.stopPropagation(),g(!1)},className:"absolute -top-10 right-0 text-white hover:text-gray-300 transition-colors",children:a.jsx(rt,{className:"h-8 w-8"})}),a.jsx("img",{src:A,alt:" ",className:"max-w-full max-h-[90vh] object-contain",onClick:$=>$.stopPropagation()})]})}),H&&a.jsx(dne,{projectName:ye,onClose:()=>ae(!1)})]})},mne=()=>{const[e,t]=w.useState([]),[r,n]=w.useState(null),[s,i]=w.useState(!0);w.useEffect(()=>{o()},[]);const o=async()=>{try{i(!0);const f=await Ee.get("/quote-inquiries");t(f.data)}catch(f){console.error("Failed to load inquiries:",f),z.error("  ")}finally{i(!1)}},l=async f=>{try{await Ee.put(`/quote-inquiries/${f}/read`),t(m=>m.map(v=>v.id===f?{...v,isRead:!0}:v))}catch(m){console.error("Failed to mark as read:",m)}},c=f=>{n(f),f.isRead||l(f.id)},u=async(f,m)=>{if(m.stopPropagation(),!!confirm("  ?"))try{await Ee.delete(`/quote-inquiries/${f}`),t(v=>v.filter(p=>p.id!==f)),(r==null?void 0:r.id)===f&&n(null),z.success(" ")}catch(v){console.error("Failed to delete inquiry:",v),z.error("  ")}},d=e.filter(f=>!f.isRead).length;return s?a.jsx("div",{className:"flex items-center justify-center h-full",children:a.jsx("div",{className:"text-gray-500",children:" ..."})}):a.jsxs("div",{className:"h-full flex flex-col md:flex-row gap-4 p-4",children:[a.jsxs("div",{className:`w-full md:w-1/3 bg-white rounded-lg shadow overflow-hidden flex flex-col ${r?"hidden md:flex":"flex"}`,children:[a.jsx("div",{className:"p-4 border-b bg-gray-50",children:a.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:[" ",d>0&&a.jsx("span",{className:"ml-2 px-2 py-1 text-xs bg-red-500 text-white rounded-full",children:d})]})}),a.jsx("div",{className:"flex-1 overflow-y-auto",children:e.length===0?a.jsx("div",{className:"p-4 text-center text-gray-500",children:"  "}):a.jsx("div",{className:"divide-y",children:e.map(f=>a.jsx("div",{className:`relative group ${(r==null?void 0:r.id)===f.id?"bg-blue-50 border-l-4 border-blue-500":""} ${f.isRead?"":"bg-yellow-50"}`,children:a.jsxs("button",{onClick:()=>c(f),className:"w-full p-4 text-left hover:bg-gray-50 transition-colors",children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-medium text-gray-900",children:f.name}),!f.isRead&&a.jsx("span",{className:"w-2 h-2 bg-red-500 rounded-full"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-xs text-gray-500",children:_e(new Date(f.createdAt),"MM/dd HH:mm")}),a.jsx("button",{onClick:m=>u(f.id,m),className:"p-1 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded transition-colors",title:"",children:a.jsx(_t,{className:"w-4 h-4"})})]})]}),a.jsxs("div",{className:"text-sm text-gray-600 flex items-center gap-1 mb-1",children:[a.jsx(Ob,{className:"w-3 h-3"}),f.phone]}),a.jsx("div",{className:"text-sm text-gray-500 line-clamp-2",children:f.message})]})},f.id))})})]}),a.jsx("div",{className:`flex-1 bg-white rounded-lg shadow overflow-hidden ${r?"flex flex-col":"hidden md:flex md:flex-col"}`,children:r?a.jsxs("div",{className:"h-full flex flex-col",children:[a.jsxs("div",{className:"p-6 border-b bg-gray-50",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:r.name}),a.jsx("button",{onClick:()=>n(null),className:"md:hidden px-3 py-1 text-sm bg-gray-200 hover:bg-gray-300 text-gray-700 rounded transition-colors",children:""})]}),a.jsx("div",{className:"text-sm text-gray-500",children:_e(new Date(r.createdAt),"yyyy MM dd HH:mm")})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsxs("h4",{className:"font-medium text-gray-900 flex items-center gap-2",children:[a.jsx(uO,{className:"w-4 h-4"})," "]}),a.jsxs("div",{className:"pl-6 space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[a.jsx(Ob,{className:"w-4 h-4 text-gray-400"}),a.jsx("span",{children:r.phone})]}),a.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[a.jsx(oO,{className:"w-4 h-4 text-gray-400"}),a.jsx("span",{children:r.email})]}),r.address&&a.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[a.jsx(lO,{className:"w-4 h-4 text-gray-400"}),a.jsx("span",{children:r.address})]})]})]}),(r.projectType||r.budget)&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("h4",{className:"font-medium text-gray-900 flex items-center gap-2",children:[a.jsx(ZM,{className:"w-4 h-4"})," "]}),a.jsxs("div",{className:"pl-6 space-y-2",children:[r.projectType&&a.jsxs("div",{className:"text-gray-700",children:[a.jsx("span",{className:"text-gray-500",children:" : "}),r.projectType]}),r.budget&&a.jsxs("div",{className:"text-gray-700",children:[a.jsx("span",{className:"text-gray-500",children:": "}),r.budget]})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("h4",{className:"font-medium text-gray-900",children:" "}),a.jsx("div",{className:"pl-6 text-gray-700 whitespace-pre-wrap bg-gray-50 p-4 rounded-lg",children:r.message})]})]})]}):a.jsx("div",{className:"h-full flex items-center justify-center text-gray-500",children:" "})})]})},hne=()=>{const{login:e}=Gs(),[t,r]=w.useState(!1),{register:n,handleSubmit:s,setValue:i,formState:{errors:o}}=nu(),l=async u=>{r(!0);try{await e(u.username,u.password)}finally{r(!1)}},c=u=>{i("username",u)};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:a.jsx("div",{className:"max-w-md w-full",children:a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-8",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"HV LAB"}),a.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"   "})]}),a.jsxs("form",{onSubmit:s(l),className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-2",children:""}),a.jsx("input",{...n("username",{required:" "}),type:"text",className:"input",placeholder:" ",autoFocus:!0}),o.username&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.username.message})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:""}),a.jsx("input",{...n("password",{required:" "}),type:"password",className:"input",placeholder:""}),o.password&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.password.message})]}),a.jsx("button",{type:"submit",disabled:t,className:"w-full btn btn-primary flex items-center justify-center",children:t?a.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):a.jsxs(a.Fragment,{children:[a.jsx(iO,{className:"mr-2 h-5 w-5"}),""]})})]}),a.jsxs("div",{className:"mt-6 border-t pt-6",children:[a.jsx("p",{className:"text-sm text-gray-600 text-center mb-4",children:" "}),a.jsx("div",{className:"grid grid-cols-3 gap-2",children:["","","","","",""].map(u=>a.jsx("button",{onClick:()=>c(u),className:"px-3 py-2 text-sm bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",type:"button",children:u},u))})]})]})})})},pne=e=>{try{const t=window.AudioContext||window.webkitAudioContext,r=new t,n=e==="emergency"?5:3;let s=0;const i=()=>{if(s>=n)return;const o=r.createOscillator(),l=r.createGain();o.connect(l),l.connect(r.destination),o.frequency.value=e==="emergency"?1e3:800,o.type="sine",l.gain.setValueAtTime(.3,r.currentTime),l.gain.exponentialRampToValueAtTime(.01,r.currentTime+.5),o.start(r.currentTime),o.stop(r.currentTime+.5),s++,s<n&&setTimeout(i,700)};i()}catch(t){console.error("  :",t)}},gne=e=>{if("vibrate"in navigator){const t=e==="emergency"?[200,200,200,200,200,200,200,200,200,200]:[200,200,200,200,200,200];navigator.vibrate(t)}},yne=(e,t)=>{pne(e),gne(e),"Notification"in window&&Notification.permission==="granted"&&new Notification("  ",{body:t,icon:"/icon-192x192.png",badge:"/icon-192x192.png",tag:"urgent-payment",requireInteraction:!0})},xne=async()=>"Notification"in window&&Notification.permission==="default"?await Notification.requestPermission()==="granted":Notification.permission==="granted",vne=new IP({defaultOptions:{queries:{staleTime:1e3*60*5,refetchOnWindowFocus:!1}}});function bne(){return w.useEffect(()=>{xne();const t=Dd("/",{transports:["websocket","polling"]});return t.on("connect",()=>{console.log(" Socket.IO ")}),t.on("urgent-payment",r=>{console.log("    :",r);const n=`${r.project}  ${r.amount.toLocaleString()}  `;yne(r.urgency,n)}),t.on("disconnect",()=>{console.log(" Socket.IO  ")}),()=>{t.disconnect()}},[]),a.jsx(LP,{client:vne,children:a.jsx(rP,{children:a.jsxs(KM,{children:[a.jsxs(R_,{children:[a.jsx(tr,{path:"/login",element:a.jsx(hne,{})}),a.jsxs(tr,{path:"/",element:a.jsx(VI,{}),children:[a.jsx(tr,{index:!0,element:a.jsx(F2,{to:"/dashboard",replace:!0})}),a.jsx(tr,{path:"dashboard",element:a.jsx(h5,{})}),a.jsx(tr,{path:"projects",element:a.jsx(b5,{})}),a.jsx(tr,{path:"schedule",element:a.jsx(pte,{})}),a.jsx(tr,{path:"after-service",element:a.jsx(yte,{})}),a.jsx(tr,{path:"additional-work",element:a.jsx(vte,{})}),a.jsx(tr,{path:"construction-payment",element:a.jsx(wte,{})}),a.jsx(tr,{path:"contractors",element:a.jsx(Nte,{})}),a.jsx(tr,{path:"work-request",element:a.jsx(jte,{})}),a.jsx(tr,{path:"finish-check",element:a.jsx(Ste,{})}),a.jsx(tr,{path:"specbook",element:a.jsx(lne,{})}),a.jsx(tr,{path:"estimate-preview",element:a.jsx(cne,{})}),a.jsx(tr,{path:"execution-history",element:a.jsx(une,{})}),a.jsx(tr,{path:"payments",element:a.jsx(fne,{})}),a.jsx(tr,{path:"quote-inquiry",element:a.jsx(mne,{})})]})]}),a.jsx(D3,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#fff",color:"#363636",border:"1px solid #e5e5e5"}}})]})})})}"serviceWorker"in navigator&&navigator.serviceWorker.getRegistrations().then(function(e){for(const t of e)t.update()});A2(document.getElementById("root")).render(a.jsx(w.StrictMode,{children:a.jsx(bne,{})}))});export default wne();
