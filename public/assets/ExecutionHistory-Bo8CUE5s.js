import{c as bs,u as ks,b as Es,j as e,s as Ds,z as p,l as te,p as hs,P as ue,m as Vs,g as Hs}from"./index-D75R87oi.js";import{r as c,N as vs}from"./vendor-react-DN7YJcfR.js";import{p as A}from"./vendor-date-DbWJ9m7c.js";import{S as Oe,j as ze,T as De,H as Cs,X as q,U as As,I as js}from"./vendor-ui-D8A9iq7X.js";import"./vendor-data-DrLf5NIQ.js";import"./vendor-calendar-DjAQlTCo.js";const Is=()=>{const{payments:j,executionRecords:h,loadPaymentsFromAPI:he,loadExecutionRecordsFromAPI:Ve,addExecutionRecordToAPI:We,deleteExecutionRecordFromAPI:He,updateExecutionRecordInAPI:P,updatePaymentInAPI:Je,deletePaymentFromAPI:Ke}=bs(),{user:b}=ks(),ve=Es(),[$,Ce]=c.useState(()=>localStorage.getItem("executionHistory_includeCompleted")==="true"),U=$?ve:ve.filter(s=>s.status!=="completed");if(!b)return e.jsxDEV(vs,{to:"/login",replace:!0},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:44,columnNumber:12},void 0);const[O,Ae]=c.useState(""),[g,w]=c.useState(null),S=s=>{if(!s)return{type:null,id:null};const t=s.split("_");if(t.length>=2){const r=t[0],n=t.slice(1).join("_");return{type:r,id:n}}return{type:null,id:null}},z=s=>`${s.type}_${s.id}`,[Ye,de]=c.useState(!1),[V,W]=c.useState(!1),[H,J]=c.useState(!1),[Xe,K]=c.useState(!1),[Qe,ne]=c.useState(!1),[je,Ge]=c.useState(""),[T,Y]=c.useState("list"),[ce,Le]=c.useState(!1),[re,Ze]=c.useState(!1),[es,I]=c.useState(!1),X=c.useRef(null),[ss,_e]=c.useState(!1),[y,Q]=c.useState(null),[v,G]=c.useState({process:"",itemName:"",materialCost:"",laborCost:"",date:""}),[Be,pe]=c.useState(null),[Z,ie]=c.useState(null),[Ue,fe]=c.useState([]),[xe,ge]=c.useState(!1),[C,ee]=c.useState({}),[we,Se]=c.useState(!1),[Ne,ts]=c.useState(()=>{const s=localStorage.getItem("hiddenPaymentIds");return s?JSON.parse(s):[]}),ns=()=>{const s=localStorage.getItem("lastSelectedProject");return s==="기타"?"기타":s&&U.some(t=>t.name===s)?s:U.length>0?U[0].name:""},[u,N]=c.useState({project:"",date:A(new Date,"yyyy-MM-dd"),process:"",itemName:"",materialCost:"",laborCost:"",images:[],quickText:"",quickImages:[]}),[ye,Ie]=c.useState(!1),[oe,rs]=c.useState(()=>{const s=localStorage.getItem("executionMemos");return s?JSON.parse(s):{}}),[is,R]=c.useState(null),[ae,L]=c.useState(""),[me,_]=c.useState(""),[M,os]=c.useState(()=>{const s=localStorage.getItem("executionHistory_appliedPaymentIds");return s?JSON.parse(s):[]});c.useEffect(()=>{(async()=>{try{await Promise.all([he(),Ve()]),console.log("[ExecutionHistory] 데이터 로드 완료")}catch(r){console.error("Failed to load data:",r)}})();const t=()=>{Ze(window.innerWidth<768)};return t(),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[]),c.useEffect(()=>{if(U.length>0&&!u.project){const s=ns();s&&(N(t=>({...t,project:s})),localStorage.setItem("lastSelectedProject",s))}},[U]),c.useEffect(()=>{(async()=>{try{await Vs();const t=await Hs();ee(t),Se(!0)}catch(t){console.error("이미지 로드 실패:",t),Se(!0)}})()},[]);const Me=c.useRef({});c.useEffect(()=>{we&&(Object.entries(C).forEach(([s,t])=>{JSON.stringify(Me.current[s])!==JSON.stringify(t)&&Ds(s,t).catch(r=>{console.error("이미지 저장 실패:",r),p.error("이미지 저장에 실패했습니다")})}),Me.current={...C})},[C,we]),c.useEffect(()=>{localStorage.setItem("hiddenPaymentIds",JSON.stringify(Ne))},[Ne]),c.useEffect(()=>{localStorage.setItem("executionHistory_includeCompleted",String($))},[$]),c.useEffect(()=>{localStorage.setItem("executionMemos",JSON.stringify(oe))},[oe]),c.useEffect(()=>{if(xe&&u.itemName&&u.itemName.trim().length>=1){const s=u.itemName.trim().toLowerCase(),t=[...h].sort((n,i)=>new Date(i.date).getTime()-new Date(n.date).getTime()).map(n=>n.itemName).filter(n=>n&&n.toLowerCase().includes(s)),r=Array.from(new Set(t));fe(r.slice(0,10))}else fe([])},[u.itemName,h,xe]),c.useEffect(()=>{const s=()=>{Le(t=>!t)};return window.addEventListener("headerAddButtonClick",s),()=>window.removeEventListener("headerAddButtonClick",s)},[]),c.useEffect(()=>{window.dispatchEvent(new CustomEvent("mobileFormStateChange",{detail:{isOpen:ce}}))},[ce]);const be=c.useCallback(s=>{var n;const t=(n=s.clipboardData)==null?void 0:n.items;if(!t)return;const r=[];for(let i=0;i<t.length;i++)if(t[i].type.indexOf("image")!==-1){s.preventDefault();const o=t[i].getAsFile();o&&r.push(o)}r.length!==0&&Promise.all(r.map(i=>new Promise((o,a)=>{const m=new FileReader;m.onload=l=>{var f;const d=(f=l.target)==null?void 0:f.result;o(d)},m.onerror=a,m.readAsDataURL(i)}))).then(async i=>{if(!g){N(m=>({...m,quickImages:[...m.quickImages,...i]})),p.success(`${i.length}개의 이미지가 청구내역에 추가되었습니다`);return}const{type:o,id:a}=S(g);if(!o||!a){p.error("레코드를 찾을 수 없습니다");return}if(o==="manual"){const m=h.find(l=>l.id===a);if(m){const l=[...m.images||[],...i];try{await P(a,{images:l}),p.success(`${i.length}개의 이미지가 추가되었습니다`)}catch(d){console.error("이미지 저장 실패:",d),p.error("이미지 저장에 실패했습니다")}}}else{const m=C[a]||[];ee(l=>({...l,[a]:[...m,...i]})),p.success(`${i.length}개의 이미지가 추가되었습니다`)}}).catch(i=>{console.error("이미지 처리 중 오류:",i),p.error("이미지 추가 중 오류가 발생했습니다")})},[g,N,C,h,P]);c.useEffect(()=>(document.addEventListener("paste",be),()=>document.removeEventListener("paste",be)),[be]);const ke=U.map(s=>s.name);console.log("[ExecutionHistory] payments 배열:",j.length,"개"),console.log("[ExecutionHistory] 이미지가 있는 payments:",j.filter(s=>s.images&&s.images.length>0).map(s=>{var t;return{id:s.id,imagesCount:(t=s.images)==null?void 0:t.length}})),console.log("[ExecutionHistory] paymentRecordImages 상태:",Object.keys(C).length,"개 레코드",Object.entries(C).slice(0,3).map(([s,t])=>({id:s,count:t==null?void 0:t.length})));const Pe=j.filter(s=>{const t=s.status==="approved"||s.status==="completed",r=!h.some(o=>o.paymentId===s.id),n=!Ne.includes(s.id),i=(b==null?void 0:b.name)!=="안팀"||ke.includes(s.project);return t&&r&&n&&i}).map(s=>{const t=s.materialAmount||0,r=s.laborAmount||0,n=s.amount||0;(t>0||r>0)&&console.log("[paymentRecords] 금액분할된 결제요청:",{id:s.id,itemName:s.itemName,materialAmount:s.materialAmount,laborAmount:s.laborAmount,totalAmount:n,includesVAT:s.includesVAT});let i=t,o=r,a=0;if(t===0&&r===0&&n>0)s.includesVAT?(i=Math.round(n/1.1),a=n-i):(i=n,a=0);else if(s.includesVAT){const m=t+r,l=Math.round(m/1.1);if(a=m-l,m>0){const d=t/m,f=r/m;i=Math.round(l*d),o=Math.round(l*f)}}else a=0;return{id:s.id,type:"payment",project:s.project,author:s.requestedBy||"-",date:s.requestDate,process:s.process||"-",itemName:s.itemName||s.purpose||"-",materialCost:i,laborCost:o,vatAmount:a,totalAmount:n,images:s.images&&s.images.length>0?s.images:C[s.id]||[],notes:s.notes,quickText:s.quickText||""}}),Te=Pe.filter(s=>s.images&&s.images.length>0);Te.length>0&&console.log("[ExecutionHistory] 이미지가 있는 paymentRecords:",Te.map(s=>({id:s.id,imagesCount:s.images.length}))),console.log("[ExecutionHistory] executionRecords 개수:",h.length);const as=h.filter(s=>(b==null?void 0:b.name)!=="안팀"||ke.includes(s.project)).map(s=>({...s,type:"manual"})),ms=[...Pe,...as].sort((s,t)=>new Date(t.date).getTime()-new Date(s.date).getTime()),Re=new Set,le=ms.filter(s=>{const t=`${s.type}_${s.id}`;return Re.has(t)?(console.warn("[ExecutionHistory] 중복 레코드 발견:",t,s.itemName),!1):(Re.add(t),!0)}),se=le.filter(s=>{var i,o;const t=(b==null?void 0:b.name)!=="안팀"||ke.includes(s.project)&&s.project!=="기타",r=u.project===""||s.project===u.project,n=O===""||((i=s.itemName)==null?void 0:i.toLowerCase().includes(O.toLowerCase()))||((o=s.process)==null?void 0:o.toLowerCase().includes(O.toLowerCase()));return t&&r&&n}),E=se.reduce((s,t)=>(s.material+=t.materialCost||0,s.labor+=t.laborCost||0,s.vat+=t.vatAmount||0,s.total+=t.totalAmount||0,s),{material:0,labor:0,vat:0,total:0}),ls=()=>{const s=u.quickText;if(!s.trim()){p.error("붙여넣기한 내용이 없습니다");return}const t=s.match(/[\d,]+/g),r=t?t.map(l=>parseInt(l.replace(/,/g,""),10)).filter(l=>l>0):[];let n="";for(const l of ue)if(s.includes(l)){n=l;break}const i=s.split(`
`).filter(l=>l.trim());let o="";if(i.length>0)for(const l of i){const d=l.trim();if(d&&!/^[\d,\s원]+$/.test(d)){o=d.substring(0,50);break}}let a="",m="";if(r.length>0){const l=[...r].sort((d,f)=>f-d);a=String(l[0]),l.length>1&&(m=String(l[1]))}N(l=>({...l,process:n||l.process,itemName:o||l.itemName,materialCost:a||l.materialCost,laborCost:m||l.laborCost,images:[...l.images,...l.quickImages],quickText:"",quickImages:[]})),p.success("자동 채우기 완료")},us=async()=>{if(ye)return;if(!u.project){p.error("프로젝트를 선택해주세요");return}if(!u.itemName||u.itemName.trim()===""){p.error("항목명을 입력해주세요");return}Ie(!0);const s=new Date;let t=Number(u.materialCost)||0,r=Number(u.laborCost)||0,n=0,i=0;if(V){const a=t+r,m=Math.round(a/1.1);if(n=a-m,a>0){const l=t/a,d=r/a;t=Math.round(m*l),r=Math.round(m*d)}i=a}else n=0,i=t+r;H&&(t=Math.round(t*.967),r=Math.round(r*.967),i=t+r);const o={id:`exec_${Date.now()}`,project:u.project,author:(b==null?void 0:b.name)||"알 수 없음",date:new Date(u.date),process:u.process,itemName:u.itemName,materialCost:t,laborCost:r,vatAmount:n,totalAmount:i,images:u.images,notes:"",includesTaxDeduction:H,includesVat:V,createdAt:s,updatedAt:s};try{console.log("[ExecutionHistory] 저장 시도:",o.project,o.itemName);const a=await We(o);console.log("[ExecutionHistory] 저장 완료:",a.id,a.project),await Ve(),console.log("[ExecutionHistory] 목록 새로고침 완료"),p.success("실행내역이 추가되었습니다"),N(m=>({project:m.project,date:A(new Date,"yyyy-MM-dd"),process:"",itemName:"",materialCost:"",laborCost:"",images:[],quickText:"",quickImages:[]})),W(!1),J(!1),w(`manual_${a.id}`),re&&(Le(!1),Y("list")),setTimeout(()=>{const m=document.querySelector(`[data-record-id="manual_${a.id}"]`);m&&m.scrollIntoView({behavior:"smooth",block:"center"})},100)}catch(a){console.error("실행내역 저장 실패:",a),p.error("실행내역 저장에 실패했습니다")}finally{Ie(!1)}},Fe=(s,t)=>{t.stopPropagation(),pe(null);const r=s.type==="payment",n=r?j.find(d=>String(d.id)===String(s.id)):null;console.log("[handleEditClick] Record type:",s.type,"isPaymentType:",r),console.log("[handleEditClick] Original payment:",n),console.log("[handleEditClick] Record vatAmount:",s.vatAmount),console.log("[handleEditClick] record.includesVat:",s.includesVat,"type:",typeof s.includesVat),console.log("[handleEditClick] Full record:",JSON.stringify(s,null,2));let i=!1;r&&n?(console.log("[handleEditClick] Payment VAT check:",{includesVAT:n.includesVAT,includesVATType:typeof n.includesVAT,vatAmount:n.vatAmount,materialAmount:n.materialAmount,laborAmount:n.laborAmount,amount:n.amount}),n.includesVAT!==void 0?i=n.includesVAT===!0:i=(n.vatAmount||0)>0,console.log("[handleEditClick] wasVatIncluded result:",i)):r||(s.includesVat!==void 0?i=s.includesVat===!0:i=(s.vatAmount||0)>0);let o=s.materialCost||0,a=s.laborCost||0;const m=!r&&s.includesTaxDeduction===!0;if(r&&n){if(o=n.materialAmount||0,a=n.laborAmount||0,i){const d=n.amount||0,f=o+a;if(f>0){const x=o/f;o=Math.round(d*x),a=Math.round(d*(1-x))}}}else if(!r&&(m&&(o=Math.round((s.materialCost||0)/.967),a=Math.round((s.laborCost||0)/.967)),i)){const d=s.totalAmount||0,f=o+a;if(f>0){const x=o/f,k=a/f;o=Math.round(d*x),a=Math.round(d*k)}}console.log("[handleEditClick] VAT/Tax check:",{wasVatIncluded:i,wasTaxDeducted:m,includesVat:s.includesVat,includesTaxDeduction:s.includesTaxDeduction,displayMaterialCost:o,displayLaborCost:a,originalMaterialCost:s.materialCost,originalLaborCost:s.laborCost,totalAmount:s.totalAmount,vatAmount:s.vatAmount}),Q(s),N(d=>({...d,project:s.project||d.project,date:A(new Date(s.date),"yyyy-MM-dd"),process:s.process||"",itemName:s.itemName,materialCost:o,laborCost:a,images:s.images||[],quickText:"",quickImages:[]})),W(i),J(m);const l=s.type||"manual";w(`${l}_${s.id}`),re&&Y("form")},ds=()=>{Q(null),N(s=>({...s,date:A(new Date,"yyyy-MM-dd"),process:"",itemName:"",materialCost:"",laborCost:"",images:[],quickText:"",quickImages:[]}))},qe=async()=>{var s,t;if(console.log("[handleEditSave] Called, editingRecord:",y),!y){console.log("[handleEditSave] No editingRecord, returning");return}try{let r=Number(u.materialCost)||0,n=Number(u.laborCost)||0,i=0,o=r+n;if(V){const d=r+n,f=Math.round(d/1.1);if(i=d-f,d>0){const x=r/d,k=n/d;r=Math.round(f*x),n=Math.round(f*k)}o=d}H&&(r=Math.round(r*.967),n=Math.round(n*.967),o=r+n);let a=y.notes||"";u.quickText.trim()&&(a=a?`${a}
${u.quickText.trim()}`:u.quickText.trim());const l=[...y.images||[],...u.quickImages];if(console.log("[handleEditSave] editingRecord type:",y.type,"id:",y.id,"typeof id:",typeof y.id),y.type==="payment"){console.log("[handleEditSave] Processing as PAYMENT"),console.log("[handleEditSave] payments array IDs:",j.map(f=>({id:f.id,typeofId:typeof f.id})));const d=j.find(f=>String(f.id)===String(y.id));if(console.log("[handleEditSave] Found existingPayment:",d),!d){console.error("[handleEditSave] Payment not found! id:",y.id,"payments count:",j.length,"all payment ids:",j.map(f=>f.id)),p.error("결제요청을 찾을 수 없습니다. 페이지를 새로고침해주세요.");return}console.log("[handleEditSave] Calling updatePaymentInAPI..."),await Je(y.id,{...d,process:u.process,itemName:u.itemName,materialAmount:r,laborAmount:n,vatAmount:i,amount:o,includesVAT:V,requestDate:u.date}),console.log("[handleEditSave] updatePaymentInAPI completed")}else console.log("[handleEditSave] Updating execution record:",{id:y.id,materialCost:r,laborCost:n,vatAmount:i,totalAmount:o,includeVat:V,includeTaxDeduction:H,date:u.date}),await P(y.id,{project:u.project||y.project,author:y.author,process:u.process,itemName:u.itemName,materialCost:r,laborCost:n,vatAmount:i,totalAmount:o,date:new Date(u.date),notes:a,images:l,paymentId:y.paymentId,includesTaxDeduction:H,includesVat:V});console.log("[handleEditSave] SUCCESS! Showing toast and resetting state..."),p.success("수정되었습니다"),Q(null),w(null),W(!1),J(!1),N(d=>({...d,date:A(new Date,"yyyy-MM-dd"),process:"",itemName:"",materialCost:"",laborCost:"",images:[],quickText:"",quickImages:[]}))}catch(r){console.error("수정 실패:",r);const n=((t=(s=r==null?void 0:r.response)==null?void 0:s.data)==null?void 0:t.message)||(r==null?void 0:r.message)||"수정에 실패했습니다";p.error(n)}},$e=(s,t)=>{t.stopPropagation(),pe(null);const r=t.currentTarget.getBoundingClientRect();ie({recordId:s,position:{x:r.left,y:r.bottom+4}})},cs=async()=>{if(!Z)return;const s=Z.recordId;ie(null);const{type:t,id:r}=S(s);if(!t||!r){p.error("삭제할 수 없는 항목입니다");return}try{if(t==="manual")await He(r),p.success("실행내역이 삭제되었습니다");else if(t==="payment")await Ke(r),p.success("결제요청이 삭제되었습니다");else{p.error("삭제할 수 없는 항목입니다");return}g===s&&w(null)}catch(n){console.error("삭제 실패:",n),p.error("삭제에 실패했습니다")}},Ee=()=>{const s={};return se.forEach(t=>{const r=t.process||"기타";s[r]||(s[r]={materialCost:0,laborCost:0,vatAmount:0,totalAmount:0}),s[r].materialCost+=t.materialCost||0,s[r].laborCost+=t.laborCost||0,s[r].vatAmount+=t.vatAmount||0,s[r].totalAmount+=t.totalAmount||0}),Object.entries(s).sort((t,r)=>r[1].totalAmount-t[1].totalAmount)},ps=s=>{var t;try{if(!g){p.error("먼저 실행내역을 선택해주세요");return}const r=Array.from(((t=s.target)==null?void 0:t.files)||[]);if(r.length===0)return;const n=r.filter(o=>o.type.startsWith("image/"));if(n.length===0){p.error("이미지 파일만 선택해주세요");return}n.filter(o=>o.size>10*1024*1024).length>0&&p.error("10MB 이상의 이미지는 처리가 오래 걸릴 수 있습니다"),Promise.all(n.map(o=>new Promise((a,m)=>{try{const l=new FileReader;l.onload=d=>{var x;const f=(x=d.target)==null?void 0:x.result;f?a(f):m(new Error("이미지 읽기 실패"))},l.onerror=()=>m(new Error("FileReader 오류")),l.readAsDataURL(o)}catch(l){m(l)}}))).then(async o=>{const{type:a,id:m}=S(g);if(!a||!m){p.error("레코드를 찾을 수 없습니다");return}if(a==="manual"){const l=h.find(d=>d.id===m);if(l){const f=[...l.images||[],...o];try{await P(m,{images:f}),p.success(`${o.length}개의 이미지가 추가되었습니다`)}catch(x){console.error("이미지 저장 실패:",x),p.error("이미지 저장에 실패했습니다")}}}else{const l=C[m]||[];ee(d=>({...d,[m]:[...l,...o]})),p.success(`${o.length}개의 이미지가 추가되었습니다`)}}).catch(o=>{console.error("이미지 처리 중 오류:",o),p.error("이미지 추가 중 오류가 발생했습니다")}),s.target.value=""}catch(r){console.error("파일 선택 처리 중 오류:",r),p.error("파일 선택 중 오류가 발생했습니다")}},fs=async s=>{var n;if(!g)return;const{type:t,id:r}=S(g);if(!(!t||!r))if(t==="manual"){const i=h.find(o=>o.id===r);if(i){const o=((n=i.images)==null?void 0:n.filter((a,m)=>m!==s))||[];try{await P(r,{images:o})}catch(a){console.error("이미지 삭제 실패:",a)}}}else ee(i=>{var o;return{...i,[r]:((o=i[r])==null?void 0:o.filter((a,m)=>m!==s))||[]}})},xs=s=>{Ge(s),ne(!0)},gs=s=>{s.preventDefault(),de(!0)},Ns=s=>{s.preventDefault(),de(!1)},ys=s=>{if(s.preventDefault(),de(!1),!g){p.error("먼저 실행내역을 선택해주세요");return}const r=Array.from(s.dataTransfer.files).filter(n=>n.type.startsWith("image/"));r.length!==0&&Promise.all(r.map(n=>new Promise((i,o)=>{const a=new FileReader;a.onload=m=>{var d;const l=(d=m.target)==null?void 0:d.result;i(l)},a.onerror=o,a.readAsDataURL(n)}))).then(async n=>{const{type:i,id:o}=S(g);if(!i||!o){p.error("레코드를 찾을 수 없습니다");return}if(i==="manual"){const a=h.find(m=>m.id===o);if(a){const m=[...a.images||[],...n];try{await P(o,{images:m})}catch(l){console.error("이미지 저장 실패:",l)}}}else ee(a=>({...a,[o]:[...a[o]||[],...n]}));p.success(`${n.length}개의 이미지가 추가되었습니다`)}).catch(n=>{console.error("이미지 처리 중 오류:",n),p.error("이미지 추가 중 오류가 발생했습니다")})};return e.jsxDEV("div",{className:"space-y-3 md:space-y-4",children:[e.jsxDEV("div",{className:"md:hidden mb-4 space-y-2",children:[e.jsxDEV("select",{value:u.project,onChange:s=>{N({...u,project:s.target.value}),s.target.value&&localStorage.setItem("lastSelectedProject",s.target.value)},className:"w-full px-3 py-2.5 md:py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 bg-white cursor-pointer hover:border-gray-400 transition-colors appearance-none bg-[url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20fill%3D%22none%22%20viewBox%3D%220%200%2020%2020%22%3E%3Cpath%20stroke%3D%22%236b7280%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%221.5%22%20d%3D%22M6%208l4%204%204-4%22%2F%3E%3C%2Fsvg%3E')] bg-[length:1.5em_1.5em] bg-[right_0.5rem_center] bg-no-repeat pr-10",children:[U.map(s=>e.jsxDEV("option",{value:s.name,children:s.name},s.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1264,columnNumber:13},void 0)),(b==null?void 0:b.name)!=="안팀"&&e.jsxDEV("option",{value:"기타",children:"기타"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1266,columnNumber:35},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1253,columnNumber:9},void 0),e.jsxDEV("label",{className:"flex items-center gap-2 text-sm text-gray-600 cursor-pointer",children:[e.jsxDEV("input",{type:"checkbox",checked:$,onChange:s=>Ce(s.target.checked),className:"rounded border-gray-300 text-gray-900 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1269,columnNumber:11},void 0),"공사완료 현장 포함"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1268,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1252,columnNumber:7},void 0),e.jsxDEV("div",{className:"md:hidden border-b border-gray-200 mb-4",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:e.jsxDEV("nav",{className:"flex space-x-4",children:[e.jsxDEV("button",{onClick:()=>Y("list"),className:`py-2 px-1 border-b-2 font-medium text-sm ${T==="list"?"border-gray-900 text-gray-900":"border-transparent text-gray-500"}`,children:"내역"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1283,columnNumber:13},void 0),e.jsxDEV("button",{onClick:()=>Y("image"),className:`py-2 px-1 border-b-2 font-medium text-sm ${T==="image"?"border-gray-900 text-gray-900":"border-transparent text-gray-500"}`,children:"이미지"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1293,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1282,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1281,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1280,columnNumber:7},void 0),e.jsxDEV("div",{className:"execution-container grid grid-cols-1 md:grid-cols-6 ipad:grid-cols-6 ipad-lg:grid-cols-6 ipad-xl:grid-cols-12 ipad-2xl:grid-cols-12 gap-3 md:gap-4 md:h-[calc(100vh-120px)]",children:[e.jsxDEV("div",{className:`execution-form md:col-span-2 ipad:col-span-2 ipad-lg:col-span-2 ipad-xl:col-span-2 ipad-2xl:col-span-2 bg-white rounded-lg border p-3 md:p-4 overflow-y-auto ${ce?"":"hidden md:block"}`,children:e.jsxDEV("div",{className:"execution-form-inner space-y-4 w-full",children:[e.jsxDEV("div",{className:"exec-project space-y-2",children:[e.jsxDEV("select",{value:u.project,onChange:s=>{N({...u,project:s.target.value}),s.target.value&&localStorage.setItem("lastSelectedProject",s.target.value)},className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 bg-white cursor-pointer hover:border-gray-400 transition-colors appearance-none bg-[url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20fill%3D%22none%22%20viewBox%3D%220%200%2020%2020%22%3E%3Cpath%20stroke%3D%22%236b7280%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%221.5%22%20d%3D%22M6%208l4%204%204-4%22%2F%3E%3C%2Fsvg%3E')] bg-[length:1.5em_1.5em] bg-[right_0.5rem_center] bg-no-repeat pr-10",children:[U.map(s=>e.jsxDEV("option",{value:s.name,children:s.name},s.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1329,columnNumber:19},void 0)),(b==null?void 0:b.name)!=="안팀"&&e.jsxDEV("option",{value:"기타",children:"기타"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1331,columnNumber:41},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1317,columnNumber:15},void 0),e.jsxDEV("label",{className:"flex items-center gap-2 text-xs text-gray-600 cursor-pointer",children:[e.jsxDEV("input",{type:"checkbox",checked:$,onChange:s=>Ce(s.target.checked),className:"rounded border-gray-300 text-gray-900 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1334,columnNumber:17},void 0),"공사완료 현장 포함"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1333,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1316,columnNumber:13},void 0),e.jsxDEV("div",{className:"exec-quick-input",children:[e.jsxDEV("textarea",{value:u.quickText,onChange:s=>N({...u,quickText:s.target.value}),onPaste:s=>{var r;const t=(r=s.clipboardData)==null?void 0:r.items;if(t){for(let n=0;n<t.length;n++)if(t[n].type.indexOf("image")!==-1){s.preventDefault();const i=t[n].getAsFile();if(i){const o=new FileReader;o.onload=a=>{var l;const m=(l=a.target)==null?void 0:l.result;N(d=>({...d,quickImages:[...d.quickImages,m]}))},o.readAsDataURL(i)}break}}},onDragOver:s=>{s.preventDefault(),s.stopPropagation()},onDrop:s=>{s.preventDefault(),s.stopPropagation(),Array.from(s.dataTransfer.files).filter(n=>n.type.startsWith("image/")).forEach(n=>{const i=new FileReader;i.onload=o=>{var m;const a=(m=o.target)==null?void 0:m.result;N(l=>({...l,quickImages:[...l.quickImages,a]}))},i.readAsDataURL(n)})},rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",placeholder:re?"청구 내역 붙여넣기":"청구 내역 붙여넣기 (이미지 드래그 또는 Ctrl+V)"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1346,columnNumber:15},void 0),u.quickImages.length>0&&e.jsxDEV("div",{className:"mt-2 mb-2 grid grid-cols-3 gap-2",children:u.quickImages.map((s,t)=>e.jsxDEV("div",{className:"relative group",children:[e.jsxDEV("img",{src:s,alt:`이미지 ${t+1}`,className:"w-full h-20 object-cover rounded-lg border"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1401,columnNumber:23},void 0),e.jsxDEV("button",{type:"button",onClick:()=>{N(r=>({...r,quickImages:r.quickImages.filter((n,i)=>i!==t)}))},className:"absolute top-1 right-1 w-5 h-5 bg-red-500 text-white rounded-full flex items-center justify-center text-xs opacity-0 group-hover:opacity-100 transition-opacity",children:"×"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1406,columnNumber:23},void 0)]},t,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1400,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1398,columnNumber:17},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 gap-2 mt-2",children:[e.jsxDEV("label",{className:"cursor-pointer",children:[e.jsxDEV("input",{type:"file",accept:"image/*",multiple:!0,className:"hidden",onChange:s=>{Array.from(s.target.files||[]).forEach(r=>{const n=new FileReader;n.onload=i=>{var a;const o=(a=i.target)==null?void 0:a.result;N(m=>({...m,quickImages:[...m.quickImages,o]}))},n.readAsDataURL(r)}),s.target.value=""}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1425,columnNumber:19},void 0),e.jsxDEV("div",{className:"w-full h-10 flex items-center justify-center bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm font-medium border border-gray-300",children:"이미지 첨부"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1446,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1424,columnNumber:17},void 0),e.jsxDEV("button",{type:"button",onClick:ls,className:"h-10 flex items-center justify-center bg-gray-400 text-white rounded-lg hover:bg-gray-500 transition-colors text-sm font-medium",children:"자동 채우기"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1450,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1423,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1345,columnNumber:13},void 0),e.jsxDEV("div",{className:"exec-date-process grid grid-cols-2 gap-2",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["날짜 ",u.date&&`(${A(new Date(u.date),"E",{locale:te})})`]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1464,columnNumber:17},void 0),e.jsxDEV("input",{type:"date",value:u.date,onChange:s=>N({...u,date:s.target.value}),className:"w-full px-3 py-2 border rounded-lg bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500 cursor-pointer text-gray-900",style:{WebkitAppearance:"none",MozAppearance:"none",appearance:"none",backgroundColor:"white",backgroundImage:"none"}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1467,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1463,columnNumber:15},void 0),e.jsxDEV("div",{className:"relative",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"공정"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1484,columnNumber:17},void 0),e.jsxDEV("button",{ref:X,type:"button",onClick:()=>I(!0),className:"w-full px-3 py-2 border rounded-lg text-left bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500",children:u.process||e.jsxDEV("span",{className:"text-gray-400",children:"선택하세요"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1491,columnNumber:40},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1485,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1483,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1461,columnNumber:13},void 0),e.jsxDEV("div",{className:"exec-item-name relative",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"항목명"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1498,columnNumber:15},void 0),e.jsxDEV("input",{type:"text",value:u.itemName,onChange:s=>N({...u,itemName:s.target.value}),onFocus:()=>ge(!0),onBlur:()=>{setTimeout(()=>ge(!1),200)},className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1499,columnNumber:15},void 0),xe&&Ue.length>0&&e.jsxDEV("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:Ue.map((s,t)=>e.jsxDEV("button",{type:"button",onClick:()=>{N({...u,itemName:s}),fe([]),ge(!1)},className:"w-full px-3 py-2 text-left hover:bg-gray-50 text-sm",children:e.jsxDEV("div",{className:"font-medium text-gray-900",children:s},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1524,columnNumber:23},void 0)},t,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1514,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1512,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1497,columnNumber:13},void 0),e.jsxDEV("div",{className:"exec-amounts space-y-2",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"자재비"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1534,columnNumber:17},void 0),e.jsxDEV("input",{type:"number",value:u.materialCost,onChange:s=>N({...u,materialCost:s.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1535,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1533,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"인건비"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1544,columnNumber:17},void 0),e.jsxDEV("input",{type:"number",value:u.laborCost,onChange:s=>N({...u,laborCost:s.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1545,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1543,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex items-center gap-4",children:[e.jsxDEV("button",{type:"button",className:"flex items-center cursor-pointer",onMouseDown:s=>s.preventDefault(),onClick:()=>{V||J(!1),W(!V)},children:[e.jsxDEV("div",{className:`h-4 w-4 border rounded flex items-center justify-center ${V?"bg-gray-600 border-gray-600":"border-gray-300"}`,children:V&&e.jsxDEV("span",{className:"text-white text-xs",children:"✓"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1567,columnNumber:36},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1566,columnNumber:19},void 0),e.jsxDEV("span",{className:"ml-2 text-sm text-gray-700",children:"부가세 포함 (10%)"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1569,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1555,columnNumber:17},void 0),e.jsxDEV("button",{type:"button",className:"flex items-center cursor-pointer",onMouseDown:s=>s.preventDefault(),onClick:()=>{H||W(!1),J(!H)},children:[e.jsxDEV("div",{className:`h-4 w-4 border rounded flex items-center justify-center ${H?"bg-gray-600 border-gray-600":"border-gray-300"}`,children:H&&e.jsxDEV("span",{className:"text-white text-xs",children:"✓"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1585,columnNumber:45},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1584,columnNumber:19},void 0),e.jsxDEV("span",{className:"ml-2 text-sm text-gray-700",children:"3.3% 세금공제"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1587,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1573,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1554,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1532,columnNumber:13},void 0),e.jsxDEV("div",{className:"exec-total-submit",children:[e.jsxDEV("div",{className:"exec-total pt-2 border-t",children:e.jsxDEV("div",{className:"flex justify-between items-baseline",children:[e.jsxDEV("span",{className:"font-medium",children:"총액"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1599,columnNumber:19},void 0),e.jsxDEV("div",{className:"text-right",children:[(V||H)&&e.jsxDEV("span",{className:"text-xs text-gray-500 mr-2",children:["(",V&&"부가세 포함",H&&"3.3% 세금공제",")"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1602,columnNumber:23},void 0),e.jsxDEV("span",{className:"font-semibold",children:[(()=>{const s=(Number(u.materialCost)||0)+(Number(u.laborCost)||0);return(H?Math.round(s*.967):s).toLocaleString()})(),"원"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1606,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1600,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1598,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1597,columnNumber:15},void 0),y&&e.jsxDEV("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-2 mb-3",children:e.jsxDEV("p",{className:"text-sm text-blue-700 font-medium",children:["수정 중: ",y.itemName]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1620,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1619,columnNumber:17},void 0),e.jsxDEV("div",{className:"exec-submit my-6",style:{marginTop:"20px"},children:y?e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV("button",{onClick:ds,className:"flex-1 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300",children:"취소"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1628,columnNumber:21},void 0),e.jsxDEV("button",{onClick:qe,className:"flex-1 py-2 bg-gray-700 text-white rounded-lg hover:bg-gray-800",children:"수정 완료"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1634,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1627,columnNumber:19},void 0):e.jsxDEV("button",{onClick:us,disabled:ye,className:"w-full py-2 bg-gray-900 text-white rounded-lg hover:bg-gray-800 disabled:opacity-50",children:ye?"저장 중...":"내역추가"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1642,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1625,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1596,columnNumber:13},void 0),e.jsxDEV("div",{className:"exec-summary hidden md:block bg-gray-50 rounded-lg p-3 md:p-4 space-y-2 md:mt-8 lg:mt-[114.67px]",children:[e.jsxDEV("div",{className:"flex justify-between items-center",children:[e.jsxDEV("span",{className:"text-sm text-gray-600",children:"자재비 총합:"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1656,columnNumber:17},void 0),e.jsxDEV("span",{className:"text-sm font-medium text-gray-900",children:[E.material.toLocaleString(),"원"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1657,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1655,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex justify-between items-center",children:[e.jsxDEV("span",{className:"text-sm text-gray-600",children:"인건비 총합:"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1660,columnNumber:17},void 0),e.jsxDEV("span",{className:"text-sm font-medium text-gray-900",children:[E.labor.toLocaleString(),"원"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1661,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1659,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex justify-between items-center",children:[e.jsxDEV("span",{className:"text-sm text-gray-600",children:"부가세 총합:"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1664,columnNumber:17},void 0),e.jsxDEV("span",{className:"text-sm font-medium text-gray-900",children:[E.vat.toLocaleString(),"원"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1665,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1663,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex justify-between items-center pt-2 border-t border-gray-200",style:{marginTop:"10px"},children:[e.jsxDEV("span",{className:"text-sm font-bold text-gray-900",children:"총 합계:"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1668,columnNumber:17},void 0),e.jsxDEV("span",{className:"text-base font-bold text-gray-900",children:[E.total.toLocaleString(),"원"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1669,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1667,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1654,columnNumber:13},void 0),e.jsxDEV("div",{className:"exec-search hidden ipad-xl:block mt-4 space-y-2",children:[e.jsxDEV("div",{className:"relative",children:[e.jsxDEV("input",{type:"text",placeholder:"검색...",value:O,onChange:s=>Ae(s.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 text-sm"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1676,columnNumber:17},void 0),e.jsxDEV(Oe,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1683,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1675,columnNumber:15},void 0),e.jsxDEV("button",{onClick:()=>K(!0),className:"w-full px-3 py-2 text-sm border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 hover:border-gray-400 transition-all duration-200 font-medium",children:"공정별 합계"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1685,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1674,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1314,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1311,columnNumber:9},void 0),e.jsxDEV("div",{className:`execution-list md:col-span-4 ipad:col-span-4 ipad-lg:col-span-4 ipad-xl:col-span-6 ipad-2xl:col-span-6 bg-white rounded-lg border overflow-hidden flex flex-col ${T!=="list"?"hidden md:flex":""}`,children:[T==="list"&&e.jsxDEV("div",{className:"md:hidden border-b bg-gray-50 p-2 space-y-2",children:[e.jsxDEV("div",{className:"bg-white rounded-lg px-3 py-2 border text-xs",children:[e.jsxDEV("div",{className:"flex justify-between gap-2",children:[e.jsxDEV("span",{className:"text-gray-500",children:["자재비 ",e.jsxDEV("span",{className:"font-medium text-gray-900",children:E.material.toLocaleString()},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1705,columnNumber:55},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1705,columnNumber:19},void 0),e.jsxDEV("span",{className:"text-gray-500",children:["인건비 ",e.jsxDEV("span",{className:"font-medium text-gray-900",children:E.labor.toLocaleString()},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1706,columnNumber:55},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1706,columnNumber:19},void 0),e.jsxDEV("span",{className:"text-gray-500",children:["부가세 ",e.jsxDEV("span",{className:"font-medium text-gray-900",children:E.vat.toLocaleString()},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1707,columnNumber:55},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1707,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1704,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex justify-between items-center mt-1 pt-1 border-t border-gray-100",children:[e.jsxDEV("span",{className:"font-bold text-gray-900",children:"총 합계"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1710,columnNumber:19},void 0),e.jsxDEV("span",{className:"font-bold text-gray-900",children:[E.total.toLocaleString(),"원"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1711,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1709,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1703,columnNumber:15},void 0),e.jsxDEV("button",{onClick:()=>K(!0),className:"w-full py-1.5 text-sm border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium",children:"공정별 합계"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1716,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1701,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex-1 overflow-auto",children:se.length>0?e.jsxDEV(e.Fragment,{children:[e.jsxDEV("table",{className:"hidden md:table w-full",children:[e.jsxDEV("thead",{className:"bg-gray-50 sticky top-0 exec-table-header",children:e.jsxDEV("tr",{className:"text-left text-sm text-gray-700 border-b",children:[e.jsxDEV("th",{className:"px-3 py-3 font-medium exec-th-author",children:"작성자"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1733,columnNumber:21},void 0),e.jsxDEV("th",{className:"px-3 py-3 font-medium exec-th-date",children:"날짜"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1734,columnNumber:21},void 0),e.jsxDEV("th",{className:"px-3 py-3 font-medium exec-th-process",children:"공정"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1735,columnNumber:21},void 0),e.jsxDEV("th",{className:"px-3 py-3 font-medium exec-th-item",children:"항목명"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1736,columnNumber:21},void 0),e.jsxDEV("th",{className:"px-3 py-3 font-medium text-right exec-th-material",children:"자재비"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1737,columnNumber:21},void 0),e.jsxDEV("th",{className:"px-3 py-3 font-medium text-right exec-th-labor",children:"인건비"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1738,columnNumber:21},void 0),e.jsxDEV("th",{className:"px-3 py-3 font-medium text-right exec-th-vat",children:"부가세"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1739,columnNumber:21},void 0),e.jsxDEV("th",{className:"px-3 py-3 font-medium text-right exec-th-total",children:"총액"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1740,columnNumber:21},void 0),e.jsxDEV("th",{className:"px-2 py-3 w-20"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1741,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1732,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1731,columnNumber:17},void 0),e.jsxDEV("tbody",{className:"divide-y divide-gray-200",children:se.map(s=>{const t=z(s);return e.jsxDEV("tr",{"data-record-id":t,className:`group hover:bg-gray-50 cursor-pointer text-sm ${g===t?"bg-blue-50":""}`,onClick:()=>{w(t),s.type==="payment"&&!M.includes(s.id)&&(R(t),L(s.totalAmount||0),_(0))},children:[e.jsxDEV("td",{className:"px-3 py-3 text-gray-600 whitespace-nowrap exec-author-col",children:s.author||"-"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1762,columnNumber:23},void 0),e.jsxDEV("td",{className:"px-3 py-3 text-gray-600 exec-date-col",children:[e.jsxDEV("span",{className:"exec-date-full",children:A(new Date(s.date),"yyyy-MM-dd (EEE)",{locale:te})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1766,columnNumber:25},void 0),e.jsxDEV("span",{className:"exec-date-short whitespace-nowrap",children:A(new Date(s.date),"MM-dd (EEE)",{locale:te})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1767,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1765,columnNumber:23},void 0),e.jsxDEV("td",{className:"px-3 py-3 text-gray-600 exec-process-col",children:s.process||"-"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1769,columnNumber:23},void 0),e.jsxDEV("td",{className:"px-3 py-3 font-medium exec-item-col",children:s.itemName},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1772,columnNumber:23},void 0),e.jsxDEV("td",{className:"px-3 py-3 text-right exec-material-col",children:(s.materialCost||0).toLocaleString()},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1775,columnNumber:23},void 0),e.jsxDEV("td",{className:"px-3 py-3 text-right exec-labor-col",children:(s.laborCost||0).toLocaleString()},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1778,columnNumber:23},void 0),e.jsxDEV("td",{className:"px-3 py-3 text-right exec-vat-col",children:(s.vatAmount||0).toLocaleString()},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1781,columnNumber:23},void 0),e.jsxDEV("td",{className:"px-3 py-3 text-right font-semibold exec-total-col",children:[e.jsxDEV("span",{className:"exec-total-full",children:[(s.totalAmount||0).toLocaleString(),"원"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1785,columnNumber:25},void 0),e.jsxDEV("span",{className:"exec-total-short",children:(s.totalAmount||0).toLocaleString()},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1786,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1784,columnNumber:23},void 0),e.jsxDEV("td",{className:"px-2 py-3 text-center relative",children:[s.type==="payment"&&!M.includes(s.id)&&e.jsxDEV("span",{className:"inline-flex items-center px-1.5 py-0.5 text-[10px] font-medium bg-orange-100 text-orange-700 rounded group-hover:opacity-0 transition-opacity",children:"미분할"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1791,columnNumber:27},void 0),e.jsxDEV("div",{className:"absolute inset-0 flex items-center justify-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsxDEV("button",{onClick:r=>Fe(s,r),className:"p-1.5 text-gray-500 hover:text-blue-600 hover:bg-blue-50 rounded",title:"수정",children:e.jsxDEV(ze,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1802,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1797,columnNumber:27},void 0),e.jsxDEV("button",{onClick:r=>$e(t,r),className:"p-1.5 text-gray-500 hover:text-red-600 hover:bg-red-50 rounded",title:"삭제",children:e.jsxDEV(De,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1809,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1804,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1796,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1788,columnNumber:23},void 0)]},t,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1748,columnNumber:21},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1744,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1730,columnNumber:17},void 0),e.jsxDEV("div",{className:"md:hidden space-y-1.5 p-2",children:se.map(s=>{const t=z(s);return e.jsxDEV("div",{"data-record-id":t,className:`border rounded-lg px-3 py-2 relative ${g===t?"bg-blue-50 border-blue-300":"bg-white"}`,onClick:()=>{w(t),Y("image"),s.type==="payment"&&!M.includes(s.id)&&(R(t),L(s.totalAmount||0),_(0))},children:[e.jsxDEV("div",{className:"flex justify-between items-center",children:[e.jsxDEV("p",{className:"font-medium text-gray-900 text-sm truncate flex-1 mr-2",children:s.itemName},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1842,columnNumber:23},void 0),e.jsxDEV("div",{className:"flex items-center gap-1",children:[e.jsxDEV("p",{className:"text-sm font-bold text-gray-900 shrink-0",children:[(s.totalAmount||0).toLocaleString(),"원"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1844,columnNumber:25},void 0),s.type==="payment"&&!M.includes(s.id)&&e.jsxDEV("span",{className:"inline-flex items-center px-1.5 py-0.5 text-[10px] font-medium bg-orange-100 text-orange-700 rounded shrink-0",children:"미분할"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1848,columnNumber:27},void 0),e.jsxDEV("button",{onClick:r=>{r.stopPropagation(),pe(Be===t?null:t)},className:"p-1 text-gray-400 hover:text-gray-600",children:e.jsxDEV(Cs,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1859,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1852,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1843,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1841,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex justify-between items-center mt-1 text-xs text-gray-500",children:[e.jsxDEV("span",{children:[s.process||"-"," · ",s.author||"-"," · ",A(new Date(s.date),"MM.dd",{locale:te})]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1865,columnNumber:23},void 0),e.jsxDEV("span",{className:"text-[10px] text-gray-400",children:["자재비 ",(s.materialCost||0).toLocaleString()," · 인건비 ",(s.laborCost||0).toLocaleString()," · 부가세 ",(s.vatAmount||0).toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1866,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1864,columnNumber:21},void 0),Be===t&&e.jsxDEV("div",{className:"absolute right-2 top-8 bg-white border rounded-lg shadow-lg z-10 py-1",children:[e.jsxDEV("button",{onClick:r=>Fe(s,r),className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-100 flex items-center gap-2",children:[e.jsxDEV(ze,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1877,columnNumber:27},void 0),"수정"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1873,columnNumber:25},void 0),e.jsxDEV("button",{onClick:r=>$e(t,r),className:"w-full px-4 py-2 text-left text-sm text-red-600 hover:bg-red-50 flex items-center gap-2",children:[e.jsxDEV(De,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1884,columnNumber:27},void 0),"삭제"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1880,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1872,columnNumber:23},void 0)]},t,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1823,columnNumber:19},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1819,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1728,columnNumber:15},void 0):e.jsxDEV("div",{className:"flex items-center justify-center h-full text-gray-500",children:"실행내역이 없습니다"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1894,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1726,columnNumber:11},void 0),e.jsxDEV("div",{className:"hidden md:block ipad-xl:hidden border-t bg-gray-50 p-3",children:e.jsxDEV("div",{className:"flex flex-row items-center gap-3",children:[e.jsxDEV("div",{className:"flex-1 max-w-sm",children:e.jsxDEV("div",{className:"relative",children:[e.jsxDEV("input",{type:"text",placeholder:"검색...",value:O,onChange:s=>Ae(s.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 text-sm md:text-sm lg:text-base"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1906,columnNumber:19},void 0),e.jsxDEV(Oe,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1913,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1905,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1904,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex items-center justify-end gap-2",children:[g&&e.jsxDEV("button",{onClick:async()=>{const{type:s,id:t}=S(g);if(!s||!t){p.error("삭제할 수 없는 항목입니다");return}if(s==="manual"){if(confirm("선택한 실행내역을 삭제하시겠습니까?"))try{await He(t),w(null),p.success("실행내역이 삭제되었습니다")}catch(r){console.error("실행내역 삭제 실패:",r),p.error("실행내역 삭제에 실패했습니다")}}else s==="payment"?confirm(`이 결제요청을 실행내역에서 숨기시겠습니까?
(결제요청 자체는 삭제되지 않습니다)`)&&(ts(r=>[...r,t]),w(null),p.success("결제요청이 실행내역에서 숨겨졌습니다")):p.error("삭제할 수 없는 항목입니다")},className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"삭제",children:e.jsxDEV(De,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1955,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1920,columnNumber:19},void 0),e.jsxDEV("button",{onClick:()=>K(!0),className:"px-3 py-2 text-sm md:px-3 lg:px-4 lg:text-base border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 hover:border-gray-400 transition-all duration-200 font-medium whitespace-nowrap",children:"공정별 합계"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1960,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1918,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1902,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1901,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1696,columnNumber:9},void 0),e.jsxDEV("div",{className:`execution-images md:col-span-6 ipad:col-span-6 ipad-lg:col-span-6 ipad-xl:col-span-4 ipad-2xl:col-span-4 bg-white rounded-lg border flex flex-col overflow-hidden ${T!=="image"?"hidden md:flex":""}`,onDragOver:gs,onDragLeave:Ns,onDrop:ys,children:[e.jsxDEV("input",{type:"file",multiple:!0,accept:"image/*",onChange:ps,className:"hidden",id:"image-file-input"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1981,columnNumber:11},void 0),re&&g&&T==="image"&&(()=>{const s=le.find(t=>z(t)===g);return s?e.jsxDEV("div",{className:"border-b bg-gray-50 p-3",children:e.jsxDEV("div",{className:"flex justify-between items-start",children:[e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("p",{className:"font-medium text-gray-900 text-sm",children:s.itemName},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1999,columnNumber:23},void 0),e.jsxDEV("p",{className:"text-xs text-gray-500 mt-0.5",children:[s.process||"-"," • ",A(new Date(s.date),"yyyy.MM.dd",{locale:te})]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2e3,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1998,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex items-center gap-1.5",children:[e.jsxDEV("p",{className:"text-sm font-bold text-gray-900",children:["₩",(s.totalAmount||0).toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2005,columnNumber:23},void 0),s.type==="payment"&&!M.includes(s.id)&&e.jsxDEV("span",{className:"inline-flex items-center px-1.5 py-0.5 text-[10px] font-medium bg-orange-100 text-orange-700 rounded",children:"미분할"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2009,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2004,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1997,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1996,columnNumber:17},void 0):null})(),e.jsxDEV("div",{className:"flex-1 overflow-y-auto p-4 relative",onClick:s=>{var r;const t=s.target;!t.closest("img")&&!t.closest("button")&&!t.closest("textarea")&&!t.closest("input")&&!t.closest("label")&&g&&(()=>{const i=le.find(l=>z(l)===g),{type:o,id:a}=S(g),m=o==="manual"&&a?h.find(l=>l.id===a):null;return(i==null?void 0:i.images)||(m==null?void 0:m.images)||[]})().length>0&&((r=document.getElementById("image-file-input"))==null||r.click())},children:g?(()=>{var a,m,l,d,f;const{type:s,id:t}=S(g),r=s==="manual"&&t?h.find(x=>x.id===t):null,n=le.find(x=>z(x)===g),i=(n==null?void 0:n.images)||(r==null?void 0:r.images)||[],o=s==="payment"&&t?j.find(x=>x.id===t):null;return console.log("[ExecutionHistory] 선택된 레코드:",{selectedRecord:g,selectedType:s,selectedId:t,fullRecordExists:!!n,fullRecordType:n==null?void 0:n.type,fullRecordImages:((a=n==null?void 0:n.images)==null?void 0:a.length)||0,recordExists:!!r,recordImages:((m=r==null?void 0:r.images)==null?void 0:m.length)||0,originalPaymentExists:!!o,originalPaymentImages:((l=o==null?void 0:o.images)==null?void 0:l.length)||0,paymentRecordImagesForId:t&&((d=C[t])==null?void 0:d.length)||0,finalImagesCount:i.length}),e.jsxDEV("div",{className:"h-full flex flex-col",children:[(n==null?void 0:n.type)==="payment"&&!M.includes(n.id)&&e.jsxDEV("div",{className:"mb-3 p-3 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-2",children:[e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-sm font-semibold text-gray-900",children:"결제요청 금액:"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2085,columnNumber:27},void 0),e.jsxDEV("p",{className:"text-sm text-gray-700",children:["총 ",(f=n.totalAmount)==null?void 0:f.toLocaleString(),"원",n.itemName&&` (${n.itemName})`]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2086,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2084,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex gap-1",children:[e.jsxDEV("button",{onClick:()=>{R(g),L(n.totalAmount||0),_(0)},className:"px-2 py-1 text-[10px] font-medium bg-blue-100 text-blue-700 rounded hover:bg-blue-200 transition-colors",children:"자재비 100%"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2092,columnNumber:27},void 0),e.jsxDEV("button",{onClick:()=>{R(g),L(0),_(n.totalAmount||0)},className:"px-2 py-1 text-[10px] font-medium bg-green-100 text-green-700 rounded hover:bg-green-200 transition-colors",children:"인건비 100%"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2102,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2091,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2083,columnNumber:23},void 0),is===g&&e.jsxDEV("div",{className:"mt-3 pt-3 border-t border-gray-200",children:[e.jsxDEV("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-xs font-medium text-gray-900 mb-1",children:"자재비"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2120,columnNumber:31},void 0),e.jsxDEV("input",{type:"text",inputMode:"numeric",value:ae===""?"":ae.toLocaleString(),onChange:x=>{const k=x.target.value.replace(/,/g,"").replace(/[^0-9]/g,""),D=k===""?"":parseInt(k,10);L(D);const F=n.totalAmount||0;_(D!==""?Math.max(0,F-D):"")},placeholder:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-gray-400 focus:border-transparent"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2121,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2119,columnNumber:29},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-xs font-medium text-gray-900 mb-1",children:"인건비"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2142,columnNumber:31},void 0),e.jsxDEV("input",{type:"text",inputMode:"numeric",value:me===""?"":me.toLocaleString(),onChange:x=>{const k=x.target.value.replace(/,/g,"").replace(/[^0-9]/g,""),D=k===""?"":parseInt(k,10);_(D);const F=n.totalAmount||0;L(D!==""?Math.max(0,F-D):"")},placeholder:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-gray-400 focus:border-transparent"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2143,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2141,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2118,columnNumber:27},void 0),e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV("button",{onClick:async()=>{var F;const x=ae===""?0:ae,k=me===""?0:me;console.log("[금액분할] 적용 시도:",{fullRecordId:n.id,materialValue:x,laborValue:k}),R(null),L(""),_("");const D=[...M,n.id];os(D),localStorage.setItem("executionHistory_appliedPaymentIds",JSON.stringify(D));try{console.log("[금액분할] API 호출 시작..."),console.log("[금액분할] fullRecord 정보:",{id:n.id,totalAmount:n.totalAmount,includesVAT:n.includesVAT});const B=await hs.updatePaymentAmounts(n.id,x,k);console.log("[금액분할] API 호출 성공:",B),console.log("[금액분할] 결제요청 목록 다시 로드..."),await he(),console.log("[금액분할] 로드 완료"),p.success("금액이 적용되었습니다.")}catch(B){console.error("금액 적용 실패:",B),console.error("에러 상세:",((F=B==null?void 0:B.response)==null?void 0:F.data)||(B==null?void 0:B.message)),p.error("금액 적용에 실패했습니다.")}},className:"flex-1 px-3 py-2 text-sm font-medium text-white bg-gray-700 rounded-lg hover:bg-gray-800 transition-colors",children:"입력 적용"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2165,columnNumber:29},void 0),e.jsxDEV("button",{onClick:()=>{R(null),L(""),_("")},className:"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"취소"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2218,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2164,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2117,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2081,columnNumber:21},void 0),e.jsxDEV("div",{className:"mb-3",children:[e.jsxDEV("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"메모"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2236,columnNumber:21},void 0),e.jsxDEV("textarea",{value:oe[g]!==void 0?oe[g]:(n==null?void 0:n.quickText)||(n==null?void 0:n.notes)||"",onChange:x=>{rs(k=>({...k,[g]:x.target.value}))},placeholder:"메모를 입력하세요...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-gray-500 focus:border-transparent resize-none",rows:12},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2237,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2235,columnNumber:19},void 0),i.length>0&&e.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2 mb-3",children:i.map((x,k)=>e.jsxDEV("div",{className:"relative group",children:[e.jsxDEV("img",{src:x,alt:`증빙 ${k+1}`,className:"w-full aspect-square object-contain rounded-lg cursor-pointer hover:opacity-90 transition-opacity border bg-gray-100",onClick:D=>{D.stopPropagation(),xs(x)}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2258,columnNumber:27},void 0),e.jsxDEV("button",{onClick:D=>{D.stopPropagation(),fs(k)},className:"absolute top-1 right-1 p-1 bg-red-500 text-white rounded-full opacity-100 md:opacity-0 md:group-hover:opacity-100 transition-opacity",children:e.jsxDEV(q,{className:"h-3 w-3"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2274,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2267,columnNumber:27},void 0),e.jsxDEV("div",{className:"absolute bottom-1 left-1 bg-black bg-opacity-50 text-white text-xs px-1.5 py-0.5 rounded",children:[k+1,"/",i.length]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2276,columnNumber:27},void 0)]},k,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2257,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2255,columnNumber:21},void 0),e.jsxDEV("label",{htmlFor:"image-file-input",className:`block cursor-pointer ${i.length>0?"":"flex-1"}`,onClick:x=>x.stopPropagation(),children:e.jsxDEV("div",{className:`w-full border-2 border-dashed rounded-lg p-4 text-center transition-colors flex flex-col items-center justify-center ${Ye?"border-gray-500 bg-gray-50":"border-gray-300 hover:border-gray-400"} ${i.length>0?"min-h-[80px]":"min-h-[200px]"}`,children:[e.jsxDEV(As,{className:`mx-auto text-gray-400 mb-1 ${i.length>0?"h-6 w-6":"h-10 w-10 mb-2"}`},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2295,columnNumber:23},void 0),e.jsxDEV("p",{className:"text-sm font-medium text-gray-700",children:i.length>0?"이미지 첨부":"클릭하여 선택"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2296,columnNumber:23},void 0),i.length===0&&e.jsxDEV("p",{className:"text-xs text-gray-500 mt-1",children:"또는 이미지를 드래그하거나 Ctrl+V로 붙여넣기"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2300,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2290,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2285,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2078,columnNumber:17},void 0)})():e.jsxDEV("div",{className:"h-full flex items-center justify-center min-h-[200px]",children:e.jsxDEV("div",{className:"text-center text-gray-400",children:[e.jsxDEV(js,{className:"h-12 w-12 mx-auto mb-2"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2310,columnNumber:19},void 0),e.jsxDEV("p",{className:"text-sm",children:"실행내역을 선택하세요"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2311,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2309,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2308,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2022,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1972,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1308,columnNumber:7},void 0),Xe&&e.jsxDEV("div",{className:"fixed inset-0 z-50 flex items-end md:items-center justify-center bg-black bg-opacity-50",onClick:s=>{window.innerWidth>=768&&s.target===s.currentTarget&&K(!1)},children:e.jsxDEV("div",{className:"bg-white rounded-t-2xl md:rounded-lg w-full md:max-w-4xl max-h-[85vh] md:max-h-[80vh] overflow-hidden md:m-4",onClick:s=>s.stopPropagation(),children:[e.jsxDEV("div",{className:"flex items-center justify-between p-4 md:p-5 lg:p-6 border-b",children:[e.jsxDEV("h2",{className:"text-lg md:text-lg lg:text-xl font-bold text-gray-900",children:"공정별 합계"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2332,columnNumber:15},void 0),e.jsxDEV("button",{onClick:()=>K(!1),className:"p-1.5 md:p-2 hover:bg-gray-100 rounded-full",children:e.jsxDEV(q,{className:"h-5 w-5 text-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2337,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2333,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2331,columnNumber:13},void 0),e.jsxDEV("div",{className:"p-4 md:p-5 lg:p-6 overflow-y-auto max-h-[calc(85vh-120px)] md:max-h-[calc(80vh-120px)]",children:Ee().length>0?e.jsxDEV(e.Fragment,{children:[e.jsxDEV("table",{className:"hidden md:table w-full",children:[e.jsxDEV("thead",{className:"bg-gray-100",children:e.jsxDEV("tr",{className:"text-left text-sm text-gray-700",children:[e.jsxDEV("th",{className:"px-4 py-3 font-medium",children:"공정"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2348,columnNumber:25},void 0),e.jsxDEV("th",{className:"px-4 py-3 font-medium text-right",children:"자재비"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2349,columnNumber:25},void 0),e.jsxDEV("th",{className:"px-4 py-3 font-medium text-right",children:"인건비"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2350,columnNumber:25},void 0),e.jsxDEV("th",{className:"px-4 py-3 font-medium text-right",children:"부가세"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2351,columnNumber:25},void 0),e.jsxDEV("th",{className:"px-4 py-3 font-medium text-right",children:"총액"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2352,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2347,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2346,columnNumber:21},void 0),e.jsxDEV("tbody",{className:"divide-y divide-gray-200",children:Ee().map(([s,t])=>e.jsxDEV("tr",{className:"hover:bg-gray-50",children:[e.jsxDEV("td",{className:"px-4 py-3 font-medium text-gray-700",children:s},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2358,columnNumber:27},void 0),e.jsxDEV("td",{className:"px-4 py-3 text-right",children:t.materialCost.toLocaleString()},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2359,columnNumber:27},void 0),e.jsxDEV("td",{className:"px-4 py-3 text-right",children:t.laborCost.toLocaleString()},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2360,columnNumber:27},void 0),e.jsxDEV("td",{className:"px-4 py-3 text-right",children:t.vatAmount.toLocaleString()},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2361,columnNumber:27},void 0),e.jsxDEV("td",{className:"px-4 py-3 text-right font-semibold",children:[t.totalAmount.toLocaleString(),"원"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2362,columnNumber:27},void 0)]},s,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2357,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2355,columnNumber:21},void 0),e.jsxDEV("tfoot",{className:"bg-gray-100 border-t-2 border-gray-300",children:e.jsxDEV("tr",{children:[e.jsxDEV("td",{className:"px-4 py-3 font-bold text-gray-700",children:"총합계"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2368,columnNumber:25},void 0),e.jsxDEV("td",{className:"px-4 py-3 text-right font-bold",children:E.material.toLocaleString()},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2369,columnNumber:25},void 0),e.jsxDEV("td",{className:"px-4 py-3 text-right font-bold",children:E.labor.toLocaleString()},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2370,columnNumber:25},void 0),e.jsxDEV("td",{className:"px-4 py-3 text-right font-bold",children:E.vat.toLocaleString()},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2371,columnNumber:25},void 0),e.jsxDEV("td",{className:"px-4 py-3 text-right font-bold text-gray-900",children:[E.total.toLocaleString(),"원"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2372,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2367,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2366,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2345,columnNumber:19},void 0),e.jsxDEV("div",{className:"md:hidden space-y-3",children:[Ee().map(([s,t])=>e.jsxDEV("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsxDEV("div",{className:"flex justify-between items-start mb-3",children:[e.jsxDEV("h3",{className:"font-semibold text-gray-900",children:s},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2382,columnNumber:27},void 0),e.jsxDEV("span",{className:"text-lg font-bold text-gray-900",children:["₩",t.totalAmount.toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2383,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2381,columnNumber:25},void 0),e.jsxDEV("div",{className:"grid grid-cols-3 gap-2 text-sm",children:[e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-gray-500 text-xs",children:"자재비"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2389,columnNumber:29},void 0),e.jsxDEV("p",{className:"font-medium",children:["₩",t.materialCost.toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2390,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2388,columnNumber:27},void 0),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-gray-500 text-xs",children:"인건비"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2393,columnNumber:29},void 0),e.jsxDEV("p",{className:"font-medium",children:["₩",t.laborCost.toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2394,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2392,columnNumber:27},void 0),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-gray-500 text-xs",children:"부가세"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2397,columnNumber:29},void 0),e.jsxDEV("p",{className:"font-medium",children:["₩",t.vatAmount.toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2398,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2396,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2387,columnNumber:25},void 0)]},s,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2380,columnNumber:23},void 0)),e.jsxDEV("div",{className:"bg-gray-900 text-white rounded-lg p-4 mt-4",children:[e.jsxDEV("div",{className:"flex justify-between items-start mb-3",children:[e.jsxDEV("h3",{className:"font-bold text-white",children:"총합계"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2407,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-xl font-bold",children:["₩",E.total.toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2408,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2406,columnNumber:23},void 0),e.jsxDEV("div",{className:"grid grid-cols-3 gap-2 text-sm",children:[e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-gray-300 text-xs",children:"자재비"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2414,columnNumber:27},void 0),e.jsxDEV("p",{className:"font-semibold",children:["₩",E.material.toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2415,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2413,columnNumber:25},void 0),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-gray-300 text-xs",children:"인건비"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2418,columnNumber:27},void 0),e.jsxDEV("p",{className:"font-semibold",children:["₩",E.labor.toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2419,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2417,columnNumber:25},void 0),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-gray-300 text-xs",children:"부가세"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2422,columnNumber:27},void 0),e.jsxDEV("p",{className:"font-semibold",children:["₩",E.vat.toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2423,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2421,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2412,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2405,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2378,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2343,columnNumber:17},void 0):e.jsxDEV("div",{className:"text-center py-8 text-gray-500",children:"표시할 데이터가 없습니다."},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2430,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2341,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2330,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2321,columnNumber:9},void 0),es&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"md:hidden fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:e.jsxDEV("div",{className:"bg-white rounded-lg w-full max-w-md mx-4 max-h-[80vh] overflow-hidden",children:[e.jsxDEV("div",{className:"flex items-center justify-between p-3 border-b",children:[e.jsxDEV("h2",{className:"text-base font-bold text-gray-900",children:"공정 선택"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2446,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>I(!1),className:"p-1 hover:bg-gray-100 rounded-full",children:e.jsxDEV(q,{className:"h-4 w-4 text-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2451,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2447,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2445,columnNumber:15},void 0),e.jsxDEV("div",{className:"p-3 overflow-y-auto max-h-[calc(80vh-100px)]",children:[e.jsxDEV("div",{className:"grid grid-cols-2 gap-2 mb-2",children:ue.map(s=>e.jsxDEV("button",{onClick:()=>{N({...u,process:s}),I(!1)},className:`p-2 text-sm text-center border rounded-lg transition-all ${u.process===s?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:border-gray-400 hover:bg-gray-50"}`,children:s},s,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2459,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2457,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>{N({...u,process:""}),I(!1)},className:"w-full p-2 text-sm text-center border-2 border-dashed border-gray-300 rounded-lg hover:border-gray-400 hover:bg-gray-50 text-gray-500",children:"선택 안함"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2477,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2455,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2444,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2443,columnNumber:11},void 0),e.jsxDEV("div",{className:"hidden md:block fixed inset-0 z-40",onClick:()=>I(!1),children:e.jsxDEV("div",{onClick:s=>s.stopPropagation(),className:"absolute bg-white rounded-lg shadow-xl border border-gray-200",style:{top:X.current?`${X.current.getBoundingClientRect().bottom+window.scrollY+4}px`:"50%",left:X.current?`${X.current.getBoundingClientRect().left+window.scrollX}px`:"50%"},children:[e.jsxDEV("div",{className:"flex items-center justify-between p-2 border-b",children:[e.jsxDEV("h2",{className:"text-sm font-bold text-gray-900",children:"공정 선택"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2501,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>I(!1),className:"p-1 hover:bg-gray-100 rounded-full",children:e.jsxDEV(q,{className:"h-3 w-3 text-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2506,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2502,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2500,columnNumber:15},void 0),e.jsxDEV("div",{className:"p-2",children:[e.jsxDEV("div",{className:"grid grid-cols-4 gap-1.5 mb-2",children:ue.map(s=>e.jsxDEV("button",{onClick:()=>{N({...u,process:s}),I(!1)},className:`p-1.5 text-xs text-center border rounded-lg transition-all whitespace-nowrap ${u.process===s?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:border-gray-400 hover:bg-gray-50"}`,children:s},s,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2514,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2512,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>{N({...u,process:""}),I(!1)},className:"w-full p-1.5 text-xs text-center border-2 border-dashed border-gray-300 rounded-lg hover:border-gray-400 hover:bg-gray-50 text-gray-500",children:"선택 안함"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2532,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2510,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2492,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2491,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2441,columnNumber:9},void 0),Z&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"fixed inset-0 z-40",onClick:()=>ie(null)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2551,columnNumber:11},void 0),e.jsxDEV("div",{className:"fixed z-50 bg-white rounded-lg shadow-xl border border-gray-200 p-3 min-w-[160px]",style:{left:Math.min(Z.position.x,window.innerWidth-180),top:Math.min(Z.position.y,window.innerHeight-100)},children:[e.jsxDEV("p",{className:"text-sm text-gray-700 mb-3",children:"정말 삭제하시겠습니까?"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2563,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV("button",{onClick:()=>ie(null),className:"flex-1 px-3 py-1.5 text-sm text-gray-600 bg-gray-100 hover:bg-gray-200 rounded transition-colors",children:"취소"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2565,columnNumber:15},void 0),e.jsxDEV("button",{onClick:cs,className:"flex-1 px-3 py-1.5 text-sm text-white bg-red-500 hover:bg-red-600 rounded transition-colors",children:"삭제"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2571,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2564,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2556,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2549,columnNumber:9},void 0),Qe&&e.jsxDEV("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-90",onClick:()=>ne(!1),children:e.jsxDEV("div",{className:"relative max-w-[90vw] max-h-[90vh]",children:[e.jsxDEV("button",{onClick:s=>{s.stopPropagation(),ne(!1)},className:"absolute -top-10 right-0 text-white hover:text-gray-300 transition-colors",children:e.jsxDEV(q,{className:"h-8 w-8"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2596,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2589,columnNumber:13},void 0),je?e.jsxDEV("img",{src:je,alt:"원본 이미지",className:"max-w-full max-h-[90vh] object-contain",onClick:s=>s.stopPropagation(),onError:()=>{p.error("이미지를 불러올 수 없습니다"),ne(!1)}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2599,columnNumber:15},void 0):e.jsxDEV("div",{className:"text-white text-center p-4",children:e.jsxDEV("p",{children:"이미지를 불러올 수 없습니다"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2611,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2610,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2588,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2584,columnNumber:9},void 0),ss&&y&&e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxDEV("div",{className:"bg-white rounded-lg w-full max-w-md",children:[e.jsxDEV("div",{className:"flex justify-between items-center p-4 border-b",children:[e.jsxDEV("h3",{className:"text-lg font-semibold",children:"실행내역 수정"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2623,columnNumber:15},void 0),e.jsxDEV("button",{onClick:()=>{_e(!1),Q(null)},className:"text-gray-500 hover:text-gray-700",children:e.jsxDEV(q,{className:"w-5 h-5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2631,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2624,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2622,columnNumber:13},void 0),e.jsxDEV("div",{className:"p-4 space-y-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"날짜"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2637,columnNumber:17},void 0),e.jsxDEV("input",{type:"date",value:v.date,onChange:s=>G({...v,date:s.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2638,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2636,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"공정"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2647,columnNumber:17},void 0),e.jsxDEV("select",{value:v.process,onChange:s=>G({...v,process:s.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsxDEV("option",{value:"",children:"선택"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2653,columnNumber:19},void 0),ue.map(s=>e.jsxDEV("option",{value:s,children:s},s,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2655,columnNumber:21},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2648,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2646,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"항목명"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2661,columnNumber:17},void 0),e.jsxDEV("input",{type:"text",value:v.itemName,onChange:s=>G({...v,itemName:s.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2662,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2660,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"자재비"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2671,columnNumber:17},void 0),e.jsxDEV("input",{type:"number",value:v.materialCost,onChange:s=>G({...v,materialCost:s.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2672,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2670,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"인건비"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2681,columnNumber:17},void 0),e.jsxDEV("input",{type:"number",value:v.laborCost,onChange:s=>G({...v,laborCost:s.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2682,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2680,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2634,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex gap-2 p-4 border-t",children:[e.jsxDEV("button",{onClick:()=>{_e(!1),Q(null)},className:"flex-1 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"취소"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2691,columnNumber:15},void 0),e.jsxDEV("button",{onClick:qe,className:"flex-1 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"저장"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2700,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2690,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2621,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2620,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1250,columnNumber:5},void 0)};export{Is as default};
