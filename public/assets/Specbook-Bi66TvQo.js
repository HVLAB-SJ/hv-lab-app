import{j as i,u as Ns,b as ys,a as G,z as P}from"./index-CjLuB2X7.js";import{g as ks,r as d,R as xe,b as kt}from"./vendor-react-B9Yt5e0k.js";import{u as Ds}from"./useFilteredProjects-Do_pKGPs.js";import{X as It,C as ws,t as Cs,U as Ss,u as Vs,j as Ot,T as Vt,P as er}from"./vendor-ui-CcgAtStV.js";import"./vendor-data-BwGxWJIh.js";import"./vendor-date-9Cl9d1sr.js";import"./dataStore-ByWA_yJ6.js";var hn=function(t,n){return hn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])},hn(t,n)};function Es(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");hn(t,n);function e(){this.constructor=t}t.prototype=n===null?Object.create(n):(e.prototype=n.prototype,new e)}var te=function(){return te=Object.assign||function(n){for(var e,r=1,s=arguments.length;r<s;r++){e=arguments[r];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a])}return n},te.apply(this,arguments)};var tr=!1,st,bn,vn,Mt,Pt,wr,Tt,xn,Nn,yn,Cr,kn,Dn,Sr,Vr;function ve(){if(!tr){tr=!0;var t=navigator.userAgent,n=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(t),e=/(Mac OS X)|(Windows)|(Linux)/.exec(t);if(kn=/\b(iPhone|iP[ao]d)/.exec(t),Dn=/\b(iP[ao]d)/.exec(t),yn=/Android/i.exec(t),Sr=/FBAN\/\w+;/i.exec(t),Vr=/Mobile/i.exec(t),Cr=!!/Win64/.exec(t),n){st=n[1]?parseFloat(n[1]):n[5]?parseFloat(n[5]):NaN,st&&document&&document.documentMode&&(st=document.documentMode);var r=/(?:Trident\/(\d+.\d+))/.exec(t);wr=r?parseFloat(r[1])+4:st,bn=n[2]?parseFloat(n[2]):NaN,vn=n[3]?parseFloat(n[3]):NaN,Mt=n[4]?parseFloat(n[4]):NaN,Mt?(n=/(?:Chrome\/(\d+\.\d+))/.exec(t),Pt=n&&n[1]?parseFloat(n[1]):NaN):Pt=NaN}else st=bn=vn=Pt=Mt=NaN;if(e){if(e[1]){var s=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(t);Tt=s?parseFloat(s[1].replace("_",".")):!0}else Tt=!1;xn=!!e[2],Nn=!!e[3]}else Tt=xn=Nn=!1}}var wn={ie:function(){return ve()||st},ieCompatibilityMode:function(){return ve()||wr>st},ie64:function(){return wn.ie()&&Cr},firefox:function(){return ve()||bn},opera:function(){return ve()||vn},webkit:function(){return ve()||Mt},safari:function(){return wn.webkit()},chrome:function(){return ve()||Pt},windows:function(){return ve()||xn},osx:function(){return ve()||Tt},linux:function(){return ve()||Nn},iphone:function(){return ve()||kn},mobile:function(){return ve()||kn||Dn||yn||Vr},nativeApp:function(){return ve()||Sr},android:function(){return ve()||yn},ipad:function(){return ve()||Dn}},As=wn,Ls=!!(typeof window<"u"&&window.document&&window.document.createElement),_s={canUseDOM:Ls},js=_s,Er=js,Ar;Er.canUseDOM&&(Ar=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function Bs(t,n){if(!Er.canUseDOM||n&&!("addEventListener"in document))return!1;var e="on"+t,r=e in document;if(!r){var s=document.createElement("div");s.setAttribute(e,"return;"),r=typeof s[e]=="function"}return!r&&Ar&&t==="wheel"&&(r=document.implementation.hasFeature("Events.wheel","3.0")),r}var Rs=Bs,Us=As,Hs=Rs,nr=10,rr=40,sr=800;function Lr(t){var n=0,e=0,r=0,s=0;return"detail"in t&&(e=t.detail),"wheelDelta"in t&&(e=-t.wheelDelta/120),"wheelDeltaY"in t&&(e=-t.wheelDeltaY/120),"wheelDeltaX"in t&&(n=-t.wheelDeltaX/120),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(n=e,e=0),r=n*nr,s=e*nr,"deltaY"in t&&(s=t.deltaY),"deltaX"in t&&(r=t.deltaX),(r||s)&&t.deltaMode&&(t.deltaMode==1?(r*=rr,s*=rr):(r*=sr,s*=sr)),r&&!n&&(n=r<1?-1:1),s&&!e&&(e=s<1?-1:1),{spinX:n,spinY:e,pixelX:r,pixelY:s}}Lr.getEventType=function(){return Us.firefox()?"DOMMouseScroll":Hs("wheel")?"wheel":"mousewheel"};var Is=Lr,Ms=Is;const Ps=ks(Ms);function Ts(t,n,e,r,s,a){a===void 0&&(a=0);var l=mt(t,n,a),c=l.width,m=l.height,p=Math.min(c,e),f=Math.min(m,r);return p>f*s?{width:f*s,height:f}:{width:p,height:p/s}}function zs(t){return t.width>t.height?t.width/t.naturalWidth:t.height/t.naturalHeight}function yt(t,n,e,r,s){s===void 0&&(s=0);var a=mt(n.width,n.height,s),l=a.width,c=a.height;return{x:or(t.x,l,e.width,r),y:or(t.y,c,e.height,r)}}function or(t,n,e,r){var s=n*r/2-e/2;return Yt(t,-s,s)}function ir(t,n){return Math.sqrt(Math.pow(t.y-n.y,2)+Math.pow(t.x-n.x,2))}function ar(t,n){return Math.atan2(n.y-t.y,n.x-t.x)*180/Math.PI}function Os(t,n,e,r,s,a,l){a===void 0&&(a=0),l===void 0&&(l=!0);var c=l?Fs:Ws,m=mt(n.width,n.height,a),p=mt(n.naturalWidth,n.naturalHeight,a),f={x:c(100,((m.width-e.width/s)/2-t.x/s)/m.width*100),y:c(100,((m.height-e.height/s)/2-t.y/s)/m.height*100),width:c(100,e.width/m.width*100/s),height:c(100,e.height/m.height*100/s)},g=Math.round(c(p.width,f.width*p.width/100)),b=Math.round(c(p.height,f.height*p.height/100)),h=p.width>=p.height*r,k=h?{width:Math.round(b*r),height:b}:{width:g,height:Math.round(g/r)},x=te(te({},k),{x:Math.round(c(p.width-k.width,f.x*p.width/100)),y:Math.round(c(p.height-k.height,f.y*p.height/100))});return{croppedAreaPercentages:f,croppedAreaPixels:x}}function Fs(t,n){return Math.min(t,Math.max(0,n))}function Ws(t,n){return n}function $s(t,n,e,r,s,a){var l=mt(n.width,n.height,e),c=Yt(r.width/l.width*(100/t.width),s,a),m={x:c*l.width/2-r.width/2-l.width*c*(t.x/100),y:c*l.height/2-r.height/2-l.height*c*(t.y/100)};return{crop:m,zoom:c}}function Xs(t,n,e){var r=zs(n);return e.height>e.width?e.height/(t.height*r):e.width/(t.width*r)}function Ys(t,n,e,r,s,a){e===void 0&&(e=0);var l=mt(n.naturalWidth,n.naturalHeight,e),c=Yt(Xs(t,n,r),s,a),m=r.height>r.width?r.height/t.height:r.width/t.width,p={x:((l.width-t.width)/2-t.x)*m,y:((l.height-t.height)/2-t.y)*m};return{crop:p,zoom:c}}function lr(t,n){return{x:(n.x+t.x)/2,y:(n.y+t.y)/2}}function Zs(t){return t*Math.PI/180}function mt(t,n,e){var r=Zs(e);return{width:Math.abs(Math.cos(r)*t)+Math.abs(Math.sin(r)*n),height:Math.abs(Math.sin(r)*t)+Math.abs(Math.cos(r)*n)}}function Yt(t,n,e){return Math.min(Math.max(t,n),e)}function Rt(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return t.filter(function(e){return typeof e=="string"&&e.length>0}).join(" ").trim()}var Gs=`.reactEasyCrop_Container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  user-select: none;
  touch-action: none;
  cursor: move;
  display: flex;
  justify-content: center;
  align-items: center;
}

.reactEasyCrop_Image,
.reactEasyCrop_Video {
  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */
}

.reactEasyCrop_Contain {
  max-width: 100%;
  max-height: 100%;
  margin: auto;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.reactEasyCrop_Cover_Horizontal {
  width: 100%;
  height: auto;
}
.reactEasyCrop_Cover_Vertical {
  width: auto;
  height: 100%;
}

.reactEasyCrop_CropArea {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-sizing: border-box;
  box-shadow: 0 0 0 9999em;
  color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

.reactEasyCrop_CropAreaRound {
  border-radius: 50%;
}

.reactEasyCrop_CropAreaGrid::before {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 0;
  bottom: 0;
  left: 33.33%;
  right: 33.33%;
  border-top: 0;
  border-bottom: 0;
}

.reactEasyCrop_CropAreaGrid::after {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 33.33%;
  bottom: 33.33%;
  left: 0;
  right: 0;
  border-left: 0;
  border-right: 0;
}
`,qs=1,Ks=3,Js=1,Qs=function(t){Es(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;return e.cropperRef=d.createRef(),e.imageRef=d.createRef(),e.videoRef=d.createRef(),e.containerPosition={x:0,y:0},e.containerRef=null,e.styleRef=null,e.containerRect=null,e.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},e.dragStartPosition={x:0,y:0},e.dragStartCrop={x:0,y:0},e.gestureZoomStart=0,e.gestureRotationStart=0,e.isTouching=!1,e.lastPinchDistance=0,e.lastPinchRotation=0,e.rafDragTimeout=null,e.rafPinchTimeout=null,e.wheelTimer=null,e.currentDoc=typeof document<"u"?document:null,e.currentWindow=typeof window<"u"?window:null,e.resizeObserver=null,e.previousCropSize=null,e.isInitialized=!1,e.state={cropSize:null,hasWheelJustStarted:!1,mediaObjectFit:void 0},e.initResizeObserver=function(){if(!(typeof window.ResizeObserver>"u"||!e.containerRef)){var r=!0;e.resizeObserver=new window.ResizeObserver(function(s){if(r){r=!1;return}e.computeSizes()}),e.resizeObserver.observe(e.containerRef)}},e.preventZoomSafari=function(r){return r.preventDefault()},e.cleanEvents=function(){e.currentDoc&&(e.currentDoc.removeEventListener("mousemove",e.onMouseMove),e.currentDoc.removeEventListener("mouseup",e.onDragStopped),e.currentDoc.removeEventListener("touchmove",e.onTouchMove),e.currentDoc.removeEventListener("touchend",e.onDragStopped),e.currentDoc.removeEventListener("gesturechange",e.onGestureChange),e.currentDoc.removeEventListener("gestureend",e.onGestureEnd),e.currentDoc.removeEventListener("scroll",e.onScroll))},e.clearScrollEvent=function(){e.containerRef&&e.containerRef.removeEventListener("wheel",e.onWheel),e.wheelTimer&&clearTimeout(e.wheelTimer)},e.onMediaLoad=function(){var r=e.computeSizes();r&&(e.previousCropSize=r,e.emitCropData(),e.setInitialCrop(r),e.isInitialized=!0),e.props.onMediaLoaded&&e.props.onMediaLoaded(e.mediaSize)},e.setInitialCrop=function(r){if(e.props.initialCroppedAreaPercentages){var s=$s(e.props.initialCroppedAreaPercentages,e.mediaSize,e.props.rotation,r,e.props.minZoom,e.props.maxZoom),a=s.crop,l=s.zoom;e.props.onCropChange(a),e.props.onZoomChange&&e.props.onZoomChange(l)}else if(e.props.initialCroppedAreaPixels){var c=Ys(e.props.initialCroppedAreaPixels,e.mediaSize,e.props.rotation,r,e.props.minZoom,e.props.maxZoom),a=c.crop,l=c.zoom;e.props.onCropChange(a),e.props.onZoomChange&&e.props.onZoomChange(l)}},e.computeSizes=function(){var r,s,a,l,c,m,p=e.imageRef.current||e.videoRef.current;if(p&&e.containerRef){e.containerRect=e.containerRef.getBoundingClientRect(),e.saveContainerPosition();var f=e.containerRect.width/e.containerRect.height,g=((r=e.imageRef.current)===null||r===void 0?void 0:r.naturalWidth)||((s=e.videoRef.current)===null||s===void 0?void 0:s.videoWidth)||0,b=((a=e.imageRef.current)===null||a===void 0?void 0:a.naturalHeight)||((l=e.videoRef.current)===null||l===void 0?void 0:l.videoHeight)||0,h=p.offsetWidth<g||p.offsetHeight<b,k=g/b,x=void 0;if(h)switch(e.state.mediaObjectFit){default:case"contain":x=f>k?{width:e.containerRect.height*k,height:e.containerRect.height}:{width:e.containerRect.width,height:e.containerRect.width/k};break;case"horizontal-cover":x={width:e.containerRect.width,height:e.containerRect.width/k};break;case"vertical-cover":x={width:e.containerRect.height*k,height:e.containerRect.height};break}else x={width:p.offsetWidth,height:p.offsetHeight};e.mediaSize=te(te({},x),{naturalWidth:g,naturalHeight:b}),e.props.setMediaSize&&e.props.setMediaSize(e.mediaSize);var y=e.props.cropSize?e.props.cropSize:Ts(e.mediaSize.width,e.mediaSize.height,e.containerRect.width,e.containerRect.height,e.props.aspect,e.props.rotation);return(((c=e.state.cropSize)===null||c===void 0?void 0:c.height)!==y.height||((m=e.state.cropSize)===null||m===void 0?void 0:m.width)!==y.width)&&e.props.onCropSizeChange&&e.props.onCropSizeChange(y),e.setState({cropSize:y},e.recomputeCropPosition),e.props.setCropSize&&e.props.setCropSize(y),y}},e.saveContainerPosition=function(){if(e.containerRef){var r=e.containerRef.getBoundingClientRect();e.containerPosition={x:r.left,y:r.top}}},e.onMouseDown=function(r){e.currentDoc&&(r.preventDefault(),e.currentDoc.addEventListener("mousemove",e.onMouseMove),e.currentDoc.addEventListener("mouseup",e.onDragStopped),e.saveContainerPosition(),e.onDragStart(n.getMousePoint(r)))},e.onMouseMove=function(r){return e.onDrag(n.getMousePoint(r))},e.onScroll=function(r){e.currentDoc&&(r.preventDefault(),e.saveContainerPosition())},e.onTouchStart=function(r){e.currentDoc&&(e.isTouching=!0,!(e.props.onTouchRequest&&!e.props.onTouchRequest(r))&&(e.currentDoc.addEventListener("touchmove",e.onTouchMove,{passive:!1}),e.currentDoc.addEventListener("touchend",e.onDragStopped),e.saveContainerPosition(),r.touches.length===2?e.onPinchStart(r):r.touches.length===1&&e.onDragStart(n.getTouchPoint(r.touches[0]))))},e.onTouchMove=function(r){r.preventDefault(),r.touches.length===2?e.onPinchMove(r):r.touches.length===1&&e.onDrag(n.getTouchPoint(r.touches[0]))},e.onGestureStart=function(r){e.currentDoc&&(r.preventDefault(),e.currentDoc.addEventListener("gesturechange",e.onGestureChange),e.currentDoc.addEventListener("gestureend",e.onGestureEnd),e.gestureZoomStart=e.props.zoom,e.gestureRotationStart=e.props.rotation)},e.onGestureChange=function(r){if(r.preventDefault(),!e.isTouching){var s=n.getMousePoint(r),a=e.gestureZoomStart-1+r.scale;if(e.setNewZoom(a,s,{shouldUpdatePosition:!0}),e.props.onRotationChange){var l=e.gestureRotationStart+r.rotation;e.props.onRotationChange(l)}}},e.onGestureEnd=function(r){e.cleanEvents()},e.onDragStart=function(r){var s,a,l=r.x,c=r.y;e.dragStartPosition={x:l,y:c},e.dragStartCrop=te({},e.props.crop),(a=(s=e.props).onInteractionStart)===null||a===void 0||a.call(s)},e.onDrag=function(r){var s=r.x,a=r.y;e.currentWindow&&(e.rafDragTimeout&&e.currentWindow.cancelAnimationFrame(e.rafDragTimeout),e.rafDragTimeout=e.currentWindow.requestAnimationFrame(function(){if(e.state.cropSize&&!(s===void 0||a===void 0)){var l=s-e.dragStartPosition.x,c=a-e.dragStartPosition.y,m={x:e.dragStartCrop.x+l,y:e.dragStartCrop.y+c},p=e.props.restrictPosition?yt(m,e.mediaSize,e.state.cropSize,e.props.zoom,e.props.rotation):m;e.props.onCropChange(p)}}))},e.onDragStopped=function(){var r,s;e.isTouching=!1,e.cleanEvents(),e.emitCropData(),(s=(r=e.props).onInteractionEnd)===null||s===void 0||s.call(r)},e.onWheel=function(r){if(e.currentWindow&&!(e.props.onWheelRequest&&!e.props.onWheelRequest(r))){r.preventDefault();var s=n.getMousePoint(r),a=Ps(r).pixelY,l=e.props.zoom-a*e.props.zoomSpeed/200;e.setNewZoom(l,s,{shouldUpdatePosition:!0}),e.state.hasWheelJustStarted||e.setState({hasWheelJustStarted:!0},function(){var c,m;return(m=(c=e.props).onInteractionStart)===null||m===void 0?void 0:m.call(c)}),e.wheelTimer&&clearTimeout(e.wheelTimer),e.wheelTimer=e.currentWindow.setTimeout(function(){return e.setState({hasWheelJustStarted:!1},function(){var c,m;return(m=(c=e.props).onInteractionEnd)===null||m===void 0?void 0:m.call(c)})},250)}},e.getPointOnContainer=function(r,s){var a=r.x,l=r.y;if(!e.containerRect)throw new Error("The Cropper is not mounted");return{x:e.containerRect.width/2-(a-s.x),y:e.containerRect.height/2-(l-s.y)}},e.getPointOnMedia=function(r){var s=r.x,a=r.y,l=e.props,c=l.crop,m=l.zoom;return{x:(s+c.x)/m,y:(a+c.y)/m}},e.setNewZoom=function(r,s,a){var l=a===void 0?{}:a,c=l.shouldUpdatePosition,m=c===void 0?!0:c;if(!(!e.state.cropSize||!e.props.onZoomChange)){var p=Yt(r,e.props.minZoom,e.props.maxZoom);if(m){var f=e.getPointOnContainer(s,e.containerPosition),g=e.getPointOnMedia(f),b={x:g.x*p-f.x,y:g.y*p-f.y},h=e.props.restrictPosition?yt(b,e.mediaSize,e.state.cropSize,p,e.props.rotation):b;e.props.onCropChange(h)}e.props.onZoomChange(p)}},e.getCropData=function(){if(!e.state.cropSize)return null;var r=e.props.restrictPosition?yt(e.props.crop,e.mediaSize,e.state.cropSize,e.props.zoom,e.props.rotation):e.props.crop;return Os(r,e.mediaSize,e.state.cropSize,e.getAspect(),e.props.zoom,e.props.rotation,e.props.restrictPosition)},e.emitCropData=function(){var r=e.getCropData();if(r){var s=r.croppedAreaPercentages,a=r.croppedAreaPixels;e.props.onCropComplete&&e.props.onCropComplete(s,a),e.props.onCropAreaChange&&e.props.onCropAreaChange(s,a)}},e.emitCropAreaChange=function(){var r=e.getCropData();if(r){var s=r.croppedAreaPercentages,a=r.croppedAreaPixels;e.props.onCropAreaChange&&e.props.onCropAreaChange(s,a)}},e.recomputeCropPosition=function(){var r,s;if(e.state.cropSize){var a=e.props.crop;if(e.isInitialized&&(!((r=e.previousCropSize)===null||r===void 0)&&r.width)&&(!((s=e.previousCropSize)===null||s===void 0)&&s.height)){var l=Math.abs(e.previousCropSize.width-e.state.cropSize.width)>1e-6||Math.abs(e.previousCropSize.height-e.state.cropSize.height)>1e-6;if(l){var c=e.state.cropSize.width/e.previousCropSize.width,m=e.state.cropSize.height/e.previousCropSize.height;a={x:e.props.crop.x*c,y:e.props.crop.y*m}}}var p=e.props.restrictPosition?yt(a,e.mediaSize,e.state.cropSize,e.props.zoom,e.props.rotation):a;e.previousCropSize=e.state.cropSize,e.props.onCropChange(p),e.emitCropData()}},e.onKeyDown=function(r){var s,a,l=e.props,c=l.crop,m=l.onCropChange,p=l.keyboardStep,f=l.zoom,g=l.rotation,b=p;if(e.state.cropSize){r.shiftKey&&(b*=.2);var h=te({},c);switch(r.key){case"ArrowUp":h.y-=b,r.preventDefault();break;case"ArrowDown":h.y+=b,r.preventDefault();break;case"ArrowLeft":h.x-=b,r.preventDefault();break;case"ArrowRight":h.x+=b,r.preventDefault();break;default:return}e.props.restrictPosition&&(h=yt(h,e.mediaSize,e.state.cropSize,f,g)),r.repeat||(a=(s=e.props).onInteractionStart)===null||a===void 0||a.call(s),m(h)}},e.onKeyUp=function(r){var s,a;switch(r.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":r.preventDefault();break;default:return}e.emitCropData(),(a=(s=e.props).onInteractionEnd)===null||a===void 0||a.call(s)},e}return n.prototype.componentDidMount=function(){!this.currentDoc||!this.currentWindow||(this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.initResizeObserver(),typeof window.ResizeObserver>"u"&&this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.currentDoc.addEventListener("scroll",this.onScroll),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=Gs,this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef),this.props.setCropperRef&&this.props.setCropperRef(this.cropperRef))},n.prototype.componentWillUnmount=function(){var e,r;!this.currentDoc||!this.currentWindow||(typeof window.ResizeObserver>"u"&&this.currentWindow.removeEventListener("resize",this.computeSizes),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&((r=this.styleRef.parentNode)===null||r===void 0||r.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent())},n.prototype.componentDidUpdate=function(e){var r,s,a,l,c,m,p,f,g;e.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):e.aspect!==this.props.aspect?this.computeSizes():e.objectFit!==this.props.objectFit?this.computeSizes():e.zoom!==this.props.zoom?this.recomputeCropPosition():((r=e.cropSize)===null||r===void 0?void 0:r.height)!==((s=this.props.cropSize)===null||s===void 0?void 0:s.height)||((a=e.cropSize)===null||a===void 0?void 0:a.width)!==((l=this.props.cropSize)===null||l===void 0?void 0:l.width)?this.computeSizes():(((c=e.crop)===null||c===void 0?void 0:c.x)!==((m=this.props.crop)===null||m===void 0?void 0:m.x)||((p=e.crop)===null||p===void 0?void 0:p.y)!==((f=this.props.crop)===null||f===void 0?void 0:f.y))&&this.emitCropAreaChange(),e.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),e.video!==this.props.video&&((g=this.videoRef.current)===null||g===void 0||g.load());var b=this.getObjectFit();b!==this.state.mediaObjectFit&&this.setState({mediaObjectFit:b},this.computeSizes)},n.prototype.getAspect=function(){var e=this.props,r=e.cropSize,s=e.aspect;return r?r.width/r.height:s},n.prototype.getObjectFit=function(){var e,r,s,a;if(this.props.objectFit==="cover"){var l=this.imageRef.current||this.videoRef.current;if(l&&this.containerRef){this.containerRect=this.containerRef.getBoundingClientRect();var c=this.containerRect.width/this.containerRect.height,m=((e=this.imageRef.current)===null||e===void 0?void 0:e.naturalWidth)||((r=this.videoRef.current)===null||r===void 0?void 0:r.videoWidth)||0,p=((s=this.imageRef.current)===null||s===void 0?void 0:s.naturalHeight)||((a=this.videoRef.current)===null||a===void 0?void 0:a.videoHeight)||0,f=m/p;return f<c?"horizontal-cover":"vertical-cover"}return"horizontal-cover"}return this.props.objectFit},n.prototype.onPinchStart=function(e){var r=n.getTouchPoint(e.touches[0]),s=n.getTouchPoint(e.touches[1]);this.lastPinchDistance=ir(r,s),this.lastPinchRotation=ar(r,s),this.onDragStart(lr(r,s))},n.prototype.onPinchMove=function(e){var r=this;if(!(!this.currentDoc||!this.currentWindow)){var s=n.getTouchPoint(e.touches[0]),a=n.getTouchPoint(e.touches[1]),l=lr(s,a);this.onDrag(l),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var c=ir(s,a),m=r.props.zoom*(c/r.lastPinchDistance);r.setNewZoom(m,l,{shouldUpdatePosition:!1}),r.lastPinchDistance=c;var p=ar(s,a),f=r.props.rotation+(p-r.lastPinchRotation);r.props.onRotationChange&&r.props.onRotationChange(f),r.lastPinchRotation=p})}},n.prototype.render=function(){var e=this,r,s=this.props,a=s.image,l=s.video,c=s.mediaProps,m=s.cropperProps,p=s.transform,f=s.crop,g=f.x,b=f.y,h=s.rotation,k=s.zoom,x=s.cropShape,y=s.showGrid,D=s.roundCropAreaPixels,S=s.style,V=S.containerStyle,j=S.cropAreaStyle,R=S.mediaStyle,U=s.classes,E=U.containerClassName,L=U.cropAreaClassName,A=U.mediaClassName,z=(r=this.state.mediaObjectFit)!==null&&r!==void 0?r:this.getObjectFit();return d.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(K){return e.containerRef=K},"data-testid":"container",style:V,className:Rt("reactEasyCrop_Container",E)},a?d.createElement("img",te({alt:"",className:Rt("reactEasyCrop_Image",z==="contain"&&"reactEasyCrop_Contain",z==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",z==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",A)},c,{src:a,ref:this.imageRef,style:te(te({},R),{transform:p||"translate(".concat(g,"px, ").concat(b,"px) rotate(").concat(h,"deg) scale(").concat(k,")")}),onLoad:this.onMediaLoad})):l&&d.createElement("video",te({autoPlay:!0,playsInline:!0,loop:!0,muted:!0,className:Rt("reactEasyCrop_Video",z==="contain"&&"reactEasyCrop_Contain",z==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",z==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",A)},c,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:te(te({},R),{transform:p||"translate(".concat(g,"px, ").concat(b,"px) rotate(").concat(h,"deg) scale(").concat(k,")")}),controls:!1}),(Array.isArray(l)?l:[{src:l}]).map(function(H){return d.createElement("source",te({key:H.src},H))})),this.state.cropSize&&d.createElement("div",te({ref:this.cropperRef,style:te(te({},j),{width:D?Math.round(this.state.cropSize.width):this.state.cropSize.width,height:D?Math.round(this.state.cropSize.height):this.state.cropSize.height}),tabIndex:0,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,"data-testid":"cropper",className:Rt("reactEasyCrop_CropArea",x==="round"&&"reactEasyCrop_CropAreaRound",y&&"reactEasyCrop_CropAreaGrid",L)},m)))},n.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:Ks,minZoom:qs,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},cropperProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0,keyboardStep:Js},n.getMousePoint=function(e){return{x:Number(e.clientX),y:Number(e.clientY)}},n.getTouchPoint=function(e){return{x:Number(e.clientX),y:Number(e.clientY)}},n}(d.Component);const eo=t=>new Promise((n,e)=>{const r=new Image;r.addEventListener("load",()=>n(r)),r.addEventListener("error",s=>e(s)),r.crossOrigin="anonymous",r.src=t});async function to(t,n,e=0){const r=await eo(t),s=document.createElement("canvas"),a=s.getContext("2d");if(!a)throw new Error("No 2d context");const l=e*Math.PI/180,c=Math.abs(Math.sin(l)),m=Math.abs(Math.cos(l)),p=r.width*m+r.height*c,f=r.width*c+r.height*m;s.width=n.width,s.height=n.height;const g=document.createElement("canvas"),b=g.getContext("2d");if(!b)throw new Error("No 2d context");g.width=p,g.height=f,b.translate(p/2,f/2),b.rotate(l),b.translate(-r.width/2,-r.height/2),b.drawImage(r,0,0);const h=(p-r.width)/2,k=(f-r.height)/2;return a.drawImage(g,n.x+h,n.y+k,n.width,n.height,0,0,n.width,n.height),s.toDataURL("image/jpeg",.9)}const no=({image:t,onCropComplete:n,onCancel:e,aspectRatio:r=1})=>{const[s,a]=d.useState({x:0,y:0}),[l,c]=d.useState(1),[m,p]=d.useState(0),[f,g]=d.useState(null),b=d.useCallback(D=>{a(D)},[]),h=d.useCallback(D=>{c(D)},[]),k=d.useCallback((D,S)=>{g(S)},[]),x=()=>{p(D=>(D+90)%360)},y=async()=>{if(f)try{const D=await to(t,f,m);n(D)}catch(D){console.error("Error cropping image:",D)}};return i.jsxDEV("div",{className:"fixed inset-0 bg-black/80 z-50 flex flex-col",children:[i.jsxDEV("div",{className:"flex items-center justify-between p-4 bg-black/50",children:[i.jsxDEV("button",{onClick:e,className:"p-2 text-white hover:bg-white/20 rounded-full transition-colors",children:i.jsxDEV(It,{className:"w-6 h-6"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ImageCropper.tsx",lineNumber:131,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ImageCropper.tsx",lineNumber:127,columnNumber:9},void 0),i.jsxDEV("span",{className:"text-white font-medium",children:"이미지 자르기 (1:1)"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ImageCropper.tsx",lineNumber:133,columnNumber:9},void 0),i.jsxDEV("button",{onClick:y,className:"p-2 text-white hover:bg-white/20 rounded-full transition-colors",children:i.jsxDEV(ws,{className:"w-6 h-6"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ImageCropper.tsx",lineNumber:138,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ImageCropper.tsx",lineNumber:134,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ImageCropper.tsx",lineNumber:126,columnNumber:7},void 0),i.jsxDEV("div",{className:"flex-1 relative",children:i.jsxDEV(Qs,{image:t,crop:s,zoom:l,rotation:m,aspect:r,onCropChange:b,onZoomChange:h,onCropComplete:k,cropShape:"rect",showGrid:!0,style:{containerStyle:{backgroundColor:"#000"}}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ImageCropper.tsx",lineNumber:144,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ImageCropper.tsx",lineNumber:143,columnNumber:7},void 0),i.jsxDEV("div",{className:"p-4 bg-black/50",children:i.jsxDEV("div",{className:"flex items-center justify-center gap-6",children:[i.jsxDEV("button",{onClick:x,className:"p-3 text-white hover:bg-white/20 rounded-full transition-colors",title:"90도 회전",children:i.jsxDEV(Cs,{className:"w-6 h-6"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ImageCropper.tsx",lineNumber:172,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ImageCropper.tsx",lineNumber:167,columnNumber:11},void 0),i.jsxDEV("div",{className:"flex items-center gap-3 flex-1 max-w-xs",children:[i.jsxDEV("span",{className:"text-white text-sm",children:"-"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ImageCropper.tsx",lineNumber:177,columnNumber:13},void 0),i.jsxDEV("input",{type:"range",min:1,max:3,step:.1,value:l,onChange:D=>c(Number(D.target.value)),className:"w-full h-2 bg-white/30 rounded-lg appearance-none cursor-pointer accent-white"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ImageCropper.tsx",lineNumber:178,columnNumber:13},void 0),i.jsxDEV("span",{className:"text-white text-sm",children:"+"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ImageCropper.tsx",lineNumber:187,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ImageCropper.tsx",lineNumber:176,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ImageCropper.tsx",lineNumber:165,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ImageCropper.tsx",lineNumber:164,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ImageCropper.tsx",lineNumber:124,columnNumber:5},void 0)};function ro(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return d.useMemo(()=>r=>{n.forEach(s=>s(r))},n)}const Zt=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function pt(t){const n=Object.prototype.toString.call(t);return n==="[object Window]"||n==="[object global]"}function jn(t){return"nodeType"in t}function Ne(t){var n,e;return t?pt(t)?t:jn(t)&&(n=(e=t.ownerDocument)==null?void 0:e.defaultView)!=null?n:window:window}function Bn(t){const{Document:n}=Ne(t);return t instanceof n}function _t(t){return pt(t)?!1:t instanceof Ne(t).HTMLElement}function _r(t){return t instanceof Ne(t).SVGElement}function ft(t){return t?pt(t)?t.document:jn(t)?Bn(t)?t:_t(t)||_r(t)?t.ownerDocument:document:document:document}const ze=Zt?d.useLayoutEffect:d.useEffect;function Rn(t){const n=d.useRef(t);return ze(()=>{n.current=t}),d.useCallback(function(){for(var e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return n.current==null?void 0:n.current(...r)},[])}function so(){const t=d.useRef(null),n=d.useCallback((r,s)=>{t.current=setInterval(r,s)},[]),e=d.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[n,e]}function Et(t,n){n===void 0&&(n=[t]);const e=d.useRef(t);return ze(()=>{e.current!==t&&(e.current=t)},n),e}function jt(t,n){const e=d.useRef();return d.useMemo(()=>{const r=t(e.current);return e.current=r,r},[...n])}function Ft(t){const n=Rn(t),e=d.useRef(null),r=d.useCallback(s=>{s!==e.current&&(n==null||n(s,e.current)),e.current=s},[]);return[e,r]}function Cn(t){const n=d.useRef();return d.useEffect(()=>{n.current=t},[t]),n.current}let cn={};function Bt(t,n){return d.useMemo(()=>{if(n)return n;const e=cn[t]==null?0:cn[t]+1;return cn[t]=e,t+"-"+e},[t,n])}function jr(t){return function(n){for(var e=arguments.length,r=new Array(e>1?e-1:0),s=1;s<e;s++)r[s-1]=arguments[s];return r.reduce((a,l)=>{const c=Object.entries(l);for(const[m,p]of c){const f=a[m];f!=null&&(a[m]=f+t*p)}return a},{...n})}}const ut=jr(1),At=jr(-1);function oo(t){return"clientX"in t&&"clientY"in t}function Un(t){if(!t)return!1;const{KeyboardEvent:n}=Ne(t.target);return n&&t instanceof n}function io(t){if(!t)return!1;const{TouchEvent:n}=Ne(t.target);return n&&t instanceof n}function Sn(t){if(io(t)){if(t.touches&&t.touches.length){const{clientX:n,clientY:e}=t.touches[0];return{x:n,y:e}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:n,clientY:e}=t.changedTouches[0];return{x:n,y:e}}}return oo(t)?{x:t.clientX,y:t.clientY}:null}const ot=Object.freeze({Translate:{toString(t){if(!t)return;const{x:n,y:e}=t;return"translate3d("+(n?Math.round(n):0)+"px, "+(e?Math.round(e):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:n,scaleY:e}=t;return"scaleX("+n+") scaleY("+e+")"}},Transform:{toString(t){if(t)return[ot.Translate.toString(t),ot.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:n,duration:e,easing:r}=t;return n+" "+e+"ms "+r}}}),cr="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function ao(t){return t.matches(cr)?t:t.querySelector(cr)}const lo={display:"none"};function co(t){let{id:n,value:e}=t;return xe.createElement("div",{id:n,style:lo},e)}function uo(t){let{id:n,announcement:e,ariaLiveType:r="assertive"}=t;const s={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return xe.createElement("div",{id:n,style:s,role:"status","aria-live":r,"aria-atomic":!0},e)}function mo(){const[t,n]=d.useState("");return{announce:d.useCallback(r=>{r!=null&&n(r)},[]),announcement:t}}const Br=d.createContext(null);function po(t){const n=d.useContext(Br);d.useEffect(()=>{if(!n)throw new Error("useDndMonitor must be used within a children of <DndContext>");return n(t)},[t,n])}function fo(){const[t]=d.useState(()=>new Set),n=d.useCallback(r=>(t.add(r),()=>t.delete(r)),[t]);return[d.useCallback(r=>{let{type:s,event:a}=r;t.forEach(l=>{var c;return(c=l[s])==null?void 0:c.call(l,a)})},[t]),n]}const go={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},ho={onDragStart(t){let{active:n}=t;return"Picked up draggable item "+n.id+"."},onDragOver(t){let{active:n,over:e}=t;return e?"Draggable item "+n.id+" was moved over droppable area "+e.id+".":"Draggable item "+n.id+" is no longer over a droppable area."},onDragEnd(t){let{active:n,over:e}=t;return e?"Draggable item "+n.id+" was dropped over droppable area "+e.id:"Draggable item "+n.id+" was dropped."},onDragCancel(t){let{active:n}=t;return"Dragging was cancelled. Draggable item "+n.id+" was dropped."}};function bo(t){let{announcements:n=ho,container:e,hiddenTextDescribedById:r,screenReaderInstructions:s=go}=t;const{announce:a,announcement:l}=mo(),c=Bt("DndLiveRegion"),[m,p]=d.useState(!1);if(d.useEffect(()=>{p(!0)},[]),po(d.useMemo(()=>({onDragStart(g){let{active:b}=g;a(n.onDragStart({active:b}))},onDragMove(g){let{active:b,over:h}=g;n.onDragMove&&a(n.onDragMove({active:b,over:h}))},onDragOver(g){let{active:b,over:h}=g;a(n.onDragOver({active:b,over:h}))},onDragEnd(g){let{active:b,over:h}=g;a(n.onDragEnd({active:b,over:h}))},onDragCancel(g){let{active:b,over:h}=g;a(n.onDragCancel({active:b,over:h}))}}),[a,n])),!m)return null;const f=xe.createElement(xe.Fragment,null,xe.createElement(co,{id:r,value:s.draggable}),xe.createElement(uo,{id:c,announcement:l}));return e?kt.createPortal(f,e):f}var q;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(q||(q={}));function Wt(){}function dr(t,n){return d.useMemo(()=>({sensor:t,options:n??{}}),[t,n])}function vo(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return d.useMemo(()=>[...n].filter(r=>r!=null),[...n])}const Me=Object.freeze({x:0,y:0});function Rr(t,n){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function Ur(t,n){let{data:{value:e}}=t,{data:{value:r}}=n;return e-r}function xo(t,n){let{data:{value:e}}=t,{data:{value:r}}=n;return r-e}function ur(t){let{left:n,top:e,height:r,width:s}=t;return[{x:n,y:e},{x:n+s,y:e},{x:n,y:e+r},{x:n+s,y:e+r}]}function Hr(t,n){if(!t||t.length===0)return null;const[e]=t;return e[n]}function mr(t,n,e){return n===void 0&&(n=t.left),e===void 0&&(e=t.top),{x:n+t.width*.5,y:e+t.height*.5}}const dn=t=>{let{collisionRect:n,droppableRects:e,droppableContainers:r}=t;const s=mr(n,n.left,n.top),a=[];for(const l of r){const{id:c}=l,m=e.get(c);if(m){const p=Rr(mr(m),s);a.push({id:c,data:{droppableContainer:l,value:p}})}}return a.sort(Ur)},No=t=>{let{collisionRect:n,droppableRects:e,droppableContainers:r}=t;const s=ur(n),a=[];for(const l of r){const{id:c}=l,m=e.get(c);if(m){const p=ur(m),f=s.reduce((b,h,k)=>b+Rr(p[k],h),0),g=Number((f/4).toFixed(4));a.push({id:c,data:{droppableContainer:l,value:g}})}}return a.sort(Ur)};function yo(t,n){const e=Math.max(n.top,t.top),r=Math.max(n.left,t.left),s=Math.min(n.left+n.width,t.left+t.width),a=Math.min(n.top+n.height,t.top+t.height),l=s-r,c=a-e;if(r<s&&e<a){const m=n.width*n.height,p=t.width*t.height,f=l*c,g=f/(m+p-f);return Number(g.toFixed(4))}return 0}const ko=t=>{let{collisionRect:n,droppableRects:e,droppableContainers:r}=t;const s=[];for(const a of r){const{id:l}=a,c=e.get(l);if(c){const m=yo(c,n);m>0&&s.push({id:l,data:{droppableContainer:a,value:m}})}}return s.sort(xo)};function Do(t,n,e){return{...t,scaleX:n&&e?n.width/e.width:1,scaleY:n&&e?n.height/e.height:1}}function Ir(t,n){return t&&n?{x:t.left-n.left,y:t.top-n.top}:Me}function wo(t){return function(e){for(var r=arguments.length,s=new Array(r>1?r-1:0),a=1;a<r;a++)s[a-1]=arguments[a];return s.reduce((l,c)=>({...l,top:l.top+t*c.y,bottom:l.bottom+t*c.y,left:l.left+t*c.x,right:l.right+t*c.x}),{...e})}}const Co=wo(1);function So(t){if(t.startsWith("matrix3d(")){const n=t.slice(9,-1).split(/, /);return{x:+n[12],y:+n[13],scaleX:+n[0],scaleY:+n[5]}}else if(t.startsWith("matrix(")){const n=t.slice(7,-1).split(/, /);return{x:+n[4],y:+n[5],scaleX:+n[0],scaleY:+n[3]}}return null}function Vo(t,n,e){const r=So(n);if(!r)return t;const{scaleX:s,scaleY:a,x:l,y:c}=r,m=t.left-l-(1-s)*parseFloat(e),p=t.top-c-(1-a)*parseFloat(e.slice(e.indexOf(" ")+1)),f=s?t.width/s:t.width,g=a?t.height/a:t.height;return{width:f,height:g,top:p,right:m+f,bottom:p+g,left:m}}const Eo={ignoreTransform:!1};function gt(t,n){n===void 0&&(n=Eo);let e=t.getBoundingClientRect();if(n.ignoreTransform){const{transform:p,transformOrigin:f}=Ne(t).getComputedStyle(t);p&&(e=Vo(e,p,f))}const{top:r,left:s,width:a,height:l,bottom:c,right:m}=e;return{top:r,left:s,width:a,height:l,bottom:c,right:m}}function pr(t){return gt(t,{ignoreTransform:!0})}function Ao(t){const n=t.innerWidth,e=t.innerHeight;return{top:0,left:0,right:n,bottom:e,width:n,height:e}}function Lo(t,n){return n===void 0&&(n=Ne(t).getComputedStyle(t)),n.position==="fixed"}function _o(t,n){n===void 0&&(n=Ne(t).getComputedStyle(t));const e=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(s=>{const a=n[s];return typeof a=="string"?e.test(a):!1})}function Gt(t,n){const e=[];function r(s){if(n!=null&&e.length>=n||!s)return e;if(Bn(s)&&s.scrollingElement!=null&&!e.includes(s.scrollingElement))return e.push(s.scrollingElement),e;if(!_t(s)||_r(s)||e.includes(s))return e;const a=Ne(t).getComputedStyle(s);return s!==t&&_o(s,a)&&e.push(s),Lo(s,a)?e:r(s.parentNode)}return t?r(t):e}function Mr(t){const[n]=Gt(t,1);return n??null}function un(t){return!Zt||!t?null:pt(t)?t:jn(t)?Bn(t)||t===ft(t).scrollingElement?window:_t(t)?t:null:null}function Pr(t){return pt(t)?t.scrollX:t.scrollLeft}function Tr(t){return pt(t)?t.scrollY:t.scrollTop}function Vn(t){return{x:Pr(t),y:Tr(t)}}var ne;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(ne||(ne={}));function zr(t){return!Zt||!t?!1:t===document.scrollingElement}function Or(t){const n={x:0,y:0},e=zr(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},r={x:t.scrollWidth-e.width,y:t.scrollHeight-e.height},s=t.scrollTop<=n.y,a=t.scrollLeft<=n.x,l=t.scrollTop>=r.y,c=t.scrollLeft>=r.x;return{isTop:s,isLeft:a,isBottom:l,isRight:c,maxScroll:r,minScroll:n}}const jo={x:.2,y:.2};function Bo(t,n,e,r,s){let{top:a,left:l,right:c,bottom:m}=e;r===void 0&&(r=10),s===void 0&&(s=jo);const{isTop:p,isBottom:f,isLeft:g,isRight:b}=Or(t),h={x:0,y:0},k={x:0,y:0},x={height:n.height*s.y,width:n.width*s.x};return!p&&a<=n.top+x.height?(h.y=ne.Backward,k.y=r*Math.abs((n.top+x.height-a)/x.height)):!f&&m>=n.bottom-x.height&&(h.y=ne.Forward,k.y=r*Math.abs((n.bottom-x.height-m)/x.height)),!b&&c>=n.right-x.width?(h.x=ne.Forward,k.x=r*Math.abs((n.right-x.width-c)/x.width)):!g&&l<=n.left+x.width&&(h.x=ne.Backward,k.x=r*Math.abs((n.left+x.width-l)/x.width)),{direction:h,speed:k}}function Ro(t){if(t===document.scrollingElement){const{innerWidth:a,innerHeight:l}=window;return{top:0,left:0,right:a,bottom:l,width:a,height:l}}const{top:n,left:e,right:r,bottom:s}=t.getBoundingClientRect();return{top:n,left:e,right:r,bottom:s,width:t.clientWidth,height:t.clientHeight}}function Fr(t){return t.reduce((n,e)=>ut(n,Vn(e)),Me)}function Uo(t){return t.reduce((n,e)=>n+Pr(e),0)}function Ho(t){return t.reduce((n,e)=>n+Tr(e),0)}function Io(t,n){if(n===void 0&&(n=gt),!t)return;const{top:e,left:r,bottom:s,right:a}=n(t);Mr(t)&&(s<=0||a<=0||e>=window.innerHeight||r>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const Mo=[["x",["left","right"],Uo],["y",["top","bottom"],Ho]];class Hn{constructor(n,e){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=Gt(e),s=Fr(r);this.rect={...n},this.width=n.width,this.height=n.height;for(const[a,l,c]of Mo)for(const m of l)Object.defineProperty(this,m,{get:()=>{const p=c(r),f=s[a]-p;return this.rect[m]+f},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Dt{constructor(n){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(e=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...e)})},this.target=n}add(n,e,r){var s;(s=this.target)==null||s.addEventListener(n,e,r),this.listeners.push([n,e,r])}}function Po(t){const{EventTarget:n}=Ne(t);return t instanceof n?t:ft(t)}function mn(t,n){const e=Math.abs(t.x),r=Math.abs(t.y);return typeof n=="number"?Math.sqrt(e**2+r**2)>n:"x"in n&&"y"in n?e>n.x&&r>n.y:"x"in n?e>n.x:"y"in n?r>n.y:!1}var Be;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(Be||(Be={}));function fr(t){t.preventDefault()}function To(t){t.stopPropagation()}var I;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(I||(I={}));const Wr={start:[I.Space,I.Enter],cancel:[I.Esc],end:[I.Space,I.Enter,I.Tab]},zo=(t,n)=>{let{currentCoordinates:e}=n;switch(t.code){case I.Right:return{...e,x:e.x+25};case I.Left:return{...e,x:e.x-25};case I.Down:return{...e,y:e.y+25};case I.Up:return{...e,y:e.y-25}}};class In{constructor(n){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=n;const{event:{target:e}}=n;this.props=n,this.listeners=new Dt(ft(e)),this.windowListeners=new Dt(Ne(e)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Be.Resize,this.handleCancel),this.windowListeners.add(Be.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Be.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:n,onStart:e}=this.props,r=n.node.current;r&&Io(r),e(Me)}handleKeyDown(n){if(Un(n)){const{active:e,context:r,options:s}=this.props,{keyboardCodes:a=Wr,coordinateGetter:l=zo,scrollBehavior:c="smooth"}=s,{code:m}=n;if(a.end.includes(m)){this.handleEnd(n);return}if(a.cancel.includes(m)){this.handleCancel(n);return}const{collisionRect:p}=r.current,f=p?{x:p.left,y:p.top}:Me;this.referenceCoordinates||(this.referenceCoordinates=f);const g=l(n,{active:e,context:r.current,currentCoordinates:f});if(g){const b=At(g,f),h={x:0,y:0},{scrollableAncestors:k}=r.current;for(const x of k){const y=n.code,{isTop:D,isRight:S,isLeft:V,isBottom:j,maxScroll:R,minScroll:U}=Or(x),E=Ro(x),L={x:Math.min(y===I.Right?E.right-E.width/2:E.right,Math.max(y===I.Right?E.left:E.left+E.width/2,g.x)),y:Math.min(y===I.Down?E.bottom-E.height/2:E.bottom,Math.max(y===I.Down?E.top:E.top+E.height/2,g.y))},A=y===I.Right&&!S||y===I.Left&&!V,z=y===I.Down&&!j||y===I.Up&&!D;if(A&&L.x!==g.x){const H=x.scrollLeft+b.x,K=y===I.Right&&H<=R.x||y===I.Left&&H>=U.x;if(K&&!b.y){x.scrollTo({left:H,behavior:c});return}K?h.x=x.scrollLeft-H:h.x=y===I.Right?x.scrollLeft-R.x:x.scrollLeft-U.x,h.x&&x.scrollBy({left:-h.x,behavior:c});break}else if(z&&L.y!==g.y){const H=x.scrollTop+b.y,K=y===I.Down&&H<=R.y||y===I.Up&&H>=U.y;if(K&&!b.x){x.scrollTo({top:H,behavior:c});return}K?h.y=x.scrollTop-H:h.y=y===I.Down?x.scrollTop-R.y:x.scrollTop-U.y,h.y&&x.scrollBy({top:-h.y,behavior:c});break}}this.handleMove(n,ut(At(g,this.referenceCoordinates),h))}}}handleMove(n,e){const{onMove:r}=this.props;n.preventDefault(),r(e)}handleEnd(n){const{onEnd:e}=this.props;n.preventDefault(),this.detach(),e()}handleCancel(n){const{onCancel:e}=this.props;n.preventDefault(),this.detach(),e()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}In.activators=[{eventName:"onKeyDown",handler:(t,n,e)=>{let{keyboardCodes:r=Wr,onActivation:s}=n,{active:a}=e;const{code:l}=t.nativeEvent;if(r.start.includes(l)){const c=a.activatorNode.current;return c&&t.target!==c?!1:(t.preventDefault(),s==null||s({event:t.nativeEvent}),!0)}return!1}}];function gr(t){return!!(t&&"distance"in t)}function hr(t){return!!(t&&"delay"in t)}class Mn{constructor(n,e,r){var s;r===void 0&&(r=Po(n.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=n,this.events=e;const{event:a}=n,{target:l}=a;this.props=n,this.events=e,this.document=ft(l),this.documentListeners=new Dt(this.document),this.listeners=new Dt(r),this.windowListeners=new Dt(Ne(l)),this.initialCoordinates=(s=Sn(a))!=null?s:Me,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:n,props:{options:{activationConstraint:e,bypassActivationConstraint:r}}}=this;if(this.listeners.add(n.move.name,this.handleMove,{passive:!1}),this.listeners.add(n.end.name,this.handleEnd),n.cancel&&this.listeners.add(n.cancel.name,this.handleCancel),this.windowListeners.add(Be.Resize,this.handleCancel),this.windowListeners.add(Be.DragStart,fr),this.windowListeners.add(Be.VisibilityChange,this.handleCancel),this.windowListeners.add(Be.ContextMenu,fr),this.documentListeners.add(Be.Keydown,this.handleKeydown),e){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(hr(e)){this.timeoutId=setTimeout(this.handleStart,e.delay),this.handlePending(e);return}if(gr(e)){this.handlePending(e);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(n,e){const{active:r,onPending:s}=this.props;s(r,n,this.initialCoordinates,e)}handleStart(){const{initialCoordinates:n}=this,{onStart:e}=this.props;n&&(this.activated=!0,this.documentListeners.add(Be.Click,To,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Be.SelectionChange,this.removeTextSelection),e(n))}handleMove(n){var e;const{activated:r,initialCoordinates:s,props:a}=this,{onMove:l,options:{activationConstraint:c}}=a;if(!s)return;const m=(e=Sn(n))!=null?e:Me,p=At(s,m);if(!r&&c){if(gr(c)){if(c.tolerance!=null&&mn(p,c.tolerance))return this.handleCancel();if(mn(p,c.distance))return this.handleStart()}if(hr(c)&&mn(p,c.tolerance))return this.handleCancel();this.handlePending(c,p);return}n.cancelable&&n.preventDefault(),l(m)}handleEnd(){const{onAbort:n,onEnd:e}=this.props;this.detach(),this.activated||n(this.props.active),e()}handleCancel(){const{onAbort:n,onCancel:e}=this.props;this.detach(),this.activated||n(this.props.active),e()}handleKeydown(n){n.code===I.Esc&&this.handleCancel()}removeTextSelection(){var n;(n=this.document.getSelection())==null||n.removeAllRanges()}}const Oo={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Pn extends Mn{constructor(n){const{event:e}=n,r=ft(e.target);super(n,Oo,r)}}Pn.activators=[{eventName:"onPointerDown",handler:(t,n)=>{let{nativeEvent:e}=t,{onActivation:r}=n;return!e.isPrimary||e.button!==0?!1:(r==null||r({event:e}),!0)}}];const Fo={move:{name:"mousemove"},end:{name:"mouseup"}};var En;(function(t){t[t.RightClick=2]="RightClick"})(En||(En={}));class Wo extends Mn{constructor(n){super(n,Fo,ft(n.event.target))}}Wo.activators=[{eventName:"onMouseDown",handler:(t,n)=>{let{nativeEvent:e}=t,{onActivation:r}=n;return e.button===En.RightClick?!1:(r==null||r({event:e}),!0)}}];const pn={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class $o extends Mn{constructor(n){super(n,pn)}static setup(){return window.addEventListener(pn.move.name,n,{capture:!1,passive:!1}),function(){window.removeEventListener(pn.move.name,n)};function n(){}}}$o.activators=[{eventName:"onTouchStart",handler:(t,n)=>{let{nativeEvent:e}=t,{onActivation:r}=n;const{touches:s}=e;return s.length>1?!1:(r==null||r({event:e}),!0)}}];var wt;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(wt||(wt={}));var $t;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})($t||($t={}));function Xo(t){let{acceleration:n,activator:e=wt.Pointer,canScroll:r,draggingRect:s,enabled:a,interval:l=5,order:c=$t.TreeOrder,pointerCoordinates:m,scrollableAncestors:p,scrollableAncestorRects:f,delta:g,threshold:b}=t;const h=Zo({delta:g,disabled:!a}),[k,x]=so(),y=d.useRef({x:0,y:0}),D=d.useRef({x:0,y:0}),S=d.useMemo(()=>{switch(e){case wt.Pointer:return m?{top:m.y,bottom:m.y,left:m.x,right:m.x}:null;case wt.DraggableRect:return s}},[e,s,m]),V=d.useRef(null),j=d.useCallback(()=>{const U=V.current;if(!U)return;const E=y.current.x*D.current.x,L=y.current.y*D.current.y;U.scrollBy(E,L)},[]),R=d.useMemo(()=>c===$t.TreeOrder?[...p].reverse():p,[c,p]);d.useEffect(()=>{if(!a||!p.length||!S){x();return}for(const U of R){if((r==null?void 0:r(U))===!1)continue;const E=p.indexOf(U),L=f[E];if(!L)continue;const{direction:A,speed:z}=Bo(U,L,S,n,b);for(const H of["x","y"])h[H][A[H]]||(z[H]=0,A[H]=0);if(z.x>0||z.y>0){x(),V.current=U,k(j,l),y.current=z,D.current=A;return}}y.current={x:0,y:0},D.current={x:0,y:0},x()},[n,j,r,x,a,l,JSON.stringify(S),JSON.stringify(h),k,p,R,f,JSON.stringify(b)])}const Yo={x:{[ne.Backward]:!1,[ne.Forward]:!1},y:{[ne.Backward]:!1,[ne.Forward]:!1}};function Zo(t){let{delta:n,disabled:e}=t;const r=Cn(n);return jt(s=>{if(e||!r||!s)return Yo;const a={x:Math.sign(n.x-r.x),y:Math.sign(n.y-r.y)};return{x:{[ne.Backward]:s.x[ne.Backward]||a.x===-1,[ne.Forward]:s.x[ne.Forward]||a.x===1},y:{[ne.Backward]:s.y[ne.Backward]||a.y===-1,[ne.Forward]:s.y[ne.Forward]||a.y===1}}},[e,n,r])}function Go(t,n){const e=n!=null?t.get(n):void 0,r=e?e.node.current:null;return jt(s=>{var a;return n==null?null:(a=r??s)!=null?a:null},[r,n])}function qo(t,n){return d.useMemo(()=>t.reduce((e,r)=>{const{sensor:s}=r,a=s.activators.map(l=>({eventName:l.eventName,handler:n(l.handler,r)}));return[...e,...a]},[]),[t,n])}var Lt;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(Lt||(Lt={}));var An;(function(t){t.Optimized="optimized"})(An||(An={}));const br=new Map;function Ko(t,n){let{dragging:e,dependencies:r,config:s}=n;const[a,l]=d.useState(null),{frequency:c,measure:m,strategy:p}=s,f=d.useRef(t),g=y(),b=Et(g),h=d.useCallback(function(D){D===void 0&&(D=[]),!b.current&&l(S=>S===null?D:S.concat(D.filter(V=>!S.includes(V))))},[b]),k=d.useRef(null),x=jt(D=>{if(g&&!e)return br;if(!D||D===br||f.current!==t||a!=null){const S=new Map;for(let V of t){if(!V)continue;if(a&&a.length>0&&!a.includes(V.id)&&V.rect.current){S.set(V.id,V.rect.current);continue}const j=V.node.current,R=j?new Hn(m(j),j):null;V.rect.current=R,R&&S.set(V.id,R)}return S}return D},[t,a,e,g,m]);return d.useEffect(()=>{f.current=t},[t]),d.useEffect(()=>{g||h()},[e,g]),d.useEffect(()=>{a&&a.length>0&&l(null)},[JSON.stringify(a)]),d.useEffect(()=>{g||typeof c!="number"||k.current!==null||(k.current=setTimeout(()=>{h(),k.current=null},c))},[c,g,h,...r]),{droppableRects:x,measureDroppableContainers:h,measuringScheduled:a!=null};function y(){switch(p){case Lt.Always:return!1;case Lt.BeforeDragging:return e;default:return!e}}}function $r(t,n){return jt(e=>t?e||(typeof n=="function"?n(t):t):null,[n,t])}function Jo(t,n){return $r(t,n)}function Qo(t){let{callback:n,disabled:e}=t;const r=Rn(n),s=d.useMemo(()=>{if(e||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:a}=window;return new a(r)},[r,e]);return d.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function qt(t){let{callback:n,disabled:e}=t;const r=Rn(n),s=d.useMemo(()=>{if(e||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:a}=window;return new a(r)},[e]);return d.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function ei(t){return new Hn(gt(t),t)}function vr(t,n,e){n===void 0&&(n=ei);const[r,s]=d.useState(null);function a(){s(m=>{if(!t)return null;if(t.isConnected===!1){var p;return(p=m??e)!=null?p:null}const f=n(t);return JSON.stringify(m)===JSON.stringify(f)?m:f})}const l=Qo({callback(m){if(t)for(const p of m){const{type:f,target:g}=p;if(f==="childList"&&g instanceof HTMLElement&&g.contains(t)){a();break}}}}),c=qt({callback:a});return ze(()=>{a(),t?(c==null||c.observe(t),l==null||l.observe(document.body,{childList:!0,subtree:!0})):(c==null||c.disconnect(),l==null||l.disconnect())},[t]),r}function ti(t){const n=$r(t);return Ir(t,n)}const xr=[];function ni(t){const n=d.useRef(t),e=jt(r=>t?r&&r!==xr&&t&&n.current&&t.parentNode===n.current.parentNode?r:Gt(t):xr,[t]);return d.useEffect(()=>{n.current=t},[t]),e}function ri(t){const[n,e]=d.useState(null),r=d.useRef(t),s=d.useCallback(a=>{const l=un(a.target);l&&e(c=>c?(c.set(l,Vn(l)),new Map(c)):null)},[]);return d.useEffect(()=>{const a=r.current;if(t!==a){l(a);const c=t.map(m=>{const p=un(m);return p?(p.addEventListener("scroll",s,{passive:!0}),[p,Vn(p)]):null}).filter(m=>m!=null);e(c.length?new Map(c):null),r.current=t}return()=>{l(t),l(a)};function l(c){c.forEach(m=>{const p=un(m);p==null||p.removeEventListener("scroll",s)})}},[s,t]),d.useMemo(()=>t.length?n?Array.from(n.values()).reduce((a,l)=>ut(a,l),Me):Fr(t):Me,[t,n])}function Nr(t,n){n===void 0&&(n=[]);const e=d.useRef(null);return d.useEffect(()=>{e.current=null},n),d.useEffect(()=>{const r=t!==Me;r&&!e.current&&(e.current=t),!r&&e.current&&(e.current=null)},[t]),e.current?At(t,e.current):Me}function si(t){d.useEffect(()=>{if(!Zt)return;const n=t.map(e=>{let{sensor:r}=e;return r.setup==null?void 0:r.setup()});return()=>{for(const e of n)e==null||e()}},t.map(n=>{let{sensor:e}=n;return e}))}function oi(t,n){return d.useMemo(()=>t.reduce((e,r)=>{let{eventName:s,handler:a}=r;return e[s]=l=>{a(l,n)},e},{}),[t,n])}function Xr(t){return d.useMemo(()=>t?Ao(t):null,[t])}const yr=[];function ii(t,n){n===void 0&&(n=gt);const[e]=t,r=Xr(e?Ne(e):null),[s,a]=d.useState(yr);function l(){a(()=>t.length?t.map(m=>zr(m)?r:new Hn(n(m),m)):yr)}const c=qt({callback:l});return ze(()=>{c==null||c.disconnect(),l(),t.forEach(m=>c==null?void 0:c.observe(m))},[t]),s}function ai(t){if(!t)return null;if(t.children.length>1)return t;const n=t.children[0];return _t(n)?n:t}function li(t){let{measure:n}=t;const[e,r]=d.useState(null),s=d.useCallback(p=>{for(const{target:f}of p)if(_t(f)){r(g=>{const b=n(f);return g?{...g,width:b.width,height:b.height}:b});break}},[n]),a=qt({callback:s}),l=d.useCallback(p=>{const f=ai(p);a==null||a.disconnect(),f&&(a==null||a.observe(f)),r(f?n(f):null)},[n,a]),[c,m]=Ft(l);return d.useMemo(()=>({nodeRef:c,rect:e,setRef:m}),[e,c,m])}const ci=[{sensor:Pn,options:{}},{sensor:In,options:{}}],di={current:{}},zt={draggable:{measure:pr},droppable:{measure:pr,strategy:Lt.WhileDragging,frequency:An.Optimized},dragOverlay:{measure:gt}};class Ct extends Map{get(n){var e;return n!=null&&(e=super.get(n))!=null?e:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(n=>{let{disabled:e}=n;return!e})}getNodeFor(n){var e,r;return(e=(r=this.get(n))==null?void 0:r.node.current)!=null?e:void 0}}const ui={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Ct,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Wt},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:zt,measureDroppableContainers:Wt,windowRect:null,measuringScheduled:!1},mi={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Wt,draggableNodes:new Map,over:null,measureDroppableContainers:Wt},Kt=d.createContext(mi),Yr=d.createContext(ui);function pi(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Ct}}}function fi(t,n){switch(n.type){case q.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:n.initialCoordinates,active:n.active}};case q.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:n.coordinates.x-t.draggable.initialCoordinates.x,y:n.coordinates.y-t.draggable.initialCoordinates.y}}};case q.DragEnd:case q.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case q.RegisterDroppable:{const{element:e}=n,{id:r}=e,s=new Ct(t.droppable.containers);return s.set(r,e),{...t,droppable:{...t.droppable,containers:s}}}case q.SetDroppableDisabled:{const{id:e,key:r,disabled:s}=n,a=t.droppable.containers.get(e);if(!a||r!==a.key)return t;const l=new Ct(t.droppable.containers);return l.set(e,{...a,disabled:s}),{...t,droppable:{...t.droppable,containers:l}}}case q.UnregisterDroppable:{const{id:e,key:r}=n,s=t.droppable.containers.get(e);if(!s||r!==s.key)return t;const a=new Ct(t.droppable.containers);return a.delete(e),{...t,droppable:{...t.droppable,containers:a}}}default:return t}}function gi(t){let{disabled:n}=t;const{active:e,activatorEvent:r,draggableNodes:s}=d.useContext(Kt),a=Cn(r),l=Cn(e==null?void 0:e.id);return d.useEffect(()=>{if(!n&&!r&&a&&l!=null){if(!Un(a)||document.activeElement===a.target)return;const c=s.get(l);if(!c)return;const{activatorNode:m,node:p}=c;if(!m.current&&!p.current)return;requestAnimationFrame(()=>{for(const f of[m.current,p.current]){if(!f)continue;const g=ao(f);if(g){g.focus();break}}})}},[r,n,s,l,a]),null}function hi(t,n){let{transform:e,...r}=n;return t!=null&&t.length?t.reduce((s,a)=>a({transform:s,...r}),e):e}function bi(t){return d.useMemo(()=>({draggable:{...zt.draggable,...t==null?void 0:t.draggable},droppable:{...zt.droppable,...t==null?void 0:t.droppable},dragOverlay:{...zt.dragOverlay,...t==null?void 0:t.dragOverlay}}),[t==null?void 0:t.draggable,t==null?void 0:t.droppable,t==null?void 0:t.dragOverlay])}function vi(t){let{activeNode:n,measure:e,initialRect:r,config:s=!0}=t;const a=d.useRef(!1),{x:l,y:c}=typeof s=="boolean"?{x:s,y:s}:s;ze(()=>{if(!l&&!c||!n){a.current=!1;return}if(a.current||!r)return;const p=n==null?void 0:n.node.current;if(!p||p.isConnected===!1)return;const f=e(p),g=Ir(f,r);if(l||(g.x=0),c||(g.y=0),a.current=!0,Math.abs(g.x)>0||Math.abs(g.y)>0){const b=Mr(p);b&&b.scrollBy({top:g.y,left:g.x})}},[n,l,c,r,e])}const Zr=d.createContext({...Me,scaleX:1,scaleY:1});var Je;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(Je||(Je={}));const fn=d.memo(function(n){var e,r,s,a;let{id:l,accessibility:c,autoScroll:m=!0,children:p,sensors:f=ci,collisionDetection:g=ko,measuring:b,modifiers:h,...k}=n;const x=d.useReducer(fi,void 0,pi),[y,D]=x,[S,V]=fo(),[j,R]=d.useState(Je.Uninitialized),U=j===Je.Initialized,{draggable:{active:E,nodes:L,translate:A},droppable:{containers:z}}=y,H=E!=null?L.get(E):null,K=d.useRef({initial:null,translated:null}),_=d.useMemo(()=>{var Z;return E!=null?{id:E,data:(Z=H==null?void 0:H.data)!=null?Z:di,rect:K}:null},[E,H]),$=d.useRef(null),[$e,Ve]=d.useState(null),[O,Xe]=d.useState(null),C=Et(k,Object.values(k)),oe=Bt("DndDescribedBy",l),re=d.useMemo(()=>z.getEnabled(),[z]),J=bi(b),{droppableRects:Re,measureDroppableContainers:Ue,measuringScheduled:Qe}=Ko(re,{dragging:U,dependencies:[A.x,A.y],config:J.droppable}),me=Go(L,E),pe=d.useMemo(()=>O?Sn(O):null,[O]),Q=en(),he=Jo(me,J.draggable.measure);vi({activeNode:E!=null?L.get(E):null,config:Q.layoutShiftCompensation,initialRect:he,measure:J.draggable.measure});const M=vr(me,J.draggable.measure,he),be=vr(me?me.parentElement:null),ye=d.useRef({activatorEvent:null,active:null,activeNode:me,collisionRect:null,collisions:null,droppableRects:Re,draggableNodes:L,draggingNode:null,draggingNodeRect:null,droppableContainers:z,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),W=z.getNodeFor((e=ye.current.over)==null?void 0:e.id),Ee=li({measure:J.dragOverlay.measure}),ee=(r=Ee.nodeRef.current)!=null?r:me,Ae=U?(s=Ee.rect)!=null?s:M:null,et=!!(Ee.nodeRef.current&&Ee.rect),Pe=ti(et?null:M),Te=Xr(ee?Ne(ee):null),ke=ni(U?W??me:null),ie=ii(ke),Ye=hi(h,{transform:{x:A.x-Pe.x,y:A.y-Pe.y,scaleX:1,scaleY:1},activatorEvent:O,active:_,activeNodeRect:M,containerNodeRect:be,draggingNodeRect:Ae,over:ye.current.over,overlayNodeRect:Ee.rect,scrollableAncestors:ke,scrollableAncestorRects:ie,windowRect:Te}),Jt=pe?ut(pe,A):null,it=ri(ke),Qt=Nr(it),at=Nr(it,[M]),Y=ut(Ye,Qt),X=Ae?Co(Ae,Ye):null,ae=_&&X?g({active:_,collisionRect:X,droppableRects:Re,droppableContainers:re,pointerCoordinates:Jt}):null,le=Hr(ae,"id"),[Le,lt]=d.useState(null),ct=et?Ye:ut(Ye,at),ht=Do(ct,(a=Le==null?void 0:Le.rect)!=null?a:null,M),tt=d.useRef(null),Oe=d.useCallback((Z,fe)=>{let{sensor:se,options:He}=fe;if($.current==null)return;const ce=L.get($.current);if(!ce)return;const de=Z.nativeEvent,ge=new se({active:$.current,activeNode:ce,event:de,options:He,context:ye,onAbort(F){if(!L.get(F))return;const{onDragAbort:we}=C.current,Ce={id:F};we==null||we(Ce),S({type:"onDragAbort",event:Ce})},onPending(F,_e,we,Ce){if(!L.get(F))return;const{onDragPending:qe}=C.current,Ie={id:F,constraint:_e,initialCoordinates:we,offset:Ce};qe==null||qe(Ie),S({type:"onDragPending",event:Ie})},onStart(F){const _e=$.current;if(_e==null)return;const we=L.get(_e);if(!we)return;const{onDragStart:Ce}=C.current,Ge={activatorEvent:de,active:{id:_e,data:we.data,rect:K}};kt.unstable_batchedUpdates(()=>{Ce==null||Ce(Ge),R(Je.Initializing),D({type:q.DragStart,initialCoordinates:F,active:_e}),S({type:"onDragStart",event:Ge}),Ve(tt.current),Xe(de)})},onMove(F){D({type:q.DragMove,coordinates:F})},onEnd:De(q.DragEnd),onCancel:De(q.DragCancel)});tt.current=ge;function De(F){return async function(){const{active:we,collisions:Ce,over:Ge,scrollAdjustedTranslate:qe}=ye.current;let Ie=null;if(we&&qe){const{cancelDrop:Se}=C.current;Ie={activatorEvent:de,active:we,collisions:Ce,delta:qe,over:Ge},F===q.DragEnd&&typeof Se=="function"&&await Promise.resolve(Se(Ie))&&(F=q.DragCancel)}$.current=null,kt.unstable_batchedUpdates(()=>{D({type:F}),R(Je.Uninitialized),lt(null),Ve(null),Xe(null),tt.current=null;const Se=F===q.DragEnd?"onDragEnd":"onDragCancel";if(Ie){const Ke=C.current[Se];Ke==null||Ke(Ie),S({type:Se,event:Ie})}})}}},[L]),bt=d.useCallback((Z,fe)=>(se,He)=>{const ce=se.nativeEvent,de=L.get(He);if($.current!==null||!de||ce.dndKit||ce.defaultPrevented)return;const ge={active:de};Z(se,fe.options,ge)===!0&&(ce.dndKit={capturedBy:fe.sensor},$.current=He,Oe(se,fe))},[L,Oe]),Fe=qo(f,bt);si(f),ze(()=>{M&&j===Je.Initializing&&R(Je.Initialized)},[M,j]),d.useEffect(()=>{const{onDragMove:Z}=C.current,{active:fe,activatorEvent:se,collisions:He,over:ce}=ye.current;if(!fe||!se)return;const de={active:fe,activatorEvent:se,collisions:He,delta:{x:Y.x,y:Y.y},over:ce};kt.unstable_batchedUpdates(()=>{Z==null||Z(de),S({type:"onDragMove",event:de})})},[Y.x,Y.y]),d.useEffect(()=>{const{active:Z,activatorEvent:fe,collisions:se,droppableContainers:He,scrollAdjustedTranslate:ce}=ye.current;if(!Z||$.current==null||!fe||!ce)return;const{onDragOver:de}=C.current,ge=He.get(le),De=ge&&ge.rect.current?{id:ge.id,rect:ge.rect.current,data:ge.data,disabled:ge.disabled}:null,F={active:Z,activatorEvent:fe,collisions:se,delta:{x:ce.x,y:ce.y},over:De};kt.unstable_batchedUpdates(()=>{lt(De),de==null||de(F),S({type:"onDragOver",event:F})})},[le]),ze(()=>{ye.current={activatorEvent:O,active:_,activeNode:me,collisionRect:X,collisions:ae,droppableRects:Re,draggableNodes:L,draggingNode:ee,draggingNodeRect:Ae,droppableContainers:z,over:Le,scrollableAncestors:ke,scrollAdjustedTranslate:Y},K.current={initial:Ae,translated:X}},[_,me,ae,X,L,ee,Ae,Re,z,Le,ke,Y]),Xo({...Q,delta:A,draggingRect:X,pointerCoordinates:Jt,scrollableAncestors:ke,scrollableAncestorRects:ie});const dt=d.useMemo(()=>({active:_,activeNode:me,activeNodeRect:M,activatorEvent:O,collisions:ae,containerNodeRect:be,dragOverlay:Ee,draggableNodes:L,droppableContainers:z,droppableRects:Re,over:Le,measureDroppableContainers:Ue,scrollableAncestors:ke,scrollableAncestorRects:ie,measuringConfiguration:J,measuringScheduled:Qe,windowRect:Te}),[_,me,M,O,ae,be,Ee,L,z,Re,Le,Ue,ke,ie,J,Qe,Te]),Ze=d.useMemo(()=>({activatorEvent:O,activators:Fe,active:_,activeNodeRect:M,ariaDescribedById:{draggable:oe},dispatch:D,draggableNodes:L,over:Le,measureDroppableContainers:Ue}),[O,Fe,_,M,D,oe,L,Le,Ue]);return xe.createElement(Br.Provider,{value:V},xe.createElement(Kt.Provider,{value:Ze},xe.createElement(Yr.Provider,{value:dt},xe.createElement(Zr.Provider,{value:ht},p)),xe.createElement(gi,{disabled:(c==null?void 0:c.restoreFocus)===!1})),xe.createElement(bo,{...c,hiddenTextDescribedById:oe}));function en(){const Z=($e==null?void 0:$e.autoScrollEnabled)===!1,fe=typeof m=="object"?m.enabled===!1:m===!1,se=U&&!Z&&!fe;return typeof m=="object"?{...m,enabled:se}:{enabled:se}}}),xi=d.createContext(null),kr="button",Ni="Draggable";function yi(t){let{id:n,data:e,disabled:r=!1,attributes:s}=t;const a=Bt(Ni),{activators:l,activatorEvent:c,active:m,activeNodeRect:p,ariaDescribedById:f,draggableNodes:g,over:b}=d.useContext(Kt),{role:h=kr,roleDescription:k="draggable",tabIndex:x=0}=s??{},y=(m==null?void 0:m.id)===n,D=d.useContext(y?Zr:xi),[S,V]=Ft(),[j,R]=Ft(),U=oi(l,n),E=Et(e);ze(()=>(g.set(n,{id:n,key:a,node:S,activatorNode:j,data:E}),()=>{const A=g.get(n);A&&A.key===a&&g.delete(n)}),[g,n]);const L=d.useMemo(()=>({role:h,tabIndex:x,"aria-disabled":r,"aria-pressed":y&&h===kr?!0:void 0,"aria-roledescription":k,"aria-describedby":f.draggable}),[r,h,x,y,k,f.draggable]);return{active:m,activatorEvent:c,activeNodeRect:p,attributes:L,isDragging:y,listeners:r?void 0:U,node:S,over:b,setNodeRef:V,setActivatorNodeRef:R,transform:D}}function ki(){return d.useContext(Yr)}const Di="Droppable",wi={timeout:25};function Ci(t){let{data:n,disabled:e=!1,id:r,resizeObserverConfig:s}=t;const a=Bt(Di),{active:l,dispatch:c,over:m,measureDroppableContainers:p}=d.useContext(Kt),f=d.useRef({disabled:e}),g=d.useRef(!1),b=d.useRef(null),h=d.useRef(null),{disabled:k,updateMeasurementsFor:x,timeout:y}={...wi,...s},D=Et(x??r),S=d.useCallback(()=>{if(!g.current){g.current=!0;return}h.current!=null&&clearTimeout(h.current),h.current=setTimeout(()=>{p(Array.isArray(D.current)?D.current:[D.current]),h.current=null},y)},[y]),V=qt({callback:S,disabled:k||!l}),j=d.useCallback((L,A)=>{V&&(A&&(V.unobserve(A),g.current=!1),L&&V.observe(L))},[V]),[R,U]=Ft(j),E=Et(n);return d.useEffect(()=>{!V||!R.current||(V.disconnect(),g.current=!1,V.observe(R.current))},[R,V]),d.useEffect(()=>(c({type:q.RegisterDroppable,element:{id:r,key:a,disabled:e,node:R,rect:b,data:E}}),()=>c({type:q.UnregisterDroppable,key:a,id:r})),[r]),d.useEffect(()=>{e!==f.current.disabled&&(c({type:q.SetDroppableDisabled,id:r,key:a,disabled:e}),f.current.disabled=e)},[r,a,e,c]),{active:l,rect:b,isOver:(m==null?void 0:m.id)===r,node:R,over:m,setNodeRef:U}}function St(t,n,e){const r=t.slice();return r.splice(e<0?r.length+e:e,0,r.splice(n,1)[0]),r}function Si(t,n){return t.reduce((e,r,s)=>{const a=n.get(r);return a&&(e[s]=a),e},Array(t.length))}function Ut(t){return t!==null&&t>=0}function Vi(t,n){if(t===n)return!0;if(t.length!==n.length)return!1;for(let e=0;e<t.length;e++)if(t[e]!==n[e])return!1;return!0}function Ei(t){return typeof t=="boolean"?{draggable:t,droppable:t}:t}const Tn=t=>{let{rects:n,activeIndex:e,overIndex:r,index:s}=t;const a=St(n,r,e),l=n[s],c=a[s];return!c||!l?null:{x:c.left-l.left,y:c.top-l.top,scaleX:c.width/l.width,scaleY:c.height/l.height}},Ht={scaleX:1,scaleY:1},Dr=t=>{var n;let{activeIndex:e,activeNodeRect:r,index:s,rects:a,overIndex:l}=t;const c=(n=a[e])!=null?n:r;if(!c)return null;if(s===e){const p=a[l];return p?{x:0,y:e<l?p.top+p.height-(c.top+c.height):p.top-c.top,...Ht}:null}const m=Ai(a,s,e);return s>e&&s<=l?{x:0,y:-c.height-m,...Ht}:s<e&&s>=l?{x:0,y:c.height+m,...Ht}:{x:0,y:0,...Ht}};function Ai(t,n,e){const r=t[n],s=t[n-1],a=t[n+1];return r?e<n?s?r.top-(s.top+s.height):a?a.top-(r.top+r.height):0:a?a.top-(r.top+r.height):s?r.top-(s.top+s.height):0:0}const Gr="Sortable",qr=xe.createContext({activeIndex:-1,containerId:Gr,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Tn,disabled:{draggable:!1,droppable:!1}});function gn(t){let{children:n,id:e,items:r,strategy:s=Tn,disabled:a=!1}=t;const{active:l,dragOverlay:c,droppableRects:m,over:p,measureDroppableContainers:f}=ki(),g=Bt(Gr,e),b=c.rect!==null,h=d.useMemo(()=>r.map(U=>typeof U=="object"&&"id"in U?U.id:U),[r]),k=l!=null,x=l?h.indexOf(l.id):-1,y=p?h.indexOf(p.id):-1,D=d.useRef(h),S=!Vi(h,D.current),V=y!==-1&&x===-1||S,j=Ei(a);ze(()=>{S&&k&&f(h)},[S,h,k,f]),d.useEffect(()=>{D.current=h},[h]);const R=d.useMemo(()=>({activeIndex:x,containerId:g,disabled:j,disableTransforms:V,items:h,overIndex:y,useDragOverlay:b,sortedRects:Si(h,m),strategy:s}),[x,g,j.draggable,j.droppable,V,h,y,m,b,s]);return xe.createElement(qr.Provider,{value:R},n)}const Li=t=>{let{id:n,items:e,activeIndex:r,overIndex:s}=t;return St(e,r,s).indexOf(n)},_i=t=>{let{containerId:n,isSorting:e,wasDragging:r,index:s,items:a,newIndex:l,previousItems:c,previousContainerId:m,transition:p}=t;return!p||!r||c!==a&&s===l?!1:e?!0:l!==s&&n===m},ji={duration:200,easing:"ease"},Kr="transform",Bi=ot.Transition.toString({property:Kr,duration:0,easing:"linear"}),Ri={roleDescription:"sortable"};function Ui(t){let{disabled:n,index:e,node:r,rect:s}=t;const[a,l]=d.useState(null),c=d.useRef(e);return ze(()=>{if(!n&&e!==c.current&&r.current){const m=s.current;if(m){const p=gt(r.current,{ignoreTransform:!0}),f={x:m.left-p.left,y:m.top-p.top,scaleX:m.width/p.width,scaleY:m.height/p.height};(f.x||f.y)&&l(f)}}e!==c.current&&(c.current=e)},[n,e,r,s]),d.useEffect(()=>{a&&l(null)},[a]),a}function zn(t){let{animateLayoutChanges:n=_i,attributes:e,disabled:r,data:s,getNewIndex:a=Li,id:l,strategy:c,resizeObserverConfig:m,transition:p=ji}=t;const{items:f,containerId:g,activeIndex:b,disabled:h,disableTransforms:k,sortedRects:x,overIndex:y,useDragOverlay:D,strategy:S}=d.useContext(qr),V=Hi(r,h),j=f.indexOf(l),R=d.useMemo(()=>({sortable:{containerId:g,index:j,items:f},...s}),[g,s,j,f]),U=d.useMemo(()=>f.slice(f.indexOf(l)),[f,l]),{rect:E,node:L,isOver:A,setNodeRef:z}=Ci({id:l,data:R,disabled:V.droppable,resizeObserverConfig:{updateMeasurementsFor:U,...m}}),{active:H,activatorEvent:K,activeNodeRect:_,attributes:$,setNodeRef:$e,listeners:Ve,isDragging:O,over:Xe,setActivatorNodeRef:C,transform:oe}=yi({id:l,data:R,attributes:{...Ri,...e},disabled:V.draggable}),re=ro(z,$e),J=!!H,Re=J&&!k&&Ut(b)&&Ut(y),Ue=!D&&O,Qe=Ue&&Re?oe:null,pe=Re?Qe??(c??S)({rects:x,activeNodeRect:_,activeIndex:b,overIndex:y,index:j}):null,Q=Ut(b)&&Ut(y)?a({id:l,items:f,activeIndex:b,overIndex:y}):j,he=H==null?void 0:H.id,M=d.useRef({activeId:he,items:f,newIndex:Q,containerId:g}),be=f!==M.current.items,ye=n({active:H,containerId:g,isDragging:O,isSorting:J,id:l,index:j,items:f,newIndex:M.current.newIndex,previousItems:M.current.items,previousContainerId:M.current.containerId,transition:p,wasDragging:M.current.activeId!=null}),W=Ui({disabled:!ye,index:j,node:L,rect:E});return d.useEffect(()=>{J&&M.current.newIndex!==Q&&(M.current.newIndex=Q),g!==M.current.containerId&&(M.current.containerId=g),f!==M.current.items&&(M.current.items=f)},[J,Q,g,f]),d.useEffect(()=>{if(he===M.current.activeId)return;if(he&&!M.current.activeId){M.current.activeId=he;return}const ee=setTimeout(()=>{M.current.activeId=he},50);return()=>clearTimeout(ee)},[he]),{active:H,activeIndex:b,attributes:$,data:R,rect:E,index:j,newIndex:Q,items:f,isOver:A,isSorting:J,isDragging:O,listeners:Ve,node:L,overIndex:y,over:Xe,setNodeRef:re,setActivatorNodeRef:C,setDroppableNodeRef:z,setDraggableNodeRef:$e,transform:W??pe,transition:Ee()};function Ee(){if(W||be&&M.current.newIndex===j)return Bi;if(!(Ue&&!Un(K)||!p)&&(J||ye))return ot.Transition.toString({...p,property:Kr})}}function Hi(t,n){var e,r;return typeof t=="boolean"?{draggable:t,droppable:!1}:{draggable:(e=t==null?void 0:t.draggable)!=null?e:n.draggable,droppable:(r=t==null?void 0:t.droppable)!=null?r:n.droppable}}function Xt(t){if(!t)return!1;const n=t.data.current;return!!(n&&"sortable"in n&&typeof n.sortable=="object"&&"containerId"in n.sortable&&"items"in n.sortable&&"index"in n.sortable)}const Ii=[I.Down,I.Right,I.Up,I.Left],Mi=(t,n)=>{let{context:{active:e,collisionRect:r,droppableRects:s,droppableContainers:a,over:l,scrollableAncestors:c}}=n;if(Ii.includes(t.code)){if(t.preventDefault(),!e||!r)return;const m=[];a.getEnabled().forEach(g=>{if(!g||g!=null&&g.disabled)return;const b=s.get(g.id);if(b)switch(t.code){case I.Down:r.top<b.top&&m.push(g);break;case I.Up:r.top>b.top&&m.push(g);break;case I.Left:r.left>b.left&&m.push(g);break;case I.Right:r.left<b.left&&m.push(g);break}});const p=No({collisionRect:r,droppableRects:s,droppableContainers:m});let f=Hr(p,"id");if(f===(l==null?void 0:l.id)&&p.length>1&&(f=p[1].id),f!=null){const g=a.get(e.id),b=a.get(f),h=b?s.get(b.id):null,k=b==null?void 0:b.node.current;if(k&&h&&g&&b){const y=Gt(k).some((U,E)=>c[E]!==U),D=Jr(g,b),S=Pi(g,b),V=y||!D?{x:0,y:0}:{x:S?r.width-h.width:0,y:S?r.height-h.height:0},j={x:h.left,y:h.top};return V.x&&V.y?j:At(j,V)}}}};function Jr(t,n){return!Xt(t)||!Xt(n)?!1:t.data.current.sortable.containerId===n.data.current.sortable.containerId}function Pi(t,n){return!Xt(t)||!Xt(n)||!Jr(t,n)?!1:t.data.current.sortable.index<n.data.current.sortable.index}const Ln=t=>{if(!t)return"";const n=t.split(",").map(c=>c.trim());if(n.length===0)return"";if(n.length===1)return n[0]==="하이엔드"?"하이":n[0];const e=["알뜰","기본","고급","하이엔드"],r=n.sort((c,m)=>e.indexOf(c)-e.indexOf(m)),s=r[0],a=r[r.length-1];return`${s}-${a==="하이엔드"?"하이":a}`},_n=t=>{if(!t)return"";const n=t.split(",").map(e=>e.trim());return n.includes("하이엔드")?"bg-purple-100 text-purple-700":n.includes("고급")?"bg-blue-100 text-blue-700":n.includes("기본")?"bg-green-100 text-green-700":n.includes("알뜰")?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700"},Ti=({id:t,fileData:n,index:e,onDelete:r,onFileClick:s})=>{const{attributes:a,listeners:l,setNodeRef:c,transform:m,transition:p,isDragging:f}=zn({id:t}),g={transform:ot.Transform.toString(m),transition:p,opacity:f?.5:1,zIndex:f?100:1},b=n.includes("|")&&!n.startsWith("data:image"),h=b?n.split("|")[0]:"",k=b?n.split("|")[1]:n,x=k.startsWith("data:image"),y=k.startsWith("data:application/pdf"),D=k.includes("wordprocessingml")||k.includes("msword"),S=k.includes("spreadsheetml")||k.includes("ms-excel"),V=k.includes("presentationml")||k.includes("ms-powerpoint"),j=k.includes("application/zip"),R=k.startsWith("data:text/plain"),U=h.endsWith(".hwp")||k.includes("x-hwp"),E=h.toLowerCase().endsWith(".dwg")||k.includes("autocad")||k.includes("vnd.dwg"),L=h.toLowerCase().endsWith(".dxf"),A=h.toLowerCase().endsWith(".skp"),z=h.toLowerCase().endsWith(".3dm"),K=y?{color:"text-red-600",label:"PDF"}:D?{color:"text-blue-600",label:"DOC"}:S?{color:"text-green-600",label:"XLS"}:V?{color:"text-orange-600",label:"PPT"}:j?{color:"text-yellow-600",label:"ZIP"}:R?{color:"text-gray-600",label:"TXT"}:U?{color:"text-sky-600",label:"HWP"}:E?{color:"text-purple-600",label:"DWG"}:L?{color:"text-violet-600",label:"DXF"}:A?{color:"text-amber-600",label:"SKP"}:z?{color:"text-teal-600",label:"3DM"}:{color:"text-gray-600",label:"FILE"};return i.jsxDEV("div",{ref:c,style:g,className:"relative group",children:[i.jsxDEV("div",{...a,...l,className:"absolute top-2 left-2 p-1.5 bg-gray-700 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity cursor-grab active:cursor-grabbing z-10 touch-none",title:"드래그하여 순서 변경",children:i.jsxDEV("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 8h16M4 16h16"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:160,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:159,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:153,columnNumber:7},void 0),i.jsxDEV("div",{className:"aspect-square bg-gray-100 rounded-lg overflow-hidden border-2 border-gray-200 hover:border-gray-400 transition-colors cursor-pointer",onClick:()=>s(k,h,x,y),children:x?i.jsxDEV("img",{src:k,alt:`상세 이미지 ${e+1}`,className:"w-full h-full object-contain"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:170,columnNumber:11},void 0):i.jsxDEV("div",{className:`w-full h-full flex flex-col items-center justify-center ${K.color}`,children:[i.jsxDEV("svg",{className:"h-12 w-12 mb-2",fill:"currentColor",viewBox:"0 0 24 24",children:[i.jsxDEV("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6z"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:178,columnNumber:15},void 0),i.jsxDEV("path",{d:"M14 2v6h6"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:179,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:177,columnNumber:13},void 0),i.jsxDEV("span",{className:"text-xs font-bold",children:K.label},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:181,columnNumber:13},void 0),h&&i.jsxDEV("span",{className:"text-xs text-gray-500 mt-1 px-2 truncate max-w-full",children:h.length>15?h.slice(0,12)+"...":h},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:183,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:176,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:165,columnNumber:7},void 0),i.jsxDEV("button",{onClick:_=>{_.stopPropagation(),r(e)},className:"absolute top-2 right-2 p-1.5 bg-gray-700 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity hover:bg-gray-800 z-10",children:i.jsxDEV(Vt,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:199,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:192,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:151,columnNumber:5},void 0)},zi=({item:t,onEdit:n,onDelete:e,onImageClick:r})=>{const{attributes:s,listeners:a,setNodeRef:l,transform:c,transition:m,isDragging:p}=zn({id:t.id}),f={transform:ot.Transform.toString(c),transition:m,opacity:p?.5:1};return i.jsxDEV("div",{ref:l,style:f,...s,...a,className:"bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow border border-gray-200 overflow-hidden flex flex-col group relative cursor-move",children:[i.jsxDEV("div",{className:"w-full aspect-square bg-gray-100 flex-shrink-0 relative",children:[t.image_url?i.jsxDEV("img",{src:t.image_url,alt:t.name,className:"w-full h-full object-contain block cursor-pointer",loading:"lazy",onClick:g=>{g.stopPropagation(),r(t)},onPointerDown:g=>g.stopPropagation()},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:244,columnNumber:11},void 0):i.jsxDEV("div",{className:"w-full h-full flex items-center justify-center text-gray-400 text-xs",children:"이미지 없음"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:256,columnNumber:11},void 0),i.jsxDEV("div",{className:"absolute top-2 right-2 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[i.jsxDEV("button",{onClick:g=>{g.stopPropagation(),n(t)},onPointerDown:g=>g.stopPropagation(),className:"p-1.5 bg-white text-gray-700 hover:bg-gray-100 rounded-md shadow-md transition-colors",title:"수정",children:i.jsxDEV(Ot,{className:"w-3.5 h-3.5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:272,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:263,columnNumber:11},void 0),i.jsxDEV("button",{onClick:g=>{g.stopPropagation(),e(t.id)},onPointerDown:g=>g.stopPropagation(),className:"p-1.5 bg-white text-rose-600 hover:bg-rose-50 rounded-md shadow-md transition-colors",title:"삭제",children:i.jsxDEV(Vt,{className:"w-3.5 h-3.5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:283,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:274,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:262,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:242,columnNumber:7},void 0),i.jsxDEV("div",{className:"p-2 pt-1.5 flex flex-col flex-1",children:[i.jsxDEV("div",{className:"flex items-start justify-between mb-1",children:[i.jsxDEV("div",{className:"flex items-center gap-1.5",children:[i.jsxDEV("span",{className:"inline-block px-1.5 py-0.5 text-xs bg-gray-100 text-gray-700 rounded",children:t.category},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:292,columnNumber:13},void 0),t.brand&&i.jsxDEV("span",{className:"text-xs text-gray-500",children:t.brand},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:296,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:291,columnNumber:11},void 0),t.grade&&i.jsxDEV("span",{className:`hidden md:inline-block px-1 py-0.5 text-[10px] rounded ${_n(t.grade)}`,children:Ln(t.grade)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:300,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:290,columnNumber:9},void 0),i.jsxDEV("div",{className:"flex items-baseline justify-between gap-1 mt-auto",children:[i.jsxDEV("div",{className:"flex items-baseline gap-1 min-w-0",children:i.jsxDEV("h3",{className:"font-semibold text-xs text-gray-900 truncate",children:t.name},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:307,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:306,columnNumber:11},void 0),t.price&&i.jsxDEV("span",{className:"hidden md:inline text-xs text-gray-900 font-medium flex-shrink-0",children:[t.price,"원"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:310,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:305,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:289,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:233,columnNumber:5},void 0)},Oi=({category:t,onRemove:n,onEdit:e})=>{const{attributes:r,listeners:s,setNodeRef:a,transform:l,transition:c,isDragging:m}=zn({id:t}),p={transform:ot.Transform.toString(l),transition:c,opacity:m?.5:1};return i.jsxDEV("div",{ref:a,style:p,className:"flex items-center justify-between p-3 hover:bg-gray-50 border-b border-gray-100 last:border-b-0 bg-white",children:[i.jsxDEV("div",{className:"flex items-center gap-2 flex-1 cursor-grab active:cursor-grabbing",...r,...s,children:i.jsxDEV("span",{className:"text-sm text-gray-900",children:t},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:354,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:349,columnNumber:7},void 0),t!=="전체"&&i.jsxDEV("div",{className:"flex items-center gap-1",children:[i.jsxDEV("button",{onClick:f=>{f.stopPropagation(),f.preventDefault(),e(t)},className:"text-gray-600 hover:text-gray-800 transition-colors p-1",title:"수정",type:"button",children:i.jsxDEV(Ot,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:368,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:358,columnNumber:11},void 0),i.jsxDEV("button",{onClick:f=>{f.stopPropagation(),f.preventDefault(),n(t)},className:"text-red-500 hover:text-red-700 transition-colors p-1",title:"삭제",type:"button",children:i.jsxDEV(Vt,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:380,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:370,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:357,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:344,columnNumber:5},void 0)},qi=()=>{var Jn;const{user:t}=Ns(),n=Ds(),e=(t==null?void 0:t.name)==="안팀",{libraryItems:r,libraryLoaded:s,categories:a,categoriesLoaded:l,getLibraryItems:c,loadProjectItems:m,preloadLibrary:p,invalidateLibrary:f,invalidateProject:g,addItemToCache:b,updateItemInCache:h,removeItemFromCache:k}=ys(),[x,y]=d.useState(()=>e||localStorage.getItem("specBook_lastProject")?"project":"library"),[D,S]=d.useState([]),[V,j]=d.useState([]),[R,U]=d.useState([]),[E,L]=d.useState([]),[A,z]=d.useState("전체"),[H,K]=d.useState([]),[_,$]=d.useState(()=>{const o=localStorage.getItem("specBook_lastProject");return o?Number(o):null}),[$e,Ve]=d.useState(!1),[O,Xe]=d.useState(null),[C,oe]=d.useState({name:"",category:"",brand:"",price:"",grades:["기본"],imageData:null}),[re,J]=d.useState([]),[Re,Ue]=d.useState(!1),[Qe,me]=d.useState(!1),[pe,Q]=d.useState([]),[he,M]=d.useState(""),[be,ye]=d.useState(!1),[W,Ee]=d.useState(null),[ee,Ae]=d.useState([]),[et,Pe]=d.useState(null),[Te,ke]=d.useState(0),[ie,Ye]=d.useState([]),[Jt,it]=d.useState(!1),[Qt,at]=d.useState(!1),[Y,X]=d.useState(1),[ae,le]=d.useState({x:0,y:0}),[Le,lt]=d.useState(!1),[ct,ht]=d.useState({x:0,y:0}),[tt,Oe]=d.useState(null),[bt,Fe]=d.useState(null),[dt,Ze]=d.useState(!1),[en,Z]=d.useState(0),[fe,se]=d.useState(!1),[He,ce]=d.useState(null),[de,ge]=d.useState(!1),[De,F]=d.useState(null),[_e,we]=d.useState(null),[Ce,Ge]=d.useState(!1),qe=d.useRef(null),Ie=d.useRef(null),Se=d.useRef(null),Ke=d.useRef([]),je=d.useRef(!0),[On,vt]=d.useState(null),[tn,xt]=d.useState(!1),nn=vo(dr(Pn),dr(In,{coordinateGetter:Mi})),Fn=(o,u)=>{const v=o.clientX-u.clientX,N=o.clientY-u.clientY;return Math.sqrt(v*v+N*N)},Wn=(o,u)=>({x:(o.clientX+u.clientX)/2,y:(o.clientY+u.clientY)/2});d.useEffect(()=>(je.current=!0,()=>{je.current=!1}),[]),d.useEffect(()=>{Qr(),Nt()},[l,a,s,r]),d.useEffect(()=>{es()},[n]),d.useEffect(()=>{rt()},[x,A,_,re,s,r]),d.useEffect(()=>{x==="project"&&_&&nt()},[x,_]),d.useEffect(()=>{_&&localStorage.setItem("specBook_lastProject",String(_))},[_]);const Qr=async()=>{if(l&&a.length>0){L(a);return}try{const o=await G.get("/specbook/categories");L(o.data)}catch(o){console.error("카테고리 로드 실패:",o)}},es=async()=>{try{const o=n.map(v=>({id:v.id,title:v.name}));console.log("프로젝트 목록 로드됨:",o.length,"개",o),K(o);const u=localStorage.getItem("specBook_lastProject");if(u&&o.length>0){const v=Number(u);if(o.find(w=>w.id===v)){$(v),y("project");return}}e&&o.length>0&&!_&&($(o[0].id),y("project"))}catch(o){console.error("프로젝트 로드 실패:",o)}},Nt=async(o=!1)=>{if(!o&&s&&r.length>0){je.current&&j(r);return}try{const u=await G.get("/specbook/library/meta");je.current&&(j(u.data),o&&invalidateLibraryCache())}catch(u){console.error("전체 라이브러리 아이템 로드 실패:",u)}},nt=async()=>{if(_)try{const o=await G.get(`/specbook/project/${_}/meta`);U(o.data)}catch(o){console.error("전체 프로젝트 아이템 로드 실패:",o)}},rt=async(o=!1)=>{try{if(x==="library"){if(!o&&s&&r.length>0){const N=c(A!=="전체"?A:void 0,re.length>0?re:void 0);if(je.current){const B=N.slice(0,20);S(B),Ve(!1),N.length>20&&requestAnimationFrame(()=>{je.current&&S(N)})}return}D.length===0&&Ve(!0);const u={};A!=="전체"&&(u.category=A),re.length>0&&(u.grades=re.join(","));const v=await G.get("/specbook/library/meta",{params:u});if(je.current){const N=v.data,w=20,B=N.slice(0,w);S(B),Ve(!1),N.length>w&&requestAnimationFrame(()=>{je.current&&S(N)})}}else{if(!_){S([]),Ve(!1);return}D.length===0&&Ve(!0);const u={};A!=="전체"&&(u.category=A),re.length>0&&(u.grades=re.join(","));const v=await G.get(`/specbook/project/${_}/meta`,{params:u});if(je.current){const N=v.data,w=20,B=N.slice(0,w);S(B),Ve(!1),N.length>w&&requestAnimationFrame(()=>{je.current&&S(N)})}}}catch(u){console.error("스펙북 아이템 로드 실패:",u),je.current&&P.error("스펙북 아이템을 불러오는데 실패했습니다")}finally{je.current&&Ve(!1)}},ts=o=>x==="library"?o==="전체"?V.length:V.filter(u=>u.category===o).length:o==="전체"?R.length:R.filter(u=>u.category===o).length,ns=o=>{o.preventDefault(),Ue(!1);const u=o.dataTransfer.files[0];if(u&&u.type.startsWith("image/")){const v=new FileReader;v.onload=N=>{var w;vt((w=N.target)==null?void 0:w.result),xt(!0)},v.readAsDataURL(u)}},$n=o=>{var v;if(tn||be)return;const u=(v=o.clipboardData)==null?void 0:v.items;if(u){for(let N=0;N<u.length;N++)if(u[N].type.indexOf("image")!==-1){const w=u[N].getAsFile();if(w){const B=new FileReader;B.onload=T=>{var ue;vt((ue=T.target)==null?void 0:ue.result),xt(!0)},B.readAsDataURL(w)}}}};d.useEffect(()=>(document.addEventListener("paste",$n),()=>document.removeEventListener("paste",$n)),[C,tn,be]);const rs=o=>{const u=o.replace(/[^\d]/g,"");return u?u.replace(/\B(?=(\d{3})+(?!\d))/g,","):""},ss=o=>{const u=rs(o.target.value);oe({...C,price:u})},os=async o=>{var u,v;if(o.preventDefault(),!Ce){if(!C.name||!C.category){P.error("제품명과 카테고리는 필수입니다");return}if(C.grades.length===0){P.error("최소 하나의 등급을 선택해주세요");return}Ge(!0);try{const N=C.grades.join(",");if(O){const w={name:C.name,category:C.category,brand:C.brand,price:C.price,grade:N,description:"",imageData:C.imageData,projectId:x==="project"?_:null,isLibrary:x==="library"};await G.put(`/specbook/base64/${O.id}`,w),P.success("스펙북 아이템이 수정되었습니다")}else if(x==="project"&&_){const w={name:C.name,category:C.category,brand:C.brand,price:C.price,grade:N,description:"",imageData:C.imageData,projectId:null,isLibrary:!0};await G.post("/specbook/base64",w);const B={name:C.name,category:C.category,brand:C.brand,price:C.price,grade:N,description:"",imageData:C.imageData,projectId:_,isLibrary:!1};await G.post("/specbook/base64",B),P.success("스펙북 아이템이 라이브러리와 프로젝트에 추가되었습니다")}else{const w={name:C.name,category:C.category,brand:C.brand,price:C.price,grade:N,description:"",imageData:C.imageData,projectId:null,isLibrary:!0};await G.post("/specbook/base64",w),P.success("스펙북 아이템이 추가되었습니다")}Xe(null),oe({name:"",category:A!=="전체"?A:"",brand:"",price:"",grades:["기본"],imageData:null}),invalidateLibraryCache(),rt(!0),(x==="library"||x==="project"&&!O)&&Nt(!0),x==="project"&&_&&nt()}catch(N){console.error("스펙북 아이템 저장 실패:",N),P.error(((v=(u=N.response)==null?void 0:u.data)==null?void 0:v.error)||"저장에 실패했습니다")}finally{Ge(!1)}}},rn=o=>{Xe(o);const u=o.grade?o.grade.includes(",")?o.grade.split(","):[o.grade]:["기본"];oe({name:o.name,category:o.category,brand:o.brand,price:o.price,grades:u,imageData:null}),window.scrollTo({top:0,behavior:"smooth"})},sn=async o=>{if(confirm("정말 삭제하시겠습니까?"))try{await G.delete(`/specbook/${o}`),P.success("스펙북 아이템이 삭제되었습니다"),rt(),x==="library"?Nt():x==="project"&&_&&nt()}catch(u){console.error("삭제 실패:",u),P.error("삭제에 실패했습니다")}},is=()=>{Xe(null),oe({name:"",category:A!=="전체"?A:"",brand:"",price:"",grades:["기본"],imageData:null})},as=o=>{oe({...C,imageData:o}),xt(!1),vt(null)},ls=()=>{xt(!1),vt(null)},on=o=>{Ee(o);const u=o.sub_images||[];Ae(u),Ke.current=u,ye(!0)},cs=o=>{const u=Array.from(o.target.files||[]);an(u)},an=o=>{const u=["image/","application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/zip","application/x-hwp","text/plain","application/acad","application/x-autocad","image/vnd.dwg"],v=[".hwp",".dwg",".skp",".3dm",".dxf"];o.forEach(N=>{const w=N.name.toLowerCase().slice(N.name.lastIndexOf("."));if(u.some(T=>T.endsWith("/")?N.type.startsWith(T):N.type===T)||v.includes(w)){const T=new FileReader;T.onload=ue=>{var Qn;const We=(Qn=ue.target)==null?void 0:Qn.result,ln=N.type.startsWith("image/")?We:`${N.name}|${We}`;Ae(xs=>[...xs,ln])},T.readAsDataURL(N)}else P.error(`지원하지 않는 파일 형식입니다: ${N.name}`)})},ds=o=>{o.preventDefault(),o.stopPropagation(),it(!1);const u=Array.from(o.dataTransfer.files);an(u)},Xn=o=>{var N;if(!be)return;const u=(N=o.clipboardData)==null?void 0:N.items;if(!u)return;const v=[];for(let w=0;w<u.length;w++)if(u[w].type.indexOf("image")!==-1){const B=u[w].getAsFile();B&&v.push(B)}v.length>0&&(an(v),P.success(`${v.length}개의 이미지가 추가되었습니다`))};d.useEffect(()=>{if(be)return document.addEventListener("paste",Xn),()=>document.removeEventListener("paste",Xn)},[be]),d.useEffect(()=>{if(!(!W||!be||!(JSON.stringify(ee)!==JSON.stringify(Ke.current))))return Se.current&&clearTimeout(Se.current),Se.current=setTimeout(async()=>{at(!0);try{await G.put(`/specbook/${W.id}/sub-images`,{sub_images:ee}),Ke.current=ee,rt(),x==="library"?Nt():x==="project"&&_&&nt()}catch(u){console.error("Sub 이미지 자동 저장 실패:",u),P.error("상세 이미지 저장에 실패했습니다")}finally{at(!1)}},1e3),()=>{Se.current&&clearTimeout(Se.current)}},[ee,W,be]);const us=o=>{Ae(u=>u.filter((v,N)=>N!==o))},ms=o=>{const{active:u,over:v}=o;v&&u.id!==v.id&&Ae(N=>{const w=N.findIndex((T,ue)=>`subimg-${ue}`===u.id),B=N.findIndex((T,ue)=>`subimg-${ue}`===v.id);return St(N,w,B)})},ps=(o,u,v,N)=>{if(v){const w=[];W!=null&&W.image_url&&w.push(W.image_url),ee.forEach(T=>{const We=T.includes("|")&&!T.startsWith("data:image")?T.split("|")[1]:T;We.startsWith("data:image")&&w.push(We)}),Ye(w);const B=w.indexOf(o);ke(B>=0?B:0),Pe(o)}else if(N){const w=window.open();w&&w.document.write(`
          <html>
            <head><title>${u||"PDF 파일"}</title></head>
            <body style="margin:0;padding:0;overflow:hidden;">
              <iframe src="${o}" style="width:100%;height:100vh;border:none;"></iframe>
            </body>
          </html>
        `)}else{const w=document.createElement("a");w.href=o,w.download=u||"file",w.click()}},Yn=()=>{if(ie.length<=1)return;const o=Te>0?Te-1:ie.length-1;ke(o),Pe(ie[o]),X(1),le({x:0,y:0})},Zn=()=>{if(ie.length<=1)return;const o=Te<ie.length-1?Te+1:0;ke(o),Pe(ie[o]),X(1),le({x:0,y:0})};d.useEffect(()=>{if(!et)return;const o=u=>{u.key==="ArrowLeft"?(u.preventDefault(),Yn()):u.key==="ArrowRight"?(u.preventDefault(),Zn()):u.key==="Escape"&&(u.preventDefault(),Pe(null),X(1),le({x:0,y:0}),Ye([]))};return window.addEventListener("keydown",o),()=>window.removeEventListener("keydown",o)},[et,Te,ie]);const Gn=async()=>{if(Se.current&&clearTimeout(Se.current),JSON.stringify(ee)!==JSON.stringify(Ke.current)&&W){at(!0);try{await G.put(`/specbook/${W.id}/sub-images`,{sub_images:ee}),rt(),x==="library"?Nt():x==="project"&&_&&nt()}catch(u){console.error("Sub 이미지 저장 실패:",u),P.error("파일 저장에 실패했습니다")}}ye(!1),Ee(null),Ae([]),at(!1)},fs=async o=>{const{active:u,over:v}=o;if(!v||u.id===v.id)return;const N=D.findIndex(B=>B.id===u.id),w=D.findIndex(B=>B.id===v.id);if(N!==-1&&w!==-1){const B=St(D,N,w);S(B);try{await G.put("/specbook/reorder",{items:B.map((T,ue)=>({id:T.id,display_order:ue}))}),P.success("아이템 순서가 업데이트되었습니다")}catch(T){console.error("순서 업데이트 실패:",T),P.error("순서 업데이트 실패"),rt()}}},gs=()=>{Q([...E]),me(!0)},qn=()=>{me(!1),M("")},Kn=async()=>{if(!he.trim()){P.error("카테고리 이름을 입력하세요");return}if(pe.includes(he.trim())){P.error("이미 존재하는 카테고리입니다");return}const o=[...pe,he.trim()];Q(o),M("");try{await G.put("/specbook/categories",{categories:o}),L(o),P.success("카테고리가 추가되었습니다")}catch(u){console.error("카테고리 추가 저장 실패:",u),P.error("카테고리 추가 저장에 실패했습니다"),Q(E)}},hs=async o=>{if(o==="전체"){P.error("전체 카테고리는 수정할 수 없습니다");return}const u=window.prompt("새 카테고리 이름을 입력하세요",o);if(!u||!u.trim()||u.trim()===o)return;if(pe.includes(u.trim())){P.error("이미 존재하는 카테고리입니다");return}const v=pe.map(N=>N===o?u.trim():N);Q(v);try{await G.put("/specbook/categories",{categories:v}),L(v),P.success("카테고리 이름이 변경되었습니다")}catch(N){console.error("카테고리 수정 저장 실패:",N),P.error("카테고리 수정 저장에 실패했습니다"),Q(E)}},bs=async o=>{if(o==="전체"){P.error("전체 카테고리는 삭제할 수 없습니다");return}const u=pe.filter(v=>v!==o);Q(u);try{await G.put("/specbook/categories",{categories:u}),L(u),P.success("카테고리가 삭제되었습니다")}catch(v){console.error("카테고리 삭제 저장 실패:",v),P.error("카테고리 삭제 저장에 실패했습니다"),Q(E)}},vs=async o=>{const{active:u,over:v}=o;if(v&&u.id!==v.id){const N=pe.indexOf(u.id),w=pe.indexOf(v.id),B=St(pe,N,w);Q(B);try{await G.put("/specbook/categories",{categories:B}),L(B),P.success("카테고리 순서가 변경되었습니다")}catch(T){console.error("카테고리 순서 저장 실패:",T),P.error("카테고리 순서 저장에 실패했습니다"),Q(E)}}};return i.jsxDEV("div",{className:"flex flex-col h-[calc(100vh-120px)] bg-gray-50",children:[i.jsxDEV("div",{className:"specbook-container flex-1 flex flex-col md:flex-row gap-4 md:gap-6 overflow-hidden",children:[i.jsxDEV("div",{className:"specbook-sidebar hidden md:flex flex-col gap-4 w-80 lg:w-96 flex-shrink-0",children:[i.jsxDEV("div",{className:"specbook-form bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden flex flex-col",children:i.jsxDEV("form",{onSubmit:os,className:"flex flex-col pt-3",children:[i.jsxDEV("div",{className:"flex flex-col sm:flex-row gap-3 px-3",children:[i.jsxDEV("div",{onDragOver:o=>{o.preventDefault(),Ue(!0)},onDragLeave:()=>Ue(!1),onDrop:ns,className:`w-full sm:w-48 aspect-square flex-shrink-0 border-2 border-dashed rounded-lg flex items-center justify-center cursor-pointer transition-colors ${Re?"border-gray-500 bg-gray-50":"border-gray-300 hover:border-gray-400"}`,onClick:()=>{var o;return(o=qe.current)==null?void 0:o.click()},children:[C.imageData||O!=null&&O.image_url?i.jsxDEV("img",{src:C.imageData||(O==null?void 0:O.image_url)||"",alt:"Preview",className:"w-full h-full object-contain rounded-lg"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1411,columnNumber:23},void 0):i.jsxDEV("div",{className:"text-center",children:[i.jsxDEV(Ss,{className:"w-8 h-8 mx-auto mb-1 text-gray-400"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1418,columnNumber:25},void 0),i.jsxDEV("p",{className:"text-sm text-gray-500",children:"이미지"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1419,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1417,columnNumber:23},void 0),i.jsxDEV("input",{ref:qe,type:"file",accept:"image/*",onChange:o=>{var v;const u=(v=o.target.files)==null?void 0:v[0];if(u){const N=new FileReader;N.onload=w=>{var B;vt((B=w.target)==null?void 0:B.result),xt(!0)},N.readAsDataURL(u)}o.target.value=""},className:"hidden"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1422,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1398,columnNumber:19},void 0),i.jsxDEV("div",{className:"flex-1 flex flex-col gap-2",children:[i.jsxDEV("div",{className:"space-y-1.5",children:[i.jsxDEV("select",{value:C.category,onChange:o=>oe({...C,category:o.target.value}),className:"w-full px-2 py-1.5 text-xs border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-gray-500",required:!0,children:[i.jsxDEV("option",{value:"",children:"카테고리"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1453,columnNumber:25},void 0),E.filter(o=>o!=="전체").map(o=>i.jsxDEV("option",{value:o,children:o},o,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1455,columnNumber:27},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1447,columnNumber:23},void 0),i.jsxDEV("input",{type:"text",value:C.brand,onChange:o=>oe({...C,brand:o.target.value}),className:"w-full px-2 py-1.5 text-xs border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-gray-500",placeholder:"브랜드"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1459,columnNumber:23},void 0),i.jsxDEV("input",{type:"text",value:C.name,onChange:o=>oe({...C,name:o.target.value}),className:"w-full px-2 py-1.5 text-xs border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-gray-500",placeholder:"제품명",required:!0},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1467,columnNumber:23},void 0),i.jsxDEV("div",{className:"relative",children:[i.jsxDEV("input",{type:"text",value:C.price,onChange:ss,className:"w-full px-2 py-1.5 text-xs border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-gray-500 pr-8",placeholder:"가격"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1477,columnNumber:25},void 0),i.jsxDEV("span",{className:"absolute right-2 top-1/2 -translate-y-1/2 text-xs text-gray-500",children:"원"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1484,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1476,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1446,columnNumber:21},void 0),i.jsxDEV("div",{className:"flex gap-1",children:["알뜰","기본","고급","하이"].map((o,u)=>{const v=u===3?"하이엔드":o;return i.jsxDEV("button",{type:"button",onClick:()=>{C.grades.includes(v)?oe({...C,grades:C.grades.filter(N=>N!==v)}):oe({...C,grades:[...C.grades,v]})},className:`flex-1 px-1 py-1 text-xs font-medium rounded transition-colors ${C.grades.includes(v)?v==="하이엔드"?"bg-violet-500 text-white":v==="고급"?"bg-sky-500 text-white":v==="기본"?"bg-emerald-500 text-white":"bg-amber-400 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:o},v,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1493,columnNumber:27},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1489,columnNumber:21},void 0),i.jsxDEV("div",{className:"flex gap-1.5 mt-3",children:[i.jsxDEV("button",{type:"submit",disabled:Ce,className:"flex-1 px-3 py-1.5 text-xs bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors disabled:opacity-50",children:Ce?"저장 중...":O?"수정":"추가"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1520,columnNumber:23},void 0),O&&i.jsxDEV("button",{type:"button",onClick:is,className:"px-3 py-1.5 text-xs bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",children:"취소"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1528,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1519,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1445,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1396,columnNumber:17},void 0),i.jsxDEV("div",{className:"p-3 pt-0"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1541,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1394,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1393,columnNumber:11},void 0),i.jsxDEV("div",{className:"specbook-grade-filter bg-white rounded-lg shadow-sm p-4 border border-gray-200",children:i.jsxDEV("div",{className:"flex items-center gap-3",children:[i.jsxDEV("h3",{className:"text-sm font-semibold text-gray-900 mr-3",children:"등급 필터"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1548,columnNumber:15},void 0),i.jsxDEV("div",{className:"flex gap-2 flex-1",children:[["알뜰","기본","고급","하이엔드"].map(o=>i.jsxDEV("button",{onClick:()=>{re.includes(o)?J(re.filter(u=>u!==o)):J([...re,o])},className:`px-3 py-1.5 rounded text-xs font-medium transition-colors whitespace-nowrap ${re.includes(o)?o==="하이엔드"?"bg-violet-500 text-white":o==="고급"?"bg-sky-500 text-white":o==="기본"?"bg-emerald-500 text-white":"bg-amber-400 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:o},o,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1551,columnNumber:19},void 0)),re.length>0&&i.jsxDEV("button",{onClick:()=>J([]),className:"px-3 py-1.5 rounded text-xs font-medium bg-gray-200 text-gray-700 hover:bg-gray-300 transition-colors whitespace-nowrap",children:"초기화"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1573,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1549,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1547,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1546,columnNumber:11},void 0),i.jsxDEV("div",{className:"specbook-category bg-white rounded-lg shadow-sm p-4 border border-gray-200",children:[i.jsxDEV("div",{className:"flex items-center justify-between mb-3",children:[i.jsxDEV("h3",{className:"text-sm font-semibold text-gray-900",children:["카테고리",x==="project"&&_&&i.jsxDEV("span",{className:"ml-1 text-gray-600",children:["(",(Jn=H.find(o=>o.id===_))==null?void 0:Jn.title,")"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1590,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1587,columnNumber:15},void 0),i.jsxDEV("button",{onClick:gs,className:"p-1 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded transition-colors",title:"카테고리 편집",children:i.jsxDEV(Vs,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1600,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1595,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1586,columnNumber:13},void 0),i.jsxDEV("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:E.map(o=>{const u=ts(o),v=(x==="library"||x==="project"&&_)&&u>0;return i.jsxDEV("button",{onClick:()=>z(o),className:`px-2 py-1.5 rounded text-xs font-medium transition-colors ${A===o?"bg-gray-800 text-white":"bg-gray-50 text-gray-700 hover:bg-gray-100"}`,children:[o,v&&i.jsxDEV("span",{className:`ml-1 ${A===o?"text-gray-300":"text-gray-400"}`,children:["(",u,")"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1621,columnNumber:23},void 0)]},o,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1610,columnNumber:19},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1603,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1585,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1391,columnNumber:9},void 0),x==="library"?i.jsxDEV("div",{className:"specbook-main flex-1 flex flex-col overflow-hidden pr-4 pt-3",children:[i.jsxDEV("div",{className:"mb-4 px-4",children:i.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 gap-2 lg:gap-4",children:[!e&&i.jsxDEV("button",{onClick:()=>{y("library"),$(null)},className:`col-span-1 lg:col-span-1 h-9 rounded-lg font-medium transition-colors text-xs md:text-sm flex items-center justify-center ${x==="library"?"bg-gray-800 text-white":"bg-gray-200 text-gray-700"}`,children:"스펙 라이브러리"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1642,columnNumber:17},void 0),i.jsxDEV("select",{value:_||"",onChange:o=>{o.target.value?(y("project"),$(Number(o.target.value))):e||(y("library"),$(null))},className:`specbook-header-project-select col-span-1 lg:col-span-1 ${e?"":"lg:col-start-4"} h-9 border border-gray-300 rounded-lg focus:outline-none bg-white text-xs md:text-sm px-1 md:px-2`,children:[!e&&i.jsxDEV("option",{value:"",children:"프로젝트 선택"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1665,columnNumber:35},void 0),H.map(o=>i.jsxDEV("option",{value:o.id,children:o.title},o.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1667,columnNumber:19},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1652,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1640,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1639,columnNumber:11},void 0),i.jsxDEV("div",{className:"specbook-content flex-1 flex flex-col md:flex-row overflow-hidden",children:[i.jsxDEV("div",{className:"specbook-library w-full md:w-1/2 flex flex-col overflow-hidden pb-4 md:pr-3",children:i.jsxDEV("div",{className:"flex-1 overflow-y-auto bg-gray-50 rounded-lg p-4",children:$e?i.jsxDEV("div",{className:"flex items-center justify-center h-full",children:i.jsxDEV("div",{className:"text-gray-500",children:"로딩 중..."},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1681,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1680,columnNumber:13},void 0):D.length===0?i.jsxDEV("div",{className:"flex items-center justify-center h-full text-gray-500 text-sm",children:"등록된 스펙북 아이템이 없습니다"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1684,columnNumber:13},void 0):i.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-3 gap-4",children:D.map(o=>i.jsxDEV("div",{draggable:!0,onDragStart:u=>{ge(!0),u.dataTransfer.setData("itemId",o.id.toString()),u.dataTransfer.effectAllowed="copy"},onDragEnd:()=>{ge(!1),F(null)},className:"bg-white rounded-lg shadow-sm hover:shadow-md transition-all border border-gray-200 overflow-hidden cursor-grab active:cursor-grabbing flex flex-col group relative",children:[i.jsxDEV("div",{className:"w-full aspect-square bg-gray-100 relative",onMouseDown:u=>{F({x:u.clientX,y:u.clientY})},onClick:u=>{!de&&De&&Math.sqrt(Math.pow(u.clientX-De.x,2)+Math.pow(u.clientY-De.y,2))<5&&on(o),F(null)},children:o.image_url?i.jsxDEV("img",{src:o.image_url,alt:o.name,className:"w-full h-full object-contain pointer-events-none",loading:"lazy",draggable:!1},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1724,columnNumber:23},void 0):i.jsxDEV("div",{className:"w-full h-full flex items-center justify-center text-gray-400 text-xs pointer-events-none",children:"이미지 없음"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1732,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1704,columnNumber:19},void 0),i.jsxDEV("div",{className:"absolute top-2 right-2 flex gap-1 md:opacity-0 md:group-hover:opacity-100 transition-opacity pointer-events-auto",children:[i.jsxDEV("button",{onClick:u=>{u.stopPropagation(),rn(o)},onPointerDown:u=>u.stopPropagation(),className:"p-1.5 bg-white text-gray-700 hover:bg-gray-100 rounded-md shadow-md transition-colors cursor-pointer",title:"수정",children:i.jsxDEV(Ot,{className:"w-3.5 h-3.5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1747,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1738,columnNumber:21},void 0),i.jsxDEV("button",{onClick:u=>{u.stopPropagation(),sn(o.id)},onPointerDown:u=>u.stopPropagation(),className:"p-1.5 bg-white text-rose-600 hover:bg-rose-50 rounded-md shadow-md transition-colors cursor-pointer",title:"삭제",children:i.jsxDEV(Vt,{className:"w-3.5 h-3.5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1758,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1749,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1737,columnNumber:19},void 0),i.jsxDEV("div",{className:"p-2 pt-1.5 flex flex-col flex-1",children:[i.jsxDEV("div",{className:"flex items-start justify-between mb-1",children:[i.jsxDEV("div",{className:"flex items-center gap-1.5",children:[i.jsxDEV("span",{className:"inline-block px-1.5 py-0.5 text-xs bg-gray-100 text-gray-700 rounded",children:o.category},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1764,columnNumber:25},void 0),o.brand&&i.jsxDEV("span",{className:"text-xs text-gray-500",children:o.brand},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1768,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1763,columnNumber:23},void 0),o.grade&&i.jsxDEV("span",{className:`hidden md:inline-block px-1.5 py-0.5 text-xs rounded ${_n(o.grade)}`,children:Ln(o.grade)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1772,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1762,columnNumber:21},void 0),i.jsxDEV("div",{className:"flex items-baseline justify-between gap-1 mt-auto",children:[i.jsxDEV("div",{className:"flex items-baseline gap-1 min-w-0",children:i.jsxDEV("h3",{className:"font-semibold text-xs text-gray-900 truncate",children:o.name},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1779,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1778,columnNumber:23},void 0),o.price&&i.jsxDEV("span",{className:"hidden md:inline text-xs text-gray-900 font-medium flex-shrink-0",children:[o.price,"원"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1782,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1777,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1761,columnNumber:19},void 0)]},o.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1690,columnNumber:17},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1688,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1678,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1677,columnNumber:13},void 0),i.jsxDEV("div",{className:"hidden md:block w-px bg-gray-300 self-stretch"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1793,columnNumber:13},void 0),i.jsxDEV("div",{className:"specbook-drop-zone hidden md:flex w-1/2 flex-col overflow-hidden pl-3 pb-4",children:[i.jsxDEV("div",{className:"specbook-drop-project-select hidden mb-2",children:i.jsxDEV("select",{value:_||"",onChange:o=>{o.target.value&&(y("project"),$(Number(o.target.value)))},className:"h-9 border border-gray-300 rounded-lg focus:outline-none bg-white text-sm px-3",children:[i.jsxDEV("option",{value:"",children:"프로젝트 선택"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1808,columnNumber:19},void 0),H.map(o=>i.jsxDEV("option",{value:o.id,children:o.title},o.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1810,columnNumber:21},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1798,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1797,columnNumber:15},void 0),i.jsxDEV("div",{className:"flex-1 overflow-y-auto bg-gray-50 rounded-lg p-4 border-2 border-dashed border-gray-300 transition-colors",onDragOver:o=>{o.preventDefault(),o.currentTarget.classList.add("bg-blue-50","border-blue-400")},onDragLeave:o=>{o.currentTarget.classList.remove("bg-blue-50","border-blue-400")},onDrop:o=>{o.preventDefault(),o.currentTarget.classList.remove("bg-blue-50","border-blue-400");const u=o.dataTransfer.getData("itemId");u&&(ce(Number(u)),se(!0))},children:i.jsxDEV("div",{className:"flex items-center justify-center h-full text-gray-400 text-sm",children:[i.jsxDEV("span",{className:"specbook-drop-text-landscape",children:"좌측에서 아이템을 드래그하여 추가하세요"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1836,columnNumber:19},void 0),i.jsxDEV("span",{className:"specbook-drop-text-portrait",children:"상단에서 아이템을 드래그하여 추가하세요"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1837,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1835,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1816,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1795,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1675,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1637,columnNumber:11},void 0):i.jsxDEV("div",{className:"specbook-main flex-1 flex flex-col overflow-hidden pr-4 pt-3",children:[i.jsxDEV("div",{className:"mb-4 px-4",children:i.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 gap-2 lg:gap-4",children:[!e&&i.jsxDEV("button",{onClick:()=>{y("library"),$(null)},className:"col-span-1 lg:col-span-1 h-9 rounded-lg font-medium transition-colors bg-gray-200 text-gray-700 text-xs md:text-sm flex items-center justify-center",children:"스펙 라이브러리"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1850,columnNumber:19},void 0),i.jsxDEV("select",{value:_||"",onChange:o=>{o.target.value?(y("project"),$(Number(o.target.value))):e||(y("library"),$(null))},className:`specbook-header-project-select col-span-1 lg:col-span-1 ${e?"":"lg:col-start-4"} h-9 border border-gray-300 rounded-lg focus:outline-none bg-white text-xs md:text-sm px-1 md:px-2`,children:[!e&&i.jsxDEV("option",{value:"",children:"프로젝트 선택"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1873,columnNumber:37},void 0),H.map(o=>i.jsxDEV("option",{value:o.id,children:o.title},o.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1875,columnNumber:21},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1860,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1848,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1847,columnNumber:13},void 0),i.jsxDEV("div",{className:"specbook-content flex-1 flex flex-col md:flex-row overflow-hidden gap-4",children:[!e&&i.jsxDEV("div",{className:"specbook-library hidden md:flex md:w-1/2 flex-col overflow-hidden pb-4 md:pr-3",children:i.jsxDEV("div",{className:"flex-1 overflow-y-auto bg-gray-50 rounded-lg p-4",children:i.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-3 gap-4",children:V.filter(o=>A==="전체"||o.category===A).map(o=>i.jsxDEV("div",{draggable:!0,onDragStart:u=>{ge(!0),u.dataTransfer.setData("itemId",o.id.toString()),u.dataTransfer.effectAllowed="copy"},onDragEnd:()=>{ge(!1),F(null)},className:"bg-white rounded-lg shadow-sm hover:shadow-md transition-all border border-gray-200 overflow-hidden cursor-grab active:cursor-grabbing flex flex-col group relative",children:[i.jsxDEV("div",{className:"w-full aspect-square bg-gray-100 relative",onMouseDown:u=>{F({x:u.clientX,y:u.clientY})},onClick:u=>{!de&&De&&Math.sqrt(Math.pow(u.clientX-De.x,2)+Math.pow(u.clientY-De.y,2))<5&&on(o),F(null)},children:o.image_url?i.jsxDEV("img",{src:o.image_url,alt:o.name,className:"w-full h-full object-contain pointer-events-none",loading:"lazy",draggable:!1},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1927,columnNumber:29},void 0):i.jsxDEV("div",{className:"w-full h-full flex items-center justify-center text-gray-400 text-xs pointer-events-none",children:"이미지 없음"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1935,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1907,columnNumber:25},void 0),i.jsxDEV("div",{className:"absolute top-2 right-2 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-auto",children:[i.jsxDEV("button",{onClick:u=>{u.stopPropagation(),rn(o)},onPointerDown:u=>u.stopPropagation(),className:"p-1.5 bg-white text-gray-700 hover:bg-gray-100 rounded-md shadow-md transition-colors cursor-pointer",title:"수정",children:i.jsxDEV(Ot,{className:"w-3.5 h-3.5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1950,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1941,columnNumber:27},void 0),i.jsxDEV("button",{onClick:u=>{u.stopPropagation(),sn(o.id)},onPointerDown:u=>u.stopPropagation(),className:"p-1.5 bg-white text-rose-600 hover:bg-rose-50 rounded-md shadow-md transition-colors cursor-pointer",title:"삭제",children:i.jsxDEV(Vt,{className:"w-3.5 h-3.5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1961,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1952,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1940,columnNumber:25},void 0),i.jsxDEV("div",{className:"p-2 pt-1.5 flex flex-col flex-1",children:[i.jsxDEV("div",{className:"flex items-start justify-between mb-1",children:[i.jsxDEV("div",{className:"flex items-center gap-1.5",children:[i.jsxDEV("span",{className:"inline-block px-1.5 py-0.5 text-xs bg-gray-100 text-gray-700 rounded",children:o.category},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1967,columnNumber:31},void 0),o.brand&&i.jsxDEV("span",{className:"text-xs text-gray-500",children:o.brand},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1971,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1966,columnNumber:29},void 0),o.grade&&i.jsxDEV("span",{className:`hidden md:inline-block px-1.5 py-0.5 text-xs rounded ${_n(o.grade)}`,children:Ln(o.grade)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1975,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1965,columnNumber:27},void 0),i.jsxDEV("div",{className:"flex items-baseline justify-between gap-1 mt-auto",children:[i.jsxDEV("div",{className:"flex items-baseline gap-1 min-w-0",children:i.jsxDEV("h3",{className:"font-semibold text-xs text-gray-900 truncate",children:o.name},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1982,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1981,columnNumber:29},void 0),o.price&&i.jsxDEV("span",{className:"hidden md:inline text-xs text-gray-900 font-medium flex-shrink-0",children:[o.price,"원"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1985,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1980,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1964,columnNumber:25},void 0)]},o.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1893,columnNumber:23},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1889,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1887,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1886,columnNumber:17},void 0),!e&&i.jsxDEV("div",{className:"hidden md:block w-px bg-gray-300 self-stretch"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1998,columnNumber:15},void 0),i.jsxDEV("div",{className:`specbook-project w-full ${e?"":"md:w-1/2"} flex flex-col overflow-hidden ${e?"":"md:pl-3"} pb-4`,children:[i.jsxDEV("div",{className:"specbook-drop-project-select hidden mb-2",children:i.jsxDEV("select",{value:_||"",onChange:o=>{o.target.value?(y("project"),$(Number(o.target.value))):e||(y("library"),$(null))},className:"w-full h-9 border border-gray-300 rounded-lg focus:outline-none bg-white text-sm px-3",children:[!e&&i.jsxDEV("option",{value:"",children:"프로젝트 선택"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2017,columnNumber:37},void 0),H.map(o=>i.jsxDEV("option",{value:o.id,children:o.title},o.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2019,columnNumber:21},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2004,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2003,columnNumber:15},void 0),i.jsxDEV("div",{className:"flex-1 overflow-y-auto bg-gray-50 rounded-lg p-4",onDragOver:o=>{o.preventDefault(),o.dataTransfer.dropEffect="copy"},onDrop:async o=>{o.preventDefault();const u=o.dataTransfer.getData("itemId");if(u&&_)try{const v=V.find(N=>N.id===Number(u));if(v){const{id:N,created_at:w,updated_at:B,...T}=v;await G.post("/specbook/base64",{...T,isLibrary:!1,projectId:_}),P.success("아이템이 프로젝트에 추가되었습니다"),rt(),nt()}}catch(v){console.error("아이템 추가 실패:",v),P.error("아이템 추가 실패")}},children:$e?i.jsxDEV("div",{className:"flex items-center justify-center h-full",children:i.jsxDEV("div",{className:"text-gray-500",children:"로딩 중..."},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2058,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2057,columnNumber:19},void 0):D.length===0?i.jsxDEV("div",{className:"flex items-center justify-center h-full text-gray-600 text-sm",children:[i.jsxDEV("span",{className:"specbook-drop-text-landscape",children:"좌측에서 아이템을 드래그하여 추가하세요"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2062,columnNumber:21},void 0),i.jsxDEV("span",{className:"specbook-drop-text-portrait",children:"상단에서 아이템을 드래그하여 추가하세요"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2063,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2061,columnNumber:19},void 0):i.jsxDEV(fn,{sensors:nn,collisionDetection:dn,onDragEnd:fs,children:i.jsxDEV(gn,{items:D.filter(o=>A==="전체"||o.category===A).map(o=>o.id),strategy:Dr,children:i.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-3 gap-4",children:D.filter(o=>A==="전체"||o.category===A).map(o=>i.jsxDEV(zi,{item:o,onEdit:rn,onDelete:sn,onImageClick:on},o.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2081,columnNumber:29},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2077,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2071,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2066,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2025,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2001,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1883,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1845,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1389,columnNumber:7},void 0),Qe&&i.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:i.jsxDEV("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md mx-4",children:[i.jsxDEV("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[i.jsxDEV("h2",{className:"text-lg font-bold text-gray-900",children:"카테고리 관리"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2105,columnNumber:15},void 0),i.jsxDEV("button",{onClick:qn,className:"text-gray-500 hover:text-gray-700 transition-colors",children:i.jsxDEV(It,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2110,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2106,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2104,columnNumber:13},void 0),i.jsxDEV("div",{className:"p-4",children:[i.jsxDEV("div",{className:"mb-4",children:i.jsxDEV("div",{className:"flex gap-2",children:[i.jsxDEV("input",{type:"text",value:he,onChange:o=>M(o.target.value),onKeyPress:o=>{o.key==="Enter"&&Kn()},className:"flex-1 px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",placeholder:"카테고리 이름 입력"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2118,columnNumber:19},void 0),i.jsxDEV("button",{onClick:Kn,className:"px-4 py-2 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors flex items-center gap-1",children:[i.jsxDEV(er,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2134,columnNumber:21},void 0),"추가"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2130,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2117,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2116,columnNumber:15},void 0),i.jsxDEV("div",{className:"mb-4",children:[i.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"카테고리 목록 (드래그하여 순서 변경)"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2142,columnNumber:17},void 0),i.jsxDEV("div",{className:"max-h-120 overflow-y-auto border border-gray-200 rounded-lg",children:i.jsxDEV(fn,{sensors:nn,collisionDetection:dn,onDragEnd:vs,children:i.jsxDEV(gn,{items:pe,strategy:Dr,children:pe.map(o=>i.jsxDEV(Oi,{category:o,onRemove:bs,onEdit:hs},o,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2156,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2151,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2146,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2145,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2141,columnNumber:15},void 0),i.jsxDEV("div",{className:"flex justify-center",children:i.jsxDEV("button",{onClick:qn,className:"px-6 py-2 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors",children:"닫기"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2170,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2169,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2114,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2103,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2102,columnNumber:9},void 0),be&&W&&i.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:o=>{o.target===o.currentTarget&&Gn()},children:i.jsxDEV("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-6xl max-h-[90vh] overflow-hidden flex flex-col",children:[i.jsxDEV("div",{className:"flex items-center justify-between p-4 md:p-6 border-b border-gray-200",children:[i.jsxDEV("div",{children:[i.jsxDEV("h2",{className:"text-xl font-bold text-gray-900",children:W.name},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2197,columnNumber:17},void 0),i.jsxDEV("p",{className:"text-xs text-gray-500 mt-1",children:"드래그 앤 드롭 또는 Ctrl+V로 이미지/PDF를 추가할 수 있습니다"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2198,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2196,columnNumber:15},void 0),i.jsxDEV("button",{onClick:Gn,className:"text-gray-500 hover:text-gray-700 transition-colors",children:i.jsxDEV(It,{className:"h-6 w-6"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2206,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2202,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2195,columnNumber:13},void 0),i.jsxDEV("div",{className:"flex-1 overflow-y-auto p-4 md:p-6",onDragOver:o=>{o.preventDefault(),it(!0)},onDragLeave:o=>{o.preventDefault(),it(!1)},onDrop:ds,children:[i.jsxDEV("input",{ref:Ie,type:"file",accept:"image/*,application/pdf,.doc,.docx,.xls,.xlsx,.ppt,.pptx,.hwp,.txt,.zip,.dwg,.skp,.3dm,.dxf",multiple:!0,onChange:cs,className:"hidden"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2224,columnNumber:15},void 0),i.jsxDEV("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:[W.image_url&&i.jsxDEV("div",{className:"relative group",children:[i.jsxDEV("div",{className:"aspect-square bg-gray-100 rounded-lg overflow-hidden border-2 border-blue-500 cursor-pointer hover:border-blue-600 transition-colors",onClick:()=>{const o=[W.image_url];ee.forEach(u=>{const N=u.includes("|")&&!u.startsWith("data:image")?u.split("|")[1]:u;N.startsWith("data:image")&&o.push(N)}),Ye(o),ke(0),Pe(W.image_url)},children:i.jsxDEV("img",{src:W.image_url,alt:"메인 이미지",className:"w-full h-full object-contain"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2255,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2238,columnNumber:21},void 0),i.jsxDEV("div",{className:"absolute top-2 left-2 bg-blue-500 text-white text-xs font-bold px-2 py-1 rounded",children:"메인"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2261,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2237,columnNumber:19},void 0),i.jsxDEV(fn,{sensors:nn,collisionDetection:dn,onDragEnd:ms,children:i.jsxDEV(gn,{items:ee.map((o,u)=>`subimg-${u}`),strategy:Tn,children:ee.map((o,u)=>i.jsxDEV(Ti,{id:`subimg-${u}`,fileData:o,index:u,onDelete:us,onFileClick:ps},`subimg-${u}`,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2278,columnNumber:23},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2273,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2268,columnNumber:17},void 0),i.jsxDEV("div",{onClick:()=>{var o;return(o=Ie.current)==null?void 0:o.click()},className:"aspect-square border-2 border-dashed border-gray-300 rounded-lg flex items-center justify-center cursor-pointer hover:border-gray-400 hover:bg-gray-50 transition-colors",children:i.jsxDEV(er,{className:"h-12 w-12 text-gray-400"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2295,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2291,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2234,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2211,columnNumber:13},void 0),i.jsxDEV("div",{className:"flex items-center justify-center p-4 border-t border-gray-200 bg-gray-50",children:i.jsxDEV("div",{className:"flex items-center gap-4",children:[i.jsxDEV("p",{className:"text-sm text-gray-600",children:["총 ",(W.image_url?1:0)+ee.length,"개의 파일"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2304,columnNumber:17},void 0),Qt&&i.jsxDEV("p",{className:"text-sm text-blue-600 flex items-center gap-2",children:[i.jsxDEV("svg",{className:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[i.jsxDEV("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2310,columnNumber:23},void 0),i.jsxDEV("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2311,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2309,columnNumber:21},void 0),"저장 중..."]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2308,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2303,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2302,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2193,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2184,columnNumber:9},void 0),et&&i.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-[60] overflow-hidden",onClick:o=>{o.target===o.currentTarget&&(Pe(null),X(1),le({x:0,y:0}),Oe(null),Fe(null),Ze(!1))},onWheel:o=>{o.preventDefault();const u=o.deltaY>0?-.1:.1;X(v=>Math.max(.5,Math.min(5,v+u)))},children:[i.jsxDEV("div",{className:"absolute top-4 right-4 flex flex-col gap-2",children:[i.jsxDEV("button",{onClick:()=>{Pe(null),X(1),le({x:0,y:0}),Oe(null),Fe(null),Ze(!1)},className:"p-2 bg-white bg-opacity-10 hover:bg-opacity-20 rounded-full transition-colors",children:i.jsxDEV(It,{className:"h-6 w-6 text-white"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2355,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2344,columnNumber:13},void 0),i.jsxDEV("button",{onClick:o=>{o.stopPropagation(),X(u=>Math.min(5,u+.5))},className:"p-2 bg-white bg-opacity-10 hover:bg-opacity-20 rounded-full transition-colors",title:"확대 (+)",children:i.jsxDEV("svg",{className:"h-6 w-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v6m3-3H7"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2366,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2365,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2357,columnNumber:13},void 0),i.jsxDEV("button",{onClick:o=>{o.stopPropagation(),X(u=>Math.max(.5,u-.5))},className:"p-2 bg-white bg-opacity-10 hover:bg-opacity-20 rounded-full transition-colors",title:"축소 (-)",children:i.jsxDEV("svg",{className:"h-6 w-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM13 10H7"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2378,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2377,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2369,columnNumber:13},void 0),i.jsxDEV("button",{onClick:o=>{o.stopPropagation(),X(1),le({x:0,y:0})},className:"p-2 bg-white bg-opacity-10 hover:bg-opacity-20 rounded-full transition-colors",title:"초기화",children:i.jsxDEV("svg",{className:"h-6 w-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2391,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2390,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2381,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2343,columnNumber:11},void 0),i.jsxDEV("div",{className:"absolute top-4 left-4 flex items-center gap-3",children:[i.jsxDEV("div",{className:"bg-white bg-opacity-10 text-white px-3 py-2 rounded-lg text-sm",children:[Math.round(Y*100),"%"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2398,columnNumber:13},void 0),ie.length>1&&i.jsxDEV("div",{className:"bg-white bg-opacity-10 text-white px-3 py-2 rounded-lg text-sm",children:[Te+1," / ",ie.length]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2402,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2397,columnNumber:11},void 0),ie.length>1&&i.jsxDEV(i.Fragment,{children:[i.jsxDEV("button",{onClick:o=>{o.stopPropagation(),Yn()},className:"absolute left-4 top-1/2 -translate-y-1/2 p-3 bg-white bg-opacity-10 hover:bg-opacity-30 rounded-full transition-colors z-10",title:"이전 이미지 (←)",children:i.jsxDEV("svg",{className:"h-8 w-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2421,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2420,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2412,columnNumber:15},void 0),i.jsxDEV("button",{onClick:o=>{o.stopPropagation(),Zn()},className:"absolute right-4 top-1/2 -translate-y-1/2 p-3 bg-white bg-opacity-10 hover:bg-opacity-30 rounded-full transition-colors z-10",title:"다음 이미지 (→)",children:i.jsxDEV("svg",{className:"h-8 w-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2435,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2434,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2426,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2410,columnNumber:13},void 0),ie.length>1&&i.jsxDEV("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 bg-white bg-opacity-10 text-white px-4 py-2 rounded-lg text-sm",children:"← → 키보드로 이동 | ESC 닫기"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2443,columnNumber:13},void 0),i.jsxDEV("div",{className:"w-full h-full flex items-center justify-center overflow-hidden",onMouseDown:o=>{Y>1&&(lt(!0),ht({x:o.clientX-ae.x,y:o.clientY-ae.y}))},onMouseMove:o=>{Le&&Y>1&&le({x:o.clientX-ct.x,y:o.clientY-ct.y})},onMouseUp:()=>lt(!1),onMouseLeave:()=>lt(!1),onTouchStart:o=>{if(o.touches.length===2){o.preventDefault(),Ze(!0);const u=Fn(o.touches[0],o.touches[1]),v=Wn(o.touches[0],o.touches[1]);Oe(u),Fe(v)}else if(o.touches.length===1&&Y>1&&!dt){const u=o.touches[0];ht({x:u.clientX-ae.x,y:u.clientY-ae.y})}},onTouchMove:o=>{if(o.touches.length===2){o.preventDefault(),Ze(!0);const u=Fn(o.touches[0],o.touches[1]),v=Wn(o.touches[0],o.touches[1]);if(tt&&bt){const N=u/tt,w=Math.max(.5,Math.min(5,Y*N)),B=v.x-bt.x,T=v.y-bt.y,ue=w/Y,We=ae.x*ue+B,ln=ae.y*ue+T;X(w),le({x:We,y:ln})}Oe(u),Fe(v)}else if(o.touches.length===1&&Y>1&&!dt){o.preventDefault();const u=o.touches[0];le({x:u.clientX-ct.x,y:u.clientY-ct.y})}},onTouchEnd:o=>{if(o.touches.length===0){const u=Date.now(),v=o.changedTouches[0],N={x:v.clientX,y:v.clientY};if(u-en<300&&_e&&Math.abs(N.x-_e.x)<30&&Math.abs(N.y-_e.y)<30&&!dt){if(Y===1){const T=o.currentTarget.getBoundingClientRect(),ue=N.x-T.left-T.width/2,We=N.y-T.top-T.height/2;X(2.5),le({x:-ue*1.5,y:-We*1.5})}else X(1),le({x:0,y:0});Z(0),we(null)}else Z(u),we(N);Oe(null),Fe(null),Ze(!1)}else if(o.touches.length===1&&dt){Oe(null),Fe(null),Ze(!1);const u=o.touches[0];ht({x:u.clientX-ae.x,y:u.clientY-ae.y})}},onDoubleClick:o=>{o.stopPropagation();const u=o.currentTarget.getBoundingClientRect(),v=o.clientX-u.left-u.width/2,N=o.clientY-u.top-u.height/2;Y===1?(X(2.5),le({x:-v*1.5,y:-N*1.5})):(X(1),le({x:0,y:0}))},children:i.jsxDEV("img",{src:et,alt:"원본 이미지",style:{transform:`scale(${Y}) translate(${ae.x/Y}px, ${ae.y/Y}px)`,transformOrigin:"center center",transition:Le||tt!==null?"none":"transform 0.25s cubic-bezier(0.2, 0, 0, 1)",maxWidth:"100%",maxHeight:"100%",objectFit:"contain",cursor:Y>1?Le?"grabbing":"grab":"pointer",userSelect:"none",touchAction:"none"},draggable:!1},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2587,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2449,columnNumber:11},void 0),i.jsxDEV("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 bg-white bg-opacity-10 text-white px-4 py-2 rounded-lg text-xs text-center",children:"마우스 휠 또는 두 손가락으로 확대/축소 | 드래그로 이동 | 더블클릭으로 2배 확대/초기화"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2606,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2324,columnNumber:9},void 0),fe&&He&&i.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:i.jsxDEV("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[i.jsxDEV("h3",{className:"text-lg font-semibold mb-4",children:"프로젝트 선택"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2616,columnNumber:13},void 0),i.jsxDEV("p",{className:"text-sm text-gray-600 mb-4",children:"아이템을 추가할 프로젝트를 선택하세요"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2617,columnNumber:13},void 0),i.jsxDEV("div",{className:"max-h-96 overflow-y-auto space-y-2 mb-6",children:H.map(o=>i.jsxDEV("button",{onClick:async()=>{try{const u=V.find(v=>v.id===He);if(u){const{id:v,created_at:N,updated_at:w,...B}=u;await G.post("/specbook/base64",{...B,isLibrary:!1,projectId:o.id}),P.success(`"${o.title}"에 아이템이 추가되었습니다`),nt()}}catch(u){console.error("아이템 추가 실패:",u),P.error("아이템 추가 실패")}finally{se(!1),ce(null)}},className:"w-full px-4 py-3 text-left border border-gray-200 rounded-lg hover:bg-blue-50 hover:border-blue-300 transition-colors",children:i.jsxDEV("div",{className:"font-medium text-gray-900",children:o.title},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2647,columnNumber:19},void 0)},o.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2622,columnNumber:17},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2620,columnNumber:13},void 0),i.jsxDEV("button",{onClick:()=>{se(!1),ce(null)},className:"w-full px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"취소"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2651,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2615,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2614,columnNumber:9},void 0),tn&&On&&i.jsxDEV(no,{image:On,onCropComplete:as,onCancel:ls,aspectRatio:1},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2666,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1384,columnNumber:5},void 0)};export{qi as default};
