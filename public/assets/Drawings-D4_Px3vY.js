import{d as Be,a as Se,b as _s,g as Bs,s as Ss,c as ds,r as Is,e as $s,u as Ms,f as Rs,T as Ts,h as be,i as he,j as Ps,k as Fs,l as s}from"./index-C0VNQ5Cr.js";import{r as o}from"./vendor-react-DN7YJcfR.js";import{A as us,q as Ys,T as Q,i as gs,F as ps,X as Xs}from"./vendor-ui-D8A9iq7X.js";import"./vendor-data-DrLf5NIQ.js";import"./vendor-date-DbWJ9m7c.js";import"./vendor-calendar-DjAQlTCo.js";const Ws=t=>t?typeof t=="string"?new Date(t):t instanceof Ts?t.toDate():new Date:new Date,De={async uploadImage(t){try{const l=`drawings/${Date.now()}-${t.name}`,r=Is($s,l);await Ms(r,t);const m=await Rs(r);return console.log("âœ… [Firestore] ì´ë¯¸ì§€ ì—…ë¡œë“œ ì„±ê³µ:",m),m}catch(l){throw console.error("[Firestore] ì´ë¯¸ì§€ ì—…ë¡œë“œ ì‹¤íŒ¨:",l),new Error(`ì´ë¯¸ì§€ ì—…ë¡œë“œ ì‹¤íŒ¨: ${l.message||"ì•Œ ìˆ˜ ì—†ëŠ” ì˜¤ë¥˜"}`)}},async setItem(t,l,r){var m,d;try{console.log("[drawingFirestoreService] ë„ë©´ ì €ì¥ ìš”ì²­:",{projectId:t,type:l,imageUrl:r.imageUrl?"provided":"none",markersCount:((m=r.markers)==null?void 0:m.length)||0,roomsCount:((d=r.rooms)==null?void 0:d.length)||0});const i=`${t}_${l.replace(/-/g,"_")}`,v=Be(Se,"drawings",i);await Ss(v,{projectId:t,type:l,imageUrl:r.imageUrl,imageUrls:r.imageUrls||[],markers:r.markers||[],rooms:r.rooms||[],naverTypeSqm:r.naverTypeSqm||null,naverTypePyeong:r.naverTypePyeong||null,naverArea:r.naverArea||null,updatedAt:ds(),createdAt:ds()},{merge:!0}),console.log("âœ… [Firestore] ë„ë©´ ë°ì´í„° ì €ì¥ ì„±ê³µ")}catch(i){throw console.error("[Firestore] ì„œë²„ ë„ë©´ ì €ì¥ ì‹¤íŒ¨:",i),new Error(`ì €ì¥ ì‹¤íŒ¨: ${i.message||"ì•Œ ìˆ˜ ì—†ëŠ” ì˜¤ë¥˜"}`)}},async getItem(t,l){try{console.log(`[drawingFirestoreService] ë„ë©´ ì¡°íšŒ ìš”ì²­: projectId=${t}, type=${l}`);const r=`${t}_${l.replace(/-/g,"_")}`,m=Be(Se,"drawings",r),d=await Bs(m);if(!d.exists())return console.log("[drawingFirestoreService] ë„ë©´ ë°ì´í„° ì—†ìŒ"),null;const i=d.data();return{type:i.type,projectId:i.projectId,imageUrl:i.imageUrl,imageUrls:i.imageUrls||[],markers:i.markers||[],rooms:i.rooms||[],lastModified:Ws(i.updatedAt),naverTypeSqm:i.naverTypeSqm,naverTypePyeong:i.naverTypePyeong,naverArea:i.naverArea}}catch(r){throw console.error("[Firestore] ì„œë²„ ë„ë©´ ì¡°íšŒ ì‹¤íŒ¨:",r),r}},async removeItem(t,l){try{const r=`${t}_${l.replace(/-/g,"_")}`,m=Be(Se,"drawings",r);await _s(m),console.log("âœ… [Firestore] ë„ë©´ ì‚­ì œ ì„±ê³µ")}catch(r){throw console.error("[Firestore] ì„œë²„ ë„ë©´ ì‚­ì œ ì‹¤íŒ¨:",r),r}}},ye={async uploadImage(t){const l=new FormData;l.append("image",t);const r=await he.post("/drawings/upload",l,{headers:{"Content-Type":"multipart/form-data"}});return console.log("âœ… [Railway] ì´ë¯¸ì§€ ì—…ë¡œë“œ ì„±ê³µ:",r.data.imageUrl),r.data.imageUrl},async setItem(t,l,r){await he.post("/drawings",{projectId:r.projectId,type:r.type,imageUrl:r.imageUrl,imageUrls:r.imageUrls||[],markers:r.markers,rooms:r.rooms,naverTypeSqm:r.naverTypeSqm,naverTypePyeong:r.naverTypePyeong,naverArea:r.naverArea}),console.log("âœ… [Railway] ë„ë©´ ë°ì´í„° ì €ì¥ ì„±ê³µ")},async getItem(t,l){const m=(await he.get(`/drawings/${t}/${encodeURIComponent(l)}`)).data;return{type:m.type,projectId:m.projectId,imageUrl:m.imageUrl,imageUrls:m.imageUrls||[],markers:m.markers||[],rooms:m.rooms||[],lastModified:new Date(m.updatedAt),naverTypeSqm:m.naverTypeSqm,naverTypePyeong:m.naverTypePyeong,naverArea:m.naverArea}},async removeItem(t,l){await he.delete(`/drawings/${t}/${encodeURIComponent(l)}`)}};class qs{async uploadImage(l){var r,m;try{return be()?(console.log("[drawingStorage] Using Firestore"),await De.uploadImage(l)):(console.log("[drawingStorage] Using Railway API"),await ye.uploadImage(l))}catch(d){console.error("ì´ë¯¸ì§€ ì—…ë¡œë“œ ì‹¤íŒ¨:",d);const i=((m=(r=d.response)==null?void 0:r.data)==null?void 0:m.error)||d.message||"ì•Œ ìˆ˜ ì—†ëŠ” ì˜¤ë¥˜";throw new Error(`ì´ë¯¸ì§€ ì—…ë¡œë“œ ì‹¤íŒ¨: ${i}`)}}async setItem(l,r,m){var d,i,v,g,W,$,ee;try{console.log("[drawingStorage] ë„ë©´ ì €ì¥ ìš”ì²­:",{projectId:r.projectId,type:r.type,imageUrl:r.imageUrl?"provided":"none",markersCount:((d=r.markers)==null?void 0:d.length)||0,roomsCount:((i=r.rooms)==null?void 0:i.length)||0}),be()?(console.log("[drawingStorage] Using Firestore"),await De.setItem(r.projectId,r.type,r)):(console.log("[drawingStorage] Using Railway API"),await ye.setItem(r.projectId,r.type,r)),console.log("âœ… ë„ë©´ ë°ì´í„° ì €ì¥ ì„±ê³µ")}catch(y){console.error("ì„œë²„ ë„ë©´ ì €ì¥ ì‹¤íŒ¨:",y);const M=((g=(v=y.response)==null?void 0:v.data)==null?void 0:g.error)||"ì €ì¥ ì‹¤íŒ¨",L=(($=(W=y.response)==null?void 0:W.data)==null?void 0:$.details)||y.message||"",R=((ee=y.response)==null?void 0:ee.status)||"",k=new Error(`${M}${L?` (${L})`:""}`);throw k.statusCode=R,k.response=y.response,k}}async getItem(l){var r,m,d;try{const i=l.split("-");if(i.length<4)return console.error("ì˜ëª»ëœ í‚¤ í˜•ì‹:",l),null;const v=i[2],g=i.slice(3).join("-");return console.log(`[drawingStorage] ë„ë©´ ì¡°íšŒ ìš”ì²­: projectId=${v}, type=${g}`),be()?(console.log("[drawingStorage] Using Firestore"),await De.getItem(v,g)):(console.log("[drawingStorage] Using Railway API"),await ye.getItem(v,g))}catch(i){if(((r=i.response)==null?void 0:r.status)===404)return console.log("[drawingStorage] ë„ë©´ ë°ì´í„° ì—†ìŒ (404)"),null;if(((m=i.response)==null?void 0:m.status)===500)return console.warn("[drawingStorage] ì„œë²„ ì—ëŸ¬, ë¹ˆ ë°ì´í„° ë°˜í™˜:",(d=i.response)==null?void 0:d.data),null;throw console.error("ì„œë²„ ë„ë©´ ì¡°íšŒ ì‹¤íŒ¨:",i),i}}async removeItem(l){try{const r=l.split("-");if(r.length<4){console.error("ì˜ëª»ëœ í‚¤ í˜•ì‹:",l);return}const m=r[2],d=r.slice(3).join("-");be()?(console.log("[drawingStorage] Using Firestore"),await De.removeItem(m,d)):(console.log("[drawingStorage] Using Railway API"),await ye.removeItem(m,d))}catch(r){throw console.error("ì„œë²„ ë„ë©´ ì‚­ì œ ì‹¤íŒ¨:",r),r}}async clearAll(){return console.warn("ì„œë²„ ê¸°ë°˜ ì €ì¥ì†Œì—ì„œëŠ” clearAllì´ ì§€ì›ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤."),0}async migrateFromLocalStorage(l){let r=0;const m=[];for(let d=0;d<localStorage.length;d++){const i=localStorage.key(d);i&&i.startsWith("drawing-")&&m.push(i)}return m.forEach(d=>{localStorage.removeItem(d),r++}),r>0&&console.log(`âœ… ${r}ê°œì˜ ë¡œì»¬ ë„ë©´ ë°ì´í„°ë¥¼ ì •ë¦¬í–ˆìŠµë‹ˆë‹¤.`),r}async estimateSize(){return{usage:0,quota:0}}}const Z=new qs,we=["ë„¤ì´ë²„ë„ë©´","ê±´ì¶•ë„ë©´","í‰ë©´ë„","3Dë„ë©´","ì² ê±°ë„ë©´","ì „ê¸°ë„ë©´","ì„¤ë¹„ë„ë©´","ëª©ê³µë„ë©´","íƒ€ì¼ë„ë©´","ê¸ˆì†ë„ë©´","ê°€êµ¬ë„ë©´","ì„¸ë¼ë¯¹ë„ë©´","ë””í…Œì¼ë„ë©´","ì²œì¥ë„ë©´"],ke=[{id:"outlet-1",name:"ì½˜ì„¼íŠ¸ 1êµ¬",symbol:"C1",count:1,color:"#ef4444",category:"outlet"},{id:"outlet-2",name:"ì½˜ì„¼íŠ¸ 2êµ¬",symbol:"C2",count:2,color:"#ef4444",category:"outlet"},{id:"outlet-3",name:"ì½˜ì„¼íŠ¸ 3êµ¬",symbol:"C3",count:3,color:"#ef4444",category:"outlet"},{id:"outlet-4",name:"ì½˜ì„¼íŠ¸ 4êµ¬",symbol:"C4",count:4,color:"#ef4444",category:"outlet"},{id:"switch-1",name:"ìŠ¤ìœ„ì¹˜ 1êµ¬",symbol:"S1",count:1,color:"#3b82f6",category:"switch"},{id:"switch-2",name:"ìŠ¤ìœ„ì¹˜ 2êµ¬",symbol:"S2",count:2,color:"#3b82f6",category:"switch"},{id:"switch-3",name:"ìŠ¤ìœ„ì¹˜ 3êµ¬",symbol:"S3",count:3,color:"#3b82f6",category:"switch"},{id:"switch-4",name:"ìŠ¤ìœ„ì¹˜ 4êµ¬",symbol:"S4",count:4,color:"#3b82f6",category:"switch"},{id:"switch-5",name:"ìŠ¤ìœ„ì¹˜ 5êµ¬",symbol:"S5",count:5,color:"#3b82f6",category:"switch"},{id:"switch-6",name:"ìŠ¤ìœ„ì¹˜ 6êµ¬",symbol:"S6",count:6,color:"#3b82f6",category:"switch"},{id:"switch-7",name:"ìŠ¤ìœ„ì¹˜ 7êµ¬",symbol:"S7",count:7,color:"#3b82f6",category:"switch"},{id:"switch-8",name:"ìŠ¤ìœ„ì¹˜ 8êµ¬",symbol:"S8",count:8,color:"#3b82f6",category:"switch"},{id:"light",name:"ì¡°ëª…",symbol:"â—",count:1,color:"#f59e0b",category:"light"}],Zs=()=>{const{user:t}=Ps(),l=Fs(),[r,m]=o.useState(()=>localStorage.getItem("drawings_includeCompleted")==="true"),d=r?l:l.filter(e=>e.status!=="completed"),[i,v]=o.useState(()=>{try{const e=localStorage.getItem("user");if(e){const n=JSON.parse(e);return localStorage.getItem(`drawings-selected-project-${n.id}`)||""}}catch(e){console.error("Failed to load saved project:",e)}return""}),[g,W]=o.useState(()=>{try{const e=localStorage.getItem("user");if(e){const n=JSON.parse(e),a=localStorage.getItem(`drawings-selected-type-${n.id}`);if(a&&we.includes(a))return a}}catch(e){console.error("Failed to load saved drawing type:",e)}return"ë„¤ì´ë²„ë„ë©´"}),[$,ee]=o.useState(ke[0].id),[y,M]=o.useState([]),[L,R]=o.useState(0),[k,F]=o.useState([]),[j,se]=o.useState([]),T=y[L]||"",[ne,te]=o.useState(""),[re,ae]=o.useState(""),[ie,oe]=o.useState(""),[q,fs]=o.useState("marker"),[P,me]=o.useState("full"),[V,le]=o.useState(null),[Ie,$e]=o.useState(!1),[ce,Me]=o.useState(null),[ve,Re]=o.useState(!1),[H,Te]=o.useState(null),[S,Ve]=o.useState(null),[xs,Ce]=o.useState(!1),[de,je]=o.useState(""),[Pe,Ue]=o.useState(null),[Ns,Fe]=o.useState(!1),[Y,ue]=o.useState(1),[U,z]=o.useState({x:0,y:0}),[ge,X]=o.useState(!1),[pe,Ae]=o.useState({x:0,y:0}),[J,Ee]=o.useState(!1),O=o.useRef(0),Ye=o.useRef({x:0,y:0}),Le=o.useRef(0),bs=o.useRef({x:0,y:0}),G=o.useRef(null),I=o.useRef(null),Xe=o.useRef(null),fe=o.useRef(!1),We=o.useRef(!1),K=o.useRef(null),qe=o.useRef(!1);o.useEffect(()=>{if(t!=null&&t.id&&!qe.current){if(qe.current=!0,!i){const n=localStorage.getItem(`drawings-selected-project-${t.id}`);n&&v(n)}const e=localStorage.getItem(`drawings-selected-type-${t.id}`);e&&we.includes(e)&&e!==g&&W(e)}},[t==null?void 0:t.id]),o.useEffect(()=>{t!=null&&t.id&&!We.current&&(We.current=!0,Z.migrateFromLocalStorage(t.id).then(e=>{e>0&&console.log(`âœ… ${e}ê°œì˜ ë„ë©´ì„ ì„œë²„ë¡œ ë§ˆì´ê·¸ë ˆì´ì…˜í–ˆìŠµë‹ˆë‹¤.`)}).catch(e=>{console.error("ë§ˆì´ê·¸ë ˆì´ì…˜ ì‹¤íŒ¨:",e)}))},[t==null?void 0:t.id]),o.useEffect(()=>{if(t!=null&&t.id&&t.name==="ì•ˆíŒ€"&&d.length>0&&!i){const e=d.find(n=>n.status!=="completed");e&&v(e.id)}},[t==null?void 0:t.id,t==null?void 0:t.name,d,i]),o.useEffect(()=>{t!=null&&t.id&&i&&localStorage.setItem(`drawings-selected-project-${t.id}`,i)},[t==null?void 0:t.id,i]),o.useEffect(()=>{localStorage.setItem("drawings_includeCompleted",String(r))},[r]),o.useEffect(()=>{t!=null&&t.id&&g&&localStorage.setItem(`drawings-selected-type-${t.id}`,g)},[t==null?void 0:t.id,g]),o.useEffect(()=>{if(t!=null&&t.id&&i&&g){fe.current=!0,M([]),R(0),F([]),se([]),te(""),ae(""),oe(""),me("full"),le(null);const e=`drawing-${t.id}-${i}-${g}`;Z.getItem(e).then(n=>{n&&(n.imageUrls&&Array.isArray(n.imageUrls)&&n.imageUrls.length>0?M(n.imageUrls):n.imageUrl&&M([n.imageUrl]),R(0),F(n.markers||[]),se(n.rooms||[]),te(n.naverTypeSqm||""),ae(n.naverTypePyeong||""),oe(n.naverArea||"")),setTimeout(()=>{fe.current=!1},0)}).catch(n=>{console.error("Failed to load drawing data:",n),fe.current=!1})}},[t==null?void 0:t.id,i,g]),o.useEffect(()=>{if(!fe.current)return t!=null&&t.id&&i&&g&&(K.current&&clearTimeout(K.current),K.current=setTimeout(async()=>{var n,a,c;const e=`drawing-${t.id}-${i}-${g}`;if(y.length>0){const u={type:g,projectId:i,imageUrl:y[0],imageUrls:y,markers:k,rooms:j,lastModified:new Date,naverTypeSqm:ne,naverTypePyeong:re,naverArea:ie};try{await Z.setItem(e,u,t.id),console.log("âœ… ë„ë©´ ì €ì¥ ì™„ë£Œ")}catch(f){console.error("Failed to save drawing data:",f);const N=((a=(n=f.response)==null?void 0:n.data)==null?void 0:a.error)||f.message||"ì•Œ ìˆ˜ ì—†ëŠ” ì˜¤ë¥˜",b=((c=f.response)==null?void 0:c.status)||"";alert(`ë„ë©´ ì €ì¥ ì‹¤íŒ¨: ${b?`[${b}] `:""}${N}`)}}},500)),()=>{K.current&&clearTimeout(K.current)}},[t==null?void 0:t.id,i,g,y,k,j,ne,re,ie]);const[hs,ze]=o.useState(!1),xe=async(e,n)=>{if(!e.type.startsWith("image/")){alert("ì´ë¯¸ì§€ íŒŒì¼ë§Œ ì—…ë¡œë“œ ê°€ëŠ¥í•©ë‹ˆë‹¤.");return}if(e.size>20*1024*1024){alert("íŒŒì¼ í¬ê¸°ê°€ 20MBë¥¼ ì´ˆê³¼í•©ë‹ˆë‹¤.");return}ze(!0);try{const a=await Z.uploadImage(e);console.log(`ğŸ“¸ ì´ë¯¸ì§€ ì—…ë¡œë“œ ì™„ë£Œ: ${a}`),M(n!==void 0?c=>{const u=[...c];return u[n]=a,u}:c=>{const u=[...c,a];return R(c.length),u})}catch(a){console.error("ì´ë¯¸ì§€ ì—…ë¡œë“œ ì‹¤íŒ¨:",a),alert(a.message||"ì´ë¯¸ì§€ ì—…ë¡œë“œì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.")}finally{ze(!1)}},Oe=async e=>{if(!confirm("ì´ ë„ë©´ì„ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?"))return;const n=y.filter((a,c)=>c!==e);if(M(n),L>=n.length?R(Math.max(0,n.length-1)):L>e&&R(L-1),n.length===0&&(t!=null&&t.id)&&i&&g)try{await Z.removeItem(`drawing-${t.id}-${i}-${g}`),console.log("âœ… ë„ë©´ ë°ì´í„° ì‚­ì œ ì™„ë£Œ")}catch(a){console.error("ë„ë©´ ì‚­ì œ ì‹¤íŒ¨:",a)}},Je=e=>{const n=document.createElement("input");n.type="file",n.accept="image/*",n.onchange=a=>{var u;const c=(u=a.target.files)==null?void 0:u[0];c&&xe(c,e)},n.click()},Ds=e=>{const n=e.target.files;n&&Array.from(n).forEach(a=>xe(a)),e.target.value=""},Ge=e=>{var a;if(!i)return;const n=(a=e.clipboardData)==null?void 0:a.items;if(n){for(let c=0;c<n.length;c++)if(n[c].type.startsWith("image/")){const u=n[c].getAsFile();if(u){xe(u);break}}}},Ke=e=>{e.preventDefault(),Ee(!0)},Qe=e=>{e.preventDefault(),Ee(!1)},Ze=e=>{var a;e.preventDefault(),Ee(!1);const n=(a=e.dataTransfer.files)==null?void 0:a[0];n&&xe(n)};o.useEffect(()=>(document.addEventListener("paste",Ge),()=>{document.removeEventListener("paste",Ge)}),[i]);const ys=e=>{e.preventDefault();const c=1+(e.deltaY>0?-1:1)*.15,u=Math.min(Math.max(.5,Y*c),5),f=e.currentTarget.getBoundingClientRect(),N=e.clientX-f.left-f.width/2,b=e.clientY-f.top-f.height/2,x=u/Y,h=N-(N-U.x)*x,D=b-(b-U.y)*x;ue(u),z({x:h,y:D})},ws=e=>{e.button===0&&(X(!0),Ae({x:e.clientX-U.x,y:e.clientY-U.y}))},ks=e=>{ge&&z({x:e.clientX-pe.x,y:e.clientY-pe.y})},es=()=>{X(!1)},ss=()=>{ue(1),z({x:0,y:0})},ns=e=>{if(e.length<2)return 0;const n=e[0].clientX-e[1].clientX,a=e[0].clientY-e[1].clientY;return Math.sqrt(n*n+a*a)},ts=e=>e.length<2?{x:e[0].clientX,y:e[0].clientY}:{x:(e[0].clientX+e[1].clientX)/2,y:(e[0].clientY+e[1].clientY)/2},vs=e=>{e.preventDefault(),e.stopPropagation();const n=e.touches;if(n.length===1){const a=Date.now(),c=a-Le.current;bs.current={x:n[0].clientX,y:n[0].clientY},c<300?(ss(),Le.current=0):(Le.current=a,X(!0),Ae({x:n[0].clientX-U.x,y:n[0].clientY-U.y}))}else n.length===2&&(X(!1),O.current=ns(n),Ye.current=ts(n))},Vs=e=>{e.preventDefault(),e.stopPropagation();const n=e.touches;if(n.length===1&&ge)z({x:n[0].clientX-pe.x,y:n[0].clientY-pe.y});else if(n.length===2){const a=ns(n),c=ts(n);if(O.current>0){const u=a/O.current,f=Math.min(Math.max(.5,Y*u),5),N=f/Y,b=c.x-window.innerWidth/2,x=c.y-window.innerHeight/2,h=b-(b-U.x)*N,D=x-(x-U.y)*N;ue(f),z({x:h,y:D})}O.current=a,Ye.current=c}},Cs=e=>{e.stopPropagation(),e.touches.length===0?(X(!1),O.current=0):e.touches.length===1&&(O.current=0,X(!0),Ae({x:e.touches[0].clientX-U.x,y:e.touches[0].clientY-U.y}))},rs=()=>{Fe(!1),ue(1),z({x:0,y:0}),X(!1)},js=e=>{if(!T||!G.current)return;const n=G.current.getBoundingClientRect(),a=e.clientX-n.left,c=e.clientY-n.top;let u,f;if(P==="room"&&V){if(!j.find(C=>C.id===V)||!I.current)return;const b=I.current.naturalWidth,x=I.current.naturalHeight;if(!b||!x)return;const h=b/x,D=n.width/n.height;let p,w,B,A;D>h?(w=n.height,p=n.height*h,B=(n.width-p)/2,A=0):(p=n.width,w=n.width/h,B=0,A=(n.height-w)/2);const E=a-B,Ne=c-A;if(E<0||E>p||Ne<0||Ne>w)return;u=E/p*100,f=Ne/w*100}else{if(!I.current)return;const N=I.current.naturalWidth,b=I.current.naturalHeight;if(!N||!b)return;const x=N/b,h=n.width/n.height;let D,p,w,B;h>x?(p=n.height,D=n.height*x,w=(n.width-D)/2,B=0):(D=n.width,p=n.width/x,w=0,B=(n.height-p)/2);const A=a-w,E=c-B;if(A<0||A>D||E<0||E>p)return;u=A/D*100,f=E/p*100}if(q==="room")Re(!0),Te({x:u,y:f}),Ve({x:u,y:f});else if(g==="ì „ê¸°ë„ë©´"){if(Ie)return;const N=ke.find(p=>p.id===$);let b=null,x,h;if(P==="room"&&V){const p=j.find(w=>w.id===V);p&&(b=V,x=(u-p.x)/p.width*100,h=(f-p.y)/p.height*100)}const D={id:`marker-${Date.now()}`,x:u,y:f,roomId:b,roomX:x,roomY:h,type:$,label:(N==null?void 0:N.name)||"",details:""};F([...k,D])}},Us=e=>{if(!T||!G.current||!I.current)return;const n=G.current.getBoundingClientRect(),a=e.clientX-n.left,c=e.clientY-n.top,u=I.current.naturalWidth,f=I.current.naturalHeight;if(!u||!f)return;const N=u/f,b=n.width/n.height;let x,h,D,p;b>N?(h=n.height,x=n.height*N,D=(n.width-x)/2,p=0):(x=n.width,h=n.width/N,D=0,p=(n.height-h)/2);const w=a-D,B=c-p;if(w<0||w>x||B<0||B>h)return;const A=w/x*100,E=B/h*100;if(ve&&H)Ve({x:A,y:E});else if(Ie&&ce){if(k.find(C=>C.id===ce)&&P==="room"&&V){const C=j.find(He=>He.id===V);if(C){const He=(A-C.x)/C.width*100,Hs=(E-C.y)/C.height*100;F(k.map(_e=>_e.id===ce?{..._e,x:A,y:E,roomX:He,roomY:Hs}:_e));return}}F(k.map(C=>C.id===ce?{...C,x:A,y:E}:C))}},as=()=>{if(ve&&H&&S){const e=Math.min(H.x,S.x),n=Math.min(H.y,S.y),a=Math.abs(S.x-H.x),c=Math.abs(S.y-H.y);a>2&&c>2&&(Ue({x:e,y:n,width:a,height:c}),Ce(!0)),Re(!1),Te(null),Ve(null)}$e(!1),Me(null)},is=()=>{if(Pe&&de.trim()){const e={id:`room-${Date.now()}`,name:de.trim(),...Pe};se([...j,e]),Ce(!1),je(""),Ue(null)}},As=(e,n)=>{e.stopPropagation(),$e(!0),Me(n)},Es=e=>{F(k.filter(n=>n.id!==e))},os=e=>{se(j.filter(n=>n.id!==e)),F(k.filter(n=>n.roomId!==e)),V===e&&(le(null),me("full"))},ms=e=>{le(e),me("room")},ls=()=>{me("full"),le(null)},Ls=()=>{if(P==="room"&&V){const e=j.find(n=>n.id===V);return e?k.filter(n=>n.roomId===V).map(n=>({...n,x:e.x+(n.roomX||0)*e.width/100,y:e.y+(n.roomY||0)*e.height/100})):[]}return k},_=j.find(e=>e.id===V),cs=e=>e.replace("ë„ë©´","");return s.jsxDEV("div",{className:"h-full flex flex-col",children:[s.jsxDEV("div",{className:"bg-white border-b px-3 md:px-6 py-3 flex-shrink-0",children:[s.jsxDEV("div",{className:"md:hidden",children:[s.jsxDEV("div",{className:"flex items-center justify-between mb-3",children:[s.jsxDEV("label",{className:"flex items-center gap-2 text-xs text-gray-600 cursor-pointer",children:[s.jsxDEV("input",{type:"checkbox",checked:r,onChange:e=>m(e.target.checked),className:"rounded border-gray-300 text-gray-900 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:961,columnNumber:15},void 0),"ê³µì‚¬ì™„ë£Œ í˜„ì¥ í¬í•¨"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:960,columnNumber:13},void 0),s.jsxDEV("select",{value:i,onChange:e=>v(e.target.value),className:"input max-w-[200px] text-sm",children:[(t==null?void 0:t.name)!=="ì•ˆíŒ€"&&s.jsxDEV("option",{value:"",children:"í”„ë¡œì íŠ¸ ì„ íƒ"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:974,columnNumber:39},void 0),d.map(e=>s.jsxDEV("option",{value:e.id,children:e.name},e.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:976,columnNumber:17},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:969,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:959,columnNumber:11},void 0),s.jsxDEV("div",{className:"grid grid-cols-5 gap-2 mb-3",children:we.map(e=>s.jsxDEV("button",{onClick:()=>W(e),className:`px-2 py-1.5 rounded text-xs whitespace-nowrap transition-colors ${g===e?"bg-gray-900 text-white font-medium":"text-gray-700 bg-gray-100 hover:bg-gray-200"}`,children:cs(e)},e,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:986,columnNumber:15},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:984,columnNumber:11},void 0),P==="room"&&_&&s.jsxDEV("div",{className:"flex items-center justify-between mt-3",children:[s.jsxDEV("button",{onClick:ls,className:"btn btn-outline text-sm",children:[s.jsxDEV(us,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1008,columnNumber:17},void 0),"ì „ì²´ ë³´ê¸°"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1004,columnNumber:15},void 0),s.jsxDEV("span",{className:"text-base font-semibold text-gray-900",children:_.name},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1011,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1003,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:957,columnNumber:9},void 0),s.jsxDEV("div",{className:"hidden md:flex items-center justify-between gap-4",children:[s.jsxDEV("div",{className:"flex items-center gap-3",children:[s.jsxDEV("div",{className:"flex flex-col gap-1",children:[s.jsxDEV("select",{value:i,onChange:e=>v(e.target.value),className:"w-80 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-gray-500",children:[(t==null?void 0:t.name)!=="ì•ˆíŒ€"&&s.jsxDEV("option",{value:"",children:"í”„ë¡œì íŠ¸ë¥¼ ì„ íƒí•˜ì„¸ìš”"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1025,columnNumber:41},void 0),d.map(e=>s.jsxDEV("option",{value:e.id,children:e.name},e.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1027,columnNumber:19},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1020,columnNumber:15},void 0),s.jsxDEV("label",{className:"flex items-center gap-2 text-xs text-gray-600 cursor-pointer",children:[s.jsxDEV("input",{type:"checkbox",checked:r,onChange:e=>m(e.target.checked),className:"rounded border-gray-300 text-gray-900 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1033,columnNumber:17},void 0),"ê³µì‚¬ì™„ë£Œ í˜„ì¥ í¬í•¨"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1032,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1019,columnNumber:13},void 0),g==="ë„¤ì´ë²„ë„ë©´"&&i&&s.jsxDEV(s.Fragment,{children:[s.jsxDEV("div",{className:"flex items-center gap-2",children:[s.jsxDEV("span",{className:"text-sm font-medium text-gray-600",children:"íƒ€ì…"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1047,columnNumber:19},void 0),s.jsxDEV("div",{className:"flex items-center gap-1",children:[s.jsxDEV("input",{type:"text",value:ne,onChange:e=>te(e.target.value),placeholder:"ì˜ˆ: 136E",className:"w-28 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1049,columnNumber:21},void 0),s.jsxDEV("span",{className:"text-sm font-medium text-gray-700",children:"ã¡"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1056,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1048,columnNumber:19},void 0),s.jsxDEV("span",{className:"text-gray-400",children:"/"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1058,columnNumber:19},void 0),s.jsxDEV("div",{className:"flex items-center gap-1",children:[s.jsxDEV("input",{type:"text",value:re,onChange:e=>ae(e.target.value),placeholder:"ì˜ˆ: 41E",className:"w-24 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1060,columnNumber:21},void 0),s.jsxDEV("span",{className:"text-sm font-medium text-gray-700",children:"í‰"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1067,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1059,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1046,columnNumber:17},void 0),s.jsxDEV("div",{className:"flex items-center gap-2",children:[s.jsxDEV("span",{className:"text-sm font-medium text-gray-600",children:"ê³µê¸‰/ì „ìš©"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1071,columnNumber:19},void 0),s.jsxDEV("input",{type:"text",value:ie,onChange:e=>oe(e.target.value),placeholder:"ì˜ˆ: 136.21ã¡/101.97ã¡(ì „ìš©ë¥  75%)",className:"w-80 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1072,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1070,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1045,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1018,columnNumber:11},void 0),P==="room"&&_&&s.jsxDEV("div",{className:"flex items-center gap-3",children:[s.jsxDEV("button",{onClick:ls,className:"btn btn-outline text-sm",children:[s.jsxDEV(us,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1090,columnNumber:17},void 0),"ì „ì²´ ë³´ê¸°"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1086,columnNumber:15},void 0),s.jsxDEV("span",{className:"text-lg font-semibold text-gray-900",children:_.name},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1093,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1085,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1017,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:955,columnNumber:7},void 0),s.jsxDEV("div",{className:"drawings-main flex-1 flex flex-col md:flex-row overflow-hidden",children:[s.jsxDEV("div",{className:"drawings-sidebar hidden md:block w-48 bg-white border-r flex-shrink-0 overflow-y-auto",children:s.jsxDEV("div",{className:"drawings-sidebar-inner p-4",children:[s.jsxDEV("h3",{className:"drawings-sidebar-title text-xs font-semibold text-gray-500 uppercase tracking-wider mb-3",children:"ë„ë©´ ì¢…ë¥˜"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1103,columnNumber:13},void 0),s.jsxDEV("div",{className:"drawings-type-list space-y-1 mb-6",children:we.map(e=>s.jsxDEV("button",{onClick:()=>W(e),className:`drawings-type-btn w-full text-left px-3 py-2.5 rounded text-sm transition-colors ${g===e?"bg-gray-900 text-white font-medium":"text-gray-700 hover:bg-gray-100"}`,children:cs(e)},e,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1106,columnNumber:17},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1104,columnNumber:13},void 0),i&&g==="ì „ê¸°ë„ë©´"&&T&&s.jsxDEV(s.Fragment,{children:[s.jsxDEV("div",{className:"mb-6",children:s.jsxDEV("button",{onClick:()=>fs(q==="room"?"marker":"room"),className:`w-full text-left px-3 py-2.5 rounded text-sm transition-colors flex items-center font-medium ${q==="room"?"bg-green-700 text-white":"bg-green-600 text-white hover:bg-green-700"}`,children:[s.jsxDEV(Ys,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1131,columnNumber:21},void 0),q==="room"?"ì˜ì—­ ê·¸ë¦¬ê¸° ì¤‘...":"ì˜ì—­ ê·¸ë¦¬ê¸°"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1123,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1122,columnNumber:17},void 0),j.length>0&&s.jsxDEV(s.Fragment,{children:[s.jsxDEV("h3",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-3",children:"ì˜ì—­ ëª©ë¡"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1138,columnNumber:21},void 0),s.jsxDEV("div",{className:"space-y-1",children:j.map(e=>s.jsxDEV("div",{className:`w-full text-left px-3 py-2.5 rounded text-sm transition-colors flex items-center justify-between group ${V===e.id?"bg-purple-600 text-white font-medium":"text-gray-700 hover:bg-gray-100"}`,children:[s.jsxDEV("button",{onClick:()=>ms(e.id),className:"flex-1 text-left",children:e.name},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1149,columnNumber:27},void 0),s.jsxDEV("button",{onClick:n=>{n.stopPropagation(),os(e.id)},className:"opacity-0 group-hover:opacity-100 ml-2",children:s.jsxDEV(Q,{className:"w-3.5 h-3.5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1162,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1155,columnNumber:27},void 0)]},e.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1141,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1139,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1137,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1121,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1102,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1101,columnNumber:9},void 0),i?s.jsxDEV(s.Fragment,{children:s.jsxDEV("div",{className:"flex-1 bg-gray-50 flex flex-col overflow-hidden",children:s.jsxDEV("div",{className:"flex-1 flex flex-col overflow-hidden",children:[g==="ë„¤ì´ë²„ë„ë©´"&&i&&s.jsxDEV("div",{className:"md:hidden bg-white border-b px-3 py-1",children:s.jsxDEV("div",{className:"flex items-center gap-1.5 overflow-x-auto",children:[s.jsxDEV("div",{className:"flex items-center gap-0.5 flex-shrink-0",children:[s.jsxDEV("span",{className:"text-[11px] text-gray-500",children:"íƒ€ì…"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1186,columnNumber:23},void 0),s.jsxDEV("input",{type:"text",value:ne,onChange:e=>te(e.target.value),placeholder:"136E",className:"input w-12 h-5 text-[12px] px-1"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1187,columnNumber:23},void 0),s.jsxDEV("span",{className:"text-[11px] text-gray-500",children:"ã¡"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1194,columnNumber:23},void 0),s.jsxDEV("span",{className:"text-gray-300 text-xs",children:"/"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1195,columnNumber:23},void 0),s.jsxDEV("input",{type:"text",value:re,onChange:e=>ae(e.target.value),placeholder:"41E",className:"input w-10 h-5 text-[12px] px-1"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1196,columnNumber:23},void 0),s.jsxDEV("span",{className:"text-[11px] text-gray-500",children:"í‰"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1203,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1185,columnNumber:21},void 0),s.jsxDEV("div",{className:"w-px h-3 bg-gray-200 flex-shrink-0"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1206,columnNumber:21},void 0),s.jsxDEV("div",{className:"flex items-center gap-0.5 flex-1 min-w-0",children:[s.jsxDEV("span",{className:"text-[11px] text-gray-500 flex-shrink-0",children:"ê³µê¸‰/ì „ìš©"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1209,columnNumber:23},void 0),s.jsxDEV("input",{type:"text",value:ie,onChange:e=>oe(e.target.value),placeholder:"136.21ã¡/101.97ã¡",className:"input h-5 text-[12px] px-1 flex-1 min-w-[100px]"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1210,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1208,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1183,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1182,columnNumber:17},void 0),s.jsxDEV("div",{className:"overflow-hidden p-3 md:p-6 flex-1 md:flex-none",children:T?s.jsxDEV("div",{className:`relative w-full h-full md:h-auto md:max-h-[calc(100vh-280px)] bg-white rounded-lg shadow-lg overflow-hidden md:aspect-[16/10] group/canvas ${J?"ring-4 ring-blue-500 ring-inset":""}`,onDragOver:Ke,onDragLeave:Qe,onDrop:Ze,children:[J&&s.jsxDEV("div",{className:"absolute inset-0 bg-blue-500 bg-opacity-20 z-30 flex items-center justify-center pointer-events-none",children:s.jsxDEV("div",{className:"bg-white px-6 py-3 rounded-lg shadow-lg text-blue-600 font-medium",children:"ì´ë¯¸ì§€ë¥¼ ë†“ì•„ì„œ ì¶”ê°€"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1236,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1235,columnNumber:23},void 0),s.jsxDEV("div",{className:"absolute top-3 right-3 flex gap-2 z-20 opacity-0 group-hover/canvas:opacity-100 transition-opacity",children:[s.jsxDEV("button",{onClick:e=>{e.stopPropagation(),Je(L)},className:"w-9 h-9 bg-white rounded-full shadow-lg flex items-center justify-center text-gray-600 hover:text-gray-900 hover:bg-gray-50 transition-all border border-gray-200",title:"ì´ë¯¸ì§€ ìˆ˜ì •",children:s.jsxDEV(gs,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1251,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1243,columnNumber:23},void 0),s.jsxDEV("button",{onClick:e=>{e.stopPropagation(),Oe(L)},className:"w-9 h-9 bg-white rounded-full shadow-lg flex items-center justify-center text-red-500 hover:text-red-600 hover:bg-red-50 transition-all border border-gray-200",title:"ì´ë¯¸ì§€ ì‚­ì œ",children:s.jsxDEV(Q,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1261,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1253,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1242,columnNumber:21},void 0),s.jsxDEV("div",{ref:G,className:`relative w-full h-full ${q==="room"?"cursor-crosshair":"cursor-default"}`,onMouseDown:js,onMouseMove:Us,onMouseUp:as,onMouseLeave:as,children:[s.jsxDEV("img",{ref:I,src:T,alt:"í‰ë©´ë„",className:"w-full h-full object-contain select-none",draggable:!1,onClick:()=>Fe(!0),style:P==="room"&&_?(()=>{const e=100/_.width,n=100/_.height,a=Math.max(e,n),c=_.x+_.width/2,u=_.y+_.height/2;return{objectFit:"none",transform:`scale(${a}) translate(${(50-c)/a}%, ${(50-u)/a}%)`,transformOrigin:"0 0",pointerEvents:"auto",cursor:"pointer"}})():{pointerEvents:"auto",cursor:"pointer"}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1274,columnNumber:23},void 0),P==="full"&&j.map(e=>s.jsxDEV("div",{className:"absolute border-2 border-purple-500 bg-purple-500 bg-opacity-10 hover:bg-opacity-20 transition-all cursor-pointer group",style:{left:`${e.x}%`,top:`${e.y}%`,width:`${e.width}%`,height:`${e.height}%`},onClick:()=>ms(e.id),children:[s.jsxDEV("div",{className:"absolute top-1 left-1 bg-purple-600 text-white px-2 py-0.5 rounded text-xs font-medium",children:e.name},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1321,columnNumber:25},void 0),s.jsxDEV("button",{onClick:n=>{n.stopPropagation(),os(e.id)},className:"absolute top-1 right-1 w-5 h-5 bg-red-500 text-white rounded opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:s.jsxDEV(Q,{className:"w-3 h-3"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1331,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1324,columnNumber:25},void 0)]},e.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1310,columnNumber:23},void 0)),ve&&H&&S&&s.jsxDEV("div",{className:"absolute border-2 border-dashed border-green-500 bg-green-500 bg-opacity-10",style:{left:`${Math.min(H.x,S.x)}%`,top:`${Math.min(H.y,S.y)}%`,width:`${Math.abs(S.x-H.x)}%`,height:`${Math.abs(S.y-H.y)}%`}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1338,columnNumber:23},void 0),Ls().map(e=>{const n=ke.find(a=>a.id===e.type);return s.jsxDEV("div",{onMouseDown:a=>As(a,e.id),className:"absolute transform -translate-x-1/2 -translate-y-1/2 cursor-move group",style:{left:`${e.x}%`,top:`${e.y}%`},children:[(n==null?void 0:n.category)==="light"?s.jsxDEV("div",{className:"rounded-full shadow-md transition-transform group-hover:scale-110",style:{backgroundColor:n.color,width:"16px",height:"16px"}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1363,columnNumber:29},void 0):s.jsxDEV("div",{className:"flex items-center justify-center bg-white rounded shadow-md transition-transform group-hover:scale-110",style:{borderColor:n==null?void 0:n.color,color:n==null?void 0:n.color,border:"1.5px solid",padding:"2px 4px",fontSize:"10px",fontWeight:"600",minWidth:"20px",minHeight:"20px"},children:n==null?void 0:n.symbol},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1372,columnNumber:29},void 0),s.jsxDEV("button",{onClick:a=>{a.stopPropagation(),Es(e.id)},className:"absolute -top-1 -right-1 w-4 h-4 bg-red-500 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:s.jsxDEV(Q,{className:"w-2.5 h-2.5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1395,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1388,columnNumber:27},void 0)]},e.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1353,columnNumber:25},void 0)})]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1264,columnNumber:21},void 0),y.length>1&&s.jsxDEV("div",{className:"absolute bottom-0 left-0 right-0 bg-black bg-opacity-60 px-3 py-2 z-20",children:s.jsxDEV("div",{className:"flex items-center gap-2 overflow-x-auto",children:y.map((e,n)=>s.jsxDEV("div",{className:`relative flex-shrink-0 cursor-pointer group rounded overflow-hidden transition-all ${L===n?"ring-2 ring-white":"opacity-70 hover:opacity-100"}`,onClick:()=>R(n),children:[s.jsxDEV("img",{src:e,alt:`ë„ë©´ ${n+1}`,className:"w-12 h-12 md:w-14 md:h-14 object-cover"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1417,columnNumber:31},void 0),s.jsxDEV("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all flex items-center justify-center gap-1 opacity-0 group-hover:opacity-100",children:[s.jsxDEV("button",{onClick:a=>{a.stopPropagation(),Je(n)},className:"w-6 h-6 bg-white rounded-full flex items-center justify-center shadow-md hover:bg-gray-100 transition-colors",title:"ìˆ˜ì •",children:s.jsxDEV(gs,{className:"w-3 h-3 text-gray-700"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1432,columnNumber:35},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1424,columnNumber:33},void 0),s.jsxDEV("button",{onClick:a=>{a.stopPropagation(),Oe(n)},className:"w-6 h-6 bg-white rounded-full flex items-center justify-center shadow-md hover:bg-red-50 transition-colors",title:"ì‚­ì œ",children:s.jsxDEV(Q,{className:"w-3 h-3 text-red-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1442,columnNumber:35},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1434,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1423,columnNumber:31},void 0),L===n&&s.jsxDEV("div",{className:"absolute bottom-0 left-0 right-0 bg-white text-gray-900 text-[9px] text-center py-0.5 font-bold",children:[n+1,"/",y.length]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1447,columnNumber:33},void 0)]},n,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1408,columnNumber:29},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1406,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1405,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1225,columnNumber:19},void 0):s.jsxDEV("div",{className:`flex flex-col items-center justify-center h-full bg-white rounded-lg shadow-lg text-gray-500 transition-all ${J?"border-4 border-dashed border-blue-500 bg-blue-50":""}`,onDragOver:Ke,onDragLeave:Qe,onDrop:Ze,children:[hs?s.jsxDEV(s.Fragment,{children:[s.jsxDEV("div",{className:"w-20 h-20 mb-4 flex items-center justify-center",children:s.jsxDEV("div",{className:"w-12 h-12 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1469,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1468,columnNumber:25},void 0),s.jsxDEV("p",{className:"text-base mb-2 font-semibold text-blue-600",children:"ì´ë¯¸ì§€ ì—…ë¡œë“œ ì¤‘..."},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1471,columnNumber:25},void 0),s.jsxDEV("p",{className:"text-sm text-gray-400",children:"ì ì‹œë§Œ ê¸°ë‹¤ë ¤ì£¼ì„¸ìš”"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1474,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1467,columnNumber:23},void 0):s.jsxDEV(s.Fragment,{children:[s.jsxDEV(ps,{className:`w-20 h-20 mb-4 transition-colors ${J?"text-blue-500":"text-gray-400"}`},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1480,columnNumber:25},void 0),s.jsxDEV("p",{className:"text-base mb-2 font-semibold",children:J?"ì´ë¯¸ì§€ë¥¼ ì—¬ê¸°ì— ë†“ìœ¼ì„¸ìš”":"ë„ë©´ ì´ë¯¸ì§€ë¥¼ ì—…ë¡œë“œí•˜ì„¸ìš”"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1483,columnNumber:25},void 0),s.jsxDEV("p",{className:"text-sm mb-4 text-gray-400",children:"íŒŒì¼ ì„ íƒ, ë“œë˜ê·¸ ì•¤ ë“œë¡­, ë˜ëŠ” Ctrl+Vë¡œ ë¶™ì—¬ë„£ê¸°"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1486,columnNumber:25},void 0),s.jsxDEV("button",{onClick:()=>{var e;return(e=Xe.current)==null?void 0:e.click()},className:"px-6 py-2.5 bg-gray-900 text-white rounded-lg text-sm font-medium hover:bg-gray-800 transition-colors",children:"íŒŒì¼ ì„ íƒ"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1489,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1479,columnNumber:23},void 0),s.jsxDEV("input",{ref:Xe,type:"file",accept:"image/*",multiple:!0,onChange:Ds,className:"hidden"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1497,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1458,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1223,columnNumber:15},void 0),g==="ì „ê¸°ë„ë©´"&&T&&q==="marker"&&s.jsxDEV("div",{className:"bg-white border-t px-6 py-3 flex-shrink-0",children:s.jsxDEV("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsxDEV("span",{className:"text-xs font-medium text-gray-700 mr-2",children:"C: ì½˜ì„¼íŠ¸ / S: ìŠ¤ìœ„ì¹˜ / â—: ì¡°ëª…"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1513,columnNumber:21},void 0),s.jsxDEV("div",{className:"w-px h-4 bg-gray-300 mx-1"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1514,columnNumber:21},void 0),ke.map(e=>s.jsxDEV("button",{onClick:()=>ee(e.id),className:`px-3 py-1.5 rounded text-xs font-medium transition-all ${$===e.id?"bg-gray-900 text-white shadow-md":"bg-white text-gray-700 border border-gray-300 hover:border-gray-900"}`,style:{borderColor:$===e.id?void 0:e.color,borderWidth:$===e.id?void 0:"1.5px"},children:s.jsxDEV("span",{className:"text-sm font-semibold",style:{color:$===e.id?"white":e.color},children:e.symbol},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1529,columnNumber:25},void 0)},e.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1516,columnNumber:23},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1512,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1511,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1179,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1178,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1175,columnNumber:11},void 0):s.jsxDEV("div",{className:"drawings-empty flex-1 flex items-center justify-center bg-gray-50",children:s.jsxDEV("div",{className:"text-center",children:[s.jsxDEV(ps,{className:"w-20 h-20 mx-auto mb-4 text-gray-400"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1544,columnNumber:15},void 0),s.jsxDEV("p",{className:"text-lg text-gray-600 mb-2",children:"í”„ë¡œì íŠ¸ë¥¼ ì„ íƒí•˜ì—¬ ì‹œì‘í•˜ì„¸ìš”"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1545,columnNumber:15},void 0),s.jsxDEV("p",{className:"text-sm text-gray-500",children:"ë„ë©´ì„ ì—…ë¡œë“œí•˜ê³  ì „ê¸°/ì„¤ë¹„ ìœ„ì¹˜ë¥¼ í‘œì‹œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1546,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1543,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1542,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1099,columnNumber:7},void 0),xs&&s.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxDEV("div",{className:"bg-white rounded-lg p-6 w-96",children:[s.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"ì˜ì—­ ì´ë¦„ ì…ë ¥"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1556,columnNumber:13},void 0),s.jsxDEV("input",{type:"text",value:de,onChange:e=>je(e.target.value),onKeyDown:e=>{e.key==="Enter"&&is()},placeholder:"ì˜ˆ: ê±°ì‹¤, ì¹¨ì‹¤1, ì£¼ë°©",className:"input w-full mb-4",autoFocus:!0},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1557,columnNumber:13},void 0),s.jsxDEV("div",{className:"flex justify-end gap-2",children:[s.jsxDEV("button",{onClick:()=>{Ce(!1),je(""),Ue(null)},className:"btn btn-outline",children:"ì·¨ì†Œ"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1571,columnNumber:15},void 0),s.jsxDEV("button",{onClick:is,className:"btn btn-primary",disabled:!de.trim(),children:"ì €ì¥"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1581,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1570,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1555,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1554,columnNumber:9},void 0),Ns&&T&&s.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50 touch-none",onClick:rs,onWheel:ys,onMouseMove:ks,onMouseUp:es,onMouseLeave:es,onTouchStart:vs,onTouchMove:Vs,onTouchEnd:Cs,children:s.jsxDEV("div",{className:"relative w-full h-full p-4 md:p-8 flex items-center justify-center overflow-hidden",children:[s.jsxDEV("button",{onClick:rs,className:"absolute top-4 right-4 w-10 h-10 bg-white bg-opacity-20 hover:bg-opacity-30 rounded-full flex items-center justify-center text-white transition-all z-10",children:s.jsxDEV(Xs,{className:"w-6 h-6"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1611,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1607,columnNumber:13},void 0),s.jsxDEV("div",{className:"absolute top-4 left-4 bg-black bg-opacity-50 text-white text-xs px-3 py-2 rounded z-10",children:[s.jsxDEV("span",{className:"hidden md:inline",children:"ë§ˆìš°ìŠ¤ íœ : í™•ëŒ€/ì¶•ì†Œ | ë“œë˜ê·¸: ì´ë™ | ë”ë¸”í´ë¦­: ì´ˆê¸°í™”"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1616,columnNumber:15},void 0),s.jsxDEV("span",{className:"md:hidden",children:"ë‘ ì†ê°€ë½: í™•ëŒ€/ì¶•ì†Œ | ë“œë˜ê·¸: ì´ë™ | ë”ë¸”íƒ­: ì´ˆê¸°í™”"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1617,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1615,columnNumber:13},void 0),Y!==1&&s.jsxDEV("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 bg-black bg-opacity-50 text-white text-sm px-3 py-1 rounded z-10",children:[Math.round(Y*100),"%"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1622,columnNumber:15},void 0),s.jsxDEV("img",{src:T,alt:"ë„ë©´ ì „ì²´í™”ë©´",className:"object-contain select-none touch-none",style:{transform:`translate(${U.x}px, ${U.y}px) scale(${Y})`,cursor:ge?"grabbing":"grab",transition:ge?"none":"transform 0.1s ease-out",maxWidth:"100%",maxHeight:"100%"},onClick:e=>e.stopPropagation(),onMouseDown:ws,onDoubleClick:ss,draggable:!1},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1627,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1606,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1595,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:953,columnNumber:5},void 0)};export{Zs as default};
